var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}

"use strict";function _templateObject618(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;box-sizing:border-box;display:flex;flex-flow:column}#header{border-bottom-width:1px;border-bottom-style:solid;-webkit-app-region:drag}#menubar{border:none;width:auto}#menubar[data-expaneded]{z-index:9999}#menubar[data-expaneded] *{z-index:99999}#menubar x-menuitem{-webkit-app-region:no-drag!important}#menubar x-shortcut[hidden]{display:none}#titlebar-buttons{margin-left:auto;-webkit-app-region:no-drag!important}#tabs{width:auto;height:30px;padding-top:5px;outline:0}#tabs[disabled]{opacity:.5;pointer-events:none}#tabs x-doctab:focus{box-shadow:none}#main{flex:1;width:100%;position:relative}#main>*{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}#main>:not(:defined),#main>[hidden]{contain:strict;visibility:visible;opacity:0;z-index:-100;touch-action:none}#sign-in-dialog::backdrop{pointer-events:none}#trial-dialog::backdrop{pointer-events:none}"]);_templateObject618=function _templateObject618(){return data;};return data;}function _templateObject617(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-box><x-menubar id=\"menubar\"></x-menubar><x-buttons id=\"titlebar-buttons\" tracking=\"-1\"><x-button id=\"minimize-button\" skin=\"titlebar\"><x-icon name=\"minimize-window\"></x-icon></x-button><x-button id=\"maximize-button\" skin=\"titlebar\"><x-icon name=\"maximize-window\"></x-icon></x-button><x-button id=\"close-button\" skin=\"titlebar\"><x-icon name=\"close-window\"></x-icon></x-button></x-buttons></x-box><x-doctabs id=\"tabs\"></x-doctabs></header><div id=\"main\"></div><div id=\"dialogs\"><dialog id=\"install-dialog\"><bx-chromeinstallform></bx-chromeinstallform></dialog><dialog id=\"sign-in-dialog\"><bx-chromesigninform></bx-chromesigninform></dialog><dialog id=\"trial-dialog\"><bx-chrometrialform></bx-chrometrialform></dialog></div><x-notification id=\"notification\" timeout=\"800\"></x-notification><x-contextmenu id=\"context-menu\" disabled=\"disabled\"></x-contextmenu></template>"]);_templateObject617=function _templateObject617(){return data;};return data;}function _templateObject616(){var data=_taggedTemplateLiteral([":host{width:480px}"]);_templateObject616=function _templateObject616(){return data;};return data;}function _templateObject615(){var data=_taggedTemplateLiteral(["<template><h2 id=\"message\"></h2><div id=\"detail\"></div></template>"]);_templateObject615=function _templateObject615(){return data;};return data;}function _templateObject614(){var data=_taggedTemplateLiteral([":host{width:370px}"]);_templateObject614=function _templateObject614(){return data;};return data;}function _templateObject613(){var data=_taggedTemplateLiteral(["<template><x-button id=\"close-button\" toggled><x-label>Close</x-label></x-button></template>"]);_templateObject613=function _templateObject613(){return data;};return data;}function _templateObject612(){var data=_taggedTemplateLiteral(["<template><h2>Trial period ended</h2><p>To purchase the app please visit <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject612=function _templateObject612(){return data;};return data;}function _templateObject611(){var data=_taggedTemplateLiteral([":host{width:400px}#progressbar{margin:14px 0 10px 0}"]);_templateObject611=function _templateObject611(){return data;};return data;}function _templateObject610(){var data=_taggedTemplateLiteral(["<template><h3>Validating license</h3><x-progressbar id=\"progressbar\"></x-progressbar><p>Please sign in to Chrome to continue.</p></template>"]);_templateObject610=function _templateObject610(){return data;};return data;}function _templateObject609(){var data=_taggedTemplateLiteral([":host{width:440px}#ok-button{width:100%;height:39px}#ok-button:hover{filter:brightness(.9)}"]);_templateObject609=function _templateObject609(){return data;};return data;}function _templateObject608(){var data=_taggedTemplateLiteral(["<template><x-button id=\"ok-button\" toggled><x-label>OK</x-label></x-button></template>"]);_templateObject608=function _templateObject608(){return data;};return data;}function _templateObject607(){var data=_taggedTemplateLiteral(["<template><h2>Warning</h2><p>Chrome Web Store version of Boxy SVG is optimized for <strong>Chrome OS</strong> and it will stop working on other operating systems soon.</p><p>To continue using the app on <strong>Windows</strong>, <strong>macOS</strong> or <strong>Linux</strong>, please follow the download links provided on <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject607=function _templateObject607(){return data;};return data;}function _templateObject606(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:relative;width:100%}:host(:focus){outline:0}:host([hidden]){display:none}#form-view{display:flex;flex-flow:column;width:100%;height:100%}:host([throbber]) #form-view{display:block;visibility:hidden}#header{border-bottom:1px solid transparent}#header:empty{display:none}#main{flex:1;box-sizing:border-box;width:100%;padding:20px;position:relative;overflow:auto}h2{margin:0 0 12px 0}h3:first-child{margin-top:0}p{font-size:13px}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:10px 20px;border-top:1px solid transparent}#footer:empty{display:none}#footer x-button+x-button{margin-left:8px}#footer x-button:first-child{margin-left:auto}#throbber-view{display:none;flex-flow:column;position:absolute;top:0;left:0;width:100%;height:100%;padding:0 20px;align-items:center;justify-content:center;box-sizing:border-box}:host([throbber]) #throbber-view{display:flex}"]);_templateObject606=function _templateObject606(){return data;};return data;}function _templateObject605(){var data=_taggedTemplateLiteral(["<template><div id=\"form-view\"><header id=\"header\" part=\"header\"></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></div><div id=\"throbber-view\"><x-throbber id=\"throbber\"></x-throbber></div></template>"]);_templateObject605=function _templateObject605(){return data;};return data;}function _templateObject604(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;contain:strict}:host(:focus){outline:0}*{margin:0;padding:0;box-sizing:border-box}#container{width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;position:relative;position:relative;overflow:hidden;text-align:center;font-size:10px;user-select:none}#container a{color:var(--text-color);text-decoration:none}#container a:hover{cursor:pointer;text-decoration:underline}#logo{margin:14px 0 2px}#app-name{font-size:16px;font-weight:700;margin-bottom:2px;cursor:text;width:100%;user-select:text}#version{font-size:12px;margin:0 0 12px 0;cursor:text;width:100%;user-select:text}#main{width:300px;height:135px;overflow:auto;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;font-size:12px;padding-left:7px;padding-bottom:8px;flex:1;cursor:text;user-select:text}:host-context(bx-chromeapp) #main{border-left-width:1px;border-left-style:solid;border-right-width:1px;border-right-style:solid}#main h3{font-weight:700;margin:20px 0 6px 0;font-size:12px;text-transform:uppercase;opacity:.8}#main h3:first-child{margin-top:15px}#main li,#main ul{margin:0;padding:0}#main dt,#main dt a{font-weight:600}#main dd{margin-bottom:9px}#main #frameworks li:not(:last-child),#main #libraries li:not(:last-child){margin-bottom:3px}#copyright{width:100%;margin:10px 0 11px 0;font-size:11px;cursor:text;user-select:text}"]);_templateObject604=function _templateObject604(){return data;};return data;}function _templateObject603(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header part=\"header\"><img id=\"logo\" src=\"/images/logos/logo-full.svg\" width=\"80px\" height=\"80px\"><h1 id=\"app-name\">Boxy SVG</h1><h2 id=\"version\">Version 0.0.0</h2></header><main id=\"main\" part=\"main\"></main><footer part=\"footer\"><h2 id=\"copyright\">\xA9 2012-"," <a href=\"http://foksa.name/\">Jaros\u0142aw Foksa</a></h2></footer></div></template>"]);_templateObject603=function _templateObject603(){return data;};return data;}function _templateObject602(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#container{width:100%;height:100%}#titlebar{position:absolute;top:0;left:0;width:100%;height:28px;display:none}:host-context(bx-macapp) #titlebar{display:block;-webkit-app-region:drag}#sidebar{display:flex;flex-flow:column;height:100%;border-right:1px solid transparent;padding-top:10px;box-sizing:border-box}:host-context(bx-macapp) #sidebar{padding-top:28px}#sidebar-separator-2{margin:auto 0 0 0}#sidebar-buttons x-button x-icon{margin:0}#sidebar-buttons x-button x-label{margin-left:12px}@media all and (max-width:770px){#sidebar-buttons x-button x-label{display:none}}#sidebar #logout-button{margin:10px;width:calc(100% - 20px)}@media all and (max-width:770px){#sidebar #logout-button x-icon{margin:0}#sidebar #logout-button x-label{display:none}}#main{width:100%;height:100%;padding:30px 30px;box-sizing:border-box;overflow:auto}"]);_templateObject602=function _templateObject602(){return data;};return data;}function _templateObject601(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\"><sidebar id=\"sidebar\" part=\"sidebar\"><x-buttons id=\"sidebar-buttons\" tracking=\"1\" vertical><x-button skin=\"nav\" value=\"general\" toggled><x-icon name=\"prefs-general\"></x-icon><x-label>General</x-label></x-button><x-button skin=\"nav\" value=\"ui\"><x-icon name=\"prefs-ui\"></x-icon><x-label>UI</x-label></x-button><x-button skin=\"nav\" value=\"markup\"><x-icon name=\"prefs-markup\"></x-icon><x-label>Markup</x-label></x-button><x-button skin=\"nav\" value=\"garbage-collector\"><x-icon name=\"prefs-garbage-collector\"></x-icon><x-label>Garbage Collector</x-label></x-button><x-button skin=\"nav\" value=\"keyboard\"><x-icon name=\"prefs-keyboard\"></x-icon><x-label>Keyboard</x-label></x-button><hr id=\"sidebar-separator-1\"><x-button skin=\"nav\" value=\"profile\" id=\"profile-button\"><x-icon name=\"prefs-profile\"></x-icon><x-label>Public profile</x-label></x-button><x-button skin=\"nav\" value=\"auth\" id=\"auth-button\"><x-icon name=\"prefs-auth\"></x-icon><x-label>Authentication</x-label></x-button><x-button skin=\"nav\" value=\"subscription\" id=\"subscription-button\"><x-icon name=\"prefs-subscription\"></x-icon><x-label>Subscription</x-label></x-button><x-button skin=\"nav\" value=\"delete-account\" id=\"delete-account-button\"><x-icon name=\"prefs-delete-account\"></x-icon><x-label>Delete account</x-label></x-button></x-buttons><hr id=\"sidebar-separator-2\"><x-button id=\"logout-button\" title=\"Log out\" condensed><x-icon name=\"logout\"></x-icon><x-label>Log out</x-label></x-button></sidebar><main id=\"main\"><bx-generalsettings id=\"general-settings\" data-name=\"general\"></bx-generalsettings><bx-uisettings id=\"ui-settings\" data-name=\"ui\"></bx-uisettings><bx-markupsettings id=\"markup-settings\" data-name=\"markup\"></bx-markupsettings><bx-garbagecollectorsettings id=\"garbage-collector-settings\" data-name=\"garbage-collector\"></bx-garbagecollectorsettings><bx-keyboardsettings id=\"keyboard-settings\" data-name=\"keyboard\"></bx-keyboardsettings><bx-profilesettings id=\"profile-settings\" data-name=\"profile\"></bx-profilesettings><bx-authsettings id=\"auth-settings\" data-name=\"auth\"></bx-authsettings><bx-subscriptionsettings id=\"subscription-settings\" data-name=\"subscription\"></bx-subscriptionsettings><bx-deleteaccountsettings id=\"delete-account-settings\" data-name=\"delete-account\"></bx-deleteaccountsettings></main></x-box><div id=\"titlebar\"></div></template>"]);_templateObject601=function _templateObject601(){return data;};return data;}function _templateObject600(){var data=_taggedTemplateLiteral(["#default-view{width:100%;height:100%}#password-input{flex:1;max-width:none;margin-right:8px}#progress-view{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:30px}#progress-view[hidden]{display:none}#progress-label{margin-top:14px}"]);_templateObject600=function _templateObject600(){return data;};return data;}function _templateObject599(){var data=_taggedTemplateLiteral(["<template><h2>Delete account</h2><div id=\"default-view\"><section id=\"delete-account-section\"><h3>Warning</h3><p>Once you delete your account, <strong>there is no going back</strong>. All your files will be removed from boxy-svg.com servers. Your paid subscription will be canceled if you have one.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">Enter your password</x-label></x-input><x-button id=\"delete-account-button\" disabled=\"disabled\"><x-label>Delete account</x-label></x-button></x-box></section></div><div id=\"progress-view\" hidden><x-progressbar id=\"progress-bar\"></x-progressbar><x-label id=\"progress-label\">Connecting to server...</x-label></div></template>"]);_templateObject599=function _templateObject599(){return data;};return data;}function _templateObject598(){var data=_taggedTemplateLiteral(["#info-section>p{line-height:1.4;margin:3px}#plan-section{margin:18px 0 26px 0}#plan-select-block{margin-top:10px}#subscription-buttons{margin-top:10px}#subscription-buttons>x-button{flex:1;min-width:fit-content;margin-left:10px}#subscription-buttons>x-button:first-child{margin-left:0}#progress-bar{margin-top:30px}"]);_templateObject598=function _templateObject598(){return data;};return data;}function _templateObject597(){var data=_taggedTemplateLiteral(["<template><h2>Subscription</h2><main id=\"main\"><section id=\"info-section\"><p><strong>Current plan:</strong> <span id=\"subscription-plan-span\">Fetching\u2026</span></p><p><strong>Status:</strong> <span id=\"subscription-status-span\">Fetching\u2026</span></p></section><section id=\"plan-section\"><bx-planselectblock id=\"plan-select-block\"></bx-planselectblock></section><section id=\"buttons-section\"><x-box id=\"subscription-buttons\"><x-button id=\"billing-button\" condensed disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label>Update billing\u2026</x-label></x-button><x-button id=\"cancel-button\" condensed disabled=\"disabled\"><x-icon name=\"cancel\"></x-icon><x-label>Cancel subscription\u2026</x-label></x-button><x-button id=\"subscribe-button\" condensed toggled disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label id=\"subscribe-button-label\">Subscribe</x-label></x-button></x-box></section></main><x-progressbar id=\"progress-bar\" hidden></x-progressbar></template>"]);_templateObject597=function _templateObject597(){return data;};return data;}function _templateObject596(){var data=_taggedTemplateLiteral([":host{display:block}:host([disabled]){opacity:.5;pointer-events:none;user-select:none}table{width:100%;border-collapse:collapse;font-size:13px;overflow:visible}table tr{height:35px;border-radius:inherit}table[data-size=large] tr{height:38px}table td{padding:0 10px;box-sizing:border-box}table p:first-child{margin-top:0}table p:last-child{margin-bottom:0}thead{border-radius:inherit}thead td:nth-child(2){padding:0}thead td:nth-child(3){padding:0;border-top-right-radius:inherit}thead td x-radio{margin:0 auto}thead td x-radio x-label{font-weight:700;font-size:15px}tbody x-icon[part=no-icon],tbody x-icon[part=yes-icon]{margin:0 auto}tbody #cloud-button{width:100%;height:100%}tbody #cloud-button[disabled]{opacity:1}tbody #cloud-button::part(arrow){display:none}tbody #cloud-button x-icon{width:17px;height:17px}tbody #cloud-button[computedsize=large] x-icon{width:21px;height:21px}tbody #cloud-button x-popover{width:300px;user-select:none}tbody #cloud-button x-popover p{margin:0}tfoot td:nth-child(2){padding:0}tfoot .help-button{margin-left:auto}tfoot .help-button::part(arrow){display:none}tfoot x-popover p:not(:first-child){margin-top:8px}tfoot x-popover ul{margin:8px 0 0 5px;padding:0;list-style:none}tfoot x-popover li{position:relative;margin:0;padding-left:13px}tfoot x-popover li:before{position:absolute;left:0;content:\"\u2022\";font-weight:700}#quantity-td{position:relative}#quantity-help-button x-popover{width:345px}#quantity-input{position:absolute;top:0;left:0;width:100%;height:100%;max-width:none;padding-left:4px;background:0 0;border:none}#quantity-input[disabled]{background:0 0;opacity:1}#quantity-input[disabled] x-stepper{visibility:hidden}#discount-td{padding:0 10px}#discount-help-button x-popover{width:280px}#billing-td{position:relative}#billing-select{position:absolute;top:0;left:0;width:100%;height:100%;background:0 0;border:none;text-align:start}#billing-select[disabled]{opacity:1}#billing-select[disabled]::before{display:none}#billing-select[disabled]::part(arrow){display:none}#price-td{font-weight:700;padding:0 10px}#price-help-button x-popover{width:305px}"]);_templateObject596=function _templateObject596(){return data;};return data;}function _templateObject595(){var data=_taggedTemplateLiteral(["<template><table id=\"table\"><thead id=\"table-head\"><tr><td>Plan</td><td><x-radios><x-radio id=\"standard-plan-radio\" size=\"small\"><x-label>Standard</x-label></x-radio></x-radios></td><td><x-radios><x-radio id=\"premium-plan-radio\" size=\"small\"><x-label>Premium</x-label></x-radio></x-radios></td></tr></thead><tbody id=\"table-body\"><tr><td>Use online as a web app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Install and use offline as a desktop app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save SVG files to your disk</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save and host SVG files in the cloud</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-button skin=\"flat\" id=\"cloud-button\"><x-icon part=\"yes-icon\" name=\"feature-supported-asterisk\"></x-icon><x-popover modal><main><p>You can keep up to 10 GB of data in the cloud for free. Unlimited storage space can be purchased separately.</p></main></x-popover></x-button></td></tr><tr><td>Export SVG files to PDF</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Sync app preferences between devices</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr></tbody><tfoot id=\"table-foot\"><tr><td><x-box><span>Users</span><x-button id=\"quantity-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Number of users belonging to your organization that should be able to use the app simultaneously.</p><p>You can freely assign and unassign licenses to users at any time by entering their email addresses in <a id=\"auth-anchor\" href=\"?dialog=preferences\u2192auth\">\"Preferences \u2192 Authentication\"</a>.</p></main></x-popover></x-button></x-box></td><td id=\"quantity-td\" colspan=\"2\"><x-numberinput id=\"quantity-input\" value=\"1\" min=\"1\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></td></tr><tr><td><x-box><span>Volume discount</span><x-button id=\"discount-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>A discount is granted when you purchase a subscription for many users:</p><ul><li>10% discount - for 10 or more users</li><li>20% discount - for 30 or more users</li><li>30% discount - for 100 or more users</li></ul></main></x-popover></x-button></x-box></td><td id=\"discount-td\" colspan=\"2\"><span id=\"discount-span\">None</span></td></tr><tr><td>Billing</td><td id=\"billing-td\" colspan=\"2\"><x-select id=\"billing-select\" disabled=\"disabled\"><x-menu><x-menuitem value=\"monthly\"><x-label>Monthly</x-label></x-menuitem><x-menuitem value=\"yearly\" toggled><x-label>Yearly</x-label></x-menuitem></x-menu></x-select></td></tr><tr><td><x-box><span>Price</span><x-button id=\"price-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Depending on your current tax residence, an additional VAT or sales tax might be applied.</p><p>When changing an existing subscription plan, the total amount due will be prorated.</p></main></x-popover></x-button></x-box></td><td id=\"price-td\" colspan=\"2\"><span id=\"price-span\">9.99</span> USD</td></tr></tfoot></table></template>"]);_templateObject595=function _templateObject595(){return data;};return data;}function _templateObject594(){var data=_taggedTemplateLiteral(["#email-section>x-box{margin-top:4px}#email-input{flex:1;max-width:none}#email-change-button,#email-verify-button{margin-left:6px}#email-throbber{width:24px;height:24px;margin-left:6px}#password-section>x-box{margin-top:4px}#password-input{flex:1;max-width:none;margin-right:6px}#password-change-button{width:143px}#password-throbber{width:24px;height:24px;margin-left:6px}#users-change-box{margin-top:8px;width:100%}#users-change-button{flex:1}#users-change-throbber{margin-left:8px}"]);_templateObject594=function _templateObject594(){return data;};return data;}function _templateObject593(){var data=_taggedTemplateLiteral(["<template><h2>Authentication</h2><section id=\"email-section\"><h3>E-mail</h3><p>E-mail address used for password recovery and communication with Boxy SVG team.</p><x-box><x-input id=\"email-input\" type=\"email\"></x-input><x-button id=\"email-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-button id=\"email-verify-button\"><x-label>Verify</x-label></x-button><x-throbber id=\"email-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"password-section\"><h3>Password</h3><p>The password used to sign into Boxy SVG.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022</x-label></x-input><x-button id=\"password-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"password-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"users-section\" hidden><h3>Users</h3><p>Enter email addresses of the users belonging to your organization. To increase the allowed number of users please adjust your <a id=\"subscription-anchor\" href=\"?dialog=preferences\u2192subscription\">subscription plan</a>.</p><bx-userseditor id=\"users-editor\"></bx-userseditor><x-box id=\"users-change-box\"><x-button id=\"users-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"users-change-throbber\" hidden></x-throbber></x-box></section></template>"]);_templateObject593=function _templateObject593(){return data;};return data;}function _templateObject592(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;max-height:182px;overflow:hidden;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#main{width:100%;overflow-y:auto}#table{width:100%;display:block;table-layout:auto;overflow:auto;border-collapse:collapse;user-select:none;border:none;box-shadow:none}#table tr{height:30px;box-sizing:border-box}#table[data-size=small] tr{height:24px}#table[data-size=large] tr{height:34px}#table td{border-width:1px;border-style:solid}#table td:first-child{border-left:none}#table td:last-child{border-right:none}#table tr:first-child td{border-top:none}#table tr:last-child td{border-bottom:none}#table td.index-cell{width:auto;padding:0 6px;box-sizing:border-box;text-align:end;font-size:12px}#table td.value-cell{width:100%;padding:0 6px}#table td.value-cell .label{width:100%;padding:0 2px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:12px}#table tr[data-disabled] td.value-cell .label{opacity:.6}#table td.value-cell .input{width:100%;max-width:none;height:100%;border:none;font-size:12px;padding:2px 0;color:var(--text-color)}#table td.value-cell .input::part(input){padding:0 2px}#table td.value-cell .input:focus{outline:0}"]);_templateObject592=function _templateObject592(){return data;};return data;}function _templateObject591(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><table id=\"table\"><tbody id=\"tbody\"></tbody></table></main></template>"]);_templateObject591=function _templateObject591(){return data;};return data;}function _templateObject590(){var data=_taggedTemplateLiteral(["#avatar{width:120px;height:120px}#avatar-edit-button{width:120px;margin-top:8px}#name-section{position:relative}#name-section>x-box{margin-top:4px}#name-input{flex:1;max-width:none;margin-right:6px;position:relative}#name-throbber{position:absolute;top:2px;right:0}#website-section{position:relative}#website-section>x-box{margin-top:4px}#website-input{flex:1;max-width:none;margin-right:6px;position:relative}#website-throbber{position:absolute;top:2px;right:0}#bio-section{position:relative}#bio-section>x-box{margin-top:4px}#bio-editor{flex:1;max-width:none;height:46px;min-height:0}#bio-change-button{height:46px;margin-left:6px}#bio-throbber{position:absolute;top:2px;right:0}"]);_templateObject590=function _templateObject590(){return data;};return data;}function _templateObject589(){var data=_taggedTemplateLiteral(["<template><h2>Public profile</h2><section id=\"avatar-section\"><h3>Avatar</h3><p>Image to be shown next to your posts.</p><bx-avatar id=\"avatar\" part=\"avatar\" transparent></bx-avatar><x-button id=\"avatar-edit-button\" toggled><x-label>Edit</x-label></x-button></section><hr><section id=\"name-section\"><h3 id=\"name-heading\">Name</h3><p>Your real name or a nick name.</p><x-throbber id=\"name-throbber\" hidden></x-throbber><x-box><x-input id=\"name-input\"></x-input><x-button id=\"name-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"website-section\"><h3 id=\"website-heading\">Website</h3><p>URL to your personal or company website.</p><x-throbber id=\"website-throbber\" hidden></x-throbber><x-box><x-input id=\"website-input\" type=\"url\"></x-input><x-button id=\"website-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"bio-section\"><h3 id=\"bio-heading\">Bio</h3><p>Write one or two sentences about yourself.</p><x-throbber id=\"bio-throbber\" hidden></x-throbber><x-box><x-texteditor id=\"bio-editor\" maxlength=\"300\"></x-texteditor><x-button id=\"bio-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section></template>"]);_templateObject589=function _templateObject589(){return data;};return data;}function _templateObject588(){var data=_taggedTemplateLiteral([":host{display:block;width:28px;height:28px;box-sizing:border-box;border-width:1px;border-style:solid;user-select:none}:host([transparent]){background:var(--checkboard-background)}:host([hidden]){display:none}#img{width:100%;height:100%;-webkit-user-drag:none}"]);_templateObject588=function _templateObject588(){return data;};return data;}function _templateObject587(){var data=_taggedTemplateLiteral(["<template><img id=\"img\" hidden></template>"]);_templateObject587=function _templateObject587(){return data;};return data;}function _templateObject586(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;outline:0}#main{display:flex;flex-flow:column;height:100%}#tabs{width:100%}#tabs>x-tab{flex:1}#views{display:flex;flex-flow:column;flex:1;height:100%;min-height:0;margin-top:16px}#views .view{width:100%;height:100%}"]);_templateObject586=function _templateObject586(){return data;};return data;}function _templateObject585(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><h2>Keyboard</h2><x-tabs id=\"tabs\" centered><x-tab value=\"shortcuts\" selected=\"selected\"><x-label>Shortcuts</x-label></x-tab><x-tab value=\"modifiers\"><x-label>Modifier keys</x-label></x-tab></x-tabs><div id=\"views\"><div id=\"shortcuts-view\" class=\"view\"><bx-shortcutseditor id=\"shortcuts-editor\"></bx-shortcutseditor></div><div id=\"modifiers-view\" class=\"view\" hidden><section id=\"space-modifier-section\"><h3>Space key</h3><x-radios id=\"space-modifier-radios\"><x-radio value=\"togglePreviousTool\" toggled><x-label>Toggle previous tool</x-label></x-radio><x-radio value=\"pan\"><x-label>Pan the canvas</x-label></x-radio></x-radios></section></div></div></main></template>"]);_templateObject585=function _templateObject585(){return data;};return data;}function _templateObject584(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;border-width:1px;border-style:solid;outline:0;flex-flow:column;flex:1;height:100%}#header{display:flex;align-items:center;min-height:30px;border-bottom-width:1px;border-bottom-style:solid;font-size:14px;font-weight:500}#header div:first-child{min-width:50%;margin-left:10px}#header div:last-child{margin-left:5px}#items{overflow:auto;height:100%;outline:0}.item{display:flex;width:100%;height:30px;align-items:center;font-size:13px;user-select:none;box-sizing:border-box;border:2px solid transparent;color:var(--text-color)}#items[data-size=small] .item{height:24px}#items[data-size=large] .item{height:34px}.item[data-conflicting]{color:var(--error-color)}.item[data-selected]{background:var(--accent-color);color:#fff}.item[data-selected][data-conflicting]{background:var(--error-color)}.item[data-user-shortcut]{font-weight:900}.item[hidden]{display:none}.item .command-label{min-width:50%;padding:8px 10px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item .shortcut-label{width:100%}.item[data-editable] .shortcut-label{padding:2px 8px;background:#fff;color:var(--dark-accent-color);font-size:12px;line-height:1;font-size:11px;font-weight:500;text-transform:uppercase}.item[data-editable][data-conflicting] .shortcut-label{color:var(--error-color)}.item .reset-button{margin:0 4px;padding:3px 7px;min-width:fit-content}.item .reset-button[hidden]{display:block;visibility:hidden}.item[data-editable] .reset-button{visibility:hidden}#footer{width:100%;padding:7px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #filter-buttons{margin-left:10px}"]);_templateObject584=function _templateObject584(){return data;};return data;}function _templateObject583(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><div>Command</div><div>Shortcut</div></header><main id=\"items\" tabindex=\"0\"></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter symbols\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-buttons id=\"filter-buttons\" tracking=\"1\"><x-button skin=\"recessed\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button skin=\"recessed\" value=\"custom\"><x-label>Custom</x-label></x-button><x-button skin=\"recessed\" value=\"conflicting\"><x-label>Conflicting <span id=\"conflicting-items-counter\"></span></x-label></x-button></x-buttons></x-box></footer></template>"]);_templateObject583=function _templateObject583(){return data;};return data;}function _templateObject582(){var data=_taggedTemplateLiteral(["#defs-section x-box>x-icon{width:26px;height:26px;overflow:visible}#defs-section x-box>x-icon[computedsize=small]{width:22px;height:22px}#defs-section x-box>x-icon[computedsize=large]{width:30px;height:30px}#defs-section x-box>x-label{width:80px;margin-left:8px}#defs-section x-box+x-box{margin-top:10px}#defs-section x-buttons{flex:1}#defs-section x-buttons>x-button{flex:1}"]);_templateObject582=function _templateObject582(){return data;};return data;}function _templateObject581(){var data=_taggedTemplateLiteral(["<template><h2>Garbage Collector</h2><section id=\"defs-section\"><h3 id=\"intro\">Auto-remove unused defs</h3><x-box><x-icon name=\"defs-colors\"></x-icon><x-label>Colors</x-label><x-buttons id=\"colors-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-gradients\"></x-icon><x-label>Gradients</x-label><x-buttons id=\"gradients-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-patterns\"></x-icon><x-label>Patterns</x-label><x-buttons id=\"patterns-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-markers\"></x-icon><x-label>Markers</x-label><x-buttons id=\"markers-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-symbols\"></x-icon><x-label>Symbols</x-label><x-buttons id=\"symbols-buttons\" tracking=\"1\"><x-button value=\"unpinned\"><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\" toggled><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-filters\"></x-icon><x-label>Filters</x-label><x-buttons id=\"filters-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-fonts\"></x-icon><x-label>Fonts</x-label><x-buttons id=\"fonts-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject581=function _templateObject581(){return data;};return data;}function _templateObject580(){var data=_taggedTemplateLiteral(["<template><h2>Markup</h2><section id=\"geometry-precision-section\"><h3>Geometry precision</h3><p>Precision, in number of decimal places, to be used by attributes defining shape geometry such as <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>, <code>r</code> or <code>d</code>.</p><x-slider id=\"geometry-precision-slider\" value=\"3\" min=\"0\" max=\"6\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label></x-slider></section><hr><section id=\"transform-precision-section\"><h3>Transform precision</h3><p>Precision, in number of decimal places, to be used by <code>transform</code> attribute.</p><x-slider id=\"transform-precision-slider\" value=\"6\" min=\"5\" max=\"12\" step=\"1\"><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label><x-label value=\"9\">9</x-label><x-label value=\"10\">10</x-label><x-label value=\"11\">11</x-label><x-label value=\"12\">12</x-label></x-slider></section><hr><section id=\"indentation-section\"><h3>Indentation</h3><p>Number of spaces used to indent SVG code.</p><x-slider id=\"indentation-slider\" value=\"2\" min=\"0\" max=\"8\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label></x-slider></section></template>"]);_templateObject580=function _templateObject580(){return data;};return data;}function _templateObject579(){var data=_taggedTemplateLiteral(["#theme-select{width:100%}#colors-section section{margin-top:10px}#accent-color-box{margin-top:4px}#accent-color-preset-select{flex:1}#accent-color-select{margin-left:6px}#color-scheme-select{width:100%}#widgets-size-select{width:100%}"]);_templateObject579=function _templateObject579(){return data;};return data;}function _templateObject578(){var data=_taggedTemplateLiteral(["<template><h2>UI</h2><section id=\"theme-section\"><h3>Theme</h3><x-select id=\"theme-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-theme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"cupertino\" id=\"cupertino-theme-select-item\"><x-label>Cupertino</x-label></x-menuitem><x-menuitem value=\"fluent\"><x-label>Fluent</x-label></x-menuitem><x-menuitem value=\"vanilla\"><x-label>Vanilla</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"colors-section\"><h3>Colors</h3><section id=\"color-scheme-subsection\"><h4>Color scheme</h4><x-select id=\"color-scheme-select\"><x-menu id=\"color-scheme-menu\"><x-menuitem value=\"auto\"><x-label id=\"auto-color-scheme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section><section id=\"accent-color-subsection\"><h4>Accent color</h4><x-box id=\"accent-color-box\"><x-select id=\"accent-color-preset-select\"><x-menu id=\"accent-color-preset-menu\"><x-menuitem value=\"auto\" toggled><x-swatch id=\"auto-accent-color-preset-swatch\"></x-swatch><x-label id=\"auto-accent-color-preset-label\"></x-label></x-menuitem><hr><x-menuitem value=\"blue\"><x-swatch></x-swatch><x-label>Blue</x-label></x-menuitem><x-menuitem value=\"purple\"><x-swatch></x-swatch><x-label>Purple</x-label></x-menuitem><x-menuitem value=\"pink\"><x-swatch></x-swatch><x-label>Pink</x-label></x-menuitem><x-menuitem value=\"red\"><x-swatch></x-swatch><x-label>Red</x-label></x-menuitem><x-menuitem value=\"orange\"><x-swatch></x-swatch><x-label>Orange</x-label></x-menuitem><x-menuitem value=\"yellow\"><x-swatch></x-swatch><x-label>Yellow</x-label></x-menuitem><x-menuitem value=\"green\"><x-swatch></x-swatch><x-label>Green</x-label></x-menuitem><x-menuitem value=\"graphite\"><x-swatch></x-swatch><x-label>Graphite</x-label></x-menuitem><hr><x-menuitem value=\"custom\"><x-icon name=\"color-wheel\"></x-icon><x-label>Other</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"accent-color-select\"><x-popover modal><x-wheelcolorpicker></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section></section><hr><section id=\"size-section\"><h3>Size</h3><section id=\"widgets-size-subsection\"><h4>Widgets size</h4><x-select id=\"widgets-size-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-widgets-size-label\"></x-label></x-menuitem><hr><x-menuitem value=\"medium\" toggled><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"large\"><x-label>Large</x-label></x-menuitem></x-menu></x-select></section></section><hr><section id=\"menubar-section\"><h3>Menubar</h3><x-checkbox id=\"show-install-button-checkbox\"><x-label>Show \"Install\" button</x-label></x-checkbox><x-checkbox id=\"show-cloud-button-checkbox\"><x-label>Show \"Cloud\" button</x-label></x-checkbox></section><hr><section id=\"docks-section\"><h3>Docks</h3><x-checkbox id=\"show-dock-tooltips-checkbox\"><x-label>Show tooltips</x-label></x-checkbox></section><hr><section id=\"canvas-section\"><h3>Canvas</h3><x-checkbox id=\"limit-scrollable-area-checkbox\"><x-label>Limit scrollable area</x-label></x-checkbox><x-checkbox id=\"show-view-outline-above-objects-checkbox\"><x-label>Show view outline above objects</x-label></x-checkbox></section></template>"]);_templateObject578=function _templateObject578(){return data;};return data;}function _templateObject577(){var data=_taggedTemplateLiteral(["#hardware-acceleration-checkbox{margin-top:10px}#recent-files-select{width:100%}"]);_templateObject577=function _templateObject577(){return data;};return data;}function _templateObject576(){var data=_taggedTemplateLiteral(["<template><h2>General</h2><section id=\"hardware-acceleration-section\"><h3>Hardware acceleration</h3><p>You should disable hardware acceleration if you are running the app inside a virtual machine or on older hardware and you observe graphical glitches such as flickering or disappearing widgets. <strong>Requires app restart.</strong></p><x-checkbox id=\"hardware-acceleration-checkbox\" toggled><x-label>Hardware acceleration</x-label></x-checkbox></section><hr id=\"hr-1\" hidden><section id=\"recent-files-section\" hidden><h3>Recent files</h3><p>Limit the number of files shown by \"File -> Open Recent\" menu.</p><x-select id=\"recent-files-select\"><x-menu id=\"recent-files-menu\"><x-menuitem value=\"5\"><x-label>5</x-label></x-menuitem><x-menuitem value=\"10\"><x-label>10</x-label></x-menuitem><x-menuitem value=\"15\"><x-label>15</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>20</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>30</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>50</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject576=function _templateObject576(){return data;};return data;}function _templateObject575(){var data=_taggedTemplateLiteral([":host{display:none;width:100%}:host([enabled]){display:block}h2:first-child{margin-top:0}p{font-size:13px;line-height:1.4;margin:5px 0 8px 0}section+hr{margin:20px 0}section[hidden]+hr{display:none}"]);_templateObject575=function _templateObject575(){return data;};return data;}function _templateObject574(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#main{display:flex;width:100%;height:100%}#board{flex:1}#breadcrumb{position:absolute;top:5px;left:44px}#breadcrumb[computedsize=large]{left:50px}"]);_templateObject574=function _templateObject574(){return data;};return data;}function _templateObject573(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><bx-toolsdock id=\"tools-dock\"></bx-toolsdock><bx-board id=\"board\"></bx-board><bx-offscreenboard id=\"offscreen-board\"></bx-offscreenboard><bx-primarypanelsdock id=\"primary-panels-dock\"><bx-fillpanel id=\"fill-panel\" name=\"Fill\"></bx-fillpanel><bx-strokepanel id=\"stroke-panel\" name=\"Stroke\"></bx-strokepanel><bx-compositingpanel id=\"compositing-panel\" name=\"Compositing\"></bx-compositingpanel><bx-typographypanel id=\"typography-panel\" name=\"Typography\"></bx-typographypanel><bx-geometrypanel id=\"geometry-panel\" name=\"Geometry\"></bx-geometrypanel><bx-metapanel id=\"meta-panel\" name=\"Meta\"></bx-metapanel><bx-shapepanel id=\"shape-panel\" name=\"Shape\"></bx-shapepanel><bx-arrangementpanel id=\"arrangement-panel\" name=\"Arrangement\"></bx-arrangementpanel><bx-objectspanel id=\"objects-panel\" name=\"Objects\"></bx-objectspanel><bx-defspanel id=\"defs-panel\" name=\"Defs\"></bx-defspanel><bx-librarypanel id=\"library-panel\" name=\"Library\"></bx-librarypanel><bx-generatorspanel id=\"generators-panel\" name=\"Generators\"></bx-generatorspanel><bx-exportpanel id=\"export-panel\" name=\"Export\"></bx-exportpanel><bx-historypanel id=\"history-panel\" name=\"History\"></bx-historypanel></bx-primarypanelsdock><bx-secondarypanelsdock id=\"secondary-panels-dock\"><bx-elementspanel id=\"elements-panel\" name=\"Elements\"></bx-elementspanel><bx-codepanel id=\"code-panel\" name=\"Code\" hidden></bx-codepanel><bx-animationpanel id=\"animation-panel\" name=\"Animation\" hidden></bx-animationpanel></bx-secondarypanelsdock><bx-editorbreadcrumb id=\"breadcrumb\"></bx-editorbreadcrumb></main><bx-colorgrabber id=\"color-grabber\"></bx-colorgrabber><bx-objectgrabber id=\"object-grabber\"></bx-objectgrabber></template>"]);_templateObject573=function _templateObject573(){return data;};return data;}function _templateObject572(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject572=function _templateObject572(){return data;};return data;}function _templateObject571(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject571=function _templateObject571(){return data;};return data;}function _templateObject570(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject570=function _templateObject570(){return data;};return data;}function _templateObject569(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject569=function _templateObject569(){return data;};return data;}function _templateObject568(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#container{display:flex;width:100%;height:100%}#main{flex:1}"]);_templateObject568=function _templateObject568(){return data;};return data;}function _templateObject567(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\"><bx-dominspector id=\"dom-inspector\"></bx-dominspector></main><aside id=\"sidebar\"><bx-csscascadeinspector id=\"css-cascade-inspector\"></bx-csscascadeinspector></aside></div></template>"]);_templateObject567=function _templateObject567(){return data;};return data;}function _templateObject566(){var data=_taggedTemplateLiteral([":host{position:relative;display:block;width:240px;height:100%;outline:0;border-left-width:1px;border-left-style:solid;contain:size layout style;--property-name-color:rgb(200, 0, 0);--property-value-color:currentColor}#main{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#cascade-view{flex:1;padding:8px}#cascade-items{font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word;user-select:text}.cascade-item .heading{display:block;margin:8px 0 2px 0;padding:1px 4px;user-select:none;font-family:BlinkMacSystemFont,Roboto,\"Helvetica Neue\",\"Lucida Grande\",Arial,sans-serif;font-size:11px;font-weight:500}.cascade-item .heading:empty{display:none}.cascade-item .heading code{font-size:inherit;padding:0 4px;display:inline-block}.cascade-item .selector[disabled]{opacity:.65}.cascade-item .property-item{display:flex;align-items:center}.cascade-item .checkbox{margin:0 5px 0 1px;width:13px;height:13px;visibility:hidden}.cascade-item .property-item .name{color:var(--property-name-color);cursor:text;line-height:12px}.cascade-item .property-item .value{color:var(--property-value-color);cursor:text}#autocompletion-list{position:fixed;border-width:1px;border-style:solid;white-space:pre;overflow:auto;z-index:999999}#autocompletion-list .item{padding:2px 4px}#autocompletion-list .item:hover{background:var(--selection-background-color)}#autocompletion-list .item[data-selected]{background:var(--accent-color);color:#fff}span[contenteditable]{display:inline-block;text-overflow:clip;user-select:text;-webkit-user-modify:read-write-plaintext-only}span[contenteditable]:empty:not([ghost]){padding:0 1px 0 2px}span[contenteditable]::after{content:attr(ghost);opacity:.5}#resize-grippie{position:absolute;top:0;left:0;width:5px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject566=function _templateObject566(){return data;};return data;}function _templateObject565(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"cascade-view\"><div id=\"cascade-items\"></div></div><div id=\"computed-view\"></div></main><div id=\"resize-grippie\"></div></template>"]);_templateObject565=function _templateObject565(){return data;};return data;}function _templateObject564(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;outline:0;contain:size layout style;--bracket-color:#881280;--tag-color:#881280;--attribute-color:#a894a6;--attribute-name-color:#994500;--attribute-value-color:#1919a7;--highlight-color:#bb38b2}#main{position:relative;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#tree{padding:1px 0;font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word}.item{position:relative;margin-left:22px;z-index:2;color:var(--text-color)}.item[data-selected]{color:#fff}.item[data-dragover]{z-index:3}.item[hidden]{display:none}span[contenteditable]{text-overflow:clip;min-width:.5ex;-webkit-user-select:text;-webkit-user-modify:read-write-plaintext-only}.item[data-type=text]{word-break:break-all}.item[data-type=text][data-selected]>.content::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=text][data-dragover=afterend]::after,.item[data-type=text][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--light-accent-color);pointer-events:none}.item[data-type=element]>.icon{fill:currentColor;vertical-align:middle;padding:3px;position:absolute;top:2px;left:-19px;transform:rotate(0);z-index:2}.item[data-type=element][data-expanded]>.icon{transform:rotate(90deg)}.item[data-type=element]>.icon>path{pointer-events:none}.item[data-type=element]>.tag{position:relative;border-top:1px solid transparent;border-bottom:1px solid transparent}.item[data-type=element]>.tag>.closing-bracket,.item[data-type=element]>.tag>.opening-bracket{color:var(--bracket-color)}.item[data-type=element][data-selected]>.tag>.closing-bracket,.item[data-type=element][data-selected]>.tag>.opening-bracket{color:inherit;opacity:.5}.item[data-type=element]>.tag>.opening-bracket[disabled]{opacity:.45}.item[data-type=element]>.tag>.tag-name{color:var(--tag-color)}.item[data-type=element][data-selected]>.tag>.tag-name{color:inherit}.item[data-type=element]>.tag>.tag-name[disabled]{opacity:.45}.item[data-type=element]>.tag .attributes{line-height:1}.item[data-type=element]>.tag .attribute{transition:background .25s;margin-left:6px;color:var(--attribute-color)}.item[data-type=element][data-selected]>.tag .attribute{color:rgba(255,255,255,.7)}.item[data-type=element]>.tag .attribute[highlighted]{background:var(--highlight-color)}.item[data-type=element]>.tag .attribute[disabled]{font-weight:700;opacity:.45}.item[data-type=element]>.tag .attribute .name{color:var(--attribute-name-color)}.item[data-type=element][data-selected]>.tag .attribute .name{color:inherit}.item[data-type=element]>.tag .attribute .value{color:var(--attribute-value-color)}.item[data-type=element][data-selected]>.tag .attribute .value{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis{padding-left:4px;text-decoration:underline;letter-spacing:-2px;cursor:pointer}.item[data-type=element][data-selected]>.tag .attribute .ellipsis{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis:hover{text-decoration:none}.item[data-type=element]>.tag .attribute[highlighted] *{color:#fff}.item[data-type=element][data-selected]>.tag::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=element][data-dragover=afterbegin]>.subtree::before,.item[data-type=element][data-dragover=beforeend]>.subtree::after{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none;margin-left:22px}.item[data-type=element][data-dragover=afterend]::after,.item[data-type=element][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none}"]);_templateObject564=function _templateObject564(){return data;};return data;}function _templateObject563(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"tree\"></div></main></template>"]);_templateObject563=function _templateObject563(){return data;};return data;}function _templateObject562(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;width:100%;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0}#items .item{padding:3px 20px;font-size:13px}#items .item[data-selected]{color:#fff;background:var(--accent-color)}#placeholder{padding:10px 20px 0;opacity:.6;box-sizing:border-box;font-size:12px}#footer{width:100%;padding:13px 20px 14px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer x-buttons{width:100%}#footer x-buttons x-button{flex:1}#footer #slider{margin-top:10px}"]);_templateObject562=function _templateObject562(){return data;};return data;}function _templateObject561(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">History</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No history items.</div></main><footer id=\"footer\" part=\"footer\"><x-buttons><x-button id=\"undo-button\" condensed disabled=\"disabled\"><x-icon name=\"undo\"></x-icon><x-label>Undo</x-label></x-button><x-button id=\"redo-button\" condensed disabled=\"disabled\"><x-icon name=\"redo\"></x-icon><x-label>Redo</x-label></x-button><x-button id=\"clear-button\" condensed disabled=\"disabled\"><x-icon name=\"clear\"></x-icon><x-label>Clear</x-label></x-button></x-buttons><x-slider id=\"slider\"></x-slider></footer></template>"]);_templateObject561=function _templateObject561(){return data;};return data;}function _templateObject560(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #format-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}#footer{padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer #export-button{width:100%}#footer #progress-bar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject560=function _templateObject560(){return data;};return data;}function _templateObject559(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Export</h2><x-select id=\"format-select\"><x-menu><x-menuitem value=\"png\" toggled><x-label>PNG</x-label></x-menuitem><x-menuitem value=\"jpeg\"><x-label>JPEG</x-label></x-menuitem><x-menuitem value=\"gif\"><x-label>GIF</x-label></x-menuitem><x-menuitem value=\"webp\"><x-label>WebP</x-label></x-menuitem><hr><x-menuitem value=\"svg\"><x-label>SVG</x-label></x-menuitem><x-menuitem value=\"svgz\"><x-label>SVGZ</x-label></x-menuitem><x-menuitem value=\"html\"><x-label>HTML</x-label></x-menuitem><x-menuitem value=\"pdf\" id=\"pdf-menu-item\"><x-label>PDF</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"><x-button id=\"export-button\" size=\"larger\" disabled=\"disabled\"><x-icon name=\"export-panel\"></x-icon><x-label id=\"export-label\">Export</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></footer></template>"]);_templateObject559=function _templateObject559(){return data;};return data;}function _templateObject558(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:18px}#height-input,#width-input{width:100%}#height-box,#width-box{flex:1}#height-unit-select,#width-unit-select{margin-top:5px;width:100%}#lock-size-button{align-self:center;margin:20px 0 0 0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#background-subsection{margin-top:18px}#background-select x-popover{--align:right}#normalize-subsection{margin-top:18px}"]);_templateObject558=function _templateObject558(){return data;};return data;}function _templateObject557(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4 id=\"area-heading\">Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"width-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"height-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox></section></template>"]);_templateObject557=function _templateObject557(){return data;};return data;}function _templateObject556(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#normalize-subsection{margin-top:18px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject556=function _templateObject556(){return data;};return data;}function _templateObject555(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox></section></template>"]);_templateObject555=function _templateObject555(){return data;};return data;}function _templateObject554(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject554=function _templateObject554(){return data;};return data;}function _templateObject553(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject553=function _templateObject553(){return data;};return data;}function _templateObject552(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}"]);_templateObject552=function _templateObject552(){return data;};return data;}function _templateObject551(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject551=function _templateObject551(){return data;};return data;}function _templateObject550(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject550=function _templateObject550(){return data;};return data;}function _templateObject549(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject549=function _templateObject549(){return data;};return data;}function _templateObject548(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#dithering-subsection{margin-top:16px}#dithering-select{width:100%}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}#background-subsection>x-checkbox{margin-top:7px}"]);_templateObject548=function _templateObject548(){return data;};return data;}function _templateObject547(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"dithering-subsection\"><h4 id=\"dithering-heading\">Dithering</h4><x-select id=\"dithering-select\"><x-menu><x-menuitem value=\"none\" toggled><x-label>None</x-label></x-menuitem><x-menuitem value=\"floyd-steinberg\"><x-label>Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"false-floyd-steinberg\"><x-label>False Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"stucki\"><x-label>Stucki</x-label></x-menuitem><x-menuitem value=\"atkinson\"><x-label>Atkinson</x-label></x-menuitem></x-menu></x-select></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect><x-checkbox id=\"transparent-checkbox\"><x-label>Treat this color as transparency</x-label></x-checkbox></section></template>"]);_templateObject547=function _templateObject547(){return data;};return data;}function _templateObject546(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject546=function _templateObject546(){return data;};return data;}function _templateObject545(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject545=function _templateObject545(){return data;};return data;}function _templateObject544(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#scale-subsection{margin-top:16px}#scale-input{width:100%;max-width:none}#dpi-subsection{margin-top:16px}#dpi-subsection x-box{width:100%}#dpi-heading{margin-bottom:0}#dpi-slider{flex:1}#dpi-input{width:60px;margin-left:10px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject544=function _templateObject544(){return data;};return data;}function _templateObject543(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"scale-subsection\"><h4 id=\"scale-heading\">Scale factor</h4><x-numberinput id=\"scale-input\" value=\"1\" min=\"0.1\" max=\"20\" precision=\"2\" step=\"0.1\" prefix=\"@\" suffix=\"x\" condensed><x-stepper></x-stepper></x-numberinput></section><section id=\"dpi-subsection\"><h4 id=\"dpi-heading\">DPI</h4><x-box><x-slider id=\"dpi-slider\" value=\"96\" min=\"1\" max=\"400\" step=\"1\"></x-slider><x-numberinput id=\"dpi-input\" value=\"96\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject543=function _templateObject543(){return data;};return data;}function _templateObject542(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}h3:first-child,h4:first-child{margin-top:0}#options-section{padding:16px 20px 16px 20px}#preview-section{padding:16px 20px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;user-select:none;background:var(--checkboard-background);border-width:1px;border-style:solid}#preview[hidden]{display:none}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject542=function _templateObject542(){return data;};return data;}function _templateObject541(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject541=function _templateObject541(){return data;};return data;}function _templateObject540(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #generator-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}"]);_templateObject540=function _templateObject540(){return data;};return data;}function _templateObject539(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Generators</h2><x-select id=\"generator-select\"><x-menu><x-menuitem value=\"bx-barcodegenerator\"><x-label>Barcode</x-label></x-menuitem><x-menuitem value=\"bx-qrcodegenerator\"><x-label>QR code</x-label></x-menuitem><hr><x-menuitem value=\"bx-parliamentchartgenerator\"><x-label>Parliament chart</x-label></x-menuitem><x-menuitem value=\"bx-triangulatedsurfacegenerator\"><x-label>Triangulated surface</x-label></x-menuitem><x-menuitem value=\"bx-jigsawpuzzlegenerator\"><x-label>Jigsaw puzzle</x-label></x-menuitem><hr><x-menuitem value=\"bx-rasterizegenerator\"><x-label>Rasterize</x-label></x-menuitem><x-menuitem value=\"bx-vectorizegenerator\"><x-label>Vectorize</x-label></x-menuitem><hr><x-menuitem value=\"bx-pixelategenerator\"><x-label>Pixelate</x-label></x-menuitem><x-menuitem value=\"bx-triangulategenerator\"><x-label>Triangulate</x-label></x-menuitem><x-menuitem value=\"bx-asciifygenerator\"><x-label>Asciify</x-label></x-menuitem><x-menuitem value=\"bx-primitivizegenerator\"><x-label>Primitivize</x-label></x-menuitem><hr><x-menuitem value=\"bx-resizeviewgenerator\"><x-label>Resize view to fit objects</x-label></x-menuitem><hr><x-menuitem value=\"bx-adduniqueidsgenerator\"><x-label>Add unique IDs</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main></template>"]);_templateObject539=function _templateObject539(){return data;};return data;}function _templateObject538(){var data=_taggedTemplateLiteral(["#objects-buttons{width:100%}#objects-buttons x-button{flex:1}#prefix-subsection{margin-top:14px}#prefix-buttons{width:100%}#prefix-buttons x-button{flex:1}#custom-prefix-input{margin-top:8px;max-width:none}"]);_templateObject538=function _templateObject538(){return data;};return data;}function _templateObject537(){var data=_taggedTemplateLiteral(["<template><x-button id=\"add-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Add</x-label></x-button></template>"]);_templateObject537=function _templateObject537(){return data;};return data;}function _templateObject536(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"objects-subsection\"><h4>Objects</h4><x-buttons id=\"objects-buttons\" tracking=\"1\"><x-button value=\"all\" toggled><x-label>All</x-label></x-button><x-button value=\"selected\"><x-label>Selected</x-label></x-button></x-buttons></section><section id=\"prefix-subsection\"><h4>Prefix</h4><x-buttons id=\"prefix-buttons\" tracking=\"1\"><x-button value=\"auto\" toggled><x-label>Auto</x-label></x-button><x-button value=\"custom\"><x-label>Custom</x-label></x-button></x-buttons><x-input id=\"custom-prefix-input\"><x-label>object-</x-label></x-input></section></section></template>"]);_templateObject536=function _templateObject536(){return data;};return data;}function _templateObject535(){var data=_taggedTemplateLiteral(["section section{display:flex;flex-flow:column}#shapes-type-buttons{width:100%}#shapes-type-buttons x-button{flex:1}#shapes-number-subsection{margin-top:8px}#shapes-number-subsection x-box{width:100%}#shapes-number-heading{margin-bottom:0}#shapes-number-slider{flex:1}#shapes-number-input{margin-left:10px;width:60px}#shapes-alpha-subsection x-box{width:100%}#shapes-alpha-heading{margin-bottom:0}#shapes-alpha-slider{flex:1}#shapes-alpha-input{margin-left:10px;width:60px}#auto-adjust-shapes-alpha-box{margin-top:2px}#auto-adjust-shapes-alpha-box x-label{font-size:12px}#working-size-subsection h5{margin-bottom:0}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#shapes-per-iteration-subsection h5{margin-bottom:0}#shapes-per-iteration-slider{flex:1}#shapes-per-iteration-input{margin-left:10px;width:60px}#max-mutations-subsection h5{margin-bottom:0}#max-mutations-slider{flex:1}#max-mutations-input{margin-left:10px;width:60px}#seed-subsection h5{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#overflow-subsection{margin-top:8px}#overflow-buttons{width:100%}#overflow-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject535=function _templateObject535(){return data;};return data;}function _templateObject534(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label id=\"generate-label\">Primitivize</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></template>"]);_templateObject534=function _templateObject534(){return data;};return data;}function _templateObject533(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"shapes-section\"><h4 id=\"shapes-heading\">Shapes</h4><section id=\"shapes-type-subsection\"><h5 id=\"shapes-type-heading\">Type</h5><x-buttons id=\"shapes-type-buttons\" tracking=\"3\"><x-button value=\"triangles\" condensed><x-label>Triangles</x-label></x-button><x-button value=\"rectangles\" condensed><x-label>Rectangles</x-label></x-button></x-buttons></section><section id=\"shapes-number-subsection\"><h5 id=\"shapes-number-heading\">Number</h5><x-box id=\"shapes-number-box\"><x-slider id=\"shapes-number-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shapes-number-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-alpha-subsection\"><h5 id=\"shapes-alpha-heading\">Alpha</h5><x-box id=\"shapes-alpha-box\"><x-slider id=\"shapes-alpha-slider\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shapes-alpha-input\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"auto-adjust-shapes-alpha-box\"><x-checkbox id=\"auto-adjust-shapes-alpha-checkbox\"><x-label>Auto-adjust alpha</x-label></x-checkbox></x-box></section></section><hr><section id=\"algorithm-subsection\"><h4 id=\"algorithm-heading\">Algorithm</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"1000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-per-iteration-subsection\"><h5 id=\"shapes-per-iteration-heading\">Shapes per iteration</h5><x-box id=\"shapes-per-iteration-box\"><x-slider id=\"shapes-per-iteration-slider\" min=\"1\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"shapes-per-iteration-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"max-mutations-subsection\"><h5 id=\"max-mutations-heading\">Max mutations</h5><x-box id=\"max-mutations-box\"><x-slider id=\"max-mutations-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"max-mutations-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h5 id=\"seed-heading\">Seed</h5><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><section id=\"render-as-subsection\"><h5 id=\"render-as-heading\">Render as</h5><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section><section id=\"overflow-subsection\"><h5 id=\"overflow-heading\">Overflow</h5><x-buttons id=\"overflow-buttons\" tracking=\"1\"><x-button value=\"cut\" condensed><x-label>Cut</x-label></x-button><x-button value=\"visible\" condensed><x-label>Visible</x-label></x-button></x-buttons></section></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\"></svg></section></template>"]);_templateObject533=function _templateObject533(){return data;};return data;}function _templateObject532(){var data=_taggedTemplateLiteral(["#grid-subsection{margin-top:14px}#grid-subsection h4{margin-top:0}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#chars-subsection{margin-top:14px}#chars-input{flex:1;max-width:none;font-family:monospace}#reverse-chars-button{margin-left:8px}#char-color-subsection{margin-top:14px}#char-color-box{margin-top:4px}#char-color-source-select{flex:1}#char-custom-color-select{margin-left:6px}#char-background-color-subsection{margin-top:14px}#char-background-color-box{margin-top:4px}#char-background-color-source-select{flex:1}#char-custom-background-color-select{margin-left:6px}#font-size-subsection{display:flex;flex-flow:column;margin-top:14px}#font-size-subsection h4{margin-bottom:0}#font-size-slider{flex:1}#font-size-input{margin-left:10px;width:60px}#preview{height:160px}"]);_templateObject532=function _templateObject532(){return data;};return data;}function _templateObject531(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Asciify</x-label></x-button></template>"]);_templateObject531=function _templateObject531(){return data;};return data;}function _templateObject530(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"chars-subsection\"><h4 id=\"chars-heading\">Characters</h4><x-box><x-input id=\"chars-input\"><x-label>","</x-label></x-input><x-button id=\"reverse-chars-button\" title=\"Reverse\" condensed><x-icon name=\"reverse\" size=\"smaller\"></x-icon></x-button></x-box></section><section id=\"char-color-subsection\"><h4 id=\"char-color-heading\">Character color</h4><x-box id=\"char-color-box\"><x-select id=\"char-color-source-select\"><x-menu id=\"char-color-source-menu\"><x-menuitem value=\"sample\"><x-label>Sample from image</x-label></x-menuitem><x-menuitem value=\"custom\" toggled><x-label>Custom</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"char-custom-color-select\"><x-popover modal><x-wheelcolorpicker value=\"#ffffff\" alphaslider></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section><section id=\"char-background-color-subsection\"><h4 id=\"char-background-color-heading\">Character background color</h4><x-box id=\"char-background-color-box\"><x-select id=\"char-background-color-source-select\"><x-menu id=\"char-background-color-source-menu\"><x-menuitem value=\"sample\" toggled><x-label>Sample from image</x-label></x-menuitem><x-menuitem value=\"custom\"><x-label>Custom</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"char-custom-background-color-select\"><x-popover modal><x-wheelcolorpicker value=\"#007aff\" alphaslider></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section><section id=\"font-size-subsection\"><h4 id=\"font-size-heading\">Font size</h4><x-box id=\"font-size-box\"><x-slider id=\"font-size-slider\" min=\"1\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"font-size-input\" min=\"1\" max=\"200\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject530=function _templateObject530(){return data;};return data;}function _templateObject529(){var data=_taggedTemplateLiteral(["#cell-size-subsection{display:flex;flex-flow:column}#cell-size-subsection h4{margin-bottom:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-subsection{margin-top:10px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject529=function _templateObject529(){return data;};return data;}function _templateObject528(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Triangulate</x-label></x-button></template>"]);_templateObject528=function _templateObject528(){return data;};return data;}function _templateObject527(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" min=\"2\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"polygons\" condensed><x-label>Polygons</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject527=function _templateObject527(){return data;};return data;}function _templateObject526(){var data=_taggedTemplateLiteral(["#grid-subsection{margin-top:14px}#grid-subsection h4{margin-top:0}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#pixel-size-subsection{margin-top:14px}#pixel-size-heading{margin:0}#pixel-size-slider{flex:1}#pixel-size-input{margin-left:10px;width:60px}#pixel-shape-subsection{margin-top:10px}#pixel-shape-buttons{width:100%}#pixel-shape-buttons x-button{flex:1}#render-as-subsection{margin-top:14px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject526=function _templateObject526(){return data;};return data;}function _templateObject525(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Pixelate</x-label></x-button></template>"]);_templateObject525=function _templateObject525(){return data;};return data;}function _templateObject524(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"pixel-size-subsection\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"pixel-shape-subsection\" vertical><h4 id=\"pixel-shape-heading\">Pixel shape</h4><x-buttons id=\"pixel-shape-buttons\" tracking=\"1\"><x-button value=\"rectangle\" condensed><x-label>Rectangle</x-label></x-button><x-button value=\"ellipse\" condensed><x-label>Ellipse</x-label></x-button></x-buttons></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject524=function _templateObject524(){return data;};return data;}function _templateObject523(){var data=_taggedTemplateLiteral(["#preset-select{width:100%}#working-size-subsection{display:flex;flex-flow:column}#working-size-subsection h5{margin-bottom:0}#working-size-box{width:100%}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#blur-subsection{display:flex;margin-top:4px}#blur-radius-box{flex:1;margin-right:4px}#blur-radius-input{width:100%}#blur-delta-box{flex:1;margin-left:4px}#blur-delta-input{width:100%}#number-of-colors-box{flex:1}#number-of-colors-input{width:100%}#min-color-ratio-box{flex:1;margin:0 8px}#min-color-ratio-input{width:100%}#color-quant-cycles-box{flex:1}#color-quant-cycles-input{width:100%}#color-sampling-box{margin-top:8px}#color-sampling-buttons{width:100%}#color-sampling-buttons x-button{flex:1}#ltres-box{flex:1}#ltres-input{width:100%}#qtres-box{flex:1;margin:0 8px}#qtres-input{width:100%}#path-omit-box{flex:1}#path-omit-input{width:100%}#right-angle-enhance-checkbox{margin-top:6px}#right-angle-enhance-checkbox x-label{font-size:12px}#stroke-width-box x-box{width:100%}#stroke-width-heading{margin-bottom:0}#stroke-width-slider{flex:1}#stroke-width-input{margin-left:10px;width:60px}#line-filter-checkbox{margin-top:6px}#line-filter-checkbox x-label{font-size:12px}#ignore-white-checkbox{margin-top:6px}#ignore-white-checkbox x-label{font-size:12px}#preview{height:160px}#preview-label{text-align:center;font-weight:600;font-size:12px;opacity:.7}"]);_templateObject523=function _templateObject523(){return data;};return data;}function _templateObject522(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Vectorize</x-label></x-button></template>"]);_templateObject522=function _templateObject522(){return data;};return data;}function _templateObject521(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"preset-subsection\"><h4 id=\"preset-heading\">Preset</h4><x-select id=\"preset-select\"><x-menu><x-menuitem value=\"default\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"blackAndWhite\"><x-label>Black and white</x-label></x-menuitem><x-menuitem value=\"grayscale\"><x-label>Grayscale</x-label></x-menuitem><x-menuitem value=\"posterized\"><x-label>Posterized</x-label></x-menuitem><x-menuitem value=\"curvy\"><x-label>Curvy</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"detailed\"><x-label>Detailed</x-label></x-menuitem><x-menuitem value=\"smoothed\"><x-label>Smoothed</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"preprocessing-subsection\"><h4 id=\"preprocessing-heading\">Preprocessing</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"2000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-subsection\"><x-box id=\"blur-radius-box\" vertical><h5 id=\"blur-radius-heading\">Blur radius</h5><x-numberinput id=\"blur-radius-input\" min=\"0\" step=\"1\" title=\"Blur radius\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"blur-delta-box\" vertical><h5 id=\"blur-delta-heading\">Blur delta</h5><x-numberinput id=\"blur-delta-input\" min=\"0\" step=\"1\" condensed title=\"RGBA delta treshold for selective Gaussian blur preprocessing\"><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"color-subsection\"><h4 id=\"color-heading\">Color quantization</h4><x-box><x-box id=\"number-of-colors-box\" vertical><h5 id=\"number-of-colors-heading\">Colors</h5><x-numberinput id=\"number-of-colors-input\" min=\"1\" step=\"1\" title=\"Number of colors to use\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"min-color-ratio-box\" vertical><h5 id=\"min-color-ratio-heading\">Min ratio</h5><x-numberinput id=\"min-color-ratio-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will randomize a color if fewer pixels than TOTAL PIXELS * MIN RATIO has it\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"color-quant-cycles-box\" vertical><h5 id=\"color-quant-cycles-heading\">Cycles</h5><x-numberinput id=\"color-quant-cycles-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will be repeated this many times\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"color-sampling-box\" vertical><h5 id=\"color-sampling-heading\">Sampling</h5><x-buttons id=\"color-sampling-buttons\" tracking=\"1\"><x-button value=\"2\" condensed><x-label>Deterministic</x-label></x-button><x-button value=\"1\" condensed><x-label>Random</x-label></x-button><x-button value=\"0\" condensed><x-label>None</x-label></x-button></x-buttons></x-box></section><hr><section id=\"tracing-subsection\"><h4 id=\"tracing-heading\">Tracing</h4><x-box><x-box id=\"ltres-box\" vertical><h5 id=\"ltres-heading\">L treshold</h5><x-numberinput id=\"ltres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for straight lines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"qtres-box\" vertical><h5 id=\"qtres-heading\">Q treshold</h5><x-numberinput id=\"qtres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for quadratic splines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"path-omit-box\" vertical><h5 id=\"path-omit-heading\">Path omit</h5><x-numberinput id=\"path-omit-input\" min=\"0\" step=\"1\" condensed title=\"Edge node paths shorter than this will be discarded for noise reduction\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"right-angle-enhance-checkbox\"><x-label id=\"right-angle-enhance-label\">Enhance right angle corners</x-label></x-checkbox></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><x-box id=\"stroke-width-box\" vertical><h5 id=\"stroke-width-heading\">Stroke width</h5><x-box><x-slider id=\"stroke-width-slider\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"stroke-width-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"line-filter-checkbox\"><x-label>Enable line filter for noise reduction</x-label></x-checkbox><x-checkbox id=\"ignore-white-checkbox\"><x-label>Ignore white</x-label></x-checkbox></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\" hidden></svg><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject521=function _templateObject521(){return data;};return data;}function _templateObject520(){var data=_taggedTemplateLiteral(["#view-select{width:100%}#area-subsection{margin-top:14px}#area-buttons{width:100%}#area-buttons x-button{flex:1}#padding-subsection{margin-top:14px}#padding-heading{margin:0}#padding-input{width:240px;margin:0 auto}#origin-subsection{margin-top:14px}#origin-heading{margin:0;flex:1}#origin-switch{margin:0}#origin-box{display:flex;margin-top:14px}#origin-x-box{flex:1;margin-right:6px}#origin-y-box{flex:1;margin-left:6px}#origin-x-input,#origin-y-input{width:100%;margin-top:4px}#origin-x-label,#origin-y-label{font-size:12px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;background-image:none}#preview-table{width:100%;margin-top:14px;font-size:12px}#preview-table td:first-child{text-align:end;font-weight:700}#preview-table td:last-child{width:50%}"]);_templateObject520=function _templateObject520(){return data;};return data;}function _templateObject519(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Resize</x-label></x-button></template>"]);_templateObject519=function _templateObject519(){return data;};return data;}function _templateObject518(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"view-subsection\"><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"area-subsection\"><h4 id=\"area-heading\">Objects</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button id=\"all-area-button\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button id=\"selected-area-button\" value=\"selected\"><x-label>Selected</x-label></x-button></x-buttons></section><section id=\"padding-subsection\"><h4 id=\"padding-heading\">Padding</h4><bx-edgeinput id=\"padding-input\"></bx-edgeinput></section><section id=\"origin-subsection\"><x-box id=\"origin-heading-box\"><h4 id=\"origin-heading\">Origin</h4><x-switch id=\"origin-switch\" size=\"smaller\"></x-switch></x-box><x-box id=\"origin-box\"><x-box id=\"origin-x-box\" vertical><x-label id=\"origin-x-label\">X</x-label><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><x-label id=\"origin-y-label\">Y</x-label><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box></x-box></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><image id=\"preview\" part=\"preview\"></image><table id=\"preview-table\"><tr><td>X:</td><td id=\"preview-x-td\">0</td></tr><tr><td>Y:</td><td id=\"preview-y-td\">0</td></tr><tr><td>Width:</td><td id=\"preview-width-td\">100</td></tr><tr><td>Height:</td><td id=\"preview-height-td\">100</td></tr></table></section></template>"]);_templateObject518=function _templateObject518(){return data;};return data;}function _templateObject517(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}:host([hidden]){display:none}#main{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:2px}x-box{width:100%;margin:10px 0;justify-content:space-between}x-button{width:72px}x-numberinput{width:72px}"]);_templateObject517=function _templateObject517(){return data;};return data;}function _templateObject516(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-numberinput id=\"top-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-box><x-numberinput id=\"left-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-button id=\"uniform-button\" condensed togglable><x-label>Uniform</x-label></x-button><x-numberinput id=\"right-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-numberinput id=\"bottom-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></main></template>"]);_templateObject516=function _templateObject516(){return data;};return data;}function _templateObject515(){var data=_taggedTemplateLiteral(["#format-buttons{width:100%}#format-buttons x-button{flex:1}#ppu-subsection{margin-top:14px}#ppu-subsection x-box{width:100%}#ppu-heading{margin-bottom:0}#ppu-slider{flex:1}#ppu-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#compression-subsection{margin-top:10px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:10px}#background-select x-popover{--align:right}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject515=function _templateObject515(){return data;};return data;}function _templateObject514(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Rasterize</x-label></x-button></template>"]);_templateObject514=function _templateObject514(){return data;};return data;}function _templateObject513(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4 id=\"format-heading\">Format</h4><x-buttons id=\"format-buttons\" tracking=\"1\"><x-button id=\"png-format-button\" value=\"png\" toggled><x-label>PNG</x-label></x-button><x-button id=\"jpeg-format-button\" value=\"jpeg\"><x-label>JPEG</x-label></x-button></x-buttons></section><section id=\"ppu-subsection\"><h4 id=\"ppu-heading\">Pixels per unit</h4><x-box id=\"ppu-box\"><x-slider id=\"ppu-slider\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\"></x-slider><x-numberinput id=\"ppu-input\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"colors-rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"colors-palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject513=function _templateObject513(){return data;};return data;}function _templateObject512(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#grid-subsection{margin-top:14px}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#tab-size-subsection{margin-top:14px}#tab-size-subsection h4{margin:0}#tab-size-slider{flex:1}#tab-size-input{width:60px;margin-left:10px}#jitter-subsection{margin-top:10px}#jitter-subsection h4{margin:0}#jitter-slider{flex:1}#jitter-input{width:60px;margin-left:10px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#preview{height:160px}"]);_templateObject512=function _templateObject512(){return data;};return data;}function _templateObject511(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject511=function _templateObject511(){return data;};return data;}function _templateObject510(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"500\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"tab-size-subsection\"><h4 id=\"tab-size-heading\">Tab size</h4><x-box id=\"tab-size-box\"><x-slider id=\"tab-size-slider\" value=\"10\" min=\"10\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"tab-size-input\" value=\"10\" min=\"10\" max=\"30\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"jitter-subsection\"><h4 id=\"jitter-heading\">Jitter</h4><x-box id=\"jitter-box\"><x-slider id=\"jitter-slider\" value=\"0\" min=\"0\" max=\"15\" step=\"1\"></x-slider><x-numberinput id=\"jitter-input\" value=\"0\" min=\"0\" max=\"15\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject510=function _templateObject510(){return data;};return data;}function _templateObject509(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#cell-size-subsection{margin-top:14px}#cell-size-subsection h4{margin:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-subsection h4{margin:0}#colors-box{margin-top:7px}#colors-subsection x-colorselect{flex:1;margin:0 3px}#colors-subsection x-colorselect:first-child{margin-left:0}#colors-subsection x-colorselect:last-child{margin-right:0}#colors-subsection x-popover{--align:left}#random-colors-button{width:100%;margin-top:7px}#preview{height:160px;shape-rendering:crispEdges}"]);_templateObject509=function _templateObject509(){return data;};return data;}function _templateObject508(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject508=function _templateObject508(){return data;};return data;}function _templateObject507(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"600\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-on\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"100\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"100\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-box id=\"colors-box\"><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect></x-box><x-button id=\"random-colors-button\" condensed><x-label>Generate random colors</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject507=function _templateObject507(){return data;};return data;}function _templateObject506(){var data=_taggedTemplateLiteral(["#hall-radius-subsection h4{margin:0}#hall-radius-slider{flex:1}#hall-radius-input{width:60px;margin-left:10px}#seat-radius-subsection{margin-top:10px}#seat-radius-subsection h4{margin:0}#seat-radius-slider{flex:1}#seat-radius-input{width:60px;margin-left:10px}#parties-subsection{margin-top:10px}#parties-box .party-box{width:100%}#parties-box .party-box+.party-box{margin-top:8px}#parties-box x-popover{--align:left}#parties-box x-numberinput{flex:1;margin:0 8px}#parties-box x-icon{width:12px;height:12px}#add-party-button{width:100%;margin-top:8px}#add-party-button x-icon{width:11px;height:11px}#preview{height:160px}"]);_templateObject506=function _templateObject506(){return data;};return data;}function _templateObject505(){var data=_taggedTemplateLiteral(["<template><x-box class=\"party-box\"><x-colorselect value=\"#4b4ba7\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-numberinput value=\"10\" min=\"1\" suffix=\" seat(s)\" condensed><x-stepper></x-stepper></x-numberinput><x-button class=\"delete-button\" condensed><x-icon name=\"trash\"></x-icon></x-button></x-box></template>"]);_templateObject505=function _templateObject505(){return data;};return data;}function _templateObject504(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject504=function _templateObject504(){return data;};return data;}function _templateObject503(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"hall-radius-subsection\"><h4 id=\"hall-radius-heading\">Hall radius</h4><x-box id=\"hall-radius-box\"><x-slider id=\"hall-radius-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hall-radius-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seat-radius-subsection\"><h4 id=\"seat-radius-heading\">Seat radius</h4><x-box id=\"seat-radius-box\"><x-slider id=\"seat-radius-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seat-radius-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"parties-subsection\"><h4>Parties</h4><x-box id=\"parties-box\" vertical></x-box><x-button id=\"add-party-button\"><x-icon name=\"plus\"></x-icon><x-label>Add</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject503=function _templateObject503(){return data;};return data;}function _templateObject502(){var data=_taggedTemplateLiteral(["#mode-select{width:100%}#charset-subsection{margin-top:14px}#charset-select{width:100%}#error-correction-subsection{margin-top:14px}#error-correction-buttons{width:100%}#error-correction-buttons x-button{flex:1}#value-subsection{margin-top:14px}#value-input{max-width:none}"]);_templateObject502=function _templateObject502(){return data;};return data;}function _templateObject501(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject501=function _templateObject501(){return data;};return data;}function _templateObject500(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"mode-subsection\"><h4>Mode</h4><x-select id=\"mode-select\"><x-menu><x-menuitem value=\"Byte\"><x-label>Byte</x-label></x-menuitem><x-menuitem value=\"Alphanumeric\"><x-label>Alphanumeric</x-label></x-menuitem><x-menuitem value=\"Numeric\"><x-label>Numeric</x-label></x-menuitem><x-menuitem value=\"Kanji\"><x-label>Kanji</x-label></x-menuitem></x-menu></x-select></section><section id=\"charset-subsection\"><h4>Charset</h4><x-select id=\"charset-select\"><x-menu><x-menuitem value=\"default\"><x-label>ISO 8859-1</x-label></x-menuitem><x-menuitem value=\"UTF-8\"><x-label>UTF-8</x-label></x-menuitem><x-menuitem value=\"SJIS\"><x-label>SJIS</x-label></x-menuitem></x-menu></x-select></section><section id=\"error-correction-subsection\"><h4>Error correction</h4><x-buttons id=\"error-correction-buttons\" tracking=\"1\"><x-button value=\"L\"><x-label>7%</x-label></x-button><x-button value=\"M\"><x-label>15%</x-label></x-button><x-button value=\"Q\"><x-label>25%</x-label></x-button><x-button value=\"H\"><x-label>30%</x-label></x-button></x-buttons></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" validation=\"instant\"></x-input></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject500=function _templateObject500(){return data;};return data;}function _templateObject499(){var data=_taggedTemplateLiteral(["#format-select{width:100%}#value-subsection{margin-top:14px}#value-input{max-width:none}#display-value-box{margin-top:8px}#label-subsection{margin-top:14px}#label-header{display:flex;align-items:center}#label-heading{margin:0;flex:1}#label-position-box{margin-top:8px}#label-position-label{font-size:11px;font-weight:500;margin:0 0 4px 0}#label-position-buttons{width:100%}#label-position-buttons x-button{flex:1}"]);_templateObject499=function _templateObject499(){return data;};return data;}function _templateObject498(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject498=function _templateObject498(){return data;};return data;}function _templateObject497(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4>Format</h4><x-select id=\"format-select\"><x-menu><x-menuitem value=\"CODE128\" toggled><x-label>CODE 128</x-label></x-menuitem><x-menuitem value=\"CODE39\"><x-label>CODE 39</x-label></x-menuitem><hr><x-menuitem value=\"EAN2\"><x-label>EAN-2</x-label></x-menuitem><x-menuitem value=\"EAN5\"><x-label>EAN-5</x-label></x-menuitem><x-menuitem value=\"EAN8\"><x-label>EAN-8</x-label></x-menuitem><x-menuitem value=\"EAN13\"><x-label>EAN-13</x-label></x-menuitem><x-menuitem value=\"UPC\"><x-label>UPC</x-label></x-menuitem><hr><x-menuitem value=\"MSI\"><x-label>MSI</x-label></x-menuitem><x-menuitem value=\"MSI10\"><x-label>MSI10</x-label></x-menuitem><x-menuitem value=\"MSI11\"><x-label>MSI11</x-label></x-menuitem><x-menuitem value=\"MSI1010\"><x-label>MSI1010</x-label></x-menuitem><x-menuitem value=\"MSI1110\"><x-label>MSI1110</x-label></x-menuitem><hr><x-menuitem value=\"codabar\"><x-label>Codabar</x-label></x-menuitem><x-menuitem value=\"pharmacode\"><x-label>Pharmacode</x-label></x-menuitem><x-menuitem value=\"ITF14\"><x-label>ITF14</x-label></x-menuitem></x-menu></x-select></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" value=\"9999\" validation=\"instant\"></x-input></section><section id=\"label-subsection\"><header id=\"label-header\"><h4 id=\"label-heading\">Label</h4><x-switch id=\"label-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"label-position-box\" vertical><x-label id=\"label-position-label\">Position</x-label><x-buttons id=\"label-position-buttons\" tracking=\"1\"><x-button id=\"label-position-left-button\" value=\"left\" condensed><x-label>Left</x-label></x-button><x-button id=\"label-position-center-button\" value=\"center\" condensed toggled><x-label>Center</x-label></x-button><x-button id=\"label-position-right-button\" value=\"right\" condensed><x-label>Right</x-label></x-button><x-button id=\"label-position-inset-button\" value=\"inset\" condensed><x-label>Inset</x-label></x-button></x-buttons></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject497=function _templateObject497(){return data;};return data;}function _templateObject496(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}:host(:focus){outline:0}:host([hidden]){display:none}h3:first-child{margin-top:0}section>hr{margin:14px 0}#main{flex:1;box-sizing:border-box;width:100%;overflow:auto}#options-section{padding:16px 20px}#preview-section{padding:16px 20px}#preview{width:100%;height:100px;user-select:none;border-width:1px;border-style:solid}#preview[hidden]{display:none}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer:empty{display:none}#footer x-button{width:100%}#footer x-progressbar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject496=function _templateObject496(){return data;};return data;}function _templateObject495(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></template>"]);_templateObject495=function _templateObject495(){return data;};return data;}function _templateObject494(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#main{display:flex;width:100%;height:100%;min-height:100px;flex:1}#main>*{flex:1}"]);_templateObject494=function _templateObject494(){return data;};return data;}function _templateObject493(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Library</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button skin=\"flat\" value=\"colors-library-browser\"><x-icon name=\"library-colors\"></x-icon></x-button><x-button skin=\"flat\" value=\"gradients-library-browser\"><x-icon name=\"library-gradients\"></x-icon></x-button><x-button skin=\"flat\" value=\"fonts-library-browser\"><x-icon name=\"library-fonts\"></x-icon></x-button><x-button skin=\"flat\" value=\"bitmaps-library-browser\"><x-icon name=\"library-bitmaps\"></x-icon></x-button><x-button skin=\"flat\" value=\"vectors-library-browser\"><x-icon name=\"library-vectors\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorslibrarybrowser id=\"colors-library-browser\"></bx-colorslibrarybrowser><bx-gradientslibrarybrowser id=\"gradients-library-browser\"></bx-gradientslibrarybrowser><bx-fontslibrarybrowser id=\"fonts-library-browser\"></bx-fontslibrarybrowser><bx-bitmapslibrarybrowser id=\"bitmaps-library-browser\"></bx-bitmapslibrarybrowser><bx-vectorslibrarybrowser id=\"vectors-library-browser\"></bx-vectorslibrarybrowser></main></template>"]);_templateObject493=function _templateObject493(){return data;};return data;}function _templateObject492(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:230px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-license-label,#meta-name-label,#meta-user-label{font-size:13px;font-weight:700}#meta-license-value,#meta-name-value,#meta-user-value{font-size:13px;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject492=function _templateObject492(){return data;};return data;}function _templateObject491(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Vectors</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"cloud\" id=\"cloud-provider-select-item\"><x-icon name=\"cloud\"></x-icon><x-label>Cloud</x-label></x-menuitem><hr id=\"cloud-provider-select-separator\"><x-menuitem value=\"pixabay\" toggled><x-icon name=\"pixabay\"></x-icon><x-label>Pixabay</x-label></x-menuitem><x-menuitem value=\"wikimedia\"><x-icon name=\"wikimedia\"></x-icon><x-label>Wikimedia</x-label></x-menuitem><hr><x-menuitem value=\"fluent-icons\"><x-icon name=\"fluent-design\"></x-icon><x-label>Fluent Icons</x-label></x-menuitem><x-menuitem value=\"material-icons\"><x-icon name=\"material-design\"></x-icon><x-label>Material Icons</x-label></x-menuitem><x-menuitem value=\"remix-icons\"><x-icon name=\"remix-design\"></x-icon><x-label>Remix Icons</x-label></x-menuitem><hr><x-menuitem value=\"google-emojis\"><x-icon name=\"google\"></x-icon><x-label>Google Emojis</x-label></x-menuitem><x-menuitem value=\"twitter-emojis\"><x-icon name=\"twitter\"></x-icon><x-label>Twitter Emojis</x-label></x-menuitem><hr></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-name\"><span id=\"meta-name-label\">Name</span>: <span id=\"meta-name-value\"></span></div><div id=\"meta-user\"><span id=\"meta-user-label\"></span>: <span id=\"meta-user-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject491=function _templateObject491(){return data;};return data;}function _templateObject490(){var data=_taggedTemplateLiteral(["#category-select{width:100%}#skin-tone-select{width:100%}"]);_templateObject490=function _templateObject490(){return data;};return data;}function _templateObject489(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"smileys-and-emotions\"><x-label>Smileys & Emotion</x-label></x-menuitem><x-menuitem value=\"people-and-body\"><x-label>People & Body</x-label></x-menuitem><x-menuitem value=\"animals-and-nature\"><x-label>Animals & Nature</x-label></x-menuitem><x-menuitem value=\"food-and-drinks\"><x-label>Food & Drink</x-label></x-menuitem><x-menuitem value=\"travel-and-places\"><x-label>Travel & Places</x-label></x-menuitem><x-menuitem value=\"activities\"><x-label>Activities</x-label></x-menuitem><x-menuitem value=\"objects\"><x-label>Objects</x-label></x-menuitem><x-menuitem value=\"symbols\"><x-label>Symbols</x-label></x-menuitem><x-menuitem value=\"flags\"><x-label>Flags</x-label></x-menuitem></x-menu></x-select></section><section id=\"skin-tone-section\"><h4>Skin tone</h4><x-select id=\"skin-tone-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"medium-light\"><x-label>Medium Light</x-label></x-menuitem><x-menuitem value=\"medium\"><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"medium-dark\"><x-label>Medium Dark</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject489=function _templateObject489(){return data;};return data;}function _templateObject488(){var data=_taggedTemplateLiteral(["#category-select{width:100%}#skin-tone-select{width:100%}"]);_templateObject488=function _templateObject488(){return data;};return data;}function _templateObject487(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"smileys-and-emotions\"><x-label>Smileys & Emotion</x-label></x-menuitem><x-menuitem value=\"people-and-body\"><x-label>People & Body</x-label></x-menuitem><x-menuitem value=\"animals-and-nature\"><x-label>Animals & Nature</x-label></x-menuitem><x-menuitem value=\"food-and-drinks\"><x-label>Food & Drink</x-label></x-menuitem><x-menuitem value=\"travel-and-places\"><x-label>Travel & Places</x-label></x-menuitem><x-menuitem value=\"activities\"><x-label>Activities</x-label></x-menuitem><x-menuitem value=\"objects\"><x-label>Objects</x-label></x-menuitem><x-menuitem value=\"symbols\"><x-label>Symbols</x-label></x-menuitem><x-menuitem value=\"flags\"><x-label>Flags</x-label></x-menuitem></x-menu></x-select></section><section id=\"skin-tone-section\"><h4>Skin tone</h4><x-select id=\"skin-tone-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"medium-light\"><x-label>Medium Light</x-label></x-menuitem><x-menuitem value=\"medium\"><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"medium-dark\"><x-label>Medium Dark</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject487=function _templateObject487(){return data;};return data;}function _templateObject486(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}#category-select{width:100%}"]);_templateObject486=function _templateObject486(){return data;};return data;}function _templateObject485(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem><x-menuitem value=\"outlined\"><x-label>Outlined</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"communication\"><x-label>Communication</x-label></x-menuitem><x-menuitem value=\"design\"><x-label>Design</x-label></x-menuitem><x-menuitem value=\"development\"><x-label>Development</x-label></x-menuitem><x-menuitem value=\"device\"><x-label>Device</x-label></x-menuitem><x-menuitem value=\"document\"><x-label>Document</x-label></x-menuitem><x-menuitem value=\"editor\"><x-label>Editor</x-label></x-menuitem><x-menuitem value=\"finance\"><x-label>Finance</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"logos\"><x-label>Logos</x-label></x-menuitem><x-menuitem value=\"map\"><x-label>Map</x-label></x-menuitem><x-menuitem value=\"media\"><x-label>Media</x-label></x-menuitem><x-menuitem value=\"system\"><x-label>System</x-label></x-menuitem><x-menuitem value=\"user\"><x-label>User</x-label></x-menuitem><x-menuitem value=\"weather\"><x-label>Weather</x-label></x-menuitem><hr><x-menuitem value=\"others\"><x-label>Others</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject485=function _templateObject485(){return data;};return data;}function _templateObject484(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}#category-select{width:100%}"]);_templateObject484=function _templateObject484(){return data;};return data;}function _templateObject483(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem><x-menuitem value=\"outlined\"><x-label>Outlined</x-label></x-menuitem><x-menuitem value=\"round\"><x-label>Rounded</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"two-tone\"><x-label>Two Tone</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"action\"><x-label>Action</x-label></x-menuitem><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"av\"><x-label>Audio & Video</x-label></x-menuitem><x-menuitem value=\"communication\"><x-label>Communication</x-label></x-menuitem><x-menuitem value=\"content\"><x-label>Content</x-label></x-menuitem><x-menuitem value=\"device\"><x-label>Device</x-label></x-menuitem><x-menuitem value=\"editor\"><x-label>Editor</x-label></x-menuitem><x-menuitem value=\"file\"><x-label>File</x-label></x-menuitem><x-menuitem value=\"hardware\"><x-label>Hardware</x-label></x-menuitem><x-menuitem value=\"home\"><x-label>Home</x-label></x-menuitem><x-menuitem value=\"image\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"maps\"><x-label>Maps</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"notification\"><x-label>Notification</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"social\"><x-label>Social</x-label></x-menuitem><x-menuitem value=\"toggle\"><x-label>Toggle</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject483=function _templateObject483(){return data;};return data;}function _templateObject482(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}"]);_templateObject482=function _templateObject482(){return data;};return data;}function _templateObject481(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"regular\"><x-label>Regular</x-label></x-menuitem><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject481=function _templateObject481(){return data;};return data;}function _templateObject480(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject480=function _templateObject480(){return data;};return data;}function _templateObject479(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}#orientation-select{width:100%}#category-select{width:100%}"]);_templateObject479=function _templateObject479(){return data;};return data;}function _templateObject478(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select></section><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject478=function _templateObject478(){return data;};return data;}function _templateObject477(){var data=_taggedTemplateLiteral([":host{width:235px}#scope-buttons{width:100%}#scope-buttons>x-button{flex:1}"]);_templateObject477=function _templateObject477(){return data;};return data;}function _templateObject476(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"scope-section\"><h4>Scope</h4><x-buttons id=\"scope-buttons\" tracking=\"1\"><x-button value=\"personal\" toggled><x-label>Personal</x-label></x-button><x-button value=\"org\"><x-label>Organization</x-label></x-button></x-buttons></section></main></template>"]);_templateObject476=function _templateObject476(){return data;};return data;}function _templateObject475(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-license{margin-top:2px}#meta-license-label,#meta-user-label{font-weight:700;font-size:13px}#meta-license-value,#meta-user-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject475=function _templateObject475(){return data;};return data;}function _templateObject474(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Bitmaps</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"pexels\"><x-icon name=\"pexels\"></x-icon><x-label>Pexels</x-label></x-menuitem><x-menuitem value=\"pixabay\" toggled><x-icon name=\"pixabay\"></x-icon><x-label>Pixabay</x-label></x-menuitem><x-menuitem value=\"unsplash\" id=\"unsplash-menu-item\"><x-icon name=\"unsplash\"></x-icon><x-label>Unsplash</x-label></x-menuitem><x-menuitem value=\"wikimedia\"><x-icon name=\"wikimedia\"></x-icon><x-label>Wikimedia</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-user\"><span id=\"meta-user-label\"></span>: <span id=\"meta-user-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject474=function _templateObject474(){return data;};return data;}function _templateObject473(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject473=function _templateObject473(){return data;};return data;}function _templateObject472(){var data=_taggedTemplateLiteral(["#quality-select{width:100%}#orientation-select{width:100%}"]);_templateObject472=function _templateObject472(){return data;};return data;}function _templateObject471(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"960\"><x-label>960px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject471=function _templateObject471(){return data;};return data;}function _templateObject470(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}#quality-select{width:100%}#orientation-select{width:100%}#category-select{width:100%}"]);_templateObject470=function _templateObject470(){return data;};return data;}function _templateObject469(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select></section><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject469=function _templateObject469(){return data;};return data;}function _templateObject468(){var data=_taggedTemplateLiteral(["#quality-select{width:100%}#orientation-select{width:100%}"]);_templateObject468=function _templateObject468(){return data;};return data;}function _templateObject467(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"960\"><x-label>960px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject467=function _templateObject467(){return data;};return data;}function _templateObject466(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#refresh-button{margin-left:4px;margin-right:-14px}#refresh-button x-icon{width:13px;height:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;color:var(--text-color);align-items:center;box-sizing:border-box;min-height:31px;padding:3px 20px;opacity:.75;overflow:hidden;background:0 0;touch-action:pan-y}#items .item[data-selected]{color:#fff;background:var(--accent-color);opacity:1}#items .item[hidden]{display:none}#items .item .thumbnail{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none;font-size:20px;line-height:1;white-space:pre;color:inherit}#items .item[data-provider=google-fonts]{align-items:stretch}#items .item[data-provider=google-fonts] .thumbnail{width:100%;background-color:currentColor;-webkit-mask-repeat:no-repeat;-webkit-mask-origin:content-box}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:60px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-category,#meta-license,#meta-subsets,#meta-weights{margin-top:2px}#meta-category-label,#meta-family-label,#meta-license-label,#meta-subsets-label,#meta-weights-label{font-weight:700;font-size:13px}#meta-category-value,#meta-family-value,#meta-license-value,#meta-subsets-value,#meta-weights-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-google-fonts-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-google-fonts-button{width:100%}#meta-embed-button,#meta-link-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject466=function _templateObject466(){return data;};return data;}function _templateObject465(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"google-fonts\" toggled><x-icon name=\"google-fonts\"></x-icon><x-label>Google Fonts</x-label></x-menuitem><x-menuitem value=\"local-fonts\" toggled><x-icon id=\"local-fonts-icon\" name=\"os-","\"></x-icon><x-label>Local Fonts</x-label></x-menuitem></x-menu></x-select><x-button id=\"refresh-button\" skin=\"flat\" title=\"Refresh\" toggled><x-icon name=\"refresh\"></x-icon></x-button></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-family\"><span id=\"meta-family-label\">Family: </span><span id=\"meta-family-value\"></span></div><div id=\"meta-weights\"><span id=\"meta-weights-label\">Weights: </span><span id=\"meta-weights-value\"></span></div><div id=\"meta-subsets\"><span id=\"meta-subsets-label\">Subsets: </span><span id=\"meta-subsets-value\"></span></div><div id=\"meta-category\"><span id=\"meta-category-label\">Category: </span><span id=\"meta-category-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer id=\"meta-footer\" part=\"footer\"><a id=\"meta-google-fonts-anchor\" target=\"_blank\"><x-button id=\"meta-google-fonts-button\"><x-label>View on Google Fonts</x-label></x-button></a><x-button id=\"meta-link-button\" toggled><x-label>Add to Defs (Link)</x-label></x-button><x-button id=\"meta-embed-button\" toggled><x-label>Add to Defs (Embed)</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject465=function _templateObject465(){return data;};return data;}function _templateObject464(){var data=_taggedTemplateLiteral(["#sort-select{width:100%}#category-select{width:100%}#subset-select{width:100%}"]);_templateObject464=function _templateObject464(){return data;};return data;}function _templateObject463(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-select id=\"sort-select\"><x-menu id=\"sort-menu\"><x-menuitem value=\"alphabetical\" toggled><x-label>Alphabetical</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popular</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Latest</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu id=\"category-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"subset-section\"><h4>Subset</h4><x-select id=\"subset-select\"><x-menu id=\"subset-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section></main></template>"]);_templateObject463=function _templateObject463(){return data;};return data;}function _templateObject462(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-name-label{font-weight:700;font-size:13px}#meta-name-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-tags-label{font-weight:700;font-size:13px}#meta-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject462=function _templateObject462(){return data;};return data;}function _templateObject461(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"ui-gradients\" toggled><x-icon name=\"ui-gradients\"></x-icon><x-label>uiGradients</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-name\"><span id=\"meta-name-label\">Name:</span> <span id=\"meta-name-value\"></span></div><div id=\"meta-tags\"><span id=\"meta-tags-label\">Tags:</span> <span id=\"meta-tags-value\"></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed hidden><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject461=function _templateObject461(){return data;};return data;}function _templateObject460(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-tags-label{font-weight:700;font-size:13px}#meta-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject460=function _templateObject460(){return data;};return data;}function _templateObject459(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"color-hunt\" toggled><x-icon name=\"color-hunt\"></x-icon><x-label>Color Hunt</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-tags\"><span id=\"meta-tags-label\">Tags:</span> <span id=\"meta-tags-value\"></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject459=function _templateObject459(){return data;};return data;}function _templateObject458(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}"]);_templateObject458=function _templateObject458(){return data;};return data;}function _templateObject457(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\"><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section></main></template>"]);_templateObject457=function _templateObject457(){return data;};return data;}function _templateObject456(){var data=_taggedTemplateLiteral([":host{display:block;padding:10px;width:175px;box-sizing:border-box}h4{margin-top:0}#main>section{margin-top:12px}#main>section:first-child,#main>section[hidden]+section{margin-top:0}"]);_templateObject456=function _templateObject456(){return data;};return data;}function _templateObject455(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#buttons #markers-button{overflow:visible}#buttons #markers-button x-icon{overflow:visible}#main{display:flex;width:100%;height:100%;min-height:38px;flex:1}#main>*{flex:1}"]);_templateObject455=function _templateObject455(){return data;};return data;}function _templateObject454(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Defs</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button id=\"colors-button\" skin=\"flat\" value=\"colors-browser\"><x-icon name=\"defs-colors\"></x-icon></x-button><x-button id=\"gradients-button\" skin=\"flat\" value=\"gradients-browser\"><x-icon name=\"defs-gradients\"></x-icon></x-button><x-button id=\"patterns-button\" skin=\"flat\" value=\"patterns-browser\"><x-icon name=\"defs-patterns\"></x-icon></x-button><x-button id=\"markers-button\" skin=\"flat\" value=\"markers-browser\"><x-icon name=\"defs-markers\"></x-icon></x-button><x-button id=\"symbols-button\" skin=\"flat\" value=\"symbols-browser\"><x-icon name=\"defs-symbols\"></x-icon></x-button><x-button id=\"filters-button\" skin=\"flat\" value=\"filters-browser\"><x-icon name=\"defs-filters\"></x-icon></x-button><x-button id=\"fonts-button\" skin=\"flat\" value=\"fonts-browser\"><x-icon name=\"defs-fonts\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorsbrowser id=\"colors-browser\"></bx-colorsbrowser><bx-gradientsbrowser id=\"gradients-browser\"></bx-gradientsbrowser><bx-patternsbrowser id=\"patterns-browser\"></bx-patternsbrowser><bx-markersbrowser id=\"markers-browser\"></bx-markersbrowser><bx-symbolsbrowser id=\"symbols-browser\"></bx-symbolsbrowser><bx-filtersbrowser id=\"filters-browser\"></bx-filtersbrowser><bx-fontsbrowser id=\"fonts-browser\"></bx-fontsbrowser></main></template>"]);_templateObject454=function _templateObject454(){return data;};return data;}function _templateObject453(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.family-item{width:100%;position:relative;z-index:0}.family-item>.background{position:absolute;top:0;left:0;width:100%;height:38px;z-index:-1}.family-item[data-selected]>.background{background:var(--accent-color)}.family-item>.main{position:relative;z-index:1;display:flex;height:38px;align-items:center;box-sizing:border-box;padding-right:10px}.family-item>.main>.label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:24px;font-weight:400}.family-item[data-selected]>.main>.label{color:#fff}.family-item .unlink-button{margin-right:6px}.family-item .unlink-button x-icon{width:14px;height:14px;opacity:.7}.family-item .counter-button{margin-right:6px}.family-item .pin-button[toggled]{color:currentColor}.family-item .pin-button x-icon{width:16px;height:16px;opacity:.2}.family-item .pin-button[toggled] x-icon{opacity:.7}.font-items-outer{overflow:hidden}.font-items{transform-origin:0 0}.font-items[hidden]{display:none}.font-item{padding:0 28px 0 42px;overflow:hidden;white-space:nowrap}.font-item[data-selected]{background:var(--accent-color);color:#fff}.font-item .label{text-overflow:ellipsis;overflow:hidden}.family-item>.main>.arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center}.family-item[data-selected]>.main>.arrow-button{color:#fff}.family-item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.family-item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.family-item path{fill:currentColor}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject453=function _templateObject453(){return data;};return data;}function _templateObject452(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No fonts found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"add-button\" title=\"New font\"><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-from-disk\" id=\"add-from-disk-menu-item\"><x-label>Add Fonts from Disk\u2026</x-label></x-menuitem><x-menuitem value=\"add-from-library\" id=\"add-from-library-menu-item\"><x-label>Add Fonts from Library\u2026</x-label></x-menuitem></x-menu><x-icon name=\"plus\"></x-icon></x-button></x-box></footer></x-box></template>"]);_templateObject452=function _templateObject452(){return data;};return data;}function _templateObject451(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#filter-inspector-popover{width:600px;height:400px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject451=function _templateObject451(){return data;};return data;}function _templateObject450(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Filters</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No filters found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"filter-inspector-popover\"><bx-filterinspector id=\"filter-inspector\"></bx-filterinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New filter\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-filter\"><x-label>Add Filter</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject450=function _templateObject450(){return data;};return data;}function _templateObject449(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;outline:0;contain:size layout style;--edge-color:#696869;--node-background-color:#d0d0d0;--node-foreground-color:#949494}#main{position:relative;box-sizing:border-box;overflow:hidden;flex:1}#graph-backdrop{fill:none;stroke:none}#graph-nodes .node{color:var(--node-foreground-color);transition:.2s transform linear}#graph-nodes .node[data-highlighted],#graph-nodes .node[data-selected]{color:var(--dark-accent-color)}#graph-nodes .node[data-disabled]{opacity:.5}#graph-nodes .node .background{fill:var(--node-background-color);stroke:currentColor;stroke-width:2px}#graph-nodes .node[data-highlighted] .background,#graph-nodes .node[data-selected] .background{fill:var(--accent-color)}#graph-nodes .node x-icon{width:100%;height:100%;color:currentColor}#graph-edges .edge-inline{fill:none;stroke:var(--edge-color);stroke-width:2px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#edge-marker);transition:.2s d linear}#graph-edges .edge[data-selected] .edge-inline{stroke:var(--accent-color);stroke-width:3px;marker-end:url(#selected-edge-marker)}#graph-edges .edge[data-disabled]{opacity:.3}#graph-edges .edge-outline{fill:none;stroke:transparent;stroke-width:12px;stroke-linejoin:round;stroke-miterlimit:10}#edge-marker{fill:var(--edge-color)}#selected-edge-marker{fill:var(--accent-color)}#graph-edges .label-text{font-size:11px;font-weight:700;display:none;color:#fff;background:var(--edge-color);font-family:inherit;text-align:center;vertical-align:middle;border-radius:12px;transition:.2s x linear,.2s y linear}#graph-edges .edge[data-selected] .label-text{background:var(--accent-color);display:initial}#graph-edges .edge[data-labeled] .label-text{display:initial}#graph-ghost-edge{fill:none;stroke:var(--accent-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#selected-edge-marker);pointer-events:none}#canvas-buttons{position:absolute;right:10px;bottom:10px}#zoom-button{border-radius:0;padding:0 10px}#zoom-button>x-icon{width:12px;height:12px}#add-primitive-button{border-radius:0;padding:0 10px}#add-primitive-button::part(arrow){display:none}#add-primitive-button>x-icon{width:12px;height:12px}#add-primitive-button>x-menu{--align:end}#sidebar{display:flex;flex-flow:column;width:220px;height:100%;min-width:220px;max-width:400px;box-sizing:border-box;border-left-width:1px;border-left-style:solid;position:relative}#sidebar-header{padding:10px;box-sizing:border-box;border-bottom-width:1px;border-bottom-style:solid}#sidebar-header>h2{margin:0;padding:0;font-size:21px}#sidebar-content{overflow:auto}#sidebar-content>p{padding:0 10px;font-size:13px}#sidebar-resize-grippie{position:absolute;top:0;left:-3px;width:6px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject449=function _templateObject449(){return data;};return data;}function _templateObject448(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><svg id=\"canvas\" width=\"1440px\" height=\"900px\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\"><defs><marker id=\"edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker><marker id=\"selected-edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker></defs><g id=\"graph-group\"><rect id=\"graph-backdrop\"></rect><g id=\"graph-edges\"></g><g id=\"graph-nodes\"></g></g></svg><x-buttons id=\"canvas-buttons\"><x-button id=\"zoom-button\" title=\"Zoom to fit all primitives\" condensed><x-icon name=\"zoom\"></x-icon></x-button><x-button id=\"add-primitive-button\" title=\"Add primitive\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-primitive-menu\" title=\"\"><x-menuitem value=\"SourceGraphic\" id=\"source-graphic-menu-item\"><x-icon name=\"filter-source-graphic\"></x-icon><x-label>Source Graphic</x-label></x-menuitem><x-menuitem value=\"SourceAlpha\" id=\"source-alpha-menu-item\"><x-icon name=\"filter-source-alpha\"></x-icon><x-label>Source Alpha</x-label></x-menuitem><hr><x-menuitem value=\"feBlend\"><x-icon name=\"filter-blend\"></x-icon><x-label>Blend</x-label></x-menuitem><x-menuitem value=\"feComposite\"><x-icon name=\"filter-composite\"></x-icon><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"feMerge\"><x-icon name=\"filter-merge\"></x-icon><x-label>Merge</x-label></x-menuitem><hr><x-menuitem value=\"feFlood\"><x-icon name=\"filter-flood\"></x-icon><x-label>Flood</x-label></x-menuitem><x-menuitem value=\"feImage\"><x-icon name=\"filter-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"feTile\"><x-icon name=\"filter-tile\"></x-icon><x-label>Tile</x-label></x-menuitem><x-menuitem value=\"feTurbulence\"><x-icon name=\"filter-turbulence\"></x-icon><x-label>Turbulence</x-label></x-menuitem><hr><x-menuitem value=\"feColorMatrix\"><x-icon name=\"filter-color-matrix\"></x-icon><x-label>Color Matrix</x-label></x-menuitem><x-menuitem value=\"feComponentTransfer\"><x-icon name=\"filter-component-transfer\"></x-icon><x-label>Component Transfer</x-label></x-menuitem><hr><x-menuitem value=\"feConvolveMatrix\"><x-icon name=\"filter-convolve-matrix\"></x-icon><x-label>Convolve Matrix</x-label></x-menuitem><x-menuitem value=\"feDisplacementMap\"><x-icon name=\"filter-displacement-map\"></x-icon><x-label>Displacement Map</x-label></x-menuitem><x-menuitem value=\"feGaussianBlur\"><x-icon name=\"filter-gaussian-blur\"></x-icon><x-label>Gaussian Blur</x-label></x-menuitem><x-menuitem value=\"feMorphology\"><x-icon name=\"filter-morphology\"></x-icon><x-label>Morphology</x-label></x-menuitem><x-menuitem value=\"feDropShadow\"><x-icon name=\"filter-drop-shadow\"></x-icon><x-label>Drop Shadow</x-label></x-menuitem><x-menuitem value=\"feOffset\"><x-icon name=\"filter-offset\"></x-icon><x-label>Offset</x-label></x-menuitem><hr><x-menuitem value=\"feSpecularLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Specular Lighting</x-label></x-menuitem><x-menuitem value=\"feDiffuseLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Diffuse Lighting</x-label></x-menuitem></x-menu></x-button></x-buttons></main><aside id=\"sidebar\" part=\"sidebar\"><div id=\"sidebar-header\" part=\"sidebar-header\"><h2 id=\"sidebar-heading\"></h2></div><div id=\"sidebar-content\"></div><div id=\"sidebar-resize-grippie\"></div></aside></template>"]);_templateObject448=function _templateObject448(){return data;};return data;}function _templateObject447(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}"]);_templateObject447=function _templateObject447(){return data;};return data;}function _templateObject446(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Diffuse constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject446=function _templateObject446(){return data;};return data;}function _templateObject445(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}#exponent-section h4{margin-bottom:0}#exponent-slider{flex:1}#exponent-input{margin-left:6px;width:54px}"]);_templateObject445=function _templateObject445(){return data;};return data;}function _templateObject444(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Specular constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"exponent-section\"><h4>Specular exponent</h4><x-box id=\"exponent-box\"><x-slider id=\"exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject444=function _templateObject444(){return data;};return data;}function _templateObject443(){var data=_taggedTemplateLiteral(["#surface-scale-section h4{margin-bottom:0}#surface-scale-slider{flex:1}#surface-scale-input{margin-left:6px;width:54px}#color-select x-popover{--align:right}#source-type-buttons{width:100%}#source-type-buttons x-button{flex:1}#source-position-subsection x-numberinput{width:100%}#source-position-x-box,#source-position-y-box,#source-position-z-box{flex:1}#source-position-y-box{margin:0 4px}#source-target-subsection x-numberinput{width:100%}#source-target-x-box,#source-target-y-box,#source-target-z-box{flex:1}#source-target-y-box{margin:0 4px}#source-cone-subsection h5{margin-bottom:0}#source-cone-slider{flex:1}#source-cone-input{margin-left:6px;width:54px}#source-exponent-subsection h5{margin-bottom:0}#source-exponent-slider{flex:1}#source-exponent-input{margin-left:6px;width:54px}#source-azimuth-subsection h5{margin-bottom:0}#source-azimuth-slider{flex:1}#source-azimuth-input{margin-left:6px;width:54px}#source-elevation-subsection h5{margin-bottom:0}#source-elevation-slider{flex:1}#source-elevation-input{margin-left:6px;width:54px}"]);_templateObject443=function _templateObject443(){return data;};return data;}function _templateObject442(){var data=_taggedTemplateLiteral(["<template><section id=\"surface-scale-section\"><h4>Surface scale</h4><x-box id=\"surface-scale-box\"><x-slider id=\"surface-scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"surface-scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><hr><section id=\"source-section\"><h4>Light source</h4><section id=\"source-type-subsection\"><h5>Type</h5><x-buttons id=\"source-type-buttons\" tracking=\"1\"><x-button value=\"fePointLight\" toggled><x-label>Point</x-label></x-button><x-button value=\"feSpotLight\"><x-label>Spot</x-label></x-button><x-button value=\"feDistantLight\"><x-label>Distant</x-label></x-button></x-buttons></section><section id=\"source-position-subsection\"><x-box><x-box id=\"source-position-x-box\" vertical><h5>X</h5><x-numberinput id=\"source-position-x-input\" value=\"0\" data-name=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-y-box\" vertical><h5>Y</h5><x-numberinput id=\"source-position-y-input\" value=\"0\" data-name=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-z-box\" vertical><h5>Z</h5><x-numberinput id=\"source-position-z-input\" value=\"0\" data-name=\"z\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-target-subsection\"><x-box><x-box id=\"source-target-x-box\" vertical><h5>Target X</h5><x-numberinput id=\"source-target-x-input\" value=\"0\" data-name=\"pointsAtX\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-y-box\" vertical><h5>Target Y</h5><x-numberinput id=\"source-target-y-input\" value=\"0\" data-name=\"pointsAtY\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-z-box\" vertical><h5>Target Z</h5><x-numberinput id=\"source-target-z-input\" value=\"0\" data-name=\"pointsAtZ\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-cone-subsection\"><h5>Limiting cone angle</h5><x-box id=\"source-cone-box\"><x-slider id=\"source-cone-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-cone-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-exponent-subsection\"><h5>Specular exponent</h5><x-box id=\"source-exponent-box\"><x-slider id=\"source-exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"source-exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-azimuth-subsection\"><h5>Azimuth</h5><x-box id=\"source-azimuth-box\"><x-slider id=\"source-azimuth-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-azimuth-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-elevation-subsection\"><h5>Elevation</h5><x-box id=\"source-elevation-box\"><x-slider id=\"source-elevation-slider\" value=\"0\" min=\"0\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"source-elevation-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section></template>"]);_templateObject442=function _templateObject442(){return data;};return data;}function _templateObject441(){var data=_taggedTemplateLiteral(["#delta-section x-label{margin-bottom:3px;font-size:12px}#delta-section x-numberinput{width:100%}#delta-section #x-box,#delta-section #y-box{flex:1}#delta-section #x-box{margin-right:7px}#delta-section #y-box{margin-left:7px}"]);_templateObject441=function _templateObject441(){return data;};return data;}function _templateObject440(){var data=_taggedTemplateLiteral(["<template><section id=\"delta-section\"><h4>Delta</h4><x-box><x-box id=\"x-box\" vertical><x-label>X</x-label><x-numberinput id=\"x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject440=function _templateObject440(){return data;};return data;}function _templateObject439(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#offset-section x-label{margin-bottom:3px;font-size:12px}#offset-section x-numberinput{width:100%}#offset-x-box,#offset-y-box{flex:1}#offset-x-box{margin-right:13px}#offset-y-box{margin-left:13px}#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject439=function _templateObject439(){return data;};return data;}function _templateObject438(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"offset-section\"><h4>Offset</h4><x-box><x-box id=\"offset-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"offset-x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"offset-y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject438=function _templateObject438(){return data;};return data;}function _templateObject437(){var data=_taggedTemplateLiteral(["#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section x-label{margin-bottom:3px;font-size:12px}#radius-section x-numberinput{width:100%}#radius-x-box,#radius-y-box{flex:1}#radius-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-lock-button[toggled]{opacity:.9}#radius-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject437=function _templateObject437(){return data;};return data;}function _templateObject436(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4>Radius</h4><x-box><x-box id=\"radius-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"radius-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"radius-lock-button\" togglable skin=\"flat\"><x-icon id=\"radius-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"radius-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"radius-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject436=function _templateObject436(){return data;};return data;}function _templateObject435(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject435=function _templateObject435(){return data;};return data;}function _templateObject434(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject434=function _templateObject434(){return data;};return data;}function _templateObject433(){var data=_taggedTemplateLiteral(["#scale-section h4{margin-bottom:0}#scale-slider{flex:1}#scale-input{margin-left:6px;width:54px}#x-channel-buttons{width:100%}#x-channel-buttons x-button{flex:1}#y-channel-buttons{width:100%}#y-channel-buttons x-button{flex:1}"]);_templateObject433=function _templateObject433(){return data;};return data;}function _templateObject432(){var data=_taggedTemplateLiteral(["<template><section id=\"scale-section\"><h4>Scale</h4><x-box id=\"scale-box\"><x-slider id=\"scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"x-channel-section\"><h4>X channel</h4><x-buttons id=\"x-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section><section id=\"y-channel-section\"><h4>Y channel</h4><x-buttons id=\"y-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section></template>"]);_templateObject432=function _templateObject432(){return data;};return data;}function _templateObject431(){var data=_taggedTemplateLiteral(["#kernel-values-table{display:block;margin-top:8px;--order-x:3;--order-y:3}#kernel-values-table .row-box{margin-top:-1px}#kernel-values-table .row-box:first-child{margin-top:0}#kernel-values-table x-numberinput{margin-left:-1px;text-align:center;min-width:calc(100% / var(--order-x));flex:1}#kernel-values-table x-numberinput:first-child{margin-left:0}#kernel-values-table x-numberinput[data-target=true]{background:#f5f4ce}#kernel-buttons-box{margin-top:5px}#kernel-buttons-box x-icon{width:13px;height:13px;opacity:.8}#kernel-column-buttons{margin-left:auto}#target-section x-label{margin-bottom:3px;font-size:12px}#target-section x-numberinput{width:100%}#target-x-box,#target-y-box{flex:1}#target-x-box{margin-right:7px}#target-y-box{margin-left:7px}#divisor-section h4{margin-bottom:0}#divisor-switch{margin:0 0 0 auto}#divisor-box{margin-top:6px}#divisor-slider{flex:1}#divisor-input{margin-left:6px;width:54px}#bias-section h4{margin-bottom:0}#bias-slider{flex:1}#bias-input{margin-left:6px;width:54px}#edge-mode-buttons{width:100%}#edge-mode-buttons x-button{flex:1}#preserve-section x-checkbox{margin:5px 0}"]);_templateObject431=function _templateObject431(){return data;};return data;}function _templateObject430(){var data=_taggedTemplateLiteral(["<template><section id=\"kernel-section\"><h4>Kernel</h4><div id=\"kernel-values-table\"></div><x-box id=\"kernel-buttons-box\"><x-buttons id=\"kernel-row-buttons\"><x-button id=\"kernel-remove-row-button\" value=\"row-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-up\"></x-icon></x-button><x-button id=\"kernel-add-row-button\" value=\"row-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-down\"></x-icon></x-button></x-buttons><x-buttons id=\"kernel-column-buttons\"><x-button id=\"kernel-remove-column-button\" value=\"column-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-left\"></x-icon></x-button><x-button id=\"kernel-add-column-button\" value=\"column-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-right\"></x-icon></x-button></x-buttons></x-box></section><section id=\"target-section\"><h4>Target</h4><x-box id=\"target-box\"><x-box id=\"target-x-box\" vertical><x-label id=\"target-x-label\">X</x-label><x-numberinput id=\"target-x-input\" data-name=\"targetX\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><x-label id=\"target-y-label\">Y</x-label><x-numberinput id=\"target-y-input\" data-name=\"targetY\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"divisor-section\"><x-box><h4 id=\"divisor-heading\">Divisor</h4><x-switch id=\"divisor-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"divisor-box\"><x-slider id=\"divisor-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"divisor-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"bias-section\"><h4>Bias</h4><x-box id=\"bias-box\"><x-slider id=\"bias-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"bias-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"edge-mode-section\"><h4>Edge mode</h4><x-buttons id=\"edge-mode-buttons\" tracking=\"1\"><x-button value=\"duplicate\" condensed toggled><x-label>Duplicate</x-label></x-button><x-button value=\"wrap\" condensed><x-label>Wrap</x-label></x-button><x-button value=\"none\" condensed><x-label>None</x-label></x-button></x-buttons></section><section id=\"preserve-section\"><h4>Preserve</h4><x-checkbox id=\"preserve-alpha-checkbox\" toggled><x-label>Alpha</x-label></x-checkbox></section></template>"]);_templateObject430=function _templateObject430(){return data;};return data;}function _templateObject429(){var data=_taggedTemplateLiteral(["#component-buttons{width:100%;margin-top:8px}#component-buttons x-button{flex:1}#type-select{width:100%}#linear-slope-section h4{margin-bottom:0}#linear-slope-slider{flex:1}#linear-slope-input{margin-left:6px;width:54px}#linear-intercept-section h4{margin-bottom:0}#linear-intercept-slider{flex:1}#linear-intercept-input{margin-left:6px;width:54px}#gamma-amplitude-section h4{margin-bottom:0}#gamma-amplitude-slider{flex:1}#gamma-amplitude-input{margin-left:6px;width:54px}#gamma-exponent-section h4{margin-bottom:0}#gamma-exponent-slider{flex:1}#gamma-exponent-input{margin-left:6px;width:54px}#gamma-offset-section h4{margin-bottom:0}#gamma-offset-slider{flex:1}#gamma-offset-input{margin-left:6px;width:54px}#table-values-box{margin-top:1px;flex-wrap:wrap}#table-values-section x-numberinput{margin-top:-1px;margin-left:-1px;width:auto;min-width:calc(20% + 1px);text-align:center}"]);_templateObject429=function _templateObject429(){return data;};return data;}function _templateObject428(){var data=_taggedTemplateLiteral(["<template><section id=\"component-section\"><h4>Component</h4><x-buttons id=\"component-buttons\" tracking=\"1\"><x-button value=\"feFuncR\" condensed toggled><x-label>Red</x-label></x-button><x-button value=\"feFuncG\" condensed><x-label>Green</x-label></x-button><x-button value=\"feFuncB\" condensed><x-label>Blue</x-label></x-button><x-button value=\"feFuncA\" condensed><x-label>Alpha</x-label></x-button></x-buttons></section><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"identity\" toggled><x-label>Identity</x-label></x-menuitem><x-menuitem value=\"linear\"><x-label>Linear</x-label></x-menuitem><x-menuitem value=\"gamma\"><x-label>Gamma</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"discrete\"><x-label>Discrete table</x-label></x-menuitem></x-menu></x-select></section><section id=\"linear-slope-section\" hidden><h4>Slope</h4><x-box id=\"linear-slope-box\"><x-slider id=\"linear-slope-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-slope-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"linear-intercept-section\" hidden><h4>Intercept</h4><x-box id=\"linear-intercept-box\"><x-slider id=\"linear-intercept-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-intercept-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-amplitude-section\" hidden><h4>Amplitude</h4><x-box id=\"gamma-amplitude-box\"><x-slider id=\"gamma-amplitude-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-amplitude-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-exponent-section\" hidden><h4>Exponent</h4><x-box id=\"gamma-exponent-box\"><x-slider id=\"gamma-exponent-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-exponent-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-offset-section\" hidden><h4>Offset</h4><x-box id=\"gamma-offset-box\"><x-slider id=\"gamma-offset-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-offset-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"table-values-section\" hidden><h4>Values</h4><x-box id=\"table-values-box\"><x-numberinput value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput></x-box></section></template>"]);_templateObject428=function _templateObject428(){return data;};return data;}function _templateObject427(){var data=_taggedTemplateLiteral(["#type-select{width:100%}#matrix-values-section .row-box{margin-top:-1px}#matrix-values-section .row-box:first-child{margin-top:0}#matrix-values-section x-numberinput{min-width:calc(100%/5);margin-left:-1px;text-align:center}#matrix-values-section x-numberinput:first-child{margin-left:0}#saturate-value-section h4{margin-bottom:0}#saturate-value-section x-box{width:100%}#saturate-value-section x-slider{flex:1}#saturate-value-section x-numberinput{width:60px;margin-left:10px}#hue-rotate-value-section h4{margin-bottom:0}#hue-rotate-value-section x-box{width:100%}#hue-rotate-value-section x-slider{flex:1}#hue-rotate-value-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject427=function _templateObject427(){return data;};return data;}function _templateObject426(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"matrix\" toggled><x-label>Matrix</x-label></x-menuitem><x-menuitem value=\"saturate\"><x-label>Saturate</x-label></x-menuitem><x-menuitem value=\"hueRotate\"><x-label>Hue rotate</x-label></x-menuitem><x-menuitem value=\"luminanceToAlpha\"><x-label>Luminance to alpha</x-label></x-menuitem></x-menu></x-select></section><section id=\"matrix-values-section\"><h4>Values</h4><x-box class=\"row-box\"><x-numberinput id=\"matrix-0-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-1-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-2-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-3-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-4-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-5-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-6-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-7-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-8-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-9-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-10-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-11-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-12-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-13-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-14-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-15-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-16-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-17-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-18-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-19-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-20-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-21-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-22-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-23-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-24-input\" value=\"1\" step=\"0.01\" disabled=\"disabled\"></x-numberinput></x-box></section><section id=\"saturate-value-section\"><h4>Value</h4><x-box id=\"saturate-value-box\"><x-slider id=\"saturate-value-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturate-value-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hue-rotate-value-section\"><h4 id=\"hue-rotate-value-heading\">Value</h4><x-box id=\"hue-rotate-value-box\"><x-slider id=\"hue-rotate-value-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"hue-rotate-value-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject426=function _templateObject426(){return data;};return data;}function _templateObject425(){var data=_taggedTemplateLiteral(["#type-buttons{width:100%}#type-buttons x-button{flex:1}#frequency-section #frequency-value-box x-label{margin-bottom:3px;font-size:12px}#frequency-section #frequency-value-box x-numberinput{width:100%}#frequency-x-box,#frequency-y-box{flex:1}#frequency-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#frequency-lock-button[toggled]{opacity:.9}#frequency-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#frequency-stitch-checkbox{margin-top:8px}#frequency-stitch-checkbox x-label{font-size:12px}#octaves-section h4{margin-bottom:0}#octaves-slider{flex:1}#octaves-input{margin-left:6px;width:54px}#seed-section h4{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:6px;width:54px}"]);_templateObject425=function _templateObject425(){return data;};return data;}function _templateObject424(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-buttons id=\"type-buttons\" tracking=\"1\"><x-button value=\"turbulence\" toggled><x-label>Turbulence</x-label></x-button><x-button value=\"fractalNoise\"><x-label>Noise</x-label></x-button></x-buttons></section><section id=\"frequency-section\"><h4>Base frequency</h4><x-box id=\"frequency-value-box\"><x-box id=\"frequency-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"frequency-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"frequency-lock-button\" togglable skin=\"flat\"><x-icon id=\"frequency-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"frequency-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"frequency-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"frequency-stitch-checkbox\"><x-label>Stitch tiles</x-label></x-checkbox></section><section id=\"octaves-section\"><h4>Number of octaves</h4><x-box id=\"octaves-box\"><x-slider id=\"octaves-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"octaves-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-section\"><h4>Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject424=function _templateObject424(){return data;};return data;}function _templateObject423(){var data=_taggedTemplateLiteral(["#source-thumbnail{width:54px;height:54px;min-width:54px;margin-right:8px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#source-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none;visibility:hidden}#source-thumbnail-img[src]{visibility:visible}#source-column-right{flex:1}#source-href-input{max-width:none}#source-import-button{margin-top:8px;width:100%}"]);_templateObject423=function _templateObject423(){return data;};return data;}function _templateObject422(){var data=_taggedTemplateLiteral(["<template><section id=\"source-section\"><h4>Source</h4><x-box><div id=\"source-thumbnail\" part=\"thumbnail\" class=\"left\"><img id=\"source-thumbnail-img\"></div><div id=\"source-column-right\"><x-input id=\"source-href-input\"><x-label>Href</x-label></x-input><x-button id=\"source-import-button\" toggled><x-label>Import from Disk</x-label></x-button></div></x-box></section></template>"]);_templateObject422=function _templateObject422(){return data;};return data;}function _templateObject421(){var data=_taggedTemplateLiteral(["#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject421=function _templateObject421(){return data;};return data;}function _templateObject420(){var data=_taggedTemplateLiteral(["<template><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject420=function _templateObject420(){return data;};return data;}function _templateObject419(){var data=_taggedTemplateLiteral(["#operator-select{width:100%}#parameters-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#parameters-section x-numberinput{width:100%}#parameters-section #k1-box,#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{flex:1;min-width:0}#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{margin-left:4px}"]);_templateObject419=function _templateObject419(){return data;};return data;}function _templateObject418(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-select id=\"operator-select\"><x-menu><x-menuitem value=\"over\" toggled><x-label>Over</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>In</x-label></x-menuitem><x-menuitem value=\"atop\"><x-label>Atop</x-label></x-menuitem><x-menuitem value=\"out\"><x-label>Out</x-label></x-menuitem><x-menuitem value=\"xor\"><x-label>Xor</x-label></x-menuitem><x-menuitem value=\"arithmetic\"><x-label>Arithmetic</x-label></x-menuitem></x-menu></x-select></section><section id=\"parameters-section\" hidden><h4 id=\"parameters-heading\">Parameters</h4><x-box id=\"parameters-box\"><x-box id=\"k1-box\" vertical><x-label id=\"k1-heading\">k1</x-label><x-numberinput id=\"k1-input\" value=\"0\" step=\"0.1\" data-parameter=\"k1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k2-box\" vertical><x-label id=\"k2-heading\">k2</x-label><x-numberinput id=\"k2-input\" value=\"0\" step=\"0.1\" data-parameter=\"k2\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k3-box\" vertical><x-label id=\"k3-heading\">k3</x-label><x-numberinput id=\"k3-input\" value=\"0\" step=\"0.1\" data-parameter=\"k3\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k4-box\" vertical><x-label id=\"k4-heading\">k4</x-label><x-numberinput id=\"k4-input\" value=\"0\" step=\"0.1\" data-parameter=\"k4\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject418=function _templateObject418(){return data;};return data;}function _templateObject417(){var data=_taggedTemplateLiteral(["#blend-mode-select{width:100%}"]);_templateObject417=function _templateObject417(){return data;};return data;}function _templateObject416(){var data=_taggedTemplateLiteral(["<template><section id=\"blend-mode-section\"><h4>Blend Mode</h4><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\"><x-label>Normal</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"darken\" toggled><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject416=function _templateObject416(){return data;};return data;}function _templateObject415(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main h5{margin:0 0 4px 0;font-size:12px;font-weight:400}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>section>section+section{margin-top:14px}#main>hr{margin:14px 0}#main>hr:first-child{display:none}#subregion-section{position:relative}#subregion-section>x-box{justify-content:space-between}#subregion-section>x-box:not(:first-child){margin-top:8px}#subregion-section>x-box>x-box{width:calc(50% - 13px)}#subregion-section x-box>x-box>x-numberinput{width:100%}#subregion-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#subregion-lock-button[toggled]{opacity:.9}#subregion-lock-button x-icon{width:18px;height:18px}"]);_templateObject415=function _templateObject415(){return data;};return data;}function _templateObject414(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><hr><section id=\"subregion-section\"><h4>Subregion</h4><x-box><x-box id=\"subregion-x-box\" vertical><h5>X</h5><x-numberinput id=\"subregion-x-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"subregion-y-box\" vertical><h5>Y</h5><x-numberinput id=\"subregion-y-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"subregion-width-box\" vertical><h5>Width</h5><x-numberinput id=\"subregion-width-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"subregion-lock-button\" togglable skin=\"flat\"><x-icon id=\"subregion-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"subregion-height-box\" vertical><h5>Height</h5><x-numberinput id=\"subregion-height-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject414=function _templateObject414(){return data;};return data;}function _templateObject413(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#slot-buttons{width:100%}#slot-buttons>x-button{flex:1}"]);_templateObject413=function _templateObject413(){return data;};return data;}function _templateObject412(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"slot-section\"><h4>Input slot</h4><x-buttons id=\"slot-buttons\" tracking=\"1\"><x-button value=\"1\" condensed toggled><x-label>1</x-label></x-button><x-button value=\"2\" condensed><x-label>2</x-label></x-button><x-button value=\"3\" condensed><x-label>3</x-label></x-button></x-buttons></section></main></template>"]);_templateObject412=function _templateObject412(){return data;};return data;}function _templateObject411(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>hr{margin:14px 0}#filter-units-select{width:100%}#primitive-units-select{width:100%}#region-section{position:relative}#region-section>x-box{justify-content:space-between}#region-section>x-box:not(:first-child){margin-top:8px}#region-section>x-box>x-box{width:calc(50% - 13px)}#region-section>x-box>x-box>x-label{margin-bottom:3px;font-size:12px}#region-section x-box>x-box>x-numberinput{width:100%}#region-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#region-lock-button[toggled]{opacity:.9}#region-lock-button x-icon{width:18px;height:18px}"]);_templateObject411=function _templateObject411(){return data;};return data;}function _templateObject410(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"filter-units-section\"><h4>Filter units</h4><x-select id=\"filter-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><section id=\"primitive-units-section\"><h4>Primitive units</h4><x-select id=\"primitive-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"region-section\"><h4>Region</h4><x-box><x-box id=\"region-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"region-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"region-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"region-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"region-width-box\" vertical><x-label>Width</x-label><x-numberinput id=\"region-width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"region-lock-button\" togglable skin=\"flat\"><x-icon id=\"region-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"region-height-box\" vertical><x-label>Height</x-label><x-numberinput id=\"region-height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject410=function _templateObject410(){return data;};return data;}function _templateObject409(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject409=function _templateObject409(){return data;};return data;}function _templateObject408(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Symbols</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No symbols found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New symbol\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-symbol\"><x-label>Add Symbol</x-label></x-menuitem><x-menuitem value=\"add-symbol-from-objects\" id=\"add-symbol-from-objects-menu-item\"><x-label>Add Symbol from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject408=function _templateObject408(){return data;};return data;}function _templateObject407(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject407=function _templateObject407(){return data;};return data;}function _templateObject406(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Markers</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New marker\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-marker\"><x-label>Add Marker</x-label></x-menuitem><x-menuitem value=\"add-marker-from-objects\" id=\"add-marker-from-objects-menu-item\"><x-label>Add Marker from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject406=function _templateObject406(){return data;};return data;}function _templateObject405(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject405=function _templateObject405(){return data;};return data;}function _templateObject404(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Patterns</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No patterns found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Pattern\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-pattern\"><x-label>Add Pattern</x-label></x-menuitem><x-menuitem value=\"add-pattern-from-objects\" id=\"add-pattern-from-objects-menu-item\"><x-label>Add Pattern from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject404=function _templateObject404(){return data;};return data;}function _templateObject403(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#gradient-inspector-popover{width:250px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject403=function _templateObject403(){return data;};return data;}function _templateObject402(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"gradient-inspector-popover\"><bx-gradientinspector id=\"gradient-inspector\"></bx-gradientinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add gradient\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-gradient\"><x-label>Add Gradient</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-fill\" id=\"add-gradient-from-fill-menu-item\"><x-label>Add Gradient from Selected Object Fill</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-stroke\" id=\"add-gradient-from-stroke-menu-item\"><x-label>Add Gradient from Selected Object Stroke</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject402=function _templateObject402(){return data;};return data;}function _templateObject401(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;padding:16px;outline:0;box-sizing:border-box}h4{margin:17px 0 9px 0}#main{width:100%;height:100%;display:flex;flex-flow:column}#gradient-section h4{margin-top:0}#gradient-slider{position:relative;width:100%;height:40px;border-width:1px;border-style:solid;touch-action:pan-y;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;background:var(--checkboard-background);--marker-width:18px}#left-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;left:0;background:#000}#right-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;right:0;background:#000}#gradient-slider #track{width:100%;height:100%;position:relative;display:flex;align-items:center}#gradient-slider #markers{position:absolute;top:-3px;left:0;width:100%;height:calc(100% + 6px)}#gradient-slider .marker{position:absolute;left:0;width:var(--marker-width);height:100%;box-sizing:border-box;background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 1px #000;transform:translateX(-50%)}#gradient-slider .marker[data-selected]{border:3px solid #93d2ff}#gradient-slider[data-dragging] .marker{transition:height .1s ease,top .1s ease}#stop-color-picker{width:100%}#stop-offset-section h4{margin-bottom:2px}#stop-offset-section x-box{width:100%}#stop-offset-slider{flex:1}#stop-offset-input{margin-left:6px;width:58px}#placeholder-section{flex:1;display:flex;align-items:center;justify-content:center;margin-top:16px}#placeholder-section[hidden]{display:none}#placeholder-section x-label{opacity:.6;box-sizing:border-box;font-size:13px}"]);_templateObject401=function _templateObject401(){return data;};return data;}function _templateObject400(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"gradient-section\"><h4>Gradient</h4><div id=\"gradient-slider\" part=\"gradient-slider\"><div id=\"left-gradient-slider-edge\"></div><div id=\"right-gradient-slider-edge\"></div><div id=\"track\"><div id=\"markers\"></div></div></div></section><section id=\"stop-color-section\"><h4>Stop color</h4><bx-colorpicker id=\"stop-color-picker\" type=\"rect\" format=\"hex\" alphaslider formatselect></bx-colorpicker></section><section id=\"stop-offset-section\"><h4>Stop offset</h4><x-box><x-slider id=\"stop-offset-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-offset-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"placeholder-section\"><x-label>No gradient stops selected</x-label></section></main></template>"]);_templateObject400=function _templateObject400(){return data;};return data;}function _templateObject399(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:var(--error-color)}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#color-picker-popover{width:220px;--align:left}#color-picker-popover>main{box-sizing:border-box;padding:13px 16px 16px 16px}#color-picker-popover h4{margin-top:0}#color-picker-popover #color-picker{width:100%}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject399=function _templateObject399(){return data;};return data;}function _templateObject398(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No colors found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"color-picker-popover\"><main><h4>Color</h4><bx-colorpicker id=\"color-picker\" value=\"#ffffff\" alphaslider></bx-colorpicker></main></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Color\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-color\"><x-label>Add Color</x-label></x-menuitem><x-menuitem value=\"add-color-from-fill\" id=\"add-color-from-fill-menu-item\"><x-label>Add Colors from Selected Objects Fill</x-label></x-menuitem><x-menuitem value=\"add-color-from-stroke\" id=\"add-color-from-stroke-menu-item\"><x-label>Add Colors from Selected Objects Stroke</x-label></x-menuitem><hr><x-menuitem value=\"add-color-from-library\" id=\"add-color-from-library\"><x-label>Add Colors from Library\u2026</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject398=function _templateObject398(){return data;};return data;}function _templateObject397(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;overflow:auto}"]);_templateObject397=function _templateObject397(){return data;};return data;}function _templateObject396(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header id=\"header\" part=\"header\"><h2>Objects</h2></header><main id=\"main\"><bx-objectsbrowser id=\"objects-browser\"></bx-objectsbrowser></main></div></template>"]);_templateObject396=function _templateObject396(){return data;};return data;}function _templateObject395(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#main{flex:1;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0;position:relative}#drop-marker{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-marker[hidden]{display:none}#drop-marker #drop-marker-circle{width:8px;height:8px;box-sizing:border-box;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}.item{position:relative}.item>.background{position:absolute;z-index:0;top:0;left:0;width:100%;height:20px}.item[data-selected]>.background{background:var(--accent-color)}.item[data-invalid]>.background{background:var(--error-color)}.item>.main{position:relative;z-index:1;padding:0 0 0 24px;display:flex;align-items:center}.item[data-selected]>.main{color:#fff}.item>.children-outer{overflow:hidden}.item>.children-outer .children{transform-origin:0 0}.item .action-buttons{margin-left:auto;display:flex}.item x-input{height:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px;color:var(--text-color)}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:1px;color:var(--error-color);z-index:100;pointer-events:none}.item use{fill:currentColor}.item>.main .label{margin-left:10px;font-size:13px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item>.main .label[data-custom]{font-weight:700}.item>.main .object-icon{width:15px;height:15px;min-width:15px}.item .arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none}.item[data-expandable]>.main .arrow-button{visibility:visible;pointer-events:all}.item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.item .lock-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3}.item>.main:hover .lock-button{visibility:visible;pointer-events:all}.item[data-locked]>.main .lock-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .lock-icon{width:15px;height:15px;min-width:15px}.item .visibility-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3;padding-right:4px}.item>.main:hover .visibility-button{visibility:visible;pointer-events:all}.item[data-hidden]>.main .visibility-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .visibility-icon{width:15px;height:15px;min-width:15px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#footer #add-menu h3{padding:5px 0 5px 8px;margin:0;font-size:11px;text-transform:uppercase}"]);_templateObject395=function _templateObject395(){return data;};return data;}function _templateObject394(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\" tabindex=\"0\"><div id=\"items\"></div><div id=\"drop-marker\" hidden><div id=\"drop-marker-circle\"></div></div><x-contextmenu id=\"context-menu\" disabled=\"disabled\"><x-menu><x-menuitem id=\"group-menu-item\" value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem id=\"ungroup-menu-item\" value=\"ungroup\"><x-label>Ungroup</x-label></x-menuitem><x-menuitem id=\"enter-group-menu-item\" value=\"enterGroup\"><x-label>Enter group</x-label></x-menuitem></x-menu></x-contextmenu></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\"><h3>Add object</h3><x-menuitem value=\"g\"><x-icon name=\"object-group\"></x-icon><x-label>Group</x-label></x-menuitem><x-menuitem value=\"a\"><x-icon name=\"object-link\"></x-icon><x-label>Link</x-label></x-menuitem><x-menuitem value=\"image\"><x-icon name=\"object-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"path\"><x-icon name=\"object-path\"></x-icon><x-label>Path</x-label></x-menuitem><x-menuitem value=\"text\"><x-icon name=\"object-text\"></x-icon><x-label>Text</x-label></x-menuitem><x-menuitem value=\"rect\"><x-icon name=\"object-rect\"></x-icon><x-label>Rectangle</x-label></x-menuitem><x-menuitem value=\"circle\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Circle</x-label></x-menuitem><x-menuitem value=\"ellipse\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Ellipse</x-label></x-menuitem><x-menuitem value=\"ring\"><x-icon name=\"object-ring\"></x-icon><x-label>Ring</x-label></x-menuitem><x-menuitem value=\"pie\"><x-icon name=\"object-pie\"></x-icon><x-label>Pie</x-label></x-menuitem><x-menuitem value=\"crescent\"><x-icon name=\"object-crescent\"></x-icon><x-label>Crescent</x-label></x-menuitem><x-menuitem value=\"triangle\"><x-icon name=\"object-triangle\"></x-icon><x-label>Triangle</x-label></x-menuitem><x-menuitem value=\"n-gon\"><x-icon name=\"object-n-gon\"></x-icon><x-label>N-gon</x-label></x-menuitem><x-menuitem value=\"star\"><x-icon name=\"object-star\"></x-icon><x-label>Star</x-label></x-menuitem><x-menuitem value=\"cog\"><x-icon name=\"object-cog\"></x-icon><x-label>Cog</x-label></x-menuitem><x-menuitem value=\"cross\"><x-icon name=\"object-cross\"></x-icon><x-label>Cross</x-label></x-menuitem><x-menuitem value=\"spiral\"><x-icon name=\"object-spiral\"></x-icon><x-label>Spiral</x-label></x-menuitem><x-menuitem value=\"line\"><x-icon name=\"object-line\"></x-icon><x-label>Line</x-label></x-menuitem><x-menuitem value=\"polyline\"><x-icon name=\"object-polyline\"></x-icon><x-label>Polyline</x-label></x-menuitem><x-menuitem value=\"polygon\"><x-icon name=\"object-polygon\"></x-icon><x-label>Polygon</x-label></x-menuitem></x-menu></x-button></x-box></footer></div></template>"]);_templateObject394=function _templateObject394(){return data;};return data;}function _templateObject393(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#align-section{padding:10px 20px 18px 20px}#move-buttons{width:110px;align-items:center}#move-buttons>x-box{width:100%;justify-content:space-between}#move-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#move-buttons x-icon{width:24px;height:24px}#move-buttons[data-side=outside] x-icon{transform:rotate(180deg)}#move-buttons #arrange-bottom-button{margin:0}#center-buttons,#stretch-buttons{margin-left:26px}#center-buttons x-button,#stretch-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#center-buttons x-button:last-child,#stretch-buttons x-button:last-child{margin-bottom:0}#center-buttons x-icon,#stretch-buttons x-icon{width:24px;height:24px}#align-options-subsection{margin-top:14px}#align-options-subsection h4{margin-bottom:6px}#align-options-subsection x-select{flex:1}#align-options-subsection x-button{margin-left:8px;padding:2px 9px}#align-options-subsection x-button x-icon{width:15px;height:15px}#transform-section{padding:16px 20px 18px 20px}#transform-section x-button{height:30px;margin-right:11px;flex:1}#transform-section x-button:last-child{margin-right:0}#transform-section x-button x-icon{width:17px;height:17px}#transform-section #flip-buttons,#transform-section #transform-buttons{margin-top:11px}#order-section{padding:16px 20px 18px 20px}#order-section #order-buttons-2{margin-top:11px}#order-section x-button{height:30px;margin-right:11px;flex:1}#order-section x-button:last-child{margin-right:0}#order-section x-button x-icon{width:17px;height:17px}#group-section{padding:16px 20px 18px 20px}#group-section x-button{height:30px;margin-right:11px;flex:1}#group-section x-button:last-child{margin-right:0}#group-section x-button x-icon{width:17px;height:17px}#distribute-section{padding:16px 20px 18px 20px}#distance-buttons{flex:1}#distance-buttons x-button{width:100%}#distance-input{margin-left:6px;width:53px}#distribute-actions-subsection{margin-top:14px}#distribute-buttons-box{width:100%;justify-content:space-between}#distribute-buttons-box x-button{height:30px;flex:1;margin-right:11px}#distribute-buttons-box x-button:last-child{margin-right:0}#distribute-buttons-box x-button x-icon{width:22px;height:22px}"]);_templateObject393=function _templateObject393(){return data;};return data;}function _templateObject392(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Arrangement</h2><section id=\"align-section\"><h3 id=\"align-section-heading\">Align</h3><section id=\"align-actions-subsection\"><x-box id=\"align-buttons\"><x-box id=\"move-buttons\" vertical data-side=\"inside\"><x-button id=\"arrange-top-button\" value=\"move-top-inside\" condensed><x-icon name=\"align-top\"></x-icon></x-button><x-box><x-button id=\"arrange-left-button\" value=\"move-left-inside\" condensed><x-icon name=\"align-left\"></x-icon></x-button><x-button id=\"arrange-right-button\" value=\"move-right-inside\" condensed><x-icon name=\"align-right\"></x-icon></x-button></x-box><x-button id=\"arrange-bottom-button\" value=\"move-bottom-inside\" condensed><x-icon name=\"align-bottom\"></x-icon></x-button></x-box><x-box id=\"center-buttons\" vertical><x-button id=\"center-button\" value=\"center\" condensed><x-icon name=\"center\"></x-icon></x-button><x-button id=\"center-horizontally-button\" value=\"horizontal-center\" condensed><x-icon name=\"center-horizontally\"></x-icon></x-button><x-button id=\"center-vertically-button\" value=\"vertical-center\" condensed><x-icon name=\"center-vertically\"></x-icon></x-button></x-box><x-box id=\"stretch-buttons\" vertical><x-button id=\"stretch-button\" value=\"stretch\" condensed><x-icon name=\"stretch\"></x-icon></x-button><x-button id=\"stretch-horizontally-button\" value=\"horizontal-stretch\" condensed><x-icon name=\"stretch-horizontally\"></x-icon></x-button><x-button id=\"stretch-vertically-button\" value=\"vertical-stretch\" condensed><x-icon name=\"stretch-vertically\"></x-icon></x-button></x-box></x-box></section><section id=\"align-options-subsection\"><h4 id=\"align-options-heading\">Relative to</h4><x-box><x-select id=\"align-to-select\"><x-menu><x-menuitem value=\"default-view\" toggled><x-label>Default view</x-label></x-menuitem><x-menuitem value=\"nearest-view\" toggled><x-label>Nearest view</x-label></x-menuitem><x-menuitem value=\"first-selected\" toggled><x-label>First selected</x-label></x-menuitem><x-menuitem value=\"last-selected\" toggled><x-label>Last selected</x-label></x-menuitem><x-menuitem value=\"selection\" toggled><x-label>Selection</x-label></x-menuitem></x-menu></x-select><x-button id=\"align-as-group-button\" title=\"Treat selection as group\" condensed togglable><x-icon name=\"group\"></x-icon></x-button></x-box></section></section><hr><section id=\"transform-section\"><h3 id=\"transform-heading\">Transform</h3><x-box id=\"rotate-buttons\"><x-button id=\"rotate-counterclockwise-button\" value=\"rotateCounterclockwise\"><x-icon name=\"rotate-counterclockwise\"></x-icon><x-label>-90\xB0</x-label></x-button><x-button id=\"rotate-clockwise-button\" value=\"rotateClockwise\"><x-icon name=\"rotate-clockwise\"></x-icon><x-label>+90\xB0</x-label></x-button></x-box><x-box id=\"flip-buttons\"><x-button id=\"flip-horizontally-button\" value=\"flipX\"><x-icon name=\"flip-x\"></x-icon><x-label>Flip X</x-label></x-button><x-button id=\"flip-vertically-button\" value=\"flipY\"><x-icon name=\"flip-y\"></x-icon><x-label>Flip Y</x-label></x-button></x-box><x-box id=\"transform-buttons\"><x-button id=\"remove-transform-button\" value=\"removeTransform\"><x-icon name=\"trash\"></x-icon><x-label>Remove</x-label></x-button><x-button id=\"reduce-transform-button\" value=\"reduceTransform\"><x-icon name=\"reduce-transform\"></x-icon><x-label>Reduce</x-label></x-button></x-box></section><hr><section id=\"order-section\"><h3 id=\"order-section-heading\">Z-order</h3><x-box id=\"order-buttons-1\"><x-button id=\"raise-button\" value=\"raise\"><x-icon name=\"raise\"></x-icon><x-label>Raise</x-label></x-button><x-button id=\"lower-button\" value=\"lower\"><x-icon name=\"lower\"></x-icon><x-label>Lower</x-label></x-button></x-box><x-box id=\"order-buttons-2\"><x-button id=\"front-button\" value=\"raiseToFront\"><x-icon name=\"raise-to-front\"></x-icon><x-label>Front</x-label></x-button><x-button id=\"back-button\" value=\"lowerToBack\"><x-icon name=\"lower-to-back\"></x-icon><x-label>Back</x-label></x-button></x-box></section><hr><section id=\"group-section\"><h3 id=\"group-section-heading\">Group</h3><x-box id=\"group-buttons\"><x-button id=\"group-button\" value=\"group\"><x-icon name=\"group\"></x-icon><x-label>Group</x-label></x-button><x-button id=\"ungroup-button\" value=\"ungroup\"><x-icon name=\"ungroup\"></x-icon><x-label>Ungroup</x-label></x-button></x-box></section><hr><section id=\"distribute-section\"><h3 id=\"distribute-heading\">Distribute</h3><section id=\"distribute-distance-subsection\"><h4 id=\"distribute-distance-heading\">Distance</h4><x-box><x-buttons id=\"distance-buttons\" tracking=\"1\"><x-button id=\"auto-distance-button\" value=\"auto\" condensed><x-label>Auto</x-label></x-button><x-button id=\"manual-distance-button\" value=\"manual\" condensed><x-label>Manual</x-label></x-button></x-buttons><x-numberinput id=\"distance-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"distribute-actions-subsection\"><h4 id=\"distribute-actions-heading\">Actions</h4><x-box id=\"distribute-buttons-box\"><x-button id=\"distribute-horizontally-button\" value=\"horizontal\" title=\"Distribute horizontaly\" condensed><x-icon name=\"distribute-horizontally\"></x-icon></x-button><x-button id=\"distribute-vertically-button\" value=\"vertical\" title=\"Distribute vertically\" condensed><x-icon name=\"distribute-vertically\"></x-icon></x-button><x-button id=\"distribute-centers-horizontally-button\" value=\"centers-horizontal\" title=\"Distribute centers horizontally\" condensed><x-icon name=\"distribute-centers-horizontally\"></x-icon></x-button><x-button id=\"distribute-centers-vertically-button\" value=\"centers-vertical\" title=\"Distribute centers vertically\" condensed><x-icon name=\"distribute-centers-vertically\"></x-icon></x-button></x-box></section></section></template>"]);_templateObject392=function _templateObject392(){return data;};return data;}function _templateObject391(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}x-button{width:100%;height:30px}#general-section{padding:10px 20px 20px 20px}#general-section>x-box{margin-top:8px}#general-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#reorient-button x-icon{width:20px;height:20px}#reverse-button x-icon{width:20px;height:20px}#convert-section{padding:10px 20px 20px 20px}#stroke-to-path-button{margin-top:10px}#boolops-section{padding:15px 20px 20px 20px}#boolop-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#boolop-buttons x-button x-icon{width:20px;height:20px;margin-right:8px}#path-section{padding:15px 20px 20px 20px}#path-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#path-buttons #close-path-button x-icon,#path-buttons #join-paths-button x-icon,#path-buttons #open-path-button x-icon,#path-buttons #split-path-button x-icon{width:30px;height:30px;margin-right:8px}#node-section{padding:15px 20px 20px 20px}#node-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#node-section x-button x-icon{width:28px;height:28px;margin-right:8px}"]);_templateObject391=function _templateObject391(){return data;};return data;}function _templateObject390(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Shape</h2><section id=\"general-section\"><x-box id=\"general-buttons\"><x-button id=\"reorient-button\"><x-icon name=\"reorient\"></x-icon><x-label>Reorient</x-label></x-button><x-button id=\"reverse-button\"><x-icon name=\"reverse\"></x-icon><x-label>Reverse</x-label></x-button></x-box></section><hr><section id=\"convert-section\"><h3 id=\"convert-section-heading\">Convert</h3><x-button id=\"shape-to-path-button\"><x-icon name=\"shape-to-path\"></x-icon><x-label>Shape to Path</x-label></x-button><x-button id=\"stroke-to-path-button\"><x-icon name=\"stroke-to-path\"></x-icon><x-label>Stroke to Path</x-label></x-button></section><hr><section id=\"boolops-section\"><h3 id=\"boolops-section-heading\">Boolops</h3><x-box id=\"boolop-buttons\" vertical><x-button id=\"unite-button\"><x-icon name=\"boolop-unite\"></x-icon><x-label>Unite</x-label></x-button><x-button id=\"intersect-button\"><x-icon name=\"boolop-intersect\"></x-icon><x-label>Intersect</x-label></x-button><x-button id=\"subtract-button\"><x-icon name=\"boolop-subtract\"></x-icon><x-label>Subtract</x-label></x-button><x-button id=\"exclude-button\"><x-icon name=\"boolop-exclude\"></x-icon><x-label>Exclude</x-label></x-button></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-box id=\"path-buttons\"><x-button id=\"join-paths-button\"><x-icon name=\"compound-path-join\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-path-button\"><x-icon name=\"compound-path-split\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"open-path-button\"><x-icon name=\"open-path\"></x-icon><x-label>Open</x-label></x-button><x-button id=\"close-path-button\"><x-icon name=\"close-path\"></x-icon><x-label>Close</x-label></x-button><x-button id=\"inset-path-button\"><x-icon name=\"inset-path\"></x-icon><x-label>Inset</x-label></x-button><x-button id=\"outset-path-button\"><x-icon name=\"outset-path\"></x-icon><x-label>Outset</x-label></x-button><x-button id=\"simplify-path-button\"><x-icon name=\"simplify-path\"></x-icon><x-label>Simplify</x-label></x-button><x-button id=\"complexify-path-button\" condensed><x-icon name=\"complexify-path\"></x-icon><x-label>Complexify</x-label></x-button></x-box></section><hr><section id=\"node-section\"><h3 id=\"node-section-heading\">Node</h3><x-box id=\"node-buttons\"><x-button id=\"join-nodes-button\"><x-icon name=\"join-nodes\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-node-button\"><x-icon name=\"split-node\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"delete-node-button\"><x-icon name=\"delete-node\"></x-icon><x-label>Delete</x-label></x-button><x-button id=\"break-node-button\"><x-icon name=\"break-node\"></x-icon><x-label>Break</x-label></x-button></x-box></section></template>"]);_templateObject390=function _templateObject390(){return data;};return data;}function _templateObject389(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#accessibility-section{padding:10px 20px 20px 20px}#title-section{padding:10px 20px 20px 20px}#title-heading{margin-bottom:4px}#title-input{width:100%;max-width:none}#desc-box{margin-top:14px}#desc-heading{margin-bottom:4px}#desc-editor{width:100%;height:120px;max-width:none}#language-box{margin-top:14px}#language-heading{margin-bottom:4px}#language-select{width:100%}#role-box{margin-top:14px}#role-heading{margin-bottom:4px}#role-select{width:100%}#tab-index-box{margin-top:14px}#tab-index-heading{margin-bottom:0}#tab-index-box>x-box{width:100%}#tab-index-slider{flex:1;--track-tint-color:transparent}#tab-index-input{width:50px;margin-left:12px}#link-section{padding:15px 20px 20px 20px}#link-button{border-top-right-radius:0;border-bottom-right-radius:0;z-index:1}#link-button x-icon{width:14px;height:14px}#link-input{flex:1;margin-left:-1px;max-width:none}#link-input[error]{z-index:2}#link-target-checkbox{margin-top:8px}#scripting-section{padding:15px 20px 20px 20px}#id-box{margin-top:8px}#id-heading{margin-bottom:4px}#id-input{width:100%;max-width:none}#classes-box{margin-top:20px}#classes-heading{margin-bottom:4px}#classes-input{width:100%}"]);_templateObject389=function _templateObject389(){return data;};return data;}function _templateObject388(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Meta</h2><section id=\"accessibility-section\"><h3 id=\"accessibility-heading\">Accessibility</h3><x-box id=\"title-box\" vertical><h4 id=\"title-heading\">Title</h4><x-input id=\"title-input\" spellcheck></x-input></x-box><x-box id=\"desc-box\" vertical><h4 id=\"desc-heading\">Description</h4><x-texteditor id=\"desc-editor\" spellcheck></x-texteditor></x-box><x-box id=\"language-box\" vertical><h4 id=\"language-heading\">Language</h4><x-select id=\"language-select\"><x-menu id=\"language-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"af\"><x-label>Afrikaans</x-label></x-menuitem><x-menuitem value=\"sq\"><x-label>Albanian</x-label></x-menuitem><x-menuitem value=\"ar\"><x-label>Arabic</x-label></x-menuitem><x-menuitem value=\"hy\"><x-label>Armenian</x-label></x-menuitem><x-menuitem value=\"az\"><x-label>Azeri</x-label></x-menuitem><x-menuitem value=\"eu\"><x-label>Basque</x-label></x-menuitem><x-menuitem value=\"be\"><x-label>Belarusian</x-label></x-menuitem><x-menuitem value=\"bg\"><x-label>Bulgarian</x-label></x-menuitem><x-menuitem value=\"ca\"><x-label>Catalan</x-label></x-menuitem><x-menuitem value=\"zh\"><x-label>Chinese</x-label></x-menuitem><x-menuitem value=\"hr\"><x-label>Croatian</x-label></x-menuitem><x-menuitem value=\"cs\"><x-label>Czech</x-label></x-menuitem><x-menuitem value=\"da\"><x-label>Danish</x-label></x-menuitem><x-menuitem value=\"nl\"><x-label>Dutch</x-label></x-menuitem><x-menuitem value=\"en\"><x-label>English</x-label></x-menuitem><x-menuitem value=\"et\"><x-label>Estonian</x-label></x-menuitem><x-menuitem value=\"fa\"><x-label>Farsi</x-label></x-menuitem><x-menuitem value=\"fi\"><x-label>Finnish</x-label></x-menuitem><x-menuitem value=\"fr\"><x-label>French</x-label></x-menuitem><x-menuitem value=\"gl\"><x-label>Galician</x-label></x-menuitem><x-menuitem value=\"de\"><x-label>German</x-label></x-menuitem><x-menuitem value=\"ka\"><x-label>Georgian</x-label></x-menuitem><x-menuitem value=\"el\"><x-label>Greek</x-label></x-menuitem><x-menuitem value=\"he\"><x-label>Hebrew</x-label></x-menuitem><x-menuitem value=\"hi\"><x-label>Hindi</x-label></x-menuitem><x-menuitem value=\"hu\"><x-label>Hungarian</x-label></x-menuitem><x-menuitem value=\"is\"><x-label>Icelandic</x-label></x-menuitem><x-menuitem value=\"id\"><x-label>Indonesian</x-label></x-menuitem><x-menuitem value=\"it\"><x-label>Italian</x-label></x-menuitem><x-menuitem value=\"ja\"><x-label>Japanese</x-label></x-menuitem><x-menuitem value=\"kk\"><x-label>Kazakh</x-label></x-menuitem><x-menuitem value=\"ko\"><x-label>Korean</x-label></x-menuitem><x-menuitem value=\"lv\"><x-label>Latvian</x-label></x-menuitem><x-menuitem value=\"lt\"><x-label>Lithuanian</x-label></x-menuitem><x-menuitem value=\"mt\"><x-label>Maltese</x-label></x-menuitem><x-menuitem value=\"mn\"><x-label>Mongolian</x-label></x-menuitem><x-menuitem value=\"nb\"><x-label>Norwegian</x-label></x-menuitem><x-menuitem value=\"pl\"><x-label>Polish</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Portuguese</x-label></x-menuitem><x-menuitem value=\"ro\"><x-label>Romanian</x-label></x-menuitem><x-menuitem value=\"ru\"><x-label>Russian</x-label></x-menuitem><x-menuitem value=\"sk\"><x-label>Slovak</x-label></x-menuitem><x-menuitem value=\"sl\"><x-label>Slovenian</x-label></x-menuitem><x-menuitem value=\"es\"><x-label>Spanish</x-label></x-menuitem><x-menuitem value=\"sv\"><x-label>Swedish</x-label></x-menuitem><x-menuitem value=\"th\"><x-label>Thai</x-label></x-menuitem><x-menuitem value=\"tr\"><x-label>Turkish</x-label></x-menuitem><x-menuitem value=\"uk\"><x-label>Ukrainian</x-label></x-menuitem><x-menuitem value=\"ur\"><x-label>Urdu</x-label></x-menuitem><x-menuitem value=\"uz\"><x-label>Uzbek</x-label></x-menuitem><x-menuitem value=\"vi\"><x-label>Vietnamese</x-label></x-menuitem><x-menuitem value=\"cy\"><x-label>Welsh</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"role-box\" vertical><h4 id=\"role-heading\">Role</h4><x-select id=\"role-select\"><x-menu id=\"role-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"alertdialog\"><x-label>Alert Dialog</x-label></x-menuitem><x-menuitem value=\"application\"><x-label>Application</x-label></x-menuitem><x-menuitem value=\"article\"><x-label>Article</x-label></x-menuitem><x-menuitem value=\"banner\"><x-label>Banner</x-label></x-menuitem><x-menuitem value=\"button\"><x-label>Button</x-label></x-menuitem><x-menuitem value=\"cell\"><x-label>Cell</x-label></x-menuitem><x-menuitem value=\"checkbox\"><x-label>Checkbox</x-label></x-menuitem><x-menuitem value=\"columnheader\"><x-label>Column header</x-label></x-menuitem><x-menuitem value=\"combobox\"><x-label>Combobox</x-label></x-menuitem><x-menuitem value=\"command\"><x-label>Command</x-label></x-menuitem><x-menuitem value=\"complementary\"><x-label>Complementary</x-label></x-menuitem><x-menuitem value=\"composite\"><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"contentinfo\"><x-label>Content info</x-label></x-menuitem><x-menuitem value=\"definition\"><x-label>Definition</x-label></x-menuitem><x-menuitem value=\"dialog\"><x-label>Dialog</x-label></x-menuitem><x-menuitem value=\"directory\"><x-label>Directory</x-label></x-menuitem><x-menuitem value=\"document\"><x-label>Document</x-label></x-menuitem><x-menuitem value=\"feed\"><x-label>Feed</x-label></x-menuitem><x-menuitem value=\"figure\"><x-label>Figure</x-label></x-menuitem><x-menuitem value=\"form\"><x-label>Form</x-label></x-menuitem><x-menuitem value=\"graphics-document\"><x-label>Graphics document</x-label></x-menuitem><x-menuitem value=\"graphics-object\"><x-label>Graphics object</x-label></x-menuitem><x-menuitem value=\"graphics-symbol\"><x-label>Graphics symbol</x-label></x-menuitem><x-menuitem value=\"grid\"><x-label>Grid</x-label></x-menuitem><x-menuitem value=\"gridcell\"><x-label>Gridcell</x-label></x-menuitem><x-menuitem value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem value=\"heading\"><x-label>Heading</x-label></x-menuitem><x-menuitem value=\"img\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"input\"><x-label>Input</x-label></x-menuitem><x-menuitem value=\"landmark\"><x-label>Landmark</x-label></x-menuitem><x-menuitem value=\"link\"><x-label>Link</x-label></x-menuitem><x-menuitem value=\"list\"><x-label>List</x-label></x-menuitem><x-menuitem value=\"listbox\"><x-label>Listbox</x-label></x-menuitem><x-menuitem value=\"listitem\"><x-label>List item</x-label></x-menuitem><x-menuitem value=\"log\"><x-label>Log</x-label></x-menuitem><x-menuitem value=\"main\"><x-label>Main</x-label></x-menuitem><x-menuitem value=\"marquee\"><x-label>Marquee</x-label></x-menuitem><x-menuitem value=\"math\"><x-label>Math</x-label></x-menuitem><x-menuitem value=\"menu\"><x-label>Menu</x-label></x-menuitem><x-menuitem value=\"menubar\"><x-label>Menubar</x-label></x-menuitem><x-menuitem value=\"menuitem\"><x-label>Menu item</x-label></x-menuitem><x-menuitem value=\"menuitemcheckbox\"><x-label>Menu item (checkbox)</x-label></x-menuitem><x-menuitem value=\"menuitemradio\"><x-label>Menu item (radio)</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"none\"><x-label>None</x-label></x-menuitem><x-menuitem value=\"note\"><x-label>Note</x-label></x-menuitem><x-menuitem value=\"option\"><x-label>Option</x-label></x-menuitem><x-menuitem value=\"presentation\"><x-label>Presentation</x-label></x-menuitem><x-menuitem value=\"progressbar\"><x-label>Progressbar</x-label></x-menuitem><x-menuitem value=\"radio\"><x-label>Radio</x-label></x-menuitem><x-menuitem value=\"radiogroup\"><x-label>Radio group</x-label></x-menuitem><x-menuitem value=\"range\"><x-label>Range</x-label></x-menuitem><x-menuitem value=\"region\"><x-label>Region</x-label></x-menuitem><x-menuitem value=\"roletype\"><x-label>Role type</x-label></x-menuitem><x-menuitem value=\"row\"><x-label>Row</x-label></x-menuitem><x-menuitem value=\"rowgroup\"><x-label>Row group</x-label></x-menuitem><x-menuitem value=\"rowheader\"><x-label>Row header</x-label></x-menuitem><x-menuitem value=\"scrollbar\"><x-label>Scrollbar</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"searchbox\"><x-label>Searchbox</x-label></x-menuitem><x-menuitem value=\"section\"><x-label>Section</x-label></x-menuitem><x-menuitem value=\"sectionhead\"><x-label>Section head</x-label></x-menuitem><x-menuitem value=\"select\"><x-label>Select</x-label></x-menuitem><x-menuitem value=\"separator\"><x-label>Separator</x-label></x-menuitem><x-menuitem value=\"slider\"><x-label>Slider</x-label></x-menuitem><x-menuitem value=\"spinbutton\"><x-label>Spin button</x-label></x-menuitem><x-menuitem value=\"status\"><x-label>Status</x-label></x-menuitem><x-menuitem value=\"structure\"><x-label>Structure</x-label></x-menuitem><x-menuitem value=\"switch\"><x-label>Switch</x-label></x-menuitem><x-menuitem value=\"tab\"><x-label>Tab</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"tablist\"><x-label>Tab list</x-label></x-menuitem><x-menuitem value=\"tabpanel\"><x-label>Tab panel</x-label></x-menuitem><x-menuitem value=\"term\"><x-label>Term</x-label></x-menuitem><x-menuitem value=\"textbox\"><x-label>Textbox</x-label></x-menuitem><x-menuitem value=\"timer\"><x-label>Timer</x-label></x-menuitem><x-menuitem value=\"toolbar\"><x-label>Toolbar</x-label></x-menuitem><x-menuitem value=\"tooltip\"><x-label>Tooltip</x-label></x-menuitem><x-menuitem value=\"tree\"><x-label>Tree</x-label></x-menuitem><x-menuitem value=\"treegrid\"><x-label>Tree grid</x-label></x-menuitem><x-menuitem value=\"treeitem\"><x-label>Tree item</x-label></x-menuitem><x-menuitem value=\"widget\"><x-label>Widget</x-label></x-menuitem><x-menuitem value=\"window\"><x-label>Window</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"tab-index-box\" vertical><h4 id=\"tab-index-heading\">Tab index</h4><x-box><x-slider id=\"tab-index-slider\" value=\"-1\" min=\"-1\" max=\"20\"></x-slider><x-numberinput id=\"tab-index-input\" value=\"-1\" step=\"1\" precision=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"link-section\"><h3 id=\"link-section-heading\">Link</h3><x-box id=\"link-box\"><x-button id=\"link-button\" value=\"link\" togglable><x-icon name=\"link\"></x-icon><x-label>Link</x-label></x-button><x-input id=\"link-input\"><x-label>URL</x-label></x-input></x-box><x-checkbox id=\"link-target-checkbox\"><x-label>Open in a new tab</x-label></x-checkbox></section><hr><section id=\"scripting-section\"><h3 id=\"scripting-heading\">Scripting</h3><x-box id=\"id-box\" vertical><h4 id=\"id-heading\">ID</h4><x-input id=\"id-input\" validation=\"instant\"></x-input></x-box><x-box id=\"classes-box\" vertical><h4 id=\"classes-heading\">Classes</h4><x-tagsinput id=\"classes-input\" delimiter=\" \"></x-tagsinput></x-box></section></template>"]);_templateObject388=function _templateObject388(){return data;};return data;}function _templateObject387(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}h2{margin:16px 20px -8px 20px}[hidden]{display:none}#main{flex:1;overflow:auto;outline:0;position:relative}#footer{display:flex;align-items:center;width:100%;padding:10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer[hidden]{display:none}#space-buttons{width:100%;max-width:none}#space-buttons>x-button{flex:1}"]);_templateObject387=function _templateObject387(){return data;};return data;}function _templateObject386(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\"><h2 id=\"panel-heading\">Geometry</h2><div id=\"inspectors\"><bx-circlegeometryinspector></bx-circlegeometryinspector><hr><bx-ellipsegeometryinspector></bx-ellipsegeometryinspector><hr><bx-coggeometryinspector></bx-coggeometryinspector><hr><bx-crossgeometryinspector></bx-crossgeometryinspector><hr><bx-piegeometryinspector></bx-piegeometryinspector><hr><bx-ringgeometryinspector></bx-ringgeometryinspector><hr><bx-rectgeometryinspector></bx-rectgeometryinspector><hr><bx-crescentgeometryinspector></bx-crescentgeometryinspector><hr><bx-trianglegeometryinspector></bx-trianglegeometryinspector><hr><bx-ngongeometryinspector></bx-ngongeometryinspector><hr><bx-spiralgeometryinspector></bx-spiralgeometryinspector><hr><bx-stargeometryinspector></bx-stargeometryinspector><hr><bx-arrowgeometryinspector></bx-arrowgeometryinspector><hr><bx-nodegeometryinspector></bx-nodegeometryinspector><hr><bx-imagegeometryinspector></bx-imagegeometryinspector><hr><bx-linegeometryinspector></bx-linegeometryinspector><hr><bx-chargeometryinspector></bx-chargeometryinspector><hr><bx-objectgeometryinspector></bx-objectgeometryinspector><hr><bx-guidegeometryinspector></bx-guidegeometryinspector><hr><bx-gridgeometryinspector></bx-gridgeometryinspector><hr><bx-svggeometryinspector></bx-svggeometryinspector><hr><bx-symbolgeometryinspector></bx-symbolgeometryinspector><hr><bx-patterngeometryinspector></bx-patterngeometryinspector><hr><bx-markergeometryinspector></bx-markergeometryinspector><hr><bx-viewgeometryinspector></bx-viewgeometryinspector></div></main><footer id=\"footer\" part=\"footer\"><x-buttons id=\"space-buttons\" tracking=\"1\"><x-button value=\"canvas\" condensed toggled><x-label>Canvas space</x-label></x-button><x-button value=\"viewport\" condensed><x-label>Viewport space</x-label></x-button></x-buttons></footer></div></template>"]);_templateObject386=function _templateObject386(){return data;};return data;}function _templateObject385(){var data=_taggedTemplateLiteral(["#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject385=function _templateObject385(){return data;};return data;}function _templateObject384(){var data=_taggedTemplateLiteral(["<template><h3>View</h3><section id=\"viewbox-section\"><h4 id=\"viewbox-heading\">View box</h4><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject384=function _templateObject384(){return data;};return data;}function _templateObject383(){var data=_taggedTemplateLiteral(["#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-slider{flex:1}#shift-section x-numberinput{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section>x-box{width:100%}#corner-section x-slider{flex:1}#corner-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject383=function _templateObject383(){return data;};return data;}function _templateObject382(){var data=_taggedTemplateLiteral(["<template><h3>Triangle</h3><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject382=function _templateObject382(){return data;};return data;}function _templateObject381(){var data=_taggedTemplateLiteral(["#arch-section{margin-top:14px}#arch-section h4{margin-bottom:0}#arch-section x-box{width:100%}#arch-section x-slider{flex:1}#arch-section x-numberinput{width:80px;margin-left:10px}#hollow-section{margin-top:14px}#hollow-section h4{margin-bottom:0}#hollow-section>x-box{width:100%}#hollow-section x-slider{flex:1}#hollow-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject381=function _templateObject381(){return data;};return data;}function _templateObject380(){var data=_taggedTemplateLiteral(["<template><h3>Crescent</h3><section id=\"arch-section\"><h4 id=\"arch-heading\">Arch</h4><x-box><x-slider id=\"arch-slider\" value=\"0\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" value=\"0\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-section\"><h4 id=\"hollow-heading\">Hollow</h4><x-box><x-slider id=\"hollow-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject380=function _templateObject380(){return data;};return data;}function _templateObject379(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject379=function _templateObject379(){return data;};return data;}function _templateObject378(){var data=_taggedTemplateLiteral(["<template><h3>Symbol</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject378=function _templateObject378(){return data;};return data;}function _templateObject377(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{display:block;flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject377=function _templateObject377(){return data;};return data;}function _templateObject376(){var data=_taggedTemplateLiteral(["<template><h3>SVG</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"px\" toggled><x-label>Pixels (px)</x-label></x-menuitem><x-menuitem value=\"cm\"><x-label>Centimeters (cm)</x-label></x-menuitem><x-menuitem value=\"mm\"><x-label>Millimeters (mm)</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>Inches (in)</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Points (pt)</x-label></x-menuitem><x-menuitem value=\"pc\"><x-label>Picas (pc)</x-label></x-menuitem><x-menuitem value=\"q\"><x-label>Quarter-millimeters (Q)</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject376=function _templateObject376(){return data;};return data;}function _templateObject375(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section x-slider{flex:1}#arms-section x-numberinput{width:54px;margin-left:10px}#depth-section{margin-top:14px}#depth-section h4{margin-bottom:0}#depth-section x-box{width:100%}#depth-section x-slider{flex:1}#depth-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject375=function _templateObject375(){return data;};return data;}function _templateObject374(){var data=_taggedTemplateLiteral(["<template><h3>Star</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"depth-section\"><h4 id=\"depth-heading\">Depth</h4><x-box><x-slider id=\"depth-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"depth-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject374=function _templateObject374(){return data;};return data;}function _templateObject373(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#angle-section{display:flex;justify-content:space-between;margin-top:14px}#angle-section x-box{width:calc(50% - 13px)}#angle-section x-numberinput{width:100%}"]);_templateObject373=function _templateObject373(){return data;};return data;}function _templateObject372(){var data=_taggedTemplateLiteral(["<template><h3>Spiral</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-section\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject372=function _templateObject372(){return data;};return data;}function _templateObject371(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#r1-section{display:flex;margin-top:14px}#r1-section x-numberinput{width:100%}#r1-section x-box{flex:1}#r1-section #r1-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r1-section #r1-aspect-ratio-button[toggled]{opacity:.9}#r1-section #r1-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#r2-section{display:flex;margin-top:14px}#r2-section x-numberinput{width:100%}#r2-section x-box{flex:1}#r2-section #r2-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r2-section #r2-aspect-ratio-button[toggled]{opacity:.9}#r2-section #r2-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject371=function _templateObject371(){return data;};return data;}function _templateObject370(){var data=_taggedTemplateLiteral(["<template><h3>Ring</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r1-section\"><x-box id=\"r1x-box\" vertical><h4 id=\"r1x-heading\">Inner radius X</h4><x-numberinput id=\"r1x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r1-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r1-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r1y-box\" vertical><h4 id=\"r1y-heading\">Inner radius Y</h4><x-numberinput id=\"r1y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-section\"><x-box id=\"r2x-box\" vertical><h4 id=\"r2x-heading\">Outer radius X</h4><x-numberinput id=\"r2x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r2-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r2-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r2y-box\" vertical><h4 id=\"r2y-heading\">Outer radius Y</h4><x-numberinput id=\"r2y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject370=function _templateObject370(){return data;};return data;}function _templateObject369(){var data=_taggedTemplateLiteral(["#corner-radius-section x-label{margin:0 0 5px 0;font-size:11px;font-weight:500}#corner-radius-section x-numberinput{width:100%}#corner-radius-section #r12-box{justify-content:space-between}#corner-radius-section #r43-box{margin-top:12px;justify-content:space-between}#corner-radius-section #r1-box,#corner-radius-section #r4-box{flex:1;margin-right:13px}#corner-radius-section #r2-box,#corner-radius-section #r3-box{flex:1;margin-left:13px}"]);_templateObject369=function _templateObject369(){return data;};return data;}function _templateObject368(){var data=_taggedTemplateLiteral(["<template><h3>Rectangle</h3><section id=\"corner-radius-section\"><h4 id=\"corner-radius-heading\">Corner radius</h4><x-box id=\"r12-box\"><x-box id=\"r1-box\" vertical><x-label id=\"r1-heading\">Top left</x-label><x-numberinput id=\"r1-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><x-label id=\"r2-heading\">Top right</x-label><x-numberinput id=\"r2-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"r43-box\"><x-box id=\"r4-box\" vertical><x-label id=\"r4-heading\">Bottom left</x-label><x-numberinput id=\"r4-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><x-label id=\"r3-heading\">Bottom right</x-label><x-numberinput id=\"r3-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject368=function _templateObject368(){return data;};return data;}function _templateObject367(){var data=_taggedTemplateLiteral(["#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#start-angle-section{margin-top:14px}#start-angle-section h4{margin-bottom:0}#start-angle-section x-box{width:100%}#start-angle-section x-slider{flex:1}#start-angle-section x-numberinput{margin-left:10px;width:80px}#end-angle-section{margin-top:14px}#end-angle-section h4{margin-bottom:0}#end-angle-section x-box{width:100%}#end-angle-section x-slider{flex:1}#end-angle-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject367=function _templateObject367(){return data;};return data;}function _templateObject366(){var data=_taggedTemplateLiteral(["<template><h3>Pie</h3><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"start-angle-section\"><h4 id=\"start-angle-heading\">Start angle</h4><x-box><x-slider id=\"start-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-angle-section\"><h4 id=\"end-angle-heading\">End angle</h4><x-box><x-slider id=\"end-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject366=function _templateObject366(){return data;};return data;}function _templateObject365(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject365=function _templateObject365(){return data;};return data;}function _templateObject364(){var data=_taggedTemplateLiteral(["<template><h3>Pattern</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject364=function _templateObject364(){return data;};return data;}function _templateObject363(){var data=_taggedTemplateLiteral(["#position-section{display:flex;margin-top:14px}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#origin-section{display:flex;margin-top:14px}#origin-section x-numberinput{width:100%}#origin-section #origin-x-box{flex:1;margin-right:13px}#origin-section #origin-y-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-slider{flex:1}#rotation-input{margin-left:10px;width:80px}#rotation-section>x-box{width:100%}"]);_templateObject363=function _templateObject363(){return data;};return data;}function _templateObject362(){var data=_taggedTemplateLiteral(["<template><h3>Object</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"origin-section\"><x-box id=\"origin-x-box\" vertical><h4 id=\"origin-x-heading\">Origin X</h4><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><h4 id=\"origin-y-heading\">Origin Y</h4><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject362=function _templateObject362(){return data;};return data;}function _templateObject361(){var data=_taggedTemplateLiteral(["section{margin-top:14px;display:flex}section[hidden]{display:none}#node-point-section x-numberinput{width:100%}#node-point-section #x-box{flex:1;margin-right:13px}#node-point-section #y-box{flex:1;margin-left:13px}#control-point-1-section x-numberinput{width:100%}#control-point-1-section #x1-box{flex:1;margin-right:13px}#control-point-1-section #y1-box{flex:1;margin-left:13px}#control-point-2-section x-numberinput{width:100%}#control-point-2-section #x2-box{flex:1;margin-right:13px}#control-point-2-section #y2-box{flex:1;margin-left:13px}"]);_templateObject361=function _templateObject361(){return data;};return data;}function _templateObject360(){var data=_taggedTemplateLiteral(["<template><h3>Node</h3><section id=\"node-point-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-1-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">X1</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Y1</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-2-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">X2</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">Y2</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject360=function _templateObject360(){return data;};return data;}function _templateObject359(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section #arms-slider{flex:1}#arms-section #arms-input{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section x-box{width:100%}#corner-section #corner-slider{flex:1}#corner-section #corner-input{width:54px;margin-left:10px}"]);_templateObject359=function _templateObject359(){return data;};return data;}function _templateObject358(){var data=_taggedTemplateLiteral(["<template><h3>N-gon</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"5\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"5\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject358=function _templateObject358(){return data;};return data;}function _templateObject357(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{display:block;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}#ref-section{margin-top:20px}#ref-section-heading{margin-bottom:7px}#ref-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#ref-box x-numberinput{width:100%}#ref-box #ref-x-box{flex:1;margin-right:13px}#ref-box #ref-y-box{flex:1;margin-left:13px}#orient-section{margin-top:20px}#orient-heading-box{margin-bottom:8px}#orient-heading{flex:1;margin:0}#orient-input{margin-left:12px;min-width:60px}"]);_templateObject357=function _templateObject357(){return data;};return data;}function _templateObject356(){var data=_taggedTemplateLiteral(["<template><h3>Marker</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"userSpaceOnUse\" toggled><x-label>User</x-label></x-menuitem><x-menuitem value=\"strokeWidth\"><x-label>Stroke width</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" condensed data-property=\"x\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" condensed data-property=\"y\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section><section id=\"ref-section\"><h4 id=\"ref-section-heading\">Reference point</h4><x-box id=\"ref-box\"><x-box id=\"ref-x-box\" vertical><x-label id=\"ref-x-heading\">X</x-label><x-numberinput id=\"ref-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"ref-y-box\" vertical><x-label id=\"ref-y-heading\">Y</x-label><x-numberinput id=\"ref-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"orient-section\"><x-box id=\"orient-heading-box\"><h4 id=\"orient-heading\">Orient</h4><x-switch id=\"orient-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"orient-box\"><x-slider id=\"orient-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"orient-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject356=function _templateObject356(){return data;};return data;}function _templateObject355(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:80px;height:80px;box-sizing:border-box;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#buttons{width:100%;height:100%}#buttons .button{position:absolute;width:22px;height:22px;min-height:22px;padding:0}.button[value=xMinYMin]{left:-1px;top:-1px}.button[value=xMidYMin]{top:-1px;left:50%;transform:translate(-50%,0)}.button[value=xMaxYMin]{top:-1px;right:-1px}.button[value=xMinYMid]{top:50%;left:-1px;transform:translate(0,-50%)}.button[value=xMidYMid]{top:50%;left:50%;transform:translate(-50%,-50%)}.button[value=xMaxYMid]{top:50%;right:-1px;transform:translate(0,-50%)}.button[value=xMinYMax]{left:-1px;bottom:-1px}.button[value=xMidYMax]{left:50%;bottom:-1px;transform:translate(-50%,0)}.button[value=xMaxYMax]{right:-1px;bottom:-1px}"]);_templateObject355=function _templateObject355(){return data;};return data;}function _templateObject354(){var data=_taggedTemplateLiteral(["<template><div id=\"buttons\"><x-button class=\"button\" part=\"button\" value=\"xMinYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMax\"></x-button></div></template>"]);_templateObject354=function _templateObject354(){return data;};return data;}function _templateObject353(){var data=_taggedTemplateLiteral(["#start-point-section{display:flex;margin-top:14px}#start-point-section x-numberinput{width:100%}#start-point-section #x1-box{flex:1;margin-right:13px}#start-point-section #y1-box{flex:1;margin-left:13px}#end-point-section{display:flex;margin-top:14px}#end-point-section x-numberinput{width:100%}#end-point-section #x2-box{flex:1;margin-right:13px}#end-point-section #y2-box{flex:1;margin-left:13px}#length-section{margin-top:14px}#length-section x-numberinput{width:100%}"]);_templateObject353=function _templateObject353(){return data;};return data;}function _templateObject352(){var data=_taggedTemplateLiteral(["<template><h3>Line</h3><section id=\"start-point-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">Start X</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Start Y</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-point-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">End X</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">End Y</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"length-section\"><h4 id=\"length-heading\">Length</h4><x-numberinput id=\"length-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject352=function _templateObject352(){return data;};return data;}function _templateObject351(){var data=_taggedTemplateLiteral(["#natural-size-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#natural-size-section x-numberinput{width:100%}#natural-size-section #natural-size-box{justify-content:space-between}#natural-size-section #natural-width-box{flex:1;margin-right:13px}#natural-size-section #natural-height-box{flex:1;margin-left:13px}"]);_templateObject351=function _templateObject351(){return data;};return data;}function _templateObject350(){var data=_taggedTemplateLiteral(["<template><h3>Image</h3><section id=\"natural-size-section\"><h4 id=\"natural-size-heading\">Natural size</h4><x-box id=\"natural-size-box\"><x-box id=\"natural-width-box\" vertical><x-label id=\"natural-width-heading\">Width</x-label><x-numberinput id=\"natural-width-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"natural-height-box\" vertical><x-label id=\"natural-height-heading\">Height</x-label><x-numberinput id=\"natural-height-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject350=function _templateObject350(){return data;};return data;}function _templateObject349(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}"]);_templateObject349=function _templateObject349(){return data;};return data;}function _templateObject348(){var data=_taggedTemplateLiteral(["<template><h3>Guide</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"orientation-section\"><h4>Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section></template>"]);_templateObject348=function _templateObject348(){return data;};return data;}function _templateObject347(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject347=function _templateObject347(){return data;};return data;}function _templateObject346(){var data=_taggedTemplateLiteral(["<template><h3>Grid</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject346=function _templateObject346(){return data;};return data;}function _templateObject345(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;margin-top:14px}#radius-section x-numberinput{width:100%}#radius-section #rx-box,#radius-section #ry-box{flex:1}#radius-section #aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-section #aspect-ratio-button[toggled]{opacity:.9}#radius-section #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject345=function _templateObject345(){return data;};return data;}function _templateObject344(){var data=_taggedTemplateLiteral(["<template><h3>Ellipse</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"rx-box\" vertical><h4 id=\"rx-heading\">Radius X</h4><x-numberinput id=\"rx-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"ry-box\" vertical><h4 id=\"ry-heading\">Radius Y</h4><x-numberinput id=\"ry-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject344=function _templateObject344(){return data;};return data;}function _templateObject343(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#arm-thickness-section{display:flex;margin-top:14px}#arm-thickness-section x-numberinput{width:100%}#arm-thickness-section #horizontal-arm-thickness-box{flex:1;margin-right:13px}#arm-thickness-section #vertical-arm-thickness-box{flex:1;margin-left:13px}#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject343=function _templateObject343(){return data;};return data;}function _templateObject342(){var data=_taggedTemplateLiteral(["<template><h3>Cross</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arm-thickness-section\"><x-box id=\"horizontal-arm-thickness-box\" vertical><h4 id=\"horizontal-arm-thickness-heading\">Arm 1 thickness</h4><x-numberinput id=\"horizontal-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"vertical-arm-thickness-box\" vertical><h4 id=\"vertical-arm-thickness-heading\">Arm 2 thickness</h4><x-numberinput id=\"vertical-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject342=function _templateObject342(){return data;};return data;}function _templateObject341(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(33.3333% - 3px)}#radius-section x-numberinput{width:100%}#splay-section{margin-top:14px}#splay-section h4{margin-bottom:0}#splay-section x-box{width:100%}#splay-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}#teeth-section{margin-top:14px}#teeth-section h4{margin-bottom:0}#teeth-section x-box{width:100%}#teeth-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject341=function _templateObject341(){return data;};return data;}function _templateObject340(){var data=_taggedTemplateLiteral(["<template><h3>Cog</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Radius 1</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Radius 2</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><h4 id=\"r3-heading\">Radius 3</h4><x-numberinput id=\"r3-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-section\"><h4 id=\"splay-heading\">Splay</h4><x-box><x-slider id=\"splay-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-section\"><h4 id=\"teeth-heading\">Teeth</h4><x-box><x-slider id=\"teeth-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject340=function _templateObject340(){return data;};return data;}function _templateObject339(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{margin-top:14px}#radius-input{width:100%}"]);_templateObject339=function _templateObject339(){return data;};return data;}function _templateObject338(){var data=_taggedTemplateLiteral(["<template><h3>Circle</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-numberinput id=\"radius-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject338=function _templateObject338(){return data;};return data;}function _templateObject337(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #dx-box{flex:1;margin-right:13px}#position-section #dy-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-section x-box{width:100%}#rotation-section x-slider{flex:1}#rotation-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject337=function _templateObject337(){return data;};return data;}function _templateObject336(){var data=_taggedTemplateLiteral(["<template><h3>Character</h3><section id=\"position-section\"><x-box id=\"dx-box\" vertical><h4 id=\"dx-heading\">Delta X</h4><x-numberinput id=\"dx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"dy-box\" vertical><h4 id=\"dy-heading\">Delta Y</h4><x-numberinput id=\"dy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box id=\"rotation-box\"><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject336=function _templateObject336(){return data;};return data;}function _templateObject335(){var data=_taggedTemplateLiteral(["#base-thickness-section{margin-top:6px}#base-thickness-section h4{margin-bottom:0}#base-thickness-section x-box{width:100%}#base-thickness-section x-slider{flex:1}#base-thickness-section x-numberinput{width:80px;margin-left:10px}#head-thickness-section{margin-top:14px}#head-thickness-section h4{margin-bottom:0}#head-thickness-section x-box{width:100%}#head-thickness-section x-slider{flex:1}#head-thickness-section x-numberinput{width:80px;margin-left:10px}#head-length-section{margin-top:14px}#head-length-section h4{margin-bottom:0}#head-length-section x-box{width:100%}#head-length-section x-slider{flex:1}#head-length-section x-numberinput{width:80px;margin-left:10px}#head-inset-section{margin-top:14px}#head-inset-section h4{margin-bottom:0}#head-inset-section x-box{width:100%}#head-inset-section x-slider{flex:1}#head-inset-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject335=function _templateObject335(){return data;};return data;}function _templateObject334(){var data=_taggedTemplateLiteral(["<template><h3>Arrow</h3><section id=\"base-thickness-section\"><h4>Base thickness</h4><x-box><x-slider id=\"base-thickness-slider\"></x-slider><x-numberinput id=\"base-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-section\"><h4>Head thickness</h4><x-box><x-slider id=\"head-thickness-slider\"></x-slider><x-numberinput id=\"head-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-section\"><h4>Head length</h4><x-box><x-slider id=\"head-length-slider\"></x-slider><x-numberinput id=\"head-length-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-section\"><h4>Head inset</h4><x-box><x-slider id=\"head-inset-slider\"></x-slider><x-numberinput id=\"head-inset-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject334=function _templateObject334(){return data;};return data;}function _templateObject333(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;padding:18px 20px;box-sizing:border-box}:host([hidden]){display:none}h3{margin:0 0 14px 0}h4{margin-top:0}x-numberinput{max-width:none}x-switch{margin:0}"]);_templateObject333=function _templateObject333(){return data;};return data;}function _templateObject332(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}#font-section{padding:10px 20px 20px 20px}#font-family-subsection{margin-bottom:15px}#font-family-popover{padding:0;width:240px;height:100%;max-height:400px}#font-family-button{width:100%}#font-family-button[mixed]{opacity:1}#font-family-label{flex:1;font-size:20px;line-height:20px;text-align:start}#font-family-button[mixed] #font-family-label{opacity:.75}#font-face-subsection{margin-bottom:15px}#font-face-box{width:100%}#font-weight-select{width:100%;min-width:10px}#font-style-button{min-width:fit-content;height:26px;font-style:italic;margin:0 0 0 8px}#font-size-box{width:100%}#font-size-slider{flex:1}#font-size-input{margin-left:6px;width:54px}#text-section x-button x-icon{width:20px;height:20px}#text-anchor-box{margin-top:14px}#text-anchor-buttons{width:100%}#text-anchor-buttons x-button{flex:1}#text-anchor-buttons x-button x-label{font-size:12px}#text-decoration-buttons{width:100%}#text-decoration-buttons x-button{padding:0 7px;height:28px;flex:1}#text-decoration-buttons x-label{font-weight:600;font-size:12px;text-align:center}#underline-button x-label{text-decoration:underline}#overline-button x-label{text-decoration:overline;line-height:2}#line-through-button x-label{text-decoration:line-through}#text-transform-box{width:100%;margin-top:14px}#text-transform-buttons{width:100%}#text-transform-buttons x-button{padding:0 5px;height:28px;flex:1}#text-transform-buttons x-label{font-weight:600;font-size:12px;text-align:center}#text-on-path-button{width:100%;text-align:center;height:28px}#path-start-offset-box{margin-top:14px}#path-start-offset-heading{margin-bottom:0}#path-start-offset-inner-box{width:100%}#path-start-offset-slider{flex:1}#path-start-offset-input{margin-left:6px;width:54px}#letter-spacing-box{margin-bottom:6px}#letter-spacing-heading{margin-bottom:0}#letter-spacing-inner-box{width:100%}#letter-spacing-slider{flex:1}#letter-spacing-input{margin-left:6px;width:54px}#word-spacing-box{margin-bottom:6px}#word-spacing-heading{margin-bottom:0}#word-spacing-inner-box{width:100%}#word-spacing-slider{flex:1}#word-spacing-input{margin-left:6px;width:54px}#line-spacing-heading{margin-bottom:0}#line-spacing-inner-box{width:100%}#line-spacing-slider{flex:1}#line-spacing-input{margin-left:6px;width:54px}"]);_templateObject332=function _templateObject332(){return data;};return data;}function _templateObject331(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Typography</h2><section id=\"font-section\"><h3 id=\"font-section-heading\">Font</h3><x-box id=\"font-family-subsection\" vertical><h4 id=\"font-family-heading\">Family</h4><x-button id=\"font-family-button\" size=\"larger\"><x-label id=\"font-family-label\">Arial</x-label><x-popover id=\"font-family-popover\" modal><bx-fontfamilypicker id=\"font-family-picker\"></bx-fontfamilypicker></x-popover></x-button></x-box><x-box id=\"font-face-subsection\" vertical><h4 id=\"font-face-heading\">Face</h4><x-box id=\"font-face-box\"><x-select id=\"font-weight-select\"><x-menu id=\"font-weight-menu\"><x-menuitem value=\"100\"><x-label>100 - Thin</x-label></x-menuitem><x-menuitem value=\"200\"><x-label>200 - Extra-Light</x-label></x-menuitem><x-menuitem value=\"300\"><x-label>300 - Light</x-label></x-menuitem><x-menuitem value=\"400\" selected=\"true\"><x-label>400 - Normal</x-label></x-menuitem><x-menuitem value=\"500\"><x-label>500 - Medium</x-label></x-menuitem><x-menuitem value=\"600\"><x-label>600 - Semi-Bold</x-label></x-menuitem><x-menuitem value=\"700\"><x-label>700 - Bold</x-label></x-menuitem><x-menuitem value=\"800\"><x-label>800 - Extra-Bold</x-label></x-menuitem><x-menuitem value=\"900\"><x-label>900 - Ultra-Bold</x-label></x-menuitem></x-menu></x-select><x-button id=\"font-style-button\" condensed togglable><x-label>Italic</x-label></x-button></x-box></x-box><x-box id=\"font-size-subsection\" vertical><h4 id=\"font-size-heading\">Size</h4><x-box id=\"font-size-box\"><x-slider id=\"font-size-slider\" value=\"13\" min=\"1\" max=\"150\" step=\"1\"></x-slider><x-numberinput id=\"font-size-input\" value=\"13\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"text-section\"><h3 id=\"text-section-heading\">Text</h3><x-box id=\"text-decoration-box\" vertical><h4 id=\"text-decoration-heading\">Decoration</h4><x-buttons id=\"text-decoration-buttons\" tracking=\"2\"><x-button id=\"underline-button\" value=\"underline\"><x-label>Underline</x-label></x-button><x-button id=\"line-through-button\" value=\"line-through\"><x-label>Line-through</x-label></x-button><x-button id=\"overline-button\" value=\"overline\"><x-label>Overline</x-label></x-button></x-buttons></x-box><x-box id=\"text-transform-box\" vertical><h4 id=\"text-transform-heading\">Transform</h4><x-buttons id=\"text-transform-buttons\" tracking=\"0\"><x-button id=\"capitalize-button\" value=\"capitalize\"><x-label>Capitalize</x-label></x-button><x-button id=\"uppercase-button\" value=\"uppercase\"><x-label>UPPERCASE</x-label></x-button><x-button id=\"lowercase-button\" value=\"lowercase\"><x-label>lowercase</x-label></x-button></x-buttons></x-box><x-box id=\"text-anchor-box\" vertical><h4 id=\"text-anchor-heading\">Anchor</h4><x-buttons id=\"text-anchor-buttons\" tracking=\"1\"><x-button id=\"start-text-anchor-button\" value=\"start\" toggled><x-label>Start</x-label></x-button><x-button id=\"middle-text-anchor-button\" value=\"middle\"><x-label>Middle</x-label></x-button><x-button id=\"end-text-anchor-button\" value=\"end\"><x-label>End</x-label></x-button></x-buttons></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-button id=\"text-on-path-button\"><x-label>Text on path</x-label></x-button><x-box id=\"path-start-offset-box\" vertical><h4 id=\"path-start-offset-heading\">Start offset</h4><x-box id=\"path-start-offset-inner-box\"><x-slider id=\"path-start-offset-slider\" value=\"0\" min=\"-500\" max=\"500\" step=\"1\"></x-slider><x-numberinput id=\"path-start-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"spacing-section\"><h3 id=\"spacing-section-heading\">Spacing</h3><x-box id=\"letter-spacing-box\" vertical><h4 id=\"letter-spacing-heading\">Letter</h4><x-box id=\"letter-spacing-inner-box\"><x-slider id=\"letter-spacing-slider\" value=\"0\" min=\"-20\" max=\"20\" step=\"0.1\"></x-slider><x-numberinput id=\"letter-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"word-spacing-box\" vertical><h4 id=\"word-spacing-heading\">Word</h4><x-box id=\"word-spacing-inner-box\"><x-slider id=\"word-spacing-slider\" value=\"0\" min=\"-100\" max=\"100\" step=\"0.1\"></x-slider><x-numberinput id=\"word-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"line-spacing-box\" vertical><h4 id=\"line-spacing-heading\">Line</h4><x-box id=\"line-spacing-inner-box\"><x-slider id=\"line-spacing-slider\" value=\"0\" min=\"-3\" max=\"3\" step=\"0.1\"></x-slider><x-numberinput id=\"line-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject331=function _templateObject331(){return data;};return data;}function _templateObject330(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;box-sizing:border-box}:host(:focus){outline:0}h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#header{padding:5px;border-bottom-width:1px;border-bottom-style:solid}#provider-buttons{width:100%}#provider-buttons x-button{flex:1}#provider-buttons x-icon{width:14px;height:14px}#main{flex:1;width:100%;height:100%;min-height:1px;position:relative}#defs-items{width:100%;height:100%;box-sizing:border-box;flex:1;outline:0;overflow:auto}#defs-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#defs-items .item[data-selected]{color:#fff;background:var(--accent-color)}#defs-items .item .label{text-overflow:ellipsis;white-space:pre;font-size:20px}#local-items{width:100%;height:100%;box-sizing:border-box;flex:1;outline:0;overflow:auto}#local-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#local-items .item[data-disabled]{opacity:.4;pointer-events:none}#local-items .item[data-selected]{color:#fff;background:var(--accent-color)}#local-items .item .label{overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:20px}#placeholder{padding:5px 7px;font-size:12px;opacity:.6}#footer{padding:5px;border-top-width:1px;border-top-style:solid}#filter-input{flex:1;max-width:none;border-top-right-radius:0;border-bottom-right-radius:0}#footer #manage-button{width:100%;margin-bottom:5px}#footer #manage-button x-icon{width:14px;height:14px}"]);_templateObject330=function _templateObject330(){return data;};return data;}function _templateObject329(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-buttons id=\"provider-buttons\" tracking=\"1\"><x-button value=\"defs\" condensed toggled><x-icon name=\"defs-panel\"></x-icon><x-label>Defs</x-label></x-button><x-button value=\"local\" condensed><x-icon name=\"os-","\"></x-icon><x-label>Local</x-label></x-button></x-buttons></header><main id=\"main\" part=\"main\"><div id=\"defs-items\" class=\"items\"></div><div id=\"local-items\" class=\"items\"></div><div id=\"placeholder\" hidden></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-input id=\"filter-input\" placeholder=\"Filter\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input></footer></template>"]);_templateObject329=function _templateObject329(){return data;};return data;}function _templateObject328(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}section[hidden]+hr{display:none}#filter-section{padding:10px 20px 15px}#filter-select{width:100%}#filter-settings-wrapper:not(:empty){margin-top:14px}#filter-convert-button{width:100%;margin-top:14px}#filter-edit-button{width:100%;margin-top:14px}#blend-mode-select{width:100%}#isolation-checkbox{margin-top:10px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#cover-buttons>x-button{flex:1}#cover-buttons>x-button:last-child{margin-left:8px}"]);_templateObject328=function _templateObject328(){return data;};return data;}function _templateObject327(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Compositing</h2><section id=\"filter-section\"><h3 id=\"filter-section-heading\">Filter</h3><bx-filterselect id=\"filter-select\"></bx-filterselect><div id=\"filter-settings-wrapper\"></div><x-button id=\"filter-convert-button\"><x-label>Convert to custom filter</x-label></x-button><x-button id=\"filter-edit-button\"><x-label>Edit custom filter\u2026</x-label></x-button></section><hr><section id=\"blend-mode-section\"><h3 id=\"blend-mode-section-heading\">Blend mode</h3><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\" toggled><x-label>Normal</x-label></x-menuitem><hr><x-menuitem value=\"darken\"><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"color-burn\"><x-label>Color Burn</x-label></x-menuitem><hr><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"color-dodge\"><x-label>Color Dodge</x-label></x-menuitem><hr><x-menuitem value=\"overlay\"><x-label>Overlay</x-label></x-menuitem><x-menuitem value=\"soft-light\"><x-label>Soft Light</x-label></x-menuitem><x-menuitem value=\"hard-light\"><x-label>Hard Light</x-label></x-menuitem><hr><x-menuitem value=\"difference\"><x-label>Difference</x-label></x-menuitem><x-menuitem value=\"exclusion\"><x-label>Exclusion</x-label></x-menuitem><hr><x-menuitem value=\"hue\"><x-label>Hue</x-label></x-menuitem><x-menuitem value=\"saturation\"><x-label>Saturation</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"isolation-checkbox\"><x-label id=\"isolation-label\">Isolate</x-label></x-checkbox></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"cover-section\"><h3 id=\"cover-section-heading\">Cover</h3><x-box id=\"cover-buttons\"><x-button id=\"clip-button\" togglable><x-icon name=\"object-clip\"></x-icon><x-label>Clip</x-label></x-button><x-button id=\"mask-button\" togglable><x-icon name=\"object-mask\"></x-icon><x-label>Mask</x-label></x-button></x-box></section></template>"]);_templateObject327=function _templateObject327(){return data;};return data;}function _templateObject326(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#colors-section{margin-top:14px;display:flex}#colors-section>x-box{flex:1}#colors-section>x-box:first-child{margin-right:7px}#colors-section>x-box:last-child{margin-left:7px}#colors-section x-colorselect{width:100%}#colors-section x-popover{--align:right}#gamma-section{margin-top:14px}#gamma-section h4{margin-bottom:0}#gamma-section x-box{width:100%}#gamma-section x-slider{flex:1}#gamma-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject326=function _templateObject326(){return data;};return data;}function _templateObject325(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"colors-section\"><x-box id=\"shadows-color-box\" vertical><h4 id=\"shadows-color-heading\">Shadows color</h4><x-colorselect id=\"shadows-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"shadows-color-popover\" modal><bx-colorpicker id=\"shadows-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box><x-box id=\"highlights-color-box\" vertical><h4 id=\"highlights-color-heading\">Highlights color</h4><x-colorselect id=\"highlights-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"highlights-color-popover\" modal><bx-colorpicker id=\"highlights-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box></section><section id=\"gamma-section\"><h4 id=\"gamma-heading\">Gamma correction</h4><x-box id=\"gamma-box\"><x-slider id=\"gamma-slider\" value=\"0\" min=\"0\" max=\"4\" step=\"0.1\"></x-slider><x-numberinput id=\"gamma-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject325=function _templateObject325(){return data;};return data;}function _templateObject324(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#channels-section{margin-top:14px}#channels-buttons{width:100%}#channels-buttons x-button{flex:1}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#saturation-section{margin-top:14px}#saturation-section h4{margin-bottom:0}#saturation-section x-box{width:100%}#saturation-section x-slider{flex:1}#saturation-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject324=function _templateObject324(){return data;};return data;}function _templateObject323(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"channels-section\"><h4 id=\"channels-heading\">Channels</h4><x-buttons id=\"channels-buttons\" tracking=\"2\"><x-button value=\"r\" toggled><x-label>Red</x-label></x-button><x-button value=\"g\"><x-label>Green</x-label></x-button><x-button value=\"b\"><x-label>Blue</x-label></x-button></x-buttons></section><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"5\" min=\"1\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"5\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"saturation-section\"><h4 id=\"saturation-heading\">Saturation</h4><x-box id=\"saturation-box\"><x-slider id=\"saturation-slider\" value=\"0.9\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturation-input\" value=\"0.9\" min=\"0\" max=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject323=function _templateObject323(){return data;};return data;}function _templateObject322(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject322=function _templateObject322(){return data;};return data;}function _templateObject321(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject321=function _templateObject321(){return data;};return data;}function _templateObject320(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject320=function _templateObject320(){return data;};return data;}function _templateObject319(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject319=function _templateObject319(){return data;};return data;}function _templateObject318(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject318=function _templateObject318(){return data;};return data;}function _templateObject317(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject317=function _templateObject317(){return data;};return data;}function _templateObject316(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#angle-section{margin-top:14px}#angle-section h4{margin-bottom:0}#angle-section x-box{width:100%}#angle-section x-slider{flex:1}#angle-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject316=function _templateObject316(){return data;};return data;}function _templateObject315(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"angle-section\"><h4 id=\"angle-heading\">Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject315=function _templateObject315(){return data;};return data;}function _templateObject314(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:60px;margin-left:10px}"]);_templateObject314=function _templateObject314(){return data;};return data;}function _templateObject313(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject313=function _templateObject313(){return data;};return data;}function _templateObject312(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject312=function _templateObject312(){return data;};return data;}function _templateObject311(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject311=function _templateObject311(){return data;};return data;}function _templateObject310(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject310=function _templateObject310(){return data;};return data;}function _templateObject309(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject309=function _templateObject309(){return data;};return data;}function _templateObject308(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#balance-section{margin-top:14px}#balance-section h4{margin-bottom:0}#balance-section x-box{width:100%}#balance-section x-slider{flex:1}#balance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject308=function _templateObject308(){return data;};return data;}function _templateObject307(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"balance-section\"><h4 id=\"balance-heading\">Balance</h4><x-box id=\"balance-box\"><x-slider id=\"balance-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"balance-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject307=function _templateObject307(){return data;};return data;}function _templateObject306(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#operator-section{margin-top:14px}#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject306=function _templateObject306(){return data;};return data;}function _templateObject305(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"operator-section\"><h4 id=\"operator-heading\">Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject305=function _templateObject305(){return data;};return data;}function _templateObject304(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#frequency-section{margin-top:14px}#frequency-section h4{margin-bottom:0}#frequency-section x-box{width:100%}#frequency-section x-slider{flex:1}#frequency-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject304=function _templateObject304(){return data;};return data;}function _templateObject303(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"frequency-section\"><h4 id=\"frequency-heading\">Frequency</h4><x-box id=\"frequency-box\"><x-slider id=\"frequency-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"frequency-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject303=function _templateObject303(){return data;};return data;}function _templateObject302(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#pixel-size-section{margin-top:14px}#pixel-size-section h4{margin-bottom:0}#pixel-size-section x-box{width:100%}#pixel-size-section x-slider{flex:1}#pixel-size-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject302=function _templateObject302(){return data;};return data;}function _templateObject301(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"pixel-size-section\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" value=\"10\" min=\"1\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" value=\"10\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject301=function _templateObject301(){return data;};return data;}function _templateObject300(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject300=function _templateObject300(){return data;};return data;}function _templateObject299(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0.4\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0.4\" min=\"0\" max=\"2\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject299=function _templateObject299(){return data;};return data;}function _templateObject298(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}#distance-section{margin-top:14px}#distance-section h4{margin-bottom:0}#distance-section x-box{width:100%}#distance-section x-slider{flex:1}#distance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject298=function _templateObject298(){return data;};return data;}function _templateObject297(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"orientation-section\"><h4 id=\"orientation-heading\">Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section><section id=\"distance-section\"><h4 id=\"distance-heading\">Distance</h4><x-box id=\"distance-box\"><x-slider id=\"distance-slider\" value=\"10\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"distance-input\" value=\"10\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject297=function _templateObject297(){return data;};return data;}function _templateObject296(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject296=function _templateObject296(){return data;};return data;}function _templateObject295(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject295=function _templateObject295(){return data;};return data;}function _templateObject294(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#width-section{margin-top:14px}#width-section h4{margin-bottom:0}#width-section x-box{width:100%}#width-section x-slider{flex:1}#width-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject294=function _templateObject294(){return data;};return data;}function _templateObject293(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"width-section\"><h4 id=\"width-heading\">Width</h4><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject293=function _templateObject293(){return data;};return data;}function _templateObject292(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#target-section{display:flex;margin-top:14px}#target-section x-box{width:100%}#target-section x-box:first-child{margin-right:8px}#target-section x-box:last-child{margin-left:8px}#target-section x-numberinput{width:100%}#cone-angle-section{margin-top:14px}#cone-angle-section h4{margin-bottom:0}#cone-angle-section x-box{width:100%}#cone-angle-section x-slider{flex:1}#cone-angle-section x-numberinput{width:54px;margin-left:10px}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject292=function _templateObject292(){return data;};return data;}function _templateObject291(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"target-section\"><x-box id=\"target-x-box\" vertical><h4 id=\"target-x-heading\">Target X</h4><x-numberinput id=\"target-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><h4 id=\"target-y-heading\">Target Y</h4><x-numberinput id=\"target-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-z-box\" vertical><h4 id=\"target-z-heading\">Target Z</h4><x-numberinput id=\"target-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cone-angle-section\"><h4 id=\"cone-angle-heading\">Cone angle</h4><x-box id=\"cone-angle-box\"><x-slider id=\"cone-angle-slider\" value=\"0\" min=\"1\" max=\"90\" step=\"1\"></x-slider><x-numberinput id=\"cone-angle-input\" value=\"0\" min=\"1\" max=\"90\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject291=function _templateObject291(){return data;};return data;}function _templateObject290(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject290=function _templateObject290(){return data;};return data;}function _templateObject289(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject289=function _templateObject289(){return data;};return data;}function _templateObject288(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#choke-section{margin-top:14px}#choke-section h4{margin-bottom:0}#choke-section x-box{width:100%}#choke-section x-slider{flex:1}#choke-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject288=function _templateObject288(){return data;};return data;}function _templateObject287(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"choke-section\"><h4 id=\"choke-heading\">Choke</h4><x-box id=\"choke-box\"><x-slider id=\"choke-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"choke-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject287=function _templateObject287(){return data;};return data;}function _templateObject286(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#spread-section{margin-top:14px}#spread-section h4{margin-bottom:0}#spread-section x-box{width:100%}#spread-section x-slider{flex:1}#spread-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject286=function _templateObject286(){return data;};return data;}function _templateObject285(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-section\"><h4 id=\"spread-heading\">Spread</h4><x-box id=\"spread-box\"><x-slider id=\"spread-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"spread-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject285=function _templateObject285(){return data;};return data;}function _templateObject284(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#expand-button{width:100%;padding:0 10px;justify-content:start}#expand-button>x-box{flex:1}#expand-button-thumbnail{width:27px;height:27px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#expand-button-thumbnail[hidden]{display:none}:host([mixed]) #expand-button-thumbnail{opacity:.7}#expand-button-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none}#expand-button-label{text-align:start;margin-left:7px}:host([mixed]) #expand-button-label{opacity:.7}#popover{flex-flow:column;width:240px;min-height:79px}#popover[open]{display:flex}#popover>#main{display:flex;flex-flow:column;padding:0;box-sizing:border-box}#items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#items .placeholder{padding:9px 10px;opacity:.6;box-sizing:border-box;font-size:12px}#items h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#items .item[data-selected]{background:var(--accent-color)}#items .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#items .item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}#items .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#items .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;min-height:fit-content;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{margin-left:4px}#footer #developer-mode-button x-icon{width:11px;height:11px}#custom-filters-mirror,#preset-filters-mirror{width:0;height:0;display:block}"]);_templateObject284=function _templateObject284(){return data;};return data;}function _templateObject283(){var data=_taggedTemplateLiteral(["<template><x-button id=\"expand-button\" size=\"larger\" disabled=\"disabled\"><x-box><div id=\"expand-button-thumbnail\" part=\"thumbnail\"><img id=\"expand-button-thumbnail-img\" src=\"","\"></div><x-label id=\"expand-button-label\">None</x-label></x-box><x-popover id=\"popover\" modal><main id=\"main\"><div id=\"items\"><div id=\"none-item\" class=\"item\" data-value=\"none\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">None</div></div><div id=\"preset-items-container\"><h4 id=\"preset-items-heading\" part=\"heading\">Preset filters</h4><div id=\"preset-items\"><div class=\"item\" data-value=\"drop-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"inner-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"point-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"spot-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"outline\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"gaussian-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"motion-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"sharpen\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"pixelete\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"warp\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"morphology\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"black-and-white\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"grayscale\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"sepia\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"saturate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"hue-rotate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"invert\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"brightness\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"contrast\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"posterize\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"duotone\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"x-ray\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div></div></div><div id=\"custom-items-container\"><h4 id=\"custom-items-heading\" part=\"heading\">Custom filters</h4><div id=\"custom-items\"></div><div id=\"custom-items-placeholder\" class=\"placeholder\" hidden>No filters found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button></footer></x-popover></x-button><svg id=\"custom-filters-mirror\"></svg> <svg id=\"preset-filters-mirror\"></svg></template>"]);_templateObject283=function _templateObject283(){return data;};return data;}function _templateObject282(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:15px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#width-section{padding:15px 20px 17px 20px}#width-slider{flex:1}#width-input{margin-left:6px;width:54px}#non-scaling-stroke-checkbox{margin-top:5px}#line-section{padding:15px 20px 17px 20px}#line-cap-join-subsection{display:flex}#line-join-box{margin-left:38px}#miter-limit-subsection{margin-top:24px}#miter-limit-box h4{margin-bottom:2px}#miter-limit-box{width:100%}#miter-limit-slider{flex:1}#miter-limit-input{margin-left:6px;width:54px}#dash-section{padding:15px 20px 20px 20px}#dash-array-select{width:100%;margin-bottom:10px}#dash-array-inputs{width:100%}#dash-array-inputs>x-box{width:40px;margin-left:-1px;flex:1}#dash-array-inputs>x-box:first-child{margin-left:0}#dash-array-inputs x-numberinput{width:100%;text-align:center;--inner-padding:0 3px}#dash-array-inputs x-label{align-self:center;margin-right:4px;font-weight:900;opacity:.9}#dash-array-inputs x-label[disabled]{opacity:.4}#dash-array-inputs x-label.gap{opacity:.2}#dash-array-inputs x-label.gap[disabled]{opacity:.1}#dash-offset-box{margin-top:16px}#dash-offset-box h4{margin-bottom:2px}#dash-offset-inner-box{width:100%}#dash-offset-slider{flex:1}#dash-offset-input{margin-left:6px;width:54px}#marker-section{padding:15px 20px 20px 20px}#markers-box{justify-content:space-between}#markers-box>x-box{width:calc(33% - 4px)}"]);_templateObject282=function _templateObject282(){return data;};return data;}function _templateObject281(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Stroke</h2><section id=\"paint-section\"><bx-paintinspector id=\"stroke-paint-inspector\" context=\"stroke\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"width-section\"><h3 id=\"width-section-heading\">Width</h3><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"1\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"1\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-checkbox id=\"non-scaling-stroke-checkbox\"><x-label>Non-scaling stroke</x-label></x-checkbox></section><hr><section id=\"line-section\"><h3 id=\"line-section-heading\">Line</h3><section id=\"line-cap-join-subsection\"><x-box id=\"line-cap-box\" vertical><h4 id=\"line-cap-box-heading\">Cap</h4><x-buttons id=\"line-cap-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"butt-line-cap-button\" value=\"butt\" title=\"Butt cap\" skin=\"flat\"><x-icon name=\"cap-butt\"></x-icon></x-button><x-button id=\"round-line-cap-button\" value=\"round\" title=\"Round cap\" skin=\"flat\"><x-icon name=\"cap-round\"></x-icon></x-button><x-button id=\"square-line-cap-button\" value=\"square\" title=\"Square cap\" skin=\"flat\"><x-icon name=\"cap-square\"></x-icon></x-button></x-buttons></x-box><x-box id=\"line-join-box\" vertical><h4 id=\"line-join-box-heading\">Join</h4><x-buttons id=\"line-join-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"miter-line-join-button\" value=\"miter\" title=\"Miter join\" skin=\"flat\"><x-icon name=\"join-miter\"></x-icon></x-button><x-button id=\"round-line-join-button\" value=\"round\" title=\"Round join\" skin=\"flat\"><x-icon name=\"join-round\"></x-icon></x-button><x-button id=\"bevel-line-join-button\" value=\"bevel\" title=\"Bevel join\" skin=\"flat\"><x-icon name=\"join-bevel\"></x-icon></x-button></x-buttons></x-box></section><section id=\"miter-limit-subsection\"><h4 id=\"miter-limit-heading\">Miter limit</h4><x-box id=\"miter-limit-box\"><x-slider id=\"miter-limit-slider\" value=\"1\" min=\"1\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"miter-limit-input\" value=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dash-section\"><h3 id=\"dash-section-heading\">Dash</h3><x-box id=\"dash-array-box\" vertical><h4 id=\"dash-array-box-heading\">Array</h4><x-select id=\"dash-array-select\"><x-menu>","</x-menu></x-select><x-box id=\"dash-array-inputs\"><x-box vertical><x-numberinput id=\"dash-1-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-2-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-3-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-4-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-5-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-6-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box></x-box></x-box><x-box id=\"dash-offset-box\" vertical><h4 id=\"dash-offset-heading\">Offset</h4><x-box id=\"dash-offset-inner-box\"><x-slider id=\"dash-offset-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"dash-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"marker-section\"><h3 id=\"marker-section-heading\">Marker</h3><x-box id=\"markers-box\"><x-box vertical><h4 id=\"marker-start-heading\">Start</h4><bx-markerselect id=\"marker-start-select\" class=\"marker-select\" data-position=\"start\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-mid-heading\">Mid</h4><bx-markerselect id=\"marker-mid-select\" class=\"marker-select\" data-position=\"mid\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-end-heading\">End</h4><bx-markerselect id=\"marker-end-select\" class=\"marker-select\" data-position=\"end\"></bx-markerselect></x-box></x-box></section></template>"]);_templateObject281=function _templateObject281(){return data;};return data;}function _templateObject280(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;pointer-events:none;opacity:.5}:host([enabled]){pointer-events:initial;opacity:1}:host([hidden]){display:none}:host(:focus){outline:0}#button{width:100%;padding:2px 8px;justify-content:start}#button-thumbnail{width:20px;height:20px;min-width:20px;margin:0 auto;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{visibility:hidden}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:200px;flex-flow:column}#popover #items{width:100%;height:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;padding:4px;border-top-width:1px;border-top-style:solid}#footer>x-button{flex:1}#footer>x-button+x-button{margin-left:3px}#placeholder{padding:10px;opacity:.6;box-sizing:border-box;font-size:12px}"]);_templateObject280=function _templateObject280(){return data;};return data;}function _templateObject279(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\"><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" hidden><use id=\"button-thumbnail-use\" width=\"100%\" height=\"100%\"></use></svg><x-popover id=\"popover\" modal><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers defined.</div><div id=\"footer\" part=\"footer\"><x-button id=\"clear-button\" condensed><x-label>Clear</x-label></x-button><x-button id=\"manage-button\" condensed><x-label>Manage\u2026</x-label></x-button></div></x-popover></x-button></template>"]);_templateObject279=function _templateObject279(){return data;};return data;}function _templateObject278(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:14px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#rule-section{padding:10px 20px 20px 20px}"]);_templateObject278=function _templateObject278(){return data;};return data;}function _templateObject277(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Fill</h2><section id=\"paint-section\"><bx-paintinspector id=\"fill-paint-inspector\" context=\"fill\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"rule-section\"><h3 id=\"rule-section-heading\">Rule</h3><x-buttons id=\"rule-buttons\" tracking=\"1\"><x-button id=\"non-zero-rule-button\" value=\"nonzero\" title=\"Non-zero\" skin=\"flat\" toggled><x-icon name=\"fill-rule-non-zero\"></x-icon></x-button><x-button id=\"even-odd-rule-button\" value=\"evenodd\" title=\"Even-odd\" skin=\"flat\"><x-icon name=\"fill-rule-even-odd\"></x-icon></x-button></x-buttons></section></template>"]);_templateObject277=function _templateObject277(){return data;};return data;}function _templateObject276(){var data=_taggedTemplateLiteral([":host{display:block}#color-select-section{margin-top:20px}#color-unlink-button{width:100%;margin-top:14px}#color-unlink-button x-icon{width:14px;height:14px}#gradient-select-section{margin-top:20px}#gradient-unlink-button{width:100%;margin-top:14px}#gradient-unlink-button x-icon{width:14px;height:14px}#pattern-select-section{margin-top:20px}#color-section{position:relative;margin-top:20px}#color-section-heading{flex:1}#color-section-heading[hidden]{display:block;visibility:hidden}#color-picker-type-buttons x-button{min-height:0;margin-left:6px;border-radius:0}#color-picker-type-buttons x-button x-icon{width:18px;height:18px}#color-picker-type-buttons x-button[computedsize=small] x-icon{width:16px;height:16px}#color-section #color-picker{width:100%;margin-top:4px}#color-section #color-picker-hint{margin:4px 0 0 0;font-size:12px;font-weight:500;line-height:1;opacity:.8}#color-section #color-picker-hint span{text-decoration:underline}#color-section #color-picker-hint span:hover{cursor:pointer}#stop-opacity-section{margin-top:20px}#stop-opacity-section-heading{margin-bottom:0}#stop-opacity-slider{flex:1}#stop-opacity-input{margin-left:6px;width:54px}#spread-method-section{margin-top:20px}#spread-method-buttons{width:100%}#spread-method-buttons x-button{flex:1}#paint-order-section{margin-top:20px}"]);_templateObject276=function _templateObject276(){return data;};return data;}function _templateObject275(){var data=_taggedTemplateLiteral(["<template><h3 id=\"section-heading\">Paint</h3><section id=\"paint-type-section\"><h4 id=\"paint-type-heading\">Type</h4><x-buttons id=\"paint-type-buttons\" tracking=\"1\"><x-button value=\"solid\" title=\"Solid Color\" skin=\"flat\"><x-icon name=\"paint-solid\"></x-icon></x-button><x-button value=\"linear-gradient\" title=\"Linear Gradient\" skin=\"flat\"><x-icon name=\"paint-linear-gradient\"></x-icon></x-button><x-button value=\"radial-gradient\" title=\"Radial Gradient\" skin=\"flat\"><x-icon name=\"paint-radial-gradient\"></x-icon></x-button><x-button value=\"pattern\" title=\"Pattern\" skin=\"flat\"><x-icon name=\"paint-pattern\"></x-icon></x-button><x-button value=\"none\" title=\"None\" skin=\"flat\"><x-icon name=\"paint-none\"></x-icon></x-button><x-button id=\"inherit-paint-button\" value=\"inherit\" title=\"Inherit\" skin=\"flat\" hidden><x-icon name=\"paint-inherit\"></x-icon></x-button></x-buttons></section><section id=\"color-select-section\" hidden><h4>Color</h4><bx-colorselect id=\"color-select\"></bx-colorselect><x-button id=\"color-unlink-button\"><x-label>Convert to ad hoc color</x-label></x-button></section><section id=\"gradient-select-section\" hidden><h4>Gradient</h4><bx-gradientselect id=\"gradient-select\"></bx-gradientselect><x-button id=\"gradient-unlink-button\"><x-label>Convert to ad hoc gradient</x-label></x-button></section><section id=\"pattern-select-section\" hidden><h4>Pattern</h4><bx-patternselect id=\"pattern-select\"></bx-patternselect></section><section id=\"color-section\" hidden><x-box><h4 id=\"color-section-heading\">Color</h4><x-buttons id=\"color-picker-type-buttons\" tracking=\"1\"><x-button value=\"rect\" skin=\"flat\" size=\"smaller\" toggled><x-icon name=\"color-picker-rect\"></x-icon></x-button><x-button value=\"wheel\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-wheel\"></x-icon></x-button><x-button value=\"bars\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-bars\"></x-icon></x-button></x-buttons></x-box><bx-colorpicker id=\"color-picker\" alphaslider formatselect></bx-colorpicker><p id=\"color-picker-hint\">Select stop to recolor with <span id=\"edit-tool-span\">Edit Tool</span>.</p></section><section id=\"stop-opacity-section\" hidden><h4 id=\"stop-opacity-section-heading\">Stop opacity</h4><x-box><x-slider id=\"stop-opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-method-section\" hidden><h4>Spread</h4><x-buttons id=\"spread-method-buttons\" tracking=\"1\"><x-button id=\"pad-spread-method-button\" value=\"pad\"><x-label>Pad</x-label></x-button><x-button id=\"repeat-spread-method-button\" value=\"repeat\"><x-label>Repeat</x-label></x-button><x-button id=\"reflect-spread-method-button\" value=\"reflect\"><x-label>Reflect</x-label></x-button></x-buttons></section><section id=\"paint-order-section\" hidden><h4 id=\"paint-order-heading\">Order</h4><bx-paintorderswitch id=\"paint-order-switch\" context=\"fill\"></bx-paintorderswitch></section></template>"]);_templateObject275=function _templateObject275(){return data;};return data;}function _templateObject274(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;width:100%;height:32px;padding:1px;border-width:1px;border-style:solid;touch-action:pan-y}:host(:focus){outline:0}:host([computedsize=large]){height:38px}#thumbs{width:100%;height:100%;position:relative}.thumb{width:33.333%;height:100%;padding:0 10px;position:absolute;display:flex;flex:1;justify-content:center;align-items:center;box-sizing:border-box;z-index:0;color:#fff;font-size:11px}#thumbs[data-animate] .thumb{transition:left .2s ease-in-out,background .2s ease-in-out}.thumb[data-socket=\"1\"]{left:0}.thumb[data-socket=\"2\"]{left:33.333%}.thumb[data-socket=\"3\"]{left:66.666%}.thumb[data-dragged]{z-index:1}.thumb[data-toggled]{font-weight:700}"]);_templateObject274=function _templateObject274(){return data;};return data;}function _templateObject273(){var data=_taggedTemplateLiteral(["<template><x-box id=\"thumbs\"><div id=\"fill-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"fill\" data-socket=\"1\">Fill</div><div id=\"stroke-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"stroke\" data-socket=\"2\">Stroke</div><div id=\"markers-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"markers\" data-socket=\"3\">Markers</div></x-box></template>"]);_templateObject273=function _templateObject273(){return data;};return data;}function _templateObject272(){var data=_taggedTemplateLiteral([":host{display:block;width:250px;box-sizing:border-box}:host([hidden]){display:none}#main{width:100%;height:100%}#main>*{width:100%}#wheel-picker{--wheel-max-width:234px}#format-select{margin-left:4px;min-width:73px;display:none}:host([formatselect]) #format-select{display:block}x-box{margin-top:15px}#input{max-width:none;flex:1}#grab-button{margin:0 0 0 5px}#grab-button[computedsize=large]{min-width:38px}#grab-button x-icon{width:14px;height:14px}#grab-button[computedsize=large] x-icon{width:16px;height:16px}"]);_templateObject272=function _templateObject272(){return data;};return data;}function _templateObject271(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"pickers\"><x-rectcolorpicker id=\"rect-picker\"></x-rectcolorpicker><x-wheelcolorpicker id=\"wheel-picker\" hidden></x-wheelcolorpicker><x-barscolorpicker id=\"bars-picker\" hidden></x-barscolorpicker></div><x-box><x-input id=\"input\" type=\"color\"></x-input><x-select id=\"format-select\" condensed><x-menu><x-menuitem value=\"hex\" toggled><x-label>Hex</x-label></x-menuitem><x-menuitem value=\"rgb\"><x-label>RGB</x-label></x-menuitem><x-menuitem value=\"rgba\"><x-label>RGBA</x-label></x-menuitem><x-menuitem value=\"hsl\"><x-label>HSL</x-label></x-menuitem><x-menuitem value=\"hsla\"><x-label>HSLA</x-label></x-menuitem></x-menu></x-select><x-button id=\"grab-button\" condensed togglable><x-icon name=\"grab-color\"></x-icon></x-button></x-box></main></template>"]);_templateObject271=function _templateObject271(){return data;};return data;}function _templateObject270(){var data=_taggedTemplateLiteral([":host{display:block;margin:0 0 15px 0;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:26px;height:26px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}#mirror{width:0;height:0;display:block}"]);_templateObject270=function _templateObject270(){return data;};return data;}function _templateObject269(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\" hidden><rect width=\"50\" height=\"50\"></rect></svg><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button><svg id=\"mirror\"></svg></template>"]);_templateObject269=function _templateObject269(){return data;};return data;}function _templateObject268(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject268=function _templateObject268(){return data;};return data;}function _templateObject267(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject267=function _templateObject267(){return data;};return data;}function _templateObject266(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject266=function _templateObject266(){return data;};return data;}function _templateObject265(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No colors found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject265=function _templateObject265(){return data;};return data;}function _templateObject264(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:absolute;width:calc(100% - 76px);height:250px;bottom:-1px;left:38px;transition:transform .2s cubic-bezier(.4,0,.2,1);transform:translateY(100%);will-change:transform}:host([value]){transform:translateY(0)}::slotted(:not([enabled])){display:none}#main{width:100%;height:100%;display:flex;justify-content:center}#buttons{position:absolute;top:-21px;height:20px;z-index:1}#buttons x-button{padding:0 12px;min-height:23px;border-bottom-left-radius:0;border-bottom-right-radius:0}#panels{width:100%;height:100%;box-sizing:border-box}#resize-grippie{display:none;position:absolute;width:100%;height:14px;background:0 0;top:-13px;left:0;cursor:row-resize;touch-action:none}:host([value]) #resize-grippie{display:block}"]);_templateObject264=function _templateObject264(){return data;};return data;}function _templateObject263(){var data=_taggedTemplateLiteral(["<template><div id=\"main\"><div id=\"resize-grippie\"></div><x-buttons id=\"buttons\" tracking=\"0\"></x-buttons><div id=\"panels\"><slot></slot></div></div></template>"]);_templateObject263=function _templateObject263(){return data;};return data;}function _templateObject262(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;box-sizing:border-box;z-index:1;will-change:transform}::slotted(:not([enabled])){display:none}#buttons{position:relative;width:fit-content;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;left:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#main{position:absolute;top:0;height:100%;transform:translateX(9999px);transition:transform .2s cubic-bezier(.4,0,.2,1);background:inherit;border-left:1px solid var(--border-color);z-index:-1;will-change:transform}:host([value]) #main{transform:translateX(0)!important;z-index:2}:host([animating]) #main{contain:strict;z-index:-1}#panels{height:100%}#resize-grippie{display:none;position:absolute;width:10px;height:100%;background:0 0;top:0;left:-5px;cursor:col-resize;z-index:2;touch-action:pan-y}:host([value]) #resize-grippie{display:block}"]);_templateObject262=function _templateObject262(){return data;};return data;}function _templateObject261(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"0\" vertical></x-buttons><div id=\"main\"><div id=\"resize-grippie\"></div><div id=\"panels\"><slot></slot></div></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject261=function _templateObject261(){return data;};return data;}function _templateObject260(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box}#buttons{position:relative;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;right:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#buttons #cog-tool-button>x-icon{width:19px;height:19px}#buttons .modal-icon{position:absolute;right:3px;bottom:3px;width:6px;height:6px}x-popover{--align:right}:host-context(bx-macapp) #transform-tool-popover{margin-top:-4px}"]);_templateObject260=function _templateObject260(){return data;};return data;}function _templateObject259(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"1\" vertical><x-button id=\"transform-tool-button\" skin=\"dock\" value=\"transform-tool\" data-tooltip=\"Transform\" toggled><x-icon name=\"transform-tool\"></x-icon></x-button><x-button id=\"edit-tool-button\" skin=\"dock\" value=\"edit-tool\" data-tooltip=\"Edit\"><x-icon name=\"edit-tool\"></x-icon></x-button><x-button id=\"pan-tool-button\" skin=\"dock\" value=\"pan-tool\" data-tooltip=\"Pan\"><x-icon name=\"pan-tool\"></x-icon></x-button><x-button id=\"spline-tool-button\" skin=\"dock\" value=\"spline-tool\" data-tooltip=\"Spline\"><x-icon id=\"spline-tool-icon\"></x-icon><x-icon class=\"modal-icon\" name=\"arrow-expand\"></x-icon></x-button><x-button id=\"freehand-tool-button\" skin=\"dock\" value=\"freehand-tool\" data-tooltip=\"Freehand\"><x-icon name=\"freehand-tool\"></x-icon></x-button><x-button id=\"blob-tool-button\" skin=\"dock\" value=\"blob-tool\" data-tooltip=\"Blob\"><x-icon id=\"blob-tool-icon\"></x-icon></x-button><x-button id=\"rect-tool-button\" skin=\"dock\" value=\"rect-tool\" data-tooltip=\"Rectangle\"><x-icon name=\"object-rect\"></x-icon></x-button><x-button id=\"ellipse-tool-button\" skin=\"dock\" value=\"ellipse-tool\" data-tooltip=\"Ellipse\"><x-icon name=\"object-ellipse\"></x-icon></x-button><x-button id=\"other-shape-tool-button\" skin=\"dock\" value=\"other-shape-tool\" data-tooltip=\"Other shape\"><x-icon id=\"other-shape-tool-icon\"></x-icon><x-icon class=\"modal-icon\" name=\"arrow-expand\"></x-icon></x-button><x-button id=\"text-tool-button\" skin=\"dock\" value=\"text-tool\" data-tooltip=\"Text\"><x-icon name=\"text-tool\"></x-icon></x-button><x-button id=\"text-path-tool-button\" skin=\"dock\" value=\"text-path-tool\" data-tooltip=\"Text path\"><x-icon name=\"text-path-tool\"></x-icon></x-button><x-button id=\"view-tool-button\" skin=\"dock\" value=\"view-tool\" data-tooltip=\"View\"><x-icon name=\"view-tool\"></x-icon></x-button></x-buttons><div id=\"popovers\"><x-popover id=\"transform-tool-popover\"><bx-transformsettings></bx-transformsettings></x-popover><x-popover id=\"edit-tool-popover\"><bx-editsettings></bx-editsettings></x-popover><x-popover id=\"spline-tool-popover\"><bx-splinesettings></bx-splinesettings></x-popover><x-popover id=\"freehand-tool-popover\"><bx-freehandsettings></bx-freehandsettings></x-popover><x-popover id=\"blob-tool-popover\"><bx-blobsettings></bx-blobsettings></x-popover><x-popover id=\"rect-tool-popover\"><bx-rectsettings></bx-rectsettings></x-popover><x-popover id=\"ellipse-tool-popover\"><bx-ellipsesettings></bx-ellipsesettings></x-popover><x-popover id=\"other-shape-tool-popover\"><bx-othershapesettings></bx-othershapesettings></x-popover><x-popover id=\"text-tool-popover\"><bx-textsettings></bx-textsettings></x-popover><x-popover id=\"text-path-tool-popover\"><bx-textpathsettings></bx-textpathsettings></x-popover><x-popover id=\"view-tool-popover\"><bx-viewsettings></bx-viewsettings></x-popover></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject259=function _templateObject259(){return data;};return data;}function _templateObject258(){var data=_taggedTemplateLiteral(["<template><header><h2>View</h2></header><main><section id=\"options-section\"><h3>Options</h3><x-checkbox id=\"move-objects-checkbox\"><x-label>Move objects with view</x-label></x-checkbox><x-checkbox id=\"show-ids-checkbox\"><x-label>Show IDs</x-label></x-checkbox></section></main></template>"]);_templateObject258=function _templateObject258(){return data;};return data;}function _templateObject257(){var data=_taggedTemplateLiteral(["#shape-section{padding-bottom:0}#primary-shape-buttons,#secondary-shape-buttons{position:relative}#primary-shape-buttons,#secondary-shape-buttons{width:100%;z-index:1}#secondary-shape-buttons{margin-top:-1px}#primary-shape-buttons x-button{border-bottom-left-radius:0;border-bottom-right-radius:0}#secondary-shape-buttons x-button{border-top-left-radius:0;border-top-right-radius:0}#primary-shape-buttons x-button,#secondary-shape-buttons x-button{flex:1}#primary-shape-buttons x-icon,#secondary-shape-buttons x-icon{width:18px;height:18px}#mode-section{margin-top:10px}#mode-buttons{width:100%;margin:4px 0 0 0}#mode-buttons x-button{min-width:fit-content;height:25px;flex:1}"]);_templateObject257=function _templateObject257(){return data;};return data;}function _templateObject256(){var data=_taggedTemplateLiteral(["<template><header><h2>Other shape</h2></header><main><section id=\"drawing-section\"><h3>Drawing</h3><section id=\"shape-section\"><h4>Shape</h4><x-buttons id=\"primary-shape-buttons\" tracking=\"1\"><x-button value=\"triangle\" title=\"Triangle\" size=\"larger\" condensed toggled><x-icon name=\"object-triangle\"></x-icon></x-button><x-button value=\"n-gon\" title=\"N-gon\" size=\"larger\" condensed><x-icon name=\"object-n-gon\"></x-icon></x-button><x-button value=\"star\" title=\"Star\" size=\"larger\" condensed><x-icon name=\"object-star\"></x-icon></x-button><x-button value=\"cross\" title=\"Cross\" size=\"larger\" condensed><x-icon name=\"object-cross\"></x-icon></x-button><x-button value=\"cog\" title=\"Cog\" size=\"larger\" condensed><x-icon name=\"object-cog\"></x-icon></x-button></x-buttons><x-buttons id=\"secondary-shape-buttons\" tracking=\"1\"><x-button value=\"ring\" title=\"Ring\" size=\"larger\" condensed><x-icon name=\"object-ring\"></x-icon></x-button><x-button value=\"pie\" title=\"Pie\" size=\"larger\" condensed><x-icon name=\"object-pie\"></x-icon></x-button><x-button value=\"crescent\" title=\"Crescent\" size=\"larger\" condensed><x-icon name=\"object-crescent\"></x-icon></x-button><x-button value=\"arrow\" title=\"Arrow\" size=\"larger\" condensed><x-icon name=\"object-arrow\"></x-icon></x-button><x-button value=\"spiral\" title=\"Spiral\" size=\"larger\" condensed><x-icon name=\"object-spiral\"></x-icon></x-button></x-buttons></section><section id=\"mode-section\"><h4>Mode</h4><x-buttons id=\"mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button></x-buttons></section></section><hr><section id=\"geometry-section\"><h3>Geometry</h3></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></main></template>"]);_templateObject256=function _templateObject256(){return data;};return data;}function _templateObject255(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}#angle-subsection{display:flex;justify-content:space-between;margin-top:6px}#angle-subsection x-box{width:calc(50% - 5px)}#angle-subsection x-numberinput{width:100%}"]);_templateObject255=function _templateObject255(){return data;};return data;}function _templateObject254(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"start-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"end-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject254=function _templateObject254(){return data;};return data;}function _templateObject253(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#base-thickness-subsection{margin-top:6px}#base-thickness-subsection h4{margin-bottom:0}#base-thickness-box{width:100%}#base-thickness-input{margin-left:10px;width:100px}#head-thickness-subsection{margin-top:6px}#head-thickness-subsection h4{margin-bottom:0}#head-thickness-box{width:100%}#head-thickness-input{margin-left:10px;width:100px}#head-length-subsection{margin-top:6px}#head-length-subsection h4{margin-bottom:0}#head-length-box{width:100%}#head-length-input{margin-left:10px;width:100px}#head-inset-subsection{margin-top:6px}#head-inset-subsection h4{margin-bottom:0}#head-inset-box{width:100%}#head-inset-input{margin-left:10px;width:100px}"]);_templateObject253=function _templateObject253(){return data;};return data;}function _templateObject252(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"base-thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-size-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-inset-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"base-thickness-subsection\"><h4>Base thickness</h4><x-box id=\"base-thickness-box\"><x-slider id=\"base-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"base-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-subsection\"><h4>Head thickness</h4><x-box id=\"head-thickness-box\"><x-slider id=\"head-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"head-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-subsection\"><h4>Head length</h4><x-box id=\"head-length-box\"><x-slider id=\"head-length-slider\" min=\"1\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-length-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-subsection\"><h4>Head inset</h4><x-box id=\"head-inset-box\"><x-slider id=\"head-inset-slider\" min=\"0\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-inset-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject252=function _templateObject252(){return data;};return data;}function _templateObject251(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#arch-subsection{margin-top:6px}#arch-subsection h4,#hollow-subsection h4{margin-bottom:0}#arch-subsection x-box,#hollow-subsection x-box{width:100%}#arch-subsection x-numberinput,#hollow-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject251=function _templateObject251(){return data;};return data;}function _templateObject250(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"arch-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"hollow-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arch-subsection\"><h4>Arch</h4><x-box id=\"arch-box\"><x-slider id=\"arch-slider\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-subsection\"><h4>Hollow</h4><x-box id=\"hollow-box\"><x-slider id=\"hollow-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject250=function _templateObject250(){return data;};return data;}function _templateObject249(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject249=function _templateObject249(){return data;};return data;}function _templateObject248(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject248=function _templateObject248(){return data;};return data;}function _templateObject247(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject247=function _templateObject247(){return data;};return data;}function _templateObject246(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject246=function _templateObject246(){return data;};return data;}function _templateObject245(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#r1-subsection h4,#r2-subsection h4,#r3-subsection h4,#splay-subsection h4,#teeth-subsection h4{margin-bottom:0}#r1-subsection x-box,#r2-subsection x-box,#r3-subsection x-box,#splay-subsection x-box,#teeth-subsection x-box{width:100%}#r1-subsection x-numberinput,#r2-subsection x-numberinput,#r3-subsection x-numberinput,#splay-subsection x-numberinput,#teeth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject245=function _templateObject245(){return data;};return data;}function _templateObject244(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"splay-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r2-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r3-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Radius 1</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-subsection\"><h4>Radius 2</h4><x-box id=\"r2-box\"><x-slider id=\"r2-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r2-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r3-subsection\"><h4>Radius 3</h4><x-box id=\"r3-box\"><x-slider id=\"r3-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r3-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-subsection\"><h4>Splay</h4><x-box id=\"splay-box\"><x-slider id=\"splay-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-subsection\"><h4>Teeth</h4><x-box id=\"teeth-box\"><x-slider id=\"teeth-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject244=function _templateObject244(){return data;};return data;}function _templateObject243(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#thickness-subsection h4{margin-bottom:0}#thickness-box{width:100%}#thickness-input{margin-left:10px;width:100px}#shift-subsection h4{margin-bottom:0}#shift-box{width:100%}#shift-input{margin-left:10px;width:100px}"]);_templateObject243=function _templateObject243(){return data;};return data;}function _templateObject242(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"thickness-subsection\"><h4>Arm thickness</h4><x-box id=\"thickness-box\"><x-slider id=\"thickness-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"thickness-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-100\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-100\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject242=function _templateObject242(){return data;};return data;}function _templateObject241(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#arms-subsection h4,#depth-subsection h4{margin-bottom:0}#arms-subsection x-box,#depth-subsection x-box{width:100%}#arms-subsection x-numberinput,#depth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject241=function _templateObject241(){return data;};return data;}function _templateObject240(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"depth-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"depth-subsection\"><h4>Depth</h4><x-box id=\"depth-box\"><x-slider id=\"depth-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"depth-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject240=function _templateObject240(){return data;};return data;}function _templateObject239(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#arms-subsection h4,#corner-subsection h4{margin-bottom:0}#arms-subsection x-box,#corner-subsection x-box{width:100%}#arms-subsection x-numberinput,#corner-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject239=function _templateObject239(){return data;};return data;}function _templateObject238(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject238=function _templateObject238(){return data;};return data;}function _templateObject237(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#corner-subsection h4,#shift-subsection h4{margin-bottom:0}#corner-subsection x-box,#shift-subsection x-box{width:100%}#corner-subsection x-numberinput,#shift-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject237=function _templateObject237(){return data;};return data;}function _templateObject236(){var data=_taggedTemplateLiteral(["<template><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject236=function _templateObject236(){return data;};return data;}function _templateObject235(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}#draw-as-section{margin-top:10px}"]);_templateObject235=function _templateObject235(){return data;};return data;}function _templateObject234(){var data=_taggedTemplateLiteral(["<template><header><h2>Ellipse</h2></header><main><section id=\"drawing-section\"><h3>Drawing</h3><section id=\"drawing-mode-section\"><h4>Mode</h4><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><section id=\"draw-as-section\"><h4>Draw as</h4><x-radios id=\"draw-as-radios\"><x-radio value=\"ellipse\"><x-label>Ellipse</x-label></x-radio><x-radio value=\"circle\"><x-label>Circle</x-label></x-radio></x-radios></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></main></template>"]);_templateObject234=function _templateObject234(){return data;};return data;}function _templateObject233(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#r-subsection{margin-top:6px}#r-subsection h4{margin-bottom:0}#r-subsection x-box{width:100%}#r-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject233=function _templateObject233(){return data;};return data;}function _templateObject232(){var data=_taggedTemplateLiteral(["<template><header><h2>Rectangle</h2></header><main><section id=\"drawing-section\"><h3>Drawing</h3><section id=\"drawing-mode-section\"><h4>Mode</h4><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><rect id=\"preview-shape\" class=\"shape\"></rect><circle id=\"r-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r-subsection\"><h4>Corner radius</h4><x-box id=\"r-box\"><x-slider id=\"r-slider\" min=\"0\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"r-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></main></template>"]);_templateObject232=function _templateObject232(){return data;};return data;}function _templateObject231(){var data=_taggedTemplateLiteral(["#smoothing-input{width:80px;margin-left:8px}"]);_templateObject231=function _templateObject231(){return data;};return data;}function _templateObject230(){var data=_taggedTemplateLiteral(["<template><header><h2>Freehand</h2></header><main><section id=\"view-section\"><h3>View</h3><x-checkbox id=\"view-path-nodes-checkbox\"><x-label>Path nodes</x-label></x-checkbox></section><hr><section id=\"smoothing-section\"><h3>Smoothing</h3><x-box><x-slider id=\"smoothing-slider\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"smoothing-input\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></main></template>"]);_templateObject230=function _templateObject230(){return data;};return data;}function _templateObject229(){var data=_taggedTemplateLiteral(["#primary-spline-buttons,#secondary-spline-buttons{position:relative}#primary-spline-buttons{width:100%;z-index:1}#secondary-spline-buttons{width:calc(100% - 47.75px);margin-top:-1px;z-index:0}#primary-spline-buttons x-button,#secondary-spline-buttons x-button{flex:1}#draw-as-section{margin-top:12px}"]);_templateObject229=function _templateObject229(){return data;};return data;}function _templateObject228(){var data=_taggedTemplateLiteral(["<template><header><h2>Spline</h2></header><main><section id=\"drawing-section\"><h3>Drawing</h3><section id=\"spline-section\"><h4>Spline</h4><x-buttons id=\"primary-spline-buttons\" tracking=\"1\"><x-button value=\"line\" title=\"Line\" condensed><x-icon name=\"line-spline\"></x-icon></x-button><x-button value=\"quadBezier\" title=\"Quad Bezier\" condensed><x-icon name=\"quad-bezier-spline\"></x-icon></x-button><x-button value=\"cubicBezier\" title=\"Cubic Bezier\" condensed toggled><x-icon name=\"cubic-bezier-spline\"></x-icon></x-button><x-button value=\"arc\" title=\"Arc\" condensed><x-icon name=\"arc-spline\"></x-icon></x-button></x-buttons><x-buttons id=\"secondary-spline-buttons\" tracking=\"1\" hidden><x-button value=\"basis\" title=\"Basis\" condensed><x-icon name=\"basis-spline\"></x-icon></x-button><x-button value=\"catmull\" title=\"Catmull-Rom\" condensed><x-icon name=\"catmull-spline\"></x-icon></x-button><x-button value=\"spiro\" title=\"Spiro\" condensed><x-icon name=\"spiro-spline\"></x-icon></x-button></x-buttons></section><section id=\"draw-as-section\"><h4>Draw as</h4><x-radios id=\"draw-line-spline-as-radios\"><x-radio value=\"line,polyline,polygon\"><x-label>Line, polyline or polygon</x-label></x-radio><x-radio value=\"polyline,polygon\"><x-label>Polyline or polygon</x-label></x-radio><x-radio value=\"path\"><x-label>Path</x-label></x-radio></x-radios><x-radios id=\"draw-basis-spline-as-radios\" hidden><x-radio value=\"basis\"><x-label>Basis spline</x-label></x-radio><x-radio value=\"path\"><x-label>Path</x-label></x-radio></x-radios><x-radios id=\"draw-catmull-spline-as-radios\" hidden><x-radio value=\"catmull\"><x-label>Catmull-Rom spline</x-label></x-radio><x-radio value=\"path\"><x-label>Path</x-label></x-radio></x-radios><x-radios id=\"draw-spiro-spline-as-radios\" hidden><x-radio value=\"spiro\"><x-label>Spiro spline</x-label></x-radio><x-radio value=\"path\"><x-label>Path</x-label></x-radio></x-radios></section></section><hr><section id=\"view-section\"><h3>View</h3><x-checkbox id=\"view-path-nodes-checkbox\"><x-label>Path nodes</x-label></x-checkbox></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></main></template>"]);_templateObject228=function _templateObject228(){return data;};return data;}function _templateObject227(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}"]);_templateObject227=function _templateObject227(){return data;};return data;}function _templateObject226(){var data=_taggedTemplateLiteral(["<template><header><h2>Edit</h2></header><main><section id=\"selection-section\"><h3>Selection</h3><section id=\"selection-shape-section\"><h4>Shape</h4><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Freehand</x-label></x-button></x-buttons></section></section></main></template>"]);_templateObject226=function _templateObject226(){return data;};return data;}function _templateObject225(){var data=_taggedTemplateLiteral(["#selection-mode-buttons{width:100%;margin:4px 0 0 0}#selection-mode-buttons x-button{height:25px;flex:1}#selection-shape-section{margin-top:10px}#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}"]);_templateObject225=function _templateObject225(){return data;};return data;}function _templateObject224(){var data=_taggedTemplateLiteral(["<template><header><h2>Transform</h2></header><main><section id=\"selection-section\"><h3>Selection</h3><section id=\"selection-mode-section\"><h4>Mode</h4><x-buttons id=\"selection-mode-buttons\" tracking=\"1\"><x-button value=\"contain\" condensed toggled><x-label>Contain</x-label></x-button><x-button value=\"intersect\" condensed><x-label>Intersect</x-label></x-button></x-buttons></section><section id=\"selection-shape-section\"><h4>Shape</h4><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Freehand</x-label></x-button></x-buttons></section></section><hr><section id=\"transform-preserve-section\"><h3>Preserve</h3><x-checkbox id=\"preserve-stroke-width-checkbox\" toggled><x-label>Stroke width</x-label></x-checkbox><x-checkbox id=\"preserve-rect-radii-checkbox\" toggled><x-label>Rectangle radii</x-label></x-checkbox><x-checkbox id=\"preserve-rotation-checkbox\" toggled><x-label>Rotation</x-label></x-checkbox><x-checkbox id=\"preserve-aspect-ratio-checkbox\"><x-label>Aspect ratio</x-label></x-checkbox></section></main></template>"]);_templateObject224=function _templateObject224(){return data;};return data;}function _templateObject223(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:fit-content;height:27px;contain:style layout;box-sizing:border-box}:host([computedsize=large]){height:34px}#items{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.item{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:fit-content;height:100%;padding:0 8px;position:relative;border-width:1px;border-style:solid}.item:not(:first-child){margin-left:-1px}.item:focus{z-index:1}.item .inner{display:flex;align-items:center;justify-content:center;height:100%;box-sizing:border-box}.item .icon{width:15px;height:15px;fill:currentColor}.item .label{font-size:11px;margin-left:5px}"]);_templateObject223=function _templateObject223(){return data;};return data;}function _templateObject222(){var data=_taggedTemplateLiteral(["<template><div id=\"items\"></div></template>"]);_templateObject222=function _templateObject222(){return data;};return data;}function _templateObject221(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}"]);_templateObject221=function _templateObject221(){return data;};return data;}function _templateObject220(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><bx-tooltip id=\"tooltip\">Move cursor over object</bx-tooltip></main></template>"]);_templateObject220=function _templateObject220(){return data;};return data;}function _templateObject219(){var data=_taggedTemplateLiteral([":host{position:absolute;z-index:99999;padding:5px 7px;font-size:12px;line-height:1;pointer-events:none;border-width:1px;border-style:solid}:host([hidden]){display:none}"]);_templateObject219=function _templateObject219(){return data;};return data;}function _templateObject218(){var data=_taggedTemplateLiteral(["<template><slot></slot></template>"]);_templateObject218=function _templateObject218(){return data;};return data;}function _templateObject217(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}#lens{width:100px;height:100px;position:fixed;top:-200px;left:-200px;background:#fff;border:4px solid #333;box-shadow:2px 6px 20px rgba(0,0,0,.3);border-radius:100px;overflow:hidden}#lens-inner{position:relative;width:100%;height:100%}#lens #tooltip{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;visibility:hidden}#lens[offscreen] #tooltip{visibility:visible}#lens #tooltip p{color:rgba(0,0,0,.7);line-height:1;padding:0;margin:0}#lens #grid{width:100px;height:100px;background:#d4d4d4}#lens[offscreen] #grid{display:none}#grid #center-rect{stroke:red;stroke-width:1.5}#lens[offscreen] #grid #center-rect{stroke-width:0}"]);_templateObject217=function _templateObject217(){return data;};return data;}function _templateObject216(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><div id=\"lens\" part=\"lens\"><div id=\"lens-inner\"><svg id=\"grid\"></svg><div id=\"tooltip\"><p>Move</p><p>cursor</p><p>over</p><p>canvas</p></div></div></div></main></template>"]);_templateObject216=function _templateObject216(){return data;};return data;}function _templateObject215(){var data=_taggedTemplateLiteral([":host{position:fixed;right:0;bottom:0;width:0;height:0;opacity:0;contain:strict}"]);_templateObject215=function _templateObject215(){return data;};return data;}function _templateObject214(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"></main></template>"]);_templateObject214=function _templateObject214(){return data;};return data;}function _templateObject213(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:hidden;outline:0;contain:strict;position:relative;--canvas-background-color:gray}#vector-layer{touch-action:none}#workspaces{font-family:sans-serif;font-weight:400;user-select:none}#workspaces>[data-bx-workspace]:not(:last-child){display:none!important}#workspaces :focus{outline:0}#workspaces>#whitespace{opacity:0}#vector-canvas>#background-rect{fill:var(--canvas-background-color);pointer-events:none}#vector-canvas[data-transparent]>#background-rect{fill:transparent}#vector-canvas>#background-outlines{pointer-events:none;display:none}#vector-canvas[data-outlines]>#background-outlines{display:inline}#vector-canvas>#background-outlines rect{fill:#fff;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-outlines=above]>#background-outlines rect{stroke:none}#vector-canvas[data-transparent]>#background-outlines rect{fill:none;stroke:rgba(0,0,0,.3)}#vector-canvas>#foreground-outlines{display:none;pointer-events:none}#vector-canvas[data-outlines=above]>#foreground-outlines{display:inline}#vector-canvas>#foreground-outlines rect{fill:none;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-transparent] #foreground-outlines rect{stroke:rgba(0,0,0,.3)}#huds>*{display:none;contain:layout style paint}#huds>[drawing],#huds>[enabled]{display:initial}#pixel-canvas{pointer-events:none;position:absolute;opacity:.4;top:0;left:0;width:100%;height:100%}"]);_templateObject213=function _templateObject213(){return data;};return data;}function _templateObject212(){var data=_taggedTemplateLiteral(["<template><svg id=\"vector-layer\" preserveAspectRatio=\"none\"><filter id=\"grippie-shadow\" width=\"100\" height=\"100\"><feGaussianBlur id=\"grippie-fe-blur\" in=\"SourceAlpha\" result=\"blur-out\" stdDeviation=\"1\"/><feOffset id=\"grippie-fe-offset\" in=\"blur-out\" result=\"the-shadow\" dx=\"1\" dy=\"1\"/><feBlend in=\"SourceGraphic\" in2=\"the-shadow\" mode=\"normal\"/></filter><g id=\"vector-canvas\" transform=\"translate(0, 0)\"><rect id=\"background-rect\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g id=\"background-outlines\"></g><g id=\"workspaces\"><rect id=\"whitespace\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g data-bx-workspace=\"master\"></g></g><g id=\"foreground-outlines\"></g><g id=\"huds\"></g></g></svg><div id=\"pixel-layer\"><canvas id=\"pixel-canvas\" hidden></canvas></div><bx-rulers id=\"rulers\" disabled=\"disabled\"></bx-rulers><div id=\"contexts\"><bx-transformselectcontext id=\"transform-select-context\"></bx-transformselectcontext><bx-directselectcontext id=\"direct-select-context\"></bx-directselectcontext><bx-pancontext id=\"pan-context\"></bx-pancontext><bx-splinecontext id=\"spline-context\"></bx-splinecontext><bx-freehandcontext id=\"freehand-context\"></bx-freehandcontext><bx-blobcontext id=\"blob-context\"></bx-blobcontext><bx-rectcontext id=\"rect-context\"></bx-rectcontext><bx-ellipsecontext id=\"ellipse-context\"></bx-ellipsecontext><bx-othershapecontext id=\"other-shape-context\"></bx-othershapecontext><bx-textcontext id=\"text-context\"></bx-textcontext><bx-textpathcontext id=\"text-path-context\"></bx-textpathcontext><bx-viewcontext id=\"view-context\"></bx-viewcontext></div></template>"]);_templateObject212=function _templateObject212(){return data;};return data;}function _templateObject211(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}#font-size-dynamics-section{margin-top:10px}#font-size-dynamics-param-select{flex:1}#font-size-dynamics-variance-input{width:54px;margin-left:6px}#glyph-rotation-dynamics-section{margin-top:10px}#glyph-rotation-dynamics-param-select{flex:1}#glyph-rotation-dynamics-variance-input{width:54px;margin-left:6px}#opacity-dynamics-section{margin-top:10px}#opacity-dynamics-param-select{flex:1}#opacity-dynamics-variance-input{width:54px;margin-left:6px}"]);_templateObject211=function _templateObject211(){return data;};return data;}function _templateObject210(){var data=_taggedTemplateLiteral(["<template><header><h2>Text path</h2></header><main><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"font-size-dynamics-section\"><h4>Font size</h4><x-box><x-select id=\"font-size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"font-size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"glyph-rotation-dynamics-section\"><h4>Glyph roration</h4><x-box><x-select id=\"glyph-rotation-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"glyph-rotation-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"opacity-dynamics-section\"><h4>Opacity</h4><x-box><x-select id=\"opacity-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"opacity-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></main></template>"]);_templateObject210=function _templateObject210(){return data;};return data;}function _templateObject209(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}"]);_templateObject209=function _templateObject209(){return data;};return data;}function _templateObject208(){var data=_taggedTemplateLiteral(["<template><header><h2>Text</h2></header><main><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></main></template>"]);_templateObject208=function _templateObject208(){return data;};return data;}function _templateObject207(){var data=_taggedTemplateLiteral(["#mode-buttons{width:100%}#mode-buttons x-button{flex:1}#preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#preview .grippie{fill:currentColor}#size-section{margin-top:4px}#size-section h4{margin:0}#size-box{width:100%}#size-input{margin-left:10px;width:100px}#roundness-section{margin-top:7px}#roundness-section h4{margin:0}#roundness-box{width:100%}#roundness-input{margin-left:10px;width:100px}#angle-section{margin-top:7px}#angle-section h4{margin:0}#angle-box{width:100%}#angle-input{margin-left:10px;width:100px}#size-dynamics-section{margin-top:10px}#size-dynamics-param-select{flex:1}#size-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#roundness-dynamics-section{margin-top:10px}#roundness-dynamics-param-select{flex:1}#roundness-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#angle-dynamics-section{margin-top:10px}#angle-dynamics-param-select{flex:1}#angle-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}"]);_templateObject207=function _templateObject207(){return data;};return data;}function _templateObject206(){var data=_taggedTemplateLiteral(["<template><header><h2>Blob</h2></header><main><section id=\"drawing-section\"><h3>Drawing</h3><section id=\"mode-section\"><h4>Mode</h4><x-buttons id=\"mode-buttons\" tracking=\"1\"><x-button value=\"create\" condensed><x-label>Create</x-label></x-button><x-button value=\"erase\" condensed><x-label>Erase</x-label></x-button></x-buttons></section></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"preview\" part=\"preview\" viewBox=\"0 0 100 100\"><line class=\"grid-line\" x1=\"10\" y1=\"50\" x2=\"90\" y2=\"50\"></line><line class=\"grid-line\" x1=\"50\" y1=\"10\" x2=\"50\" y2=\"90\"></line><ellipse id=\"preview-shape\" class=\"shape\" cx=\"50\" cy=\"50\" rx=\"35\" ry=\"35\"></ellipse><circle id=\"preview-grippie\" class=\"grippie\" cx=\"50\" cy=\"50\" r=\"5\"></circle></svg><section id=\"size-section\"><h4>Size</h4><x-box id=\"size-box\"><x-slider id=\"size-slider\" value=\"30\" min=\"1\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"size-input\" value=\"30\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-section\"><h4>Roundness</h4><x-box id=\"roundness-box\"><x-slider id=\"roundness-slider\" value=\"100\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"roundness-input\" value=\"100\" min=\"1\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-section\"><h4>Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" min=\"-180\" max=\"180\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"size-dynamics-section\"><h4>Size</h4><x-box><x-select id=\"size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-dynamics-section\"><h4>Roundness</h4><x-box><x-select id=\"roundness-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"roundness-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-dynamics-section\"><h4>Angle</h4><x-box><x-select id=\"angle-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"angle-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></main></template>"]);_templateObject206=function _templateObject206(){return data;};return data;}function _templateObject205(){var data=_taggedTemplateLiteral([":host{display:block;width:210px;box-sizing:border-box;overflow:auto}header{padding:10px 0 0}h2{margin:0;padding:0 14px}h3:first-child{margin-top:0}section{padding:12px 14px}section section{padding:0}"]);_templateObject205=function _templateObject205(){return data;};return data;}function _templateObject204(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;box-sizing:border-box}#main{display:flex;align-items:center;justify-content:flex-start}#thumbnail{width:70px;height:70px;box-sizing:border-box;border-width:1px;border-style:solid;-webkit-user-drag:none}#buttons{flex:1;margin-left:8px}#buttons x-button{width:100%}#buttons x-button:first-child{margin-bottom:6px}"]);_templateObject204=function _templateObject204(){return data;};return data;}function _templateObject203(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><svg id=\"thumbnail\" part=\"thumbnail\" viewBox=\"0 0 100 100\"><rect id=\"thumbnail-rect\" x=\"15\" y=\"15\" width=\"70\" height=\"70\"></rect></svg><x-box vertical id=\"buttons\"><x-button id=\"grab-button\" size=\"medium\" togglable><x-icon name=\"grab-color\"></x-icon><x-label>Grab</x-label></x-button><x-button id=\"reset-button\" size=\"medium\"><x-icon name=\"reset\"></x-icon><x-label>Reset</x-label></x-button></x-box></main></template>"]);_templateObject203=function _templateObject203(){return data;};return data;}function _templateObject202(){var data=_taggedTemplateLiteral([":host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;--size:14px}:host([enabled]){display:block}main{position:relative;width:100%;height:100%}#corner-ruler{pointer-events:all;position:absolute;left:0;top:0;width:var(--size);height:var(--size);box-sizing:border-box;border-width:0 1px 1px 0;border-style:none solid solid none}#horizontal-ruler,#vertical-ruler{pointer-events:all;position:relative;box-sizing:border-box;touch-action:pinch-zoom}#horizontal-ruler{position:absolute;top:0;width:100%;height:var(--size);border-width:0 0 1px 0;border-style:none none solid none}#vertical-ruler{position:absolute;top:0;width:var(--size);height:100%;border-width:0 1px 0 0;border-style:none solid none none;writing-mode:vertical-lr}#horizontal-ruler>div,#vertical-ruler>div{position:absolute;font-size:9px;box-sizing:border-box;pointer-events:none;user-select:none}#horizontal-ruler>div{width:0;height:100%;top:0;left:0;padding:0 0 0 3px;border-width:0 0 0 1px;border-style:none none none solid}#vertical-ruler>div{width:100%;height:0;top:0;left:0;padding:3px 0 0 0;border-width:1px 0 0 0;border-style:solid none none none}"]);_templateObject202=function _templateObject202(){return data;};return data;}function _templateObject201(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"horizontal-ruler\" class=\"ruler\" part=\"ruler horizontal-ruler\" data-type=\"horizontal\"></div><div id=\"vertical-ruler\" class=\"ruler\" part=\"ruler vertical-ruler\" data-type=\"vertical\"></div><div id=\"corner-ruler\" class=\"ruler\" part=\"ruler corner-ruler\" data-type=\"corner\"></div></main></template>"]);_templateObject201=function _templateObject201(){return data;};return data;}function _templateObject200(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject200=function _templateObject200(){return data;};return data;}function _templateObject199(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"huesat-slider\">\n          <img id=\"huesat-image\"></img>\n          <div id=\"huesat-marker\"></div>\n        </div>\n\n        <div id=\"value-slider\">\n          <div id=\"value-slider-track\">\n            <div id=\"value-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject199=function _templateObject199(){return data;};return data;}function _templateObject198(){var data=_taggedTemplateLiteral([":host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}"]);_templateObject198=function _templateObject198(){return data;};return data;}function _templateObject197(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"spin\" viewBox=\"0 0 100 100\">\n        <rect transform=\"rotate(  0 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 30 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 60 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 90 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(120 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(150 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(180 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(210 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(240 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(270 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(300 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(330 50 50) translate(0 -38)\"></rect>\n      </svg>\n    </template>\n  "]);_templateObject197=function _templateObject197(){return data;};return data;}function _templateObject196(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"ring\" viewBox=\"0 0 100 100\">\n        <ellipse ry=\"40\" rx=\"40\" cy=\"50\" cx=\"50\" stroke-width=\"10\"/>\n      </svg>\n    </template>\n  "]);_templateObject196=function _templateObject196(){return data;};return data;}function _templateObject195(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px;overflow:auto}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;width:100%;min-height:100%}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) \" \"}"]);_templateObject195=function _templateObject195(){return data;};return data;}function _templateObject194(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n      </main>\n    </template>\n  "]);_templateObject194=function _templateObject194(){return data;};return data;}function _templateObject193(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject193=function _templateObject193(){return data;};return data;}function _templateObject192(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tags\">\n          <slot></slot>\n          <span id=\"input\" part=\"input\" spellcheck=\"false\" tabindex=\"0\"></span>\n        </div>\n      </main>\n\n      <x-popover id=\"suggestions-popover\" part=\"suggestions\">\n        <div id=\"suggested-tags\"></div>\n      </x-popover>\n    </template>\n  "]);_templateObject192=function _templateObject192(){return data;};return data;}function _templateObject191(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}"]);_templateObject191=function _templateObject191(){return data;};return data;}function _templateObject190(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject190=function _templateObject190(){return data;};return data;}function _templateObject189(){var data=_taggedTemplateLiteral([":host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path(\"M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z\");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}"]);_templateObject189=function _templateObject189(){return data;};return data;}function _templateObject188(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"container\">\n        <div id=\"scope\" part=\"scope\">\n          <slot id=\"scope-slot\" name=\"scope\"></slot>\n        </div>\n\n        <main id=\"main\" part=\"main\">\n          <slot></slot>\n\n          <svg id=\"remove-button\" part=\"remove-button\" viewBox=\"0 0 100 100\">\n            <path id=\"remove-button-path\"></path>\n          </svg>\n        </main>\n      </div>\n    </template>\n  "]);_templateObject188=function _templateObject188(){return data;};return data;}function _templateObject187(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}"]);_templateObject187=function _templateObject187(){return data;};return data;}function _templateObject186(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject186=function _templateObject186(){return data;};return data;}function _templateObject185(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}"]);_templateObject185=function _templateObject185(){return data;};return data;}function _templateObject184(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n      <div id=\"content\">\n        <slot></slot>\n      </div>\n    </template>\n  "]);_templateObject184=function _templateObject184(){return data;};return data;}function _templateObject183(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}"]);_templateObject183=function _templateObject183(){return data;};return data;}function _templateObject182(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-track\" part=\"indicator-track\">\n            <div id=\"indicator-thumb\" part=\"indicator-thumb\"></div>\n          </div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject182=function _templateObject182(){return data;};return data;}function _templateObject181(){var data=_taggedTemplateLiteral([":host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}"]);_templateObject181=function _templateObject181(){return data;};return data;}function _templateObject180(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"preview\"></div>\n    </template>\n  "]);_templateObject180=function _templateObject180(){return data;};return data;}function _templateObject179(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=\"\"]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z\" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z\" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}"]);_templateObject179=function _templateObject179(){return data;};return data;}function _templateObject178(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"decrement-button\" part=\"decrement-button\" class=\"button\">\n        <svg id=\"decrement-arrow\" part=\"decrement-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"decrement-arrow-path\"></path>\n        </svg>\n      </div>\n\n      <div id=\"increment-button\" part=\"increment-button\" class=\"button\">\n        <svg id=\"increment-arrow\" part=\"increment-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"increment-arrow-path\"></path>\n        </svg>\n      </div>\n    </template>\n  "]);_templateObject178=function _templateObject178(){return data;};return data;}function _templateObject177(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}"]);_templateObject177=function _templateObject177(){return data;};return data;}function _templateObject176(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tracks-and-thumbs\">\n          <div id=\"groove-track\" part=\"track groove-track\"></div>\n          <div id=\"buffer-track\" part=\"track buffer-track\"></div>\n          <div id=\"range-track\" part=\"track range-track\"></div>\n          <div id=\"thumbs\">\n            <div id=\"start-thumb\" class=\"thumb\" part=\"thumb start-thumb\" data-value=\"start\" tabindex=\"0\"></div>\n            <div id=\"end-thumb\" class=\"thumb\" part=\"thumb end-thumb\" data-value=\"end\" tabindex=\"0\"></div>\n          </div>\n        </div>\n\n        <div id=\"ticks\"></div>\n\n        <div id=\"labels\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject176=function _templateObject176(){return data;};return data;}function _templateObject175(){var data=_taggedTemplateLiteral([":host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}"]);_templateObject175=function _templateObject175(){return data;};return data;}function _templateObject174(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\"></main>\n    </template>\n  "]);_templateObject174=function _templateObject174(){return data;};return data;}function _templateObject173(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path(\"M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z\")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}"]);_templateObject173=function _templateObject173(){return data;};return data;}function _templateObject172(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"button\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n      </div>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject172=function _templateObject172(){return data;};return data;}function _templateObject171(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject171=function _templateObject171(){return data;};return data;}function _templateObject170(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"satlight-slider\">\n          <div id=\"satlight-marker\"></div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject170=function _templateObject170(){return data;};return data;}function _templateObject169(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}"]);_templateObject169=function _templateObject169(){return data;};return data;}function _templateObject168(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-dot\" part=\"indicator-dot\"></div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject168=function _templateObject168(){return data;};return data;}function _templateObject167(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value=\"-1\"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}"]);_templateObject167=function _templateObject167(){return data;};return data;}function _templateObject166(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"determinate-bar\" part=\"bar\"></div>\n\n      <div id=\"indeterminate-bars\">\n        <div id=\"primary-indeterminate-bar\" part=\"bar\"></div>\n        <div id=\"secondary-indeterminate-bar\" part=\"bar\"></div>\n      </div>\n    </template>\n  "]);_templateObject166=function _templateObject166(){return data;};return data;}function _templateObject165(){var data=_taggedTemplateLiteral([":host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:\"\"}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path(\"M 0 100, L 50 0, L 100 100\")}#arrow[data-align=top] path{d:path(\"M 0 0, L 50 100, L 100 0\")}#arrow[data-align=left] path{d:path(\"M 0 0, L 100 50, L 00 100\")}#arrow[data-align=right] path{d:path(\"M 100 0, L 0 50, L 100 100\")}"]);_templateObject165=function _templateObject165(){return data;};return data;}function _templateObject164(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n      <slot></slot>\n    </template>\n  "]);_templateObject164=function _templateObject164(){return data;};return data;}function _templateObject163(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:\"\"}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject163=function _templateObject163(){return data;};return data;}function _templateObject162(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"editor-container\">\n          <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n        </div>\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject162=function _templateObject162(){return data;};return data;}function _templateObject161(){var data=_taggedTemplateLiteral([":host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}"]);_templateObject161=function _templateObject161(){return data;};return data;}function _templateObject160(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject160=function _templateObject160(){return data;};return data;}function _templateObject159(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path(\"M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z\");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}"]);_templateObject159=function _templateObject159(){return data;};return data;}function _templateObject158(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n\n      <svg id=\"checkmark\" part=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path></path>\n      </svg>\n\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" hidden>\n        <path></path>\n      </svg>\n    </template>\n  "]);_templateObject158=function _templateObject158(){return data;};return data;}function _templateObject157(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}"]);_templateObject157=function _templateObject157(){return data;};return data;}function _templateObject156(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"backdrop\" hidden>\n        <path id=\"backdrop-path\"></path>\n      </svg>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject156=function _templateObject156(){return data;};return data;}function _templateObject155(){var data=_taggedTemplateLiteral([":host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}"]);_templateObject155=function _templateObject155(){return data;};return data;}function _templateObject154(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot id=\"slot\"></slot>\n    </template>\n  "]);_templateObject154=function _templateObject154(){return data;};return data;}function _templateObject153(){var data=_taggedTemplateLiteral([":host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}"]);_templateObject153=function _templateObject153(){return data;};return data;}function _templateObject152(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject152=function _templateObject152(){return data;};return data;}function _templateObject151(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject151=function _templateObject151(){return data;};return data;}function _templateObject150(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <input id=\"input\" spellcheck=\"false\" part=\"input\"></input>\n      </main>\n    </template>\n  "]);_templateObject150=function _templateObject150(){return data;};return data;}function _templateObject149(){var data=_taggedTemplateLiteral([":host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}"]);_templateObject149=function _templateObject149(){return data;};return data;}function _templateObject148(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"svg\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" width=\"0px\" height=\"0px\"></svg>\n    </template>\n  "]);_templateObject148=function _templateObject148(){return data;};return data;}function _templateObject147(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path(\"M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z\");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}"]);_templateObject147=function _templateObject147(){return data;};return data;}function _templateObject146(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n\n      <svg id=\"open-button\" part=\"open-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"open-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject146=function _templateObject146(){return data;};return data;}function _templateObject145(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path(\"M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z\")}:host([edited]) #close-button{d:path(\"M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z\")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}"]);_templateObject145=function _templateObject145(){return data;};return data;}function _templateObject144(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n\n      <slot></slot>\n\n      <svg id=\"close-button\" part=\"close-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"close-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject144=function _templateObject144(){return data;};return data;}function _templateObject143(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;width:0;height:0;z-index:1001}"]);_templateObject143=function _templateObject143(){return data;};return data;}function _templateObject142(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject142=function _templateObject142(){return data;};return data;}function _templateObject141(){var data=_taggedTemplateLiteral([":host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}"]);_templateObject141=function _templateObject141(){return data;};return data;}function _templateObject140(){var data=_taggedTemplateLiteral(["\n    <template>\n      <input tabindex=\"-1\" id=\"input\" type=\"color\" value=\"#ffffff\">\n      <slot></slot>\n    </template>\n  "]);_templateObject140=function _templateObject140(){return data;};return data;}function _templateObject139(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z\")}:host([mixed]) #indicator{d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z\")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}"]);_templateObject139=function _templateObject139(){return data;};return data;}function _templateObject138(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"ripples\"></div>\n\n          <svg id=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject138=function _templateObject138(){return data;};return data;}function _templateObject137(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}"]);_templateObject137=function _templateObject137(){return data;};return data;}function _templateObject136(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject136=function _templateObject136(){return data;};return data;}function _templateObject135(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}"]);_templateObject135=function _templateObject135(){return data;};return data;}function _templateObject134(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject134=function _templateObject134(){return data;};return data;}function _templateObject133(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path(\"M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z\")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}"]);_templateObject133=function _templateObject133(){return data;};return data;}function _templateObject132(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject132=function _templateObject132(){return data;};return data;}function _templateObject131(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}"]);_templateObject131=function _templateObject131(){return data;};return data;}function _templateObject130(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject130=function _templateObject130(){return data;};return data;}function _templateObject129(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject129=function _templateObject129(){return data;};return data;}function _templateObject128(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\" part=\"slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"saturation-slider\" part=\"slider\">\n          <div id=\"saturation-slider-track\">\n            <div id=\"saturation-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"lightness-slider\" part=\"slider\">\n          <div id=\"lightness-slider-track\">\n            <div id=\"lightness-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\" part=\"slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject128=function _templateObject128(){return data;};return data;}function _templateObject127(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}"]);_templateObject127=function _templateObject127(){return data;};return data;}function _templateObject126(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}"]);_templateObject126=function _templateObject126(){return data;};return data;}function _templateObject125(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" tabindex=\"1\">\n            <path></path>\n          </svg>\n        </div>\n\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject125=function _templateObject125(){return data;};return data;}function _templateObject124(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject124=function _templateObject124(){return data;};return data;}function _templateObject123(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject123=function _templateObject123(){return data;};return data;}function _templateObject122(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject122=function _templateObject122(){return data;};return data;}function _templateObject121(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject121=function _templateObject121(){return data;};return data;}function _templateObject120(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject120=function _templateObject120(){return data;};return data;}function _templateObject119(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject119=function _templateObject119(){return data;};return data;}function _templateObject118(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject118=function _templateObject118(){return data;};return data;}function _templateObject117(){var data=_taggedTemplateLiteral(["<x-doctab title=\"","\"><x-label>","</x-label></x-doctab>"]);_templateObject117=function _templateObject117(){return data;};return data;}function _templateObject116(){var data=_taggedTemplateLiteral(["<bx-preferences></bx-preferences>"]);_templateObject116=function _templateObject116(){return data;};return data;}function _templateObject115(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Preferences\" value=\"preferences\"><x-label>Preferences</x-label></x-doctab>"]);_templateObject115=function _templateObject115(){return data;};return data;}function _templateObject114(){var data=_taggedTemplateLiteral(["<bx-about></bx-about>"]);_templateObject114=function _templateObject114(){return data;};return data;}function _templateObject113(){var data=_taggedTemplateLiteral(["<x-doctab title=\"About\" value=\"about\"><x-label>About</x-label></x-doctab>"]);_templateObject113=function _templateObject113(){return data;};return data;}function _templateObject112(){var data=_taggedTemplateLiteral(["<dialog id=\"message-dialog\" data-param=\"message\"></dialog>"]);_templateObject112=function _templateObject112(){return data;};return data;}function _templateObject111(){var data=_taggedTemplateLiteral(["<x-input class=\"input\" part=\"input\" value=\"","\" validation=\"instant\"></x-input>"]);_templateObject111=function _templateObject111(){return data;};return data;}function _templateObject110(){var data=_taggedTemplateLiteral(["",""]);_templateObject110=function _templateObject110(){return data;};return data;}function _templateObject109(){var data=_taggedTemplateLiteral(["<path id=\"","\" d=\"","\"></path>"]);_templateObject109=function _templateObject109(){return data;};return data;}function _templateObject108(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject108=function _templateObject108(){return data;};return data;}function _templateObject107(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"presentation-attributes\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject107=function _templateObject107(){return data;};return data;}function _templateObject106(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject106=function _templateObject106(){return data;};return data;}function _templateObject105(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-element\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject105=function _templateObject105(){return data;};return data;}function _templateObject104(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject104=function _templateObject104(){return data;};return data;}function _templateObject103(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-attribute\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">element.style</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject103=function _templateObject103(){return data;};return data;}function _templateObject102(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\"></span>: <span class=\"value\">initial</span>;</div></div>"]);_templateObject102=function _templateObject102(){return data;};return data;}function _templateObject101(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject101=function _templateObject101(){return data;};return data;}function _templateObject100(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject100=function _templateObject100(){return data;};return data;}function _templateObject99(){var data=_taggedTemplateLiteral(["<g>"]);_templateObject99=function _templateObject99(){return data;};return data;}function _templateObject98(){var data=_taggedTemplateLiteral(["",""]);_templateObject98=function _templateObject98(){return data;};return data;}function _templateObject97(){var data=_taggedTemplateLiteral(["",""]);_templateObject97=function _templateObject97(){return data;};return data;}function _templateObject96(){var data=_taggedTemplateLiteral(["",""]);_templateObject96=function _templateObject96(){return data;};return data;}function _templateObject95(){var data=_taggedTemplateLiteral(["",""]);_templateObject95=function _templateObject95(){return data;};return data;}function _templateObject94(){var data=_taggedTemplateLiteral(["",""]);_templateObject94=function _templateObject94(){return data;};return data;}function _templateObject93(){var data=_taggedTemplateLiteral(["",""]);_templateObject93=function _templateObject93(){return data;};return data;}function _templateObject92(){var data=_taggedTemplateLiteral(["",""]);_templateObject92=function _templateObject92(){return data;};return data;}function _templateObject91(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject91=function _templateObject91(){return data;};return data;}function _templateObject90(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img loading=\"lazy\" style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject90=function _templateObject90(){return data;};return data;}function _templateObject89(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject89=function _templateObject89(){return data;};return data;}function _templateObject88(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img loading=\"lazy\" style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject88=function _templateObject88(){return data;};return data;}function _templateObject87(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" data-family=\"","\" data-provider=\"","\"><div class=\"thumbnail\" style=\"font-family: ",";\">","</div></div>"]);_templateObject87=function _templateObject87(){return data;};return data;}function _templateObject86(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" data-family=\"","\" data-provider=\"","\"><div class=\"thumbnail\" style=\"-webkit-mask-image: url(",");\"></div></div>"]);_templateObject86=function _templateObject86(){return data;};return data;}function _templateObject85(){var data=_taggedTemplateLiteral(["",""]);_templateObject85=function _templateObject85(){return data;};return data;}function _templateObject84(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject84=function _templateObject84(){return data;};return data;}function _templateObject83(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" style=\"background: ",";\"></div>"]);_templateObject83=function _templateObject83(){return data;};return data;}function _templateObject82(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject82=function _templateObject82(){return data;};return data;}function _templateObject81(){var data=_taggedTemplateLiteral(["",""]);_templateObject81=function _templateObject81(){return data;};return data;}function _templateObject80(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject80=function _templateObject80(){return data;};return data;}function _templateObject79(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" style=\"background: ",";\"></div>"]);_templateObject79=function _templateObject79(){return data;};return data;}function _templateObject78(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject78=function _templateObject78(){return data;};return data;}function _templateObject77(){var data=_taggedTemplateLiteral(["<div class=\"font-item item\"><div class=\"label\" style=\"","\">","</div></div>"]);_templateObject77=function _templateObject77(){return data;};return data;}function _templateObject76(){var data=_taggedTemplateLiteral(["<div class=\"family-item item\" data-family=\"","\" ","><div class=\"background\"></div><div class=\"main\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><path d=\"M 0.736 20.259 L 49.999 87.816 L 99.264 20.259 Z\"/></svg></div><div class=\"label\" style=\"font-family: '","'\">","</div><x-button class=\"unlink-button\" title=\"This font family is linked from ",". Click to embed it into the SVG file.\" skin=\"flat\" ","><x-icon name=\"link\"></x-icon></x-button><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" size=\"smaller\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div><div class=\"font-items-outer\"><div class=\"font-items\" hidden></div></div></div>"]);_templateObject76=function _templateObject76(){return data;};return data;}function _templateObject75(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"/images/logos/logo-full.svg\" style=\"filter: url(#",")\"></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin filter (prevent garbage collector from auto-removing the filter when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject75=function _templateObject75(){return data;};return data;}function _templateObject74(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject74=function _templateObject74(){return data;};return data;}function _templateObject73(){var data=_taggedTemplateLiteral(["\n            <g class=\"edge\">\n              <path class=\"edge-outline\"></path>\n              <path class=\"edge-inline\"></path>\n              <foreignObject\n                class=\"label-text\"\n                width=\"","\"\n                height=\"","\"\n                style=\"line-height: ","px;\">\n              </foreignObject>\n            </g>\n          "]);_templateObject73=function _templateObject73(){return data;};return data;}function _templateObject72(){var data=_taggedTemplateLiteral(["\n            <g class=\"node\" data-name=\"","\">\n              <rect class=\"background\" width=\"40\" height=\"40\"></rect>\n              <foreignObject x=\"7\" y=\"7\" width=\"26\" height=\"26\">\n                <x-icon name=\"","\"></x-icon>\n              </foreignObject>\n            </g>\n          "]);_templateObject72=function _templateObject72(){return data;};return data;}function _templateObject71(){var data=_taggedTemplateLiteral(["<path id=\"graph-ghost-edge\"></path>"]);_templateObject71=function _templateObject71(){return data;};return data;}function _templateObject70(){var data=_taggedTemplateLiteral(["\n            <g transform=\"translate(0 ",")\">\n              <title>Page ","</title>\n            </g>\n          "]);_templateObject70=function _templateObject70(){return data;};return data;}function _templateObject69(){var data=_taggedTemplateLiteral(["<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"></svg>"]);_templateObject69=function _templateObject69(){return data;};return data;}function _templateObject68(){var data=_taggedTemplateLiteral(["<x-button value=\"","\" condensed toggled><x-label>","</x-label></x-button>"]);_templateObject68=function _templateObject68(){return data;};return data;}function _templateObject67(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin symbol (prevent garbage collector from auto-removing the symbol when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject67=function _templateObject67(){return data;};return data;}function _templateObject66(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject66=function _templateObject66(){return data;};return data;}function _templateObject65(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ",">","</svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin marker (prevent garbage collector from auto-removing the marker when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject65=function _templateObject65(){return data;};return data;}function _templateObject64(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject64=function _templateObject64(){return data;};return data;}function _templateObject63(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin pattern (prevent garbage collector from auto-removing the pattern when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject63=function _templateObject63(){return data;};return data;}function _templateObject62(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject62=function _templateObject62(){return data;};return data;}function _templateObject61(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin gradient (prevent garbage collector from auto-removing the gradient when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject61=function _templateObject61(){return data;};return data;}function _templateObject60(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject60=function _templateObject60(){return data;};return data;}function _templateObject59(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" size=\"smaller\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin color (prevent garbage collector from auto-removing the color when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject59=function _templateObject59(){return data;};return data;}function _templateObject58(){var data=_taggedTemplateLiteral(["\n        <linearGradient id=\"","\">\n          <stop style=\"stop-color: ",";\"></stop>\n        </linearGradient>\n      "]);_templateObject58=function _templateObject58(){return data;};return data;}function _templateObject57(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject57=function _templateObject57(){return data;};return data;}function _templateObject56(){var data=_taggedTemplateLiteral(["",""]);_templateObject56=function _templateObject56(){return data;};return data;}function _templateObject55(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-depth=\"","\"><div class=\"background\"></div><div class=\"main\" style=\"padding-left: ","px;\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#arrow\" width=\"100%\" height=\"100%\"></use></svg></div><svg class=\"object-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\"></div><div class=\"action-buttons\"><div class=\"lock-button\"><svg class=\"lock-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#lock-on\" width=\"100%\" height=\"100%\"></use></svg></div><div class=\"visibility-button\"><svg class=\"visibility-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#visibility-hidden\" width=\"100%\" height=\"100%\"></use></svg></div></div></div><div class=\"children-outer\"><div class=\"children\"></div></div></div>"]);_templateObject55=function _templateObject55(){return data;};return data;}function _templateObject54(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label>","</x-label></x-input>"]);_templateObject54=function _templateObject54(){return data;};return data;}function _templateObject53(){var data=_taggedTemplateLiteral(["<path style=\"fill: none; stroke: black;\"></path>"]);_templateObject53=function _templateObject53(){return data;};return data;}function _templateObject52(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject52=function _templateObject52(){return data;};return data;}function _templateObject51(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject51=function _templateObject51(){return data;};return data;}function _templateObject50(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject50=function _templateObject50(){return data;};return data;}function _templateObject49(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject49=function _templateObject49(){return data;};return data;}function _templateObject48(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject48=function _templateObject48(){return data;};return data;}function _templateObject47(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject47=function _templateObject47(){return data;};return data;}function _templateObject46(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject46=function _templateObject46(){return data;};return data;}function _templateObject45(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject45=function _templateObject45(){return data;};return data;}function _templateObject44(){var data=_taggedTemplateLiteral(["\n            <text x=\"","\" y=\"","\" style=\"font-size: 20px;\">Enter your text here</text>\n          "]);_templateObject44=function _templateObject44(){return data;};return data;}function _templateObject43(){var data=_taggedTemplateLiteral(["\n            <path\n              style=\"fill: none; stroke: black;\"\n              d=\"M "," "," C "," "," "," ","   "," ","\">\n            </path>\n          "]);_templateObject43=function _templateObject43(){return data;};return data;}function _templateObject42(){var data=_taggedTemplateLiteral(["\n            <polygon\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polygon>\n          "]);_templateObject42=function _templateObject42(){return data;};return data;}function _templateObject41(){var data=_taggedTemplateLiteral(["\n            <polyline\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polyline>\n          "]);_templateObject41=function _templateObject41(){return data;};return data;}function _templateObject40(){var data=_taggedTemplateLiteral(["\n            <line\n              style=\"stroke: black;\"\n              x1=\"","\"\n              y1=\"","\"\n              x2=\"","\"\n              y2=\"","\">\n            </line>\n          "]);_templateObject40=function _templateObject40(){return data;};return data;}function _templateObject39(){var data=_taggedTemplateLiteral(["\n            <ellipse\n              cx=\"","\"\n              cy=\"","\"\n              rx=\"50\"\n              ry=\"50\">\n            </ellipse>\n          "]);_templateObject39=function _templateObject39(){return data;};return data;}function _templateObject38(){var data=_taggedTemplateLiteral(["\n            <circle\n              cx=\"","\"\n              cy=\"","\"\n              r=\"50\">\n            </circle>\n          "]);_templateObject38=function _templateObject38(){return data;};return data;}function _templateObject37(){var data=_taggedTemplateLiteral(["\n            <rect\n              x=\"","\"\n              y=\"","\"\n              width=\"","\"\n              height=\"","\">\n            </rect>\n          "]);_templateObject37=function _templateObject37(){return data;};return data;}function _templateObject36(){var data=_taggedTemplateLiteral(["\n            <image\n              x=\"","\"\n              y=\"","\"\n              width=\"100\"\n              height=\"100\"\n              href=\"","\">\n            </image>\n          "]);_templateObject36=function _templateObject36(){return data;};return data;}function _templateObject35(){var data=_taggedTemplateLiteral(["<a></a>"]);_templateObject35=function _templateObject35(){return data;};return data;}function _templateObject34(){var data=_taggedTemplateLiteral(["<g></g>"]);_templateObject34=function _templateObject34(){return data;};return data;}function _templateObject33(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-provider=\"local\" data-family=\"","\" ","><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject33=function _templateObject33(){return data;};return data;}function _templateObject32(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-provider=\"defs\" data-family=\"","\"><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject32=function _templateObject32(){return data;};return data;}function _templateObject31(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"#","\"><div class=\"thumbnail\"><img src=\"","\" style=\"filter: url(#",");\"></div><div class=\"label\">#","</div></div>"]);_templateObject31=function _templateObject31(){return data;};return data;}function _templateObject30(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div></div>"]);_templateObject30=function _templateObject30(){return data;};return data;}function _templateObject29(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject29=function _templateObject29(){return data;};return data;}function _templateObject28(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject28=function _templateObject28(){return data;};return data;}function _templateObject27(){var data=_taggedTemplateLiteral(["<bx-spiralsettings></bx-spiralsettings>"]);_templateObject27=function _templateObject27(){return data;};return data;}function _templateObject26(){var data=_taggedTemplateLiteral(["<bx-arrowsettings></bx-arrowsettings>"]);_templateObject26=function _templateObject26(){return data;};return data;}function _templateObject25(){var data=_taggedTemplateLiteral(["<bx-crescentsettings></bx-crescentsettings>"]);_templateObject25=function _templateObject25(){return data;};return data;}function _templateObject24(){var data=_taggedTemplateLiteral(["<bx-piesettings></bx-piesettings>"]);_templateObject24=function _templateObject24(){return data;};return data;}function _templateObject23(){var data=_taggedTemplateLiteral(["<bx-ringsettings></bx-ringsettings>"]);_templateObject23=function _templateObject23(){return data;};return data;}function _templateObject22(){var data=_taggedTemplateLiteral(["<bx-cogsettings></bx-cogsettings>"]);_templateObject22=function _templateObject22(){return data;};return data;}function _templateObject21(){var data=_taggedTemplateLiteral(["<bx-crosssettings></bx-crosssettings>"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral(["<bx-starsettings></bx-starsettings>"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral(["<bx-ngonsettings></bx-ngonsettings>"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral(["<bx-trianglesettings></bx-trianglesettings>"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><div class=\"inner\"><x-icon class=\"icon\" name=\"","\"></x-icon><div class=\"label\">","</div></div></div>"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral(["<bx-grid x=\"0\" y=\"0\" width=\"100\" height=\"100\"></bx-grid>"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral(["<defs></defs>"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"marker\">","</g>"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"pattern\">","</g>"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"symbol\">","</g>"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"master\"></g>"]);_templateObject11=function _templateObject11(){return data;};return data;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _templateObject10(){var data=_taggedTemplateLiteral(["<tspan x=\"","\" dy=\"","em\">","</tspan>"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral(["<line class=\"repr\" x1=\"","\" y1=\"","\" x2=\"","\" y2=\"","\"></line>"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral(["<bx-guide x=\"","\" y=\"","\" angle=\"","\"></bx-guide>"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral(["\n      <g class=\"repr\" transform=\"translate(",", ",") rotate(",")\" data-selected>\n        <line class=\"outer-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <line class=\"inner-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <circle class=\"grippie\" cx=\"0\" cy=\"0\" r=\"","\"></rect>\n      </g>\n    "]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral(["\n                    @font-face {\n                      font-family: \"","\";\n                      font-style: ",";\n                      font-weight: ",";\n                      font-display: ",";\n                      font-unicode-range: ",";\n                      src: url(",");\n                    }\n                  "]);_templateObject6=function _templateObject6(){return data;};return data;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _templateObject5(){var data=_taggedTemplateLiteral(["",""]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label slot=\"scope\">","</x-label>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral(["<x-doctab><x-label>Untitled</x-label></x-doctab>"]);_templateObject2=function _templateObject2(){return data;};return data;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _templateObject(){var data=_taggedTemplateLiteral(["",""]);_templateObject=function _templateObject(){return data;};return data;}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest();}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2103){throw _e2103;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2104){didErr=true;err=_e2104;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}!function(){"use strict";var _temp2,_temp3;SVGUseElement.prototype.getBBox=function(){var t=SVGGraphicsElement.prototype.getBBox.call(this);return t.x+=this.x.baseVal.value,t.y+=this.y.baseVal.value,t;};var t=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),e="596389",i="650791",s="522135",n='This is an Adobe\xae Illustrator\xae file that was saved without PDF content. To import this file in other applications, it should be re-saved from Adobe Illustrator with the "Create PDF Compatible File" option turned on.',o="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l={bx:"https://boxy-svg.com",html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},a=["px","cm","mm","in","pt","pc","q"],h={px:1,"in":96,cm:96/2.54,mm:96/2.54/10,q:96/2.54/40,pt:96/72,pc:16};var r=["em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","q","in","pc","pt","px"];var d=["none","xMinYMin","xMidYMin","xMaxYMin","xMinYMid","xMidYMid","xMaxYMid","xMinYMax","xMidYMax","xMaxYMax"],c=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],p={"sans-serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",monospace:"Monospace"},u={arabic:"Arabic",bengali:"Bengali","chinese-hongkong":"Chinese (Hong Kong)","chinese-simplified":"Chinese (simplified)","chinese-traditional":"Chinese (traditional)",cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic (extended)",devanagari:"Devanagari",greek:"Greek","greek-ext":"Greek (extended)",gujarati:"Gujarati",gurmukhi:"Gurmukhi",hebrew:"Hebrew",japanese:"Japanese",kannada:"Kannada",khmer:"Khmer",korean:"Korean",latin:"Latin","latin-ext":"Latin (extended)",malayalam:"Malayalam",myanmar:"Myanmar",oriya:"Oriya",sinhala:"Sinhala",tamil:"Tamil",thai:"Thai",telugu:"Telugu",tibetan:"Tibetan",vietnamese:"Vietnamese"},x={arabic:"U+600-6FF, U+200C-200E, U+2010-2011, U+204F, U+2E41, U+FB50-FDFF, U+FE80-FEFC",bengali:"U+964-965, U+981-9FB, U+200C-200D, U+20B9, U+25CC",cyrillic:"U+400-45F, U+490-491, U+4B0-4B1, U+2116","cyrillic-ext":"U+460-52F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F",devanagari:"U+900-97F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB",greek:"U+370-3FF","greek-ext":"U+1F00-1FFF",gujarati:"U+964-965, U+A80-AFF, U+200C-200D, U+20B9, U+25CC, U+A830-A839",gurmukhi:"U+964-965, U+A01-A75, U+200C-200D, U+20B9, U+25CC, U+262C, U+A830-A839",hebrew:"U+590-5FF, U+20AA, U+25CC, U+FB1D-FB4F",kannada:"U+964-965, U+C82-CF2, U+200C-200D, U+20B9, U+25CC",khmer:"U+1780-17FF, U+200C, U+25CC",latin:"U+0-FF, U+131, U+152-153, U+2BB-2BC, U+2C6, U+2DA, U+2DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD","latin-ext":"U+100-24F, U+259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF",malayalam:"U+307, U+323, U+964-965, U+D02-D7F, U+200C-200D, U+20B9, U+25CC",myanmar:"U+1000-109F, U+200C-200D, U+25CC",oriya:"U+964-965, U+B01-B77, U+200C-200D, U+20B9, U+25CC",sinhala:"U+964-965, U+D82-DF4, U+200C-200D, U+25CC",tamil:"U+964-965, U+B82-BFA, U+200C-200D, U+20B9, U+25CC",thai:"U+E01-E5B, U+200C-200D, U+25CC",telugu:"U+951-952, U+964-965, U+C00-C7F, U+1CDA, U+200C-200D, U+25CC",tibetan:"U+F00-FFF, U+200C-200D, U+25CC",vietnamese:"U+102-103, U+110-111, U+128-129, U+168-169, U+1A0-1A1, U+1AF-1B0, U+1EA0-1EF9, U+20AB"},b=["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong"],m={"drop-shadow":"Drop Shadow","inner-shadow":"Inner Shadow","point-light":"Point Light","spot-light":"Spot Light",outline:"Outline","gaussian-blur":"Gaussian Blur","motion-blur":"Motion Blur",sharpen:"Sharpen",pixelete:"Pixelete",warp:"Warp",morphology:"Morphology","black-and-white":"Black and White",grayscale:"Grayscale",sepia:"Sepia",saturate:"Saturate","hue-rotate":"Hue Rotate",invert:"Invert",brightness:"Brightness",contrast:"Contrast",posterize:"Posterize",duotone:"Duotone","x-ray":"X-ray"},g=["circle","ellipse","line","path","polygon","polyline","rect"],f=["text","textPath","tspan"],w=[].concat(g,f,["image"]),v=[].concat(g,["image","text","g","a","svg","use"]),y=[].concat(w,["svg","g","a","use"]),k=[].concat(g,f),S=["solidcolor","linearGradient","radialGradient","pattern"],C=["desc","bx-title"],_=["svg","g","defs","symbol","use"],M=[].concat(g,["text","use"]),P=[].concat(w,["clipPath","a","g"]),D=[].concat(w,["a","g"]),z=[].concat(w,["a","g"]),O=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],E=["rect","circle","ellipse","line","path","polygon","polyline","image","text","tspan","use","svg","a","g"],T=["path","line","polyline","polygon"],A={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"},$={fill:"#333333","font-size":"28px","font-family":'"Arial", sans-serif'},I={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"},L=["direction","dominant-baseline","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],B=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],R=[["#264653","#2a9d8f","#e9c46a","#f4a261","#e76f51"],["#e63946","#f1faee","#a8dadc","#457b9d","#1d3557"],["#ffcdb2","#ffb4a2","#e5989b","#b5838d","#6d6875"],["#000000","#14213d","#fca311","#e5e5e5","#ffffff"],["#003049","#d62828","#f77f00","#fcbf49","#eae2b7"],["#f4f1de","#e07a5f","#3d405b","#81b29a","#f2cc8f"],["#606c38","#283618","#fefae0","#dda15e","#bc6c25"],["#006d77","#83c5be","#edf6f9","#ffddd2","#e29578"],["#ef476f","#ffd166","#06d6a0","#118ab2","#073b4c"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d90429"],["#ffb5a7","#fcd5ce","#f8edeb","#f9dcc4","#fec89a"],["#ffbe0b","#fb5607","#ff006e","#8338ec","#3a86ff"],["#f6bd60","#f7ede2","#f5cac3","#84a59d","#f28482"],["#8ecae6","#219ebc","#023047","#ffb703","#fb8500"],["#d8e2dc","#ffe5d9","#ffcad4","#f4acb7","#9d8189"],["#3d5a80","#98c1d9","#e0fbfc","#ee6c4d","#293241"],["#22223b","#4a4e69","#9a8c98","#c9ada7","#f2e9e4"],["#05668d","#028090","#00a896","#02c39a","#f0f3bd"],["#8e9aaf","#cbc0d3","#efd3d7","#feeafa","#dee2ff"],["#cdb4db","#ffc8dd","#ffafcc","#bde0fe","#a2d2ff"],["#011627","#fdfffc","#2ec4b6","#e71d36","#ff9f1c"],["#1a535c","#4ecdc4","#f7fff7","#ff6b6b","#ffe66d"],["#ffa69e","#faf3dd","#b8f2e6","#aed9e0","#5e6472"],["#ccd5ae","#e9edc9","#fefae0","#faedcd","#d4a373"],["#335c67","#fff3b0","#e09f3e","#9e2a2b","#540b0e"],["#cad2c5","#84a98c","#52796f","#354f52","#2f3e46"],["#355070","#6d597a","#b56576","#e56b6f","#eaac8b"],["#ff9f1c","#ffbf69","#ffffff","#cbf3f0","#2ec4b6"],["#5f0f40","#9a031e","#fb8b24","#e36414","#0f4c5c"],["#f08080","#f4978e","#f8ad9d","#fbc4ab","#ffdab9"],["#555b6e","#89b0ae","#bee3db","#faf9f9","#ffd6ba"],["#0081a7","#00afb9","#fdfcdc","#fed9b7","#f07167"],["#f72585","#7209b7","#3a0ca3","#4361ee","#4cc9f0"],["#03045e","#0077b6","#00b4d8","#90e0ef","#caf0f8"],["#463f3a","#8a817c","#bcb8b1","#f4f3ee","#e0afa0"],["#353535","#3c6e71","#ffffff","#d9d9d9","#284b63"],["#ecf8f8","#eee4e1","#e7d8c9","#e6beae","#b2967d"],["#283d3b","#197278","#edddd4","#c44536","#772e25"],["#d4e09b","#f6f4d2","#cbdfbd","#f19c79","#a44a3f"],["#cfdbd5","#e8eddf","#f5cb5c","#242423","#333533"],["#7bdff2","#b2f7ef","#eff7f6","#f7d6e0","#f2b5d4"],["#50514f","#f25f5c","#ffe066","#247ba0","#70c1b3"],["#9c89b8","#f0a6ca","#efc3e6","#f0e6ef","#b8bedd"],["#588b8b","#ffffff","#ffd5c2","#f28f3b","#c8553d"],["#c9cba3","#ffe1a8","#e26d5c","#723d46","#472d30"],["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"],["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93"],["#ffffff","#84dcc6","#a5ffd6","#ffa69e","#ff686b"],["#0b132b","#1c2541","#3a506b","#5bc0be","#6fffe9"],["#390099","#9e0059","#ff0054","#ff5400","#ffbd00"],["#f7b267","#f79d65","#f4845f","#f27059","#f25c54"],["#00296b","#003f88","#00509d","#fdc500","#ffd500"],["#6f1d1b","#bb9457","#432818","#99582a","#ffe6a7"],["#70d6ff","#ff70a6","#ff9770","#ffd670","#e9ff70"],["#fe938c","#e6b89c","#ead2ac","#9cafb7","#4281a4"],["#dad7cd","#a3b18a","#588157","#3a5a40","#344e41"],["#fffcf2","#ccc5b9","#403d39","#252422","#eb5e28"],["#ffffff","#00171f","#003459","#007ea7","#00a8e8"],["#233d4d","#fe7f2d","#fcca46","#a1c181","#619b8a"],["#0d3b66","#faf0ca","#f4d35e","#ee964b","#f95738"],["#ff99c8","#fcf6bd","#d0f4de","#a9def9","#e4c1f9"],["#4f000b","#720026","#ce4257","#ff7f51","#ff9b54"],["#001427","#708d81","#f4d58d","#bf0603","#8d0801"],["#eee2df","#eed7c5","#c89f9c","#c97c5d","#b36a5e"],["#220901","#621708","#941b0c","#bc3908","#f6aa1c"],["#0d1b2a","#1b263b","#415a77","#778da9","#e0e1dd"],["#f7d1cd","#e8c2ca","#d1b3c4","#b392ac","#735d78"],["#6b9080","#a4c3b2","#cce3de","#eaf4f4","#f6fff8"],["#386641","#6a994e","#a7c957","#f2e8cf","#bc4749"],["#ffac81","#ff928b","#fec3a6","#efe9ae","#cdeac0"],["#540d6e","#ee4266","#ffd23f","#3bceac","#0ead69"],["#ecc8af","#e7ad99","#ce796b","#c18c5d","#495867"],["#16697a","#489fb5","#82c0cc","#ede7e3","#ffa62b"],["#ed6a5a","#f4f1bb","#9bc1bc","#5ca4a9","#e6ebe0"],["#64a6bd","#90a8c3","#ada7c9","#d7b9d5","#f4cae0"],["#565264","#706677","#a6808c","#ccb7ae","#d6cfcb"],["#2d3142","#bfc0c0","#ffffff","#ef8354","#4f5d75"],["#495867","#577399","#bdd5ea","#f7f7ff","#fe5f55"],["#2d3142","#4f5d75","#bfc0c0","#ffffff","#ef8354"],["#177e89","#084c61","#db3a34","#ffc857","#323031"],["#f9dbbd","#ffa5ab","#da627d","#a53860","#450920"],["#227c9d","#17c3b2","#ffcb77","#fef9ef","#fe6d73"],["#114b5f","#1a936f","#88d498","#c6dabf","#f3e9d2"],["#9381ff","#b8b8ff","#f8f7ff","#ffeedd","#ffd8be"],["#ffbc42","#d81159","#8f2d56","#218380","#73d2de"],["#bee9e8","#62b6cb","#1b4965","#cae9ff","#5fa8d3"],["#3d348b","#7678ed","#f7b801","#f18701","#f35b04"],["#07beb8","#3dccc7","#68d8d6","#9ceaef","#c4fff9"],["#dcdcdd","#c5c3c6","#46494c","#4c5c68","#1985a1"],["#fdc5f5","#f7aef8","#b388eb","#8093f1","#72ddf7"],["#bce784","#5dd39e","#348aa7","#525174","#513b56"],["#001524","#15616d","#ffecd1","#ff7d00","#78290f"],["#231942","#5e548e","#9f86c0","#be95c4","#e0b1cb"],["#461220","#8c2f39","#b23a48","#fcb9b2","#fed0bb"],["#f9c80e","#f86624","#ea3546","#662e9b","#43bccd"],["#c9e4ca","#87bba2","#55828b","#3b6064","#364958"],["#0a0908","#22333b","#eae0d5","#c6ac8f","#5e503f"],["#132a13","#31572c","#4f772d","#90a955","#ecf39e"],["#edeec9","#dde7c7","#bfd8bd","#98c9a3","#77bfa3"],["#0c0f0a","#ff206e","#fbff12","#41ead4","#ffffff"],["#f0ead2","#dde5b6","#adc178","#a98467","#6c584c"],["#d0b8ac","#f3d8c7","#efe5dc","#fbfefb","#ffffff"],["#cc5803","#e2711d","#ff9505","#ffb627","#ffc971"],["#edafb8","#f7e1d7","#dedbd2","#b0c4b1","#4a5759"],["#ee6055","#60d394","#aaf683","#ffd97d","#ff9b85"],["#5bc0eb","#fde74c","#9bc53d","#e55934","#fa7921"],["#3c1642","#086375","#1dd3b0","#affc41","#b2ff9e"],["#e0fbfc","#c2dfe3","#9db4c0","#5c6b73","#253237"],["#90f1ef","#ffd6e0","#ffef9f","#c1fba4","#7bf1a8"],["#ef6351","#f38375","#f7a399","#fbc3bc","#ffe3e0"],["#000814","#001d3d","#003566","#ffc300","#ffd60a"],["#2c6e49","#4c956c","#fefee3","#ffc9b9","#d68c45"],["#484a47","#5c6d70","#a37774","#e88873","#e0ac9d"],["#edae49","#d1495b","#00798c","#30638e","#003d5b"],["#202c39","#283845","#b8b08d","#f2d492","#f29559"],["#0b3954","#087e8b","#bfd7ea","#ff5a5f","#c81d25"],["#e7ecef","#274c77","#6096ba","#a3cef1","#8b8c89"],["#ff6700","#ebebeb","#c0c0c0","#3a6ea5","#004e98"],["#083d77","#ebebd3","#f4d35e","#ee964b","#f95738"],["#250902","#38040e","#640d14","#800e13","#ad2831"],["#dd6e42","#e8dab2","#4f6d7a","#c0d6df","#eaeaea"],["#fbfbf2","#e5e6e4","#cfd2cd","#a6a2a2","#847577"],["#ffc09f","#ffee93","#fcf5c7","#a0ced9","#adf7b6"],["#a3a380","#d6ce93","#efebce","#d8a48f","#bb8588"],["#00a6fb","#0582ca","#006494","#003554","#051923"],["#cebebe","#ece2d0","#d5b9b2","#a26769","#6d2e46"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d80032"],["#780116","#f7b538","#db7c26","#d8572a","#c32f27"],["#ff6b35","#f7c59f","#efefd0","#004e89","#1a659e"],["#d7263d","#f46036","#2e294e","#1b998b","#c5d86d"],["#8cb369","#f4e285","#f4a259","#5b8e7d","#bc4b51"],["#d3f8e2","#e4c1f9","#f694c1","#ede7b1","#a9def9"],["#006ba6","#0496ff","#ffbc42","#d81159","#8f2d56"],["#ffd6ff","#e7c6ff","#c8b6ff","#b8c0ff","#bbd0ff"],["#55dde0","#33658a","#2f4858","#f6ae2d","#f26419"],["#002642","#840032","#e59500","#e5dada","#02040f"],["#585123","#eec170","#f2a65a","#f58549","#772f1a"],["#e8d6cb","#d0ada7","#ad6a6c","#5d2e46","#b58db6"],["#011627","#f71735","#41ead4","#fdfffc","#ff9f1c"],["#cc8b86","#f9eae1","#7d4f50","#d1be9c","#aa998f"],["#7a6c5d","#2a3d45","#ddc9b4","#bcac9b","#c17c74"],["#0a1128","#001f54","#034078","#1282a2","#fefcfb"],["#ffffff","#ffcad4","#b0d0d3","#c08497","#f7af9d"],["#d88c9a","#f2d0a9","#f1e3d3","#99c1b9","#8e7dbe"],["#05668d","#427aa1","#ebf2fa","#679436","#a5be00"],["#2f4858","#33658a","#86bbd8","#f6ae2d","#f26419"],["#f8ffe5","#06d6a0","#1b9aaa","#ef476f","#ffc43d"],["#25ced1","#ffffff","#fceade","#ff8a5b","#ea526f"],["#6f2dbd","#a663cc","#b298dc","#b8d0eb","#b9faf8"],["#031d44","#04395e","#70a288","#dab785","#d5896f"],["#1a1423","#372549","#774c60","#b75d69","#eacdc2"],["#f79256","#fbd1a2","#7dcfb6","#00b2ca","#1d4e89"],["#223843","#eff1f3","#dbd3d8","#d8b4a0","#d77a61"],["#114b5f","#028090","#e4fde1","#456990","#f45b69"],["#160f29","#246a73","#368f8b","#f3dfc1","#ddbea8"],["#06aed5","#086788","#f0c808","#fff1d0","#dd1c1a"],["#f3e9dc","#c08552","#5e3023","#895737","#dab49d"],["#b0d0d3","#c08497","#f7af9d","#f7e3af","#f3eec3"],["#b09e99","#fee9e1","#fad4c0","#64b6ac","#c0fdfb"],["#292f36","#4ecdc4","#f7fff7","#ff6b6b","#ffe66d"],["#0d1321","#1d2d44","#3e5c76","#748cab","#f0ebd8"],["#1f2041","#4b3f72","#ffc857","#119da4","#19647e"],["#f2d7ee","#d3bcc0","#a5668b","#69306d","#0e103d"],["#a4243b","#d8c99b","#d8973c","#bd632f","#273e47"],["#ff5e5b","#d8d8d8","#ffffea","#00cecb","#ffed66"],["#2364aa","#3da5d9","#73bfb8","#fec601","#ea7317"],["#f6511d","#ffb400","#00a6ed","#7fb800","#0d2c54"],["#efc7c2","#ffe5d4","#bfd3c1","#68a691","#694f5d"],["#022b3a","#1f7a8c","#bfdbf7","#e1e5f2","#ffffff"],["#11151c","#212d40","#364156","#7d4e57","#d66853"],["#000000","#2f4550","#586f7c","#b8dbd9","#f4f4f9"],["#586ba4","#324376","#f5dd90","#f68e5f","#f76c5e"],["#26547c","#ef476f","#ffd166","#06d6a0","#fffcf9"],["#033f63","#28666e","#7c9885","#b5b682","#fedc97"],["#ea8c55","#c75146","#ad2e24","#81171b","#540804"],["#809bce","#95b8d1","#b8e0d2","#d6eadf","#eac4d5"],["#01161e","#124559","#598392","#aec3b0","#eff6e0"],["#533747","#5f506b","#6a6b83","#76949f","#86bbbd"],["#b8d8ba","#d9dbbc","#fcddbc","#ef959d","#69585f"],["#666a86","#788aa3","#92b6b1","#b2c9ab","#e8ddb5"],["#faa275","#ff8c61","#ce6a85","#985277","#5c374c"],["#faf3dd","#c8d5b9","#8fc0a9","#68b0ab","#4a7c59"],["#004e64","#00a5cf","#9fffcb","#25a18e","#7ae582"],["#133c55","#386fa4","#59a5d8","#84d2f6","#91e5f6"],["#432371","#714674","#9f6976","#cc8b79","#faae7b"],["#ddd8c4","#a3c9a8","#84b59f","#69a297","#50808e"],["#d8dbe2","#a9bcd0","#58a4b0","#373f51","#1b1b1e"],["#ddfff7","#93e1d8","#ffa69e","#aa4465","#462255"],["#042a2b","#5eb1bf","#cdedf6","#ef7b45","#d84727"],["#33658a","#86bbd8","#2f4858","#f6ae2d","#f26419"]],G={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},U={100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],900:["900","800","700","600","500","400","300","200","100"]},F={a:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view","#text"]),"bx-title":["#text"],circle:[].concat(C,S,["clipPath","marker","mask","script","style"]),clipPath:[].concat(C,g,["text","use","script","style"]),defs:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view","bx-grid","bx-guide"]),desc:["#text"],ellipse:[].concat(C,S,["clipPath","marker","mask","script","style"]),feBlend:[].concat(C,["script","style"]),feColorMatrix:[].concat(C,["script","style"]),feComponentTransfer:[].concat(C,["feFuncA","feFuncB","feFuncG","feFuncR","script","style"]),feComposite:[].concat(C,["script","style"]),feConvolveMatrix:[].concat(C,["script","style"]),feDiffuseLighting:[].concat(C,["feDistantLight","fePointLight","feSpotLight","script","style"]),feDisplacementMap:[].concat(C,["script","style"]),feDistantLight:[].concat(C,["script","style"]),feDropShadow:[].concat(C,["script","style"]),feFlood:[].concat(C,["script","style"]),feFuncR:[].concat(C,["script","style"]),feFuncG:[].concat(C,["script","style"]),feFuncB:[].concat(C,["script","style"]),feFuncA:[].concat(C,["script","style"]),feGaussianBlur:[].concat(C,["script","style"]),feImage:[].concat(C,["script","style"]),feMerge:[].concat(C,["feMergeNode","script","style"]),feMergeNode:[].concat(C,["script","style"]),feMorphology:[].concat(C,["script","style"]),feOffset:[].concat(C,["script","style"]),fePointLight:[].concat(C,["script","style"]),feSpecularLighting:[].concat(C,["feDistantLight","fePointLight","feSpotLight","script","style"]),feSpotLight:[].concat(C,["script","style"]),feTile:[].concat(C,["script","style"]),feTurbulence:[].concat(C,["script","style"]),filter:[].concat(O,C,["script","style"]),g:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),image:[].concat(C,["clipPath","mask","script","style"]),line:[].concat(C,S,["clipPath","marker","mask","script","style"]),linearGradient:[].concat(C,["script","stop","style"]),marker:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),mask:[].concat(C,g,_,S,["a","clipPath","filter","image","marker","mask","script","style","text","view","text"]),path:[].concat(C,S,["clipPath","marker","mask","script","style"]),pattern:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),polygon:[].concat(C,S,["clipPath","marker","mask","script","style"]),polyline:[].concat(C,S,["clipPath","marker","mask","script","style"]),radialGradient:[].concat(C,["script","stop","style"]),rect:[].concat(C,S,["clipPath","marker","mask","script","style"]),script:["#text"],solidcolor:[].concat(C,["script","style"]),stop:[].concat(C,["script","style"]),style:["#text"],svg:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),symbol:[].concat(C,S,g,_,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),text:[].concat(C,S,["a","clipPath","marker","mask","script","style","tspan","textPath","#text"]),textPath:[].concat(C,S,["a","clipPath","marker","mask","script","style","tspan","#text"]),tspan:[].concat(C,S,["a","script","style","tspan","#text"]),use:[].concat(C,S,["clipPath","mask","script","style"]),view:[].concat(C,["script","style"])},N=[{name:"alignment-baseline",presentationAttributeName:"alignment-baseline",initialValue:"baseline",values:[{type:"token",tokens:["baseline","text-bottom","alphabetic","ideographic","middle","central","mathematical","text-top","bottom","center","top","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"baseline-shift",presentationAttributeName:"baseline-shift",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["sub","super","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"clip-path",presentationAttributeName:"clip-path",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["fill-box","stroke-box","view-box","none","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"clip-rule",presentationAttributeName:"clip-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(w,["use"]),animatable:!1,inheritable:!0},{name:"color",presentationAttributeName:"color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),animatable:!0,inheritable:!0},{name:"color-interpolation",presentationAttributeName:"color-interpolation",initialValue:"sRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"color-interpolation-filters",presentationAttributeName:"color-interpolation-filters",initialValue:"linearRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(O),animatable:!1,inheritable:!0},{name:"color-rendering",presentationAttributeName:"color-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"cursor",presentationAttributeName:"cursor",initialValue:"auto",values:[{type:"url"},{type:"token",tokens:["context-menu","help","pointer","progress","wait ","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out ","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),animatable:!1,inheritable:!0},{name:"direction",initialValue:"ltr",values:[{type:"token",tokens:["ltr","rtl","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],presentationAttributeName:"direction",animatable:!1,inheritable:!0},{name:"display",presentationAttributeName:"display",initialValue:"inline",values:[{type:"token",tokens:["none","inline","block","inherit","initial","unset"]}],appliesTo:[].concat(w,["textPath","tspan","svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"dominant-baseline",presentationAttributeName:"dominant-baseline",initialValue:"auto",values:[{type:"token",tokens:["auto","use-script","no-change","reset-size","ideographic","alphabetic","hanging","mathematical","central","middle","text-after-edge","text-before-edge","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"fill",presentationAttributeName:"fill",initialValue:"#000",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"fill-opacity",presentationAttributeName:"fill-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"fill-rule",presentationAttributeName:"fill-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"filter",presentationAttributeName:"filter",initialValue:"none",values:[{type:"filter-function-list"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w,["textPath","tspan","g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"flood-color",presentationAttributeName:"flood-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"flood-opacity",presentationAttributeName:"flood-opacity",initialValue:"1",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"font",presentationAttributeName:"font",initialValue:null,values:[{type:"font"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-family",presentationAttributeName:"font-family",initialValue:null,values:[{type:"font-family"},{type:"token",tokens:["cursive","fantasy","monospace","sans-serif","serif","system-ui","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-size",presentationAttributeName:"font-size",initialValue:"medium",values:[{type:"token",tokens:["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller","inherit","initial","unset"]},{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-stretch",presentationAttributeName:"font-stretch",initialValue:"normal",values:[{type:"token",tokens:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-style",presentationAttributeName:"font-style",initialValue:"normal",values:[{type:"token",tokens:["normal","italic","oblique","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-variant",presentationAttributeName:"font-variant",initialValue:"normal",values:[{type:"token",tokens:["normal","small-caps","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-weight",presentationAttributeName:"font-weight",initialValue:"normal",values:[{type:"token",tokens:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"image-rendering",presentationAttributeName:"image-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:["image"],animatable:!0,inheritable:!0},{name:"isolation",presentationAttributeName:null,initialValue:"auto",values:[{type:"token",tokens:["isolate","auto","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"letter-spacing",presentationAttributeName:"letter-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"lighting-color",presentationAttributeName:"lighting-color",initialValue:"#fff",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feDiffuseLighting","feSpecularLighting"],animatable:!0,inheritable:!1},{name:"line-height",presentationAttributeName:"line-height",initialValue:"normal",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!0},{name:"marker",presentationAttributeName:"marker",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"marker-start",presentationAttributeName:"marker-start",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"marker-mid",presentationAttributeName:"marker-mid",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"marker-end",presentationAttributeName:"marker-end",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"mask",presentationAttributeName:"mask",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w,["g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"mix-blend-mode",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"opacity",presentationAttributeName:"opacity",initialValue:"1",values:[{type:"number"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!0,inheritable:!1},{name:"overflow",presentationAttributeName:"overflow",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","scroll","auto","inherit","initial","unset"]}],appliesTo:["svg","symbol","pattern","marker","image"],inheritable:!1,animatable:!0},{name:"paint-order",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal"]},{type:"token-list",tokens:["fill","stroke","markers"]}],appliesTo:[].concat(k),inheritable:!0,animatable:!0},{name:"pointer-events",presentationAttributeName:"pointer-events",initialValue:"auto",values:[{type:"token",tokens:["bounding-box","visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit","initial","unset"]}],appliesTo:[].concat(w,["svg","g","a","use"]),inheritable:!0,animatable:!0},{name:"shape-rendering",presentationAttributeName:"shape-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit","initial","unset"]}],appliesTo:[].concat(g),animatable:!0,inheritable:!0},{name:"stop-color",presentationAttributeName:"stop-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stop-opacity",presentationAttributeName:"stop-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stroke",presentationAttributeName:"stroke",initialValue:"none",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-dasharray",presentationAttributeName:"stroke-dasharray",initialValue:"none",values:[{type:"dasharray"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-dashoffset",presentationAttributeName:"stroke-dashoffset",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-linecap",presentationAttributeName:"stroke-linecap",initialValue:"butt",values:[{type:"token",tokens:["butt","round","square","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-linejoin",presentationAttributeName:"stroke-linejoin",initialValue:"miter",values:[{type:"token",tokens:["miter","round","bevel","inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-miterlimit",presentationAttributeName:"stroke-miterlimit",initialValue:"4",values:[{type:"number",min:1},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-opacity",presentationAttributeName:"stroke-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"stroke-width",presentationAttributeName:"stroke-width",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(k),animatable:!0,inheritable:!0},{name:"text-anchor",presentationAttributeName:"text-anchor",initialValue:"start",values:[{type:"token",tokens:["start","middle","end","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"text-decoration",presentationAttributeName:"text-decoration",initialValue:"none",values:[{type:"token-list",tokens:["underline","overline","line-through"]},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!1},{name:"text-rendering",presentationAttributeName:"text-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit","initial","unset"]}],appliesTo:["text"],animatable:!0,inheritable:!0},{name:"text-transform",presentationAttributeName:null,initialValue:"none",values:[{type:"token",tokens:["capitalize","uppercase","lowercase","none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!0},{name:"unicode-bidi",presentationAttributeName:"unicode-bidi",initialValue:"normal",values:[{type:"token",tokens:["normal","embed","bidi-override","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!1},{name:"vector-effect",presentationAttributeName:"vector-effect",initialValue:"none",values:[{type:"token",tokens:["non-scaling-stroke","none","inherit","initial","unset"]}],appliesTo:[].concat(w,["use"]),animatable:!0,inheritable:!1},{name:"visibility",presentationAttributeName:"visibility",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","inherit","initial","unset"]}],appliesTo:[].concat(w,["text","textPath","tspan"]),animatable:!0,inheritable:!0},{name:"word-spacing",presentationAttributeName:"word-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"white-space",presentationAttributeName:"white-space",initialValue:"normal",values:[{type:"token",tokens:["normal","pre","nowrap","pre-wrap","pre-line","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"writing-mode",presentationAttributeName:"writing-mode",initialValue:"horizontal-tb",values:[{type:"token",tokens:["horizontal-tb","vertical-lr","vertical-rl","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath"],animatable:!1,inheritable:!0}],j=N.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;}),V=function V(t){var e=null;if(P.includes(t.localName)){var _i2=getComputedStyle(t).clipPath;if(_i2){var _s2=_i2.substring(6,_i2.length-2),_n2=Ii(t).querySelector("#"+CSS.escape(_s2))||null;_n2&&"clipPath"===_n2.localName&&(e=_n2);}}return e;},H=function H(t){var e=null;if(z.includes(t.localName)){var _i3=getComputedStyle(t).mask;if(_i3){var _s3=_i3.substring(6,_i3.length-2),_n3=Ii(t).querySelector("#"+CSS.escape(_s3))||null;_n3&&"mask"===_n3.localName&&(e=_n3);}}return e;},W=Number.isFinite,Y=Number.isNaN,q=Number.parseFloat,X=function X(t){return!Y(t)&&"number"==typeof t;},Z=Math.sqrt;var K="Invalid argument passed to Vector contstructor";var Q=/*#__PURE__*/function(){function Q(){_classCallCheck(this,Q);for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key];}if(0===t.length)this.x=0,this.y=0;else if(1===t.length){if(!X(t[0].x)||!X(t[0].y))throw new Error(K);this.x=t[0].x,this.y=t[0].y;}else{if(2!==t.length)throw new Error(K);if(X(t[0])&&X(t[1]))this.x=t[0],this.y=t[1];else{if(!(t[0]instanceof DOMPoint&&t[1]instanceof DOMPoint))throw new Error(K);{var _e2=t[0],_i4=t[1];this.x=_i4.x-_e2.x,this.y=_i4.y-_e2.y;}}}}_createClass(Q,[{key:"getNormalVector",value:function getNormalVector(){return new Q(-this.y,this.x);}},{key:"getOppositeVector",value:function getOppositeVector(){return new Q(-this.x,-this.y);}},{key:"negate",value:function negate(){return this.multiply(-1);}},{key:"multiply",value:function multiply(t){return new Q(this.x*t,this.y*t);}},{key:"multiplySelf",value:function multiplySelf(t){return this.x=this.x*t,this.y=this.y*t,this;}},{key:"divide",value:function divide(t){return new Q(this.x/t,this.y/t);}},{key:"divideSelf",value:function divideSelf(t){return this.x=this.x/t,this.y=this.y/t,this;}},{key:"normalize",value:function normalize(){return 0===this.length?new Q(this):new Q(this.x/this.length,this.y/this.length);}},{key:"scale",value:function scale(t){return 0===this.length?new Q(this):(t/=this.length,new Q(this.x*t,this.y*t));}},{key:"transformPoint",value:function transformPoint(t){return new DOMPoint(t.x+this.x,t.y+this.y);}},{key:"transformRect",value:function transformRect(t){return new DOMRect(t.x+this.x,t.y+this.y,t.width,t.height);}},{key:"matrixTransform",value:function matrixTransform(t){var e=new DOMPoint(0,0).matrixTransform(t),i=new DOMPoint(this.x,this.y).matrixTransform(t);return new Q(e,i);}},{key:"toString",value:function toString(){return"(".concat(this.x,", ").concat(this.y,")");}},{key:"length",get:function get(){return Z(this.x*this.x+this.y*this.y);},set:function set(t){0!==this.length&&(t/=this.length,this.x=this.x*t,this.y=this.y*t);}}],[{key:"fromVector",value:function fromVector(t){return new Q(t.x,t.y);}}]);return Q;}();var J=function J(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Math.pow(10,e);return Math.round((t+Number.EPSILON)*i)/i;},tt=function tt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=J(t,s)),t<e?t=e:t>i&&(t=i),t;},et=function et(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e?t.every(function(e,i){return 0===i||t[i-1]<=e;}):t.every(function(e,i){return 0===i||t[i-1]<e;});},it=Math.pow,st=document.createElementNS("http://www.w3.org/2000/svg","path"),nt=function nt(t){return st.setPathData(t),st.getAttribute("d");},ot=function ot(t){return st.setAttribute("d",t),st.getPathData();},lt=function lt(t){return st.setPathData(t),st.getPathData({normalize:!0});},at=function at(t){if(!t.find(function(t){return"C"===t.type||"L"===t.type;}))return[];var e=[],i=null,s=0,n=0,o=0,l=0;var _iterator=_createForOfIteratorHelper(t),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _a2=_step.value;if("M"===_a2.type)"M"===i&&e.pop(),e.push(_a2),s=_a2.values[0],n=_a2.values[1],o=_a2.values[0],l=_a2.values[1];else if("L"===_a2.type){if("Z"===i)e.push({type:"M",values:[o,l]});else if(_a2.values[0]===s&&_a2.values[1]===n)continue;e.push(_a2),s=_a2.values[0],n=_a2.values[1];}else"C"===_a2.type?("Z"===i&&e.push({type:"M",values:[o,l]}),e.push(_a2),s=_a2.values[4],n=_a2.values[5]):"Z"===_a2.type&&(s===o&&n===l||e.push({type:"L",values:[o,l]}),e.push(_a2),s=o,n=l);i=_a2.type;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return e;},ht=function ht(t){return t.map(function(t){return{type:t.type,values:_toConsumableArray(t.values)};});},rt=function rt(t){var e=[],i=[];var _iterator2=_createForOfIteratorHelper(t),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s4=_step2.value;"C"===_s4.type||"L"===_s4.type?i.push(_s4):"M"===_s4.type?(i.length>0&&(e.push(i),i=[]),i.push(_s4)):"Z"===_s4.type&&(i.push(_s4),e.push(i),i=[]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return i.length>0&&e.push(i),e;},dt=function dt(t){var e=at(t.getPathData({normalize:!0})),i=rt(e);var _iterator3=_createForOfIteratorHelper(i),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _t2=_step3.value;var _e3=ct(_t2);_t2.length=0,_t2.push.apply(_t2,_toConsumableArray(_e3));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}i.reverse(),e=[];var _iterator4=_createForOfIteratorHelper(i),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _t3=_step4.value;var _iterator5=_createForOfIteratorHelper(_t3),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _i5=_step5.value;e.push(_i5);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}t.setPathData(e);},ct=function ct(t){var e=(t=ht(t))[0],i=[],s=null;for(var _e4=1;_e4<t.length;_e4+=1){var _n4=t[_e4];"Z"===_n4.type?s=_n4:i.push(_n4);}var n=e.values[0],o=e.values[1];"C"===i[i.length-1].type?(e.values[0]=i[i.length-1].values[4],e.values[1]=i[i.length-1].values[5]):(e.values[0]=i[i.length-1].values[0],e.values[1]=i[i.length-1].values[1]);for(var _i7=0,_i6=i;_i7<_i6.length;_i7++){var _t4=_i6[_i7];if("L"===_t4.type){var _t4$values=_slicedToArray(_t4.values,2),_e5=_t4$values[0],_i8=_t4$values[1];_t4.values=[n,o],n=_e5,o=_i8;}else if("C"===_t4.type){var _t4$values2=_slicedToArray(_t4.values,6),_e6=_t4$values2[0],_i9=_t4$values2[1],_s5=_t4$values2[2],_l2=_t4$values2[3],_a3=_t4$values2[4],_h2=_t4$values2[5];_t4.values=[_s5,_l2,_e6,_i9,n,o],n=_a3,o=_h2;}}i.reverse();var l=[];l.push(e);for(var _i11=0,_i10=i;_i11<_i10.length;_i11++){var _t5=_i10[_i11];l.push(_t5);}return s&&l.push(s),l;},pt=function pt(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator6=_createForOfIteratorHelper(rt(e)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _t6=_step6.value;"Z"===_t6[_t6.length-1].type&&_t6.pop();var _iterator7=_createForOfIteratorHelper(_t6),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e7=_step7.value;i.push(_e7);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}t.setPathData(i);},ut=function ut(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator8=_createForOfIteratorHelper(rt(e)),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _t7=_step8.value;if(_t7.length>1){"Z"!==_t7[_t7.length-1].type&&_t7.push({type:"Z",values:[]});}var _iterator9=_createForOfIteratorHelper(_t7),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _e8=_step9.value;i.push(_e8);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}t.setPathData(i);},xt=function xt(t){var e=t.getPathData({normalize:!0});var _iterator10=_createForOfIteratorHelper(rt(e)),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t8=_step10.value;if("Z"===_t8[_t8.length-1].type)return!0;}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return!1;},bt=function bt(t){var e=t.getPathData({normalize:!0});var _iterator11=_createForOfIteratorHelper(rt(e)),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _t9=_step11.value;if(_t9.length>1){if("Z"!==_t9[_t9.length-1].type)return!0;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return!1;},mt=function mt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=nt(at(lt(t))),n=((s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s)).offsetStroke(e/2),o=[];if(n){var _t10=n.exportSVG().getAttribute("d");o=ot(_t10),o=lt(o);var _iterator12=_createForOfIteratorHelper(o),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _t11=_step12.value;_t11.values=_t11.values.map(function(t){return J(t,i);});}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}return o;},gt=function gt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=nt(at(lt(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);for(var _t12=1;_t12<=i;_t12+=1){o=o.offset(e);}var l=ot(o.exportSVG().getAttribute("d"));l=lt(l);var _iterator13=_createForOfIteratorHelper(l),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _t13=_step13.value;_t13.values=_t13.values.map(function(t){return J(t,s);});}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return l;},ft=function ft(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=nt(at(lt(t))),n=(s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s);n.simplify(e);var o=ot(n.exportSVG().getAttribute("d"));o=lt(o);var _iterator14=_createForOfIteratorHelper(o),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _t14=_step14.value;_t14.values=_t14.values.map(function(t){return J(t,i);});}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return o;},wt=function wt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var i=nt(at(lt(t))),s=(i.match(/M/g)||[]).length>1?new paper.CompoundPath(i):new paper.Path(i);for(var _i12=0,_arr2=_toConsumableArray(s.curves);_i12<_arr2.length;_i12++){var _t15=_arr2[_i12];_t15.divideAt(new paper.CurveLocation(_t15,.5));}t=ot(s.exportSVG().getAttribute("d")),t=lt(t);var _iterator15=_createForOfIteratorHelper(t),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _i13=_step15.value;_i13.values=_i13.values.map(function(t){return J(t,e);});}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return t;},vt=function vt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"catmull-rom";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.4;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=nt(at(lt(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);o.smooth({type:e,factor:i});var l=ot(o.exportSVG().getAttribute("d"));l=lt(l);var _iterator16=_createForOfIteratorHelper(l),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _t16=_step16.value;_t16.values=_t16.values.map(function(t){return J(t,s);});}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return l;},yt=function yt(t,e){var i=t.getTotalLength(),s=i/t.getPathData().length*.125,n=null,o=null,l=Infinity,a=function a(t){return it(t.x-e.x,2)+it(t.y-e.y,2);};for(var _e9=0;_e9<=i;_e9+=s){var _i14=DOMPoint.fromPoint(t.getPointAtLength(_e9)),_s6=a(_i14);_s6<l&&(n=_i14,o=_e9,l=_s6);}for(s*=.5;s>.5;){var _e10=o-s,_h3=DOMPoint.fromPoint(t.getPointAtLength(_e10)),_r2=a(_h3);if(_e10>=0&&_r2<l)n=_h3,o=_e10,l=_r2;else{var _e11=o+s,_h4=DOMPoint.fromPoint(t.getPointAtLength(_e11)),_r3=a(_h4);_e11<=i&&_r3<l?(n=_h4,o=_e11,l=_r3):s*=.5;}}return[n,o,l];},kt=function kt(t,e){var i=[],s=[];var _iterator17=_createForOfIteratorHelper(e),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _t17=_step17.value;"C"===_t17.type||"L"===_t17.type?s.push(_t17):"M"===_t17.type?(s.length>0&&(i.push(s),s=[]),s.push(_t17)):"Z"===_t17.type&&(s.push(_t17),i.push(s),s=[]);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}return s.length>0&&i.push(s),i.find(function(e){return e.includes(t);})||null;},St=function St(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var s="sharp";if(t&&e&&"C"===t.type&&"C"===e.type){var _n5=new DOMPoint(t.values[4],t.values[5]),_o2=new DOMPoint(e.values[0],e.values[1]),_l3=new DOMPoint(t.values[2],t.values[3]);if(!1===De(_n5,_o2)&&!1===De(_n5,_l3)&&!0===Oe(_o2,_n5,_l3,i)){var _t18=new Q(_n5,_o2),_e12=new Q(_n5,_l3);s=J(_t18.length,2)===J(_e12.length,2)?"symmetric-smooth":"smooth";}}return s;},Ct=function Ct(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(e.values[4],e.values[5]),n=new DOMPoint(t.values[0],t.values[1]),o=new DOMPoint(e.values[2],e.values[3]),l=new Q(s,n),a=new Q(s,o),h=l.getOppositeVector();!1===i&&(h.length=a.length),e.values[2]=s.x+h.x,e.values[3]=s.y+h.y;},_t=function _t(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(t.values[4],t.values[5]),n=new DOMPoint(t.values[2],t.values[3]),o=new DOMPoint(e.values[0],e.values[1]),l=new Q(s,n),a=new Q(s,o),h=l.getOppositeVector();!1===i&&(h.length=a.length),e.values[0]=s.x+h.x,e.values[1]=s.y+h.y;},Mt=function Mt(t,e,i){var s;"M"===t.type||"L"===t.type?s=new DOMPoint(t.values[0],t.values[1]):"C"===t.type&&(s=new DOMPoint(t.values[4],t.values[5]));var n=new DOMPoint(i.values[4],i.values[5]),o=new DOMPoint(e.values[4],e.values[5]),l=new Q(o,s),a=new Q(o,n),h=l.length/a.length,r=new Q(h*a.x-l.x,h*a.y-l.y).normalize();e.values[2]=o.x+-r.x*(l.length/3),e.values[3]=o.y+-r.y*(l.length/3),i.values[0]=o.x+r.x*(a.length/3),i.values[1]=o.y+r.y*(a.length/3);},Pt=function Pt(t){var e=null;var _iterator18=_createForOfIteratorHelper(t),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _i15=_step18.value;if("L"===_i15.type){var _i15$values=_slicedToArray(_i15.values,2),_t19=_i15$values[0],_s7=_i15$values[1],_n6="C"===e.type?e.values[4]:e.values[0],_o3="C"===e.type?e.values[5]:e.values[1];_i15.type="C",_i15.values=[_n6,_o3,_t19,_s7,_t19,_s7];}e=_i15;}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}},Dt=function Dt(t){var e=null;var _iterator19=_createForOfIteratorHelper(t),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _i16=_step19.value;if("C"===_i16.type){var _i16$values=_slicedToArray(_i16.values,6),_t20=_i16$values[0],_s8=_i16$values[1],_n7=_i16$values[2],_o4=_i16$values[3],_l4=_i16$values[4],_a4=_i16$values[5],_h5="C"===e.type?e.values[4]:e.values[0],_r4="C"===e.type?e.values[5]:e.values[1];_t20===_h5&&_s8===_r4&&_n7===_l4&&_o4===_a4&&(_i16.type="L",_i16.values=[_l4,_a4]);}e=_i16;}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}},zt=function zt(t,e){var i=kt(t,e);return"Z"===i[i.length-1].type;},Ot=function Ot(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i;if((t.match(/M/g)||[]).length>1){if(i=new paper.CompoundPath(t),e){var _iterator20=_createForOfIteratorHelper(i.children),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t21=_step20.value;_t21.closed||_t21.closePath();}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}else i=new paper.Path(t),e&&(i.closed||i.closePath());return i;};var Et=/*#__PURE__*/function(){function Et(t){_classCallCheck(this,Et);this._=t,this.currentToken=null,this.position=0;}_createClass(Et,[{key:"read",value:function read(){var t=this._[this.position];return this.currentToken=t,"EOF"===t.tokenType||(this.position+=1),t;}},{key:"reset",value:function reset(t){this.position=t;}}]);return Et;}();var _window=window,Tt=_window.tokenize,At=_window.EOFToken;var $t=/*#__PURE__*/function(){_createClass($t,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"unit",get:function get(){return this._e;},set:function set(t){this._e=t;}},{key:"isAbsolute",get:function get(){return a.includes(this.unit);}},{key:"type",get:function get(){return"<length>";}}]);function $t(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"px";_classCallCheck(this,$t);this._t=t,this._e=e;}_createClass($t,[{key:"toString",value:function toString(){return this.value+this.unit;}},{key:"toLength",value:function toLength(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"px";var e=this.unit,i=t;if(e===i)return new $t(this.value,this.unit);if(!1===a.includes(e)||!1===a.includes(i))throw new DOMException("Can't convert relative <length> units.","OperationError");{this.value;var _t22=null,_s9=null;return"px"===e?_s9=this.value:"cm"===e?_s9=this._t*(96/2.54):"mm"===e?_s9=this._t*(96/2.54/10):"in"===e?_s9=96*this._t:"pt"===e?_s9=this._t*(96/72):"pc"===e?_s9=16*this._t:"q"===e&&(_s9=this._t*(96/2.54/40)),"px"===i?_t22=_s9:"cm"===i?_t22=_s9/(96/2.54):"mm"===i?_t22=_s9/(96/2.54/10):"in"===i?_t22=_s9/96:"pt"===i?_t22=_s9/(96/72):"pc"===i?_t22=_s9/16:"q"===i&&(_t22=_s9/(96/2.54/40)),new $t(_t22,i);}}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Tt(t)),[new At()]),s=new Et(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"DIMENSION"===s.currentToken.tokenType){var _s$currentToken=s.currentToken,_t23=_s$currentToken.value,_i17=_s$currentToken.unit;if(!1===r.includes(_i17)){if(e)throw new DOMException("Unknown unit identifier \"".concat(_i17,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new $t(_t23,_i17);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException("Expected DIMENSION token.","SyntaxError");return null;}}]);return $t;}();var _window2=window,It=_window2.tokenize,Lt=_window2.EOFToken;var Bt=/*#__PURE__*/function(){_createClass(Bt,[{key:"align",get:function get(){return this._i;},set:function set(t){this._i=t;}},{key:"meetOrSlice",get:function get(){return this._s;},set:function set(t){this._s=t;}},{key:"type",get:function get(){return"<preserve-aspect-ratio>";}}]);function Bt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"xMidYMid";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"meet";_classCallCheck(this,Bt);this._i=t,this._s=e;}_createClass(Bt,[{key:"toString",value:function toString(){return"meet"===this.meetOrSlice?"".concat(this.align):"".concat(this.align," ").concat(this.meetOrSlice);}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(It(t)),[new Lt()]),s=new Et(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _t24=s.currentToken.value;if(!1===d.includes(_t24)){if(e)throw new DOMException("Unknown align value \"".concat(_t24,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Bt(_t24,"meet");if("IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _i18=s.currentToken.value;if("meet"!==_i18&&"slice"!==_i18){if(e)throw new DOMException("Unknown meetOrSlice value \"".concat(_i18,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Bt(_t24,_i18);}}}}]);return Bt;}();var _window3=window,Rt=_window3.tokenize,Gt=_window3.EOFToken;var Ut=/*#__PURE__*/function(){_createClass(Ut,[{key:"type",get:function get(){return"<view-box>";}},{key:"x",get:function get(){return this.Gs;},set:function set(t){this.Gs=t;}},{key:"y",get:function get(){return this.Us;},set:function set(t){this.Us=t;}},{key:"width",get:function get(){return this.Fs;},set:function set(t){this.Fs=t;}},{key:"height",get:function get(){return this.Ns;},set:function set(t){this.Ns=t;}}]);function Ut(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Ut);this.x=t,this.y=e,this.width=i,this.height=s;}_createClass(Ut,[{key:"toString",value:function toString(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height);}},{key:"toRect",value:function toRect(){return new DOMRect(this.x,this.y,this.width,this.height);}}],[{key:"fromRect",value:function fromRect(t){return new Ut(t.x,t.y,t.width,t.height);}},{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,n,o,l=[].concat(_toConsumableArray(Rt(t)),[new Gt()]),a=new Et(l);if(a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"NUMBER"!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(i=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"NUMBER"!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(s=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),!("NUMBER"===a.currentToken.tokenType&&a.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(n=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),!("NUMBER"===a.currentToken.tokenType&&a.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(o=a.currentToken.value,a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"EOF"===a.currentToken.tokenType)return new Ut(i,s,n,o);if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}}]);return Ut;}();var Ft=function Ft(t,e){return t.is2D?new DOMMatrix([J(t.a,e),J(t.b,e),J(t.c,e),J(t.d,e),J(t.e,e),J(t.f,e)]):new DOMMatrix([J(t.m11,e),J(t.m12,e),J(t.m13,e),J(t.m14,e),J(t.m21,e),J(t.m22,e),J(t.m23,e),J(t.m24,e),J(t.m31,e),J(t.m32,e),J(t.m33,e),J(t.m34,e),J(t.m41,e),J(t.m42,e),J(t.m43,e),J(t.m44,e)]);},Nt=Math.abs,jt=Math.tan,Vt=Number.parseFloat,Ht=function Ht(t){var e=null;return e="linearGradient"===t.localName||"radialGradient"===t.localName?t.gradientTransform.baseVal.consolidate():"pattern"===t.localName?t.patternTransform.baseVal.consolidate():t.transform.baseVal.consolidate(),e?DOMMatrix.fromMatrix(e.matrix):new DOMMatrix();},Wt=function Wt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s;if(!1===i)s=DOMMatrix.fromMatrix(e.getScreenCTM().inverse().multiply(t.getScreenCTM()));else{var _i19=null,_n8=!1,_o5=null,_l5=!1;if("path"===t.localName){var _e13=t.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(t.id),"\"]"));_i19=_e13?_e13.closest("text"):null,_n8=!!_e13&&null!==t.closest("defs");}if("path"===e.localName){var _i20=t.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(e.id),"\"]"));_o5=_i20?_i20.closest("text"):null,_l5=!!_i20&&null!==e.closest("defs");}s=_n8&&_l5?Yt(_o5).multiply(Ht(e)).inverse().multiply(Yt(_i19)).multiply(Ht(t)):_n8?Yt(e).inverse().multiply(Yt(_i19)).multiply(Ht(t)):_l5?Yt(_o5).multiply(Ht(e)).inverse().multiply(Yt(t)):Yt(e).inverse().multiply(Yt(t));}return s;},Yt=function Yt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i;if(!1===e)i=DOMMatrix.fromMatrix(t.getScreenCTM());else{var _e14=null,_s10=!1;if("path"===t.localName){var _i21=t.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(t.id),"\"]"));_e14=_i21?_i21.closest("text"):null,_s10=!!_i21&&null!==t.closest("defs");}i=_s10?Yt(_e14).multiply(Ht(t)):DOMMatrix.fromMatrix(t.getScreenCTM());}return i;},qt=function qt(t,e,i,s,n,o){var l=function l(t){return t[0][0]*(t[1][1]*t[2][2]-t[1][2]*t[2][1])-t[0][1]*(t[1][0]*t[2][2]-t[1][2]*t[2][0])+t[0][2]*(t[1][0]*t[2][1]-t[1][1]*t[2][0]);},a=l([[t.x,t.y,1],[e.x,e.y,1],[i.x,i.y,1]]),h=l([[s.x,t.y,1],[n.x,e.y,1],[o.x,i.y,1]]),r=l([[s.y,t.y,1],[n.y,e.y,1],[o.y,i.y,1]]),d=l([[t.x,s.x,1],[e.x,n.x,1],[i.x,o.x,1]]),c=l([[t.x,s.y,1],[e.x,n.y,1],[i.x,o.y,1]]),p=l([[t.x,t.y,s.x],[e.x,e.y,n.x],[i.x,i.y,o.x]]),u=l([[t.x,t.y,s.y],[e.x,e.y,n.y],[i.x,i.y,o.y]]);return 0===a?new DOMMatrix([1,0,0,1,0,0]):new DOMMatrix([h/a,r/a,d/a,c/a,p/a,u/a]);},Xt=function Xt(t,e){var i=new DOMPoint(t.x,t.y),s=new DOMPoint(t.x+t.width,t.y),n=new DOMPoint(t.x,t.y+t.height),o=new DOMPoint(e.x,e.y),l=new DOMPoint(e.x+e.width,e.y),a=new DOMPoint(e.x,e.y+e.height);return qt(i,s,n,o,l,a);},Zt=function Zt(t){var e=new DOMMatrix(),i=null;if(t.hasAttribute("viewBox")&&(i=Ut.fromString(t.getAttribute("viewBox"))),i){var _s11=$t.fromString(t.style.width||t.getAttribute("width")||""),_n9=$t.fromString(t.style.height||t.getAttribute("height")||"");if(_s11&&_n9&&h[_s11.unit]&&h[_n9.unit]){var _o6=Bt.fromString(t.getAttribute("preserveAspectRatio")||"xMidYMid meet");_s11.value*=h[_s11.unit],_n9.value*=h[_n9.unit];var _l6=_s11.value/i.width,_a5=_n9.value/i.height;"none"!==_o6.align&&"meet"===_o6.meetOrSlice?_l6>_a5?_l6=_a5:_a5>_l6&&(_a5=_l6):"none"!==_o6.align&&"slice"===_o6.meetOrSlice&&(_l6<_a5?_l6=_a5:_a5<_l6&&(_a5=_l6));var _r5=0-i.x*_l6,_d2=0-i.y*_a5;_o6.align.includes("xMid")&&(_r5+=(_s11.value-i.width*_l6)/2),_o6.align.includes("xMax")&&(_r5+=_s11.value-i.width*_l6),_o6.align.includes("YMid")&&(_d2+=(_n9.value-i.height*_a5)/2),_o6.align.includes("YMax")&&(_d2+=_n9.value-i.height*_a5),e.translateSelf(_r5,_d2),e.scaleSelf(_l6,_a5);}}return e;},Kt=function Kt(t,e){var i=new DOMMatrix();if(""===t&&(t="px"),""===e&&(e="px"),t!==e){var _s12=1;if("px"===t)_s12=1;else if("cm"===t)_s12=96/2.54*1;else if("mm"===t)_s12=96/2.54/10*1;else if("in"===t)_s12=96;else if("pt"===t)_s12=96/72*1;else if("pc"===t)_s12=16;else{if("q"!==t)throw new Error("Can't transform relative units.","OperationError");_s12=96/2.54/40*1;}if("px"===e)_s12/=1;else if("cm"===e)_s12/=96/2.54;else if("mm"===e)_s12/=96/2.54/10;else if("in"===e)_s12/=96;else if("pt"===e)_s12/=96/72;else if("pc"===e)_s12/=16;else{if("q"!==e)throw new Error("Can't transform relative units.","OperationError");_s12/=96/2.54/40;}i.scaleSelf(_s12,_s12);}return i;},Qt=function Qt(t){var e,i;if(t.hasAttribute("data-bx-origin")){var _s13=t.getAttribute("data-bx-origin").split(" ");e=Vt(_s13[0]),i=Vt(_s13[1]);}else e=.5,i=.5;return new DOMPoint(e,i);},Jt=function Jt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;var s=J(e.x,i),n=J(e.y,i);t.setAttribute("data-bx-origin","".concat(s," ").concat(n));},te=function te(t){var e=Oi(t),i=Qt(t);return re(i,e);},ee=function ee(t){var e=Yt(t);return te(t).matrixTransform(e);},ie=function ie(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.map(function(t){return ee(t);}),s=i[0],n=!0;var _iterator21=_createForOfIteratorHelper(i),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var _t25=_step21.value;if(Ee(_t25,s)>3){n=!1;break;}}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}var o=null;if(n){if(e){var _e15=t.map(function(t){return Ei(t);}),_s14=He(_e15);o=new DOMPoint((i[0].x-_s14.x)/_s14.width,(i[0].y-_s14.y)/_s14.height);}else o=i[0];}else if(e)o=new DOMPoint(.5,.5);else{var _e16=t.map(function(t){return Ei(t);}),_i22=He(_e16);o=new DOMPoint(_i22.x+_i22.width/2,_i22.y+_i22.height/2);}return o;},se=function se(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=0;if(y.includes(t.localName)){Yt(t).inverse();null===e&&(e=te(t));var _s15=e.matrixTransform(Yt(t)),_n10=(Oi(t),_s15),_o7=new DOMPoint(_s15.x-100,_s15.y),_l7=new DOMPoint(e.x-100,e.y).matrixTransform(Yt(t));i=Re(_n10,_o7,_l7);}return i;},ne=function ne(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=se(t),o=Ht(t),l=Yt(t),a=l.inverse();null===s&&(s=te(t));var h=s.matrixTransform(l),r=DOMMatrix.fromMatrix(o);r.multiplySelf(a),r.translateSelf(h.x,h.y),r.rotateSelf(-n+e),r.translateSelf(-h.x,-h.y),r.multiplySelf(l),null!==i&&(r=Ft(r,i)),!1===r.isIdentity?t.setAttribute("transform",r.toString()):t.removeAttribute("transform");},oe=function oe(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var s=lt(t);var _iterator22=_createForOfIteratorHelper(s),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _t26=_step22.value;if("M"===_t26.type||"L"===_t26.type){var _i23=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e);_t26.values=[_i23.x,_i23.y];}else if("C"===_t26.type){var _i24=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e),_s16=new DOMPoint(_t26.values[2],_t26.values[3]).matrixTransform(e),_n11=new DOMPoint(_t26.values[4],_t26.values[5]).matrixTransform(e);_t26.values=[_i24.x,_i24.y,_s16.x,_s16.y,_n11.x,_n11.y];}_t26.values=_t26.values.map(function(t){return J(t,i);});}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return s;},le=function le(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=DOMMatrix.fromMatrix(t),l=Ne(e),a=Ne(i),h=new DOMMatrix();return h=ae(h,jt(l),jt(a)),o=he(o,s,n),o.multiplySelf(h),o=he(o,-s,-n),o;},ae=function ae(t,e,i){var s=DOMMatrix.fromMatrix(t),n=s.a,o=s.b;return s.a+=i*s.c,s.b+=i*s.d,s.c+=e*n,s.d+=e*o,s;},he=function he(t,e,i){var s=DOMMatrix.fromMatrix(t);return s.e=s.e+e*s.a+i*s.c,s.f=s.f+e*s.b+i*s.d,s;},re=function re(t,e){return new DOMPoint(e.x+t.x*e.width,e.y+t.y*e.height);},de=function de(t,e){return new DOMPoint(0===e.width?0:(t.x-e.x)/e.width,0===e.height?0:(t.y-e.y)/e.height);},ce=Math.atan2,pe=function pe(t,e){return t.x*e.x+t.y*e.y;},ue=function ue(t,e){return new Q(t.x-e.x,t.y-e.y);},xe=function xe(t,e){return new Q(t.x+e.x,t.y+e.y);},be=function be(t,e){return Fe(ce(e.y,e.x)-ce(t.y,t.x));},me=Math.sin,ge=Math.cos,fe=Math.acos,we=Math.atan2,ve=Math.abs,ye=Math.sqrt,ke=Math.pow,Se=Math.PI,Ce=Math.min,_e=Math.max,Me=Number.isNaN,Pe=document.createElementNS("http://www.w3.org/2000/svg","svg"),De=function De(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?J(t.x,i)===J(e.x,i)&&J(t.y,i)===J(e.y,i):t.x===e.x&&t.y===e.y;},ze=function ze(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMPoint(J(t.x,e),J(t.y,e),J(t.z,e),J(t.w,e));},Oe=function Oe(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(0===s){return 0===(t.x*(e.y-i.y)+e.x*(i.y-t.y)+i.x*(t.y-e.y))/2;}{var _n12=new Q(t,e),_o8=new Q(e,i),_l8=pe(_n12,_o8),_a6=fe(_l8/(_n12.length*_o8.length));if(Me(_a6))return!0;return Fe(_a6)<s;}},Ee=function Ee(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,ye(i+s);},Te=function Te(t,e){var i=(t.x+e.x)/2,s=(t.y+e.y)/2;return new DOMPoint(i,s);},Ae=function Ae(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n,o=new DOMPoint(0,0),l=new DOMPoint(t.x,t.y),a=new DOMPoint(e.x,e.y),h=i,r=new Q(o,l),d=new Q(l,a),c=new Q(l,h),p=pe(c,d),u=pe(d,d);n=0!==u?p/u:0,!1===s&&(n<0?n=0:n>1&&(n=1));var x=xe(r,d.multiply(n));return[new DOMPoint(x.x,x.y),n];},$e=function $e(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.5;var s=e.x-t.x,n=e.y-t.y;return new DOMPoint(t.x+i*s,t.y+i*n);},Ie=function Ie(t){var e=Pe.createSVGPoint();return e.x=t.x,e.y=t.y,e;},Le=function Le(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var s=new DOMPoint(t.x,t.y-1e3),n=Re(t,s,e),o=[];for(var _t27=-180;_t27<=180;_t27+=i){o.push(_t27);}var l=Infinity;for(var _i25=0,_o9=o;_i25<_o9.length;_i25++){var _t28=_o9[_i25];var _e17=_t28-n;ve(_e17)<ve(l)&&(l=_e17);}n+=l;var a=Ne(n-90),h=Ee(t,e),r=new Q(ge(a),me(a));return r.length=h,[new DOMPoint(t.x+r.x,t.y+r.y),n];},Be=function Be(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:90;var s=new DOMPoint(t.x,t.y-1e3),n=Re(t,s,e);n+=i-n;var o=Ne(n-90),l=Ee(t,e),a=new Q(ge(o),me(o));return a.length=l,new DOMPoint(t.x+a.x,t.y+a.y);},Re=function Re(t,e,i){var s=new Q(t,e),n=new Q(t,i),o=we(n.y,n.x)-we(s.y,s.x);return Ge(Fe(o));},Ge=function Ge(t){for(;t<-180;){t+=360;}for(;t>180;){t-=360;}return t;},Ue=function Ue(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;var i=Ge(t),s=[];for(var _t29=-180;_t29<=180;_t29+=e){s.push(_t29);}return s.reduce(function(t,e){return ve(e-i)<ve(t-i)?e:t;});},Fe=function Fe(t){return t*(180/Se);},Ne=function Ne(t){return Se*t/180;},je=function je(t,e){return new DOMRect(J(t.x,e),J(t.y,e),J(t.width,e),J(t.height,e));},Ve=function Ve(t,e){var i=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)].map(function(t){return t.matrixTransform(e);}),s=i.map(function(t){return t.x;}),n=i.map(function(t){return t.y;}),o=Ce.apply(void 0,_toConsumableArray(s)),l=Ce.apply(void 0,_toConsumableArray(n)),a=_e.apply(void 0,_toConsumableArray(s)),h=_e.apply(void 0,_toConsumableArray(n));return new DOMRect(o,l,a-o,h-l);},He=function He(t){if(0===t.length)return new DOMRect(0,0,0,0);if(1===t.length){var _e18=t[0];return new DOMRect(_e18.x,_e18.y,_e18.width,_e18.height);}{var _e19=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.x;}))),_i26=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.y;}))),_s17=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.x+t.width;}))),_n13=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.y+t.height;})));return new DOMRect(_e19,_i26,_s17-_e19,_n13-_i26);}},We=function We(t,e){var i,s=function s(t,e,i,_s18){return 8&i?new DOMPoint(t.x+(e.x-t.x)*(_s18.height-t.y)/(e.y-t.y),_s18.height):4&i?new DOMPoint(t.x+(e.x-t.x)*(_s18.y-t.y)/(e.y-t.y),_s18.y):2&i?new DOMPoint(_s18.width,t.y+(e.y-t.y)*(_s18.width-t.x)/(e.x-t.x)):1&i?new DOMPoint(_s18.x,t.y+(e.y-t.y)*(_s18.x-t.x)/(e.x-t.x)):null;},n=function n(t,e){var i=0;return t.x<e.x?i|=1:t.x>e.width&&(i|=2),t.y<e.y?i|=4:t.y>e.height&&(i|=8),i;};for(var _o10=1;_o10<=8;_o10*=2){var _l9=e[e.length-1],_a7=!(n(_l9,t)&_o10);i=[];for(var _h6=0;_h6<e.length;_h6++){var _r6=e[_h6],_d3=!(n(_r6,t)&_o10);_d3!==_a7&&i.push(s(_l9,_r6,_o10,t)),_d3&&i.push(_r6),_l9=_r6,_a7=_d3;}if(!(e=i).length)break;}return i;},Ye=function Ye(t,e){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height;},qe=function qe(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;},Xe=function Xe(t,e){var _iterator23=_createForOfIteratorHelper(t),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _i28=_step23.value;if(qe(e,_i28))return _i28;}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}{var _i27=new DOMPoint(e.x+e.width/2,e.y+e.height/2),_s19=Infinity,_n14=null;var _iterator24=_createForOfIteratorHelper(t),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _e20=_step24.value;var _t30=new DOMPoint(_e20.x+_e20.width/2,_e20.y+_e20.height/2),_o11=Ee(_i27,_t30);_o11<_s19&&(_s19=_o11,_n14=_e20);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return _n14;}},Ze=function Ze(t,e,i){var s=new Q(e,t);return s.length=i,s.transformPoint(e);},Ke=function Ke(t,e,i){return Qe(t,e,new DOMPoint(i.x,i.y),new DOMPoint(i.right,i.y))||Qe(t,e,new DOMPoint(i.right,i.y),new DOMPoint(i.right,i.bottom))||Qe(t,e,new DOMPoint(i.right,i.bottom),new DOMPoint(i.x,i.bottom))||Qe(t,e,new DOMPoint(i.x,i.bottom),new DOMPoint(i.x,i.y));},Qe=function Qe(t,e,i,s){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1e-7;var o=ti(t,e,i,s);return!!o&&o.x+n>=Ce(i.x,s.x)&&o.x-n<=_e(i.x,s.x)&&o.y+n>=Ce(i.y,s.y)&&o.y-n<=_e(i.y,s.y);},Je=function Je(t,e){var i=e.y-t.y,s=t.x-e.x;return[i,s,i*t.x+s*t.y];},ti=function ti(t,e,i,s){var _Je=Je(t,e),_Je2=_slicedToArray(_Je,3),n=_Je2[0],o=_Je2[1],l=_Je2[2],_Je3=Je(i,s),_Je4=_slicedToArray(_Je3,3),a=_Je4[0],h=_Je4[1],r=_Je4[2],d=n*h-a*o,c=null;return 0!==d&&(c=new DOMPoint((h*l-o*r)/d,(n*r-a*l)/d)),c;},ei=function ei(t,e){var i=e.x,s=e.y,n=!1;for(var _e21=0,_o12=t.length-1;_e21<t.length;_o12=_e21++){var _l10=t[_e21].x,_a8=t[_e21].y,_h7=t[_o12].x,_r7=t[_o12].y;_a8>s!=_r7>s&&i<(_h7-_l10)*(s-_a8)/(_r7-_a8)+_l10&&(n=!n);}return n;},ii=function ii(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i)for(var s in t){if(t[s]!==e[s])return!1;}else{for(var n=0;n<t.length;n+=1){if(!e.includes(t[n]))return!1;}for(n=0;n<e.length;n+=1){if(!t.includes(e[n]))return!1;}}return!0;},si=function si(t){return _toConsumableArray(new Set(t));},ni=function ni(t,e){if(0===t.length)return!1;for(var i=0;i<t.length;i+=1){if(t[i]!==e)return!1;}return!0;},oi=function oi(t,e){return JSON.stringify(t)===JSON.stringify(e);},li=function li(t,e,i){return t.split(e).join(i);},ai=function ai(t){return t.replace(/(^|[\s-])(\w)/g,function(t,e,i){return e+i.toUpperCase();});},hi=function hi(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","");});},ri=function ri(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();});},di=function di(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML;},ci=function ci(t){return DOMPurify.sanitize(t,{ALLOWED_TAGS:["p","h3","h4","ul","ol","li","blockquote","figure","figcaption","pre","code","img","hr","br","a","strong","em","del","u","code","mark","#text"],ALLOWED_ATTR:["alt","data-language","data-type","hidden","href","rel","spellcheck","start","src","style","title"],ALLOW_DATA_ATTR:!1});},pi=function pi(t){var e="\xE0\xE1\xE4\xE2\xE3\xE5\xE8\xE9\xEB\xEA\xEC\xED\xEF\xEE\xF2\xF3\xF6\xF4\xF9\xFA\xFC\xFB\xF1\xE7\xDF\xFF\u0153\xE6\u0155\u015B\u0144\u1E55\u1E83\u01F5\u01F9\u1E3F\u01D8\u1E8D\u017A\u1E27\xB7/_,:;",i=new RegExp(e.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,"-").replace(i,function(t){return"aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------".charAt(e.indexOf(t));}).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");},ui=Object.keys,xi="\u200B",bi=function bi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=fi(t),s=e&&t.contains(e.commonAncestorContainer),n=s?Mi(e.startContainer,e.startOffset)[1]:-1,o=s?Mi(e.endContainer,e.endOffset)[1]:-1;if(s&&n!==o){var _t31=[];var _iterator25=_createForOfIteratorHelper(i.childItems),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e22=_step25.value;var _i29=null;if(n>=_e22.startOffset&&o<=_e22.endOffset?_i29=[_e22.textContent.slice(0,n-_e22.startOffset),_e22.textContent.slice(n-_e22.startOffset,o-_e22.startOffset),_e22.textContent.slice(o-_e22.startOffset)]:n>=_e22.startOffset&&n<_e22.endOffset?_i29=[_e22.textContent.slice(0,n-_e22.startOffset),_e22.textContent.slice(n-_e22.startOffset)]:o>_e22.startOffset&&o<=_e22.endOffset&&(_i29=[_e22.textContent.slice(0,o-_e22.startOffset),_e22.textContent.slice(o-_e22.startOffset)]),null===_i29)_t31.push(_e22);else{var _s20=_e22.startOffset,_n15=0;var _iterator26=_createForOfIteratorHelper(_i29),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _o13=_step26.value;if(_o13.length>0){var _i30={textContent:_o13,href:_e22.href,inheritableProperties:_e22.inheritableProperties,nonInheritableProperties:_e22.nonInheritableProperties,startOffset:_s20,endOffset:_s20+_o13.length,x:[],y:[],dx:[],dy:[],rotate:[]};for(var _t32=0;_t32<_o13.length;_t32+=1){_i30.x.push(_e22.x[_n15]),_i30.y.push(_e22.y[_n15]),_i30.dx.push(_e22.dx[_n15]),_i30.dy.push(_e22.dy[_n15]),_i30.rotate.push(_e22.rotate[_n15]),_n15+=1;}_t31.push(_i30),_s20+=_o13.length;}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}i.childItems=_t31;}t.removeAttribute("x"),t.removeAttribute("y"),t.removeAttribute("dx"),t.removeAttribute("dy"),t.removeAttribute("rotate"),t.setAttribute("style","");var _iterator27=_createForOfIteratorHelper(j),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e32=_step27.value;t.hasAttribute(_e32)&&t.removeAttribute(_e32);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}{var _e23=getComputedStyle(t);var _iterator28=_createForOfIteratorHelper(ui(i.rootItem.inheritableProperties)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _s21=_step28.value;_e23.getPropertyValue(_s21)!==i.rootItem.inheritableProperties[_s21]&&t.style.setProperty(_s21,i.rootItem.inheritableProperties[_s21]);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}var _iterator29=_createForOfIteratorHelper(ui(i.rootItem.nonInheritableProperties)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _s22=_step29.value;_e23.getPropertyValue(_s22)!==i.rootItem.nonInheritableProperties[_s22]&&t.style.setProperty(_s22,i.rootItem.nonInheritableProperties[_s22]);}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}{var _e24=t.querySelector("textPath")||t;for(var _i31=0,_arr3=_toConsumableArray(_e24.childNodes);_i31<_arr3.length;_i31++){var _t33=_arr3[_i31];"tspan"!==_t33.nodeName&&"a"!==_t33.nodeName&&"#text"!==_t33.nodeName||_t33.remove();}if(i.childItems.length>0){var _iterator30=_createForOfIteratorHelper(i.childItems),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _t34=_step30.value;var _i32=$i("svg:tspan");if(_e24.append(_i32),_t34.href){var _e25=$i("svg:a");_e25.setAttribute("_href",_t34.href),_e25.textContent=_t34.textContent,_i32.append(_e25);}else _i32.textContent=_t34.textContent;{var _e26=getComputedStyle(_i32);var _iterator31=_createForOfIteratorHelper(ui(_t34.inheritableProperties)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _s23=_step31.value;_e26.getPropertyValue(_s23)!==_t34.inheritableProperties[_s23]&&_i32.style.setProperty(_s23,_t34.inheritableProperties[_s23]);}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}var _iterator32=_createForOfIteratorHelper(ui(_t34.nonInheritableProperties)),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _s24=_step32.value;_e26.getPropertyValue(_s24)!==_t34.nonInheritableProperties[_s24]&&_i32.style.setProperty(_s24,_t34.nonInheritableProperties[_s24]);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}{var _e27=_t34.x.filter(function(t){return"auto"!==t;});_e27.length>0&&_i32.setAttribute("x",_e27.join(" "));}{var _e28=_t34.y.filter(function(t){return"auto"!==t;});_e28.length>0&&_i32.setAttribute("y",_e28.join(" "));}{var _e29=_toConsumableArray(_t34.dx);for(var _t35=_e29.length-1;_t35>=0&&"0"===_e29[_t35];_t35-=1){_e29.pop();}_e29.length>0&&_i32.setAttribute("dx",_e29.join(" "));}{var _e30=_toConsumableArray(_t34.dy);for(var _t36=_e30.length-1;_t36>=0&&"0"===_e30[_t36];_t36-=1){_e30.pop();}_e30.length>0&&_i32.setAttribute("dy",_e30.join(" "));}{var _e31=_toConsumableArray(_t34.rotate);for(var _t37=_e31.length-1;_t37>=0&&_e31[_t37]===_e31[_t37-1];_t37-=1){_e31.pop();}1===_e31.length&&"0"===_e31[0]&&(_e31=[]),_e31.length>0&&_i32.setAttribute("rotate",_e31.join(" "));}}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}if(s){var _i33=0,_s25=null;var _iterator33=_createForOfIteratorHelper(wi(t)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _l11=_step33.value;for(var _t38=0;_t38<=_l11.textContent.length;_t38+=1,_i33+=1){_i33===n&&e.setStart(_l11,_t38),_i33===o&&(0===_t38&&_s25?e.setEnd(_s25,_s25.textContent.length):e.setEnd(_l11,_t38));}_i33-=1,_s25=_l11;}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},mi=function mi(t,e){var i=e&&t.contains(e.commonAncestorContainer),s=i?Mi(e.startContainer,e.startOffset)[1]:-1,n=i?Mi(e.endContainer,e.endOffset)[1]:-1;{bi(t,null);var _e33=t.querySelector("textPath")||t,_i34=_e33.querySelectorAll("tspan"),_s26=1===_i34.length?_i34[0]:null;if(_s26&&0===_s26.style.length){var _iterator34=_createForOfIteratorHelper(_s26.childNodes),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _t39=_step34.value;_e33.append(_t39);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}for(var _i35=0,_arr4=["x","y","dx","dy","rotate"];_i35<_arr4.length;_i35++){var _e34=_arr4[_i35];_s26.hasAttribute(_e34)&&t.setAttribute(_e34,_s26.getAttribute(_e34));}_s26.remove();}}if(i){var _i36=0,_o14=null;var _iterator35=_createForOfIteratorHelper(wi(t)),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _l12=_step35.value;for(var _t40=0;_t40<=_l12.textContent.length;_t40+=1,_i36+=1){_i36===s&&e.setStart(_l12,_t40),_i36===n&&(0===_t40&&_o14?e.setEnd(_o14,_o14.textContent.length):e.setEnd(_l12,_t40));}_i36-=1,_o14=_l12;}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}}},gi=function gi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;null===e&&(e=t.commonAncestorContainer.closest("text"));var i=(e.querySelector("textPath")||e).querySelectorAll("tspan"),s=[];if(i.length>0){if(t){var _iterator36=_createForOfIteratorHelper(i),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _e35=_step36.value;t.intersectsNode(_e35)&&s.push(_e35);}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}}if(s.length>0){var _e36="backward"===t.direction?s[s.length-1]:s[0],_i37=s.filter(function(t){return t!==_e36;});s=[_e36].concat(_toConsumableArray(_i37));}}return s;},fi=window.getTextModel=function(t){var e={rootItem:null,childItems:[]};{var _ki=ki(t),_ki2=_slicedToArray(_ki,2),_i38=_ki2[0],_s27=_ki2[1],_n16={inheritableProperties:_i38,nonInheritableProperties:_s27};e.rootItem=_n16;}{var _i39=0;var _iterator37=_createForOfIteratorHelper(wi(t)),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _s28=_step37.value;var _n17={textContent:_s28.textContent,href:null,inheritableProperties:{},nonInheritableProperties:{},isLineBreak:!1,x:[],y:[],dx:[],dy:[],rotate:[],startOffset:_i39,endOffset:_i39+_s28.length};if(_i39+=_s28.length,_s28.textContent===xi&&(_n17.isLineBreak=!0),!1===_n17.isLineBreak)for(var _e37=_s28.parentNode;_e37!==t;_e37=_e37.parentNode){if("a"===_e37.localName&&_e37.hasAttribute("_href")){_n17.href=_e37.getAttribute("_href");break;}}if(!1===_n17.isLineBreak){var _e38=_s28.closest("tspan, text"),_ki3=ki(_e38),_ki4=_slicedToArray(_ki3,2),_i40=_ki4[0],_o15=_ki4[1];_n17.inheritableProperties=_i40,_e38!==t&&(_n17.nonInheritableProperties=_o15);}{var _e39=[],_i41=[],_o16=[],_l13=[],_a9=[];for(var _n18=_s28.parentNode;t.contains(_n18);_n18=_n18.parentNode){if("tspan"===_n18.localName||"text"===_n18.localName){var _t41=0;var _iterator38=_createForOfIteratorHelper(wi(_n18)),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _e44=_step38.value;if(_e44===_s28)break;_t41+=_e44.length;}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}for(var _i42=_t41,_o17=0;_n18.x.baseVal.length,_o17<_s28.length;_i42+=1,_o17+=1){void 0===_e39[_o17]&&void 0!==_n18.x.baseVal[_i42]&&(_e39[_o17]=_n18.x.baseVal[_i42].valueAsString);}for(var _e40=_t41,_o18=0;_n18.y.baseVal.length,_o18<_s28.length;_e40+=1,_o18+=1){void 0===_i41[_o18]&&void 0!==_n18.y.baseVal[_e40]&&(_i41[_o18]=_n18.y.baseVal[_e40].valueAsString);}for(var _e41=_t41,_i43=0;_n18.dx.baseVal.length,_i43<_s28.length;_e41+=1,_i43+=1){void 0===_o16[_i43]&&void 0!==_n18.dx.baseVal[_e41]&&(_o16[_i43]=_n18.dx.baseVal[_e41].valueAsString);}for(var _e42=_t41,_i44=0;_n18.dy.baseVal.length,_i44<_s28.length;_e42+=1,_i44+=1){void 0===_l13[_i44]&&void 0!==_n18.dy.baseVal[_e42]&&(_l13[_i44]=_n18.dy.baseVal[_e42].valueAsString);}for(var _e43=_t41,_i45=0;_n18.rotate.baseVal.length,_i45<_s28.length;_e43+=1,_i45+=1){void 0===_a9[_i45]&&void 0!==_n18.rotate.baseVal[_e43]&&(_a9[_i45]="".concat(_n18.rotate.baseVal[_e43].value));}}}var _h8="0";for(var _t42=0;_t42<_s28.length;_t42+=1){void 0===_e39[_t42]&&(_e39[_t42]="auto"),void 0===_i41[_t42]&&(_i41[_t42]="auto"),void 0===_o16[_t42]&&(_o16[_t42]="0"),void 0===_l13[_t42]&&(_l13[_t42]="0"),void 0===_a9[_t42]&&(_a9[_t42]=_h8),_h8=_a9[_t42];}_n17.x=_e39,_n17.y=_i41,_n17.dx=_o16,_n17.dy=_l13,_n17.rotate=_a9;}e.childItems.push(_n17);}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}}var _iterator39=_createForOfIteratorHelper(e.childItems),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _t47=_step39.value;var _iterator44=_createForOfIteratorHelper(ui(_t47.inheritableProperties)),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _i49=_step44.value;e.rootItem.inheritableProperties[_i49]===_t47.inheritableProperties[_i49]&&delete _t47.inheritableProperties[_i49];}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}{var _t43=e.childItems.filter(function(t){return!t.isLineBreak;});if(_t43.length>0){var _t44=_toArray(_t43),_i46=_t44[0],_s29=_t44.slice(1);var _iterator40=_createForOfIteratorHelper(ui(_i46.inheritableProperties)),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _t45=_step40.value;var _n19=!0;var _iterator41=_createForOfIteratorHelper(_s29),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _e45=_step41.value;_e45.inheritableProperties[_t45]!==_i46.inheritableProperties[_t45]&&(_n19=!1);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}if(_n19){e.rootItem.inheritableProperties[_t45]=_i46.inheritableProperties[_t45];var _iterator42=_createForOfIteratorHelper(e.childItems),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _i47=_step42.value;delete _i47.inheritableProperties[_t45];}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}}}if(e.childItems.length>1){var _t46=[],_i48=null;var _iterator43=_createForOfIteratorHelper(e.childItems),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _i48$x,_i48$y,_i48$dx,_i48$dy,_i48$rotate;var _s30=_step43.value;_i48&&_i48.href===_s30.href&&oi(_i48.nonInheritableProperties,_s30.nonInheritableProperties)&&oi(_i48.inheritableProperties,_s30.inheritableProperties)&&(!1===_i48.x.includes("auto")||0===_s30.x.length||ni(_s30.x,"auto"))&&(!1===_i48.y.includes("auto")||0===_s30.y.length||ni(_s30.y,"auto"))&&!1===_i48.isLineBreak&&!1===_s30.isLineBreak?(_i48.textContent+=_s30.textContent,(_i48$x=_i48.x).push.apply(_i48$x,_toConsumableArray(_s30.x)),(_i48$y=_i48.y).push.apply(_i48$y,_toConsumableArray(_s30.y)),(_i48$dx=_i48.dx).push.apply(_i48$dx,_toConsumableArray(_s30.dx)),(_i48$dy=_i48.dy).push.apply(_i48$dy,_toConsumableArray(_s30.dy)),(_i48$rotate=_i48.rotate).push.apply(_i48$rotate,_toConsumableArray(_s30.rotate)),_i48.endOffset=_s30.endOffset):(_t46.push(_s30),_i48=_s30);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}e.childItems=_t46;}return e;},wi=function wi(t){var e=[];if(t.closest("text")){var _i50=[],_s31=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;_s31.nextNode();){_i50.push(_s31.currentNode);}for(var _i52=0,_i51=_i50;_i52<_i51.length;_i52++){var _t48=_i51[_i52];var _i53=_t48.parentElement;if("text"===_i53.localName||"tspan"===_i53.localName||"textPath"===_i53.localName)_i53.getNumberOfChars()>0&&e.push(_t48);else if("a"===_i53.localName){var _s32=_i53.getBBox();0===_s32.x&&0===_s32.y&&0===_s32.width&&0===_s32.height||e.push(_t48);}}}return e;},vi=function vi(t){var e=wi(t),i=[];var _iterator45=_createForOfIteratorHelper(e),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _t49=_step45.value;var _e46=_t49.closest("*"),_s33=getComputedStyle(_e46).textTransform,_n20=_t49.textContent;"uppercase"===_s33?_n20=_n20.toUpperCase():"lowercase"===_s33?_n20=_n20.toLowerCase():"capitalize"===_s33&&(_n20=ai(_n20)),i.push.apply(i,_toConsumableArray(_n20.split("")));}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}return i;},yi=function yi(t){var e=wi(t),i=0,s=0;for(var _s34=e[0].parentElement;t.contains(_s34);_s34=_s34.parentElement){if(("tspan"===_s34.localName||"text"===_s34.localName)&&_s34.x.baseVal.length>0){i=_s34.x.baseVal[0].value;break;}}for(var _i54=e[0].parentElement;t.contains(_i54);_i54=_i54.parentElement){if(("tspan"===_i54.localName||"text"===_i54.localName)&&_i54.y.baseVal.length>0){s=_i54.y.baseVal[0].value;break;}}return new DOMPoint(i,s);},ki=function ki(t){var e=getComputedStyle(t),i={},s={};var _iterator46=_createForOfIteratorHelper(N),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _t50=_step46.value;if(_t50.appliesTo.includes("text")||_t50.appliesTo.includes("tspan")||_t50.appliesTo.includes("textPath")){if("font"===_t50.name||"display"===_t50.name)continue;!0===_t50.inheritable?i[_t50.name]=e.getPropertyValue(_t50.name):!1===_t50.inheritable&&(s[_t50.name]=e.getPropertyValue(_t50.name));}}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}return[i,s];},Si=function Si(t){return"tspan"===t.localName&&t.textContent===xi;},Ci=function Ci(t){if("text"===t.localName){var _iterator47=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _e47=_step47.value;if(Si(_e47))return!0;}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}}return!1;},_i=function _i(t){var e=0;var _iterator48=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _i55=_step48.value;if(Si(_i55)&&_i55.dy.baseVal.length>0&&_i55.dy.baseVal[0].unitType===SVGLength.SVG_LENGTHTYPE_EMS){var _t51=_i55.dy.baseVal[0].valueInSpecifiedUnits;e=J(_t51-1,2);break;}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}return e;},Mi=function Mi(t,e){var i=t.closest("text"),s=0,n=-1;var _iterator49=_createForOfIteratorHelper(wi(i)),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _o19=_step49.value;if(_o19===t){n=s+e;break;}s+=_o19.length;}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}return[i,n];},Pi=function Pi(t,e){var i=null,s=null,n=0,o=0;var _iterator50=_createForOfIteratorHelper(wi(t)),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _l14=_step50.value;for(var _t52=0;_t52<=_l14.textContent.length;_t52+=1,o+=1){o===e&&(0===_t52&&i?(s=i,n=i.textContent.length):(s=_l14,n=_t52));}o-=1,i=_l14;}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return[s,n];},Di=function Di(t){var e={x:[],y:[],dx:[],dy:[],rotate:[]};var _iterator51=_createForOfIteratorHelper(wi(t)),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _e$x,_e$y,_e$dx,_e$dy,_e$rotate;var _i56=_step51.value;var _s35=[],_n21=[],_o20=[],_l15=[],_a10=[];for(var _e48=_i56.parentNode;t.contains(_e48);_e48=_e48.parentNode){if("tspan"===_e48.localName||"text"===_e48.localName){var _t53=0;var _iterator52=_createForOfIteratorHelper(wi(_e48)),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _s40=_step52.value;if(_s40===_i56)break;_t53+=_s40.length;}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}for(var _n22=_t53,_o21=0;_e48.x.baseVal.length,_o21<_i56.length;_n22+=1,_o21+=1){void 0===_s35[_o21]&&void 0!==_e48.x.baseVal[_n22]&&(_s35[_o21]=_e48.x.baseVal[_n22].value);}for(var _s36=_t53,_o22=0;_e48.y.baseVal.length,_o22<_i56.length;_s36+=1,_o22+=1){void 0===_n21[_o22]&&void 0!==_e48.y.baseVal[_s36]&&(_n21[_o22]=_e48.y.baseVal[_s36].value);}for(var _s37=_t53,_n23=0;_e48.dx.baseVal.length,_n23<_i56.length;_s37+=1,_n23+=1){void 0===_o20[_n23]&&void 0!==_e48.dx.baseVal[_s37]&&(_o20[_n23]=_e48.dx.baseVal[_s37].value);}for(var _s38=_t53,_n24=0;_e48.dy.baseVal.length,_n24<_i56.length;_s38+=1,_n24+=1){void 0===_l15[_n24]&&void 0!==_e48.dy.baseVal[_s38]&&(_l15[_n24]=_e48.dy.baseVal[_s38].value);}for(var _s39=_t53,_n25=0;_e48.rotate.baseVal.length,_n25<_i56.length;_s39+=1,_n25+=1){void 0===_a10[_n25]&&void 0!==_e48.rotate.baseVal[_s39]&&(_a10[_n25]=_e48.rotate.baseVal[_s39].value);}}}{var _t54=0;for(var _e49=0;_e49<_i56.length;_e49+=1){void 0===_s35[_e49]&&(_s35[_e49]="auto"),void 0===_n21[_e49]&&(_n21[_e49]="auto"),void 0===_o20[_e49]&&(_o20[_e49]=0),void 0===_l15[_e49]&&(_l15[_e49]=0),void 0===_a10[_e49]&&(_a10[_e49]=_t54),_t54=_a10[_e49];}}(_e$x=e.x).push.apply(_e$x,_s35),(_e$y=e.y).push.apply(_e$y,_n21),(_e$dx=e.dx).push.apply(_e$dx,_o20),(_e$dy=e.dy).push.apply(_e$dy,_l15),(_e$rotate=e.rotate).push.apply(_e$rotate,_a10);}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}return e;},zi=function zi(t,e,i,s,n,o){var l=vi(t).filter(function(t){return t!==xi;}),a=e.layout(l.join("")),h=o?-14:0,r=1/e.head.unitsPerEm*i,d={moveTo:"M",lineTo:"L",quadraticCurveTo:"Q",bezierCurveTo:"C",closePath:"Z"},c=e.hhea.ascent,p=e.hhea.descent,u=c/20,x=[],b=[],m=[];for(var _e50=0,_i57=0;_e50<a.glyphs.length;_e50+=1){var _s41=a.glyphs[_e50],_n26=t.getStartPositionOfChar(_i57),_o23=t.getRotationOfChar(_i57);b.push(_n26),m.push(_o23),_i57+=_s41.codePoints.length;}for(var _t55=0;_t55<a.glyphs.length;_t55+=1){var _e51=a.glyphs[_t55],_i58=_e51.advanceWidth,_n27=b[_t55],_o24=m[_t55],_l16=_e51.path.commands.map(function(_ref){var t=_ref.command,e=_ref.args;return{type:d[t],values:_toConsumableArray(e)};});if(s.includes("underline")){var _t56=_i58,_e52=u,_s42=p/3;_l16.push({type:"M",values:[0,_s42]},{type:"L",values:[_t56,_s42]},{type:"L",values:[_t56,_s42-_e52]},{type:"L",values:[0,_s42-_e52]},{type:"Z",values:[]});}if(s.includes("overline")){var _t57=_i58,_e53=u,_s43=c-u;_l16.push({type:"M",values:[0,_s43]},{type:"L",values:[_t57,_s43]},{type:"L",values:[_t57,_s43-_e53]},{type:"L",values:[0,_s43-_e53]},{type:"Z",values:[]});}if(s.includes("line-through")){var _t58=_i58,_e54=u,_s44=(c+p)/2;_l16.push({type:"M",values:[0,_s44]},{type:"L",values:[_t58,_s44]},{type:"L",values:[_t58,_s44-_e54]},{type:"L",values:[0,_s44-_e54]},{type:"Z",values:[]});}var _iterator53=_createForOfIteratorHelper(_l16),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _t59=_step53.value;var _e55=new DOMMatrix();if(_e55.translateSelf(_n27.x,_n27.y),_e55.rotateSelf(_o24),_e55=le(_e55,h,0,0,0),_e55.scaleSelf(r,-r,1,0,0),"M"===_t59.type){var _t59$values=_slicedToArray(_t59.values,2),_i59=_t59$values[0],_s45=_t59$values[1],_n28=new DOMPoint(_i59,_s45).matrixTransform(_e55);_t59.values=[_n28.x,_n28.y];}else if("L"===_t59.type){var _t59$values2=_slicedToArray(_t59.values,2),_i60=_t59$values2[0],_s46=_t59$values2[1],_n29=new DOMPoint(_i60,_s46).matrixTransform(_e55);_t59.values=[_n29.x,_n29.y];}else if("Q"===_t59.type){var _t59$values3=_slicedToArray(_t59.values,4),_i61=_t59$values3[0],_s47=_t59$values3[1],_n30=_t59$values3[2],_o25=_t59$values3[3],_l17=new DOMPoint(_i61,_s47).matrixTransform(_e55),_a11=new DOMPoint(_n30,_o25).matrixTransform(_e55);_t59.values=[_l17.x,_l17.y,_a11.x,_a11.y];}else if("C"===_t59.type){var _t59$values4=_slicedToArray(_t59.values,6),_i62=_t59$values4[0],_s48=_t59$values4[1],_n31=_t59$values4[2],_o26=_t59$values4[3],_l18=_t59$values4[4],_a12=_t59$values4[5],_h9=new DOMPoint(_i62,_s48).matrixTransform(_e55),_r8=new DOMPoint(_n31,_o26).matrixTransform(_e55),_d4=new DOMPoint(_l18,_a12).matrixTransform(_e55);_t59.values=[_h9.x,_h9.y,_r8.x,_r8.y,_d4.x,_d4.y];}x.push(_t59);}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}}return x;},Oi=function Oi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=new DOMRect(0,0,0,0),s=e?V(t):null;if(s){i=function(t,e){var i=Math.max(t.left,e.left),s=Math.min(t.right,e.right),n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom);return new DOMRect(i,n,s-i,o-n);}(Oi(t,!1),Ve(DOMRect.fromRect(s.getBBox()),Ht(s)));}else if("tspan"===t.localName){var _e56=wi(t),_s49=document.createRange();if(_e56.length>0&&(_s49.setStart(_e56[0],0),_s49.setEnd(_e56[_e56.length-1],_e56[_e56.length-1].length)),!1===_s49.collapsed){var _t60=_s49.startContainer.closest("text"),_Mi=Mi(_s49.startContainer,_s49.startOffset),_Mi2=_slicedToArray(_Mi,2),_e57=_Mi2[1],_Mi3=Mi(_s49.endContainer,_s49.endOffset),_Mi4=_slicedToArray(_Mi3,2),_n32=_Mi4[1],_o27=[];for(var _i63=_e57;_i63<_n32;_i63+=1){var _e58=_t60.getExtentOfChar(_i63);_o27.push(_e58);}i=He(_o27);}}else i="use"===t.localName?new DOMRect(0,0,t.width.baseVal.value,t.height.baseVal.value):DOMRect.fromRect(t.getBBox());return i;},Ei=function Ei(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=Yt(t),s=Oi(t,e);return Ve(s,i);},Ti=Number.parseInt,Ai=function Ai(t){var e=document.createDocumentFragment(),i=document.createElementNS(l.svg,"svg");for(i.innerHTML=t;i.firstChild;){e.append(i.firstChild);}return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null;},$i=function $i(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i64=_slicedToArray(i,1),_t61=_i64[0];s=document.createElement(_t61,e);}else if(2===i.length){var _i65=_slicedToArray(i,2),_t62=_i65[0],_n33=_i65[1];"svg"===_t62&&(s=document.createElementNS(l.svg,_n33,e));}return s;},Ii=function Ii(t){var e="svg"===t.localName?t:null;for(var _i66=t.ownerSVGElement;_i66;_i66=_i66.ownerSVGElement){e=_i66;}return e;},Li=function Li(t){for(var _e59 in t.parentElement.children){if(t.parentElement.children[_e59]===t)return Ti(_e59);}},Bi=function Bi(t,e){if(t.localName!==e.localName)return!1;if(t.namespaceURI!==e.namespaceURI)return!1;if(t.textContent!==e.textContent)return!1;if(t.children.length!==e.children.length)return!1;if(t.attributes.length!==e.attributes.length)return!1;var _iterator54=_createForOfIteratorHelper(t.attributes),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _i68=_step54.value;if("style"===_i68.name){if(t.style.cssText!==e.style.cssText)return!1;}else if(t.getAttribute(_i68.name)!==e.getAttribute(_i68.name))return!1;}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}for(var _i67=0;_i67<t.children.length;_i67+=1){if(!1===Bi(t.children[_i67],e.children[_i67]))return!1;}return!0;},Ri=function Ri(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Ri(t.getRootNode().host,e):s;},Gi=function Gi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s=function s(t,e){return{x:t,y:e,translate:function translate(i,n){return s(t+i,e+n);}};},n=function n(t,e){return{start:t,length:e,end:t+e};},o=function o(t,i){return!1===e||i.start<t.end&&t.start<i.end?Math.max(t.end-i.length,Math.min(i.start,t.start)):(t.start+t.end-i.length)/2;},l=function l(t,e){for(;t;){e=e.translate(t.offsetLeft,t.offsetTop),t=t.offsetParent;}return e;},a=l(t,s(0,0)),h=s(t.offsetWidth,t.offsetHeight),r=t.parentNode;for(;r instanceof HTMLElement;){i=l(r,s(r.clientLeft,r.clientTop)),r.scrollLeft=o(n(a.x-i.x,h.x),n(r.scrollLeft,r.clientWidth)),r.scrollTop=o(n(a.y-i.y,h.y),n(r.scrollTop,r.clientHeight)),a=a.translate(-r.scrollLeft,-r.scrollTop),r=r.parentNode;}},Ui=function Ui(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[];var _iterator55=_createForOfIteratorHelper(t),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _s50=_step55.value;if("g"===_s50.localName||"a"===_s50.localName){var _t63=_toConsumableArray(_s50.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Ui(_t63,e)));}else if(w.includes(_s50.localName)&&(i.push(_s50),"text"===_s50.localName&&e)){var _t64=_toConsumableArray(_s50.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Ui(_t64,e)));}}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}return i;},Fi=function Fi(t,e){for(;t=t.parentNode;){if(t.contains&&t.contains(e))return t;}return null;},Ni=function Ni(t){var e=[];var _iterator56=_createForOfIteratorHelper(t),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _i69=_step56.value;e.push(_i69);}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}return e.sort(function(t,e){return 3-(6&t.compareDocumentPosition(e));}),e;},ji=function ji(t){var e=[];t=Ni(t);var _iterator57=_createForOfIteratorHelper(t),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _i70=_step57.value;if(_i70===t[0])e.push([_i70]);else{var _t65=!1;var _iterator58=_createForOfIteratorHelper(e),_step58;try{for(_iterator58.s();!(_step58=_iterator58.n()).done;){var _s51=_step58.value;_i70.parentElement===_s51[0].parentElement&&(_s51.push(_i70),_t65=!0);}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}!1===_t65&&e.push([_i70]);}}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}return e;},Vi=function Vi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"designer";var i=null;if("developer"===e)"rect"===t.localName?i="<rect>":"circle"===t.localName?i="<circle>":"ellipse"===t.localName?i="<ellipse>":"line"===t.localName?i="<line>":"polyline"===t.localName?i="<polyline>":"polygon"===t.localName?i="<polygon>":"text"===t.localName?i="<text>":"image"===t.localName?i="<image>":"use"===t.localName?i="<use>":"svg"===t.localName?i="<svg>":"a"===t.localName?i="<a>":"g"===t.localName?i="master"===t.getAttribute("data-bx-workspace")?"<svg>":"symbol"===t.getAttribute("data-bx-workspace")?"<symbol>":"pattern"===t.getAttribute("data-bx-workspace")?"<pattern>":"marker"===t.getAttribute("data-bx-workspace")?"<marker>":"<g>":"path"===t.localName?i="<path>":"clipPath"===t.localName?i="<clipPath>":"mask"===t.localName?i="<mask>":"view"===t.localName?i="<view>":"bx-guide"===t.localName&&(i="<bx:guide>");else if("designer"===e)if("rect"===t.localName)i="Rectangle";else if("circle"===t.localName)i="Circle";else if("ellipse"===t.localName)i="Ellipse";else if("line"===t.localName)i="Line";else if("polyline"===t.localName)i="Polyline";else if("polygon"===t.localName)i="Polygon";else if("text"===t.localName)i="Text";else if("image"===t.localName)i="Image";else if("use"===t.localName)i="Symbol instance";else if("svg"===t.localName)i="SVG";else if("a"===t.localName)i="Link";else if("g"===t.localName)i="master"===t.getAttribute("data-bx-workspace")?"SVG":"symbol"===t.getAttribute("data-bx-workspace")?"Symbol":"pattern"===t.getAttribute("data-bx-workspace")?"Pattern":"marker"===t.getAttribute("data-bx-workspace")?"Marker":"Group";else if("path"===t.localName){var _e60=t.getAttribute("data-bx-shape"),_s52=t.getAttribute("data-bx-spline");if(_e60){var _t66=_e60.substring(0,_e60.indexOf(" "));i="rect"===_t66?"Rectangle":ai(_t66);}else if(_s52){var _t67=_s52.substring(0,_s52.indexOf(" "));i=ai(_t67);}else i="Path";}else"clipPath"===t.localName?i="Clip":"mask"===t.localName?i="Mask":"view"===t.localName?i="View":"bx-guide"===t.localName&&(i="Guide");return i;},Hi=function Hi(t){var e=null;if("rect"===t.localName)e="object-rect";else if("circle"===t.localName)e="object-circle";else if("ellipse"===t.localName)e="object-ellipse";else if("line"===t.localName)e="object-line";else if("polyline"===t.localName)e="object-polyline";else if("polygon"===t.localName)e="object-polygon";else if("text"===t.localName)e="object-text";else if("image"===t.localName)e="object-image";else if("a"===t.localName)e="object-link";else if("use"===t.localName)e="object-symbol";else if("svg"===t.localName)e="object-svg";else if("g"===t.localName)e="master"===t.getAttribute("data-bx-workspace")?"object-svg":"symbol"===t.getAttribute("data-bx-workspace")?"object-symbol":"pattern"===t.getAttribute("data-bx-workspace")?"object-pattern":"marker"===t.getAttribute("data-bx-workspace")?"object-marker":"object-group";else if("path"===t.localName){var _i71=t.getAttribute("data-bx-shape");if(_i71){e="object-"+_i71.substring(0,_i71.indexOf(" "));}else e="object-path";}else"clipPath"===t.localName?e="object-clip":"mask"===t.localName?e="object-mask":"view"===t.localName?e="object-view":"bx-guide"===t.localName&&(e="object-guide");return e;},Wi=function Wi(t,e){if(!t.transform||!e.transform)return!1;var i=Ei(t),s=Ei(e);return qe(i,s);},Yi=function Yi(t){var e=[],i=[];var _iterator59=_createForOfIteratorHelper(t),_step59;try{var _loop=function _loop(){var s=_step59.value;var n=[],o=function o(e){var _iterator61=_createForOfIteratorHelper(t),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _s53=_step61.value;var _t68=!n.includes(_s53)&&!i.includes(_s53);_s53!==e&&_t68&&Wi(_s53,e)&&(n.push(_s53),i.push(_s53),o(_s53));}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}};o(s),n.length>0&&e.push(Ni(n));};for(_iterator59.s();!(_step59=_iterator59.n()).done;){_loop();}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}var _iterator60=_createForOfIteratorHelper(t),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _s54=_step60.value;i.includes(_s54)||e.push([_s54]);}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}return e;},qi=function qi(t){if(0===t.length)return!1;for(var _e61=0;_e61<t.length;_e61+=1){var _i72=t.charCodeAt(_e61);if(!1===(_i72>=65&&_i72<=90||_i72>=97&&_i72<=122)){if(0===_e61)return!1;if(!1===(_i72>=48&&_i72<=57||45===_i72||46===_i72||95===_i72))return!1;}}return!0;},Xi=function Xi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"element-";var i=document;for(var _e62=t.parentNode;_e62;_e62=_e62.parentNode){if(_e62.nodeType===Node.DOCUMENT_FRAGMENT_NODE||_e62.nodeType===Node.DOCUMENT_NODE){i=_e62;break;}}for(var _t69=0;_t69<Infinity;_t69+=1){var _s55=e+_t69;if(!i.querySelector("#".concat(_s55)))return _s55;}},Zi=document.createElement("template"),Ki=function Ki(t){var i=[];for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}for(var _s56=0;_s56<t.length;_s56+=1){i.push(t[_s56]),void 0!==e[_s56]&&i.push(e[_s56]);}var s=i.join("");Zi.innerHTML=s;var n=document.importNode(Zi.content,!0);return 1===n.children.length?n.firstElementChild:n;},Qi=function Qi(t){var i=[];for(var _len3=arguments.length,e=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){e[_key3-1]=arguments[_key3];}for(var _s57=0;_s57<t.length;_s57+=1){i.push(t[_s57]),void 0!==e[_s57]&&i.push(e[_s57]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Ji=function Ji(t){var i=[];for(var _len4=arguments.length,e=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}for(var _s58=0;_s58<t.length;_s58+=1){i.push(t[_s58]),void 0!==e[_s58]&&i.push(e[_s58]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Zi.innerHTML=s;var n=document.importNode(Zi.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i73=0,_arr5=_toConsumableArray(o.childNodes);_i73<_arr5.length;_i73++){var _t70=_arr5[_i73];n.appendChild(_t70);}return o.remove(),n;},ts=function ts(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,a=function a(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len5=arguments.length,h=new Array(_len5),_key5=0;_key5<_len5;_key5++){h[_key5]=arguments[_key5];}return s=h,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(a,d)),o;};},es=function es(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len6=arguments.length,l=new Array(_len6),_key6=0;_key6<_len6;_key6++){l[_key6]=arguments[_key6];}var a=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),a&&(o=t.apply(i,l)),o;};},is=function is(t,e){var i,s=!1;return function(){return s||(s=!0,i=t.apply(e||this,arguments),t=null),i;};},ss=function ss(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},ns=new Promise(function(t){requestIdleCallback(t);});var os=/*#__PURE__*/function(){function os(t){_classCallCheck(this,os);this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1};}_createClass(os,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s59=0;_s59<t;_s59+=1){var _t71=this.text[i+_s59];if(void 0===_t71)break;e+=_t71,this.cursor+=1,"\n"===_t71?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i74=0;_i74<t;_i74+=1){var _t72=this.text[this.cursor+_i74];if(void 0===_t72)break;e+=_t72;}return""===e?null:e;}},{key:"eatSpaces",value:function eatSpaces(){var t="";for(;" "===this.peek();){t+=this.read();}return t;}},{key:"eatWhitespace",value:function eatWhitespace(){var t="";for(;" "===this.peek()||"\n"===this.peek();){t+=this.read();}return t;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.t={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$t=this.t,t=_this$t.cursor,e=_this$t.line,i=_this$t.column;this.cursor=t,this.line=e,this.column=i;}}]);return os;}();var ls=Math.max,as=Math.pow,hs=Math.sqrt,rs=Math.PI,ds=function ds(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=as(10,e);return Math.round(t*i)/i;},cs=function cs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMRect(ds(t.x,e),ds(t.y,e),ds(t.width,e),ds(t.height,e));},ps=function ps(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=ds(t,s)),t<e?t=e:t>i&&(t=i),t;},us=function us(t){if(isFinite(t)){var _e63=1,_i75=0;for(;Math.round(t*_e63)/_e63!==t;){_e63*=10,_i75+=1;}return _i75;}return 0;},xs=function xs(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,hs(i+s);},bs=function bs(t){return rs*t/180;},ms=Math.min,gs=Math.max,fs=Math.floor,ws=Math.pow,vs=Math.atan2,ys=Math.PI,ks=Math.sqrt,Ss=function Ss(t,e,i){var s,n,o,l=gs(t/=255,e/=255,i/=255),a=ms(t,e,i);if(s=n=o=(l+a)/2,l===a)s=n=0;else{var _h10=l-a;if(n=o>.5?_h10/(2-l-a):_h10/(l+a),l===t){var _t73;_t73=e<i?6:0,s=(e-i)/_h10+_t73;}else l===e?s=(i-t)/_h10+2:l===i&&(s=(t-e)/_h10+4);}return s=ps(s/6*360,0,360,0),n=ps(100*n,0,100,1),o=ps(100*o,0,100,1),[s,n,o];},Cs=function Cs(t,e,i){var s,n,o;if(t/=360,i/=100,0==(e/=100))s=n=o=i;else{var _l19,_a13,_h11=function _h11(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l19=i<.5?i*(1+e):i+e-i*e,_a13=2*i-_l19,s=_h11(_a13,_l19,t+1/3),n=_h11(_a13,_l19,t),o=_h11(_a13,_l19,t-1/3);}return s=ps(255*s,0,255,0),n=ps(255*n,0,255,0),o=ps(255*o,0,255,0),[s,n,o];},_s=function _s(t,e,i){e/=100,i/=100;var s=fs(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),a=i*(1-(1-n)*e),h=0,r=0,d=0;return s%6==0?(h=i,r=a,d=o):s%6==1?(h=l,r=i,d=o):s%6==2?(h=o,r=i,d=a):s%6==3?(h=o,r=l,d=i):s%6==4?(h=a,r=o,d=i):s%6==5&&(h=i,r=o,d=l),h*=255,r*=255,d*=255,[h,r,d];},Ms=function Ms(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t74,_t75,_Cs,_Cs2,_s60,_s61;var _n34,_o28,_l20,_a14;if("rgba"===e?(_t74=t,_t75=_slicedToArray(_t74,4),_n34=_t75[0],_o28=_t75[1],_l20=_t75[2],_a14=_t75[3],_t74):"hsla"===e?((_Cs=Cs.apply(void 0,_toConsumableArray(t)),_Cs2=_slicedToArray(_Cs,3),_n34=_Cs2[0],_o28=_Cs2[1],_l20=_Cs2[2],_Cs),_a14=t[3]):"hsva"===e&&((_s60=_s.apply(void 0,_toConsumableArray(t)),_s61=_slicedToArray(_s60,3),_n34=_s61[0],_o28=_s61[1],_l20=_s61[2],_s60),_a14=t[3]),"rgb%"===i||"rgba%"===i?(_n34=ps(_n34/255*100,0,100,1),_o28=ps(_o28/255*100,0,100,1),_l20=ps(_l20/255*100,0,100,1),_a14=ps(_a14,0,1,2)):(_n34=ps(_n34,0,255,0),_o28=ps(_o28,0,255,0),_l20=ps(_l20,0,255,0),_a14=ps(_a14,0,1,2)),"rgb"===i)s="rgb(".concat(_n34,", ").concat(_o28,", ").concat(_l20,")");else if("rgba"===i)s="rgba(".concat(_n34,", ").concat(_o28,", ").concat(_l20,", ").concat(_a14,")");else if("rgb%"===i)s="rgb(".concat(_n34,"%, ").concat(_o28,"%, ").concat(_l20,"%)");else if("rgba%"===i)s="rgb(".concat(_n34,"%, ").concat(_o28,"%, ").concat(_l20,"%, ").concat(_a14,")");else if("hex"===i){var _t76=_n34.toString(16),_e64=_o28.toString(16),_i76=_l20.toString(16);1===_t76.length&&(_t76="0"+_t76),1===_e64.length&&(_e64="0"+_e64),1===_i76.length&&(_i76="0"+_i76),s="#"+_t76+_e64+_i76;}}else if("hsl"===i||"hsla"===i){var _t77,_t78,_ref2,_ref3,_Ss,_Ss2;var _n35,_o29,_l21,_a15;"hsla"===e?(_t77=t,_t78=_slicedToArray(_t77,4),_n35=_t78[0],_o29=_t78[1],_l21=_t78[2],_a15=_t78[3],_t77):"hsva"===e?((_ref2=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*gs(0,ms(1,o)),n=100*gs(0,ms(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref3=_slicedToArray(_ref2,3),_n35=_ref3[0],_o29=_ref3[1],_l21=_ref3[2],_ref2),_a15=t[3]):"rgba"===e&&((_Ss=Ss.apply(void 0,_toConsumableArray(t)),_Ss2=_slicedToArray(_Ss,3),_n35=_Ss2[0],_o29=_Ss2[1],_l21=_Ss2[2],_Ss),_a15=t[3]),_n35=ps(_n35,0,360,0),_o29=ps(_o29,0,100,1),_l21=ps(_l21,0,100,1),_a15=ps(_a15,0,1,2),"hsl"===i?s="hsl(".concat(_n35,", ").concat(_o29,"%, ").concat(_l21,"%)"):"hsla"===i&&(s="hsla(".concat(_n35,", ").concat(_o29,"%, ").concat(_l21,"%, ").concat(_a15,")"));}return s;},Ps=function Ps(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=new Ts().parse(t,i);return Ms(s,i,e);},Ds=function Ds(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator62=_createForOfIteratorHelper(t),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _i77=_step62.value;if(!e.includes(_i77))return!1;}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}return!0;},zs=function zs(){return new Promise(function(t){if(zs.url)t(zs.url);else if(zs.callbacks)zs.callbacks.push(t);else{zs.callbacks=[t];var _e65=300,_i78=document.createElement("canvas"),_s62=_i78.getContext("2d"),_n36=_s62.createImageData(_e65,_e65),_o30=_n36.data,_l22=_e65/2,_a16=0;_i78.width=_e65,_i78.height=_e65;for(var _t79=0;_t79<_e65;_t79++){for(var _i79=0;_i79<_e65;_i79++){var _e66=_i79-_l22,_s63=_t79-_l22,_n37=ws(_e66,2)+ws(_s63,2),_h12=(vs(_s63,_e66)+ys)/(2*ys)*360,_r9=ks(_n37)/_l22*100,_s64=_s(_h12,_r9,100),_s65=_slicedToArray(_s64,3),_d5=_s65[0],_c2=_s65[1],_p2=_s65[2],_u2=_n37>ws(_l22,2)?0:255;_o30[_a16++]=_d5,_o30[_a16++]=_c2,_o30[_a16++]=_p2,_o30[_a16++]=_u2;}}_s62.putImageData(_n36,0,0),_i78.toBlob(function(t){zs.url=URL.createObjectURL(t);var _iterator63=_createForOfIteratorHelper(zs.callbacks),_step63;try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){var _t80=_step63.value;_t80(zs.url);}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}});}});},Os=Number.parseFloat,Es=Number.parseInt;var Ts=/*#__PURE__*/function(){function Ts(){_classCallCheck(this,Ts);}_createClass(Ts,[{key:"parse",value:function parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=this.h(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[Os(i[1].text),Os(i[3].text),Os(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[Os(i[1].text)/100*255,Os(i[3].text)/100*255,Os(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Os(i[1].text),Os(i[3].text),Os(i[5].text),Os(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Os(i[1].text)/100*255,Os(i[3].text)/100*255,Os(i[5].text)/100*255,Os(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[Os(i[1].text),Os(i[3].text),Os(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[Os(i[1].text),Os(i[3].text),Os(i[5].text),Os(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t81,_e67,_n38,_o31=i[0].text.substring(1);3===_o31.length?(_t81=_o31[0]+_o31[0],_e67=_o31[1]+_o31[1],_n38=_o31[2]+_o31[2]):(_t81=_o31[0]+_o31[1],_e67=_o31[2]+_o31[3],_n38=_o31[4]+_o31[5]),s=[Es(_t81,16),Es(_e67,16),Es(_n38,16),1];}else Ts.i[t]&&(s=[Ts.i[t][0],Ts.i[t][1],Ts.i[t][2],1]);if(s){var _s66=s,_s67=_slicedToArray(_s66,4),_t82=_s67[0],_i80=_s67[1],_n39=_s67[2],_o32=_s67[3];if(_t82=ps(_t82,0,255,0),_i80=ps(_i80,0,255,0),_n39=ps(_n39,0,255,0),_o32=ps(_o32,0,1,2),"hsla"===e){var _Ss3=Ss(_t82,_i80,_n39),_Ss4=_slicedToArray(_Ss3,3),_e68=_Ss4[0],_s68=_Ss4[1],_l23=_Ss4[2];return[_e68,_s68,_l23,_o32];}if("hsva"===e){var _ref4=function(t,e,i){var s=gs(t/=255,e/=255,i/=255),n=ms(t,e,i),o=0,l=0,a=s,h=s-n;return l=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,l*=100,a*=100,[o,l,a];}(_t82,_i80,_n39),_ref5=_slicedToArray(_ref4,3),_e69=_ref5[0],_s69=_ref5[1],_l24=_ref5[2];return[_e69,_s69,_l24,_o32];}return[_t82,_i80,_n39,_o32];}if(n){var _n40=n,_n41=_slicedToArray(_n40,4),_t83=_n41[0],_i81=_n41[1],_s70=_n41[2],_o33=_n41[3];if(_t83=ps(_t83,0,360,0),_i81=ps(_i81,0,100,1),_s70=ps(_s70,0,100,1),_o33=ps(_o33,0,1,2),"hsla"===e)return[_t83,_i81,_s70,_o33];if("hsva"===e){var _ref6=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*gs(0,ms(1,s)),n=100*gs(0,ms(1,n)),[o,s,n];}(_t83,_i81,_s70),_ref7=_slicedToArray(_ref6,3),_e70=_ref7[0],_n42=_ref7[1],_l25=_ref7[2];return[_e70,_n42,_l25,_o33];}{var _Cs3=Cs(_t83,_i81,_s70),_Cs4=_slicedToArray(_Cs3,3),_e71=_Cs4[0],_n43=_Cs4[1],_l26=_Cs4[2];return[_e71,_n43,_l26,_o33];}}throw new Error("Invalid color string: \"".concat(t,"\""));}},{key:"h",value:function h(t){var e=[],i=new os(t.toLowerCase());var _loop2=function _loop2(){var t=i.read();(function(){if("r"===t||"h"===t){var _s71=t;if(t+i.peek(3)==="rgb("?_s71+=i.read(3):t+i.peek(4)==="rgba("?_s71+=i.read(4):t+i.peek(3)==="hsl("?_s71+=i.read(3):t+i.peek(4)==="hsla("&&(_s71+=i.read(4)),_s71!==t)return void e.push({type:"FUNCTION",text:_s71});}if("#"===t){if(Ds(t+i.peek(6))){var _s72=t+i.read(6);return void e.push({type:"HEX",text:_s72});}if(Ds(t+i.peek(3))){var _s73=t+i.read(3);return void e.push({type:"HEX",text:_s73});}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s74=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s74+=i.read();}"%"===i.peek()?(_s74+=i.read(),e.push({type:"PERCENTAGE",text:_s74})):e.push({type:"NUM",text:_s74});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop2();}return e;}}]);return Ts;}();_defineProperty(Ts,"i",{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var As=document.createElement("template"),$s=function $s(t){var i=[];for(var _len7=arguments.length,e=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){e[_key7-1]=arguments[_key7];}for(var _s75=0;_s75<t.length;_s75+=1){i.push(t[_s75]),void 0!==e[_s75]&&i.push(e[_s75]);}var s=i.join("");As.innerHTML=s;var n=document.importNode(As.content,!0);return 1===n.children.length?n.firstElementChild:n;},Is=function Is(t){var i=[];for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){e[_key8-1]=arguments[_key8];}for(var _s76=0;_s76<t.length;_s76+=1){i.push(t[_s76]),void 0!==e[_s76]&&i.push(e[_s76]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Ls=function Ls(t){var i=[];for(var _len9=arguments.length,e=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){e[_key9-1]=arguments[_key9];}for(var _s77=0;_s77<t.length;_s77+=1){i.push(t[_s77]),void 0!==e[_s77]&&i.push(e[_s77]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");As.innerHTML=s;var n=document.importNode(As.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i82=0,_arr6=_toConsumableArray(o.childNodes);_i82<_arr6.length;_i82++){var _t84=_arr6[_i82];n.appendChild(_t84);}return o.remove(),n;},Bs={},Rs=function Rs(t){return new Promise(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(e){var _i83,_iterator64,_step64,_e72;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!Bs[t]){_context.next=4;break;}Bs[t].iconset?e(Bs[t].iconset):Bs[t].callbacks.push(e);_context.next=18;break;case 4:Bs[t]={callbacks:[e],iconset:null};_i83=null;_context.prev=6;_context.next=9;return fetch(t);case 9:_context.next=11;return _context.sent.text();case 11:_i83=_context.sent;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_i83=null;case 17:if(_i83){Bs[t].iconset=Ls(_templateObject(),_i83);_iterator64=_createForOfIteratorHelper(Bs[t].callbacks);try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){_e72=_step64.value;_e72(Bs[t].iconset);}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}}else console.error("Xel failed to fetch the iconset: ".concat(t));case 18:case"end":return _context.stop();}}},_callee,null,[[6,14]]);}));return function(_x2){return _ref8.apply(this,arguments);};}());};var Gs=new(_temp2=/*#__PURE__*/function(_ref9){_inherits(_temp2,_ref9);var _super=_createSuper(_temp2);_createClass(_temp2,[{key:"theme",get:function get(){return this.l;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t);}},{key:"accentColor",get:function get(){return this.u;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t);}},{key:"size",get:function get(){return this.p;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t);}},{key:"iconset",get:function get(){return this.m;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t);}},{key:"whenThemeReady",get:function get(){var _this2=this;return new Promise(function(t){null===_this2.g?t():_this2.g.push(t);});}},{key:"whenIconsetReady",get:function get(){var _this3=this;return new Promise(function(t){null===_this3.v?t():_this3.v.push(t);});}},{key:"themeStyleSheet",get:function get(){return this.k;}},{key:"iconsetElement",get:function get(){return this.js;}},{key:"presetAccentColors",get:function get(){var t={};var _iterator65=_createForOfIteratorHelper(this.k.cssRules),_step65;try{for(_iterator65.s();!(_step65=_iterator65.n()).done;){var _e73=_step65.value;if(1===_e73.type&&"body"===_e73.selectorText&&_e73.styleMap.has("--preset-accent-colors")){var _i84=_e73.styleMap.get("--preset-accent-colors");if(_i84&&_i84[0]){var _e74=_i84[0].split(",").map(function(t){return t.trim();}).map(function(t){return t.split(" ");});t=Object.fromEntries(_e74);}break;}}}catch(err){_iterator65.e(err);}finally{_iterator65.f();}return t;}}]);function _temp2(){var _temp,_this;_classCallCheck(this,_temp2);(_temp=_this=_super.call(this),_defineProperty(_assertThisInitialized(_this),"l",null),_defineProperty(_assertThisInitialized(_this),"u",null),_defineProperty(_assertThisInitialized(_this),"p",null),_defineProperty(_assertThisInitialized(_this),"m",null),_defineProperty(_assertThisInitialized(_this),"k",new CSSStyleSheet()),_defineProperty(_assertThisInitialized(_this),"js",null),_defineProperty(_assertThisInitialized(_this),"g",[]),_defineProperty(_assertThisInitialized(_this),"v",[]),_temp),document.adoptedStyleSheets=[_this.k];var _this$C=_this.C(),t=_this$C.theme,e=_this$C.accentColor,i=_this$C.size,s=_this$C.iconset;_this.l=t,_this.u=e,_this.p=i,_this.m=s,null!==_this.l&&_this.S(_this.l),null!==_this.m&&_this.A(_this.m),new MutationObserver(function(t){return _this.L(t);}).observe(document.head,{attributes:!0,subtree:!0});return _this;}_createClass(_temp2,[{key:"L",value:function L(t){var _this4=this;var e=this.l,i=this.u,s=this.p,n=this.m,_this$C2=this.C(),o=_this$C2.theme,l=_this$C2.accentColor,a=_this$C2.size,h=_this$C2.iconset;this.l=o,this.u=l,this.p=a,this.m=h,this.l!==e&&this.S(this.l).then(function(){_this4.dispatchEvent(new CustomEvent("themechange"));}),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==n&&this.A(this.m).then(function(){_this4.dispatchEvent(new CustomEvent("iconsetchange"));});}},{key:"M",value:function M(t){var _this5=this;return new Promise(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(e){var i,s,_iterator66,_step66,_step66$value,_t85,_e75,_i85;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(t);case 2:i=_context2.sent;_context2.next=5;return i.text();case 5:s=_context2.sent;_iterator66=_createForOfIteratorHelper(_this5.D(s));_context2.prev=7;_iterator66.s();case 9:if((_step66=_iterator66.n()).done){_context2.next=17;break;}_step66$value=_slicedToArray(_step66.value,2),_t85=_step66$value[0],_e75=_step66$value[1];_context2.next=13;return _this5.M(_t85);case 13:_i85=_context2.sent;s=s.replace(_e75,_i85);case 15:_context2.next=9;break;case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2["catch"](7);_iterator66.e(_context2.t0);case 22:_context2.prev=22;_iterator66.f();return _context2.finish(22);case 25:e(s);case 26:case"end":return _context2.stop();}}},_callee2,null,[[7,19,22,25]]);}));return function(_x3){return _ref10.apply(this,arguments);};}());}},{key:"S",value:function S(t){var _this6=this;return new Promise(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(e){var i,_iterator67,_step67,_t86;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:null===_this6.g&&(_this6.g=[]);_context3.next=3;return _this6.M(t);case 3:i=_context3.sent;_context3.next=6;return _this6.k.replace(i);case 6:_this6.T();_this6.$();if(!(null!==_this6.g)){_context3.next=12;break;}_iterator67=_createForOfIteratorHelper(_this6.g);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){_t86=_step67.value;_t86();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}_this6.g=null;case 12:e();case 13:case"end":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref11.apply(this,arguments);};}());}},{key:"A",value:function A(t){var _this7=this;return new Promise(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(e){var i,_iterator68,_step68,_t87;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:null===_this7.v&&(_this7.v=[]);_context4.next=3;return Rs(t);case 3:i=_context4.sent;_this7.js=i;_iterator68=_createForOfIteratorHelper(_this7.v);try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){_t87=_step68.value;_t87();}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}_this7.v=null,e();case 8:case"end":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref12.apply(this,arguments);};}());}},{key:"$",value:function(){var _$=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var t,e;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.whenThemeReady;case 2:t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e));case 4:case"end":return _context5.stop();}}},_callee5,this);}));function $(){return _$.apply(this,arguments);}return $;}()},{key:"T",value:function(){var _T=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var t,_Ts$parse,_Ts$parse2,e,i,s,n,o;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.whenThemeReady;case 2:t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);_Ts$parse=new Ts().parse(t,"hsla"),_Ts$parse2=_slicedToArray(_Ts$parse,4),e=_Ts$parse2[0],i=_Ts$parse2[1],s=_Ts$parse2[2],n=_Ts$parse2[3],o=_toConsumableArray(this.k.cssRules).reverse().find(function(t){return 1===t.type&&"body"===t.selectorText;});o.styleMap.set("--accent-color-h",e),o.styleMap.set("--accent-color-s","".concat(i,"%")),o.styleMap.set("--accent-color-l","".concat(s,"%")),o.styleMap.set("--accent-color-a",n);case 6:case"end":return _context6.stop();}}},_callee6,this);}));function T(){return _T.apply(this,arguments);}return T;}()},{key:"C",value:function C(){var t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null};}},{key:"D",value:function D(t){var e=[],i=-1;for(;;){var _s78=t.indexOf("@import",i);if(!(_s78>-1))break;{var _n44=t.indexOf(";",_s78),_o34=0,_l27=t.indexOf(".css",_s78)+".css".length,_a17=t.indexOf("'",_s78),_h13=t.indexOf('"',_s78);if(_a17>_s78&&_a17<_n44)_o34=_a17+1;else if(_h13>_s78&&_h13<_n44)_o34=_h13+1;else{var _e76=t.indexOf("url(",_s78);_e76>_s78&&_e76<_n44&&(_o34=_e76+"url(".length);}var _r10=t.substring(_o34,_l27);e.push([_r10,t.substring(_s78,_n44+1)]),i=_l27;}}return e;}}]);return _temp2;}((_temp3=/*#__PURE__*/function(){function _temp3(){_classCallCheck(this,_temp3);_defineProperty(this,"o",{});}_createClass(_temp3,[{key:"addEventListener",value:function addEventListener(t,e){this.o||(this.o={});var i=this.o[t];i||(this.o[t]=i=[]),i.push(e),i.length>1e4&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1){this.o[t][s]!==e&&i.push(this.o[t][s]);}this.o[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.o)return;var e=this.o[t.type];if(!e)return;var i=null;for(var _s79=e.length-1;_s79>=0;_s79-=1){var _n45=void 0,_o35=e[_s79];try{_n45=_o35.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n45)break;}if(i)throw i;}}]);return _temp3;}(),_temp3)),_temp2)();if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get:function get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse";}}),Element.prototype.setPointerCapture){var _t88=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){var _this8=this;_t88.call(this,e);var i=getComputedStyle(this).cursor,s=[];for(var _t89=this.parentNode||this.host;_t89&&_t89!==document;_t89=_t89.parentNode||_t89.host){if(_t89.nodeType===document.DOCUMENT_FRAGMENT_NODE){var _e77=document.createElementNS(_t89.host.namespaceURI,"style");_e77.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t89.append(_e77),s.push(_e77);}else if(_t89.nodeType===document.DOCUMENT_NODE){var _e78=document.createElement("style");_e78.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t89.head.append(_e78),s.push(_e78);}}var n=function n(){window.removeEventListener("pointerup",n,!0),_this8.removeEventListener("lostpointercapture",n);var _iterator69=_createForOfIteratorHelper(s),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _t90=_step69.value;_t90.remove();}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}};window.addEventListener("pointerup",n,!0),this.addEventListener("lostpointercapture",n);};}Object.defineProperty(Animation.prototype,"finished",{get:function get(){var _this9=this;return new Promise(function(t){"finished"===_this9.playState?t():_this9.addEventListener("finish",function(){return t();},{once:!0});});}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t);}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild);}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this);}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling);}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null;}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this);});var Us=HTMLDialogElement.prototype.showModal,Fs=HTMLDialogElement.prototype.close,Ns=[],js={get open(){return this.hasAttribute("open");},showModal:function showModal(){var _arguments=arguments,_this10=this;return new Promise(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(t){var _t92,_t93,_t94,_e79,_i86,_s80,_t95,_t96,_e80,_i88,_t97,_e81,_i90,_s81,_n46;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!0!==_this10.open&&!1!==_this10.isConnected)){_context7.next=25;break;}_context7.t0=_this10.P;if(!_context7.t0){_context7.next=5;break;}_context7.next=5;return _this10.P.finished;case 5:_context7.t1=_this10.R;if(!_context7.t1){_context7.next=9;break;}_context7.next=9;return _this10.R.finished;case 9:Us.apply(_this10,_arguments);document.body.style.overflow="hidden",Ns.push(_this10),_this10.addEventListener("close",_t92=function _t91(e){e.target===_this10&&(_this10.removeEventListener("close",_t92),Ns=Ns.filter(function(t){return t!==_this10;}),0===Ns.length&&(document.body.style.overflow=null));});_t93=_this10.querySelector("[autofocus]");_t93?_t93.focus():_this10.focus();if(!1===_this10.hasAttribute("hidden")){_t94=getComputedStyle(_this10),_e79=_t94.getPropertyValue("transition-property"),_i86=1e3*parseFloat(_t94.getPropertyValue("transition-duration")),_s80=_t94.getPropertyValue("transition-timing-function");if("transform"===_e79){_t95=_this10.getBoundingClientRect();"0px"===getComputedStyle(_this10).left&&"0px"!==getComputedStyle(_this10).right?_this10.P=_this10.animate({transform:["translateX(-".concat(_t95.right,"px)"),"translateX(0px)"]},{duration:_i86,easing:_s80}):"0px"===getComputedStyle(_this10).right&&"0px"!==getComputedStyle(_this10).left?_this10.P=_this10.animate({transform:["translateX(".concat(_t95.width,"px)"),"translateX(0px)"]},{duration:_i86,easing:_s80}):_this10.P=_this10.animate({transform:["translateY(-".concat(_t95.bottom,"px)"),"translateY(0px)"]},{duration:_i86,easing:_s80});}}_this10.addEventListener("keydown",_t96=function _t96(t){"Escape"===t.key&&t.preventDefault();}),document.addEventListener("keydown",_e80=function _e80(t){"Escape"===t.key&&t.target===document.body&&t.preventDefault();}),_this10.addEventListener("close",_i88=function _i87(s){s.target===_this10&&(_this10.removeEventListener("close",_i88),_this10.removeEventListener("keydown",_t96),document.removeEventListener("keydown",_e80));});_s81=!0,_n46=function _n46(t){var e=_this10.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height;};_this10.addEventListener("pointerdown",_t97=function _t97(t){_s81=!1===_n46(t);}),_this10.addEventListener("click",_e81=function _e81(t){t.target===_this10&&!0===t.isTrusted&&!1===t.defaultPrevented&&!0===_s81&&!1===_n46(t)&&!0===_this10.hasAttribute("open")&&(_this10.close(),_this10.dispatchEvent(new CustomEvent("userclose")));}),_this10.addEventListener("close",_i90=function _i89(s){s.target===_this10&&(_this10.removeEventListener("pointerdown",_t97),_this10.removeEventListener("click",_e81),_this10.removeEventListener("close",_i90));});_context7.t2=_this10.P;if(!_context7.t2){_context7.next=22;break;}_context7.next=21;return _this10.P.finished;case 21:_this10.P=null;case 22:t();_context7.next=26;break;case 25:t();case 26:case"end":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref13.apply(this,arguments);};}());},close:function close(){var _arguments2=arguments,_this11=this;return new Promise(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(t){var _t98,_e82,_i91,_s82,_n47,_t99;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.t0=_this11.P;if(!_context8.t0){_context8.next=4;break;}_context8.next=4;return _this11.P.finished;case 4:_context8.t1=_this11.R;if(!_context8.t1){_context8.next=8;break;}_context8.next=8;return _this11.R.finished;case 8:if(!(!1===_this11.hasAttribute("hidden"))){_context8.next=16;break;}_t98=getComputedStyle(_this11),_e82=_t98.getPropertyValue("transition-property"),_i91=_t98.getPropertyValue("transition-duration")||"0s",_s82=1e3*parseFloat(_i91),_n47=_t98.getPropertyValue("transition-timing-function")||"ease";if(!("transform"===_e82)){_context8.next=16;break;}_t99=_this11.getBoundingClientRect();"0px"===getComputedStyle(_this11).left&&"0px"!==getComputedStyle(_this11).right?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(-".concat(_t99.right,"px)")]},{duration:_s82,easing:_n47}):"0px"===getComputedStyle(_this11).right&&"0px"!==getComputedStyle(_this11).left?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(".concat(_t99.width,"px)")]},{duration:_s82,easing:_n47}):_this11.R=_this11.animate({transform:["translateY(0px)","translateY(-".concat(_t99.bottom+50,"px)")]},{duration:_s82,easing:_n47});_context8.next=15;return _this11.R.finished;case 15:_this11.R=null;case 16:_this11.hasAttribute("open")&&Fs.apply(_this11,_arguments2),t();case 17:case"end":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref14.apply(this,arguments);};}());}};for(var _i92=0,_Object$entries=Object.entries(Object.getOwnPropertyDescriptors(js));_i92<_Object$entries.length;_i92++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i92],2),_t100=_Object$entries$_i[0],_e83=_Object$entries$_i[1];Object.defineProperty(HTMLDialogElement.prototype,_t100,_e83);}var Vs=/*#__PURE__*/function(_HTMLElement){_inherits(Vs,_HTMLElement);var _super2=_createSuper(Vs);_createClass(Vs,[{key:"expanded",get:function get(){return this.hasAttribute("expanded");},set:function set(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Vs(){var _temp4,_this12;_classCallCheck(this,Vs);(_temp4=_this12=_super2.call(this),_defineProperty(_assertThisInitialized(_this12),"I",{}),_defineProperty(_assertThisInitialized(_this12),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this12),"O",null),_defineProperty(_assertThisInitialized(_this12),"B",null),_defineProperty(_assertThisInitialized(_this12),"H",null),_temp4),_this12._shadowRoot=_this12.attachShadow({mode:"closed"}),_this12._shadowRoot.adoptedStyleSheets=[Vs._shadowStyleSheet],_this12._shadowRoot.append(document.importNode(Vs._shadowTemplate.content,!0));var _iterator70=_createForOfIteratorHelper(_this12._shadowRoot.querySelectorAll("[id]")),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _t101=_step70.value;_this12.I[_t101.id]=_t101;}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}_this12.O=new ResizeObserver(function(){return _this12.F();}),_this12.addEventListener("click",function(t){return _this12.N(t);}),_this12.I.arrow.addEventListener("keydown",function(t){return _this12.q(t);});return _this12;}_createClass(Vs,[{key:"connectedCallback",value:function connectedCallback(){var _this13=this;this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this13.U();}),this.O.observe(this);}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B),this.O.unobserve(this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U());}},{key:"expand",value:function expand(){var _this14=this;return new Promise(/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(t){var _t102,_e84,_i93;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(!1===_this14.expanded)){_context9.next=10;break;}_t102=_this14.getBoundingClientRect();_this14.H&&_this14.H.finish(),_this14.expanded=!0,_this14.removeAttribute("animating");_e84=_this14.getBoundingClientRect();_this14.setAttribute("animating","");_i93=_this14.animate({height:[_t102.height+"px",_e84.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this14.H=_i93;_context9.next=9;return _i93.finished;case 9:_this14.H===_i93&&_this14.removeAttribute("animating");case 10:t();case 11:case"end":return _context9.stop();}}},_callee9);}));return function(_x8){return _ref15.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this15=this;return new Promise(/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(t){var _t103,_e85,_i94;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(!0===_this15.expanded)){_context10.next=10;break;}_t103=_this15.getBoundingClientRect();_this15.H&&_this15.H.finish(),_this15.expanded=!1,_this15.removeAttribute("animating");_e85=_this15.getBoundingClientRect();_this15.setAttribute("animating","");_i94=_this15.animate({height:[_t103.height+"px",_e85.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this15.H=_i94;_context10.next=9;return _i94.finished;case 9:_this15.H===_i94&&_this15.removeAttribute("animating");case 10:t();case 11:case"end":return _context10.stop();}}},_callee10);}));return function(_x9){return _ref16.apply(this,arguments);};}());}},{key:"F",value:function F(){var t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null;}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"q",value:function q(t){"Enter"===t.key&&this.querySelector("header").click();}},{key:"N",value:function N(t){var e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))));}}]);return Vs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vs,"observedAttributes",["expanded","size"]);_defineProperty(Vs,"_shadowTemplate",$s(_templateObject125()));_defineProperty(Vs,"_shadowStyleSheet",Is(_templateObject126()));customElements.define("x-accordion",Vs);var Hs=/*#__PURE__*/function(_HTMLElement2){_inherits(Hs,_HTMLElement2);var _super3=_createSuper(Hs);_createClass(Hs,[{key:"ownerElement",get:function get(){return this.j?this.j:document.body.firstElementChild;},set:function set(t){this.j=t;}}]);function Hs(){var _temp5,_this16;_classCallCheck(this,Hs);(_temp5=_this16=_super3.call(this),_defineProperty(_assertThisInitialized(_this16),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this16),"j",null),_temp5),_this16._shadowRoot=_this16.attachShadow({mode:"closed"}),_this16._shadowRoot.adoptedStyleSheets=[Hs._shadowStyleSheet],_this16.addEventListener("pointerdown",function(t){return t.preventDefault();});return _this16;}_createClass(Hs,[{key:"connectedCallback",value:function connectedCallback(){this.addEventListener("wheel",this.K=function(t){return t.preventDefault();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.removeEventListener("wheel",this.K);}},{key:"show",value:function show(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;var e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{var _t104=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=_t104-1;}if(this.style.top=i+"px",this.style.left=s+"px",t)return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished;}},{key:"hide",value:function hide(){var _this17=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(t){var _t105=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return _t105.finished.then(function(){_this17.remove();}),_t105.finished;}this.remove();}}]);return Hs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hs,"_shadowStyleSheet",Is(_templateObject127()));customElements.define("x-backdrop",Hs);var Ws=/*#__PURE__*/function(_HTMLElement3){_inherits(Ws,_HTMLElement3);var _super4=_createSuper(Ws);_createClass(Ws,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Ws(){var _temp6,_this18;_classCallCheck(this,Ws);(_temp6=_this18=_super4.call(this),_defineProperty(_assertThisInitialized(_this18),"X",0),_defineProperty(_assertThisInitialized(_this18),"V",0),_defineProperty(_assertThisInitialized(_this18),"Z",80),_defineProperty(_assertThisInitialized(_this18),"G",1),_defineProperty(_assertThisInitialized(_this18),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this18),"I",{}),_defineProperty(_assertThisInitialized(_this18),"B",null),_defineProperty(_assertThisInitialized(_this18),"Y",!1),_defineProperty(_assertThisInitialized(_this18),"W",!1),_defineProperty(_assertThisInitialized(_this18),"J",!1),_defineProperty(_assertThisInitialized(_this18),"tt",!1),_temp6),_this18._shadowRoot=_this18.attachShadow({mode:"closed"}),_this18._shadowRoot.adoptedStyleSheets=[Ws._shadowStyleSheet],_this18._shadowRoot.append(document.importNode(Ws._shadowTemplate.content,!0));var _iterator71=_createForOfIteratorHelper(_this18._shadowRoot.querySelectorAll("[id]")),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _t106=_step71.value;_this18.I[_t106.id]=_t106;}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}_this18.I["hue-slider"].addEventListener("pointerdown",function(t){_this18.et(t);}),_this18.I["saturation-slider"].addEventListener("pointerdown",function(t){_this18.it(t);}),_this18.I["lightness-slider"].addEventListener("pointerdown",function(t){_this18.st(t);}),_this18.I["alpha-slider"].addEventListener("pointerdown",function(t){_this18.ht(t);});return _this18;}_createClass(Ws,[{key:"connectedCallback",value:function connectedCallback(){var _this19=this;this.nt(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this19.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt(),this.xt();}},{key:"rt",value:function rt(){this.I["hue-slider-marker"].style.left=ps(this.X,0,360,0)/360*100+"%";}},{key:"dt",value:function dt(){this.I["saturation-slider-marker"].style.left=ps(this.V,0,100,2)+"%";}},{key:"ct",value:function ct(){this.I["lightness-slider-marker"].style.left=ps(this.Z,0,100,2)+"%";}},{key:"gt",value:function gt(){this.I["alpha-slider-marker"].style.left=ps(100*(1-this.G),0,100,2)+"%";}},{key:"ut",value:function ut(){var t=this.X;this.I["saturation-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", 0%, 50%), hsl(").concat(t,", 100%, 50%)\n    )");}},{key:"bt",value:function bt(){var t=this.X,e=this.V;this.I["lightness-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", ").concat(e,"%, 0%), hsl(").concat(t,", ").concat(e,"%, 50%), hsl(").concat(t,", ").concat(e,"%, 100%)\n    )");}},{key:"xt",value:function xt(){var t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, 1), hsla(").concat(t,", ").concat(e,"%, ").concat(i,"%, 0))\n    ");}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt){var _Ts$parse3=new Ts().parse(this.value,"hsla"),_Ts$parse4=_slicedToArray(_Ts$parse3,4),_t107=_Ts$parse4[0],_e86=_Ts$parse4[1],_i95=_Ts$parse4[2],_s83=_Ts$parse4[3];this.X=_t107,this.V=_e86,this.Z=_i95,this.G=_s83,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"et",value:function et(t){var _this20=this;if(1!==t.buttons)return;var e,_i96,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=ps(e,0,360,0),e!==_this20.X&&(_this20.X=e,_this20.value=Ms([_this20.X,_this20.V,_this20.Z,_this20.G],"hsla","hsla"),_this20.rt(),_this20.ut(),_this20.bt(),_this20.xt(),_this20.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i96=function i(){_this20.I["hue-slider"].removeEventListener("pointermove",e),_this20.I["hue-slider"].removeEventListener("lostpointercapture",_i96),_this20.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this20.Y=!1;});}},{key:"it",value:function it(t){var _this21=this;if(1!==t.buttons)return;var e,_i97,s=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=ps(e,0,100,0),e!==_this21.V&&(_this21.V=e,_this21.value=Ms([_this21.X,_this21.V,_this21.Z,_this21.G],"hsla","hsla"),_this21.dt(),_this21.ut(),_this21.bt(),_this21.xt(),_this21.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["saturation-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["saturation-slider"].addEventListener("lostpointercapture",_i97=function i(){_this21.I["saturation-slider"].removeEventListener("pointermove",e),_this21.I["saturation-slider"].removeEventListener("lostpointercapture",_i97),_this21.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this21.W=!1;});}},{key:"st",value:function st(t){var _this22=this;if(1!==t.buttons)return;var e,_i98,s=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=ps(e,0,100,0),e!==_this22.Z&&(_this22.Z=e,_this22.value=Ms([_this22.X,_this22.V,_this22.Z,_this22.G],"hsla","hsla"),_this22.ct(),_this22.ut(),_this22.bt(),_this22.xt(),_this22.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["lightness-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["lightness-slider"].addEventListener("lostpointercapture",_i98=function i(){_this22.I["lightness-slider"].removeEventListener("pointermove",e),_this22.I["lightness-slider"].removeEventListener("lostpointercapture",_i98),_this22.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this22.J=!1;});}},{key:"ht",value:function ht(t){var _this23=this;if(1!==t.buttons)return;var e,_i99,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=ps(e,0,1,2),e!==_this23.G&&(_this23.G=e,_this23.value=Ms([_this23.X,_this23.V,_this23.Z,_this23.G],"hsla","hsla"),_this23.gt(),_this23.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i99=function i(){_this23.I["alpha-slider"].removeEventListener("pointermove",e),_this23.I["alpha-slider"].removeEventListener("lostpointercapture",_i99),_this23.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this23.tt=!1;});}}]);return Ws;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ws,"observedAttributes",["value","size"]);_defineProperty(Ws,"_shadowTemplate",$s(_templateObject128()));_defineProperty(Ws,"_shadowStyleSheet",Is(_templateObject129()));customElements.define("x-barscolorpicker",Ws);var Ys=/*#__PURE__*/function(_HTMLElement4){_inherits(Ys,_HTMLElement4);var _super5=_createSuper(Ys);_createClass(Ys,[{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}}]);function Ys(){var _temp7,_this24;_classCallCheck(this,Ys);(_temp7=_this24=_super5.call(this),_defineProperty(_assertThisInitialized(_this24),"_shadowRoot",null),_temp7),_this24._shadowRoot=_this24.attachShadow({mode:"closed"}),_this24._shadowRoot.adoptedStyleSheets=[Ys._shadowStyleSheet],_this24._shadowRoot.append(document.importNode(Ys._shadowTemplate.content,!0));return _this24;}return Ys;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ys,"_shadowTemplate",$s(_templateObject130()));_defineProperty(Ys,"_shadowStyleSheet",Is(_templateObject131()));customElements.define("x-box",Ys);var qs=function qs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i100=_slicedToArray(i,1),_t108=_i100[0];s=null===e?document.createElement(_t108):document.createElement(_t108,e);}else if(2===i.length){var _i101=_slicedToArray(i,2),_t109=_i101[0],_e87=_i101[1];"svg"===_t109&&(s=document.createElementNS("http://www.w3.org/2000/svg",_e87));}return s;},Xs=function Xs(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Xs(t.getRootNode().host,e):s;},Zs=function Zs(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},Ks=function Ks(){return Date.now();},Qs=function Qs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,a=function a(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len10=arguments.length,h=new Array(_len10),_key10=0;_key10<_len10;_key10++){h[_key10]=arguments[_key10];}return s=h,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(a,d)),o;};},Js=function Js(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len11=arguments.length,l=new Array(_len11),_key11=0;_key11<_len11;_key11++){l[_key11]=arguments[_key11];}var a=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),a&&(o=t.apply(i,l)),o;};},tn=Math.max;var en=/*#__PURE__*/function(_HTMLElement5){_inherits(en,_HTMLElement5);var _super6=_createSuper(en);_createClass(en,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"skin",get:function get(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;},set:function set(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"expanded",get:function get(){return this.hasAttribute("expanded");}},{key:"expandable",get:function get(){return this.ft()||this.wt();}},{key:"ownerButtons",get:function get(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement;}return null;}}]);function en(){var _temp8,_this25;_classCallCheck(this,en);(_temp8=_this25=_super6.call(this),_defineProperty(_assertThisInitialized(_this25),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this25),"I",{}),_defineProperty(_assertThisInitialized(_this25),"vt",!1),_defineProperty(_assertThisInitialized(_this25),"yt",null),_defineProperty(_assertThisInitialized(_this25),"zt",0),_defineProperty(_assertThisInitialized(_this25),"B",null),_temp8),_this25._shadowRoot=_this25.attachShadow({mode:"closed"}),_this25._shadowRoot.adoptedStyleSheets=[en._shadowStyleSheet],_this25._shadowRoot.append(document.importNode(en._shadowTemplate.content,!0));var _iterator72=_createForOfIteratorHelper(_this25._shadowRoot.querySelectorAll("[id]")),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _t110=_step72.value;_this25.I[_t110.id]=_t110;}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}_this25.addEventListener("pointerdown",function(t){return _this25.kt(t);}),_this25.addEventListener("click",function(t){return _this25.N(t);}),_this25.addEventListener("keydown",function(t){return _this25.Vs(t);}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return customElements.whenDefined("x-backdrop");case 2:_this25.I.backdrop=qs("x-backdrop");_this25.I.backdrop.style.background="rgba(0, 0, 0, 0)";case 4:case"end":return _context11.stop();}}},_callee11);}))();return _this25;}_createClass(en,[{key:"connectedCallback",value:function connectedCallback(){var _this26=this;this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.Ct(),this.St(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this26.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.St():"size"===t&&this.U();}},{key:"expand",value:function expand(){var _this27=this;return new Promise(/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(t){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!_this27.ft()){_context12.next=5;break;}_context12.next=3;return _this27.Et();case 3:_context12.next=9;break;case 5:_context12.t0=_this27.wt();if(!_context12.t0){_context12.next=9;break;}_context12.next=9;return _this27.At();case 9:t();case 10:case"end":return _context12.stop();}}},_callee12);}));return function(_x10){return _ref18.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this28=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(e){return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!_this28.Lt()){_context13.next=5;break;}_context13.next=3;return _this28.Tt(t);case 3:_context13.next=9;break;case 5:_context13.t0=_this28.Mt();if(!_context13.t0){_context13.next=9;break;}_context13.next=9;return _this28.Dt(t);case 9:e();case 10:case"end":return _context13.stop();}}},_callee13);}));return function(_x11){return _ref19.apply(this,arguments);};}());}},{key:"Et",value:function Et(){var _this29=this;return new Promise(/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(t){var _t111;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!_this29.ft()){_context14.next=9;break;}_t111=_this29.querySelector(":scope > x-menu");_this29.vt=_this29.matches(":focus");_this29.setAttribute("expanded","");_this29.I.backdrop.ownerElement=_t111;_this29.I.backdrop.show(!1);_context14.next=8;return _t111.openNextToElement(_this29,"vertical",3);case 8:_t111.focus();case 9:t();case 10:case"end":return _context14.stop();}}},_callee14);}));return function(_x12){return _ref20.apply(this,arguments);};}());}},{key:"Tt",value:function Tt(){var _this30=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(e){var _e88,_t112;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(!_this30.Lt()){_context15.next=17;break;}_e88=_this30.querySelector(":scope > x-menu");_e88.setAttribute("closing","");_context15.next=5;return t;case 5:_context15.next=7;return _e88.close();case 7:_this30.I.backdrop.hide(!1);_this30.removeAttribute("expanded");_this30.replaceWith(_this30);if(!_this30.vt){_context15.next=14;break;}_this30.focus();_context15.next=16;break;case 14:_t112=Xs(_this30.parentNode,"[tabindex]");_t112&&_t112.focus();case 16:_e88.removeAttribute("closing");case 17:e();case 18:case"end":return _context15.stop();}}},_callee15);}));return function(_x13){return _ref21.apply(this,arguments);};}());}},{key:"ft",value:function ft(){var t=!1;if(!1===this.disabled){var _e89=this.querySelector(":scope > x-menu");_e89&&!1===_e89.hasAttribute("opened")&&!1===_e89.hasAttribute("closing")&&null!==_e89.querySelector("x-menuitem")&&(t=!0);}return t;}},{key:"Lt",value:function Lt(){var t=!1;if(!1===this.disabled){var _e90=this.querySelector(":scope > x-menu");_e90&&_e90.opened&&(t=!0);}return t;}},{key:"At",value:function At(){var _this31=this;return new Promise(/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(t){var _t113;return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!_this31.wt()){_context16.next=6;break;}_t113=_this31.querySelector(":scope > x-popover");_this31.vt=_this31.matches(":focus");_this31.setAttribute("expanded","");_context16.next=6;return _t113.open(_this31);case 6:t();case 7:case"end":return _context16.stop();}}},_callee16);}));return function(_x14){return _ref22.apply(this,arguments);};}());}},{key:"Dt",value:function Dt(){var _this32=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref23=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(e){var _e91,_t114;return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!_this32.Mt()){_context17.next=16;break;}_e91=_this32.querySelector(":scope > x-popover");_e91.setAttribute("closing","");_context17.next=5;return t;case 5:_context17.next=7;return _e91.close();case 7:_this32.removeAttribute("expanded");_e91.modal&&_this32.replaceWith(_this32);if(!_this32.vt){_context17.next=13;break;}_this32.focus();_context17.next=15;break;case 13:_t114=Xs(_this32.parentNode,"[tabindex]");_t114&&_t114.focus();case 15:_e91.removeAttribute("closing");case 16:e();case 17:case"end":return _context17.stop();}}},_callee17);}));return function(_x15){return _ref23.apply(this,arguments);};}());}},{key:"wt",value:function wt(){var t=!1;if(!1===this.disabled){var _e92=this.querySelector(":scope > x-popover");_e92&&!1===_e92.hasAttribute("opened")&&(t=!0);}return t;}},{key:"Mt",value:function Mt(){var t=!1;if(!1===this.disabled){var _e93=this.querySelector(":scope > x-popover");_e93&&_e93.opened&&(t=!0);}return t;}},{key:"$t",value:function $t(){var _this33=this;return new Promise(function(t){_this33.Pt()&&_this33.querySelector(":scope > dialog").showModal(),t();});}},{key:"Pt",value:function Pt(){var t=!1;if(!1===this.disabled){var _e94=this.querySelector(":scope > dialog");_e94&&!1===_e94.hasAttribute("open")&&!1===_e94.hasAttribute("closing")&&(t=!0);}return t;}},{key:"Rt",value:function Rt(){var _this34=this;return new Promise(function(t){_this34.It()&&(_this34.querySelector(":scope > x-notification").opened=!0),t();});}},{key:"It",value:function It(){var t=!1;if(!1===this.disabled){var _e95=this.querySelector(":scope > x-notification");!_e95||_e95.hasAttribute("opened")||_e95.hasAttribute("closing")||(t=!0);}return t;}},{key:"Ct",value:function Ct(){var t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none";}},{key:"St",value:function St(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"kt",value:function kt(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.yt=t,t.target===this.I.backdrop)this.Ot(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Bt(t);}}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.I.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Ht(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ft(t);}}},{key:"Ot",value:function Ot(t){this.collapse();}},{key:"Bt",value:function(){var _Bt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(t){var _this35=this;var _t115,_t116,_e96,_i102,_e97,_e98,_i103,_s84,_n48,_o36,_l28,_t118,_a18,_h14,_t119,_t120,_e99,_i104,_s85,_n49,_o37,_l29,_a19;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:if(!(1===t.buttons)){_context20.next=49;break;}if(!this.querySelector(":scope > dialog[open]")){_context20.next=5;break;}t.preventDefault();_context20.next=47;break;case 5:if(!(!1!==this.contains(t.target))){_context20.next=47;break;}if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){_t115=Xs(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t115?_t115.focus():_this35.blur();},{once:!0});}if(!1===this.ft()&&!1===this.wt()&&!1===this.Mt()){_t116=Date.now(),_e96=!0,_i102=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var s;return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_e96=!1;s=Date.now()-_t116;_context18.t0=s<_i102;if(!_context18.t0){_context18.next=6;break;}_context18.next=6;return Zs(_i102-s);case 6:_this35.removeAttribute("pressed");case 7:case"end":return _context18.stop();}}},_callee18);})),{once:!0}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var _t117;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(!_this35.ownerButtons){_context19.next=19;break;}if(!(0===_this35.ownerButtons.tracking||2===_this35.ownerButtons.tracking)){_context19.next=6;break;}_context19.next=4;return Zs(10);case 4:_context19.next=17;break;case 6:if(!(1!==_this35.ownerButtons.tracking||!1!==_this35.toggled&&!_this35.mixed)){_context19.next=15;break;}if(!(3===_this35.ownerButtons.tracking)){_context19.next=13;break;}_t117=_toConsumableArray(_this35.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});_context19.t0=!1===_this35.toggled||_t117.length>1;if(!_context19.t0){_context19.next=13;break;}_context19.next=13;return Zs(10);case 13:_context19.next=17;break;case 15:_context19.next=17;return Zs(10);case 17:_context19.next=23;break;case 19:_context19.t1=_this35.togglable;if(!_context19.t1){_context19.next=23;break;}_context19.next=23;return Zs(10);case 23:_e96&&_this35.setAttribute("pressed","");case 24:case"end":return _context19.stop();}}},_callee19);}))();}this.ft()?"touch"!==t.pointerType&&this.Et():this.wt()?"touch"!==t.pointerType&&this.At():this.Mt()&&this.Dt();_e97=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_e97)){_context20.next=27;break;}_e98=this.I.ripples.getBoundingClientRect(),_i103=1.5*tn(_e98.width,_e98.height),_s84=t.clientY-_e98.y-_i103/2,_n48=t.clientX-_e98.x-_i103/2,_o36=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_l28=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)_l28=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)_l28=!1;else if(3===this.ownerButtons.tracking){_t118=_toConsumableArray(this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});(!1===this.toggled||_t118.length>1)&&(_l28=!1);}}else this.togglable&&(_l28=!1);_a18=qs("div");_a18.setAttribute("part","ripple"),_a18.setAttribute("class","ripple pointer-down-ripple"),_a18.setAttribute("style","width: ".concat(_i103,"px; height: ").concat(_i103,"px; top: ").concat(_s84,"px; left: ").concat(_n48,"px;")),this.I.ripples.append(_a18),this.I.ripples.style.contain="strict";_h14=_a18.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=18;return _o36;case 18:if(!_l28){_context20.next=24;break;}_context20.next=21;return _h14.finished;case 21:_t119=_a18.animate({opacity:[getComputedStyle(_a18).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=24;return _t119.finished;case 24:_a18.remove();_context20.next=47;break;case 27:if(!("unbounded-ripple"===_e97)){_context20.next=47;break;}_t120=this.I.ripples.getBoundingClientRect(),_e99=1.25*_t120.height,_i104=_t120.y+_t120.height/2-_t120.y-_e99/2,_s85=_t120.x+_t120.width/2-_t120.x-_e99/2,_n49=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_o37=qs("div");_o37.setAttribute("part","ripple");_o37.setAttribute("class","ripple pointer-down-ripple");_o37.setAttribute("style","width: ".concat(_e99,"px; height: ").concat(_e99,"px; top: ").concat(_i104,"px; left: ").concat(_s85,"px;"));this.I.ripples.append(_o37);this.I.ripples.style.contain="none";_o37.hidden=!0;_context20.next=37;return Zs(20);case 37:_o37.hidden=!1;_l29=_o37.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=41;return _n49;case 41:_context20.next=43;return _l29.finished;case 43:_a19=_o37.animate({opacity:[getComputedStyle(_o37).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=46;return _a19.finished;case 46:_o37.remove();case 47:_context20.next=50;break;case 49:t.preventDefault();case 50:case"end":return _context20.stop();}}},_callee20,this);}));function Bt(_x16){return _Bt.apply(this,arguments);}return Bt;}()},{key:"Ft",value:function(){var _Ft=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(t){var e,_t121,_t122,_e100,_i105,_s86,_n50,_o38,_l30,_t123,_t124,_e101,_i106,_s87,_n51;return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:e=this.querySelector(":scope > x-menu, :scope > x-popover");if(!e){_context21.next=5;break;}if(!e.hasAttribute("closing")){_context21.next=4;break;}return _context21.abrupt("return");case 4:e.focus();case 5:if(!(!1===this.Mt()&&(this.Pt()?this.$t():this.It()&&this.Rt()),this.yt&&"touch"===this.yt.pointerType&&(this.ft()?this.Et():this.wt()&&this.At()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context21.next=34;break;}_t121=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t121)){_context21.next=22;break;}_t122=this.I.ripples.getBoundingClientRect(),_e100=1.5*tn(_t122.width,_t122.height),_i105=_t122.y+_t122.height/2-_t122.y-_e100/2,_s86=_t122.x+_t122.width/2-_t122.x-_e100/2,_n50=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(_n50=!1):this.togglable&&(_n50=!1);_o38=qs("div");_o38.setAttribute("part","ripple"),_o38.setAttribute("class","ripple click-ripple"),_o38.setAttribute("style","width: ".concat(_e100,"px; height: ").concat(_e100,"px; top: ").concat(_i105,"px; left: ").concat(_s86,"px;")),this.I.ripples.append(_o38),this.I.ripples.style.contain="strict";_l30=_o38.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(!_n50){_context21.next=19;break;}_context21.next=16;return _l30.finished;case 16:_t123=_o38.animate({opacity:[getComputedStyle(_o38).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context21.next=19;return _t123.finished;case 19:_o38.remove();_context21.next=34;break;case 22:if(!("unbounded-ripple"===_t121)){_context21.next=34;break;}_t124=this.I.ripples.getBoundingClientRect(),_e101=1.35*_t124.height,_i106=_t124.y+_t124.height/2-_t124.y-_e101/2,_s87=_t124.x+_t124.width/2-_t124.x-_e101/2,_n51=qs("div");_n51.setAttribute("part","ripple");_n51.setAttribute("class","ripple");_n51.setAttribute("style","width: ".concat(_e101,"px; height: ").concat(_e101,"px; top: ").concat(_i106,"px; left: ").concat(_s87,"px;"));this.I.ripples.append(_n51);this.I.ripples.style.contain="none";_context21.next=31;return _n51.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 31:_context21.next=33;return _n51.animate({opacity:[getComputedStyle(_n51).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 33:_n51.remove();case 34:case"end":return _context21.stop();}}},_callee21,this);}));function Ft(_x17){return _Ft.apply(this,arguments);}return Ft;}()},{key:"Ht",value:function Ht(t){var e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd);}},{key:"Vs",value:function Vs(t){var _this36=this;!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.ft()?(t.preventDefault(),this.Et().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.wt()?(t.preventDefault(),this.At()):this.Pt()?(t.preventDefault(),this.$t()):this.It()?(t.preventDefault(),this.Rt()):this.matches(":focus")&&(this.Mt()?this.Dt():this.Lt()?this.Tt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.ft()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.Et().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.wt()?(t.preventDefault(),this.At()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.ft()?(t.preventDefault(),this.Et().then(function(){return _this36.querySelector(":scope > x-menu").focusLastMenuItem();})):this.wt()?(t.preventDefault(),this.At()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.Lt()||this.Mt())&&(t.preventDefault(),this.collapse()));}}]);return en;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(en,"observedAttributes",["disabled","size"]);_defineProperty(en,"_shadowTemplate",$s(_templateObject132()));_defineProperty(en,"_shadowStyleSheet",Is(_templateObject133()));customElements.define("x-button",en);var sn=Array.isArray;var nn=/*#__PURE__*/function(_HTMLElement6){_inherits(nn,_HTMLElement6);var _super7=_createSuper(nn);_createClass(nn,[{key:"tracking",get:function get(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1;},set:function set(t){this.setAttribute("tracking",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"value",get:function get(){if(2===this.tracking||3===this.tracking)return this.Nt().filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!=t;});if(1===this.tracking||0===this.tracking){var _t125=this.Nt().find(function(t){return t.toggled;});return _t125&&void 0!==_t125.value?_t125.value:null;}return-1===this.tracking?null:void 0;},set:function set(t){if(2===this.tracking||3===this.tracking){var _e102=this.Nt();if(sn(t)){var _iterator73=_createForOfIteratorHelper(_e102),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _i107=_step73.value;_i107.toggled=t.includes(_i107.value);}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}}else{var _iterator74=_createForOfIteratorHelper(_e102),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _i108=_step74.value;_i108.toggled=_i108.value===t;}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}}else if(1===this.tracking||0===this.tracking){var _e103=this.Nt(),_i109=_e103.find(function(e){return e.value===t;});var _iterator75=_createForOfIteratorHelper(_e103),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _t126=_step75.value;_t126.toggled=_t126===_i109;}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}}}]);function nn(){var _temp9,_this37;_classCallCheck(this,nn);(_temp9=_this37=_super7.call(this),_defineProperty(_assertThisInitialized(_this37),"_shadowRoot",null),_temp9),_this37._shadowRoot=_this37.attachShadow({mode:"closed"}),_this37._shadowRoot.adoptedStyleSheets=[nn._shadowStyleSheet],_this37._shadowRoot.append(document.importNode(nn._shadowTemplate.content,!0)),_this37.addEventListener("click",function(t){return _this37.N(t);},!0),_this37.addEventListener("keydown",function(t){return _this37.Vs(t);});return _this37;}_createClass(nn,[{key:"connectedCallback",value:function connectedCallback(){var _iterator76=_createForOfIteratorHelper(this.children),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _t127=_step76.value;if("x-button"===_t127.localName){"none"!==getComputedStyle(_t127).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break;}}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}}},{key:"Nt",value:function Nt(){return _toConsumableArray(this.querySelectorAll(":scope > x-button, :scope > x-box > x-button"));}},{key:"N",value:function N(t){if(0!==t.button)return;var e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){var _t128=this.Nt().filter(function(t){return t!==e;});if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;var _iterator77=_createForOfIteratorHelper(_t128),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _e104=_step77.value;_e104.toggled=!1,_e104.mixed=!1;}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;var _iterator78=_createForOfIteratorHelper(_t128),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _e105=_step78.value;_e105.toggled=!1,_e105.mixed=!1;}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){var _i110=_t128.filter(function(t){return!0===t.toggled;});(!1===e.toggled||_i110.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})));}}}},{key:"Vs",value:function Vs(t){var e=t.key;if("ArrowRight"===e){var _t129=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t129&&(_t129.nextElementSibling?_t129.nextElementSibling.focus():_t129!==_t129.parentElement.firstElementChild&&_t129.parentElement.firstElementChild.focus());}else if("ArrowLeft"===e){var _t130=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t130&&(_t130.previousElementSibling?_t130.previousElementSibling.focus():_t130!==_t130.parentElement.lastElementChild&&_t130.parentElement.lastElementChild.focus());}}}]);return nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nn,"_shadowTemplate",$s(_templateObject134()));_defineProperty(nn,"_shadowStyleSheet",Is(_templateObject135()));customElements.define("x-buttons",nn);var on=/*#__PURE__*/function(_HTMLElement7){_inherits(on,_HTMLElement7);var _super8=_createSuper(on);function on(){var _temp10,_this38;_classCallCheck(this,on);(_temp10=_this38=_super8.call(this),_defineProperty(_assertThisInitialized(_this38),"_shadowRoot",null),_temp10),_this38._shadowRoot=_this38.attachShadow({mode:"closed"}),_this38._shadowRoot.adoptedStyleSheets=[on._shadowStyleSheet],_this38._shadowRoot.append(document.importNode(on._shadowTemplate.content,!0));return _this38;}return on;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(on,"_shadowTemplate",$s(_templateObject136()));_defineProperty(on,"_shadowStyleSheet",Is(_templateObject137()));customElements.define("x-card",on);var ln=/*#__PURE__*/function(_HTMLElement8){_inherits(ln,_HTMLElement8);var _super9=_createSuper(ln);_createClass(ln,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function ln(){var _temp11,_this39;_classCallCheck(this,ln);(_temp11=_this39=_super9.call(this),_defineProperty(_assertThisInitialized(_this39),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this39),"I",{}),_defineProperty(_assertThisInitialized(_this39),"zt",0),_defineProperty(_assertThisInitialized(_this39),"B",null),_temp11),_this39._shadowRoot=_this39.attachShadow({mode:"closed"}),_this39._shadowRoot.adoptedStyleSheets=[ln._shadowStyleSheet],_this39._shadowRoot.append(document.importNode(ln._shadowTemplate.content,!0));var _iterator79=_createForOfIteratorHelper(_this39._shadowRoot.querySelectorAll("[id]")),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _t131=_step79.value;_this39.I[_t131.id]=_t131;}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}_this39.addEventListener("pointerdown",function(t){return _this39.kt(t);}),_this39.addEventListener("click",function(t){return _this39.N(t);}),_this39.addEventListener("keydown",function(t){return _this39.Vs(t);});return _this39;}_createClass(ln,[{key:"connectedCallback",value:function connectedCallback(){var _this40=this;Gs.addEventListener("sizechange",this.B=function(){return _this40.U();}),this.St(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.qt():"disabled"===t?this.Ut():"size"===t&&this.U();}},{key:"St",value:function St(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"qt",value:function qt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled);}},{key:"Ut",value:function Ut(){this.St();}},{key:"kt",value:function kt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e106=Xs(this.parentNode,"[tabindex]");_e106&&_e106.focus();}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e107=qs("div");_e107.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(_e107);var _i111=_e107.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var t;return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return _i111.finished;case 2:t=_e107.animate({opacity:[getComputedStyle(_e107).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context22.next=5;return t.finished;case 5:_e107.remove();case 6:case"end":return _context22.stop();}}},_callee22);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(t){var _t132;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(!(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context23.next=9;break;}_t132=qs("div");_t132.setAttribute("class","ripple");this.I.ripples.append(_t132);_context23.next=6;return _t132.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 6:_context23.next=8;return _t132.animate({opacity:[getComputedStyle(_t132).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 8:_t132.remove();case 9:case"end":return _context23.stop();}}},_callee23,this);}));function N(_x18){return _N.apply(this,arguments);}return N;}()},{key:"Vs",value:function Vs(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return ln;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ln,"observedAttributes",["toggled","disabled","size"]);_defineProperty(ln,"_shadowTemplate",$s(_templateObject138()));_defineProperty(ln,"_shadowStyleSheet",Is(_templateObject139()));customElements.define("x-checkbox",ln);var an=/*#__PURE__*/function(_HTMLElement9){_inherits(an,_HTMLElement9);var _super10=_createSuper(an);_createClass(an,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function an(){var _temp12,_this41;_classCallCheck(this,an);(_temp12=_this41=_super10.call(this),_defineProperty(_assertThisInitialized(_this41),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this41),"I",{}),_defineProperty(_assertThisInitialized(_this41),"jt",!1),_defineProperty(_assertThisInitialized(_this41),"vt",!1),_defineProperty(_assertThisInitialized(_this41),"B",null),_defineProperty(_assertThisInitialized(_this41),"zt",0),_defineProperty(_assertThisInitialized(_this41),"Yt",Js(function(){_this41.jt&&(_this41.jt=!1,_this41.value=_this41.I.input.value,_this41.dispatchEvent(new CustomEvent("changeend")));},400)),_temp12),_this41._shadowRoot=_this41.attachShadow({mode:"closed"}),_this41._shadowRoot.adoptedStyleSheets=[an._shadowStyleSheet],_this41._shadowRoot.append(document.importNode(an._shadowTemplate.content,!0));var _iterator80=_createForOfIteratorHelper(_this41._shadowRoot.querySelectorAll("[id]")),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _t133=_step80.value;_this41.I[_t133.id]=_t133;}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}_this41.addEventListener("click",function(t){return _this41.N(t);}),_this41.addEventListener("keydown",function(t){return _this41.Vs(t);}),_this41.addEventListener("pointerdown",function(t){return _this41.kt(t);}),_this41.addEventListener("change",function(t){return _this41.Kt(t);}),_this41.I.input.addEventListener("change",function(t){return _this41.Xt(t);});return _this41;}_createClass(an,[{key:"connectedCallback",value:function connectedCallback(){var _this42=this;var t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",Ps(this.value,"rgba")),this.St(),this.U(),this.Vt(),Gs.addEventListener("sizechange",this.B=function(){return _this42.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.Ut():"size"===t&&this.lt();}},{key:"Zt",value:function(){var _Zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(){var _t134;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(!(!1===this.hasAttribute("expanded"))){_context24.next=9;break;}_t134=this.querySelector("x-popover");_context24.t0=_t134;if(!_context24.t0){_context24.next=9;break;}this.vt=this.matches(":focus");this.setAttribute("expanded","");_context24.next=8;return _t134.open(this);case 8:_t134.focus();case 9:case"end":return _context24.stop();}}},_callee24,this);}));function Zt(){return _Zt.apply(this,arguments);}return Zt;}()},{key:"Gt",value:function(){var _Gt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var t,_t135,_t136,_args25=arguments;return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:t=_args25.length>0&&_args25[0]!==undefined?_args25[0]:null;if(!this.hasAttribute("expanded")){_context25.next=15;break;}_t135=this.querySelector("x-popover");if(!_t135){_context25.next=15;break;}_t135.setAttribute("closing","");_context25.next=7;return _t135.close();case 7:this.removeAttribute("expanded");if(!this.vt){_context25.next=12;break;}this.focus();_context25.next=14;break;case 12:_t136=Xs(this.parentNode,"[tabindex]");_t136&&_t136.focus();case 14:_t135.removeAttribute("closing");case 15:case"end":return _context25.stop();}}},_callee25,this);}));function Gt(){return _Gt.apply(this,arguments);}return Gt;}()},{key:"Vt",value:function Vt(){var _Ts$parse5=new Ts().parse(this.value,"rgba"),_Ts$parse6=_slicedToArray(_Ts$parse5,4),t=_Ts$parse6[0],e=_Ts$parse6[1],i=_Ts$parse6[2],s=_Ts$parse6[3];this.I.input.value=Ms([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s;}},{key:"St",value:function St(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.jt||this.Vt();var t=_toConsumableArray(this.querySelectorAll("*")).find(function(t){return t.localName.endsWith("colorpicker");});t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"));}},{key:"Ut",value:function Ut(){this.St();}},{key:"lt",value:function lt(){this.U();}},{key:"Kt",value:function Kt(t){t.target!==this&&(this.value=Ps(t.target.value,"rgba"),this.Vt());}},{key:"Xt",value:function Xt(){!1===this.jt&&(this.jt=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Yt();}},{key:"kt",value:function kt(t){t.target===this&&t.preventDefault();}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Gt()):(t.preventDefault(),this.Zt()));}},{key:"Vs",value:function Vs(t){if("Enter"===t.code||"Space"===t.code){var _e108=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),_e108?this.hasAttribute("expanded")?this.Gt():this.Zt():this.I.input.click();}else"Escape"===t.code?this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Gt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault();}}]);return an;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(an,"observedAttributes",["value","disabled","size"]);_defineProperty(an,"_shadowTemplate",$s(_templateObject140()));_defineProperty(an,"_shadowStyleSheet",Is(_templateObject141()));customElements.define("x-colorselect",an);var hn=/*#__PURE__*/function(_HTMLElement10){_inherits(hn,_HTMLElement10);var _super11=_createSuper(hn);_createClass(hn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function hn(){var _temp13,_this43;_classCallCheck(this,hn);(_temp13=_this43=_super11.call(this),_defineProperty(_assertThisInitialized(_this43),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this43),"I",{}),_defineProperty(_assertThisInitialized(_this43),"Wt",null),_defineProperty(_assertThisInitialized(_this43),"Jt",null),_defineProperty(_assertThisInitialized(_this43),"Qt",null),_temp13),_this43._shadowRoot=_this43.attachShadow({mode:"closed"}),_this43._shadowRoot.adoptedStyleSheets=[hn._shadowStyleSheet],_this43._shadowRoot.append(document.importNode(hn._shadowTemplate.content,!0)),_this43.I.backdrop=qs("x-backdrop"),_this43.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this43.I.backdrop.addEventListener("contextmenu",function(t){return _this43.te(t);}),_this43.I.backdrop.addEventListener("pointerdown",function(t){return _this43.Ot(t);}),_this43.addEventListener("blur",function(t){return _this43.ee();}),_this43.addEventListener("keydown",function(t){return _this43.Vs(t);},!0),_this43.addEventListener("click",function(t){return _this43.N(t);});return _this43;}_createClass(hn,[{key:"connectedCallback",value:function connectedCallback(){var _this44=this;this.Wt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Jt=function(){_this44.ee();}),this.Wt.addEventListener("contextmenu",this.Qt=function(t){_this44.ie(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("blur",this.Jt),this.Wt.removeEventListener("contextmenu",this.Qt),this.Wt=null;}},{key:"open",value:function open(t,e){var i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus());}},{key:"close",value:function close(){var _this45=this;return new Promise(/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(t){var e,_t137;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:e=_this45.querySelector("x-menu");if(!(e&&!0===e.opened)){_context26.next=7;break;}_context26.next=4;return e.close();case 4:_this45.I.backdrop.hide(!1);_t137=Xs(_this45.parentNode,"[tabindex]");_t137&&_t137.focus();case 7:t();case 8:case"end":return _context26.stop();}}},_callee26);}));return function(_x19){return _ref27.apply(this,arguments);};}());}},{key:"ee",value:function ee(){this.close();}},{key:"ie",value:function ie(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY));}},{key:"te",value:function te(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then(function(){var e=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=document.elementFromPoint(t,e);if(i&&s)for(;;){var _i112=s.shadowRoot||s._shadowRoot;if(!_i112)break;{var _n52=_i112.elementFromPoint(t,e);if(_n52.getRootNode()!==_i112&&(_n52=null),!_n52||_n52===s)break;s=_n52;}}return s;}(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i);});}},{key:"Ot",value:function Ot(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close());}},{key:"N",value:function(){var _N2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(t){var e,_t138;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:e=t.target.closest("x-menuitem");if(!(e&&!1===e.disabled)){_context27.next=13;break;}_t138=e.querySelector("x-menu");if(!_t138){_context27.next=7;break;}_t138.opened?_t138.close():_t138.openNextToElement(e,"horizontal");_context27.next=13;break;case 7:this.setAttribute("closing","");_context27.next=10;return e.whenTriggerEnd;case 10:_context27.next=12;return this.close();case 12:this.removeAttribute("closing");case 13:case"end":return _context27.stop();}}},_callee27,this);}));function N(_x20){return _N2.apply(this,arguments);}return N;}()},{key:"Vs",value:function Vs(t){"Escape"===t.key?this.querySelector("x-menu").opened&&(t.preventDefault(),this.close()):"Tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem());}}]);return hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hn,"_shadowTemplate",$s(_templateObject142()));_defineProperty(hn,"_shadowStyleSheet",Is(_templateObject143()));customElements.define("x-contextmenu",hn);var rn=Math.max;var dn=/*#__PURE__*/function(_HTMLElement11){_inherits(dn,_HTMLElement11);var _super12=_createSuper(dn);_createClass(dn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"edited",get:function get(){return this.hasAttribute("edited");},set:function set(t){t?this.setAttribute("edited",""):this.removeAttribute("edited");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"ownerTabs",get:function get(){return this.closest("x-doctabs");}}]);function dn(){var _temp14,_this46;_classCallCheck(this,dn);(_temp14=_this46=_super12.call(this),_defineProperty(_assertThisInitialized(_this46),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this46),"I",{}),_defineProperty(_assertThisInitialized(_this46),"B",null),_temp14),_this46._shadowRoot=_this46.attachShadow({mode:"closed"}),_this46._shadowRoot.adoptedStyleSheets=[dn._shadowStyleSheet],_this46._shadowRoot.append(document.importNode(dn._shadowTemplate.content,!0));var _iterator81=_createForOfIteratorHelper(_this46._shadowRoot.querySelectorAll("[id]")),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _t139=_step81.value;_this46.I[_t139.id]=_t139;}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}_this46.addEventListener("pointerdown",function(t){return _this46.kt(t);}),_this46.addEventListener("click",function(t){return _this46.N(t);}),_this46.I["close-button"].addEventListener("pointerdown",function(t){return _this46.se(t);}),_this46.I["close-button"].addEventListener("click",function(t){return _this46.he(t);});return _this46;}_createClass(dn,[{key:"connectedCallback",value:function connectedCallback(){var _this47=this;this.St(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this47.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.St():"size"===t&&this.U());}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this48=this;return new Promise(/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(e){var _e109,_i113,_s88;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:if(!("0px"!==_this48.I["selection-indicator"].style.height)){_context28.next=7;break;}_e109=_this48.getBoundingClientRect(),_i113=t.getBoundingClientRect();_this48.setAttribute("animatingindicator","");_s88=_this48.I["selection-indicator"].animate([{left:"0px",width:_e109.width+"px"},{left:_i113.left-_e109.left+"px",width:_i113.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context28.next=6;return _s88.finished;case 6:_this48.removeAttribute("animatingindicator");case 7:e();case 8:case"end":return _context28.stop();}}},_callee28);}));return function(_x21){return _ref28.apply(this,arguments);};}());}},{key:"St",value:function St(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"kt",value:function kt(t){var _this49=this;if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e110=Xs(this.parentNode,"[tabindex]");_e110&&_e110.focus();}{var _e111=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref29=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(t){var _t140,_i114;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(!(!0===_this49.selected)){_context29.next=6;break;}_t140=Date.now()-_e111,_i114=100;_context29.t0=_t140<_i114;if(!_context29.t0){_context29.next=6;break;}_context29.next=6;return Zs(_i114-_t140);case 6:_this49.removeAttribute("pressed");case 7:case"end":return _context29.stop();}}},_callee29);}));return function(_x22){return _ref29.apply(this,arguments);};}(),{once:!0});}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e112=this.I.ripples.getBoundingClientRect(),_i115=1.5*rn(_e112.width,_e112.height),_s89=t.clientY-_e112.y-_i115/2,_n53=t.clientX-_e112.x-_i115/2,_o39=qs("div");_o39.setAttribute("class","ripple pointer-down-ripple"),_o39.setAttribute("style","width: ".concat(_i115,"px; height: ").concat(_i115,"px; top: ").concat(_s89,"px; left: ").concat(_n53,"px;")),this.I.ripples.append(_o39);var _l31=_o39.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var t,e;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return _l31.finished;case 2:t=getComputedStyle(_o39).opacity,e=_o39.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context30.next=5;return e.finished;case 5:_o39.remove();case 6:case"end":return _context30.stop();}}},_callee30);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(t){var _t141,_e113,_i116,_s90,_n54,_o40,_l32,_a20;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:if(!(0===t.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context31.next=10;break;}_t141=this.I.ripples.getBoundingClientRect(),_e113=1.5*rn(_t141.width,_t141.height),_i116=_t141.y+_t141.height/2-_t141.y-_e113/2,_s90=_t141.x+_t141.width/2-_t141.x-_e113/2,_n54=qs("div");_n54.setAttribute("class","ripple click-ripple"),_n54.setAttribute("style","width: ".concat(_e113,"px; height: ").concat(_e113,"px; top: ").concat(_i116,"px; left: ").concat(_s90,"px;")),this.I.ripples.append(_n54);_o40=_n54.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=6;return _o40.finished;case 6:_l32=getComputedStyle(_n54).opacity,_a20=_n54.animate({opacity:[_l32,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=9;return _a20.finished;case 9:_n54.remove();case 10:case"end":return _context31.stop();}}},_callee31,this);}));function N(_x23){return _N3.apply(this,arguments);}return N;}()},{key:"se",value:function se(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e114=Xs(this.parentNode,"[tabindex]");_e114&&_e114.focus();}t.stopPropagation();}}},{key:"he",value:function he(t){if(0!==t.button)return;t.stopPropagation();var e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this);}}]);return dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dn,"observedAttributes",["selected","disabled","size"]);_defineProperty(dn,"_shadowTemplate",$s(_templateObject144()));_defineProperty(dn,"_shadowStyleSheet",Is(_templateObject145()));customElements.define("x-doctab",dn);var cn=Number.parseInt;var pn=/*#__PURE__*/function(_HTMLElement12){_inherits(pn,_HTMLElement12);var _super13=_createSuper(pn);_createClass(pn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"maxTabs",get:function get(){return this.hasAttribute("maxtabs")?cn(this.getAttribute("maxtabs")):20;},set:function set(t){this.setAttribute("maxtabs",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function pn(){var _temp15,_this50;_classCallCheck(this,pn);(_temp15=_this50=_super13.call(this),_defineProperty(_assertThisInitialized(_this50),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this50),"I",{}),_defineProperty(_assertThisInitialized(_this50),"B",null),_defineProperty(_assertThisInitialized(_this50),"ne",!1),_defineProperty(_assertThisInitialized(_this50),"oe",!1),_temp15),_this50._shadowRoot=_this50.attachShadow({mode:"closed",delegatesFocus:!1}),_this50._shadowRoot.adoptedStyleSheets=[pn._shadowStyleSheet],_this50._shadowRoot.append(document.importNode(pn._shadowTemplate.content,!0));var _iterator82=_createForOfIteratorHelper(_this50._shadowRoot.querySelectorAll("[id]")),_step82;try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){var _t142=_step82.value;_this50.I[_t142.id]=_t142;}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}_this50.addEventListener("pointerdown",function(t){return _this50.kt(t);}),_this50.addEventListener("keydown",function(t){return _this50.Vs(t);}),_this50.I["open-button"].addEventListener("click",function(t){return _this50.le(t);});return _this50;}_createClass(pn,[{key:"connectedCallback",value:function connectedCallback(){var _this51=this;this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this51.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U();}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"openTab",value:function openTab(t){var _this52=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref31=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(i,s){var _s91,_iterator83,_step83,_t143,_e115;return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!(_this52.querySelectorAll("x-doctab").length>=_this52.maxTabs)){_context32.next=4;break;}s("Can't open more than ".concat(_this52.maxTabs," tabs."));_context32.next=24;break;case 4:_s91=0;_iterator83=_createForOfIteratorHelper(_this52.children);try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){_t143=_step83.value;_e115=cn(_t143.style.order);!Number.isNaN(_e115)&&_e115>_s91&&(_s91=_e115);}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}t.style.order=_s91;if(!(!1===e)){_context32.next=12;break;}t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,_this52.append(t),i(t);_context32.next=24;break;case 12:_context32.t0=!0===e;if(!_context32.t0){_context32.next=24;break;}t.style.transition=null;t.style.maxWidth="0px";t.style.padding="0px";t.setAttribute("opening","");_this52.append(t);_context32.next=21;return Zs(30);case 21:t.addEventListener("transitionend",function(){t.removeAttribute("opening"),i(t);},{once:!0});t.style.maxWidth=null;t.style.padding=null;case 24:case"end":return _context32.stop();}}},_callee32);}));return function(_x24,_x25){return _ref31.apply(this,arguments);};}());}},{key:"closeTab",value:function closeTab(t){var _this53=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref32=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(i){var s,n,o,_iterator84,_step84,_t144,_e116,_i117,_t145,_iterator85,_step85,_t146;return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:s=_this53.getTabsByScreenIndex().filter(function(t){return!1===t.hasAttribute("closing");}),n=t.getBoundingClientRect().width,o=_this53.ae(t);if(t.setAttribute("closing",""),o<s.length-1){_iterator84=_createForOfIteratorHelper(_this53.children);try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){_t144=_step84.value;!1===_t144.hasAttribute("closing")&&(_t144.style.transition="none",_t144.style.maxWidth=n+"px");}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}}if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",_this53.ne=!0,t.selected){_e116=s[s.indexOf(t)-1],_i117=s[s.indexOf(t)+1];t.selected=!1,_i117?_i117.selected=!0:_e116&&(_e116.selected=!0);}if(t.matches(":focus")){_t145=_this53.querySelector("x-doctab[selected]");_t145?_t145.focus():_this53.focus();}t.style.maxWidth="0px";t.style.padding="0px";_context33.t0=e;if(!_context33.t0){_context33.next=10;break;}_context33.next=10;return Zs(150);case 10:t.remove();_this53.ne=!1;t.removeAttribute("closing");i();if(_this53.oe){_context33.next=21;break;}_this53.oe=!0;_context33.next=18;return _this53.re(3);case 18:_this53.oe=!1;_iterator85=_createForOfIteratorHelper(_this53.children);try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){_t146=_step85.value;_t146.style.transition=null,_t146.style.maxWidth=null,_t146.style.order=_this53.ae(_t146);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}case 21:case"end":return _context33.stop();}}},_callee33);}));return function(_x26){return _ref32.apply(this,arguments);};}());}},{key:"selectPreviousTab",value:function selectPreviousTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.de(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectNextTab",value:function selectNextTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.ue(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectTab",value:function selectTab(t){var e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0;}},{key:"moveSelectedTabLeft",value:function moveSelectedTabLeft(){var t=this.querySelector("x-doctab[selected]"),e=this.ae(t);var _iterator86=_createForOfIteratorHelper(this.children),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _t147=_step86.value;_t147.style.order=this.ae(_t147);}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}if(0===cn(t.style.order)){var _iterator87=_createForOfIteratorHelper(this.children),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _e117=_step87.value;_e117.style.order=_e117===t?this.childElementCount-1:cn(_e117.style.order)-1;}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}}else{var _i118=this.ce(e-1);_i118.style.order=cn(_i118.style.order)+1,t.style.order=cn(t.style.order)-1;}}},{key:"moveSelectedTabRight",value:function moveSelectedTabRight(){var t=this.querySelector("x-doctab[selected]"),e=this.ae(t);var _iterator88=_createForOfIteratorHelper(this.children),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _t148=_step88.value;_t148.style.order=this.ae(_t148);}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}if(cn(t.style.order)===this.childElementCount-1){var _iterator89=_createForOfIteratorHelper(this.children),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _e118=_step89.value;_e118.style.order=_e118===t?0:cn(_e118.style.order)+1;}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}}else{var _i119=this.ce(e+1);_i119.style.order=cn(_i119.style.order)-1,t.style.order=cn(t.style.order)+1;}}},{key:"re",value:function re(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;return new Promise(function(e){var i,s,n,o=null,l=function l(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",n);};window.addEventListener("pointermove",i=function i(_i120){if(null===o)o={x:_i120.clientX,y:_i120.clientY};else{var _s92={x:_i120.clientX,y:_i120.clientY};xs(o,_s92)>=t&&(l(),e());}}),window.addEventListener("pointerout",s=function s(t){null===t.toElement&&(l(),e());}),window.addEventListener("blur",n=function n(){l(),e();});});}},{key:"getTabsByScreenIndex",value:function getTabsByScreenIndex(){var t=Symbol();var _iterator90=_createForOfIteratorHelper(this.children),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _e119=_step90.value;_e119[t]=this.ae(_e119);}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}return _toConsumableArray(this.children).sort(function(e,i){return e[t]>i[t];});}},{key:"ae",value:function ae(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{var _t149=e.width/2;for(var _s93=1;_s93<this.maxTabs;_s93+=1){if(e.left-i.left>=_t149&&e.left-i.left<_t149+e.width)return _s93>this.childElementCount-1?this.childElementCount-1:_s93;_t149+=e.width;}}}},{key:"ce",value:function ce(t){var _iterator91=_createForOfIteratorHelper(this.children),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _e120=_step91.value;if(this.ae(_e120)===t)return _e120;}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}return null;}},{key:"de",value:function de(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t150=n-1;_t150>=0;_t150-=1){var _i121=s[_t150];if(!e||!_i121.disabled){o=_i121;break;}}if(i&&null===o)for(var _t151=s.length-1;_t151>n;_t151-=1){var _i122=s[_t151];if(!e||!_i122.disabled){o=_i122;break;}}return o;}},{key:"ue",value:function ue(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t152=n+1;_t152<s.length;_t152+=1){var _i123=s[_t152];if(!e||!_i123.disabled){o=_i123;break;}}if(i&&null===o)for(var _t153=0;_t153<n;_t153+=1){var _i124=s[_t153];if(!e||!_i124.disabled){o=_i124;break;}}return o;}},{key:"kt",value:function kt(t){1===t.buttons&&!this.ne&&t.target.closest("x-doctab")&&this.pe(t);}},{key:"pe",value:function(){var _pe=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(t){var _this54=this;var _e121,_i125,s,n,o;return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:if(!(!1===t.isPrimary)){_context34.next=2;break;}return _context34.abrupt("return");case 2:s=t.target.closest("x-doctab"),n=this.querySelector("x-doctab[selected]");n!==s&&(n?n.animateSelectionIndicator(s).then(function(){_this54.selectTab(s),_this54.dispatchEvent(new CustomEvent("select",{detail:s}));}):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);o=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",_e121=function e(n){var l=new DOMPoint(n.clientX,n.clientY),a=n.timeStamp-t.timeStamp,h=xs(o,l)>3||a>80;n.isPrimary&&h&&(_this54.removeEventListener("pointermove",_e121),_this54.removeEventListener("lostpointercapture",_i125),_this54.me(t,s));}),this.addEventListener("lostpointercapture",_i125=function i(){_this54.removeEventListener("pointermove",_e121),_this54.removeEventListener("lostpointercapture",_i125);});case 6:case"end":return _context34.stop();}}},_callee34,this);}));function pe(_x27){return _pe.apply(this,arguments);}return pe;}()},{key:"me",value:function me(t,e){var _this55=this;var i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),n=Symbol(),o=Symbol(),l=Symbol();e.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");var _iterator92=_createForOfIteratorHelper(this.children),_step92;try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var _t158=_step92.value;var _i126=this.ae(_t158);_t158[o]=_i126,_t158[n]=_i126,_t158[l]=_t158.getBoundingClientRect().left-s.left,_t158!==e&&(_t158.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)");}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}var a=function a(t,s){if(s>t+1)for(var _e122=t;_e122<s;_e122+=1){a(_e122,_e122+1);}else if(s<t-1)for(var _e123=t;_e123>s;_e123-=1){a(_e123,_e123-1);}else{var _iterator93=_createForOfIteratorHelper(_this55.children),_step93;try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){var _n55=_step93.value;if(_n55!==e){_n55[o]===s&&(_n55[o]=t);var _e124=-_n55[l];for(var _t154=0;_t154<_n55[o];_t154+=1){_e124+=i.width;}_n55.style.transform=0===_e124?null:"translate("+_e124+"px)";}}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}}},h=function h(n){if(n.isPrimary){var _h15=n.clientX-t.clientX;_h15+e[l]<=0?_h15=-e[l]:_h15+e[l]+i.width>s.width&&(_h15=s.width-e[l]-i.width),e.style.transform="translate("+_h15+"px)";var _r11=_this55.ae(e);if(_r11!==e[o]){var _t155=e[o];e[o]=_r11,a(_t155,e[o]);}}},r=/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(t){var s,_t156,_iterator94,_step94,_t157;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:_this55.removeEventListener("pointermove",h),_this55.removeEventListener("lostpointercapture",r);s=-e[l];for(_t156=0;_t156<e[o];_t156+=1){s+=i.width;}e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)";e.style.transform="translate("+s+"px)";e[n]!==e[o]&&_this55.dispatchEvent(new CustomEvent("rearrange"));_context35.next=8;return Zs(150);case 8:e.style.zIndex=null;_this55.I["open-button"].style.opacity=null;_iterator94=_createForOfIteratorHelper(_this55.children);try{for(_iterator94.s();!(_step94=_iterator94.n()).done;){_t157=_step94.value;_t157.style.transition="none",_t157.style.transform="translate(0px, 0px)",_t157.style.order=_t157[o];}}catch(err){_iterator94.e(err);}finally{_iterator94.f();}case 12:case"end":return _context35.stop();}}},_callee35);}));return function r(_x28){return _ref33.apply(this,arguments);};}();this.addEventListener("pointermove",h),this.addEventListener("lostpointercapture",r);}},{key:"le",value:function le(t){if(0===t.button){var _t159=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(_t159),!1===_t159.defaultPrevented){var _t160=$s(_templateObject2());_t160.style.order=this.childElementCount,this.openTab(_t160),this.selectTab(_t160);}}}},{key:"Vs",value:function Vs(t){var _this56=this;if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){var _e125=this.querySelector('x-doctab[tabindex="0"]'),_i127=this.querySelector("x-doctab[selected]");t.preventDefault(),_e125.click(),_e125!==_i127&&(_i127?_i127.animateSelectionIndicator(_e125).then(function(){_this56.selectTab(_e125),_this56.dispatchEvent(new CustomEvent("select",{detail:_e125}));}):(this.selectTab(_e125),this.dispatchEvent(new CustomEvent("select",{detail:_e125}))));}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();var _e126=this.querySelector('x-doctab[tabindex="0"]'),_i128=this.de(_e126);_i128&&(t.preventDefault(),_e126.tabIndex=-1,_i128.tabIndex=0,_i128.focus());}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();var _e127=this.querySelector('x-doctab[tabindex="0"]'),_i129=this.ue(_e127);_i129&&(t.preventDefault(),_e127.tabIndex=-1,_i129.tabIndex=0,_i129.focus());}}}]);return pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pn,"observedAttributes",["size"]);_defineProperty(pn,"_shadowTemplate",$s(_templateObject146()));_defineProperty(pn,"_shadowStyleSheet",Is(_templateObject147()));customElements.define("x-doctabs",pn);var un=/*#__PURE__*/function(_HTMLElement13){_inherits(un,_HTMLElement13);var _super14=_createSuper(un);_createClass(un,[{key:"name",get:function get(){return this.hasAttribute("name")?this.getAttribute("name"):"";},set:function set(t){this.setAttribute("name",t);}},{key:"iconset",get:function get(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset");},set:function set(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function un(){var _temp16,_this57;_classCallCheck(this,un);(_temp16=_this57=_super14.call(this),_defineProperty(_assertThisInitialized(_this57),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this57),"I",{}),_defineProperty(_assertThisInitialized(_this57),"be",null),_defineProperty(_assertThisInitialized(_this57),"B",null),_temp16),_this57._shadowRoot=_this57.attachShadow({mode:"closed"}),_this57._shadowRoot.adoptedStyleSheets=[un._shadowStyleSheet],_this57._shadowRoot.append(document.importNode(un._shadowTemplate.content,!0));var _iterator95=_createForOfIteratorHelper(_this57._shadowRoot.querySelectorAll("[id]")),_step95;try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var _t161=_step95.value;_this57.I[_t161.id]=_t161;}}catch(err){_iterator95.e(err);}finally{_iterator95.f();}return _this57;}_createClass(un,[{key:"connectedCallback",value:function connectedCallback(){var _this58=this;Gs.addEventListener("iconsetchange",this.be=function(){_this58.nt();}),Gs.addEventListener("sizechange",this.B=function(){_this58.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("iconsetchange",this.be),Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function(){var _nt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var _t162,_e128;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:if(!(""===this.name)){_context36.next=4;break;}this.I.svg.innerHTML="";_context36.next=16;break;case 4:_t162=null;if(!this.iconset){_context36.next=12;break;}_context36.next=8;return Rs(this.iconset);case 8:_e128=_context36.sent;_e128&&(_t162=_e128.querySelector("#"+CSS.escape(this.name)));_context36.next=15;break;case 12:_context36.next=14;return Gs.whenIconsetReady;case 14:_t162=Gs.iconsetElement.querySelector("#"+CSS.escape(this.name));case 15:_t162?(this.I.svg.setAttribute("viewBox",_t162.getAttribute("viewBox")),this.I.svg.innerHTML=_t162.innerHTML):this.I.svg.innerHTML="";case 16:case"end":return _context36.stop();}}},_callee36,this);}));function nt(){return _nt.apply(this,arguments);}return nt;}()},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return un;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(un,"observedAttributes",["name","iconset","size"]);_defineProperty(un,"_shadowTemplate",$s(_templateObject148()));_defineProperty(un,"_shadowStyleSheet",Is(_templateObject149()));customElements.define("x-icon",un);var xn=/*#__PURE__*/function(_HTMLElement14){_inherits(xn,_HTMLElement14);var _super15=_createSuper(xn);_createClass(xn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"text";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.I.input.value;},set:function set(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.ge());}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"readOnly",get:function get(){return this.hasAttribute("readonly");},set:function set(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function xn(){var _temp17,_this59;_classCallCheck(this,xn);(_temp17=_this59=_super15.call(this),_defineProperty(_assertThisInitialized(_this59),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this59),"I",{}),_defineProperty(_assertThisInitialized(_this59),"zt",0),_defineProperty(_assertThisInitialized(_this59),"B",null),_temp17),_this59._shadowRoot=_this59.attachShadow({mode:"closed",delegatesFocus:!0}),_this59._shadowRoot.adoptedStyleSheets=[xn._shadowStyleSheet],_this59._shadowRoot.append(document.importNode(xn._shadowTemplate.content,!0));var _iterator96=_createForOfIteratorHelper(_this59._shadowRoot.querySelectorAll("[id]")),_step96;try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var _t163=_step96.value;_this59.I[_t163.id]=_t163;}}catch(err){_iterator96.e(err);}finally{_iterator96.f();}_this59.addEventListener("focusin",function(t){return _this59.xe(t);}),_this59.addEventListener("focusout",function(t){return _this59.fe(t);}),_this59.addEventListener("keydown",function(t){return _this59.Vs(t);}),_this59.I.input.addEventListener("change",function(t){return _this59.Xt(t);}),_this59.I.input.addEventListener("input",function(t){return _this59.we(t);}),_this59.I.input.addEventListener("search",function(t){return _this59.ve(t);});return _this59;}_createClass(xn,[{key:"connectedCallback",value:function connectedCallback(){var _this60=this;this.St(),this.U(),this.ge(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),Gs.addEventListener("sizechange",this.B=function(){return _this60.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"type"===t?this.ye():"value"===t?this.ot():"spellcheck"===t?this.ze():"maxlength"===t?this.ke():"readonly"===t?this.Hs():"disabled"===t?this.Ut():"validation"===t?this.Ce():"size"===t&&this.Se();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===function(t){try{new Ts().parse(t);}catch(t){return!1;}return!0;}(this.I.input.value)?this.error="Invalid color":this.error=null;}},{key:"selectAll",value:function selectAll(){this.I.input.select();}},{key:"clear",value:function clear(){this.value="",this.error=null;}},{key:"ge",value:function ge(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"St",value:function St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ye",value:function ye(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type;}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll();}},{key:"ze",value:function ze(){this.I.input.spellcheck=this.spellcheck;}},{key:"ke",value:function ke(){this.I.input.maxLength=this.maxLength;}},{key:"Hs",value:function Hs(){this.I.input.readOnly=this.readOnly,this.St();}},{key:"Ut",value:function Ut(){this.I.input.disabled=this.disabled,this.St();}},{key:"Ce",value:function Ce(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"Se",value:function Se(){this.U();}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"fe",value:function fe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate();}},{key:"Vs",value:function Vs(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate());}},{key:"we",value:function we(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.ge(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}));}},{key:"Xt",value:function Xt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"ve",value:function ve(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}]);return xn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xn,"observedAttributes",["type","value","spellcheck","maxlength","readonly","disabled","validation","size"]);_defineProperty(xn,"_shadowTemplate",$s(_templateObject150()));_defineProperty(xn,"_shadowStyleSheet",Is(_templateObject151()));customElements.define("x-input",xn);var bn=/*#__PURE__*/function(_HTMLElement15){_inherits(bn,_HTMLElement15);var _super16=_createSuper(bn);_createClass(bn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function bn(){var _temp18,_this61;_classCallCheck(this,bn);(_temp18=_this61=_super16.call(this),_defineProperty(_assertThisInitialized(_this61),"_shadowRoot",null),_temp18),_this61._shadowRoot=_this61.attachShadow({mode:"closed"}),_this61._shadowRoot.adoptedStyleSheets=[bn._shadowStyleSheet],_this61._shadowRoot.append(document.importNode(bn._shadowTemplate.content,!0));return _this61;}return bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bn,"_shadowTemplate",$s(_templateObject152()));_defineProperty(bn,"_shadowStyleSheet",Is(_templateObject153()));customElements.define("x-label",bn);var mn=Math.abs;var gn=/*#__PURE__*/function(_HTMLElement16){_inherits(gn,_HTMLElement16);var _super17=_createSuper(gn);_createClass(gn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}}]);function gn(){var _temp19,_this62;_classCallCheck(this,gn);(_temp19=_this62=_super17.call(this),_defineProperty(_assertThisInitialized(_this62),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this62),"I",{}),_defineProperty(_assertThisInitialized(_this62),"Ee",[]),_defineProperty(_assertThisInitialized(_this62),"Ae",null),_defineProperty(_assertThisInitialized(_this62),"Le",null),_defineProperty(_assertThisInitialized(_this62),"Te",0),_defineProperty(_assertThisInitialized(_this62),"Me",0),_defineProperty(_assertThisInitialized(_this62),"De",!1),_defineProperty(_assertThisInitialized(_this62),"$e",!1),_defineProperty(_assertThisInitialized(_this62),"Pe",null),_temp19),_this62._shadowRoot=_this62.attachShadow({mode:"closed"}),_this62._shadowRoot.adoptedStyleSheets=[gn._shadowStyleSheet],_this62._shadowRoot.append(document.importNode(gn._shadowTemplate.content,!0));var _iterator97=_createForOfIteratorHelper(_this62._shadowRoot.querySelectorAll("[id]")),_step97;try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){var _t164=_step97.value;_this62.I[_t164.id]=_t164;}}catch(err){_iterator97.e(err);}finally{_iterator97.f();}_this62.addEventListener("pointerdown",function(t){return _this62.kt(t);}),_this62.addEventListener("pointerover",function(t){return _this62.Re(t);}),_this62.addEventListener("pointerout",function(t){return _this62.Ie(t);}),_this62.addEventListener("pointermove",function(t){return _this62.Oe(t);}),_this62.addEventListener("keydown",function(t){return _this62.Vs(t);}),_this62.addEventListener("wheel",function(t){return _this62.Be(t);},{passive:!1}),_this62.addEventListener("scroll",function(t){return _this62.He(t);},{passive:!0});return _this62;}_createClass(gn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"opened"===t&&this.Fe();}},{key:"openOverElement",value:function openOverElement(t,e){var _this63=this;return new Promise(/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee37(i){var s,_i130,_n56,_o41,_l33,_a21,_h16,_t165,_e129,_t166,_e130,_t167,_this63$qe,_this63$qe2,_e131,_i131,_s94,_t168,_e132;return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:s=_this63.querySelectorAll(":scope > x-menuitem");if(!(s.length>0)){_context37.next=12;break;}_this63.De=!0,_this63.Pe=Ks(),_this63.Ne(),_this63.setAttribute("opened","");_i130=_toConsumableArray(s).find(function(t){return t.contains(e);})||s[0],_n56=_this63.getBoundingClientRect(),_o41=t.getBoundingClientRect(),_l33=e.getBoundingClientRect(),_a21=0,_h16=0;if(_i130.focus(),0===_n56.top&&0===_n56.left||(_a21=-_n56.left,_h16=-_n56.top),_this63.style.left=_o41.x-(_l33.x-_n56.x)+_a21+"px",_this63.style.top=_o41.y-(_l33.y-_n56.y)+_h16+"px",_n56=_this63.getBoundingClientRect(),_n56.left<7&&(_this63.style.left=7+_a21+"px",_n56=_this63.getBoundingClientRect()),7-_n56.top>0&&(_this63.style.height=_n56.bottom-7+"px",_this63.style.top=7+_h16+"px",_this63.scrollTop=9999,_n56=_this63.getBoundingClientRect()),_n56.bottom+7>window.innerHeight){_t165=_n56.bottom-window.innerHeight,_e129=_n56.height-_t165-7;_this63.style.height=_e129+"px";}if(_n56.right+7>window.innerWidth){_t166=_n56.right-window.innerWidth,_e130=_n56.width-_t166-7;_this63.style.width="".concat(_e130,"px");}_t167=getComputedStyle(_this63).getPropertyValue("--open-transition"),_this63$qe=_this63.qe(_t167),_this63$qe2=_slicedToArray(_this63$qe,3),_e131=_this63$qe2[0],_i131=_this63$qe2[1],_s94=_this63$qe2[2];if(!("transform"===_e131)){_context37.next=11;break;}_t168=_this63.getBoundingClientRect(),_e132=_o41.y+_o41.height/2-_t168.top;_context37.next=11;return _this63.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:["0 ".concat(_e132,"px"),"0 ".concat(_e132,"px")]},{duration:_i131,easing:_s94}).finished;case 11:_this63.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this63})),_this63.Me=_h16;case 12:i();case 13:case"end":return _context37.stop();}}},_callee37);}));return function(_x29){return _ref34.apply(this,arguments);};}());}},{key:"openOverLabel",value:function openOverLabel(t){var _this64=this;return new Promise(/*#__PURE__*/function(){var _ref35=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee38(e){var i,_e133,_s95;return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:i=_this64.querySelectorAll(":scope > x-menuitem");if(!(i.length>0)){_context38.next=8;break;}_this64.Ne(),_this64.setAttribute("opened",""),_this64.De=!0,_this64.Pe=Ks();_e133=_toConsumableArray(i).find(function(e){var i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent);});_e133||(_e133=i[0]);_s95=_e133.querySelector("x-label");_context38.next=8;return _this64.openOverElement(t,_s95);case 8:e();case 9:case"end":return _context38.stop();}}},_callee38);}));return function(_x30){return _ref35.apply(this,arguments);};}());}},{key:"openNextToElement",value:function openNextToElement(t){var _this65=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"horizontal";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(/*#__PURE__*/function(){var _ref36=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee39(s){var n,o,l,a,h,_t169,_t170,_e134,_t171,_e135,_e136,_this65$qe,_this65$qe2,_i132,_s96,_n57,_e137,_t172,_t173,_t174,_t175,_t176,_t177,_this65$qe3,_this65$qe4,_i133,_s97,_n58;return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_this65.De=!1,_this65.Pe=Ks(),_this65.Ne(),_this65.setAttribute("opened",""),_this65.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this65})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");n=getComputedStyle(_this65).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),l=_this65.getBoundingClientRect(),a=0,h=0;if(!(0===l.top&&0===l.left||(a=-l.left,h=-l.top),"horizontal"===e)){_context39.next=18;break;}_this65.style.top=o.top+h+"px",_this65.style.left=o.left+o.width+i+a+"px";_t169="right";_t170=_this65.getBoundingClientRect();_t170.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t170.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");_e134=_this65.getBoundingClientRect();_e134.left+_e134.width+7>window.innerWidth&&(o.left>_e134.width+7?(_this65.style.left=o.left-_e134.width+a+"px",_t169="left"):o.left>window.innerWidth-(o.left+o.width)?(_this65.style.left=7+a+"px",_t169="left"):(_this65.style.left=window.innerWidth-_e134.width-7+a+"px",_t169="right"));_t171=_this65.getBoundingClientRect();if(_t171.top+_t171.height+7>window.innerHeight){_e135=_t171.top+_t171.height+7-window.innerHeight;_this65.style.top=_t171.top-_e135+h+"px";}_e136=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$qe=_this65.qe(_e136),_this65$qe2=_slicedToArray(_this65$qe,3),_i132=_this65$qe2[0],_s96=_this65$qe2[1],_n57=_this65$qe2[2];_context39.t0="transform"===_i132;if(!_context39.t0){_context39.next=16;break;}_context39.next=16;return _this65.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===_t169?"100% 0":"0 0","left"===_t169?"100% 0":"0 0"]},{duration:_s96,easing:_n57}).finished;case 16:_context39.next=30;break;case 18:if(!("vertical"===e)){_context39.next=30;break;}_this65.style.top=o.top+o.height+i+h+"px",_this65.style.left="0px";_e137="bottom";_t172=_this65.getBoundingClientRect();_t172.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t172.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");if(t.parentElement&&"x-menubar"===t.parentElement.localName){_t173=_this65.getBoundingClientRect();_t173.top+_t173.height+7>window.innerHeight&&(_this65.style.height=window.innerHeight-(o.top+o.height)-10+"px");}else{_t174=_this65.getBoundingClientRect();_t174.top+_t174.height+7>window.innerHeight&&(o.top>_t174.height+7?(_this65.style.top=o.top-_t174.height-i+h+"px",_e137="top"):o.top>window.innerHeight-(o.top+o.height)?(_this65.style.top=7+h+"px",_e137="top"):(_this65.style.top=window.innerHeight-_t174.height-7+h+"px",_e137="bottom"));}if("start"===n){_this65.style.left=o.left+a+"px";{_t175=_this65.getBoundingClientRect();_t175.left+_t175.width+7>window.innerWidth&&(_this65.style.left=o.left+o.width-_t175.width+a+"px");}_this65.getBoundingClientRect().left<7&&(_this65.style.left=7+a+"px");}else if("end"===n){_this65.style.left=o.left+o.width-l.width+a+"px",_this65.getBoundingClientRect().left<7&&(_this65.style.left=o.left+a+"px");{_t176=_this65.getBoundingClientRect();_t176.left+_t176.width+7>window.innerWidth&&(_this65.style.left=window.innerWidth-7+a+"px");}}_t177=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$qe3=_this65.qe(_t177),_this65$qe4=_slicedToArray(_this65$qe3,3),_i133=_this65$qe4[0],_s97=_this65$qe4[1],_n58=_this65$qe4[2];_context39.t1="transform"===_i133;if(!_context39.t1){_context39.next=30;break;}_context39.next=30;return _this65.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===_e137?"0 100%":"0 0","top"===_e137?"0 100%":"0 0"]},{duration:_s97,easing:_n58}).finished;case 30:_this65.Me=h,s();case 31:case"end":return _context39.stop();}}},_callee39);}));return function(_x31){return _ref36.apply(this,arguments);};}());}},{key:"openAtPoint",value:function openAtPoint(t,e){var _this66=this;return new Promise(/*#__PURE__*/function(){var _ref37=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee40(i){var s,n,o,_t178,_this66$qe,_this66$qe2,_e138,_i134,_s98;return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:_this66.De=!1,_this66.Pe=Ks(),_this66.Ne(),_this66.setAttribute("opened",""),_this66.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this66}));s=_this66.getBoundingClientRect(),n=0,o=0;0===s.top&&0===s.left||(n=-s.left,o=-s.top),_this66.style.left=t+n+"px",_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,_this66.style.left=t+n+"px",s=_this66.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.top<7&&(e=7,_this66.style.top=e+o+"px",_this66.style.height=window.innerHeight-7-7+"px"));_t178=getComputedStyle(_this66).getPropertyValue("--open-transition"),_this66$qe=_this66.qe(_t178),_this66$qe2=_slicedToArray(_this66$qe,3),_e138=_this66$qe2[0],_i134=_this66$qe2[1],_s98=_this66$qe2[2];_context40.t0="transform"===_e138;if(!_context40.t0){_context40.next=8;break;}_context40.next=8;return _this66.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished;case 8:_this66.Me=o,i();case 9:case"end":return _context40.stop();}}},_callee40);}));return function(_x32){return _ref37.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this67=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref38=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee41(e){var _e139,_t179,_this67$qe,_this67$qe2,_e140,_i135,_s99,_iterator98,_step98,_t180,_e141;return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:if(!_this67.opened){_context41.next=13;break;}_this67.removeAttribute("opened"),_this67.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this67}));_e139=_this67.closest("x-menuitem");if(!(_e139&&_e139.removeAttribute("expanded"),t)){_context41.next=11;break;}_this67.setAttribute("animating","");_t179=getComputedStyle(_this67).getPropertyValue("--close-transition"),_this67$qe=_this67.qe(_t179),_this67$qe2=_slicedToArray(_this67$qe,3),_e140=_this67$qe2[0],_i135=_this67$qe2[1],_s99=_this67$qe2[2];_context41.t0="opacity"===_e140;if(!_context41.t0){_context41.next=10;break;}_context41.next=10;return _this67.animate({opacity:["1","0"]},{duration:_i135,easing:_s99}).finished;case 10:_this67.removeAttribute("animating");case 11:_iterator98=_createForOfIteratorHelper(_this67.querySelectorAll(":scope > x-menuitem"));try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){_t180=_step98.value;_e141=_t180.querySelector("x-menu[opened]");_e141&&_e141.close();}}catch(err){_iterator98.e(err);}finally{_iterator98.f();}case 13:e();case 14:case"end":return _context41.stop();}}},_callee41);}));return function(_x33){return _ref38.apply(this,arguments);};}());}},{key:"focusNextMenuItem",value:function focusNextMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e142=null;for(var _i136=t.nextElementSibling;_i136;_i136=_i136.nextElementSibling){if("x-menuitem"===_i136.localName&&!1===_i136.disabled&&!1===_i136.hidden){_e142=_i136;break;}}if(null===_e142&&null!=t.parentElement){var _iterator99=_createForOfIteratorHelper(t.parentElement.children),_step99;try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var _i137=_step99.value;if("x-menuitem"===_i137.localName&&!1===_i137.disabled&&!1===_i137.hidden){_e142=_i137;break;}}}catch(err){_iterator99.e(err);}finally{_iterator99.f();}}if(_e142){_e142.focus();var _i138=t.querySelector("x-menu");_i138&&_i138.close();}}else this.focusFirstMenuItem();}},{key:"focusPreviousMenuItem",value:function focusPreviousMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e143=null;for(var _i139=t.previousElementSibling;_i139;_i139=_i139.previousElementSibling){if("x-menuitem"===_i139.localName&&!1===_i139.disabled&&!1===_i139.hidden){_e143=_i139;break;}}if(null===_e143&&null!=t.parentElement){var _iterator100=_createForOfIteratorHelper(_toConsumableArray(t.parentElement.children).reverse()),_step100;try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){var _i140=_step100.value;if("x-menuitem"===_i140.localName&&!1===_i140.disabled&&!1===_i140.hidden){_e143=_i140;break;}}}catch(err){_iterator100.e(err);}finally{_iterator100.f();}}if(_e143){_e143.focus();var _i141=t.querySelector("x-menu");_i141&&_i141.close();}}else this.focusLastMenuItem();}},{key:"focusFirstMenuItem",value:function focusFirstMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus();}},{key:"focusLastMenuItem",value:function focusLastMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus();}},{key:"Ue",value:function Ue(t){var _this68=this;var e=0;{var _t181=this.Ee[this.Ee.length-1],_i142=this.Ee[0];if(this.querySelector("x-menu[opened]")&&_t181){_i142||(_i142=_t181);var _s100=this.getBoundingClientRect(),_n59={x:_s100.left,y:_s100.top-75},_o42={x:_s100.left+_s100.width,y:_n59.y},_l34={x:_s100.left,y:_s100.top+_s100.height+75},_a22={x:_s100.left+_s100.width,y:_l34.y},_h17=!0;if((_i142.x<_s100.left||_i142.x>_a22.x||_i142.y<_s100.top||_i142.y>_a22.y)&&(_h17=!1),this.Le&&_t181.x===this.Le.x&&_t181.y===this.Le.y&&(_h17=!1),_h17){var _s101,_n60;_s101=_o42,_n60=_a22;var _l35=function _l35(t,e){return(e.y-t.y)/(e.x-t.x);},_h18=_l35(_t181,_s101),_r12=_l35(_t181,_n60),_d6=_l35(_i142,_s101),_c3=_l35(_i142,_n60);_h18<_d6&&_r12>_c3?(this.Le=_t181,e=300):this.Le=null;}}}e>0?this.Ae=setTimeout(function(){_this68.Ue(t);},e):t();}},{key:"je",value:function je(){this.Ae&&(clearTimeout(this.Ae),this.Ae=null);}},{key:"Ne",value:function Ne(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null;}},{key:"Ke",value:function Ke(){return this.matches("*[closing], *[closing] x-menu");}},{key:"qe",value:function qe(t){var _t$trim$split=t.trim().split(" "),_t$trim$split2=_toArray(_t$trim$split),e=_t$trim$split2[0],i=_t$trim$split2[1],s=_t$trim$split2.slice(2);return[i,parseFloat(e),s.join(" ")];}},{key:"Fe",value:function Fe(){this.setAttribute("aria-hidden",!this.opened);}},{key:"kt",value:function kt(t){var _this69=this;if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.$e&&this.Xe();{var _e144=t.target.closest("x-menuitem");_e144&&!1===_e144.disabled&&_e144.closest("x-menu")===this?!1===_e144.matches(":focus")&&this.Ue(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var t,_e145,i,s,_iterator101,_step101,_t182,_e146;return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:t=_this69.querySelector(":scope > x-menuitem:focus");if(t){_e145=t.querySelector("x-menu");_e145&&_e145.close();}_e144.closest("x-menu");i=_e144.querySelector("x-menu"),s=_toConsumableArray(_this69.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e144;});_context42.t0=i;if(!_context42.t0){_context42.next=9;break;}_context42.next=8;return Zs(60);case 8:_e144.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e144,"horizontal");case 9:_iterator101=_createForOfIteratorHelper(s);try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){_t182=_step101.value;_e146=_t182.querySelector("x-menu");_e146&&_e146.close();}}catch(err){_iterator101.e(err);}finally{_iterator101.f();}case 11:case"end":return _context42.stop();}}},_callee42);}))):this.Ue(function(){_this69.focus();});}}}},{key:"Re",value:function Re(t){var _this70=this;if(!this.Ke()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.$e&&this.Xe();{var _e147=t.target.closest("x-menuitem");_e147&&!1===_e147.disabled&&_e147.closest("x-menu")===this?!1===_e147.matches(":focus")&&this.Ue(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){var t,_e148,i,s,_iterator102,_step102,_t183,_e149;return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:t=_this70.querySelector(":scope > x-menuitem:focus");if(t){_e148=t.querySelector("x-menu");_e148&&_e148.close();}_e147.focus(),_e147.closest("x-menu");i=_e147.querySelector("x-menu"),s=_toConsumableArray(_this70.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e147;});_context43.t0=i;if(!_context43.t0){_context43.next=9;break;}_context43.next=8;return Zs(60);case 8:_e147.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e147,"horizontal");case 9:_iterator102=_createForOfIteratorHelper(s);try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){_t183=_step102.value;_e149=_t183.querySelector("x-menu");_e149&&_e149.close();}}catch(err){_iterator102.e(err);}finally{_iterator102.f();}case 11:case"end":return _context43.stop();}}},_callee43);}))):this.Ue(function(){_this70.focus();});}}}},{key:"Ie",value:function Ie(t){t.relatedTarget&&Xs(t.relatedTarget,"x-menu")===this||!0===this.$e&&this.Ve();}},{key:"Xe",value:function Xe(){this.Ke()||(this.$e=!0,this.je());}},{key:"Ve",value:function Ve(){this.Ke()||(this.$e=!1,this.je(),this.focus());}},{key:"Oe",value:function Oe(t){this.Ee.push({x:t.clientX,y:t.clientY}),this.Ee.length>3&&this.Ee.shift();}},{key:"Be",value:function Be(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.$e=!0):this.$e=!1;}},{key:"He",value:function He(){if(this.De){var _t184=this.scrollTop-this.Te;if(this.Te=this.scrollTop,Ks()-this.Pe>100){var _e150=this.getBoundingClientRect();_t184<0?_e150.bottom+mn(_t184)<=window.innerHeight-7?this.style.height=_e150.height+mn(_t184)+"px":this.style.height=window.innerHeight-14+"px":_t184>0&&(_e150.top-_t184>=7?(this.style.top=this.Me+_e150.top-_t184+"px",this.style.height=_e150.height+_t184+"px",this.scrollTop=0,this.Te=0):(this.style.top=7+this.Me+"px",this.style.height=window.innerHeight-14+"px"));}}}},{key:"Vs",value:function Vs(t){if(this.Ke())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){var _e151=this.querySelector("x-menuitem:focus");if(_e151){var _i143=_e151.querySelector("x-menu");if(_i143){t.preventDefault(),t.stopPropagation(),!1===_i143.opened&&_i143.openNextToElement(_e151,"horizontal");var _s102=_i143.querySelector("x-menuitem:not([disabled]):not([hidden])");_s102&&_s102.focus();}}}else if("ArrowLeft"===t.code){var _e152=this.querySelector("x-menuitem:focus");if(_e152){var _i144=_e152.closest("x-menu").closest("x-menuitem");_i144&&_i144.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),_i144.focus(),this.close());}}}}]);return gn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gn,"observedAttributes",["opened"]);_defineProperty(gn,"_shadowTemplate",$s(_templateObject154()));_defineProperty(gn,"_shadowStyleSheet",Is(_templateObject155()));customElements.define("x-menu",gn);var fn=/*#__PURE__*/function(_HTMLElement17){_inherits(fn,_HTMLElement17);var _super18=_createSuper(fn);_createClass(fn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function fn(){var _temp20,_this71;_classCallCheck(this,fn);(_temp20=_this71=_super18.call(this),_defineProperty(_assertThisInitialized(_this71),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this71),"I",{}),_defineProperty(_assertThisInitialized(_this71),"Ze",!1),_defineProperty(_assertThisInitialized(_this71),"Ge",null),_defineProperty(_assertThisInitialized(_this71),"B",null),_temp20),_this71._shadowRoot=_this71.attachShadow({mode:"closed"}),_this71._shadowRoot.adoptedStyleSheets=[fn._shadowStyleSheet],_this71._shadowRoot.append(document.importNode(fn._shadowTemplate.content,!0));var _iterator103=_createForOfIteratorHelper(_this71._shadowRoot.querySelectorAll("[id]")),_step103;try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var _t185=_step103.value;_this71.I[_t185.id]=_t185;}}catch(err){_iterator103.e(err);}finally{_iterator103.f();}_this71.addEventListener("focusout",function(t){return _this71.fe(t);}),_this71._shadowRoot.addEventListener("pointerover",function(t){return _this71.Ye(t);}),_this71._shadowRoot.addEventListener("click",function(t){return _this71.We(t);}),_this71._shadowRoot.addEventListener("wheel",function(t){return _this71.Je(t);}),_this71._shadowRoot.addEventListener("keydown",function(t){return _this71.Qe(t);});return _this71;}_createClass(fn,[{key:"connectedCallback",value:function connectedCallback(){var _this72=this;this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),Gs.addEventListener("sizechange",this.B=function(){_this72.U();}),window.addEventListener("orientationchange",this.Ge=function(){_this72.ti();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ge);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ut():"size"===t&&this.U();}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ei",value:function ei(t){var e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.Ze=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");var _i145=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem > x-menu")).filter(function(t){return t!==e;});var _iterator104=_createForOfIteratorHelper(_i145),_step104;try{for(_iterator104.s();!(_step104=_iterator104.n()).done;){var _t186=_step104.value;_t186&&_t186.close(!1);}}catch(err){_iterator104.e(err);}finally{_iterator104.f();}}{var _this$getBoundingClie=this.getBoundingClientRect(),_t187=_this$getBoundingClie.x,_e153=_this$getBoundingClie.y,_i146=_this$getBoundingClie.width,_s103=_this$getBoundingClie.height;this.I["backdrop-path"].setAttribute("d","\n          M 0 0\n          L ".concat(window.innerWidth," 0\n          L ").concat(window.innerWidth," ").concat(window.innerHeight,"\n          L 0 ").concat(window.innerHeight,"\n          L 0 0\n          M ").concat(_t187," ").concat(_e153,"\n          L ").concat(_t187+_i146," ").concat(_e153,"\n          L ").concat(_t187+_i146," ").concat(_e153+_s103,"\n          L ").concat(_t187," ").concat(_e153+_s103,"\n        ")),this.I.backdrop.removeAttribute("hidden");}}}},{key:"ii",value:function ii(){var _this73=this;return new Promise(/*#__PURE__*/function(){var _ref41=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(t){var _t188,_iterator105,_step105,_e154,e;return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:_this73.Ze=!1,_this73.style.touchAction=null,_this73.I.backdrop.setAttribute("hidden",""),_this73.I["backdrop-path"].setAttribute("d","");_t188=_this73.querySelectorAll(":scope > x-menuitem > x-menu[opened]");_iterator105=_createForOfIteratorHelper(_t188);_context44.prev=3;_iterator105.s();case 5:if((_step105=_iterator105.n()).done){_context44.next=11;break;}_e154=_step105.value;_context44.next=9;return _e154.close(!0);case 9:_context44.next=5;break;case 11:_context44.next=16;break;case 13:_context44.prev=13;_context44.t0=_context44["catch"](3);_iterator105.e(_context44.t0);case 16:_context44.prev=16;_iterator105.f();return _context44.finish(16);case 19:e=_this73.querySelector("x-menuitem:focus");e&&e.blur(),t();case 21:case"end":return _context44.stop();}}},_callee44,null,[[3,13,16,19]]);}));return function(_x34){return _ref41.apply(this,arguments);};}());}},{key:"si",value:function si(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){var _i147=t.indexOf(e),_s104=t[_i147-1]||t[t.length-1];this.ei(_s104);}}},{key:"hi",value:function hi(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){var _i148=t.indexOf(e),_s105=t[_i148+1]||t[0];this.ei(_s105);}}},{key:"Ut",value:function Ut(){this.setAttribute("aria-disabled",this.disabled);}},{key:"fe",value:function fe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ii();}},{key:"ti",value:function ti(){this.ii();}},{key:"Je",value:function Je(t){var e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault();}},{key:"We",value:function(){var _We=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(t){var e,i,_t189;return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:if(!this.hasAttribute("closing")){_context45.next=2;break;}return _context45.abrupt("return");case 2:e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!(!e||!1!==e.disabled||i&&!i.contains(e))){_context45.next=7;break;}t.target===this.I["backdrop-path"]&&(this.ii(),t.preventDefault(),t.stopPropagation());_context45.next=22;break;case 7:_t189=e.querySelector("x-menu");if(!(e.parentElement===this)){_context45.next=12;break;}_t189&&(_t189.opened?this.ii():this.ei(e));_context45.next=22;break;case 12:if(!_t189){_context45.next=16;break;}_t189.opened&&!1===_t189.opened&&_t189.openNextToElement(e,"horizontal");_context45.next=22;break;case 16:this.setAttribute("closing","");_context45.next=19;return e.whenTriggerEnd;case 19:_context45.next=21;return this.ii();case 21:this.removeAttribute("closing");case 22:case"end":return _context45.stop();}}},_callee45,this);}));function We(_x35){return _We.apply(this,arguments);}return We;}()},{key:"Ye",value:function Ye(t){if(this.hasAttribute("closing"))return;var e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.Ze&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.ei(e):e.focus());}},{key:"Qe",value:function Qe(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){var _e155=this.querySelector(":scope > x-menuitem:focus");_e155&&(t.preventDefault(),_e155.click());}else if("Escape"===t.code)this.Ze&&(t.preventDefault(),this.ii());else if("Tab"===t.code){var _t190=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(_t190){_t190.focus();var _e156=_t190.querySelector(":scope > x-menu");_e156&&(_e156.tabIndex=-1,_e156.close().then(function(){_e156.tabIndex=-1;}));}}else if("ArrowRight"===t.code)this.hi();else if("ArrowLeft"===t.code)this.si();else if("ArrowDown"===t.code){var _e157=this.querySelector("x-menuitem:focus > x-menu");_e157&&(t.preventDefault(),_e157.focusFirstMenuItem());}else if("ArrowUp"===t.code){var _e158=this.querySelector("x-menuitem:focus > x-menu");_e158&&(t.preventDefault(),_e158.focusLastMenuItem());}}}]);return fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fn,"observedAttributes",["disabled","size"]);_defineProperty(fn,"_shadowTemplate",$s(_templateObject156()));_defineProperty(fn,"_shadowStyleSheet",Is(_templateObject157()));customElements.define("x-menubar",fn);var wn=Math.max;var vn=/*#__PURE__*/function(_HTMLElement18){_inherits(vn,_HTMLElement18);var _super19=_createSuper(vn);_createClass(vn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t));}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"whenTriggerEnd",get:function get(){var _this75=this;return new Promise(function(t){0===_this75.I.ripples.childElementCount&&!1===_this75.ni?t():_this75.oi.push(t);});}}]);function vn(){var _temp21,_this74;_classCallCheck(this,vn);(_temp21=_this74=_super19.call(this),_defineProperty(_assertThisInitialized(_this74),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this74),"I",{}),_defineProperty(_assertThisInitialized(_this74),"zt",0),_defineProperty(_assertThisInitialized(_this74),"ni",!1),_defineProperty(_assertThisInitialized(_this74),"oi",[]),_defineProperty(_assertThisInitialized(_this74),"li",!1),_defineProperty(_assertThisInitialized(_this74),"B",null),_defineProperty(_assertThisInitialized(_this74),"ai",new MutationObserver(function(){return _this74.ri();})),_temp21),_this74._shadowRoot=_this74.attachShadow({mode:"closed"}),_this74._shadowRoot.adoptedStyleSheets=[vn._shadowStyleSheet],_this74._shadowRoot.append(document.importNode(vn._shadowTemplate.content,!0)),_this74.addEventListener("pointerdown",function(t){return _this74.kt(t);}),_this74.addEventListener("click",function(t){return _this74.N(t);}),_this74.addEventListener("keydown",function(t){return _this74.Vs(t);});var _iterator106=_createForOfIteratorHelper(_this74._shadowRoot.querySelectorAll("[id]")),_step106;try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){var _t191=_step106.value;_this74.I[_t191.id]=_t191;}}catch(err){_iterator106.e(err);}finally{_iterator106.f();}return _this74;}_createClass(vn,[{key:"connectedCallback",value:function connectedCallback(){var _this76=this;this.ri(),this.St(),this.U(),this.ai.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),Gs.addEventListener("sizechange",this.B=function(){return _this76.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.ai.disconnect(),Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.St():"size"===t&&this.U();}},{key:"ri",value:function ri(){"x-menubar"===this.parentElement.localName?this.I.arrow.setAttribute("hidden",""):this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","");}},{key:"St",value:function St(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"kt",value:function(){var _kt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(t){var _this77=this;var _e159,_i149,_e160,_i150,_s106,_n61,_o43,_l36,_a23,_h19,_iterator107,_step107,_t192;return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:if(!(this.li=this.matches(":focus"),1!==t.buttons)){_context47.next=2;break;}return _context47.abrupt("return",!1);case 2:if(!this.matches("[closing] x-menuitem")){_context47.next=4;break;}return _context47.abrupt("return",(t.preventDefault(),void t.stopPropagation()));case 4:if(!(t.target.closest("x-menuitem")===this)){_context47.next=23;break;}this.setPointerCapture(t.pointerId);_e159=Date.now(),_i149=!0;this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){var s,n;return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:_i149=!1;s=Date.now()-_e159,n="touch"===t.pointerType?600:150;_context46.t0=s<n;if(!_context46.t0){_context46.next=6;break;}_context46.next=6;return Zs(n-s);case 6:_this77.removeAttribute("pressed");case 7:case"end":return _context46.stop();}}},_callee46);})),{once:!0}),_i149&&this.setAttribute("pressed","");if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context47.next=23;break;}_e160=this.I.ripples.getBoundingClientRect(),_i150=1.5*wn(_e160.width,_e160.height),_s106=t.clientY-_e160.y-_i150/2,_n61=t.clientX-_e160.x-_i150/2,_o43=new Promise(function(t){return _this77.addEventListener("lostpointercapture",t,{once:!0});}),_l36=qs("div");_l36.setAttribute("part","ripple"),_l36.setAttribute("class","ripple pointer-down-ripple"),_l36.setAttribute("style","width: ".concat(_i150,"px; height: ").concat(_i150,"px; top: ").concat(_s106,"px; left: ").concat(_n61,"px;")),this.I.ripples.append(_l36),this.setPointerCapture(t.pointerId);_a23=_l36.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=14;return _o43;case 14:_context47.next=16;return _a23.finished;case 16:_h19=_l36.animate({opacity:[getComputedStyle(_l36).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=19;return _h19.finished;case 19:_l36.remove();if(!(0===this.I.ripples.childElementCount)){_context47.next=23;break;}_iterator107=_createForOfIteratorHelper(this.oi);try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){_t192=_step107.value;_t192();}}catch(err){_iterator107.e(err);}finally{_iterator107.f();}case 23:case"end":return _context47.stop();}}},_callee47,this);}));function kt(_x36){return _kt.apply(this,arguments);}return kt;}()},{key:"N",value:function(){var _N4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(t){var _t193,_t194,_t195,_e161,_i151,_s107,_n62,_o44,_l37,_iterator108,_step108,_t196,_iterator109,_step109,_t197,_iterator110,_step110,_t198;return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(t.button>0||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem")){_context48.next=50;break;}if(this.togglable){_t193=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(_t193),!1===_t193.defaultPrevented&&(this.toggled=!this.toggled);}if(this.querySelector(":scope > x-menu")){_context48.next=50;break;}_t194=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t194)){_context48.next=21;break;}if(!(null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context48.next=19;break;}_t195=this.I.ripples.getBoundingClientRect(),_e161=1.5*wn(_t195.width,_t195.height),_i151=_t195.y+_t195.height/2-_t195.y-_e161/2,_s107=_t195.x+_t195.width/2-_t195.x-_e161/2,_n62=qs("div");_n62.setAttribute("part","ripple"),_n62.setAttribute("class","ripple click-ripple"),_n62.setAttribute("style","width: ".concat(_e161,"px; height: ").concat(_e161,"px; top: ").concat(_i151,"px; left: ").concat(_s107,"px;")),this.I.ripples.append(_n62);_o44=_n62.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=11;return _o44.finished;case 11:_l37=_n62.animate({opacity:[getComputedStyle(_n62).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=14;return _l37.finished;case 14:_n62.remove();if(!(0===this.I.ripples.childElementCount)){_context48.next=19;break;}_iterator108=_createForOfIteratorHelper(this.oi);try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){_t196=_step108.value;_t196();}}catch(err){_iterator108.e(err);}finally{_iterator108.f();}this.oi=[];case 19:_context48.next=50;break;case 21:if(!("blink"===_t194)){_context48.next=43;break;}this.ni=!0;if(!this.li){_context48.next=32;break;}this.parentElement.focus();_context48.next=27;return Zs(150);case 27:this.focus();_context48.next=30;return Zs(150);case 30:_context48.next=38;break;case 32:this.focus();_context48.next=35;return Zs(150);case 35:this.parentElement.focus();_context48.next=38;return Zs(150);case 38:_iterator109=_createForOfIteratorHelper(this.oi);try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){_t197=_step109.value;_t197();}}catch(err){_iterator109.e(err);}finally{_iterator109.f();}this.oi=[],this.ni=!1;_context48.next=50;break;case 43:if(!("none"===_t194)){_context48.next=50;break;}this.ni=!0;_context48.next=47;return Zs(150);case 47:_iterator110=_createForOfIteratorHelper(this.oi);try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){_t198=_step110.value;_t198();}}catch(err){_iterator110.e(err);}finally{_iterator110.f();}this.oi=[],this.ni=!1;case 50:case"end":return _context48.stop();}}},_callee48,this);}));function N(_x37){return _N4.apply(this,arguments);}return N;}()},{key:"Vs",value:function Vs(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()));}}]);return vn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vn,"observedAttributes",["disabled","size"]);_defineProperty(vn,"_shadowTemplate",$s(_templateObject158()));_defineProperty(vn,"_shadowStyleSheet",Is(_templateObject159()));customElements.define("x-menuitem",vn);var yn=/*#__PURE__*/function(_HTMLElement19){_inherits(yn,_HTMLElement19);var _super20=_createSuper(yn);_createClass(yn,[{key:"opened",get:function get(){return this.hasAttribute("opened");},set:function set(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.di=0;}},{key:"timeout",get:function get(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0;},set:function set(t){this.setAttribute("timeout",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function yn(){var _temp22,_this78;_classCallCheck(this,yn);(_temp22=_this78=_super20.call(this),_defineProperty(_assertThisInitialized(_this78),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this78),"di",0),_defineProperty(_assertThisInitialized(_this78),"ui",null),_defineProperty(_assertThisInitialized(_this78),"B",null),_defineProperty(_assertThisInitialized(_this78),"ci",null),_temp22),_this78._shadowRoot=_this78.attachShadow({mode:"closed"}),_this78._shadowRoot.adoptedStyleSheets=[yn._shadowStyleSheet],_this78._shadowRoot.append(document.importNode(yn._shadowTemplate.content,!0));return _this78;}_createClass(yn,[{key:"connectedCallback",value:function connectedCallback(){var _this79=this;this.setAttribute("tabindex","0"),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this79.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.pi():this.mi():"size"===t&&this.U());}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"pi",value:function pi(){var _this80=this;if(this.isConnected){var _t199=0-this.getBoundingClientRect().height-10+"px",_e162=getComputedStyle(this).bottom;this.animate({bottom:[_t199,_e162]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});}{this.di=0,this.ui=setInterval(function(){_this80.di+=100,_this80.timeout>0&&_this80.di>_this80.timeout&&(_this80.opened=!1);},100);var _t200=Ks();window.addEventListener("pointerdown",this.ci=function(e){var i=Ks(),s=_this80.getBoundingClientRect();i-_t200>10&&!1===function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height;}(s,new DOMPoint(e.clientX,e.clientY))&&(_this80.opened=!1);},!0);}}},{key:"mi",value:function(){var _mi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var _t201,_e163,_i152;return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(!(clearInterval(this.ui),this.isConnected)){_context49.next=6;break;}this.setAttribute("animating","");_t201=getComputedStyle(this).bottom,_e163=0-this.getBoundingClientRect().height-10+"px",_i152=this.animate({bottom:[_t201,_e163]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context49.next=5;return _i152.finished;case 5:this.removeAttribute("animating");case 6:window.removeEventListener("pointerdown",this.ci,!0);case 7:case"end":return _context49.stop();}}},_callee49,this);}));function mi(){return _mi.apply(this,arguments);}return mi;}()}]);return yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yn,"observedAttributes",["opened","size"]);_defineProperty(yn,"_shadowTemplate",$s(_templateObject160()));_defineProperty(yn,"_shadowStyleSheet",Is(_templateObject161()));customElements.define("x-notification",yn);var kn=Number.isFinite,Sn=Number.isNaN,Cn=Number.parseFloat,_n=Number.isFinite;var Mn=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];var Pn=/*#__PURE__*/function(_HTMLElement20){_inherits(Pn,_HTMLElement20);var _super21=_createSuper(Pn);_createClass(Pn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity;},set:function set(t){_n(t)?this.setAttribute("min",t):this.removeAttribute("min");}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity;},set:function set(t){_n(t)?this.setAttribute("max",t):this.removeAttribute("max");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"precision",get:function get(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20;},set:function set(t){this.setAttribute("precision",t);}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"prefix",get:function get(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):"";},set:function set(t){this.setAttribute("prefix",t);}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Pn(){var _temp23,_this81;_classCallCheck(this,Pn);(_temp23=_this81=_super21.call(this),_defineProperty(_assertThisInitialized(_this81),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this81),"I",{}),_defineProperty(_assertThisInitialized(_this81),"zt",0),_defineProperty(_assertThisInitialized(_this81),"B",null),_defineProperty(_assertThisInitialized(_this81),"bi",!1),_defineProperty(_assertThisInitialized(_this81),"gi",!1),_defineProperty(_assertThisInitialized(_this81),"xi",!1),_defineProperty(_assertThisInitialized(_this81),"fi",!1),_defineProperty(_assertThisInitialized(_this81),"wi",!1),_defineProperty(_assertThisInitialized(_this81),"vi",!1),_defineProperty(_assertThisInitialized(_this81),"Ri",Js(function(){!_this81.gi||_this81.xi||_this81.fi||_this81.wi||(_this81.gi=!1,_this81.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));},500)),_temp23),_this81._shadowRoot=_this81.attachShadow({mode:"closed",delegatesFocus:!0}),_this81._shadowRoot.adoptedStyleSheets=[Pn._shadowStyleSheet],_this81._shadowRoot.append(document.importNode(Pn._shadowTemplate.content,!0));var _iterator111=_createForOfIteratorHelper(_this81._shadowRoot.querySelectorAll("[id]")),_step111;try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _t202=_step111.value;_this81.I[_t202.id]=_t202;}}catch(err){_iterator111.e(err);}finally{_iterator111.f();}_this81._shadowRoot.addEventListener("pointerdown",function(t){return _this81.yi(t);}),_this81._shadowRoot.addEventListener("wheel",function(t){return _this81.Be(t);}),_this81.I.editor.addEventListener("paste",function(t){return _this81.zi(t);}),_this81.I.editor.addEventListener("input",function(t){return _this81.ki(t);}),_this81.addEventListener("pointerdown",function(t){return _this81.kt(t);}),_this81.addEventListener("keydown",function(t){return _this81.Vs(t);}),_this81.addEventListener("keyup",function(t){return _this81.Ws(t);}),_this81.addEventListener("keypress",function(t){return _this81.Ci(t);}),_this81.addEventListener("incrementstart",function(t){return _this81.Si(t);}),_this81.addEventListener("decrementstart",function(t){return _this81.Ei(t);}),_this81.addEventListener("focusin",function(t){return _this81.xe(t);}),_this81.addEventListener("focusout",function(t){return _this81.fe(t);});return _this81;}_createClass(Pn,[{key:"connectedCallback",value:function connectedCallback(){var _this82=this;this.St(),this.U(),this.nt(),Gs.addEventListener("sizechange",this.B=function(){return _this82.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ai():"max"===t?this.Li():"prefix"===t?this.Ti():"suffix"===t?this.Mi():"disabled"===t?this.Ut():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null;}},{key:"Di",value:function Di(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i+=t?10*this.step:this.step,i=ps(i,this.min,this.max,us(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.ge();}},{key:"$i",value:function $i(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i-=t?10*this.step:this.step,i=ps(i,this.min,this.max,us(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.ge();}},{key:"Pi",value:function Pi(){this.gi||(this.gi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));}},{key:"Ii",value:function Ii(){var t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=ps(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate();}},{key:"nt",value:function nt(){this.vi&&this.validate(),this.Oi(),this.ge(),this.Bi();}},{key:"Oi",value:function Oi(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent="";}},{key:"ge",value:function ge(){var t=null;if(this.matches(":focus")){var _e164=this.I.editor.textContent;t=""===_e164.trim()?null:parseFloat(_e164);}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Bi",value:function Bi(){var t=this.querySelector("x-stepper");if(t){var _e165=this.value>this.min,_i153=this.value<this.max;!0===_i153&&!0===_e165?t.removeAttribute("disabled"):!1===_i153&&!1===_e165?t.setAttribute("disabled",""):!1===_i153?t.setAttribute("disabled","increment"):!1===_e165&&t.setAttribute("disabled","decrement");}}},{key:"St",value:function St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.nt();}},{key:"Ai",value:function Ai(){this.Bi();}},{key:"Li",value:function Li(){this.Bi();}},{key:"Ti",value:function Ti(){this.I.editor.setAttribute("data-prefix",this.prefix);}},{key:"Mi",value:function Mi(){this.I.editor.setAttribute("data-suffix",this.suffix);}},{key:"Ut",value:function Ut(){this.I.editor.disabled=this.disabled,this.St();}},{key:"lt",value:function lt(){this.U();}},{key:"xe",value:function xe(){this.vi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"fe",value:function fe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ii(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));}},{key:"ki",value:function ki(){this.error=null,this.ge(),this.Bi();}},{key:"Be",value:function Be(t){this.matches(":focus")&&(t.preventDefault(),this.Pi(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.$i(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.Ri());}},{key:"N",value:function N(t){t.preventDefault();}},{key:"kt",value:function kt(t){"x-stepper"===t.target.localName&&t.preventDefault();}},{key:"yi",value:function yi(t){var _this83=this;if(1===t.buttons&&!1!==t.isPrimary){if(t.target===this.I.editor&&!1===this.I.editor.matches(":focus")){t.preventDefault();var _e166,_i156,_s108=this.value,_n63=t.clientX,_o45=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(t.pointerId),this.I.editor.addEventListener("pointermove",_e166=function _e166(e){var i=new DOMPoint(e.clientX,e.clientY),l=e.timeStamp-t.timeStamp,a=e.clientX!==_n63,h=xs(_o45,i)>3||l>80;if(_n63=e.clientX,a&&h&&e.isPrimary){!1===_this83.bi&&(_this83.bi=!0,_this83.gi=!0,_this83.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));var _i155=e.clientX-t.clientX,_n64=_s108+_i155*_this83.step;_n64=ps(_n64,_this83.min,_this83.max,us(_this83.step)),_this83.value=_n64,_this83.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}),this.I.editor.addEventListener("lostpointercapture",_i156=function _i154(){_this83.I.editor.removeEventListener("pointermove",_e166),_this83.I.editor.removeEventListener("lostpointercapture",_i156),_this83.style.cursor=null,!0===_this83.bi?(_this83.bi=!1,_this83.gi=!1,_this83.dispatchEvent(new CustomEvent("changeend",{detail:_this83.value!==_s108,bubbles:!0}))):(_this83.I.editor.focus(),document.execCommand("selectAll"));});}}else t.preventDefault();}},{key:"Si",value:function Si(t){var _this84=this;var e,_i157;this.matches(":focus")&&this.Ii(),this.wi=!0,this.addEventListener("increment",e=function e(t){_this84.Pi(),_this84.Di(t.detail.shiftKey),_this84.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this84.Ri(),_this84.nt();}),this.addEventListener("incrementend",_i157=function i(t){_this84.wi=!1,_this84.removeEventListener("increment",e),_this84.removeEventListener("incrementend",_i157);});}},{key:"Ei",value:function Ei(t){var _this85=this;var e,_i158;this.matches(":focus")&&this.Ii(),this.wi=!0,this.addEventListener("decrement",e=function e(t){_this85.Pi(),_this85.$i(t.detail.shiftKey),_this85.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this85.Ri(),_this85.nt();}),this.addEventListener("decrementend",_i158=function i(t){_this85.wi=!1,_this85.removeEventListener("decrement",e),_this85.removeEventListener("decrementend",_i158);});}},{key:"Vs",value:function Vs(t){"ArrowDown"===t.code?(t.preventDefault(),this.xi=!0,this.Pi(),this.$i(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Ri(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.xi=!0,this.Pi(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Ri(),this.nt()):"Backspace"===t.code?this.fi=!0:"Enter"===t.code&&(this.Ii(),document.execCommand("selectAll"));}},{key:"Ws",value:function Ws(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.xi=!1,this.Ri()):"Backspace"===t.code&&(this.fi=!1);}},{key:"Ci",value:function Ci(t){!1===Mn.includes(t.key)&&t.preventDefault();}},{key:"zi",value:function(){var _zi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(t){var e;return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:t.preventDefault();e=t.clipboardData.getData("text/plain").trim();_context50.t0=function(t){var e=Cn(t);return!1===Sn(e)&&kn(e);}(e);if(!_context50.t0){_context50.next=7;break;}_context50.next=6;return Zs(1);case 6:document.execCommand("insertText",!1,e);case 7:case"end":return _context50.stop();}}},_callee50);}));function zi(_x38){return _zi.apply(this,arguments);}return zi;}()}]);return Pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pn,"observedAttributes",["value","min","max","prefix","suffix","disabled","size"]);_defineProperty(Pn,"_shadowTemplate",$s(_templateObject162()));_defineProperty(Pn,"_shadowStyleSheet",Is(_templateObject163()));customElements.define("x-numberinput",Pn);var Dn=/*#__PURE__*/function(_HTMLElement21){_inherits(Dn,_HTMLElement21);var _super22=_createSuper(Dn);_createClass(Dn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}},{key:"modal",get:function get(){return this.hasAttribute("modal");},set:function set(t){t?this.setAttribute("modal",""):this.removeAttribute("modal");}}]);function Dn(){var _temp24,_this86;_classCallCheck(this,Dn);(_temp24=_this86=_super22.call(this),_defineProperty(_assertThisInitialized(_this86),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this86),"I",{}),_defineProperty(_assertThisInitialized(_this86),"Hi",null),_defineProperty(_assertThisInitialized(_this86),"Fi",null),_temp24),_this86._shadowRoot=_this86.attachShadow({mode:"closed"}),_this86._shadowRoot.adoptedStyleSheets=[Dn._shadowStyleSheet],_this86._shadowRoot.append(document.importNode(Dn._shadowTemplate.content,!0));var _iterator112=_createForOfIteratorHelper(_this86._shadowRoot.querySelectorAll("[id]")),_step112;try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var _t203=_step112.value;_this86.I[_t203.id]=_t203;}}catch(err){_iterator112.e(err);}finally{_iterator112.f();}_this86.I.backdrop=qs("x-backdrop"),_this86.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this86.I.backdrop.ownerElement=_assertThisInitialized(_this86),_this86.I.backdrop.addEventListener("click",function(t){t.preventDefault();}),_this86.I.backdrop.addEventListener("pointerdown",function(t){_this86.hasAttribute("animating")&&t.stopPropagation();});return _this86;}_createClass(Dn,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=-1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide());}},{key:"open",value:function open(t){var _this87=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref43=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee51(i){var _t204,_this87$qe,_this87$qe2,_e167,_i159,_s109;return regeneratorRuntime.wrap(function _callee51$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:if(!(!1===_this87.opened)){_context51.next=8;break;}if(!(_this87.modal&&_this87.I.backdrop.show(!1),_this87.setAttribute("opened",""),_this87.Ni(),_this87.qi(t),_this87.Hi=function(t){var e=function e(t){return t&&t!==document.body?function(t){var e=getComputedStyle(t,null);return /(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"));}(t)?t:e(t.parentElement||t.parentNode.host):document.body;};return e(t);}(_this87),_this87.Hi&&_this87.Hi.addEventListener("scroll",_this87.Fi=function(){_this87.close();},{once:!0}),e)){_context51.next=7;break;}_t204=getComputedStyle(_this87).getPropertyValue("--open-transition"),_this87$qe=_this87.qe(_t204),_this87$qe2=_slicedToArray(_this87$qe,3),_e167=_this87$qe2[0],_i159=_this87$qe2[1],_s109=_this87$qe2[2];_context51.t0="transform"===_e167;if(!_context51.t0){_context51.next=7;break;}_context51.next=7;return _this87.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:_i159,easing:_s109}).finished;case 7:_this87.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this87}));case 8:i();case 9:case"end":return _context51.stop();}}},_callee51);}));return function(_x39){return _ref43.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this88=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref44=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee52(e){var _t205,_this88$qe,_this88$qe2,_e168,_i160,_s110;return regeneratorRuntime.wrap(function _callee52$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:if(!(!0===_this88.opened&&(_this88.removeAttribute("opened"),_this88.I.backdrop.hide(),_this88.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this88})),_this88.Hi.removeEventListener("scroll",_this88.Fi),t))){_context52.next=8;break;}_t205=getComputedStyle(_this88).getPropertyValue("--close-transition"),_this88$qe=_this88.qe(_t205),_this88$qe2=_slicedToArray(_this88$qe,3),_e168=_this88$qe2[0],_i160=_this88$qe2[1],_s110=_this88$qe2[2];_this88.setAttribute("animating","");_context52.t0="opacity"===_e168;if(!_context52.t0){_context52.next=7;break;}_context52.next=7;return _this88.animate({opacity:["1","0"]},{duration:_i160,easing:_s110}).finished;case 7:_this88.removeAttribute("animating");case 8:e();case 9:case"end":return _context52.stop();}}},_callee52);}));return function(_x40){return _ref44.apply(this,arguments);};}());}},{key:"qi",value:function qi(t){var _this89=this;var e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{var _e169=cs(this.getBoundingClientRect());0===_e169.top&&0===_e169.left||(s=-_e169.left,n=-_e169.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect();}if("bottom"===e||"top"===e){var _t206=function _t206(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","bottom");var e=cs(_this89.getBoundingClientRect()),s=cs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.bottom+2+i+"px",_this89.style.top=n+o.bottom+2+s.height+"px",e=cs(_this89.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){var _t207=e.height-l;l=0,_this89.style.maxHeight=_t207+"px";}return l;},_l38=function _l38(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","top");var e=cs(_this89.getBoundingClientRect()),s=cs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.top-2-i-s.height+"px",_this89.style.top=n+o.top-2-s.height-e.height+"px",e=cs(_this89.getBoundingClientRect()),l=-(e.top-8),t&&l>0){var _t208=e.height-l;l=0,_this89.style.maxHeight=_t208+"px",_this89.style.top=n+o.top-2-s.height-_t208+"px";}return l;},_a24=function _a24(){_this89.style.maxWidth=null;var t=cs(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+o.left+o.width/2-t.width/2+"px",t=cs(_this89.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i];},_h20=function _h20(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=cs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+window.innerWidth-8-e.width+"px",e=cs(_this89.getBoundingClientRect()),i=-(e.left-8),t&&i>0){var _t209=e.width-i;i=0,_this89.style.maxWidth=_t209+"px",_this89.style.left=s+window.innerWidth-8-_t209+"px";}return i;},_r13=function _r13(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=cs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+8+"px",e=cs(_this89.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){var _t210=e.width-i;i=0,_this89.style.maxWidth=_t210+"px";}return i;};if("bottom"===e){var _e170=_t206();if(_e170>0){var _i161=_l38();_i161>0&&(_i161>_e170?_t206(!0):_l38(!0));}}else if("top"===e){var _e171=_l38();if(_e171>0){var _i162=_t206();_i162>0&&(_i162>_e171?_l38(!0):_t206(!0));}}{var _a25=_a24(),_a26=_slicedToArray(_a25,2),_t211=_a26[0],_e172=_a26[1];_e172>0?(_t211=_h20(),_t211>0&&_h20(!0)):_t211>0&&(_e172=_r13(),_e172>0&&_r13(!0));}}else if("right"===e||"left"===e){var _t212=function _t212(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","right");var e=cs(_this89.getBoundingClientRect()),n=cs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.right+2+i+"px",_this89.style.left=s+o.right+2+n.width+"px",e=cs(_this89.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){var _t213=e.width-l;l=0,_this89.style.maxWidth=_t213+"px";}return l;},_l39=function _l39(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","left");var e=cs(_this89.getBoundingClientRect()),n=cs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.left-2-i-n.width+"px",_this89.style.left=s+o.left-2-n.width-e.width+"px",e=cs(_this89.getBoundingClientRect()),l=-(e.left-8),t&&l>0){var _t214=e.width-l;l=0,_this89.style.maxWidth=_t214+"px",_this89.style.left=s+o.left-2-n.width-_t214+"px";}return l;},_a27=function _a27(){_this89.style.maxHeight=null;var t=cs(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+o.top+o.height/2-t.height/2+"px",t=cs(_this89.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i];},_h21=function _h21(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=cs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+window.innerHeight-8-e.height+"px",e=cs(_this89.getBoundingClientRect()),i=-(e.top-8),t&&i>0){var _t215=e.height-i;i=0,_this89.style.maxHeight=_t215+"px",_this89.style.top=n+window.innerHeight-8-_t215+"px";}return i;},_r14=function _r14(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=cs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+8+"px",e=cs(_this89.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){var _t216=e.height-i;i=0,_this89.style.maxHeight=_t216+"px";}return i;};if("right"===e){var _e173=_t212();if(_e173>0){var _i163=_l39();_i163>0&&(_i163>_e173?_t212(!0):_l39(!0));}}else if("left"===e){var _e174=_l39();if(_e174>0){var _i164=_t212();_i164>0&&(_i164>_e174?_l39(!0):_t212(!0));}}{var _a28=_a27(),_a29=_slicedToArray(_a28,2),_t217=_a29[0],_e175=_a29[1];_e175>0?(_t217=_h21(),_t217>0&&_h21(!0)):_t217>0&&(_e175=_r14(),_e175>0&&_r14(!0));}}}},{key:"Ni",value:function Ni(){{var _getComputedStyle=getComputedStyle(this),_t218=_getComputedStyle.backgroundColor,_e176=_getComputedStyle.borderColor,_i165=_getComputedStyle.borderWidth;this.I["arrow-path"].style.fill=_t218,this.I["arrow-path"].style.stroke=_e176,this.I["arrow-path"].style.strokeWidth=_i165;}}},{key:"qe",value:function qe(t){var _t$trim$split3=t.trim().split(" "),_t$trim$split4=_toArray(_t$trim$split3),e=_t$trim$split4[0],i=_t$trim$split4[1],s=_t$trim$split4.slice(2);return[i,parseFloat(e),s.join(" ")];}}]);return Dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dn,"observedAttributes",["modal"]);_defineProperty(Dn,"_shadowTemplate",$s(_templateObject164()));_defineProperty(Dn,"_shadowStyleSheet",Is(_templateObject165()));customElements.define("x-popover",Dn);var zn=/*#__PURE__*/function(_HTMLElement22){_inherits(zn,_HTMLElement22);var _super23=_createSuper(zn);_createClass(zn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1;},set:function set(t){this.setAttribute("max",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function zn(){var _temp25,_this90;_classCallCheck(this,zn);(_temp25=_this90=_super23.call(this),_defineProperty(_assertThisInitialized(_this90),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this90),"I",{}),_defineProperty(_assertThisInitialized(_this90),"Ui",null),_defineProperty(_assertThisInitialized(_this90),"B",null),_temp25),_this90._shadowRoot=_this90.attachShadow({mode:"closed"}),_this90._shadowRoot.adoptedStyleSheets=[zn._shadowStyleSheet],_this90._shadowRoot.append(document.importNode(zn._shadowTemplate.content,!0));var _iterator113=_createForOfIteratorHelper(_this90._shadowRoot.querySelectorAll("[id]")),_step113;try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var _t219=_step113.value;_this90.I[_t219.id]=_t219;}}catch(err){_iterator113.e(err);}finally{_iterator113.f();}return _this90;}_createClass(zn,[{key:"connectedCallback",value:function connectedCallback(){var _this91=this;Gs.addEventListener("sizechange",this.B=function(){return _this91.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.Ui){var _iterator114=_createForOfIteratorHelper(this.Ui),_step114;try{for(_iterator114.s();!(_step114=_iterator114.n()).done;){var _t220=_step114.value;_t220.cancel();}}catch(err){_iterator114.e(err);}finally{_iterator114.f();}this.Ui=null;}}else this.Ui||(this.Ui=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})]);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return zn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zn,"observedAttributes",["value","max","disabled","size"]);_defineProperty(zn,"_shadowTemplate",$s(_templateObject166()));_defineProperty(zn,"_shadowStyleSheet",Is(_templateObject167()));customElements.define("x-progressbar",zn);var On=/*#__PURE__*/function(_HTMLElement23){_inherits(On,_HTMLElement23);var _super24=_createSuper(On);_createClass(On,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function On(){var _temp26,_this92;_classCallCheck(this,On);(_temp26=_this92=_super24.call(this),_defineProperty(_assertThisInitialized(_this92),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this92),"I",{}),_defineProperty(_assertThisInitialized(_this92),"zt",0),_defineProperty(_assertThisInitialized(_this92),"B",null),_temp26),_this92._shadowRoot=_this92.attachShadow({mode:"closed"}),_this92._shadowRoot.adoptedStyleSheets=[On._shadowStyleSheet],_this92._shadowRoot.append(document.importNode(On._shadowTemplate.content,!0));var _iterator115=_createForOfIteratorHelper(_this92._shadowRoot.querySelectorAll("[id]")),_step115;try{for(_iterator115.s();!(_step115=_iterator115.n()).done;){var _t221=_step115.value;_this92.I[_t221.id]=_t221;}}catch(err){_iterator115.e(err);}finally{_iterator115.f();}_this92.addEventListener("click",function(t){return _this92.N(t);}),_this92.addEventListener("pointerdown",function(t){return _this92.kt(t);}),_this92.addEventListener("keydown",function(t){return _this92.Vs(t);});return _this92;}_createClass(On,[{key:"connectedCallback",value:function connectedCallback(){var _this93=this;Gs.addEventListener("sizechange",this.B=function(){return _this93.U();}),this.St(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.qt():"disabled"===t?this.Ut():"size"===t&&this.U();}},{key:"St",value:function St(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0));}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"qt",value:function qt(){this.setAttribute("aria-checked",this.toggled);}},{key:"Ut",value:function Ut(){this.St();}},{key:"N",value:function N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})));}},{key:"kt",value:function kt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e177=Xs(this.parentNode,"[tabindex]");_e177&&_e177.focus();}}},{key:"Vs",value:function Vs(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return On;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(On,"observedAttributes",["toggled","disabled","size"]);_defineProperty(On,"_shadowTemplate",$s(_templateObject168()));_defineProperty(On,"_shadowStyleSheet",Is(_templateObject169()));customElements.define("x-radio",On);var En=/*#__PURE__*/function(_HTMLElement24){_inherits(En,_HTMLElement24);var _super25=_createSuper(En);_createClass(En,[{key:"value",get:function get(){var t=this.querySelector("x-radio[toggled]");return t?t.value:null;},set:function set(t){var _iterator116=_createForOfIteratorHelper(this.querySelectorAll("x-radio")),_step116;try{for(_iterator116.s();!(_step116=_iterator116.n()).done;){var _e178=_step116.value;_e178.toggled=_e178.value===t&&null!==t;}}catch(err){_iterator116.e(err);}finally{_iterator116.f();}}}]);function En(){var _temp27,_this94;_classCallCheck(this,En);(_temp27=_this94=_super25.call(this),_defineProperty(_assertThisInitialized(_this94),"_shadowRoot",null),_temp27),_this94._shadowRoot=_this94.attachShadow({mode:"closed"}),_this94._shadowRoot.innerHTML="<slot></slot>",_this94.addEventListener("click",function(t){return _this94.N(t);},!0),_this94.addEventListener("keydown",function(t){return _this94.Vs(t);});return _this94;}_createClass(En,[{key:"connectedCallback",value:function connectedCallback(){var _this95=this;this.setAttribute("role","radiogroup");var t=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this95;}),e=t.find(function(t){return t.toggled&&!t.disabled;})||t.find(function(t){return!t.disabled;});var _iterator117=_createForOfIteratorHelper(t),_step117;try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _i166=_step117.value;_i166.setAttribute("tabindex",_i166===e?"0 ":"-1"),_i166.setAttribute("aria-checked",_i166===e);}}catch(err){_iterator117.e(err);}finally{_iterator117.f();}}},{key:"N",value:function N(t){var _this96=this;var e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){var _t222=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this96&&t!==e;});if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;var _iterator118=_createForOfIteratorHelper(_t222),_step118;try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _e179=_step118.value;_e179.toggled=!1,_e179.tabIndex=-1;}}catch(err){_iterator118.e(err);}finally{_iterator118.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}}},{key:"Vs",value:function Vs(t){var _this97=this;var e=t.key;if("ArrowDown"===e||"ArrowRight"===e){var _e180=_toConsumableArray(this.querySelectorAll("x-radio")),_i167=_e180.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s111=_e180.find(function(t){return t.matches(":focus");});if(_s111){var _e181=_i167.indexOf(_s111),_n65=_i167.length>1?_i167[_e181+1]||_i167[0]:null;_n65&&(t.preventDefault(),_n65.focus(),_n65.tabIndex=0,_s111.tabIndex=-1);}}else if("ArrowUp"===e||"ArrowLeft"===e){var _e182=_toConsumableArray(this.querySelectorAll("x-radio")),_i168=_e182.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s112=_e182.find(function(t){return t.matches(":focus");});if(_s112){var _e183=_i168.indexOf(_s112),_n66=_i168[_i168.length-1],_o46=_i168.length>1?_i168[_e183-1]||_n66:null;_o46&&(t.preventDefault(),_o46.focus(),_o46.tabIndex=0,_s112.tabIndex=-1);}}}}]);return En;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define("x-radios",En);var Tn=/*#__PURE__*/function(_HTMLElement25){_inherits(Tn,_HTMLElement25);var _super26=_createSuper(Tn);_createClass(Tn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Tn(){var _temp28,_this98;_classCallCheck(this,Tn);(_temp28=_this98=_super26.call(this),_defineProperty(_assertThisInitialized(_this98),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this98),"I",{}),_defineProperty(_assertThisInitialized(_this98),"B",null),_defineProperty(_assertThisInitialized(_this98),"X",0),_defineProperty(_assertThisInitialized(_this98),"V",0),_defineProperty(_assertThisInitialized(_this98),"ji",100),_defineProperty(_assertThisInitialized(_this98),"G",1),_defineProperty(_assertThisInitialized(_this98),"Y",!1),_defineProperty(_assertThisInitialized(_this98),"Ki",!1),_defineProperty(_assertThisInitialized(_this98),"tt",!1),_temp28),_this98._shadowRoot=_this98.attachShadow({mode:"closed"}),_this98._shadowRoot.adoptedStyleSheets=[Tn._shadowStyleSheet],_this98._shadowRoot.append(document.importNode(Tn._shadowTemplate.content,!0));var _iterator119=_createForOfIteratorHelper(_this98._shadowRoot.querySelectorAll("[id]")),_step119;try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var _t223=_step119.value;_this98.I[_t223.id]=_t223;}}catch(err){_iterator119.e(err);}finally{_iterator119.f();}_this98.I["hue-slider"].addEventListener("pointerdown",function(t){return _this98.et(t);}),_this98.I["satlight-slider"].addEventListener("pointerdown",function(t){return _this98.Xi(t);}),_this98.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this98.ht(t);});return _this98;}_createClass(Tn,[{key:"connectedCallback",value:function connectedCallback(){var _this99=this;this.nt(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this99.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.rt(),this.Vi(),this.Zi(),this.gt(),this.xt();}},{key:"rt",value:function rt(){this.I["hue-slider-marker"].style.left=ps(this.X,0,360,0)/360*100+"%";}},{key:"Vi",value:function Vi(){var t=this.V/100*100,e=100-this.ji/100*100;this.I["satlight-marker"].style.left="".concat(t,"%"),this.I["satlight-marker"].style.top="".concat(e,"%");}},{key:"Zi",value:function Zi(){var t=Ms([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background="linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ".concat(t);}},{key:"gt",value:function gt(){this.I["alpha-slider-marker"].style.left=ps(100*(1-this.G),0,100,2)+"%";}},{key:"xt",value:function xt(){var _s$map=_s(this.X,this.V,this.ji).map(function(t){return ds(t,0);}),_s$map2=_slicedToArray(_s$map,3),t=_s$map2[0],e=_s$map2[1],i=_s$map2[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.Ki&&!1===this.tt){var _Ts$parse7=new Ts().parse(this.value,"hsva"),_Ts$parse8=_slicedToArray(_Ts$parse7,4),_t224=_Ts$parse8[0],_e184=_Ts$parse8[1],_i169=_Ts$parse8[2],_s113=_Ts$parse8[3];this.X=_t224,this.V=_e184,this.ji=_i169,this.G=_s113,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"Xi",value:function Xi(t){var _this100=this;if(1!==t.buttons)return;var e,_i170,s=this.I["satlight-slider"].getBoundingClientRect();this.Ki=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=ps(i,0,100,2),n=ps(n,0,100,2),_this100.V=i,_this100.ji=100-n,_this100.value=Ms([_this100.X,_this100.V,_this100.ji,_this100.G],"hsva","hsla"),_this100.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this100.Vi(),_this100.Zi(),_this100.xt();};n(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["satlight-slider"].addEventListener("lostpointercapture",_i170=function i(t){_this100.I["satlight-slider"].removeEventListener("pointermove",e),_this100.I["satlight-slider"].removeEventListener("lostpointercapture",_i170),_this100.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this100.Ki=!1;});}},{key:"et",value:function et(t){var _this101=this;if(1!==t.buttons)return;var e,_i171,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=ps(e,0,360,0),e!==_this101.X&&(_this101.X=e,_this101.value=Ms([_this101.X,_this101.V,_this101.ji,_this101.G],"hsva","hsla"),_this101.rt(),_this101.Zi(),_this101.Vi(),_this101.xt(),_this101.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i171=function i(){_this101.I["hue-slider"].removeEventListener("pointermove",e),_this101.I["hue-slider"].removeEventListener("lostpointercapture",_i171),_this101.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this101.Y=!1;});}},{key:"ht",value:function ht(t){var _this102=this;if(1!==t.buttons)return;var e,_i172,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=ps(e,0,1,2),e!==_this102.G&&(_this102.G=e,_this102.value=Ms([_this102.X,_this102.V,_this102.ji,_this102.G],"hsva","hsla"),_this102.gt(),_this102.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i172=function i(){_this102.I["alpha-slider"].removeEventListener("pointermove",e),_this102.I["alpha-slider"].removeEventListener("lostpointercapture",_i172),_this102.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this102.tt=!1;});}}]);return Tn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tn,"observedAttributes",["value","size"]);_defineProperty(Tn,"_shadowTemplate",$s(_templateObject170()));_defineProperty(Tn,"_shadowStyleSheet",Is(_templateObject171()));customElements.define("x-rectcolorpicker",Tn);var An=Symbol();var $n=/*#__PURE__*/function(_HTMLElement26){_inherits($n,_HTMLElement26);var _super27=_createSuper($n);_createClass($n,[{key:"value",get:function get(){var t=this.querySelector("x-menuitem[toggled]");return t?t.value:null;},set:function set(t){var _iterator120=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem")),_step120;try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var _e185=_step120.value;_e185.toggled=_e185.value===t&&null!==t;}}catch(err){_iterator120.e(err);}finally{_iterator120.f();}}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function $n(){var _temp29,_this103;_classCallCheck(this,$n);(_temp29=_this103=_super27.call(this),_defineProperty(_assertThisInitialized(_this103),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this103),"I",{}),_defineProperty(_assertThisInitialized(_this103),"zt",0),_defineProperty(_assertThisInitialized(_this103),"vt",!1),_defineProperty(_assertThisInitialized(_this103),"Gi",null),_defineProperty(_assertThisInitialized(_this103),"Yi",null),_defineProperty(_assertThisInitialized(_this103),"B",null),_defineProperty(_assertThisInitialized(_this103),"Wi",new MutationObserver(function(t){return _this103.Ji(t);})),_defineProperty(_assertThisInitialized(_this103),"O",new ResizeObserver(function(){return _this103.Qi();})),_defineProperty(_assertThisInitialized(_this103),"ls",Qs(_this103.ss,300,_assertThisInitialized(_this103))),_temp29),_this103._shadowRoot=_this103.attachShadow({mode:"closed"}),_this103._shadowRoot.adoptedStyleSheets=[$n._shadowStyleSheet],_this103._shadowRoot.append(document.importNode($n._shadowTemplate.content,!0));var _iterator121=_createForOfIteratorHelper(_this103._shadowRoot.querySelectorAll("[id]")),_step121;try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var _t225=_step121.value;_this103.I[_t225.id]=_t225;}}catch(err){_iterator121.e(err);}finally{_iterator121.f();}_this103.I.backdrop=qs("x-backdrop"),_this103.I.backdrop.style.opacity="0",_this103.I.backdrop.ownerElement=_assertThisInitialized(_this103),_this103.I.backdrop.addEventListener("click",function(t){return _this103.ts(t);}),_this103.addEventListener("pointerdown",function(t){return _this103.kt(t);}),_this103.addEventListener("toggle",function(t){return _this103.es(t);}),_this103.addEventListener("click",function(t){return _this103.N(t);}),_this103.addEventListener("keydown",function(t){return _this103.Vs(t);});return _this103;}_createClass($n,[{key:"connectedCallback",value:function connectedCallback(){var _this104=this;this.Wi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.ss(),this.St(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this104.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Wi.disconnect(),this.O.disconnect(),Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.St():"size"===t&&this.U();}},{key:"Zt",value:function Zt(){var _this105=this;if(!1===this.hs())return;this.vt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Gi=function(){_this105.Gt();}),window.addEventListener("blur",this.Yi=function(){_this105.Gt();});var t=this.querySelector(":scope > x-menu");{var _e186=null;var _iterator122=_createForOfIteratorHelper(t.querySelectorAll("x-menuitem")),_step122;try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var _i173=_step122.value;_i173.togglable=!0,_i173.toggled&&(null===_e186?_e186=_i173:_i173.toggled=!1);}}catch(err){_iterator122.e(err);}finally{_iterator122.f();}}if(t.querySelector("x-menuitem[toggled]")){var _e187=this.I.button.querySelector("x-label")||this.I.button.firstElementChild,_i174=_e187[An];t.openOverElement(_e187,_i174);}else{var _e188=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.I.button,_e188);}{var _e189=t.getBoundingClientRect(),_i175=this.I.button.getBoundingClientRect(),_s114=parseFloat(getComputedStyle(this).paddingRight);_e189.right-_s114<_i175.right&&(t.style.minWidth=_i175.right-_e189.left+_s114+"px");}{var _t226=this.getBoundingClientRect();_t226.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-_t226.left-7+"px");}}},{key:"Gt",value:function(){var _Gt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){var t,e,_t227,_args53=arguments;return regeneratorRuntime.wrap(function _callee53$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:t=_args53.length>0&&_args53[0]!==undefined?_args53[0]:null;if(!(!1===this.ns())){_context53.next=3;break;}return _context53.abrupt("return");case 3:e=this.querySelector(":scope > x-menu");e.setAttribute("closing","");_context53.next=7;return t;case 7:this.I.backdrop.hide(!1);if(!this.vt){_context53.next=12;break;}this.focus();_context53.next=14;break;case 12:_t227=Xs(this.parentNode,"[tabindex]");_t227&&_t227.focus();case 14:window.removeEventListener("resize",this.Gi);window.removeEventListener("blur",this.Yi);_context53.next=18;return e.close();case 18:e.removeAttribute("closing");case 19:case"end":return _context53.stop();}}},_callee53,this);}));function Gt(){return _Gt2.apply(this,arguments);}return Gt;}()},{key:"hs",value:function hs(){if(this.disabled)return!1;{var _t228=this.querySelector(":scope > x-menu"),_e190=_t228.querySelector("x-menuitem");return null!==_t228&&!1===_t228.opened&&!1===_t228.hasAttribute("closing")&&null!==_e190;}}},{key:"ns",value:function ns(){if(this.disabled)return!1;{var _t229=this.querySelector(":scope > x-menu");return _t229.querySelector("x-menuitem"),null!==_t229&&!0===_t229.opened&&!1===_t229.hasAttribute("closing");}}},{key:"ss",value:function ss(){var t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){var _iterator123=_createForOfIteratorHelper(t.children),_step123;try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _e191=_step123.value;var _t230=_e191.cloneNode(!0);_t230[An]=_e191,_t230.removeAttribute("id"),_t230.removeAttribute("style"),this.I.button.append(_t230);}}catch(err){_iterator123.e(err);}finally{_iterator123.f();}this.os();}this.I.button.append(this.I["arrow-container"]);}},{key:"os",value:function os(){var _iterator124=_createForOfIteratorHelper(this.I.button.children),_step124;try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var _t231=_step124.value;if(_t231!==this.I["arrow-container"]){var _getComputedStyle2=getComputedStyle(_t231[An]),_e192=_getComputedStyle2.width,_i176=_getComputedStyle2.height,_s115=_getComputedStyle2.margin,_n67=_getComputedStyle2.padding,_o47=_getComputedStyle2.border,_l40=_getComputedStyle2.borderRadius;["x-icon","x-swatch","img","svg"].includes(_t231[An].localName)&&(_t231.style.width=_e192,_t231.style.height=_i176,_t231.style.minWidth=_e192,_t231.style.borderRadius=_l40),_t231.style.margin=_s115,_t231.style.padding=_n67,_t231.style.border=_o47;}}}catch(err){_iterator124.e(err);}finally{_iterator124.f();}}},{key:"St",value:function St(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);{this.setAttribute("role","button");var _t232=this.querySelector(":scope > x-menu");if(_t232){_t232.setAttribute("role","listbox");var _iterator125=_createForOfIteratorHelper(_t232.querySelectorAll("x-menuitem")),_step125;try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var _e193=_step125.value;_e193.setAttribute("role","option");}}catch(err){_iterator125.e(err);}finally{_iterator125.f();}}}}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Ji",value:function Ji(t){var _iterator126=_createForOfIteratorHelper(t),_step126;try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){var _e194=_step126.value;"attributes"===_e194.type&&"x-menuitem"===_e194.target.localName&&"toggled"===_e194.attributeName&&this.ls();}}catch(err){_iterator126.e(err);}finally{_iterator126.f();}}},{key:"Qi",value:function Qi(){this.os();}},{key:"kt",value:function kt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault();}},{key:"N",value:function(){var _N5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee54(t){var _e195,_t233,_i177,_iterator127,_step127,_t234;return regeneratorRuntime.wrap(function _callee54$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:if(!(0===t.button)){_context54.next=14;break;}if(!this.hs()){_context54.next=5;break;}this.Zt();_context54.next=14;break;case 5:if(!this.ns()){_context54.next=14;break;}_e195=t.target.closest("x-menuitem");if(!_e195){_context54.next=14;break;}_t233=this.value,_i177=_e195.value;_iterator127=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem"));try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){_t234=_step127.value;_t234.toggled=_t234===_e195;}}catch(err){_iterator127.e(err);}finally{_iterator127.f();}_context54.next=13;return this.Gt(_e195.whenTriggerEnd);case 13:(_t233!==_i177||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:_t233,newValue:_i177}})));case 14:case"end":return _context54.stop();}}},_callee54,this);}));function N(_x41){return _N5.apply(this,arguments);}return N;}()},{key:"es",value:function es(t){t.preventDefault();}},{key:"ts",value:function ts(t){this.Gt();}},{key:"Vs",value:function Vs(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.hs()&&(t.preventDefault(),this.Zt()):"Escape"===t.key&&this.ns()&&(t.preventDefault(),this.Gt()));}}]);return $n;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($n,"observedAttributes",["disabled","size"]);_defineProperty($n,"_shadowTemplate",$s(_templateObject172()));_defineProperty($n,"_shadowStyleSheet",Is(_templateObject173()));customElements.define("x-select",$n);var In=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),Ln=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];var Bn=/*#__PURE__*/function(_HTMLElement27){_inherits(Bn,_HTMLElement27);var _super28=_createSuper(Bn);_createClass(Bn,[{key:"value",get:function get(){var t=[];if(this.hasAttribute("value")){var _e196=this.getAttribute("value").replace("++","+PLUS").split("+");_e196=_e196.map(function(t){return t.trim().replace("PLUS","+");}).filter(function(t){return""!==t;}),t=_e196;}return t;},set:function set(t){this.setAttribute("value",t.join("+"));}},{key:"modKeys",get:function get(){return this.value.filter(function(t){return Ln.includes(t);});}},{key:"normalKey",get:function get(){var t=this.value.find(function(t){return!1===Ln.includes(t);});return void 0===t?null:t;}}]);function Bn(){var _temp30,_this106;_classCallCheck(this,Bn);(_temp30=_this106=_super28.call(this),_defineProperty(_assertThisInitialized(_this106),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this106),"I",{}),_temp30),_this106._shadowRoot=_this106.attachShadow({mode:"closed"}),_this106._shadowRoot.adoptedStyleSheets=[Bn._shadowStyleSheet],_this106._shadowRoot.append(document.importNode(Bn._shadowTemplate.content,!0));var _iterator128=_createForOfIteratorHelper(_this106._shadowRoot.querySelectorAll("[id]")),_step128;try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var _t235=_step128.value;_this106.I[_t235.id]=_t235;}}catch(err){_iterator128.e(err);}finally{_iterator128.f();}return _this106;}_createClass(Bn,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t&&this.nt();}},{key:"nt",value:function nt(){var t="";this.value;var e=this.modKeys,i=this.normalKey;if(In){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="\u2325"),e.includes("Shift")&&(t+="\u21E7"),e.includes("Control")&&(t+="\u2318"),e.includes("Symbol")&&(t+="\u263A");var _s116={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326"};void 0!==i&&(t+=_s116[i]||i);}else{var _s117=[];e.includes("Control")&&_s117.push("Ctrl"),e.includes("Alt")&&_s117.push("Alt"),e.includes("Meta")&&_s117.push("Meta"),e.includes("Shift")&&_s117.push("Shift"),e.includes("Symbol")&&_s117.push("Symbol");var _n68={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&_s117.push(_n68[i]||i),t=_s117.join("+");}this.I.main.textContent=t;}}]);return Bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bn,"observedAttributes",["value"]);_defineProperty(Bn,"_shadowTemplate",$s(_templateObject174()));_defineProperty(Bn,"_shadowStyleSheet",Is(_templateObject175()));customElements.define("x-shortcut",Bn);var Rn=function Rn(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i){for(var _i178 in t){if(t[_i178]!==e[_i178])return!1;}}else{for(var _i179=0;_i179<t.length;_i179+=1){if(!e.includes(t[_i179]))return!1;}for(var _i180=0;_i180<e.length;_i180+=1){if(!t.includes(e[_i180]))return!1;}}return!0;},Gn=function Gn(t,e){return ds(ds(t/e)*e,us(e));};var Un=/*#__PURE__*/function(_HTMLElement28){_inherits(Un,_HTMLElement28);var _super29=_createSuper(Un);_createClass(Un,[{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0;},set:function set(t){this.setAttribute("min",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100;},set:function set(t){this.setAttribute("max",t);}},{key:"value",get:function get(){if(this.hasAttribute("value")){var _t236=this.getAttribute("value").split(/[ ,]+/);return _t236.length>=2?_t236.map(function(t){return parseFloat(t);}).slice(0,2):parseFloat(_t236[0]);}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min;},set:function set(t){var _this108=this;Array.isArray(t)?((t=t.map(function(t){return ps(t,_this108.min,_this108.max);})).length=2,this.setAttribute("value",t.join(" "))):(t=ps(t,this.min,this.max),this.setAttribute("value",t));}},{key:"buffer",get:function get(){if(this.hasAttribute("buffer")){var _t237=this.getAttribute("buffer").split(/[ ,]+/);return _t237.length>=2?_t237.map(function(t){return parseFloat(t);}).slice(0,2):[0,parseFloat(_t237[0])];}return[0,0];},set:function set(t){var _this109=this;(t=t.map(function(t){return ps(t,_this109.min,_this109.max);})).length=2,this.setAttribute("buffer",t.join(" "));}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"dragging",get:function get(){return this.getAttribute("dragging");}}]);function Un(){var _temp31,_this107;_classCallCheck(this,Un);(_temp31=_this107=_super29.call(this),_defineProperty(_assertThisInitialized(_this107),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this107),"I",{}),_defineProperty(_assertThisInitialized(_this107),"zt",0),_defineProperty(_assertThisInitialized(_this107),"B",null),_defineProperty(_assertThisInitialized(_this107),"Wi",new MutationObserver(function(t){return _this107.Ji(t);})),_defineProperty(_assertThisInitialized(_this107),"rs",new ResizeObserver(function(){return _this107.ds();})),_defineProperty(_assertThisInitialized(_this107),"gs",Qs(_this107.ps,500,_assertThisInitialized(_this107))),_temp31),_this107._shadowRoot=_this107.attachShadow({mode:"closed",delegatesFocus:!0}),_this107._shadowRoot.adoptedStyleSheets=[Un._shadowStyleSheet],_this107._shadowRoot.append(document.importNode(Un._shadowTemplate.content,!0));var _iterator129=_createForOfIteratorHelper(_this107._shadowRoot.querySelectorAll("[id]")),_step129;try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var _t238=_step129.value;_this107.I[_t238.id]=_t238;}}catch(err){_iterator129.e(err);}finally{_iterator129.f();}_this107._shadowRoot.addEventListener("pointerdown",function(t){return _this107.yi(t);}),_this107.addEventListener("pointerdown",function(t){return _this107.kt(t);}),_this107.addEventListener("keydown",function(t){return _this107.Vs(t);});return _this107;}_createClass(Un,[{key:"connectedCallback",value:function connectedCallback(){var _this110=this;this.setAttribute("value",this.value),Gs.addEventListener("sizechange",this.B=function(){return _this110.U();}),this.rs.observe(this.I["start-thumb"]),this.Wi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.us(),this.cs(),this.ps(),this.St(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B),this.rs.unobserve(this.I["start-thumb"]),this.Wi.disconnect();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.bs():"min"===t?this.Ai():"max"===t?this.Li():"size"===t&&this.lt());}},{key:"ot",value:function ot(){this.us(),this.cs();}},{key:"bs",value:function bs(){this.us();}},{key:"Ai",value:function Ai(){this.us(),this.cs(),this.ps();}},{key:"Li",value:function Li(){this.us(),this.cs(),this.ps();}},{key:"lt",value:function lt(){this.U();}},{key:"Ji",value:function Ji(t){var _iterator130=_createForOfIteratorHelper(t),_step130;try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var _e197=_step130.value;if("attributes"===_e197.type&&_e197.target===this)return;this.gs();}}catch(err){_iterator130.e(err);}finally{_iterator130.f();}}},{key:"ds",value:function ds(){var t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px");}},{key:"kt",value:function kt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e198=Xs(this.parentNode,"[tabindex]");_e198&&_e198.focus();}}},{key:"yi",value:function yi(t){var _this111=this;if(1!==t.buttons||!1===t.isPrimary)return;var e,_i182,s=null,_this$I$startThumb$g=this.I["start-thumb"].getBoundingClientRect(),n=_this$I$startThumb$g.width,o=_this$I$startThumb$g.height,l=this.I.main.getBoundingClientRect(),a=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.I["end-thumb"].hidden)s=this.I["start-thumb"];else{var _e199=this.I["start-thumb"].getBoundingClientRect(),_i181=this.I["end-thumb"].getBoundingClientRect(),_n69=new DOMPoint(_e199.x+_e199.width/2,_e199.y+_e199.height/2),_o48=new DOMPoint(_i181.x+_i181.width/2,_i181.y+_i181.height/2),_l41=new DOMPoint(t.clientX,t.clientY),_a30=xs(_l41,_n69),_h22=xs(_l41,_o48);s=_a30<=_h22?this.I["start-thumb"]:this.I["end-thumb"];}var h=function h(t,e){var i=0;if(_this111.vertical){var _t239=l.y+l.height-o/2-e;_t239=ps(_t239,0,l.height-o),i=_t239/(l.height-o)*(_this111.max-_this111.min)+_this111.min;}else{var _e200=t-(l.x+n/2);_e200=ps(_e200,0,l.width-n),i=_e200/(l.width-n)*(_this111.max-_this111.min)+_this111.min;}if(i=Gn(i,_this111.step),Array.isArray(_this111.value)){var _this111$value=_slicedToArray(_this111.value,2),_t240=_this111$value[0],_e201=_this111$value[1];s===_this111.I["start-thumb"]?(i>=_e201&&(i=_e201),i!==_t240&&(_this111.value=[i,_e201],!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===_this111.I["end-thumb"]&&(i<=_t240&&(i=_t240),i!==_e201&&(_this111.value=[_t240,i],!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0}))));}else _this111.value!==i&&(_this111.value=i,!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),h(t.clientX,t.clientY);var _iterator131=_createForOfIteratorHelper(this.I.thumbs.children),_step131;try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){var _t241=_step131.value;_t241.style.zIndex=_t241===s?"1":"0";}}catch(err){_iterator131.e(err);}finally{_iterator131.f();}s.addEventListener("pointermove",e=function e(t){t.isPrimary&&h(t.clientX,t.clientY);}),s.addEventListener("lostpointercapture",_i182=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i182),_this111.removeAttribute("dragging"),a&&_this111.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));});}},{key:"Vs",value:function Vs(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e202=this.value;if(Array.isArray(this.value)){var _this$value=_slicedToArray(this.value,2),_i183=_this$value[0],_s118=_this$value[1];this._shadowRoot.activeElement===this.I["start-thumb"]?t.shiftKey?_i183-=10*this.step:_i183-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s118-=10*this.step:_s118-=this.step,_s118<=_i183&&(_s118=_i183)),this.value=[_i183,_s118],!1===Rn(_e202,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,_e202!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e203=this.value;if(Array.isArray(this.value)){var _this$value2=_slicedToArray(this.value,2),_i184=_this$value2[0],_s119=_this$value2[1];this._shadowRoot.activeElement===this.I["start-thumb"]?(t.shiftKey?_i184+=10*this.step:_i184+=this.step,_i184>=_s119&&(_i184=_s119)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s119+=10*this.step:_s119+=this.step),this.value=[_i184,_s119],!1===Rn(_e203,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,_e203!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}}},{key:"cs",value:function cs(){if(Array.isArray(this.value)){var _this$value3=_slicedToArray(this.value,2),_t242=_this$value3[0],_e204=_this$value3[1];{var _e205=(_t242-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_e205+"%",this.I["start-thumb"].hidden=!1):(this.I["start-thumb"].style.left=_e205+"%",this.I["start-thumb"].hidden=!1);}{var _t243=(_e204-this.min)/(this.max-this.min)*100;this.vertical?(this.I["end-thumb"].style.top=100-_t243+"%",this.I["end-thumb"].hidden=!1):(this.I["end-thumb"].style.left=_t243+"%",this.I["end-thumb"].hidden=!1);}}else{var _t244=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_t244+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0):(this.I["start-thumb"].style.left=_t244+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0);}}},{key:"us",value:function us(){if(Array.isArray(this.value)){var _this$value4=_slicedToArray(this.value,2),_t245=_this$value4[0],_e206=_this$value4[1],_i185=(_t245-this.min)/(this.max-this.min)*100,_s120=(_e206-this.min)/(this.max-this.min)*100;this.vertical?(this.I["range-track"].style.bottom="".concat(_i185,"%"),this.I["range-track"].style.height=_s120-_i185+"%"):(this.I["range-track"].style.left="".concat(_i185,"%"),this.I["range-track"].style.width=_s120-_i185+"%");}else{var _t246=(this.value-this.min)/(this.max-this.min)*100,_e207=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?_t246>=_e207?(this.I["range-track"].style.bottom="".concat(_e207,"%"),this.I["range-track"].style.height=_t246-_e207+"%"):(this.I["range-track"].style.bottom="".concat(_t246,"%"),this.I["range-track"].style.height=_e207-_t246+"%"):_t246>=_e207?(this.I["range-track"].style.left="".concat(_e207,"%"),this.I["range-track"].style.width=_t246-_e207+"%"):(this.I["range-track"].style.left="".concat(_t246,"%"),this.I["range-track"].style.width=_e207-_t246+"%");}{var _this$buffer=_slicedToArray(this.buffer,2),_t247=_this$buffer[0],_e208=_this$buffer[1],_i186=(_t247-this.min)/(this.max-this.min)*100,_s121=(_e208-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=_i186+"%",this.I["buffer-track"].style.height=_s121-_i186+"%"):(this.I["buffer-track"].style.left=_i186+"%",this.I["buffer-track"].style.width=_s121-_i186+"%");}}},{key:"ps",value:function(){var _ps=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){var _iterator132,_step132,_t248;return regeneratorRuntime.wrap(function _callee55$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:_context55.next=2;return customElements.whenDefined("x-label");case 2:this.I.ticks.innerHTML="";_iterator132=_createForOfIteratorHelper(this.querySelectorAll(":scope > x-label"));try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){_t248=_step132.value;this.vertical?_t248.style.top=100-(_t248.value-this.min)/(this.max-this.min)*100+"%":_t248.style.left=(_t248.value-this.min)/(this.max-this.min)*100+"%",_t248===this.firstElementChild?_t248.style.position="relative":_t248.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"top: ".concat(_t248.style.top,"\"></div>")):this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"left: ".concat(_t248.style.left,"\"></div>"));}}catch(err){_iterator132.e(err);}finally{_iterator132.f();}case 5:case"end":return _context55.stop();}}},_callee55,this);}));function ps(){return _ps.apply(this,arguments);}return ps;}()},{key:"St",value:function St(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Un;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Un,"observedAttributes",["value","buffer","min","max","size"]);_defineProperty(Un,"_shadowTemplate",$s(_templateObject176()));_defineProperty(Un,"_shadowStyleSheet",Is(_templateObject177()));customElements.define("x-slider",Un);var Fn=/*#__PURE__*/function(_HTMLElement29){_inherits(Fn,_HTMLElement29);var _super30=_createSuper(Fn);_createClass(Fn,[{key:"disabled",get:function get(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement");},set:function set(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t);}}]);function Fn(){var _temp32,_this112;_classCallCheck(this,Fn);(_temp32=_this112=_super30.call(this),_defineProperty(_assertThisInitialized(_this112),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this112),"I",{}),_defineProperty(_assertThisInitialized(_this112),"xs",null),_temp32),_this112._shadowRoot=_this112.attachShadow({mode:"closed"}),_this112._shadowRoot.adoptedStyleSheets=[Fn._shadowStyleSheet],_this112._shadowRoot.append(document.importNode(Fn._shadowTemplate.content,!0));var _iterator133=_createForOfIteratorHelper(_this112._shadowRoot.querySelectorAll("[id]")),_step133;try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var _t249=_step133.value;_this112.I[_t249.id]=_t249;}}catch(err){_iterator133.e(err);}finally{_iterator133.f();}_this112._shadowRoot.addEventListener("pointerdown",function(t){return _this112.kt(t);});return _this112;}_createClass(Fn,[{key:"connectedCallback",value:function connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.xs=this.parentElement,this.xs.setAttribute("hasstepper",""));}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.xs&&(null===this.xs.querySelector(":scope > x-stepper")&&this.xs.removeAttribute("hasstepper",""),this.xs=null);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t&&this.Ut();}},{key:"Ut",value:function Ut(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"));}},{key:"kt",value:function kt(t){var _this113=this;var e=t.target.closest(".button"),i=null;if(e===this.I["increment-button"]?i="increment":e===this.I["decrement-button"]&&(i="decrement"),1===t.buttons&&null!==i){{var _s122=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref45=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee56(t){var i;return regeneratorRuntime.wrap(function _callee56$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:i=Date.now()-_s122;_context56.t0=i<100;if(!_context56.t0){_context56.next=5;break;}_context56.next=5;return Zs(100-i);case 5:e.removeAttribute("data-pressed");_this113.removeAttribute("pressed");case 7:case"end":return _context56.stop();}}},_callee56);}));return function(_x42){return _ref45.apply(this,arguments);};}(),{once:!0});}{var _e209=null,_s123=Date.now(),_n70=t.shiftKey;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n70}})),this.addEventListener("lostpointercapture",function(t){clearInterval(_e209),_this113.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}));},{once:!0}),_e209=setInterval(function(){Date.now()-_s123>500&&_this113.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n70}}));},100);}}}}]);return Fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fn,"observedAttributes",["disabled"]);_defineProperty(Fn,"_shadowTemplate",$s(_templateObject178()));_defineProperty(Fn,"_shadowStyleSheet",Is(_templateObject179()));customElements.define("x-stepper",Fn);var Nn=/*#__PURE__*/function(_HTMLElement30){_inherits(Nn,_HTMLElement30);var _super31=_createSuper(Nn);_createClass(Nn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"white";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Nn(){var _temp33,_this114;_classCallCheck(this,Nn);(_temp33=_this114=_super31.call(this),_defineProperty(_assertThisInitialized(_this114),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this114),"I",{}),_defineProperty(_assertThisInitialized(_this114),"B",null),_temp33),_this114._shadowRoot=_this114.attachShadow({mode:"closed"}),_this114._shadowRoot.adoptedStyleSheets=[Nn._shadowStyleSheet],_this114._shadowRoot.append(document.importNode(Nn._shadowTemplate.content,!0));var _iterator134=_createForOfIteratorHelper(_this114._shadowRoot.querySelectorAll("[id]")),_step134;try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var _t250=_step134.value;_this114.I[_t250.id]=_t250;}}catch(err){_iterator134.e(err);}finally{_iterator134.f();}return _this114;}_createClass(Nn,[{key:"connectedCallback",value:function connectedCallback(){var _this115=this;this.fs(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this115.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.fs():"size"===t&&this.U();}},{key:"fs",value:function fs(){this.I.preview.style.background=this.value;}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nn,"observedAttributes",["value","size"]);_defineProperty(Nn,"_shadowTemplate",$s(_templateObject180()));_defineProperty(Nn,"_shadowStyleSheet",Is(_templateObject181()));customElements.define("x-swatch",Nn);var jn=/*#__PURE__*/function(_HTMLElement31){_inherits(jn,_HTMLElement31);var _super32=_createSuper(jn);_createClass(jn,[{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function jn(){var _temp34,_this116;_classCallCheck(this,jn);(_temp34=_this116=_super32.call(this),_defineProperty(_assertThisInitialized(_this116),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this116),"I",{}),_defineProperty(_assertThisInitialized(_this116),"zt",0),_defineProperty(_assertThisInitialized(_this116),"B",null),_temp34),_this116._shadowRoot=_this116.attachShadow({mode:"closed"}),_this116._shadowRoot.adoptedStyleSheets=[jn._shadowStyleSheet],_this116._shadowRoot.append(document.importNode(jn._shadowTemplate.content,!0));var _iterator135=_createForOfIteratorHelper(_this116._shadowRoot.querySelectorAll("[id]")),_step135;try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _t251=_step135.value;_this116.I[_t251.id]=_t251;}}catch(err){_iterator135.e(err);}finally{_iterator135.f();}_this116.addEventListener("pointerdown",function(t){return _this116.kt(t);}),_this116.addEventListener("click",function(t){return _this116.N(t);}),_this116.addEventListener("keydown",function(t){return _this116.Vs(t);});return _this116;}_createClass(jn,[{key:"connectedCallback",value:function connectedCallback(){var _this117=this;Gs.addEventListener("sizechange",this.B=function(){return _this117.U();}),this.St(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.qt():"disabled"===t?this.Ut():"size"===t&&this.U();}},{key:"St",value:function St(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"qt",value:function qt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled);}},{key:"Ut",value:function Ut(){this.St();}},{key:"kt",value:function kt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e210=Xs(this.parentNode,"[tabindex]");_e210&&_e210.focus();}}else t.preventDefault();}},{key:"N",value:function(){var _N6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee57(t){return regeneratorRuntime.wrap(function _callee57$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"));case 1:case"end":return _context57.stop();}}},_callee57,this);}));function N(_x43){return _N6.apply(this,arguments);}return N;}()},{key:"Vs",value:function Vs(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(jn,"_shadowTemplate",$s(_templateObject182()));_defineProperty(jn,"_shadowStyleSheet",Is(_templateObject183()));customElements.define("x-switch",jn);var Vn=Math.max;var Hn=/*#__PURE__*/function(_HTMLElement32){_inherits(Hn,_HTMLElement32);var _super33=_createSuper(Hn);_createClass(Hn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Hn(){var _temp35,_this118;_classCallCheck(this,Hn);(_temp35=_this118=_super33.call(this),_defineProperty(_assertThisInitialized(_this118),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this118),"I",{}),_defineProperty(_assertThisInitialized(_this118),"B",null),_temp35),_this118._shadowRoot=_this118.attachShadow({mode:"closed"}),_this118._shadowRoot.adoptedStyleSheets=[Hn._shadowStyleSheet],_this118._shadowRoot.append(document.importNode(Hn._shadowTemplate.content,!0));var _iterator136=_createForOfIteratorHelper(_this118._shadowRoot.querySelectorAll("[id]")),_step136;try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var _t252=_step136.value;_this118.I[_t252.id]=_t252;}}catch(err){_iterator136.e(err);}finally{_iterator136.f();}_this118.addEventListener("pointerdown",function(t){return _this118.kt(t);}),_this118.addEventListener("click",function(t){return _this118.N(t);});return _this118;}_createClass(Hn,[{key:"connectedCallback",value:function connectedCallback(){var _this119=this;this.St(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this119.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"selected"===t||"disabled"===t?this.St():"size"===t&&this.U();}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this120=this;return new Promise(/*#__PURE__*/function(){var _ref46=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee58(e){var _e211,_i187,_s124;return regeneratorRuntime.wrap(function _callee58$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:if(!("0px"!==_this120.I["selection-indicator"].style.height)){_context58.next=4;break;}_e211=_this120.getBoundingClientRect(),_i187=t.getBoundingClientRect(),_s124=_this120.I["selection-indicator"].animate([{left:"0px",width:_e211.width+"px"},{left:_i187.left-_e211.left+"px",width:_i187.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context58.next=4;return _s124.finished;case 4:e();case 5:case"end":return _context58.stop();}}},_callee58);}));return function(_x44){return _ref46.apply(this,arguments);};}());}},{key:"St",value:function St(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1");}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"kt",value:function(){var _kt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee60(t){var _this121=this;var _e212,_e213,_e214,_i189,_s125,_n71,_o49,_l42,_a31,_h23,_r15;return regeneratorRuntime.wrap(function _callee60$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:if(!1===this.matches(":focus")){t.preventDefault();_e212=Xs(this.parentNode,"[tabindex]");_e212&&_e212.focus();}if(!(1===t.buttons)){_context60.next=24;break;}_e213=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref47=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee59(t){var _t253,_i188;return regeneratorRuntime.wrap(function _callee59$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:if(!(!0===_this121.selected)){_context59.next=6;break;}_t253=Date.now()-_e213,_i188=100;_context59.t0=_t253<_i188;if(!_context59.t0){_context59.next=6;break;}_context59.next=6;return Zs(_i188-_t253);case 6:_this121.removeAttribute("pressed");case 7:case"end":return _context59.stop();}}},_callee59);}));return function(_x46){return _ref47.apply(this,arguments);};}(),{once:!0});if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context60.next=24;break;}_e214=this.I.ripples.getBoundingClientRect(),_i189=1.5*Vn(_e214.width,_e214.height),_s125=t.clientY-_e214.y-_i189/2,_n71=t.clientX-_e214.x-_i189/2,_o49=new Promise(function(t){return _this121.addEventListener("lostpointercapture",t,{once:!0});}),_l42=qs("div");_l42.setAttribute("part","ripple");_l42.setAttribute("class","ripple pointer-down-ripple");_l42.setAttribute("style","width: ".concat(_i189,"px; height: ").concat(_i189,"px; top: ").concat(_s125,"px; left: ").concat(_n71,"px;"));this.I.ripples.append(_l42);this.setPointerCapture(t.pointerId);_l42.hidden=!0;_context60.next=14;return Zs(10);case 14:_l42.hidden=!1;_a31=_l42.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=18;return _o49;case 18:_context60.next=20;return _a31.finished;case 20:_h23=getComputedStyle(_l42).opacity,_r15=_l42.animate({opacity:[_h23,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=23;return _r15.finished;case 23:_l42.remove();case 24:case"end":return _context60.stop();}}},_callee60,this);}));function kt(_x45){return _kt2.apply(this,arguments);}return kt;}()},{key:"N",value:function(){var _N7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee61(t){var _t254,_e215,_i190,_s126,_n72,_o50,_l43,_a32;return regeneratorRuntime.wrap(function _callee61$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:if(!(null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context61.next=10;break;}_t254=this.I.ripples.getBoundingClientRect(),_e215=1.5*Vn(_t254.width,_t254.height),_i190=_t254.y+_t254.height/2-_t254.y-_e215/2,_s126=_t254.x+_t254.width/2-_t254.x-_e215/2,_n72=qs("div");_n72.setAttribute("part","ripple"),_n72.setAttribute("class","ripple click-ripple"),_n72.setAttribute("style","width: ".concat(_e215,"px; height: ").concat(_e215,"px; top: ").concat(_i190,"px; left: ").concat(_s126,"px;")),this.I.ripples.append(_n72);_o50=_n72.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=6;return _o50.finished;case 6:_l43=getComputedStyle(_n72).opacity,_a32=_n72.animate({opacity:[_l43,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=9;return _a32.finished;case 9:_n72.remove();case 10:case"end":return _context61.stop();}}},_callee61,this);}));function N(_x47){return _N7.apply(this,arguments);}return N;}()}]);return Hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hn,"observedAttributes",["selected","disabled","size"]);_defineProperty(Hn,"_shadowTemplate",$s(_templateObject184()));_defineProperty(Hn,"_shadowStyleSheet",Is(_templateObject185()));customElements.define("x-tab",Hn);var Wn=/*#__PURE__*/function(_HTMLElement33){_inherits(Wn,_HTMLElement33);var _super34=_createSuper(Wn);_createClass(Wn,[{key:"value",get:function get(){var t=this.querySelector("x-tab[selected]");return t?t.value:null;},set:function set(t){var e=_toConsumableArray(this.querySelectorAll("x-tab")),i=null===t?null:e.find(function(e){return e.value===t;});var _iterator137=_createForOfIteratorHelper(e),_step137;try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){var _t255=_step137.value;_t255.selected=_t255===i;}}catch(err){_iterator137.e(err);}finally{_iterator137.f();}}}]);function Wn(){var _temp36,_this122;_classCallCheck(this,Wn);(_temp36=_this122=_super34.call(this),_defineProperty(_assertThisInitialized(_this122),"_shadowRoot",null),_temp36),_this122._shadowRoot=_this122.attachShadow({mode:"closed"}),_this122._shadowRoot.adoptedStyleSheets=[Wn._shadowStyleSheet],_this122._shadowRoot.append(document.importNode(Wn._shadowTemplate.content,!0)),_this122.addEventListener("click",function(t){return _this122.N(t);}),_this122.addEventListener("keydown",function(t){return _this122.Vs(t);});return _this122;}_createClass(Wn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","tablist");}},{key:"N",value:function(){var _N8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee62(t){var _e216,_i191,_s127,_iterator138,_step138,_t256;return regeneratorRuntime.wrap(function _callee62$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:if(!(0===t.button&&t.target.closest("x-tab"))){_context62.next=10;break;}_e216=this.querySelectorAll("x-tab"),_i191=t.target.closest("x-tab"),_s127=this.querySelector("x-tab[selected]");if(!(_i191!==_s127)){_context62.next=10;break;}_context62.t0=_s127;if(!_context62.t0){_context62.next=7;break;}_context62.next=7;return _s127.animateSelectionIndicator(_i191);case 7:_iterator138=_createForOfIteratorHelper(_e216);try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){_t256=_step138.value;_t256.selected=_t256===_i191;}}catch(err){_iterator138.e(err);}finally{_iterator138.f();}this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));case 10:case"end":return _context62.stop();}}},_callee62,this);}));function N(_x48){return _N8.apply(this,arguments);}return N;}()},{key:"Vs",value:function Vs(t){if("Enter"===t.code||"Space"===t.code){var _e217=t.target;_e217.querySelector("x-label"),t.preventDefault(),_e217.click();}else if("ArrowLeft"===t.code){var _e218=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i192=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i192&&_e218.length>0){var _t257=_e218.indexOf(_i192),_s128=_e218[_t257-1]||_e218[_e218.length-1];_i192.tabIndex=-1,_s128.tabIndex=0,_s128.focus();}}else if("ArrowRight"===t.code){var _e219=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i193=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i193&&_e219.length>0){var _t258=_e219.indexOf(_i193),_s129=_e219[_t258+1]||_e219[0];_i193.tabIndex=-1,_s129.tabIndex=0,_s129.focus();}}}}]);return Wn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wn,"_shadowTemplate",$s(_templateObject186()));_defineProperty(Wn,"_shadowStyleSheet",Is(_templateObject187()));customElements.define("x-tabs",Wn);var Yn=/*#__PURE__*/function(_HTMLElement34){_inherits(Yn,_HTMLElement34);var _super35=_createSuper(Yn);_createClass(Yn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"removable",get:function get(){return this.hasAttribute("removable");},set:function set(t){t?this.setAttribute("removable",""):this.removeAttribute("removable");}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Yn(){var _temp37,_this123;_classCallCheck(this,Yn);(_temp37=_this123=_super35.call(this),_defineProperty(_assertThisInitialized(_this123),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this123),"I",{}),_defineProperty(_assertThisInitialized(_this123),"B",null),_temp37),_this123._shadowRoot=_this123.attachShadow({mode:"closed"}),_this123._shadowRoot.adoptedStyleSheets=[Yn._shadowStyleSheet],_this123._shadowRoot.append(document.importNode(Yn._shadowTemplate.content,!0));var _iterator139=_createForOfIteratorHelper(_this123._shadowRoot.querySelectorAll("[id]")),_step139;try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var _t259=_step139.value;_this123.I[_t259.id]=_t259;}}catch(err){_iterator139.e(err);}finally{_iterator139.f();}_this123.I["scope-slot"].addEventListener("slotchange",function(){return _this123.ws();}),_this123.I["remove-button"].addEventListener("click",function(t){return _this123.vs(t);});return _this123;}_createClass(Yn,[{key:"connectedCallback",value:function connectedCallback(){var _this124=this;this.U(),this.ws(),Gs.addEventListener("sizechange",this.B=function(){return _this124.U();}),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1;}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.U();}},{key:"vs",value:function vs(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}));}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ws",value:function ws(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","");}}]);return Yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yn,"observedAttributes",["disabled","size"]);_defineProperty(Yn,"_shadowTemplate",$s(_templateObject188()));_defineProperty(Yn,"_shadowStyleSheet",Is(_templateObject189()));customElements.define("x-tag",Yn);var qn=/*#__PURE__*/function(_HTMLElement35){_inherits(qn,_HTMLElement35);var _super36=_createSuper(qn);_createClass(qn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});},set:function set(t){var e=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});var _iterator140=_createForOfIteratorHelper(e),_step140;try{for(_iterator140.s();!(_step140=_iterator140.n()).done;){var _i194=_step140.value;_i194.toggled=t.includes(_i194.value);}}catch(err){_iterator140.e(err);}finally{_iterator140.f();}}}]);function qn(){var _temp38,_this125;_classCallCheck(this,qn);(_temp38=_this125=_super36.call(this),_defineProperty(_assertThisInitialized(_this125),"_shadowRoot",null),_temp38),_this125._shadowRoot=_this125.attachShadow({mode:"closed"}),_this125._shadowRoot.adoptedStyleSheets=[qn._shadowStyleSheet],_this125._shadowRoot.append(document.importNode(qn._shadowTemplate.content,!0)),_this125.addEventListener("pointerdown",function(t){return _this125.kt(t);}),_this125.addEventListener("click",function(t){return _this125.N(t);}),_this125.addEventListener("keydown",function(t){return _this125.Vs(t);});return _this125;}_createClass(qn,[{key:"kt",value:function kt(t){var _this126=this;if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){var _t260=Xs(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t260?_t260.focus():_this126.blur();},{once:!0});}}else t.preventDefault();}},{key:"N",value:function N(t){var e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})));}},{key:"Vs",value:function Vs(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){var _e220=this.querySelector("x-tag:focus");_e220&&(t.preventDefault(),_e220.click());}else if("ArrowRight"===t.key){var _t261=this.querySelector("x-tag:focus");_t261&&(_t261.nextElementSibling?_t261.nextElementSibling.focus():_t261!==_t261.parentElement.firstElementChild&&_t261.parentElement.firstElementChild.focus());}else if("ArrowLeft"===t.key){var _t262=this.querySelector("x-tag:focus");_t262&&(_t262.previousElementSibling?_t262.previousElementSibling.focus():_t262!==_t262.parentElement.lastElementChild&&_t262.parentElement.lastElementChild.focus());}}}]);return qn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qn,"_shadowTemplate",$s(_templateObject190()));_defineProperty(qn,"_shadowStyleSheet",Is(_templateObject191()));customElements.define("x-tags",qn);var Xn=/*#__PURE__*/function(_HTMLElement36){_inherits(Xn,_HTMLElement36);var _super37=_createSuper(Xn);_createClass(Xn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});}},{key:"delimiter",get:function get(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):",";},set:function set(t){this.setAttribute("delimiter",t);}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"suggestions",get:function get(){return this.hasAttribute("suggestions");},set:function set(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Xn(){var _temp39,_this127;_classCallCheck(this,Xn);(_temp39=_this127=_super37.call(this),_defineProperty(_assertThisInitialized(_this127),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this127),"I",{}),_defineProperty(_assertThisInitialized(_this127),"zt",0),_defineProperty(_assertThisInitialized(_this127),"B",null),_temp39),_this127._shadowRoot=_this127.attachShadow({mode:"closed",delegatesFocus:!0}),_this127._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Xn._shadowStyleSheet],_this127._shadowRoot.append(document.importNode(Xn._shadowTemplate.content,!0));var _iterator141=_createForOfIteratorHelper(_this127._shadowRoot.querySelectorAll("[id]")),_step141;try{for(_iterator141.s();!(_step141=_iterator141.n()).done;){var _t263=_step141.value;_this127.I[_t263.id]=_t263;}}catch(err){_iterator141.e(err);}finally{_iterator141.f();}_this127.addEventListener("focusout",function(t){return _this127.matches(":focus-within")?null:_this127.ee(t);}),_this127.I.input.addEventListener("focusin",function(t){return _this127.ys(t);}),_this127.I.input.addEventListener("focusout",function(t){return _this127.zs(t);}),_this127._shadowRoot.addEventListener("pointerdown",function(t){return _this127.yi(t);}),_this127._shadowRoot.addEventListener("remove",function(t){return _this127.vs(t);}),_this127._shadowRoot.addEventListener("keydown",function(t){return _this127.Vs(t);}),_this127.I.input.addEventListener("input",function(t){return _this127.we(t);});return _this127;}_createClass(Xn,[{key:"connectedCallback",value:function connectedCallback(){var _this128=this;this.ks(),this.St(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this128.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ze():"disabled"===t?this.Ut():"size"===t&&this.lt());}},{key:"clear",value:function clear(){var t=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});if(t.length>0){var _iterator142=_createForOfIteratorHelper(t),_step142;try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _e221=_step142.value;_e221.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:_e221}));}}catch(err){_iterator142.e(err);}finally{_iterator142.f();}this.error=null,this.Ys(),this.ks(),this.dispatchEvent(new CustomEvent("change"));}}},{key:"getSuggestions",value:function getSuggestions(t){return[];}},{key:"Cs",value:function Cs(){var t=new Range();t.selectNodeContents(this.I.input);var e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e;}},{key:"Ss",value:function Ss(){var t=this.I.input.textContent.trim();if(this.I.input.textContent="",t.length>0&&!1===this.value.includes(t)){var _e222;if(t.includes(":")){var _t$split$map=t.split(":").map(function(t){return t.trim();}),_t$split$map2=_slicedToArray(_t$split$map,2),_i195=_t$split$map2[0],_s130=_t$split$map2[1];_e222=$s(_templateObject3(),t,_i195,_s130);}else _e222=$s(_templateObject4(),t,t);this.append(_e222),this.Ys(),this.ks(),this.dispatchEvent(new CustomEvent("add",{detail:_e222})),this.dispatchEvent(new CustomEvent("change"));}}},{key:"yi",value:function yi(t){if(t.target===this.I.main||t.target===this.I.tags)t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Es();else if(t.target===this.I.input)this.I.input.setAttribute("contenteditable",""),this.Ys();else if(t.target.closest("x-popover")){t.preventDefault();var _e223=t.target.closest("x-tag");_e223&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(_e223),this.dispatchEvent(new CustomEvent("add",{detail:_e223})),this.dispatchEvent(new CustomEvent("change")));}else t.target.closest("x-tag")&&(this.I.input.focus(),this.Ss());}},{key:"vs",value:function vs(t){t.stopPropagation();var e=t.target;e.remove(),this.ks(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"));}},{key:"ze",value:function ze(){this.I.input.spellcheck=this.spellcheck;}},{key:"Ut",value:function Ut(){this.St();}},{key:"lt",value:function lt(){this.U();}},{key:"ee",value:function ee(){this.required&&0===_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).length&&(this.error="This field is required");}},{key:"ys",value:function(){var _ys=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){return regeneratorRuntime.wrap(function _callee63$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:this.I.input.setAttribute("contenteditable","");this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));_context63.next=4;return Zs(10);case 4:this.I.input.matches(":focus")&&(this.Es(),this.Ys());case 5:case"end":return _context63.stop();}}},_callee63,this);}));function ys(){return _ys.apply(this,arguments);}return ys;}()},{key:"zs",value:function zs(){this.Ss(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close();}},{key:"we",value:function we(t){this.I.input.textContent.includes(this.delimiter)&&this.Ss(),this.ks(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.Ys(t.inputType);}},{key:"Vs",value:function Vs(t){if("Enter"===t.key)t.target===this.I.input&&(t.preventDefault(),this.Ss());else if("Backspace"===t.key){if(t.target===this.I.input){if(0===this.I.input.textContent.length){var _t264=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_e224=_t264[_t264.length-1]||null;_e224&&(_e224.remove(),this.Ys(),this.ks(),this.dispatchEvent(new CustomEvent("remove",{detail:_e224})),this.dispatchEvent(new CustomEvent("change")));}}else if("x-tag"===t.target.localName){var _e225=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_i196=t.target,_s131=_e225.indexOf(_i196),_n73=_e225[_s131+1]||null,_o51=_e225[_s131-1]||null;_n73?_n73.focus():_o51?_o51.focus():this.I.input.focus(),_i196.remove(),this.ks(),this.dispatchEvent(new CustomEvent("remove",{detail:_i196})),this.dispatchEvent(new CustomEvent("change"));}}else if("ArrowDown"===t.key){if(this.I["suggestions-popover"].opened){var _e226=_toConsumableArray(this.I["suggested-tags"].children);if(_e226.length>1){t.preventDefault();var _i197=null;{var _t265=_e226.find(function(t){return t.toggled;});if(_t265){_t265.toggled=!1;var _s132=_e226.indexOf(_t265);_i197=_e226[_s132+1]||_e226[0];}else _i197=_e226[0];}_i197.toggled=!0,_i197.scrollIntoViewIfNeeded();{var _t266=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e227=_i197.querySelector("x-label").textContent;this.I.input.textContent=_e227,this.Es(_t266,_e227.length);}}}}else if("ArrowUp"===t.key&&this.I["suggestions-popover"].opened){var _e228=_toConsumableArray(this.I["suggested-tags"].children);if(_e228.length>1){t.preventDefault();var _i198=null;{var _t267=_e228.find(function(t){return t.toggled;});if(_t267){_t267.toggled=!1;var _s133=_e228.indexOf(_t267);_i198=_e228[_s133-1]||_e228[_e228.length-1];}else _i198=_e228[_e228.length-1];}_i198.toggled=!0,_i198.scrollIntoViewIfNeeded();{var _t268=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e229=_i198.querySelector("x-label").textContent;this.I.input.textContent=_e229,this.Es(_t268,_e229.length);}}}}},{key:"nt",value:function nt(){this.ks();}},{key:"ks",value:function ks(){var t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.I.input.textContent.length>0);}},{key:"St",value:function St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Es",value:function Es(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.I.input.textContent.length;var i=new Range();0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));var s=window.getSelection();s.removeAllRanges(),s.addRange(i);}},{key:"Ys",value:function Ys(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"insertText";if(this.suggestions){var _e230=this.I.input.textContent,_i199=this._shadowRoot.getSelection().getRangeAt(0);!1===_i199.collapsed&&(_e230=_e230.substring(0,_i199.startOffset));var _s134=this.getSuggestions(_e230);if(_s134.length>0&&"deleteContentBackward"!==t){var _t269=this.I.input.textContent,_e231=_s134[0].querySelector("x-label").textContent,_i200=this.I.input.firstChild;_i200&&(_i200.textContent=_e231,this.Es(_t269.length,_e231.length));}if(0===_s134.length)this.I["suggested-tags"].innerHTML="",!0===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close();else{var _this$I$suggestedTag;var _i201=this.Cs();this.I["suggested-tags"].innerHTML="",(_this$I$suggestedTag=this.I["suggested-tags"]).append.apply(_this$I$suggestedTag,_toConsumableArray(_s134)),"deleteContentBackward"!==t&&_e230.length>0&&(_s134[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(_i201),this.I["suggested-tags"].scrollTop=0;}}}}]);return Xn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xn,"observedAttributes",["spellcheck","disabled","size"]);_defineProperty(Xn,"_shadowTemplate",$s(_templateObject192()));_defineProperty(Xn,"_shadowStyleSheet",Is(_templateObject193()));customElements.define("x-tagsinput",Xn);var Zn=/*#__PURE__*/function(_HTMLElement37){_inherits(Zn,_HTMLElement37);var _super38=_createSuper(Zn);_createClass(Zn,[{key:"value",get:function get(){return this.I.editor.textContent;},set:function set(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.ge();}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Zn(){var _temp40,_this129;_classCallCheck(this,Zn);(_temp40=_this129=_super38.call(this),_defineProperty(_assertThisInitialized(_this129),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this129),"I",{}),_defineProperty(_assertThisInitialized(_this129),"zt",0),_defineProperty(_assertThisInitialized(_this129),"B",null),_temp40),_this129._shadowRoot=_this129.attachShadow({mode:"closed",delegatesFocus:!0}),_this129._shadowRoot.adoptedStyleSheets=[Zn._shadowStyleSheet],_this129._shadowRoot.append(document.importNode(Zn._shadowTemplate.content,!0));var _iterator143=_createForOfIteratorHelper(_this129._shadowRoot.querySelectorAll("[id]")),_step143;try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var _t270=_step143.value;_this129.I[_t270.id]=_t270;}}catch(err){_iterator143.e(err);}finally{_iterator143.f();}_this129.addEventListener("focusin",function(t){return _this129.xe(t);}),_this129.addEventListener("focusout",function(t){return _this129.fe(t);}),_this129.I.editor.addEventListener("click",function(t){return _this129.As(t);}),_this129.I.editor.addEventListener("input",function(t){return _this129.ki(t);});return _this129;}_createClass(Zn,[{key:"connectedCallback",value:function connectedCallback(){var _this130=this;this.ge(),this.St(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),Gs.addEventListener("sizechange",this.B=function(){return _this130.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ze():"disabled"===t?this.Ut():"validation"===t?this.Ce():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null;}},{key:"ge",value:function ge(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"St",value:function St(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.zt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.zt>0?this.zt:0),this.zt=0);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll");}},{key:"ze",value:function ze(){this.I.editor.spellcheck=this.spellcheck;}},{key:"Ut",value:function Ut(){this.I.editor.disabled=this.disabled,this.St();}},{key:"Ce",value:function Ce(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"lt",value:function lt(){this.U();}},{key:"xe",value:function xe(){this.Ls=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"fe",value:function fe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.Ls&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})));}},{key:"As",value:function As(t){t.detail>=4&&document.execCommand("selectAll");}},{key:"ki",value:function ki(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.ge(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate();}}]);return Zn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zn,"observedAttributes",["value","spellcheck","disabled","validation","size"]);_defineProperty(Zn,"_shadowTemplate",$s(_templateObject194()));_defineProperty(Zn,"_shadowStyleSheet",Is(_templateObject195()));customElements.define("x-texteditor",Zn);var Kn=/*#__PURE__*/function(_HTMLElement38){_inherits(Kn,_HTMLElement38);var _super39=_createSuper(Kn);_createClass(Kn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"ring";},set:function set(t){this.setAttribute("type",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Kn(){var _temp41,_this131;_classCallCheck(this,Kn);(_temp41=_this131=_super39.call(this),_defineProperty(_assertThisInitialized(_this131),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this131),"B",null),_temp41),_this131._shadowRoot=_this131.attachShadow({mode:"closed"}),_this131._shadowRoot.adoptedStyleSheets=[Kn._shadowStyleSheet];return _this131;}_createClass(Kn,[{key:"connectedCallback",value:function connectedCallback(){var _this132=this;this.nt(),this.U(),Gs.addEventListener("sizechange",this.B=function(){return _this132.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){var t=this._shadowRoot.firstElementChild,e="ring"===this.type?Kn.Ts:Kn.Ms;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type);}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Kn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kn,"observedAttributes",["type","size"]);_defineProperty(Kn,"Ts",$s(_templateObject196()));_defineProperty(Kn,"Ms",$s(_templateObject197()));_defineProperty(Kn,"_shadowStyleSheet",Is(_templateObject198()));customElements.define("x-throbber",Kn);var Qn=Math.PI,Jn=Math.sqrt,to=Math.atan2,eo=Math.sin,io=Math.cos,so=Math.pow;var no=/*#__PURE__*/function(_HTMLElement39){_inherits(no,_HTMLElement39);var _super40=_createSuper(no);_createClass(no,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function no(){var _temp42,_this133;_classCallCheck(this,no);(_temp42=_this133=_super40.call(this),_defineProperty(_assertThisInitialized(_this133),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this133),"I",{}),_defineProperty(_assertThisInitialized(_this133),"B",null),_defineProperty(_assertThisInitialized(_this133),"X",0),_defineProperty(_assertThisInitialized(_this133),"V",0),_defineProperty(_assertThisInitialized(_this133),"ji",100),_defineProperty(_assertThisInitialized(_this133),"G",1),_defineProperty(_assertThisInitialized(_this133),"Ds",!1),_defineProperty(_assertThisInitialized(_this133),"$s",!1),_defineProperty(_assertThisInitialized(_this133),"tt",!1),_temp42),_this133._shadowRoot=_this133.attachShadow({mode:"closed"}),_this133._shadowRoot.adoptedStyleSheets=[no._shadowStyleSheet],_this133._shadowRoot.append(document.importNode(no._shadowTemplate.content,!0));var _iterator144=_createForOfIteratorHelper(_this133._shadowRoot.querySelectorAll("[id]")),_step144;try{for(_iterator144.s();!(_step144=_iterator144.n()).done;){var _t271=_step144.value;_this133.I[_t271.id]=_t271;}}catch(err){_iterator144.e(err);}finally{_iterator144.f();}_this133.I["huesat-slider"].addEventListener("pointerdown",function(t){return _this133.Ps(t);}),_this133.I["value-slider"].addEventListener("pointerdown",function(t){return _this133.Rs(t);}),_this133.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this133.ht(t);});return _this133;}_createClass(no,[{key:"connectedCallback",value:function(){var _connectedCallback=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var _this134=this;return regeneratorRuntime.wrap(function _callee64$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:this.nt();this.U();_context64.t0=""===this.I["huesat-image"].src;if(!_context64.t0){_context64.next=7;break;}_context64.next=6;return zs();case 6:this.I["huesat-image"].src=_context64.sent;case 7:Gs.addEventListener("sizechange",this.B=function(){return _this134.U();});case 8:case"end":return _context64.stop();}}},_callee64,this);}));function connectedCallback(){return _connectedCallback.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.Is(),this.Os(),this.Bs(),this.gt(),this.xt();}},{key:"Is",value:function Is(){var t=this.X,e=this.V,i=100,s=bs(t),n=e/100*i/2,o=(i-(50+n*io(s)))/i*100,l=(50-n*eo(s))/i*100;this.I["huesat-marker"].style.left=o+"%",this.I["huesat-marker"].style.top=l+"%";}},{key:"Os",value:function Os(){this.I["value-slider-marker"].style.left=100-ps(this.ji,0,100,2)+"%";}},{key:"Bs",value:function Bs(){var t=Ms([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background="linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ".concat(t);}},{key:"gt",value:function gt(){this.I["alpha-slider-marker"].style.left=ps(100*(1-this.G),0,100,2)+"%";}},{key:"xt",value:function xt(){var _s$map3=_s(this.X,this.V,this.ji).map(function(t){return ds(t,0);}),_s$map4=_slicedToArray(_s$map3,3),t=_s$map4[0],e=_s$map4[1],i=_s$map4[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Ds&&!1===this.$s&&!1===this.tt){var _Ts$parse9=new Ts().parse(this.value,"hsva"),_Ts$parse10=_slicedToArray(_Ts$parse9,4),_t272=_Ts$parse10[0],_e232=_Ts$parse10[1],_i202=_Ts$parse10[2],_s135=_Ts$parse10[3];this.X=_t272,this.V=_e232,this.ji=_i202,this.G=_s135,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"Ps",value:function Ps(t){var _this135=this;if(1!==t.buttons)return;var e,_i203,s=this.I["huesat-slider"].getBoundingClientRect();this.Ds=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=s.width/2,n=t-s.left-i,o=e-s.top-i,l=so(n,2)+so(o,2),a=to(o,n);l>so(i,2)&&(n=i*io(a),o=i*eo(a),l=so(n,2)+so(o,2),a=to(o,n)),_this135.X=ds((a+Qn)/(2*Qn)*360,3),_this135.V=ds(Jn(l)/i*100,3),_this135.value=Ms([_this135.X,_this135.V,_this135.ji,_this135.G],"hsva","hsla"),_this135.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this135.Is(),_this135.Bs(),_this135.xt();};n(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["huesat-slider"].addEventListener("lostpointercapture",_i203=function i(t){_this135.I["huesat-slider"].removeEventListener("pointermove",e),_this135.I["huesat-slider"].removeEventListener("lostpointercapture",_i203),_this135.I["huesat-slider"].style.cursor=null,_this135.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this135.Ds=!1;});}},{key:"Rs",value:function Rs(t){var _this136=this;if(1!==t.buttons)return;var e,_i204,s=this.I["value-slider-track"].getBoundingClientRect();this.$s=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=100-(t-s.x)/s.width*100;e=ps(e,0,100,2),e!==_this136.ji&&(_this136.ji=e,_this136.value=Ms([_this136.X,_this136.V,_this136.ji,_this136.G],"hsva","hsla"),_this136.Os(),_this136.xt(),_this136.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["value-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["value-slider"].addEventListener("lostpointercapture",_i204=function i(){_this136.I["value-slider"].removeEventListener("pointermove",e),_this136.I["value-slider"].removeEventListener("lostpointercapture",_i204),_this136.I["value-slider"].style.cursor=null,_this136.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this136.$s=!1;});}},{key:"ht",value:function ht(t){var _this137=this;if(1!==t.buttons)return;var e,_i205,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=ps(e,0,1,2),e!==_this137.G&&(_this137.G=e,_this137.value=Ms([_this137.X,_this137.V,_this137.ji,_this137.G],"hsva","hsla"),_this137.gt(),_this137.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i205=function i(){_this137.I["alpha-slider"].removeEventListener("pointermove",e),_this137.I["alpha-slider"].removeEventListener("lostpointercapture",_i205),_this137.I["alpha-slider"].style.cursor=null,_this137.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this137.tt=!1;});}}]);return no;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(no,"observedAttributes",["value","size"]);_defineProperty(no,"_shadowTemplate",$s(_templateObject199()));_defineProperty(no,"_shadowStyleSheet",Is(_templateObject200()));customElements.define("x-wheelcolorpicker",no);var oo=/*#__PURE__*/function(_HTMLElement40){_inherits(oo,_HTMLElement40);var _super41=_createSuper(oo);_createClass(oo,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function oo(){var _this138;_classCallCheck(this,oo);_this138=_super41.call(this),_this138.qs=ts(_this138.Xs,20,_assertThisInitialized(_this138)),_this138.Zs=ts(_this138.Xs,500,_assertThisInitialized(_this138)),_this138.Ks=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4],_this138._shadowRoot=_this138.attachShadow({mode:"closed"}),_this138._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,oo._shadowStyleSheet],_this138._shadowRoot.append(document.importNode(oo._shadowTemplate.content,!0));var _iterator145=_createForOfIteratorHelper(_this138._shadowRoot.querySelectorAll("[id]")),_step145;try{for(_iterator145.s();!(_step145=_iterator145.n()).done;){var _t273=_step145.value;_this138["#"+_t273.id]=_t273;}}catch(err){_iterator145.e(err);}finally{_iterator145.f();}_this138.addEventListener("contextmenu",function(t){return _this138.Qs(t);});return _this138;}_createClass(oo,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(!0===this.enabled?this.en():this.sn());}},{key:"getRulerTypeFromPoint",value:function getRulerTypeFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);i.getRootNode()!==this._shadowRoot&&(i=null);var s=i?i.closest(".ruler"):null;return s?s.getAttribute("data-type"):null;}},{key:"en",value:function en(){var _this139=this;window.addEventListener("resize",this.nn=function(){_this139.qs();}),this.Js.addEventListener("configchange",this.ln=function(t){_this139.an(t.detail);}),this.tn.board.addEventListener("zoomchange",this.hn=function(){_this139.qs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this139.Zs();}),this.dn=this.Js.getConfig("bx-rulers:space","canvas"),this.Xs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("zoomchange",this.hn),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"an",value:function an(_ref48){var t=_ref48.key,e=_ref48.value;"bx-rulers:space"===t&&(this.dn=e,this.Xs());}},{key:"Qs",value:function(){var _Qs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee65(t){var e,i,s,n;return regeneratorRuntime.wrap(function _callee65$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:t.preventDefault();i=this.tn.board.getComputedViewportWidth(),s=this.tn.board.getComputedViewportHeight();e=null===i&&null===s?[{label:"Canvas space",value:"canvas",toggled:!0},{label:"Viewport space",value:"viewport",disabled:!0}]:[{label:"Canvas space",value:"canvas",toggled:"canvas"===this.dn},{label:"Viewport space",value:"viewport",toggled:"viewport"===this.dn}];_context65.next=5;return this.Js.openContextMenu(e);case 5:n=_context65.sent;null!==n&&this.Js.setConfig("bx-rulers:space",n);case 7:case"end":return _context65.stop();}}},_callee65,this);}));function Qs(_x49){return _Qs.apply(this,arguments);}return Qs;}()},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.scale,i=this.dn,s=0,n=0,o=0,l=0;{var _e233=Yt(t.vectorCanvas);if(0!==_e233.a*_e233.d-_e233.b*_e233.c){var _i206=Ve(t.getBoundingClientRect(),_e233.inverse());s=_i206.x,n=_i206.y;}}if("viewport"===i&&(o=t.getComputedViewportWidth(),l=t.getComputedViewportHeight(),null===o&&null===l&&(i="canvas")),"canvas"===i){var _t274=1;{var _i207=50/e;if(e>0==!1)return;for(var _e234=0;_e234<this.Ks.length;_e234+=1){var _s136=this.Ks[_e234];if(_t274=_s136,_i207<=_s136)break;}}{var _i208=[],_n74=this.clientWidth;this["#horizontal-ruler"].hidden=!1;for(var _o52=J(s,0);_o52<Infinity;_o52+=1){if(_t274>=1&&_o52%_t274==0){var _t275=(_o52-s)*e;if(_t275>_n74)break;_i208.push([_t275,_o52]);}}for(;this["#horizontal-ruler"].children.length<_i208.length;){var _t276=$i("div");_t276.part.add("tick"),this["#horizontal-ruler"].append(_t276);}for(var _t277=0;_t277<_i208.length;_t277+=1){var _i208$_t=_slicedToArray(_i208[_t277],2),_e235=_i208$_t[0],_s137=_i208$_t[1],_n75=this["#horizontal-ruler"].children[_t277];_n75.style.display=null,_n75.style.transform="translateX(".concat(_e235,"px)"),_n75.textContent=_s137;}for(var _t278=_i208.length;_t278<this["#horizontal-ruler"].children.length;_t278+=1){this["#horizontal-ruler"].children[_t278].style.display="none";}}{var _i209=[],_s138=this.clientHeight;this["#vertical-ruler"].hidden=!1;for(var _o53=J(n,0);_o53<Infinity;_o53+=1){if(_o53%_t274==0){var _t279=(_o53-n)*e;if(_t279>_s138)break;_i209.push([_t279,_o53]);}}for(;this["#vertical-ruler"].children.length<_i209.length;){var _t280=$i("div");_t280.part.add("tick"),this["#vertical-ruler"].append(_t280);}for(var _t281=0;_t281<_i209.length;_t281+=1){var _i209$_t=_slicedToArray(_i209[_t281],2),_e236=_i209$_t[0],_s139=_i209$_t[1],_n76=this["#vertical-ruler"].children[_t281];_n76.style.display=null,_n76.style.transform="translateY(".concat(_e236,"px)"),_n76.textContent=_s139;}for(var _t282=_i209.length;_t282<this["#vertical-ruler"].children.length;_t282+=1){this["#vertical-ruler"].children[_t282].style.display="none";}}}else if("viewport"===i){var _i210=null;if(_i210=t.currentWorkspace.hasAttribute("viewBox")?Ut.fromString(t.currentWorkspace.getAttribute("viewBox")).toRect():new DOMRect(0,0,null===o?0:o.toLength("px").value,null===l?0:l.toLength("px").value),null===o)this["#horizontal-ruler"].hidden=!0;else{this["#horizontal-ruler"].hidden=!1;var _t283=1,_n77=_i210.width/o.value;{var _i211=50/e/_n77;for(var _e237=0;_e237<this.Ks.length;_e237+=1){var _s140=this.Ks[_e237];if(_t283=_s140,_i211<=_s140)break;}}var _l44=[],_a33=this.clientWidth;for(var _i212=J(s/_n77,0);_i212<Infinity;_i212+=1){if(_t283>=1&&_i212%_t283==0){var _t284=(_i212*_n77-s)*e;if(_t284>_a33)break;_l44.push([_t284,_i212+o.unit]);}}for(;this["#horizontal-ruler"].children.length<_l44.length;){var _t285=$i("div");_t285.part.add("tick"),this["#horizontal-ruler"].append(_t285);}for(var _t286=0;_t286<_l44.length;_t286+=1){var _l44$_t=_slicedToArray(_l44[_t286],2),_e238=_l44$_t[0],_i213=_l44$_t[1],_s141=this["#horizontal-ruler"].children[_t286];_s141.style.display=null,_s141.style.transform="translateX(".concat(_e238,"px)"),_s141.textContent=_i213;}for(var _t287=_l44.length;_t287<this["#horizontal-ruler"].children.length;_t287+=1){this["#horizontal-ruler"].children[_t287].style.display="none";}}if(null===l)this["#vertical-ruler"].hidden=!0;else{this["#vertical-ruler"].hidden=!1;var _t288=1,_s142=_i210.height/l.value;{var _i214=50/e/_s142;for(var _e239=0;_e239<this.Ks.length;_e239+=1){var _s143=this.Ks[_e239];if(_t288=_s143,_i214<=_s143)break;}}var _o54=[],_a34=this.clientHeight;for(var _i215=J(n/_s142,0);_i215<Infinity;_i215+=1){if(_t288>=1&&_i215%_t288==0){var _t289=(_i215*_s142-n)*e;if(_t289>_a34)break;_o54.push([_t289,_i215+l.unit]);}}for(;this["#vertical-ruler"].children.length<_o54.length;){var _t290=$i("div");_t290.part.add("tick"),this["#vertical-ruler"].append(_t290);}for(var _t291=0;_t291<_o54.length;_t291+=1){var _o54$_t=_slicedToArray(_o54[_t291],2),_e240=_o54$_t[0],_i216=_o54$_t[1],_s144=this["#vertical-ruler"].children[_t291];_s144.style.display=null,_s144.style.transform="translateY(".concat(_e240,"px)"),_s144.textContent=_i216;}for(var _t292=_o54.length;_t292<this["#vertical-ruler"].children.length;_t292+=1){this["#vertical-ruler"].children[_t292].style.display="none";}}}}}]);return oo;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(oo,"observedAttributes",["enabled"]);_defineProperty(oo,"_shadowTemplate",Ki(_templateObject201()));_defineProperty(oo,"_shadowStyleSheet",Qi(_templateObject202()));customElements.define("bx-rulers",oo);var lo=/*#__PURE__*/function(){function lo(t){_classCallCheck(this,lo);this.text=t,this.cursor=0,this.line=1,this.column=1,this.cn={cursor:0,line:1,column:1};}_createClass(lo,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s145=0;_s145<t;_s145+=1){var _t293=this.text[i+_s145];if(void 0===_t293)break;e+=_t293,this.cursor+=1,"\n"===_t293?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i217=0;_i217<t;_i217+=1){var _t294=this.text[this.cursor+_i217];if(void 0===_t294)break;e+=_t294;}return""===e?null:e;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.cn={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$cn=this.cn,t=_this$cn.cursor,e=_this$cn.line,i=_this$cn.column;this.cursor=t,this.line=e,this.column=i;}}]);return lo;}();var ao=Math.min,ho=Math.max,ro=Math.floor,co=Number.parseFloat,po=Number.parseInt,uo=function uo(t,e,i){var s,n,o,l=ho(t/=255,e/=255,i/=255),a=ao(t,e,i);if(s=n=o=(l+a)/2,l===a)s=n=0;else{var _h24=l-a;if(n=o>.5?_h24/(2-l-a):_h24/(l+a),l===t){var _t295;_t295=e<i?6:0,s=(e-i)/_h24+_t295;}else l===e?s=(i-t)/_h24+2:l===i&&(s=(t-e)/_h24+4);}return s=tt(s/6*360,0,360,0),n=tt(100*n,0,100,1),o=tt(100*o,0,100,1),[s,n,o];},xo=function xo(t,e,i){var s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{var _l45,_a35,_h25=function _h25(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l45=i<.5?i*(1+e):i+e-i*e,_a35=2*i-_l45,s=_h25(_a35,_l45,t+1/3),n=_h25(_a35,_l45,t),o=_h25(_a35,_l45,t-1/3);}return s=tt(255*s,0,255,0),n=tt(255*n,0,255,0),o=tt(255*o,0,255,0),[s,n,o];},bo=function bo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=go(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[co(i[1].text),co(i[3].text),co(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[co(i[1].text)/100*255,co(i[3].text)/100*255,co(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[co(i[1].text),co(i[3].text),co(i[5].text),co(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[co(i[1].text)/100*255,co(i[3].text)/100*255,co(i[5].text)/100*255,co(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[co(i[1].text),co(i[3].text),co(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[co(i[1].text),co(i[3].text),co(i[5].text),co(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t296,_e241,_n78,_o55=i[0].text.substring(1);3===_o55.length?(_t296=_o55[0]+_o55[0],_e241=_o55[1]+_o55[1],_n78=_o55[2]+_o55[2]):(_t296=_o55[0]+_o55[1],_e241=_o55[2]+_o55[3],_n78=_o55[4]+_o55[5]),s=[po(_t296,16),po(_e241,16),po(_n78,16),1];}else G[t]&&(s=[G[t][0],G[t][1],G[t][2],1]);if(s){var _s146=s,_s147=_slicedToArray(_s146,4),_t297=_s147[0],_i218=_s147[1],_n79=_s147[2],_o56=_s147[3];if(_t297=tt(_t297,0,255,0),_i218=tt(_i218,0,255,0),_n79=tt(_n79,0,255,0),_o56=tt(_o56,0,1,2),"hsla"===e){var _uo=uo(_t297,_i218,_n79),_uo2=_slicedToArray(_uo,3),_e242=_uo2[0],_s148=_uo2[1],_l46=_uo2[2];return[_e242,_s148,_l46,_o56];}if("hsva"===e){var _ref49=function(t,e,i){var s=ho(t/=255,e/=255,i/=255),n=ao(t,e,i),o=0,l=0,a=s,h=s-n;return l=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,l*=100,a*=100,[o,l,a];}(_t297,_i218,_n79),_ref50=_slicedToArray(_ref49,3),_e243=_ref50[0],_s149=_ref50[1],_l47=_ref50[2];return[_e243,_s149,_l47,_o56];}return[_t297,_i218,_n79,_o56];}if(n){var _n80=n,_n81=_slicedToArray(_n80,4),_t298=_n81[0],_i219=_n81[1],_s150=_n81[2],_o57=_n81[3];if(_t298=tt(_t298,0,360,0),_i219=tt(_i219,0,100,1),_s150=tt(_s150,0,100,1),_o57=tt(_o57,0,1,2),"hsla"===e)return[_t298,_i219,_s150,_o57];if("hsva"===e){var _ref51=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*ho(0,ao(1,s)),n=100*ho(0,ao(1,n)),[o,s,n];}(_t298,_i219,_s150),_ref52=_slicedToArray(_ref51,3),_e244=_ref52[0],_n82=_ref52[1],_l48=_ref52[2];return[_e244,_n82,_l48,_o57];}{var _xo=xo(_t298,_i219,_s150),_xo2=_slicedToArray(_xo,3),_e245=_xo2[0],_n83=_xo2[1],_l49=_xo2[2];return[_e245,_n83,_l49,_o57];}}throw new Error("Invalid color string: \"".concat(t,"\""));},mo=function mo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t299,_t300,_xo3,_xo4,_ref53,_ref54;var _n84,_o58,_l50,_a36;if("rgba"===e?(_t299=t,_t300=_slicedToArray(_t299,4),_n84=_t300[0],_o58=_t300[1],_l50=_t300[2],_a36=_t300[3],_t299):"hsla"===e?((_xo3=xo.apply(void 0,_toConsumableArray(t)),_xo4=_slicedToArray(_xo3,3),_n84=_xo4[0],_o58=_xo4[1],_l50=_xo4[2],_xo3),_a36=t[3]):"hsva"===e&&((_ref53=function(t,e,i){e/=100,i/=100;var s=ro(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),a=i*(1-(1-n)*e),h=0,r=0,d=0;return s%6==0?(h=i,r=a,d=o):s%6==1?(h=l,r=i,d=o):s%6==2?(h=o,r=i,d=a):s%6==3?(h=o,r=l,d=i):s%6==4?(h=a,r=o,d=i):s%6==5&&(h=i,r=o,d=l),h*=255,r*=255,d*=255,[h,r,d];}.apply(void 0,_toConsumableArray(t)),_ref54=_slicedToArray(_ref53,3),_n84=_ref54[0],_o58=_ref54[1],_l50=_ref54[2],_ref53),_a36=t[3]),"rgb%"===i||"rgba%"===i?(_n84=tt(_n84/255*100,0,100,1),_o58=tt(_o58/255*100,0,100,1),_l50=tt(_l50/255*100,0,100,1),_a36=tt(_a36,0,1,2)):(_n84=tt(_n84,0,255,0),_o58=tt(_o58,0,255,0),_l50=tt(_l50,0,255,0),_a36=tt(_a36,0,1,2)),"rgb"===i)s="rgb(".concat(_n84,", ").concat(_o58,", ").concat(_l50,")");else if("rgba"===i)s="rgba(".concat(_n84,", ").concat(_o58,", ").concat(_l50,", ").concat(_a36,")");else if("rgb%"===i)s="rgb(".concat(_n84,"%, ").concat(_o58,"%, ").concat(_l50,"%)");else if("rgba%"===i)s="rgb(".concat(_n84,"%, ").concat(_o58,"%, ").concat(_l50,"%, ").concat(_a36,")");else if("hex"===i){var _t301=_n84.toString(16),_e246=_o58.toString(16),_i220=_l50.toString(16);1===_t301.length&&(_t301="0"+_t301),1===_e246.length&&(_e246="0"+_e246),1===_i220.length&&(_i220="0"+_i220),s="#"+_t301+_e246+_i220;}}else if("hsl"===i||"hsla"===i){var _t302,_t303,_ref55,_ref56,_uo3,_uo4;var _n85,_o59,_l51,_a37;"hsla"===e?(_t302=t,_t303=_slicedToArray(_t302,4),_n85=_t303[0],_o59=_t303[1],_l51=_t303[2],_a37=_t303[3],_t302):"hsva"===e?((_ref55=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*ho(0,ao(1,o)),n=100*ho(0,ao(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref56=_slicedToArray(_ref55,3),_n85=_ref56[0],_o59=_ref56[1],_l51=_ref56[2],_ref55),_a37=t[3]):"rgba"===e&&((_uo3=uo.apply(void 0,_toConsumableArray(t)),_uo4=_slicedToArray(_uo3,3),_n85=_uo4[0],_o59=_uo4[1],_l51=_uo4[2],_uo3),_a37=t[3]),_n85=tt(_n85,0,360,0),_o59=tt(_o59,0,100,1),_l51=tt(_l51,0,100,1),_a37=tt(_a37,0,1,2),"hsl"===i?s="hsl(".concat(_n85,", ").concat(_o59,"%, ").concat(_l51,"%)"):"hsla"===i&&(s="hsla(".concat(_n85,", ").concat(_o59,"%, ").concat(_l51,"%, ").concat(_a37,")"));}return s;},go=function go(t){var e=[],i=new lo(t.toLowerCase());var _loop3=function _loop3(){var t=i.read();(function(){if("r"===t||"h"===t){var _s151=t;if(t+i.peek(3)==="rgb("?_s151+=i.read(3):t+i.peek(4)==="rgba("?_s151+=i.read(4):t+i.peek(3)==="hsl("?_s151+=i.read(3):t+i.peek(4)==="hsla("&&(_s151+=i.read(4)),_s151!==t)return void e.push({type:"FUNCTION",text:_s151});}if("#"===t){if(wo(t+i.peek(6))){var _s152=t+i.read(6);return void e.push({type:"HEX",text:_s152});}if(wo(t+i.peek(3)))return text=t+i.read(3),void e.push({type:"HEX",text:text});}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s153=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s153+=i.read();}"%"===i.peek()?(_s153+=i.read(),e.push({type:"PERCENTAGE",text:_s153})):e.push({type:"NUM",text:_s153});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop3();}return e;},fo=function fo(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=bo(t,i);return mo(s,i,e);},wo=function wo(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator146=_createForOfIteratorHelper(t),_step146;try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var _i221=_step146.value;if(!e.includes(_i221))return!1;}}catch(err){_iterator146.e(err);}finally{_iterator146.f();}return!0;},vo=function vo(t){try{bo(t);}catch(t){return!1;}return!0;},yo=function yo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Ii(t));var _n86=e.querySelector(s.href.baseVal);if(!_n86||"linearGradient"!==_n86.localName&&"radialGradient"!==_n86.localName||_n86===t||!1!==i.includes(_n86))break;i.push(_n86),s=_n86;}return i;},ko=function ko(t){var _iterator147=_createForOfIteratorHelper(yo(t)),_step147;try{for(_iterator147.s();!(_step147=_iterator147.n()).done;){var _e247=_step147.value;if(Po(_e247))return _e247;}}catch(err){_iterator147.e(err);}finally{_iterator147.f();}return null;},So=function So(t){return Po(t)?t:ko(t);},Co=function Co(t){return Mo(t)?t:function(t){var _iterator148=_createForOfIteratorHelper(yo(t)),_step148;try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var _e248=_step148.value;if(Mo(_e248))return _e248;}}catch(err){_iterator148.e(err);}finally{_iterator148.f();}return null;}(t);},_o=function _o(t){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _e249=_toConsumableArray(t.querySelectorAll(":scope > stop"));return 1===_e249.length&&!1===_e249[0].hasAttribute("offset");}return!1;},Mo=function Mo(t){return null!==t.querySelector(":scope > stop")||!1===t.hasAttribute("href");},Po=function Po(t){var e=[];"linearGradient"===t.localName?e=["x1","y1","x2","y2","href","gradientUnits","gradientTransform","href"]:"radialGradient"===t.localName&&(e=["cx","cy","r","fx","fy","fr","href","gradientUnits","gradientTransform","href"]);for(var _i222=0,_e250=e;_i222<_e250.length;_i222++){var _i223=_e250[_i222];if(t.hasAttribute(_i223))return!1;}return!0!==_o(t);},Do=function Do(t){var e=[t].concat(_toConsumableArray(yo(t))),i={};{var _t304=null;var _iterator149=_createForOfIteratorHelper(e),_step149;try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var _i224=_step149.value;if(_i224.hasAttribute("gradientUnits")){_t304=_i224.gradientUnits.baseVal;break;}}}catch(err){_iterator149.e(err);}finally{_iterator149.f();}null===_t304&&(_t304=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.gradientUnits=_t304;}{var _t305=null;var _iterator150=_createForOfIteratorHelper(e),_step150;try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _i225=_step150.value;if(_i225.hasAttribute("gradientTransform")){_t305=DOMMatrix.fromMatrix(_i225.gradientTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator150.e(err);}finally{_iterator150.f();}null===_t305&&(_t305=new DOMMatrix()),i.gradientTransform=_t305;}{var _t306=null;var _iterator151=_createForOfIteratorHelper(e),_step151;try{for(_iterator151.s();!(_step151=_iterator151.n()).done;){var _i226=_step151.value;if(_i226.hasAttribute("spreadMethod")){_t306=_i226.spreadMethod.baseVal;break;}}}catch(err){_iterator151.e(err);}finally{_iterator151.f();}null===_t306&&(_t306=SVGGradientElement.SVG_SPREADMETHOD_PAD),i.spreadMethod=_t306;}if("linearGradient"===t.localName)for(var _i227=0,_arr7=["x1","y1","x2","y2"];_i227<_arr7.length;_i227++){var _t307=_arr7[_i227];var _s154=null;var _iterator152=_createForOfIteratorHelper(e),_step152;try{for(_iterator152.s();!(_step152=_iterator152.n()).done;){var _i228=_step152.value;if("linearGradient"===_i228.localName&&_i228.hasAttribute(_t307)){_s154={value:_i228[_t307].baseVal.value,valueInSpecifiedUnits:_i228[_t307].baseVal.valueInSpecifiedUnits,valueAsString:_i228[_t307].baseVal.valueAsString,unitType:_i228[_t307].baseVal.unitType};break;}}}catch(err){_iterator152.e(err);}finally{_iterator152.f();}null===_s154&&("x1"===_t307||"y1"===_t307||"y2"===_t307?_s154={value:0,valueInSpecifiedUnits:0,valueAsString:"0%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}:"x2"===_t307&&(_s154={value:screen.width,valueInSpecifiedUnits:100,valueAsString:"100%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE})),i[_t307]=_s154;}else if("radialGradient"===t.localName){for(var _i229=0,_arr8=["cx","cy","r"];_i229<_arr8.length;_i229++){var _t308=_arr8[_i229];var _s155=null;var _iterator153=_createForOfIteratorHelper(e),_step153;try{for(_iterator153.s();!(_step153=_iterator153.n()).done;){var _i230=_step153.value;if("radialGradient"===_i230.localName&&_i230.hasAttribute(_t308)){_s155={value:_i230[_t308].baseVal.value,valueInSpecifiedUnits:_i230[_t308].baseVal.valueInSpecifiedUnits,valueAsString:_i230[_t308].baseVal.valueAsString,unitType:_i230[_t308].baseVal.unitType};break;}}}catch(err){_iterator153.e(err);}finally{_iterator153.f();}null===_s155&&(_s155={value:screen.width/2,valueInSpecifiedUnits:50,valueAsString:"50%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}),i[_t308]=_s155;}for(var _i231=0,_arr9=["fx","fy","fr"];_i231<_arr9.length;_i231++){var _t309=_arr9[_i231];var _s156=null;var _iterator154=_createForOfIteratorHelper(e),_step154;try{for(_iterator154.s();!(_step154=_iterator154.n()).done;){var _i232=_step154.value;if("radialGradient"===_i232.localName&&_i232.hasAttribute(_t309)){_s156={value:_i232[_t309].baseVal.value,valueInSpecifiedUnits:_i232[_t309].baseVal.valueInSpecifiedUnits,valueAsString:_i232[_t309].baseVal.valueAsString,unitType:_i232[_t309].baseVal.unitType};break;}}}catch(err){_iterator154.e(err);}finally{_iterator154.f();}null===_s156&&("fx"===_t309?_s156={value:i.cx.value,valueInSpecifiedUnits:i.cx.valueInSpecifiedUnits,valueAsString:i.cx.valueAsString,unitType:i.cx.unitType}:"fy"===_t309?_s156={value:i.cy.value,valueInSpecifiedUnits:i.cy.valueInSpecifiedUnits,valueAsString:i.cy.valueAsString,unitType:i.cy.unitType}:"fr"===_t309&&(_s156={value:i.r.value,valueInSpecifiedUnits:i.r.valueInSpecifiedUnits,valueAsString:i.r.valueAsString,unitType:i.r.unitType})),i[_t309]=_s156;}}return i;},zo=function zo(t){var e=[];for(var _i233=0,_arr10=[t].concat(_toConsumableArray(yo(t)));_i233<_arr10.length;_i233++){var _i234=_arr10[_i233];var _t310=To(_i234);if(_t310.length>0){e=_t310;break;}}return e;},Oo=function Oo(t,e){var i=null;if(t.hasAttribute(e))i=t.getAttribute(e);else{var _s157=yo(t);var _iterator155=_createForOfIteratorHelper(_s157),_step155;try{for(_iterator155.s();!(_step155=_iterator155.n()).done;){var _t311=_step155.value;if(_t311.hasAttribute(e)){i=_t311.getAttribute(e);break;}}}catch(err){_iterator155.e(err);}finally{_iterator155.f();}}return i;},Eo=function Eo(t,e){var i=$i("canvas"),s=100;i.width=s,i.height=10;var n=i.getContext("2d");n.clearRect(0,0,s,10);var o=n.createLinearGradient(0,0,s,0);var _iterator156=_createForOfIteratorHelper(zo(t)),_step156;try{for(_iterator156.s();!(_step156=_iterator156.n()).done;){var _e251=_step156.value;o.addColorStop(_e251.offset.baseVal,_e251.style.getPropertyValue("stop-color")||"#000");}}catch(err){_iterator156.e(err);}finally{_iterator156.f();}n.fillStyle=o,n.fillRect(0,0,s,10);var l=n.getImageData(e*s,0,1,1).data;return"rgb(".concat(l[0],", ").concat(l[1],", ").concat(l[2],")");},To=function To(t){var e=[];var _iterator157=_createForOfIteratorHelper(t.children),_step157;try{for(_iterator157.s();!(_step157=_iterator157.n()).done;){var _i235=_step157.value;"stop"===_i235.localName&&e.push(_i235);}}catch(err){_iterator157.e(err);}finally{_iterator157.f();}return e;},Ao=function Ao(t){var _getComputedStyle3=getComputedStyle(t),e=_getComputedStyle3.stopColor,i=_getComputedStyle3.stopOpacity,_bo=bo(e,"rgba"),_bo2=_slicedToArray(_bo,4),s=_bo2[0],n=_bo2[1],o=_bo2[2],l=_bo2[3];return l*=parseFloat(i),"rgba(".concat(s,", ").concat(n,", ").concat(o,", ").concat(l,")");},$o=function $o(t){var e=null;if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i236=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i236.length&&!1===_i236[0].hasAttribute("offset")&&(e=getComputedStyle(_i236[0]).stopColor);}return e;},Io=function Io(t,e){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i237=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i237.length&&!1===_i237[0].hasAttribute("offset")&&(_i237[0].style.stopColor=e);}},Lo=function Lo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t312=_toArray(t),_e252=_t312[0],_i238=_t312.slice(1),_s158=Symbol(),_n87=Symbol(),_o60=Symbol();var _iterator158=_createForOfIteratorHelper(t),_step158;try{for(_iterator158.s();!(_step158=_iterator158.n()).done;){var _e254=_step158.value;_e254[_s158]=zo(_e254),!1===_e254.isConnected&&console.warn("compareGradientsResolvedStops() might return incorrect results for disconnected gradients.");}}catch(err){_iterator158.e(err);}finally{_iterator158.f();}var _iterator159=_createForOfIteratorHelper(_i238),_step159;try{for(_iterator159.s();!(_step159=_iterator159.n()).done;){var _t314=_step159.value;if(_t314[_s158].length!==_e252[_s158].length)return!1;}}catch(err){_iterator159.e(err);}finally{_iterator159.f();}var _iterator160=_createForOfIteratorHelper(t),_step160;try{for(_iterator160.s();!(_step160=_iterator160.n()).done;){var _e255=_step160.value;var _iterator162=_createForOfIteratorHelper(_e255[_s158]),_step162;try{for(_iterator162.s();!(_step162=_iterator162.n()).done;){var _t315=_step162.value;var _getComputedStyle4=getComputedStyle(_t315),_e256=_getComputedStyle4.stopColor,_i240=_getComputedStyle4.stopOpacity;_t315[_n87]=_e256,_t315[_o60]=_i240;}}catch(err){_iterator162.e(err);}finally{_iterator162.f();}}}catch(err){_iterator160.e(err);}finally{_iterator160.f();}for(var _t313=0;_t313<_e252[_s158].length;_t313+=1){var _l52=_e252[_s158][_t313];var _iterator161=_createForOfIteratorHelper(_i238),_step161;try{for(_iterator161.s();!(_step161=_iterator161.n()).done;){var _e253=_step161.value;var _i239=_e253[_s158][_t313];if(_i239.offset.baseVal!==_l52.offset.baseVal)return!1;if(_i239[_n87]!==_l52[_n87])return!1;if(_i239[_o60]!==_l52[_o60])return!1;}}catch(err){_iterator161.e(err);}finally{_iterator161.f();}}return!0;}},_window4=window,Bo=_window4.tokenize,Ro=_window4.EOFToken;var Go=/*#__PURE__*/function(){_createClass(Go,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"origin",get:function get(){return new URL(this._t).origin;}},{key:"type",get:function get(){return"<url>";}}]);function Go(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";_classCallCheck(this,Go);this._t=t;}_createClass(Go,[{key:"toString",value:function toString(){return"url(".concat(this.value,")");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Bo(t)),[new Ro()]),s=new Et(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"URL"===s.currentToken.tokenType){var _t316=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Go(_t316);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if("FUNCTION"===s.currentToken.tokenType&&"url"===s.currentToken.value){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"===s.currentToken.tokenType){var _t317=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),")"===s.currentToken.tokenType){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Go(_t317.trim());if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException('Expected ")" token.',"SyntaxError");return null;}if(e)throw new DOMException("Expected STRING token.","SyntaxError");return null;}if(e)throw new DOMException("Expected URL or FUNCTION token.","SyntaxError");return null;}}]);return Go;}();window.BXURL=Go;var _SVGUnitTypes=SVGUnitTypes,Uo=_SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,Fo=_SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,No=function No(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Ii(t));var _n88=e.querySelector(s.href.baseVal);if(!_n88||"pattern"!==_n88.localName||_n88===t||!1!==i.includes(_n88))break;i.push(_n88),s=_n88;}return i;},jo=function jo(t){return Ho(t)?t:function(t){var e=No(t),i=null;var _iterator163=_createForOfIteratorHelper(e),_step163;try{for(_iterator163.s();!(_step163=_iterator163.n()).done;){var _t318=_step163.value;Ho(_t318)&&(i=_t318);}}catch(err){_iterator163.e(err);}finally{_iterator163.f();}return i;}(t);},Vo=function Vo(t){var e=null;if(""!==t.href.baseVal){var _i241=Ii(t).querySelector(t.href.baseVal);_i241&&_i241!==t&&"pattern"===_i241.localName&&(e=_i241);}return e;},Ho=function Ho(t){return!1===t.hasAttribute("href")||!0===Wo(t);},Wo=function Wo(t){var _iterator164=_createForOfIteratorHelper(t.children),_step164;try{for(_iterator164.s();!(_step164=_iterator164.n()).done;){var _e257=_step164.value;if("title"!==_e257.localName&&"desc"!==_e257.localName&&"metadata"!==_e257.localName)return!0;}}catch(err){_iterator164.e(err);}finally{_iterator164.f();}return!1;},Yo=function Yo(t){var e=[];for(var _i242=0,_arr11=[t].concat(_toConsumableArray(No(t)));_i242<_arr11.length;_i242++){var _i243=_arr11[_i242];if(Wo(_i243)){e=_toConsumableArray(_i243.children);break;}}return e;},qo=function qo(t){var e=[t].concat(_toConsumableArray(No(t))),i={};{var _t319=null;var _iterator165=_createForOfIteratorHelper(e),_step165;try{for(_iterator165.s();!(_step165=_iterator165.n()).done;){var _i244=_step165.value;if(_i244.hasAttribute("patternUnits")){_t319=_i244.patternUnits.baseVal;break;}}}catch(err){_iterator165.e(err);}finally{_iterator165.f();}null===_t319&&(_t319=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.patternUnits=_t319;}{var _t320=null;var _iterator166=_createForOfIteratorHelper(e),_step166;try{for(_iterator166.s();!(_step166=_iterator166.n()).done;){var _i245=_step166.value;if(_i245.hasAttribute("patternContentUnits")){_t320=_i245.patternContentUnits.baseVal;break;}}}catch(err){_iterator166.e(err);}finally{_iterator166.f();}null===_t320&&(_t320=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE),i.patternContentUnits=_t320;}{var _t321=null;var _iterator167=_createForOfIteratorHelper(e),_step167;try{for(_iterator167.s();!(_step167=_iterator167.n()).done;){var _i246=_step167.value;if(_i246.hasAttribute("patternTransform")){_t321=DOMMatrix.fromMatrix(_i246.patternTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator167.e(err);}finally{_iterator167.f();}null===_t321&&(_t321=new DOMMatrix()),i.patternTransform=_t321;}{var _t322=null;var _iterator168=_createForOfIteratorHelper(e),_step168;try{for(_iterator168.s();!(_step168=_iterator168.n()).done;){var _i247=_step168.value;if(_i247.hasAttribute("viewBox")){_t322=DOMRect.fromRect(_i247.viewBox.baseVal);break;}}}catch(err){_iterator168.e(err);}finally{_iterator168.f();}null===_t322&&(_t322=new DOMRect()),i.viewBox=_t322;}{var _t323=null;var _iterator169=_createForOfIteratorHelper(e),_step169;try{for(_iterator169.s();!(_step169=_iterator169.n()).done;){var _i248=_step169.value;if(_i248.hasAttribute("preserveAspectRatio")){_t323=_i248.preserveAspectRatio.baseVal;break;}}}catch(err){_iterator169.e(err);}finally{_iterator169.f();}null===_t323&&(_t323={align:SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID,meetOrSlice:SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET}),i.preserveAspectRatio=_t323;}for(var _i249=0,_arr12=["x","y","width","height"];_i249<_arr12.length;_i249++){var _t324=_arr12[_i249];var _s159=null;var _iterator170=_createForOfIteratorHelper(e),_step170;try{for(_iterator170.s();!(_step170=_iterator170.n()).done;){var _i250=_step170.value;if(_i250.hasAttribute(_t324)){_s159={value:_i250[_t324].baseVal.value,valueInSpecifiedUnits:_i250[_t324].baseVal.valueInSpecifiedUnits,valueAsString:_i250[_t324].baseVal.valueAsString,unitType:_i250[_t324].baseVal.unitType};break;}}}catch(err){_iterator170.e(err);}finally{_iterator170.f();}null===_s159&&(_s159={value:0,valueInSpecifiedUnits:0,valueAsString:"0",unitType:SVGLength.SVG_LENGTHTYPE_NUMBER}),i[_t324]=_s159;}return i;},Xo=function Xo(t){var e=Ii(t),i=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _getComputedStyle5=getComputedStyle(s),_e258=_getComputedStyle5.fill,_i251=_getComputedStyle5.stroke;for(var _i252=0,_arr13=[_e258,_i251];_i252<_arr13.length;_i252++){var _o61=_arr13[_i252];if(_o61.startsWith('url("#')){_o61.substring(6,_o61.length-2)===t.id&&!1===n.includes(s)&&n.push(s);}}}}return n;},Zo=function Zo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t325=_toArray(t),_e259=_t325[0],_i253=_t325.slice(1),_s160=Symbol();var _iterator171=_createForOfIteratorHelper(t),_step171;try{for(_iterator171.s();!(_step171=_iterator171.n()).done;){var _e260=_step171.value;_e260[_s160]=Yo(_e260);}}catch(err){_iterator171.e(err);}finally{_iterator171.f();}var _iterator172=_createForOfIteratorHelper(_i253),_step172;try{for(_iterator172.s();!(_step172=_iterator172.n()).done;){var _t326=_step172.value;if(!1===ii(_t326[_s160],_e259[_s160],!0))return!1;}}catch(err){_iterator172.e(err);}finally{_iterator172.f();}return!0;}},Ko=function Ko(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s,n,o,l,a,h,r=qo(t),d=Oi(e);if(r.patternUnits===Fo)s=new DOMPoint(r.x.value,r.y.value),n=new DOMPoint(r.x.value+r.width.value,r.y.value),o=new DOMPoint(r.x.value+r.width.value,r.y.value+r.height.value),l=new DOMPoint(d.x+d.width/2-r.width.value/2,d.y+d.height/2-r.height.value/2),a=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2-r.height.value/2),h=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2+r.height.value/2);else if(r.patternUnits===Uo){var _t327=r.x.valueInSpecifiedUnits,_e261=r.y.valueInSpecifiedUnits,_i254=r.width.valueInSpecifiedUnits,_c4=r.height.valueInSpecifiedUnits;r.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t327/=100),r.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e261/=100),r.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i254/=100),r.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c4/=100);var _p3=new DOMPoint(_t327,_e261),_u3=new DOMPoint(_t327+_i254,_e261),_x50=new DOMPoint(_t327+_i254,_e261+_c4);s=new DOMPoint(d.x+_p3.x*d.width,d.y+_p3.y*d.height),n=new DOMPoint(d.x+_u3.x*d.width,d.y+_u3.y*d.height),o=new DOMPoint(d.x+_x50.x*d.width,d.y+_x50.y*d.height),l=new DOMPoint(d.x+d.width/2-d.width*_i254/2,d.y+d.height/2-d.height*_c4/2),a=new DOMPoint(d.x+d.width/2+d.width*_i254/2,d.y+d.height/2-d.height*_c4/2),h=new DOMPoint(d.x+d.width/2+d.width*_i254/2,d.y+d.height/2+d.height*_c4/2);}var c=qt(s,n,o,l,a,h);null!==i&&(c=Ft(c,i)),t.setAttribute("patternTransform",c.toString());},Qo=function Qo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i="none";if("inherit"===t.style.getPropertyValue(e))i="inherit";else{var _s161=getComputedStyle(t).getPropertyValue(e);if(vo(_s161))i="solid";else{var _e262=Go.fromString(_s161);if(_e262){var _s162=Ii(t).querySelector(_e262.value),_n89=_s162?_s162.localName:null;"linearGradient"===_n89&&_o(_s162)?i="solid":"linearGradient"!==_n89&&"radialGradient"!==_n89&&"pattern"!==_n89||(i=_n89);}}}return i;},Jo=function Jo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=null,s=getComputedStyle(t).getPropertyValue(e),n=Go.fromString(s);if(n){var _e263=Ii(t).querySelector(n.value);_e263&&S.includes(_e263.localName)&&(i=_e263);}return i;},tl=function tl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=[],s=[];var _iterator173=_createForOfIteratorHelper(t),_step173;try{for(_iterator173.s();!(_step173=_iterator173.n()).done;){var _n91=_step173.value;var _t328=getComputedStyle(_n91).getPropertyValue(e),_o62=Jo(_n91);i.push(_t328),s.push(_o62);}}catch(err){_iterator173.e(err);}finally{_iterator173.f();}if(i.legth<=1)return!1;if(ni(i,i[0]))return!1;{var _e264=s.filter(function(t){return t&&"linearGradient"===t.localName;}),_i255=s.filter(function(t){return t&&"radialGradient"===t.localName;}),_n90=s.filter(function(t){return t&&"pattern"===t.localName;});return(_e264.length!==t.length||!Lo(_e264))&&(_i255.length!==t.length||!Lo(_i255))&&(_n90.length!==t.length||!Zo(_n90));}},el=function el(t,e){var i=Go.fromString(e);if(i){var _e265=t.querySelector(i.value);if(_e265)return _e265;}return null;},il=function il(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=t+(s?new Math.seedrandom(s):Math.random)()*(e-t);return J(n,i);},sl=function sl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var i=2166136261;for(var _e266=0,_s163=t.length;_e266<_s163;_e266+=1){i^=t.charCodeAt(_e266),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);}return i>>>=0,"hex"===e&&(i=("0000000"+i.toString(16)).substr(-8)),i;},nl=Math.sin,ol=Math.cos,ll=Math.tan,al=Math.PI;var hl={rect:1,ring:1,pie:1,crescent:1,triangle:1,"n-gon":1,star:1,cog:1,arrow:1,cross:1,spiral:1};var rl=function rl(t){var e=null;if(t.hasAttribute("data-bx-shape")){var _i256=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_i256.length>=3){var _t329=_i256[0];if(_i256[_i256.length-1].includes("@")?_i256[_i256.length-1]:null){var _s164=_i256.slice(1,_i256.length-1);_s164=_s164.map(function(t){return parseFloat(t);}),e={type:_t329,values:_s164};}}}return e;},dl=function dl(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9;var s=pl(e,i);if(s){t.setPathData(s);var _n92=t.getAttribute("d"),_o63="".concat(e.type);_o63+=" ".concat(e.values.map(function(t){return J(t,i);}).join(" ")),_o63+=" "+hl[e.type],_o63+="@"+sl("".concat(_n92," / ").concat(_o63)).toString(32),t.setAttribute("data-bx-shape",_o63);}},cl=function cl(t){var e=!1;if(t.hasAttribute("data-bx-shape")){var _i257=t.getAttribute("d"),_s165=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_s165.length>=3){var _t330=_s165[0],_n93=_s165.slice(1,_s165.length-1),_o64=_s165[_s165.length-1];if(_o64.includes("@")){var _o64$split=_o64.split("@"),_o64$split2=_slicedToArray(_o64$split,2),_s166=_o64$split2[0],_l53=_o64$split2[1];_l53===sl("".concat(_i257," / ").concat(_t330," ").concat(_n93.join(" ")," ").concat(_s166)).toString(32)&&(e=!0);}}}return e;},pl=function pl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.type?i=ul(t,e):"ring"===t.type?i=xl(t,e):"pie"===t.type?i=bl(t,e):"crescent"===t.type?i=ml(t,e):"triangle"===t.type?i=gl(t,e):"n-gon"===t.type?i=fl(t,e):"star"===t.type?i=wl(t,e):"cog"===t.type?i=vl(t,e):"arrow"===t.type?i=yl(t,e):"cross"===t.type?i=kl(t,e):"spiral"===t.type&&(i=Sl(t,e)),i;},ul=function ul(t,e){var _t$values=_slicedToArray(t.values,12),i=_t$values[0],s=_t$values[1],n=_t$values[2],o=_t$values[3],l=_t$values[4],a=_t$values[5],h=_t$values[6],r=_t$values[7],d=_t$values[8],c=_t$values[9],p=_t$values[10],u=_t$values[11];void 0===d&&(d=l),void 0===c&&(c=a),void 0===p&&(p=h),void 0===u&&(u=r),l=l>n/2?n/2:l,a=a>n/2?n/2:a,h=h>n/2?n/2:h,r=r>n/2?n/2:r,d=d>o/2?o/2:d,c=c>o/2?o/2:c,p=p>o/2?o/2:p,u=u>o/2?o/2:u;var x=[{type:"M",values:[i+l,s]},{type:"H",values:[i+n-a]},{type:"A",values:[a,c,0,0,1,i+n,s+c]},{type:"V",values:[s+o-p]},{type:"A",values:[h,p,0,0,1,i+n-h,s+o]},{type:"H",values:[i+r]},{type:"A",values:[r,u,0,0,1,i,s+o-u]},{type:"V",values:[s+d]},{type:"A",values:[l,d,0,0,1,i+l,s]},{type:"Z",values:[]}];x=x.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1];});var _iterator174=_createForOfIteratorHelper(x),_step174;try{for(_iterator174.s();!(_step174=_iterator174.n()).done;){var _t331=_step174.value;_t331.values=_t331.values.map(function(t){return J(t,e);});}}catch(err){_iterator174.e(err);}finally{_iterator174.f();}return x;},xl=function xl(t,e){var _t$values2=_slicedToArray(t.values,6),i=_t$values2[0],s=_t$values2[1],n=_t$values2[2],o=_t$values2[3],l=_t$values2[4],a=_t$values2[5],h=[{type:"M",values:[i,s]},{type:"m",values:[-l,0]},{type:"a",values:[l,a,0,1,0,2*l,0]},{type:"a",values:[l,a,0,1,0,-2*l,0]},{type:"Z",values:[]},{type:"M",values:[i,s]},{type:"m",values:[-n,0]},{type:"a",values:[n,o,0,0,1,2*n,0]},{type:"a",values:[n,o,0,0,1,-2*n,0]},{type:"Z",values:[]}];for(var _i258=0,_h26=h;_i258<_h26.length;_i258++){var _t332=_h26[_i258];_t332.values=_t332.values.map(function(t){return J(t,e);});}return h;},bl=function bl(t,e){var _t$values3=_slicedToArray(t.values,6),i=_t$values3[0],s=_t$values3[1],n=_t$values3[2],o=_t$values3[3],l=_t$values3[4],a=_t$values3[5],h=Ne(l),r=Ne(a),d=a-l,c=d>=180||d>=-180&&d<=0?1:0,p=[{type:"M",values:[i+o*nl(h),s+o*-ol(h)]},{type:"A",values:[o,o,0,c,1,i+o*nl(r),s+o*-ol(r)]},{type:"L",values:[i+n*nl(r),s+n*-ol(r)]}];if(n>0){var _t333=i+n*nl(h),_e267=s+n*-ol(h);p.push({type:"A",values:[n,n,0,c,0,_t333,_e267]});}p.push({type:"Z",values:[]});for(var _i259=0,_p4=p;_i259<_p4.length;_i259++){var _t334=_p4[_i259];_t334.values=_t334.values.map(function(t){return J(t,e);});}return p;},ml=function ml(t,e){var _t$values4=_slicedToArray(t.values,5),i=_t$values4[0],s=_t$values4[1],n=_t$values4[2],o=_t$values4[3],l=_t$values4[4],a=Ge(90-o/2),h=Ne(a),r=Ge(a+o),d=Ne(r),c=r-a,p=c>=180||c>=-180&&c<=0?1:0,u=new DOMPoint(i+n*nl(h),s+n*-ol(h)),x=new DOMPoint(i+n*nl(d),s+n*-ol(d)),b=new DOMPoint(i-n+2*n*l,s),m=[];m.push({type:"M",values:[u.x,u.y]}),m.push({type:"A",values:[n,n,0,p,1,x.x,x.y]}),!0===Oe(u,x,b)?m.push({type:"L",values:[u.x,u.y]}):m.push(function(t,e,i){if(!0===Oe(t,e,i))throw new Error("Given points are colinear");{var _s167=Ee(e,i),_n94=Ee(i,t),_o65=Ee(t,e),_l54=fe((_s167*_s167+_n94*_n94-_o65*_o65)/(2*_s167*_n94)),_a38=_s167*_n94*_o65/4/(.5*_s167*_n94*me(_l54));return{type:"A",values:[_a38,_a38,0,+(Se/2>_l54),+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0),e.x,e.y]};}}(x,u,b)),m.push({type:"Z",values:[]});for(var _i260=0,_m2=m;_i260<_m2.length;_i260++){var _t335=_m2[_i260];_t335.values=_t335.values.map(function(t){return J(t,e);});}return m;},gl=function gl(t,e){var _t$values5=_slicedToArray(t.values,6),i=_t$values5[0],s=_t$values5[1],n=_t$values5[2],o=_t$values5[3],l=_t$values5[4],a=_t$values5[5],h=[];if(0===a)h.push({type:"M",values:[i+n*l,s]}),h.push({type:"L",values:[i+n,s+o]}),h.push({type:"L",values:[i,s+o]}),h.push({type:"L",values:[i+n*l,s]});else{var _t336=[{x:i+n*l,y:s},{x:i+n,y:s+o},{x:i,y:s+o}];for(var _e268=0;_e268<_t336.length;_e268+=1){var _i261=_t336[_e268],_s168=_t336[_e268+1]||_t336[0],_n95=_t336[_e268-1]||_t336[_t336.length-1],_o66={x:_i261.x+(_n95.x-_i261.x)*a,y:_i261.y+(_n95.y-_i261.y)*a},_l55={x:_i261.x+(_s168.x-_i261.x)*a,y:_i261.y+(_s168.y-_i261.y)*a},_r16={x:_i261.x,y:_i261.y};h.push({type:0===_e268?"M":"L",values:[_o66.x,_o66.y]}),h.push({type:"Q",values:[_r16.x,_r16.y,_l55.x,_l55.y]});}}h.push({type:"Z",values:[]});for(var _i262=0,_h27=h;_i262<_h27.length;_i262++){var _t337=_h27[_i262];_t337.values=_t337.values.map(function(t){return J(t,e);});}return h;},fl=function fl(t,e){var _t$values6=_slicedToArray(t.values,6),i=_t$values6[0],s=_t$values6[1],n=_t$values6[2],o=_t$values6[3],l=_t$values6[4],a=_t$values6[5],h=[];if(0===a)for(var _t338=0;_t338<l;_t338+=1){var _e269=2*al*(_t338/l)-al/2,_a39=n*ol(_e269)+i,_r17=o*nl(_e269)+s;0===_t338?h.push({type:"M",values:[_a39,_r17]}):h.push({type:"L",values:[_a39,_r17]});}else{var _t339=[];for(var _e270=0;_e270<l;_e270+=1){var _a40=2*al*(_e270/l)-al/2;_t339.push({x:n*ol(_a40)+i,y:o*nl(_a40)+s});}for(var _e271=0;_e271<_t339.length;_e271+=1){var _i263=_t339[_e271],_s169=_t339[_e271+1]||_t339[0],_n96=_t339[_e271-1]||_t339[_t339.length-1],_o67={x:_i263.x+(_n96.x-_i263.x)*a,y:_i263.y+(_n96.y-_i263.y)*a},_l56={x:_i263.x+(_s169.x-_i263.x)*a,y:_i263.y+(_s169.y-_i263.y)*a},_r18={x:_i263.x,y:_i263.y};h.push({type:0===_e271?"M":"L",values:[_o67.x,_o67.y]}),h.push({type:"Q",values:[_r18.x,_r18.y,_l56.x,_l56.y]});}}h.push({type:"Z",values:[]});for(var _i264=0,_h28=h;_i264<_h28.length;_i264++){var _t340=_h28[_i264];_t340.values=_t340.values.map(function(t){return J(t,e);});}return h;},wl=function wl(t,e){var _t$values7=_slicedToArray(t.values,6),i=_t$values7[0],s=_t$values7[1],n=_t$values7[2],o=_t$values7[3],l=_t$values7[4],a=_t$values7[5],h=[];for(var _t341=0;_t341<a;_t341+=1){var _e272=2*al*(_t341/a)-al/2,_r19=n*ol(_e272)+i,_d7=o*nl(_e272)+s;0===_t341?h.push({type:"M",values:[_r19,_d7]}):h.push({type:"L",values:[_r19,_d7]}),_e272=2*al*(_t341/a)+al/a-al/2,_r19=l*n*ol(_e272)+i,_d7=l*o*nl(_e272)+s,h.push({type:"L",values:[_r19,_d7]});}h.push({type:"Z",values:[]});for(var _i265=0,_h29=h;_i265<_h29.length;_i265++){var _t342=_h29[_i265];_t342.values=_t342.values.map(function(t){return J(t,e);});}return h;},vl=function vl(t,e){var _t$values8=_slicedToArray(t.values,7),i=_t$values8[0],s=_t$values8[1],n=_t$values8[2],o=_t$values8[3],l=_t$values8[4],a=_t$values8[5],h=_t$values8[6],r=360/h,d=r/4,c=ll(Ne(d-a*d))*l,p=[];for(var _t343=0;_t343<h;_t343+=1){var _e273=r*_t343-90,_n97=_e273+d+a*d,_h30=_e273+r-d-a*d,_u4=Ne(_e273),_x51=Ne(_n97),_b2=Ne(_h30);p.push({type:0===_t343?"M":"L",values:[i+l*ol(_u4)+nl(_u4)*c,s+l*nl(_u4)-ol(_u4)*c]}),p.push({type:"L",values:[i+l*ol(_u4)-nl(_u4)*c,s+l*nl(_u4)+ol(_u4)*c]}),p.push({type:"L",values:[i+o*ol(_x51),s+o*nl(_x51)]}),p.push({type:"A",values:[o,o,0,0,1,i+o*ol(_b2),s+o*nl(_b2)]});}p.push({type:"Z",values:[]}),p.push({type:"M",values:[i,s-n]}),p.push({type:"A",values:[n,n,0,0,0,i,s+n]}),p.push({type:"A",values:[n,n,0,0,0,i,s-n]});for(var _i266=0,_p5=p;_i266<_p5.length;_i266++){var _t344=_p5[_i266];_t344.values=_t344.values.map(function(t){return J(t,e);});}return p;},yl=function yl(t,e){var _t$values9=_slicedToArray(t.values,7),i=_t$values9[0],s=_t$values9[1],n=_t$values9[2],o=_t$values9[3],l=_t$values9[4],a=_t$values9[5],h=_t$values9[6];a>n&&(a=n),h<0?h=0:h>a&&(h=a);var r=[{type:"M",values:[i,s+o/2-l/2]},{type:"H",values:[i+n-a+h]},{type:"L",values:[i+n-a,s]},{type:"L",values:[i+n,s+o/2]},{type:"L",values:[i+n-a,s+o]},{type:"L",values:[i+n-a+h,s+o/2+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o/2-l/2]},{type:"Z",values:[]}];for(var _i267=0,_r20=r;_i267<_r20.length;_i267++){var _t345=_r20[_i267];_t345.values=_t345.values.map(function(t){return J(t,e);});}return r;},kl=function kl(t,e){var _t$values10=_slicedToArray(t.values,7),i=_t$values10[0],s=_t$values10[1],n=_t$values10[2],o=_t$values10[3],l=_t$values10[4],a=_t$values10[5],h=_t$values10[6],r=[{type:"M",values:[i+n/2-a/2,s]},{type:"H",values:[i+n/2+a/2]},{type:"V",values:[s+o*h-l/2]},{type:"H",values:[i+n]},{type:"V",values:[s+o*h+l/2]},{type:"H",values:[i+n/2+a/2]},{type:"V",values:[s+o]},{type:"H",values:[i+n/2-a/2]},{type:"V",values:[s+o*h+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o*h-l/2]},{type:"H",values:[i+n/2-a/2]},{type:"Z",values:[]}];for(var _i268=0,_r21=r;_i268<_r21.length;_i268++){var _t346=_r21[_i268];_t346.values=_t346.values.map(function(t){return J(t,e);});}return r;},Sl=function Sl(t,e){var _t$values11=_slicedToArray(t.values,6),i=_t$values11[0],s=_t$values11[1],n=_t$values11[2],o=_t$values11[3],l=_t$values11[4],a=_t$values11[5],h=30;l<0&&(l=0),a<l+1&&(a=l+1),a-l<h&&(h=a-l),n>=o&&(n=o-.01);var r=n,d=(o-n)/(a/360)/Math.PI/2,c=l*Math.PI/180,p=c,u=a*Math.PI/180,x=h*Math.PI/180,b=r+d*c,m=r+d*p,g=[],f={x:i+m*Math.cos(p),y:s+m*Math.sin(p)},w=(d*Math.sin(c)+(r+d*p)*Math.cos(c))/(d*Math.cos(c)-(r+d*p)*Math.sin(c)),v=w;g.push({type:"M",values:[f.x,f.y]});do{c+x+x>u&&(x=u-p),c=p,p+=x,b=m,m=r+d*p,f.x=i+m*Math.cos(p),f.y=s+m*Math.sin(p);var _t347=r+d*p;w=v,v=(d*Math.sin(p)+_t347*Math.cos(p))/(d*Math.cos(p)-_t347*Math.sin(p));var _e274=-(w*b*Math.cos(c)-b*Math.sin(c)),_n98=(-(v*m*Math.cos(p)-m*Math.sin(p))-_e274)/(w-v),_o68={x:_n98,y:w*_n98+_e274};_o68.x+=i,_o68.y+=s,g.push({type:"Q",values:[_o68.x,_o68.y,f.x,f.y]});}while(c+x<u);{var _t348=new DOMMatrix().translateSelf(i,s).rotateSelf(-90).translateSelf(-i,-s);for(var _i269=0,_g2=g;_i269<_g2.length;_i269++){var _e275=_g2[_i269];if("M"===_e275.type){var _e275$values=_slicedToArray(_e275.values,2),_i270=_e275$values[0],_s170=_e275$values[1],_n99=new DOMPoint(_i270,_s170).matrixTransform(_t348);_e275.values=[_n99.x,_n99.y];}else if("Q"===_e275.type){var _e275$values2=_slicedToArray(_e275.values,4),_i271=_e275$values2[0],_s171=_e275$values2[1],_n100=_e275$values2[2],_o69=_e275$values2[3],_l57=new DOMPoint(_i271,_s171).matrixTransform(_t348),_a41=new DOMPoint(_n100,_o69).matrixTransform(_t348);_e275.values=[_l57.x,_l57.y,_a41.x,_a41.y];}}}for(var _i272=0,_g3=g;_i272<_g3.length;_i272++){var _t349=_g3[_i272];_t349.values=_t349.values.map(function(t){return J(t,e);});}return g;},Cl=function Cl(t,e,i,s,n,o){var l=2*al*(t/o)-al/2,a=s*ol(l)+e,h=n*nl(l)+i;return new DOMPoint(a,h);},_l=function _l(t,e,i,s,n,o,l){var a,h=al*(t/l)-al/2;return a=t%2==0?new DOMPoint(s*ol(h)+e,n*nl(h)+i):new DOMPoint(o*s*ol(h)+e,o*n*nl(h)+i),a;},Ml=function Ml(t,e,i,s,n,o,l){var a={};{var _h31=ti(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o+l,e+s/2-n/2+100),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));a.minBaseThickness=1,a.maxBaseThickness=2*(e+s/2-_h31.y),a.maxBaseThickness=tt(a.maxBaseThickness,1,s);}{var _h32=ti(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i-o,e+100));a.minHeadThickness=2*(e+s/2-_h32.y),a.maxHeadThickness=Infinity;}{var _h33=new Q(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e)),_r22=ti(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i+_h33.x,e+s/2+_h33.y),new DOMPoint(0,e+s/2-s/2),new DOMPoint(100,e+s/2-s/2));a.minHeadLength=_r22?t+i-_r22.x:0,a.maxHeadLength=i,a.minHeadLength<1&&(a.minHeadLength=1);}{var _l58=ti(new DOMPoint(0,e+s/2-n/2),new DOMPoint(100,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));a.minHeadInset=0,a.maxHeadInset=_l58.x-(t+i-o);}return a;},Pl=function Pl(t,e,i,s,n,o,l){var a={minHorizontalArmThickness:1};return a.maxHorizontalArmThickness=Math.min(s*l*2,2*(s-s*l)),a.minShift=n/2/s,a.maxShift=(s-n/2)/s,a;},Dl=function Dl(t,e,i,s,n,o){var l,a;n<0&&(n=0),o<n+1&&(o=n+1),i>=s&&(i=s-.01);{var _a42=(s-i)/(o/360),_h34=n*Math.PI/180,_r23=i+_a42/Math.PI/2*_h34,_d8=new DOMMatrix().translateSelf(t,e).rotateSelf(-90).translateSelf(-t,-e);l=new DOMPoint(t+_r23*Math.cos(_h34),e+_r23*Math.sin(_h34)),l=l.matrixTransform(_d8);}{var _i273=new DOMMatrix().translateSelf(t,e).rotateSelf(o).translateSelf(-t,-e);a=new DOMPoint(t,e-s).matrixTransform(_i273);}return[l,a];};var zl={basis:1,"catmull-rom":1,spiro:1};var Ol=function Ol(t){var e=null;if(t.hasAttribute("data-bx-spline")){var _i274=t.getAttribute("data-bx-spline").trim().split(/[\s+,]+/);if(_i274.length>=3){var _t350=_i274[0];if((_i274[_i274.length-1].includes("@")?_i274[_i274.length-1]:null)&&"basis"===_t350){var _s172=_i274.slice(1,_i274.length-1),_n101=[],_o70=[],_l59=!1;for(var _t351=0;_t351<_s172.length;_t351+=1){var _e276=_s172[_t351];if("K"===_e276)for(;"P"!==_s172[_t351+1]&&"Z"!==_s172[_t351+1];){_t351+=1,_o70.push(parseFloat(_s172[_t351]));}else"P"===_e276?(_n101.push([parseFloat(_s172[_t351+1]),parseFloat(_s172[_t351+2])]),_t351+=2):"Z"===_e276&&(_l59=!0);}e={type:_t350,knots:_o70,controlPoints:_n101,closed:_l59};}}}return e;},El=function El(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9;var s=Al(e,i);if(s){t.setPathData(s);var _n102=t.getAttribute("d"),_o71="".concat(e.type);if("basis"===e.type){if(e.knots&&e.knots.length>0){_o71+=" "+("K "+e.knots.map(function(t){return J(t,i);}).join(" "));}if(e.controlPoints&&e.controlPoints.length>0){_o71+=" "+e.controlPoints.map(function(_ref57){var _ref58=_slicedToArray(_ref57,2),t=_ref58[0],e=_ref58[1];return[J(t,i),J(e,i)];}).map(function(_ref59){var _ref60=_slicedToArray(_ref59,2),t=_ref60[0],e=_ref60[1];return"P ".concat(t," ").concat(e);}).join(" ");}e.closed&&(_o71+=" Z");}else"catmull-rom"===e.type||e.type;_o71+=" "+zl[e.type],_o71+="@"+sl("".concat(_n102," / ").concat(_o71)).toString(32),t.setAttribute("data-bx-spline",_o71);}},Tl=function Tl(t){var e=!1;if(t.hasAttribute("data-bx-spline")){var _i275=t.getAttribute("d"),_s173=t.getAttribute("data-bx-spline").trim().split(/[\s+,]+/);if(_s173.length>=3){var _t352=_s173[0],_n103=_s173.slice(1,_s173.length-1),_o72=_s173[_s173.length-1];if(_o72.includes("@")){var _o72$split=_o72.split("@"),_o72$split2=_slicedToArray(_o72$split,2),_s174=_o72$split2[0],_l60=_o72$split2[1];_l60===sl("".concat(_i275," / ").concat(_t352," ").concat(_n103.join(" ")," ").concat(_s174)).toString(32)&&(e=!0);}}}return e;},Al=function Al(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;if("basis"===t.type){i=$l(t.controlPoints,t.knots,2,!0,!0);var _iterator175=_createForOfIteratorHelper(i),_step175;try{for(_iterator175.s();!(_step175=_iterator175.n()).done;){var _t353=_step175.value;_t353.values=_t353.values.map(function(t){return J(t,e);});}}catch(err){_iterator175.e(err);}finally{_iterator175.f();}}else"catmull-rom"===t.type||t.type;return i;},$l=function $l(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:!0;var o=i+1,l=null,a=[];{var _o73=t.length+i+1;if(null===e||e.length!==_o73){e=[];for(var _t354=0;_t354<_o73;_t354+=1){e.push(_t354/(_o73-1));}}else e=_toConsumableArray(e);if(s)for(var _t355=0;_t355<i+1;_t355+=1){e[_t355]=0;}if(n)for(var _t356=_o73-3;_t356<_o73;_t356+=1){e[_t356]=1;}}{var _i276=[],_s175=o;for(;_s175<e.length-o;){var _t357=e[_s175],_n104=Ll(e,_s175);for(var _e277=0;_e277<o-_n104-1;++_e277){_i276.push(_t357);}_s175+=_n104;}l=_i276.reduce(function(t,e){return Il(o,t.controlPoints,t.knots,e);},{controlPoints:t,knots:e});}{var _t358=0,_e278=o;for(;_e278<l.knots.length-o+1;){var _i277=Ll(l.knots,_e278),_s176=l.controlPoints.slice(_t358,_t358+o);_e278===o&&a.push({type:"M",values:[_s176[0][0],_s176[0][1]]}),4===o?a.push({type:"C",values:[_s176[1][0],_s176[1][1],_s176[2][0],_s176[2][1],_s176[3][0],_s176[3][1]]}):3===o&&a.push({type:"Q",values:[_s176[1][0],_s176[1][1],_s176[2][0],_s176[2][1]]}),_t358+=_i277,_e278+=_i277;}}return a;},Il=function Il(t,e,i,s){var n=e.length,o=null,l=[],a=[];for(var _e279=0;_e279<n+t;_e279++){if(s>i[_e279]&&s<=i[_e279+1]){o=_e279;break;}}if(null===o)throw new Error("Invalid newKnot");for(var _e280=0;_e280<n+t+1;_e280++){l[_e280]=_e280<=o?i[_e280]:_e280===o+1?s:i[_e280-1];}{var _l61;for(var _h35=0;_h35<n+1;_h35++){_l61=_h35<=o-t+1?1:o-t+2<=_h35&&_h35<=o?i[_h35+t-1]-i[_h35]==0?0:(s-i[_h35])/(i[_h35+t-1]-i[_h35]):0,a[_h35]=0===_l61?e[_h35-1]:1===_l61?e[_h35]:[(1-_l61)*e[_h35-1][0]+_l61*e[_h35][0],(1-_l61)*e[_h35-1][1]+_l61*e[_h35][1]];}}return{controlPoints:a,knots:l};},Ll=function Ll(t,e){var i=1;for(var _s177=e+1;_s177<t.length&&t[_s177]===t[e];++_s177){++i;}return i;},Bl=Math.abs,Rl=Math.sqrt,Gl=Math.asin,Ul=Math.sin,Fl=Math.cos,Nl=Math.tan,jl=Math.atan2;var Vl=function Vl(t){var e={},i=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];if(0==i[3][3])return null;for(var _t359=0;_t359<4;_t359++){for(var _e281=0;_e281<4;_e281++){i[_t359][_e281]/=i[3][3];}}var s=[];for(var _t360=0;_t360<4;_t360++){s[_t360]=[];for(var _e282=0;_e282<4;_e282++){s[_t360][_e282]=i[_t360][_e282];}}for(var _t361=0;_t361<3;_t361++){s[_t361][3]=0;}if(s[3][3]=1,0==Yl(s))return null;if(0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){var _t362=[0,0,0,0];_t362[0]=i[0][3],_t362[1]=i[1][3],_t362[2]=i[2][3],_t362[3]=i[3][3];var _n105=ql(s),_o74=Xl(_n105),_l62=Zl(_t362,_o74);e.perspectiveX=_l62[0],e.perspectiveY=_l62[1],e.perspectiveZ=_l62[2],e.perspectiveW=_l62[3],i[0][3]=i[1][3]=i[2][3]=0,i[3][3]=1;}else e.perspectiveX=0,e.perspectiveY=0,e.perspectiveZ=0,e.perspectiveW=1;e.translateX=i[3][0],i[3][0]=0,e.translateY=i[3][1],i[3][1]=0,e.translateZ=i[3][2],i[3][2]=0;var n=[[],[],[]],o=[0,0,0];for(var _t363=0;_t363<3;_t363++){n[_t363][0]=i[_t363][0],n[_t363][1]=i[_t363][1],n[_t363][2]=i[_t363][2];}if(e.scaleX=Kl(n[0]),Ql(n[0],1),e.skewXY=Jl(n[0],n[1]),ta(n[1],n[0],n[1],1,-e.skewXY),e.scaleY=Kl(n[1]),Ql(n[1],1),e.skewXY/=e.scaleY,e.skewXZ=Jl(n[0],n[2]),ta(n[2],n[0],n[2],1,-e.skewXZ),e.skewYZ=Jl(n[1],n[2]),ta(n[2],n[1],n[2],1,-e.skewYZ),e.scaleZ=Kl(n[2]),Ql(n[2],1),e.skewXZ/=e.scaleZ,e.skewYZ/=e.scaleZ,ea(n[1],n[2],o),Jl(n[0],o)<0){e.scaleX*=-1,e.scaleY*=-1,e.scaleZ*=-1;for(var _t364=0;_t364<3;_t364++){n[_t364][0]*=-1,n[_t364][1]*=-1,n[_t364][2]*=-1;}}var l=0,a=Gl(-n[0][2]),h=0;return 0!==Fl(a)?(l=jl(n[1][2],n[2][2]),h=jl(n[0][1],n[0][0])):l=jl(-n[2][0],n[1][1]),e.rotateX=Fe(l),e.rotateY=Fe(a),e.rotateZ=Fe(h),e;},Hl=function Hl(t,e,i,s){return t*s-e*i;},Wl=function Wl(t,e,i,s,n,o,l,a,h){return t*Hl(n,o,a,h)-s*Hl(e,i,a,h)+l*Hl(e,i,n,o);},Yl=function Yl(t){var e=t[0][0],i=t[0][1],s=t[0][2],n=t[0][3],o=t[1][0],l=t[1][1],a=t[1][2],h=t[1][3],r=t[2][0],d=t[2][1],c=t[2][2],p=t[2][3],u=t[3][0],x=t[3][1],b=t[3][2],m=t[3][3];return e*Wl(l,d,x,a,c,b,h,p,m)-i*Wl(o,r,u,a,c,b,h,p,m)+s*Wl(o,r,u,l,d,x,h,p,m)-n*Wl(o,r,u,l,d,x,a,c,b);},ql=function ql(t){var e=function(t){var e=[[],[],[],[]],i=t[0][0],s=t[0][1],n=t[0][2],o=t[0][3],l=t[1][0],a=t[1][1],h=t[1][2],r=t[1][3],d=t[2][0],c=t[2][1],p=t[2][2],u=t[2][3],x=t[3][0],b=t[3][1],m=t[3][2],g=t[3][3];e[0][0]=Wl(a,c,b,h,p,m,r,u,g),e[1][0]=-Wl(l,d,x,h,p,m,r,u,g),e[2][0]=Wl(l,d,x,a,c,b,r,u,g),e[3][0]=-Wl(l,d,x,a,c,b,h,p,m),e[0][1]=-Wl(s,c,b,n,p,m,o,u,g),e[1][1]=Wl(i,d,x,n,p,m,o,u,g),e[2][1]=-Wl(i,d,x,s,c,b,o,u,g),e[3][1]=Wl(i,d,x,s,c,b,n,p,m),e[0][2]=Wl(s,a,b,n,h,m,o,r,g),e[1][2]=-Wl(i,l,x,n,h,m,o,r,g),e[2][2]=Wl(i,l,x,s,a,b,o,r,g),e[3][2]=-Wl(i,l,x,s,a,b,n,h,m),e[0][3]=-Wl(s,a,c,n,h,p,o,r,u),e[1][3]=Wl(i,l,d,n,h,p,o,r,u),e[2][3]=-Wl(i,l,d,s,a,c,o,r,u),e[3][3]=Wl(i,l,d,s,a,c,n,h,p);}(t),i=Yl(t);if(Bl(i)<1e-8)return!1;for(var _t365=0;_t365<4;_t365++){for(var _s178=0;_s178<4;_s178++){e[_t365][_s178]=e[_t365][_s178]/i;}}return e;},Xl=function Xl(t){var e=[[],[],[],[]];for(var _i278=0;_i278<4;_i278++){for(var _s179=0;_s179<4;_s179++){e[_i278][_s179]=t[_s179][_i278];}}return e;},Zl=function Zl(t,e){var i=[];return i[0]=t[0]*e[0][0]+t[1]*e[1][0]+t[2]*e[2][0]+t[3]*e[3][0],i[1]=t[0]*e[0][1]+t[1]*e[1][1]+t[2]*e[2][1]+t[3]*e[3][1],i[2]=t[0]*e[0][2]+t[1]*e[1][2]+t[2]*e[2][2]+t[3]*e[3][2],i[3]=t[0]*e[0][3]+t[1]*e[1][3]+t[2]*e[2][3]+t[3]*e[3][3],i;},Kl=function Kl(t){return Rl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);},Ql=function Ql(t,e){var i=Kl(t);if(0!=i){var _s180=e/i;t[0]*=_s180,t[1]*=_s180,t[2]*=_s180;}},Jl=function Jl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];},ta=function ta(t,e,i,s,n){i[0]=s*t[0]+n*e[0],i[1]=s*t[1]+n*e[1],i[2]=s*t[2]+n*e[2];},ea=function ea(t,e,i){i[0]=t[1]*e[2]-t[2]*e[1],i[1]=t[2]*e[0]-t[0]*e[2],i[2]=t[0]*e[1]-t[1]*e[0];},ia=Math.abs,sa=Math.min,na=Math.max,oa=Number.parseFloat;var _SVGUnitTypes2=SVGUnitTypes,la=_SVGUnitTypes2.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,aa=_SVGUnitTypes2.SVG_UNIT_TYPE_USERSPACEONUSE;var ha=Symbol(),ra=Symbol(),da=Symbol(),ca=Symbol(),pa=Symbol(),ua=Symbol(),xa=Symbol(),ba=Symbol(),ma=Symbol(),ga=Symbol(),fa=Symbol(),wa=Symbol(),va=function va(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!1===t.hasAttribute("transform"))return;void 0===e.geometryPrecision&&(e.geometryPrecision=3),void 0===e.transformPrecision&&(e.transformPrecision=3),void 0===e.preserveStrokeWidth&&(e.preserveStrokeWidth=!0),void 0===e.preserveRectRadii&&(e.preserveRectRadii=!0),void 0===e.preserveRotation&&(e.preserveRotation=!0),void 0===e.transformDirection&&(e.transformDirection="bottom-right");var i=t.localName;if("g"===i)ya(t,e);else if("a"===i)ka(t,e);else if("rect"===i)Sa(t,e);else if("circle"===i)Ca(t,e);else if("ellipse"===i)_a(t,e);else if("text"===i)ja(t,e);else if("image"===i)Na(t,e);else if("line"===i)Ma(t,e);else if("polyline"===i)Pa(t,e);else if("polygon"===i)Pa(t,e);else if("use"===i)Da(t,e);else if("path"===i)if(t.hasAttribute("data-bx-shape")){var _rl=rl(t),_i279=_rl.type;"rect"===_i279?Ta(t,e):"ring"===_i279?Ia(t,e):"pie"===_i279?La(t,e):"crescent"===_i279?Oa(t,e):"triangle"===_i279?Ea(t,e):"n-gon"===_i279?Aa(t,e):"star"===_i279?$a(t,e):"cog"===_i279?Ba(t,e):"arrow"===_i279?Ra(t,e):"cross"===_i279?Ga(t,e):"spiral"===_i279?Fa(t,e):za(t,e);}else if(t.hasAttribute("data-bx-spline")){var _Ol=Ol(t),_i280=_Ol.type;"basis"===_i280?Ua(t,e):"catmull-rom"===_i280||"spiro"===_i280||za(t,e);}else za(t,e);},ya=function ya(t,_ref61){var e=_ref61.transformPrecision;var i=Ft(Ht(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},ka=function ka(t,_ref62){var e=_ref62.transformPrecision;var i=Ft(Ht(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},Sa=function Sa(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Vl=Vl(i),_l63=_Vl.scaleX,_a43=_Vl.scaleY,_h36=t.x.baseVal.value,_r24=t.y.baseVal.value,_d9=t.width.baseVal.value,_c5=t.height.baseVal.value,_p6=t.rx.baseVal.value,_u5=t.ry.baseVal.value,_x52=new DOMPoint(_h36,_r24).matrixTransform(i),_b3=new DOMPoint(_h36+_d9,_r24).matrixTransform(i),_m3=new DOMPoint(_h36,_r24+_c5).matrixTransform(i);_h36*=_l63,_r24*=_a43,_d9*=ia(_l63),_c5*=ia(_a43),!1===o&&(_p6*=ia(_l63),_u5*=ia(_a43));var _g4=new DOMPoint(_h36,_r24),_f2=new DOMPoint(_h36+_d9,_r24),_w2=new DOMPoint(_h36,_r24+_c5),_v=qt(_g4,_f2,_w2,_x52,_b3,_m3);_v=Ft(_v,n),1===ia(_v.a)&&0===_v.b&&0===_v.c&&1===ia(_v.d)&&(_h36=1===_v.a?_h36+_v.e:_h36-_v.e,_r24=1===_v.d?_r24+_v.f:_r24-_v.f,_v.e=0,_v.f=0),Va(t);for(var _i281=0,_arr14=[["x",_h36],["y",_r24],["width",_d9],["height",_c5],["rx",_p6],["ry",_u5]];_i281<_arr14.length;_i281++){var _arr14$_i=_slicedToArray(_arr14[_i281],2),_e283=_arr14$_i[0],_i282=_arr14$_i[1];_i282=J(_i282,s),0===_i282?t.removeAttribute(_e283):t.setAttribute(_e283,_i282);}_v.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n).toString());},Ca=function Ca(t,e){var i=Ht(t),_Vl2=Vl(i),s=_Vl2.scaleX,n=_Vl2.scaleY,o=e.geometryPrecision,l=e.transformPrecision,a=e.preserveRotation;if(i.is2D&&J(s,o)===J(n,o)){if(!1===a){var _s181=new DOMPoint(t.cx.baseVal.value,t.cy.baseVal.value),_n106=new DOMPoint(t.cx.baseVal.value+t.r.baseVal.value,t.cy.baseVal.value),_l64=_s181.matrixTransform(i),_a44=_n106.matrixTransform(i),_h37=new Q(_l64,_a44).length;Va(t),t.setAttribute("cx",J(_l64.x,o)),t.setAttribute("cy",J(_l64.y,o)),t.setAttribute("r",J(_h37,o)),t.removeAttribute("transform"),Ha(t,e);}else{var _n107=s,_a45=t.cx.baseVal.value,_h38=t.cy.baseVal.value,_r25=t.r.baseVal.value,_d10=new DOMPoint(_a45,_h38).matrixTransform(i),_c6=new DOMPoint(_a45+_r25,_h38).matrixTransform(i),_p7=new DOMPoint(_a45,_h38+_r25).matrixTransform(i);_r25*=ia(_n107);var _u6=new DOMPoint(_a45,_h38),_x53=new DOMPoint(_a45+_r25,_h38),_b4=new DOMPoint(_a45,_h38+_r25),_m4=qt(_u6,_x53,_b4,_d10,_c6,_p7);_m4=Ft(_m4,l),1===ia(_m4.a)&&0===_m4.b&&0===_m4.c&&1===ia(_m4.d)&&(0===_m4.e&&0===_m4.f||(_a45=1===_m4.a?_a45+_m4.e:_a45-_m4.e,_h38=1===_m4.d?_h38+_m4.f:_h38-_m4.f,_r25=new Q(new DOMPoint(_a45,_h38),new DOMPoint(_a45+_r25,_h38)).length,_m4.e=0,_m4.f=0)),Va(t),_m4.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_m4.toString());for(var _i283=0,_arr15=[["cx",_a45],["cy",_h38],["r",_r25]];_i283<_arr15.length;_i283++){var _arr15$_i=_slicedToArray(_arr15[_i283],2),_e284=_arr15$_i[0],_i284=_arr15$_i[1];_i284=J(_i284,o),0===_i284?t.removeAttribute(_e284):t.setAttribute(_e284,_i284);}Ha(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,l).toString());},_a=function _a(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Vl3=Vl(i),_o75=_Vl3.scaleX,_l65=_Vl3.scaleY,_a46=t.cx.baseVal.value,_h39=t.cy.baseVal.value,_r26=t.rx.baseVal.value,_d11=t.ry.baseVal.value,_c7=new DOMPoint(_a46,_h39).matrixTransform(i),_p8=new DOMPoint(_a46+_r26,_h39).matrixTransform(i),_u7=new DOMPoint(_a46,_h39+_d11).matrixTransform(i);_r26*=ia(_o75),_d11*=ia(_l65);var _x54=new DOMPoint(_a46,_h39),_b5=new DOMPoint(_a46+_r26,_h39),_m5=new DOMPoint(_a46,_h39+_d11),_g5=qt(_x54,_b5,_m5,_c7,_p8,_u7);_g5=Ft(_g5,n),1===ia(_g5.a)&&0===_g5.b&&0===_g5.c&&1===ia(_g5.d)&&(0===_g5.e&&0===_g5.f||(_a46=1===_g5.a?_a46+_g5.e:_a46-_g5.e,_h39=1===_g5.d?_h39+_g5.f:_h39-_g5.f,_r26=new Q(new DOMPoint(_a46,_h39),new DOMPoint(_a46+_r26,_h39)).length,_d11=new Q(new DOMPoint(_a46,_h39),new DOMPoint(_a46,_h39+_d11)).length,_g5.e=0,_g5.f=0)),Va(t),_g5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g5.toString());for(var _i285=0,_arr16=[["cx",_a46],["cy",_h39],["rx",_r26],["ry",_d11]];_i285<_arr16.length;_i285++){var _arr16$_i=_slicedToArray(_arr16[_i285],2),_e285=_arr16$_i[0],_i286=_arr16$_i[1];_i286=J(_i286,s),0===_i286?t.removeAttribute(_e285):t.setAttribute(_e285,_i286);}Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Ma=function Ma(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i287=se(t);Va(t),ne(t,se(t.parentElement));var _o76=Ht(t),_l66=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_a47=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_h40=_l66.matrixTransform(_o76),_r27=_a47.matrixTransform(_o76);t.setAttribute("x1",J(_h40.x,s)),t.setAttribute("y1",J(_h40.y,s)),t.setAttribute("x2",J(_r27.x,s)),t.setAttribute("y2",J(_r27.y,s)),t.removeAttribute("transform"),ne(t,_i287,n),Ha(t,e);}else{var _i288=ee(t),_n108=Ht(t),_o77=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_l67=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_a48=_o77.matrixTransform(_n108),_h41=_l67.matrixTransform(_n108);if(Va(t),t.setAttribute("x1",J(_a48.x,s)),t.setAttribute("y1",J(_a48.y,s)),t.setAttribute("x2",J(_h41.x,s)),t.setAttribute("y2",J(_h41.y,s)),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e286=Oi(t),_n109=Yt(t).inverse(),_o78=_i288.matrixTransform(_n109),_l68=de(_o78,_e286),_a49=J(_l68.x,s),_h42=J(_l68.y,s);t.setAttribute("data-bx-origin","".concat(_a49," ").concat(_h42));}Ha(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Pa=function Pa(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i289=se(t);Va(t),ne(t,se(t.parentElement));var _o79=Ht(t),_l69=[];var _iterator176=_createForOfIteratorHelper(t.points),_step176;try{for(_iterator176.s();!(_step176=_iterator176.n()).done;){var _e287=_step176.value;var _DOMPoint$fromPoint$m=DOMPoint.fromPoint(_e287).matrixTransform(_o79),_t366=_DOMPoint$fromPoint$m.x,_i290=_DOMPoint$fromPoint$m.y;_l69.push(J(_t366,s),J(_i290,s));}}catch(err){_iterator176.e(err);}finally{_iterator176.f();}t.setAttribute("points",_l69.join(" ")),t.removeAttribute("transform"),ne(t,_i289,n),Ha(t,e);}else{var _n110=ee(t),_o80=[];var _iterator177=_createForOfIteratorHelper(t.points),_step177;try{for(_iterator177.s();!(_step177=_iterator177.n()).done;){var _e289=_step177.value;var _DOMPoint$fromPoint$m2=DOMPoint.fromPoint(_e289).matrixTransform(i),_t367=_DOMPoint$fromPoint$m2.x,_n111=_DOMPoint$fromPoint$m2.y;_o80.push(J(_t367,s),J(_n111,s));}}catch(err){_iterator177.e(err);}finally{_iterator177.f();}if(Va(t),t.setAttribute("points",_o80.join(" ")),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e288=Oi(t),_i291=Yt(t).inverse(),_o81=_n110.matrixTransform(_i291),_l70=de(_o81,_e288),_a50=J(_l70.x,s),_h43=J(_l70.y,s);t.setAttribute("data-bx-origin","".concat(_a50," ").concat(_h43));}Ha(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Da=function Da(t,e){var i=e.transformPrecision;if(t.hasAttribute("transform")){var _e290=Ht(t);_e290=Ft(_e290,i),_e290.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e290.toString());}},za=function za(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i292=se(t);Va(t),ne(t,se(t.parentElement));var _o82=Ht(t),_l71=t.getPathData(),_a51=oe(_l71,_o82,s);t.setPathData(_a51),t.removeAttribute("transform"),ne(t,_i292,n),Ha(t,e);}else{var _n112=ee(t),_o83=t.getPathData(),_l72=oe(_o83,i,s);if(Va(t),t.setPathData(_l72),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e291=Oi(t),_i293=Yt(t).inverse(),_o84=_n112.matrixTransform(_i293),_l73=de(_o84,_e291),_a52=J(_l73.x,s),_h44=J(_l73.y,s);t.setAttribute("data-bx-origin","".concat(_a52," ").concat(_h44));}Ha(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Oa=function Oa(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Vl4=Vl(i),_o85=_Vl4.scaleX,_l74=_Vl4.scaleY;if(_o85===_l74){var _rl$values=_slicedToArray(rl(t).values,5),_l75=_rl$values[0],_a53=_rl$values[1],_h45=_rl$values[2],_r28=_rl$values[3],_d12=_rl$values[4],_c8=new DOMPoint(_l75,_a53).matrixTransform(i),_p9=new DOMPoint(_l75+_h45,_a53).matrixTransform(i),_u8=new DOMPoint(_l75,_a53+_h45).matrixTransform(i);_h45*=ia(_o85);var _x55=new DOMPoint(_l75,_a53),_b6=new DOMPoint(_l75+_h45,_a53),_m6=new DOMPoint(_l75,_a53+_h45),_g6=qt(_x55,_b6,_m6,_c8,_p9,_u8);_g6=Ft(_g6,n),1===ia(_g6.a)&&0===_g6.b&&0===_g6.c&&1===ia(_g6.d)&&(0===_g6.e&&0===_g6.f||(_l75=1===_g6.a?_l75+_g6.e:_l75-_g6.e,_a53=1===_g6.d?_a53+_g6.f:_a53-_g6.f,_g6.e=0,_g6.f=0));var _f3=[_l75,_a53,_h45,_r28,_d12];_f3=_f3.map(function(t){return J(t,s);}),Va(t),dl(t,{type:"crescent",values:_f3},s),_g6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g6.toString()),Ha(t,e);}else t.setAttribute("transform",Ft(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Ea=function Ea(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Vl5=Vl(i),_o86=_Vl5.scaleX,_l76=_Vl5.scaleY,_rl$values2=_slicedToArray(rl(t).values,6),_a54=_rl$values2[0],_h46=_rl$values2[1],_r29=_rl$values2[2],_d13=_rl$values2[3],_c9=_rl$values2[4],_p10=_rl$values2[5],_u9=new DOMPoint(_a54,_h46).matrixTransform(i),_x56=new DOMPoint(_a54+_r29,_h46).matrixTransform(i),_b7=new DOMPoint(_a54,_h46+_d13).matrixTransform(i);_a54*=_o86,_h46*=_l76,_r29*=ia(_o86),_d13*=ia(_l76);var _m7=new DOMPoint(_a54,_h46),_g7=new DOMPoint(_a54+_r29,_h46),_f4=new DOMPoint(_a54,_h46+_d13),_w3=qt(_m7,_g7,_f4,_u9,_x56,_b7);_w3=Ft(_w3,n),1===ia(_w3.a)&&0===_w3.b&&0===_w3.c&&1===ia(_w3.d)&&(0===_w3.e&&0===_w3.f||(_a54=1===_w3.a?_a54+_w3.e:_a54-_w3.e,_h46=1===_w3.d?_h46+_w3.f:_h46-_w3.f,_w3.e=0,_w3.f=0));var _v2={type:"triangle",values:[_a54,_h46,_r29,_d13,_c9,_p10].map(function(t){return J(t,s);})};Va(t),dl(t,_v2,s),_w3.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w3.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Ta=function Ta(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Vl6=Vl(i),_l77=_Vl6.scaleX,_a55=_Vl6.scaleY,_rl$values3=_slicedToArray(rl(t).values,12),_h47=_rl$values3[0],_r30=_rl$values3[1],_d14=_rl$values3[2],_c10=_rl$values3[3],_p11=_rl$values3[4],_u10=_rl$values3[5],_x57=_rl$values3[6],_b8=_rl$values3[7],_m8=_rl$values3[8],_g8=_rl$values3[9],_f5=_rl$values3[10],_w4=_rl$values3[11],_v3=new DOMPoint(_h47,_r30).matrixTransform(i),_y=new DOMPoint(_h47+_d14,_r30).matrixTransform(i),_k=new DOMPoint(_h47,_r30+_c10).matrixTransform(i);void 0===_m8&&(_m8=_p11),void 0===_g8&&(_g8=_u10),void 0===_f5&&(_f5=_x57),void 0===_w4&&(_w4=_b8),_h47*=_l77,_r30*=_a55,_d14*=ia(_l77),_c10*=ia(_a55),!1===o&&(_p11*=ia(_l77),_u10*=ia(_l77),_x57*=ia(_l77),_b8*=ia(_l77),_m8*=ia(_a55),_g8*=ia(_a55),_f5*=ia(_a55),_w4*=ia(_a55));var _S,_C=new DOMPoint(_h47,_r30),_2=new DOMPoint(_h47+_d14,_r30),_M=new DOMPoint(_h47,_r30+_c10),_P=qt(_C,_2,_M,_v3,_y,_k);_P=Ft(_P,n),1===ia(_P.a)&&0===_P.b&&0===_P.c&&1===ia(_P.d)&&(0===_P.e&&0===_P.f||(_h47=1===_P.a?_h47+_P.e:_h47-_P.e,_r30=1===_P.d?_r30+_P.f:_r30-_P.f,_P.e=0,_P.f=0)),_S=_p11===_m8&&_u10===_g8&&_x57===_f5&&_b8===_w4?[_h47,_r30,_d14,_c10,_p11,_u10,_x57,_b8]:[_h47,_r30,_d14,_c10,_p11,_u10,_x57,_b8,_m8,_g8,_f5,_w4],_S=_S.map(function(t){return J(t,s);}),Va(t),dl(t,{type:"rect",values:_S},s),_P.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_P.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Aa=function Aa(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Vl7=Vl(i),_o87=_Vl7.scaleX,_l78=_Vl7.scaleY,_rl$values4=_slicedToArray(rl(t).values,6),_a56=_rl$values4[0],_h48=_rl$values4[1],_r31=_rl$values4[2],_d15=_rl$values4[3],_c11=_rl$values4[4],_p12=_rl$values4[5],_u11=new DOMPoint(_a56,_h48).matrixTransform(i),_x58=new DOMPoint(_a56+_r31,_h48).matrixTransform(i),_b9=new DOMPoint(_a56,_h48+_d15).matrixTransform(i);_r31*=ia(_o87),_d15*=ia(_l78);var _m9=new DOMPoint(_a56,_h48),_g9=new DOMPoint(_a56+_r31,_h48),_f6=new DOMPoint(_a56,_h48+_d15),_w5=qt(_m9,_g9,_f6,_u11,_x58,_b9);_w5=Ft(_w5,n),1===ia(_w5.a)&&0===_w5.b&&0===_w5.c&&1===ia(_w5.d)&&(0===_w5.e&&0===_w5.f||(_a56=1===_w5.a?_a56+_w5.e:_a56-_w5.e,_h48=1===_w5.d?_h48+_w5.f:_h48-_w5.f,_w5.e=0,_w5.f=0));var _v4=[_a56,_h48,_r31,_d15,_c11,_p12];_v4=_v4.map(function(t){return J(t,s);}),Va(t),dl(t,{type:"n-gon",values:_v4},s),_w5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w5.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},$a=function $a(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Vl8=Vl(i),_o88=_Vl8.scaleX,_l79=_Vl8.scaleY,_rl$values5=_slicedToArray(rl(t).values,6),_a57=_rl$values5[0],_h49=_rl$values5[1],_r32=_rl$values5[2],_d16=_rl$values5[3],_c12=_rl$values5[4],_p13=_rl$values5[5],_u12=new DOMPoint(_a57,_h49).matrixTransform(i),_x59=new DOMPoint(_a57+_r32,_h49).matrixTransform(i),_b10=new DOMPoint(_a57,_h49+_d16).matrixTransform(i);_r32*=ia(_o88),_d16*=ia(_l79);var _m10=new DOMPoint(_a57,_h49),_g10=new DOMPoint(_a57+_r32,_h49),_f7=new DOMPoint(_a57,_h49+_d16),_w6=qt(_m10,_g10,_f7,_u12,_x59,_b10);_w6=Ft(_w6,n),1===ia(_w6.a)&&0===_w6.b&&0===_w6.c&&1===ia(_w6.d)&&(0===_w6.e&&0===_w6.f||(_a57=1===_w6.a?_a57+_w6.e:_a57-_w6.e,_h49=1===_w6.d?_h49+_w6.f:_h49-_w6.f,_w6.e=0,_w6.f=0));var _v5=[_a57,_h49,_r32,_d16,_c12,_p13].map(function(t){return J(t,s);});Va(t),dl(t,{type:"star",values:_v5},s),_w6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w6.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Ia=function Ia(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _rl$values6=_slicedToArray(rl(t).values,6),_o89=_rl$values6[0],_l80=_rl$values6[1],_a58=_rl$values6[2],_h50=_rl$values6[3],_r33=_rl$values6[4],_d17=_rl$values6[5],_Vl9=Vl(i),_c13=_Vl9.scaleX,_p14=_Vl9.scaleY,_u13=new DOMPoint(_o89,_l80).matrixTransform(i),_x60=new DOMPoint(_o89+_r33,_l80).matrixTransform(i),_b11=new DOMPoint(_o89,_l80+_d17).matrixTransform(i);_a58*=ia(_c13),_h50*=ia(_p14),_r33*=ia(_c13),_d17*=ia(_p14);var _m11=new DOMPoint(_o89,_l80),_g11=new DOMPoint(_o89+_r33,_l80),_f8=new DOMPoint(_o89,_l80+_d17),_w7=qt(_m11,_g11,_f8,_u13,_x60,_b11);_w7=Ft(_w7,n),1===ia(_w7.a)&&0===_w7.b&&0===_w7.c&&1===ia(_w7.d)&&(0===_w7.e&&0===_w7.f||(_o89=1===_w7.a?_o89+_w7.e:_o89-_w7.e,_l80=1===_w7.d?_l80+_w7.f:_l80-_w7.f,_w7.e=0,_w7.f=0));var _v6=[_o89,_l80,_a58,_h50,_r33,_d17].map(function(t){return J(t,s);});Va(t),dl(t,{type:"ring",values:_v6},s),_w7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w7.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},La=function La(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Ba=function Ba(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Ra=function Ra(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Vl10=Vl(i),_o90=_Vl10.scaleX,_l81=_Vl10.scaleY,_rl$values7=_slicedToArray(rl(t).values,7),_a59=_rl$values7[0],_h51=_rl$values7[1],_r34=_rl$values7[2],_d18=_rl$values7[3],_c14=_rl$values7[4],_p15=_rl$values7[5],_u14=_rl$values7[6],_x61=new DOMPoint(_a59,_h51).matrixTransform(i),_b12=new DOMPoint(_a59+_r34,_h51).matrixTransform(i),_m12=new DOMPoint(_a59,_h51+_d18).matrixTransform(i);_a59*=_o90,_h51*=_l81,_r34*=ia(_o90),_d18*=ia(_l81),_p15*=ia(_o90),_u14*=ia(_o90),_c14*=ia(_l81);var _g12=new DOMPoint(_a59,_h51),_f9=new DOMPoint(_a59+_r34,_h51),_w8=new DOMPoint(_a59,_h51+_d18),_v7=qt(_g12,_f9,_w8,_x61,_b12,_m12);_v7=Ft(_v7,n),1===ia(_v7.a)&&0===_v7.b&&0===_v7.c&&1===ia(_v7.d)&&(_a59=1===_v7.a?_a59+_v7.e:_a59-_v7.e,_h51=1===_v7.d?_h51+_v7.f:_h51-_v7.f,_v7.e=0,_v7.f=0),Va(t),dl(t,{type:"arrow",values:[_a59,_h51,_r34,_d18,_c14,_p15,_u14]},s),_v7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v7.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n).toString());},Ga=function Ga(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Vl11=Vl(i),_o91=_Vl11.scaleX,_l82=_Vl11.scaleY,_rl$values8=_slicedToArray(rl(t).values,7),_a60=_rl$values8[0],_h52=_rl$values8[1],_r35=_rl$values8[2],_d19=_rl$values8[3],_c15=_rl$values8[4],_p16=_rl$values8[5],_u15=_rl$values8[6],_x62=new DOMPoint(_a60,_h52).matrixTransform(i),_b13=new DOMPoint(_a60+_r35,_h52).matrixTransform(i),_m13=new DOMPoint(_a60,_h52+_d19).matrixTransform(i);_a60*=_o91,_h52*=_l82,_r35*=ia(_o91),_d19*=ia(_l82),_c15*=ia(_l82),_p16*=ia(_o91);var _g13=new DOMPoint(_a60,_h52),_f10=new DOMPoint(_a60+_r35,_h52),_w9=new DOMPoint(_a60,_h52+_d19),_v8=qt(_g13,_f10,_w9,_x62,_b13,_m13);_v8=Ft(_v8,n),1===ia(_v8.a)&&0===_v8.b&&0===_v8.c&&1===ia(_v8.d)&&(_a60=1===_v8.a?_a60+_v8.e:_a60-_v8.e,_h52=1===_v8.d?_h52+_v8.f:_h52-_v8.f,_v8.e=0,_v8.f=0),Va(t),dl(t,{type:"cross",values:[_a60,_h52,_r35,_d19,_c15,_p16,_u15]},s),_v8.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v8.toString()),Ha(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n).toString());},Ua=function Ua(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i294=se(t);Va(t),ne(t,se(t.parentElement));var _o92=Ht(t),_l83=Ol(t);_l83.controlPoints=_l83.controlPoints.map(function(t){var _DOMPoint$matrixTrans=new DOMPoint(t[0],t[1]).matrixTransform(_o92),e=_DOMPoint$matrixTrans.x,i=_DOMPoint$matrixTrans.y;return[e,i];}),El(t,_l83,s),t.removeAttribute("transform"),ne(t,_i294,n),Ha(t,e);}else{var _n113=ee(t),_o93=rl(t);if(_o93.controlPoints=_o93.controlPoints.map(function(t){var _DOMPoint$matrixTrans2=new DOMPoint(t[0],t[1]).matrixTransform(i),e=_DOMPoint$matrixTrans2.x,s=_DOMPoint$matrixTrans2.y;return[e,s];}),Va(t),El(t,_o93,s),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e292=Oi(t),_i295=Yt(t).inverse(),_o94=_n113.matrixTransform(_i295),_l84=de(_o94,_e292),_a61=J(_l84.x,s),_h53=J(_l84.y,s);t.setAttribute("data-bx-origin","".concat(_a61," ").concat(_h53));}Ha(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Fa=function Fa(t,e){var i=Ht(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Vl12=Vl(i),_o95=_Vl12.scaleX,_l85=_Vl12.scaleY;if(_o95===_l85){var _rl$values9=_slicedToArray(rl(t).values,6),_l86=_rl$values9[0],_a62=_rl$values9[1],_h54=_rl$values9[2],_r36=_rl$values9[3],_d20=_rl$values9[4],_c16=_rl$values9[5],_p17=new DOMPoint(_l86,_a62).matrixTransform(i),_u16=new DOMPoint(_l86+_r36,_a62).matrixTransform(i),_x63=new DOMPoint(_l86,_a62+_r36).matrixTransform(i);_h54*=ia(_o95),_r36*=ia(_o95);var _b14=new DOMPoint(_l86,_a62),_m14=new DOMPoint(_l86+_r36,_a62),_g14=new DOMPoint(_l86,_a62+_r36),_f11=qt(_b14,_m14,_g14,_p17,_u16,_x63);_f11=Ft(_f11,n),1===ia(_f11.a)&&0===_f11.b&&0===_f11.c&&1===ia(_f11.d)&&(0===_f11.e&&0===_f11.f||(_l86=1===_f11.a?_l86+_f11.e:_l86-_f11.e,_a62=1===_f11.d?_a62+_f11.f:_a62-_f11.f,_f11.e=0,_f11.f=0));var _w10=[_l86,_a62,_h54,_r36,_d20,_c16];_w10=_w10.map(function(t){return J(t,s);}),Va(t),dl(t,{type:"spiral",values:_w10},s),_f11.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_f11.toString()),Ha(t,e);}else t.setAttribute("transform",Ft(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(i,n));},Na=function Na(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=Ht(t),_Vl13=Vl(n),o=_Vl13.scaleX,l=_Vl13.scaleY;if(!n.is2D||o!==l&&"none"!==t.getAttribute("preserveAspectRatio"))n.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(n,s));else{var _a63=t.x.baseVal.value,_h55=t.y.baseVal.value,_r37=t.width.baseVal.value,_d21=t.height.baseVal.value,_c17=new DOMPoint(_a63,_h55).matrixTransform(n),_p18=new DOMPoint(_a63+_r37,_h55).matrixTransform(n),_u17=new DOMPoint(_a63,_h55+_d21).matrixTransform(n);_a63*=o,_h55*=l,_r37*=ia(o),_d21*=ia(l);var _x64=new DOMPoint(_a63,_h55),_b15=new DOMPoint(_a63+_r37,_h55),_m15=new DOMPoint(_a63,_h55+_d21),_g15=qt(_x64,_b15,_m15,_c17,_p18,_u17);_g15=Ft(_g15,s),1===ia(_g15.a)&&0===_g15.b&&0===_g15.c&&1===ia(_g15.d)&&(0===_g15.e&&0===_g15.f||(_a63=1===_g15.a?_a63+_g15.e:_a63-_g15.e,_h55=1===_g15.d?_h55+_g15.f:_h55-_g15.f,_g15.e=0,_g15.f=0)),Va(t);for(var _i296=0,_arr17=[["x",_a63],["y",_h55],["width",_r37],["height",_d21]];_i296<_arr17.length;_i296++){var _arr17$_i=_slicedToArray(_arr17[_i296],2),_e293=_arr17$_i[0],_s182=_arr17$_i[1];_s182=J(_s182,i),0===_s182?t.removeAttribute(_e293):t.setAttribute(_e293,_s182);}_g15.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g15.toString()),Ha(t,e);}},ja=function ja(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=_toConsumableArray(t.children).find(function(t){return"textPath"===t.localName;}),o=null;if(n){o=Ii(n).querySelector(n.href.baseVal);}if(o){var _e294=Ft(Ht(t),s);_e294.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e294.toString());}else{var _n114=Ht(t),_Vl14=Vl(_n114),_o96=_Vl14.scaleX,_l87=_Vl14.scaleY;if(_n114.is2D&&_o96===_l87&&!1===Ci(t)){(function(){var _ref63=function(t){var e=0,i=0,s=0,n=0,o=wi(t)[0]||null;if(o){var _l88=[];for(var _e295=o.parentElement;_e295!==t;_e295=_e295.parentElement){"tspan"!==_e295.localName&&"textPath"!==_e295.localName||_l88.push(_e295);}_l88.push(t),_l88.reverse();for(var _i297=0,_l89=_l88;_i297<_l89.length;_i297++){var _t368=_l89[_i297];_t368.x.baseVal.length>0&&(e=_t368.x.baseVal[0].value),_t368.y.baseVal.length>0&&(i=_t368.y.baseVal[0].value),_t368.dx.baseVal.length>0&&(s=_t368.dx.baseVal[0].value),_t368.dy.baseVal.length>0&&(n=_t368.dy.baseVal[0].value);}}return[e+s,i+n];}(t),_ref64=_slicedToArray(_ref63,2),a=_ref64[0],h=_ref64[1],r=Oi(t).width,d=Oi(t).height,c=new DOMPoint(a,h).matrixTransform(_n114),p=new DOMPoint(a+r,h).matrixTransform(_n114),u=new DOMPoint(a,h+d).matrixTransform(_n114),x=a*_o96,b=h*_l87,m=r*ia(_o96),g=d*ia(_l87),f=new DOMPoint(x,b),w=new DOMPoint(x+m,b),v=new DOMPoint(x,b+g),y=qt(f,w,v,c,p,u);y=Ft(y,s),1===ia(y.a)&&0===y.b&&0===y.c&&1===ia(y.d)&&(0===y.e&&0===y.f||(x=1===y.a?x+y.e:x-y.e,b=1===y.d?b+y.f:b-y.f,y.e=0,y.f=0)),Va(t);var _iterator178=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step178;try{for(_iterator178.s();!(_step178=_iterator178.n()).done;){var _e299=_step178.value;Va(_e299);}}catch(err){_iterator178.e(err);}finally{_iterator178.f();}var k=x-a,S=b-h,C=_toConsumableArray(t.x.baseVal).map(function(t){return J(t.value+k,i);}),_=_toConsumableArray(t.y.baseVal).map(function(t){return J(t.value+S,i);});if(x=J(x,i),b=J(b,i),C.length>0)t.setAttribute("x",C.join(" "));else{var _e296=J(k,i);0===_e296?t.removeAttribute("x"):t.setAttribute("x",_e296);}if(_.length>0)t.setAttribute("y",_.join(" "));else{var _e297=J(S,i);0===_e297?t.removeAttribute("y"):t.setAttribute("y",_e297);}var _iterator179=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step179;try{for(_iterator179.s();!(_step179=_iterator179.n()).done;){var _e300=_step179.value;var _t370=_toConsumableArray(_e300.x.baseVal).map(function(t){return J(t.value+k,i);}),_s184=_toConsumableArray(_e300.y.baseVal).map(function(t){return J(t.value+S,i);});_t370.length>0&&_e300.setAttribute("x",_t370.join(" ")),_s184.length>0&&_e300.setAttribute("y",_s184.join(" "));}}catch(err){_iterator179.e(err);}finally{_iterator179.f();}if(y.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",y.toString()),Ha(t,e),0===t.querySelectorAll("tspan").length){var _e298=getComputedStyle(t).getPropertyValue("font-size");_e298=oa(_e298),_e298=J(_e298*_l87,1),t.style.setProperty("font-size",_e298);}else{var _iterator180=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step180;try{for(_iterator180.s();!(_step180=_iterator180.n()).done;){var _i298=_step180.value;var _t369=getComputedStyle(_i298).getPropertyValue("font-size");_t369=oa(_t369),_t369=J(_t369*_l87,1),_i298.style.setProperty("font-size",_t369);var _s183=getComputedStyle(_i298).getPropertyValue("word-spacing");_s183=oa(_s183),_s183=J(_s183*_l87,2),_i298.style.setProperty("word-spacing",_s183);var _n115=getComputedStyle(_i298).getPropertyValue("letter-spacing");_n115=oa(_n115),_n115=J(_n115*_l87,2),_i298.style.setProperty("letter-spacing",_n115),Ha(_i298,e);}}catch(err){_iterator180.e(err);}finally{_iterator180.f();}}})();}else _n114.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Ft(_n114,s));}},Va=function Va(t){var e=Yt(t);if((P.includes(t.localName)||z.includes(t.localName))&&(V(t)||H(t))&&(t[ha]=Oi(t,!1)),k.includes(t.localName)){var _i299=[Jo(t,"fill"),Jo(t,"stroke")],_s185=_i299.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_n116=_i299.filter(function(t){return t&&"pattern"===t.localName;}),_Vl15=Vl(Ht(t)),_o97=_Vl15.scaleX,_l90=_Vl15.scaleY;t[ra]=_o97,t[da]=_l90;var _iterator181=_createForOfIteratorHelper(_s185),_step181;try{for(_iterator181.s();!(_step181=_iterator181.n()).done;){var _t371=_step181.value;var _i300=Do(_t371);if(_i300.gradientUnits===aa)if("linearGradient"===_t371.localName){var _s186=new DOMPoint(_i300.x1.value,_i300.y1.value),_n117=new DOMPoint(_i300.x2.value,_i300.y2.value),_o98=new Q(_s186,_n117).getNormalVector().transformPoint(_s186),_l91=_s186.matrixTransform(_i300.gradientTransform),_a64=_n117.matrixTransform(_i300.gradientTransform),_h56=_o98.matrixTransform(_i300.gradientTransform);_t371[ca]=_l91.matrixTransform(e),_t371[pa]=_a64.matrixTransform(e),_t371[ua]=_h56.matrixTransform(e);}else if("radialGradient"===_t371.localName){var _s187=new DOMPoint(_i300.cx.value,_i300.cy.value),_n118=new DOMPoint(_i300.cx.value+_i300.r.value,_i300.cy.value),_o99=new DOMPoint(_i300.cx.value,_i300.cy.value-_i300.r.value),_l92=_s187.matrixTransform(_i300.gradientTransform),_a65=_n118.matrixTransform(_i300.gradientTransform),_h57=_o99.matrixTransform(_i300.gradientTransform);_t371[xa]=_l92.matrixTransform(e),_t371[ba]=_a65.matrixTransform(e),_t371[ma]=_h57.matrixTransform(e);}}}catch(err){_iterator181.e(err);}finally{_iterator181.f();}var _iterator182=_createForOfIteratorHelper(_n116),_step182;try{for(_iterator182.s();!(_step182=_iterator182.n()).done;){var _i301=_step182.value;var _s188=qo(_i301);if(_s188.patternUnits===aa){var _t372=new DOMPoint(_s188.x.value,_s188.y.value),_n119=new DOMPoint(_s188.x.value+_s188.width.value,_s188.y.value),_o100=new DOMPoint(_s188.x.value+_s188.width.value,_s188.y.value+_s188.height.value),_l93=_t372.matrixTransform(_s188.patternTransform),_a66=_n119.matrixTransform(_s188.patternTransform),_h58=_o100.matrixTransform(_s188.patternTransform);_i301[ga]=_l93.matrixTransform(e),_i301[fa]=_a66.matrixTransform(e),_i301[wa]=_h58.matrixTransform(e);}else if(_s188.patternUnits===la){var _e301=Yt(t),_n120=Oi(t),_o101=_s188.x.valueInSpecifiedUnits,_l94=_s188.y.valueInSpecifiedUnits,_a67=_s188.width.valueInSpecifiedUnits,_h59=_s188.height.valueInSpecifiedUnits;_s188.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o101/=100),_s188.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l94/=100),_s188.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a67/=100),_s188.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h59/=100);var _r38=new DOMPoint(_o101,_l94),_d22=new DOMPoint(_o101+_a67,_l94),_c18=new DOMPoint(_o101+_a67,_l94+_h59),_p19=new DOMPoint(_n120.x+_r38.x*_n120.width,_n120.y+_r38.y*_n120.height),_u18=new DOMPoint(_n120.x+_d22.x*_n120.width,_n120.y+_d22.y*_n120.height),_x65=new DOMPoint(_n120.x+_c18.x*_n120.width,_n120.y+_c18.y*_n120.height),_b16=_p19.matrixTransform(_s188.patternTransform),_m16=_u18.matrixTransform(_s188.patternTransform),_g16=_x65.matrixTransform(_s188.patternTransform),_f12=_b16.matrixTransform(_e301),_w11=_m16.matrixTransform(_e301),_v9=_g16.matrixTransform(_e301);_i301[ga]=_f12,_i301[fa]=_w11,_i301[wa]=_v9;}}}catch(err){_iterator182.e(err);}finally{_iterator182.f();}}},Ha=function Ha(t,e){var i=Yt(t).inverse(),s=e.geometryPrecision,n=e.preserveStrokeWidth,o=e.transformPrecision,l=e.transformDirection;if(P.includes(t.localName)){var _i302=getComputedStyle(t).clipPath,_s189=_i302&&"none"!==_i302?_i302.substring(6,_i302.length-2):"",_n121=_s189?Ii(t).querySelector("#"+CSS.escape(_s189)):null;if(_n121){var _i303=t[ha],_s190=Oi(t,!1),_o102=Xt(_i303,_s190);_o102=_o102.multiply(Ht(_n121));var _iterator183=_createForOfIteratorHelper(_n121.children),_step183;try{for(_iterator183.s();!(_step183=_iterator183.n()).done;){var _t373=_step183.value;M.includes(_t373.localName)&&(_t373.setAttribute("transform",_o102.multiply(Ht(_t373)).toString()),va(_t373,e));}}catch(err){_iterator183.e(err);}finally{_iterator183.f();}_n121.removeAttribute("transform");}}if(z.includes(t.localName)){var _i304=getComputedStyle(t).mask,_s191=_i304&&"none"!==_i304?_i304.substring(6,_i304.length-2):"",_n122=_s191?Ii(t).querySelector("#"+CSS.escape(_s191)):null;if(_n122){var _i305=t[ha],_s192=Oi(t,!1),_o103=Xt(_i305,_s192);var _iterator184=_createForOfIteratorHelper(_n122.children),_step184;try{for(_iterator184.s();!(_step184=_iterator184.n()).done;){var _t374=_step184.value;D.includes(_t374.localName)&&(_t374.setAttribute("transform",_o103.multiply(Ht(_t374)).toString()),va(_t374,e));}}catch(err){_iterator184.e(err);}finally{_iterator184.f();}_n122.removeAttribute("transform");}}if(k.includes(t.localName)){var _e302=[Jo(t,"fill"),Jo(t,"stroke")],_a68=_e302.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_h60=_e302.filter(function(t){return t&&"pattern"===t.localName;});if(!1===n){var _e303=t[ra],_i306=t[da],_n123=getComputedStyle(t).getPropertyValue("stroke-width");_n123=oa(_n123),_n123*="left"===l||"right"===l?ia(_e303):"top"===l||"bottom"===l?ia(_i306):(ia(_e303)+ia(_i306))/2,_n123=J(_n123,s),t.style.setProperty("stroke-width",_n123);}var _iterator185=_createForOfIteratorHelper(_a68),_step185;try{for(_iterator185.s();!(_step185=_iterator185.n()).done;){var _t375=_step185.value;var _e304=Do(_t375);if(_e304.gradientUnits===aa){var _s193=void 0;if("linearGradient"===_t375.localName){var _n124=new DOMPoint(_e304.x1.value,_e304.y1.value),_o104=new DOMPoint(_e304.x2.value,_e304.y2.value),_l95=new Q(_n124,_o104).getNormalVector().transformPoint(_n124);_s193=qt(_n124,_o104,_l95,_t375[ca].matrixTransform(i),_t375[pa].matrixTransform(i),_t375[ua].matrixTransform(i));}else if("radialGradient"===_t375.localName){var _n125=new DOMPoint(_e304.cx.value,_e304.cy.value),_o105=new DOMPoint(_e304.cx.value+_e304.r.value,_e304.cy.value),_l96=new DOMPoint(_e304.cx.value,_e304.cy.value-_e304.r.value);_s193=qt(_n125,_o105,_l96,_t375[xa].matrixTransform(i),_t375[ba].matrixTransform(i),_t375[ma].matrixTransform(i));}_s193=Ft(_s193,o),_t375.setAttribute("gradientTransform",_s193.toString());}}}catch(err){_iterator185.e(err);}finally{_iterator185.f();}var _iterator186=_createForOfIteratorHelper(_h60),_step186;try{for(_iterator186.s();!(_step186=_iterator186.n()).done;){var _e305=_step186.value;var _s194=qo(_e305),_n126=(_e305.hasAttribute("href")&&Vo(_e305),Xo(_e305)),_l97=_e305[ga],_a69=_e305[fa],_h61=_e305[wa];if(_n126.length>1){var _i307=void 0;{var _t376=Ii(_e305),_s195="";for(var _i308=0;_i308<Infinity&&(_s195=_e305.id+"-"+_i308,_t376.querySelector("#".concat(_s195)));_i308+=1){;}_i307=$i("svg:pattern"),_i307.setAttribute("id",_s195),_i307.setAttribute("href","#"+_e305.id),_e305.after(_i307);}for(var _i309=0,_arr18=["fill","stroke"];_i309<_arr18.length;_i309++){var _s196=_arr18[_i309];t.style.getPropertyValue(_s196)==="url(\"#".concat(_e305.id,"\")")&&t.style.setProperty(_s196,"url(\"#".concat(_i307.id,"\")"));}_e305=_i307;}if(_s194.patternUnits===aa){var _t377=new DOMPoint(_s194.x.value,_s194.y.value),_n127=new DOMPoint(_s194.x.value+_s194.width.value,_s194.y.value),_r39=new DOMPoint(_s194.x.value+_s194.width.value,_s194.y.value+_s194.height.value),_d23=qt(_t377,_n127,_r39,_l97.matrixTransform(i),_a69.matrixTransform(i),_h61.matrixTransform(i)),_c19=Ft(_d23,o);_e305.setAttribute("patternTransform",_c19.toString());}else if(_s194.patternUnits===la){var _n128=Oi(t),_r40=_s194.x.valueInSpecifiedUnits,_d24=_s194.y.valueInSpecifiedUnits,_c20=_s194.width.valueInSpecifiedUnits,_p20=_s194.height.valueInSpecifiedUnits;_s194.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_r40/=100),_s194.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d24/=100),_s194.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c20/=100),_s194.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p20/=100);var _u19=new DOMPoint(_r40,_d24),_x66=new DOMPoint(_r40+_c20,_d24),_b17=new DOMPoint(_r40+_c20,_d24+_p20),_m17=new DOMPoint(_n128.x+_u19.x*_n128.width,_n128.y+_u19.y*_n128.height),_g17=new DOMPoint(_n128.x+_x66.x*_n128.width,_n128.y+_x66.y*_n128.height),_f13=new DOMPoint(_n128.x+_b17.x*_n128.width,_n128.y+_b17.y*_n128.height),_w12=_l97.matrixTransform(i),_v10=_a69.matrixTransform(i),_y2=_h61.matrixTransform(i),_k2=_w12.matrixTransform(_s194.patternTransform.inverse()),_S2=_v10.matrixTransform(_s194.patternTransform.inverse()),_C2=_y2.matrixTransform(_s194.patternTransform.inverse()),_3=qt(_m17,_g17,_f13,_k2,_S2,_C2),_M2=_s194.patternTransform.multiply(_3);_M2=Ft(_M2,o),_e305.setAttribute("patternTransform",_M2.toString());}}}catch(err){_iterator186.e(err);}finally{_iterator186.f();}}},Wa=Math.abs,Ya=Symbol();var qa=/*#__PURE__*/function(_HTMLElement41){_inherits(qa,_HTMLElement41);var _super42=_createSuper(qa);_createClass(qa,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function qa(){var _this140;_classCallCheck(this,qa);_this140=_super42.call(this),_this140.pn=!1;return _this140;}_createClass(qa,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this141=this;this.un.style.cursor=null,this.un.workspaces.addEventListener("contextmenu",this.xn=function(t){_this141.bn(t);}),this.un.workspaces.addEventListener("pointerdown",this.mn=function(t){_this141.gn(t);});}},{key:"sn",value:function sn(){this.un.workspaces.removeEventListener("contextmenu",this.xn),this.un.workspaces.removeEventListener("pointerdown",this.mn);}},{key:"bn",value:function bn(t){var e=this.un.getHitWorkspaceElements(t.clientX,t.clientY);if(e.length>0){var _t378=e[e.length-1],_i310=this.fn(_t378),_s197=this.un.selectedElements.includes(_t378);var _iterator187=_createForOfIteratorHelper(_i310),_step187;try{for(_iterator187.s();!(_step187=_iterator187.n()).done;){var _t379=_step187.value;this.un.selectedElements.includes(_t379)&&(_s197=!0);}}catch(err){_iterator187.e(err);}finally{_iterator187.f();}!1===_s197&&this.wn(_t378);}else this.vn(t);}},{key:"gn",value:function gn(t){var _this142=this;if(1!==t.buttons||!1===t.isPrimary||this.Js.pointers.length>1)return;var _e306,_i311,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n,l="touch"===t.pointerType?9:3;this.pn=!1,window.addEventListener("pointermove",_e306=function e(i){if(i.pointerId!==t.pointerId||_this142.Js.pointers.length>1)return;var s=new DOMPoint(i.clientX,i.clientY),a=i.timeStamp-t.timeStamp,h=Ee(n,s)>l||a>80,r=!1===De(o,s,0);if(o=s,!0===h&&!0===r){window.removeEventListener("pointermove",_e306),_this142.pn=!0;var _s198=new Q(i.clientX-t.clientX,i.clientY-t.clientY),_n129=Wa(_s198.x)>Wa(_s198.y)?"horizontal":"vertical";_this142.yn(t,i,_n129);}}),window.addEventListener("pointerup",_i311=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e306),window.removeEventListener("pointerup",_i311);var a=new DOMPoint(o.clientX,o.clientY);Ee(n,a)<l&&_this142.kn(s,o);});}},{key:"yn",value:function yn(t,e,i){var s=this.un.getHitWorkspaceElements(e.clientX,e.clientY);s.length>0?this.Sn(e,s[s.length-1],i):this.Cn(t);}},{key:"_n",value:function _n(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.un.workspaces.querySelector(e.href.baseVal)),i;}},{key:"Sn",value:function Sn(t,e,i){var _this143=this;var s=this.tn.board;s.undoManager.checkpoint("Move");{var _t380=this.fn(e),_i312=!1;s.outermostSelectedElements.includes(e)&&(_i312=!0);var _iterator188=_createForOfIteratorHelper(_t380),_step188;try{for(_iterator188.s();!(_step188=_iterator188.n()).done;){var _e307=_step188.value;s.outermostSelectedElements.includes(_e307)&&(_i312=!0);}}catch(err){_iterator188.e(err);}finally{_iterator188.f();}if(!_i312)if(s.transformHud.mode="scale",0===_t380.length)s.currentContainer=null,s.selectedElements=[e];else{var _t381=this.Mn(e,s.currentContainer);for(;e.parentNode!==_t381&&e.parentNode!==s.currentWorkspace;){e=e.parentNode;}s.currentContainer=_t381,s.selectedElements=[e];}}this.Js.modKeys.alt&&(this.un.insertArtwork(this.un.extractArtworkWithSelectedElements(),"original"),e=this.un.selectedElements[0]);{var _e308,_n131,_o106=[];var _iterator189=_createForOfIteratorHelper(s.outermostSelectedElements),_step189;try{for(_iterator189.s();!(_step189=_iterator189.n()).done;){var _t386=_step189.value;if("text"===_t386.localName){var _e312=this._n(_t386);if(_e312&&s.outermostSelectedElements.includes(_e312))continue;}var _e311=Yt(_t386),_i315=_e311.inverse(),_n132=Ht(_t386).multiplySelf(_i315);_t386[Ya]={clientToUserTransform:_e311,initialClientTransform:_n132},_o106.push(_t386);}}catch(err){_iterator189.e(err);}finally{_iterator189.f();}this.style.cursor="move",this.setPointerCapture(t.pointerId),s.snapManager.snapStart(),this.addEventListener("pointermove",_e308=function _e308(e){if(e.pointerId!==t.pointerId)return;var n=e.clientX-t.clientX,l=e.clientY-t.clientY,a=_this143.Js.modKeys.shift;a&&("vertical"===i?n=0:"horizontal"===i&&(l=0));var _iterator190=_createForOfIteratorHelper(_o106),_step190;try{for(_iterator190.s();!(_step190=_iterator190.n()).done;){var _t384=_step190.value;var _t384$Ya=_t384[Ya],_e310=_t384$Ya.clientToUserTransform,_i314=_t384$Ya.initialClientTransform,_s200=DOMMatrix.fromMatrix(_i314);_s200.translateSelf(n,l),_s200.multiplySelf(_e310),_t384.setAttribute("transform",_s200.toString());}}catch(err){_iterator190.e(err);}finally{_iterator190.f();}if(s.showManualGuides||s.showSmartGuides||s.showGrid){var _t382=_o106.map(function(t){return Ei(t);}),_e309=He(_t382),_i313=s.snapManager.snapBBox(_e309);if(!1===function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?J(t.x,i)===J(e.x,i)&&J(t.y,i)===J(e.y,i)&&J(t.width,i)===J(e.width,i)&&J(t.height,i)===J(e.height,i):t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.neight;}(_e309,_i313)){var _iterator191=_createForOfIteratorHelper(_o106),_step191;try{for(_iterator191.s();!(_step191=_iterator191.n()).done;){var _t383=_step191.value;var _t383$Ya=_t383[Ya],_s199=_t383$Ya.clientToUserTransform,_o107=_t383$Ya.initialClientTransform,_a70=_i313.x-_e309.x,_h62=_i313.y-_e309.y,_r41=DOMMatrix.fromMatrix(_o107);_r41.translateSelf(n+_a70,l+_h62),_r41.multiplySelf(_s199),_t383.setAttribute("transform",_r41.toString());}}catch(err){_iterator191.e(err);}finally{_iterator191.f();}}}}),this.addEventListener("lostpointercapture",_n131=function _n130(){_this143.removeEventListener("pointermove",_e308),_this143.removeEventListener("lostpointercapture",_n131),_this143.style.cursor=null,s.snapManager.snapEnd();var _iterator192=_createForOfIteratorHelper(s.outermostSelectedObjectElements),_step192;try{for(_iterator192.s();!(_step192=_iterator192.n()).done;){var _t385=_step192.value;va(_t385,{geometryPrecision:s.geometryPrecision,transformPrecision:s.transformPrecision});}}catch(err){_iterator192.e(err);}finally{_iterator192.f();}});}}},{key:"Cn",value:function(){var _Cn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee66(t){var _this144=this;var e,i,s,n,o,l,a,_t387,_iterator193,_step193,_e313,_i316,_t388,_s201,_l98,_iterator195,_step195,_t390,_e315,_i317,_iterator196,_step196,_t391,_iterator198,_step198,_t393,_e317,_iterator199,_step199,_i318;return regeneratorRuntime.wrap(function _callee66$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:e=t.clientX,i=t.clientY,s=this.Js.getConfig("bx-transformsettings:selectionShape","rect"),n=this.Js.getConfig("bx-transformsettings:selectionMode","contain"),o=this.un.currentContainer||this.un.currentWorkspace,l=Yt(this.un.currentWorkspace).inverse(),a=[];if(!("rect-contain"===n&&(n="contain"),this.Js.modKeys.ctrl&&("polygon"===s?s="rect":"rect"===s&&(s="polygon")),"rect"===s)){_context66.next=9;break;}_context66.next=4;return this.un.rubberBandHud.grabSelection(e,i);case 4:_t387=_context66.sent;_iterator193=_createForOfIteratorHelper(o.children);try{for(_iterator193.s();!(_step193=_iterator193.n()).done;){_e313=_step193.value;if([].concat(w,["svg","g","a","use"]).includes(_e313.localName)){_i316=Ve(Ei(_e313),l);!1===(0===_i316.width&&0===_i316.height)&&("contain"===n?Ye(_t387,_i316)&&a.push(_e313):"intersect"===n&&qe(_t387,_i316)&&a.push(_e313));}}}catch(err){_iterator193.e(err);}finally{_iterator193.f();}_context66.next=100;break;case 9:if(!("polygon"===s)){_context66.next=100;break;}_context66.next=12;return this.un.rubberBandHud.grabSelection(e,i,"polygon");case 12:_t388=_context66.sent;_s201=Ui(_toConsumableArray(o.children));_l98=[];if(!("contain"===n)){_context66.next=60;break;}_l98=function(t,e){var i=[];var _iterator194=_createForOfIteratorHelper(e),_step194;try{for(_iterator194.s();!(_step194=_iterator194.n()).done;){var _s202=_step194.value;var _e314=null;if(g.includes(_s202.localName))_e314=_s202.getPathData({normalize:!0});else if(["image","text","use"].includes(_s202.localName)){var _t389=Oi(_s202);_e314=[{type:"M",values:[_t389.x,_t389.y]},{type:"L",values:[_t389.x+_t389.width,_t389.y]},{type:"L",values:[_t389.x+_t389.width,_t389.y+_t389.height]},{type:"L",values:[_t389.x,_t389.y+_t389.height]}];}if(_e314){var _n133=Wt(_s202,_s202.closest("g#vector-canvas"));!1===_n133.isIdentity&&(_e314=oe(_e314,_n133));var _o108=new paper.Path(_toConsumableArray(t)),_l99=Ot(nt(_e314));_o108.closePath(),_l99.closePath(),0===_l99.subtract(_o108).length&&i.push(_s202);}}}catch(err){_iterator194.e(err);}finally{_iterator194.f();}return i;}(_t388,_s201);_iterator195=_createForOfIteratorHelper(o.children);_context66.prev=18;_iterator195.s();case 20:if((_step195=_iterator195.n()).done){_context66.next=50;break;}_t390=_step195.value;if(!("g"===_t390.localName||"a"===_t390.localName)){_context66.next=47;break;}_e315=Ui(_toConsumableArray(_t390.children));if(!(_e315.length>0)){_context66.next=45;break;}_i317=!0;_iterator196=_createForOfIteratorHelper(_e315);_context66.prev=27;_iterator196.s();case 29:if((_step196=_iterator196.n()).done){_context66.next=36;break;}_t391=_step196.value;if(!(!1===_l98.includes(_t391))){_context66.next=34;break;}_i317=!1;return _context66.abrupt("break",36);case 34:_context66.next=29;break;case 36:_context66.next=41;break;case 38:_context66.prev=38;_context66.t0=_context66["catch"](27);_iterator196.e(_context66.t0);case 41:_context66.prev=41;_iterator196.f();return _context66.finish(41);case 44:_i317&&a.push(_t390);case 45:_context66.next=48;break;case 47:w.includes(_t390.localName)&&_l98.includes(_t390)&&a.push(_t390);case 48:_context66.next=20;break;case 50:_context66.next=55;break;case 52:_context66.prev=52;_context66.t1=_context66["catch"](18);_iterator195.e(_context66.t1);case 55:_context66.prev=55;_iterator195.f();return _context66.finish(55);case 58:_context66.next=100;break;case 60:if(!("intersect"===n)){_context66.next=100;break;}_l98=function(t,e){var i=[];var _iterator197=_createForOfIteratorHelper(e),_step197;try{for(_iterator197.s();!(_step197=_iterator197.n()).done;){var _s203=_step197.value;var _e316=null;if(g.includes(_s203.localName))_e316=_s203.getPathData({normalize:!0});else if(["image","text","use"].includes(_s203.localName)){var _t392=Oi(_s203);_e316=[{type:"M",values:[_t392.x,_t392.y]},{type:"L",values:[_t392.x+_t392.width,_t392.y]},{type:"L",values:[_t392.x+_t392.width,_t392.y+_t392.height]},{type:"L",values:[_t392.x,_t392.y+_t392.height]}];}if(_e316){var _n134=Wt(_s203,_s203.closest("g#vector-canvas"));!1===_n134.isIdentity&&(_e316=oe(_e316,_n134));var _o109=new paper.Path(_toConsumableArray(t)),_l100=Ot(nt(_e316));_o109.closePath(),_l100.closePath(),_o109.intersect(_l100).length>0&&i.push(_s203);}}}catch(err){_iterator197.e(err);}finally{_iterator197.f();}return i;}(_t388,_s201);_iterator198=_createForOfIteratorHelper(o.children);_context66.prev=63;_iterator198.s();case 65:if((_step198=_iterator198.n()).done){_context66.next=92;break;}_t393=_step198.value;if(!("g"===_t393.localName||"a"===_t393.localName)){_context66.next=89;break;}_e317=Ui(_toConsumableArray(_t393.children));_iterator199=_createForOfIteratorHelper(_e317);_context66.prev=70;_iterator199.s();case 72:if((_step199=_iterator199.n()).done){_context66.next=79;break;}_i318=_step199.value;if(!_l98.includes(_i318)){_context66.next=77;break;}a.push(_t393);return _context66.abrupt("break",79);case 77:_context66.next=72;break;case 79:_context66.next=84;break;case 81:_context66.prev=81;_context66.t2=_context66["catch"](70);_iterator199.e(_context66.t2);case 84:_context66.prev=84;_iterator199.f();return _context66.finish(84);case 87:_context66.next=90;break;case 89:w.includes(_t393.localName)&&_l98.includes(_t393)&&a.push(_t393);case 90:_context66.next=65;break;case 92:_context66.next=97;break;case 94:_context66.prev=94;_context66.t3=_context66["catch"](63);_iterator198.e(_context66.t3);case 97:_context66.prev=97;_iterator198.f();return _context66.finish(97);case 100:this.Js.modKeys.shift?(a=a.filter(function(t){var _iterator200=_createForOfIteratorHelper(_this144.un.selectedElements),_step200;try{for(_iterator200.s();!(_step200=_iterator200.n()).done;){var _e318=_step200.value;if(_e318===t||_e318.contains(t))return!1;}}catch(err){_iterator200.e(err);}finally{_iterator200.f();}return!0;}),this.un.selectedElements=[].concat(_toConsumableArray(this.un.selectedElements),_toConsumableArray(a))):this.un.selectedElements=_toConsumableArray(a);case 101:case"end":return _context66.stop();}}},_callee66,this,[[18,52,55,58],[27,38,41,44],[63,94,97,100],[70,81,84,87]]);}));function Cn(_x67){return _Cn.apply(this,arguments);}return Cn;}()},{key:"kn",value:function kn(t,e){if(0!==e.button||this.pn)return;var i=this.un["#transform-hud"],s=this.un.getHitWorkspaceElements(e.clientX,e.clientY);if(s.length>0){var _t394=s[s.length-1];if(this.Js.pointerClickCount%2==1)this.un.isSelectableElement(_t394)&&this.wn(_t394);else if(this.Js.pointerClickCount%2==0){var _e319=this.Pn(_t394);if(_e319)this.un.currentContainer=_e319,this.un.selectedElements=[];else if("use"===_t394.localName){var _e320=_t394.href.baseVal.trim(),_s204=null;if(_e320.length>1&&(_s204=this.un.workspaces.querySelector("#"+CSS.escape(_e320.substring(1)))),_s204&&"symbol"===_s204.localName){var _t395=_s204;this.un.editSymbol(_t395.id);}else i.mode="scale",this.tn.toggleTool("edit-tool");}else"text"===_t394.localName?(i.mode="scale",this.tn.toggleTool("text-tool")):(i.mode="scale",this.tn.toggleTool("edit-tool"));}}else this.vn(e);}},{key:"wn",value:function wn(t){var e=this.tn.board,_this$Js$modKeys=this.Js.modKeys,i=_this$Js$modKeys.ctrl,s=_this$Js$modKeys.alt,n=_this$Js$modKeys.shift,o=this.fn(t),l=e.selectedElements.includes(t);var _iterator201=_createForOfIteratorHelper(o),_step201;try{for(_iterator201.s();!(_step201=_iterator201.n()).done;){var _t397=_step201.value;e.selectedElements.includes(_t397)&&(l=!0);}}catch(err){_iterator201.e(err);}finally{_iterator201.f();}if(i||n){if(!i&&n){if(0===o.length)e.currentContainer=null,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);else if(e.currentContainer&&e.currentContainer.contains(t)){for(;t.parentNode!==e.currentContainer;){t=t.parentNode;}e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}else{var _i319=this.Mn(t,e.currentContainer);for(;t.parentNode!==_i319&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_i319,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}}else if(i&&!n){var _i320=null;for(var _s205=t.parentElement;_s205!==e.currentWorkspace;_s205=_s205.parentElement){if("g"===_s205.localName||"a"===_s205.localName){_i320=_s205;break;}}e.currentContainer=_i320,e.selectedElements=[t];}else if(i&&n){var _i321=e.currentContainer,_s206=e.selectedElements;if(_s206=_s206.includes(t)?_s206.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s206),[t]),0===_s206.length)_i321=null;else for(var _t396=_s206[0].parentElement;_t396!==e.currentWorkspace;_t396=_t396.parentElement){if("g"===_t396.localName||"a"===_t396.localName){_i321=_t396;break;}}e.currentContainer=_i321,e.selectedElements=_s206;}}else if(l)"scale"===e.transformHud.mode?e.transformHud.mode="rotate-and-skew":e.transformHud.mode="scale";else if(e.transformHud.mode="scale",0===o.length)e.currentContainer=null,e.selectedElements=[t];else{var _i322=e.currentContainer;if(_i322&&_i322.contains(t)){for(;t.parentNode!==_i322;){t=t.parentNode;}e.selectedElements=[t];}else{var _s207=this.Mn(t,_i322);for(;t.parentNode!==_s207&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_s207,e.selectedElements=[t];}}}},{key:"vn",value:function vn(t){if(0!==t.button)return;var _this$Js$modKeys2=this.Js.modKeys,e=_this$Js$modKeys2.ctrl,i=_this$Js$modKeys2.shift;e||i||(2===this.Js.pointerClickCount&&(this.un.currentContainer=null),this.un.selectedElements=[]);}},{key:"fn",value:function fn(t){var e=[];if(t!==this.un.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.un.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;}},{key:"Pn",value:function Pn(t){var e=[];for(var _i323=t.parentElement;_i323!==this.un.currentWorkspace&&_i323!==this.un.currentContainer;_i323=_i323.parentElement){"g"!==_i323.localName&&"a"!==_i323.localName||e.push(_i323);}return e.length>0?e[e.length-1]:null;}},{key:"Mn",value:function Mn(t,e){var i=Fi(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}}]);return qa;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qa,"observedAttributes",["enabled"]);customElements.define("bx-transformselectcontext",qa);var Xa=Math.abs;var Za=/*#__PURE__*/function(_HTMLElement42){_inherits(Za,_HTMLElement42);var _super43=_createSuper(Za);function Za(){_classCallCheck(this,Za);return _super43.apply(this,arguments);}_createClass(Za,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this145=this;this.un.style.cursor=null,this.un.workspaces.addEventListener("contextmenu",this.xn=function(t){_this145.bn(t);}),this.un.workspaces.addEventListener("pointerdown",this.mn=function(t){_this145.gn(t);});}},{key:"sn",value:function sn(){this.un.workspaces.removeEventListener("contextmenu",this.xn),this.un.workspaces.removeEventListener("pointerdown",this.mn);}},{key:"bn",value:function bn(t){}},{key:"gn",value:function gn(t){var _this146=this;if(1!==t.buttons||!1===t.isPrimary||this.Js.pointers.length>1)return;var _e321,_i324,s=t.target,n=new DOMPoint(t.clientX,t.clientY);this.pn=!1,window.addEventListener("pointermove",_e321=function e(i){var s=new DOMPoint(i.clientX,i.clientY);if(i.pointerId!==t.pointerId||_this146.Js.pointers.length>1||Ee(n,s)<3)return;window.removeEventListener("pointermove",_e321),_this146.pn=!0;var o=new Q(i.clientX-t.clientX,i.clientY-t.clientY),l=Xa(o.x)>Xa(o.y)?"horizontal":"vertical";_this146.Dn(t,i,l);}),window.addEventListener("pointerup",_i324=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e321),window.removeEventListener("pointerup",_i324);var l=new DOMPoint(o.clientX,o.clientY);Ee(n,l)<3&&_this146.kn(s,o);});}},{key:"kn",value:function kn(t,e){if(0!==e.button||this.pn)return;var i=this.un.getHitWorkspaceElements(e.clientX,e.clientY);if(i.length>0){var _t398=i[i.length-1];2===this.Js.pointerClickCount?this.tn.toggleTool("transform-tool"):this.un.isSelectableElement(_t398)&&this.wn(_t398);}else this.vn(e);}},{key:"wn",value:function wn(t){var e=this.un,_this$Js$modKeys3=this.Js.modKeys,i=_this$Js$modKeys3.ctrl,s=_this$Js$modKeys3.alt,n=_this$Js$modKeys3.shift,o=this.fn(t),l=e.selectedElements.includes(t);var _iterator202=_createForOfIteratorHelper(o),_step202;try{for(_iterator202.s();!(_step202=_iterator202.n()).done;){var _t400=_step202.value;e.selectedElements.includes(_t400)&&(l=!0);}}catch(err){_iterator202.e(err);}finally{_iterator202.f();}if(!1===n){var _i325=null;for(var _s208=t.parentElement;_s208!==e.currentWorkspace;_s208=_s208.parentElement){if("g"===_s208.localName||"a"===_s208.localName){_i325=_s208;break;}}e.currentContainer=_i325,e.selectedElements=[t];}else if(!0===n){var _i326=e.currentContainer,_s209=e.selectedElements;if(_s209=_s209.includes(t)?_s209.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s209),[t]),0===_s209.length)_i326=null;else for(var _t399=_s209[0].parentElement;_t399!==e.currentWorkspace;_t399=_t399.parentElement){if("g"===_t399.localName||"a"===_t399.localName){_i326=_t399;break;}}e.currentContainer=_i326,e.selectedElements=_s209;}}},{key:"vn",value:function vn(t){if(0!==t.button)return;var _this$Js$modKeys4=this.Js.modKeys,e=_this$Js$modKeys4.ctrl,i=_this$Js$modKeys4.shift;e||i||(this.un.currentContainer=null,this.un.selectedElements=[]);}},{key:"Dn",value:function(){var _Dn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee67(t,e,i){var s,n,o,_t401,_t402;return regeneratorRuntime.wrap(function _callee67$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:s=t.clientX,n=t.clientY,o=this.Js.getConfig("bx-editsettings:selectionShape","rect");if(!(this.Js.modKeys.ctrl&&("polygon"===o?o="rect":"rect"===o&&(o="polygon")),"rect"===o)){_context67.next=8;break;}_context67.next=4;return this.un.rubberBandHud.grabSelection(s,n,"rect");case 4:_t401=_context67.sent;this.un.splineHud.rubberBandSelectionCallback(_t401);_context67.next=13;break;case 8:if(!("polygon"===o)){_context67.next=13;break;}_context67.next=11;return this.un.rubberBandHud.grabSelection(s,n,"polygon");case 11:_t402=_context67.sent;this.un.splineHud.rubberBandSelectionCallback(_t402);case 13:case"end":return _context67.stop();}}},_callee67,this);}));function Dn(_x68,_x69,_x70){return _Dn.apply(this,arguments);}return Dn;}()},{key:"fn",value:function fn(t){var e=[];if(t!==this.un.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.un.currentWorkspace;){"g"!==(t=t.parentElement).localName&&"a"!==t.localName||e.unshift(t);}return e;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Za;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Za,"observedAttributes",["enabled"]);customElements.define("bx-directselectcontext",Za);var Ka=/*#__PURE__*/function(_HTMLElement43){_inherits(Ka,_HTMLElement43);var _super44=_createSuper(Ka);function Ka(){_classCallCheck(this,Ka);return _super44.apply(this,arguments);}_createClass(Ka,[{key:"connectedCallback",value:function connectedCallback(){this.zn=!1,this.On=!1,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this147=this;this.un.style.cursor="-webkit-grab",this.un.workspaces.addEventListener("pointerdown",this.mn=function(t){_this147.gn(t);}),window.addEventListener("keydown",this.En=function(t){return _this147.Tn(t);}),window.addEventListener("keyup",this.An=function(t){return _this147.$n(t);});}},{key:"sn",value:function sn(){this.un.workspaces.removeEventListener("pointerdown",this.mn),this.Js.removeEventListener("pointerschange",this.In),window.removeEventListener("pointermove",this.Ln),window.removeEventListener("pointerup",this.Bn),window.removeEventListener("keydown",this.En),window.removeEventListener("keyup",this.An);}},{key:"gn",value:function gn(t){var _this148=this;if(0!==t.button||!1===t.isPrimary||this.Js.pointers.length>1)return;this.un.style.cursor="-webkit-grabbing",this.On=!0;var e=new DOMPoint(t.clientX,t.clientY),i=e;window.addEventListener("pointermove",this.Ln=function(s){if(s.pointerId!==t.pointerId)return;var n=new DOMPoint(s.clientX,s.clientY),o=s.timeStamp-t.timeStamp;if(Ee(e,n)>=3||o>80){var _t403=new Q(i,n);!1===_this148.zn&&_this148.un.Rn(_t403.x,_t403.y),i=n;}}),window.addEventListener("pointerup",this.Bn=function(e){e.pointerId===t.pointerId&&(window.removeEventListener("pointermove",_this148.Ln),window.removeEventListener("pointerup",_this148.Bn),_this148.Js.removeEventListener("pointerschange",_this148.In),_this148.On=!1,!1===_this148.zn&&(_this148.un.style.cursor="-webkit-grab"));}),this.Js.addEventListener("pointerschange",this.In=function(){1===_this148.Js.pointers.length&&!1!==_this148.Js.pointers.has(t.pointerId)||(window.removeEventListener("pointermove",_this148.Ln),window.removeEventListener("pointerup",_this148.Bn),_this148.Js.removeEventListener("pointerschange",_this148.In),_this148.On=!1,!1===_this148.zn&&(_this148.un.style.cursor="-webkit-grab"));});}},{key:"Tn",value:function Tn(t){if("Space"===t.code){"pan"===this.Js.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool")&&(this.zn=!0,this.un.style.cursor="-webkit-grabbing");}}},{key:"$n",value:function $n(t){"Space"===t.code&&(this.zn=!1,!1===this.On&&(this.un.style.cursor="-webkit-grab"));}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Ka;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ka,"observedAttributes",["enabled"]);customElements.define("bx-pancontext",Ka);var Qa=/*#__PURE__*/function(){function Qa(){_classCallCheck(this,Qa);}_createClass(Qa,[{key:"addEventListener",value:function addEventListener(t,e){this.Gn||(this.Gn={});var i=this.Gn[t];i||(this.Gn[t]=i=[]),i.push(e),i.length>300&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.Gn&&this.Gn[t]){for(var i=[],s=0;s<this.Gn[t].length;s+=1){this.Gn[t][s]!==e&&i.push(this.Gn[t][s]);}this.Gn[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.Gn)return;var e=this.Gn[t.type];if(!e)return;var i=null;for(var _s210=e.length-1;_s210>=0;_s210-=1){var _n135=void 0,_o110=e[_s210];try{_n135=_o110.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n135)break;}if(i)throw i;}}]);return Qa;}();var Ja=/*#__PURE__*/function(){function Ja(){_classCallCheck(this,Ja);this.Un=!1,this.Fn=!1,this.Nn=!1,this.jn=!1,this.Vn=null;for(var _len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}for(var _i327=0,_t404=t;_i327<_t404.length;_i327++){var _e322=_t404[_i327];"Control"===_e322?this.ctrl=!0:"Alt"===_e322?this.alt=!0:"Shift"===_e322?this.shift=!0:"Meta"===_e322?this.meta=!0:this.key=_e322;}}_createClass(Ja,[{key:"matches",value:function matches(){var e=!1,i=!1,s=!1,n=!1,o=null;for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}for(var _i328=0,_t405=t;_i328<_t405.length;_i328++){var _l101=_t405[_i328];"Control"===_l101?e=!0:"Alt"===_l101?i=!0:"Shift"===_l101?s=!0:"Meta"===_l101?n=!0:o=_l101;}return e===this.ctrl&&i===this.alt&&n===this.meta&&s===this.shift&&o===this.key;}},{key:"includes",value:function includes(t){return"Control"===t?this.ctrl:"Alt"===t?this.alt:"Shift"===t?this.shift:"Meta"===t?this.meta:this.key===t;}},{key:"compare",value:function compare(t){return this.ctrl===t.ctrl&&this.alt===t.alt&&this.shift===t.shift&&this.meta===t.meta&&this.key===t.key;}},{key:"isVoid",value:function isVoid(){return!1===this.ctrl&&!1===this.alt&&!1===this.shift&&!1===this.meta&&null===this.key;}},{key:"toDisplayString",value:function toDisplayString(){var e="";if(t){this.meta&&(e+="^"),this.alt&&(e+="\u2325"),this.shift&&(e+="\u21E7"),this.ctrl&&(e+="\u2318");var _t406={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326",Tab:"\u21E5"};null!==this.key&&(e+=_t406[this.key]||this.key);}else{var _t407=[];this.ctrl&&_t407.push("Ctrl"),this.alt&&_t407.push("Alt"),this.shift&&_t407.push("Shift"),this.meta&&_t407.push("Meta");var _i329={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==this.key&&_t407.push(_i329[this.key]||this.key),e=_t407.join("+");}return e;}},{key:"toJSON",value:function toJSON(){return this.toString();}},{key:"toElement",value:function toElement(){var t=$i("x-shortcut"),e=[];return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta&&e.push("Meta"),null!==this.key&&e.push(key),t.value=e,t;}},{key:"toString",value:function toString(){var t=[];return this.ctrl&&t.push("Control"),this.alt&&t.push("Alt"),this.shift&&t.push("Shift"),this.meta&&t.push("Meta"),null!==this.key&&t.push(this.key),t.join("+");}},{key:"ctrl",get:function get(){return this.Un;},set:function set(t){this.Un=t;}},{key:"alt",get:function get(){return this.Fn;},set:function set(t){this.Fn=t;}},{key:"shift",get:function get(){return this.Nn;},set:function set(t){this.Nn=t;}},{key:"meta",get:function get(){return this.jn;},set:function set(t){this.jn=t;}},{key:"key",get:function get(){return this.Vn;},set:function set(t){this.Vn=t;}}],[{key:"fromEvent",value:function fromEvent(e){var i=new Ja();if(i.ctrl=t?e.metaKey:e.ctrlKey,i.alt=e.altKey,i.shift=e.shiftKey,i.meta=t?e.ctrlKey:e.metaKey,i.key=null,e instanceof KeyboardEvent){var _t408=e.key;" "===_t408&&(_t408="Space"),_t408&&"Control"!==_t408&&"Alt"!==_t408&&"Shift"!==_t408&&"Meta"!==_t408&&(1===_t408.length?i.key=_t408.toUpperCase():i.key=_t408);}return i;}},{key:"fromElement",value:function fromElement(t){var e=new Ja();return e.ctrl=t.modKeys.includes("Control"),e.alt=t.modKeys.includes("Alt"),e.shift=t.modKeys.includes("Shift"),e.meta=t.modKeys.includes("Meta"),e.key=t.normalKey,e;}},{key:"fromString",value:function fromString(t){return _construct(Ja,_toConsumableArray(t.split("+").filter(function(t){return""!==t;})));}}]);return Ja;}();var th=["text","textPath","tspan"],eh=["fill","fill-opacity","fill-rule","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","vector-effect"],ih=["opacity","mix-blend-mode","isolation"],sh=["font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","text-decoration","text-transform"],nh=function nh(t){var e=[];return k.includes(t.localName)&&e.push.apply(e,eh),w.includes(t.localName)&&e.push.apply(e,ih),th.includes(t.localName)&&e.push.apply(e,sh),e;},oh=function oh(t,e){var i=getComputedStyle(t),s=nh(t);!1===t.isConnected&&console.warn("setAppearance() called with a disconnected element.");var _iterator203=_createForOfIteratorHelper(s),_step203;try{for(_iterator203.s();!(_step203=_iterator203.n()).done;){var _n136=_step203.value;var _s211=e[_n136];if(void 0===_s211)t.style[_n136]=null,t.removeAttribute(_n136);else if("fill"===_n136||"stroke"===_n136){if(_s211.startsWith("<linearGradient")||_s211.startsWith("<radialGradient")){var _e323=Ii(t),_i330=_e323.querySelector("defs"),_o111=Ji(_templateObject5(),_s211);_o111.id=Xi(_e323,"gradient-"),(_i330||_e323).append(_o111),t.style[_n136]="url(#".concat(_o111.id,")");}else i[_n136]!==_s211&&(t.style[_n136]=_s211);}else i[_n136]!==_s211&&(t.style[_n136]=_s211);}}catch(err){_iterator203.e(err);}finally{_iterator203.f();}},lh={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var ah=/*#__PURE__*/function(_HTMLElement44){_inherits(ah,_HTMLElement44);var _super45=_createSuper(ah);function ah(){var _this149;_classCallCheck(this,ah);for(var _len14=arguments.length,args=new Array(_len14),_key14=0;_key14<_len14;_key14++){args[_key14]=arguments[_key14];}_this149=_super45.call.apply(_super45,[this].concat(args));_defineProperty(_assertThisInitialized(_this149),"Js",null);_defineProperty(_assertThisInitialized(_this149),"tn",null);_defineProperty(_assertThisInitialized(_this149),"Hn",null);_defineProperty(_assertThisInitialized(_this149),"Wn",null);return _this149;}_createClass(ah,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this150=this;this.Hn=this.Js.getConfig("bx-splinesettings:spline","cubicBezier"),this.Yn=this.Js.getConfig("bx-splinesettings:viewPathNodes",!0),this.tn.board.style.cursor="crosshair",this.tn.board.splineHud.enabled=this.Yn,this.qn(),this.Js.addEventListener("configchange",this.ln=function(t){_this150.an(t);});}},{key:"sn",value:function sn(){this.Xn(),this.tn.board.splineHud.passive=!1,this.Js.removeEventListener("configchange",this.ln);}},{key:"an",value:function an(t){var _t$detail=t.detail,e=_t$detail.key,i=_t$detail.value;"bx-splinesettings:spline"===e?(this.Hn=null===i?"cubicBezier":i,this.qn()):"bx-splinesettings:viewPathNodes"===e?(this.Yn=null===i||i,this.tn.board.splineHud.enabled=this.Yn):"bx-splinesettings:drawLineSplineAs"!==e&&"bx-splinesettings:drawBasisSplineAs"!==e&&"bx-splinesettings:drawCatmullSplineAs"!==e&&"bx-splinesettings:drawSpiroSplineAs"!==e||this.qn();}},{key:"qn",value:function qn(){this.Xn(),"line"===this.Hn?this.Wn=new hh(this.Js,this.tn):"quadBezier"===this.Hn?this.Wn=new rh(this.Js,this.tn):"cubicBezier"===this.Hn?this.Wn=new dh(this.Js,this.tn):"arc"===this.Hn?this.Wn=new ch(this.Js,this.tn):"basis"===this.Hn?this.Wn=new ph(this.Js,this.tn):"catmull"===this.Hn?this.Wn=new uh(this.Js,this.tn):"spiro"===this.Hn&&(this.Wn=new xh(this.Js,this.tn));}},{key:"Xn",value:function Xn(){this.Wn&&this.Wn.release();}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return ah;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ah,"observedAttributes",["enabled"]);customElements.define("bx-splinecontext",ah);var hh=/*#__PURE__*/function(_Qa){_inherits(hh,_Qa);var _super46=_createSuper(hh);function hh(t,e){var _temp43,_this151;_classCallCheck(this,hh);(_temp43=_this151=_super46.call(this),_defineProperty(_assertThisInitialized(_this151),"Js",null),_defineProperty(_assertThisInitialized(_this151),"tn",null),_defineProperty(_assertThisInitialized(_this151),"Zn",!1),_defineProperty(_assertThisInitialized(_this151),"Kn",null),_defineProperty(_assertThisInitialized(_this151),"Qn",null),_temp43),_this151.Js=t,_this151.tn=e,_this151.tn.board.workspaces.addEventListener("pointerdown",_this151.Kn=function(t){_this151.gn(t);}),_this151.tn.board.splineHud.addEventListener("nodeclick",_this151.Qn=function(t){_this151.Jn(t);});return _this151;}_createClass(hh,[{key:"release",value:function release(){this.tn.board.lineSegHud.hide(),this.tn.board.workspaces.removeEventListener("pointerdown",this.Kn),this.tn.board.splineHud.removeEventListener("nodeclick",this.Qn),this.dispatchEvent(new CustomEvent("release"));}},{key:"gn",value:function gn(t){if(!1===this.Zn){this.Zn=!0;var _e324=new DOMPoint(t.clientX,t.clientY);this.eo(_e324);}}},{key:"Jn",value:function Jn(t){var e=t.detail;!1===this.Zn&&"mid"!==e.position&&(this.Zn=!0,this.eo(e));}},{key:"eo",value:function eo(t){var _this152=this;var e,i,s,n,o,l,a=this.tn.board,h=a.currentContainer||a.currentWorkspace,r=this.Js.getConfig("bx-splinesettings:style",lh),d=this.Js.getConfig("bx-splinesettings:drawLineSplineAs","line,polyline,polygon"),c=null,p=[],u=-1,x=!1,b=[],m=new DOMPoint();if(a.splineHud.passive=!0,t instanceof DOMPoint){var _e325=t;a.lineSegHud.show(h,_e325);}else{var _e326=t,_i331=_e326.spline.getPathData({normalize:!0});c=_e326.spline,x="start"===_e326.position,p=rt(_i331),u=_e326.subpathIndex;{var _t409=p[u],_e327=Yt(c,!0),_i332=new DOMPoint(_t409.at(x?0:-1).values.at(-2),_t409.at(x?0:-1).values.at(-1)).matrixTransform(_e327);a.lineSegHud.show(c,_i332);}}a.workspaces.addEventListener("pointerup",e=function e(_e328){var i=new DOMPoint(_e328.clientX,_e328.clientY);null===c?t instanceof DOMPoint&&Ee(t,i)>=4&&g():Ee(m,i)<4?y():g(),m=i;}),a.splineHud.addEventListener("nodepointerdown",i=function i(t){var e=t.detail;t.preventDefault(),e.spline===c?e.subpathIndex===u?("line"!==c.localName&&("start"===e.position&&!1===x||"end"===e.position&&!0===x)&&v(),y()):(f(e),y()):(w(e),y());}),a.splineHud.addEventListener("nodepointerup",s=function s(t){var e=t.detail;t.preventDefault(),null===c&&(w(e),y());}),a.undoManager.addEventListener("undoorredo",n=function n(){if(c&&!1===c.isConnected){var _t410=b.find(function(t){return!0===t.isConnected;});c=_t410||null;}if(null===c)p=[],u=0,a.splineHud.selectedNodes=[],y();else{{var _t411=c.getPathData({normalize:!0});p=rt(_t411),void 0===p[u]&&(u=0);}{var _t412=p.flat().indexOf(p[u].at(x?0:-1)),_e329=Yt(c,!0),_i333=new DOMPoint(p[u].at(x?0:-1).values.at(-2),p[u].at(x?0:-1).values.at(-1)).matrixTransform(_e329);a.splineHud.selectedNodes=[{spline:c,index:_t412}],a.lineSegHud.show(c,_i333);}}}),a.addEventListener("keydown",o=function o(t){var _p$u;var e=Ja.fromEvent(t);e.matches("Enter")?y():e.matches("Enter","Shift")?(((_p$u=p[u])===null||_p$u===void 0?void 0:_p$u.length)>0&&"line"!==c.localname&&v(),y()):e.matches("Escape")&&(t.preventDefault(),y());}),this.addEventListener("release",l=function l(){y();});var g=function g(){a.undoManager.checkpoint("Add spline segment"),null===c&&(p=[[{type:"M",values:[a.lineSegHud.x1,a.lineSegHud.y1]}]],u=0,"line,polyline,polygon"===d?c=$i("svg:line"):"polyline,polygon"===d?c=$i("svg:polyline"):"path"===d&&(c=$i("svg:path")),h.append(c),oh(c,r)),!1===x?p[u]=[].concat(_toConsumableArray(p[u]),[{type:"L",values:[a.lineSegHud.x2,a.lineSegHud.y2]}]):!0===x&&(p[u]=[{type:"M",values:[a.lineSegHud.x2,a.lineSegHud.y2]},{type:"L",values:[a.lineSegHud.x1,a.lineSegHud.y1]}].concat(_toConsumableArray(p[u].slice(1))));var _iterator204=_createForOfIteratorHelper(p[u]),_step204;try{for(_iterator204.s();!(_step204=_iterator204.n()).done;){var _t416=_step204.value;_t416.values=_t416.values.map(function(t){return J(t,a.geometryPrecision);});}}catch(err){_iterator204.e(err);}finally{_iterator204.f();}{var _ref65;var _t413=(_ref65=[]).concat.apply(_ref65,_toConsumableArray(p));if("line"===c.localName){if(2===_t413.length)c.setAttribute("x1",_t413[0].values[0]),c.setAttribute("y1",_t413[0].values[1]),c.setAttribute("x2",_t413[1].values[0]),c.setAttribute("y2",_t413[1].values[1]);else{var _e330=$i("svg:polyline");var _iterator205=_createForOfIteratorHelper(c.attributes),_step205;try{for(_iterator205.s();!(_step205=_iterator205.n()).done;){var _t414=_step205.value;!1===["x1","y1","x2","y2"].includes(_t414.name)&&_e330.setAttribute(_t414.name,_t414.value);}}catch(err){_iterator205.e(err);}finally{_iterator205.f();}_e330.setAttribute("points",_t413.map(function(t){return t.values;}).flat().join(" ")),c.replaceWith(_e330),b.push(c,_e330),a.selectedElements=a.selectedElements.map(function(t){return t===c?_e330:t;}),c=_e330;}}else"polyline"===c.localName?c.setAttribute("points",_t413.map(function(t){return t.values;}).flat().join(" ")):"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t413));}{var _t415=p.flat().indexOf(p[u].at(x?0:-1)),_e331=Yt(c,!0),_i334=p[u],_s212=new DOMPoint(_i334.at(x?0:-1).values.at(-2),_i334.at(x?0:-1).values.at(-1)).matrixTransform(_e331);null===c.closest("defs")&&void 0===a.selectedElements.find(function(t){return t===c||t.contains(c);})&&(a.selectedElements=[].concat(_toConsumableArray(a.selectedElements),[c])),a.lineSegHud.show(c,_s212),a.splineHud.selectedNodes=[{spline:c,index:_t415}];}},f=function f(t){a.undoManager.checkpoint("Add spline segment");{var _e332=p[u],_i335=p[t.subpathIndex];p=p.filter(function(t){return t!==_i335;}),u=p.indexOf(_e332),(!0===x&&"start"===t.position||!1===x&&"end"===t.position)&&(_i335=ct(_i335)),!1===x?p[u]=[].concat(_toConsumableArray(_e332),[{type:"L",values:[_i335[0].values[0],_i335[0].values[1]]}],_toConsumableArray(_i335.slice(1))):!0===x&&(p[u]=[].concat(_toConsumableArray(_i335),[{type:"L",values:[_e332[0].values[0],_e332[0].values[1]]}],_toConsumableArray(_e332.slice(1))));var _iterator206=_createForOfIteratorHelper(p[u]),_step206;try{for(_iterator206.s();!(_step206=_iterator206.n()).done;){var _t417=_step206.value;_t417.values=_t417.values.map(function(t){return J(t,a.geometryPrecision);});}}catch(err){_iterator206.e(err);}finally{_iterator206.f();}}{var _ref66;var _t418=(_ref66=[]).concat.apply(_ref66,_toConsumableArray(p));"path"===c.localName?c.setPathData(_t418):c.setAttribute("points",_t418.map(function(t){return t.values;}).flat().join(" "));}a.splineHud.selectedNodes=[];},w=function w(t){a.undoManager.checkpoint("Add spline segment");var e=c?c.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(c.id),"\"]")):null,i=t.spline,s=a.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(i.id),"\"]")),n=rt(i.getPathData({normalize:!0})),o=Wt(i,c||h,!0);null===c&&(p=[[{type:"M",values:[a.lineSegHud.x1,a.lineSegHud.y1]}]],u=0,c=!d.includes("polyline")||"line"!==i.localName&&"polyline"!==i.localName?$i("svg:path"):$i("svg:polyline"),h.append(c),oh(c,r));{var _p$u2;var _e333=n[t.subpathIndex];n=n.filter(function(t){return t!==_e333;}),"end"===t.position&&(_e333=ct(_e333)),_e333=oe(_e333,o),x&&(p[u]=ct(p[u])),(_p$u2=p[u]).push.apply(_p$u2,[{type:"L",values:[_e333[0].values[0],_e333[0].values[1]]}].concat(_toConsumableArray(_e333.slice(1)))),s&&"end"===t.position&&(p[u]=ct(p[u]));var _iterator207=_createForOfIteratorHelper(p[u]),_step207;try{for(_iterator207.s();!(_step207=_iterator207.n()).done;){var _t419=_step207.value;_t419.values=_t419.values.map(function(t){return J(t,a.geometryPrecision);});}}catch(err){_iterator207.e(err);}finally{_iterator207.f();}}{var _ref67;var _t420=(_ref67=[]).concat.apply(_ref67,_toConsumableArray(p));if("line"===c.localName||"polyline"===c.localName){var _e334=$i("svg:path");var _iterator208=_createForOfIteratorHelper(c.attributes),_step208;try{for(_iterator208.s();!(_step208=_iterator208.n()).done;){var _t421=_step208.value;!1===["x1","y1","x2","y2","points"].includes(_t421.name)&&_e334.setAttribute(_t421.name,_t421.value);}}catch(err){_iterator208.e(err);}finally{_iterator208.f();}_e334.setPathData(_t420),c.replaceWith(_e334),a.selectedElements=a.selectedElements.map(function(t){return t===c?_e334:t;}),c=_e334;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t420));if(0===n.length)i.remove();else{var _ref68;var _t422=(_ref68=[]).concat.apply(_ref68,_toConsumableArray(n));i.setPathData(_t422);}if(!e&&s&&!1===i.isConnected){var _t423=a.generateUniqueID(c.localName+"-");c.setAttribute("id",_t423),s.setAttribute("href","#"+_t423),s.closest("text").removeAttribute("transform");}}{var _t424=_toConsumableArray(a.selectedElements);!1===i.isConnected&&(_t424=_t424.filter(function(t){return t!==i;})),null===c.closest("defs")&&void 0===_t424.find(function(t){return t===c||t.contains(c);})&&_t424.push(c),a.selectedElements=_t424;}},v=function v(){a.undoManager.checkpoint("Add spline segment");{var _t425=p[u];_t425.push({type:"L",values:[_t425[0].values[0],_t425[0].values[1]]},{type:"Z",values:[]});}{var _ref69;var _t426=(_ref69=[]).concat.apply(_ref69,_toConsumableArray(p));if("polyline"===c.localName){if(d.includes("polygon")){var _t427=$i("svg:polygon");var _iterator209=_createForOfIteratorHelper(c.attributes),_step209;try{for(_iterator209.s();!(_step209=_iterator209.n()).done;){var _e335=_step209.value;_t427.setAttribute(_e335.name,_e335.value);}}catch(err){_iterator209.e(err);}finally{_iterator209.f();}c.replaceWith(_t427),a.selectedElements=a.selectedElements.map(function(e){return e===c?_t427:e;}),c=_t427;}else{var _e336=$i("svg:path");var _iterator210=_createForOfIteratorHelper(c.attributes),_step210;try{for(_iterator210.s();!(_step210=_iterator210.n()).done;){var _t428=_step210.value;!1===["points"].includes(_t428.name)&&_e336.setAttribute(_t428.name,_t428.value);}}catch(err){_iterator210.e(err);}finally{_iterator210.f();}_e336.setPathData(_t426),c.replaceWith(_e336),a.selectedElements=a.selectedElements.map(function(t){return t===c?_e336:t;}),c=_e336;}}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t426));}a.splineHud.selectedNodes=[];},y=function y(){a.workspaces.removeEventListener("pointerup",e),a.splineHud.removeEventListener("nodepointerdown",i),a.splineHud.removeEventListener("nodepointerup",s),a.undoManager.removeEventListener("undoorredo",n),a.removeEventListener("keydown",o),_this152.removeEventListener("release",l),a.splineHud.passive=!1,a.lineSegHud.hide(),_this152.Zn=!1;};}}]);return hh;}(Qa);var rh=/*#__PURE__*/function(_Qa2){_inherits(rh,_Qa2);var _super47=_createSuper(rh);function rh(t,e){var _temp44,_this153;_classCallCheck(this,rh);(_temp44=_this153=_super47.call(this),_defineProperty(_assertThisInitialized(_this153),"Js",null),_defineProperty(_assertThisInitialized(_this153),"tn",null),_defineProperty(_assertThisInitialized(_this153),"Zn",!1),_defineProperty(_assertThisInitialized(_this153),"Kn",null),_defineProperty(_assertThisInitialized(_this153),"Qn",null),_temp44),_this153.Js=t,_this153.tn=e,_this153.tn.board.workspaces.addEventListener("pointerdown",_this153.Kn=function(t){_this153.gn(t);}),_this153.tn.board.splineHud.addEventListener("nodeclick",_this153.Qn=function(t){_this153.Jn(t);});return _this153;}_createClass(rh,[{key:"release",value:function release(){this.tn.board.quadBezierSegHud.hide(),this.tn.board.workspaces.removeEventListener("pointerdown",this.Kn),this.tn.board.splineHud.removeEventListener("nodeclick",this.Qn),this.dispatchEvent(new CustomEvent("release"));}},{key:"gn",value:function gn(t){!1===this.Zn&&(this.Zn=!0,this.tn.board.workspaces.setPointerCapture(t.pointerId),this.eo(new DOMPoint(t.clientX,t.clientY)));}},{key:"Jn",value:function Jn(t){var e=t.detail;!1===this.Zn&&"mid"!==e.position&&(this.Zn=!0,this.eo(e));}},{key:"eo",value:function eo(t){var _this154=this;var e,i,s,n,o,l,a,h=this.tn.board,r=h.currentContainer||h.currentWorkspace,d=this.Js.getConfig("bx-splinesettings:style",lh),c=null,p=[],u=-1,x=!1,b=[],m=new DOMPoint();if(h.splineHud.passive=!0,t instanceof DOMPoint){var _e337=t;h.quadBezierSegHud.show(r,_e337,"end");}else{var _e338=t,_i336=_e338.spline.getPathData({normalize:!0});c=_e338.spline,x="start"===_e338.position,p=rt(_i336),u=_e338.subpathIndex;{var _t429=p[u],_i337=Yt(c,!0),_s213=new DOMPoint(_t429.at(x?0:-1).values.at(-2),_t429.at(x?0:-1).values.at(-1)).matrixTransform(_i337);h.quadBezierSegHud.show(c,_s213,_e338.position,_t429);}}h.workspaces.addEventListener("pointerdown",e=function e(t){_this154.tn.board.workspaces.setPointerCapture(t.pointerId);}),h.workspaces.addEventListener("pointerup",i=function i(e){var i=new DOMPoint(e.clientX,e.clientY);null===c?t instanceof DOMPoint&&Ee(t,i)>=4&&g():Ee(m,i)<4?y():g(),m=i;}),h.splineHud.addEventListener("nodepointerup",s=function s(t){var e=t.detail;null===c&&(w(e),y());}),h.splineHud.addEventListener("nodeclick",n=function n(t){var e=t.detail;t.preventDefault(),e.spline===c?e.subpathIndex===u?(("start"===e.position&&!1===x||"end"===e.position&&!0===x)&&v(),y()):(f(e),y()):(w(e),y());}),h.undoManager.addEventListener("undoorredo",o=function o(){if(c&&!1===c.isConnected){var _t430=b.find(function(t){return!0===t.isConnected;});c=_t430||null;}if(null===c)p=[],u=0,h.splineHud.selectedNodes=[],y();else{{var _t431=c.getPathData({normalize:!0});p=rt(_t431),void 0===p[u]&&(u=0);}{var _t432=p.flat().indexOf(p[u].at(x?0:-1)),_e339=Yt(c,!0),_i338=new DOMPoint(p[u].at(x?0:-1).values.at(-2),p[u].at(x?0:-1).values.at(-1)).matrixTransform(_e339);h.splineHud.selectedNodes=[{spline:c,index:_t432}],h.quadBezierSegHud.show(c,_i338,x?"start":"end",p[u]);}}}),h.addEventListener("keydown",l=function l(t){var _p$u3;var e=Ja.fromEvent(t);e.matches("Enter")?y():e.matches("Enter","Shift")?(((_p$u3=p[u])===null||_p$u3===void 0?void 0:_p$u3.length)>0&&"line"!==c.localName&&v(),y()):e.matches("Escape")&&(t.preventDefault(),y());}),this.addEventListener("release",a=function a(){y();});var g=function g(){h.undoManager.checkpoint("Add spline segment"),null===c&&(p=[[{type:"M",values:[h.quadBezierSegHud.x1,h.quadBezierSegHud.y1]}]],u=0,c=$i("svg:path"),r.append(c),oh(c,d)),!1===x?h.quadBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(p[u]),[{type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]}]):p[u]=[].concat(_toConsumableArray(p[u]),[{type:"L",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]}]):h.quadBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(ct(lt([{type:"M",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]},{type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,h.quadBezierSegHud.x1,h.quadBezierSegHud.y1]}]))),_toConsumableArray(p[u].slice(1))):p[u]=[{type:"M",values:[h.quadBezierSegHud.x1,h.quadBezierSegHud.y1]},{type:"L",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]}].concat(_toConsumableArray(p[u].slice(1))),p[u]=lt(p[u]);var _iterator211=_createForOfIteratorHelper(p[u]),_step211;try{for(_iterator211.s();!(_step211=_iterator211.n()).done;){var _t436=_step211.value;_t436.values=_t436.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator211.e(err);}finally{_iterator211.f();}{var _ref70;var _t433=(_ref70=[]).concat.apply(_ref70,_toConsumableArray(p));if("line"===c.localName||"polyline"===c.localName){var _e340=$i("svg:path");var _iterator212=_createForOfIteratorHelper(c.attributes),_step212;try{for(_iterator212.s();!(_step212=_iterator212.n()).done;){var _t434=_step212.value;!1===["x1","y1","x2","y2","points"].includes(_t434.name)&&_e340.setAttribute(_t434.name,_t434.value);}}catch(err){_iterator212.e(err);}finally{_iterator212.f();}_e340.setPathData(_t433),c.replaceWith(_e340),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e340:t;}),c=_e340;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t433));}{var _t435=p.flat().indexOf(p[u].at(x?0:-1)),_e341=Yt(c,!0),_i339=p[u],_s214=new DOMPoint(_i339.at(x?0:-1).values.at(-2),_i339.at(x?0:-1).values.at(-1)).matrixTransform(_e341);null===c.closest("defs")&&void 0===h.selectedElements.find(function(t){return t===c||t.contains(c);})&&(h.selectedElements=[].concat(_toConsumableArray(h.selectedElements),[c])),h.quadBezierSegHud.show(c,_s214,x?"start":"end",_i339),h.splineHud.selectedNodes=[{spline:c,index:_t435}];}},f=function f(t){h.undoManager.checkpoint("Add spline segment");{var _e342=p[u],_i340=p[t.subpathIndex];p=p.filter(function(t){return t!==_i340;}),u=p.indexOf(_e342),(!0===x&&"start"===t.position||!1===x&&"end"===t.position)&&(_i340=ct(_i340)),!1===x?h.quadBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(_e342),[{type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,_i340[0].values[0],_i340[0].values[1]]}],_toConsumableArray(_i340.slice(1))):p[u]=[].concat(_toConsumableArray(_e342),[{type:"L",values:[_i340[0].values[0],_i340[0].values[1]]}],_toConsumableArray(_i340.slice(1))):h.quadBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(_i340),_toConsumableArray(ct(lt([{type:"M",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]},{type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,h.quadBezierSegHud.x1,h.quadBezierSegHud.y1]}])).slice(1)),_toConsumableArray(p[u].slice(1))):p[u]=[].concat(_toConsumableArray(_i340),[{type:"L",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]}],_toConsumableArray(p[u].slice(1))),p[u]=lt(p[u]);var _iterator213=_createForOfIteratorHelper(p[u]),_step213;try{for(_iterator213.s();!(_step213=_iterator213.n()).done;){var _t437=_step213.value;_t437.values=_t437.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator213.e(err);}finally{_iterator213.f();}}{var _ref71;var _t438=(_ref71=[]).concat.apply(_ref71,_toConsumableArray(p));"path"===c.localName?c.setPathData(_t438):c.setAttribute("points",_t438.map(function(t){return t.values;}).flat().join(" "));}h.splineHud.selectedNodes=[];},w=function w(t){h.undoManager.checkpoint("Add spline segment");var e=c?c.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(c.id),"\"]")):null,i=t.spline,s=h.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(i.id),"\"]")),n=rt(i.getPathData({normalize:!0})),o=Wt(i,c||r,!0);null===c&&(p=[[{type:"M",values:[h.quadBezierSegHud.x1,h.quadBezierSegHud.y1]}]],u=0,c=$i("svg:path"),r.append(c),oh(c,d));{var _p$u4,_p$u5;var _e343=n[t.subpathIndex];n=n.filter(function(t){return t!==_e343;}),"end"===t.position&&(_e343=ct(_e343)),_e343=oe(_e343,o),x&&(p[u]=ct(p[u])),h.quadBezierSegHud.curved?(_p$u4=p[u]).push.apply(_p$u4,[{type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,_e343[0].values[0],_e343[0].values[1]]}].concat(_toConsumableArray(_e343.slice(1)))):(_p$u5=p[u]).push.apply(_p$u5,[{type:"L",values:[_e343[0].values[0],_e343[0].values[1]]}].concat(_toConsumableArray(_e343.slice(1)))),s&&"end"===t.position&&(p[u]=ct(p[u])),p[u]=lt(p[u]);var _iterator214=_createForOfIteratorHelper(p[u]),_step214;try{for(_iterator214.s();!(_step214=_iterator214.n()).done;){var _t439=_step214.value;_t439.values=_t439.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator214.e(err);}finally{_iterator214.f();}}{var _ref72;var _t440=(_ref72=[]).concat.apply(_ref72,_toConsumableArray(p));if("line"===c.localName||"polyline"===c.localName){var _e344=$i("svg:path");var _iterator215=_createForOfIteratorHelper(c.attributes),_step215;try{for(_iterator215.s();!(_step215=_iterator215.n()).done;){var _t441=_step215.value;!1===["x1","y1","x2","y2","points"].includes(_t441.name)&&_e344.setAttribute(_t441.name,_t441.value);}}catch(err){_iterator215.e(err);}finally{_iterator215.f();}_e344.setPathData(_t440),c.replaceWith(_e344),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e344:t;}),c=_e344;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t440));if(0===n.length)i.remove();else{var _ref73;var _t442=(_ref73=[]).concat.apply(_ref73,_toConsumableArray(n));i.setPathData(_t442);}if(!e&&s&&!1===i.isConnected){var _t443=h.generateUniqueID(c.localName+"-");c.setAttribute("id",_t443),s.setAttribute("href","#"+_t443),s.closest("text").removeAttribute("transform");}}{var _t444=_toConsumableArray(h.selectedElements);!1===i.isConnected&&(_t444=_t444.filter(function(t){return t!==i;})),null===c.closest("defs")&&void 0===_t444.find(function(t){return t===c||t.contains(c);})&&_t444.push(c),h.selectedElements=_t444;}},v=function v(){h.undoManager.checkpoint("Add spline segment");{var _t445=p[u];if(!1===x)h.quadBezierSegHud.curved?_t445.push({type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,_t445[0].values[0],_t445[0].values[1]]},{type:"Z",values:[]}):_t445.push({type:"L",values:[_t445[0].values[0],_t445[0].values[1]]},{type:"Z",values:[]});else{var _e345=new DOMPoint(_t445.at(-1).values.at(-2),_t445.at(-1).values.at(-1));h.quadBezierSegHud.curved?_t445.push.apply(_t445,_toConsumableArray(ct(lt([{type:"M",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]},{type:"Q",values:[h.quadBezierSegHud.cx,h.quadBezierSegHud.cy,_e345.x,_e345.y]}])).slice(1)).concat([{type:"Z",values:[]}])):_t445.push({type:"L",values:[h.quadBezierSegHud.x2,h.quadBezierSegHud.y2]},{type:"Z",values:[]});}p[u]=lt(p[u]);var _iterator216=_createForOfIteratorHelper(p[u]),_step216;try{for(_iterator216.s();!(_step216=_iterator216.n()).done;){var _t446=_step216.value;_t446.values=_t446.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator216.e(err);}finally{_iterator216.f();}}{var _ref74;var _t447=(_ref74=[]).concat.apply(_ref74,_toConsumableArray(p));if("line"===c.localName){var _e346=$i("svg:path");var _iterator217=_createForOfIteratorHelper(c.attributes),_step217;try{for(_iterator217.s();!(_step217=_iterator217.n()).done;){var _t448=_step217.value;!1===["x1","y1","x2","y2"].includes(_t448.name)&&_e346.setAttribute(_t448.name,_t448.value);}}catch(err){_iterator217.e(err);}finally{_iterator217.f();}_e346.setPathData(_t447),c.replaceWith(_e346),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e346:t;}),c=_e346;}else if("polyline"===c.localName){var _e347=$i("svg:path");var _iterator218=_createForOfIteratorHelper(c.attributes),_step218;try{for(_iterator218.s();!(_step218=_iterator218.n()).done;){var _t449=_step218.value;!1===["points"].includes(_t449.name)&&_e347.setAttribute(_t449.name,_t449.value);}}catch(err){_iterator218.e(err);}finally{_iterator218.f();}_e347.setPathData(_t447),c.replaceWith(_e347),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e347:t;}),c=_e347;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t447));}h.splineHud.selectedNodes=[];},y=function y(){h.workspaces.removeEventListener("pointerdown",e),h.workspaces.removeEventListener("pointerup",i),h.splineHud.removeEventListener("nodepointerup",s),h.splineHud.removeEventListener("nodeclick",n),h.undoManager.removeEventListener("undoorredo",o),h.removeEventListener("keydown",l),_this154.removeEventListener("release",a),h.splineHud.passive=!1,h.quadBezierSegHud.hide(),_this154.Zn=!1;};}}]);return rh;}(Qa);var dh=/*#__PURE__*/function(_Qa3){_inherits(dh,_Qa3);var _super48=_createSuper(dh);function dh(t,e){var _temp45,_this155;_classCallCheck(this,dh);(_temp45=_this155=_super48.call(this),_defineProperty(_assertThisInitialized(_this155),"Js",null),_defineProperty(_assertThisInitialized(_this155),"tn",null),_defineProperty(_assertThisInitialized(_this155),"Zn",!1),_defineProperty(_assertThisInitialized(_this155),"Kn",null),_defineProperty(_assertThisInitialized(_this155),"Qn",null),_temp45),_this155.Js=t,_this155.tn=e,_this155.tn.board.workspaces.addEventListener("pointerdown",_this155.Kn=function(t){_this155.gn(t);}),_this155.tn.board.splineHud.addEventListener("nodeclick",_this155.Qn=function(t){_this155.Jn(t);});return _this155;}_createClass(dh,[{key:"release",value:function release(){this.tn.board.cubicBezierSegHud.hide(),this.tn.board.workspaces.removeEventListener("pointerdown",this.Kn),this.tn.board.splineHud.removeEventListener("nodeclick",this.Qn),this.dispatchEvent(new CustomEvent("release"));}},{key:"gn",value:function gn(t){!1===this.Zn&&(this.Zn=!0,this.tn.board.workspaces.setPointerCapture(t.pointerId),this.eo(new DOMPoint(t.clientX,t.clientY)));}},{key:"Jn",value:function Jn(t){var e=t.detail;!1===this.Zn&&"mid"!==e.position&&(this.Zn=!0,this.eo(e));}},{key:"eo",value:function eo(t){var _this156=this;var e,i,s,n,o,l,a,h=this.tn.board,r=h.currentContainer||h.currentWorkspace,d=this.Js.getConfig("bx-splinesettings:style",lh),c=null,p=[],u=-1,x=!1,b=[],m=new DOMPoint();if(h.splineHud.passive=!0,t instanceof DOMPoint){var _e348=t;h.cubicBezierSegHud.show(r,_e348,"end");}else{var _e349=t,_i341=_e349.spline.getPathData({normalize:!0});c=_e349.spline,x="start"===_e349.position,p=rt(_i341),u=_e349.subpathIndex;{var _t450=p[u],_i342=Yt(c,!0),_s215=new DOMPoint(_t450.at(x?0:-1).values.at(-2),_t450.at(x?0:-1).values.at(-1)).matrixTransform(_i342);h.cubicBezierSegHud.show(c,_s215,_e349.position,_t450);}}h.workspaces.addEventListener("pointerdown",e=function e(t){_this156.tn.board.workspaces.setPointerCapture(t.pointerId);}),h.workspaces.addEventListener("pointerup",i=function i(e){var i=new DOMPoint(e.clientX,e.clientY);null===c?t instanceof DOMPoint&&Ee(t,i)>=4&&g():Ee(m,i)<4?y():g(),m=i;}),h.splineHud.addEventListener("nodepointerup",s=function s(t){var e=t.detail;null===c&&(w(e),y());}),h.splineHud.addEventListener("nodeclick",n=function n(t){var e=t.detail;t.preventDefault(),e.spline===c?e.subpathIndex===u?(("start"===e.position&&!1===x||"end"===e.position&&!0===x)&&v(),y()):(f(e),y()):(w(e),y());}),h.undoManager.addEventListener("undoorredo",o=function o(){if(c&&!1===c.isConnected){var _t451=b.find(function(t){return!0===t.isConnected;});c=_t451||null;}if(null===c)p=[],u=0,h.splineHud.selectedNodes=[],y();else{{var _t452=c.getPathData({normalize:!0});p=rt(_t452),void 0===p[u]&&(u=0);}{var _t453=p.flat().indexOf(p[u].at(x?0:-1)),_e350=Yt(c,!0),_i343=new DOMPoint(p[u].at(x?0:-1).values.at(-2),p[u].at(x?0:-1).values.at(-1)).matrixTransform(_e350);h.splineHud.selectedNodes=[{spline:c,index:_t453}],h.cubicBezierSegHud.show(c,_i343,x?"start":"end",p[u]);}}}),h.addEventListener("keydown",l=function l(t){var _p$u6;var e=Ja.fromEvent(t);e.matches("Enter")?y():e.matches("Enter","Shift")?(((_p$u6=p[u])===null||_p$u6===void 0?void 0:_p$u6.length)>0&&"line"!==c.localName&&v(),y()):e.matches("Escape")&&(t.preventDefault(),y());}),this.addEventListener("release",a=function a(){y();});var g=function g(){h.undoManager.checkpoint("Add spline segment"),null===c&&(p=[[{type:"M",values:[h.cubicBezierSegHud.x1,h.cubicBezierSegHud.y1]}]],u=0,c=$i("svg:path"),r.append(c),oh(c,d)),!1===x?h.cubicBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(p[u]),[{type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy1,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]}]):p[u]=[].concat(_toConsumableArray(p[u]),[{type:"L",values:[h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]}]):h.cubicBezierSegHud.curved?p[u]=[{type:"M",values:[h.cubicBezierSegHud.x1,h.cubicBezierSegHud.y1]},{type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy1,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]}].concat(_toConsumableArray(p[u].slice(1))):p[u]=[{type:"M",values:[h.cubicBezierSegHud.x1,h.cubicBezierSegHud.y1]},{type:"L",values:[h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]}].concat(_toConsumableArray(p[u].slice(1))),p[u]=lt(p[u]);var _iterator219=_createForOfIteratorHelper(p[u]),_step219;try{for(_iterator219.s();!(_step219=_iterator219.n()).done;){var _t457=_step219.value;_t457.values=_t457.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator219.e(err);}finally{_iterator219.f();}{var _ref75;var _t454=(_ref75=[]).concat.apply(_ref75,_toConsumableArray(p));if("line"===c.localName||"polyline"===c.localName){var _e351=$i("svg:path");var _iterator220=_createForOfIteratorHelper(c.attributes),_step220;try{for(_iterator220.s();!(_step220=_iterator220.n()).done;){var _t455=_step220.value;!1===["x1","y1","x2","y2","points"].includes(_t455.name)&&_e351.setAttribute(_t455.name,_t455.value);}}catch(err){_iterator220.e(err);}finally{_iterator220.f();}_e351.setPathData(_t454),c.replaceWith(_e351),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e351:t;}),c=_e351;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t454));}{null===c.closest("defs")&&void 0===h.selectedElements.find(function(t){return t===c||t.contains(c);})&&(h.selectedElements=[].concat(_toConsumableArray(h.selectedElements),[c]));var _t456=p.flat().indexOf(p[u].at(x?0:-1)),_e352=Yt(c,!0),_i344=p[u],_s216=new DOMPoint(_i344.at(x?0:-1).values.at(-2),_i344.at(x?0:-1).values.at(-1)).matrixTransform(_e352);h.cubicBezierSegHud.show(c,_s216,x?"start":"end",_i344),h.splineHud.selectedNodes=[{spline:c,index:_t456}];}},f=function f(t){h.undoManager.checkpoint("Add spline segment");{var _e353=p[u],_i345=p[t.subpathIndex];p=p.filter(function(t){return t!==_i345;}),u=p.indexOf(_e353),(!0===x&&"start"===t.position||!1===x&&"end"===t.position)&&(_i345=ct(_i345)),!1===x?h.cubicBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(_e353),[{type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy1,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,_i345[0].values[0],_i345[0].values[1]]}],_toConsumableArray(_i345.slice(1))):p[u]=[].concat(_toConsumableArray(_e353),[{type:"L",values:[_i345[0].values[0],_i345[0].values[1]]}],_toConsumableArray(_i345.slice(1))):h.cubicBezierSegHud.curved?p[u]=[].concat(_toConsumableArray(_i345),_toConsumableArray(ct(lt([{type:"M",values:[h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]},{type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy2,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,h.cubicBezierSegHud.x1,h.cubicBezierSegHud.y1]}])).slice(1)),_toConsumableArray(p[u].slice(1))):p[u]=[].concat(_toConsumableArray(_i345),[{type:"L",values:[h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]}],_toConsumableArray(p[u].slice(1))),p[u]=lt(p[u]);var _iterator221=_createForOfIteratorHelper(p[u]),_step221;try{for(_iterator221.s();!(_step221=_iterator221.n()).done;){var _t458=_step221.value;_t458.values=_t458.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator221.e(err);}finally{_iterator221.f();}}{var _ref76;var _t459=(_ref76=[]).concat.apply(_ref76,_toConsumableArray(p));"path"===c.localName?c.setPathData(_t459):c.setAttribute("points",_t459.map(function(t){return t.values;}).flat().join(" "));}h.splineHud.selectedNodes=[];},w=function w(t){h.undoManager.checkpoint("Add spline segment");var e=c?c.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(c.id),"\"]")):null,i=t.spline,s=h.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(i.id),"\"]")),n=rt(i.getPathData({normalize:!0})),o=Wt(i,c||r,!0);null===c&&(p=[[{type:"M",values:[h.cubicBezierSegHud.x1,h.cubicBezierSegHud.y1]}]],u=0,c=$i("svg:path"),r.append(c),oh(c,d));{var _p$u7,_p$u8;var _e354=n[t.subpathIndex];n=n.filter(function(t){return t!==_e354;}),"end"===t.position&&(_e354=ct(_e354)),_e354=oe(_e354,o),x&&(p[u]=ct(p[u])),h.cubicBezierSegHud.curved?(_p$u7=p[u]).push.apply(_p$u7,[{type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy1,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,_e354[0].values[0],_e354[0].values[1]]}].concat(_toConsumableArray(_e354.slice(1)))):(_p$u8=p[u]).push.apply(_p$u8,[{type:"L",values:[_e354[0].values[0],_e354[0].values[1]]}].concat(_toConsumableArray(_e354.slice(1)))),s&&"end"===t.position&&(p[u]=ct(p[u])),p[u]=lt(p[u]);var _iterator222=_createForOfIteratorHelper(p[u]),_step222;try{for(_iterator222.s();!(_step222=_iterator222.n()).done;){var _t460=_step222.value;_t460.values=_t460.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator222.e(err);}finally{_iterator222.f();}}{var _ref77;var _t461=(_ref77=[]).concat.apply(_ref77,_toConsumableArray(p));if("line"===c.localName||"polyline"===c.localName){var _e355=$i("svg:path");var _iterator223=_createForOfIteratorHelper(c.attributes),_step223;try{for(_iterator223.s();!(_step223=_iterator223.n()).done;){var _t462=_step223.value;!1===["x1","y1","x2","y2","points"].includes(_t462.name)&&_e355.setAttribute(_t462.name,_t462.value);}}catch(err){_iterator223.e(err);}finally{_iterator223.f();}_e355.setPathData(_t461),c.replaceWith(_e355),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e355:t;}),c=_e355;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t461));if(0===n.length)i.remove();else{var _ref78;var _t463=(_ref78=[]).concat.apply(_ref78,_toConsumableArray(n));i.setPathData(_t463);}if(!e&&s&&!1===i.isConnected){var _t464=h.generateUniqueID(c.localName+"-");c.setAttribute("id",_t464),s.setAttribute("href","#"+_t464),s.closest("text").removeAttribute("transform");}}{var _t465=_toConsumableArray(h.selectedElements);!1===i.isConnected&&(_t465=_t465.filter(function(t){return t!==i;})),null===c.closest("defs")&&void 0===_t465.find(function(t){return t===c||t.contains(c);})&&_t465.push(c),h.selectedElements=_t465;}},v=function v(){h.undoManager.checkpoint("Add spline segment");{var _t466=p[u];if(!1===x)h.cubicBezierSegHud.curved?_t466.push({type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy1,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,_t466[0].values[0],_t466[0].values[1]]},{type:"Z",values:[]}):_t466.push({type:"L",values:[_t466[0].values[0],_t466[0].values[1]]},{type:"Z",values:[]});else{var _e356=new DOMPoint(_t466.at(-1).values.at(-2),_t466.at(-1).values.at(-1));h.cubicBezierSegHud.curved?_t466.push.apply(_t466,_toConsumableArray(ct(lt([{type:"M",values:[h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]},{type:"C",values:[h.cubicBezierSegHud.cx1,h.cubicBezierSegHud.cy1,h.cubicBezierSegHud.cx2,h.cubicBezierSegHud.cy2,_e356.x,_e356.y]}])).slice(1)).concat([{type:"Z",values:[]}])):_t466.push({type:"L",values:[h.cubicBezierSegHud.x2,h.cubicBezierSegHud.y2]},{type:"Z",values:[]});}p[u]=lt(p[u]);var _iterator224=_createForOfIteratorHelper(p[u]),_step224;try{for(_iterator224.s();!(_step224=_iterator224.n()).done;){var _t467=_step224.value;_t467.values=_t467.values.map(function(t){return J(t,h.geometryPrecision);});}}catch(err){_iterator224.e(err);}finally{_iterator224.f();}}{var _ref79;var _t468=(_ref79=[]).concat.apply(_ref79,_toConsumableArray(p));if("line"===c.localName){var _e357=$i("svg:path");var _iterator225=_createForOfIteratorHelper(c.attributes),_step225;try{for(_iterator225.s();!(_step225=_iterator225.n()).done;){var _t469=_step225.value;!1===["x1","y1","x2","y2"].includes(_t469.name)&&_e357.setAttribute(_t469.name,_t469.value);}}catch(err){_iterator225.e(err);}finally{_iterator225.f();}_e357.setPathData(_t468),c.replaceWith(_e357),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e357:t;}),c=_e357;}else if("polyline"===c.localName){var _e358=$i("svg:path");var _iterator226=_createForOfIteratorHelper(c.attributes),_step226;try{for(_iterator226.s();!(_step226=_iterator226.n()).done;){var _t470=_step226.value;!1===["points"].includes(_t470.name)&&_e358.setAttribute(_t470.name,_t470.value);}}catch(err){_iterator226.e(err);}finally{_iterator226.f();}_e358.setPathData(_t468),c.replaceWith(_e358),h.selectedElements=h.selectedElements.map(function(t){return t===c?_e358:t;}),c=_e358;}else"path"===c.localName&&(c.hasAttribute("data-bx-spline")&&c.removeAttribute("data-bx-spline"),c.setPathData(_t468));}h.splineHud.selectedNodes=[];},y=function y(){h.workspaces.removeEventListener("pointerdown",e),h.workspaces.removeEventListener("pointerup",i),h.splineHud.removeEventListener("nodepointerup",s),h.splineHud.removeEventListener("nodeclick",n),h.undoManager.removeEventListener("undoorredo",o),h.removeEventListener("keydown",l),_this156.removeEventListener("release",a),h.splineHud.passive=!1,h.cubicBezierSegHud.hide(),_this156.Zn=!1;};}}]);return dh;}(Qa);var ch=/*#__PURE__*/function(_Qa4){_inherits(ch,_Qa4);var _super49=_createSuper(ch);function ch(t,e){var _temp46,_this157;_classCallCheck(this,ch);(_temp46=_this157=_super49.call(this),_defineProperty(_assertThisInitialized(_this157),"Js",null),_defineProperty(_assertThisInitialized(_this157),"tn",null),_defineProperty(_assertThisInitialized(_this157),"Zn",!1),_defineProperty(_assertThisInitialized(_this157),"Kn",null),_defineProperty(_assertThisInitialized(_this157),"Qn",null),_temp46),_this157.Js=t,_this157.tn=e,_this157.tn.board.workspaces.addEventListener("pointerdown",_this157.Kn=function(t){_this157.gn(t);}),_this157.tn.board.splineHud.addEventListener("nodeclick",_this157.Qn=function(t){_this157.Jn(t);});return _this157;}_createClass(ch,[{key:"release",value:function release(){this.tn.board.arcSegHud.hide(),this.tn.board.workspaces.removeEventListener("pointerdown",this.Kn),this.tn.board.splineHud.removeEventListener("nodeclick",this.Qn),this.dispatchEvent(new CustomEvent("release"));}},{key:"gn",value:function gn(t){if(!1===this.Zn){this.Zn=!0;var _e359=new DOMPoint(t.clientX,t.clientY);this.eo(_e359);}}},{key:"Jn",value:function Jn(t){var e=t.detail;!1===this.Zn&&"mid"!==e.position&&(this.Zn=!0,this.eo(e));}},{key:"eo",value:function eo(t){var _this158=this;var e,i,s,n,o,l=this.tn.board,a=l.currentContainer||l.currentWorkspace,h=this.Js.getConfig("bx-splinesettings:style",lh),r=null,d=[],c=-1,p=!1,u=[],x=new DOMPoint();if(l.splineHud.passive=!0,t instanceof DOMPoint){var _e360=t,_i346=new DOMPoint(_e360.x-100,_e360.y);l.arcSegHud.show(a,_e360,_i346);}else{var _e361=t,_i347=_e361.spline.getPathData({normalize:!0});r=_e361.spline,p="start"===_e361.position,d=rt(_i347),c=_e361.subpathIndex;{var _t471=d[c],_i348=Yt(r,!0),_s217=new DOMPoint(_t471.at(p?0:-1).values.at(-2),_t471.at(p?0:-1).values.at(-1)).matrixTransform(_i348),_n137=this.io(d[c],_e361.position).matrixTransform(_i348);l.arcSegHud.show(r,_s217,_n137);}}l.workspaces.addEventListener("pointerup",e=function e(_e362){var i=new DOMPoint(_e362.clientX,_e362.clientY);null===r?t instanceof DOMPoint&&Ee(t,i)>=4&&b():Ee(x,i)<4?w():b(),x=i;}),l.splineHud.addEventListener("nodepointerdown",i=function i(t){var e=t.detail;t.preventDefault(),e.spline===r?e.subpathIndex===c?(("start"===e.position&&!1===p||"end"===e.position&&!0===p)&&f(),w()):(m(e),w()):(g(e),w());}),l.undoManager.addEventListener("undoorredo",s=function s(){if(r&&!1===r.isConnected){var _t472=u.find(function(t){return!0===t.isConnected;});r=_t472||null;}if(null===r)d=[],c=0,l.splineHud.selectedNodes=[],w();else{{var _t473=r.getPathData({normalize:!0});d=rt(_t473),void 0===d[c]&&(c=0);}{var _t474=d.flat().indexOf(d[c].at(p?0:-1)),_e363=Yt(r,!0),_i349=new DOMPoint(d[c].at(p?0:-1).values.at(-2),d[c].at(p?0:-1).values.at(-1)).matrixTransform(_e363),_s218=_this158.io(d[c],p?"start":"end").matrixTransform(_e363);l.splineHud.selectedNodes=[{spline:r,index:_t474}],l.arcSegHud.show(r,_i349,_s218);}}}),l.addEventListener("keydown",n=function n(t){var _d$c;var e=Ja.fromEvent(t);e.matches("Enter")?w():e.matches("Enter","Shift")?(((_d$c=d[c])===null||_d$c===void 0?void 0:_d$c.length)>0&&"line"!==r.localName&&f(),w()):e.matches("Escape")&&(t.preventDefault(),w());}),this.addEventListener("release",o=function o(){w();});var b=function b(){l.undoManager.checkpoint("Add spline segment"),null===r&&(d=[[{type:"M",values:[l.arcSegHud.x1,l.arcSegHud.y1]}]],c=0,r=$i("svg:path"),a.append(r),oh(r,h)),!1===p?0===l.arcSegHud.r?d[c]=[].concat(_toConsumableArray(d[c]),[{type:"L",values:[l.arcSegHud.x2,l.arcSegHud.y2]}]):d[c]=[].concat(_toConsumableArray(d[c]),[{type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,l.arcSegHud.x2,l.arcSegHud.y2]}]):!0===p&&(0===l.arcSegHud.r?d[c]=[{type:"M",values:[l.arcSegHud.x2,l.arcSegHud.y2]},{type:"L",values:[l.arcSegHud.x1,l.arcSegHud.y1]}].concat(_toConsumableArray(d[c].slice(1))):d[c]=[].concat(_toConsumableArray(ct(lt([{type:"M",values:[l.arcSegHud.x1,l.arcSegHud.y1]},{type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,l.arcSegHud.x2,l.arcSegHud.y2]}]))),_toConsumableArray(d[c].slice(1)))),d[c]=lt(d[c]);var _iterator227=_createForOfIteratorHelper(d[c]),_step227;try{for(_iterator227.s();!(_step227=_iterator227.n()).done;){var _t478=_step227.value;_t478.values=_t478.values.map(function(t){return J(t,l.geometryPrecision);});}}catch(err){_iterator227.e(err);}finally{_iterator227.f();}{var _ref80;var _t475=(_ref80=[]).concat.apply(_ref80,_toConsumableArray(d));if("line"===r.localName||"polyline"===r.localName){var _e364=$i("svg:path");var _iterator228=_createForOfIteratorHelper(r.attributes),_step228;try{for(_iterator228.s();!(_step228=_iterator228.n()).done;){var _t476=_step228.value;!1===["x1","y1","x2","y2","points"].includes(_t476.name)&&_e364.setAttribute(_t476.name,_t476.value);}}catch(err){_iterator228.e(err);}finally{_iterator228.f();}_e364.setPathData(_t475),r.replaceWith(_e364),l.selectedElements=l.selectedElements.map(function(t){return t===r?_e364:t;}),u.push(r,_e364),r=_e364;}else"path"===r.localName&&r.hasAttribute("data-bx-spline")&&r.removeAttribute("data-bx-spline");r.setPathData(_t475);}{var _t477=d.flat().indexOf(d[c].at(p?0:-1)),_e365=Yt(r,!0),_i350=d[c],_s219=new DOMPoint(_i350.at(p?0:-1).values.at(-2),_i350.at(p?0:-1).values.at(-1)).matrixTransform(_e365),_n138=_this158.io(_i350,p?"start":"end").matrixTransform(_e365);null===r.closest("defs")&&void 0===l.selectedElements.find(function(t){return t===r||t.contains(r);})&&(l.selectedElements=[].concat(_toConsumableArray(l.selectedElements),[r])),l.arcSegHud.show(r,_s219,_n138),l.splineHud.selectedNodes=[{spline:r,index:_t477}];}},m=function m(t){l.undoManager.checkpoint("Add spline segment");{var _e366=d[c],_i351=d[t.subpathIndex];d=d.filter(function(t){return t!==_i351;}),c=d.indexOf(_e366),(!0===p&&"start"===t.position||!1===p&&"end"===t.position)&&(_i351=ct(_i351)),!1===p?0===l.arcSegHud.r?d[c]=[].concat(_toConsumableArray(_e366),[{type:"L",values:[_i351[0].values[0],_i351[0].values[1]]}],_toConsumableArray(_i351.slice(1))):d[c]=[].concat(_toConsumableArray(_e366),[{type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,_i351[0].values[0],_i351[0].values[1]]}],_toConsumableArray(_i351.slice(1))):!0===p&&(0===l.arcSegHud.r?d[c]=[].concat(_toConsumableArray(_i351),[{type:"L",values:[l.arcSegHud.x1,l.arcSegHud.y1]}],_toConsumableArray(d[c].slice(1))):d[c]=[].concat(_toConsumableArray(_i351),_toConsumableArray(ct(lt([{type:"M",values:[l.arcSegHud.x1,l.arcSegHud.y1]},{type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,l.arcSegHud.x2,l.arcSegHud.y2]}])).slice(1)),_toConsumableArray(d[c].slice(1)))),d[c]=lt(d[c]);var _iterator229=_createForOfIteratorHelper(d[c]),_step229;try{for(_iterator229.s();!(_step229=_iterator229.n()).done;){var _t479=_step229.value;_t479.values=_t479.values.map(function(t){return J(t,l.geometryPrecision);});}}catch(err){_iterator229.e(err);}finally{_iterator229.f();}}{var _ref81;var _t480=(_ref81=[]).concat.apply(_ref81,_toConsumableArray(d));"path"===r.localName?r.setPathData(_t480):r.setAttribute("points",_t480.map(function(t){return t.values;}).flat().join(" "));}l.splineHud.selectedNodes=[];},g=function g(t){l.undoManager.checkpoint("Add spline segment");var e=r?r.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(r.id),"\"]")):null,i=t.spline,s=l.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(i.id),"\"]")),n=rt(i.getPathData({normalize:!0})),o=Wt(i,r||a,!0);null===r&&(d=[[{type:"M",values:[l.arcSegHud.x1,l.arcSegHud.y1]}]],c=0,r=$i("svg:path"),a.append(r),oh(r,h));{var _d$c2,_d$c3;var _e367=n[t.subpathIndex];n=n.filter(function(t){return t!==_e367;}),"end"===t.position&&(_e367=ct(_e367)),_e367=oe(_e367,o),p&&(d[c]=ct(d[c])),0===l.arcSegHud.r?(_d$c2=d[c]).push.apply(_d$c2,[{type:"L",values:[_e367[0].values[0],_e367[0].values[1]]}].concat(_toConsumableArray(_e367.slice(1)))):(_d$c3=d[c]).push.apply(_d$c3,[{type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,_e367[0].values[0],_e367[0].values[1]]}].concat(_toConsumableArray(_e367.slice(1)))),s&&"end"===t.position&&(d[c]=ct(d[c]));var _iterator230=_createForOfIteratorHelper(d[c]),_step230;try{for(_iterator230.s();!(_step230=_iterator230.n()).done;){var _t481=_step230.value;_t481.values=_t481.values.map(function(t){return J(t,l.geometryPrecision);});}}catch(err){_iterator230.e(err);}finally{_iterator230.f();}}{var _ref82;var _t482=(_ref82=[]).concat.apply(_ref82,_toConsumableArray(d));if("line"===r.localName||"polyline"===r.localName){var _e368=$i("svg:path");var _iterator231=_createForOfIteratorHelper(r.attributes),_step231;try{for(_iterator231.s();!(_step231=_iterator231.n()).done;){var _t483=_step231.value;!1===["x1","y1","x2","y2","points"].includes(_t483.name)&&_e368.setAttribute(_t483.name,_t483.value);}}catch(err){_iterator231.e(err);}finally{_iterator231.f();}_e368.setPathData(_t482),r.replaceWith(_e368),l.selectedElements=l.selectedElements.map(function(t){return t===r?_e368:t;}),r=_e368;}else"path"===r.localName&&(r.hasAttribute("data-bx-spline")&&r.removeAttribute("data-bx-spline"),r.setPathData(_t482));if(0===n.length)i.remove();else{var _ref83;var _t484=(_ref83=[]).concat.apply(_ref83,_toConsumableArray(n));i.setPathData(_t484);}if(!e&&s&&!1===i.isConnected){var _t485=l.generateUniqueID(r.localName+"-");r.setAttribute("id",_t485),s.setAttribute("href","#"+_t485),s.closest("text").removeAttribute("transform");}}{var _t486=_toConsumableArray(l.selectedElements);!1===i.isConnected&&(_t486=_t486.filter(function(t){return t!==i;})),null===r.closest("defs")&&void 0===_t486.find(function(t){return t===r||t.contains(r);})&&_t486.push(r),l.selectedElements=_t486;}},f=function f(){l.undoManager.checkpoint("Add spline segment");{var _t487=d[c];if(!1===p)0===l.arcSegHud.r?_t487.push({type:"L",values:[_t487[0].values[0],_t487[0].values[1]]},{type:"Z",values:[]}):_t487.push({type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,_t487[0].values[0],_t487[0].values[1]]},{type:"Z",values:[]});else if(0===l.arcSegHud.r){var _e369=new DOMPoint(_t487.at(0).values.at(-2),_t487.at(0).values.at(-1));_t487.push({type:"L",values:[_e369.x,_e369.y]},{type:"Z",values:[]});}else{var _e370=new DOMPoint(_t487.at(-1).values.at(-2),_t487.at(-1).values.at(-1));_t487.push.apply(_t487,_toConsumableArray(ct(lt([{type:"M",values:[l.arcSegHud.x1,l.arcSegHud.y1]},{type:"A",values:[l.arcSegHud.r,l.arcSegHud.r,l.arcSegHud.rotation,l.arcSegHud.largeArcFlag,l.arcSegHud.sweepFlag,_e370.x,_e370.y]}])).slice(1)).concat([{type:"Z",values:[]}]));}var _iterator232=_createForOfIteratorHelper(d[c]),_step232;try{for(_iterator232.s();!(_step232=_iterator232.n()).done;){var _t488=_step232.value;_t488.values=_t488.values.map(function(t){return J(t,l.geometryPrecision);});}}catch(err){_iterator232.e(err);}finally{_iterator232.f();}}{var _ref84;var _t489=(_ref84=[]).concat.apply(_ref84,_toConsumableArray(d));if("line"===r.localName){var _e371=$i("svg:path");var _iterator233=_createForOfIteratorHelper(r.attributes),_step233;try{for(_iterator233.s();!(_step233=_iterator233.n()).done;){var _t490=_step233.value;!1===["x1","y1","x2","y2"].includes(_t490.name)&&_e371.setAttribute(_t490.name,_t490.value);}}catch(err){_iterator233.e(err);}finally{_iterator233.f();}_e371.setPathData(_t489),r.replaceWith(_e371),l.selectedElements=l.selectedElements.map(function(t){return t===r?_e371:t;}),r=_e371;}else if("polyline"===r.localName){var _e372=$i("svg:path");var _iterator234=_createForOfIteratorHelper(r.attributes),_step234;try{for(_iterator234.s();!(_step234=_iterator234.n()).done;){var _t491=_step234.value;!1===["points"].includes(_t491.name)&&_e372.setAttribute(_t491.name,_t491.value);}}catch(err){_iterator234.e(err);}finally{_iterator234.f();}_e372.setPathData(_t489),r.replaceWith(_e372),l.selectedElements=l.selectedElements.map(function(t){return t===r?_e372:t;}),r=_e372;}else"path"===r.localName&&(r.hasAttribute("data-bx-spline")&&r.removeAttribute("data-bx-spline"),r.setPathData(_t489));}l.splineHud.selectedNodes=[];},w=function w(){l.workspaces.removeEventListener("pointerup",e),l.splineHud.removeEventListener("nodepointerdown",i),l.undoManager.removeEventListener("undoorredo",s),l.removeEventListener("keydown",n),_this158.removeEventListener("release",o),l.splineHud.passive=!1,l.arcSegHud.hide(),_this158.Zn=!1;};}},{key:"io",value:function io(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";var i;"start"===e&&(t=ct(t));var s=t[t.length-1],n=t[t.length-2];if("C"===s.type){var _t492=new DOMPoint("C"===n.type?n.values[4]:n.values[0],"C"===n.type?n.values[5]:n.values[1]),_e373=new DOMPoint(s.values[0],s.values[1]),_o112=new DOMPoint(s.values[2],s.values[3]),_l102=.9999999,_a71=1-_l102;i=new DOMPoint(_a71*_a71*_t492.x+_a71*_l102*2*_e373.x+_l102*_l102*_o112.x,_a71*_a71*_t492.y+_a71*_l102*2*_e373.y+_l102*_l102*_o112.y);}else if("C"===n.type){var _n$values=_slicedToArray(n.values,6),_t493=_n$values[0],_e374=_n$values[1],_s220=_n$values[2],_o113=_n$values[3],_l103=_n$values[4],_a72=_n$values[5];i=new DOMPoint(_l103,_a72);}else if("L"===s.type||"M"===s.type){var _n$values2=_slicedToArray(n.values,2),_t494=_n$values2[0],_e375=_n$values2[1];i=new DOMPoint(_t494,_e375);}return i;}}]);return ch;}(Qa);var ph=/*#__PURE__*/function(_Qa5){_inherits(ph,_Qa5);var _super50=_createSuper(ph);function ph(t,e){var _this159;_classCallCheck(this,ph);_this159=_super50.call(this),_this159.Js=t,_this159.tn=e,_this159.so=t.getConfig("bx-splinesettings:drawBasisSplineAs","basis"),console.log("@todo: Implement BasisModeDelegate.");return _this159;}_createClass(ph,[{key:"release",value:function release(){}}]);return ph;}(Qa);var uh=/*#__PURE__*/function(_Qa6){_inherits(uh,_Qa6);var _super51=_createSuper(uh);function uh(t,e){var _this160;_classCallCheck(this,uh);_this160=_super51.call(this),_this160.Js=t,_this160.tn=e,_this160.no=t.getConfig("bx-splinesettings:drawCatmullSplineAs","catmull"),console.log("@todo: Implement CatmullModeDelegate.");return _this160;}_createClass(uh,[{key:"release",value:function release(){}}]);return uh;}(Qa);var xh=/*#__PURE__*/function(_Qa7){_inherits(xh,_Qa7);var _super52=_createSuper(xh);function xh(t,e){var _this161;_classCallCheck(this,xh);_this161=_super52.call(this),_this161.Js=t,_this161.tn=e,_this161.oo=t.getConfig("bx-splinesettings:drawSpiroSplineAs","spiro"),console.log("@todo: Implement SpiroModeDelegate.");return _this161;}_createClass(xh,[{key:"release",value:function release(){}}]);return xh;}(Qa);var bh=Math.abs,mh=Math.floor,gh=Math.max,fh=function fh(t,e){var i=ue(new Q(t[1]),new Q(t[0])),s=ue(new Q(t[t.length-3]),new Q(t[t.length-2]));return i=i.normalize(),s=s.normalize(),wh(t,0,t.length-1,i,s,e);},wh=function wh(t,e,i,s,n,o){if(i-e==1){var _o114=t[e],_l104=t[i],_a73=Ee(_o114,_l104)/3,_h63=new Q(_o114),_r42=new Q(_l104),_d25=xe(_h63,s.scale(_a73)),_c21=xe(_r42,n.scale(_a73));return[[_o114,new DOMPoint(_d25.x,_d25.y),new DOMPoint(_c21.x,_c21.y),_l104]];}var l,a=yh(t,e,i),h=gh(o,o*o);for(var _r43=0;_r43<=4;_r43+=1){var _r44=vh(t,e,i,a,s,n),_h64=_h(t,e,i,_r44,a),_h65=_slicedToArray(_h64,2),_d26=_h65[0],_c22=_h65[1];if(_d26<o)return[_r44];if(l=_c22,_d26>=h)break;kh(t,e,i,a,_r44),h=_d26;}var r=ue(new Q(t[l-1]),new Q(t[l])),d=ue(new Q(t[l]),new Q(t[l+1])),c=xe(r,d).multiply(.5).normalize(),p=wh(t,e,l,s,c,o),u=wh(t,l,i,c.multiply(-1),n,o);return p.concat(u);},vh=function vh(t,e,i,s,n,o){var l=t[e],a=t[i],h=new Q(l),r=new Q(a),d=[[0,0],[0,0]],c=[0,0],p=i-e+1;for(var _i352=0;_i352<p;_i352+=1){var _l105=s[_i352],_a74=1-_l105,_p21=3*_l105*_a74,_u20=_a74*_a74*_a74,_x71=_p21*_a74,_b18=_p21*_l105,_m18=_l105*_l105*_l105,_g18=n.scale(_x71),_f14=o.scale(_b18);d[0][0]+=pe(_g18,_g18),d[0][1]+=pe(_g18,_f14),d[1][0]=d[0][1],d[1][1]+=pe(_f14,_f14);var _w13=new Q(t[e+_i352]);_w13=ue(_w13,h.multiply(_u20+_x71)),_w13=ue(_w13,r.multiply(_b18+_m18)),c[0]+=pe(_g18,_w13),c[1]+=pe(_f14,_w13);}var u,x,b=d[0][0]*d[1][1]-d[1][0]*d[0][1],m=1e-6;if(bh(b)>m){var _t495=d[0][0]*c[1]-d[1][0]*c[0];u=(c[0]*d[1][1]-c[1]*d[0][1])/b,x=_t495/b;}else{var _t496=d[0][0]+d[0][1],_e376=d[1][0]+d[1][1];u=x=bh(_t496)>m?c[0]/_t496:bh(_e376)>m?c[1]/_e376:0;}var g=Ee(a,l);m*=g,(u<m||x<m)&&(u=x=g/3);var f=xe(h,n.scale(u)),w=xe(r,o.scale(x));return[l,new DOMPoint(f.x,f.y),new DOMPoint(w.x,w.y),a];},yh=function yh(t,e,i){var s=[0];for(var _n139=e+1;_n139<=i;_n139+=1){s[_n139-e]=s[_n139-e-1]+Ee(t[_n139],t[_n139-1]);}for(var _t497=1,_n140=i-e;_t497<=_n140;_t497+=1){s[_t497]/=s[i-e];}return s;},kh=function kh(t,e,i,s,n){var o=[];for(var _l106=e;_l106<=i;_l106+=1){o[_l106-e]=Sh(n,t[_l106],s[_l106-e]);}return o;},Sh=function Sh(t,e,i){var s=[],n=[];for(var _e377=0;_e377<=2;_e377+=1){var _i353=ue(new Q(t[_e377+1]),new Q(t[_e377]));s[_e377]=_i353.multiply(3);}for(var _t498=0;_t498<=1;_t498++){var _e378=ue(s[_t498+1],s[_t498]);n[_t498]=_e378.multiply(2);}var o=Ch(3,t,i),l=Ch(2,s,i),a=Ch(1,n,i),h=ue(o,new Q(e)),r=pe(l,l)+pe(h,a);return bh(r)<1e-6?i:i-pe(h,l)/r;},Ch=function Ch(t,e,i){var s=e.map(function(t){return new Q(t);});for(var n=1;n<=t;n+=1){for(var o=0;o<=t-n;o+=1){s[o]=xe(s[o].multiply(1-i),s[o+1].multiply(i));}}return s[0];},_h=function _h(t,e,i,s,n){var o=mh((i-e+1)/2),l=0;for(var _a75=e+1;_a75<i;_a75++){var _i354=ue(Ch(3,s,n[_a75-e]),new Q(t[_a75])).length;_i354>=l&&(l=_i354,o=_a75);}return[l,o];},Mh={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var Ph=/*#__PURE__*/function(_HTMLElement45){_inherits(Ph,_HTMLElement45);var _super53=_createSuper(Ph);_createClass(Ph,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Ph(){_classCallCheck(this,Ph);return _super53.call(this);}_createClass(Ph,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this162=this;this.lo=this.Js.getConfig("bx-freehandsettings:smoothing",.5),this.un.splineHud.passive=!0,this.un.style.cursor="crosshair",this.Js.addEventListener("configchange",this.ln=function(t){_this162.an(t.detail);}),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this162.gn(t);}),this.un.splineHud.addEventListener("nodepointerdown",this.ao=function(t){_this162.ho(t);});}},{key:"sn",value:function sn(){this.un.splineHud.passive=!1,this.Js.removeEventListener("configchange",this.ln),this.un.workspaces.removeEventListener("pointerdown",this.Kn),this.un.splineHud.removeEventListener("nodepointerdown",this.ao),this.un.freehandHud.hide();}},{key:"an",value:function an(_ref85){var t=_ref85.key,e=_ref85.value;"bx-freehandsettings:smoothing"===t?null!==e&&(this.lo=e):"bx-freehandsettings:viewPathNodes"===t&&(this.tn.board.splineHud.enabled=e);}},{key:"gn",value:function gn(t){var _this163=this;if(1!==t.buttons)return;var _e379,_i355,_s221,n=this.tn.board,o=new DOMPoint(t.clientX,t.clientY);n.workspaces.addEventListener("pointermove",_e379=function e(t){var s=new DOMPoint(t.clientX,t.clientY);Ee(o,s)>=3&&(n.workspaces.removeEventListener("pointermove",_e379),n.workspaces.removeEventListener("pointerup",_i355),_this163.eo(o));}),n.workspaces.addEventListener("pointerup",_i355=function i(t){n.workspaces.removeEventListener("pointermove",_e379),n.workspaces.removeEventListener("pointerup",_i355),n.workspaces.removeEventListener("lostpointercapture",_s221);}),n.workspaces.addEventListener("lostpointercapture",_s221=function s(){n.workspaces.removeEventListener("pointermove",_e379),n.workspaces.removeEventListener("pointerup",_i355),n.workspaces.removeEventListener("lostpointercapture",_s221);});}},{key:"ho",value:function ho(t){this.eo(t.detail);}},{key:"eo",value:function eo(t){var _this164=this;var e,i,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=this.Js.getConfig("bx-freehandsettings:style",Mh),l=null,a=[],h=-1,r=[],d=!1,c=new DOMPoint();if(t instanceof DOMPoint)s.freehandHud.show(n,t);else{var _e380=t;l=_e380.spline;var _i356=l.getPathData({normalize:!0});a=rt(_i356),h=_e380.subpathIndex,"start"===_e380.position&&(d=!0);var _n141=new DOMPoint(a[h].at("start"===_e380.position?0:-1).values.at(-2),a[h].at("start"===_e380.position?0:-1).values.at(-1)).matrixTransform(Yt(l,!0));s.freehandHud.show(l,_n141);}s.splineHud.addEventListener("nodepointerup",i=function i(t){var e=t.detail;e.spline===l?e.subpathIndex===h?(("start"===e.position&&!1===d||"end"===e.position&&!0===d)&&b(),m()):(u(e),m()):(x(e),m());}),s.addEventListener("pointerup",e=function e(_e381){var i=new DOMPoint(_e381.clientX,_e381.clientY);null===l?t instanceof DOMPoint&&(Ee(t,i)>=4&&p(),m()):(Ee(c,i)<4||p(),m()),c=i;});var p=function p(){s.undoManager.checkpoint("Freehand");var t=s.freehandHud.points;if(null===l&&(a=[[{type:"M",values:[t[0].x,t[0].y]}]],h=0,l=$i("svg:path"),n.append(l),oh(l,o)),!1===d){if(1===t.length||2===t.length)a[h].push({type:"L",values:[t[t.length-1].x,t[t.length-1].y]});else if(t.length>=3){var _e382=fh(t,6*_this164.lo/s.scale);var _iterator235=_createForOfIteratorHelper(_e382),_step235;try{for(_iterator235.s();!(_step235=_iterator235.n()).done;){var _t499=_step235.value;a[h].push({type:"C",values:[_t499[1].x,_t499[1].y,_t499[2].x,_t499[2].y,_t499[3].x,_t499[3].y]});}}catch(err){_iterator235.e(err);}finally{_iterator235.f();}}}else if(!0===d)if(t=_toConsumableArray(t.reverse()),1===t.length||2===t.length)a[h]=[{type:"M",values:[t[0].x,t[0].y]},{type:"L",values:[a[h][0].values[0],a[h][0].values[1]]}].concat(_toConsumableArray(a[h].slice(1)));else if(t.length>=3){var _e383=fh(t,6*_this164.lo/s.scale);a[h]=[{type:"M",values:[t[0].x,t[0].y]}].concat(_toConsumableArray(_e383.map(function(t){return{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]};})),_toConsumableArray(a[h].slice(1)));}{var _ref86;var _t500=(_ref86=[]).concat.apply(_ref86,_toConsumableArray(a));if("line"===l.localName||"polyline"===l.localName){var _e384=$i("svg:path");var _iterator236=_createForOfIteratorHelper(l.attributes),_step236;try{for(_iterator236.s();!(_step236=_iterator236.n()).done;){var _t501=_step236.value;!1===["x1","y1","x2","y2","points"].includes(_t501.name)&&_e384.setAttribute(_t501.name,_t501.value);}}catch(err){_iterator236.e(err);}finally{_iterator236.f();}_e384.setPathData(_t500),l.replaceWith(_e384),r.push(l),l=_e384;}else"path"===l.localName&&(l.hasAttribute("data-bx-spline")&&l.removeAttribute("data-bx-spline"),l.setPathData(_t500));}{var _t502=_toConsumableArray(s.selectedElements).filter(function(t){return!1===r.includes(t);});null===l.closest("defs")&&void 0===s.selectedElements.find(function(t){return t===l||t.contains(l);})&&_t502.push(l),!1===ii(s.selectedElements,_t502)&&(s.selectedElements=[].concat(_toConsumableArray(s.selectedElements),[l]));}},u=function u(t){s.undoManager.checkpoint("Freehand");var e=s.freehandHud.points;{var _i357=a[h],_n142=a[t.subpathIndex];if(a=a.filter(function(t){return t!==_n142;}),h=a.indexOf(_i357),(!0===d&&"start"===t.position||!1===d&&"end"===t.position)&&(_n142=ct(_n142)),!1===d){if(e[0]=new DOMPoint(_i357.at(-1).values.at(-2),_i357.at(-1).values.at(-1)),e[e.length-1]=new DOMPoint(_n142.at(0).values.at(-2),_n142.at(0).values.at(-1)),1===e.length||2===e.length)a[h]=[].concat(_toConsumableArray(_i357),[{type:"L",values:[_n142[0].values.at(-2),_n142[0].values.at(-1)]}],_toConsumableArray(_n142.slice(1)));else if(e.length>=3){var _t503=fh(e,6*_this164.lo/s.scale);a[h]=[].concat(_toConsumableArray(_i357),_toConsumableArray(_t503.map(function(t){return{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]};})),_toConsumableArray(_n142.slice(1)));}}else if(!0===d)if(e=_toConsumableArray(e.reverse()),e[0]=new DOMPoint(_n142.at(-1).values.at(-2),_n142.at(-1).values.at(-1)),e[e.length-1]=new DOMPoint(_i357.at(0).values.at(-2),_i357.at(0).values.at(-1)),1===e.length||2===e.length)a[h]=[].concat(_toConsumableArray(_n142),[{type:"L",values:[_i357[0].values.at(-2),_i357[0].values.at(-1)]}],_toConsumableArray(_i357.slice(1)));else if(e.length>=3){var _t504=fh(e,6*_this164.lo/s.scale);a[h]=[].concat(_toConsumableArray(_n142),_toConsumableArray(_t504.map(function(t){return{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]};})),_toConsumableArray(_i357.slice(1)));}var _iterator237=_createForOfIteratorHelper(a[h]),_step237;try{for(_iterator237.s();!(_step237=_iterator237.n()).done;){var _t505=_step237.value;_t505.values=_t505.values.map(function(t){return J(t,s.geometryPrecision);});}}catch(err){_iterator237.e(err);}finally{_iterator237.f();}}{var _ref87;var _t506=(_ref87=[]).concat.apply(_ref87,_toConsumableArray(a));"path"===l.localName?l.setPathData(_t506):l.setAttribute("points",_t506.map(function(t){return t.values;}).flat().join(" "));}s.splineHud.selectedNodes=[];},x=function x(t){s.undoManager.checkpoint("Freehand");var e=s.freehandHud.points,i=l?l.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(l.id),"\"]")):null,c=t.spline,p=s.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(c.id),"\"]")),u=rt(c.getPathData({normalize:!0})),x=Wt(c,l||n,!0);null===l&&(a=[[{type:"M",values:[e[0].x,e[0].y]}]],h=0,l=$i("svg:path"),n.append(l),oh(l,o));{var _i358=u[t.subpathIndex];u=u.filter(function(t){return t!==_i358;}),"end"===t.position&&(_i358=ct(_i358)),_i358=oe(_i358,x),d&&(a[h]=ct(a[h]));var _n143=a[h];if(e[0]=new DOMPoint(_n143.at(-1).values.at(-2),_n143.at(-1).values.at(-1)),e[e.length-1]=new DOMPoint(_i358.at(0).values.at(-2),_i358.at(0).values.at(-1)),1===e.length||2===e.length)a[h]=[].concat(_toConsumableArray(_n143),[{type:"L",values:[_i358[0].values.at(-2),_i358[0].values.at(-1)]}],_toConsumableArray(_i358.slice(1)));else if(e.length>=3){var _t507=fh(e,6*_this164.lo/s.scale);a[h]=[].concat(_toConsumableArray(_n143),_toConsumableArray(_t507.map(function(t){return{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]};})),_toConsumableArray(_i358.slice(1)));}p&&"end"===t.position&&(a[h]=ct(a[h])),a[h]=lt(a[h]);var _iterator238=_createForOfIteratorHelper(a[h]),_step238;try{for(_iterator238.s();!(_step238=_iterator238.n()).done;){var _t508=_step238.value;_t508.values=_t508.values.map(function(t){return J(t,s.geometryPrecision);});}}catch(err){_iterator238.e(err);}finally{_iterator238.f();}}{var _ref88;var _t509=(_ref88=[]).concat.apply(_ref88,_toConsumableArray(a));if("line"===l.localName||"polyline"===l.localName){var _e385=$i("svg:path");var _iterator239=_createForOfIteratorHelper(l.attributes),_step239;try{for(_iterator239.s();!(_step239=_iterator239.n()).done;){var _t510=_step239.value;!1===["x1","y1","x2","y2","points"].includes(_t510.name)&&_e385.setAttribute(_t510.name,_t510.value);}}catch(err){_iterator239.e(err);}finally{_iterator239.f();}_e385.setPathData(_t509),l.replaceWith(_e385),r.push(l),l=_e385;}else"path"===l.localName&&(l.hasAttribute("data-bx-spline")&&l.removeAttribute("data-bx-spline"),l.setPathData(_t509));if(0===u.length)c.remove();else{var _ref89;var _t511=(_ref89=[]).concat.apply(_ref89,_toConsumableArray(u));c.setPathData(_t511);}if(!i&&p&&!1===c.isConnected){var _t512=s.generateUniqueID(l.localName+"-");l.setAttribute("id",_t512),p.setAttribute("href","#"+_t512),p.closest("text").removeAttribute("transform");}}{var _t513=_toConsumableArray(s.selectedElements).filter(function(t){return!1===r.includes(t);});null===l.closest("defs")&&void 0===_t513.find(function(t){return t===l||t.contains(l);})&&_t513.push(l),!1===c.isConnected&&(_t513=_t513.filter(function(t){return t!==c;})),!1===ii(s.selectedElements,_t513)&&(s.selectedElements=_t513),s.splineHud.selectedNodes=[];}},b=function b(){s.undoManager.checkpoint("Freehand");var t=s.freehandHud.points;{var _e386=a[h];if(!1===d){if(t[0]=new DOMPoint(_e386.at(-1).values.at(-2),_e386.at(-1).values.at(-1)),t[t.length-1]=new DOMPoint(_e386.at(0).values.at(-2),_e386.at(0).values.at(-1)),1===t.length||2===t.length)_e386.push({type:"L",values:[_e386[0].values.at(-2),_e386[0].values.at(-1)]},{type:"Z",values:[]});else if(t.length>=3){var _i359=fh(t,6*_this164.lo/s.scale);_e386.push.apply(_e386,_toConsumableArray(_i359.map(function(t){return{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]};})).concat([{type:"Z",values:[]}]));}}else if(1===t.length||2===t.length)_e386.push({type:"L",values:[_e386[0].values.at(-2),_e386[0].values.at(-1)]},{type:"Z",values:[]});else if(t.length>=3){var _i360=fh(t,6*_this164.lo/s.scale);_e386.push.apply(_e386,_toConsumableArray(ct(lt([{type:"M",values:[_e386[0].values.at(-2),_e386[0].values.at(-1)]}].concat(_toConsumableArray(_i360.map(function(t){return{type:"C",values:[t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]};}))))).slice(1)).concat([{type:"Z",values:[]}]));}a[h]=lt(a[h]);var _iterator240=_createForOfIteratorHelper(a[h]),_step240;try{for(_iterator240.s();!(_step240=_iterator240.n()).done;){var _t514=_step240.value;_t514.values=_t514.values.map(function(t){return J(t,s.geometryPrecision);});}}catch(err){_iterator240.e(err);}finally{_iterator240.f();}}{var _ref90;var _t515=(_ref90=[]).concat.apply(_ref90,_toConsumableArray(a));if("line"===l.localName){var _e387=$i("svg:path");var _iterator241=_createForOfIteratorHelper(l.attributes),_step241;try{for(_iterator241.s();!(_step241=_iterator241.n()).done;){var _t516=_step241.value;!1===["x1","y1","x2","y2"].includes(_t516.name)&&_e387.setAttribute(_t516.name,_t516.value);}}catch(err){_iterator241.e(err);}finally{_iterator241.f();}_e387.setPathData(_t515),l.replaceWith(_e387),s.selectedElements=s.selectedElements.map(function(t){return t===l?_e387:t;}),l=_e387;}else if("polyline"===l.localName){var _e388=$i("svg:path");var _iterator242=_createForOfIteratorHelper(l.attributes),_step242;try{for(_iterator242.s();!(_step242=_iterator242.n()).done;){var _t517=_step242.value;!1===["points"].includes(_t517.name)&&_e388.setAttribute(_t517.name,_t517.value);}}catch(err){_iterator242.e(err);}finally{_iterator242.f();}_e388.setPathData(_t515),l.replaceWith(_e388),s.selectedElements=s.selectedElements.map(function(t){return t===l?_e388:t;}),l=_e388;}else"path"===l.localName&&(l.hasAttribute("data-bx-spline")&&l.removeAttribute("data-bx-spline"),l.setPathData(_t515));}s.splineHud.selectedNodes=[];},m=function m(){s.removeEventListener("pointerup",e),s.splineHud.removeEventListener("nodepointerdown",undefined),s.splineHud.removeEventListener("nodepointerup",i),s.undoManager.removeEventListener("undoorredo",undefined),s.removeEventListener("keydown",undefined),_this164.removeEventListener("release",undefined),s.freehandHud.clear(),s.freehandHud.hide();};}}]);return Ph;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ph,"observedAttributes",["enabled"]);customElements.define("bx-freehandcontext",Ph);var Dh=/*#__PURE__*/function(_HTMLElement46){_inherits(Dh,_HTMLElement46);var _super54=_createSuper(Dh);_createClass(Dh,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t,this.Xs();}},{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"shape";},set:function set(t){this.setAttribute("type",t);}}]);function Dh(){var _this165;_classCallCheck(this,Dh);_this165=_super54.call(this),_this165._t=null,_this165._shadowRoot=_this165.attachShadow({mode:"closed"}),_this165._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Dh._shadowStyleSheet],_this165._shadowRoot.append(document.importNode(Dh._shadowTemplate.content,!0));var _iterator243=_createForOfIteratorHelper(_this165._shadowRoot.querySelectorAll("[id]")),_step243;try{for(_iterator243.s();!(_step243=_iterator243.n()).done;){var _t518=_step243.value;_this165["#"+_t518.id]=_t518;}}catch(err){_iterator243.e(err);}finally{_iterator243.f();}_this165["#grab-button"].addEventListener("toggle",function(){return _this165.ro();}),_this165["#reset-button"].addEventListener("click",function(){return _this165["do"]();});return _this165;}_createClass(Dh,[{key:"connectedCallback",value:function connectedCallback(){this.tn=Ri(this,"bx-editor"),this.Xs();}},{key:"ro",value:function(){var _ro=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){var t;return regeneratorRuntime.wrap(function _callee68$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:_context68.next=2;return this.tn.objectGrabber.grab();case 2:t=_context68.sent;this["#grab-button"].toggled=!1,t&&(this._t=function(t){var e={},i=getComputedStyle(t),s=nh(t);!1===t.isConnected&&console.warn("getAppearance() called with a disconnected element.");var _iterator244=_createForOfIteratorHelper(s),_step244;try{for(_iterator244.s();!(_step244=_iterator244.n()).done;){var _n144=_step244.value;if("fill"===_n144||"stroke"===_n144){var _s222=Jo(t,_n144);if(_s222){var _t519=_s222.localName;if("linearGradient"===_t519||"radialGradient"===_t519){var _i361="";var _iterator245=_createForOfIteratorHelper(zo(_s222)),_step245;try{for(_iterator245.s();!(_step245=_iterator245.n()).done;){var _t520=_step245.value;var _e389=_t520.offset.baseVal,_s223=getComputedStyle(_t520).stopColor,_n145=getComputedStyle(_t520).stopOpacity,_o115="stop-color: ".concat(_s223,";");"1"!==_n145&&(_o115+=" stop-opacity: ".concat(_n145)),_i361+="<stop offset=\"".concat(_e389,"\" style=\"").concat(_o115,"\"></stop>");}}catch(err){_iterator245.e(err);}finally{_iterator245.f();}"linearGradient"===_t519?e[_n144]="<linearGradient x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">".concat(_i361,"</linearGradient>"):"radialGradient"===_t519&&(e[_n144]="<radialGradient r=\"0.8\">".concat(_i361,"</radialGradient>"));}else"pattern"===_t519&&(e[_n144]="black");}else e[_n144]=i[_n144];}else"font-family"===_n144&&i[_n144].startsWith('"')&&i[_n144].endsWith('"')?e[_n144]=i[_n144].slice(1,-1):e[_n144]=i[_n144];}}catch(err){_iterator244.e(err);}finally{_iterator244.f();}return e;}(t),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Xs());case 4:case"end":return _context68.stop();}}},_callee68,this);}));function ro(){return _ro.apply(this,arguments);}return ro;}()},{key:"do",value:function _do(){this._t=null,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Xs();}},{key:"Xs",value:function Xs(){if(this["#reset-button"].disabled=null===this.value,null===this.value){var _t521;"text"===this.type?_t521=$:"shape"===this.type?_t521=A:"path"===this.type&&(_t521=I),oh(this["#thumbnail-rect"],_t521);}else oh(this["#thumbnail-rect"],this.value);}}]);return Dh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dh,"_shadowTemplate",Ki(_templateObject203()));_defineProperty(Dh,"_shadowStyleSheet",Qi(_templateObject204()));customElements.define("bx-stylepicker",Dh);var zh=/*#__PURE__*/function(_HTMLElement47){_inherits(zh,_HTMLElement47);var _super55=_createSuper(zh);_createClass(zh,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function zh(){var _this166;_classCallCheck(this,zh);_this166=_super55.call(this),_this166._shadowRoot=_this166.attachShadow({mode:"closed"}),_this166._shadowRoot.append(document.importNode(_this166.constructor._shadowTemplate.content,!0)),_this166._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,zh._shadowStyleSheet,_this166.constructor._shadowStyleSheet];var _iterator246=_createForOfIteratorHelper(_this166._shadowRoot.querySelectorAll("[id]")),_step246;try{for(_iterator246.s();!(_step246=_iterator246.n()).done;){var _t522=_step246.value;_this166["#"+_t522.id]=_t522;}}catch(err){_iterator246.e(err);}finally{_iterator246.f();}_this166.setAttribute("extends","bx-toolsettings");return _this166;}_createClass(zh,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){}},{key:"sn",value:function sn(){}}]);return zh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zh,"observedAttributes",["enabled"]);_defineProperty(zh,"_shadowStyleSheet",Qi(_templateObject205()));var Oh={size:{param:"pressure",variance:.5}},Eh={fill:"rgb(166, 209, 48)",stroke:"rgb(129, 151, 57)","stroke-width":"2px"},Th='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n';var Ah=/*#__PURE__*/function(_zh){_inherits(Ah,_zh);var _super56=_createSuper(Ah);function Ah(){var _this167;_classCallCheck(this,Ah);_this167=_super56.call(this),_this167["#mode-buttons"].addEventListener("toggle",function(){return _this167.co();}),_this167["#preview"].addEventListener("pointerdown",function(t){return _this167.po(t);}),_this167["#size-box"].addEventListener("changestart",function(){return _this167.uo();}),_this167["#roundness-box"].addEventListener("changestart",function(){return _this167.xo();}),_this167["#angle-box"].addEventListener("changestart",function(){return _this167.bo();}),_this167["#size-dynamics-param-select"].addEventListener("change",function(t){return _this167.mo(t);}),_this167["#size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this167.mo(t);}),_this167["#roundness-dynamics-param-select"].addEventListener("change",function(t){return _this167.mo(t);}),_this167["#roundness-dynamics-variance-input"].addEventListener("changeend",function(t){return _this167.mo(t);}),_this167["#angle-dynamics-param-select"].addEventListener("change",function(t){return _this167.mo(t);}),_this167["#angle-dynamics-variance-input"].addEventListener("changeend",function(t){return _this167.mo(t);}),_this167["#style-picker"].addEventListener("change",function(){return _this167.fo();});return _this167;}_createClass(Ah,[{key:"en",value:function en(){var _this168=this;this.wo=this.Js.getConfig("bx-blobsettings:drawingMode","create"),this.vo=this.Js.getConfig("bx-blobsettings:size",30),this.yo=this.Js.getConfig("bx-blobsettings:roundness",100),this.ko=this.Js.getConfig("bx-blobsettings:angle",0),this.So=this.Js.getConfig("bx-blobsettings:dynamics",Oh),this.Co=this.Js.getConfig("bx-blobsettings:style",Eh),this._o(),this.Js.addEventListener("configchange",this.ln=function(t){_this168.an(t);});}},{key:"sn",value:function sn(){this.Js.removeEventListener("configchange",this.ln);}},{key:"an",value:function an(t){var _t$detail2=t.detail,e=_t$detail2.key,i=_t$detail2.value;"bx-blobsettings:drawingMode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||this._o();}},{key:"co",value:function co(){this.wo=this["#mode-buttons"].value,this.Js.setConfig("bx-blobsettings:drawingMode",this["#mode-buttons"].value);}},{key:"po",value:function po(t){var _this169=this;if(1!==t.buttons)return;var e,_i363,s=Yt(this["#preview"]).inverse(),n=new DOMPoint(50,50),o=this.vo,l=this.yo,a=this.ko;this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);if(t.shiftKey)o=Ee(n,e)/(_this169["#roundness-slider"].value/100),o=tt(o,1,40,0);else{var _t523=_this169["#size-slider"].value,_i362=Ee(n,e);l=_i362/_t523*100,l=tt(l,1,100,0);}a=Re(n,new DOMPoint(50,0),e),a=tt(a,-180,180,0),_this169["#size-slider"].value=o,_this169["#size-input"].value=o,_this169["#roundness-slider"].value=l,_this169["#roundness-input"].value=l,_this169["#angle-slider"].value=a,_this169["#angle-input"].value=a,_this169.vo=o,_this169.yo=l,_this169.ko=a,_this169._o();}),this["#preview"].addEventListener("lostpointercapture",_i363=function i(){_this169["#preview"].removeEventListener("pointermove",e),_this169["#preview"].removeEventListener("lostpointercapture",_i363),_this169.Js.setConfig("bx-blobsettings:size",_this169.vo),_this169.Js.setConfig("bx-blobsettings:roundness",_this169.yo),_this169.Js.setConfig("bx-blobsettings:angle",_this169.ko);});}},{key:"uo",value:function uo(){var _this170=this;var t,_e390;this["#size-box"].addEventListener("change",t=function t(_t524){_t524.target===_this170["#size-slider"]?_this170["#size-input"].value=_this170["#size-slider"].value:_t524.target===_this170["#size-input"]&&(_this170["#size-slider"].value=_this170["#size-input"].value),_this170.vo=_this170["#size-input"].value,_this170._o();}),this["#size-box"].addEventListener("changeend",_e390=function e(){_this170["#size-box"].removeEventListener("change",t),_this170["#size-box"].removeEventListener("changeend",_e390),_this170.Js.setConfig("bx-blobsettings:size",_this170.vo);});}},{key:"xo",value:function xo(){var _this171=this;var t,_e391;this["#roundness-box"].addEventListener("change",t=function t(_t525){_t525.target===_this171["#roundness-slider"]?_this171["#roundness-input"].value=_this171["#roundness-slider"].value:_t525.target===_this171["#roundness-input"]&&(_this171["#roundness-slider"].value=_this171["#roundness-input"].value),_this171.yo=_this171["#roundness-input"].value,_this171._o();}),this["#roundness-box"].addEventListener("changeend",_e391=function e(){_this171["#roundness-box"].removeEventListener("change",t),_this171["#roundness-box"].removeEventListener("changeend",_e391),_this171.Js.setConfig("bx-blobsettings:roundness",_this171.yo);});}},{key:"bo",value:function bo(){var _this172=this;var t,_e392;this["#angle-box"].addEventListener("change",t=function t(_t526){_t526.target===_this172["#angle-slider"]?_this172["#angle-input"].value=_this172["#angle-slider"].value:_t526.target===_this172["#angle-input"]&&(_this172["#angle-slider"].value=_this172["#angle-input"].value),_this172.ko=_this172["#angle-input"].value,_this172._o();}),this["#angle-box"].addEventListener("changeend",_e392=function e(){_this172["#angle-box"].removeEventListener("change",t),_this172["#angle-box"].removeEventListener("changeend",_e392),_this172.Js.setConfig("bx-blobsettings:angle",_this172.ko);});}},{key:"mo",value:function mo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#size-dynamics-param-select"].value&&(e.size={param:this["#size-dynamics-param-select"].value,variance:this["#size-dynamics-variance-input"].value/100}),"none"!==this["#roundness-dynamics-param-select"].value&&(e.roundness={param:this["#roundness-dynamics-param-select"].value,variance:this["#roundness-dynamics-variance-input"].value/100}),"none"!==this["#angle-dynamics-param-select"].value&&(e.angle={param:this["#angle-dynamics-param-select"].value,variance:this["#angle-dynamics-variance-input"].value/100}),this.So=e,this.Js.setConfig("bx-blobsettings:dynamics",e),this._o();}},{key:"fo",value:function fo(){this.Co=this["#style-picker"].value,this.Js.setConfig("bx-blobsettings:style",this.Co);}},{key:"_o",value:function _o(){this["#mode-buttons"].value=this.wo;{var _t527=this.vo,_e393=this.yo/100*_t527,_i364=new DOMMatrix().translate(50,50).rotate(this.ko).translate(-50,-50),_s224=new DOMPoint(50,50-_e393).matrixTransform(_i364);this["#preview-shape"].style.rx="".concat(_t527),this["#preview-shape"].style.ry="".concat(_e393),this["#preview-shape"].style.transform="rotate(".concat(this.ko,"deg)"),this["#preview-grippie"].style.cx=_s224.x,this["#preview-grippie"].style.cy=_s224.y,this["#size-slider"].value=this.vo,this["#size-input"].value=this.vo,this["#roundness-slider"].value=this.yo,this["#roundness-input"].value=this.yo,this["#angle-slider"].value=this.ko,this["#angle-input"].value=this.ko;}this.So.size?(this["#size-dynamics-param-select"].value=this.So.size.param,this["#size-dynamics-variance-input"].value=J(100*this.So.size.variance,0),this["#size-dynamics-variance-input"].disabled=!1):(this["#size-dynamics-param-select"].value="none",this["#size-dynamics-variance-input"].value=0,this["#size-dynamics-variance-input"].disabled=!0),this.So.roundness?(this["#roundness-dynamics-param-select"].value=this.So.roundness.param,this["#roundness-dynamics-variance-input"].value=J(100*this.So.roundness.variance,0),this["#roundness-dynamics-variance-input"].disabled=!1):(this["#roundness-dynamics-param-select"].value="none",this["#roundness-dynamics-variance-input"].value=0,this["#roundness-dynamics-variance-input"].disabled=!0),this.So.angle?(this["#angle-dynamics-param-select"].value=this.So.angle.param,this["#angle-dynamics-variance-input"].value=J(100*this.So.angle.variance,0),this["#angle-dynamics-variance-input"].disabled=!1):(this["#angle-dynamics-param-select"].value="none",this["#angle-dynamics-variance-input"].value=0,this["#angle-dynamics-variance-input"].disabled=!0),this["#style-picker"].value=this.Co;}}]);return Ah;}(zh);_defineProperty(Ah,"_shadowTemplate",Ki(_templateObject206(),Th,Th,Th));_defineProperty(Ah,"_shadowStyleSheet",Qi(_templateObject207()));customElements.define("bx-blobsettings",Ah);var _window5=window,$h=_window5.tokenize,Ih=_window5.EOFToken;var Lh=/*#__PURE__*/function(){_createClass(Lh,[{key:"items",get:function get(){return this.Mo;},set:function set(t){this.Mo=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-family>";}}]);function Lh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,Lh);this.Mo=_toConsumableArray(t);}_createClass(Lh,[{key:"toString",value:function toString(){return this.items.map(function(t){return b.includes(t)?t:"\"".concat(t,"\"");}).join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray($h(t)),[new Ih()]),s=new Et(i),n=[];if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected STRING or IDENT token.","SyntaxError");return null;}for(n.push(s.currentToken.value);;){var _t528=!1;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),","===s.currentToken.tokenType&&(_t528=!0,s.read()),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if("EOF"===s.currentToken.tokenType){if(_t528){if(e)throw new DOMException("Unexpected trailing comma.","SyntaxError");return null;}return new Lh(n);}if(e)throw new DOMException("Unexpected token \"".concat(s.currentToken.tokenType,"\"."),"SyntaxError");return null;}if(!_t528){if(e)throw new DOMException("Unexpected STRING or IDENT token.","SyntaxError");return null;}n.push(s.currentToken.value);}}}]);return Lh;}();var Bh=function Bh(t){var e=[],i=!1;var _iterator247=_createForOfIteratorHelper(t.querySelectorAll("style")),_step247;try{for(_iterator247.s();!(_step247=_iterator247.n()).done;){var _i370=_step247.value;var _t534={},_s229=[];var _iterator252=_createForOfIteratorHelper(_i370.sheet.cssRules),_step252;try{for(_iterator252.s();!(_step252=_iterator252.n()).done;){var _e398=_step252.value;if(_e398.type===CSSRule.FONT_FACE_RULE){var _i371=Lh.fromString(_e398.style.fontFamily).items[0];void 0===_t534[_i371]&&(_t534[_i371]=[]),_t534[_i371].push(_e398);}else if(_e398.type===CSSRule.IMPORT_RULE){if(_e398.href.startsWith("https://fonts.googleapis.com/css2")){var _i372=new URL(_e398.href),_s230=new URLSearchParams(_i372.search);var _iterator253=_createForOfIteratorHelper(_s230.getAll("family")),_step253;try{for(_iterator253.s();!(_step253=_iterator253.n()).done;){var _n148=_step253.value;var _n148$split=_n148.split(":"),_n148$split2=_slicedToArray(_n148$split,1),_s231=_n148$split2[0],_o117=new URLSearchParams(_i372.search);_o117.set("family",_n148);var _l108="https://fonts.googleapis.com/css2?"+decodeURIComponent(_o117.toString());void 0===_t534[_s231]&&(_t534[_s231]=[]),_t534[_s231].push({cssText:"@import url(\"".concat(encodeURI(_l108),"\");"),href:_l108,type:_e398.type});}}catch(err){_iterator253.e(err);}finally{_iterator253.f();}}else if(_e398.href.startsWith("https://fonts.googleapis.com/css")){var _i373=new URL(_e398.href),_s232=new URLSearchParams(_i373.search);var _iterator254=_createForOfIteratorHelper(_s232.get("family").split("|")),_step254;try{for(_iterator254.s();!(_step254=_iterator254.n()).done;){var _n149=_step254.value;var _n149$split=_n149.split(":"),_n149$split2=_slicedToArray(_n149$split,1),_s233=_n149$split2[0],_o118=new URLSearchParams(_i373.search);_o118.set("family",_n149);var _l109="https://fonts.googleapis.com/css?"+decodeURIComponent(_o118.toString());void 0===_t534[_s233]&&(_t534[_s233]=[]),_t534[_s233].push({cssText:"@import url(\"".concat(encodeURI(_l109),"\");"),href:_l109,type:_e398.type});}}catch(err){_iterator254.e(err);}finally{_iterator254.f();}}else _s229.push(_e398);}else _s229.push(_e398);}}catch(err){_iterator252.e(err);}finally{_iterator252.f();}(Object.keys(_t534).length>0||_i370.hasAttribute("data-bx-fonts"))&&e.push({styleElement:_i370,fontRulesByFamily:_t534,otherRules:_s229});}}catch(err){_iterator247.e(err);}finally{_iterator247.f();}{var _t529=[];for(var _i365=0,_e394=e;_i365<_e394.length;_i365++){var _s225=_e394[_i365];var _e395=_s225.styleElement,_n146=_s225.fontRulesByFamily,_o116=_s225.otherRules,_l107=Object.keys(_n146);if(0===_l107.length){if(_e395.hasAttribute("data-bx-fonts")){i=!0;break;}}else if(1===_l107.length){var _s226=_l107[0];if(_t529.includes(_s226)){i=!0;break;}if(_e395.getAttribute("data-bx-fonts"!==_s226)){i=!0;break;}if(_o116.length>0){i=!0;break;}}else if(_l107.length>1){i=!0;break;}_t529.push.apply(_t529,_toConsumableArray(_l107));}}if(!0===i){var _iterator248=_createForOfIteratorHelper(e),_step248;try{for(_iterator248.s();!(_step248=_iterator248.n()).done;){var _t530=_step248.value;var _loop4=function _loop4(){var _n$fontRulesByFamily$;var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i366],2),i=_Object$entries2$_i[0],s=_Object$entries2$_i[1];var n=e.find(function(t){return void 0!==t.fontRulesByFamily[i];});n!==_t530&&((_n$fontRulesByFamily$=n.fontRulesByFamily[i]).push.apply(_n$fontRulesByFamily$,_toConsumableArray(s)),delete _t530.fontRulesByFamily[i]);};for(var _i366=0,_Object$entries2=Object.entries(_t530.fontRulesByFamily);_i366<_Object$entries2.length;_i366++){_loop4();}}}catch(err){_iterator248.e(err);}finally{_iterator248.f();}var _iterator249=_createForOfIteratorHelper(e),_step249;try{for(_iterator249.s();!(_step249=_iterator249.n()).done;){var _step249$value=_step249.value,_t531=_step249$value.styleElement,_i367=_step249$value.fontRulesByFamily,_s227=_step249$value.otherRules;for(var _i368=0,_Object$entries3=Object.entries(_i367);_i368<_Object$entries3.length;_i368++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i368],2),_e396=_Object$entries3$_i[0],_s228=_Object$entries3$_i[1];var _i369=$i("svg:style"),_n147="";_s228.sort(function(t){return t.type===CSSRule.IMPORT_RULE?-1:1;});var _iterator250=_createForOfIteratorHelper(_s228),_step250;try{for(_iterator250.s();!(_step250=_iterator250.n()).done;){var _t532=_step250.value;_n147+=_t532.cssText;}}catch(err){_iterator250.e(err);}finally{_iterator250.f();}_i369.textContent=_n147,_i369.setAttribute("data-bx-fonts",_e396),_t531.hasAttribute("data-bx-pinned")&&_i369.setAttribute("data-bx-pinned",""),_t531.before(_i369);}if(0===_s227.length)_t531.remove();else{var _e397="";var _iterator251=_createForOfIteratorHelper(_s227),_step251;try{for(_iterator251.s();!(_step251=_iterator251.n()).done;){var _t533=_step251.value;_e397+=_t533.cssText;}}catch(err){_iterator251.e(err);}finally{_iterator251.f();}_t531.removeAttribute("data-bx-fonts"),_t531.removeAttribute("data-bx-pinned"),_t531.textContent=_e397;}}}catch(err){_iterator249.e(err);}finally{_iterator249.f();}}},Rh=function Rh(t){switch(t){case"normal":return"400";case"bold":return"700";default:return t;}},Gh=function Gh(t){switch(Rh(t)){case"100":return"Thin";case"200":return"Extra-Light";case"300":return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:return"Normal";}},Uh=function Uh(t,e){var _iterator255=_createForOfIteratorHelper(U[t]),_step255;try{for(_iterator255.s();!(_step255=_iterator255.n()).done;){var _i374=_step255.value;if(e.includes(_i374))return _i374;}}catch(err){_iterator255.e(err);}finally{_iterator255.f();}},Fh=function Fh(t){var e=[],i=Gh(Rh(t.weight));if(e.push(i),"normal"!==t.style){var _i375=ai(t.style);e.push(_i375);}if("normal"!==t.stretch){var _i376=ai(t.stretch);e.push(_i376);}if(t.unicodeRange)for(var _i377=0,_Object$entries4=Object.entries(x);_i377<_Object$entries4.length;_i377++){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i377],2),_i378=_Object$entries4$_i[0],_s234=_Object$entries4$_i[1];if(_s234===t.unicodeRange){u[_i378]&&e.push(u[_i378]);break;}}return e.join(" ");},Nh=function Nh(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"400";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"normal";return function(t,e){var _iterator256=_createForOfIteratorHelper(U[e]),_step256;try{for(_iterator256.s();!(_step256=_iterator256.n()).done;){var _i379=_step256.value;var _iterator257=_createForOfIteratorHelper(t),_step257;try{for(_iterator257.s();!(_step257=_iterator257.n()).done;){var _e399=_step257.value;if(_e399 instanceof FontFace){if(_e399.weight===_i379)return _e399;}else if("".concat(_e399.weight)===_i379)return _e399;}}catch(err){_iterator257.e(err);}finally{_iterator257.f();}}}catch(err){_iterator256.e(err);}finally{_iterator256.f();}return t[0]?t[0]:null;}(function(t,e){var i=t.filter(function(t){if(t instanceof FontFace){if("normal"===e)return"normal"===t.style;if("italic"===e||"oblique"===e)return"italic"===t.style||"oblique"===t.style;}else{if("normal"===e)return!1===t.italic;if("italic"===e||"oblique"===e)return!0===t.italic;}});return 0===i.length&&(i=_toConsumableArray(t)),i;}(function(t,e){return t.filter(function(t){return t.family===e;});}(t,e),s),i);},jh=function jh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.localName?i=Vh(t,e):"circle"===t.localName?i=Hh(t,e):"ellipse"===t.localName?i=Wh(t,e):"line"===t.localName?i=Yh(t,e):"polyline"===t.localName?i=qh(t,e):"polygon"===t.localName&&(i=Xh(t,e)),i;},Vh=function Vh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=$i("svg:path"),s=t.getPathData();var _iterator258=_createForOfIteratorHelper(s),_step258;try{for(_iterator258.s();!(_step258=_iterator258.n()).done;){var _t535=_step258.value;_t535.values=_t535.values.map(function(t){return J(t,e);});}}catch(err){_iterator258.e(err);}finally{_iterator258.f();}i.setPathData(s);var _iterator259=_createForOfIteratorHelper(t.attributes),_step259;try{for(_iterator259.s();!(_step259=_iterator259.n()).done;){var _e400=_step259.value;!1===["x","y","width","height","rx","ry"].includes(_e400.name)&&i.setAttribute(_e400.name,_e400.value);}}catch(err){_iterator259.e(err);}finally{_iterator259.f();}return i.innerHTML=t.innerHTML,i;},Hh=function Hh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=$i("svg:path"),s=t.getPathData();var _iterator260=_createForOfIteratorHelper(s),_step260;try{for(_iterator260.s();!(_step260=_iterator260.n()).done;){var _t536=_step260.value;_t536.values=_t536.values.map(function(t){return J(t,e);});}}catch(err){_iterator260.e(err);}finally{_iterator260.f();}i.setPathData(s);var _iterator261=_createForOfIteratorHelper(t.attributes),_step261;try{for(_iterator261.s();!(_step261=_iterator261.n()).done;){var _e401=_step261.value;["cx","cy","r"].includes(_e401.name)||i.setAttribute(_e401.name,_e401.value);}}catch(err){_iterator261.e(err);}finally{_iterator261.f();}return i.innerHTML=t.innerHTML,i;},Wh=function Wh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=$i("svg:path"),s=t.getPathData();var _iterator262=_createForOfIteratorHelper(s),_step262;try{for(_iterator262.s();!(_step262=_iterator262.n()).done;){var _t537=_step262.value;_t537.values=_t537.values.map(function(t){return J(t,e);});}}catch(err){_iterator262.e(err);}finally{_iterator262.f();}i.setPathData(s);var _iterator263=_createForOfIteratorHelper(t.attributes),_step263;try{for(_iterator263.s();!(_step263=_iterator263.n()).done;){var _e402=_step263.value;["cx","cy","rx","ry"].includes(_e402.name)||i.setAttribute(_e402.name,_e402.value);}}catch(err){_iterator263.e(err);}finally{_iterator263.f();}return i.innerHTML=t.innerHTML,i;},Yh=function Yh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=$i("svg:path"),s=t.getPathData();var _iterator264=_createForOfIteratorHelper(s),_step264;try{for(_iterator264.s();!(_step264=_iterator264.n()).done;){var _t538=_step264.value;_t538.values=_t538.values.map(function(t){return J(t,e);});}}catch(err){_iterator264.e(err);}finally{_iterator264.f();}i.setPathData(s);var _iterator265=_createForOfIteratorHelper(t.attributes),_step265;try{for(_iterator265.s();!(_step265=_iterator265.n()).done;){var _e403=_step265.value;["x1","y1","x2","y2"].includes(_e403.name)||i.setAttribute(_e403.name,_e403.value);}}catch(err){_iterator265.e(err);}finally{_iterator265.f();}return i.innerHTML=t.innerHTML,i;},qh=function qh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=$i("svg:path"),s=t.getPathData();var _iterator266=_createForOfIteratorHelper(s),_step266;try{for(_iterator266.s();!(_step266=_iterator266.n()).done;){var _t539=_step266.value;_t539.values=_t539.values.map(function(t){return J(t,e);});}}catch(err){_iterator266.e(err);}finally{_iterator266.f();}i.setPathData(s);var _iterator267=_createForOfIteratorHelper(t.attributes),_step267;try{for(_iterator267.s();!(_step267=_iterator267.n()).done;){var _e404=_step267.value;"points"!==_e404.name&&i.setAttribute(_e404.name,_e404.value);}}catch(err){_iterator267.e(err);}finally{_iterator267.f();}return i.innerHTML=t.innerHTML,i;},Xh=function Xh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=$i("svg:path"),s=t.getPathData();var _iterator268=_createForOfIteratorHelper(s),_step268;try{for(_iterator268.s();!(_step268=_iterator268.n()).done;){var _t540=_step268.value;_t540.values=_t540.values.map(function(t){return J(t,e);});}}catch(err){_iterator268.e(err);}finally{_iterator268.f();}i.setPathData(t.getPathData());var _iterator269=_createForOfIteratorHelper(t.attributes),_step269;try{for(_iterator269.s();!(_step269=_iterator269.n()).done;){var _e405=_step269.value;"points"!==_e405.name&&i.setAttribute(_e405.name,_e405.value);}}catch(err){_iterator269.e(err);}finally{_iterator269.f();}return i.innerHTML=t.innerHTML,i;},Zh=function Zh(t){var e,i=or(t)||or('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>'),s=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,n=document.createNodeIterator(i,s);for(;e=n.nextNode();){if(e.nodeType!==Node.ELEMENT_NODE){!1===(F[e.parentNode.nodeName]||[]).includes(e.nodeName)&&e.remove();}else if(e.localName.includes(":")){if(e.localName.startsWith("bx:")){var _t541=e.localName.split(":")[1],_i380=document.createElement("bx-"+_t541);for(var _i381=0,_arr19=_toConsumableArray(e.attributes);_i381<_arr19.length;_i381++){var _t542=_arr19[_i381];_i380.setAttribute(_t542.name,_t542.value);}for(var _i382=0,_arr20=_toConsumableArray(e.childNodes);_i382<_arr20.length;_i382++){var _t543=_arr20[_i382];_i380.append(_t543);}e.replaceWith(_i380);}else e.remove();}else{if("title"===e.localName){var _t544=$i("svg:bx-title");_t544.innerHTML=e.innerHTML;var _iterator270=_createForOfIteratorHelper(e.attributes),_step270;try{for(_iterator270.s();!(_step270=_iterator270.n()).done;){var _step270$value=_step270.value,_i383=_step270$value.name,_s235=_step270$value.value;_t544.setAttribute(_i383,_s235);}}catch(err){_iterator270.e(err);}finally{_iterator270.f();}e.replaceWith(_t544);continue;}if("switch"===e.localName){var _t545=":scope > *:not([systemLanguage]):not([requiredExtensions])",_i384=e.querySelector(_t545)||e.firstElementChild;_i384&&e.replaceWith(_i384);continue;}if(e!==i){if(!1===(F[e.parentNode.localName]||[]).includes(e.localName)){e.remove();continue;}}for(var _i385=0,_arr21=_toConsumableArray(e.attributes);_i385<_arr21.length;_i385++){var _arr21$_i=_arr21[_i385],_t546=_arr21$_i.name,_i386=_arr21$_i.value;if(_t546.includes(":"))if(e.removeAttribute(_t546),_t546.startsWith("bx:"))_t546="data-bx-"+_t546.split(":")[1],e.setAttribute(_t546,_i386);else if("xlink:href"===_t546&&!1===e.hasAttribute("href"))_t546="href",e.setAttribute(_t546,_i386);else if("xlink:title"===_t546&&!1===e.hasAttribute("title"))_t546="title",e.setAttribute(_t546,_i386);else{if("xml:lang"!==_t546)continue;_t546="lang",e.setAttribute(_t546,_i386);}_t546.startsWith("data-")?("data-bx-shape"===_t546&&!1===cl(e)&&e.removeAttribute(_t546),"data-bx-spline"===_t546&&!1===Tl(e)&&e.removeAttribute(_t546)):"href"===_t546&&"a"===e.localName&&(e.removeAttribute(_t546),e.setAttribute("_href",_i386));}}}var _iterator271=_createForOfIteratorHelper(i.querySelectorAll("text")),_step271;try{for(_iterator271.s();!(_step271=_iterator271.n()).done;){var _t550=_step271.value;Kh(_t550);}}catch(err){_iterator271.e(err);}finally{_iterator271.f();}var _iterator272=_createForOfIteratorHelper(i.querySelectorAll("textPath")),_step272;try{for(_iterator272.s();!(_step272=_iterator272.n()).done;){var _t551=_step272.value;Qh(_t551);}}catch(err){_iterator272.e(err);}finally{_iterator272.f();}var _iterator273=_createForOfIteratorHelper(i.querySelectorAll("linearGradient")),_step273;try{for(_iterator273.s();!(_step273=_iterator273.n()).done;){var _t552=_step273.value;Jh(_t552);}}catch(err){_iterator273.e(err);}finally{_iterator273.f();}var _iterator274=_createForOfIteratorHelper(i.querySelectorAll("radialGradient")),_step274;try{for(_iterator274.s();!(_step274=_iterator274.n()).done;){var _t553=_step274.value;tr(_t553);}}catch(err){_iterator274.e(err);}finally{_iterator274.f();}var _iterator275=_createForOfIteratorHelper(i.querySelectorAll("pattern")),_step275;try{for(_iterator275.s();!(_step275=_iterator275.n()).done;){var _t554=_step275.value;er(_t554);}}catch(err){_iterator275.e(err);}finally{_iterator275.f();}var _iterator276=_createForOfIteratorHelper(i.querySelectorAll("marker")),_step276;try{for(_iterator276.s();!(_step276=_iterator276.n()).done;){var _t555=_step276.value;sr(_t555);}}catch(err){_iterator276.e(err);}finally{_iterator276.f();}var _iterator277=_createForOfIteratorHelper(i.querySelectorAll("symbol")),_step277;try{for(_iterator277.s();!(_step277=_iterator277.n()).done;){var _t556=_step277.value;ir(_t556);}}catch(err){_iterator277.e(err);}finally{_iterator277.f();}var _iterator278=_createForOfIteratorHelper(i.querySelectorAll("use")),_step278;try{for(_iterator278.s();!(_step278=_iterator278.n()).done;){var _t557=_step278.value;nr(_t557);}}catch(err){_iterator278.e(err);}finally{_iterator278.f();}{var _t547=[];for(var _i387=0,_arr22=_toConsumableArray(i.attributes);_i387<_arr22.length;_i387++){var _arr22$_i=_arr22[_i387],_e406=_arr22$_i.name,_s236=_arr22$_i.value;i.removeAttribute(_e406),"xmlns"!==_e406&&"xmlns:bx"!==_e406&&_t547.push({name:_e406,value:_s236});}i.setAttribute("xmlns",l.svg),i.setAttribute("xmlns:bx",l.bx);for(var _i388=0,_t548=_t547;_i388<_t548.length;_i388++){var _t548$_i=_t548[_i388],_e407=_t548$_i.name,_s237=_t548$_i.value;i.setAttribute(_e407,_s237);}}{var _t549=i.querySelector(":scope > defs");_t549||(_t549=$i("svg:defs"),i.prepend(_t549));}return Bh(i),document.importNode(i,!0),i;},Kh=function Kh(t){var e=t.querySelectorAll("textPath"),i=(t.querySelectorAll("tspan"),e.length>0?e[0]:null);{var _e408=t.hasAttribute("width")||t.hasAttribute("height")?"pre-wrap":"pre";t.style.setProperty("white-space",_e408);}if(e.length>1){var _iterator279=_createForOfIteratorHelper(e),_step279;try{for(_iterator279.s();!(_step279=_iterator279.n()).done;){var _t558=_step279.value;_t558!==i&&_t558.remove();}}catch(err){_iterator279.e(err);}finally{_iterator279.f();}}if(i){i.parentElement!==t&&t.append(i);for(var _i389=0,_arr23=_toConsumableArray(t.childNodes);_i389<_arr23.length;_i389++){var _e409=_arr23[_i389];["a","tspan","#text"].includes(_e409.localName)&&_e409.remove();}if(i.hasAttribute("style")){var _iterator280=_createForOfIteratorHelper(i.style),_step280;try{for(_iterator280.s();!(_step280=_iterator280.n()).done;){var _e410=_step280.value;var _s238=t.style.getPropertyValue(_e410),_n150=i.style.getPropertyValue(_e410);_s238!==_n150&&t.style.setProperty(_e410,_n150);}}catch(err){_iterator280.e(err);}finally{_iterator280.f();}i.removeAttribute("style");}}},Qh=function Qh(t){{var _e411=Ii(t),_i390=t.href.baseVal?_e411.querySelector(t.href.baseVal):null;if(_i390&&["rect","circle","ellipse","line","polyline","polygon"].includes(_i390.localName)){var _t559=jh(_i390);_i390.replaceWith(_t559);}}},Jh=function Jh(t){{var _e412=0,_i391=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator281=_createForOfIteratorHelper(_i391),_step281;try{for(_iterator281.s();!(_step281=_iterator281.n()).done;){var _t560=_step281.value;if(_t560.hasAttribute("offset")){var _i392=_t560.offset.baseVal;_i392<_e412&&(_i392=_e412),_i392=tt(_i392,0,1,4),_e412=_i392,_t560.setAttribute("offset",_i392);}}}catch(err){_iterator281.e(err);}finally{_iterator281.f();}}},tr=function tr(t){{var _e413=0,_i393=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator282=_createForOfIteratorHelper(_i393),_step282;try{for(_iterator282.s();!(_step282=_iterator282.n()).done;){var _t561=_step282.value;if(_t561.hasAttribute("offset")){var _i394=_t561.offset.baseVal;_i394<_e413&&(_i394=_e413),_i394=tt(_i394,0,1,4),_e413=_i394,_t561.setAttribute("offset",_i394);}}}catch(err){_iterator282.e(err);}finally{_iterator282.f();}}t.removeAttribute("fx"),t.removeAttribute("fy"),t.removeAttribute("fr");},er=function er(t){var e=Ii(t);if(!1===t.hasAttribute("id")){var _i395=0;for(;null!==e.querySelector("#pattern-"+_i395);){_i395+=1;}t.setAttribute("id","pattern-"+_i395);}},ir=function ir(t){var e=Ii(t);if(!1===t.hasAttribute("id")){var _i396=0;for(;null!==e.querySelector("#symbol-"+_i396);){_i396+=1;}t.setAttribute("id","symbol-"+_i396);}},sr=function sr(t){var e=Ii(t);if(!1===t.hasAttribute("id")){var _i397=0;for(;null!==e.querySelector("#marker-"+_i397);){_i397+=1;}t.setAttribute("id","marker-"+_i397);}},nr=function nr(t){var e=Ii(t),i=null;try{i=e.querySelector(t.href.baseVal);}catch(t){i=null;}if(i&&"symbol"!==i.localName){var _e414=Ht(t);_e414.multiplySelf(Ht(i)),_e414.translateSelf(t.x.baseVal.value,t.y.baseVal.value);var _s239=i.cloneNode(!0);_s239.setAttribute("transform",_e414);var _iterator283=_createForOfIteratorHelper(t.style),_step283;try{for(_iterator283.s();!(_step283=_iterator283.n()).done;){var _e415=_step283.value;var _i398=_s239.style.getPropertyValue(_e415),_n151=t.style.getPropertyValue(_e415);""===_i398&&_s239.style.setProperty(_e415,_n151);}}catch(err){_iterator283.e(err);}finally{_iterator283.f();}var _iterator284=_createForOfIteratorHelper(t.attributes),_step284;try{for(_iterator284.s();!(_step284=_iterator284.n()).done;){var _step284$value=_step284.value,_e416=_step284$value.name,_i399=_step284$value.value;j.includes(_e416)&&!1===_s239.hasAttribute(_e416)&&_s239.setAttribute(_e416,_i399);}}catch(err){_iterator284.e(err);}finally{_iterator284.f();}var _iterator285=_createForOfIteratorHelper(_s239.querySelectorAll("*[id]")),_step285;try{for(_iterator285.s();!(_step285=_iterator285.n()).done;){var _t562=_step285.value;_t562.removeAttribute("id");}}catch(err){_iterator285.e(err);}finally{_iterator285.f();}t.hasAttribute("id")?_s239.setAttribute("id",t.id):_s239.removeAttribute("id"),t.replaceWith(_s239);}else{var _e417=Ht(t);_e417.translateSelf(t.x.baseVal.value,t.y.baseVal.value),t.setAttribute("transform",_e417.toString()),t.removeAttribute("x"),t.removeAttribute("y");}},or=function or(t){return t=li(t,'<div xmlns="http://www.w3.org/1999/xhtml"></div>',""),new DOMParser().parseFromString(t,"text/html").querySelector("svg")||null;},lr=function lr(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";return new Promise(function(i){t.file(/*#__PURE__*/function(){var _ref91=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee69(t){var s;return regeneratorRuntime.wrap(function _callee69$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:if(!("blob"===e)){_context69.next=4;break;}_context69.t0=t;_context69.next=7;break;case 4:_context69.next=6;return ar(t,e);case 6:_context69.t0=_context69.sent;case 7:s=_context69.t0;i(s);case 9:case"end":return _context69.stop();}}},_callee69);}));return function(_x72){return _ref91.apply(this,arguments);};}());});},ar=function ar(t,e){return new Promise(function(i){var _s243,_n152,o=new FileReader();if(o.addEventListener("error",_n152=function n(t){o.removeEventListener("load",_s243),o.removeEventListener("error",_n152),i(null);}),"text"===e){var _e418=dr(t);"svgz"===_e418?o.readAsArrayBuffer(t):o.readAsText(t),o.addEventListener("load",_s243=function s(t){if(o.removeEventListener("load",_s243),o.removeEventListener("error",_n152),"svgz"===_e418){var _e419=new Uint8Array(t.target.result),_s240=pako.inflate(_e419),_n153="";for(var _t563=0,_e420=_s240.length;_t563<_e420;_t563+=1){_n153+=String.fromCharCode(_s240[_t563]);}i(_n153);}else i(t.target.result);});}else if("arrayBuffer"===e)o.readAsArrayBuffer(t),o.addEventListener("load",_s243=function _s241(t){o.removeEventListener("load",_s243),o.removeEventListener("error",_n152),i(new Uint8Array(t.target.result));});else if("dataURL"===e){var _e421=dr(t);"svgz"===_e421?o.readAsArrayBuffer(t):o.readAsDataURL(t),o.addEventListener("load",_s243=function _s242(t){if(o.removeEventListener("load",_s243),o.removeEventListener("error",_n152),"svgz"===_e421){var _e422=new Uint8Array(t.target.result),s=pako.inflate(_e422),_n154=new Blob([s],{type:"image/svg+xml"}),_o119=hr(_n154);i(_o119);}else i(t.target.result);});}});},hr=function hr(t){return new Promise(function(e){var i=new FileReader();i.readAsDataURL(t),i.onloadend=function(){var t=i.result;e(t);};});},rr=function rr(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},dr=function dr(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},cr=function cr(t){return t.name.substring(0,t.name.lastIndexOf("."));},pr=function pr(e){var i="",s=t?1e3:1024;if(e<s)i=e+" bytes";else if(e<s*s){var _n155=t?" KB":" KiB";i=J(e/s,0)+_n155;}else if(e<s*s*s){var _n156=t?" MB":" MiB";i=J(e/(s*s),2)+_n156;}else{var _n157=t?" GB":" GiB";i=J(e/(s*s*s),2)+_n157;}return i;},ur=function ur(t){var e,i,s,n,o=t.getContext("2d"),l=o.canvas.width,a=o.canvas.height;if(!l&&!a)return null;var h=o.getImageData(0,0,l,a),r=new Uint32Array(h.data.buffer),d=0,c=l*a-1,p=!1;for(var _t564=0;_t564<a&&!p;_t564+=1){for(var _i400=0;_i400<l;_i400+=1){if(r[d++]&&!e&&(e=_t564+1,n)){p=!0;break;}if(r[c--]&&!n&&(n=a-_t564-1,e)){p=!0;break;}}if(_t564>a-_t564&&!e&&!n)return null;}e-=1,p=!1;for(var _t565=0;_t565<l&&!p;_t565+=1){d=e*l+_t565,c=e*l+(l-_t565-1);for(var _o120=e;_o120<=n;_o120+=1){if(r[d]&&!i&&(i=_t565+1,s)){p=!0;break;}if(r[c]&&!s&&(s=l-_t565-1,i)){p=!0;break;}d+=l,c+=l;}}return i-=1,l===s-i+1&&a===n-e+1?null:(l=s-i+1,a=n-e+1,o.canvas.width=l,o.canvas.height=a,o.putImageData(h,-i,-e),new DOMRect(i,e,l,a));},xr=function xr(t){return new Promise(function(e){var i=new Image();i.onload=function(){e({width:i.naturalWidth,height:i.naturalHeight});},i.src=t;});},br=function br(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base64";return new Promise(/*#__PURE__*/function(){var _ref92=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee70(i,s){var n,o,l;return regeneratorRuntime.wrap(function _callee70$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:_context70.next=2;return fetch(t);case 2:n=_context70.sent;_context70.next=5;return n.blob();case 5:o=_context70.sent;l=new FileReader();"base64"===e?l.readAsDataURL(o):"buffer"===e&&l.readAsArrayBuffer(o),l.addEventListener("loadend",function(){i(l.result);},{once:!0}),l.addEventListener("error",function(){s();},{once:!0});case 8:case"end":return _context70.stop();}}},_callee70);}));return function(_x73,_x74){return _ref92.apply(this,arguments);};}());},mr=function mr(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:96;var i=Math.round(e/2.54*100),s=i;var n,o;o=function o(t){t.version="1.1.1";var e=function(){for(var t=0,e=new Array(256),i=0;256!=i;++i){t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=i)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[i]=t;}return"undefined"!=typeof Int32Array?new Int32Array(e):e;}();t.table=e,t.bstr=function(t,i){for(var s=-1^i,n=t.length-1,o=0;o<n;){s=(s=s>>>8^e[255&(s^t.charCodeAt(o++))])>>>8^e[255&(s^t.charCodeAt(o++))];}return o===n&&(s=s>>>8^e[255&(s^t.charCodeAt(o))]),-1^s;},t.buf=function(t,i){if(t.length>1e4)return function(t,i){for(var s=-1^i,n=t.length-7,o=0;o<n;){s=(s=(s=(s=(s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+7;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;}(t,i);for(var s=-1^i,n=t.length-3,o=0;o<n;){s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+3;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;},t.str=function(t,i){for(var s,n,o=-1^i,l=0,a=t.length;l<a;){(s=t.charCodeAt(l++))<128?o=o>>>8^e[255&(o^s)]:s<2048?o=(o=o>>>8^e[255&(o^(192|s>>6&31))])>>>8^e[255&(o^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),n=1023&t.charCodeAt(l++),o=(o=(o=(o=o>>>8^e[255&(o^(240|s>>8&7))])>>>8^e[255&(o^(128|s>>2&63))])>>>8^e[255&(o^(128|n>>6&15|(3&s)<<4))])>>>8^e[255&(o^(128|63&n))]):o=(o=(o=o>>>8^e[255&(o^(224|s>>12&15))])>>>8^e[255&(o^(128|s>>6&63))])>>>8^e[255&(o^(128|63&s))];}return-1^o;};},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?o(exports):"function"==typeof define&&define.amd?define(function(){var t={};return o(t),t;}):o(n={}):o(n={});var l=new Uint8Array(4),a=new Int32Array(l.buffer),h=new Uint32Array(l.buffer);if(137!==t[0]||80!==t[1]||78!==t[2]||71!==t[3]||13!==t[4]||10!==t[5]||26!==t[6]||10!==t[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var r=8;r<t.length;){l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var d=h[0]+4,c=new Uint8Array(d);c[0]=t[r++],c[1]=t[r++],c[2]=t[r++],c[3]=t[r++];for(var p=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]),u=r,x=4;x<d;x++){c[x]=t[r++];}var b=r;l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var m=a[0];if(n.buf(c)!==m)throw new Error("CRC values for "+p+" header do not match, PNG file is likely corrupted");if("IDAT"==p){u-=8;var g=t.length,f=new Uint8Array(g+21);for(x=0;x<u;x++){f[x]=t[x];}for(x=u;x<g;x++){f[x+21]=t[x];}var w=new Uint8Array(13);x=0;a[0]=9,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],w[x++]=f[u++]="p".charCodeAt(0),w[x++]=f[u++]="H".charCodeAt(0),w[x++]=f[u++]="Y".charCodeAt(0),w[x++]=f[u++]="s".charCodeAt(0),h[0]=i,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],h[0]=s,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],w[x++]=f[u++]=1;var v=n.buf(w);return a[0]=v,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],f;}if("pHYs"==p){x=0;(w=new Uint8Array(13))[x++]="p".charCodeAt(0),w[x++]="H".charCodeAt(0),w[x++]="Y".charCodeAt(0),w[x++]="s".charCodeAt(0),h[0]=i,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],h[0]=s,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],w[x++]=t[u++]=1;v=n.buf(w);return a[0]=v,t[b++]=l[3],t[b++]=l[2],t[b++]=l[1],t[b++]=l[0],t;}}throw new Error(".png file ended prematurely: no IEND or pHYs header was found");};window.addEventListener("load",function(){paper.setup(document.createElement("canvas"));});var gr=function gr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return yr(t,e,"unite",i);},fr=function fr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return yr(t,e,"subtract",i);},wr=function wr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return yr(t,e,"intersect",i);},vr=function vr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return yr(t,e,"exclude",i);},yr=function yr(t,e,i,s){var n=Ot(nt(t)),o=Ot(nt(e)),l=n[i](o),a=[];if(l){var _t566=l.exportSVG().getAttribute("d");a=ot(_t566),a=lt(a);var _iterator286=_createForOfIteratorHelper(a),_step286;try{for(_iterator286.s();!(_step286=_iterator286.n()).done;){var _t567=_step286.value;_t567.values=_t567.values.map(function(t){return J(t,s);});}}catch(err){_iterator286.e(err);}finally{_iterator286.f();}}return a;},kr=Math.atan2,Sr=Math.cos,Cr=Math.sin,_r=Math.PI,Mr={pal:[{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}],colorsampling:0,qtres:0,ltres:10,pathomit:1,strokewidth:0,roundcoords:10};var Pr=/*#__PURE__*/function(_HTMLElement48){_inherits(Pr,_HTMLElement48);var _super57=_createSuper(Pr);_createClass(Pr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Pr(){_classCallCheck(this,Pr);return _super57.call(this);}_createClass(Pr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this173=this;this.un.workspaces.addEventListener("wheel",this.Po=function(t){_this173.Do(t);}),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this173.gn(t);}),this.un.style.cursor="url(images/cursors/blank.svg) 0 0, crosshair";}},{key:"sn",value:function sn(){this.un.workspaces.removeEventListener("wheel",this.Po),this.un.workspaces.removeEventListener("pointerdown",this.Kn);}},{key:"Do",value:function Do(t){if(this.Js.modKeys.shift){t.stopImmediatePropagation();var _e423=tt(t.wheelDelta,-2,2,1),_i401=this.Js.getConfig("bx-blobsettings:size",30);_i401=tt(_i401+_e423,1,1e4),this.Js.setConfig("bx-blobsettings:size",_i401);}else if(this.Js.modKeys.alt){t.stopImmediatePropagation();var _e424=tt(t.wheelDelta,-2,2,1),_i402=this.Js.getConfig("bx-blobsettings:roundness",100);_i402=tt(_i402+_e424,1,100),this.Js.setConfig("bx-blobsettings:roundness",_i402);}else if(this.Js.modKeys.meta){t.stopImmediatePropagation();var _e425=tt(t.wheelDelta,-2,2,1),_i403=this.Js.getConfig("bx-blobsettings:angle",0);_i403=Ge(_i403+_e425),this.Js.setConfig("bx-blobsettings:angle",_i403);}}},{key:"gn",value:function gn(t){var _this174=this;if(0!==t.button)return;var e,i,s=this.un,_ref93=(s.currentContainer||s.currentWorkspace,s),n=_ref93.geometryPrecision,o=_ref93.transformPrecision,l=Yt(s.vectorCanvas).inverse(),a=s.pixelCanvas.getContext("2d"),h=this.Js.getConfig("bx-blobsettings:drawingMode","create"),r=this.Js.getConfig("bx-blobsettings:dynamics",Oh),d=this.Js.getConfig("bx-blobsettings:style",Eh),c=this.Js.getConfig("bx-blobsettings:size",30)*s.scale,p=this.Js.getConfig("bx-blobsettings:roundness",100),u=this.Js.getConfig("bx-blobsettings:angle",0),x=c,b=c,m=p,g=u,f=new DOMPoint(t.clientX,t.clientY),w=t.clientX,v=t.clientY,y=w,k=v;s.showPixelCanvas(),a.fillStyle="red",this.Js.modKeys.ctrl&&(h="create"===h?"erase":"create"),window.addEventListener("pointermove",e=function e(t){var _iterator287=_createForOfIteratorHelper(t.getCoalescedEvents()),_step287;try{for(_iterator287.s();!(_step287=_iterator287.n()).done;){var _e426=_step287.value;if(r.size){var _t569=J(c-c*r.size.variance,0),_i405=J(c+c*r.size.variance,0);"random"===r.size.param?b=il(_t569,_i405):"pressure"===r.size.param&&(b=_t569+_e426.pressure*(_i405-_t569));}if(r.roundness){var _t570=J(p-p*r.roundness.variance,0),_i406=J(p+p*r.roundness.variance,0);"random"===r.roundness.param?m=il(_t570,_i406):"pressure"===r.roundness.param&&(m=_t570+_e426.pressure*(_i406-_t570));}if(r.angle){var _t571=J(u-u*r.angle.variance,0),_i407=J(u+u*r.angle.variance,0);"random"===r.angle.param?g=il(_t571,_i407):"pressure"===r.angle.param&&(g=_t571+_e426.pressure*(_i407-_t571));}var _t568=new DOMPoint(_e426.clientX,_e426.clientY),_i404=Ee(f,_t568),_s244=kr(_t568.x-f.x,_t568.y-f.y);for(var _t572=0;_t572<_i404;_t572+=1){var _e427=f.x+Cr(_s244)*_t572,_i408=f.y+Sr(_s244)*_t572;_e427<w?w=_e427:_e427>y&&(y=_e427),_i408<v?v=_i408:_i408>k&&(k=_i408);var _n158=b/2,_o121=_n158*(m/100);a.beginPath(),a.ellipse(_e427,_i408,_n158,_o121,g*_r/180,0,2*_r),a.closePath(),a.fill();}f=_t568;}}catch(err){_iterator287.e(err);}finally{_iterator287.f();}}),window.addEventListener("pointerup",i=/*#__PURE__*/function(){var _ref94=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee71(t){var o,r,c,p,u,b,m,g,f,S,C,_iterator288,_step288,_t579,_t573,_e428,_i409,_i410,_o122,_l110,_a76,_t574,_t575,_e429,_i411,_iterator289,_step289,_loop5;return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",i);o=new DOMRect(w-x,v-x,y-w+2*x,k-v+2*x),r=Ve(o,l),c=a.getImageData(o.x,o.y,o.width,o.height),p=ImageTracer.imagedataToSVG(c,Mr),u=Zh(p),b=r.x,m=r.y,g=r.width/o.width,f=r.height/o.height,S=new DOMMatrix();S.translateSelf(b,m),S.scaleSelf(g,f);C=null;_iterator288=_createForOfIteratorHelper(u.querySelectorAll(":scope > path"));_context72.prev=5;_iterator288.s();case 7:if((_step288=_iterator288.n()).done){_context72.next=14;break;}_t579=_step288.value;if(!("0"!==_t579.getAttribute("opacity"))){_context72.next=12;break;}C=_t579;return _context72.abrupt("break",14);case 12:_context72.next=7;break;case 14:_context72.next=19;break;case 16:_context72.prev=16;_context72.t0=_context72["catch"](5);_iterator288.e(_context72.t0);case 19:_context72.prev=19;_iterator288.f();return _context72.finish(19);case 22:if(!C){_context72.next=47;break;}if(!("create"===h)){_context72.next=28;break;}_t573=null,_e428=s.selectedElements[s.selectedElements.length-1],_i409=["path","rect","circle","ellipse","line","polyline","polygon"];if(s.undoManager.checkpoint("Blob"),_e428&&_i409.includes(_e428.localName)){"path"===_e428.localName?(_e428.hasAttribute("data-bx-shape")?_e428.removeAttribute("data-bx-shape"):_e428.hasAttribute("data-bx-spline")&&_e428.removeAttribute("data-bx-spline"),_t573=_e428):"rect"===_e428.localName?(_t573=Vh(_e428,s.geometryPrecision),_e428.replaceWith(_t573)):"circle"===_e428.localName?(_t573=Hh(_e428,s.geometryPrecision),_e428.replaceWith(_t573)):"ellipse"===_e428.localName?(_t573=Wh(_e428,s.geometryPrecision),_e428.replaceWith(_t573)):"line"===_e428.localName?(_t573=Yh(_e428,s.geometryPrecision),_e428.replaceWith(_t573)):"polyline"===_e428.localName?(_t573=qh(_e428,s.geometryPrecision),_e428.replaceWith(_t573)):"polygon"===_e428.localName&&(_t573=Xh(_e428,s.geometryPrecision),_e428.replaceWith(_t573));_i410=Wt(s.vectorCanvas,_t573),_o122=_t573.getPathData(),_l110=C.getPathData({normalize:!0});_l110=vt(_l110),_l110=oe(_l110,_i410.multiply(S));_a76=gr(_o122,_l110,n);_t573.setPathData(_a76),s.selectedElements=[_t573];}else{if(s.currentContainer){S=Wt(s.vectorCanvas,s.currentContainer).multiply(S);}_t574=C.getPathData({normalize:!0});_t574=vt(_t574),_t574=oe(_t574,S,n),C.setPathData(_t574),oh(C,d),(s.currentContainer||s.currentWorkspace).append(C),s.selectedElements=[C];}_context72.next=47;break;case 28:if(!("erase"===h)){_context72.next=47;break;}_t575=_toConsumableArray(s.selectedElements),_e429=!1,_i411=function _i411(){!1===_e429&&(_e429=!0,s.undoManager.checkpoint("Blob"));};_iterator289=_createForOfIteratorHelper(_this174.zo());_context72.prev=31;_loop5=/*#__PURE__*/regeneratorRuntime.mark(function _loop5(){var e,_o123,_l111,_a77,_l112,_h66,_t576,_o124,_l113,_a78,_h67,_t577,_i412,_n159,_s245,_l114,_r45,_d27,_c23,_p22,_t578,_i413;return regeneratorRuntime.wrap(function _loop5$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=_step289.value;if(!("path"===e.localName||"rect"===e.localName||"circle"===e.localName||"ellipse"===e.localName||"line"===e.localName||"polyline"===e.localName||"polygon"===e.localName)){_context71.next=6;break;}_o123=e.getPathData({normalize:!0});if(_o123.length>0){_l111=Wt(s.vectorCanvas,e),_a77=C.getPathData({normalize:!0});if(_a77=vt(_a77),_a77=oe(_a77,_l111.multiply(S)),wr(_o123,_a77,n).length>0){_i411();_l112=null;"path"===e.localName?(e.hasAttribute("data-bx-shape")?e.removeAttribute("data-bx-shape"):e.hasAttribute("data-bx-spline")&&e.removeAttribute("data-bx-spline"),_l112=e):"rect"===e.localName?(_l112=Vh(e,s.geometryPrecision),e.replaceWith(_l112),_t575=_t575.map(function(t){return t===e?_l112:t;})):"circle"===e.localName?(_l112=Hh(e,s.geometryPrecision),e.replaceWith(_l112),_t575=_t575.map(function(t){return t===e?_l112:t;})):"ellipse"===e.localName?(_l112=Wh(e,s.geometryPrecision),e.replaceWith(_l112),_t575=_t575.map(function(t){return t===e?_l112:t;})):"line"===e.localName?(_l112=Yh(e,s.geometryPrecision),e.replaceWith(_l112),_t575=_t575.map(function(t){return t===e?_l112:t;})):"polyline"===e.localName?(_l112=qh(e,s.geometryPrecision),e.replaceWith(_l112),_t575=_t575.map(function(t){return t===e?_l112:t;})):"polygon"===e.localName&&(_l112=Xh(e,s.geometryPrecision),e.replaceWith(_l112),_t575=_t575.map(function(t){return t===e?_l112:t;}));_h66=fr(_o123,_a77,n);0===_h66.length?(_l112.remove(),_t575=_t575.filter(function(t){return t!==_l112;})):_l112.setPathData(_h66);}}_context71.next=28;break;case 6:if(!("image"===e.localName)){_context71.next=28;break;}_t576=document.createElement("canvas"),_o124=_t576.getContext("2d"),_l113=new Image();_l113.setAttribute("src",e.getAttribute("href"));_context71.next=11;return new Promise(function(t){return _l113.onload=t;});case 11:_a78=_l113.naturalWidth/e.width.baseVal.value,_h67=_l113.naturalHeight/e.height.baseVal.value;_t576.width=_l113.naturalWidth,_t576.height=_l113.naturalHeight,_o124.imageSmoothingEnabled=!1,_o124.drawImage(_l113,0,0,_l113.naturalWidth,_l113.naturalHeight);_t577=new DOMMatrix();_t577=_t577.scale(_a78,_h67),_t577=_t577.translate(-e.x.baseVal.value,-e.y.baseVal.value),_t577=_t577.multiply(Wt(s.vectorCanvas,e)),_t577=_t577.multiply(S);_i412=C.getPathData({normalize:!0});_i412=vt(_i412),_i412=oe(_i412,_t577);_n159=new Path2D(nt(_i412));_o124.globalCompositeOperation="destination-out",_o124.imageSmoothingEnabled=!1,_o124.fillStyle="black",_o124.fill(_n159);_s245=ur(_t576);_l114=_o124.getImageData(0,0,_t576.width,_t576.height);_r45=UPNG.encode([_l114.data.buffer],_l114.width,_l114.height,0);_d27=new Uint8Array(_r45);_c23=new Blob([_d27],{type:"image/png"});_context71.next=26;return hr(_c23);case 26:_p22=_context71.sent;if(_p22!==e.getAttribute("href")&&(_i411(),e.setAttribute("href",_p22),e.setAttribute("width",_t576.width/_a78),e.setAttribute("height",_t576.height/_h67),_s245)){_t578=e.x.baseVal.value+_s245.x/_a78,_i413=e.y.baseVal.value+_s245.y/_h67;e.setAttribute("x",J(_t578,n)),e.setAttribute("y",J(_i413,n));}case 28:case"end":return _context71.stop();}}},_loop5);});_iterator289.s();case 34:if((_step289=_iterator289.n()).done){_context72.next=38;break;}return _context72.delegateYield(_loop5(),"t1",36);case 36:_context72.next=34;break;case 38:_context72.next=43;break;case 40:_context72.prev=40;_context72.t2=_context72["catch"](31);_iterator289.e(_context72.t2);case 43:_context72.prev=43;_iterator289.f();return _context72.finish(43);case 46:s.selectedElements=_t575;case 47:s.hidePixelCanvas();case 48:case"end":return _context72.stop();}}},_callee71,null,[[5,16,19,22],[31,40,43,46]]);}));return function i(_x75){return _ref94.apply(this,arguments);};}());}},{key:"zo",value:function zo(){var t=["circle","ellipse","line","path","polygon","polyline","rect","image"],e=[],i=function i(s){var _iterator290=_createForOfIteratorHelper(s),_step290;try{for(_iterator290.s();!(_step290=_iterator290.n()).done;){var _n160=_step290.value;t.includes(_n160.localName)?e.push(_n160):"g"!==_n160.localName&&"a"!==_n160.localName||i(_n160.children);}}catch(err){_iterator290.e(err);}finally{_iterator290.f();}};return i(this.un.outermostSelectedElements),e;}}]);return Pr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pr,"observedAttributes",["enabled"]);customElements.define("bx-blobcontext",Pr);var Dr=Math.abs,zr=Math.min;var Or=/*#__PURE__*/function(_HTMLElement49){_inherits(Or,_HTMLElement49);var _super58=_createSuper(Or);_createClass(Or,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Or(){_classCallCheck(this,Or);return _super58.call(this);}_createClass(Or,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.Zn=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this175=this;var t=this.tn.board;t.style.cursor="crosshair",this.dispatchEvent(new CustomEvent("_enabledchange")),t.addEventListener("pointerdown",this.mn=function(t){_this175.Oo(t);});}},{key:"sn",value:function sn(){var t=this.tn.board;this.dispatchEvent(new CustomEvent("_enabledchange")),t.removeEventListener("pointerdown",this.mn);}},{key:"Oo",value:function Oo(t){var _this176=this;if(1!==t.buttons||!0===this.Zn)return;var _e430,_i414,s=this.tn.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e430=function e(o){var l=new DOMPoint(o.clientX,o.clientY);Ee(n,l)<3||(s.removeEventListener("pointermove",_e430),s.removeEventListener("lostpointercapture",_i414),_this176.Eo(t));}),s.addEventListener("lostpointercapture",_i414=function i(){s.removeEventListener("pointermove",_e430),s.removeEventListener("lostpointercapture",_i414);});}},{key:"Eo",value:function Eo(t){var _this177=this;var e=this.Js,i=this.tn.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-rectsettings:drawingMode","planar"),a=e.getConfig("bx-rectsettings:style",A),h=e.getConfig("bx-rectsettings:r",0);i.undoManager.checkpoint("Add rectangle"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);if(r=i.snapManager.snapPoint(r),"polar"===l||"planar"===l){var _t580,_d28=1,_c24=1,_p23="planar"===l?r.x:r.x-_d28/2,_u21="planar"===l?r.y:r.y-_c24/2,_x76=$i("svg:rect");_x76.setAttribute("x",_p23),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d28),_x76.setAttribute("height",_c24),_x76.setAttribute("rx",h),_x76.setAttribute("ry",h),s.append(_x76),oh(_x76,a),i.selectedElements=[_x76];var _b19=Yt(_x76).inverse(),_m19=Ht(_x76).multiply(_b19);_x76.setAttribute("transform",_m19.toString()),e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),i.addEventListener("pointermove",_t580=function _t580(t){var s=new DOMPoint(t.clientX,t.clientY);if("planar"===l){s=i.snapManager.snapPoint(s);var _t581=s.x-r.x||1,_n161=s.y-r.y||1;if(_d28=Dr(_t581),_c24=Dr(_n161),e.modKeys.shift){var _t582=zr(_d28,_c24);_d28=_t582,_c24=_t582;}_p23=_t581<0?r.x-_d28:r.x,_u21=_n161<0?r.y-_c24:r.y;}else if("polar"===l){var _t583=new DOMPoint(r.x,r.y),_i415=new DOMPoint(s.x,s.y),_n162=Ee(_t583,_i415),_o125=new DOMPoint(_t583.x,_t583.y-_n162),_l115=_o125.matrixTransform(new DOMMatrix().translate(_t583.x,_t583.y).rotate(-45).translate(-_t583.x,-_t583.y)),_a79=_o125.matrixTransform(new DOMMatrix().translate(_t583.x,_t583.y).rotate(45).translate(-_t583.x,-_t583.y)),_h68=_o125.matrixTransform(new DOMMatrix().translate(_t583.x,_t583.y).rotate(135).translate(-_t583.x,-_t583.y)),_b20=Ee(_l115,_a79);_p23=r.x-_b20/2,_u21=r.y-_b20/2,_d28=_b20,_c24=_b20;var _g20=Re(_t583,_h68,_i415);e.modKeys.shift&&(_g20=Ue(_g20,45));var _f15=new DOMMatrix();_f15.translateSelf(_t583.x,_t583.y),_f15.rotateSelf(_g20),_f15.translateSelf(-_t583.x,-_t583.y),_x76.setAttribute("transform",_m19.multiply(_f15).toString());}_x76.setAttribute("x",_p23),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d28),_x76.setAttribute("height",_c24);});var _g19=function _g19(){i.removeEventListener("pointermove",_t580),i.removeEventListener("lostpointercapture",_g19),_this177.removeEventListener("_enabledchange",_g19),i.snapManager.snapEnd(),va(_x76,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_g19),this.addEventListener("_enabledchange",_g19);}else if("3-point"===l){var _t584=$i("svg:rect");_t584.setAttribute("rx",h),_t584.setAttribute("ry",h),s.append(_t584),oh(_t584,a),i.selectedElements=[_t584];var _l116,_d29,_c25=Wt(i.currentWorkspace,_t584),_p24=Yt(i.currentWorkspace).inverse(),_u22=Ht(_t584).multiply(_c25),_x77=r.matrixTransform(_p24),_b21=_x77,_m20=1;i.snapManager.snapStart(!0),this.Zn=!0,_t584.setAttribute("height",10),_t584.setAttribute("transform",_u22.toString()),i.addEventListener("pointermove",_l116=function _l116(s){if(_p24=Yt(i.currentWorkspace).inverse(),1===_m20){_b21=new DOMPoint(s.clientX,s.clientY),_b21=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_b21):i.snapManager.snapPoint(_b21),_b21=_b21.matrixTransform(_p24);var _n163=Ee(_x77,_b21),_o126=(Te(_x77,_b21),new DOMPoint(_x77.x+100,_x77.y)),_l117=Re(_x77,_o126,_b21),_a80=new DOMMatrix();_a80.translateSelf(_x77.x,_x77.y),_a80.rotateSelf(_l117),_a80.translateSelf(-_x77.x,-_x77.y),_t584.setAttribute("x",_x77.x),_t584.setAttribute("y",_x77.y),_t584.setAttribute("width",_n163),_t584.setAttribute("height",1/i.scale),_t584.setAttribute("transform",_u22.multiply(_a80).toString());}else if(2===_m20){var _e431=new DOMPoint(s.clientX,s.clientY);_e431=i.snapManager.snapPoint(_e431),_e431=_e431.matrixTransform(_p24);var _Ae=Ae(_x77,_b21,_e431),_Ae2=_slicedToArray(_Ae,2),_n164=_Ae2[0],_o127=_Ae2[1],_l118=Ee(_n164,_e431);Re(_x77,_b21,_e431)>=0?_t584.setAttribute("y",_x77.y):_t584.setAttribute("y",_x77.y-_l118),_t584.setAttribute("height",_l118);}});var _g21=function _g21(){i.removeEventListener("pointermove",_l116),i.removeEventListener("pointerup",_d29),_this177.removeEventListener("_enabledchange",_g21),i.snapManager.snapEnd(),va(_t584,{geometryPrecision:n,transformPrecision:o}),_this177.Zn=!1;};i.addEventListener("pointerup",_d29=function _d29(t){1===_m20?_m20=2:2===_m20&&_g21();}),this.addEventListener("_enabledchange",_g21);}}}]);return Or;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Or,"observedAttributes",["enabled"]);customElements.define("bx-rectcontext",Or);var Er=Math.abs,Tr=Math.min;var Ar=/*#__PURE__*/function(_HTMLElement50){_inherits(Ar,_HTMLElement50);var _super59=_createSuper(Ar);_createClass(Ar,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Ar(){_classCallCheck(this,Ar);return _super59.call(this);}_createClass(Ar,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.Zn=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this178=this;var t=this.tn.board;t.style.cursor="crosshair",this.dispatchEvent(new CustomEvent("_enabledchange")),t.addEventListener("pointerdown",this.mn=function(t){_this178.Oo(t);});}},{key:"sn",value:function sn(){var t=this.tn.board;this.dispatchEvent(new CustomEvent("_enabledchange")),t.removeEventListener("pointerdown",this.mn);}},{key:"Oo",value:function Oo(t){var _this179=this;if(1!==t.buttons||!0===this.Zn)return;var _e432,_i416,s=this.tn.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e432=function e(o){var l=new DOMPoint(o.clientX,o.clientY);Ee(n,l)<3||(s.removeEventListener("pointermove",_e432),s.removeEventListener("lostpointercapture",_i416),_this179.Eo(t));}),s.addEventListener("lostpointercapture",_i416=function i(){s.removeEventListener("pointermove",_e432),s.removeEventListener("lostpointercapture",_i416);});}},{key:"Eo",value:function Eo(t){var _this180=this;var e=this.Js,i=this.tn.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-ellipsesettings:drawingMode","planar"),a=this.Js.getConfig("bx-ellipsesettings:drawAs","ellipse"),h=e.getConfig("bx-ellipsesettings:style",A);i.undoManager.checkpoint("Add ellipse"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);if(r=i.snapManager.snapPoint(r),"ellipse"===a){var _a81=$i("svg:ellipse");if(s.append(_a81),oh(_a81,h),i.selectedElements=[_a81],"polar"===l||"planar"===l){var _s246,_h69=Yt(_a81).inverse(),_d30=Ht(_a81).multiply(_h69);e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),_a81.setAttribute("transform",_d30.toString()),i.addEventListener("pointermove",_s246=function _s246(s){var n=new DOMPoint(s.clientX,s.clientY);if("planar"===l){n=i.snapManager.snapPoint(n);var _t585=n.x-r.x||1,_s247=n.y-r.y||1,_o128=Er(_t585),_l119=Er(_s247);if(e.modKeys.shift){var _t586=Tr(_o128,_l119);_o128=_t586,_l119=_t586;}var _h70=_t585<0?r.x-_o128:r.x,_d31=_s247<0?r.y-_l119:r.y;_a81.setAttribute("cx",_h70+_o128/2),_a81.setAttribute("cy",_d31+_l119/2),_a81.setAttribute("rx",_o128/2),_a81.setAttribute("ry",_l119/2);}else if("polar"===l){var _e433=new DOMPoint(t.clientX,t.clientY),_i417=new DOMPoint(n.x,n.y),_s248=new Q(_e433,_i417);_a81.setAttribute("cx",_e433.x),_a81.setAttribute("cy",_e433.y),_a81.setAttribute("rx",_s248.length),_a81.setAttribute("ry",_s248.length);}});var _c26=function _c26(){i.removeEventListener("pointermove",_s246),i.removeEventListener("lostpointercapture",_c26),_this180.removeEventListener("_enabledchange",_c26),i.snapManager.snapEnd(),va(_a81,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_c26),this.addEventListener("_enabledchange",_c26);}else if("3-point"===l){var _t587,_s249,_l120=Wt(i.currentWorkspace,_a81),_h71=Yt(i.currentWorkspace).inverse(),_d32=Ht(_a81).multiply(_l120),_c27=r.matrixTransform(_h71),_p25=_c27,_u23=1;i.snapManager.snapStart(!0),this.Zn=!0,_a81.setAttribute("transform",_d32.toString()),i.addEventListener("pointermove",_t587=function _t587(t){if(_h71=Yt(i.currentWorkspace).inverse(),1===_u23){_p25=new DOMPoint(t.clientX,t.clientY),_p25=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_p25):i.snapManager.snapPoint(_p25),_p25=_p25.matrixTransform(_h71);var _s250=Ee(_c27,_p25),_n165=Te(_c27,_p25),_o129=new DOMPoint(_c27.x+100,_c27.y),_l121=Re(_c27,_o129,_p25),_u24=_n165.x,_x79=_n165.y,_b22=_s250/2,_m21=new DOMMatrix();_m21.translateSelf(_n165.x,_n165.y),_m21.rotateSelf(_l121),_m21.translateSelf(-_n165.x,-_n165.y),_a81.setAttribute("cx",_u24),_a81.setAttribute("cy",_x79),_a81.setAttribute("rx",_b22),_a81.setAttribute("transform",_d32.multiply(_m21).toString()),_a81.setAttribute("ry",1/i.scale);}else if(2===_u23){var _e434=new DOMPoint(t.clientX,t.clientY);_e434=i.snapManager.snapPoint(_e434),_e434=_e434.matrixTransform(_h71);var _Ae3=Ae(_c27,_p25,_e434),_Ae4=_slicedToArray(_Ae3,2),_s251=_Ae4[0],_n166=_Ae4[1],_o130=Ee(_s251,_e434);_a81.setAttribute("ry",_o130);}});var _x78=function _x78(){i.removeEventListener("pointermove",_t587),i.removeEventListener("pointerup",_s249),_this180.removeEventListener("_enabledchange",_x78),i.snapManager.snapEnd(),va(_a81,{geometryPrecision:n,transformPrecision:o}),_this180.Zn=!1;};i.addEventListener("pointerup",_s249=function _s249(t){1===_u23?_u23=2:2===_u23&&_x78();}),this.addEventListener("_enabledchange",_x78);}}else if("circle"===a){var _t588=$i("svg:circle");if(s.append(_t588),oh(_t588,h),i.selectedElements=[_t588],"polar"===l||"planar"===l){var _s252,_a82=Yt(_t588).inverse();_t588.setAttribute("transform",_a82.toString()),i.addEventListener("pointermove",_s252=function _s252(s){if("planar"===l){var _n167=new DOMPoint(s.clientX,s.clientY);_n167=i.snapManager.snapPoint(_n167);var _o131=_n167.x-r.x||1,_l122=_n167.y-r.y||1,_h73=Er(_o131),_d33=Er(_l122);if(e.modKeys.shift){var _t589=Tr(_h73,_d33);_h73=_t589,_d33=_t589;}var _c28=(_o131<0?r.x-_h73:r.x)+_h73/2,_p26=(_l122<0?r.y-_d33:r.y)+_d33/2,_u25=_h73/2,_x80=_d33/_h73;_t588.setAttribute("cx",_c28),_t588.setAttribute("cy",_p26),_t588.setAttribute("r",_u25);var _b23=_a82.scale(1,_x80,1,_c28,_p26);_t588.setAttribute("transform",_b23.toString());}else if("polar"===l){var _e435=new DOMPoint(s.clientX,s.clientY),_i418=new Q(r,_e435),_n168=r.x,_o132=r.y,_l123=_i418.length;_t588.setAttribute("cx",_n168),_t588.setAttribute("cy",_o132),_t588.setAttribute("r",_l123);}});var _h72=function _h72(){i.removeEventListener("pointermove",_s252),i.removeEventListener("lostpointercapture",_h72),_this180.removeEventListener("_enabledchange",_h72),_t588.setAttribute("cx",J(_t588.cx.baseVal.value,n)),_t588.setAttribute("cy",J(_t588.cy.baseVal.value,n)),_t588.setAttribute("r",J(_t588.r.baseVal.value,n)),i.snapManager.snapEnd(),va(_t588,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_h72),this.addEventListener("_enabledchange",_h72);}else if("3-point"===l){var _s253,_l124,_a83=Wt(i.currentWorkspace,_t588),_h74=Yt(i.currentWorkspace).inverse(),_d34=Ht(_t588).multiply(_a83),_c29=r.matrixTransform(_h74),_p27=_c29,_u26=1;i.snapManager.snapStart(!0),this.Zn=!0,_t588.setAttribute("transform",_d34.toString());var _x81=new DOMMatrix(),_b24=new DOMMatrix(),_m22=0,_g22=0,_f16=1,_w14=1;i.addEventListener("pointermove",_s253=function _s253(s){if(_h74=Yt(i.currentWorkspace).inverse(),1===_u26){_p27=new DOMPoint(s.clientX,s.clientY),_p27=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_p27):i.snapManager.snapPoint(_p27),_p27=_p27.matrixTransform(_h74);var _n169=Ee(_c29,_p27),_o133=Te(_c29,_p27),_l125=new DOMPoint(_c29.x+100,_c29.y),_a84=Re(_c29,_l125,_p27);_m22=_o133.x,_g22=_o133.y,_f16=_n169/2,_w14=1/i.scale,_x81=new DOMMatrix(),_x81.translateSelf(_o133.x,_o133.y),_x81.rotateSelf(_a84),_x81.translateSelf(-_o133.x,-_o133.y),_b24=new DOMMatrix(),_b24.scaleSelf(1,_w14/_f16,1,_m22,_g22),_t588.setAttribute("cx",_m22),_t588.setAttribute("cy",_g22),_t588.setAttribute("r",_f16),_t588.setAttribute("transform",_d34.multiply(_x81).multiply(_b24).toString());}else if(2===_u26){var _e436=new DOMPoint(s.clientX,s.clientY);_e436=i.snapManager.snapPoint(_e436),_e436=_e436.matrixTransform(_h74);var _Ae5=Ae(_c29,_p27,_e436),_Ae6=_slicedToArray(_Ae5,2),_n170=_Ae6[0],_o134=_Ae6[1];_w14=Ee(_n170,_e436),_b24=new DOMMatrix(),_b24.scaleSelf(1,_w14/_f16,1,_m22,_g22),_t588.setAttribute("transform",_d34.multiply(_x81).multiply(_b24).toString());}});var _v11=function _v11(){i.removeEventListener("pointermove",_s253),i.removeEventListener("pointerup",_l124),_this180.removeEventListener("_enabledchange",_v11),i.snapManager.snapEnd(),va(_t588,{geometryPrecision:n,transformPrecision:o}),_this180.Zn=!1;};i.addEventListener("pointerup",_l124=function _l124(t){1===_u26?_u26=2:2===_u26&&_v11();}),this.addEventListener("_enabledchange",_v11);}}}}]);return Ar;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ar,"observedAttributes",["enabled"]);customElements.define("bx-ellipsecontext",Ar);var $r=Math.abs,Ir=Math.min;var Lr=/*#__PURE__*/function(_HTMLElement51){_inherits(Lr,_HTMLElement51);var _super60=_createSuper(Lr);_createClass(Lr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Lr(){_classCallCheck(this,Lr);return _super60.call(this);}_createClass(Lr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.To=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this181=this;var t=this.tn.board;t.style.cursor="crosshair",t.addEventListener("pointerdown",this.mn=function(t){_this181.Oo(t);});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("pointerdown",this.mn);}},{key:"Oo",value:function Oo(t){var _this182=this;if(1!==t.buttons||!0===this.To)return;var _e437,_i419,s=this.tn.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e437=function e(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)<3)return;s.removeEventListener("pointermove",_e437),s.removeEventListener("lostpointercapture",_i419);var a=_this182.Js.getConfig("bx-othershapesettings:shape","triangle");"ring"===a?_this182.Ao(t):"pie"===a?_this182.$o(t):"crescent"===a?_this182.Io(t):"triangle"===a?_this182.Lo(t):"n-gon"===a?_this182.Bo(t):"star"===a?_this182.Ro(t):"cog"===a?_this182.Go(t):"arrow"===a?_this182.Uo(t):"cross"===a?_this182.Fo(t):"spiral"===a&&_this182.No(t);}),s.addEventListener("lostpointercapture",_i419=function i(){s.removeEventListener("pointermove",_e437),s.removeEventListener("lostpointercapture",_i419);});}},{key:"Ao",value:function Ao(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-othershapesettings:drawingMode","planar"),l=i.getConfig("bx-othershapesettings:style",A),a=i.getConfig("bx-ringsettings:r1",.6),h=s.geometryPrecision,r=s.transformPrecision;s.undoManager.checkpoint("Add ring"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=1,u=1,x=a*p,b=a*u,m=$i("svg:path");dl(m,{type:"ring",values:[d,c,x,b,p,u]},h),n.append(m),oh(m,l),s.selectedElements=[m];var g=Yt(m).inverse(),f=Ht(m).multiplySelf(g);m.setAttribute("transform",f.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e438){if("planar"===o){var _s254=_e438.clientX-t.clientX||1,_n171=_e438.clientY-t.clientY||1,_o135=$r(_s254),_l126=$r(_n171);if(i.modKeys.shift){var _t590=Ir(_o135,_l126);_o135=_t590,_l126=_t590;}var _h75=_s254<0?t.clientX-_o135:t.clientX,_r46=_n171<0?t.clientY-_l126:t.clientY;d=_h75+_o135/2,c=_r46+_l126/2,p=_o135/2,u=_l126/2,x=a*p,b=a*u;}else if("polar"===o){var _s255=new DOMPoint(t.clientX,t.clientY),_n172=new DOMPoint(_s255.x,_s255.y-100),_o136=new DOMPoint(_e438.clientX,_e438.clientY),_l127=new Q(_s255,_o136),_h76=Re(_s255,_n172,_o136);d=_s255.x,c=_s255.y,p=_l127.length,u=_l127.length,x=a*p,b=a*u,i.modKeys.shift&&(_h76=Ue(_h76,45));var _r47=new DOMMatrix();_r47.translateSelf(_s255.x,_s255.y),_r47.rotateSelf(_h76),_r47.translateSelf(-_s255.x,-_s255.y),m.setAttribute("transform",f.multiply(_r47).toString());}dl(m,{type:"ring",values:[d,c,x,b,p,u]},h);});var w=function w(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",w),va(m,{geometryPrecision:h,transformPrecision:r});};s.addEventListener("lostpointercapture",w);}},{key:"$o",value:function $o(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-othershapesettings:drawingMode","planar"),l=i.getConfig("bx-othershapesettings:style",A),a=s.geometryPrecision,h=s.transformPrecision,r=i.getConfig("bx-piesettings:r1",0);s.undoManager.checkpoint("Add pie"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=200,u=r*p,x=90,b=$i("svg:path");n.append(b),oh(b,l),s.selectedElements=[b];var m=Yt(b).inverse(),g=Ht(b).multiplySelf(m);b.setAttribute("transform",g.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e440){if("planar"===o){var _s256=_e440.clientX-t.clientX||1,_n173=_e440.clientY-t.clientY||1,_o137=$r(_s256),_l128=$r(_n173);if(i.modKeys.shift){var _t591=Ir(_o137,_l128);_o137=_t591,_l128=_t591;}var _a85=_s256<0?t.clientX-_o137:t.clientX,_h77=_n173<0?t.clientY-_l128:t.clientY;if(p=_o137/2,u=r*p,d=_a85+_o137/2,c=_h77+_l128/2,_o137===_l128)b.setAttribute("transform",g.toString());else{var _t592=1,_e439=_l128/_o137,_i420=-d*(_t592-1),_s257=-c*(_e439-1),_n174=DOMMatrix.fromMatrix(g);_n174.translateSelf(_i420,_s257),_n174.scaleSelf(_t592,_e439),b.setAttribute("transform",_n174.toString());}}else if("polar"===o){var _i421=new DOMPoint(t.clientX,t.clientY),_s258=new DOMPoint(_i421.x,_i421.y-100),_n175=new DOMPoint(_e440.clientX,_e440.clientY),_o138=new Q(_i421,_n175);d=_i421.x,c=_i421.y,p=_o138.length,u=r*p,x=Re(_i421,_s258,_n175),x<=0&&(x=360+x);}dl(b,{type:"pie",values:[d,c,u,p,x,360]},a);});var f=function f(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",f),va(b,{geometryPrecision:a,transformPrecision:h});};s.addEventListener("lostpointercapture",f);}},{key:"Io",value:function Io(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-othershapesettings:drawingMode","planar"),l=i.getConfig("bx-othershapesettings:style",A),a=i.getConfig("bx-crescentsettings:arch",300),h=i.getConfig("bx-crescentsettings:hollow",.7),r=s.geometryPrecision,d=s.transformPrecision,c=0,p=0,u=200;s.undoManager.checkpoint("Add crescent"),s.setPointerCapture(t.pointerId);var x=$i("svg:path");n.append(x),oh(x,l),s.selectedElements=[x];var b=Yt(x).inverse(),m=Ht(x).multiplySelf(b);x.setAttribute("transform",m.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e442){if("planar"===o){var _s259=_e442.clientX-t.clientX||1,_n176=_e442.clientY-t.clientY||1,_o139=$r(_s259),_l129=$r(_n176);if(i.modKeys.shift){var _t593=Ir(_o139,_l129);_o139=_t593,_l129=_t593;}var _a86=_s259<0?t.clientX-_o139:t.clientX,_h78=_n176<0?t.clientY-_l129:t.clientY;if(u=_o139/2,c=_a86+_o139/2,p=_h78+_l129/2,_o139===_l129)x.setAttribute("transform",m.toString());else{var _t594=1,_e441=_l129/_o139,_i422=-c*(_t594-1),_s260=-p*(_e441-1),_n177=new DOMMatrix();_n177.translateSelf(_i422,_s260),_n177.scaleSelf(_t594,_e441),x.setAttribute("transform",m.multiply(_n177).toString());}}else if("polar"===o){var _s261=new DOMPoint(t.clientX,t.clientY),_n178=new DOMPoint(_s261.x,_s261.y-100),_o140=new DOMPoint(_e442.clientX,_e442.clientY),_l130=new Q(_s261,_o140);c=_s261.x,p=_s261.y,u=_l130.length;var _a87=Re(_s261,_n178,_o140);_a87-=180,i.modKeys.shift&&(_a87=Ue(_a87,45));var _h79=new DOMMatrix();_h79.translateSelf(_s261.x,_s261.y),_h79.rotateSelf(_a87),_h79.translateSelf(-_s261.x,-_s261.y),x.setAttribute("transform",m.multiply(_h79).toString());}dl(x,{type:"crescent",values:[c,p,u,a,h]},r);});var g=function g(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",g),va(x,{geometryPrecision:r,transformPrecision:d});};s.addEventListener("lostpointercapture",g);}},{key:"Lo",value:function Lo(t){var e,i,s=this.Js,n=this.tn.board,o=n.currentContainer||n.currentWorkspace,l=n.geometryPrecision,a=n.transformPrecision,h=s.getConfig("bx-othershapesettings:drawingMode","planar"),r=s.getConfig("bx-othershapesettings:style",A);n.undoManager.checkpoint("Add triangle"),n.snapManager.snapStart(!1),n.setPointerCapture(t.pointerId);var d=new DOMPoint(t.clientX,t.clientY);d=n.snapManager.snapPoint(d);var c=1,p=1,u="planar"===h?d.x:d.x-p/2,x="planar"===h?d.y:d.y-c/2,b=s.getConfig("bx-trianglesettings:shift",.5),m=s.getConfig("bx-trianglesettings:corner",0),g=$i("svg:path");dl(g,{type:"triangle",values:[u,x,p,c,b,m]},l),o.append(g),oh(g,r),n.selectedElements=[g];var f=Yt(g).inverse(),w=Ht(g).multiply(f);g.setAttribute("transform",w.toString()),s.modKeys.ctrl&&("polar"===h?h="planar":"planar"===h&&(h="polar")),n.addEventListener("keydown",i=function i(t){var e=Ja.fromEvent(t);if(e.matches("ArrowLeft")){if(t.preventDefault(),t.stopPropagation(),m>0){m=tt(m-.04,0,.5,2),dl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}else if(e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),m<.5)){m=tt(m+.04,0,.5,2),dl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}),n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=n.snapManager.snapPoint(e),"planar"===h){var _t595=e.x-d.x||1,_i423=e.y-d.y||1;if(p=$r(_t595),c=$r(_i423),s.modKeys.shift){var _t596=Ir(p,c);p=_t596,c=_t596;}u=_t595<0?d.x-p:d.x,x=_i423<0?d.y-c:d.y;}else if("polar"===h){var _t597=new DOMPoint(d.x,d.y),_i424=new DOMPoint(e.x,e.y),_n179=Ee(_t597,_i424),_o141=new DOMPoint(_t597.x,_t597.y-_n179),_l131=_o141.matrixTransform(new DOMMatrix().translate(_t597.x,_t597.y).rotate(120).translate(-_t597.x,-_t597.y)),_a88=_l131.matrixTransform(new DOMMatrix().translate(_t597.x,_t597.y).rotate(120).translate(-_t597.x,-_t597.y)),_h80=Re(_t597,_l131,_i424);p=_l131.x-_a88.x||1,c=_l131.y-_o141.y||1,u=_a88.x,x=_o141.y,s.modKeys.shift&&(_h80=Ue(_h80,45));var _r48=new DOMMatrix();_r48.translateSelf(_t597.x,_t597.y),_r48.rotateSelf(_h80),_r48.translateSelf(-_t597.x,-_t597.y),g.setAttribute("transform",w.multiply(_r48).toString());}dl(g,{type:"triangle",values:[u,x,p,c,b,m]},l);});var v=function v(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",v),n.removeEventListener("keydown",i),va(g,{geometryPrecision:l,transformPrecision:a}),n.snapManager.snapEnd();};n.addEventListener("lostpointercapture",v);}},{key:"Bo",value:function Bo(t){var e,i,s=this.Js,n=this.tn.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-othershapesettings:drawingMode","planar"),a=s.getConfig("bx-othershapesettings:style",A),h=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-ngonsettings:arms",5),b=s.getConfig("bx-ngonsettings:corner",0);n.undoManager.checkpoint("Add n-gon"),n.setPointerCapture(t.pointerId);var m=$i("svg:path");dl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h),o.append(m),oh(m,a),n.selectedElements=[m];var g=Yt(m).inverse(),f=Ht(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),x+=1,dl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h)):e.matches("ArrowDown")?(t.preventDefault(),t.stopPropagation(),x>5&&(x-=1,dl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h))):e.matches("ArrowLeft")?(t.preventDefault(),t.stopPropagation(),b>0&&(b=tt(b-.04,0,.5,2),dl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h))):e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),b<.5&&(b=tt(b+.04,0,.5,2),dl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h)));}),n.addEventListener("pointermove",e=function e(_e443){if("planar"===l){var _i425=_e443.clientX-t.clientX||1,_n180=_e443.clientY-t.clientY||1,_o142=$r(_i425),_l132=$r(_n180);if(s.modKeys.shift){var _t598=Ir(_o142,_l132);_o142=_t598,_l132=_t598;}var _a89=_i425<0?t.clientX-_o142:t.clientX,_h81=_n180<0?t.clientY-_l132:t.clientY;p=_o142/2,u=_l132/2,d=_a89+p,c=_h81+u;}else if("polar"===l){var _i426=new DOMPoint(t.clientX,t.clientY),_n181=Cl(2,d,c,p,u,x),_o143=new DOMPoint(_e443.clientX,_e443.clientY),_l133=new Q(_i426,_o143),_a90=Re(_i426,_n181,_o143);d=_i426.x,c=_i426.y,p=_l133.length,u=_l133.length,s.modKeys.shift&&(_a90=Ue(_a90,180/x));var _h82=new DOMMatrix();_h82.translateSelf(_i426.x,_i426.y),_h82.rotateSelf(_a90),_h82.translateSelf(-_i426.x,-_i426.y),m.setAttribute("transform",f.multiply(_h82).toString());}dl(m,{type:"n-gon",values:[d,c,p,u,x,b]},h);});var w=function w(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),n.removeEventListener("keydown",i),va(m,{geometryPrecision:h,transformPrecision:r});};n.addEventListener("lostpointercapture",w);}},{key:"Ro",value:function Ro(t){var e,i,s=this.Js,n=this.tn.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-othershapesettings:drawingMode","planar"),a=s.getConfig("bx-othershapesettings:style",A),h=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-starsettings:depth",.4),b=s.getConfig("bx-starsettings:arms",5);n.undoManager.checkpoint("Add star"),n.setPointerCapture(t.pointerId);var m=$i("svg:path");dl(m,{type:"star",values:[d,c,p,u,x,b]},h),o.append(m),oh(m,a),n.selectedElements=[m];var g=Yt(m).inverse(),f=Ht(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),b+=1,dl(m,{type:"star",values:[d,c,p,u,x,b]},h)):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),b>3&&(b-=1,dl(m,{type:"star",values:[d,c,p,u,x,b]},h)));}),n.addEventListener("pointermove",e=function e(_e444){if("planar"===l){var _i427=_e444.clientX-t.clientX||1,_n182=_e444.clientY-t.clientY||1,_o144=$r(_i427),_l134=$r(_n182);if(s.modKeys.shift){var _t599=Ir(_o144,_l134);_o144=_t599,_l134=_t599;}var _a91=_i427<0?t.clientX-_o144:t.clientX,_h83=_n182<0?t.clientY-_l134:t.clientY;p=_o144/2,u=_l134/2,d=_a91+p,c=_h83+u;}else if("polar"===l){var _i428=new DOMPoint(t.clientX,t.clientY),_n183=new DOMPoint(_i428.x,_i428.y-100),_o145=new DOMPoint(_e444.clientX,_e444.clientY),_l135=new Q(_i428,_o145),_a92=Re(_i428,_n183,_o145);d=_i428.x,c=_i428.y,p=_l135.length,u=_l135.length,s.modKeys.shift&&(_a92=Ue(_a92,180/b/2));var _h84=new DOMMatrix();_h84.translateSelf(_i428.x,_i428.y),_h84.rotateSelf(_a92),_h84.translateSelf(-_i428.x,-_i428.y),m.setAttribute("transform",f.multiply(_h84).toString());}dl(m,{type:"star",values:[d,c,p,u,x,b]},h);});var w=function w(){n.removeEventListener("keydown",i),n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),va(m,{geometryPrecision:h,transformPrecision:r});};n.addEventListener("lostpointercapture",w);}},{key:"Go",value:function Go(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-othershapesettings:drawingMode","planar"),l=i.getConfig("bx-othershapesettings:style",A),a=s.geometryPrecision,h=s.transformPrecision;s.undoManager.checkpoint("Add cog"),s.setPointerCapture(t.pointerId);var r=i.getConfig("bx-cogsettings:r1",.3),d=i.getConfig("bx-cogsettings:r2",.65),c=i.getConfig("bx-cogsettings:r3",1),p=i.getConfig("bx-cogsettings:splay",.38),u=i.getConfig("bx-cogsettings:teeth",8),x=0,b=0,m=0,g=0,f=0,w=$i("svg:path");n.append(w),oh(w,l),s.selectedElements=[w];var v=Yt(w).inverse(),y=Ht(w).multiplySelf(v);w.setAttribute("transform",y.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e446){if("planar"===o){var _s262=_e446.clientX-t.clientX||1,_n184=_e446.clientY-t.clientY||1,_o146=$r(_s262),_l136=$r(_n184);if(i.modKeys.shift){var _t600=Ir(_o146,_l136);_o146=_t600,_l136=_t600;}var _a93=_s262<0?t.clientX-_o146:t.clientX,_h85=_n184<0?t.clientY-_l136:t.clientY,_p28=_o146/2;if(x=_a93+_o146/2,b=_h85+_l136/2,m=_p28*r,g=_p28*d,f=_p28*c,_o146===_l136)w.setAttribute("transform",y.toString());else{var _t601=1,_e445=_l136/_o146,_i429=-x*(_t601-1),_s263=-b*(_e445-1),_n185=DOMMatrix.fromMatrix(y);_n185.translateSelf(_i429,_s263),_n185.scaleSelf(_t601,_e445),w.setAttribute("transform",_n185.toString());}}else if("polar"===o){var _s264=new DOMPoint(t.clientX,t.clientY),_n186=new DOMPoint(_s264.x,_s264.y-100),_o147=new DOMPoint(_e446.clientX,_e446.clientY),_l137=new Q(_s264,_o147),_a94=Re(_s264,_n186,_o147),_h86=_l137.length;x=_s264.x,b=_s264.y,m=_h86*r,g=_h86*d,f=_h86*c,i.modKeys.shift&&(_a94=Ue(_a94,45));var _p29=new DOMMatrix();_p29.translateSelf(_s264.x,_s264.y),_p29.rotateSelf(_a94),_p29.translateSelf(-_s264.x,-_s264.y),w.setAttribute("transform",y.multiply(_p29).toString());}dl(w,{type:"cog",values:[x,b,m,g,f,p,u]},a);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),va(w,{geometryPrecision:a,transformPrecision:h});};s.addEventListener("lostpointercapture",k);}},{key:"Uo",value:function Uo(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=Yt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Add arrow"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var h=new DOMPoint(t.clientX,t.clientY);h=s.snapManager.snapPoint(h),h=h.matrixTransform(a);var r=new DOMPoint(h.x+100,h.y),d=i.getConfig("bx-othershapesettings:style",A),c=i.getConfig("bx-arrowsettings:baseThickness",10),p=i.getConfig("bx-arrowsettings:headThickness",40),u=i.getConfig("bx-arrowsettings:headLength",40),x=i.getConfig("bx-arrowsettings:headInset",0),b=u,m=p,g=h.x,f=h.y-m/2,w=$i("svg:path"),v={type:"arrow",values:[g,f,b,m,c,u,x]};dl(w,v,o),n.append(w),oh(w,d),s.selectedElements=[w];var y=Ht(w).multiply(Wt(s.currentWorkspace,w));w.setAttribute("transform",y.toString()),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(a),b=Ee(h,e),b<u&&(b=u);var n=Re(h,r,e);i.modKeys.shift&&(n=Ue(n,45));var l=new DOMMatrix();l.translateSelf(h.x,h.y),l.rotateSelf(n),l.translateSelf(-h.x,-h.y),w.setAttribute("transform",y.multiply(l).toString()),v={type:"arrow",values:[g,f,b,m,c,u,x]},dl(w,v,o);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),s.snapManager.snapEnd(),va(w,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",k);}},{key:"Fo",value:function Fo(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-othershapesettings:drawingMode","planar"),h=i.getConfig("bx-othershapesettings:style",A);s.undoManager.checkpoint("Add cross"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=r.x,c=r.y,p=0,u=0,x=0,b=0,m=i.getConfig("bx-crosssettings:thickness",.2),g=i.getConfig("bx-crosssettings:shift",.5),f=$i("svg:path");dl(f,{type:"cross",values:[d,c,p,u,x,b,g]},o),n.append(f),oh(f,h),s.selectedElements=[f];var w=Yt(f).inverse(),v=Ht(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=s.snapManager.snapPoint(e),"planar"===a){var _t602=e.x-r.x||1,_s265=e.y-r.y||1;if(p=$r(_t602),u=$r(_s265),i.modKeys.shift){var _t603=Ir(p,u);p=_t603,u=_t603;}d=_t602<0?r.x-p:r.x,c=_s265<0?r.y-u:r.y;}else if("polar"===a){var _t604=new DOMPoint(r.x,r.y),_s266=new DOMPoint(e.x,e.y),_n187=Ee(_t604,_s266),_o148=new DOMPoint(_t604.x,_t604.y-_n187),_l138=_o148.matrixTransform(new DOMMatrix().translate(_t604.x,_t604.y).rotate(-45).translate(-_t604.x,-_t604.y)),_a95=_o148.matrixTransform(new DOMMatrix().translate(_t604.x,_t604.y).rotate(45).translate(-_t604.x,-_t604.y)),_h87=_o148.matrixTransform(new DOMMatrix().translate(_t604.x,_t604.y).rotate(135).translate(-_t604.x,-_t604.y)),_x82=Ee(_l138,_a95);d=r.x-_x82/2,c=r.y-_x82/2,p=_x82,u=_x82;var _b25=Re(_t604,_h87,_s266);i.modKeys.shift&&(_b25=Ue(_b25,45));var _m23=new DOMMatrix();_m23.translateSelf(_t604.x,_t604.y),_m23.rotateSelf(_b25),_m23.translateSelf(-_t604.x,-_t604.y),f.setAttribute("transform",v.multiply(_m23).toString());}x=u*m,b=p*m,dl(f,{type:"cross",values:[d,c,p,u,x,b,g]},o);});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),s.snapManager.snapEnd(),va(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y);}},{key:"No",value:function No(t){var e,i=this.Js,s=this.tn.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-othershapesettings:drawingMode","planar"),h=i.getConfig("bx-othershapesettings:style",A);s.undoManager.checkpoint("Add spiral"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=i.getConfig("bx-spiralsettings:r1",0),c=i.getConfig("bx-spiralsettings:startAngle",0),p=i.getConfig("bx-spiralsettings:endAngle",1080),u=new DOMPoint(r.x,r.y-100).matrixTransform(new DOMMatrix().translate(r.x,r.y).rotate(p).translate(-r.x,-r.y)),x=r.x,b=r.y,m=1,g=d*m,f=$i("svg:path");dl(f,{type:"spiral",values:[x,b,g,m,c,p]},o),n.append(f),oh(f,h),s.selectedElements=[f];var w=Yt(f).inverse(),v=Ht(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),s.addEventListener("pointermove",e=function e(_e447){if("planar"===a){var _i430=_e447.clientX-t.clientX||1,_s267=_e447.clientY-t.clientY||1,_n188=$r(_i430),_l139=$r(_s267),_a96=Ir(_n188,_l139);_n188=_a96,_l139=_a96;var _h88=_i430<0?t.clientX-_n188:t.clientX,_r49=_s267<0?t.clientY-_l139:t.clientY;x=_h88+_n188/2,b=_r49+_l139/2,m=_n188/2,g=d*m,dl(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}else if("polar"===a){var _t605=new DOMPoint(_e447.clientX,_e447.clientY);_t605=s.snapManager.snapPoint(_t605);var _n189=Re(r,u,_t605);u=_t605,p+=_n189,!1===i.modKeys.shift&&(m=Ee(r,_t605)),g=d*m,dl(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),va(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y);}}]);return Lr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lr,"observedAttributes",["enabled","shape"]);customElements.define("bx-othershapecontext",Lr);var Br=new(/*#__PURE__*/function(){function _class3(){_classCallCheck(this,_class3);this.jo=new Dexie("GoogleFontsManager"),this.jo.version(1).stores({cache:"family"}),this.Vo={};}_createClass(_class3,[{key:"search",value:function search(){var _this183=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"alphabetical";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"all";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"all";var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:"all";return new Promise(/*#__PURE__*/function(){var _ref95=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee72(o){var l,a;return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:_context73.next=2;return _this183.Ho();case 2:l=[],a=_this183.jo.cache;""!==t.trim()&&(a=a.filter(function(e){return e.family.toLowerCase().includes(t.trim().toLowerCase());}));"all"!==i&&(a=a.filter(function(t){return t.category===i;}));"all"!==s&&(a=a.filter(function(t){return t.subsets.includes(s);}));_context73.next=8;return a.toArray();case 8:l=_context73.sent;"date"===e?l=l.sort(function(t,e){return t.dateRank>e.dateRank?-1:1;}):"popularity"===e?l=l.sort(function(t,e){return t.popularityRank>e.popularityRank?-1:1;}):"trending"===e&&(l=l.sort(function(t,e){return t.trendingRank>e.trendingRank?-1:1;}));"all"!==n&&(l=l.slice(40*n,40*(n+1)));o(l);case 12:case"end":return _context73.stop();}}},_callee72);}));return function(_x83){return _ref95.apply(this,arguments);};}());}},{key:"refresh",value:function refresh(){var _this184=this;return new Promise(/*#__PURE__*/function(){var _ref96=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee73(t,e){var i,s,n;return regeneratorRuntime.wrap(function _callee73$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:i=algoliasearch("501AW1B8SF","e2882397225989ca824db28672ee78ac").initIndex("googleFonts"),s=[];_context74.prev=1;_context74.next=4;return i.browseObjects({query:"",hitsPerPage:2e3,batch:function batch(t){return s.push.apply(s,_toConsumableArray(t));}});case 4:_context74.next=9;break;case 6:_context74.prev=6;_context74.t0=_context74["catch"](1);return _context74.abrupt("return",e(_context74.t0));case 9:n=s.map(function(t){return{family:t.family,faces:t.faces,category:t.category,subsets:t.subsets,license:t.license,thumbnail:t.thumbnail,urls:t.urls,dateRank:t.dateRank,popularityRank:t.popularityRank,trendingRank:t.trendingRank,pageURL:"https://fonts.google.com/specimen/".concat(t.objectID),cachedTime:Date.now()};});_context74.next=12;return _this184.jo.cache.clear();case 12:_context74.next=14;return _this184.jo.cache.bulkPut(n);case 14:t();case 15:case"end":return _context74.stop();}}},_callee73,null,[[1,6]]);}));return function(_x84,_x85){return _ref96.apply(this,arguments);};}());}},{key:"getFontFaceRulesFromUrl",value:function getFontFaceRulesFromUrl(t){var _this185=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(/*#__PURE__*/function(){var _ref97=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee74(i){var s,_e448,_iterator291,_step291,_t606,_e449,_i431,_n190,_t607,_s268,_iterator292,_step292,_i432,_t608,_i432$split,_i432$split2,_n191,_o149,_iterator293,_step293,_e450,_t609,_iterator294,_step294,_i433,_i433$split,_i433$split2,_t610,_s269,_i434,_s269$split,_s269$split2,_n192,_o150,_l140,_a97,_iterator295,_step295,_t611,_e451,_i435,_t612,_i436,_e452,_e452$_i,_i437,_o151,_e453,_iterator296,_step296,_t613,_o152,_l141,_a98,_h89,_iterator297,_step297,_t614,_r50,_d35;return regeneratorRuntime.wrap(function _callee74$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:s=[];_context75.next=3;return _this185.Ho();case 3:if(!e){_context75.next=11;break;}_context75.next=6;return _this185.Wo(t);case 6:_e448=_context75.sent;_iterator291=_createForOfIteratorHelper(_e448.cssRules);try{for(_iterator291.s();!(_step291=_iterator291.n()).done;){_t606=_step291.value;_t606.type===CSSRule.FONT_FACE_RULE&&s.push(_t606);}}catch(err){_iterator291.e(err);}finally{_iterator291.f();}_context75.next=24;break;case 11:_e449=[],_i431=new URL(t),_n190=_i431.searchParams.get("display")||"auto";if(t.startsWith("https://fonts.googleapis.com/css?")){_t607=_i431.searchParams.get("family"),_s268=(_t607.split("|"),_i431.searchParams.get("subset"),{regular:"400",bold:"700",italic:"400italic",bolditalic:"700italic",r:"400",b:"700",i:"400italic"});_iterator292=_createForOfIteratorHelper(_t607.split("|"));try{for(_iterator292.s();!(_step292=_iterator292.n()).done;){_i432=_step292.value;_t608=[],_i432$split=_i432.split(":"),_i432$split2=_slicedToArray(_i432$split,2),_n191=_i432$split2[0],_o149=_i432$split2[1];_iterator293=_createForOfIteratorHelper(_o149.split(","));try{for(_iterator293.s();!(_step293=_iterator293.n()).done;){_e450=_step293.value;_e450=_s268[_e450]||_e450,_t608.push(_e450);}}catch(err){_iterator293.e(err);}finally{_iterator293.f();}_e449.push({family:_n191,faceNames:_t608});}}catch(err){_iterator292.e(err);}finally{_iterator292.f();}}else if(t.startsWith("https://fonts.googleapis.com/css2?")){_t609=_i431.searchParams.getAll("family");_iterator294=_createForOfIteratorHelper(_t609);try{for(_iterator294.s();!(_step294=_iterator294.n()).done;){_i433=_step294.value;_i433$split=_i433.split(":"),_i433$split2=_slicedToArray(_i433$split,2),_t610=_i433$split2[0],_s269=_i433$split2[1];if(void 0===_s269)_e449.push({family:_t610,faceNames:["400"]});else{_i434=[],_s269$split=_s269.split("@"),_s269$split2=_slicedToArray(_s269$split,2),_n192=_s269$split2[0],_o150=_s269$split2[1],_l140=_n192.split(","),_a97=_o150.split(";");_iterator295=_createForOfIteratorHelper(_a97);try{for(_iterator295.s();!(_step295=_iterator295.n()).done;){_t611=_step295.value;_e451={wght:"400",ital:"0"};for(_i435=0;_i435<_l140.length;_i435+=1){_e451[_l140[_i435]]=_t611.split(",")[_i435];}_i434.push(_e451.wght+("1"===_e451.ital?"italic":""));}}catch(err){_iterator295.e(err);}finally{_iterator295.f();}_e449.push({family:_t610,faceNames:_i434});}}}catch(err){_iterator294.e(err);}finally{_iterator294.f();}}_t612=_this185.jo.cache;_i436=0,_e452=_e449;case 15:if(!(_i436<_e452.length)){_context75.next=24;break;}_e452$_i=_e452[_i436],_i437=_e452$_i.family,_o151=_e452$_i.faceNames;_context75.next=19;return _t612.get({family:_i437});case 19:_e453=_context75.sent;if(_e453){_iterator296=_createForOfIteratorHelper(_o151);try{for(_iterator296.s();!(_step296=_iterator296.n()).done;){_t613=_step296.value;_o152=_e453.urls[_t613];if(_o152){_l141=_t613.substring(0,3),_a98=_t613.includes("italic")?"italic":"normal",_h89=[];_iterator297=_createForOfIteratorHelper(_e453.subsets);try{for(_iterator297.s();!(_step297=_iterator297.n()).done;){_t614=_step297.value;x[_t614]&&_h89.push(x[_t614]);}}catch(err){_iterator297.e(err);}finally{_iterator297.f();}0===_h89.length&&(_h89="U+0-10FFFF");_r50=_h89.join(","),_d35=Qi(_templateObject6(),_i437,_a98,_l141,_n190,_r50,_o152);s.push(_d35.cssRules[0]);}}}catch(err){_iterator296.e(err);}finally{_iterator296.f();}}case 21:_i436++;_context75.next=15;break;case 24:i(s);case 25:case"end":return _context75.stop();}}},_callee74);}));return function(_x86){return _ref97.apply(this,arguments);};}());}},{key:"getFamilyDescriptor",value:function getFamilyDescriptor(t){var _this186=this;return new Promise(/*#__PURE__*/function(){var _ref98=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee75(e){return regeneratorRuntime.wrap(function _callee75$(_context76){while(1){switch(_context76.prev=_context76.next){case 0:_context76.next=2;return _this186.Ho();case 2:_context76.t0=e;_context76.next=5;return _this186.jo.cache.where("family").equals(t).toArray();case 5:_context76.t1=_context76.sent[0];if(_context76.t1){_context76.next=8;break;}_context76.t1=null;case 8:_context76.t2=_context76.t1;(0,_context76.t0)(_context76.t2);case 10:case"end":return _context76.stop();}}},_callee75);}));return function(_x87){return _ref98.apply(this,arguments);};}());}},{key:"getCategoryDisplayName",value:function getCategoryDisplayName(t){return p[t]||t;}},{key:"getSubsetDisplayName",value:function getSubsetDisplayName(t){return u[t]||t;}},{key:"Wo",value:function Wo(t){var _this187=this;return new Promise(/*#__PURE__*/function(){var _ref99=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee76(e){var i,_e454,s;return regeneratorRuntime.wrap(function _callee76$(_context77){while(1){switch(_context77.prev=_context77.next){case 0:i=null;if(!_this187.Vo[t]){_context77.next=5;break;}i=_this187.Vo[t];_context77.next=12;break;case 5:_context77.next=7;return fetch(t);case 7:_e454=_context77.sent;_context77.next=10;return _e454.text();case 10:s=_context77.sent;i=new CSSStyleSheet(),i.replaceSync(s),_this187.Vo[t]=i;case 12:e(i);case 13:case"end":return _context77.stop();}}},_callee76);}));return function(_x88){return _ref99.apply(this,arguments);};}());}},{key:"Ho",value:function Ho(){var _this188=this;return new Promise(/*#__PURE__*/function(){var _ref100=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee77(t){var e,i,_t615,_e455;return regeneratorRuntime.wrap(function _callee77$(_context78){while(1){switch(_context78.prev=_context78.next){case 0:_context78.next=2;return _this188.jo.cache.count();case 2:e=_context78.sent;i=!0;if(!(e>0)){_context78.next=9;break;}_context78.next=7;return _this188.jo.cache.get("Roboto");case 7:_t615=_context78.sent;if(_t615){_e455=1296e6;i=Date.now()-_t615.cachedTime>_e455;}case 9:_context78.t0=0!==e&&!0!==i;if(_context78.t0){_context78.next=13;break;}_context78.next=13;return _this188.refresh();case 13:t();case 14:case"end":return _context78.stop();}}},_callee77);}));return function(_x89){return _ref100.apply(this,arguments);};}());}}]);return _class3;}())();var Rr="Enter your text here.";var Gr=/*#__PURE__*/function(_zh2){_inherits(Gr,_zh2);var _super61=_createSuper(Gr);function Gr(){var _this189;_classCallCheck(this,Gr);_this189=_super61.call(this),_this189.Yo=es(_this189.qo,350,_assertThisInitialized(_this189)),_this189["#content-editor"].addEventListener("input",function(){return _this189.Yo();}),_this189["#style-picker"].addEventListener("change",function(){return _this189.fo();});return _this189;}_createClass(Gr,[{key:"en",value:function en(){this.Xs();}},{key:"qo",value:function qo(){""===this["#content-editor"].value?this.Js.setConfig("bx-textsettings:content",null):this.Js.setConfig("bx-textsettings:content",this["#content-editor"].value);}},{key:"fo",value:function fo(){this.Js.setConfig("bx-textsettings:style",this["#style-picker"].value);}},{key:"Xs",value:function Xs(){var t=this.Js.getConfig("bx-textsettings:content",Rr),e=this.Js.getConfig("bx-textsettings:style",$);this["#content-editor"].value=t,this["#style-picker"].value=e;}}]);return Gr;}(zh);_defineProperty(Gr,"_shadowTemplate",Ki(_templateObject208(),Rr));_defineProperty(Gr,"_shadowStyleSheet",Qi(_templateObject209()));customElements.define("bx-textsettings",Gr);var Ur=Object.entries;var Fr=/*#__PURE__*/function(_HTMLElement52){_inherits(Fr,_HTMLElement52);var _super62=_createSuper(Fr);function Fr(){_classCallCheck(this,Fr);return _super62.apply(this,arguments);}_createClass(Fr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.Xo={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this190=this;var t=this.tn.board,e=!0,i=function i(){t.style.cursor=e?"url(images/cursors/text.svg) 8 8, auto":"url(images/cursors/text-add.svg) 3 8, auto";};i(),this.Zo(),t.workspaces.addEventListener("pointerdown",this.mn=function(t){_this190.gn(t);}),t.workspaces.addEventListener("pointerover",this.Ko=function(t){e=null!==t.target.closest("text"),!1===_this190.Js.isPointerDown&&i();}),window.addEventListener("pointerup",this.Bn=function(t){i();});}},{key:"sn",value:function sn(){var t=this.tn.board;t.workspaces.removeEventListener("pointerdown",this.mn),t.workspaces.removeEventListener("pointerover",this.Ko),window.removeEventListener("pointerup",this.Bn);}},{key:"gn",value:function(){var _gn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee79(t){var _this191=this;var e,_i438,s,_n193,_o153,_ref101,_l142,_a99,_h90,_r51,_d36;return regeneratorRuntime.wrap(function _callee79$(_context80){while(1){switch(_context80.prev=_context80.next){case 0:e=this.tn.board;if(!(0===t.button&&null===t.target.closest("text"))){_context80.next=23;break;}e.undoManager.checkpoint("Add text");_i438=e.currentContainer||e.currentWorkspace;s=this.Js.getConfig("bx-textsettings:content",Rr);_n193=this.Js.getConfig("bx-textsettings:style",$);_context80.next=8;return e.defsFontsManager.search();case 8:_o153=_context80.sent.map(function(t){return t.family;});_ref101=(_o153.length>0&&_o153[0],e);_l142=_ref101.geometryPrecision;_a99=_ref101.transformPrecision;_h90=$i("svg:text");_h90.textContent=s,_h90.style.whiteSpace="pre",_i438.append(_h90),oh(_h90,_n193),e.selectedElements=[_h90];_r51=Yt(_h90).inverse().translate(t.clientX,t.clientY);_h90.setAttribute("transform",_r51.toString()),va(_h90,{geometryPrecision:_l142,transformPrecision:_a99});_d36=/*#__PURE__*/function(){var _ref102=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee78(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee78$(_context79){while(1){switch(_context79.prev=_context79.next){case 0:t=wi(_h90),e=t[0],i=t[t.length-1],s=new Range();s.setStart(e,0);s.setEnd(i,i.textContent.length);_this191.tn.board.selectedTextRange=null;_this191.tn.board.selectedTextRange=s;_context79.next=7;return ss(100);case 7:_this191.tn.board.textHud.focus();case 8:case"end":return _context79.stop();}}},_callee78);}));return function _d36(){return _ref102.apply(this,arguments);};}();_d36();_context80.t0=_n193["font-family"];if(!_context80.t0){_context80.next=23;break;}_context80.next=22;return this.Qo(_n193["font-family"]);case 22:_d36();case 23:case"end":return _context80.stop();}}},_callee79,this);}));function gn(_x90){return _gn.apply(this,arguments);}return gn;}()},{key:"Qo",value:function Qo(t){var _this192=this;return new Promise(/*#__PURE__*/function(){var _ref103=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee80(e){var _e456;return regeneratorRuntime.wrap(function _callee80$(_context81){while(1){switch(_context81.prev=_context81.next){case 0:_context81.t0=!1;_context81.next=3;return _this192.tn.board.defsFontsManager.search();case 3:_context81.t1=_context81.sent.map(function(t){return t.family;}).includes(t);if(!(_context81.t0===_context81.t1)){_context81.next=18;break;}_e456=[];if(!_this192.Xo[t]){_context81.next=10;break;}_context81.t2=_this192.Xo[t];_context81.next=13;break;case 10:_context81.next=12;return _this192.Jo(t);case 12:_context81.t2=_context81.sent;case 13:_e456=_context81.t2;_context81.next=16;return _this192.tn.board.defsFontsManager.addFontFaces(_e456);case 16:_context81.next=18;return Promise.all(_e456.map(function(t){return t.load();}));case 18:e();case 19:case"end":return _context81.stop();}}},_callee80);}));return function(_x91){return _ref103.apply(this,arguments);};}());}},{key:"Jo",value:function Jo(t){return new Promise(/*#__PURE__*/function(){var _ref104=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee81(e){var i,s,_iterator298,_step298,_step298$value,_e457,_n194,_s270,_o154,_l143,_a100,_h91;return regeneratorRuntime.wrap(function _callee81$(_context82){while(1){switch(_context82.prev=_context82.next){case 0:i=[];_context82.next=3;return Br.getFamilyDescriptor(t);case 3:s=_context82.sent;if(!s){_context82.next=34;break;}_iterator298=_createForOfIteratorHelper(Ur(s.urls));_context82.prev=6;_iterator298.s();case 8:if((_step298=_iterator298.n()).done){_context82.next=26;break;}_step298$value=_slicedToArray(_step298.value,2),_e457=_step298$value[0],_n194=_step298$value[1];_s270={weight:_e457.substring(0,3),style:_e457.includes("italic")?"italic":"normal"};_context82.next=13;return fetch(_n194);case 13:_o154=_context82.sent;_context82.next=16;return _o154.blob();case 16:_l143=_context82.sent;_context82.next=19;return hr(_l143);case 19:_context82.t0=_context82.sent;_context82.t1='url("'+_context82.t0;_a100=_context82.t1+'")';_h91=new FontFace(t,_a100,_s270);_h91.src=_a100,i.push(_h91);case 24:_context82.next=8;break;case 26:_context82.next=31;break;case 28:_context82.prev=28;_context82.t2=_context82["catch"](6);_iterator298.e(_context82.t2);case 31:_context82.prev=31;_iterator298.f();return _context82.finish(31);case 34:e(i);case 35:case"end":return _context82.stop();}}},_callee81,null,[[6,28,31,34]]);}));return function(_x92){return _ref104.apply(this,arguments);};}());}},{key:"tl",value:function tl(t){var _this193=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref105=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee82(i){var _iterator299,_step299,_e458;return regeneratorRuntime.wrap(function _callee82$(_context83){while(1){switch(_context83.prev=_context83.next){case 0:_context83.t0=void 0===_this193.Xo[t];if(!_context83.t0){_context83.next=6;break;}_context83.next=4;return _this193.Jo(t);case 4:_this193.Xo[t]=_context83.sent;_context83.t0=e;case 6:if(!_context83.t0){_context83.next=9;break;}_iterator299=_createForOfIteratorHelper(_this193.Xo[t]);try{for(_iterator299.s();!(_step299=_iterator299.n()).done;){_e458=_step299.value;_e458.load();}}catch(err){_iterator299.e(err);}finally{_iterator299.f();}case 9:i();case 10:case"end":return _context83.stop();}}},_callee82);}));return function(_x93){return _ref105.apply(this,arguments);};}());}},{key:"Zo",value:function Zo(){var _this194=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref106=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee83(e){var i;return regeneratorRuntime.wrap(function _callee83$(_context84){while(1){switch(_context84.prev=_context84.next){case 0:i=_this194.Js.getConfig("bx-textsettings:style",$)["font-family"];_context84.t0=i;if(!_context84.t0){_context84.next=5;break;}_context84.next=5;return _this194.tl(i,t);case 5:e();case 6:case"end":return _context84.stop();}}},_callee83);}));return function(_x94){return _ref106.apply(this,arguments);};}());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Fr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fr,"observedAttributes",["enabled"]);customElements.define("bx-textcontext",Fr);var Nr="Enter your text here.",jr='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speed">\n    <x-label>Speed</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speedInverse">\n    <x-label>Speed inverse</x-label>\n  </x-menuitem>\n';var Vr=/*#__PURE__*/function(_zh3){_inherits(Vr,_zh3);var _super63=_createSuper(Vr);function Vr(){var _this195;_classCallCheck(this,Vr);_this195=_super63.call(this),_this195.Yo=es(_this195.qo,350,_assertThisInitialized(_this195)),_this195["#font-size-dynamics-param-select"].addEventListener("change",function(t){return _this195.mo(t);}),_this195["#font-size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this195.mo(t);}),_this195["#glyph-rotation-dynamics-param-select"].addEventListener("change",function(t){return _this195.mo(t);}),_this195["#glyph-rotation-dynamics-variance-input"].addEventListener("changeend",function(t){return _this195.mo(t);}),_this195["#opacity-dynamics-param-select"].addEventListener("change",function(t){return _this195.mo(t);}),_this195["#opacity-dynamics-variance-input"].addEventListener("changeend",function(t){return _this195.mo(t);}),_this195["#content-editor"].addEventListener("input",function(){return _this195.Yo();}),_this195["#style-picker"].addEventListener("change",function(){return _this195.fo();});return _this195;}_createClass(Vr,[{key:"en",value:function en(){this.Xs();}},{key:"qo",value:function qo(){""===this["#content-editor"].value?this.Js.setConfig("bx-textpathsettings:content",null):this.Js.setConfig("bx-textpathsettings:content",this["#content-editor"].value);}},{key:"mo",value:function mo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#font-size-dynamics-param-select"].value&&(e.fontSize={param:this["#font-size-dynamics-param-select"].value,variance:this["#font-size-dynamics-variance-input"].value/100}),"none"!==this["#glyph-rotation-dynamics-param-select"].value&&(e.glyphRotation={param:this["#glyph-rotation-dynamics-param-select"].value,variance:this["#glyph-rotation-dynamics-variance-input"].value/100}),"none"!==this["#opacity-dynamics-param-select"].value&&(e.opacity={param:this["#opacity-dynamics-param-select"].value,variance:this["#opacity-dynamics-variance-input"].value/100}),this.Js.setConfig("bx-textpathsettings:dynamics",e),this.Xs();}},{key:"fo",value:function fo(){this.Js.setConfig("bx-textpathsettings:style",this["#style-picker"].value);}},{key:"Xs",value:function Xs(){var t=this.Js.getConfig("bx-textpathsettings:dynamics",{}),e=this.Js.getConfig("bx-textpathsettings:content",Nr),i=this.Js.getConfig("bx-textpathsettings:style",$);t.fontSize?(this["#font-size-dynamics-param-select"].value=t.fontSize.param,this["#font-size-dynamics-variance-input"].value=J(100*t.fontSize.variance,0),this["#font-size-dynamics-variance-input"].disabled=!1):(this["#font-size-dynamics-param-select"].value="none",this["#font-size-dynamics-variance-input"].value=0,this["#font-size-dynamics-variance-input"].disabled=!0),t.glyphRotation?(this["#glyph-rotation-dynamics-param-select"].value=t.glyphRotation.param,this["#glyph-rotation-dynamics-variance-input"].value=J(100*t.glyphRotation.variance,0),this["#glyph-rotation-dynamics-variance-input"].disabled=!1):(this["#glyph-rotation-dynamics-param-select"].value="none",this["#glyph-rotation-dynamics-variance-input"].value=0,this["#glyph-rotation-dynamics-variance-input"].disabled=!0),t.opacity?(this["#opacity-dynamics-param-select"].value=t.opacity.param,this["#opacity-dynamics-variance-input"].value=J(100*t.opacity.variance,0),this["#opacity-dynamics-variance-input"].disabled=!1):(this["#opacity-dynamics-param-select"].value="none",this["#opacity-dynamics-variance-input"].value=0,this["#opacity-dynamics-variance-input"].disabled=!0),this["#content-editor"].value=e,this["#style-picker"].value=i;}}]);return Vr;}(zh);_defineProperty(Vr,"_shadowTemplate",Ki(_templateObject210(),Nr,jr,jr,jr));_defineProperty(Vr,"_shadowStyleSheet",Qi(_templateObject211()));customElements.define("bx-textpathsettings",Vr);var Hr=Object.entries;var Wr=/*#__PURE__*/function(_HTMLElement53){_inherits(Wr,_HTMLElement53);var _super64=_createSuper(Wr);_createClass(Wr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Wr(){_classCallCheck(this,Wr);return _super64.call(this);}_createClass(Wr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board"),this.Xo={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function(){var _en=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee84(){var _this196=this;return regeneratorRuntime.wrap(function _callee84$(_context85){while(1){switch(_context85.prev=_context85.next){case 0:this.lo=.7,this.un.splineHud.passive=!0,this.un.style.cursor="crosshair",this.Zo(),this.Js.addEventListener("configchange",this.ln=function(t){_this196.an(t.detail);}),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this196.gn(t);});case 1:case"end":return _context85.stop();}}},_callee84,this);}));function en(){return _en.apply(this,arguments);}return en;}()},{key:"sn",value:function sn(){this.un.splineHud.passive=!1,this.Js.removeEventListener("configchange",this.ln),this.un.workspaces.removeEventListener("pointerdown",this.Kn);}},{key:"an",value:function an(_ref107){var t=_ref107.key,e=_ref107.value;"bx-textpathsettings:smoothing"===t&&null!==e&&(this.lo=e);}},{key:"gn",value:function gn(t){var _this197=this;if(1!==t.buttons)return;var _e459,_i439,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e459=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Ee(s,n)<3||(window.removeEventListener("pointermove",_e459),_this197.Dn(t));}),window.addEventListener("pointerup",_i439=function i(t){window.removeEventListener("pointermove",_e459),window.removeEventListener("pointerup",_i439);});}},{key:"Dn",value:function Dn(t){var _this198=this;var e,_i444,s=this.un,n=this.Js.getConfig("bx-textpathsettings:dynamics",{}),o=this.Js.getConfig("bx-textpathsettings:content",Nr),l=this.Js.getConfig("bx-textpathsettings:style",$),a=s.currentContainer||s.currentWorkspace,h=null,r=null,d=null,c=s.geometryPrecision,p=s.transformPrecision,u=new Array(250).fill(o).join(" "),x=0,b=0,m=null;s.undoManager.checkpoint("Text path"),h=$i("svg:path"),h.style.fill="none",h.id=s.generateUniqueID("path-"),s.defs.append(h),r=$i("svg:text"),r.style.whiteSpace="pre",a.append(r),oh(r,l),d=$i("svg:textPath"),d.setAttribute("href","#"+h.id),r.append(d),l["font-family"]&&this.Qo(l["font-family"]);var g=Yt(r).inverse(),f=new DOMPoint(t.clientX,t.clientY).matrixTransform(g),w=[],v=[];w.push({type:"M",values:[f.x,f.y].map(function(t){return J(t,c);})}),h.setPathData(w),s.selectedElements=[r],s.setPointerCapture(t.pointerId);var y=function y(){w.length=w.length-(v.length-1);var _iterator300=_createForOfIteratorHelper(fh(v,6*_this198.lo/s.scale)),_step300;try{for(_iterator300.s();!(_step300=_iterator300.n()).done;){var _t616=_step300.value;var _e460=[_t616[1].x,_t616[1].y,_t616[2].x,_t616[2].y,_t616[3].x,_t616[3].y];_e460=_e460.map(function(t){return J(t,c);}),w.push({type:"C",values:_e460});}}catch(err){_iterator300.e(err);}finally{_iterator300.f();}h.setPathData(w),v=[];},k=function k(t){var e=$i("svg:tspan");if(e.textContent=u[d.childElementCount],n.fontSize){var _i440,_s271=parseInt(l["font-size"]),_o155=J(_s271-_s271*n.fontSize.variance,0),_a101=J(_s271+_s271*n.fontSize.variance,0);"random"===n.fontSize.param?_i440=il(_o155,_a101):"speed"===n.fontSize.param?_i440=_o155+x/8*(_a101-_o155):"speedInverse"===n.fontSize.param?_i440=_a101-x/8*(_a101-_o155):"pressure"===n.fontSize.param&&(_i440=_o155+t.pressure*(_a101-_o155)),_i440=tt(_i440,5,Infinity,0),e.style.fontSize=_i440+"px";}if(n.opacity){var _i441,_s272=void 0!==l.opacity?parseInt(l.opacity):1,_o156=J(_s272-_s272*n.opacity.variance,2),_a102=J(_s272+_s272*n.opacity.variance,2);console.log(_s272,_o156,_a102),"random"===n.opacity.param?_i441=il(_o156,_a102,2):"speed"===n.opacity.param?_i441=_o156+x/8*(_a102-_o156):"speedInverse"===n.opacity.param?_i441=_a102-x/8*(_a102-_o156):"pressure"===n.opacity.param&&(_i441=_o156+t.pressure*(_a102-_o156)),_i441=tt(_i441,0,1,2),e.style.opacity=_i441;}if(n.glyphRotation){var _i442,_s273=-360*n.glyphRotation.variance,_o157=360*n.glyphRotation.variance;"random"===n.glyphRotation.param?_i442=il(_s273,_o157,0):"speed"===n.glyphRotation.param?_i442=_s273+x/8*(_o157-_s273):"speedInverse"===n.glyphRotation.param?_i442=_o157-x/8*(_o157-_s273):"pressure"===n.glyphRotation.param&&(_i442=_s273+t.pressure*(_o157-_s273)),_i442=tt(_i442,-360,360,0),e.setAttribute("rotate",_i442);}d.append(e),0===e.getComputedTextLength()?e.remove():k(t);};s.addEventListener("pointermove",e=function e(t){b+=1;var e=new DOMPoint(t.clientX,t.clientY),i=e.matrixTransform(g);if(!m||!De(m,e,0)){if(m){var _t617=x;x=Ee(m,e),b>1&&(x=function(t,e,i){return(1-i)*t+i*e;}(_t617,x,.05));}if(m=e,v.push(i),12===v.length)y();else{var _t618=[i.x,i.y];_t618=_t618.map(function(t){return J(t,c);}),w.push({type:"L",values:_t618}),h.setPathData(w);}k(t);}}),s.addEventListener("pointerup",_i444=function i(t){if(s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i444),v.length>2&&y(),0===d.childElementCount){var _e461=new DOMPoint(t.clientX,t.clientY).matrixTransform(g),_i443=new Q(f,_e461);for(;0===d.childElementCount;){_i443.length+=10,w=[{type:"M",values:[f.x,f.y]},{type:"L",values:[f.x+_i443.x,f.y+_i443.y]}],h.setPathData(w),k(t);}}mi(r);});}},{key:"Qo",value:function Qo(t){var _this199=this;return new Promise(/*#__PURE__*/function(){var _ref108=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee85(e){var _e462;return regeneratorRuntime.wrap(function _callee85$(_context86){while(1){switch(_context86.prev=_context86.next){case 0:_context86.t0=!1;_context86.next=3;return _this199.tn.board.defsFontsManager.search();case 3:_context86.t1=_context86.sent.map(function(t){return t.family;}).includes(t);if(!(_context86.t0===_context86.t1)){_context86.next=18;break;}_e462=[];if(!_this199.Xo[t]){_context86.next=10;break;}_context86.t2=_this199.Xo[t];_context86.next=13;break;case 10:_context86.next=12;return _this199.Jo(t);case 12:_context86.t2=_context86.sent;case 13:_e462=_context86.t2;_context86.next=16;return _this199.tn.board.defsFontsManager.addFontFaces(_e462);case 16:_context86.next=18;return Promise.all(_e462.map(function(t){return t.load();}));case 18:e();case 19:case"end":return _context86.stop();}}},_callee85);}));return function(_x95){return _ref108.apply(this,arguments);};}());}},{key:"Jo",value:function Jo(t){return new Promise(/*#__PURE__*/function(){var _ref109=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee86(e){var i,s,_iterator301,_step301,_step301$value,_e463,_n195,_s274,_o158,_l144,_a103,_h92;return regeneratorRuntime.wrap(function _callee86$(_context87){while(1){switch(_context87.prev=_context87.next){case 0:i=[];_context87.next=3;return Br.getFamilyDescriptor(t);case 3:s=_context87.sent;if(!s){_context87.next=34;break;}_iterator301=_createForOfIteratorHelper(Hr(s.urls));_context87.prev=6;_iterator301.s();case 8:if((_step301=_iterator301.n()).done){_context87.next=26;break;}_step301$value=_slicedToArray(_step301.value,2),_e463=_step301$value[0],_n195=_step301$value[1];_s274={weight:_e463.substring(0,3),style:_e463.includes("italic")?"italic":"normal"};_context87.next=13;return fetch(_n195);case 13:_o158=_context87.sent;_context87.next=16;return _o158.blob();case 16:_l144=_context87.sent;_context87.next=19;return hr(_l144);case 19:_context87.t0=_context87.sent;_context87.t1='url("'+_context87.t0;_a103=_context87.t1+'")';_h92=new FontFace(t,_a103,_s274);_h92.src=_a103,i.push(_h92);case 24:_context87.next=8;break;case 26:_context87.next=31;break;case 28:_context87.prev=28;_context87.t2=_context87["catch"](6);_iterator301.e(_context87.t2);case 31:_context87.prev=31;_iterator301.f();return _context87.finish(31);case 34:e(i);case 35:case"end":return _context87.stop();}}},_callee86,null,[[6,28,31,34]]);}));return function(_x96){return _ref109.apply(this,arguments);};}());}},{key:"tl",value:function tl(t){var _this200=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref110=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee87(i){var _iterator302,_step302,_e464;return regeneratorRuntime.wrap(function _callee87$(_context88){while(1){switch(_context88.prev=_context88.next){case 0:_context88.t0=void 0===_this200.Xo[t];if(!_context88.t0){_context88.next=6;break;}_context88.next=4;return _this200.Jo(t);case 4:_this200.Xo[t]=_context88.sent;_context88.t0=e;case 6:if(!_context88.t0){_context88.next=9;break;}_iterator302=_createForOfIteratorHelper(_this200.Xo[t]);try{for(_iterator302.s();!(_step302=_iterator302.n()).done;){_e464=_step302.value;_e464.load();}}catch(err){_iterator302.e(err);}finally{_iterator302.f();}case 9:i();case 10:case"end":return _context88.stop();}}},_callee87);}));return function(_x97){return _ref110.apply(this,arguments);};}());}},{key:"Zo",value:function Zo(){var _this201=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref111=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee88(e){var i;return regeneratorRuntime.wrap(function _callee88$(_context89){while(1){switch(_context89.prev=_context89.next){case 0:i=_this201.Js.getConfig("bx-textsettings:style",$)["font-family"];_context89.t0=i;if(!_context89.t0){_context89.next=5;break;}_context89.next=5;return _this201.tl(i,t);case 5:e();case 6:case"end":return _context89.stop();}}},_callee88);}));return function(_x98){return _ref111.apply(this,arguments);};}());}}]);return Wr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wr,"observedAttributes",["enabled"]);customElements.define("bx-textpathcontext",Wr);var Yr=Math.abs,qr=Math.min;var Xr=/*#__PURE__*/function(_HTMLElement54){_inherits(Xr,_HTMLElement54);var _super65=_createSuper(Xr);function Xr(){_classCallCheck(this,Xr);return _super65.apply(this,arguments);}_createClass(Xr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this202=this;var t=this.tn.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this202.gn(t);});}},{key:"sn",value:function sn(){this.tn.board.workspaces.removeEventListener("pointerdown",this.Kn);}},{key:"gn",value:function gn(t){var _this203=this;var _e465,_i445,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e465=function e(i){var n=new DOMPoint(i.clientX,i.clientY);Ee(s,n)>=3&&(window.removeEventListener("pointermove",_e465),_this203.el(t,i));}),window.addEventListener("click",_i445=function i(t){window.removeEventListener("pointermove",_e465),window.removeEventListener("click",_i445);});}},{key:"el",value:function el(t){var _this204=this;var e,_i446,s=this.tn.board,n=s.geometryPrecision,o=Yt(s.currentWorkspace).inverse();s.undoManager.checkpoint("Draw view"),s.snapManager.snapStart(!1);var l=s.maybeCreateDefsForCurrentWorkspace(),a=null;!1===s.currentWorkspace.hasAttribute("viewBox")?s.selectedElements=[]:(a=$i("svg:view"),a.id=s.generateUniqueID("view-",null,1),a.innerHTML="<bx-title>View ".concat(a.id.substring(a.id.indexOf("-")+1),"</bx-title>"),l.append(a),s.selectedElements=[a]);var h=new DOMPoint(t.clientX,t.clientY);h=s.snapManager.snapPoint(h),h=h.matrixTransform(o),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(o);var i=e.x-h.x||1,l=e.y-h.y||1,r=Yr(i)||1,d=Yr(l)||1;if(_this204.Js.modKeys.shift){var _t619=qr(r,d);r=_t619,d=_t619;}var c=i<0?h.x-r:h.x,p=l<0?h.y-d:h.y;c=J(c,n),p=J(p,n),r=J(r,n),d=J(d,n),a?a.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d)):s.currentWorkspace.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d));}),window.addEventListener("pointerup",_i446=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i446),s.snapManager.snapEnd();});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Xr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xr,"observedAttributes",["enabled"]);customElements.define("bx-viewcontext",Xr);var Zr=Math.min,Kr=Symbol();var Qr={id:"rect-hud",createdCallback:function createdCallback(){this.il=!1,this.sl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #rect-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator303=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step303;try{for(_iterator303.s();!(_step303=_iterator303.n()).done;){var _t620=_step303.value;this["#"+_t620.getAttribute("uid")]=_t620;}}catch(err){_iterator303.e(err);}finally{_iterator303.f();}},enabledCallback:function enabledCallback(){var _this205=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this205.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this206=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this206.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this206.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this206.Oo(t);});},rl:function rl(){this.nl&&this.nl.dispatchEvent(new CustomEvent("lostpointercapture")),this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.nl||(this.sl=this.ul(),0===this.sl.length?!0===this.il&&this.rl():(!1===this.il&&this.dl(),this.xl()));},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&t.target.matches(".grippie")&&this.ml(t);},ml:function ml(t){var _this207=this;var e,_i450,s,n,o=this.un,l=t.target,a=l.parentElement,h=a[Kr],r=l.getAttribute("data-corner"),d=Yt(h).inverse(),c=o.geometryPrecision,p=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),u=new DOMPoint(p.x,p.y),x="normal",b=!1,m=function m(t){var e,i,s,n,o,l,a,h,r,d,c,p;if("rect"===t.localName){var _u27=t.hasAttribute("rx")?t.rx.baseVal.value:t.ry.baseVal.value,_x99=t.hasAttribute("ry")?t.ry.baseVal.value:t.rx.baseVal.value;e=t.x.baseVal.value,i=t.y.baseVal.value,s=t.width.baseVal.value,n=t.height.baseVal.value,o=_u27,l=_u27,a=_u27,h=_u27,r=_x99,d=_x99,c=_x99,p=_x99;}else if("path"===t.localName){var _u28=rl(t).values;e=_u28[0],i=_u28[1],s=_u28[2],n=_u28[3],o=_u28[4],l=_u28[5],a=_u28[6],h=_u28[7],r=void 0===_u28[8]?o:_u28[8],d=void 0===_u28[9]?l:_u28[9],c=void 0===_u28[10]?a:_u28[10],p=void 0===_u28[11]?h:_u28[11];}return[e,i,s,n,o,l,a,h,r,d,c,p];},g=function g(){var _this207$Js$modKeys=_this207.Js.modKeys,t=_this207$Js$modKeys.ctrl,e=_this207$Js$modKeys.shift;if(!0===t&&!1===e)x="normal";else if(!1===t&&!0===e)x="symmetric-1234";else if(!0===t&&!0===e)x="symmetric-1234";else{var _t621,_e466,_m24=m(h),_m25=_slicedToArray(_m24,12),_i447=_m25[0],_s275=_m25[1],_n196=_m25[2],_o159=_m25[3],_l145=_m25[4],_a104=_m25[5],_d37=_m25[6],_c30=_m25[7],_p30=_m25[8],_u29=_m25[9],_b26=_m25[10],_g23=_m25[11],_f17=[];if("1"===r&&(_t621=_l145,_e466=_p30),"2"===r&&(_t621=_a104,_e466=_u29),"3"===r&&(_t621=_d37,_e466=_b26),"4"===r&&(_t621=_c30,_e466=_g23),_l145===_t621&&_p30===_e466&&_f17.push("1"),_a104===_t621&&_u29===_e466&&_f17.push("2"),_d37===_t621&&_b26===_e466&&_f17.push("3"),_c30===_t621&&_g23===_e466&&_f17.push("4"),1===_f17.length)x="normal";else{x="symmetric-";var _iterator304=_createForOfIteratorHelper(_f17),_step304;try{for(_iterator304.s();!(_step304=_iterator304.n()).done;){var _t622=_step304.value;x+=_t622;}}catch(err){_iterator304.e(err);}finally{_iterator304.f();}}}},f=function f(){var t=u.x-p.x,e=(u.y,p.y,0),_m26=m(h),_m27=_slicedToArray(_m26,12),i=_m27[0],s=_m27[1],l=_m27[2],d=_m27[3],b=_m27[4],g=_m27[5],f=_m27[6],w=_m27[7],v=_m27[8],y=_m27[9],k=_m27[10],S=_m27[11];if("1"===r?e=n[4]+t:"2"===r?e=n[5]-t:"3"===r?e=n[6]-t:"4"===r&&(e=n[7]+t),e=tt(e,0,Zr(l/2,d/2),c),"normal"===x?"1"===r?(b=e,v=e):"2"===r?(g=e,y=e):"3"===r?(f=e,k=e):"4"===r&&(w=e,S=e):(x.includes("1")&&(b=e,v=e),x.includes("2")&&(g=e,y=e),x.includes("3")&&(f=e,k=e),x.includes("4")&&(w=e,S=e)),b===g&&b===f&&b===w&&v===y&&v===k&&v===S){if("path"===h.localName){var _t624=h,_e468=$i("svg:rect");var _iterator305=_createForOfIteratorHelper(_t624.attributes),_step305;try{for(_iterator305.s();!(_step305=_iterator305.n()).done;){var _i448=_step305.value;"d"!==_i448.name&&"data-bx-shape"!==_i448.name&&_e468.setAttribute(_i448.name,_i448.value);}}catch(err){_iterator305.e(err);}finally{_iterator305.f();}_e468.setAttribute("x",i),_e468.setAttribute("y",s),_e468.setAttribute("width",l),_e468.setAttribute("height",d),_e468.innerHTML=_t624.innerHTML,_t624.replaceWith(_e468),h=_e468,a[Kr]=_e468,o.selectedElements=o.selectedElements.map(function(i){return i===_t624?_e468:i;});}var _t623=J(b,c),_e467=J(g,c);0===_t623?h.removeAttribute("rx"):h.setAttribute("rx",_t623),0===_e467?h.removeAttribute("ry"):h.setAttribute("ry",_e467);}else{if("rect"===h.localName){var _t626=h,_e469=$i("svg:path");var _iterator306=_createForOfIteratorHelper(_t626.attributes),_step306;try{for(_iterator306.s();!(_step306=_iterator306.n()).done;){var _i449=_step306.value;!1===["x","y","width","height","rx","ry"].includes(_i449.name)&&_e469.setAttribute(_i449.name,_i449.value);}}catch(err){_iterator306.e(err);}finally{_iterator306.f();}_e469.innerHTML=_t626.innerHTML,_t626.replaceWith(_e469),h=_e469,a[Kr]=_e469,o.selectedElements=o.selectedElements.map(function(i){return i===_t626?_e469:i;});}var _t625;if(b===v&&g===y&&f===k&&w&&S){_t625=[i,s,l,d,b,g,f,w];}else _t625=[i,s,l,d,b,g,f,w,v,y,k,S];_t625=_t625.map(function(t){return J(t,c);}),dl(h,{type:"rect",values:_t625},c);}};l.parentElement.append(l),l.setPointerCapture(t.pointerId),this.nl=l,n=m(h),l.addEventListener("pointermove",e=function e(t){b||(b=!0,o.undoManager.checkpoint("Edit rectangle")),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),f();}),l.addEventListener("lostpointercapture",_i450=function i(){l.removeEventListener("pointermove",e),l.removeEventListener("lostpointercapture",_i450),_this207.Js.removeEventListener("modkeyschange",s),_this207.nl=null;}),this.Js.addEventListener("modkeyschange",s=function s(){g(),f();}),g();},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator307=_createForOfIteratorHelper(this.sl),_step307;try{for(_iterator307.s();!(_step307=_iterator307.n()).done;){var _t627=_step307.value;var _e470=this["#subhud-template"].cloneNode(!0);_e470.removeAttribute("uid"),_e470[Kr]=_t627,this["#subhuds"].append(_e470);}}catch(err){_iterator307.e(err);}finally{_iterator307.f();}this.ll(),this.bl();},ll:function ll(){var _iterator308=_createForOfIteratorHelper(this["#subhuds"].children),_step308;try{for(_iterator308.s();!(_step308=_iterator308.n()).done;){var _t628=_step308.value;var _e471=void 0,_i451=void 0,s=void 0,_n197=void 0,_o160=void 0,_l146=void 0,_a105=void 0,_h93=void 0,_r52=_t628[Kr],_d38=Wt(_r52,this);if("rect"===_r52.localName)_e471=_r52.x.baseVal.value,_i451=_r52.y.baseVal.value,s=_r52.width.baseVal.value,_n197=_r52.height.baseVal.value,_o160=_r52.rx.baseVal.value,_l146=_r52.rx.baseVal.value,_a105=_r52.rx.baseVal.value,_h93=_r52.rx.baseVal.value;else if("path"===_r52.localName){var _t629=rl(_r52);_e471=_t629.values[0],_i451=_t629.values[1],s=_t629.values[2],_n197=_t629.values[3],_o160=_t629.values[4],_l146=_t629.values[5],_a105=_t629.values[6],_h93=_t629.values[7];}var _iterator309=_createForOfIteratorHelper(_t628.children),_step309;try{for(_iterator309.s();!(_step309=_iterator309.n()).done;){var _r53=_step309.value;var _t630=void 0,_c31=_r53.getAttribute("data-corner");"1"===_c31&&(_t630=new DOMPoint(_e471+_o160,_i451)),"2"===_c31?_t630=new DOMPoint(_e471+s-_l146,_i451):"3"===_c31?_t630=new DOMPoint(_e471+s-_a105,_i451+_n197):"4"===_c31&&(_t630=new DOMPoint(_e471+_h93,_i451+_n197));var _p31=_t630.matrixTransform(_d38);_r53.setAttribute("cx",_p31.x),_r53.setAttribute("cy",_p31.y);}}catch(err){_iterator309.e(err);}finally{_iterator309.f();}}}catch(err){_iterator308.e(err);}finally{_iterator308.f();}},bl:function bl(){var _iterator310=_createForOfIteratorHelper(this["#subhuds"].children),_step310;try{for(_iterator310.s();!(_step310=_iterator310.n()).done;){var _t631=_step310.value;var _iterator311=_createForOfIteratorHelper(_t631.children),_step311;try{for(_iterator311.s();!(_step311=_iterator311.n()).done;){var _e472=_step311.value;_e472.setAttribute("r",6/this.un.scale);}}catch(err){_iterator311.e(err);}finally{_iterator311.f();}}}catch(err){_iterator310.e(err);}finally{_iterator310.f();}},ul:function ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator312=_createForOfIteratorHelper(t),_step312;try{for(_iterator312.s();!(_step312=_iterator312.n()).done;){var _i452=_step312.value;"path"===_i452.localName?_i452.hasAttribute("data-bx-shape")&&_i452.getAttribute("data-bx-shape").startsWith("rect")&&e.push(_i452):"rect"===_i452.localName?e.push(_i452):["g","a"].includes(_i452.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ul(_i452.children))));}}catch(err){_iterator312.e(err);}finally{_iterator312.f();}return e;}};var Jr=Symbol(),td=6;var ed={id:"circle-hud",createdCallback:function createdCallback(){this.il=!1,this.gl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #circle-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator313=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step313;try{for(_iterator313.s();!(_step313=_iterator313.n()).done;){var _t632=_step313.value;this["#"+_t632.getAttribute("uid")]=_t632;}}catch(err){_iterator313.e(err);}finally{_iterator313.f();}},enabledCallback:function enabledCallback(){var _this208=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this208.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this209=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this209.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this209.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this209.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.gl=this.fl(),0===this.gl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){t.target.classList.contains("grippie")&&this.ml(t);},ml:function ml(t){var _this210=this;if(0!==t.button)return;var e,_i453,s=t.target,n=s.parentElement[Jr],o=Yt(n).inverse(),l=n.r.baseVal.value,a=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=this.un.geometryPrecision,r=new DOMPoint(a.x,a.y),d=!1;s.parentElement.append(s),this.nl=s,window.addEventListener("pointermove",e=function e(t){d||(d=!0,_this210.un.undoManager.checkpoint("Circle radius")),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);var e=r.x-a.x,i=tt(l+e,0,Infinity,h);n.setAttribute("r",i);}),window.addEventListener("pointerup",_i453=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i453),_this210.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator314=_createForOfIteratorHelper(this.gl),_step314;try{for(_iterator314.s();!(_step314=_iterator314.n()).done;){var _t633=_step314.value;var _e473=this["#subhud-template"].cloneNode(!0);_e473.removeAttribute("uid"),_e473[Jr]=_t633,this["#subhuds"].append(_e473);}}catch(err){_iterator314.e(err);}finally{_iterator314.f();}this.ll(),this.bl();},ll:function ll(){var _iterator315=_createForOfIteratorHelper(this["#subhuds"].children),_step315;try{for(_iterator315.s();!(_step315=_iterator315.n()).done;){var _t634=_step315.value;var _e474=_t634[Jr],_i454=Wt(_e474,this),s=_t634.children[0],_n198=new DOMPoint(_e474.cx.baseVal.value+_e474.r.baseVal.value,_e474.cy.baseVal.value);_n198=_n198.matrixTransform(_i454),s.setAttribute("cx",_n198.x),s.setAttribute("cy",_n198.y);}}catch(err){_iterator315.e(err);}finally{_iterator315.f();}},bl:function bl(){var _iterator316=_createForOfIteratorHelper(this["#subhuds"].children),_step316;try{for(_iterator316.s();!(_step316=_iterator316.n()).done;){var _t635=_step316.value;var _iterator317=_createForOfIteratorHelper(_t635.children),_step317;try{for(_iterator317.s();!(_step317=_iterator317.n()).done;){var _e475=_step317.value;_e475.setAttribute("r",td/this.un.scale);}}catch(err){_iterator317.e(err);}finally{_iterator317.f();}}}catch(err){_iterator316.e(err);}finally{_iterator316.f();}},fl:function fl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator318=_createForOfIteratorHelper(t),_step318;try{for(_iterator318.s();!(_step318=_iterator318.n()).done;){var _i455=_step318.value;"circle"===_i455.localName?e.push(_i455):["g","a"].includes(_i455.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.fl(_i455.children))));}}catch(err){_iterator318.e(err);}finally{_iterator318.f();}return e;}};var id=Symbol(),sd=6;var nd={id:"ellipse-hud",createdCallback:function createdCallback(){this.il=!1,this.wl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #ellipse-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator319=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step319;try{for(_iterator319.s();!(_step319=_iterator319.n()).done;){var _t636=_step319.value;this["#"+_t636.getAttribute("uid")]=_t636;}}catch(err){_iterator319.e(err);}finally{_iterator319.f();}},enabledCallback:function enabledCallback(){var _this211=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this211.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this212=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this212.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this212.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this212.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.wl=this.vl(),0===this.wl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.ml(t);},ml:function ml(t){var _this213=this;var e,_i456,s,n=t.target,o=n.parentElement[id],l=n.getAttribute("data-axis"),a=Yt(o).inverse(),h=o.rx.baseVal.value,r=o.ry.baseVal.value,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(a),c=this.un.geometryPrecision,p=new DOMPoint(d.x,d.y),u="normal",x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n;var b=function b(){var _this213$Js$modKeys=_this213.Js.modKeys,t=_this213$Js$modKeys.ctrl,e=_this213$Js$modKeys.shift;!0===t&&!1===e?u="normal":(!1===t&&!0===e||!0===t&&!0===e||o.rx.baseVal.value===o.ry.baseVal.value)&&(u="symmetric");},m=function m(){var t=p.x-d.x,e=p.y-d.y;if("rx"===l){if("normal"===u){var _e476=tt(h+t,0,Infinity,c);o.setAttribute("rx",_e476);}else if("symmetric"===u){var _e477=tt(h+t,0,Infinity,c);o.setAttribute("rx",_e477),o.setAttribute("ry",_e477);}}else if("ry"===l)if("normal"===u){var _t637=tt(r+e,0,Infinity,c);o.setAttribute("ry",_t637);}else if("symmetric"===u){var _t638=tt(r+e,0,Infinity,c);o.setAttribute("rx",_t638),o.setAttribute("ry",_t638);}};n.addEventListener("pointermove",e=function e(t){x||(x=!0,_this213.un.undoManager.checkpoint("Edit ellipse")),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(a),m();}),n.addEventListener("lostpointercapture",_i456=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i456),_this213.Js.removeEventListener("modkeyschange",s),_this213.nl=null;}),this.Js.addEventListener("modkeyschange",s=function s(){b(),m();}),b();},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator320=_createForOfIteratorHelper(this.wl),_step320;try{for(_iterator320.s();!(_step320=_iterator320.n()).done;){var _t639=_step320.value;var _e478=this["#subhud-template"].cloneNode(!0);_e478.removeAttribute("uid"),_e478[id]=_t639,this["#subhuds"].append(_e478);}}catch(err){_iterator320.e(err);}finally{_iterator320.f();}this.ll(),this.bl();},ll:function ll(){var _iterator321=_createForOfIteratorHelper(this["#subhuds"].children),_step321;try{for(_iterator321.s();!(_step321=_iterator321.n()).done;){var _t640=_step321.value;var _e479=_t640[id],_i457=Wt(_e479,this);var _iterator322=_createForOfIteratorHelper(_t640.children),_step322;try{for(_iterator322.s();!(_step322=_iterator322.n()).done;){var s=_step322.value;var _t641=s.getAttribute("data-axis");if("rx"===_t641){var _t642=new DOMPoint(_e479.cx.baseVal.value+_e479.rx.baseVal.value,_e479.cy.baseVal.value).matrixTransform(_i457);s.setAttribute("cx",_t642.x),s.setAttribute("cy",_t642.y);}else if("ry"===_t641){var _t643=new DOMPoint(_e479.cx.baseVal.value,_e479.cy.baseVal.value+_e479.ry.baseVal.value).matrixTransform(_i457);s.setAttribute("cx",_t643.x),s.setAttribute("cy",_t643.y);}}}catch(err){_iterator322.e(err);}finally{_iterator322.f();}}}catch(err){_iterator321.e(err);}finally{_iterator321.f();}},bl:function bl(){var _iterator323=_createForOfIteratorHelper(this["#subhuds"].children),_step323;try{for(_iterator323.s();!(_step323=_iterator323.n()).done;){var _t644=_step323.value;var _iterator324=_createForOfIteratorHelper(_t644.children),_step324;try{for(_iterator324.s();!(_step324=_iterator324.n()).done;){var _e480=_step324.value;_e480.setAttribute("r",sd/this.un.scale);}}catch(err){_iterator324.e(err);}finally{_iterator324.f();}}}catch(err){_iterator323.e(err);}finally{_iterator323.f();}},vl:function vl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator325=_createForOfIteratorHelper(t),_step325;try{for(_iterator325.s();!(_step325=_iterator325.n()).done;){var _i458=_step325.value;"ellipse"===_i458.localName?e.push(_i458):["g","a"].includes(_i458.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.vl(_i458.children))));}}catch(err){_iterator325.e(err);}finally{_iterator325.f();}return e;}};var od=Math.min,ld=Math.max,ad=Symbol();var hd={id:"ring-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #ring-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator326=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step326;try{for(_iterator326.s();!(_step326=_iterator326.n()).done;){var _t645=_step326.value;this["#"+_t645.getAttribute("uid")]=_t645;}}catch(err){_iterator326.e(err);}finally{_iterator326.f();}},enabledCallback:function enabledCallback(){var _this214=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this214.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this215=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this215.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this215.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this215.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.yl=this.kl(),0===this.yl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.ml(t);},ml:function ml(t){var _this216=this;var e,_i467,s,n=t.target,o=n.parentElement[ad],l=Yt(o).inverse(),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),h=n.getAttribute("data-axis"),r=new DOMPoint(a.x,a.y),d="normal",c=!1,_rl$values10=_slicedToArray(rl(o).values,6),p=_rl$values10[0],u=_rl$values10[1],x=_rl$values10[2],b=_rl$values10[3],m=_rl$values10[4],g=_rl$values10[5],f=x,w=b,v=m,y=g;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n;var k=function k(){var _this216$Js$modKeys=_this216.Js.modKeys,t=_this216$Js$modKeys.ctrl,e=_this216$Js$modKeys.shift;!0===t&&!1===e?d="normal":!1===t&&!0===e?d="symmetric":!0===t&&!0===e?d="double-symmetric":(("r1x"===h&&x===b||"r1y"===h&&x===b)&&(d="symmetric"),("r2x"===h&&m===g||"r2y"===h&&m===g)&&(d="symmetric"));},S=function S(){var t=r.x-a.x,e=r.y-a.y;if("r1x"===h){if("normal"===d){x=tt(f+t,1,m-1);}else if("symmetric"===d){var _e481=1,_i459=od(m,g)-1,_s276=tt(f+t,_e481,_i459);x=b=_s276;}else if("double-symmetric"===d){var _e482=m-x,_i460=tt(f+t,1,Infinity);x=b=_i460,m=g=_i460+_e482;}}else if("r1y"===h){if("normal"===d){b=tt(w+e,1,g-1);}else if("symmetric"===d){var _t646=1,_i461=od(m,g)-1,_s277=tt(w+e,_t646,_i461);x=b=_s277;}else if("double-symmetric"===d){var _t647=g-b,_i462=tt(w+e,1,Infinity);x=b=_i462,m=g=_i462+_t647;}}else if("r2x"===h){if("normal"===d){m=tt(v+t,x+1,Infinity);}else if("symmetric"===d){var _e483=ld(x,b)+1,_i463=tt(v+t,_e483,Infinity);m=g=_i463;}else if("double-symmetric"===d){var _e484=m-x,_i464=tt(v+t,_e484+1,Infinity);x=b=_i464-_e484,m=g=_i464;}}else if("r2y"===h)if("normal"===d){g=tt(y+e,b+1,Infinity);}else if("symmetric"===d){var _t648=ld(x,b)+1,_i465=tt(y+e,_t648,Infinity);m=g=_i465;}else if("double-symmetric"===d){var _t649=g-b,_i466=tt(y+e,_t649+1,r2max);x=b=_i466-_t649,m=g=_i466;}var i=[p,u,x,b,m,g];i=i.map(function(t){return J(t,_this216.un.geometryPrecision);}),dl(o,{type:"ring",values:i},_this216.un.geometryPrecision);};n.addEventListener("pointermove",e=function e(t){c||(_this216.un.undoManager.checkpoint("Ring radius"),c=!0),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),S();}),n.addEventListener("lostpointercapture",_i467=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i467),_this216.Js.removeEventListener("modkeyschange",s),_this216.nl=null;}),this.Js.addEventListener("modkeyschange",s=function s(){k(),S();}),k();},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator327=_createForOfIteratorHelper(this.yl),_step327;try{for(_iterator327.s();!(_step327=_iterator327.n()).done;){var _t650=_step327.value;var _e485=this["#subhud-template"].cloneNode(!0);_e485.removeAttribute("uid"),_e485[ad]=_t650,this["#subhuds"].append(_e485);}}catch(err){_iterator327.e(err);}finally{_iterator327.f();}this.ll(),this.bl();},ll:function ll(){var _iterator328=_createForOfIteratorHelper(this["#subhuds"].children),_step328;try{for(_iterator328.s();!(_step328=_iterator328.n()).done;){var _t651=_step328.value;var _e486=_t651[ad],_i468=Wt(_e486,this),_rl$values11=_slicedToArray(rl(_e486).values,6),s=_rl$values11[0],_n199=_rl$values11[1],_o161=_rl$values11[2],_l147=_rl$values11[3],_a106=_rl$values11[4],_h94=_rl$values11[5];var _iterator329=_createForOfIteratorHelper(_t651.children),_step329;try{for(_iterator329.s();!(_step329=_iterator329.n()).done;){var _e487=_step329.value;var _t652=_e487.getAttribute("data-axis");if("r1x"===_t652){var _t653=new DOMPoint(s+_o161,_n199).matrixTransform(_i468);_e487.setAttribute("cx",_t653.x),_e487.setAttribute("cy",_t653.y);}else if("r1y"===_t652){var _t654=new DOMPoint(s,_n199+_l147).matrixTransform(_i468);_e487.setAttribute("cx",_t654.x),_e487.setAttribute("cy",_t654.y);}else if("r2x"===_t652){var _t655=new DOMPoint(s+_a106,_n199).matrixTransform(_i468);_e487.setAttribute("cx",_t655.x),_e487.setAttribute("cy",_t655.y);}else if("r2y"===_t652){var _t656=new DOMPoint(s,_n199+_h94).matrixTransform(_i468);_e487.setAttribute("cx",_t656.x),_e487.setAttribute("cy",_t656.y);}}}catch(err){_iterator329.e(err);}finally{_iterator329.f();}}}catch(err){_iterator328.e(err);}finally{_iterator328.f();}},bl:function bl(){var _iterator330=_createForOfIteratorHelper(this["#subhuds"].children),_step330;try{for(_iterator330.s();!(_step330=_iterator330.n()).done;){var _t657=_step330.value;var _iterator331=_createForOfIteratorHelper(_t657.children),_step331;try{for(_iterator331.s();!(_step331=_iterator331.n()).done;){var _e488=_step331.value;_e488.setAttribute("r",6/this.un.scale);}}catch(err){_iterator331.e(err);}finally{_iterator331.f();}}}catch(err){_iterator330.e(err);}finally{_iterator330.f();}},kl:function kl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator332=_createForOfIteratorHelper(t),_step332;try{for(_iterator332.s();!(_step332=_iterator332.n()).done;){var _i469=_step332.value;"path"===_i469.localName?_i469.hasAttribute("data-bx-shape")&&_i469.getAttribute("data-bx-shape").startsWith("ring")&&e.push(_i469):["g","a"].includes(_i469.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.kl(_i469.children))));}}catch(err){_iterator332.e(err);}finally{_iterator332.f();}return e;}};var rd=Number.MAX_SAFE_INTEGER,dd=Symbol();var cd={id:"pie-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #pie-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #pie-hud .start-angle-grippie,\n    #pie-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie angle-grippie start-angle-grippie"></circle>\n      <circle class="grippie angle-grippie end-angle-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator333=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step333;try{for(_iterator333.s();!(_step333=_iterator333.n()).done;){var _t658=_step333.value;this["#"+_t658.getAttribute("uid")]=_t658;}}catch(err){_iterator333.e(err);}finally{_iterator333.f();}},enabledCallback:function enabledCallback(){var _this217=this;this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this217.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this218=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this218.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this218.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this218.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Sl=this.Cl(),0===this.Sl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".r-grippie")?this._l(t):t.target.matches(".angle-grippie")&&this.Ml(t));},_l:function _l(t){var _this219=this;var e,_i470,s,n=this.un,o=t.target,l=o.parentElement[dd],_rl$values12=_slicedToArray(rl(l).values,6),a=_rl$values12[0],h=_rl$values12[1],r=_rl$values12[2],d=_rl$values12[3],c=_rl$values12[4],p=_rl$values12[5],u=!1,x=Yt(l).inverse(),b=Wt(l,n.vectorCanvas).inverse(),m=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),g=new DOMPoint(a,h),f=new DOMPoint(o.cx.baseVal.value,o.cy.baseVal.value).matrixTransform(b),w=new Q(m,f),v=g;{var _t659=(c+p)/2;c>p&&(_t659-=180);var _e489=new DOMMatrix();_e489.translateSelf(a,h),_e489.rotateSelf(_t659),_e489.translateSelf(-a,-h),s=new DOMPoint(a,h-rd).matrixTransform(_e489);}o.parentElement.append(o),o.setPointerCapture(t.pointerId),this.nl=o,o.addEventListener("pointermove",e=function e(t){!1===u&&(u=!0,n.undoManager.checkpoint("Pie radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),i=w.transformPoint(e),_Ae7=Ae(v,s,i,!1),_Ae8=_slicedToArray(_Ae7,1),b=_Ae8[0],m=Ee(g,b);o.matches(".r1-grippie")?r=m>d-1?d-1:m:o.matches(".r2-grippie")&&(d=m<r+1?r+1:m),dl(l,{type:"pie",values:[a,h,r,d,c,p]},n.geometryPrecision);}),o.addEventListener("lostpointercapture",_i470=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("lostpointercapture",_i470),_this219.nl=null;});},Ml:function Ml(t){var _this220=this;var e,_i471,s=t.target,n=s.parentElement[dd],o=Yt(n).inverse(),l=this.un.geometryPrecision,_rl$values13=_slicedToArray(rl(n).values,6),a=_rl$values13[0],h=_rl$values13[1],r=_rl$values13[2],d=_rl$values13[3],c=_rl$values13[4],p=_rl$values13[5],u=c,x=p,b=new DOMPoint(a,h),m=new DOMPoint(b.x,b.y-100),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Re(b,m,e);i=_this220.Pl(i),s.matches(".start-angle-grippie")?c=i:p=i,!1!==g||c===u&&p===x||(_this220.un.undoManager.checkpoint("Pie start angle"),g=!0),dl(n,{type:"pie",values:[a,h,r,d,c,p]},l);}),s.addEventListener("lostpointercapture",_i471=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i471),_this220.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator334=_createForOfIteratorHelper(this.Sl),_step334;try{for(_iterator334.s();!(_step334=_iterator334.n()).done;){var _t660=_step334.value;var _e490=this["#subhud-template"].cloneNode(!0);_e490.removeAttribute("uid"),_e490[dd]=_t660,this["#subhuds"].append(_e490);}}catch(err){_iterator334.e(err);}finally{_iterator334.f();}this.ll(),this.bl();},ll:function ll(){var _iterator335=_createForOfIteratorHelper(this["#subhuds"].children),_step335;try{for(_iterator335.s();!(_step335=_iterator335.n()).done;){var _t661=_step335.value;var _e491=_t661[dd],_i472=Wt(_e491,this.un.vectorCanvas),_rl$values14=_slicedToArray(rl(_e491).values,6),s=_rl$values14[0],_n200=_rl$values14[1],_o162=_rl$values14[2],_l148=_rl$values14[3],_a107=_rl$values14[4],_h95=_rl$values14[5];var _iterator336=_createForOfIteratorHelper(_t661.children),_step336;try{for(_iterator336.s();!(_step336=_iterator336.n()).done;){var _e492=_step336.value;if(_e492.matches(".start-angle-grippie")){var _t662=new DOMMatrix();_t662.translateSelf(s,_n200),_t662.rotateSelf(_a107),_t662.translateSelf(-s,-_n200);var _h96=new DOMPoint(s,_n200-_o162+(_o162-_l148)/2);_h96=_h96.matrixTransform(_t662),_h96=_h96.matrixTransform(_i472),_e492.setAttribute("cx",_h96.x),_e492.setAttribute("cy",_h96.y);}else if(_e492.matches(".end-angle-grippie")){var _t663=new DOMMatrix();_t663.translateSelf(s,_n200),_t663.rotateSelf(_h95),_t663.translateSelf(-s,-_n200);var _a108=new DOMPoint(s,_n200-_o162+(_o162-_l148)/2);_a108=_a108.matrixTransform(_t663),_a108=_a108.matrixTransform(_i472),_e492.setAttribute("cx",_a108.x),_e492.setAttribute("cy",_a108.y);}else if(_e492.matches(".r1-grippie")){var _t664=(_a107+_h95)/2;_a107>_h95&&(_t664-=180);var _l149=new DOMMatrix();_l149.translateSelf(s,_n200),_l149.rotateSelf(_t664),_l149.translateSelf(-s,-_n200);var _r54=new DOMPoint(s,_n200-_o162);_r54=_r54.matrixTransform(_l149),_r54=_r54.matrixTransform(_i472),_e492.setAttribute("cx",_r54.x),_e492.setAttribute("cy",_r54.y);}else if(_e492.matches(".r2-grippie")){var _t665=(_a107+_h95)/2;_a107>_h95&&(_t665-=180);var _o163=new DOMMatrix();_o163.translateSelf(s,_n200),_o163.rotateSelf(_t665),_o163.translateSelf(-s,-_n200);var _r55=new DOMPoint(s,_n200-_l148);_r55=_r55.matrixTransform(_o163),_r55=_r55.matrixTransform(_i472),_e492.setAttribute("cx",_r55.x),_e492.setAttribute("cy",_r55.y);}}}catch(err){_iterator336.e(err);}finally{_iterator336.f();}}}catch(err){_iterator335.e(err);}finally{_iterator335.f();}},bl:function bl(){var _iterator337=_createForOfIteratorHelper(this["#subhuds"].children),_step337;try{for(_iterator337.s();!(_step337=_iterator337.n()).done;){var _t666=_step337.value;var _iterator338=_createForOfIteratorHelper(_t666.children),_step338;try{for(_iterator338.s();!(_step338=_iterator338.n()).done;){var _e493=_step338.value;_e493.setAttribute("r",6/this.un.scale);}}catch(err){_iterator338.e(err);}finally{_iterator338.f();}}}catch(err){_iterator337.e(err);}finally{_iterator337.f();}},Cl:function Cl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator339=_createForOfIteratorHelper(t),_step339;try{for(_iterator339.s();!(_step339=_iterator339.n()).done;){var _i473=_step339.value;"path"===_i473.localName?_i473.hasAttribute("data-bx-shape")&&_i473.getAttribute("data-bx-shape").startsWith("pie")&&e.push(_i473):["g","a"].includes(_i473.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Cl(_i473.children))));}}catch(err){_iterator339.e(err);}finally{_iterator339.f();}return e;},Pl:function Pl(t){for(;t<0;){t+=360;}for(;t>360;){t-=360;}return t;}};var pd=Math.abs,ud=Math.min,xd=Math.max,bd=Math.sin,md=Math.cos,gd=Symbol();var fd={id:"crescent-hud",createdCallback:function createdCallback(){this.il=!1,this.Dl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #crescent-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arch-grippie"></circle>\n      <circle class="grippie hollow-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator340=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step340;try{for(_iterator340.s();!(_step340=_iterator340.n()).done;){var _t667=_step340.value;this["#"+_t667.getAttribute("uid")]=_t667;}}catch(err){_iterator340.e(err);}finally{_iterator340.f();}},enabledCallback:function enabledCallback(){var _this221=this;this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this221.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this222=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this222.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this222.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this222.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Dl=this.zl(),0===this.Dl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".arch-grippie")?this.Ol(t):t.target.matches(".hollow-grippie")&&this.El(t));},Ol:function Ol(t){var _this223=this;var e,_i474,s=this.un,n=t.target,o=n.parentElement[gd],_rl$values15=_slicedToArray(rl(o).values,5),l=_rl$values15[0],a=_rl$values15[1],h=_rl$values15[2],r=_rl$values15[3],d=_rl$values15[4],c=r,p=Yt(o).inverse(),u=Wt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l,a),g=new DOMPoint(l+h,a),f=new Q(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),n=Ze(i,m,h),u=Re(m,n,g);r=u<0&&u>=-90?1:u<-90&&u>=-180?359:tt(pd(2*u),1,359,0),!1===w&&r!==c&&(s.undoManager.checkpoint("Crescent arch"),w=!0),dl(o,{type:"crescent",values:[l,a,h,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i474=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i474),_this223.nl=null;});},El:function El(t){var _this224=this;var e,_i475,s=this.un,n=t.target,o=n.parentElement[gd],_rl$values16=_slicedToArray(rl(o).values,5),l=_rl$values16[0],a=_rl$values16[1],h=_rl$values16[2],r=_rl$values16[3],d=_rl$values16[4],c=d,p=Yt(o).inverse(),u=Wt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l-h,a),g=new DOMPoint(l+h,a),f=new Q(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),_Ae9=Ae(m,g,i,!1),_Ae10=_slicedToArray(_Ae9,1),n=_Ae10[0];d=(n.x-m.x)/(2*h),d=tt(d,0,1,4),!1===w&&d!==c&&(s.undoManager.checkpoint("Crescent hollow"),w=!0),dl(o,{type:"crescent",values:[l,a,h,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i475=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i475),_this224.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator341=_createForOfIteratorHelper(this.Dl),_step341;try{for(_iterator341.s();!(_step341=_iterator341.n()).done;){var _t668=_step341.value;var _e494=this["#subhud-template"].cloneNode(!0);_e494.removeAttribute("uid"),_e494[gd]=_t668,this["#subhuds"].append(_e494);}}catch(err){_iterator341.e(err);}finally{_iterator341.f();}this.ll(),this.bl();},ll:function ll(){var _iterator342=_createForOfIteratorHelper(this["#subhuds"].children),_step342;try{for(_iterator342.s();!(_step342=_iterator342.n()).done;){var _t669=_step342.value;var _e495=_t669[gd],_i476=Wt(_e495,this.un.vectorCanvas),_rl$values17=_slicedToArray(rl(_e495).values,5),s=_rl$values17[0],_n201=_rl$values17[1],_o164=_rl$values17[2],_l150=_rl$values17[3],_a109=_rl$values17[4];var _iterator343=_createForOfIteratorHelper(_t669.children),_step343;try{for(_iterator343.s();!(_step343=_iterator343.n()).done;){var _e496=_step343.value;if(_e496.matches(".arch-grippie")){var _t670=Ge(90-_l150/2),_a110=Ne(_t670),_h97=new DOMPoint(s+_o164*bd(_a110),_n201+_o164*-md(_a110));_h97=_h97.matrixTransform(_i476),_e496.setAttribute("cx",_h97.x),_e496.setAttribute("cy",_h97.y);}else if(_e496.matches(".hollow-grippie")){var _t671=new DOMPoint(s-_o164+2*_o164*_a109,_n201);_t671=_t671.matrixTransform(_i476),_e496.setAttribute("cx",_t671.x),_e496.setAttribute("cy",_t671.y);}}}catch(err){_iterator343.e(err);}finally{_iterator343.f();}}}catch(err){_iterator342.e(err);}finally{_iterator342.f();}},bl:function bl(){var _iterator344=_createForOfIteratorHelper(this["#subhuds"].children),_step344;try{for(_iterator344.s();!(_step344=_iterator344.n()).done;){var _t672=_step344.value;var _iterator345=_createForOfIteratorHelper(_t672.children),_step345;try{for(_iterator345.s();!(_step345=_iterator345.n()).done;){var _e497=_step345.value;_e497.setAttribute("r",6/this.un.scale);}}catch(err){_iterator345.e(err);}finally{_iterator345.f();}}}catch(err){_iterator344.e(err);}finally{_iterator344.f();}},zl:function zl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator346=_createForOfIteratorHelper(t),_step346;try{for(_iterator346.s();!(_step346=_iterator346.n()).done;){var _i477=_step346.value;"path"===_i477.localName?_i477.hasAttribute("data-bx-shape")&&_i477.getAttribute("data-bx-shape").startsWith("crescent")&&e.push(_i477):["g","a"].includes(_i477.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.zl(_i477.children))));}}catch(err){_iterator346.e(err);}finally{_iterator346.f();}return e;}};var wd=Math.abs,vd=Symbol();var yd={id:"triangle-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #triangle-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #triangle-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #triangle-hud .corner-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator347=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step347;try{for(_iterator347.s();!(_step347=_iterator347.n()).done;){var _t673=_step347.value;this["#"+_t673.getAttribute("uid")]=_t673;}}catch(err){_iterator347.e(err);}finally{_iterator347.f();}},enabledCallback:function enabledCallback(){var _this225=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this225.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this226=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this226.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this226.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this226.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Tl=this.Al(),0===this.Tl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.$l(t):t.target.matches(".corner-grippie")&&this.Il(t));},$l:function $l(t){var _this227=this;var e,_i478,s=t.target,n=s.parentElement[vd],o=Yt(n).inverse(),_rl$values18=_slicedToArray(rl(n).values,6),l=_rl$values18[0],a=_rl$values18[1],h=_rl$values18[2],r=_rl$values18[3],d=_rl$values18[4],c=_rl$values18[5],p=this.un.geometryPrecision,u=new DOMPoint(l,a),x=new DOMPoint(l+h,a),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(l+h*d,a),g=new Q(m,b).getOppositeVector(),f=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){!1===f&&(f=!0,_this227.un.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);e=g.transformPoint(e);var _Ae11=Ae(u,x,e,!1),_Ae12=_slicedToArray(_Ae11,1),i=_Ae12[0];d=(i.x-u.x)/h,d=tt(d,0,1,4),_this227.Js.modKeys.shift&&(d=[0,.5,1].reduce(function(t,e){return wd(e-d)<wd(t-d)?e:t;}));var s=[l,a,h,r,d,c].map(function(t){return J(t,p);});dl(n,{type:"triangle",values:s},p);}),s.addEventListener("lostpointercapture",_i478=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i478),_this227.nl=null;});},Il:function Il(t){var _this228=this;var e,_i479,s=t.target,n=s.parentElement[vd],o=(Ht(n),Yt(n).inverse()),_rl$values19=_slicedToArray(rl(n).values,6),l=_rl$values19[0],a=_rl$values19[1],h=_rl$values19[2],r=_rl$values19[3],d=_rl$values19[4],c=_rl$values19[5],p=this.un.geometryPrecision,u=new DOMPoint(l+h*d,a),x=new DOMPoint(l+h,a+r),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(b.x,b.y),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this228.un.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY);m=e.matrixTransform(o);var _Ae13=Ae(x,u,m,!1),_Ae14=_slicedToArray(_Ae13,1),i=_Ae14[0],s=new Q(x,i),c=new Q(x,u),b=s.length/c.length,f=tt(b,0,.5,4),w=[l,a,h,r,d,f].map(function(t){return J(t,p);});dl(n,{type:"triangle",values:w},p);}),s.addEventListener("lostpointercapture",_i479=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i479),_this228.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator348=_createForOfIteratorHelper(this.Tl),_step348;try{for(_iterator348.s();!(_step348=_iterator348.n()).done;){var _t674=_step348.value;var _e498=this["#subhud-template"].cloneNode(!0);_e498.removeAttribute("uid"),_e498[vd]=_t674,this["#subhuds"].append(_e498);}}catch(err){_iterator348.e(err);}finally{_iterator348.f();}this.ll(),this.bl();},ll:function ll(){var _iterator349=_createForOfIteratorHelper(this["#subhuds"].children),_step349;try{for(_iterator349.s();!(_step349=_iterator349.n()).done;){var _t675=_step349.value;var _e499=_t675[vd],_i480=Wt(_e499,this),_rl$values20=_slicedToArray(rl(_e499).values,6),s=_rl$values20[0],_n202=_rl$values20[1],_o165=_rl$values20[2],_l151=_rl$values20[3],_a111=_rl$values20[4],_h98=_rl$values20[5];var _iterator350=_createForOfIteratorHelper(_t675.children),_step350;try{for(_iterator350.s();!(_step350=_iterator350.n()).done;){var _e500=_step350.value;if(_e500.matches(".shift-grippie")){var _t676=new DOMPoint(s+_o165*_a111,_n202).matrixTransform(_i480);_e500.setAttribute("cx",_t676.x),_e500.setAttribute("cy",_t676.y);}else if(_e500.matches(".corner-grippie")){var _t677=new DOMPoint(s+_o165*_a111,_n202).matrixTransform(_i480),_r56=new DOMPoint(s+_o165,_n202+_l151).matrixTransform(_i480),_d39=$e(_r56,_t677,_h98);_e500.setAttribute("cx",_d39.x),_e500.setAttribute("cy",_d39.y);}}}catch(err){_iterator350.e(err);}finally{_iterator350.f();}}}catch(err){_iterator349.e(err);}finally{_iterator349.f();}},bl:function bl(){var _iterator351=_createForOfIteratorHelper(this["#subhuds"].children),_step351;try{for(_iterator351.s();!(_step351=_iterator351.n()).done;){var _t678=_step351.value;var _iterator352=_createForOfIteratorHelper(_t678.children),_step352;try{for(_iterator352.s();!(_step352=_iterator352.n()).done;){var _e501=_step352.value;_e501.setAttribute("r",6/this.un.scale);}}catch(err){_iterator352.e(err);}finally{_iterator352.f();}}}catch(err){_iterator351.e(err);}finally{_iterator351.f();}},Al:function Al(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator353=_createForOfIteratorHelper(t),_step353;try{for(_iterator353.s();!(_step353=_iterator353.n()).done;){var _i481=_step353.value;"path"===_i481.localName?_i481.hasAttribute("data-bx-shape")&&_i481.getAttribute("data-bx-shape").startsWith("triangle")&&e.push(_i481):["g","a"].includes(_i481.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Al(_i481.children))));}}catch(err){_iterator353.e(err);}finally{_iterator353.f();}return e;}};var kd=Symbol(),Sd=6;var Cd={id:"n-gon-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #n-gon-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #n-gon-hud .grippie.r-grippie {\n      fill: red;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator354=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step354;try{for(_iterator354.s();!(_step354=_iterator354.n()).done;){var _t679=_step354.value;this["#"+_t679.getAttribute("uid")]=_t679;}}catch(err){_iterator354.e(err);}finally{_iterator354.f();}},enabledCallback:function enabledCallback(){var _this229=this;this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this229.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this230=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this230.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this230.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this230.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Ll=this.Bl(),0===this.Ll.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".arms-grippie")?this.Rl(t):t.target.matches(".corner-grippie")&&this.Il(t));},Rl:function Rl(t){var _this231=this;if(0!==t.button)return;var e,_i482,s=t.target,n=s.parentElement[kd],o=this.un.geometryPrecision,_rl$values21=_slicedToArray(rl(n).values,6),l=_rl$values21[0],a=_rl$values21[1],h=_rl$values21[2],r=_rl$values21[3],d=_rl$values21[4],c=_rl$values21[5],p=d,u=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(_e502){var i=J((_e502.clientX-t.clientX)/10,0);d=p+i,d<5&&(d=5),!1===u&&d!==p&&(_this231.un.undoManager.checkpoint("Change number of n-gon arms"),u=!0),dl(n,{type:"n-gon",values:[l,a,h,r,d,c]},o);}),s.addEventListener("lostpointercapture",_i482=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i482),_this231.nl=null;});},Il:function Il(t){var _this232=this;if(0!==t.button)return;var e,_i483,s=t.target,n=s.parentElement[kd],o=(Ht(n),Yt(n).inverse()),l=this.un.geometryPrecision,_rl$values22=_slicedToArray(rl(n).values,6),a=_rl$values22[0],h=_rl$values22[1],r=_rl$values22[2],d=_rl$values22[3],c=_rl$values22[4],p=_rl$values22[5],u=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),x=new DOMPoint(u.x,u.y),b=Cl(0,a,h,r,d,c),m=Cl(1,a,h,r,d,c),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this232.un.undoManager.checkpoint("N-gon radius"));var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(o);var _Ae15=Ae(b,m,x,!1),_Ae16=_slicedToArray(_Ae15,1),i=_Ae16[0],s=new Q(b,i),p=new Q(b,m),u=s.length/p.length,f=tt(u,0,.5,2);dl(n,{type:"n-gon",values:[a,h,r,d,c,f]},l);}),s.addEventListener("lostpointercapture",_i483=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i483),_this232.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator355=_createForOfIteratorHelper(this.Ll),_step355;try{for(_iterator355.s();!(_step355=_iterator355.n()).done;){var _t680=_step355.value;var _e503=this["#subhud-template"].cloneNode(!0);_e503.removeAttribute("uid"),_e503[kd]=_t680,this["#subhuds"].append(_e503);}}catch(err){_iterator355.e(err);}finally{_iterator355.f();}this.ll(),this.bl();},ll:function ll(){var _iterator356=_createForOfIteratorHelper(this["#subhuds"].children),_step356;try{for(_iterator356.s();!(_step356=_iterator356.n()).done;){var _t681=_step356.value;var _e504=_t681[kd],_i484=Wt(_e504,this),_rl$values23=_slicedToArray(rl(_e504).values,6),s=_rl$values23[0],_n203=_rl$values23[1],_o166=_rl$values23[2],_l152=_rl$values23[3],_a112=_rl$values23[4],_h99=_rl$values23[5];var _iterator357=_createForOfIteratorHelper(_t681.children),_step357;try{for(_iterator357.s();!(_step357=_iterator357.n()).done;){var _e505=_step357.value;if(_e505.matches(".arms-grippie")){var _t682=new DOMPoint(s,_n203).matrixTransform(_i484);_e505.setAttribute("cx",_t682.x),_e505.setAttribute("cy",_t682.y);}else if(_e505.matches(".corner-grippie")){var _t683=Cl(0,s,_n203,_o166,_l152,_a112).matrixTransform(_i484),_r57=Cl(1,s,_n203,_o166,_l152,_a112).matrixTransform(_i484),_d40=$e(_t683,_r57,_h99);_e505.setAttribute("cx",_d40.x),_e505.setAttribute("cy",_d40.y);}}}catch(err){_iterator357.e(err);}finally{_iterator357.f();}}}catch(err){_iterator356.e(err);}finally{_iterator356.f();}},bl:function bl(){var _iterator358=_createForOfIteratorHelper(this["#subhuds"].children),_step358;try{for(_iterator358.s();!(_step358=_iterator358.n()).done;){var _t684=_step358.value;var _iterator359=_createForOfIteratorHelper(_t684.children),_step359;try{for(_iterator359.s();!(_step359=_iterator359.n()).done;){var _e506=_step359.value;_e506.setAttribute("r",Sd/this.un.scale);}}catch(err){_iterator359.e(err);}finally{_iterator359.f();}}}catch(err){_iterator358.e(err);}finally{_iterator358.f();}},Bl:function Bl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator360=_createForOfIteratorHelper(t),_step360;try{for(_iterator360.s();!(_step360=_iterator360.n()).done;){var _i485=_step360.value;"path"===_i485.localName?_i485.hasAttribute("data-bx-shape")&&_i485.getAttribute("data-bx-shape").startsWith("n-gon")&&e.push(_i485):["g","a"].includes(_i485.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Bl(_i485.children))));}}catch(err){_iterator360.e(err);}finally{_iterator360.f();}return e;}};var _d=Math.sin,Md=Math.cos,Pd=Math.PI,Dd=Symbol();var zd={id:"star-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #star-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie depth-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator361=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step361;try{for(_iterator361.s();!(_step361=_iterator361.n()).done;){var _t685=_step361.value;this["#"+_t685.getAttribute("uid")]=_t685;}}catch(err){_iterator361.e(err);}finally{_iterator361.f();}},enabledCallback:function enabledCallback(){var _this233=this;this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this233.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this234=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this234.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this234.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this234.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Gl=this.Ul(),0===this.Gl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".depth-grippie")?this.Fl(t):t.target.matches(".arms-grippie")&&this.Rl(t));},Fl:function Fl(t){var _this235=this;var e,_i486,s=t.target,n=s.parentElement[Dd],o=Yt(n).inverse(),_rl$values24=_slicedToArray(rl(n).values,6),l=_rl$values24[0],a=_rl$values24[1],h=_rl$values24[2],r=_rl$values24[3],d=_rl$values24[4],c=_rl$values24[5],p=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),u=new DOMPoint(l,a),x=_l(1,l,a,h,r,d,c),b=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){!1===b&&(b=!0,_this235.un.undoManager.checkpoint("Inner star radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=new Q(x,p).getOppositeVector().transformPoint(e),s=2*Pd*(1/c/2)-Pd/2,m=u,g=new DOMPoint(h*Md(s)+l,r*_d(s)+a),_Ae17=Ae(m,g,i,!1),_Ae18=_slicedToArray(_Ae17,1),f=_Ae18[0];d=new Q(m,f).length/new Q(m,g).length,d=J(d,_this235.un.geometryPrecision),dl(n,{type:"star",values:[l,a,h,r,d,c]},_this235.un.geometryPrecision);}),s.addEventListener("lostpointercapture",_i486=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i486),_this235.nl=null;});},Rl:function Rl(t){var _this236=this;var e,_i487,s=t.target,n=s.parentElement[Dd],_rl$values25=_slicedToArray(rl(n).values,6),o=_rl$values25[0],l=_rl$values25[1],a=_rl$values25[2],h=_rl$values25[3],r=_rl$values25[4],d=_rl$values25[5],c=d,p=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(_e507){var i=J((_e507.clientX-t.clientX)/10,0);d=c+i,d<3&&(d=3),!1===p&&d!==c&&(_this236.un.undoManager.checkpoint("Change number of star arms"),p=!0),dl(n,{type:"star",values:[o,l,a,h,r,d]},_this236.un.geometryPrecision);}),s.addEventListener("lostpointercapture",_i487=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i487),_this236.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator362=_createForOfIteratorHelper(this.Gl),_step362;try{for(_iterator362.s();!(_step362=_iterator362.n()).done;){var _t686=_step362.value;var _e508=this["#subhud-template"].cloneNode(!0);_e508.removeAttribute("uid"),_e508[Dd]=_t686,this["#subhuds"].append(_e508);}}catch(err){_iterator362.e(err);}finally{_iterator362.f();}this.ll(),this.bl();},ll:function ll(){var _iterator363=_createForOfIteratorHelper(this["#subhuds"].children),_step363;try{for(_iterator363.s();!(_step363=_iterator363.n()).done;){var _t687=_step363.value;var _e509=_t687[Dd],_i488=Wt(_e509,this),_rl$values26=_slicedToArray(rl(_e509).values,6),s=_rl$values26[0],_n204=_rl$values26[1],_o167=_rl$values26[2],_l153=_rl$values26[3],_a113=_rl$values26[4],_h100=_rl$values26[5];var _iterator364=_createForOfIteratorHelper(_t687.children),_step364;try{for(_iterator364.s();!(_step364=_iterator364.n()).done;){var _e510=_step364.value;if(_e510.matches(".arms-grippie")){var _t688=new DOMPoint(s,_n204).matrixTransform(_i488);_e510.setAttribute("cx",_t688.x),_e510.setAttribute("cy",_t688.y);}else if(_e510.matches(".depth-grippie")){var _t689=_l(1,s,_n204,_o167,_l153,_a113,_h100).matrixTransform(_i488);_e510.setAttribute("cx",_t689.x),_e510.setAttribute("cy",_t689.y);}}}catch(err){_iterator364.e(err);}finally{_iterator364.f();}}}catch(err){_iterator363.e(err);}finally{_iterator363.f();}},bl:function bl(){var _iterator365=_createForOfIteratorHelper(this["#subhuds"].children),_step365;try{for(_iterator365.s();!(_step365=_iterator365.n()).done;){var _t690=_step365.value;var _iterator366=_createForOfIteratorHelper(_t690.children),_step366;try{for(_iterator366.s();!(_step366=_iterator366.n()).done;){var _e511=_step366.value;_e511.setAttribute("r",6/this.un.scale);}}catch(err){_iterator366.e(err);}finally{_iterator366.f();}}}catch(err){_iterator365.e(err);}finally{_iterator365.f();}},Ul:function Ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator367=_createForOfIteratorHelper(t),_step367;try{for(_iterator367.s();!(_step367=_iterator367.n()).done;){var _i489=_step367.value;"path"===_i489.localName?_i489.hasAttribute("data-bx-shape")&&_i489.getAttribute("data-bx-shape").startsWith("star")&&e.push(_i489):["g","a"].includes(_i489.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Ul(_i489.children))));}}catch(err){_iterator367.e(err);}finally{_iterator367.f();}return e;}};var Od=Math.sin,Ed=Math.cos,Td=Math.tan,Ad=Number.MAX_SAFE_INTEGER,$d=Symbol();var Id={id:"cog-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #cog-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cog-hud .splay-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie teeth-grippie"></circle>\n      <circle class="grippie splay-grippie"></circle>\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie r-grippie r3-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator368=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step368;try{for(_iterator368.s();!(_step368=_iterator368.n()).done;){var _t691=_step368.value;this["#"+_t691.getAttribute("uid")]=_t691;}}catch(err){_iterator368.e(err);}finally{_iterator368.f();}},enabledCallback:function enabledCallback(){var _this237=this;this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this237.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this238=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this238.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this238.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this238.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Nl=this.jl(),0===this.Nl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".r1-grippie")?this.Vl(t):t.target.matches(".r2-grippie")?this.Hl(t):t.target.matches(".r3-grippie")?this.Wl(t):t.target.matches(".teeth-grippie")?this.Yl(t):t.target.matches(".splay-grippie")&&this.ql(t));},Vl:function Vl(t){var _this239=this;var e,_i490,s=this.un,n=t.target,o=n.parentElement[$d],l=Yt(o).inverse(),_rl$values27=_slicedToArray(rl(o).values,7),a=_rl$values27[0],h=_rl$values27[1],r=_rl$values27[2],d=_rl$values27[3],c=_rl$values27[4],p=_rl$values27[5],u=_rl$values27[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(a,h).rotateSelf(360/u/2).translateSelf(-a,-h),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(a,h),w=new DOMPoint(a,h-r).matrixTransform(m),v=new Q(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n;var k=f,S=new DOMPoint(a,h-Ad).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _Ae19=Ae(k,S,e,!1),_Ae20=_slicedToArray(_Ae19,1),i=_Ae20[0],n=Ee(f,i);dl(o,{type:"cog",values:[a,h,n,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i490=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i490),_this239.nl=null;});},Hl:function Hl(t){var _this240=this;var e,_i491,s=this.un,n=t.target,o=n.parentElement[$d],l=Yt(o).inverse(),_rl$values28=_slicedToArray(rl(o).values,7),a=_rl$values28[0],h=_rl$values28[1],r=_rl$values28[2],d=_rl$values28[3],c=_rl$values28[4],p=_rl$values28[5],u=_rl$values28[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(a,h).rotateSelf(360/u/2).translateSelf(-a,-h),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(a,h),w=new DOMPoint(a,h-d).matrixTransform(m),v=new Q(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n;var k=f,S=new DOMPoint(a,h-Ad).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _Ae21=Ae(k,S,e,!1),_Ae22=_slicedToArray(_Ae21,1),i=_Ae22[0];d=Ee(f,i),dl(o,{type:"cog",values:[a,h,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i491=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i491),_this240.nl=null;});},Wl:function Wl(t){var _this241=this;var e,_i492,s=this.un,n=t.target,o=n.parentElement[$d],l=Yt(o).inverse(),_rl$values29=_slicedToArray(rl(o).values,7),a=_rl$values29[0],h=_rl$values29[1],r=_rl$values29[2],d=_rl$values29[3],c=_rl$values29[4],p=_rl$values29[5],u=_rl$values29[6],x=t.clientX,b=t.clientY,m=new DOMPoint(x,b).matrixTransform(l),g=new DOMPoint(a,h),f=new DOMPoint(a,h-c),w=new Q(m,f),v=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n;var y=g,k=new DOMPoint(a,h-Ad);n.addEventListener("pointermove",e=function e(t){!1===v&&(v=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=w.transformPoint(e);var _Ae23=Ae(y,k,e,!1),_Ae24=_slicedToArray(_Ae23,1),i=_Ae24[0];c=Ee(g,i),dl(o,{type:"cog",values:[a,h,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i492=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i492),_this241.nl=null;});},Yl:function Yl(t){var _this242=this;var e,_i493,s=this.un,n=t.target,o=n.parentElement[$d],_rl$values30=_slicedToArray(rl(o).values,7),l=_rl$values30[0],a=_rl$values30[1],h=_rl$values30[2],r=_rl$values30[3],d=_rl$values30[4],c=_rl$values30[5],p=_rl$values30[6],u=p,x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n,n.addEventListener("pointermove",e=function e(_e512){var i=J((_e512.clientX-t.clientX)/10,0);p=u+i,p<3&&(p=3),!1===x&&p!==u&&(s.undoManager.checkpoint("Change number of cog teeth"),x=!0),dl(o,{type:"cog",values:[l,a,h,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i493=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i493),_this242.nl=null;});},ql:function ql(t){var _this243=this;var e,_i494,s=this.un,n=t.target,o=n.parentElement[$d],_rl$values31=_slicedToArray(rl(o).values,7),l=_rl$values31[0],a=_rl$values31[1],h=_rl$values31[2],r=_rl$values31[3],d=_rl$values31[4],c=_rl$values31[5],p=_rl$values31[6],u=t.clientX,x=t.clientY,b=c,m=Yt(o).inverse(),g=!1,f=function f(t){var e=360/p,i=e/4,s=Td(Ne(i-t*i))*d,n=Ne(e-90);return new DOMPoint(l+d*Ed(n)-Od(n)*s,a+d*Od(n)+Ed(n)*s);},w=new DOMPoint(u,x).matrixTransform(m),v=f(b),y=new Q(w,v),k=f(0),S=f(1);n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.nl=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),i=y.transformPoint(e),_Ae25=Ae(k,S,i,!1),_Ae26=_slicedToArray(_Ae25,1),n=_Ae26[0],c=Ee(k,n)/Ee(k,S);c=tt(c,0,1,3),!1===g&&c!==b&&(s.undoManager.checkpoint("Cog splay"),g=!0),dl(o,{type:"cog",values:[l,a,h,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i494=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i494),_this243.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator369=_createForOfIteratorHelper(this.Nl),_step369;try{for(_iterator369.s();!(_step369=_iterator369.n()).done;){var _t692=_step369.value;var _e513=this["#subhud-template"].cloneNode(!0);_e513.removeAttribute("uid"),_e513[$d]=_t692,this["#subhuds"].append(_e513);}}catch(err){_iterator369.e(err);}finally{_iterator369.f();}this.ll(),this.bl();},ll:function ll(){var _iterator370=_createForOfIteratorHelper(this["#subhuds"].children),_step370;try{for(_iterator370.s();!(_step370=_iterator370.n()).done;){var _t693=_step370.value;var _e514=_t693[$d],_i495=Wt(_e514,this.un.vectorCanvas),_rl$values32=_slicedToArray(rl(_e514).values,7),s=_rl$values32[0],_n205=_rl$values32[1],_o168=_rl$values32[2],_l154=_rl$values32[3],_a114=_rl$values32[4],_h101=_rl$values32[5],_r58=_rl$values32[6];var _iterator371=_createForOfIteratorHelper(_t693.children),_step371;try{for(_iterator371.s();!(_step371=_iterator371.n()).done;){var _e515=_step371.value;if(_e515.matches(".r1-grippie")){var _t694=new DOMMatrix();_t694.translateSelf(s,_n205),_t694.rotateSelf(360/_r58/2),_t694.translateSelf(-s,-_n205);var _l155=new DOMPoint(s,_n205-_o168);_l155=_l155.matrixTransform(_t694),_l155=_l155.matrixTransform(_i495),_e515.setAttribute("cx",_l155.x),_e515.setAttribute("cy",_l155.y);}else if(_e515.matches(".r2-grippie")){var _t695=new DOMMatrix();_t695.translateSelf(s,_n205),_t695.rotateSelf(360/_r58/2),_t695.translateSelf(-s,-_n205);var _o169=new DOMPoint(s,_n205-_l154);_o169=_o169.matrixTransform(_t695),_o169=_o169.matrixTransform(_i495),_e515.setAttribute("cx",_o169.x),_e515.setAttribute("cy",_o169.y);}else if(_e515.matches(".r3-grippie")){var _t696=new DOMPoint(s,_n205-_a114);_t696=_t696.matrixTransform(_i495),_e515.setAttribute("cx",_t696.x),_e515.setAttribute("cy",_t696.y);}else if(_e515.matches(".teeth-grippie")){var _t697=new DOMPoint(s,_n205).matrixTransform(_i495);_e515.setAttribute("cx",_t697.x),_e515.setAttribute("cy",_t697.y);}else if(_e515.matches(".splay-grippie")){var _t698=360/_r58,_o170=_t698/4,_l156=Td(Ne(_o170-_h101*_o170))*_a114,_d41=Ne(_t698-90),_c32=new DOMPoint(s+_a114*Ed(_d41)-Od(_d41)*_l156,_n205+_a114*Od(_d41)+Ed(_d41)*_l156);_c32=_c32.matrixTransform(_i495),_e515.setAttribute("cx",_c32.x),_e515.setAttribute("cy",_c32.y);}}}catch(err){_iterator371.e(err);}finally{_iterator371.f();}}}catch(err){_iterator370.e(err);}finally{_iterator370.f();}},bl:function bl(){var _iterator372=_createForOfIteratorHelper(this["#subhuds"].children),_step372;try{for(_iterator372.s();!(_step372=_iterator372.n()).done;){var _t699=_step372.value;var _iterator373=_createForOfIteratorHelper(_t699.children),_step373;try{for(_iterator373.s();!(_step373=_iterator373.n()).done;){var _e516=_step373.value;_e516.setAttribute("r",6/this.un.scale);}}catch(err){_iterator373.e(err);}finally{_iterator373.f();}}}catch(err){_iterator372.e(err);}finally{_iterator372.f();}},jl:function jl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator374=_createForOfIteratorHelper(t),_step374;try{for(_iterator374.s();!(_step374=_iterator374.n()).done;){var _i496=_step374.value;"path"===_i496.localName?_i496.hasAttribute("data-bx-shape")&&_i496.getAttribute("data-bx-shape").startsWith("cog")&&e.push(_i496):["g","a"].includes(_i496.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.jl(_i496.children))));}}catch(err){_iterator374.e(err);}finally{_iterator374.f();}return e;}};var Ld=Symbol();var Bd={id:"arrow-hud",createdCallback:function createdCallback(){this.il=!1,this.Xl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #arrow-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #arrow-hud .start-grippie,\n    #arrow-hud .end-grippie {\n      fill: #C3C303;\n    }\n    #arrow-hud .base-thickness-grippie,\n    #arrow-hud .head-size-grippie,\n    #arrow-hud .head-inset-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-grippie"></circle>\n      <circle class="grippie end-grippie"></circle>\n      <circle class="grippie base-thickness-grippie"></circle>\n      <circle class="grippie head-size-grippie"></circle>\n      <circle class="grippie head-inset-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator375=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step375;try{for(_iterator375.s();!(_step375=_iterator375.n()).done;){var _t700=_step375.value;this["#"+_t700.getAttribute("uid")]=_t700;}}catch(err){_iterator375.e(err);}finally{_iterator375.f();}},enabledCallback:function enabledCallback(){var _this244=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this244.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this245=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this245.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this245.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this245.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.Xl=this.Zl(),0===this.Xl.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".start-grippie")?this.Kl(t):t.target.matches(".end-grippie")?this.Ql(t):t.target.matches(".base-thickness-grippie")?this.Jl(t):t.target.matches(".head-size-grippie")?this.ta(t):t.target.matches(".head-inset-grippie")&&this.ea(t));},Kl:function Kl(t){var _this246=this;var e,_i498,s=t.target,n=s.parentElement[Ld],_this$un=this.un,o=_this$un.geometryPrecision,l=_this$un.transformPrecision,_rl$values33=_slicedToArray(rl(n).values,7),a=_rl$values33[0],h=_rl$values33[1],r=_rl$values33[2],d=_rl$values33[3],c=_rl$values33[4],p=_rl$values33[5],u=_rl$values33[6],x=Yt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(Yt(s)),m=new DOMPoint(a+r,h+d/2),g=m.matrixTransform(x),f=a,w=r,v=se(n,m);this.nl=s,this.un.undoManager.checkpoint("Move arrow"),this.un.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this246.un.snapManager.snapPoint(e);var i=Re(g,b,e),s=v+i;{var _t701=new DOMPoint(a,h+d/2),_i497=_t701.matrixTransform(x),_s278=new DOMPoint(a+r,h+d/2),_l157=_s278.matrixTransform(x),_b27=Ee(_t701,_s278)/Ee(_i497,_l157);r=Ee(g,e)*_b27,r=tt(r,p,Infinity,o),a=f+(w-r),a=J(a,o),dl(n,{type:"arrow",values:[a,h,r,d,c,p,u]});}_this246.Js.modKeys.shift&&(s=Ue(s,15)),ne(n,s,null,m);}),window.addEventListener("pointerup",_i498=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i498),_this246.nl=null,_this246.un.snapManager.snapEnd(),va(n,{geometryPrecision:o,transformPrecision:l});});},Ql:function Ql(t){var _this247=this;var e,_i500,s=t.target,n=s.parentElement[Ld],_this$un2=this.un,o=_this$un2.geometryPrecision,l=_this$un2.transformPrecision,_rl$values34=_slicedToArray(rl(n).values,7),a=_rl$values34[0],h=_rl$values34[1],r=_rl$values34[2],d=_rl$values34[3],c=_rl$values34[4],p=_rl$values34[5],u=_rl$values34[6],x=Yt(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(Yt(s)),m=new DOMPoint(a,h+d/2),g=m.matrixTransform(x),f=se(n,m);this.nl=s,this.un.undoManager.checkpoint("Move arrow"),this.un.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this247.un.snapManager.snapPoint(e);var i=Re(g,b,e),s=f+i;{var _t702=new DOMPoint(a,h+d/2),_i499=_t702.matrixTransform(x),_s279=new DOMPoint(a+r,h+d/2),_l158=_s279.matrixTransform(x),_b28=Ee(_t702,_s279)/Ee(_i499,_l158);r=Ee(g,e)*_b28,r=tt(r,p,Infinity,o),dl(n,{type:"arrow",values:[a,h,r,d,c,p,u]});}_this247.Js.modKeys.shift&&(s=Ue(s,15)),ne(n,s,null,m);}),window.addEventListener("pointerup",_i500=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i500),_this247.nl=null,_this247.un.snapManager.snapEnd(),va(n,{geometryPrecision:o,transformPrecision:l});});},Jl:function Jl(t){var _this248=this;var e,_i501,s=t.target,n=s.parentElement[Ld],o=rl(n),l=Yt(n).inverse(),_o$values=_slicedToArray(o.values,7),a=_o$values[0],h=_o$values[1],r=_o$values[2],d=_o$values[3],c=_o$values[4],p=_o$values[5],u=_o$values[6],_Ml=Ml.apply(void 0,_toConsumableArray(o.values)),x=_Ml.minBaseThickness,b=_Ml.maxBaseThickness,m=this.un.geometryPrecision;x=J(x,m),b=J(b,m),this.nl=s,this.un.undoManager.checkpoint("Arrow base thickness"),this.un.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this248.un.snapManager.snapPoint(e);var i=e.matrixTransform(l);c=2*(h+d/2-i.y),c=tt(c,x,b,m),dl(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this248.ll();}),window.addEventListener("pointerup",_i501=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i501),_this248.nl=null,_this248.un.snapManager.snapEnd();});},ta:function ta(t){var _this249=this;var e,_i502,s=t.target,n=s.parentElement[Ld],o=this.un.geometryPrecision,l=Yt(n).inverse(),_rl$values35=_slicedToArray(rl(n).values,7),a=_rl$values35[0],h=_rl$values35[1],r=_rl$values35[2],d=_rl$values35[3],c=_rl$values35[4],p=_rl$values35[5],u=_rl$values35[6],x=h,b=d,m=c;this.nl=s,this.un.undoManager.checkpoint("Arrow head size"),this.un.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this249.un.snapManager.snapPoint(e);var i=e.matrixTransform(l);!1===_this249.Js.modKeys.shift&&(p=a+r-i.x,p=tt(p,1,r,o)),d=i.y-h,d=tt(d,c,Infinity,o),h=x-d/2+b/2,h=J(h,o);{var _Ml2=Ml(a,h,r,d,c,p,u),_t703=_Ml2.maxBaseThickness;_t703=J(_t703,o),(c>_t703||c<m)&&(c=_t703);}dl(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this249.ll();}),window.addEventListener("pointerup",_i502=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i502),_this249.nl=null,_this249.un.snapManager.snapEnd();});},ea:function ea(t){var _this250=this;var e,_i503,s=t.target,n=s.parentElement[Ld],o=this.un.geometryPrecision,l=rl(n),_l$values=_slicedToArray(l.values,7),a=_l$values[0],h=_l$values[1],r=_l$values[2],d=_l$values[3],c=_l$values[4],p=_l$values[5],u=_l$values[6],x=Yt(n).inverse(),_Ml3=Ml.apply(void 0,_toConsumableArray(l.values)),b=_Ml3.minHeadInset,m=_Ml3.maxHeadInset;b=J(b,o),m=J(m,o),this.nl=s,this.un.undoManager.checkpoint("Arrow head inset"),this.un.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this250.un.snapManager.snapPoint(e);var i=e.matrixTransform(x);u=i.x-(a+r-p),u=tt(u,b,m,o),dl(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this250.ll();}),window.addEventListener("pointerup",_i503=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i503),_this250.nl=null,_this250.un.snapManager.snapEnd();});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator376=_createForOfIteratorHelper(this.Xl),_step376;try{for(_iterator376.s();!(_step376=_iterator376.n()).done;){var _t704=_step376.value;var _e517=this["#subhud-template"].cloneNode(!0);_e517.removeAttribute("uid"),_e517[Ld]=_t704,this["#subhuds"].append(_e517);}}catch(err){_iterator376.e(err);}finally{_iterator376.f();}this.ll(),this.bl();},ll:function ll(){var _iterator377=_createForOfIteratorHelper(this["#subhuds"].children),_step377;try{for(_iterator377.s();!(_step377=_iterator377.n()).done;){var _t705=_step377.value;var _e518=_t705[Ld],_i504=Wt(_e518,this),_rl$values36=_slicedToArray(rl(_e518).values,7),s=_rl$values36[0],_n206=_rl$values36[1],_o171=_rl$values36[2],_l159=_rl$values36[3],_a115=_rl$values36[4],_h102=_rl$values36[5],_r59=_rl$values36[6];_r59>_h102&&(_r59=_h102);var _iterator378=_createForOfIteratorHelper(_t705.children),_step378;try{for(_iterator378.s();!(_step378=_iterator378.n()).done;){var _e519=_step378.value;if(_e519.matches(".start-grippie")){var _t706=new DOMPoint(s,_n206+_l159/2).matrixTransform(_i504);_e519.setAttribute("cx",_t706.x),_e519.setAttribute("cy",_t706.y);}else if(_e519.matches(".end-grippie")){var _t707=new DOMPoint(s+_o171,_n206+_l159/2).matrixTransform(_i504);_e519.setAttribute("cx",_t707.x),_e519.setAttribute("cy",_t707.y);}else if(_e519.matches(".base-thickness-grippie")){var _t708=new DOMPoint(s+(_o171-_h102+_r59)/2,_n206+_l159/2-_a115/2).matrixTransform(_i504);_e519.setAttribute("cx",_t708.x),_e519.setAttribute("cy",_t708.y);}else if(_e519.matches(".head-size-grippie")){var _t709=new DOMPoint(s+_o171-_h102,_n206+_l159).matrixTransform(_i504);_e519.setAttribute("cx",_t709.x),_e519.setAttribute("cy",_t709.y);}else if(_e519.matches(".head-inset-grippie")){var _t710=new DOMPoint(s+_o171-_h102+_r59,_n206+_l159/2-_a115/2).matrixTransform(_i504);_e519.setAttribute("cx",_t710.x),_e519.setAttribute("cy",_t710.y);}}}catch(err){_iterator378.e(err);}finally{_iterator378.f();}}}catch(err){_iterator377.e(err);}finally{_iterator377.f();}},bl:function bl(){var _iterator379=_createForOfIteratorHelper(this["#subhuds"].children),_step379;try{for(_iterator379.s();!(_step379=_iterator379.n()).done;){var _t711=_step379.value;var _iterator380=_createForOfIteratorHelper(_t711.children),_step380;try{for(_iterator380.s();!(_step380=_iterator380.n()).done;){var _e520=_step380.value;_e520.setAttribute("r",6/this.un.scale);}}catch(err){_iterator380.e(err);}finally{_iterator380.f();}}}catch(err){_iterator379.e(err);}finally{_iterator379.f();}},Zl:function Zl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator381=_createForOfIteratorHelper(t),_step381;try{for(_iterator381.s();!(_step381=_iterator381.n()).done;){var _i505=_step381.value;"path"===_i505.localName?_i505.hasAttribute("data-bx-shape")&&_i505.getAttribute("data-bx-shape").startsWith("arrow")&&e.push(_i505):["g","a"].includes(_i505.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Zl(_i505.children))));}}catch(err){_iterator381.e(err);}finally{_iterator381.f();}return e;}};var Rd=Math.abs,Gd=Symbol();var Ud={id:"cross-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #cross-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cross-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #cross-hud .arms-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie arms-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator382=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step382;try{for(_iterator382.s();!(_step382=_iterator382.n()).done;){var _t712=_step382.value;this["#"+_t712.getAttribute("uid")]=_t712;}}catch(err){_iterator382.e(err);}finally{_iterator382.f();}},enabledCallback:function enabledCallback(){var _this251=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this251.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this252=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this252.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this252.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this252.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.ia=this.sa(),0===this.ia.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.$l(t):t.target.matches(".arms-grippie")&&this.Rl(t));},$l:function $l(t){var _this253=this;var e,_i506,s=t.target,n=s.parentElement[Gd],o=Yt(n),l=o.inverse(),a=rl(n),_a$values=_slicedToArray(a.values,7),h=_a$values[0],r=_a$values[1],d=_a$values[2],c=_a$values[3],p=_a$values[4],u=_a$values[5],x=_a$values[6],_Pl=Pl.apply(void 0,_toConsumableArray(a.values)),b=_Pl.minShift,m=_Pl.maxShift,g=this.un.geometryPrecision,f=new DOMPoint(h+d/2,r),w=new DOMPoint(h+d/2,r+c),v=new DOMPoint(h+d/2,r+c*x).matrixTransform(o),y=new DOMPoint(t.clientX,t.clientY),k=(y.matrixTransform(l),new Q(v,y).getOppositeVector()),S=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){!1===S&&(S=!0,_this253.un.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=k.transformPoint(e);var i=e.matrixTransform(l),_Ae27=Ae(f,w,i,!1),_Ae28=_slicedToArray(_Ae27,1),s=_Ae28[0];x=(s.y-f.y)/c,_this253.Js.modKeys.shift&&(x=[0,.5,1].reduce(function(t,e){return Rd(e-x)<Rd(t-x)?e:t;})),x=tt(x,b,m,4),dl(n,{type:"cross",values:[h,r,d,c,p,u,x]},g);}),s.addEventListener("lostpointercapture",_i506=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i506),_this253.nl=null;});},Rl:function Rl(t){var _this254=this;var e,_i507,s=t.target,n=s.parentElement[Gd],o=(Ht(n),Yt(n)),l=o.inverse(),a=rl(n),_a$values2=_slicedToArray(a.values,7),h=_a$values2[0],r=_a$values2[1],d=_a$values2[2],c=_a$values2[3],p=_a$values2[4],u=_a$values2[5],x=_a$values2[6],b=this.un.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY),g=m.matrixTransform(l),f=new DOMPoint(g.x,g.y),w=new DOMPoint(h+d/2-u/2,r+c*x-p/2).matrixTransform(o),v=new Q(w,m).getOppositeVector(),y=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s;var k=new DOMPoint(h+d/2,r+x*c),_Pl2=Pl.apply(void 0,_toConsumableArray(a.values)),S=_Pl2.maxHorizontalArmThickness;s.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,_this254.un.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=v.transformPoint(e),f=e.matrixTransform(l),u=2*(k.x-f.x),u=tt(u,.001,d),p=2*(k.y-f.y),p=tt(p,.001,S),_this254.Js.modKeys.shift&&(p>u?p=u:u=p),dl(n,{type:"cross",values:[h,r,d,c,p,u,x]},b);}),s.addEventListener("lostpointercapture",_i507=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i507),_this254.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator383=_createForOfIteratorHelper(this.ia),_step383;try{for(_iterator383.s();!(_step383=_iterator383.n()).done;){var _t713=_step383.value;var _e521=this["#subhud-template"].cloneNode(!0);_e521.removeAttribute("uid"),_e521[Gd]=_t713,this["#subhuds"].append(_e521);}}catch(err){_iterator383.e(err);}finally{_iterator383.f();}this.ll(),this.bl();},ll:function ll(){var _iterator384=_createForOfIteratorHelper(this["#subhuds"].children),_step384;try{for(_iterator384.s();!(_step384=_iterator384.n()).done;){var _t714=_step384.value;var _e522=_t714[Gd],_i508=Wt(_e522,this),_rl$values37=_slicedToArray(rl(_e522).values,7),s=_rl$values37[0],_n207=_rl$values37[1],_o172=_rl$values37[2],_l160=_rl$values37[3],_a116=_rl$values37[4],_h103=_rl$values37[5],_r60=_rl$values37[6];var _iterator385=_createForOfIteratorHelper(_t714.children),_step385;try{for(_iterator385.s();!(_step385=_iterator385.n()).done;){var _e523=_step385.value;if(_e523.matches(".shift-grippie")){var _t715=new DOMPoint(s+_o172/2,_n207+_r60*_l160).matrixTransform(_i508);_e523.setAttribute("cx",_t715.x),_e523.setAttribute("cy",_t715.y);}else if(_e523.matches(".arms-grippie")){var _t716=new DOMPoint(s+_o172/2-_h103/2,_n207+_l160*_r60-_a116/2).matrixTransform(_i508);_e523.setAttribute("cx",_t716.x),_e523.setAttribute("cy",_t716.y);}}}catch(err){_iterator385.e(err);}finally{_iterator385.f();}}}catch(err){_iterator384.e(err);}finally{_iterator384.f();}},bl:function bl(){var _iterator386=_createForOfIteratorHelper(this["#subhuds"].children),_step386;try{for(_iterator386.s();!(_step386=_iterator386.n()).done;){var _t717=_step386.value;var _iterator387=_createForOfIteratorHelper(_t717.children),_step387;try{for(_iterator387.s();!(_step387=_iterator387.n()).done;){var _e524=_step387.value;_e524.setAttribute("r",6/this.un.scale);}}catch(err){_iterator387.e(err);}finally{_iterator387.f();}}}catch(err){_iterator386.e(err);}finally{_iterator386.f();}},sa:function sa(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator388=_createForOfIteratorHelper(t),_step388;try{for(_iterator388.s();!(_step388=_iterator388.n()).done;){var _i509=_step388.value;"path"===_i509.localName?_i509.hasAttribute("data-bx-shape")&&_i509.getAttribute("data-bx-shape").startsWith("cross")&&e.push(_i509):["g","a"].includes(_i509.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.sa(_i509.children))));}}catch(err){_iterator388.e(err);}finally{_iterator388.f();}return e;}};var Fd=Symbol();var Nd={id:"spiral-hud",createdCallback:function createdCallback(){this.il=!1,this.yl=[],this.nl=null,this.ol=ts(this.ll,200,this),this.innerHTML='\n  <style>\n    #spiral-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #spiral-hud .start-angle-grippie,\n    #spiral-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n    #spiral-hud .r1-grippie,\n    #spiral-hud .r2-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-angle-grippie"></circle>\n      <circle class="grippie end-angle-grippie"></circle>\n      <circle class="grippie r1-grippie"></circle>\n      <circle class="grippie r2-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator389=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step389;try{for(_iterator389.s();!(_step389=_iterator389.n()).done;){var _t718=_step389.value;this["#"+_t718.getAttribute("uid")]=_t718;}}catch(err){_iterator389.e(err);}finally{_iterator389.f();}},enabledCallback:function enabledCallback(){var _this255=this;this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this255.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this["#subhuds"].innerHTML="",this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this256=this;this.il=!0,this.un.addEventListener("zoomchange",this.hn=function(){_this256.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this256.pl(t.detail);}),this.addEventListener("pointerdown",this.mn=function(t){_this256.Oo(t);});},rl:function rl(){this.il=!1,this["#subhuds"].innerHTML="",this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.mn);},hl:function hl(){this.na=this.oa(),0===this.na.length?this.il&&this.rl():(this.il||this.dl(),this.xl());},pl:function pl(t){t.attributeName;this.nl?this.ll():this.ol();},cl:function cl(){this.bl();},Oo:function Oo(t){1===t.buttons&&(t.target.matches(".start-angle-grippie")?this.la(t):t.target.matches(".end-angle-grippie")?this.aa(t):t.target.matches(".r1-grippie")?this.Vl(t):t.target.matches(".r2-grippie")&&this.Hl(t));},la:function la(t){var _this257=this;var e,_i510,s=t.target,n=s.parentElement[Fd],o=Yt(n).inverse(),l=this.un.geometryPrecision,_rl$values38=_slicedToArray(rl(n).values,6),a=_rl$values38[0],h=_rl$values38[1],r=_rl$values38[2],d=_rl$values38[3],c=_rl$values38[4],p=_rl$values38[5],u=c,x=new DOMPoint(a,h),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Re(x,b,e);b=e,c+=i;var s=tt(c,0,p),_Dl=Dl(a,h,r,d,s,p),_Dl2=_slicedToArray(_Dl,1),g=_Dl2[0];!1===m&&s!==u&&(_this257.un.undoManager.checkpoint("Spiral start angle"),m=!0),dl(n,{type:"spiral",values:[a,h,r,d,s,p]},l);}),s.addEventListener("lostpointercapture",_i510=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i510),_this257.nl=null;});},aa:function aa(t){var _this258=this;var e,_i511,s=t.target,n=s.parentElement[Fd],o=Yt(n).inverse(),l=this.un.geometryPrecision,_rl$values39=_slicedToArray(rl(n).values,6),a=_rl$values39[0],h=_rl$values39[1],r=_rl$values39[2],d=_rl$values39[3],c=_rl$values39[4],p=_rl$values39[5],u=p,x=new DOMPoint(a,h),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Re(x,b,e);b=e,p+=i;var s=tt(p,c,Infinity);!1===m&&s!==u&&(_this258.un.undoManager.checkpoint("Spiral end angle"),m=!0),dl(n,{type:"spiral",values:[a,h,r,d,c,s]},l);}),s.addEventListener("lostpointercapture",_i511=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i511),_this258.nl=null;});},Vl:function Vl(t){var _this259=this;var e,_i512,s=t.target,n=s.parentElement[Fd],o=Yt(n).inverse(),l=Wt(n,this.un.vectorCanvas).inverse(),_rl$values40=_slicedToArray(rl(n).values,6),a=_rl$values40[0],h=_rl$values40[1],r=_rl$values40[2],d=_rl$values40[3],c=_rl$values40[4],p=_rl$values40[5],u=r,x=new DOMPoint(a,h),b=this.un.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new Q(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_Ae29=Ae(x,g,i),_Ae30=_slicedToArray(_Ae29,1),s=_Ae30[0],l=Math.floor(c/360)+1,m=p/360;r=(h*m-s.y*m-l*d)/(m-l),r=tt(r,0,d),!1===w&&r!==u&&(_this259.un.undoManager.checkpoint("Spiral inner radius"),w=!0),dl(n,{type:"spiral",values:[a,h,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i512=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i512),_this259.nl=null;});},Hl:function Hl(t){var _this260=this;var e,_i513,s=t.target,n=s.parentElement[Fd],o=Yt(n).inverse(),l=Wt(n,this.un.vectorCanvas).inverse(),_rl$values41=_slicedToArray(rl(n).values,6),a=_rl$values41[0],h=_rl$values41[1],r=_rl$values41[2],d=_rl$values41[3],c=_rl$values41[4],p=_rl$values41[5],u=d,x=new DOMPoint(a,h),b=this.un.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new Q(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.nl=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_Ae31=Ae(x,g,i),_Ae32=_slicedToArray(_Ae31,1),s=_Ae32[0];d=(h-r-s.y)/Math.floor(p/360)*(p/360)+r,d=tt(d,r,Infinity),!1===w&&d!==u&&(_this260.un.undoManager.checkpoint("Spiral outer radius"),w=!0),dl(n,{type:"spiral",values:[a,h,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i513=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i513),_this260.nl=null;});},xl:function xl(){this["#subhuds"].innerHTML="";var _iterator390=_createForOfIteratorHelper(this.na),_step390;try{for(_iterator390.s();!(_step390=_iterator390.n()).done;){var _t719=_step390.value;var _e525=this["#subhud-template"].cloneNode(!0);_e525.removeAttribute("uid"),_e525[Fd]=_t719,this["#subhuds"].append(_e525);}}catch(err){_iterator390.e(err);}finally{_iterator390.f();}this.ll(),this.bl();},ll:function ll(){var _iterator391=_createForOfIteratorHelper(this["#subhuds"].children),_step391;try{for(_iterator391.s();!(_step391=_iterator391.n()).done;){var _t720=_step391.value;var _e526=_t720[Fd],_i514=Wt(_e526,this.un.vectorCanvas),_rl$values42=_slicedToArray(rl(_e526).values,6),s=_rl$values42[0],_n208=_rl$values42[1],_o173=_rl$values42[2],_l161=_rl$values42[3],_a117=_rl$values42[4],_h104=_rl$values42[5],_Dl3=Dl(s,_n208,_o173,_l161,_a117,_h104),_Dl4=_slicedToArray(_Dl3,2),_r61=_Dl4[0],_d42=_Dl4[1];var _iterator392=_createForOfIteratorHelper(_t720.children),_step392;try{for(_iterator392.s();!(_step392=_iterator392.n()).done;){var _e527=_step392.value;if(_e527.matches(".start-angle-grippie")){var _t721=DOMPoint.fromPoint(_r61);_t721=_t721.matrixTransform(_i514),_e527.setAttribute("cx",_t721.x),_e527.setAttribute("cy",_t721.y);}else if(_e527.matches(".end-angle-grippie")){var _t722=DOMPoint.fromPoint(_d42);_t722=_t722.matrixTransform(_i514),_e527.setAttribute("cx",_t722.x),_e527.setAttribute("cy",_t722.y);}else if(_e527.matches(".r1-grippie")){var _t723=Math.floor(_a117/360)+1,_r62=Math.floor(_h104/360),_d43=new DOMPoint(s,_n208-_o173-(_l161-_o173)/(_h104/360)*_t723);_d43=_d43.matrixTransform(_i514),0===_r62||_r62<=_t723?_e527.style.display="none":(_e527.style.display=null,_e527.setAttribute("cx",_d43.x),_e527.setAttribute("cy",_d43.y));}else if(_e527.matches(".r2-grippie")){var _t724=Math.floor(_a117/360)+1,_r63=Math.floor(_h104/360),_d44=new DOMPoint(s,_n208-_o173-(_l161-_o173)/(_h104/360)*_r63);_d44=_d44.matrixTransform(_i514),0===_r63||_r63<_t724?_e527.style.display="none":(_e527.style.display=null,_e527.setAttribute("cx",_d44.x),_e527.setAttribute("cy",_d44.y));}}}catch(err){_iterator392.e(err);}finally{_iterator392.f();}}}catch(err){_iterator391.e(err);}finally{_iterator391.f();}},bl:function bl(){var _iterator393=_createForOfIteratorHelper(this["#subhuds"].children),_step393;try{for(_iterator393.s();!(_step393=_iterator393.n()).done;){var _t725=_step393.value;var _iterator394=_createForOfIteratorHelper(_t725.children),_step394;try{for(_iterator394.s();!(_step394=_iterator394.n()).done;){var _e528=_step394.value;_e528.setAttribute("r",6/this.un.scale);}}catch(err){_iterator394.e(err);}finally{_iterator394.f();}}}catch(err){_iterator393.e(err);}finally{_iterator393.f();}},oa:function oa(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.un.selectedElements;var e=[];var _iterator395=_createForOfIteratorHelper(t),_step395;try{for(_iterator395.s();!(_step395=_iterator395.n()).done;){var _i515=_step395.value;"path"===_i515.localName?_i515.hasAttribute("data-bx-shape")&&_i515.getAttribute("data-bx-shape").startsWith("spiral")&&e.push(_i515):["g","a"].includes(_i515.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.oa(_i515.children))));}}catch(err){_iterator395.e(err);}finally{_iterator395.f();}return e;}};var jd=Symbol(),Vd=Symbol(),Hd=Symbol(),Wd=Symbol();var Yd={id:"linear-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.ha());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[Wd];});return this.ra.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.da(t);},createdCallback:function createdCallback(){var _this261=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this261.ca();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this261.pa();}}},this.ra=[],this.nl=null,this.ua=null,this.ha=ts(this.xa,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #linear-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #linear-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #linear-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #linear-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator396=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step396;try{for(_iterator396.s();!(_step396=_iterator396.n()).done;){var _t726=_step396.value;this["#"+_t726.getAttribute("uid")]=_t726;}}catch(err){_iterator396.e(err);}finally{_iterator396.f();}this.addEventListener("keydown",function(t){return _this261.Tn(t);}),this.addEventListener("pointerdown",function(t){return _this261.Oo(t);}),this.addEventListener("pointerup",function(t){return _this261.ba(t);}),this.addEventListener("dblclick",function(t){return _this261.ma(t);});},enabledCallback:function enabledCallback(){var _this262=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this262.hl();}),this.un.addEventListener("selectedtextrangechange",this.ga=function(){_this262.fa();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this262.pl(t.detail);}),this.un.addEventListener("zoomchange",this.hn=function(){_this262.cl();}),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this262.gn(t);}),this.un.huds.addEventListener("pointerdown",this.wa=function(t){_this262.va(t);}),this.un.undoManager.addEventListener("undo",this.ya=function(){_this262.ka();}),this.un.undoManager.addEventListener("redo",this.Sa=function(){_this262.ka();}),this.hl();},disabledCallback:function disabledCallback(){this.da([]),this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("selectedtextrangechange",this.ga),this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("zoomchange",this.hn),this.un.workspaces.removeEventListener("pointerdown",this.Kn),this.un.huds.removeEventListener("pointerdown",this.wa),this.un.undoManager.removeEventListener("undo",this.ya),this.un.undoManager.removeEventListener("redo",this.Sa);},hl:function hl(){this.ha();},fa:function fa(){this.ha();},pl:function pl(t){if(this.nl)this.Ca(this.nl.closest(".subhud"));else if(this.ua)this.Ca(this.ua.parentElement);else{var _iterator397=_createForOfIteratorHelper(t),_step397;try{for(_iterator397.s();!(_step397=_iterator397.n()).done;){var _e529=_step397.value;"style"===_e529.attributeName&&"stop"===_e529.target.localName?this._a():this.ha();}}catch(err){_iterator397.e(err);}finally{_iterator397.f();}}},cl:function cl(){this.bl();},ka:function ka(){this.da([]);},gn:function gn(t){1===t.buttons&&this.da([]);},va:function va(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.da([]);},Oo:function Oo(t){var _this263=this;if(1!==t.buttons)return;var e,_i516;t.target.classList.contains("slider")?this.Ma(t):t.target.classList.contains("stop-grippie")&&this.Pa(t),this.Da=!1,this.za=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this263.Da=!0;}),window.addEventListener("pointerup",_i516=function i(){window.removeEventListener("pointerup",_i516),window.removeEventListener("pointermove",e);});},ba:function ba(t){t.target.classList.contains("stop-grippie")&&this.Oa(t);},ma:function ma(t){t.timeStamp-this.za<300&&t.target.classList.contains("slider")&&this.Ea(t);},Pa:function Pa(t){var _this264=this;var e=t.target[Wd],i=e.closest("linearGradient, radialGradient"),s=zo(i),n=s.filter(function(t){return _this264.ra.includes(t);}),o=s[0],l=s[s.length-1],_this$Js$modKeys5=this.Js.modKeys,a=_this$Js$modKeys5.alt,h=_this$Js$modKeys5.shift;this.Ta=_toConsumableArray(n),!1===h?!1===n.includes(e)&&this.da([e]):!0===h&&!1===n.includes(e)&&(n.push(e),this.da(n)),e===o&&0===e.offset.baseVal&&!1===a?this.Aa(t,"start"):e===l&&1===e.offset.baseVal&&!1===a?this.Aa(t,"end"):this.$a(t);},Oa:function Oa(t){if(this.Da)return;var e=t.target,i=this.Ta,s=e[Wd],n=e.closest(".subhud")[Vd],o=this.Js.modKeys.shift,l=[];var _iterator398=_createForOfIteratorHelper(this.un.selectedElements),_step398;try{for(_iterator398.s();!(_step398=_iterator398.n()).done;){var _t728=_step398.value;if("g"!==_t728.localName&&"a"!==_t728.localName||!_t728.contains(n))l.push(_t728);else{var _iterator399=_createForOfIteratorHelper(Ui(_toConsumableArray(_t728.children))),_step399;try{for(_iterator399.s();!(_step399=_iterator399.n()).done;){var _e530=_step399.value;l.unshift(_e530);}}catch(err){_iterator399.e(err);}finally{_iterator399.f();}}}}catch(err){_iterator398.e(err);}finally{_iterator398.f();}this.un.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.un.selectedElements=l;for(var _t727=n.parentElement;_t727!==this.un.currentWorkspace;_t727=_t727.parentElement){if("g"===_t727.localName||"a"===_t727.localName){this.un.currentContainer=_t727;break;}}!0===o&&!0===this.Ta.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.da(i));},$a:function $a(t){var _this265=this;var e,_i519,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.un.geometryPrecision,l=this.Ia(),a=Yt(this),h=a.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(a),_Ae33=Ae(c,p,u,!1),_Ae34=_slicedToArray(_Ae33,1),b=_Ae34[0],m=Ee(c,b)/Ee(c,p),g=!1;this.nl=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e532){{var _i517=new DOMPoint(_e532.clientX,_e532.clientY),_s280=_e532.timeStamp-t.timeStamp;if(!0===De(d,_i517,0))return;if(d=_i517,Ee(r,_i517)<3&&_s280<80)return;}!1===g&&(_this265.un.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e532.clientX-t.clientX,x.y+_e532.clientY-t.clientY).matrixTransform(h),_Ae35=Ae(c,p,i,!1),_Ae36=_slicedToArray(_Ae35,1),s=_Ae36[0],n=Ee(c,s)/Ee(c,p)-m;var _iterator400=_createForOfIteratorHelper(_this265.ra),_step400;try{for(_iterator400.s();!(_step400=_iterator400.n()).done;){var _t729=_step400.value;var _l$get=l.get(_t729),_e531=_l$get.minOffset,_i518=_l$get.maxOffset,_s281=_l$get.initialOffset;_s281+n<_e531?_t729.setAttribute("offset",_e531):_s281+n>_i518?_t729.setAttribute("offset",_i518):_t729.setAttribute("offset",_s281+n);}}catch(err){_iterator400.e(err);}finally{_iterator400.f();}}),s.addEventListener("pointerup",_i519=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i519);var _iterator401=_createForOfIteratorHelper(_this265.ra),_step401;try{for(_iterator401.s();!(_step401=_iterator401.n()).done;){var _t730=_step401.value;_t730.setAttribute("offset",J(_t730.offset.baseVal,o));}}catch(err){_iterator401.e(err);}finally{_iterator401.f();}_this265.nl=null;});},Aa:function Aa(t){var _this266=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";var i,_s285,n,o,l,a,h,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[jd],u=Do(p),x=c[Vd],b=Oi(x),m=Yt(x),g=m.inverse(),f=u.gradientTransform,w=this.un.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,k=!1,S=!1;d.matches(".stop-grippie")?this.nl=d:d.matches(".slider")&&(this.ua=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i524){if(!1===k){{var _e533=new DOMPoint(_i524.clientX,_i524.clientY),_s282=_i524.timeStamp-t.timeStamp;if(!0===De(y,_e533,0))return;if(y=_e533,Ee(v,_e533)<3&&_s282<80)return;}if(_this266.un.undoManager.checkpoint("Transform gradient"),_this266.un.snapManager.snapStart(!0),Po(p)){var _t731=$i("svg:linearGradient");_t731.setAttribute("id",_this266.un.generateUniqueID(p.id+"-")),_t731.setAttribute("href","#"+p.id),_this266.un.maybeCreateDefsForMasterWorkspace(),_this266.un.defs.append(_t731),p=_t731,c[jd]=_t731,x.style[_this266.context]="url(#"+_t731.id+")";}k=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){"start"===e?(n=new DOMPoint(u.x1.value,u.y1.value),o=new DOMPoint(u.x2.value,u.y2.value)):"end"===e&&(n=new DOMPoint(u.x2.value,u.y2.value),o=new DOMPoint(u.x1.value,u.y1.value));var _t732=new Q(o,n).getNormalVector();l=new DOMPoint(o.x+_t732.x,o.y+_t732.y);var _i520=n.matrixTransform(f),_s283=o.matrixTransform(f),_d45=l.matrixTransform(f);a=_i520.matrixTransform(m),h=_s283.matrixTransform(m),r=_d45.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t733=u.x1.valueInSpecifiedUnits,_i521=u.y1.valueInSpecifiedUnits,_s284=u.x2.valueInSpecifiedUnits,_d46=u.y2.valueInSpecifiedUnits;u.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t733/=100),u.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i521/=100),u.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s284/=100),u.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d46/=100),"start"===e?(n=new DOMPoint(_t733,_i521),o=new DOMPoint(_s284,_d46)):"end"===e&&(n=new DOMPoint(_s284,_d46),o=new DOMPoint(_t733,_i521));var _c33=new Q(o,n).getNormalVector();l=new DOMPoint(o.x+_c33.x,o.y+_c33.y);var _p32=n.matrixTransform(f),_x100=o.matrixTransform(f),_g24=l.matrixTransform(f),_w15=re(_p32,b),_v12=re(_x100,b),_y3=re(_g24,b);a=_w15.matrixTransform(m),h=_v12.matrixTransform(m),r=_y3.matrixTransform(m);}}();}var s,d,C,_,M=_this266.Js.modKeys.shift,P=new DOMPoint(_i524.clientX+(a.x-t.clientX),_i524.clientY+(a.y-t.clientY)),D=new DOMPoint(a.x+_i524.clientX-t.clientX,a.y+_i524.clientY-t.clientY);D=_this266.un.snapManager.snapPoint(D);var z=DOMPoint.fromPoint(h);if(!1===M){var _t734=Re(h,a,P),_e534=new DOMMatrix();_e534.translateSelf(h.x,h.y),_e534.rotateSelf(_t734),_e534.translateSelf(-h.x,-h.y),_=r.matrixTransform(_e534);}else if(!0===M){S=!0;var _Le=Le(h,D,22.5),_Le2=_slicedToArray(_Le,1),_t735=_Le2[0];D=_t735;}if(S){var _t736=new Q(z,D).getNormalVector();_=new DOMPoint(z.x+_t736.x,z.y+_t736.y);}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t737=D.matrixTransform(g),_e535=z.matrixTransform(g),_i522=_.matrixTransform(g);s=_t737.matrixTransform(f.inverse()),d=_e535.matrixTransform(f.inverse()),C=_i522.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t738=D.matrixTransform(g),_e536=z.matrixTransform(g),_i523=_.matrixTransform(g),_n209=de(_t738,b),_o174=de(_e536,b),_l162=de(_i523,b);s=_n209.matrixTransform(f.inverse()),d=_o174.matrixTransform(f.inverse()),C=_l162.matrixTransform(f.inverse());}var O=qt(n,o,l,s,d,C),E=Ft(f.multiply(O),w);p.setAttribute("gradientTransform",E.toString());}),d.addEventListener("pointerup",_s285=function s(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",_s285),_this266.nl=null,_this266.ua=null,_this266.un.snapManager.snapEnd();});},Ma:function Ma(t){var e=t.target,i=Yt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),o=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),l=n.matrixTransform(i),a=o.matrixTransform(i),h=new Q(l,s).length,r=new Q(a,s).length;h<=5?this.Aa(t,"start"):r<=5?this.Aa(t,"end"):this.La(t);},La:function La(t){var _this267=this;var e,_i530,s,n,o=t.target,l=o.closest(".subhud"),a=l[Vd],h=l[jd],r=Do(h),d=Oi(a),c=Yt(a),p=c.inverse(),u=this.un.geometryPrecision,x=new DOMPoint(t.clientX,t.clientY),b=x,m=!1;if(this.ua=o,o.setPointerCapture(t.pointerId),r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t739=new DOMPoint(r.x1.value,r.y1.value),_e537=new DOMPoint(r.x2.value,r.y2.value),_i525=_t739.matrixTransform(r.gradientTransform),_o175=_e537.matrixTransform(r.gradientTransform);s=_i525.matrixTransform(c),n=_o175.matrixTransform(c);}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t740=r.x1.valueInSpecifiedUnits,_e538=r.y1.valueInSpecifiedUnits,_i526=r.x2.valueInSpecifiedUnits,_o176=r.y2.valueInSpecifiedUnits;r.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t740/=100),r.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e538/=100),r.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i526/=100),r.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o176/=100);var _l163=new DOMPoint(_t740,_e538),_a118=new DOMPoint(_i526,_o176),_h105=_l163.matrixTransform(r.gradientTransform),_p33=_a118.matrixTransform(r.gradientTransform),_u30=re(_h105,d),_x101=re(_p33,d);s=_u30.matrixTransform(c),n=_x101.matrixTransform(c);}o.addEventListener("pointermove",e=function e(_e539){if(!1===m){{var _i527=new DOMPoint(_e539.clientX,_e539.clientY),_s286=_e539.timeStamp-t.timeStamp;if(!0===De(b,_i527,0))return;if(b=_i527,Ee(x,_i527)<3&&_s286<80)return;}if(m=!0,_this267.un.undoManager.checkpoint("Transform gradient"),Po(h)){var _t741=$i("svg:linearGradient");_t741.setAttribute("id",_this267.un.generateUniqueID(h.id+"-")),_t741.setAttribute("href","#"+h.id),_this267.un.maybeCreateDefsForMasterWorkspace(),_this267.un.defs.append(_t741),h=_t741,l[jd]=_t741,a.style[_this267.context]="url(#"+_t741.id+")";}}if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _i528=new DOMPoint(s.x+_e539.clientX-t.clientX,s.y+_e539.clientY-t.clientY),_o177=new DOMPoint(n.x+_e539.clientX-t.clientX,n.y+_e539.clientY-t.clientY),_l164=_i528.matrixTransform(p),_a119=_o177.matrixTransform(p),_d47=_l164.matrixTransform(r.gradientTransform.inverse()),_c34=_a119.matrixTransform(r.gradientTransform.inverse());h.setAttribute("x1",J(_d47.x,u)),h.setAttribute("y1",J(_d47.y,u)),h.setAttribute("x2",J(_c34.x,u)),h.setAttribute("y2",J(_c34.y,u));}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _i529=new DOMPoint(s.x+_e539.clientX-t.clientX,s.y+_e539.clientY-t.clientY),_o178=new DOMPoint(n.x+_e539.clientX-t.clientX,n.y+_e539.clientY-t.clientY),_l165=_i529.matrixTransform(p),_a120=_o178.matrixTransform(p),_c35=de(_l165,d),_x102=de(_a120,d),_b29=_c35.matrixTransform(r.gradientTransform.inverse()),_m28=_x102.matrixTransform(r.gradientTransform.inverse());h.setAttribute("x1",J(_b29.x,u)),h.setAttribute("y1",J(_b29.y,u)),h.setAttribute("x2",J(_m28.x,u)),h.setAttribute("y2",J(_m28.y,u));}}),o.addEventListener("pointerup",_i530=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("pointerup",_i530),_this267.ua=null;});},Ea:function Ea(t){this.un.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[jd],s=Co(i),n=Yt(this).inverse(),o=zo(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),a=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=Ee(l,h)/Ee(l,a);r=tt(r,0,1,this.un.geometryPrecision);var d=null;for(var _t742=0;_t742<o.length;_t742+=1){var _e540=o[_t742];if(_e540.offset.baseVal<r)d=_t742;else if(_e540.offset.baseVal>r)break;}var c=$i("svg:stop");if(c.setAttribute("offset",r),c.style.stopColor=Eo(i,r),null===d){var _t743=o[0];_t743?_t743.before(c):s.append(c);}else o[d].after(c);this.da([c]);},Tn:function Tn(t){var e=Ja.fromEvent(t);0!==this.ra.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.Ba()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.Ra()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.Ga()):e.matches("ArrowLeft")?(t.stopPropagation(),this.Ua("left")&&this.Fa(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.Ua("right")&&this.Fa(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.Ua("left")&&this.Fa(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.Ua("right")&&this.Fa(10,"right")));},xa:function xa(){var t=this.Na();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e541=this.querySelector(".subhud:focus"),_i531=[];this["#subhuds"].innerHTML="";var _iterator402=_createForOfIteratorHelper(t),_step402;try{for(_iterator402.s();!(_step402=_iterator402.n()).done;){var _e542=_step402.value;var _t745=Jo(_e542,this.context);if(_i531.includes(_t745))continue;_i531.push(_t745);var s=zo(_t745),_n210=this["#subhud-template"].cloneNode(!0);_n210.removeAttribute("uid"),_n210[jd]=_t745,_n210[Vd]=_e542,_n210[Hd]=s;var _o179=_n210.querySelector(".stop-grippies"),_l166=document.createDocumentFragment();var _iterator403=_createForOfIteratorHelper(s),_step403;try{for(_iterator403.s();!(_step403=_iterator403.n()).done;){var _t746=_step403.value;var _e543=$i("svg:circle");_e543.setAttribute("class","stop-grippie"),_e543[Wd]=_t746,_t746.offset.baseVal>.95?_l166.prepend(_e543):_o179.append(_e543);}}catch(err){_iterator403.e(err);}finally{_iterator403.f();}_o179.append(_l166),this["#subhuds"].append(_n210);}}catch(err){_iterator402.e(err);}finally{_iterator402.f();}if(_e541){var _t744=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[jd]===_e541[jd];});_t744&&_t744.focus();}this.Ca(),this.bl(),this._a(),this.ja(),this.Va();}},Ca:function Ca(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator404=_createForOfIteratorHelper(this["#subhuds"].children),_step404;try{for(_iterator404.s();!(_step404=_iterator404.n()).done;){var _e544=_step404.value;if(t&&_e544!==t)continue;var _i532=_e544[jd],s=_e544[Vd],_n211=_e544[Hd],_o180=Do(_i532),_l167=Wt(s,this),_a121=_e544.querySelector(".slider"),_h106=_e544.querySelector(".slider-shadow"),_r64=_toConsumableArray(_e544.querySelector(".stop-grippies").children);if(_o180.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t747=new DOMPoint(_o180.x1.value,_o180.y1.value),_e545=new DOMPoint(_o180.x2.value,_o180.y2.value),_i533=_t747.matrixTransform(_o180.gradientTransform),_s287=_e545.matrixTransform(_o180.gradientTransform),_d48=_i533.matrixTransform(_l167),_c36=_s287.matrixTransform(_l167);_a121.setAttribute("x1",_d48.x),_a121.setAttribute("y1",_d48.y),_a121.setAttribute("x2",_c36.x),_a121.setAttribute("y2",_c36.y),_h106.setAttribute("x1",_d48.x),_h106.setAttribute("y1",_d48.y),_h106.setAttribute("x2",_c36.x),_h106.setAttribute("y2",_c36.y);var _iterator405=_createForOfIteratorHelper(_n211),_step405;try{var _loop6=function _loop6(){var t=_step405.value;var e=_r64.find(function(e){return e[Wd]===t;}),i=$e(_d48,_c36,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator405.s();!(_step405=_iterator405.n()).done;){_loop6();}}catch(err){_iterator405.e(err);}finally{_iterator405.f();}}else if(_o180.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t748=Oi(s),_e546=_o180.x1.valueInSpecifiedUnits,_i534=_o180.y1.valueInSpecifiedUnits,_d49=_o180.x2.valueInSpecifiedUnits,_c37=_o180.y2.valueInSpecifiedUnits;_o180.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e546/=100),_o180.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i534/=100),_o180.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d49/=100),_o180.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c37/=100);var _p34=new DOMPoint(_e546,_i534),_u31=new DOMPoint(_d49,_c37),_x103=_p34.matrixTransform(_o180.gradientTransform),_b30=_u31.matrixTransform(_o180.gradientTransform),_m29=new DOMPoint(_t748.x+_x103.x*_t748.width,_t748.y+_x103.y*_t748.height),_g25=new DOMPoint(_t748.x+_b30.x*_t748.width,_t748.y+_b30.y*_t748.height),_f18=_m29.matrixTransform(_l167),_w16=_g25.matrixTransform(_l167);_a121.setAttribute("x1",_f18.x),_a121.setAttribute("y1",_f18.y),_a121.setAttribute("x2",_w16.x),_a121.setAttribute("y2",_w16.y),_h106.setAttribute("x1",_f18.x),_h106.setAttribute("y1",_f18.y),_h106.setAttribute("x2",_w16.x),_h106.setAttribute("y2",_w16.y);var _iterator406=_createForOfIteratorHelper(_n211),_step406;try{var _loop7=function _loop7(){var t=_step406.value;var e=_r64.find(function(e){return e[Wd]===t;}),i=$e(_f18,_w16,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator406.s();!(_step406=_iterator406.n()).done;){_loop7();}}catch(err){_iterator406.e(err);}finally{_iterator406.f();}}}}catch(err){_iterator404.e(err);}finally{_iterator404.f();}},_a:function _a(){var _iterator407=_createForOfIteratorHelper(this["#subhuds"].children),_step407;try{for(_iterator407.s();!(_step407=_iterator407.n()).done;){var _t749=_step407.value;var _iterator408=_createForOfIteratorHelper(_t749.querySelectorAll(".stop-grippie")),_step408;try{for(_iterator408.s();!(_step408=_iterator408.n()).done;){var _e547=_step408.value;var _t750=_e547[Wd];_e547.style.fill=getComputedStyle(_t750).stopColor;}}catch(err){_iterator408.e(err);}finally{_iterator408.f();}}}catch(err){_iterator407.e(err);}finally{_iterator407.f();}},bl:function bl(){var _iterator409=_createForOfIteratorHelper(this.querySelectorAll(".stop-grippie")),_step409;try{for(_iterator409.s();!(_step409=_iterator409.n()).done;){var _t751=_step409.value;_t751.setAttribute("r",6/this.un.scale);}}catch(err){_iterator409.e(err);}finally{_iterator409.f();}},ja:function ja(){var _iterator410=_createForOfIteratorHelper(this["#subhuds"].children),_step410;try{for(_iterator410.s();!(_step410=_iterator410.n()).done;){var _t752=_step410.value;var _iterator411=_createForOfIteratorHelper(_t752.querySelectorAll(".stop-grippie")),_step411;try{for(_iterator411.s();!(_step411=_iterator411.n()).done;){var _e548=_step411.value;this.ra.includes(_e548[Wd])?_e548.setAttribute("data-selected",""):_e548.removeAttribute("data-selected");}}catch(err){_iterator411.e(err);}finally{_iterator411.f();}}}catch(err){_iterator410.e(err);}finally{_iterator410.f();}},Va:function Va(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator412=_createForOfIteratorHelper(this.ra),_step412;try{for(_iterator412.s();!(_step412=_iterator412.n()).done;){var _e549=_step412.value;var _iterator413=_createForOfIteratorHelper(t),_step413;try{for(_iterator413.s();!(_step413=_iterator413.n()).done;){var _i535=_step413.value;_i535[Wd]===_e549&&_i535.parentElement.append(_i535);}}catch(err){_iterator413.e(err);}finally{_iterator413.f();}}}catch(err){_iterator412.e(err);}finally{_iterator412.f();}},da:function da(t){0===t.length&&0===this.ra.length||(this.ra=_toConsumableArray(t),this.ja(),this.Va(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},ca:function ca(){var t=this.querySelector(".subhud:focus")[jd],e=zo(t);this.da(e);},pa:function pa(){var t=this.querySelector(".subhud:focus")[jd],e=zo(t);this.da(this.ra.filter(function(t){return!1===e.includes(t);}));},Ra:function Ra(){var _this268=this;var t=this.querySelector(".subhud:focus")[jd];if(t){var _e550=zo(t),_i536=_e550.filter(function(t){return _this268.ra.includes(t);}),s=_i536[_i536.length-1],_n212=_e550[0];if(s&&_e550.length>1){for(var _t753=s.nextElementSibling;_t753;_t753=_t753.nextElementSibling){if("stop"===_t753.localName){_n212=_t753;break;}}this.da([_n212]);}}},Ga:function Ga(){var _this269=this;var t=this.querySelector(".subhud:focus")[jd];if(t){var _e551=zo(t),_i537=_e551.filter(function(t){return _this269.ra.includes(t);}),s=_i537[_i537.length-1],_n213=_e551[_e551.length-1];if(s&&_e551.length>1){for(var _t754=s.previousElementSibling;_t754;_t754=_t754.previousElementSibling){if("stop"===_t754.localName){_n213=_t754;break;}}this.da([_n213]);}}},Ba:function Ba(){var _this270=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[jd],i=zo(e).filter(function(t){return _this270.ra.includes(t);});if(this.da([]),i.length>0){this.un.undoManager.checkpoint("Delete gradient stop(s)");var _iterator414=_createForOfIteratorHelper(i),_step414;try{for(_iterator414.s();!(_step414=_iterator414.n()).done;){var _t755=_step414.value;_t755.remove();}}catch(err){_iterator414.e(err);}finally{_iterator414.f();}}},Fa:function Fa(){var _this271=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.un,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[jd],l=zo(o).filter(function(t){return _this271.ra.includes(t);}),a=this.Ia(),h=Yt(this),r=this.un.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(h),u=c.matrixTransform(h),x=t/new Q(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator415=_createForOfIteratorHelper(l),_step415;try{for(_iterator415.s();!(_step415=_iterator415.n()).done;){var _t756=_step415.value;var _a$get=a.get(_t756),_i538=_a$get.minOffset,_s288=_a$get.maxOffset;if("left"===e){var _e552=tt(_t756.offset.baseVal-x,_i538,_s288,r);_t756.setAttribute("offset",_e552);}else if("right"===e){var _e553=tt(_t756.offset.baseVal+x,_i538,_s288,r);_t756.setAttribute("offset",_e553);}}}catch(err){_iterator415.e(err);}finally{_iterator415.f();}},Ua:function Ua(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[jd],s=zo(i),n=this.ra.find(function(t){return s.includes(t);});if(null===n)return;var o=this.Ia(),_o$get=o.get(n),l=_o$get.minOffset,a=_o$get.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<a:void 0;},Ha:function Ha(t){for(var _e554=t;_e554;_e554=_e554.previousElementSibling){if("stop"===_e554.localName&&!1===this.ra.includes(_e554))return _e554;}return null;},Wa:function Wa(t){for(var _e555=t;_e555;_e555=_e555.nextElementSibling){if("stop"===_e555.localName&&!1===this.ra.includes(_e555))return _e555;}return null;},Ia:function Ia(){var t=new Map(),e=[];var _iterator416=_createForOfIteratorHelper(this.ra),_step416;try{for(_iterator416.s();!(_step416=_iterator416.n()).done;){var _t758=_step416.value;var _i540=this.Ha(_t758),_s289=this.Wa(_t758),_n214={};_n214.min=_i540?_t758.offset.baseVal-_i540.offset.baseVal:_t758.offset.baseVal,_n214.max=_s289?_s289.offset.baseVal-_t758.offset.baseVal:1-_t758.offset.baseVal,e.push(_n214);}}catch(err){_iterator416.e(err);}finally{_iterator416.f();}if(e.length>0){var _i539=e[0].min,s=e[0].max;var _iterator417=_createForOfIteratorHelper(e),_step417;try{for(_iterator417.s();!(_step417=_iterator417.n()).done;){var _t757=_step417.value;_t757.min<_i539&&(_i539=_t757.min),_t757.max<s&&(s=_t757.max);}}catch(err){_iterator417.e(err);}finally{_iterator417.f();}var _iterator418=_createForOfIteratorHelper(this.ra),_step418;try{for(_iterator418.s();!(_step418=_iterator418.n()).done;){var _e556=_step418.value;t.set(_e556,{initialOffset:_e556.offset.baseVal,minOffset:_e556.offset.baseVal-_i539,maxOffset:_e556.offset.baseVal+s});}}catch(err){_iterator418.e(err);}finally{_iterator418.f();}}return t;},Na:function Na(){var _this272=this;var t=function t(e){var i=[],s=_this272.un.selectedTextRange;var _iterator419=_createForOfIteratorHelper(e),_step419;try{for(_iterator419.s();!(_step419=_iterator419.n()).done;){var _n215=_step419.value;var _e557=_n215.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e557))i.push(_n215);else if(["a","g"].includes(_e557))i.push.apply(i,_toConsumableArray(t(_n215.children)));else if("text"===_e557){var _t759=wi(_n215);if(s&&s.intersectsNode(_n215)){"backward"===s.direction&&_t759.reverse();var _iterator420=_createForOfIteratorHelper(_t759),_step420;try{for(_iterator420.s();!(_step420=_iterator420.n()).done;){var _e558=_step420.value;if(s.intersectsNode(_e558)){var _t760=_e558.closest("text, textPath, tspan, a");_t760&&!i.includes(_t760)&&i.push(_t760);}}}catch(err){_iterator420.e(err);}finally{_iterator420.f();}}else{var _iterator421=_createForOfIteratorHelper(_t759),_step421;try{for(_iterator421.s();!(_step421=_iterator421.n()).done;){var _e559=_step421.value;var _t761=_e559.closest("text, textPath, tspan, a");_t761&&!i.includes(_t761)&&i.push(_t761);}}catch(err){_iterator421.e(err);}finally{_iterator421.f();}}}}}catch(err){_iterator419.e(err);}finally{_iterator419.f();}return i;};return t(this.un.outermostSelectedElements).filter(function(t){return"linearGradient"===Qo(t,_this272.context);});}};var qd=Symbol(),Xd=Symbol(),Zd=Symbol(),Kd=Symbol();var Qd={id:"radial-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.ha());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[Kd];});return this.ra.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.da(t);},createdCallback:function createdCallback(){var _this273=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this273.ca();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this273.pa();}}},this.ra=[],this.nl=null,this.ua=null,this.ha=ts(this.xa,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #radial-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #radial-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #radial-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #radial-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n\n    #radial-gradient-hud .r2-outline {\n      fill: none;\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      stroke-dasharray: 5, 5;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n      pointer-events: none;\n    }\n\n    #radial-gradient-hud .r2-grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator422=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step422;try{for(_iterator422.s();!(_step422=_iterator422.n()).done;){var _t762=_step422.value;this["#"+_t762.getAttribute("uid")]=_t762;}}catch(err){_iterator422.e(err);}finally{_iterator422.f();}this.addEventListener("keydown",function(t){return _this273.Tn(t);}),this.addEventListener("pointerdown",function(t){return _this273.Oo(t);}),this.addEventListener("pointerup",function(t){return _this273.ba(t);}),this.addEventListener("dblclick",function(t){return _this273.ma(t);});},enabledCallback:function enabledCallback(){var _this274=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this274.hl();}),this.un.addEventListener("selectedtextrangechange",this.ga=function(){_this274.fa();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this274.pl(t.detail);}),this.un.addEventListener("zoomchange",this.hn=function(){_this274.cl();}),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this274.gn(t);}),this.un.huds.addEventListener("pointerdown",this.ao=function(t){_this274.va(t);}),this.un.undoManager.addEventListener("undo",this.ya=function(){_this274.ka();}),this.un.undoManager.addEventListener("redo",this.Sa=function(){_this274.ka();}),this.hl();},disabledCallback:function disabledCallback(){this.da([]),this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("selectedtextrangechange",this.ga),this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("zoomchange",this.hn),this.un.workspaces.removeEventListener("pointerdown",this.Kn),this.un.huds.removeEventListener("pointerdown",this.ao),this.un.undoManager.removeEventListener("undo",this.ya),this.un.undoManager.removeEventListener("redo",this.Sa);},hl:function hl(){this.ha();},fa:function fa(){this.ha();},pl:function pl(t){if(this.nl)this.Ca(this.nl.closest(".subhud"));else if(this.ua)this.Ca(this.ua.parentElement);else{var _iterator423=_createForOfIteratorHelper(t),_step423;try{for(_iterator423.s();!(_step423=_iterator423.n()).done;){var _e560=_step423.value;"style"===_e560.attributeName&&"stop"===_e560.target.localName?this._a():this.ha();}}catch(err){_iterator423.e(err);}finally{_iterator423.f();}}},cl:function cl(){this.bl();},ka:function ka(){this.da([]);},gn:function gn(t){1===t.buttons&&this.da([]);},va:function va(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.da([]);},Oo:function Oo(t){var _this275=this;if(1!==t.buttons)return;var e,_i541;t.target.classList.contains("slider")?this.Ma(t):t.target.classList.contains("stop-grippie")?this.Pa(t):t.target.classList.contains("r2-grippie")&&this.Ya(t,"r2"),this.Da=!1,this.za=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this275.Da=!0;}),window.addEventListener("pointerup",_i541=function i(){window.removeEventListener("pointerup",_i541),window.removeEventListener("pointermove",e);});},ba:function ba(t){t.target.classList.contains("stop-grippie")&&this.Oa(t);},ma:function ma(t){t.timeStamp-this.za<300&&t.target.classList.contains("slider")&&this.Ea(t);},Pa:function Pa(t){var _this276=this;var e=t.target[Kd],i=e.closest("linearGradient, radialGradient"),s=zo(i),n=s.filter(function(t){return _this276.ra.includes(t);}),o=s[0],l=s[s.length-1],_this$Js$modKeys6=this.Js.modKeys,a=_this$Js$modKeys6.alt,h=_this$Js$modKeys6.shift;this.Ta=_toConsumableArray(n),!1===h?!1===n.includes(e)&&this.da([e]):!0===h&&!1===n.includes(e)&&(n.push(e),this.da(n)),e===o&&0===e.offset.baseVal&&!1===a?this.qa(t):e===l&&1===e.offset.baseVal&&!1===a?this.Ya(t,"r1"):this.$a(t);},Oa:function Oa(t){if(this.Da)return;var e=t.target,i=this.Ta,s=e[Kd],n=e.closest(".subhud")[Xd],o=this.Js.modKeys.shift,l=[];var _iterator424=_createForOfIteratorHelper(this.un.selectedElements),_step424;try{for(_iterator424.s();!(_step424=_iterator424.n()).done;){var _t764=_step424.value;if("g"!==_t764.localName&&"a"!==_t764.localName||!_t764.contains(n))l.push(_t764);else{var _iterator425=_createForOfIteratorHelper(Ui(_toConsumableArray(_t764.children))),_step425;try{for(_iterator425.s();!(_step425=_iterator425.n()).done;){var _e561=_step425.value;l.unshift(_e561);}}catch(err){_iterator425.e(err);}finally{_iterator425.f();}}}}catch(err){_iterator424.e(err);}finally{_iterator424.f();}this.un.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.un.selectedElements=l;for(var _t763=n.parentElement;_t763!==this.un.currentWorkspace;_t763=_t763.parentElement){if("g"===_t763.localName||"a"===_t763.localName){this.un.currentContainer=_t763;break;}}!0===o&&!0===this.Ta.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.da(i));},$a:function $a(t){var _this277=this;var e,_i544,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.un.geometryPrecision,l=this.Ia(),a=Yt(this),h=a.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(a),_Ae37=Ae(c,p,u,!1),_Ae38=_slicedToArray(_Ae37,1),b=_Ae38[0],m=Ee(c,b)/Ee(c,p),g=!1;this.nl=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e563){{var _i542=new DOMPoint(_e563.clientX,_e563.clientY),_s290=_e563.timeStamp-t.timeStamp;if(!0===De(d,_i542,0))return;if(d=_i542,Ee(r,_i542)<3&&_s290<80)return;}!1===g&&(_this277.un.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e563.clientX-t.clientX,x.y+_e563.clientY-t.clientY).matrixTransform(h),_Ae39=Ae(c,p,i,!1),_Ae40=_slicedToArray(_Ae39,1),s=_Ae40[0],n=Ee(c,s)/Ee(c,p)-m;var _iterator426=_createForOfIteratorHelper(_this277.ra),_step426;try{for(_iterator426.s();!(_step426=_iterator426.n()).done;){var _t765=_step426.value;var _l$get2=l.get(_t765),_e562=_l$get2.minOffset,_i543=_l$get2.maxOffset,_s291=_l$get2.initialOffset;_s291+n<_e562?_t765.setAttribute("offset",_e562):_s291+n>_i543?_t765.setAttribute("offset",_i543):_t765.setAttribute("offset",_s291+n);}}catch(err){_iterator426.e(err);}finally{_iterator426.f();}}),s.addEventListener("pointerup",_i544=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i544);var _iterator427=_createForOfIteratorHelper(_this277.ra),_step427;try{for(_iterator427.s();!(_step427=_iterator427.n()).done;){var _t766=_step427.value;_t766.setAttribute("offset",J(_t766.offset.baseVal,o));}}catch(err){_iterator427.e(err);}finally{_iterator427.f();}_this277.nl=null;});},Ya:function Ya(t){var _this278=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"r1";var i,_s295,n,o,l,a,h,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[qd],u=Do(p),x=c[Xd],b=Oi(x),m=Yt(x),g=m.inverse(),f=u.gradientTransform,w=this.un.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,_Vl16=Vl(m),k=_Vl16.scaleX,S=_Vl16.scaleY,C=!1,_=!1;d.matches(".grippie")?this.nl=d:d.matches(".slider")&&(this.ua=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i549){if(!1===C){{var _e564=new DOMPoint(_i549.clientX,_i549.clientY),_s292=_i549.timeStamp-t.timeStamp;if(!0===De(y,_e564,0))return;if(y=_e564,Ee(v,_e564)<3&&_s292<80)return;}if(_this278.un.undoManager.checkpoint("Transform gradient"),Po(p)){var _t767=$i("svg:radialGradient");_t767.setAttribute("id",_this278.un.generateUniqueID(p.id+"-")),_t767.setAttribute("href","#"+p.id),_this278.un.maybeCreateDefsForMasterWorkspace(),_this278.un.defs.append(_t767),p=_t767,c[qd]=_t767,x.style[_this278.context]="url(#"+_t767.id+")";}C=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){n=new DOMPoint(u.cx.value,u.cy.value),o=new DOMPoint(u.cx.value+u.r.value,u.cy.value),l=new DOMPoint(u.cx.value,u.cy.value-u.r.value);var _t768=n.matrixTransform(f),_e565=o.matrixTransform(f),_i545=l.matrixTransform(f);a=_t768.matrixTransform(m),h=_e565.matrixTransform(m),r=_i545.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t769=u.cx.valueInSpecifiedUnits,_e566=u.cy.valueInSpecifiedUnits,_i546=u.r.valueInSpecifiedUnits;u.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t769/=100),u.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e566/=100),u.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i546/=100),n=new DOMPoint(_t769,_e566),o=new DOMPoint(_t769-_i546,_e566),l=new DOMPoint(_t769,_e566-_i546);var _s293=n.matrixTransform(f),_d50=o.matrixTransform(f),_c38=l.matrixTransform(f),_p35=re(_s293,b),_x104=re(_d50,b),_g26=re(_c38,b);a=_p35.matrixTransform(m),h=_x104.matrixTransform(m),r=_g26.matrixTransform(m);}}();}var s,d,_this278$Js$modKeys=_this278.Js.modKeys,M=_this278$Js$modKeys.ctrl,P=_this278$Js$modKeys.shift;"r1"===e?(s=new DOMPoint(_i549.clientX+(h.x-t.clientX),_i549.clientY+(h.y-t.clientY)),d=Re(a,h,s)):"r2"===e&&(s=new DOMPoint(_i549.clientX+(r.x-t.clientX),_i549.clientY+(r.y-t.clientY)),d=Re(a,r,s));var D=new DOMMatrix();D.translateSelf(a.x,a.y),D.rotateSelf(d),D.translateSelf(-a.x,-a.y);var z,O,E,T=a.matrixTransform(D),A=h.matrixTransform(D),$=r.matrixTransform(D),I=new Q(T,A),L=new Q(T,$),B=new Q(T,s);if("r1"===e){if(I.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,M){var _t770=new Q(T,r);L.length=B.length,_t770.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,r.x=T.x+_t770.x,r.y=T.y+_t770.y;}if(P){var _Le3=Le(T,A,22.5),_Le4=_slicedToArray(_Le3,2),_t771=_Le4[0],_e567=_Le4[1];A=_t771,_=!0;}if(_){var _t772=new DOMPoint(a.x,a.y-100),_e568=Re(a,_t772,A);$=Be(T,$,k<0&&S<0?_e568+90:_e568-90);}}else if("r2"===e){if(L.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,M){var _t773=new Q(T,h);I.length=B.length,_t773.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,h.x=T.x+_t773.x,h.y=T.y+_t773.y;}if(P){var _Le5=Le(T,$,22.5),_Le6=_slicedToArray(_Le5,2),_t774=_Le6[0],_e569=_Le6[1];$=_t774,_=!0;}if(_){var _t775=new DOMPoint(a.x,a.y-100),_e570=Re(a,_t775,$);A=Be(T,A,k<0&&S<0?_e570-90:_e570+90);}}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t776=T.matrixTransform(g),_e571=A.matrixTransform(g),_i547=$.matrixTransform(g);z=_t776.matrixTransform(f.inverse()),O=_e571.matrixTransform(f.inverse()),E=_i547.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t777=T.matrixTransform(g),_e572=A.matrixTransform(g),_i548=$.matrixTransform(g),_s294=de(_t777,b),_n216=de(_e572,b),_o181=de(_i548,b);z=_s294.matrixTransform(f.inverse()),O=_n216.matrixTransform(f.inverse()),E=_o181.matrixTransform(f.inverse());}var R=qt(n,o,l,z,O,E),G=Ft(f.multiply(R),w);p.setAttribute("gradientTransform",G.toString());}),d.addEventListener("pointerup",_s295=function s(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",_s295),_this278.nl=null,_this278.ua=null;});},Ma:function Ma(t){var e=t.target,i=Yt(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value).matrixTransform(i);Ee(n,s)<=5?this.Ya(t,"r1"):this.qa(t);},qa:function qa(t){var _this279=this;var e,_i552,s,n=t.target,o=t.target.closest(".subhud"),l=o[Xd],a=o[qd],h=Do(a),r=Oi(l),d=Yt(l),c=d.inverse(),p=this.un.geometryPrecision,u=new DOMPoint(t.clientX,t.clientY),x=u,b=!1;if(n.matches(".grippie")?this.nl=n:n.matches(".slider")&&(this.ua=n),n.setPointerCapture(t.pointerId),h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t778=new DOMPoint(h.cx.value,h.cy.value).matrixTransform(h.gradientTransform);s=_t778.matrixTransform(d);}else if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t779=h.cx.valueInSpecifiedUnits,_e573=h.cy.valueInSpecifiedUnits;h.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t779/=100),h.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e573/=100);var _i550=new DOMPoint(_t779,_e573).matrixTransform(h.gradientTransform),_n217=re(_i550,r);s=_n217.matrixTransform(d);}n.addEventListener("pointermove",e=function e(_e574){var i,n=new DOMPoint(_e574.clientX,_e574.clientY),d=new Q(u,n);if(!1===b){{var _i551=_e574.timeStamp-t.timeStamp;if(!0===De(x,n,0))return;if(x=n,Ee(u,n)<3&&_i551<80)return;}if(b=!0,_this279.un.undoManager.checkpoint("Transform gradient"),_this279.un.snapManager.snapStart(!1),Po(a)){var _t780=$i("svg:radialGradient");_t780.setAttribute("id",_this279.un.generateUniqueID(a.id+"-")),_t780.setAttribute("href","#"+a.id),_this279.un.maybeCreateDefsForMasterWorkspace(),_this279.un.defs.append(_t780),a=_t780,o[qd]=_t780,l.style[_this279.context]="url(#"+_t780.id+")";}}if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t781=new DOMPoint(s.x+d.x,s.y+d.y);_t781=_this279.un.snapManager.snapPoint(_t781),i=_t781.matrixTransform(c).matrixTransform(h.gradientTransform.inverse());}else if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t782=new DOMPoint(s.x+d.x,s.y+d.y).matrixTransform(c);i=de(_t782,r).matrixTransform(h.gradientTransform.inverse());}a.setAttribute("cx",J(i.x,p)),a.setAttribute("cy",J(i.y,p));}),n.addEventListener("pointerup",_i552=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("pointerup",_i552),_this279.nl=null,_this279.ua=null,_this279.un.snapManager.snapEnd();});},Ea:function Ea(t){this.un.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[qd],s=Co(i),n=Yt(this).inverse(),o=zo(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),a=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=Ee(l,h),d=Ee(l,a),c=tt(r/d,0,1,this.un.geometryPrecision),p=null;for(var _t783=0;_t783<o.length;_t783+=1){var _e575=o[_t783];if(_e575.offset.baseVal<c)p=_t783;else if(_e575.offset.baseVal>c)break;}var u=$i("svg:stop");if(u.setAttribute("offset",c),u.style.stopColor=Eo(i,c),null===p){var _t784=o[0];_t784?_t784.before(u):s.append(u);}else o[p].after(u);this.da([u]);},Tn:function Tn(t){var e=Ja.fromEvent(t);0!==this.ra.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.Ba()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.Ra()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.Ga()):e.matches("ArrowLeft")?(t.stopPropagation(),this.Ua("left")&&this.Fa(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.Ua("right")&&this.Fa(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.Ua("left")&&this.Fa(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.Ua("right")&&this.Fa(10,"right")));},xa:function xa(){var t=this.Xa();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e576=this.querySelector(".subhud:focus"),_i553=[];this["#subhuds"].innerHTML="";var _iterator428=_createForOfIteratorHelper(t),_step428;try{for(_iterator428.s();!(_step428=_iterator428.n()).done;){var _e577=_step428.value;var _t786=Jo(_e577,this.context);if(_i553.includes(_t786))continue;_i553.push(_t786);var s=zo(_t786),_n218=this["#subhud-template"].cloneNode(!0);_n218.removeAttribute("uid"),_n218[qd]=_t786,_n218[Xd]=_e577,_n218[Zd]=s;var _o182=_n218.querySelector(".stop-grippies"),_l168=document.createDocumentFragment();var _iterator429=_createForOfIteratorHelper(s),_step429;try{for(_iterator429.s();!(_step429=_iterator429.n()).done;){var _t787=_step429.value;var _e578=$i("svg:circle");_e578.setAttribute("class","stop-grippie grippie"),_e578[Kd]=_t787,_t787.offset.baseVal>.95?_l168.prepend(_e578):_o182.append(_e578);}}catch(err){_iterator429.e(err);}finally{_iterator429.f();}_o182.append(_l168),this["#subhuds"].append(_n218);}}catch(err){_iterator428.e(err);}finally{_iterator428.f();}if(_e576){var _t785=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[qd]===_e576[qd];});_t785&&_t785.focus();}this.Ca(),this.bl(),this._a(),this.ja(),this.Va();}},Ca:function Ca(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator430=_createForOfIteratorHelper(this["#subhuds"].children),_step430;try{for(_iterator430.s();!(_step430=_iterator430.n()).done;){var _e579=_step430.value;if(t&&_e579!==t)continue;var _i554=_e579[qd],s=_e579[Xd],_n219=_e579[Zd],_o183=Do(_i554),_l169=Wt(s,this),_a122=_e579.querySelector(".slider"),_h107=_e579.querySelector(".slider-shadow"),_r65=_toConsumableArray(_e579.querySelector(".stop-grippies").children),_d51=_e579.querySelector(".r2-grippie"),_c39=_e579.querySelector(".r2-outline");if(_o183.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t788=new DOMPoint(_i554.cx.baseVal.value,_i554.cy.baseVal.value),_e580=new DOMPoint(_i554.cx.baseVal.value+_i554.r.baseVal.value,_i554.cy.baseVal.value),_s296=new DOMPoint(_i554.cx.baseVal.value,_i554.cy.baseVal.value-_i554.r.baseVal.value),_p36=_t788.matrixTransform(_o183.gradientTransform),_u32=_e580.matrixTransform(_o183.gradientTransform),_x105=_s296.matrixTransform(_o183.gradientTransform),_b31=_p36.matrixTransform(_l169),_m30=_u32.matrixTransform(_l169),_g27=_x105.matrixTransform(_l169);_a122.setAttribute("x1",_b31.x),_a122.setAttribute("y1",_b31.y),_a122.setAttribute("x2",_m30.x),_a122.setAttribute("y2",_m30.y),_h107.setAttribute("x1",_b31.x),_h107.setAttribute("y1",_b31.y),_h107.setAttribute("x2",_m30.x),_h107.setAttribute("y2",_m30.y),_c39.setAttribute("x1",_b31.x),_c39.setAttribute("y1",_b31.y),_c39.setAttribute("x2",_g27.x),_c39.setAttribute("y2",_g27.y),_d51.setAttribute("cx",_g27.x),_d51.setAttribute("cy",_g27.y);var _iterator431=_createForOfIteratorHelper(_n219),_step431;try{var _loop8=function _loop8(){var t=_step431.value;var e=_r65.find(function(e){return e[Kd]===t;}),i=$e(_b31,_m30,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator431.s();!(_step431=_iterator431.n()).done;){_loop8();}}catch(err){_iterator431.e(err);}finally{_iterator431.f();}}else if(_o183.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t789=Oi(s),_e581=_o183.cx.valueInSpecifiedUnits,_i555=_o183.cy.valueInSpecifiedUnits,_p37=_o183.r.valueInSpecifiedUnits;_o183.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e581/=100),_o183.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i555/=100),_o183.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p37/=100);var _u33=new DOMPoint(_e581,_i555),_x106=new DOMPoint(_e581-_p37,_i555),_b32=new DOMPoint(_e581,_i555-_p37),_m31=_u33.matrixTransform(_o183.gradientTransform),_g28=_x106.matrixTransform(_o183.gradientTransform),_f19=_b32.matrixTransform(_o183.gradientTransform),_w17=re(_m31,_t789),_v13=re(_g28,_t789),_y4=re(_f19,_t789),_k3=_w17.matrixTransform(_l169),_S3=_v13.matrixTransform(_l169),_C3=_y4.matrixTransform(_l169);_a122.setAttribute("x1",_k3.x),_a122.setAttribute("y1",_k3.y),_a122.setAttribute("x2",_S3.x),_a122.setAttribute("y2",_S3.y),_h107.setAttribute("x1",_k3.x),_h107.setAttribute("y1",_k3.y),_h107.setAttribute("x2",_S3.x),_h107.setAttribute("y2",_S3.y),_c39.setAttribute("x1",_k3.x),_c39.setAttribute("y1",_k3.y),_c39.setAttribute("x2",_C3.x),_c39.setAttribute("y2",_C3.y),_d51.setAttribute("cx",_C3.x),_d51.setAttribute("cy",_C3.y);var _iterator432=_createForOfIteratorHelper(_n219),_step432;try{var _loop9=function _loop9(){var t=_step432.value;var e=_r65.find(function(e){return e[Kd]===t;});if(e){var _i556=$e(_k3,_S3,t.offset.baseVal);e.cx.baseVal.value=_i556.x,e.cy.baseVal.value=_i556.y;}};for(_iterator432.s();!(_step432=_iterator432.n()).done;){_loop9();}}catch(err){_iterator432.e(err);}finally{_iterator432.f();}}}}catch(err){_iterator430.e(err);}finally{_iterator430.f();}},_a:function _a(){var _iterator433=_createForOfIteratorHelper(this["#subhuds"].children),_step433;try{for(_iterator433.s();!(_step433=_iterator433.n()).done;){var _t790=_step433.value;var _iterator434=_createForOfIteratorHelper(_t790.querySelectorAll(".stop-grippie")),_step434;try{for(_iterator434.s();!(_step434=_iterator434.n()).done;){var _e582=_step434.value;var _t791=_e582[Kd];_e582.style.fill=getComputedStyle(_t791).stopColor;}}catch(err){_iterator434.e(err);}finally{_iterator434.f();}}}catch(err){_iterator433.e(err);}finally{_iterator433.f();}},bl:function bl(){var _iterator435=_createForOfIteratorHelper(this.querySelectorAll(".grippie")),_step435;try{for(_iterator435.s();!(_step435=_iterator435.n()).done;){var _t792=_step435.value;_t792.setAttribute("r",6/this.un.scale);}}catch(err){_iterator435.e(err);}finally{_iterator435.f();}},ja:function ja(){var _iterator436=_createForOfIteratorHelper(this["#subhuds"].children),_step436;try{for(_iterator436.s();!(_step436=_iterator436.n()).done;){var _t793=_step436.value;var _iterator437=_createForOfIteratorHelper(_t793.querySelectorAll(".stop-grippie")),_step437;try{for(_iterator437.s();!(_step437=_iterator437.n()).done;){var _e583=_step437.value;this.ra.includes(_e583[Kd])?_e583.setAttribute("data-selected",""):_e583.removeAttribute("data-selected");}}catch(err){_iterator437.e(err);}finally{_iterator437.f();}}}catch(err){_iterator436.e(err);}finally{_iterator436.f();}},Va:function Va(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator438=_createForOfIteratorHelper(this.ra),_step438;try{for(_iterator438.s();!(_step438=_iterator438.n()).done;){var _e584=_step438.value;var _iterator439=_createForOfIteratorHelper(t),_step439;try{for(_iterator439.s();!(_step439=_iterator439.n()).done;){var _i557=_step439.value;_i557[Kd]===_e584&&_i557.parentElement.append(_i557);}}catch(err){_iterator439.e(err);}finally{_iterator439.f();}}}catch(err){_iterator438.e(err);}finally{_iterator438.f();}},da:function da(t){0===t.length&&0===this.ra.length||(this.ra=_toConsumableArray(t),this.ja(),this.Va(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},ca:function ca(){var t=this.querySelector(".subhud:focus")[qd],e=zo(t);this.da(e);},pa:function pa(){var t=this.querySelector(".subhud:focus")[qd],e=zo(t);this.da(this.ra.filter(function(t){return!1===e.includes(t);}));},Ra:function Ra(){var _this280=this;var t=this.querySelector(".subhud:focus")[qd];if(t){var _e585=zo(t),_i558=_e585.filter(function(t){return _this280.ra.includes(t);}),s=_i558[_i558.length-1],_n220=_e585[0];if(s&&_e585.length>1){for(var _t794=s.nextElementSibling;_t794;_t794=_t794.nextElementSibling){if("stop"===_t794.localName){_n220=_t794;break;}}this.da([_n220]);}}},Ga:function Ga(){var _this281=this;var t=this.querySelector(".subhud:focus")[qd];if(t){var _e586=zo(t),_i559=_e586.filter(function(t){return _this281.ra.includes(t);}),s=_i559[_i559.length-1],_n221=_e586[_e586.length-1];if(s&&_e586.length>1){for(var _t795=s.previousElementSibling;_t795;_t795=_t795.previousElementSibling){if("stop"===_t795.localName){_n221=_t795;break;}}this.da([_n221]);}}},Ba:function Ba(){var _this282=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[qd],i=zo(e).filter(function(t){return _this282.ra.includes(t);});if(this.da([]),i.length>0){this.un.undoManager.checkpoint("Delete gradient stop(s)");var _iterator440=_createForOfIteratorHelper(i),_step440;try{for(_iterator440.s();!(_step440=_iterator440.n()).done;){var _t796=_step440.value;_t796.remove();}}catch(err){_iterator440.e(err);}finally{_iterator440.f();}}},Fa:function Fa(){var _this283=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.un,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[qd],l=zo(o).filter(function(t){return _this283.ra.includes(t);}),a=this.Ia(),h=Yt(this),r=this.un.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(h),u=c.matrixTransform(h),x=t/new Q(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator441=_createForOfIteratorHelper(l),_step441;try{for(_iterator441.s();!(_step441=_iterator441.n()).done;){var _t797=_step441.value;var _a$get2=a.get(_t797),_i560=_a$get2.minOffset,_s297=_a$get2.maxOffset;if("left"===e){var _e587=tt(_t797.offset.baseVal-x,_i560,_s297,r);_t797.setAttribute("offset",_e587);}else if("right"===e){var _e588=tt(_t797.offset.baseVal+x,_i560,_s297,r);_t797.setAttribute("offset",_e588);}}}catch(err){_iterator441.e(err);}finally{_iterator441.f();}},Ua:function Ua(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[qd],s=zo(i),n=this.ra.find(function(t){return s.includes(t);});if(null===n)return;var o=this.Ia(),_o$get2=o.get(n),l=_o$get2.minOffset,a=_o$get2.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<a:void 0;},Ha:function Ha(t){for(var _e589=t;_e589;_e589=_e589.previousElementSibling){if("stop"===_e589.localName&&!1===this.ra.includes(_e589))return _e589;}return null;},Wa:function Wa(t){for(var _e590=t;_e590;_e590=_e590.nextElementSibling){if("stop"===_e590.localName&&!1===this.ra.includes(_e590))return _e590;}return null;},Ia:function Ia(){var t=new Map(),e=[];var _iterator442=_createForOfIteratorHelper(this.ra),_step442;try{for(_iterator442.s();!(_step442=_iterator442.n()).done;){var _t799=_step442.value;var _i562=this.Ha(_t799),_s298=this.Wa(_t799),_n222={};_n222.min=_i562?_t799.offset.baseVal-_i562.offset.baseVal:_t799.offset.baseVal,_n222.max=_s298?_s298.offset.baseVal-_t799.offset.baseVal:1-_t799.offset.baseVal,e.push(_n222);}}catch(err){_iterator442.e(err);}finally{_iterator442.f();}if(e.length>0){var _i561=e[0].min,s=e[0].max;var _iterator443=_createForOfIteratorHelper(e),_step443;try{for(_iterator443.s();!(_step443=_iterator443.n()).done;){var _t798=_step443.value;_t798.min<_i561&&(_i561=_t798.min),_t798.max<s&&(s=_t798.max);}}catch(err){_iterator443.e(err);}finally{_iterator443.f();}var _iterator444=_createForOfIteratorHelper(this.ra),_step444;try{for(_iterator444.s();!(_step444=_iterator444.n()).done;){var _e591=_step444.value;t.set(_e591,{initialOffset:_e591.offset.baseVal,minOffset:_e591.offset.baseVal-_i561,maxOffset:_e591.offset.baseVal+s});}}catch(err){_iterator444.e(err);}finally{_iterator444.f();}}return t;},Xa:function Xa(){var _this284=this;var t=function t(e){var i=[],s=_this284.un.selectedTextRange;var _iterator445=_createForOfIteratorHelper(e),_step445;try{for(_iterator445.s();!(_step445=_iterator445.n()).done;){var _n223=_step445.value;var _e592=_n223.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e592))i.push(_n223);else if(["a","g"].includes(_e592))i.push.apply(i,_toConsumableArray(t(_n223.children)));else if("text"===_e592){var _t800=wi(_n223);if(s&&s.intersectsNode(_n223)){"backward"===s.direction&&_t800.reverse();var _iterator446=_createForOfIteratorHelper(_t800),_step446;try{for(_iterator446.s();!(_step446=_iterator446.n()).done;){var _e593=_step446.value;if(s.intersectsNode(_e593)){var _t801=_e593.closest("text, textPath, tspan, a");_t801&&!i.includes(_t801)&&i.push(_t801);}}}catch(err){_iterator446.e(err);}finally{_iterator446.f();}}else{var _iterator447=_createForOfIteratorHelper(_t800),_step447;try{for(_iterator447.s();!(_step447=_iterator447.n()).done;){var _e594=_step447.value;var _t802=_e594.closest("text, textPath, tspan, a");_t802&&!i.includes(_t802)&&i.push(_t802);}}catch(err){_iterator447.e(err);}finally{_iterator447.f();}}}}}catch(err){_iterator445.e(err);}finally{_iterator445.f();}return i;};return t(this.un.outermostSelectedElements).filter(function(t){return"radialGradient"===Qo(t,_this284.context);});}};var Jd=6,tc=Symbol(),ec=Symbol();var ic={id:"pattern-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&this.Za();},createdCallback:function createdCallback(){var _this285=this;this.nl=null,this.Ka=null,this.Qa=ts(this.Xs,50,this),this.Za=ts(this.Xs,200,this),this.innerHTML='\n  <style>\n    #pattern-hud .outline {\n      fill: rgba(0, 0, 0, 0.07);\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #pattern-hud .grippie {\n      fill: #E40DD6;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator448=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step448;try{for(_iterator448.s();!(_step448=_iterator448.n()).done;){var _t803=_step448.value;this["#"+_t803.getAttribute("uid")]=_t803;}}catch(err){_iterator448.e(err);}finally{_iterator448.f();}this.addEventListener("pointerdown",function(t){return _this285.Oo(t);});},enabledCallback:function enabledCallback(){var _this286=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this286.hl();}),this.un.addEventListener("selectedtextrangechange",this.ga=function(){_this286.fa();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this286.pl(t.detail);}),this.un.addEventListener("zoomchange",this.hn=function(){_this286.cl();}),this.hl();},disabledCallback:function disabledCallback(){this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("selectedtextrangechange",this.ga),this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("zoomchange",this.hn);},hl:function hl(){this.Za();},fa:function fa(){this.Za();},cl:function cl(){this.Qa();},pl:function pl(t){this.nl?this.Ca(this.nl.parentElement):this.Ka?this.Ca(this.Ka.parentElement):this.Za();},Oo:function Oo(t){if(0!==t.button)return;var _e595;t.target.classList.contains("outline")?this.Ja(t):t.target.classList.contains("scale-grippie")?this.th(t):t.target.classList.contains("rotate-grippie")&&this.eh(t),window.addEventListener("pointerup",_e595=function e(){window.removeEventListener("pointerup",_e595);});},Ja:function Ja(t){var _this287=this;this.un.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[ec],n=i[tc];if(Xo(n).length>1&&"tspan"!==s.localName){var _t804=$i("svg:pattern");_t804.setAttribute("id",this.un.generateUniqueID(n.id+"-")),_t804.setAttribute("href","#"+n.id),this.un.maybeCreateDefsForMasterWorkspace(),this.un.defs.append(_t804),s.style.setProperty(this.context,"url(#".concat(_t804.id,")")),n=_t804,i[tc]=_t804;}var o,_l171,a,h,r,d=Yt(s),c=d.inverse(),p=Oi(s),u=qo(n);if(this.Ka=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value,u.y.value),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t805=u.x.valueInSpecifiedUnits,_e596=u.y.valueInSpecifiedUnits,_i563=u.width.valueInSpecifiedUnits,_s299=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t805/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e596/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i563/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s299/=100);var _n224=new DOMPoint(_t805,_e596),_o184=new DOMPoint(_t805+_i563,_e596),_l170=new DOMPoint(_t805+_i563,_e596+_s299);a=new DOMPoint(p.x+_n224.x*p.width,p.y+_n224.y*p.height),h=new DOMPoint(p.x+_o184.x*p.width,p.y+_o184.y*p.height),r=new DOMPoint(p.x+_l170.x*p.width,p.y+_l170.y*p.height);}var x=a.matrixTransform(u.patternTransform),b=h.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new Q(e.clientX-t.clientX,e.clientY-t.clientY),s=new DOMPoint(g.x+i.x,g.y+i.y),o=new DOMPoint(f.x+i.x,f.y+i.y),l=new DOMPoint(w.x+i.x,w.y+i.y),d=s.matrixTransform(c),p=o.matrixTransform(c),x=l.matrixTransform(c),b=d.matrixTransform(u.patternTransform.inverse()),m=p.matrixTransform(u.patternTransform.inverse()),v=x.matrixTransform(u.patternTransform.inverse()),y=qt(a,h,r,b,m,v),k=u.patternTransform.multiply(y);k=Ft(k,_this287.un.transformPrecision),n.setAttribute("patternTransform",k.toString());}),window.addEventListener("pointerup",_l171=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l171),_this287.Ka=null;});},eh:function eh(t){var _this288=this;this.un.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[tc],n=i[ec];if(Xo(s).length>1&&"tspan"!==n.localName){var _t806=$i("svg:pattern");_t806.setAttribute("id",this.un.generateUniqueID(s.id+"-")),_t806.setAttribute("href","#"+s.id),this.un.maybeCreateDefsForMasterWorkspace(),this.un.defs.append(_t806),n.style.setProperty(this.context,"url(#".concat(_t806.id,")")),s=_t806,i[tc]=_t806;}var o,_l173,a,h,r,d=Yt(n),c=d.inverse(),p=Oi(n),u=qo(s);if(this.nl=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value+u.width.value/2,u.y.value+u.height.value/2),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t807=u.x.valueInSpecifiedUnits,_e597=u.y.valueInSpecifiedUnits,_i564=u.width.valueInSpecifiedUnits,_s300=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t807/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e597/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i564/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s300/=100);var _n225=new DOMPoint(_t807+_i564/2,_e597+_s300/2),_o185=new DOMPoint(_t807+_i564,_e597),_l172=new DOMPoint(_t807+_i564,_e597+_s300);a=new DOMPoint(p.x+_n225.x*p.width,p.y+_n225.y*p.height),h=new DOMPoint(p.x+_o185.x*p.width,p.y+_o185.y*p.height),r=new DOMPoint(p.x+_l172.x*p.width,p.y+_l172.y*p.height);}var x=a.matrixTransform(u.patternTransform),b=h.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(e.clientX+(f.x-t.clientX),e.clientY+(f.y-t.clientY)),n=Re(g,f,i);_this288.Js.modKeys.shift&&(n=Ue(n,45));var o=new DOMMatrix();o.translateSelf(g.x,g.y),o.rotateSelf(n),o.translateSelf(-g.x,-g.y);var l=f.matrixTransform(o),d=w.matrixTransform(o),p=l.matrixTransform(c),x=d.matrixTransform(c),b=p.matrixTransform(u.patternTransform.inverse()),m=x.matrixTransform(u.patternTransform.inverse()),v=qt(a,h,r,a,b,m),y=u.patternTransform.multiply(v);y=Ft(y,_this288.un.transformPrecision),s.setAttribute("patternTransform",y.toString());}),window.addEventListener("pointerup",_l173=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l173),_this288.nl=null;});},th:function th(t){var _this289=this;this.un.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[tc],n=i[ec];if(Xo(s).length>1&&"tspan"!==n.localName){var _t808=$i("svg:pattern");_t808.setAttribute("id",this.un.generateUniqueID(s.id+"-")),_t808.setAttribute("href","#"+s.id),this.un.maybeCreateDefsForMasterWorkspace(),this.un.defs.append(_t808),n.style.setProperty(this.context,"url(#".concat(_t808.id,")")),s=_t808,i[tc]=_t808;}var o,_l175,a,h,r,d=Yt(n),c=d.inverse(),p=Oi(n),u=qo(s);if(this.nl=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value,u.y.value),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t809=u.x.valueInSpecifiedUnits,_e598=u.y.valueInSpecifiedUnits,_i565=u.width.valueInSpecifiedUnits,_s301=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t809/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e598/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i565/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s301/=100);var _n226=new DOMPoint(_t809,_e598),_o186=new DOMPoint(_t809+_i565,_e598),_l174=new DOMPoint(_t809+_i565,_e598+_s301);a=new DOMPoint(p.x+_n226.x*p.width,p.y+_n226.y*p.height),h=new DOMPoint(p.x+_o186.x*p.width,p.y+_o186.y*p.height),r=new DOMPoint(p.x+_l174.x*p.width,p.y+_l174.y*p.height);}var x=r.matrixTransform(u.patternTransform).matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(x.x+e.clientX-t.clientX,x.y+e.clientY-t.clientY).matrixTransform(c).matrixTransform(u.patternTransform.inverse()),n=new DOMPoint(i.x,h.y),o=qt(a,h,r,a,n,i),l=u.patternTransform.multiply(o);l=Ft(l,_this289.un.transformPrecision),s.setAttribute("patternTransform",l.toString());}),window.addEventListener("pointerup",_l175=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l175),_this289.nl=null;});},Xs:function Xs(){var t=this.ih();if(this["#subhuds"].innerHTML="",t.length>0){var _e599=Symbol();var _iterator449=_createForOfIteratorHelper(t),_step449;try{for(_iterator449.s();!(_step449=_iterator449.n()).done;){var _i566=_step449.value;var _t810=Jo(_i566,this.context);if(!_t810[_e599]){_t810[_e599]=!0;var s=this["#subhud-template"].cloneNode(!0);s.removeAttribute("id"),s[tc]=_t810,s[ec]=_i566,this["#subhuds"].append(s);}}}catch(err){_iterator449.e(err);}finally{_iterator449.f();}this.Ca();}},Ca:function Ca(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator450=_createForOfIteratorHelper(this["#subhuds"].children),_step450;try{for(_iterator450.s();!(_step450=_iterator450.n()).done;){var _e600=_step450.value;if(t&&_e600!==t)continue;var _i567=void 0,s=void 0,_n227=void 0,_o187=void 0,_l176=_e600[ec],_a123=_e600[tc],_h108=_e600.querySelector(".rotate-grippie"),_r66=_e600.querySelector(".scale-grippie"),_d52=_e600.querySelector(".outline"),_c40=Wt(_l176,this),_p38=Oi(_l176),_u34=qo(_a123);if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)_i567=new DOMPoint(_u34.x.value,_u34.y.value),s=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value),_n227=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value+_u34.height.value),_o187=new DOMPoint(_u34.x.value,_u34.y.value+_u34.height.value);else if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t811=_u34.x.valueInSpecifiedUnits,_e601=_u34.y.valueInSpecifiedUnits,_l177=_u34.width.valueInSpecifiedUnits,_a124=_u34.height.valueInSpecifiedUnits;_u34.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t811/=100),_u34.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e601/=100),_u34.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l177/=100),_u34.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a124/=100);var _h109=new DOMPoint(_t811,_e601),_r67=new DOMPoint(_t811+_l177,_e601),_d53=new DOMPoint(_t811+_l177,_e601+_a124),_c41=new DOMPoint(_t811,_e601+_a124);_i567=new DOMPoint(_p38.x+_h109.x*_p38.width,_p38.y+_h109.y*_p38.height),s=new DOMPoint(_p38.x+_r67.x*_p38.width,_p38.y+_r67.y*_p38.height),_n227=new DOMPoint(_p38.x+_d53.x*_p38.width,_p38.y+_d53.y*_p38.height),_o187=new DOMPoint(_p38.x+_c41.x*_p38.width,_p38.y+_c41.y*_p38.height);}var _x107=_i567.matrixTransform(_u34.patternTransform),_b33=s.matrixTransform(_u34.patternTransform),_m32=_n227.matrixTransform(_u34.patternTransform),_g29=_o187.matrixTransform(_u34.patternTransform),_f20=_x107.matrixTransform(_c40),_w18=_b33.matrixTransform(_c40),_v14=_m32.matrixTransform(_c40),_y5=_g29.matrixTransform(_c40);_d52.setAttribute("d","\n        M ".concat(_f20.x," ").concat(_f20.y,"\n        L ").concat(_w18.x," ").concat(_w18.y,"\n        L ").concat(_v14.x," ").concat(_v14.y,"\n        L ").concat(_y5.x," ").concat(_y5.y,"\n        Z\n      "));var _k4=Jd/this.un.scale;_h108.cx.baseVal.value=_w18.x,_h108.cy.baseVal.value=_w18.y,_h108.r.baseVal.value=_k4,_r66.width.baseVal.value=2*_k4,_r66.height.baseVal.value=2*_k4,_r66.x.baseVal.value=_v14.x-_r66.width.baseVal.value/2,_r66.y.baseVal.value=_v14.y-_r66.height.baseVal.value/2,_r66.hudPoint=_v14;}}catch(err){_iterator450.e(err);}finally{_iterator450.f();}},ih:function ih(){var _this290=this;var t=function t(e){var i=[],s=_this290.un.selectedTextRange;var _iterator451=_createForOfIteratorHelper(e),_step451;try{for(_iterator451.s();!(_step451=_iterator451.n()).done;){var _n228=_step451.value;var _e602=_n228.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e602))i.push(_n228);else if(["a","g"].includes(_e602))i.push.apply(i,_toConsumableArray(t(_n228.children)));else if("text"===_e602){var _t812=wi(_n228);if(s&&s.intersectsNode(_n228)){"backward"===s.direction&&_t812.reverse();var _iterator452=_createForOfIteratorHelper(_t812),_step452;try{for(_iterator452.s();!(_step452=_iterator452.n()).done;){var _e603=_step452.value;if(s.intersectsNode(_e603)){var _t813=_e603.closest("text, textPath, tspan, a");_t813&&!i.includes(_t813)&&i.push(_t813);}}}catch(err){_iterator452.e(err);}finally{_iterator452.f();}}else{var _iterator453=_createForOfIteratorHelper(_t812),_step453;try{for(_iterator453.s();!(_step453=_iterator453.n()).done;){var _e604=_step453.value;var _t814=_e604.closest("text, textPath, tspan, a");_t814&&!i.includes(_t814)&&i.push(_t814);}}catch(err){_iterator453.e(err);}finally{_iterator453.f();}}}}}catch(err){_iterator451.e(err);}finally{_iterator451.f();}return i;};return t(this.un.outermostSelectedElements).filter(function(t){return"pattern"===Qo(t,_this290.context);});}};var sc={id:"line-seg-hud",get x1(){return this["#outline"].x1.baseVal.value;},get y1(){return this["#outline"].y1.baseVal.value;},get x2(){return this["#outline"].x2.baseVal.value;},get y2(){return this["#outline"].y2.baseVal.value;},createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #line-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <line uid="outline" class="outline" x1="0" y1="0" x2="0" y2="0"></polyline>\n';var _iterator454=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step454;try{for(_iterator454.s();!(_step454=_iterator454.n()).done;){var _t815=_step454.value;this["#"+_t815.getAttribute("uid")]=_t815;}}catch(err){_iterator454.e(err);}finally{_iterator454.f();}},sh:function sh(t){var e=null,i=null;if("path"===t.localName&&(i=t.ownerSVGElement.querySelector("textPath[href=\"#".concat(CSS.escape(t.id),"\"]"))),i){var s,_n229=i.closest("text");s=t.closest("defs")?Wt(_n229,this.un.vectorCanvas):Wt(_n229.parentElement,this.un.vectorCanvas);var _o188=Ht(t);e=s.multiply(_o188);}else e=Wt(t,this);return e;},show:function show(t,e){var _this291=this;this.hasAttribute("drawing")&&this.hide(),this.setAttribute("drawing",""),this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.snapManager.snapStart(!0);var i=Yt(this.un.vectorCanvas).inverse(),s=e.matrixTransform(i),n=function n(){i=Yt(_this291.un.vectorCanvas).inverse();var _this291$Js$modKeys=_this291.Js.modKeys,n=_this291$Js$modKeys.ctrl,o=_this291$Js$modKeys.shift,l=Wt(t,_this291.un.vectorCanvas,!0),a=l.inverse(),h=s.matrixTransform(a),r=_this291.Js.pointerClientPoint;r=n&&o?_this291.un.snapManager.snapPointToAngleMultiple(e,r,15):_this291.un.snapManager.snapPoint(r);var d=r.matrixTransform(i).matrixTransform(a);_this291["#outline"].x1.baseVal.value=h.x,_this291["#outline"].y1.baseVal.value=h.y,_this291["#outline"].x2.baseVal.value=d.x,_this291["#outline"].y2.baseVal.value=d.y,_this291["#outline"].setAttribute("transform",l.toString());};window.addEventListener("pointermove",this.Ln=function(){n();}),window.addEventListener("pointerup",this.Bn=function(){n();}),this.Js.addEventListener("modkeyschange",this.nh=function(){n();}),this.un.addEventListener("zoomchange",this.hn=function(){n();}),n();},hide:function hide(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#outline"].x1.baseVal.value=0,this["#outline"].y1.baseVal.value=0,this["#outline"].x2.baseVal.value=0,this["#outline"].y2.baseVal.value=0,window.removeEventListener("pointermove",this.Ln),window.removeEventListener("pointerup",this.Bn),this.Js.removeEventListener("modkeyschange",this.nh),this.un.snapManager.snapEnd(),this.un.removeEventListener("zoomchange",this.hn));}};var nc={id:"quad-bezier-seg-hud",get x1(){return this.oh;},get y1(){return this.lh;},get x2(){return this.ah;},get y2(){return this.hh;},get cx(){return this.rh;},get cy(){return this.dh;},get curved(){return this.rh!==(this.oh+this.ah)/2||this.dh!==(this.lh+this.hh)/2;},createdCallback:function createdCallback(){this.oh=0,this.lh=0,this.ah=0,this.hh=0,this.rh=0,this.dh=0,this.innerHTML='\n  <style>\n    #quad-bezier-seg-hud [uid="control-line-1"],\n    #quad-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #quad-bezier-seg-hud [uid="control-point-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #quad-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="container">\n    <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n    <line uid="control-line-1"></line>\n    <line uid="control-line-2"></line>\n\n    <circle uid="control-point-grippie"></circle>\n  </g>\n';var _iterator455=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step455;try{for(_iterator455.s();!(_step455=_iterator455.n()).done;){var _t816=_step455.value;this["#"+_t816.getAttribute("uid")]=_t816;}}catch(err){_iterator455.e(err);}finally{_iterator455.f();}},show:function show(t,e){var _this292=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"end";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;this.hasAttribute("drawing")&&this.hide(),this.setAttribute("drawing",""),this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.snapManager.snapStart(!0);var n,o,l,a="none",h=function h(){o=Yt(t,!0),l=Wt(t,_this292.un.vectorCanvas,!0),n=o.inverse();};h();var r=!1,d=null,c=null,p=e.matrixTransform(n);null===s&&(s=[{type:"M",values:[p.x,p.y]}]);var u=s[0],x=u,b=null,m=!1,g=null,f=null,w=!1;"end"===i?(x=s[s.length-1],b="C"===x.type?new DOMPoint(x.values[2],x.values[3]):"M"===x.type||"L"===x.type?new DOMPoint(x.values[0],x.values[1]):null,m="C"===x.type&&(x.values[2]!==x.values[4]||x.values[3]!==x.values[5])):"start"===i&&(u=s[0],g=s[1],f="C"===g.type?new DOMPoint(g.values[0],g.values[1]):"M"===g.type||"L"===g.type?new DOMPoint(u.values[0],u.values[1]):null,w="C"===g.type&&g.values[0]!==u.values[0]&&g.values[1]!==u.values[1]);var v=function v(){var _this292$Js$modKeys=_this292.Js.modKeys,t=_this292$Js$modKeys.ctrl,e=_this292$Js$modKeys.alt,s=_this292$Js$modKeys.shift;a=t&&s?"paraxialPolygon":!t&&s?"polygon":"none","end"===i?m||"none"!==a||(a="polygon"):"start"===i&&(w||"none"!==a||(a="polygon"));},y=function y(){if(!1===r){if("end"===i){"L"===x.type||"M"===x.type?(_this292.oh=x.values[0],_this292.lh=x.values[1]):"C"===x.type&&(_this292.oh=x.values[4],_this292.lh=x.values[5]);var _t817=_this292.Js.pointerClientPoint.matrixTransform(n);_this292.ah=_t817.x,_this292.hh=_t817.y;}else if("start"===i){var _t818=_this292.Js.pointerClientPoint.matrixTransform(n);_this292.oh=_t818.x,_this292.lh=_t818.y,_this292.ah=u.values[0],_this292.hh=u.values[1];}if("none"===a){var _t819,_e605=new Q(new DOMPoint(_this292.oh,_this292.lh),new DOMPoint(_this292.ah,_this292.hh));"end"===i?_t819=new Q(new DOMPoint(_this292.oh,_this292.lh),b):"start"===i&&(_t819=new Q(new DOMPoint(_this292.ah,_this292.hh),f)),_t819=_t819.negate().scale(_e605.length/2),"end"===i?(_this292.rh=_this292.oh+_t819.x,_this292.dh=_this292.lh+_t819.y):"start"===i&&(_this292.rh=_this292.ah+_t819.x,_this292.dh=_this292.hh+_t819.y);}else if("polygon"===a){var _Te=Te(new DOMPoint(_this292.oh,_this292.lh),new DOMPoint(_this292.ah,_this292.hh)),_t820=_Te.x,_e606=_Te.y;_this292.rh=_t820,_this292.dh=_e606;}else if("paraxialPolygon"===a){var _t821=new DOMPoint(_this292.oh,_this292.lh).matrixTransform(o),_e607=new DOMPoint(_this292.ah,_this292.hh).matrixTransform(o),_s302=_this292.un.snapManager;if("end"===i){var _i568=_s302.snapPointToAngleMultiple(_t821,_e607,15).matrixTransform(n);_this292.ah=_i568.x,_this292.hh=_i568.y;}else if("start"===i){var _i569=_s302.snapPointToAngleMultiple(_e607,_t821,15).matrixTransform(n);_this292.oh=_i569.x,_this292.lh=_i569.y;}var _Te2=Te(new DOMPoint(_this292.oh,_this292.lh),new DOMPoint(_this292.ah,_this292.hh)),_l178=_Te2.x,_a125=_Te2.y;_this292.rh=_l178,_this292.dh=_a125;}}else if(!0===r){var _t822=_this292.Js.pointerClientPoint.matrixTransform(n),_e608=new Q(d,_t822).negate();if(_this292.rh=c.x+_e608.x,_this292.dh=c.y+_e608.y,"none"===a)if("end"===i){var _Ae41=Ae(b,new DOMPoint(_this292.oh,_this292.lh),new DOMPoint(_this292.rh,_this292.dh),!0),_Ae42=_slicedToArray(_Ae41,2),_t823=_Ae42[0],_e609=_Ae42[1];_e609<1?(_this292.rh=_this292.oh,_this292.dh=_this292.lh):(_this292.rh=_t823.x,_this292.dh=_t823.y);}else if("start"===i){var _Ae43=Ae(f,new DOMPoint(_this292.ah,_this292.hh),new DOMPoint(_this292.rh,_this292.dh),!0),_Ae44=_slicedToArray(_Ae43,2),_t824=_Ae44[0],_e610=_Ae44[1];_e610<1?(_this292.rh=_this292.ah,_this292.dh=_this292.hh):(_this292.rh=_t824.x,_this292.dh=_t824.y);}}},k=function k(){_this292["#container"].setAttribute("transform",l.toString()),_this292["#outline"].setPathData([{type:"M",values:[_this292.oh,_this292.lh]},{type:"Q",values:[_this292.rh,_this292.dh,_this292.ah,_this292.hh]}]),_this292["#control-point-grippie"].cx.baseVal.value=_this292.rh,_this292["#control-point-grippie"].cy.baseVal.value=_this292.dh,_this292["#control-point-grippie"].r.baseVal.value=3/_this292.un.scale,_this292["#control-line-1"].x1.baseVal.value=_this292.oh,_this292["#control-line-1"].y1.baseVal.value=_this292.lh,_this292["#control-line-1"].x2.baseVal.value=_this292.rh,_this292["#control-line-1"].y2.baseVal.value=_this292.dh,_this292["#control-line-2"].x1.baseVal.value=_this292.ah,_this292["#control-line-2"].y1.baseVal.value=_this292.hh,_this292["#control-line-2"].x2.baseVal.value=_this292.rh,_this292["#control-line-2"].y2.baseVal.value=_this292.dh;};this.un.workspaces.addEventListener("pointerdown",this.ph=function(t){r=!0,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),c=new DOMPoint(_this292.rh,_this292.dh);}),this.un.splineHud.addEventListener("pointerdown",this.uh=function(t){r=!0,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),c=new DOMPoint(_this292.rh,_this292.dh);}),window.addEventListener("pointermove",this.Ln=function(){y(),k();}),window.addEventListener("pointerup",this.Bn=function(){r=!1,y(),k();}),this.Js.addEventListener("modkeyschange",this.nh=function(){v(),y(),k();}),this.un.addEventListener("zoomchange",this.hn=function(){h(),y(),k();}),this.un.addEventListener("contextmenu",this.xn=function(t){t.preventDefault();}),h(),v(),y(),k();},hide:function hide(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this.un.snapManager.snapEnd(),this.un.workspaces.removeEventListener("pointerdown",this.ph),this.un.splineHud.removeEventListener("pointerdown",this.uh),window.removeEventListener("pointermove",this.Ln),window.removeEventListener("pointerup",this.Bn),this.Js.removeEventListener("modkeyschange",this.nh),this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("contextmenu",this.xn));}};var oc={id:"cubic-bezier-seg-hud",get x1(){return this.oh;},get y1(){return this.lh;},get x2(){return this.ah;},get y2(){return this.hh;},get cx1(){return this.xh;},get cy1(){return this.bh;},get cx2(){return this.mh;},get cy2(){return this.gh;},get curved(){return this.xh!==this.oh||this.bh!==this.lh||this.mh!==this.ah||this.gh!==this.hh;},createdCallback:function createdCallback(){this.oh=0,this.lh=0,this.ah=0,this.hh=0,this.xh=0,this.bh=0,this.mh=0,this.gh=0,this.innerHTML='\n  <style>\n    #cubic-bezier-seg-hud [uid="control-line-1"],\n    #cubic-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #cubic-bezier-seg-hud [uid="control-point-1-grippie"],\n    #cubic-bezier-seg-hud [uid="control-point-2-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #cubic-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="container">\n    <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n    <line uid="control-line-1"></line>\n    <line uid="control-line-2"></line>\n\n    <circle uid="control-point-1-grippie"></circle>\n    <circle uid="control-point-2-grippie"></circle>\n  </g>\n';var _iterator456=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step456;try{for(_iterator456.s();!(_step456=_iterator456.n()).done;){var _t825=_step456.value;this["#"+_t825.getAttribute("uid")]=_t825;}}catch(err){_iterator456.e(err);}finally{_iterator456.f();}},show:function show(t,e){var _this293=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"end";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;this.hasAttribute("drawing")&&this.hide(),this.setAttribute("drawing",""),this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.snapManager.snapStart(!0);var n,o,l,a="none",h=function h(){n=Yt(t,!0),l=Wt(t,_this293.un.vectorCanvas,!0),o=n.inverse();};h();var r=!1,d=null,c=null,p=null,u=e.matrixTransform(o);null===s&&(s=[{type:"M",values:[u.x,u.y]}]);var x=s[0],b=x,m=null,g=!1,f=null,w=null,v=!1;"end"===i?(b=s[s.length-1],m="C"===b.type?new DOMPoint(b.values[2],b.values[3]):"M"===b.type||"L"===b.type?new DOMPoint(b.values[0],b.values[1]):null,g="C"===b.type&&(b.values[2]!==b.values[4]||b.values[3]!==b.values[5])):"start"===i&&(x=s[0],f=s[1],w="C"===f.type?new DOMPoint(f.values[0],f.values[1]):"M"===f.type||"L"===f.type?new DOMPoint(x.values[0],x.values[1]):null,v="C"===f.type&&f.values[0]!==x.values[0]&&f.values[1]!==x.values[1]);var y=function y(){var _this293$Js$modKeys=_this293.Js.modKeys,t=_this293$Js$modKeys.ctrl,e=_this293$Js$modKeys.alt,s=_this293$Js$modKeys.shift;a=t&&s?"paraxialPolygon":!t&&s?"polygon":"none","end"===i?g||"none"!==a||(a="polygon"):"start"===i&&(v||"none"!==a||(a="polygon"));},k=function k(){if(!1===r){if("end"===i){"L"===b.type||"M"===b.type?(_this293.oh=b.values[0],_this293.lh=b.values[1]):"C"===b.type&&(_this293.oh=b.values[4],_this293.lh=b.values[5]);var _t826=_this293.Js.pointerClientPoint.matrixTransform(o);_this293.ah=_t826.x,_this293.hh=_t826.y;}else if("start"===i){var _t827=_this293.Js.pointerClientPoint.matrixTransform(o);_this293.oh=_t827.x,_this293.lh=_t827.y,_this293.ah=x.values[0],_this293.hh=x.values[1];}if("none"===a){var _t828;new Q(new DOMPoint(_this293.oh,_this293.lh),new DOMPoint(_this293.ah,_this293.hh));"end"===i?_t828=new Q(new DOMPoint(_this293.oh,_this293.lh),m):"start"===i&&(_t828=new Q(new DOMPoint(_this293.ah,_this293.hh),w)),_t828=_t828.negate(),"end"===i?(_this293.xh=_this293.oh+_t828.x,_this293.bh=_this293.lh+_t828.y,_this293.mh=_this293.ah,_this293.gh=_this293.hh):"start"===i&&(_this293.mh=_this293.ah+_t828.x,_this293.gh=_this293.hh+_t828.y,_this293.xh=_this293.oh,_this293.bh=_this293.lh);}else if("polygon"===a)_this293.xh=_this293.oh,_this293.bh=_this293.lh,_this293.mh=_this293.ah,_this293.gh=_this293.hh;else if("paraxialPolygon"===a){var _t829=new DOMPoint(_this293.oh,_this293.lh).matrixTransform(n),_e611=new DOMPoint(_this293.ah,_this293.hh).matrixTransform(n),_s303=_this293.un.snapManager;if("end"===i){var _i570=_s303.snapPointToAngleMultiple(_t829,_e611,15).matrixTransform(o);_this293.ah=_i570.x,_this293.hh=_i570.y;}else if("start"===i){var _i571=_s303.snapPointToAngleMultiple(_e611,_t829,15).matrixTransform(o);_this293.oh=_i571.x,_this293.lh=_i571.y;}_this293.xh=_this293.oh,_this293.bh=_this293.lh,_this293.mh=_this293.ah,_this293.gh=_this293.hh;}}else if(!0===r){var _t830=_this293.Js.pointerClientPoint.matrixTransform(o),_e612=new Q(d,_t830).negate();"end"===i?(_this293.mh=p.x+_e612.x,_this293.gh=p.y+_e612.y):"start"===i&&(_this293.xh=c.x+_e612.x,_this293.bh=c.y+_e612.y);}},S=function S(){_this293["#container"].setAttribute("transform",l.toString()),_this293["#outline"].setPathData([{type:"M",values:[_this293.oh,_this293.lh]},{type:"C",values:[_this293.xh,_this293.bh,_this293.mh,_this293.gh,_this293.ah,_this293.hh]}]),_this293["#control-point-1-grippie"].cx.baseVal.value=_this293.xh,_this293["#control-point-1-grippie"].cy.baseVal.value=_this293.bh,_this293["#control-point-1-grippie"].r.baseVal.value=3/_this293.un.scale,_this293["#control-point-2-grippie"].cx.baseVal.value=_this293.mh,_this293["#control-point-2-grippie"].cy.baseVal.value=_this293.gh,_this293["#control-point-2-grippie"].r.baseVal.value=3/_this293.un.scale,_this293["#control-line-1"].x1.baseVal.value=_this293.oh,_this293["#control-line-1"].y1.baseVal.value=_this293.lh,_this293["#control-line-1"].x2.baseVal.value=_this293.xh,_this293["#control-line-1"].y2.baseVal.value=_this293.bh,_this293["#control-line-2"].x1.baseVal.value=_this293.ah,_this293["#control-line-2"].y1.baseVal.value=_this293.hh,_this293["#control-line-2"].x2.baseVal.value=_this293.mh,_this293["#control-line-2"].y2.baseVal.value=_this293.gh;};this.un.workspaces.addEventListener("pointerdown",this.ph=function(t){r=!0,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),c=new DOMPoint(_this293.xh,_this293.bh),p=new DOMPoint(_this293.mh,_this293.gh);}),this.un.splineHud.addEventListener("pointerdown",this.uh=function(t){r=!0,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),c=new DOMPoint(_this293.xh,_this293.bh),p=new DOMPoint(_this293.mh,_this293.gh);}),window.addEventListener("pointermove",this.Ln=function(){k(),S();}),window.addEventListener("pointerup",this.Bn=function(){r=!1,k(),S();}),this.Js.addEventListener("modkeyschange",this.nh=function(){!1===r&&(y(),k(),S());}),this.un.addEventListener("zoomchange",this.hn=function(){h(),k(),S();}),this.un.addEventListener("contextmenu",this.xn=function(t){t.preventDefault();}),h(),y(),k(),S();},hide:function hide(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this.un.snapManager.snapEnd(),this.un.workspaces.removeEventListener("pointerdown",this.ph),this.un.splineHud.removeEventListener("pointerdown",this.uh),window.removeEventListener("pointermove",this.Ln),window.removeEventListener("pointerup",this.Bn),this.Js.removeEventListener("modkeyschange",this.nh),this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("contextmenu",this.xn));}};var lc=Math.abs,ac=Math.pow,hc=Number.isFinite;var rc={id:"arc-seg-hud",get x1(){return this.oh;},get y1(){return this.lh;},get x2(){return this.ah;},get y2(){return this.hh;},get r(){return this.fh;},get rotation(){return this.wh;},get largeArcFlag(){return this.yh;},get sweepFlag(){return this.kh;},createdCallback:function createdCallback(){this.oh=0,this.lh=0,this.ah=0,this.hh=0,this.fh=0,this.wh=0,this.yh=0,this.kh=0,this.innerHTML='\n  <style>\n    #arc-seg-hud [uid="circle-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.4;\n      pointer-events: none;\n    }\n\n    #arc-seg-hud [uid="arc-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <circle uid="circle-outline" r="0"></circle>\n  <path uid="arc-outline" d="M 0 0 A 0 0 0 0 0 0 0"></path>\n';var _iterator457=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step457;try{for(_iterator457.s();!(_step457=_iterator457.n()).done;){var _t831=_step457.value;this["#"+_t831.getAttribute("uid")]=_t831;}}catch(err){_iterator457.e(err);}finally{_iterator457.f();}},show:function show(t,e,i){var _this294=this;this.hasAttribute("drawing")&&this.hide(),this.setAttribute("drawing",""),this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.snapManager.snapStart(!0);var s=Yt(this.un.vectorCanvas).inverse(),n=e.matrixTransform(s),o=i.matrixTransform(s),l=function l(){s=Yt(_this294.un.vectorCanvas).inverse();var i=Wt(t,_this294.un.vectorCanvas,!0),l=i.inverse(),a=n.matrixTransform(l),h=o.matrixTransform(l);a=ze(a,6),h=ze(h,6),a.x===h.x&&a.y===h.y&&(h.x-=10);var _this294$Js$modKeys=_this294.Js.modKeys,r=_this294$Js$modKeys.ctrl,d=_this294$Js$modKeys.shift,c=_this294.Js.pointerClientPoint;if(d){var _t832;_t832=r?_this294.un.snapManager.snapPointToAngleMultiple(e,c,15):_this294.un.snapManager.snapPoint(c);var _n230=_t832.matrixTransform(s).matrixTransform(l);_this294.oh=a.x,_this294.lh=a.y,_this294.ah=_n230.x,_this294.hh=_n230.y,_this294.fh=0,_this294.wh=0,_this294.yh=0,_this294.kh=0,_this294["#circle-outline"].cx.baseVal.value=0,_this294["#circle-outline"].cy.baseVal.value=0,_this294["#circle-outline"].r.baseVal.value=0,_this294["#circle-outline"].setAttribute("transform",i.toString()),_this294["#arc-outline"].setPathData([{type:"M",values:[a.x,a.y]},{type:"A",values:[0,0,0,0,0,_n230.x,_n230.y]}]),_this294["#arc-outline"].setAttribute("transform",i.toString());}else{var _t833=_this294.un.snapManager.snapPoint(c).matrixTransform(s).matrixTransform(l);_t833=ze(_t833,6),a.x===_t833.x&&(_t833.x+=1e-9);var _e613=(a.x-h.x)*(ac(a.x-_t833.x,2)+(ac(_t833.y,2)-ac(a.y,2)))/((a.y-h.y)*(a.x-_t833.x)+(a.x-h.x)*(_t833.y-a.y))*.5+a.y*(a.y-h.y)*(a.x-_t833.x)/((a.y-h.y)*(a.x-_t833.x)+(a.x-h.x)*(_t833.y-a.y)),_n231=.5*((ac(a.y-_e613,2)-ac(_t833.y-_e613,2))/(a.x-_t833.x)+_t833.x+a.x);if(!hc(_n231)||!hc(_e613))return;var _o189,_r68,_d54=new DOMPoint(_n231,_e613),_p39=new Q(_d54,a).length,_u35=Ge(be(new Q(a,h).getOppositeVector(),new Q(a,_t833)));_this294.Js.modKeys.ctrl?(_o189=_u35>0?0:1,_r68=lc(_u35)<90?1:0):(_o189=_u35<0?0:1,_r68=lc(_u35)>90?1:0),_this294.oh=a.x,_this294.lh=a.y,_this294.ah=_t833.x,_this294.hh=_t833.y,_this294.fh=_p39,_this294.wh=0,_this294.yh=_r68,_this294.kh=_o189,_this294["#circle-outline"].cx.baseVal.value=_d54.x,_this294["#circle-outline"].cy.baseVal.value=_d54.y,_this294["#circle-outline"].r.baseVal.value=_p39,_this294["#circle-outline"].setAttribute("transform",i.toString()),_this294["#arc-outline"].setPathData([{type:"M",values:[a.x,a.y]},{type:"A",values:[_p39,_p39,0,_r68,_o189,_t833.x,_t833.y]}]),_this294["#arc-outline"].setAttribute("transform",i.toString());}};window.addEventListener("pointermove",this.Ln=function(t){l();}),this.Js.addEventListener("modkeyschange",this.nh=function(){l();}),this.un.addEventListener("zoomchange",this.hn=function(){l();}),l();},hide:function hide(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#circle-outline"].setAttribute("r","0"),this["#arc-outline"].setAttribute("d","M 0 0 A 0 0 0 0 0 0 0"),window.removeEventListener("pointermove",this.Ln),this.Js.removeEventListener("modkeyschange",this.nh),this.un.removeEventListener("zoomchange",this.hn),this.un.snapManager.snapEnd());}};var dc={id:"freehand-hud",get points(){return _toConsumableArray(this["#outline"].points).map(function(t){return DOMPoint.fromPoint(t);});},createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #freehand-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline"></polyline>\n';var _iterator458=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step458;try{for(_iterator458.s();!(_step458=_iterator458.n()).done;){var _t834=_step458.value;this["#"+_t834.getAttribute("uid")]=_t834;}}catch(err){_iterator458.e(err);}finally{_iterator458.f();}},show:function show(t,e){var _this295=this;this.hasAttribute("drawing")&&this.hide(),this.setAttribute("drawing",""),this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.snapManager.snapStart(!0);var i=Yt(t,!0).inverse(),s=Wt(t,this.un.vectorCanvas,!0),n=e.matrixTransform(i),o=!1;this["#outline"].setAttribute("points","".concat(n.x," ").concat(n.y)),this["#outline"].setAttribute("transform",s.toString()),window.addEventListener("pointermove",this.Ln=function(t){var _iterator459=_createForOfIteratorHelper(t.getCoalescedEvents()),_step459;try{for(_iterator459.s();!(_step459=_iterator459.n()).done;){var _s304=_step459.value;var _t835=new DOMPoint(_s304.clientX,_s304.clientY),_l179=_t835.matrixTransform(i);if(_this295.Js.modKeys.shift&&(o=!0),!1===o)_this295["#outline"].points.appendItem(Ie(_l179));else if(_this295.Js.modKeys.ctrl){var _s305=_this295.un.snapManager.snapPointToAngleMultiple(e,_t835,15).matrixTransform(i);_this295["#outline"].setAttribute("points",""),_this295["#outline"].points.appendItem(Ie(n)),_this295["#outline"].points.appendItem(Ie(_s305));}else _this295["#outline"].setAttribute("points",""),_this295["#outline"].points.appendItem(Ie(n)),_this295["#outline"].points.appendItem(Ie(_l179));}}catch(err){_iterator459.e(err);}finally{_iterator459.f();}});},hide:function hide(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#outline"].setAttribute("points",""),window.removeEventListener("pointermove",this.Ln),this.un.snapManager.snapEnd());},clear:function clear(){this["#outline"].setAttribute("points","");}};var cc=Number.parseFloat;var pc={id:"grid-hud",get selected(){return this.hasAttribute("selected");},set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("selectedchange"));},createdCallback:function createdCallback(){var _this296=this;this.tabIndex=-1,this.Sh=ts(this.Xs,500,this),this.Ch=ts(this.Xs,1e3,this),this._h=!1,this.Mh=!1,this.innerHTML='\n  <style>\n    /**\n     * Grid lines\n     */\n\n    #grid-hud .line {\n      fill: none;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 0.2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n\n    /**\n     * Grippies\n     */\n\n    #grid-hud .grippie {\n      stroke: green;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] .grippie {\n      fill: green;\n    }\n\n    /**\n     * Cell rect\n     */\n\n    #grid-hud [uid="cell-rect"] {\n      display: none;\n      fill: green;\n      fill-opacity: 0.05;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] [uid="cell-rect"] {\n      display: initial;\n    }\n  </style>\n\n  <g uid="main">\n    <g uid="lines">\n      <g uid="horizontal-lines" class="lines"></g>\n      <g uid="vertical-lines" class="lines"></g>\n    </g>\n\n    <rect uid="cell-rect"></rect>\n\n    <g uid="grippies">\n      <circle uid="origin-grippie" class="grippie" r="10" cx="0" cy="0"></circle>\n      <rect uid="resize-grippie" class="grippie" width="10" height="10" x="0" y="0"></rect>\n    </g>\n  </g>\n';var _iterator460=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step460;try{for(_iterator460.s();!(_step460=_iterator460.n()).done;){var _t836=_step460.value;this["#"+_t836.getAttribute("uid")]=_t836;}}catch(err){_iterator460.e(err);}finally{_iterator460.f();}this.addEventListener("pointerdown",function(t){return _this296.Oo(t);}),this.addEventListener("focus",function(){return _this296.Xs();}),this.addEventListener("blur",function(){return _this296.Xs();});},enabledCallback:function enabledCallback(){var _this297=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.tabIndex=0,this.Ch(),this.dispatchEvent(new CustomEvent("enabled")),this.un.addEventListener("workspacemutation",this.rn=function(t){if(_this297._h||_this297.Mh)_this297.Xs();else{var _iterator461=_createForOfIteratorHelper(t.detail),_step461;try{for(_iterator461.s();!(_step461=_iterator461.n()).done;){var _e614=_step461.value;"bx-grid"===_e614.target.localName&&_this297.Sh();}}catch(err){_iterator461.e(err);}finally{_iterator461.f();}}}),this.un.addEventListener("artworkchange",this.Ph=function(t){_this297.Ch();}),this.un.addEventListener("zoomchange",this.hn=function(){_this297.Sh(),_this297.Dh();}),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this297.gn(t);}),this.un.huds.addEventListener("pointerdown",this.ao=function(t){_this297.va(t);});},disabledCallback:function disabledCallback(){this.dispatchEvent(new CustomEvent("disabled")),this.tabIndex=-1,this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("artworkchange",this.Ph),this.un.removeEventListener("zoomchange",this.hn),this.un.workspaces.removeEventListener("pointerdown",this.Kn),this.un.huds.removeEventListener("pointerdown",this.ao);},gn:function gn(){this.selected=!1;},va:function va(t){t.target!==this&&!1===this.contains(t.target)&&(this.selected=!1);},Oo:function Oo(t){var _this298=this;var _e615,_i572,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),this.selected=!0,this.un.selectedElements=[],this.un.selectedTextRange=null,this.un.currentContainer=null,s.addEventListener("pointermove",_e615=function e(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=Ee(n,a)>3||h>80,d=!1===De(o,a,0);o=a,!0===r&&!0===d&&(s.removeEventListener("pointermove",_e615),s.removeEventListener("pointerup",_i572),s===_this298["#origin-grippie"]||s===_this298["#cell-rect"]?_this298.zh(t):s===_this298["#resize-grippie"]&&_this298.Oh(t));}),s.addEventListener("pointerup",_i572=function i(t){s.removeEventListener("pointermove",_e615),s.removeEventListener("pointerup",_i572);});},zh:function zh(t){var _this299=this;this.un.undoManager.checkpoint("Move grid");var e,_i573,s=this.un,n=s.maybeCreateGridForCurrentWorkspace(),o=Yt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=cc(n.getAttribute("x")),h=cc(n.getAttribute("y"));this.setPointerCapture(t.pointerId),this._h=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=a+(e.x-l.x),r=h+(e.y-l.y);i=J(i,s.geometryPrecision),r=J(r,s.geometryPrecision),n.setAttribute("x",i),n.setAttribute("y",r);}),this.addEventListener("pointerup",_i573=function i(t){_this299.removeEventListener("pointermove",e),_this299.removeEventListener("pointerup",_i573),_this299._h=!1;});},Oh:function Oh(t){var _this300=this;this.un.undoManager.checkpoint("Resize grid");var e,_i574,s=this.un,n=s.maybeCreateGridForCurrentWorkspace(),o=Yt(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=n?cc(n.getAttribute("width")):100,h=n?cc(n.getAttribute("height")):100,r=8/s.scale;this.setPointerCapture(t.pointerId),this.Mh=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=a+(e.x-l.x),d=h+(e.y-l.y);i<r&&(i=r),d<r&&(d=r),t.shiftKey&&(d=i),i=J(i,s.geometryPrecision),d=J(d,s.geometryPrecision),n.setAttribute("width",i),n.setAttribute("height",d);}),this.addEventListener("pointerup",_i574=function i(t){_this300.removeEventListener("pointermove",e),_this300.removeEventListener("pointerup",_i574),_this300.Mh=!1;});},Xs:function Xs(){var t=this.un,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=Yt(t.vectorCanvas).inverse(),s=Ve(t.getBoundingClientRect(),i),n=e?cc(e.getAttribute("x")):0,o=e?cc(e.getAttribute("y")):0,l=e?cc(e.getAttribute("width")):100,a=e?cc(e.getAttribute("height")):100,h=s.x-s.width/2,r=s.x+s.width+s.width/2,d=s.y-s.height/2,c=s.y+s.height+s.height/2;{var _t837="";for(var _e616=n;_e616<=r;_e616+=l){_e616>=h&&(_t837+="<line class=\"line\" x1=\"".concat(_e616,"\" y1=\"-99999\" x2=\"").concat(_e616,"\" y2=\"99999\"></line>"));}for(var _e617=n-l;_e617>=h;_e617-=l){_e617<=r&&(_t837+="<line class=\"line\" x1=\"".concat(_e617,"\" y1=\"-99999\" x2=\"").concat(_e617,"\" y2=\"99999\"></line>"));}this["#vertical-lines"].innerHTML=_t837;}{var _t838="";for(var _e618=o;_e618<=c;_e618+=a){_e618>=d&&(_t838+="<line class=\"line\" y1=\"".concat(_e618,"\" x1=\"-99999\" y2=\"").concat(_e618,"\" x2=\"99999\"></line>"));}for(var _e619=o-a;_e619>=d;_e619-=a){_e619<=c&&(_t838+="<line class=\"line\" y1=\"".concat(_e619,"\" x1=\"-99999\" y2=\"").concat(_e619,"\" x2=\"99999\"></line>"));}this["#horizontal-lines"].innerHTML=_t838;}this["#cell-rect"].setAttribute("x",n),this["#cell-rect"].setAttribute("y",o),this["#cell-rect"].setAttribute("width",l),this["#cell-rect"].setAttribute("height",a),this.Dh();},Dh:function Dh(){var t=this.un,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=e?cc(e.getAttribute("x")):0,s=e?cc(e.getAttribute("y")):0,n=e?cc(e.getAttribute("width")):100,o=e?cc(e.getAttribute("height")):100;this["#origin-grippie"].setAttribute("cx",i),this["#origin-grippie"].setAttribute("cy",s),this["#origin-grippie"].setAttribute("r",4/t.scale),this["#resize-grippie"].setAttribute("width",8/t.scale),this["#resize-grippie"].setAttribute("height",8/t.scale),this["#resize-grippie"].setAttribute("x",i+n-5/t.scale),this["#resize-grippie"].setAttribute("y",s+o-5/t.scale);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.Xs();}};var uc=Symbol(),xc=4,bc=!1;var mc={id:"manual-guides-hud",createdCallback:function createdCallback(){var _this301=this;this.Eh=[],this.Th=!1,this.Sh=ts(this.Xs,500,this),this.Ah=ts(this.$h,200,this),this.innerHTML='\n  <style>\n    #manual-guides-hud .repr {\n      color: red;\n      pointer-events: none;\n    }\n    #manual-guides-hud .repr[data-snapping="true"] {\n      color: blue;\n    }\n\n    #manual-guides-hud .repr .outer-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 10;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #manual-guides-hud .repr[data-selected] .outer-line {\n      opacity: 0.1;\n      pointer-events: all;\n    }\n\n    #manual-guides-hud .repr .inner-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #manual-guides-hud .repr .grippie {\n      stroke: currentColor;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #manual-guides-hud .repr[data-selected] .grippie {\n      fill: currentColor;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator462=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step462;try{for(_iterator462.s();!(_step462=_iterator462.n()).done;){var _t839=_step462.value;this["#"+_t839.getAttribute("uid")]=_t839;}}catch(err){_iterator462.e(err);}finally{_iterator462.f();}this.addEventListener("pointerdown",function(t){return _this301.Oo(t);});},enabledCallback:function enabledCallback(){var _this302=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("workspacemutation",this.rn=function(){_this302.Sh();}),this.un.addEventListener("artworkchange",this.Ph=function(){_this302.Sh();}),this.un.addEventListener("zoomchange",this.hn=function(){_this302.bl();}),this.un.addEventListener("selectedelementschange",this.al=function(){_this302.Ih();}),this.un.rulers.addEventListener("pointerdown",this.Lh=function(t){_this302.Bh(t);}),this.un.snapManager.addEventListener("snapperschange",this.Rh=function(t){_this302.Ah();}),this.Xs();},disabledCallback:function disabledCallback(){this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("artworkchange",this.Ph),this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("selectedelementschange",this.al),this.un.rulers.removeEventListener("pointerdown",this.Lh),this.un.snapManager.removeEventListener("snapperschange",this.Rh);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.Xs();},Oo:function Oo(t){var _this303=this;if(1!==t.buttons)return;var e,_i575,s=t.target.closest("g.repr"),n=s[uc],o=Yt(this.un.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY),a=l.matrixTransform(o),h=l,r=this.Js.modKeys.ctrl&&bc?"rotate":"translate",d=this.un.geometryPrecision;this.Th=!0,s.setAttribute("data-dragging",""),t.target.closest(".grippie")&&(this.un.selectedElements=[n],this.un.selectedTextRange=null,this.un.currentContainer=null);var c=parseFloat(n.getAttribute("x")),p=parseFloat(n.getAttribute("y")),u=parseFloat(n.getAttribute("angle")),x=c,b=p,m=u;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e=function e(_e622){var i=new DOMPoint(_e622.clientX,_e622.clientY),n=i.matrixTransform(o),d=_e622.timeStamp-t.timeStamp,g=Ee(l,i)>3||d>80,f=!1===De(h,i,0);if(h=i,!0===g&&!0===f)if("translate"===r){var _t840=n.x-a.x,_e620=n.y-a.y;x=c+_t840,b=p+_e620,s.setAttribute("transform","translate(".concat(x," ").concat(b,") rotate(").concat(u,")"));}else if("rotate"===r){var _t841=new DOMPoint(c,p),_e621=Re(_t841,a,n);m=u+_e621,_this303.Js.modKeys.shift&&(m=Ue(m,15)),s.setAttribute("transform","translate(".concat(c," ").concat(p,") rotate(").concat(m,")"));}}),this.addEventListener("lostpointercapture",_i575=function i(t){_this303.removeEventListener("pointermove",e),_this303.removeEventListener("lostpointercapture",_i575),_this303.Th=!1,s.removeAttribute("data-dragging");var o=s.querySelector(".inner-line"),l=Yt(o),a=new DOMPoint(o.x1.baseVal.value,o.y1.baseVal.value);a=a.matrixTransform(l);var h=new DOMPoint(o.x2.baseVal.value,o.y2.baseVal.value);h=h.matrixTransform(l);var r=_this303.un.getBoundingClientRect(!0),g=Ke(a,h,r);a=ze(a,8),h=ze(h,8),g&&_this303.un.isPointOverBoard(t.clientX,t.clientY)?(x=J(x,d),b=J(b,d),m=J(m,d),x===c&&b===p&&m===u||(_this303.un.undoManager.checkpoint("Move guide"),n.setAttribute("x",x),n.setAttribute("y",b),n.setAttribute("angle",m))):(_this303.un.undoManager.checkpoint("Remove guide"),_this303.un.selectedElements=_this303.un.selectedElements.filter(function(t){return t!==n;}),n.remove());});},Bh:function Bh(t){if(1!==t.buttons)return;var e,_i577,s=this.un,n=s.rulers.getRulerTypeFromPoint(t.x,t.y),o=this.un.geometryPrecision,l=Yt(this.un.vectorCanvas).inverse(),a=0,h=99999,r=-h,d=-h;"vertical"===n?a=0:"horizontal"===n?a=90:"corner"===n&&(a=45);var c=Ji(_templateObject7(),r,d,a,-h,h,-h,h,xc/s.scale);this["#reprs"].append(c),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=e.x,d=e.y,c.setAttribute("transform","translate(".concat(r," ").concat(d,") rotate(").concat(a,")"));}),window.addEventListener("pointerup",_i577=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i577);var n=c.querySelector(".inner-line"),h=Yt(n),p=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value);p=p.matrixTransform(h),p=ze(p,8);var u=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value);u=u.matrixTransform(h),u=ze(u,8);var x=s.getBoundingClientRect(!0),b=Ke(p,u,x);if(c.remove(),b&&!0===s.isPointOverBoard(t.clientX,t.clientY)&&!1===s.isPointOverRuler(t.clientX,t.clientY)){var _e623=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=J(_e623.x,o),d=J(_e623.y,o);var _i576=Ji(_templateObject8(),r,d,a);s.selectedElements=[_i576],s.selectedTextRange=null,s.currentContainer=null,s.undoManager.checkpoint("Add guide"),s.currentWorkspace===s.masterWorkspace?(s.maybeCreateDefsForMasterWorkspace(),s.defs.append(_i576)):s.currentWorkspace.append(_i576);}});},Xs:function Xs(){if(this.Th)return;var t=this.un.currentWorkspace.querySelectorAll("bx-guide"),e=!1;if(t.length!==this["#reprs"].childElementCount)e=!0;else for(var _i578=0;_i578<t.length;_i578+=1){var s=t[_i578],_n232=this["#reprs"].children[_i578],_o190=_n232.transform.baseVal[0].matrix.e,_l180=_n232.transform.baseVal[0].matrix.f,_a126=_n232.transform.baseVal[1].angle;if(parseFloat(s.getAttribute("x"))!==_o190||parseFloat(s.getAttribute("y"))!==_l180||parseFloat(s.getAttribute("angle"))!==_a126){e=!0;break;}}if(e){var _e624="";var _iterator463=_createForOfIteratorHelper(t),_step463;try{for(_iterator463.s();!(_step463=_iterator463.n()).done;){var _i579=_step463.value;var _t842=99999;_e624+="\n          <g class=\"repr\" transform=\"translate(".concat(parseFloat(_i579.getAttribute("x")),", ").concat(parseFloat(_i579.getAttribute("y")),") rotate(").concat(parseFloat(_i579.getAttribute("angle")),")\" data-snapping=\"").concat(this.un.snapManager.isGuideSnapping(_i579),"\">\n            <line class=\"outer-line\" x1=\"0\" y1=\"").concat(-_t842,"\" x2=\"0\" y2=\"").concat(_t842,"\"></line>\n            <line class=\"inner-line\" x1=\"0\" y1=\"").concat(-_t842,"\" x2=\"0\" y2=\"").concat(_t842,"\"></line>\n            <circle class=\"grippie\" cx=\"0\" cy=\"0\"></rect>\n          </g>\n        ");}}catch(err){_iterator463.e(err);}finally{_iterator463.f();}this["#reprs"].innerHTML=_e624;for(var _e625=0;_e625<t.length;_e625+=1){this["#reprs"].children[_e625][uc]=t[_e625];}}this.bl(),this.Ih();},bl:function bl(){var _iterator464=_createForOfIteratorHelper(this["#reprs"].querySelectorAll(".grippie")),_step464;try{for(_iterator464.s();!(_step464=_iterator464.n()).done;){var _t843=_step464.value;_t843.setAttribute("r",xc/this.un.scale);}}catch(err){_iterator464.e(err);}finally{_iterator464.f();}},Ih:function Ih(){var _iterator465=_createForOfIteratorHelper(this["#reprs"].children),_step465;try{for(_iterator465.s();!(_step465=_iterator465.n()).done;){var _t844=_step465.value;this.un.selectedElements.includes(_t844[uc])?_t844.setAttribute("data-selected",""):_t844.removeAttribute("data-selected");}}catch(err){_iterator465.e(err);}finally{_iterator465.f();}},$h:function $h(){var _iterator466=_createForOfIteratorHelper(this["#reprs"].children),_step466;try{for(_iterator466.s();!(_step466=_iterator466.n()).done;){var _t845=_step466.value;var _e626=this.un.snapManager.isGuideSnapping(_t845[uc]);_t845.setAttribute("data-snapping",_e626);}}catch(err){_iterator466.e(err);}finally{_iterator466.f();}}};var gc=Math.min,fc=Math.max;var wc={id:"smart-guides-hud",get enabled(){return this.hasAttribute("enabled");},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");},createdCallback:function createdCallback(){this.Sh=ts(this.Xs,100,this),this.innerHTML='\n  <style>\n    #smart-guides-hud .repr {\n      fill: none;\n      stroke: blue;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.6;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator467=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step467;try{for(_iterator467.s();!(_step467=_iterator467.n()).done;){var _t846=_step467.value;this["#"+_t846.getAttribute("uid")]=_t846;}}catch(err){_iterator467.e(err);}finally{_iterator467.f();}},enabledCallback:function enabledCallback(){var _this304=this;this.un=Ri(this,"bx-board"),this.un.snapManager.addEventListener("snapperschange",this.Rh=function(){_this304.Sh();});},disabledCallback:function disabledCallback(){this.un.snapManager.removeEventListener("snapperschange",this.Rh);},Xs:function Xs(){var t=this.un.snapManager.snappers.filter(function(t){return"smart"===t.type&&t.snapping;}),e=Yt(this.un.currentWorkspace).inverse();this["#reprs"].innerHTML="";var _iterator468=_createForOfIteratorHelper(t),_step468;try{for(_iterator468.s();!(_step468=_iterator468.n()).done;){var _i580=_step468.value;var _t847=void 0,s=void 0;"vertical"===_i580.orientation?_i580.snappedBBox?(_t847=new DOMPoint(_i580.x,gc(_i580.snappingBBox.y,_i580.snappedBBox.y)),s=new DOMPoint(_i580.x,fc(_i580.snappingBBox.bottom,_i580.snappedBBox.bottom))):_i580.snappedPoint&&(_t847=new DOMPoint(_i580.x,gc(_i580.snappingBBox.y,_i580.snappedPoint.y)),s=new DOMPoint(_i580.x,fc(_i580.snappingBBox.bottom,_i580.snappedPoint.y))):"horizontal"===_i580.orientation&&(_i580.snappedBBox?(_t847=new DOMPoint(gc(_i580.snappingBBox.x,_i580.snappedBBox.x),_i580.y),s=new DOMPoint(fc(_i580.snappingBBox.right,_i580.snappedBBox.right),_i580.y)):_i580.snappedPoint&&(_t847=new DOMPoint(gc(_i580.snappingBBox.x,_i580.snappedPoint.x),_i580.y),s=new DOMPoint(fc(_i580.snappingBBox.right,_i580.snappedPoint.x),_i580.y)));var _t847$matrixTransform=_t847.matrixTransform(e),_n233=_t847$matrixTransform.x,_o191=_t847$matrixTransform.y,_s$matrixTransform=s.matrixTransform(e),_l181=_s$matrixTransform.x,_a127=_s$matrixTransform.y,_h110=Ji(_templateObject9(),_n233,_o191,_l181,_a127);this["#reprs"].append(_h110);}}catch(err){_iterator468.e(err);}finally{_iterator468.f();}}};var vc=Math.abs,yc=Math.sin,kc=Math.asin,Sc=Math.cos,Cc=Math.acos,_c=Math.tan,Mc=Math.pow,Pc=Math.sqrt,Dc=Math.PI,zc=function zc(t,e,i,s,n){var o=function o(t){return vc(t)<1e-11?0:t>0?1:-1;},l=function l(t,e,i,s,n){var o=3*e-t-3*i+s;0===o&&(o=1e-10);var l=[3,-1];a(l,(3*t-6*e+3*i)/o,(-3*t+3*e)/o,(-n+t)/o);var h=[];for(var _i581=0,_l182=l;_i581<_l182.length;_i581++){var _t848=_l182[_i581];_t848>=0&&_t848<=1&&h.push(_t848);}return h;},a=function a(t,e,i,s){var n=(Mc(e,2)-3*i)/9,l=(2*Mc(e,3)-9*e*i+27*s)/54;if(Mc(l,2)<Mc(n,3)){var _i582=Cc(l/Pc(Mc(n,3)))/3;return t.splice(0,0,-2*Pc(n)*Sc(_i582)-e/3),t.splice(1,0,-2*Pc(n)*Sc(_i582+4*Dc/3)-e/3),t.splice(2,0,-2*Pc(n)*Sc(_i582-4*Dc/3)-e/3),3;}{var _i583=-o(l)*Mc(vc(l)+Pc(Mc(l,2)-Mc(n,3)),1/3),_s306=0==o(_i583)?0:n/_i583;return t.splice(0,0,_i583+_s306-e/3),t.splice(1,0,-.5*(_i583+_s306)-e/3),t.splice(2,0,.5*Pc(3)*vc(_i583-_s306)),t[2]+1===1?2:1;}},h=[].concat(_toConsumableArray(l(e.x,i.x,s.x,n.x,t.x)),_toConsumableArray(l(e.y,i.y,s.y,n.y,t.y)));if(0===h.length)return-1;{var _o192=-1,_l183=3;var _iterator469=_createForOfIteratorHelper(h),_step469;try{for(_iterator469.s();!(_step469=_iterator469.n()).done;){var _a128=_step469.value;var _h111=Mc(1-_a128,3)*e.x+3*Mc(1-_a128,2)*_a128*i.x+3*(1-_a128)*Mc(_a128,2)*s.x+Mc(_a128,3)*n.x,_u36=Mc(1-_a128,3)*e.y+3*Mc(1-_a128,2)*_a128*i.y+3*(1-_a128)*Mc(_a128,2)*s.y+Mc(_a128,3)*n.y,_x108=(r=t.x,d=t.y,Pc(((c=_h111)-r)*(c-r)+((p=_u36)-d)*(p-d)));_x108<_l183&&(_o192=_a128,_l183=_x108);}}catch(err){_iterator469.e(err);}finally{_iterator469.f();}return _o192;}var r,d,c,p;},Oc=Math.abs,Ec=Math.max,Tc=Math.pow,Ac=Number.parseFloat,$c=5,Ic=4,Lc=Symbol(),Bc=Symbol(),Rc=Symbol(),Gc=Symbol();var Uc={id:"spline-hud",get passive(){return this.hasAttribute("passive");},set passive(t){t?this.setAttribute("passive",""):this.removeAttribute("passive");},get selectedNodes(){return _toConsumableArray(this.Gh);},set selectedNodes(t){this.Gh=t,this.Uh(),this.Fh();},createdCallback:function createdCallback(){var _this305=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this305.Nh();}}},this.il=!1,this.jh=0,this.Vh=[],this.Gh=[],this.Hh=null,this.Wh=null,this.Yh=null,this.qh=ts(this.Xh,1500,this),this.Uh=ts(this.Zh,40,this),this.Fh=ts(this.Kh,40,this),this.Qh=ts(this.Jh,40,this),this.tr=ts(this.er,40,this),this.ir=ts(this.sr,1500,this),this.innerHTML='\n  <style>\n    #spline-hud [uid="grippies"] {\n      cursor: default;\n    }\n    #spline-hud [uid="grippies"]:focus {\n      outline: none;\n    }\n\n    #spline-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #spline-hud .node-grippie[data-selected] .outer-circle {\n      fill: #bc9aec;\n    }\n    #spline-hud #grippies:focus .node-grippie[data-selected] .outer-circle {\n      fill: #a370ea;\n    }\n    #spline-hud[passive] .node-grippie[data-position="mid"] {\n      display: none;\n    }\n\n    #spline-hud .node-grippie .inner-circle {\n      pointer-events: none;\n      fill: #4d2782;\n    }\n\n    #spline-hud[passive] .outline-grippie {\n      display: none;\n    }\n    #spline-hud .outline-grippie path {\n      fill: none;\n      stroke: blue;\n      stroke-width: 10px;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #spline-hud .outline-grippie path:hover {\n      opacity: 0.2;\n    }\n\n    #spline-hud .helper-grippie {\n      fill: white;\n      stroke: #ef6c6c;\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n    #spline-hud[passive] .helper-grippie {\n      display: none;\n    }\n\n    #spline-hud .helper-line {\n      fill: none;\n      stroke: red;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.3;\n    }\n    #spline-hud[passive] .helper-line {\n      display: none;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="outline-grippies"></g>\n    <g uid="helper-lines"></g>\n    <g uid="node-grippies"></g>\n    <g uid="helper-grippies"></g>\n  </g>\n';var _iterator470=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step470;try{for(_iterator470.s();!(_step470=_iterator470.n()).done;){var _t849=_step470.value;this["#"+_t849.getAttribute("uid")]=_t849;}}catch(err){_iterator470.e(err);}finally{_iterator470.f();}this.addEventListener("keydown",function(t){_this305.Tn(t);}),this.addEventListener("pointerdown",function(t){_this305.Oo(t);}),this.addEventListener("pointerup",function(t){_this305.ba(t);}),this.addEventListener("click",function(t){2===t.detail&&Date.now()-_this305.jh<300&&_this305.ma(t),_this305.jh=Date.now();});},enabledCallback:function enabledCallback(){var _this306=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this306.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl();var _iterator471=_createForOfIteratorHelper(this["#grippies"].children),_step471;try{for(_iterator471.s();!(_step471=_iterator471.n()).done;){var _t850=_step471.value;_t850.innerHTML="";}}catch(err){_iterator471.e(err);}finally{_iterator471.f();}this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this307=this;this.il=!0,this.un.addEventListener("workspacemutation",this.rn=function(){_this307.pl();}),this.un.addEventListener("zoomchange",this.hn=function(){_this307.cl();}),this.un.undoManager.addEventListener("undo",this.ya=function(){_this307.deselectAllSegs();}),this.un.undoManager.addEventListener("redo",this.Sa=function(){_this307.deselectAllSegs();});},rl:function rl(){this.Vh=[],this.Gh=[],this.il=!1,this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#helper-grippies"].innerHTML="",this["#helper-lines"].innerHTML="",this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("zoomchange",this.hn),this.un.undoManager.removeEventListener("undo",this.ya),this.un.undoManager.removeEventListener("redo",this.Sa),this.dispatchEvent(new CustomEvent("selectednodeschange"));},rubberBandSelectionCallback:function rubberBandSelectionCallback(t){var _this308=this;var e=this.Js.modKeys.shift,i=[];if(t instanceof DOMRect){var _e627=t;var _iterator472=_createForOfIteratorHelper(this["#node-grippies"].children),_step472;try{for(_iterator472.s();!(_step472=_iterator472.n()).done;){var _t851=_step472.value;var s=Oi(_t851);Ye(_e627,s)&&i.push(_t851);}}catch(err){_iterator472.e(err);}finally{_iterator472.f();}}else{var _iterator473=_createForOfIteratorHelper(this["#node-grippies"].children),_step473;try{for(_iterator473.s();!(_step473=_iterator473.n()).done;){var _e628=_step473.value;var _s307=new DOMPoint(_e628.firstElementChild.cx.baseVal.value,_e628.firstElementChild.cy.baseVal.value);!0===ei(t,_s307)&&i.push(_e628);}}catch(err){_iterator473.e(err);}finally{_iterator473.f();}}if(!1===e){this.Gh=[];var _iterator474=_createForOfIteratorHelper(i),_step474;try{for(_iterator474.s();!(_step474=_iterator474.n()).done;){var _t852=_step474.value;var _e629={spline:_t852[Lc],index:_t852[Rc]};this.Gh.push(_e629);}}catch(err){_iterator474.e(err);}finally{_iterator474.f();}}else if(!0===e){var _iterator475=_createForOfIteratorHelper(i),_step475;try{var _loop10=function _loop10(){var t=_step475.value;var e={spline:t[Lc],index:t[Rc]};void 0===_this308.Gh.find(function(t){return t.spline===e.spline&&t.index===e.index;})&&_this308.Gh.push(e);};for(_iterator475.s();!(_step475=_iterator475.n()).done;){_loop10();}}catch(err){_iterator475.e(err);}finally{_iterator475.f();}}this.Uh(),this.Fh(),this.qh(),this.dispatchEvent(new CustomEvent("selectednodeschange")),this.Gh.length>0&&this["#grippies"].focus();},hl:function hl(){this.Vh=this.nr(),this.Gh=[],this.dispatchEvent(new CustomEvent("selectednodeschange")),0===this.Vh.length?this.il&&this.rl():(this.il||this.dl(),this.Uh(),this.Fh(),this.qh());},pl:function pl(){this.Uh(),this.Fh(),this.qh();},cl:function cl(){this.Qh(),this.tr(),this.ir();},Tn:function Tn(t){if(!1===this.passive&&this["#node-grippies"].querySelector("[data-selected]")){var _e630=Ja.fromEvent(t);_e630.matches("Backspace")||_e630.matches("Delete")?(t.preventDefault(),t.stopPropagation(),this.lr("smooth")):(_e630.matches("Shift","Backspace")||_e630.matches("Shift","Delete"))&&(t.preventDefault(),t.stopPropagation(),this.lr("sharp"));}},Oo:function Oo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")?this.ar(t):t.target.matches(".helper-grippie")?this.hr(t):t.target.matches(".outline-grippie path")&&this.rr(t);},ba:function ba(t){t.target.closest(".node-grippie")&&this.dr(t);},ma:function ma(t){t.target.closest(".node-grippie")?this.cr(t):t.target.matches(".helper-grippie")?this.pr(t):t.target.matches(".outline-grippie > path")&&this.ur(t);},ar:function ar(t){var _this309=this;if(0!==t.button)return;var e=!1,i=t.target.closest(".node-grippie"),s=i[Lc],n=i[Rc],o=this.br(i);if(i.setPointerCapture(t.pointerId),!1===this.passive){var _t854,_o193=this.Js.modKeys.shift;i.addEventListener("pointerup",_t854=function _t853(l){i.removeEventListener("pointerup",_t854);var a=void 0!==_this309.Gh.find(function(t){return t.spline===s&&t.index===n;}),h={spline:s,index:n};!1===a?(!1===_o193?_this309.Gh=[h]:!0===_o193&&_this309.Gh.push(h),_this309.Uh(),_this309.Fh()):!0===_o193&&!1===e&&(_this309.Gh=_this309.Gh.filter(function(t){return t.spline!==s||t.index!==n;}),_this309.Uh(),_this309.Fh()),_this309.dispatchEvent(new CustomEvent("selectednodeschange"));});}{var _l185,_a131,_h112=new DOMPoint(t.clientX,t.clientY),_r69=_h112,_d55=new CustomEvent("nodepointerdown",{cancelable:!0,detail:{spline:s,index:n,subpathIndex:o,position:i.getAttribute("data-position"),selected:i.hasAttribute("data-selected"),pointerId:t.pointerId}});this.dispatchEvent(_d55),i.addEventListener("pointermove",_l185=function _l184(o){var a=new DOMPoint(o.clientX,o.clientY),d=o.timeStamp-t.timeStamp,c=Ee(_h112,a)>3||d>80,p=!1===De(_r69,a,0);if(_r69=a,!1===_this309.passive&&!0===c&&!0===p){i.removeEventListener("pointermove",_l185);var _a130=new Q(o.clientX-t.clientX,o.clientY-t.clientY);e=!0;var _h113=Oc(_a130.x)>Oc(_a130.y)?"horizontal":"vertical";new DOMPoint(o.clientX,o.clientY);void 0===_this309.Gh.find(function(t){return t.spline===s&&t.index===n;})&&(_this309.Gh=[{spline:s,index:n}],_this309.Uh(),_this309.Fh(),_this309.dispatchEvent(new CustomEvent("selectednodeschange"))),_this309.mr(t,i,_h113);}}),i.addEventListener("pointerup",_a131=function _a129(t){if(i.removeEventListener("pointermove",_l185),i.removeEventListener("pointerup",_a131),!1===e&&!1===_d55.defaultPrevented){var _e631=new CustomEvent("nodeclick",{detail:{spline:s,index:n,subpathIndex:o,position:i.getAttribute("data-position"),selected:i.hasAttribute("data-selected"),pointerId:t.pointerId}});_this309.dispatchEvent(_e631);}});}},dr:function dr(t){var _this$un$getElementsF;var e=(_this$un$getElementsF=this.un.getElementsFromPoint(t.clientX,t.clientY)[0])===null||_this$un$getElementsF===void 0?void 0:_this$un$getElementsF.closest(".node-grippie");if(e){var _i584=this.br(e),s=new CustomEvent("nodepointerup",{detail:{spline:e[Lc],index:e[Rc],subpathIndex:_i584,position:e.getAttribute("data-position"),selected:e.hasAttribute("data-selected"),pointerId:t.pointerId}});this.dispatchEvent(s);}},mr:function mr(t,e,i){var _this310=this;var s,_n238,o=this.un,l=Symbol(),a=Symbol(),h=Symbol(),r=Symbol(),d=Symbol(),c=this.Vh.filter(function(t){return _this310.Gh.filter(function(e){return e.spline===t;}).length>0;});var _iterator476=_createForOfIteratorHelper(c),_step476;try{for(_iterator476.s();!(_step476=_iterator476.n()).done;){var _t860=_step476.value;var _e636=this.gr(_t860);if(_t860[r]=_e636,_t860[d]=_e636.inverse(),"line"===_t860.localName)_t860[h]=[new DOMPoint(_t860.x1.baseVal.value,_t860.y1.baseVal.value),new DOMPoint(_t860.x2.baseVal.value,_t860.y2.baseVal.value)];else if("polyline"===_t860.localName)_t860[h]=_toConsumableArray(_t860.points).map(function(t){return DOMPoint.fromPoint(t);});else if("polygon"===_t860.localName)_t860[h]=_toConsumableArray(_t860.points).map(function(t){return DOMPoint.fromPoint(t);});else if("path"===_t860.localName){var _e637=Ol(_t860);null===_e637?(_t860[l]=at(_t860.getPathData({normalize:!0})),_t860[a]=ht(_t860[l])):"basis"===_e637.type?_t860[h]=_toConsumableArray(_e637.controlPoints).map(function(t){return new DOMPoint(t[0],t[1]);}):"catmull"===_e637.type||_e637.type;}}}catch(err){_iterator476.e(err);}finally{_iterator476.f();}o.undoManager.checkpoint("Move spline nodes"),o.snapManager.snapStart(!0),this.Hh=e;var p=e[Lc],u=(e[Rc],new DOMPoint(t.clientX,t.clientY)),x=e[Gc].matrixTransform(p[r]);window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this310.Js.modKeys.shift&&("horizontal"===i?e.y=u.y:"vertical"===i&&(e.x=u.x));var s=o.snapManager.snapPoint(new DOMPoint(x.x+e.x-u.x,x.y+e.y-u.y)),n=new Q(x,s);var _iterator477=_createForOfIteratorHelper(c),_step477;try{var _loop11=function _loop11(){var t=_step477.value;var e=_this310.Gh.filter(function(e){return e.spline===t;}).map(function(t){return t.index;}),i=n.matrixTransform(t[d]);if("line"===t.localName){var _s308=_toConsumableArray(t[h]);var _iterator478=_createForOfIteratorHelper(e),_step478;try{for(_iterator478.s();!(_step478=_iterator478.n()).done;){var _n234=_step478.value;_s308[_n234]=new DOMPoint(t[h][_n234].x+i.x,t[h][_n234].y+i.y);}}catch(err){_iterator478.e(err);}finally{_iterator478.f();}t.setAttribute("x1",_s308[0].x),t.setAttribute("y1",_s308[0].y),t.setAttribute("x2",_s308[1].x),t.setAttribute("y2",_s308[1].y);}else if("polyline"===t.localName||"polygon"===t.localName){var _s309=_toConsumableArray(t[h]);var _iterator479=_createForOfIteratorHelper(e),_step479;try{for(_iterator479.s();!(_step479=_iterator479.n()).done;){var _n235=_step479.value;_s309[_n235]=new DOMPoint(t[h][_n235].x+i.x,t[h][_n235].y+i.y);}}catch(err){_iterator479.e(err);}finally{_iterator479.f();}t.setAttribute("points",_s309.map(function(t){return[t.x,t.y];}).flat().join(" "));}else if("path"===t.localName){var _s310=Ol(t);if(null===_s310){var _s311=t[l],_n236=t[a];var _iterator480=_createForOfIteratorHelper(e),_step480;try{for(_iterator480.s();!(_step480=_iterator480.n()).done;){var _t855=_step480.value;var _e632=_s311[_t855],_o194=_s311[_t855+1],_l186=_n236[_t855],_a132=_n236[_t855+1];if("M"===_e632.type||"L"===_e632.type){if(_e632.values[0]=_l186.values[0]+i.x,_e632.values[1]=_l186.values[1]+i.y,_o194&&"C"===_o194.type)_o194.values[0]=_a132.values[0]+i.x,_o194.values[1]=_a132.values[1]+i.y;else if(_o194&&"Z"===_o194.type){var _t856=kt(_e632,_s311),_o195=_t856[0],_a133=_t856[1],_h114=kt(_l186,_n236);_o195.values[0]=_e632.values[0],_o195.values[1]=_e632.values[1],_a133&&"C"===_a133.type&&(_a133.values[0]=_h114[1].values[0]+i.x,_a133.values[1]=_h114[1].values[1]+i.y);}}else if("C"===_e632.type)if(_e632.values[2]=_l186.values[2]+i.x,_e632.values[3]=_l186.values[3]+i.y,_e632.values[4]=_l186.values[4]+i.x,_e632.values[5]=_l186.values[5]+i.y,_o194&&"C"===_o194.type)_o194.values[0]=_a132.values[0]+i.x,_o194.values[1]=_a132.values[1]+i.y;else if(_o194&&"Z"===_o194.type){var _t857=kt(_e632,_s311),_o196=_t857[0],_a134=_t857[1],_h115=kt(_l186,_n236);_o196.values[0]=_e632.values[4],_o196.values[1]=_e632.values[5],"C"===_a134.type&&(_a134.values[0]=_h115[1].values[0]+i.x,_a134.values[1]=_h115[1].values[1]+i.y);}}}catch(err){_iterator480.e(err);}finally{_iterator480.f();}t.setPathData(_s311);}else if("basis"===_s310.type){var _n237=_toConsumableArray(t[h]);var _iterator481=_createForOfIteratorHelper(e),_step481;try{for(_iterator481.s();!(_step481=_iterator481.n()).done;){var _s312=_step481.value;_n237[_s312]=new DOMPoint(t[h][_s312].x+i.x,t[h][_s312].y+i.y);}}catch(err){_iterator481.e(err);}finally{_iterator481.f();}_s310.controlPoints=_n237.map(function(t){return[t.x,t.y];}),El(t,_s310);}else"catmull"===_s310.type||_s310.type;}};for(_iterator477.s();!(_step477=_iterator477.n()).done;){_loop11();}}catch(err){_iterator477.e(err);}finally{_iterator477.f();}}),window.addEventListener("pointerup",_n238=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n238);var _iterator482=_createForOfIteratorHelper(c),_step482;try{for(_iterator482.s();!(_step482=_iterator482.n()).done;){var _t858=_step482.value;if("line"===_t858.localName)_t858.setAttribute("x1",J(_t858.x1.baseVal.value,o.geometryPrecision)),_t858.setAttribute("y1",J(_t858.y1.baseVal.value,o.geometryPrecision)),_t858.setAttribute("x2",J(_t858.x2.baseVal.value,o.geometryPrecision)),_t858.setAttribute("y2",J(_t858.y2.baseVal.value,o.geometryPrecision));else if("polyline"===_t858.localName||"polygon"===_t858.localName){var _e633=_toConsumableArray(_t858.points).map(function(t){return[J(t.x,o.geometryPrecision),J(t.y,o.geometryPrecision)];});_t858.setAttribute("points",_e633.flat().join(" "));}else if("path"===_t858.localName)if(!1===_t858.hasAttribute("data-bx-spline")){var _e634=_t858[l];var _iterator483=_createForOfIteratorHelper(_e634),_step483;try{for(_iterator483.s();!(_step483=_iterator483.n()).done;){var _t859=_step483.value;_t859.values=_t859.values.map(function(t){return J(t,o.geometryPrecision);});}}catch(err){_iterator483.e(err);}finally{_iterator483.f();}_t858.setPathData(_e634);}else{var _e635=Ol(_t858);"basis"===_e635.type||"catmull"===_e635.type||_e635.type;}}}catch(err){_iterator482.e(err);}finally{_iterator482.f();}o.snapManager.snapEnd(),_this310.Hh=null,_this310.Xh();});},cr:function cr(t){var _this311=this;var e=t.target.closest(".node-grippie"),i=e[Lc];if("polyline"===i.localName||"polygon"===i.localName||"path"===i.localName&&!1===i.hasAttribute("data-bx-spline")){var _t861=e[Rc],s=at(i.getPathData({normalize:!0})),_n239=s[_t861],_o197=s[_t861+1]||null,_l187=s[_t861-1]||null,_a135=kt(_n239,s),_h116=!1;if(Pt(s),"M"===_n239.type){if("C"===_o197.type){!1===(_o197.values[0]===_n239.values[0]&&_o197.values[1]===_n239.values[1])&&(_o197.values[0]=_n239.values[0],_o197.values[1]=_n239.values[1],_h116=!0);}}else if("C"===_n239.type)if(null===_o197||"M"===_o197.type){!1===(_n239.values[2]===_n239.values[4]&&_n239.values[3]===_n239.values[5])&&(_n239.values[2]=_n239.values[4],_n239.values[3]=_n239.values[5],_h116=!0);}else if("Z"===_o197.type){var _t862=_a135[1];if("C"===_t862.type){!1===(_n239.values[4]===_t862.values[0]&&_n239.values[5]===_t862.values[1]&&_n239.values[4]===_n239.values[2]&&_n239.values[5]===_n239.values[3])?(_t862.values[0]=_n239.values[4],_t862.values[1]=_n239.values[5],_n239.values[2]=_n239.values[4],_n239.values[3]=_n239.values[5]):Mt(_l187,_n239,_t862),_h116=!0;}}else if("C"===_o197.type){!1===(_o197.values[0]===_n239.values[4]&&_o197.values[1]===_n239.values[5]&&_n239.values[2]===_n239.values[4]&&_n239.values[3]===_n239.values[5])?(_n239.values[2]=_n239.values[4],_n239.values[3]=_n239.values[5],_o197.values[0]=_n239.values[4],_o197.values[1]=_n239.values[5]):Mt(_l187,_n239,_o197),_h116=!0;}if(_h116){this.un.undoManager.checkpoint("Edit spline"),Dt(s);var _iterator484=_createForOfIteratorHelper(s),_step484;try{for(_iterator484.s();!(_step484=_iterator484.n()).done;){var _t864=_step484.value;_t864.values=_t864.values.map(function(t){return J(t,_this311.un.geometryPrecision);});}}catch(err){_iterator484.e(err);}finally{_iterator484.f();}if("polyline"===i.localName||"polygon"===i.localName){var _t863=$i("svg:path");var _iterator485=_createForOfIteratorHelper(i.attributes),_step485;try{for(_iterator485.s();!(_step485=_iterator485.n()).done;){var _e639=_step485.value;!1===["x1","y1","x2","y2","points"].includes(_e639.name)&&_t863.setAttribute(_e639.name,_e639.value);}}catch(err){_iterator485.e(err);}finally{_iterator485.f();}_t863.setPathData(s),i.replaceWith(_t863);var _e638=this.un.selectedElements.map(function(e){return e===i?_t863:e;}),_n240=this.selectedNodes.map(function(e){return e.spline===i?{spline:_t863,index:e.index}:e;});this.un.selectedElements=_e638,this.selectedNodes=_n240,i=_t863;}else i.setPathData(s);}}},hr:function hr(t){var _this312=this;if(0===t.button){var _e641,_i586,s=t.target,_n241=new DOMPoint(t.clientX,t.clientY),_o198=_n241;window.addEventListener("pointermove",_e641=function _e640(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=Ee(_n241,a)>3||h>80,d=!1===De(_o198,a,0);_o198=a,!0===r&&!0===d&&(window.removeEventListener("pointermove",_e641),window.removeEventListener("pointerup",_i586),_this312.wr(t,s));}),window.addEventListener("pointerup",_i586=function _i585(t){window.removeEventListener("pointermove",_e641),window.removeEventListener("pointerup",_i586);});}},wr:function wr(t,e){var i=e[Lc];if(!1===i.hasAttribute("data-bx-spline"))this.vr(t,e);else{var s=Ol(i);"basis"===s.type?this.yr(t,e):"catmull"===s.type||s.type;}},pr:function pr(t){var e=t.target,i=e[Lc];if(!1===i.hasAttribute("data-bx-spline"))this.kr(e);else{var _t865=Ol(i);"basis"===_t865.type?this.Sr(e):"catmull"===_t865.type||_t865.type;}},vr:function vr(t,e){var _this313=this;var i=e.getAttribute("data-index"),s=e[Lc],n=this.gr(s),o=n.inverse();this.un.undoManager.checkpoint("Edit spline"),this.un.snapManager.snapStart(!0);var l=s.getPathData({normalize:!0});l=at(l),Pt(l);var a,_h117,r,d=e[Rc],c=l[d],p=l[d-1]||null,u=l[d+1]||null,x=kt(c,l),b=zt(c,l),m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=_toConsumableArray(c.values),f=null,w=null,v=null;f="M"===p.type&&b?x[x.length-2]:p,u&&("Z"===u.type?w=b?x[1]:null:"C"===u.type&&(w=u)),"1"===i?"M"===f.type||"L"===f.type?v=new DOMPoint(f.values[0],f.values[1]):"C"===f.type&&(v=new DOMPoint(f.values[4],f.values[5])):"2"===i&&(v=new DOMPoint(c.values[4],c.values[5]));var y="sharp",k=v.matrixTransform(n),S=new DOMPoint(m.x,m.y);this.Wh=e;var C=function C(){var _this313$Js$modKeys=_this313.Js.modKeys,t=_this313$Js$modKeys.ctrl,e=_this313$Js$modKeys.shift;!0===t&&!1===e?y="sharp":!1===t&&!0===e?"1"===i?y=f&&"C"===f.type?"smooth":"sharp":"2"===i&&(y=w&&"C"===w.type?"smooth":"sharp"):!0===t&&!0===e?"1"===i?y=f&&"C"===f.type?"symmetric-smooth":"sharp":"2"===i&&(y=w&&"C"===w.type?"symmetric-smooth":"sharp"):!1===t&&!1===e&&("1"===i?y=St(f,c):"2"===i&&(y=St(c,w)));},_=function _(){if("1"===i){var _t866;if(_this313.Js.modKeys.shift)_t866=S;else{var _e642=S.x-m.x,_i587=S.y-m.y;_t866=new DOMPoint(g[0]+_e642,g[1]+_i587);}{var _e643=_t866.matrixTransform(n);_t866=_this313.un.snapManager.snapPoint(_e643).matrixTransform(o);}if(c.values[0]=_t866.x,c.values[1]=_t866.y,"smooth"===y){var _e644=new DOMPoint(f.values[2],f.values[3]),_i588=new Q(v,_t866),_s313=new Q(v,_e644),_n242=_i588.getOppositeVector();_n242.length=_s313.length,f.values[2]=v.x+_n242.x,f.values[3]=v.y+_n242.y;}else if("symmetric-smooth"===y){var _e645=new Q(v,_t866);_e645=_e645.negate(),f.values[2]=v.x+_e645.x,f.values[3]=v.y+_e645.y;}}else if("2"===i){var _t867;if(_this313.Js.modKeys.shift)_t867=S;else{var _e646=S.x-m.x,_i589=S.y-m.y;_t867=new DOMPoint(g[2]+_e646,g[3]+_i589);}{var _e647=_t867.matrixTransform(n);_t867=_this313.un.snapManager.snapPoint(_e647).matrixTransform(o);}if(c.values[2]=_t867.x,c.values[3]=_t867.y,"smooth"===y){var _e648=new DOMPoint(w.values[0],w.values[1]),_i590=new Q(v,_t867),_s314=new Q(v,_e648),_n243=_i590.getOppositeVector();_n243.length=_s314.length,w.values[0]=v.x+_n243.x,w.values[1]=v.y+_n243.y;}else if("symmetric-smooth"===y){var _e649=new Q(v,_t867);_e649=_e649.negate(),w.values[0]=v.x+_e649.x,w.values[1]=v.y+_e649.y;}}s.setPathData(l);};window.addEventListener("pointermove",a=function a(t){var e=new DOMPoint(t.clientX,t.clientY);if(_this313.Js.modKeys.shift){var _Le7=Le(k,e,22.5),_Le8=_slicedToArray(_Le7,1),_t868=_Le8[0];e=_t868;}S=e.matrixTransform(o),_();}),window.addEventListener("pointerup",_h117=function h(t){window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",_h117),_this313.Js.removeEventListener("modkeyschange",r),Dt(l);var _iterator486=_createForOfIteratorHelper(l),_step486;try{for(_iterator486.s();!(_step486=_iterator486.n()).done;){var _t869=_step486.value;_t869.values=_t869.values.map(function(t){return J(t,_this313.un.geometryPrecision);});}}catch(err){_iterator486.e(err);}finally{_iterator486.f();}s.setPathData(l),_this313.Wh=null,_this313.un.snapManager.snapEnd();}),this.Js.addEventListener("modkeyschange",r=function r(){C();}),C();},kr:function kr(t){var _this314=this;var e=t.getAttribute("data-index"),i=t[Lc],s=t[Rc],n=at(i.getPathData({normalize:!0})),o=n[s],l=n[s-1]||null;"1"===e?"C"===l.type?(o.values[0]=l.values[4],o.values[1]=l.values[5]):"M"!==l.type&&"L"!==l.type||(o.values[0]=l.values[0],o.values[1]=l.values[1]):"2"===e&&(o.values[2]=o.values[4],o.values[3]=o.values[5]),this.un.undoManager.checkpoint("Edit spline"),Dt(n);var _iterator487=_createForOfIteratorHelper(n),_step487;try{for(_iterator487.s();!(_step487=_iterator487.n()).done;){var _t870=_step487.value;_t870.values=_t870.values.map(function(t){return J(t,_this314.un.geometryPrecision);});}}catch(err){_iterator487.e(err);}finally{_iterator487.f();}i.setPathData(n);},yr:function yr(t,e){console.log("@todo: Drag basis spline knot.");},Sr:function Sr(t){console.log("@todo: Reset basis spline knot.");},rr:function rr(t){var _this315=this;if(0===t.button){var _e651,_i592,s=new DOMPoint(t.clientX,t.clientY),_n244=s,_o199=t.target.closest(".outline-grippie"),_l188=t.target,_a136=_l188.closest(".outline-grippie")[Lc],_h118=_toConsumableArray(_o199.children).indexOf(_l188),_r70=!1;window.addEventListener("pointermove",_e651=function _e650(o){var h=new DOMPoint(o.clientX,o.clientY),d=o.timeStamp-t.timeStamp,c=Ee(s,h)>3||d>80,p=!1===De(_n244,h,0);_n244=h,!0===c&&!0===p&&(window.removeEventListener("pointermove",_e651),window.removeEventListener("pointerup",_i592),_this315.Cr(o,_l188,_a136),_r70=!0);}),window.addEventListener("pointerup",_i592=function _i591(t){window.removeEventListener("pointermove",_e651),window.removeEventListener("pointerup",_i592),!1===_r70&&_this315._r(_a136,_h118);});}},Cr:function Cr(t,e,i){if(!1===i.hasAttribute("data-bx-spline"))this.Mr(t,e);else{var s=Ol(i);"basis"===s.type?this.Pr(t,e,s):"catmull"===s.type||s.type;}},_r:function _r(t,e){if(!1===t.hasAttribute("data-bx-spline"))this.Dr(t,e);else{var _i593=Ol(t);"basis"===_i593.type?this.zr(t,e):"catmull"===_i593.type||_i593.type;}},ur:function ur(t){var e=t.target.closest(".outline-grippie")[Lc];if(!1===e.hasAttribute("data-bx-spline"))this.Or(t);else{var _i594=Ol(e);"basis"===_i594.type?this.Er(t):"catmull"===_i594.type||_i594.type;}},Mr:function Mr(t,e){var _this316=this;var i,_s315,n,o=e.closest(".outline-grippie"),l=o[Lc],a=at(l.getPathData({normalize:!0})),h=_toConsumableArray(o.children).indexOf(e),r=a[h],d=a[h-1],c=a[h+1],p=kt(r,a),u=zt(r,a),x=null,b=null,m=!1,g=!1,f=null,w=null,v=null,y=null,k=null,S=this.gr(l).inverse();if(this.un.undoManager.checkpoint("Edit spline"),this.Yh=o,this["#outline-grippies"].style.display="none","line"===l.localName||"polyline"===l.localName||"polygon"===l.localName){var _t871=$i("svg:path");var _iterator488=_createForOfIteratorHelper(l.attributes),_step488;try{for(_iterator488.s();!(_step488=_iterator488.n()).done;){var _e653=_step488.value;!1===["x1","y1","x2","y2","points"].includes(_e653.name)&&_t871.setAttribute(_e653.name,_e653.value);}}catch(err){_iterator488.e(err);}finally{_iterator488.f();}_t871.setPathData(a),l.replaceWith(_t871);var _e652=this.un.selectedElements.map(function(e){return e===l?_t871:e;}),_i595=this.selectedNodes.map(function(e){return e.spline===l?{spline:_t871,index:e.index}:e;});this.un.selectedElements=_e652,this.selectedNodes=_i595,l=_t871;}Pt(a),x="M"===d.type&&u?p[p.length-2]:d,c&&("Z"===c.type?b=u?p[1]:null:"C"===c.type&&(b=c));{var _i596=new DOMPoint(t.clientX,t.clientY).matrixTransform(S);v=new DOMPoint(_i596.x,_i596.y),y=yt(e,_i596)[0],k=new Q(_i596,y),"M"===x.type||"L"===x.type?f=new DOMPoint(x.values[0],x.values[1]):"C"===x.type&&(f=new DOMPoint(x.values[4],x.values[5])),"M"===r.type||"L"===r.type?w=new DOMPoint(r.values[0],r.values[1]):"C"===r.type&&(w=new DOMPoint(r.values[4],r.values[5]));}var C=function C(){var _this316$Js$modKeys=_this316.Js.modKeys,t=_this316$Js$modKeys.ctrl,e=_this316$Js$modKeys.shift;!0===t&&!1===e?(m=!1,g=!1):!1===t&&!0===e?(m=!(!x||"C"!==x.type)&&"smooth",g=!(!b||"C"!==b.type)&&"smooth"):!0===t&&!0===e?(m=!(!x||"C"!==x.type)&&"symmetric-smooth",g=!(!b||"C"!==b.type)&&"symmetric-smooth"):!1===t&&!1===e&&(m=St(x,r),g=St(r,b));},_=function _(){var t=new DOMPoint(r.values[0],r.values[1]),e=new DOMPoint(r.values[2],r.values[3]),i=zc(y,f,t,e,w),s=1;if(i<=1/6?s=0:i<=.5?s=Tc((6*i-1)/2,3)/2:i<=5/6&&(s=(1-Tc((6*(1-i)-1)/2,3))/2+.5),-1===i)return;var n=(1-s)/(3*i*(1-i)*(1-i)),o=s/(3*i*i*(1-i)),h=v.x-y.x,d=v.y-y.y;r.values[0]=r.values[0]+n*h,r.values[1]=r.values[1]+n*d,r.values[2]=r.values[2]+o*h,r.values[3]=r.values[3]+o*d,"smooth"===m?Ct(r,x,!1):"symmetric-smooth"===m&&Ct(r,x,!0),"smooth"===g?_t(r,b,!1):"symmetric-smooth"===g&&_t(r,b,!0),y=v,l.setPathData(a);};window.addEventListener("pointermove",i=function i(t){v=new DOMPoint(t.clientX,t.clientY).matrixTransform(S),v.x+=k.x,v.y+=k.y,_();}),window.addEventListener("pointerup",_s315=function s(t){_this316.Js.removeEventListener("modkeyschange",n),window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",_s315),Dt(a);var _iterator489=_createForOfIteratorHelper(a),_step489;try{for(_iterator489.s();!(_step489=_iterator489.n()).done;){var _t872=_step489.value;_t872.values=_t872.values.map(function(t){return J(t,_this316.un.geometryPrecision);});}}catch(err){_iterator489.e(err);}finally{_iterator489.f();}l.setPathData(a),_this316.Yh=null,_this316["#outline-grippies"].style.display=null,_this316.Xh();}),this.Js.addEventListener("modkeyschange",n=function n(){C(),_();}),C();},Dr:function Dr(t,e){var i=at(t.getPathData({normalize:!0})),s=e-1,n=i[e],o=i[s],l=kt(n,i),a=zt(n,i);o?a&&"M"===o.type?"polygon"===t.localName?this.Gh=[{spline:t,index:e},{spline:t,index:0}]:"path"===t.localName&&(this.Gh=[{spline:t,index:e},{spline:t,index:l.length-2}]):this.Gh=[{spline:t,index:e},{spline:t,index:s}]:this.Gh=[{spline:t,index:e}],this.Uh(),this.Fh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Or:function Or(t){var _this317=this;var e=t.target.closest(".outline-grippie"),i=t.target,s=e[Lc],n=this.gr(s).inverse(),o=null,l=null,a=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_yt=yt(i,a),_yt2=_slicedToArray(_yt,1),h=_yt2[0],r=at(s.getPathData({normalize:!0})),d=_toConsumableArray(e.children).indexOf(i),c=r[d];if("L"===c.type){var _t873=new DOMPoint(c.values[0],c.values[1]);o={type:"L",values:[h.x,h.y]},l={type:"L",values:[_t873.x,_t873.y]};}else if("C"===c.type){var _t874,_e654=r[d-1]||null;"M"===_e654.type||"L"===_e654.type?_t874=new DOMPoint(_e654.values[0],_e654.values[1]):"C"===_e654.type&&(_t874=new DOMPoint(_e654.values[4],_e654.values[5]));var _i597=new DOMPoint(c.values[4],c.values[5]),_s316=new DOMPoint(c.values[0],c.values[1]),_n245=new DOMPoint(c.values[2],c.values[3]),_a137=zc(h,_t874,_s316,_n245,_i597),_p40=function(t,e,i,s,n){var o=(e.x-t.x)*n+t.x,l=(e.y-t.y)*n+t.y,a=(i.x-e.x)*n+e.x,h=(i.y-e.y)*n+e.y,r=(s.x-i.x)*n+i.x,d=(s.y-i.y)*n+i.y,c=(a-o)*n+o,p=(h-l)*n+l,u=(r-a)*n+a,x=(d-h)*n+h,b=(u-c)*n+c,m=(x-p)*n+p;return[[new DOMPoint(t.x,t.y),new DOMPoint(o,l),new DOMPoint(c,p),new DOMPoint(b,m)],[new DOMPoint(b,m),new DOMPoint(u,x),new DOMPoint(r,d),new DOMPoint(s.x,s.y)]];}(_t874,_s316,_n245,_i597,_a137);if(-1===_a137)return;o={type:"C",values:[_p40[0][1].x,_p40[0][1].y,_p40[0][2].x,_p40[0][2].y,_p40[0][3].x,_p40[0][3].y]},l={type:"C",values:[_p40[1][1].x,_p40[1][1].y,_p40[1][2].x,_p40[1][2].y,_p40[1][3].x,_p40[1][3].y]};}this.un.undoManager.checkpoint("Add node"),r=[].concat(_toConsumableArray(r.slice(0,d)),[o,l],_toConsumableArray(r.slice(d+1)));var _iterator490=_createForOfIteratorHelper(r),_step490;try{for(_iterator490.s();!(_step490=_iterator490.n()).done;){var _t876=_step490.value;_t876.values=_t876.values.map(function(t){return J(t,_this317.un.geometryPrecision);});}}catch(err){_iterator490.e(err);}finally{_iterator490.f();}if("line"===s.localName){var _t875=$i("svg:polyline");var _iterator491=_createForOfIteratorHelper(s.attributes),_step491;try{for(_iterator491.s();!(_step491=_iterator491.n()).done;){var _e655=_step491.value;!1===["x1","y1","x2","y2"].includes(_e655.name)&&_t875.setAttribute(_e655.name,_e655.value);}}catch(err){_iterator491.e(err);}finally{_iterator491.f();}_t875.setAttribute("points",r.map(function(t){return t.values;}).flat().join(" ")),s.replaceWith(_t875),this.un.selectedElements=this.un.selectedElements.map(function(e){return e===s?_t875:e;}),s=_t875;}else"polyline"===s.localName||"polygon"===s.localName?s.setAttribute("points",r.map(function(t){return t.values;}).flat().join(" ")):s.setPathData(r);this.Gh=[{spline:s,index:d}],this.Zh(),this.Kh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Pr:function Pr(t,e,i){console.log("@todo: Drag basis spline nodes.");},zr:function zr(t){console.log("@todo: Select basis spline nodes.");},Tr:function Tr(t){console.log("@todo: Add basis spline node.");},Xh:function Xh(){if(this.Yh||this.Hh||this.Wh)return;var t=document.createDocumentFragment();var _iterator492=_createForOfIteratorHelper(this.Vh),_step492;try{for(_iterator492.s();!(_step492=_iterator492.n()).done;){var _e656=_step492.value;var _i598=this.Ar(_e656),s=at(_e656.getPathData({normalize:!0})),_n246=$i("svg:g");_n246[Lc]=_e656,_n246.setAttribute("class","outline-grippie"),_n246.setAttribute("transform",_i598.toString()),t.append(_n246);var _o200=0,_l189=0,_a138=0,_h119=0;var _iterator493=_createForOfIteratorHelper(s),_step493;try{for(_iterator493.s();!(_step493=_iterator493.n()).done;){var _t877=_step493.value;var _e657=$i("svg:path");"M"===_t877.type?(_e657.setPathData([_t877]),_o200=_t877.values[0],_l189=_t877.values[1],_a138=_o200,_h119=_l189):"C"===_t877.type?(_e657.setPathData([{type:"M",values:[_o200,_l189]},_t877]),_o200=_t877.values[4],_l189=_t877.values[5]):"L"===_t877.type?(_e657.setPathData([{type:"M",values:[_o200,_l189]},_t877]),_o200=_t877.values[0],_l189=_t877.values[1]):"Z"===_t877.type&&(_e657.setPathData([{type:"M",values:[_o200,_l189]},{type:"L",values:[_a138,_h119]}]),_o200=_a138,_l189=_h119),_n246.append(_e657);}}catch(err){_iterator493.e(err);}finally{_iterator493.f();}}}catch(err){_iterator492.e(err);}finally{_iterator492.f();}this["#outline-grippies"].innerHTML="",this["#outline-grippies"].append(t),this.sr();},Zh:function Zh(){var _this318=this;if(this.Yh||this.Wh)return;var t=document.createDocumentFragment(),e=$c/this.un.scale,i=.3*e,s=function s(t,_s317,n,o,l,a){var h=$i("svg:g");h.setAttribute("class","node-grippie"),h.setAttribute("data-position",t),h[Lc]=_s317,h[Rc]=n,h[Gc]=o;var r=o.matrixTransform(l),d="<circle class=\"outer-circle\" cx=\"".concat(r.x,"\" cy=\"").concat(r.y,"\" r=\"").concat(e,"\"></circle>");return"start"!==t&&"end"!==t||(d+="<circle class=\"inner-circle\" cx=\"".concat(r.x,"\" cy=\"").concat(r.y,"\" r=\"").concat(i,"\"></circle>")),h.innerHTML=d,a&&h.setAttribute("data-selected",""),h;};var _iterator494=_createForOfIteratorHelper(this.Vh),_step494;try{var _loop12=function _loop12(){var e=_step494.value;var i=[],n=_this318.Ar(e);if("line"===e.localName){var _loop13=function _loop13(){var t=_arr24[_i599];var o=_this318.Gh.find(function(i){return i.spline===e&&i.index===t;}),l=new DOMPoint(e["x".concat(t+1)].baseVal.value,e["y".concat(t+1)].baseVal.value),a=s(0===t?"start":"end",e,t,l,n,o);i.push(a);};for(var _i599=0,_arr24=[0,1];_i599<_arr24.length;_i599++){_loop13();}}else if("polyline"===e.localName){var _loop14=function _loop14(_t878){var o=_this318.Gh.find(function(i){return i.spline===e&&i.index===_t878;}),l=DOMPoint.fromPoint(e.points[_t878]),a="mid";0===_t878?a="start":_t878===e.points.length-1&&(a="end");var h=s(a,e,_t878,l,n,o);i.push(h);};for(var _t878=0;_t878<e.points.length;_t878+=1){_loop14(_t878);}}else if("polygon"===e.localName){var _loop15=function _loop15(_t879){var o=_this318.Gh.find(function(i){return i.spline===e&&i.index===_t879;}),l=DOMPoint.fromPoint(e.points[_t879]),a=s("mid",e,_t879,l,n,o);i.push(a);};for(var _t879=0;_t879<e.points.length;_t879+=1){_loop15(_t879);}}else if("path"===e.localName){var _t880=Ol(e);if(null===_t880){(function(){var t=at(e.getPathData({normalize:!0})),o=-1;var _iterator495=_createForOfIteratorHelper(rt(t)),_step495;try{for(_iterator495.s();!(_step495=_iterator495.n()).done;){var _l190=_step495.value;var _t881="Z"===_l190[_l190.length-1].type,_a139=-1;var _iterator496=_createForOfIteratorHelper(_l190),_step496;try{for(_iterator496.s();!(_step496=_iterator496.n()).done;){var _h120=_step496.value;_a139+=1,o+=1;var _r71=void 0,_d56=_this318.Gh.find(function(t){return t.spline===e&&t.index===o;}),_c42="mid",_p41=(_l190[_a139-1],_l190[_a139+1]||null);if("C"===_h120.type)_r71=new DOMPoint(_h120.values[4],_h120.values[5]),!1===_t881&&null===_p41&&(_c42="end");else if("L"===_h120.type)_r71=new DOMPoint(_h120.values[0],_h120.values[1]),!1===_t881&&null===_p41&&(_c42="end");else{if("M"!==_h120.type)continue;if(!1!==_t881)continue;_r71=new DOMPoint(_h120.values[0],_h120.values[1]),_c42="start";}var _u37=s(_c42,e,o,_r71,n,_d56);i.push(_u37);}}catch(err){_iterator496.e(err);}finally{_iterator496.f();}}}catch(err){_iterator495.e(err);}finally{_iterator495.f();}})();}else if("basis"===_t880.type){var _o201=_t880.controlPoints.length;var _loop16=function _loop16(_l191){var a=_this318.Gh.find(function(t){return t.spline===e&&t.index===_l191;}),h=new DOMPoint(_t880.controlPoints[_l191][0],_t880.controlPoints[_l191][1]),r="mid";!1===_t880.closed&&(0===_l191?r="start":_l191===_o201-1&&(r="end"));var d=s(r,e,_l191,h,n,a);i.push(d);};for(var _l191=0;_l191<_o201;_l191+=1){_loop16(_l191);}}else"catmull"===_t880.type||_t880.type;}for(var _i601=0,_i600=i;_i601<_i600.length;_i601++){var _e658=_i600[_i601];!1===_e658.hasAttribute("data-selected")&&t.append(_e658);}for(var _i603=0,_i602=i;_i603<_i602.length;_i603++){var _e659=_i602[_i603];!0===_e659.hasAttribute("data-selected")&&t.append(_e659);}};for(_iterator494.s();!(_step494=_iterator494.n()).done;){_loop12();}}catch(err){_iterator494.e(err);}finally{_iterator494.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t);},Kh:function Kh(){var _this319=this;var t=document.createDocumentFragment(),e=document.createDocumentFragment();var _iterator497=_createForOfIteratorHelper(this.Vh),_step497;try{var _loop17=function _loop17(){var i=_step497.value;if("path"===i.localName){var s=Ol(i),_n247=_this319.Ar(i);if(null===s){var _s318=at(i.getPathData({normalize:!0})),_o202=_this319.Gh.filter(function(t){return t.spline===i;}).map(function(t){return t.index;});var _iterator498=_createForOfIteratorHelper(_o202),_step498;try{for(_iterator498.s();!(_step498=_iterator498.n()).done;){var _l192=_step498.value;var _o203=_s318[_l192],_a140=_s318[_l192+1]||null,_h121=kt(_o203,_s318);if(_h121){var _r72=void 0,_d57=_h121[1],_c43=_s318.indexOf(_d57),_p42=null,_u38=null;if("M"===_o203.type||"L"===_o203.type?_r72=new DOMPoint(_o203.values[0],_o203.values[1]):"C"===_o203.type&&(_r72=new DOMPoint(_o203.values[4],_o203.values[5])),"C"===_o203.type&&(_p42=new DOMPoint(_o203.values[2],_o203.values[3])),_a140&&("C"===_a140.type?_u38=new DOMPoint(_a140.values[0],_a140.values[1]):"Z"===_a140.type&&"C"===_d57.type&&(_u38=new DOMPoint(_d57.values[0],_d57.values[1]))),_p42&&!1===De(_r72,_p42)){var _s319=_r72.matrixTransform(_n247),_o204=_p42.matrixTransform(_n247),_a141=$i("svg:circle");_a141.setAttribute("class","helper-grippie"),_a141.setAttribute("data-index","2"),_a141.setAttribute("cx",_o204.x),_a141.setAttribute("cy",_o204.y),_a141.setAttribute("r",Ic/_this319.un.scale),_a141[Lc]=i,_a141[Rc]=_l192;var _h122=$i("svg:line");_h122.setAttribute("class","helper-line"),_h122.setAttribute("x1",_s319.x),_h122.setAttribute("y1",_s319.y),_h122.setAttribute("x2",_o204.x),_h122.setAttribute("y2",_o204.y),t.append(_a141),e.append(_h122);}if(_u38&&!1===De(_r72,_u38)){var _s320=_r72.matrixTransform(_n247),_o205=_u38.matrixTransform(_n247),_h123=$i("svg:circle");_h123.setAttribute("class","helper-grippie"),_h123.setAttribute("data-index","1"),_h123.setAttribute("cx",_o205.x),_h123.setAttribute("cy",_o205.y),_h123.setAttribute("r",Ic/_this319.un.scale),_h123[Lc]=i,_h123[Rc]="Z"===_a140.type?_c43:_l192+1;var _d58=$i("svg:line");_d58.setAttribute("class","helper-line"),_d58.setAttribute("x1",_s320.x),_d58.setAttribute("y1",_s320.y),_d58.setAttribute("x2",_o205.x),_d58.setAttribute("y2",_o205.y),t.append(_h123),e.append(_d58);}}}}catch(err){_iterator498.e(err);}finally{_iterator498.f();}}else if("basis"===s.type){if(s.controlPoints.length>1){var _t882=s.controlPoints.map(function(t){return _construct(DOMPoint,_toConsumableArray(t));});_t882=_t882.map(function(t){return t.matrixTransform(_n247);}).map(function(t){return[t.x,t.y];});var _i604=$i("svg:polyline");_i604.setAttribute("class","helper-line"),_i604.setAttribute("points",_t882.flat().join(" ")),e.append(_i604);}}else"catmull"===s.type||s.type;}};for(_iterator497.s();!(_step497=_iterator497.n()).done;){_loop17();}}catch(err){_iterator497.e(err);}finally{_iterator497.f();}this["#helper-grippies"].innerHTML="",this["#helper-grippies"].append(t),this["#helper-lines"].innerHTML="",this["#helper-lines"].append(e);},Jh:function Jh(){var t=$c/this.un.scale,e=.3*t;var _iterator499=_createForOfIteratorHelper(this["#node-grippies"].children),_step499;try{for(_iterator499.s();!(_step499=_iterator499.n()).done;){var _i605=_step499.value;_i605.children[0].setAttribute("r",t),_i605.children[1]&&_i605.children[1].setAttribute("r",e);}}catch(err){_iterator499.e(err);}finally{_iterator499.f();}},er:function er(){var _iterator500=_createForOfIteratorHelper(this["#helper-grippies"].children),_step500;try{for(_iterator500.s();!(_step500=_iterator500.n()).done;){var _t883=_step500.value;_t883.setAttribute("r",Ic/this.un.scale);}}catch(err){_iterator500.e(err);}finally{_iterator500.f();}},sr:function sr(){var _iterator501=_createForOfIteratorHelper(this["#outline-grippies"].children),_step501;try{for(_iterator501.s();!(_step501=_iterator501.n()).done;){var _t884=_step501.value;var _e660=_t884[Lc],_i606=getComputedStyle(_e660),s=Ac(_i606.getPropertyValue("stroke-width"))*this.un.scale;s<10&&(s=10),_t884.style.setProperty("stroke-width",s);}}catch(err){_iterator501.e(err);}finally{_iterator501.f();}},Nh:function Nh(){var t=[];var _iterator502=_createForOfIteratorHelper(this.Vh),_step502;try{for(_iterator502.s();!(_step502=_iterator502.n()).done;){var _e661=_step502.value;if("polygon"===_e661.localName||"polyline"===_e661.localName)for(var _i607=0;_i607<_e661.points.length;_i607+=1){t.push({spline:_e661,index:_i607});}else if("line"===_e661.localName)t.push({spline:_e661,index:0}),t.push({spline:_e661,index:1});else if("path"===_e661.localName)if(!1===_e661.hasAttribute("data-bx-spline")){var _i608=at(_e661.getPathData({normalize:!0}));for(var s=0;s<_i608.length;s+=1){var _n248=_i608[s];("C"===_n248.type||"L"===_n248.type||"M"===_n248.type&&!1===zt(_n248,_i608))&&t.push({spline:_e661,index:s});}}else{var _i609=Ol(_e661);if("basis"===_i609.type)for(var _s321=0;_s321<_i609.controlPoints.length;_s321+=1){t.push({spline:_e661,index:_s321});}else"catmull"===_i609.type||_i609.type;}}}catch(err){_iterator502.e(err);}finally{_iterator502.f();}this.Gh=t,this.Zh(),this.Kh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},deselectAllSegs:function deselectAllSegs(){this.Gh=[],this.enabled&&(this.Uh(),this.Fh(),this.dispatchEvent(new CustomEvent("selectednodeschange")));},lr:function lr(){var _this320=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"smooth";this.un.undoManager.checkpoint("Delete segments");var _iterator503=_createForOfIteratorHelper(this.Vh),_step503;try{var _loop18=function _loop18(){var e=_step503.value;if("line"===e.localName){var _t885=_this320.Gh.filter(function(t){return t.spline===e;});2===_t885.length?(e.remove(),_this320.un.selectedElements=_this320.un.selectedElements.filter(function(t){return t!==e;})):1===_t885.length&&(0===_t885[0].index?(e.setAttribute("x1",e.x2.baseVal.value),e.setAttribute("y1",e.y2.baseVal.value)):(e.setAttribute("x2",e.x1.baseVal.value),e.setAttribute("y2",e.y1.baseVal.value)));}else if("polyline"===e.localName||"polygon"===e.localName){var _t886=_this320.Gh.filter(function(t){return t.spline===e;});if(_t886.length===e.points.length)e.remove(),_this320.un.selectedElements=_this320.un.selectedElements.filter(function(t){return t!==e;});else{var _i610=_toConsumableArray(e.points);var _iterator504=_createForOfIteratorHelper(_t886),_step504;try{for(_iterator504.s();!(_step504=_iterator504.n()).done;){var _e662=_step504.value;_i610[_e662.index]=null;}}catch(err){_iterator504.e(err);}finally{_iterator504.f();}e.setAttribute("points",_i610.filter(function(t){return null!==t;}).map(function(t){return[t.x,t.y];}).flat().join(" "));}}else if("path"===e.localName){var _i611=Ol(e);if(null===_i611){var _i612=at(e.getPathData({normalize:!0}));Pt(_i612);var s=_this320.Gh.filter(function(t){return t.spline===e;});s=s.map(function(t){return t.index;}),s=s.sort(function(t,e){return e-t;});var _n249=s.filter(function(t){return"C"===_i612[t].type;}),_o206=s.filter(function(t){return"M"===_i612[t].type;});if(0===s.length)return"continue";var _iterator505=_createForOfIteratorHelper(_n249),_step505;try{var _loop19=function _loop19(){var e=_step505.value;var s=_i612[e],n=_i612[e+1]||null,o=_i612[e-1]||null;if(null===n)_i612=_i612.filter(function(t){return t!==s;});else if("M"===n.type)_i612=_i612.filter(function(t){return t!==s;});else if("Z"===n.type){var _e663=kt(s,_i612),_n250=_e663[0],_l193=_e663[1];_i612=_i612.filter(function(t){return t!==s;}),"L"===o.type||"M"===o.type?(_n250.values[0]=o.values[0],_n250.values[1]=o.values[1]):"C"===o.type&&(_n250.values[0]=o.values[4],_n250.values[1]=o.values[5]),"C"===_l193.type&&("smooth"===t?(_l193.values[0]=s.values[0],_l193.values[1]=s.values[1]):"sharp"===t&&("L"===o.type||"M"===o.type?(_l193.values[0]=o.values[0],_l193.values[1]=o.values[1]):"C"===o.type&&(_l193.values[0]=o.values[4],_l193.values[1]=o.values[5]),_l193.values[2]=_l193.values[4],_l193.values[3]=_l193.values[5]));}else"C"===n.type?(_i612=_i612.filter(function(t){return t!==s;}),"smooth"===t?(n.values[0]=s.values[0],n.values[1]=s.values[1]):"sharp"===t&&("M"===o.type||"L"===o.type?(n.values[0]=o.values[0],n.values[1]=o.values[1]):"C"===o.type&&(n.values[0]=o.values[4],n.values[1]=o.values[5]),n.values[2]=n.values[4],n.values[3]=n.values[5])):"L"===n.type&&(_i612=_i612.filter(function(t){return t!==s;}));};for(_iterator505.s();!(_step505=_iterator505.n()).done;){_loop19();}}catch(err){_iterator505.e(err);}finally{_iterator505.f();}var _iterator506=_createForOfIteratorHelper(_o206),_step506;try{for(_iterator506.s();!(_step506=_iterator506.n()).done;){var _t887=_step506.value;var _e664=_i612[_t887],_s322=kt(_e664,_i612);if(_s322.length>1){(function(){var t=_s322[0],e=_s322[1];_i612=_i612.filter(function(t){return t!==e;}),"L"===e.type?(t.values[0]=e.values[0],t.values[1]=e.values[1]):"C"===e.type&&(t.values[0]=e.values[4],t.values[1]=e.values[5]);})();}}}catch(err){_iterator506.e(err);}finally{_iterator506.f();}var _iterator507=_createForOfIteratorHelper(rt(_i612)),_step507;try{for(_iterator507.s();!(_step507=_iterator507.n()).done;){var _t888=_step507.value;var _e665=_t888.filter(function(t){return"C"===t.type;}),_s323="Z"===_t888[_t888.length-1].type?2:1;if(_e665.length<_s323){var _iterator509=_createForOfIteratorHelper(_t888),_step509;try{var _loop20=function _loop20(){var e=_step509.value;_i612=_i612.filter(function(t){return t!==e;});};for(_iterator509.s();!(_step509=_iterator509.n()).done;){_loop20();}}catch(err){_iterator509.e(err);}finally{_iterator509.f();}}}}catch(err){_iterator507.e(err);}finally{_iterator507.f();}Dt(_i612);var _iterator508=_createForOfIteratorHelper(_i612),_step508;try{for(_iterator508.s();!(_step508=_iterator508.n()).done;){var _t889=_step508.value;_t889.values=_t889.values.map(function(t){return J(t,_this320.un.geometryPrecision);});}}catch(err){_iterator508.e(err);}finally{_iterator508.f();}e.setPathData(_i612),!1===e.hasAttribute("d")&&e.remove();}else if("basis"===_i611.type){var _t890=_this320.Gh.filter(function(t){return t.spline===e;});if(_t890.length===_i611.controlPoints.length)e.remove(),_this320.un.selectedElements=_this320.un.selectedElements.filter(function(t){return t!==e;});else{var _iterator510=_createForOfIteratorHelper(_t890),_step510;try{for(_iterator510.s();!(_step510=_iterator510.n()).done;){var _e666=_step510.value;_i611.controlPoints[_e666.index]=null;}}catch(err){_iterator510.e(err);}finally{_iterator510.f();}_i611.controlPoints=_i611.controlPoints.filter(function(t){return null!==t;}),El(e,_i611);}}else"catmull"===_i611.type||_i611.type;}};for(_iterator503.s();!(_step503=_iterator503.n()).done;){var _ret=_loop18();if(_ret==="continue")continue;}}catch(err){_iterator503.e(err);}finally{_iterator503.f();}this.Gh=[],this.Zh(),this.Kh(),this.Xh(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},br:function br(t){var e=0,i=t[Rc],s=t[Lc];if("path"===s.localName&&!1===s.hasAttribute("data-bx-spline")){var _t891=s.getPathData({normalize:!0}),_n251=rt(_t891);e=function(){var t=-1,e=-1;var _iterator511=_createForOfIteratorHelper(_n251),_step511;try{for(_iterator511.s();!(_step511=_iterator511.n()).done;){var _s324=_step511.value;t+=1;var _iterator512=_createForOfIteratorHelper(_s324),_step512;try{for(_iterator512.s();!(_step512=_iterator512.n()).done;){var _n252=_step512.value;if(e+=1,e===i)return t;}}catch(err){_iterator512.e(err);}finally{_iterator512.f();}}}catch(err){_iterator511.e(err);}finally{_iterator511.f();}}();}return e;},nr:function nr(){var _this321=this;var t=[],e=[],i=function i(s){var _iterator513=_createForOfIteratorHelper(s),_step513;try{for(_iterator513.s();!(_step513=_iterator513.n()).done;){var _n253=_step513.value;if("path"===_n253.localName)_n253.hasAttribute("d")&&!_n253.hasAttribute("data-bx-shape")&&(_n253[Bc]=null,t.push(_n253));else if("polyline"===_n253.localName||"polygon"===_n253.localName||"line"===_n253.localName)_n253[Bc]=null,t.push(_n253);else if("text"===_n253.localName){var _t892=_n253,_i613=_toConsumableArray(_n253.children).find(function(t){return"textPath"===t.localName;});if(_i613){var _s325=_i613.getAttribute("href");if(_s325){var _i614=_s325.trim().substring(1),_n254=_this321.un.workspaces.querySelector("#"+CSS.escape(_i614));_n254&&_n254.hasAttribute("d")&&!_n254.hasAttribute("data-bx-shape")&&(_n254[Bc]=_t892,e.push(_n254));}}}else["g","a"].includes(_n253.localName)&&i(_n253.children);}}catch(err){_iterator513.e(err);}finally{_iterator513.f();}};return i(this.un.selectedElements),t=t.filter(function(t){return!1===e.includes(t);}),[].concat(_toConsumableArray(t),e);},gr:function gr(t){var e=null,i=t[Bc];if(i){var s=Ht(t);e=t.closest("defs")?Yt(i).multiply(s):Yt(i.parentElement).multiply(s);}else e=Yt(t);return e;},Ar:function Ar(t){var e=null,i=t[Bc];if(i){var s;s=t.closest("defs")?Wt(i,this):Wt(i.parentElement,this);var _n255=Ht(t);e=s.multiply(_n255);}else e=Wt(t,this);return e;}};var Fc=$i("svg:marker"),Nc=function Nc(t){return t.hasAttribute("refX")?Fc.setAttribute("refX",t.getAttribute("refX")):Fc.removeAttribute("refX"),t.hasAttribute("refY")?Fc.setAttribute("refY",t.getAttribute("refY")):Fc.removeAttribute("refY"),new DOMPoint(Fc.refX.baseVal.value,Fc.refY.baseVal.value);},jc=function jc(t){return t.hasAttribute("orient")?Fc.setAttribute("orient",t.getAttribute("orient")):Fc.removeAttribute("orient"),[Fc.orientType.baseVal,Fc.orientAngle.baseVal.value];},Vc=Math.abs,Hc=Symbol(),Wc=Symbol(),Yc=Symbol(),qc=Symbol();var Xc={id:"view-hud",createdCallback:function createdCallback(){var _this322=this;this.$r=!1,this.Za=ts(this.Xs,200,this),this.innerHTML='\n  <style>\n    #view-hud .grippie[data-position="center"] {\n      fill: rgba(0, 0, 0, 0);\n      shape-rendering: crispEdges;\n    }\n    #view-hud .grippie[data-position="center"] {\n      cursor: -webkit-grab;\n    }\n    #view-hud .grippie[data-position="center"]:active {\n      cursor: -webkit-grabbing;\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"],\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      stroke: red;\n      vector-effect: non-scaling-stroke;\n      stroke-width: 8;\n      opacity: 0;\n    }\n\n    #view-hud .grippie[data-position="top-left"] rect,\n    #view-hud .grippie[data-position="top-right"] rect,\n    #view-hud .grippie[data-position="bottom-left"] rect,\n    #view-hud .grippie[data-position="bottom-right"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .grippie[data-position="top-left"] path,\n    #view-hud .grippie[data-position="top-right"] path,\n    #view-hud .grippie[data-position="bottom-left"] path,\n    #view-hud .grippie[data-position="bottom-right"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="top-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="top-right"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-right"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"] {\n      cursor: ew-resize;\n    }\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      cursor: ns-resize;\n    }\n    #view-hud .grippie[data-position="top-left"] {\n      cursor: nwse-resize;\n    }\n    #view-hud .grippie[data-position="top-right"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-left"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-right"] {\n      cursor: nwse-resize;\n    }\n\n    #view-hud .grippie[data-position="ref"] {\n      display: none;\n      cursor: default;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] {\n      display: initial;\n    }\n    #view-hud .grippie[data-position="ref"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n    #view-hud .grippie[data-position="ref"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .label {\n      pointer-events: none;\n      font-weight: 700;\n      fill: #636363;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <rect class="grippie" data-position="center"></rect>\n\n      <line class="grippie" data-position="left"></line>\n      <line class="grippie" data-position="right"></line>\n      <line class="grippie" data-position="top"></line>\n      <line class="grippie" data-position="bottom"></line>\n\n      <g class="grippie" data-position="top-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="top-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n      </g>\n\n      <g class="grippie" data-position="ref">\n        <rect width="24" height="24"></rect>\n        <path d="M 24 10 L 24 14 L 14 14 L 14 24 L 10 24 L 10 14 L 0 14 L 0 10 L 10 10 L 10 0 L 14 0 L 14 10 Z"/>\n      </g>\n\n      <text class="label">Default view</text>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator514=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step514;try{for(_iterator514.s();!(_step514=_iterator514.n()).done;){var _t893=_step514.value;this["#"+_t893.getAttribute("uid")]=_t893;}}catch(err){_iterator514.e(err);}finally{_iterator514.f();}this.addEventListener("pointerdown",function(t){_this322.Oo(t);}),this.addEventListener("dblclick",function(t){_this322.ma(t);});},enabledCallback:function enabledCallback(){var _this323=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.$r=this.Js.getConfig("bx-viewsettings:showIds",!1),this.Ir=this.Js.getConfig("bx-viewsettings:moveObjects",!1),this.Lr=!1,this.Br=!1,this.Rr=!1,this.Js.addEventListener("configchange",this.ln=function(t){_this323.an(t);}),this.un.addEventListener("selectedelementschange",this.al=function(){_this323.Gr();}),this.un.addEventListener("zoomchange",this.hn=function(){_this323.cl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this323.pl(t.detail);}),this.xl(),this.Gr();},disabledCallback:function disabledCallback(){this["#subhuds"].innerHTML="",this.Js.removeEventListener("configchange",this.ln),this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("zoomchange",this.hn),this.un.removeEventListener("workspacemutation",this.rn);},an:function an(t){var _t$detail3=t.detail,e=_t$detail3.key,i=_t$detail3.value;"bx-viewsettings:showIds"===e?(this.$r=this.Js.getConfig("bx-viewsettings:showIds",!1),this.xl()):"bx-viewsettings:moveObjects"===e&&(this.Ir=this.Js.getConfig("bx-viewsettings:moveObjects",!1));},pl:function pl(t){this.Lr||this.Br||this.Rr?this.Ur():this.xl();},cl:function cl(){this.Ur();},Oo:function Oo(t){1===t.buttons&&t.target.closest(".grippie")&&this.ml(t);},ml:function ml(t){var _this324=this;var _e667,_i615,s=this.un,n=t.target.closest(".grippie"),o=n.closest(".subhud")[Hc],l=new DOMPoint(t.clientX,t.clientY),a=l;s.selectedElements="view"===o.localName?[o]:[],window.addEventListener("pointermove",_e667=function e(i){var s=new DOMPoint(i.clientX,i.clientY),o=i.timeStamp-t.timeStamp,h=Ee(l,s)>3||o>80,r=!1===De(a,s,0);if(a=s,!0===h&&!0===r){window.removeEventListener("pointermove",_e667);var _s326=new Q(i.clientX-t.clientX,i.clientY-t.clientY),_o207=Vc(_s326.x)>Vc(_s326.y)?"horizontal":"vertical",_l194=n.getAttribute("data-position");"center"===_l194?_this324.Fr(t,n,_o207):"ref"===_l194?_this324.Nr(t,n,_o207):_this324.jr(t,n,_o207);}}),window.addEventListener("pointerup",_i615=function i(t){window.removeEventListener("pointermove",_e667),window.removeEventListener("pointerup",_i615);});},ma:function ma(t){t.target.closest('.grippie[data-position="ref"]')&&this.Vr(t);},Fr:function Fr(t,e,i){var _this325=this;var s,_n256,o=this.un,l=e.closest(".subhud"),a=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),l[Hc]),h=Ut.fromString(a.getAttribute("viewBox")||"0 0 0 0").toRect(),r=null,d=Yt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=[];if(o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Lr=!0,"marker"===a.getAttribute("data-bx-workspace")&&(r=Nc(this.un.currentWorkspace)),this.Ir){var _iterator515=_createForOfIteratorHelper(o.currentWorkspace.children),_step515;try{for(_iterator515.s();!(_step515=_iterator515.n()).done;){var _t894=_step515.value;if(y.includes(_t894.localName)){var _e668=Wt(_t894,o.vectorCanvas),_i616=Ve(Oi(_t894),_e668);if(qe(_i616,h)){var _e669=Yt(_t894),_i617=_e669.inverse(),_s327=Ht(_t894).multiplySelf(_i617);_t894[qc]={clientToUserTransform:_e669,initialClientTransform:_s327},u.push(_t894);}}}}catch(err){_iterator515.e(err);}finally{_iterator515.f();}}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this325.Js.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=new Q(p,e).matrixTransform(c).transformRect(h);s=Ve(s,d),s=o.snapManager.snapBBox(s),s=Ve(s,c),s=je(s,o.geometryPrecision);var n=new Q(s.x-h.x,s.y-h.y),l=n.matrixTransform(d);a.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height));var _iterator516=_createForOfIteratorHelper(u),_step516;try{for(_iterator516.s();!(_step516=_iterator516.n()).done;){var _t896=_step516.value;var _t896$qc=_t896[qc],_e670=_t896$qc.clientToUserTransform,_i618=_t896$qc.initialClientTransform,_s328=DOMMatrix.fromMatrix(_i618);_s328.translateSelf(l.x,l.y),_s328.multiplySelf(_e670),_t896.setAttribute("transform",_s328.toString());}}catch(err){_iterator516.e(err);}finally{_iterator516.f();}if(r){var _t895=n.transformPoint(r);_t895=ze(_t895,o.geometryPrecision),a.setAttribute("refX",_t895.x),a.setAttribute("refY",_t895.y);}}),window.addEventListener("pointerup",_n256=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n256),o.snapManager.snapEnd(),_this325.Lr=!1;var _iterator517=_createForOfIteratorHelper(u),_step517;try{for(_iterator517.s();!(_step517=_iterator517.n()).done;){var _t897=_step517.value;va(_t897,{geometryPrecision:o.geometryPrecision,transformPrecision:o.transformPrecision});}}catch(err){_iterator517.e(err);}finally{_iterator517.f();}});},jr:function jr(t,e,i){var _this326=this;var s,_n257,o=this.un,l=e.closest(".subhud"),a=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),e.closest(".subhud")[Hc]),h=e.getAttribute("data-position"),r=Ut.fromString(a.getAttribute("viewBox")||"0 0 0 0").toRect(),d=Yt(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=p.matrixTransform(c);o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Br=!0;var x=new DOMPoint(e[Wc],e[Yc]).matrixTransform(d),b=new Q(p,x);window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=o.snapManager.snapPoint(e);!1===De(e,i)&&(e=i,e.x-=b.x,e.y-=b.y);var s=e.matrixTransform(c),n=DOMRect.fromRect(r),l=new Q(u,s);"left"===h?(n.x=r.x+l.x,n.width=r.width-l.x,n.width<0&&(n.x=r.x+r.width,n.width=Vc(n.width))):"right"===h?(n.width=r.width+l.x,n.width<0&&(n.width=Vc(n.width),n.x=r.x-n.width)):"top"===h?(n.height=r.height-l.y,n.y=r.y+l.y,n.height<0&&(n.height=Vc(n.height),n.y=r.y+r.height)):"bottom"===h?(n.height=r.height+l.y,n.height<0&&(n.height=Vc(n.height),n.y=r.y-n.height)):"top-left"===h?(n.width=r.width-l.x,n.height=r.height-l.y,n.x=r.x+l.x,n.y=r.y+l.y,n.width<0&&(n.width=Vc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Vc(n.height),n.y=r.y+r.height)):"top-right"===h?(n.width=r.width+l.x,n.height=r.height-l.y,n.y=r.y+l.y,n.width<0&&(n.width=Vc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Vc(n.height),n.y=r.y+r.height)):"bottom-left"===h?(n.width=r.width-l.x,n.height=r.height+l.y,n.x=r.x+l.x,n.width<0&&(n.width=Vc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=Vc(n.height),n.y=r.y-n.height)):"bottom-right"===h&&(n.width=r.width+l.x,n.height=r.height+l.y,n.width<0&&(n.width=Vc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=Vc(n.height),n.y=r.y-n.height)),n=je(n,o.geometryPrecision),a.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),window.addEventListener("pointerup",_n257=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n257),o.snapManager.snapEnd(),_this326.Br=!1;});},Nr:function Nr(t,e,i){var _this327=this;var s,_n258,o=this.un,l=this.un.currentWorkspace,a=o.geometryPrecision,h=Yt(l),r=h.inverse(),d=Nc(l),c=d.matrixTransform(h),p=new DOMPoint(t.clientX,t.clientY);o.undoManager.checkpoint("Move marker reference point"),o.snapManager.snapStart(),this.Rr=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this327.Js.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(c.x+e.x-p.x,c.y+e.y-p.y)),n=new Q(c,s).matrixTransform(r).transformPoint(d);n=ze(n,a),l.setAttribute("refX",n.x),l.setAttribute("refY",n.y);}),window.addEventListener("pointerup",_n258=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n258),_this327.un.snapManager.snapEnd(),_this327.Rr=!1;});},Vr:function Vr(t){var e=this.un,i=this.un.currentWorkspace,s=e.geometryPrecision;if(e.undoManager.checkpoint("Reset marker reference point"),i.hasAttribute("viewBox")){var _Ut$fromString=Ut.fromString(i.getAttribute("viewBox")),_t898=_Ut$fromString.x,_e671=_Ut$fromString.y,_n259=_Ut$fromString.width,_o208=_Ut$fromString.height,_l195=J(_t898+_n259/2,s),_a142=J(_e671+_o208/2,s);i.setAttribute("refX",_l195),i.setAttribute("refY",_a142);}else i.removeAttribute("refX"),i.removeAttribute("refY");},xl:function xl(){var t=this.un.currentWorkspace;if(this["#subhuds"].innerHTML="",t.hasAttribute("viewBox")){var _e672=this["#subhud-template"].cloneNode(!0);_e672.removeAttribute("uid"),_e672[Hc]=t,this["#subhuds"].append(_e672);}var _iterator518=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step518;try{for(_iterator518.s();!(_step518=_iterator518.n()).done;){var _e673=_step518.value;var _t899=this["#subhud-template"].cloneNode(!0);_t899.removeAttribute("uid"),_t899[Hc]=_e673,this["#subhuds"].append(_t899);}}catch(err){_iterator518.e(err);}finally{_iterator518.f();}this.Gr(),this.Ur();},Gr:function Gr(){var t=this.un.outermostSelectedElements;if(0===t.length){var _iterator519=_createForOfIteratorHelper(this["#subhuds"].children),_step519;try{for(_iterator519.s();!(_step519=_iterator519.n()).done;){var _t900=_step519.value;_t900[Hc]===this.un.currentWorkspace?_t900.setAttribute("data-selected",""):_t900.removeAttribute("data-selected");}}catch(err){_iterator519.e(err);}finally{_iterator519.f();}}else{var _iterator520=_createForOfIteratorHelper(this["#subhuds"].children),_step520;try{for(_iterator520.s();!(_step520=_iterator520.n()).done;){var _e674=_step520.value;t.includes(_e674[Hc])?_e674.setAttribute("data-selected",""):_e674.removeAttribute("data-selected");}}catch(err){_iterator520.e(err);}finally{_iterator520.f();}}},Ur:function Ur(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator521=_createForOfIteratorHelper(this["#subhuds"].children),_step521;try{for(_iterator521.s();!(_step521=_iterator521.n()).done;){var _e675=_step521.value;var _i619=_e675[Hc];if(_e675===t||null===t){var _Ut$fromString2=Ut.fromString(_i619.getAttribute("viewBox")||"0 0 0 0"),_t901=_Ut$fromString2.x,s=_Ut$fromString2.y,_n260=_Ut$fromString2.width,_o209=_Ut$fromString2.height;var _iterator522=_createForOfIteratorHelper(_e675.children),_step522;try{for(_iterator522.s();!(_step522=_iterator522.n()).done;){var _l196=_step522.value;if("text"===_l196.localName){var _e676=_l196;if(_e676.setAttribute("x",_t901),_e676.setAttribute("y",s-10/this.un.scale),_e676.style.fontSize=12/this.un.scale+"px","view"===_i619.localName){if(this.$r)_i619.hasAttribute("id")?(_e676.textContent="#"+_i619.id,_e676.style.fontWeight="700"):(_e676.textContent="Custom view",_e676.style.fontWeight="400");else{var _t902=_i619.querySelector("bx-title");_t902&&_t902.textContent.length>0?(_e676.textContent=_t902.textContent,_e676.style.fontWeight="700"):(_e676.textContent="Custom view",_e676.style.fontWeight="400");}}else _e676.textContent="Default view",_e676.style.fontWeight="400";}else{var _e677=_l196,_a143=_e677.getAttribute("data-position");if("center"===_a143)_e677.x.baseVal.value=_t901,_e677.y.baseVal.value=s,_e677.width.baseVal.value=_n260,_e677.height.baseVal.value=_o209;else if("left"===_a143)_e677.x1.baseVal.value=_t901,_e677.y1.baseVal.value=s,_e677.x2.baseVal.value=_t901,_e677.y2.baseVal.value=s+_o209,_e677[Wc]=_t901,_e677[Yc]=s+_o209/2;else if("right"===_a143)_e677.x1.baseVal.value=_t901+_n260,_e677.y1.baseVal.value=s,_e677.x2.baseVal.value=_t901+_n260,_e677.y2.baseVal.value=s+_o209,_e677[Wc]=_t901+_n260,_e677[Yc]=s+_o209/2;else if("top"===_a143)_e677.x1.baseVal.value=_t901,_e677.y1.baseVal.value=s,_e677.x2.baseVal.value=_t901+_n260,_e677.y2.baseVal.value=s,_e677[Wc]=_t901+_n260/2,_e677[Yc]=s;else if("bottom"===_a143)_e677.x1.baseVal.value=_t901,_e677.y1.baseVal.value=s+_o209,_e677.x2.baseVal.value=_t901+_n260,_e677.y2.baseVal.value=s+_o209,_e677[Wc]=_t901+_n260/2,_e677[Yc]=s+_o209;else if("top-left"===_a143){var _i620=new DOMMatrix();_i620.scaleSelf(1/this.un.scale,1/this.un.scale,1,_t901,s),_i620.translateSelf(_t901-15,s-15),_e677.setAttribute("transform",_i620.toString()),_e677[Wc]=_t901,_e677[Yc]=s;}else if("top-right"===_a143){var _i621=new DOMMatrix();_i621.scaleSelf(1/this.un.scale,1/this.un.scale,1,_t901+_n260,s),_i621.translateSelf(_t901+_n260-15,s-15),_e677.setAttribute("transform",_i621.toString()),_e677[Wc]=_t901+_n260,_e677[Yc]=s;}else if("bottom-left"===_a143){var _i622=new DOMMatrix();_i622.scaleSelf(1/this.un.scale,1/this.un.scale,1,_t901,s+_o209),_i622.translateSelf(_t901-15,s+_o209-15),_e677.setAttribute("transform",_i622.toString()),_e677[Wc]=_t901,_e677[Yc]=s+_o209;}else if("bottom-right"===_a143){var _i623=new DOMMatrix();_i623.scaleSelf(1/this.un.scale,1/this.un.scale,1,_t901+_n260,s+_o209),_i623.translateSelf(_t901+_n260-15,s+_o209-15),_e677.setAttribute("transform",_i623.toString()),_e677[Wc]=_t901+_n260,_e677[Yc]=s+_o209;}else if("ref"===_a143)if("marker"===_i619.getAttribute("data-bx-workspace")){var _t903=Nc(this.un.currentWorkspace),_i624=new DOMMatrix();_i624.scaleSelf(1/this.un.scale,1/this.un.scale,1,_t903.x,_t903.y),_i624.translateSelf(_t903.x-12,_t903.y-12),_e677.setAttribute("x",_t903.x-12),_e677.setAttribute("y",_t903.y-12),_e677.setAttribute("transform",_i624.toString()),_e677.style.display=null;}else _e677.style.display="none";}}}catch(err){_iterator522.e(err);}finally{_iterator522.f();}}}}catch(err){_iterator521.e(err);}finally{_iterator521.f();}}};var Zc={id:"outline-hud",get context(){return this.getAttribute("context")||"transform";},set context(t){this.setAttribute("context",t);},createdCallback:function createdCallback(){this.Hr=null,this.Wr=ts(this.Xs,30,this),this.Za=ts(this.Xs,200,this),this.innerHTML='\n  <style>\n    #outline-hud [uid="outline"] {\n      fill: none;\n      stroke: rgb(245, 92, 54);\n      stroke-width: 2;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n  </style>\n\n  <path uid="outline"></path>\n';var _iterator523=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step523;try{for(_iterator523.s();!(_step523=_iterator523.n()).done;){var _t904=_step523.value;this["#"+_t904.getAttribute("uid")]=_t904;}}catch(err){_iterator523.e(err);}finally{_iterator523.f();}},enabledCallback:function enabledCallback(){var _this328=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board"),this.Js.addEventListener("modkeyschange",this.nh=function(){_this328.Wr();}),this.un.addEventListener("workspacemutation",this.rn=function(){_this328.Wr();}),this.un.addEventListener("currentcontainerchange",this.Yr=function(){_this328.Wr();}),this.un.addEventListener("selectedelementschange",this.al=function(){_this328.hl();}),this.un.workspaces.addEventListener("pointerover",this.qr=function(t){_this328.Xr(t);}),this.un.workspaces.addEventListener("pointerout",this.Zr=function(t){_this328.Kr(t);}),this.Xs();},disabledCallback:function disabledCallback(){this["#outline"].removeAttribute("d"),this.Js.removeEventListener("modkeyschange",this.nh),this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("currentcontainerchange",this.Yr),this.un.removeEventListener("selectedelementschange",this.al),this.un.workspaces.removeEventListener("pointerover",this.qr),this.un.workspaces.removeEventListener("pointerout",this.Zr);},hl:function hl(){this.Xs();},Xr:function Xr(t){this.Hr=t.target,this.Wr();},Kr:function Kr(){this.Hr=null,this.Za();},Xs:function Xs(){var t=this.Qr();if(t){var _e678=t.localName,_i625=null,s=null;if("path"===_e678?_i625=t.getAttribute("d"):"rect"!==_e678&&"circle"!==_e678&&"ellipse"!==_e678&&"line"!==_e678&&"polyline"!==_e678&&"polygon"!==_e678||(_i625=nt(t.getPathData())),null===_i625){var _e679=Oi(t);_i625="\n          M ".concat(_e679.x," ").concat(_e679.y,"\n          L ").concat(_e679.x+_e679.width," ").concat(_e679.y,"\n          L ").concat(_e679.x+_e679.width," ").concat(_e679.y+_e679.height,"\n          L ").concat(_e679.x," ").concat(_e679.y+_e679.height,"\n          L ").concat(_e679.x," ").concat(_e679.y,"\n        ");}null===s&&(s=Wt(t,this).toString()),_i625?this["#outline"].setAttribute("d",_i625):this["#outline"].removeAttribute("d"),s?this["#outline"].setAttribute("transform",s):this["#outline"].removeAttribute("transform");}else this["#outline"].removeAttribute("d");},Qr:function Qr(){var _this$Js$modKeys7=this.Js.modKeys,t=_this$Js$modKeys7.ctrl,e=_this$Js$modKeys7.alt,i=_this$Js$modKeys7.shift,s=this.tn.board,n=this.Hr,o=null,l=null;if("transform"===this.context?t||i?!t&&i?o="normal-multi":t&&!i?o="direct":t&&i&&(o="direct-multi"):o="normal":"edit"===this.context?o="direct":"edit-text"===this.context&&(o="direct-text"),n&&s.isSelectableElement(n)){var _t905=this.fn(n),_e680=s.selectedElements.includes(n),_i626=_e680;var _iterator524=_createForOfIteratorHelper(_t905),_step524;try{for(_iterator524.s();!(_step524=_iterator524.n()).done;){var _e683=_step524.value;s.selectedElements.includes(_e683)&&(_i626=!0);}}catch(err){_iterator524.e(err);}finally{_iterator524.f();}if("normal"===o){if(!1===_i626)if(0===_t905.length)l=n;else{var _t906=s.currentContainer,_e681=n;if(_t906&&_t906.contains(_e681))for(;_e681.parentNode!==_t906;){_e681=_e681.parentNode;}else{var _i627=this.Mn(_e681,_t906);for(;_e681.parentNode!==_i627&&_e681.parentNode!==s.currentWorkspace;){_e681=_e681.parentNode;}}l=_e681;}}else if("normal-multi"===o){if(0===_t905.length)l=n;else{var _t907=n;if(s.currentContainer&&s.currentContainer.contains(_t907))for(;_t907.parentNode!==s.currentContainer;){_t907=_t907.parentNode;}else{var _e682=this.Mn(_t907,s.currentContainer);for(;_t907.parentNode!==_e682&&_t907.parentNode!==s.currentWorkspace;){_t907=_t907.parentNode;}}l=_t907;}}else"direct"===o?!1===_e680&&(l=n):"direct-multi"===o?l=n:"direct-text"===o&&!1===_e680&&n.closest("text")&&(l=n.closest("text"));}return l;},fn:function fn(t){var e=[];if(t!==this.un.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.un.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;},Mn:function Mn(t,e){var i=Fi(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}};var Kc={id:"rubber-band-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #rubber-band-hud [uid="rect"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="rect"][hidden] {\n      display: none;\n    }\n\n    #rubber-band-hud [uid="polygon"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="polygon"][hidden] {\n      display: none;\n    }\n  </style>\n\n  <rect uid="rect" x="0" y="0" width="0" height="0" hidden></rect>\n  <polyline uid="polygon" hidden></polyline>\n';var _iterator525=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step525;try{for(_iterator525.s();!(_step525=_iterator525.n()).done;){var _t908=_step525.value;this["#"+_t908.getAttribute("uid")]=_t908;}}catch(err){_iterator525.e(err);}finally{_iterator525.f();}},grabSelection:function grabSelection(t,e){var _this329=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rect";return new Promise(function(s){var n,_o211,l=Yt(_this329).inverse(),a=new DOMPoint(t,e).matrixTransform(l);if("rect"===i){var _t909=0,_e684=0,_i628=0,_h124=0;_this329["#rect"].removeAttribute("hidden"),window.addEventListener("pointermove",n=function n(s){if(!1===s.isPrimary)return;var n=new DOMPoint(s.clientX,s.clientY).matrixTransform(l);_i628=n.x-a.x,_h124=n.y-a.y,_i628<0?(_i628=-_i628,_t909=a.x-_i628):_t909=a.x,_h124<0?(_h124=-_h124,_e684=a.y-_h124):_e684=a.y,_this329["#rect"].setAttribute("x",_t909),_this329["#rect"].setAttribute("y",_e684),_this329["#rect"].setAttribute("width",_i628),_this329["#rect"].setAttribute("height",_h124);}),window.addEventListener("pointerup",_o211=function o(l){if(!1===l.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o211),_this329["#rect"].setAttribute("hidden",""),_this329["#rect"].setAttribute("x",0),_this329["#rect"].setAttribute("y",0),_this329["#rect"].setAttribute("width",0),_this329["#rect"].setAttribute("height",0);var a=new DOMRect(_t909,_e684,_i628,_h124);s(a);});}else if("polygon"===i){var _t910=0,_e685=0;_this329["#polygon"].removeAttribute("hidden"),_this329["#polygon"].points.appendItem(Ie(a)),window.addEventListener("pointermove",n=function n(i){if(!1===i.isPrimary)return;var s=new DOMPoint(i.clientX,i.clientY).matrixTransform(l);_t910=s.x,_e685=s.y;var _iterator526=_createForOfIteratorHelper(i.getCoalescedEvents()),_step526;try{for(_iterator526.s();!(_step526=_iterator526.n()).done;){var _t911=_step526.value;var _e686=new DOMPoint(_t911.clientX,_t911.clientY).matrixTransform(l);_this329["#polygon"].points.appendItem(Ie(_e686));}}catch(err){_iterator526.e(err);}finally{_iterator526.f();}}),window.addEventListener("pointerup",_o211=function _o210(t){if(!1===t.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o211);var e=_toConsumableArray(_this329["#polygon"].points).map(function(t){return DOMPoint.fromPoint(t);});_this329["#polygon"].setAttribute("points",""),_this329["#polygon"].setAttribute("hidden",""),s(e);});}});}};var Qc=Math.abs,Jc=Math.atan,tp=Math.min,ep=Math.max,ip=Number.parseFloat,sp=12,np=12,op=12,lp=10,ap=Symbol(),hp=Symbol(),rp=Symbol(),dp=Symbol();var cp={id:"transform-hud",get mode(){return this.Jr;},set mode(t){this.Jr=t,this.td();},get isScaling(){return this.ed;},createdCallback:function createdCallback(){var _this330=this;this.sd={},this.nd={},this.od={},this.ld=!1,this.ed=!1,this.ad=!1,this.Jr="scale",this.hd=ts(this.Dh,25,this),this.rd=ts(this.Dh,250,this),this.innerHTML='\n  <style>\n    #transform-hud [uid="scale-grippies"] > .grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="rotate-grippies"] > .grippie {\n      fill: red;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="skew-grippies"] > .grippie {\n      fill: orange;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <g uid="grippies">\n    <g uid="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg uid="origin-grippie" viewBox="0 0 100 100" visibility="hidden">\n      <rect x="41" width="17" height="100" fill="inherit"></rect>\n      <rect x="41" width="17" height="100" fill="inherit" transform="matrix(0, 1, -1, 0, 100, 0.5)"></rect>\n      <rect x="0" y="0" width="100" height="100" style="opacity: 0;"/>\n    </svg>\n  </g>\n';var _iterator527=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step527;try{for(_iterator527.s();!(_step527=_iterator527.n()).done;){var _t912=_step527.value;this["#"+_t912.getAttribute("uid")]=_t912;}}catch(err){_iterator527.e(err);}finally{_iterator527.f();}var _iterator528=_createForOfIteratorHelper(this["#scale-grippies"].children),_step528;try{for(_iterator528.s();!(_step528=_iterator528.n()).done;){var _t913=_step528.value;this.sd[_t913.getAttribute("data-position")]=_t913;}}catch(err){_iterator528.e(err);}finally{_iterator528.f();}var _iterator529=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step529;try{for(_iterator529.s();!(_step529=_iterator529.n()).done;){var _t914=_step529.value;this.od[_t914.getAttribute("data-position")]=_t914;}}catch(err){_iterator529.e(err);}finally{_iterator529.f();}var _iterator530=_createForOfIteratorHelper(this["#skew-grippies"].children),_step530;try{for(_iterator530.s();!(_step530=_iterator530.n()).done;){var _t915=_step530.value;this.nd[_t915.getAttribute("data-position")]=_t915;}}catch(err){_iterator530.e(err);}finally{_iterator530.f();}this.addEventListener("pointerdown",function(t){_this330.Oo(t);}),this.addEventListener("dblclick",function(t){_this330.ma(t);});},enabledCallback:function enabledCallback(){var _this331=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this331.hl();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this331.pl(t.detail);}),this.un.addEventListener("zoomchange",this.hn=function(){_this331.cl();}),this.hl(),this.cl();},disabledCallback:function disabledCallback(){this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("zoomchange",this.hn);},forceUpdate:function forceUpdate(){this.Dh();},td:function td(){"scale"===this.mode?(this["#scale-grippies"].style.setProperty("visibility","visible"),this["#rotate-grippies"].style.setProperty("visibility","hidden"),this["#skew-grippies"].style.setProperty("visibility","hidden"),this["#origin-grippie"].style.setProperty("visibility","hidden")):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.setProperty("visibility","hidden"),this["#rotate-grippies"].style.setProperty("visibility","visible"),this["#skew-grippies"].style.setProperty("visibility","visible"),this["#origin-grippie"].style.setProperty("visibility","visible")),this.Dh();},hl:function hl(){0===this.un.selectedObjectElements.length?this["#grippies"].style.setProperty("display","none"):this["#grippies"].style.setProperty("display","block"),this.Dh();},pl:function pl(t){this.un.selectedElements.length>100?this.rd():this.hd();},cl:function cl(){this.hd();},Oo:function Oo(t){var _this332=this;var _e687,_i629,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e687=function e(i){var l=new DOMPoint(i.clientX,i.clientY),a=i.timeStamp-t.timeStamp,h=Ee(n,l)>3||a>80,r=!1===De(o,l,0);o=l,!0===h&&!0===r&&(s.removeEventListener("pointermove",_e687),_this332.el(t,i));}),s.addEventListener("pointerup",_i629=function i(t){s.removeEventListener("pointermove",_e687),s.removeEventListener("pointerup",_i629);});},ma:function ma(t){var e=t.target.parentElement;e===this["#rotate-grippies"]?this.dd(t):e===this["#skew-grippies"]?this.pd(t):e===this["#origin-grippie"]&&this.ud(t);},el:function el(t,e){var i=e.target.parentElement;if(i===this["#scale-grippies"]){var _i630=e.target;this.xd(t,_i630);}else if(i===this["#rotate-grippies"])this.bd(t);else if(i===this["#skew-grippies"]){var _i631=e.target;this.md(t,_i631);}else i===this["#origin-grippie"]&&this.gd(t);},xd:function xd(t,e){var _this333=this;if(0!==t.button)return;var i,_s333,n=_toConsumableArray(this.un.outermostSelectedObjectElements),o=e.getAttribute("data-position"),l=new DOMPoint(e.x.baseVal.value+e.width.baseVal.value/2,e.y.baseVal.value+e.height.baseVal.value/2).matrixTransform(Yt(e)),a=new DOMPoint(t.clientX,t.clientY),h=new Q(a,l),r=this.Js.getConfig("bx-transformsettings:preserveStrokeWidth",!0),d=this.Js.getConfig("bx-transformsettings:preserveRectRadii",!0),c=this.Js.getConfig("bx-transformsettings:preserveRotation",!0),p=this.Js.getConfig("bx-transformsettings:preserveAspectRatio",!1);this.ed=!0,this.un.undoManager.checkpoint("Scale"),this.un.snapManager.snapStart(),n=n.filter(function(t){if("text"===t.localName){var _e688=_this333._n(t);if(_e688&&_this333.un.outermostSelectedElements.includes(_e688))return!1;}return!0;});var _iterator531=_createForOfIteratorHelper(n),_step531;try{for(_iterator531.s();!(_step531=_iterator531.n()).done;){var _t921=_step531.value;if(!0===r){var _e694=Yt(_t921),_Vl17=Vl(_e694),_i636=_Vl17.scaleX,s=_Vl17.scaleY,_n265="left"===o||"right"===o?_i636:s,_l199=getComputedStyle(_t921);_t921[ap]=_t921.style.getPropertyValue("stroke-width"),_t921[hp]=_t921.style.getPropertyValue("vector-effect");var _a145=Qc(_n265)*ip(_l199.getPropertyValue("stroke-width"));_t921.style.setProperty("stroke-width",_a145),_t921.style.setProperty("vector-effect","non-scaling-stroke");}}}catch(err){_iterator531.e(err);}finally{_iterator531.f();}if(this.fd(n)){var _n261=n,_n262=_toArray(_n261),_t916=_n262[0],_e689=_n262.slice(1),_s329=Symbol();this.ad=!0;Wt(_t916,this);var _iterator532=_createForOfIteratorHelper(n),_step532;try{var _loop21=function _loop21(){var t=_step532.value;var e=Yt(t).inverse(),i=Ht(t),o=n.filter(function(e){return e!==t;}),l=[Oi(t)];var _iterator534=_createForOfIteratorHelper(o),_step534;try{for(_iterator534.s();!(_step534=_iterator534.n()).done;){var _e691=_step534.value;var _i633=Wt(_e691,t),_s330=Ve(Oi(_e691),_i633);l.push(_s330);}}catch(err){_iterator534.e(err);}finally{_iterator534.f();}var a=He(l);t[_s329]={clientToUserTransform:e,userTransform:i,bbox:a};};for(_iterator532.s();!(_step532=_iterator532.n()).done;){_loop21();}}catch(err){_iterator532.e(err);}finally{_iterator532.f();}window.addEventListener("pointermove",i=function i(t){var _iterator533=_createForOfIteratorHelper(n),_step533;try{for(_iterator533.s();!(_step533=_iterator533.n()).done;){var _e690=_step533.value;var _e690$_s=_e690[_s329],_i632=_e690$_s.clientToUserTransform,_n263=_e690$_s.userTransform,_l197=_e690$_s.bbox,_r73=a.matrixTransform(_i632),_d59=new DOMPoint(t.clientX,t.clientY);{var _t917=_this333.un.snapManager.snapPoint(_d59);!1===De(_d59,_t917)&&(_d59=_t917,_d59.x-=h.x,_d59.y-=h.y);}var _c44=_d59.matrixTransform(_i632),_u39=_c44.x-_r73.x,_x109=_c44.y-_r73.y,_this333$wd=_this333.wd(_u39,_x109,_l197,o,p),_b34=_this333$wd.centerX,_m33=_this333$wd.centerY,_g30=_this333$wd.scaleX,_f21=_this333$wd.scaleY,_w19=-_b34*(_g30-1),_v15=-_m33*(_f21-1),_y6=DOMMatrix.fromMatrix(_n263);_y6.translateSelf(_w19,_v15),_y6.scaleSelf(_g30,_f21),_e690.setAttribute("transform",_y6);}}catch(err){_iterator533.e(err);}finally{_iterator533.f();}});}else{var _e692=this.un.outermostSelectedObjectElements.map(function(t){return Ei(t);}),_s331=He(_e692);var _iterator535=_createForOfIteratorHelper(n),_step535;try{for(_iterator535.s();!(_step535=_iterator535.n()).done;){var _t919=_step535.value;var _e693=Yt(_t919),_i635=_e693.inverse(),_s332=Ht(_t919);_t919[rp]={clientToUserTransform:_e693,userToClientTransform:_i635,userTransform:_s332};}}catch(err){_iterator535.e(err);}finally{_iterator535.f();}window.addEventListener("pointermove",i=function i(e){var _iterator536=_createForOfIteratorHelper(n),_step536;try{for(_iterator536.s();!(_step536=_iterator536.n()).done;){var _i634=_step536.value;var _n264=new DOMPoint(t.clientX,t.clientY),_l198=new DOMPoint(e.clientX,e.clientY);{var _t918=_this333.un.snapManager.snapPoint(_l198);!1===De(_l198,_t918)&&(_l198=_t918,_l198.x-=h.x,_l198.y-=h.y);}var _a144=_l198.x-_n264.x,_r74=_l198.y-_n264.y,_i634$rp=_i634[rp],_d60=_i634$rp.clientToUserTransform,_c45=_i634$rp.userToClientTransform,_u40=_i634$rp.userTransform,_this333$wd2=_this333.wd(_a144,_r74,_s331,o,p),_x110=_this333$wd2.centerX,_b35=_this333$wd2.centerY,_m34=_this333$wd2.scaleX,_g31=_this333$wd2.scaleY,_f22=-_x110*(_m34-1),_w20=-_b35*(_g31-1),_v16=DOMMatrix.fromMatrix(_u40);_v16.multiplySelf(_c45),_v16.translateSelf(_f22,_w20),_v16.scaleSelf(_m34,_g31),_v16.multiplySelf(_d60),_i634.setAttribute("transform",_v16.toString());}}catch(err){_iterator536.e(err);}finally{_iterator536.f();}});}window.addEventListener("pointerup",_s333=function s(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",_s333);var _iterator537=_createForOfIteratorHelper(n),_step537;try{for(_iterator537.s();!(_step537=_iterator537.n()).done;){var _t920=_step537.value;!0===r&&(_t920.style.setProperty("stroke-width",_t920[ap]),_t920.style.setProperty("vector-effect",_t920[hp])),va(_t920,{geometryPrecision:_this333.un.geometryPrecision,transformPrecision:_this333.un.transformPrecision,preserveStrokeWidth:r,preserveRectRadii:d,preserveRotation:c,transformDirection:o});}}catch(err){_iterator537.e(err);}finally{_iterator537.f();}_this333.un.snapManager.snapEnd(),_this333.ed=!1,_this333.ad=!1;});},bd:function bd(t){var _this334=this;if(0!==t.button)return;var e=_toConsumableArray(this.un.outermostSelectedObjectElements),i=this.Js.getConfig("bx-transformsettings:preserveRotation",!0);if(this.un.undoManager.checkpoint("Rotate"),e=e.filter(function(t){if("text"===t.localName){var _e695=_this334._n(t);if(_e695&&_this334.un.outermostSelectedObjectElements.includes(_e695))return!1;}return!0;}),this.fd(e)&&(this.ad=!0),1===e.length){var s,_n267,_o212=e[0],_l200=se(_o212),_a146=new DOMPoint(t.clientX,t.clientY),_h125=ie([_o212]);this.ld=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=Re(_h125,_a146,e),s=_l200+i;_this334.Js.modKeys.shift&&(s=Ue(s,15)),ne(_o212,s);}),window.addEventListener("pointerup",_n267=function _n266(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n267),va(_o212,{geometryPrecision:_this334.un.geometryPrecision,transformPrecision:_this334.un.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i}),_this334.ld=!1,_this334.ad=!1;});}else{var _s334,_n270,_o213=ie(e),_l201=new DOMPoint(t.clientX,t.clientY);var _iterator538=_createForOfIteratorHelper(e),_step538;try{for(_iterator538.s();!(_step538=_iterator538.n()).done;){var _t923=_step538.value;var _e697=Ht(_t923),_i638=Yt(_t923),_s336=_i638.inverse();_t923[rp]={clientToUserTransform:_i638,userToClientTransform:_s336,userTransform:_e697};}}catch(err){_iterator538.e(err);}finally{_iterator538.f();}this.ld=!0,window.addEventListener("pointermove",_s334=function _s334(t){var _iterator539=_createForOfIteratorHelper(e),_step539;try{for(_iterator539.s();!(_step539=_iterator539.n()).done;){var _i637=_step539.value;var _i637$rp=_i637[rp],_e696=_i637$rp.clientToUserTransform,_s335=_i637$rp.userToClientTransform,_n269=_i637$rp.userTransform,_a147=new DOMPoint(t.clientX,t.clientY),_h126=Re(_o213,_l201,_a147);_this334.Js.modKeys.shift&&(_h126=Ue(_h126,15));var _r75=DOMMatrix.fromMatrix(_n269);_r75.multiplySelf(_s335),_r75.translateSelf(_o213.x,_o213.y),_r75.rotateSelf(_h126),_r75.translateSelf(-_o213.x,-_o213.y),_r75.multiplySelf(_e696),_i637.setAttribute("transform",_r75);}}catch(err){_iterator539.e(err);}finally{_iterator539.f();}}),window.addEventListener("pointerup",_n270=function _n268(t){window.removeEventListener("pointermove",_s334),window.removeEventListener("pointerup",_n270);var _iterator540=_createForOfIteratorHelper(e),_step540;try{for(_iterator540.s();!(_step540=_iterator540.n()).done;){var _t922=_step540.value;va(_t922,{geometryPrecision:_this334.un.geometryPrecision,transformPrecision:_this334.un.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i});}}catch(err){_iterator540.e(err);}finally{_iterator540.f();}_this334.ld=!1,_this334.ad=!1;});}},md:function md(t,e){var _this335=this;if(0!==t.button)return;var i,_s342,n,o=_toConsumableArray(this.un.outermostSelectedObjectElements),l=e.getAttribute("data-position");n="top"===l||"bottom"===l?"horizontal":"vertical";this.Js.getConfig("bx-transformsettings:preserveStrokeWidth",!0);var a=this.Js.getConfig("bx-transformsettings:preserveRectRadii",!0),h=this.Js.getConfig("bx-transformsettings:preserveRotation",!0);this.un.undoManager.checkpoint("Skew"),o=o.filter(function(t){if("text"===t.localName){var _e698=_this335._n(t);if(_e698&&_this335.un.outermostSelectedElements.includes(_e698))return!1;}return!0;});var _iterator541=_createForOfIteratorHelper(o),_step541;try{for(_iterator541.s();!(_step541=_iterator541.n()).done;){var _t928=_step541.value;_t928[ap]=_t928.style.getPropertyValue("stroke-width"),_t928[hp]=_t928.style.getPropertyValue("vector-effect");var _e704=Yt(_t928),_Vl18=Vl(_e704),_i644=_Vl18.scaleX,s=_Vl18.scaleY,_n271=(_i644+s)/2,_o218=getComputedStyle(_t928),_l205=Qc(_n271)*ip(_o218.getPropertyValue("stroke-width"));_t928.style.setProperty("stroke-width",_l205),_t928.style.setProperty("vector-effect","non-scaling-stroke");}}catch(err){_iterator541.e(err);}finally{_iterator541.f();}if(this.fd(o)){var _o214=o,_o215=_toArray(_o214),_e699=_o215[0],_s337=_o215.slice(1),_l202=Oi(_e699),_a148=[],_h127=Symbol();var _iterator542=_createForOfIteratorHelper(_s337),_step542;try{for(_iterator542.s();!(_step542=_iterator542.n()).done;){var _t924=_step542.value;var _i640=Wt(_t924,_e699),_s339=Ve(Oi(_t924),_i640);_a148.push(_s339);}}catch(err){_iterator542.e(err);}finally{_iterator542.f();}He([_l202].concat(_a148)),Wt(_e699,this);var _r76=new DOMPoint(t.clientX,t.clientY),_d61=ie(o);var _iterator543=_createForOfIteratorHelper(o),_step543;try{for(_iterator543.s();!(_step543=_iterator543.n()).done;){var _t925=_step543.value;var _e701=Yt(_t925).inverse(),_i641=Ht(_t925);_t925[_h127]={clientToUserTransform:_e701,userTransform:_i641};}}catch(err){_iterator543.e(err);}finally{_iterator543.f();}window.addEventListener("pointermove",i=function i(t){var _this335$Js$modKeys=_this335.Js.modKeys,e=_this335$Js$modKeys.ctrl,i=_this335$Js$modKeys.alt,s=_this335$Js$modKeys.shift;var _iterator544=_createForOfIteratorHelper(o),_step544;try{for(_iterator544.s();!(_step544=_iterator544.n()).done;){var _e700=_step544.value;var _e700$_h=_e700[_h127],_i639=_e700$_h.clientToUserTransform,_s338=_e700$_h.userTransform,_o216=_r76.matrixTransform(_i639),_l203=_d61.matrixTransform(_i639),_a149=new DOMPoint(t.clientX,t.clientY).matrixTransform(_i639),_c46=Re(_l203,_o216,_a149),_p43=DOMMatrix.fromMatrix(_s338);_p43="horizontal"===n?le(_p43,-_c46,0,_l203.x,_l203.y):le(_p43,0,_c46,_l203.x,_l203.y),_e700.setAttribute("transform",_p43.toString());}}catch(err){_iterator544.e(err);}finally{_iterator544.f();}});}else{var _e702=new DOMPoint(t.clientX,t.clientY),_s340=ie(o);var _iterator545=_createForOfIteratorHelper(o),_step545;try{for(_iterator545.s();!(_step545=_iterator545.n()).done;){var _t926=_step545.value;var _e703=Yt(_t926),_i643=_e703.inverse(),_s341=Ht(_t926);_t926[rp]={clientToUserTransform:_e703,userToClientTransform:_i643,userTransform:_s341};}}catch(err){_iterator545.e(err);}finally{_iterator545.f();}window.addEventListener("pointermove",i=function i(t){var _iterator546=_createForOfIteratorHelper(o),_step546;try{for(_iterator546.s();!(_step546=_iterator546.n()).done;){var _i642=_step546.value;var _i642$rp=_i642[rp],_o217=_i642$rp.clientToUserTransform,_l204=_i642$rp.userToClientTransform,_a150=_i642$rp.userTransform,_h128=new DOMPoint(t.clientX,t.clientY),_r77=Re(_s340,_e702,_h128),_d62=DOMMatrix.fromMatrix(_a150);_d62.multiplySelf(_l204),_d62="horizontal"===n?le(_d62,-_r77,0,_s340.x,_s340.y):le(_d62,0,_r77,_s340.x,_s340.y),_d62.multiplySelf(_o217),_i642.setAttribute("transform",_d62.toString());}}catch(err){_iterator546.e(err);}finally{_iterator546.f();}});}window.addEventListener("pointerup",_s342=function s(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",_s342);var _iterator547=_createForOfIteratorHelper(o),_step547;try{for(_iterator547.s();!(_step547=_iterator547.n()).done;){var _t927=_step547.value;_t927.style.setProperty("stroke-width",_t927[ap]),_t927.style.setProperty("vector-effect",_t927[hp]),va(_t927,{geometryPrecision:_this335.un.geometryPrecision,transformPrecision:_this335.un.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:a,preserveRotation:h});}}catch(err){_iterator547.e(err);}finally{_iterator547.f();}});},gd:function gd(t){var _this336=this;if(0!==t.button)return;var e,_i646,s=_toConsumableArray(this.un.outermostSelectedObjectElements),n=new DOMPoint(t.clientX,t.clientY);var _iterator548=_createForOfIteratorHelper(s),_step548;try{for(_iterator548.s();!(_step548=_iterator548.n()).done;){var _t930=_step548.value;var _e706=Yt(_t930).inverse(),_i647=Oi(_t930);_t930[rp]={clientToUserTransform:_e706},_t930[dp]=_i647;}}catch(err){_iterator548.e(err);}finally{_iterator548.f();}this.un.undoManager.checkpoint("Move origin");var o=ie(s);window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Q(n,e),l=new DOMPoint(o.x+i.x,o.y+i.y);var _iterator549=_createForOfIteratorHelper(s),_step549;try{for(_iterator549.s();!(_step549=_iterator549.n()).done;){var _t929=_step549.value;var _e705=_t929[rp].clientToUserTransform,_i645=_t929[dp],_s343=l.matrixTransform(_e705),_n272=de(_s343,_i645),_o219=J(_n272.x,_this336.un.geometryPrecision),_a151=J(_n272.y,_this336.un.geometryPrecision);_t929.setAttribute("data-bx-origin","".concat(_o219," ").concat(_a151));}}catch(err){_iterator549.e(err);}finally{_iterator549.f();}}),window.addEventListener("pointerup",_i646=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i646);});},dd:function dd(t){this.un.undoManager.checkpoint("Remove transform");var _iterator550=_createForOfIteratorHelper(this.un.outermostSelectedObjectElements),_step550;try{for(_iterator550.s();!(_step550=_iterator550.n()).done;){var _t931=_step550.value;_t931.removeAttribute("transform");}}catch(err){_iterator550.e(err);}finally{_iterator550.f();}},pd:function pd(t){this.un.undoManager.checkpoint("Remove transform");var _iterator551=_createForOfIteratorHelper(this.un.outermostSelectedObjectElements),_step551;try{for(_iterator551.s();!(_step551=_iterator551.n()).done;){var _t932=_step551.value;_t932.removeAttribute("transform");}}catch(err){_iterator551.e(err);}finally{_iterator551.f();}},ud:function ud(t){this.un.undoManager.checkpoint("Reset transform origin");var _iterator552=_createForOfIteratorHelper(this.un.outermostSelectedObjectElements),_step552;try{for(_iterator552.s();!(_step552=_iterator552.n()).done;){var _t933=_step552.value;_t933.removeAttribute("data-bx-origin");}}catch(err){_iterator552.e(err);}finally{_iterator552.f();}},Dh:function Dh(){"scale"===this.mode?this.vd():"rotate-and-skew"===this.mode&&(this.yd(),this.kd(),!1===this.ld&&this.Sd());},vd:function vd(){var t=this.un.outermostSelectedObjectElements;if(t.length>0){var _e707,_i648=sp/this.un.scale,s=(this.un.scale,this.sd);var _iterator553=_createForOfIteratorHelper(this["#scale-grippies"].children),_step553;try{for(_iterator553.s();!(_step553=_iterator553.n()).done;){var _t936=_step553.value;_t936.width.baseVal.value=_i648,_t936.height.baseVal.value=_i648;}}catch(err){_iterator553.e(err);}finally{_iterator553.f();}if(this.ad||this.fd(t)){var _t934=_toArray(t),_n273=_t934[0],_o220=_t934.slice(1),_l206=Oi(_n273),_a152=[];var _iterator554=_createForOfIteratorHelper(_o220),_step554;try{for(_iterator554.s();!(_step554=_iterator554.n()).done;){var _t935=_step554.value;var _e708=Wt(_t935,_n273),_i649=Ve(Oi(_t935),_e708);_a152.push(_i649);}}catch(err){_iterator554.e(err);}finally{_iterator554.f();}_e707=He([_l206].concat(_a152));var _h129=Wt(_n273,this),_r78=new DOMPoint(_e707.x+_e707.width/2,_e707.y).matrixTransform(_h129);s.top.x.baseVal.value=_r78.x-_i648/2,s.top.y.baseVal.value=_r78.y-_i648/2;var _d63=new DOMPoint(_e707.x+_e707.width/2,_e707.y+_e707.height).matrixTransform(_h129);s.bottom.x.baseVal.value=_d63.x-_i648/2,s.bottom.y.baseVal.value=_d63.y-_i648/2;var _c47=new DOMPoint(_e707.x,_e707.y+_e707.height/2).matrixTransform(_h129);s.left.x.baseVal.value=_c47.x-_i648/2,s.left.y.baseVal.value=_c47.y-_i648/2;var _p44=new DOMPoint(_e707.x+_e707.width,_e707.y+_e707.height/2).matrixTransform(_h129);s.right.x.baseVal.value=_p44.x-_i648/2,s.right.y.baseVal.value=_p44.y-_i648/2;var _u41=new DOMPoint(_e707.x,_e707.y).matrixTransform(_h129);s["top-left"].x.baseVal.value=_u41.x-_i648/2,s["top-left"].y.baseVal.value=_u41.y-_i648/2;var _x111=new DOMPoint(_e707.x+_e707.width,_e707.y).matrixTransform(_h129);s["top-right"].x.baseVal.value=_x111.x-_i648/2,s["top-right"].y.baseVal.value=_x111.y-_i648/2;var _b36=new DOMPoint(_e707.x,_e707.y+_e707.height).matrixTransform(_h129);s["bottom-left"].x.baseVal.value=_b36.x-_i648/2,s["bottom-left"].y.baseVal.value=_b36.y-_i648/2;var _m35=new DOMPoint(_e707.x+_e707.width,_e707.y+_e707.height).matrixTransform(_h129);s["bottom-right"].x.baseVal.value=_m35.x-_i648/2,s["bottom-right"].y.baseVal.value=_m35.y-_i648/2;}else{var _n274=Yt(this).inverse(),_o221=t.map(function(t){return Ei(t);});_e707=He(_o221),_e707=Ve(_e707,_n274),s.top.x.baseVal.value=_e707.x+_e707.width/2-_i648/2,s.top.y.baseVal.value=_e707.y-_i648/2,s.bottom.x.baseVal.value=_e707.x+_e707.width/2-_i648/2,s.bottom.y.baseVal.value=_e707.y+_e707.height-_i648/2,s.left.x.baseVal.value=_e707.x-_i648/2,s.left.y.baseVal.value=_e707.y+_e707.height/2-_i648/2,s.right.x.baseVal.value=_e707.x+_e707.width-_i648/2,s.right.y.baseVal.value=_e707.y+_e707.height/2-_i648/2,s["top-left"].x.baseVal.value=_e707.x-_i648/2,s["top-left"].y.baseVal.value=_e707.y-_i648/2,s["top-right"].x.baseVal.value=_e707.x+_e707.width-_i648/2,s["top-right"].y.baseVal.value=_e707.y-_i648/2,s["bottom-left"].x.baseVal.value=_e707.x-_i648/2,s["bottom-left"].y.baseVal.value=_e707.y+_e707.height-_i648/2,s["bottom-right"].x.baseVal.value=_e707.x+_e707.width-_i648/2,s["bottom-right"].y.baseVal.value=_e707.y+_e707.height-_i648/2;}s.top.style.visibility=0===_e707.height?"hidden":null,s.bottom.style.visibility=0===_e707.height?"hidden":null,s.left.style.visibility=0===_e707.width?"hidden":null,s.right.style.visibility=0===_e707.width?"hidden":null,s["top-left"].style.visibility=0===_e707.width||0===_e707.height?"hidden":null,s["top-right"].style.visibility=0===_e707.width||0===_e707.height?"hidden":null,s["bottom-left"].style.visibility=0===_e707.width||0===_e707.height?"hidden":null,s["bottom-right"].style.visibility=0===_e707.width||0===_e707.height?"hidden":null;}},yd:function yd(){var t=this.un.outermostSelectedObjectElements;if(t.length>0){var _e709,_i650=np/this.un.scale,s=(this.un.scale,this.od);var _iterator555=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step555;try{for(_iterator555.s();!(_step555=_iterator555.n()).done;){var _t939=_step555.value;_t939.width.baseVal.value=_i650,_t939.height.baseVal.value=_i650;}}catch(err){_iterator555.e(err);}finally{_iterator555.f();}if(this.ad||this.fd(t)){var _t937=_toArray(t),_n275=_t937[0],_o222=_t937.slice(1),_l207=Oi(_n275),_a153=[];var _iterator556=_createForOfIteratorHelper(_o222),_step556;try{for(_iterator556.s();!(_step556=_iterator556.n()).done;){var _t938=_step556.value;var _e710=Wt(_t938,_n275),_i651=Ve(Oi(_t938),_e710);_a153.push(_i651);}}catch(err){_iterator556.e(err);}finally{_iterator556.f();}_e709=He([_l207].concat(_a153));var _h130=Wt(_n275,this),_r79=new DOMPoint(_e709.x,_e709.y).matrixTransform(_h130);s["top-left"].x.baseVal.value=_r79.x-_i650/2,s["top-left"].y.baseVal.value=_r79.y-_i650/2;var _d64=new DOMPoint(_e709.x+_e709.width,_e709.y).matrixTransform(_h130);s["top-right"].x.baseVal.value=_d64.x-_i650/2,s["top-right"].y.baseVal.value=_d64.y-_i650/2;var _c48=new DOMPoint(_e709.x,_e709.y+_e709.height).matrixTransform(_h130);s["bottom-left"].x.baseVal.value=_c48.x-_i650/2,s["bottom-left"].y.baseVal.value=_c48.y-_i650/2;var _p45=new DOMPoint(_e709.x+_e709.width,_e709.y+_e709.height).matrixTransform(_h130);s["bottom-right"].x.baseVal.value=_p45.x-_i650/2,s["bottom-right"].y.baseVal.value=_p45.y-_i650/2;}else{var _n276=Yt(this).inverse(),_o223=t.map(function(t){return Ei(t);});_e709=He(_o223),_e709=Ve(_e709,_n276),s["top-left"].x.baseVal.value=_e709.x-_i650/2,s["top-left"].y.baseVal.value=_e709.y-_i650/2,s["top-right"].x.baseVal.value=_e709.x+_e709.width-_i650/2,s["top-right"].y.baseVal.value=_e709.y-_i650/2,s["bottom-left"].x.baseVal.value=_e709.x-_i650/2,s["bottom-left"].y.baseVal.value=_e709.y+_e709.height-_i650/2,s["bottom-right"].x.baseVal.value=_e709.x+_e709.width-_i650/2,s["bottom-right"].y.baseVal.value=_e709.y+_e709.height-_i650/2;}s["bottom-left"].style.visibility=0===_e709.width||0===_e709.height?"hidden":null,s["bottom-right"].style.visibility=0===_e709.width||0===_e709.height?"hidden":null;}},kd:function kd(){var t=this.un.outermostSelectedObjectElements;if(t.length>0){var _e711,_i652=op/this.un.scale,s=(this.un.scale,this.nd);var _iterator557=_createForOfIteratorHelper(this["#skew-grippies"].children),_step557;try{for(_iterator557.s();!(_step557=_iterator557.n()).done;){var _t942=_step557.value;_t942.width.baseVal.value=_i652,_t942.height.baseVal.value=_i652;}}catch(err){_iterator557.e(err);}finally{_iterator557.f();}if(this.ad||this.fd(t)){var _t940=_toArray(t),_n277=_t940[0],_o224=_t940.slice(1),_l208=Oi(_n277),_a154=[];var _iterator558=_createForOfIteratorHelper(_o224),_step558;try{for(_iterator558.s();!(_step558=_iterator558.n()).done;){var _t941=_step558.value;var _e712=Wt(_t941,_n277),_i653=Ve(Oi(_t941),_e712);_a154.push(_i653);}}catch(err){_iterator558.e(err);}finally{_iterator558.f();}_e711=He([_l208].concat(_a154));var _h131=Wt(_n277,this),_r80=new DOMPoint(_e711.x+_e711.width/2,_e711.y).matrixTransform(_h131);s.top.x.baseVal.value=_r80.x-_i652/2,s.top.y.baseVal.value=_r80.y-_i652/2;var _d65=new DOMPoint(_e711.x+_e711.width/2,_e711.y+_e711.height).matrixTransform(_h131);s.bottom.x.baseVal.value=_d65.x-_i652/2,s.bottom.y.baseVal.value=_d65.y-_i652/2;var _c49=new DOMPoint(_e711.x,_e711.y+_e711.height/2).matrixTransform(_h131);s.left.x.baseVal.value=_c49.x-_i652/2,s.left.y.baseVal.value=_c49.y-_i652/2;var _p46=new DOMPoint(_e711.x+_e711.width,_e711.y+_e711.height/2).matrixTransform(_h131);s.right.x.baseVal.value=_p46.x-_i652/2,s.right.y.baseVal.value=_p46.y-_i652/2;}else{var _n278=Yt(this).inverse(),_o225=t.map(function(t){return Ei(t);});_e711=He(_o225),_e711=Ve(_e711,_n278),s.top.x.baseVal.value=_e711.x+_e711.width/2-_i652/2,s.top.y.baseVal.value=_e711.y-_i652/2,s.bottom.x.baseVal.value=_e711.x+_e711.width/2-_i652/2,s.bottom.y.baseVal.value=_e711.y+_e711.height-_i652/2,s.left.x.baseVal.value=_e711.x-_i652/2,s.left.y.baseVal.value=_e711.y+_e711.height/2-_i652/2,s.right.x.baseVal.value=_e711.x+_e711.width-_i652/2,s.right.y.baseVal.value=_e711.y+_e711.height/2-_i652/2;}s.top.style.visibility=0===_e711.width||0===_e711.height?"hidden":null,s.bottom.style.visibility=0===_e711.width||0===_e711.height?"hidden":null,s.left.style.visibility=0===_e711.width||0===_e711.height?"hidden":null,s.right.style.visibility=0===_e711.width||0===_e711.height?"hidden":null;}},Sd:function Sd(){if(this.un.selectedObjectElements.length>=1){var _t943=lp/this.un.scale,_e713=Yt(this.un.currentWorkspace).inverse(),_i654=ie(this.un.outermostSelectedObjectElements);_i654=_i654.matrixTransform(_e713),this["#origin-grippie"].setAttribute("width",_t943),this["#origin-grippie"].setAttribute("height",_t943),this["#origin-grippie"].setAttribute("x",_i654.x-_t943/2),this["#origin-grippie"].setAttribute("y",_i654.y-_t943/2);}},blink:function blink(){var _this337=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee89(){return regeneratorRuntime.wrap(function _callee89$(_context90){while(1){switch(_context90.prev=_context90.next){case 0:_this337["#grippies"].style.setProperty("display","none");_context90.next=3;return ss(200);case 3:_this337.un.selectedObjectElements.length>0&&_this337["#grippies"].style.setProperty("display","block");case 4:case"end":return _context90.stop();}}},_callee89);}))();},_n:function _n(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.un.workspaces.querySelector(e.href.baseVal)),i;},fd:function fd(t){if(t.length>1){var _t944=_toArray(t),_e714=_t944[0],_i655=_t944.slice(1);var _iterator559=_createForOfIteratorHelper(_i655),_step559;try{for(_iterator559.s();!(_step559=_iterator559.n()).done;){var _t945=_step559.value;if(_t945.parentElement!==_e714.parentElement)return!1;}}catch(err){_iterator559.e(err);}finally{_iterator559.f();}var s=Ht(_e714),_n279=J(Jc(s.c/s.d),2),_o226=J(Jc(-s.b/s.a),2);var _iterator560=_createForOfIteratorHelper(_i655),_step560;try{for(_iterator560.s();!(_step560=_iterator560.n()).done;){var _t946=_step560.value;var _e715=Ht(_t946),_i656=J(Jc(_e715.c/_e715.d),2),_s344=J(Jc(-_e715.b/_e715.a),2);if(!1===Object.is(_i656,_n279)||!1===Object.is(_s344,_o226))return!1;}}catch(err){_iterator560.e(err);}finally{_iterator560.f();}}return!0;},wd:function wd(t,e,i,s,n){var o,l,a,h,r,_this$Js$modKeys8=this.Js.modKeys,d=_this$Js$modKeys8.ctrl,c=_this$Js$modKeys8.alt,p=_this$Js$modKeys8.shift;return!1===n?d||p?!d&&p?r="B":d&&!p?r="C":d&&p&&(r="D"):r="A":!0===n&&(d||p?!d&&p?r="A":d&&!p?r="D":d&&p&&(r="C"):r="B"),"top"===s?"A"===r?(o=i.x+i.width/2,l=i.y+i.height,a=1,h=(i.height-e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y+i.height,h=(i.height-e)/i.height,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=1,h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.height-i.height/2-e)/(i.height-i.height/2),a=h):"bottom"===s?"A"===r?(o=i.x+i.width/2,l=i.y,a=1,h=(i.height+e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y,h=(i.height+e)/i.height,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=1,h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.height-i.height/2+e)/(i.height-i.height/2),a=h):"left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height/2,a=(i.width-t)/i.width,h=1):"B"===r?(o=i.x+i.width,l=i.y+i.height/2,a=(i.width-t)/i.width,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=a):"right"===s&&("A"===r?(o=i.x,l=i.y+i.height/2,a=(i.width+t)/i.width,h=1):"B"===r?(o=i.x,l=i.y+i.height/2,a=(i.width+t)/i.width,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=h=(i.width-i.width/2+t)/(i.width-i.width/2))),"top-left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height,a=(i.width-t)/i.width,h=(i.height-e)/i.height):"B"===r?(o=i.x+i.width,l=i.y+i.height,a=(i.width-t)/i.width,h=(i.height-e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a):"top-right"===s?"A"===r?(o=i.x,l=i.y+i.height,a=(i.width+t)/i.width,h=(i.height-e)/i.height):"B"===r?(o=i.x,l=i.y+i.height,a=(i.width+t)/i.width,h=(i.height-e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a):"bottom-left"===s?"A"===r?(o=i.x+i.width,l=i.y,a=(i.width-t)/i.width,h=(i.height+e)/i.height):"B"===r?(o=i.x+i.width,l=i.y,a=(i.width-t)/i.width,h=(i.height+e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a):"bottom-right"===s&&("A"===r?(o=i.x,l=i.y,a=(i.width+t)/i.width,h=(i.height+e)/i.height):"B"===r?(o=i.x,l=i.y,a=(i.width+t)/i.width,h=(i.height+e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a)),{centerX:o,centerY:l,scaleX:a,scaleY:h};}};var pp=function pp(t){for(var _e716=t;_e716;_e716=_e716.parentNode){if(_e716 instanceof ShadowRoot||_e716===window.document)return _e716;}},up=function up(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;xp(t);var s="",n={text:!0,textPath:!0,tspan:!0,title:!0,desc:!0};for(var _t947=0;_t947<e;_t947+=1){s+=" ";}var o=function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(!n[t.localName]){var _iterator561=_createForOfIteratorHelper(t.children),_step561;try{for(_iterator561.s();!(_step561=_iterator561.n()).done;){var _i657=_step561.value;var _n280=t.firstChild===_i657,_l209=t.lastChild===_i657;if(!0===_n280){var _t948=document.createTextNode("\n");_i657.parentNode.insertBefore(_t948,_i657);}var _a155="";for(var _t949=0;_t949<e;_t949+=1){_a155+=s;}var _h132=document.createTextNode(_a155);if(t.insertBefore(_h132,_i657),!0===_l209){var _i658=document.createTextNode("\n");t.appendChild(_i658);var _n281="";for(var _t950=0;_t950<e-1;_t950+=1){_n281+=s;}var _o227=document.createTextNode(_n281);t.appendChild(_o227);}else{var _e717=document.createTextNode("\n");t.insertBefore(_e717,_i657.nextSibling);}_i657.childElementCount>0&&o(_i657,e+1);}}catch(err){_iterator561.e(err);}finally{_iterator561.f();}}};o(t,i);},xp=function xp(t){var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null),s={text:!0,textPath:!0,tspan:!0};for(;e=i.nextNode();){s[e.parentElement.localName]||bp(e.textContent)&&e.remove();}},bp=function bp(t){return!/[^\t\n\r ]/.test(t);};var mp={id:"text-hud",get inputMode(){return this.hasAttribute("inputmode");},createdCallback:function createdCallback(){var _this338=this;this.Cd=ts(this._d,200,this),this.Md=es(this.Md,300,this,!0),this.Pd=null,this.tabIndex=-1,this.innerHTML='\n  <style>\n    /**\n     * Overlays\n     */\n\n    #text-hud [uid="caret-line"] {\n      stroke-width: 3;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      stroke: gray;\n    }\n    #text-hud[inputmode] [uid="caret-line"] {\n      stroke: blue;\n    }\n\n    #text-hud [uid="selection-rects"] rect {\n      fill: rgba(179, 179, 179, 0.3);\n      pointer-events: none;\n    }\n    #text-hud[inputmode] [uid="selection-rects"] rect {\n      fill: var(--selection-background-color);\n    }\n\n    /**\n     * HTML input\n     */\n\n    #text-hud [uid="html-input-object"] {\n      width: 1px;\n      height: 1px;\n      opacity: 0;\n      background: white;\n      pointer-events: none;\n    }\n    #text-hud[debug] [uid="html-input-object"] {\n      width: 150px;\n      height: 50px;\n      opacity: 1;\n      pointer-events: all;\n    }\n\n    #text-hud [uid="html-input-object"] * {\n      /* Needed for correct positioning of IME dialog */\n      font-size: 0.01px !important;\n    }\n    #text-hud[debug] [uid="html-input-object"] * {\n      font-size: 10px !important;\n    }\n\n    #text-hud [uid="html-input"] {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      white-space: pre;\n    }\n    #text-hud[inputmode] [uid="html-input"] {\n      /* Make text editable and selectable */\n      -webkit-user-modify: read-write-plaintext-only;\n      -webkit-user-select: text;\n    }\n\n    #text-hud [uid="html-input"] *:not(span):not(a) {\n      display: none;\n    }\n  </style>\n\n  <g uid="overlays">\n    <line uid="caret-line"></line>\n    <g uid="selection-rects"></g>\n  </g>\n\n  <foreignObject uid="html-input-object" width="200" height="16">\n    <p uid="html-input" tabindex="0"></p>\n  </foreignObject>\n',this.commands={selectAll:{enabled:function enabled(){return null!==_this338.un.selectedTextRange;},exec:function exec(){return _this338.Dd(Ri(_this338.un.selectedTextRange.startContainer,"text"));}},deselectAll:{enabled:function enabled(){return null!==_this338.un.selectedTextRange;},exec:function exec(){var t=_this338.un.selectedTextRange.cloneRange();t.collapse(!0),_this338.un.selectedTextRange=t;}}};var _iterator562=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step562;try{for(_iterator562.s();!(_step562=_iterator562.n()).done;){var _t951=_step562.value;this["#"+_t951.getAttribute("uid")]=_t951;}}catch(err){_iterator562.e(err);}finally{_iterator562.f();}var t=!1;this.addEventListener("focus",function(){return _this338["#html-input"].focus();}),this["#html-input"].addEventListener("focus",function(t){_this338.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),_this338["#html-input"].setAttribute("contenteditable","plaintext-only"),_this338.setAttribute("inputmode",""),_this338.zd();}),this["#html-input"].addEventListener("blur",function(){_this338.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),_this338["#html-input"].removeAttribute("contenteditable"),_this338.removeAttribute("inputmode");}),this["#html-input"].addEventListener("input",function(t){_this338.Od(t);}),this["#html-input"].addEventListener("keydown",/*#__PURE__*/function(){var _ref112=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee90(e){return regeneratorRuntime.wrap(function _callee90$(_context91){while(1){switch(_context91.prev=_context91.next){case 0:_context91.t0=t;if(_context91.t0){_context91.next=5;break;}t=!0;_context91.next=5;return ss(1);case 5:_this338.Ed(e);case 6:case"end":return _context91.stop();}}},_callee90);}));return function(_x112){return _ref112.apply(this,arguments);};}()),this["#html-input"].addEventListener("keyup",function(e){t=!1,_this338.Ed(e);});},enabledCallback:function enabledCallback(){var _this339=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board"),this.un.workspaces.addEventListener("pointerdown",this.Kn=function(t){_this339.gn(t);}),this.un.addEventListener("selectedtextrangechange",this.ga=function(){_this339.fa();}),1===this.un.selectedElements.length&&"text"===this.un.selectedElements[0].localName&&this.Dd(this.un.selectedElements[0]);},disabledCallback:function disabledCallback(){this.il&&this.rl(),this.un.workspaces.removeEventListener("pointerdown",this.Kn),this.un.removeEventListener("selectedtextrangechange",this.ga);},forceUpdate:function forceUpdate(){this.il&&this._d();},dl:function dl(){var _this340=this;this.style.display=null,this.il=!0,this["#html-input-object"].append(this["#html-input"]),this["#html-input"].focus(),this.Td(),this.zd(),this._d(),this.un.addEventListener("selectedelementschange",this.al=function(){_this340.hl();}),this.un.addEventListener("workspacemutation",this.rn=function(){_this340.Cd();}),this.un.undoManager.addEventListener("undo",this.ya=function(){_this340.ka();}),this.un.undoManager.addEventListener("redo",this.Sa=function(){_this340.ka();});},rl:function rl(){this["#html-input"].remove(),this.style.display="none",this.il=!1,this.tn.focus(),this.un.selectedTextRange=null,this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("workspacemutation",this.rn),this.un.undoManager.removeEventListener("undo",this.ya),this.un.undoManager.removeEventListener("redo",this.Sa);},hl:function hl(){var t=this.un;if(t.selectedTextRange){var _e718=t.selectedTextRange.startContainer.closest("text");t.selectedElements.find(function(t){return t===_e718||t.contains(_e718);})||(t.selectedTextRange=null);}this.Td(),this.zd(),this._d();},fa:function fa(){this.il&&!this.un.selectedTextRange?this.rl():!this.il&&this.un.selectedTextRange&&this.dl(),this.il&&(this._d(),this.zd());},ka:function ka(){if(this.un.selectedTextRange){var _t952=this.un.selectedTextRange.startContainer.closest("text");_t952?this.Dd(_t952):this.un.selectedTextRange=null;}},gn:function gn(t){t.target.closest("text")&&this.Ad(t);},Ad:function Ad(t){var _this341=this;if(0!==t.button)return;t.preventDefault();var e=t.target.closest("text");if(1===this.Js.pointerClickCount){var _i659,_s346,_n282=wi(e),_o228=Yt(e).inverse(),_l210=new DOMPoint(t.clientX,t.clientY),_a156=_l210.matrixTransform(_o228),_h133=e.getCharNumAtPosition(Ie(_a156)),_r81=_h133,_d66=null;Ee(_a156,e.getStartPositionOfChar(_h133))>Ee(_a156,e.getEndPositionOfChar(_h133))&&(_r81+=1);var _Pi=Pi(e,_r81),_Pi2=_slicedToArray(_Pi,2),_c50=_Pi2[0],_p47=_Pi2[1];if(this.un.selectedElements=[e],this.Js.modKeys.shift){var _t953=this.un.selectedTextRange;if(null===_t953||!1===e.contains(_t953.startContainer)){var _t954=new Range();_t954.setStart(_c50,_p47),_t954.setEnd(_c50,_p47),this.un.selectedTextRange=_t954;}this.$d(_r81);}else{var _t955=new Range();_t955.setStart(_c50,_p47),_t955.setEnd(_c50,_p47),this.un.selectedTextRange=_t955;}this["#html-input"].focus(),window.addEventListener("pointermove",_i659=function _i659(t){var i=new DOMPoint(t.clientX,t.clientY);if(Ee(_l210,i)<3)return;var s=t.clientX,a=t.clientY,h=new DOMPoint(s,a).matrixTransform(_o228),r=e.getCharNumAtPosition(Ie(h));if(-1===r){var _t956=e.getNumberOfChars(),_i660=0,_s345=Infinity;if(null===_d66){_d66=[];for(var _i661=0;_i661<_t956;_i661+=1){var _t957=Te(e.getStartPositionOfChar(_i661),e.getEndPositionOfChar(_i661));_d66.push(_t957);}}for(var _e719=0;_e719<_t956;_e719+=1){var _t958=_d66[_e719],_n283=Ee(h,_t958);_n283<_s345&&(_i660=_e719,_s345=_n283);}r=_i660;}var u=r;Ee(h,e.getStartPositionOfChar(r))>Ee(h,e.getEndPositionOfChar(r))&&(u+=1);var _Pi3=Pi(e,u),_Pi4=_slicedToArray(_Pi3,2),x=_Pi4[0],b=_Pi4[1],m="forward";if(_c50===x)b<_p47&&(m="backward");else{_c50.compareDocumentPosition(x)===Node.DOCUMENT_POSITION_PRECEDING&&(m="backward");}var g=new Range();if(g.direction=m,"forward"===m?(g.setStart(_c50,_p47),g.setEnd(x,b)):(g.setStart(x,b),g.setEnd(_c50,_p47)),!1===_this341.un.selectedTextRange.collapsed&&g.startOffset===g.startContainer.textContent.length){var _t959=_n282[_n282.indexOf(g.startContainer)+1];_t959&&g.setStart(_t959,0);}_this341.un.selectedTextRange=g;}),window.addEventListener("pointerup",_s346=function s(){window.removeEventListener("pointermove",_i659),window.removeEventListener("pointerup",_s346);});}else if(2===this.Js.pointerClickCount){var _i662=t.clientX,s=t.clientY,_n284=Yt(e).inverse(),_o229=new DOMPoint(_i662,s).matrixTransform(_n284),_l211=e.getCharNumAtPosition(Ie(_o229));this.Id(e,_l211);}else if(3===this.Js.pointerClickCount){var _i663=t.clientX,_s347=t.clientY,_n285=Yt(e).inverse(),_o230=new DOMPoint(_i663,_s347).matrixTransform(_n285),_l212=e.getCharNumAtPosition(Ie(_o230));this.Ld(e,_l212);}else this.Js.pointerClickCount>=4&&this.Dd(e);},Ed:function Ed(t){"Home"===t.key||"End"===t.key||t.key.startsWith("Arrow")?this.Bd():t.key;},Od:function Od(t){var _this342=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee91(){return regeneratorRuntime.wrap(function _callee91$(_context92){while(1){switch(_context92.prev=_context92.next){case 0:"historyUndo"!==t.inputType&&(0===_this342["#html-input"].innerText.length&&(_this342["#html-input"].innerHTML=" ",document.execCommand("selectAll")),_this342.Md()),_this342.Rd(),_this342.Bd();case 1:case"end":return _context92.stop();}}},_callee91);}))();},Md:function Md(t){this.un.undoManager.checkpoint("Edit text");},Dd:function Dd(t){var e=wi(t);if(e.length>0){var _i664=e[0],s=e[e.length-1],_n286=new Range();_n286.setStart(_i664,0),_n286.setEnd(s,s.textContent.length),this.un.selectedElements=[t],this.un.selectedTextRange=_n286,this._d(),this.zd();}},Gd:function Gd(){this.un.selectedTextRange=null;},Id:function Id(t,e){var i=vi(t),s=i[e],n=t.getNumberOfChars(),o=e,l=e,a=function a(t){return bp(t)||t===xi;};for(var _t960=e-1;_t960>=0&&!(a(s)&&!a(i[_t960])||!a(s)&&a(i[_t960]));_t960-=1){o-=1;}for(var _t961=e;_t961<n&&!(a(s)&&!a(i[_t961])||!a(s)&&a(i[_t961]));_t961+=1){l+=1;}var _Pi5=Pi(t,o),_Pi6=_slicedToArray(_Pi5,2),h=_Pi6[0],r=_Pi6[1],_Pi7=Pi(t,l),_Pi8=_slicedToArray(_Pi7,2),d=_Pi8[0],c=_Pi8[1];if(r===h.textContent.length){var _e720=wi(t),_i665=_e720[_e720.indexOf(h)+1];_i665&&(h=_i665,r=0);}var p=new Range();p.setStart(h,r),p.setEnd(d,c),this.un.selectedTextRange=p;},Ld:function Ld(t,e){var i=vi(t),s=t.getNumberOfChars(),n=e,o=e;for(var _t962=e-1;_t962>=0&&i[_t962]!==xi;_t962-=1){n-=1;}for(var _t963=e;_t963<s&&i[_t963]!==xi;_t963+=1){o+=1;}var _Pi9=Pi(t,n),_Pi10=_slicedToArray(_Pi9,2),l=_Pi10[0],a=_Pi10[1],_Pi11=Pi(t,o),_Pi12=_slicedToArray(_Pi11,2),h=_Pi12[0],r=_Pi12[1];if(a===l.textContent.length){var _e721=wi(t),_i666=_e721[_e721.indexOf(l)+1];_i666&&(l=_i666,a=0);}var d=new Range();d.setStart(l,a),d.setEnd(h,r),this.un.selectedTextRange=d;},$d:function $d(t){var e=this.un.selectedTextRange,i=e.startContainer.closest("text"),_Mi5=Mi(e.startContainer,e.startOffset),_Mi6=_slicedToArray(_Mi5,2),s=_Mi6[1],_Mi7=Mi(e.endContainer,e.endOffset),_Mi8=_slicedToArray(_Mi7,2),n=_Mi8[1];if(t<s)s=t;else if(t>n)n=t;else{if(!(t>s&&t<n))return;t-s>n-t?n=t:s=t;}var _Pi13=Pi(i,s),_Pi14=_slicedToArray(_Pi13,2),o=_Pi14[0],l=_Pi14[1],_Pi15=Pi(i,n),_Pi16=_slicedToArray(_Pi15,2),a=_Pi16[0],h=_Pi16[1];if(l===o.textContent.length){var _t964=wi(i),_e722=_t964[_t964.indexOf(o)+1];_e722&&(o=_e722,l=0);}var r=new Range();r.setStart(o,l),r.setEnd(a,h),r.direction="backward",this.un.selectedTextRange=r;},_d:function _d(){var t=this.un.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=t?e.getNumberOfChars():0,_ref113=t?Mi(t.startContainer,t.startOffset):[,-1],_ref114=_slicedToArray(_ref113,2),s=_ref114[1],_ref115=t?Mi(t.endContainer,t.endOffset):[,-1],_ref116=_slicedToArray(_ref115,2),n=_ref116[1];if(1===i&&t&&" "===t.toString()){var _t965=0,_i667=e.getExtentOfChar(_t965),_s348=e.getStartPositionOfChar(_t965),_n287=e.getSubStringLength(_t965,1),_o231=_i667.height,_l213=e.getRotationOfChar(_t965),_a157=new DOMPoint(_s348.x+_n287/2,_s348.y),_h134=new DOMMatrix();_h134.multiplySelf(Wt(e,this)),_h134.translateSelf(_a157.x,_a157.y),_h134.rotateSelf(_l213),_h134.translateSelf(-_a157.x,-_a157.y),this["#caret-line"].setAttribute("x1",_s348.x),this["#caret-line"].setAttribute("y1",_i667.y),this["#caret-line"].setAttribute("x2",_s348.x),this["#caret-line"].setAttribute("y2",_i667.y+_o231),this["#caret-line"].setAttribute("transform",_h134.toString()),this["#caret-line"].style.setProperty("visibility","visible");}else if(t&&!0===t.collapsed){var _o232="backward"===t.direction?s:n;if(0===_o232){var _t966=e.getExtentOfChar(_o232),_i668=e.getStartPositionOfChar(_o232),_s349=e.getSubStringLength(_o232,1),_n288=_t966.height,_l214=e.getRotationOfChar(_o232),_a158=new DOMPoint(_i668.x+_s349/2,_i668.y),_h135=new DOMMatrix();_h135.multiplySelf(Wt(e,this)),_h135.translateSelf(_a158.x,_a158.y),_h135.rotateSelf(_l214),_h135.translateSelf(-_a158.x,-_a158.y),this["#caret-line"].setAttribute("x1",_i668.x),this["#caret-line"].setAttribute("y1",_t966.y),this["#caret-line"].setAttribute("x2",_i668.x),this["#caret-line"].setAttribute("y2",_t966.y+_n288),this["#caret-line"].setAttribute("transform",_h135.toString()),this["#caret-line"].style.visibility="visible";}else if(_o232>0&&_o232<=i){var _t967=e.getExtentOfChar(_o232-1),_i669=e.getEndPositionOfChar(_o232-1),_s350=e.getSubStringLength(_o232-1,1),_n289=_t967.height,_l215=e.getRotationOfChar(_o232-1),_a159=new DOMPoint(_i669.x+_s350/2,_i669.y),_h136=new DOMMatrix();_h136.multiplySelf(Wt(e,this)),_h136.translateSelf(_a159.x,_a159.y),_h136.rotateSelf(_l215),_h136.translateSelf(-_a159.x,-_a159.y),this["#caret-line"].setAttribute("x1",_i669.x),this["#caret-line"].setAttribute("y1",_t967.y),this["#caret-line"].setAttribute("x2",_i669.x),this["#caret-line"].setAttribute("y2",_t967.y+_n289),this["#caret-line"].setAttribute("transform",_h136.toString()),this["#caret-line"].style.visibility="visible";}else _o232>i&&(this["#caret-line"].style.visibility="hidden");}else this["#caret-line"].style.visibility="hidden";if(this["#selection-rects"].innerHTML="",t&&!1===t.collapsed){var _e723=t.startContainer.closest("text"),_i670=_e723.getNumberOfChars();for(var _t968=s;_t968<n&&_t968<_i670;_t968+=1){var _i671=_e723.getExtentOfChar(_t968),_s351=_e723.getStartPositionOfChar(_t968),_n290=(_e723.getEndPositionOfChar(_t968),_e723.getSubStringLength(_t968,1)),_o233=_i671.height,_l216=_e723.getRotationOfChar(_t968),_a160=new DOMPoint(_s351.x+_n290/2,_s351.y),_h137=new DOMMatrix();_h137.multiplySelf(Wt(_e723,this)),_h137.translateSelf(_a160.x,_a160.y),_h137.rotateSelf(_l216),_h137.translateSelf(-_a160.x,-_a160.y);var _r82=$i("svg:rect");_r82.setAttribute("x",_s351.x),_r82.setAttribute("y",_i671.y),_r82.setAttribute("width",_n290),_r82.setAttribute("height",_o233),_r82.setAttribute("transform",_h137.toString()),this["#selection-rects"].append(_r82);}}if("visible"===this["#caret-line"].style.visibility)this["#html-input-object"].setAttribute("x",this["#caret-line"].x2.baseVal.value),this["#html-input-object"].setAttribute("y",this["#caret-line"].y2.baseVal.value),this["#caret-line"].hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",this["#caret-line"].getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");else if(this["#selection-rects"].children.length>0){var _t969=this["#selection-rects"].children[0];this["#html-input-object"].setAttribute("x",_t969.x.baseVal.value),this["#html-input-object"].setAttribute("y",_t969.y.baseVal.value+_t969.height.baseVal.value),_t969.hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",_t969.getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");}},Bd:function Bd(){var t=pp(this).getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;if(e){var _t970=this.Ud(e.startContainer,e.startOffset)[1],_i672=this.Ud(e.endContainer,e.endOffset)[1],s=0,_n291=new Range(),_o234=null,_l217=this.Pd;var _iterator563=_createForOfIteratorHelper(wi(_l217)),_step563;try{for(_iterator563.s();!(_step563=_iterator563.n()).done;){var _e724=_step563.value;for(var _l218=0;_l218<=_e724.textContent.length;_l218+=1,s+=1){s===_t970&&_n291.setStart(_e724,_l218),s===_i672&&(0===_l218&&_o234?_n291.setEnd(_o234,_o234.textContent.length):_n291.setEnd(_e724,_l218));}s-=1,_o234=_e724;}}catch(err){_iterator563.e(err);}finally{_iterator563.f();}this.un.selectedTextRange=_n291;}},zd:function zd(){var t=this.un.selectedTextRange;if(t){var _e725=Mi(t.startContainer,t.startOffset)[1],_i673=Mi(t.endContainer,t.endOffset)[1],s=0,_n292=new Range(),_o235=null;var _iterator564=_createForOfIteratorHelper(this.Fd(this["#html-input"])),_step564;try{for(_iterator564.s();!(_step564=_iterator564.n()).done;){var _t971=_step564.value;for(var _l220=0;_l220<=_t971.textContent.length;_l220+=1,s+=1){s===_e725&&_n292.setStart(_t971,_l220),s===_i673&&(0===_l220&&_o235?_n292.setEnd(_o235,_o235.textContent.length):_n292.setEnd(_t971,_l220));}s-=1,_o235=_t971;}}catch(err){_iterator564.e(err);}finally{_iterator564.f();}var _l219=window.getSelection();_l219.removeAllRanges(),_l219.addRange(_n292);}},Rd:function Rd(){var t=this.Pd,e=t?t.querySelector("textPath")||t:null;if(e){var _i674=$i("svg:g");_i674.innerHTML=this["#html-input"].innerHTML;var s=document.createNodeIterator(_i674,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),_n293=null,_o236=yi(t),_l221=_i(t);for(;_n293=s.nextNode();){if(_n293.nodeType===Element.TEXT_NODE){if(_n293.textContent.includes("\n")){var _t972=document.createDocumentFragment();var _iterator565=_createForOfIteratorHelper(_n293.textContent),_step565;try{for(_iterator565.s();!(_step565=_iterator565.n()).done;){var _e726=_step565.value;if("\n"===_e726){var _e727=Ji(_templateObject10(),_o236.x,_l221+1,xi);_t972.append(_e727);}else _t972.append(new Text(_e726));}}catch(err){_iterator565.e(err);}finally{_iterator565.f();}_n293.replaceWith(_t972);}}else if(_n293.nodeType===Element.ELEMENT_NODE)if("span"===_n293.localName){var _t973=$i("svg:tspan");for(var _i675=0,_arr25=_toConsumableArray(_n293.attributes);_i675<_arr25.length;_i675++){var _arr25$_i=_arr25[_i675],_e728=_arr25$_i.name,_i676=_arr25$_i.value;_t973.setAttribute(_e728,_i676);}for(var _i677=0,_arr26=_toConsumableArray(_n293.childNodes);_i677<_arr26.length;_i677++){var _e729=_arr26[_i677];_t973.append(_e729);}_n293.replaceWith(_t973);}else("br"===_n293.localName||"div"===_n293.localName)&&_n293.remove();}e.innerHTML=_i674.innerHTML;var _a161=yi(t);_a161.x!==_o236.x&&t.setAttribute("x",_o236.x),_a161.y!==_o236.y&&t.setAttribute("y",_o236.y);}},Td:function Td(){var t=this.un.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=e?e.querySelector("textPath")||e:null;if(i){var _t974=document.createElement("div");_t974.innerHTML=i.innerHTML;var _iterator566=_createForOfIteratorHelper(_t974.querySelectorAll("tspan")),_step566;try{for(_iterator566.s();!(_step566=_iterator566.n()).done;){var _e730=_step566.value;if(Si(_e730))_e730.replaceWith(new Text("\n"));else{var _t975=document.createElement("span");for(var _i678=0,_arr27=_toConsumableArray(_e730.attributes);_i678<_arr27.length;_i678++){var _arr27$_i=_arr27[_i678],_i679=_arr27$_i.name,s=_arr27$_i.value;_t975.setAttribute(_i679,s);}for(var _i680=0,_arr28=_toConsumableArray(_e730.childNodes);_i680<_arr28.length;_i680++){var _i681=_arr28[_i680];_t975.append(_i681);}_e730.replaceWith(_t975);}}}catch(err){_iterator566.e(err);}finally{_iterator566.f();}this["#html-input"].innerHTML=_t974.innerHTML,this.Pd=e;}},Fd:function Fd(t){var e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;i.nextNode();){i.currentNode.closest("bx-title, desc")||e.push(i.currentNode);}return e;},Ud:function Ud(t,e){var i=this["#html-input"],s=0,n=-1;var _iterator567=_createForOfIteratorHelper(this.Fd(i)),_step567;try{for(_iterator567.s();!(_step567=_iterator567.n()).done;){var _o237=_step567.value;if(_o237===t){n=s+e;break;}s+=_o237.length;}}catch(err){_iterator567.e(err);}finally{_iterator567.f();}return[i,n];}};var gp=Math.abs,fp=4.5,wp=Symbol(),vp=Symbol();var yp={id:"char-hud",get selectedChar(){return this.Nd;},createdCallback:function createdCallback(){var _this343=this;this.il=!1,this.jd=[],this.Nd=null,this.Uh=ts(this.Zh,40,this),this.Qh=ts(this.Jh,40,this),this.innerHTML='\n  <style>\n    #char-hud [uid="grippies"] {\n      cursor: default;\n      outline: none;\n    }\n\n    #char-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #char-hud .node-grippie[data-selected] .outer-circle {\n      fill: #dabfff;\n    }\n\n    #char-hud .node-grippie .inner-circle {\n      display: none;\n      fill: #4d2782;\n    }\n    #char-hud .node-grippie[data-adjusted] .inner-circle {\n      display: block;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="node-grippies"></g>\n  </g>\n';var _iterator568=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step568;try{for(_iterator568.s();!(_step568=_iterator568.n()).done;){var _t976=_step568.value;this["#"+_t976.getAttribute("uid")]=_t976;}}catch(err){_iterator568.e(err);}finally{_iterator568.f();}this.addEventListener("pointerdown",function(t){_this343.Oo(t);}),this.addEventListener("dblclick",function(t){_this343.ma(t);});},enabledCallback:function enabledCallback(){var _this344=this;this.Js=Ri(this,"#app"),this.un=Ri(this,"bx-board"),this.un.addEventListener("selectedelementschange",this.al=function(){_this344.hl();}),this.hl();},disabledCallback:function disabledCallback(){this.il&&this.rl(),this.un.removeEventListener("selectedelementschange",this.al);},dl:function dl(){var _this345=this;this.il=!0,this.un.addEventListener("workspacemutation",this.rn=function(){_this345.pl();}),this.un.addEventListener("zoomchange",this.hn=function(){_this345.cl();});},rl:function rl(){this.il=!1,this.jd=[],this.Nd&&(this.Nd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),this["#node-grippies"].innerHTML="",this.un.removeEventListener("workspacemutation",this.rn),this.un.removeEventListener("zoomchange",this.hn);},hl:function hl(){this.jd=this.Vd(),this.Nd&&(this.Nd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),0===this.jd.length?this.il&&this.rl():(this.il||this.dl(),this.Uh());},pl:function pl(){this.Uh();},cl:function cl(){this.Qh();},Oo:function Oo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")&&this.ar(t);},ma:function ma(t){t.target.closest(".node-grippie")&&this.cr(t);},ar:function ar(t){var _this346=this;if(0!==t.button)return;var _e731,_i682,s=t.target.closest(".node-grippie"),n=new DOMPoint(t.clientX,t.clientY),o=n,l=this["#node-grippies"].querySelector("[data-selected]");l&&l.removeAttribute("data-selected"),s.setAttribute("data-selected",""),this.Nd={textElement:s[wp],charIndex:s[vp]},this.dispatchEvent(new CustomEvent("selectedcharchange")),window.addEventListener("pointermove",_e731=function e(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=Ee(n,a)>3||h>80,d=!1===De(o,a,0);if(o=a,!0===r&&!0===d){window.removeEventListener("pointermove",_e731),window.removeEventListener("pointerup",_i682);var _n294=new Q(l.clientX-t.clientX,l.clientY-t.clientY),_o238=gp(_n294.x)>gp(_n294.y)?"horizontal":"vertical",_a162=new DOMPoint(l.clientX,l.clientY);_this346.mr(t,s,_a162,_o238);}}),window.addEventListener("pointerup",_i682=function i(t){window.removeEventListener("pointermove",_e731),window.removeEventListener("pointerup",_i682);});},mr:function mr(t,e,i,s){var _this347=this;var n,_o239,l=this.un,a=e[wp],h=e[vp],r=e.querySelector("circle"),d=new DOMPoint(r.cx.baseVal.value,r.cy.baseVal.value).matrixTransform(Yt(this)),c=Yt(a).inverse(),p=null,u=null,x=null,b=[],m=[];l.undoManager.checkpoint("Adjust text character position"),l.snapManager.snapStart(!0),e.setPointerCapture(t.pointerId),bi(a);{var _t977=0;var _iterator569=_createForOfIteratorHelper(wi(a)),_step569;try{for(_iterator569.s();!(_step569=_iterator569.n()).done;){var _e732=_step569.value;var _i683=0;var _iterator570=_createForOfIteratorHelper(_e732.textContent),_step570;try{for(_iterator570.s();!(_step570=_iterator570.n()).done;){var _s352=_step570.value;if(_t977===h){p=_e732.parentNode,u=_e732,x=_i683;break;}_t977+=1,_i683+=1;}}catch(err){_iterator570.e(err);}finally{_iterator570.f();}if(p)break;}}catch(err){_iterator569.e(err);}finally{_iterator569.f();}}for(var _t978=0;_t978<u.textContent.length;_t978+=1){b[_t978]=void 0!==p.dx.baseVal[_t978]?p.dx.baseVal[_t978].value:0,m[_t978]=void 0!==p.dy.baseVal[_t978]?p.dy.baseVal[_t978].value:0;}var g=[].concat(b),f=[].concat(m);window.addEventListener("pointermove",n=function n(t){var e=new DOMPoint(t.clientX,t.clientY);_this347.Js.modKeys.shift&&("horizontal"===s?e.y=i.y:"vertical"===s&&(e.x=i.x));var n=l.snapManager.snapPoint(new DOMPoint(d.x+e.x-i.x,d.y+e.y-i.y)),o=new Q(d,n).matrixTransform(c);b[x]=J(g[x]+o.x,l.geometryPrecision),m[x]=J(f[x]+o.y,l.geometryPrecision),p.setAttribute("dx",b.join(" ")),p.setAttribute("dy",m.join(" "));}),window.addEventListener("pointerup",_o239=function o(t){window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o239),l.snapManager.snapEnd(),mi(a);});},cr:function cr(t){var e=t.target.closest(".node-grippie"),i=this.un,s=e[wp],n=e[vp],o=null,l=null,a=null,h=[],r=[],d=[];if(!1!==e.hasAttribute("data-adjusted")){i.undoManager.checkpoint("Reset text character position"),bi(s);{var _t979=0;var _iterator571=_createForOfIteratorHelper(wi(s)),_step571;try{for(_iterator571.s();!(_step571=_iterator571.n()).done;){var _e733=_step571.value;var _i684=0;var _iterator572=_createForOfIteratorHelper(_e733.textContent),_step572;try{for(_iterator572.s();!(_step572=_iterator572.n()).done;){var _s353=_step572.value;if(_t979===n){o=_e733.parentNode,l=_e733,a=_i684;break;}_t979+=1,_i684+=1;}}catch(err){_iterator572.e(err);}finally{_iterator572.f();}if(o)break;}}catch(err){_iterator571.e(err);}finally{_iterator571.f();}}for(var _t980=0;_t980<l.textContent.length;_t980+=1){h[_t980]=void 0!==o.dx.baseVal[_t980]?o.dx.baseVal[_t980].value:0,r[_t980]=void 0!==o.dy.baseVal[_t980]?o.dy.baseVal[_t980].value:0,d[_t980]=void 0!==o.rotate.baseVal[_t980]?o.rotate.baseVal[_t980].value:0;}h[a]=0,r[a]=0,d[a]=0,o.setAttribute("dx",h.join(" ")),o.setAttribute("dy",r.join(" ")),o.setAttribute("rotate",d.join(" ")),mi(s);}},Zh:function Zh(){var t=document.createDocumentFragment();var _iterator573=_createForOfIteratorHelper(this.jd),_step573;try{for(_iterator573.s();!(_step573=_iterator573.n()).done;){var _e734=_step573.value;var _i685=_e734.getNumberOfChars(),s=Wt(_e734,this),_n295=wi(_e734).map(function(t){return t.textContent;}).join(""),_o240=Di(_e734);for(var _l222=0;_l222<_i685;_l222+=1){if(_n295[_l222]!==xi){var _i686=_e734.getStartPositionOfChar(_l222),_n296=_e734.getEndPositionOfChar(_l222),_a163=Te(_i686,_n296).matrixTransform(s),_h138=fp/this.un.scale,_r83=fp/2.5/this.un.scale,_d67=$i("svg:g");_d67.setAttribute("class","node-grippie"),_d67.innerHTML="\n            <circle class=\"outer-circle\" cx=\"".concat(_a163.x,"\" cy=\"").concat(_a163.y,"\" r=\"").concat(_h138,"\"></circle>\n            <circle class=\"inner-circle\" cx=\"").concat(_a163.x,"\" cy=\"").concat(_a163.y,"\" r=\"").concat(_r83,"\"></circle>\n          "),_d67[wp]=_e734,_d67[vp]=_l222,0===_o240.dx[_l222]&&0===_o240.dy[_l222]&&0===_o240.rotate[_l222]||_d67.setAttribute("data-adjusted",""),this.Nd&&this.Nd.textElement===_e734&&this.Nd.charIndex===_l222&&_d67.setAttribute("data-selected",""),t.append(_d67);}}}}catch(err){_iterator573.e(err);}finally{_iterator573.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t),this.Jh();},Jh:function Jh(){var t=fp/this.un.scale,e=fp/2.5/this.un.scale;var _iterator574=_createForOfIteratorHelper(this["#node-grippies"].children),_step574;try{for(_iterator574.s();!(_step574=_iterator574.n()).done;){var _i687=_step574.value;_i687.children[0].setAttribute("r",t),_i687.children[1].setAttribute("r",e);}}catch(err){_iterator574.e(err);}finally{_iterator574.f();}},Vd:function Vd(){var t=[],e=function e(i){var _iterator575=_createForOfIteratorHelper(i),_step575;try{for(_iterator575.s();!(_step575=_iterator575.n()).done;){var s=_step575.value;"text"===s.localName?t.push(s):"g"!==s.localName&&"a"!==s.localName||e(s.children);}}catch(err){_iterator575.e(err);}finally{_iterator575.f();}};return e(this.un.selectedElements),t=t.filter(function(t){return null===t.querySelector("textPath");}),t;}};var kp={id:"blob-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #blob-hud [uid="ellipse"] {\n      fill: rgba(0, 0, 0, 0.2);\n      stroke: rgba(255, 255, 255, 0.75);\n      transform: rotate(0deg);\n      transform-origin: 50% 50%;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n    #blob-hud[data-mode="erase"] [uid="ellipse"] {\n      fill: rgba(255, 255, 255, 0.5);\n      stroke: rgba(0, 0, 0, 0.3);\n    }\n\n    #blob-hud [uid="cross"] {\n      display: none;\n      pointer-events: none;\n      fill: rgba(0, 0, 0, 0.7);\n    }\n    #blob-hud[data-mode="erase"] [uid="cross"] {\n      display: initial;\n    }\n  </style>\n\n  <ellipse uid="ellipse"></ellipse>\n  <path uid="cross" d="M 3.25 0 H 4.75 V 3.25 H 8 V 4.75 H 4.75 V 8 H 3.25 V 4.75 H 0 V 3.25 H 3.25 Z"></path>\n';var _iterator576=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step576;try{for(_iterator576.s();!(_step576=_iterator576.n()).done;){var _t981=_step576.value;this["#"+_t981.getAttribute("uid")]=_t981;}}catch(err){_iterator576.e(err);}finally{_iterator576.f();}},enabledCallback:function enabledCallback(){var _this348=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=Ri(this,"bx-board"),this.Js.addEventListener("configchange",this.ln=function(t){_this348.an(t);}),this.Js.addEventListener("modkeyschange",this.nh=function(){_this348.Hd();}),this.tn.board.addEventListener("zoomchange",this.hn=function(){_this348.cl();}),this.un.workspaces.addEventListener("pointermove",this.Ln=function(t){_this348.Wd(t);}),this.un.workspaces.addEventListener("pointerleave",this.Yd=function(t){_this348.qd(t);}),this.Xs();},disabledCallback:function disabledCallback(){this.Js.removeEventListener("configchange",this.ln),this.Js.removeEventListener("modkeyschange",this.nh),this.tn.board.removeEventListener("zoomchange",this.hn),this.un.workspaces.removeEventListener("pointermove",this.Ln),this.un.workspaces.removeEventListener("pointerleave",this.Yd);},an:function an(t){var _t$detail4=t.detail,e=_t$detail4.key,i=_t$detail4.value;"bx-blobsettings:drawingMode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||this.Xs();},Hd:function Hd(){this.Xs();},cl:function cl(){this.Xs();},Wd:function Wd(t){var _iterator577=_createForOfIteratorHelper(t.getCoalescedEvents()),_step577;try{for(_iterator577.s();!(_step577=_iterator577.n()).done;){var _e735=_step577.value;var _t982=new DOMPoint(_e735.clientX,_e735.clientY);this.Xs(_t982);}}catch(err){_iterator577.e(err);}finally{_iterator577.f();}},qd:function qd(){this["#cross"].style.transform="translate(-99999px, -99999px)",this["#ellipse"].style.transform="translate(-99999px, -99999px)";},Xs:function Xs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Js.pointerClientPoint;var e=this.Js.getConfig("bx-blobsettings:drawingMode","create"),i=this.Js.getConfig("bx-blobsettings:size",30),s=this.Js.getConfig("bx-blobsettings:roundness",100),n=this.Js.getConfig("bx-blobsettings:angle",0),o=this.Js.getConfig("bx-blobsettings:dynamics",Oh),l=Yt(this).inverse(),a=t.matrixTransform(l),h=this.Js.pointerPressure;if(this.Js.modKeys.ctrl&&(e="create"===e?"erase":"create"),i*this.un.scale<10&&(i=10/this.un.scale),s<25&&(s=25),o.size){var _t983=J(i-i*o.size.variance,0),_e736=J(i+i*o.size.variance,0);"pressure"===o.size.param&&h>0&&(i=_t983+h*(_e736-_t983));}this.setAttribute("data-mode",e);{var _t984=a.x-4,_e737=a.y-4,_s354=1*Math.min(i,25)/20/this.un.scale;this["#cross"].style.transform="scale(".concat(_s354,") rotate(-45deg) translate(").concat(_t984,"px, ").concat(_e737,"px)"),this["#cross"].style.transformOrigin="".concat(a.x,"px ").concat(a.y,"px");}this["#ellipse"].cx.baseVal.value=a.x,this["#ellipse"].cy.baseVal.value=a.y,this["#ellipse"].rx.baseVal.value=i/2,this["#ellipse"].ry.baseVal.value=s/100*(i/2),this["#ellipse"].style.transform="rotate(".concat(n,"deg)"),this["#ellipse"].style.transformOrigin="".concat(a.x,"px ").concat(a.y,"px");}};var Sp={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};var Cp=/*#__PURE__*/function(_Qa8){_inherits(Cp,_Qa8);var _super66=_createSuper(Cp);function Cp(t){var _this349;_classCallCheck(this,Cp);_this349=_super66.call(this),_this349.Xd=t,_this349.Zd=[],_this349.Kd=0,_this349.Qd=!1,_this349.Jd=new MutationObserver(function(t){var _iterator578=_createForOfIteratorHelper(t),_step578;try{for(_iterator578.s();!(_step578=_iterator578.n()).done;){var _e738=_step578.value;_this349.tc(_e738);}}catch(err){_iterator578.e(err);}finally{_iterator578.f();}}),_this349.ec();return _this349;}_createClass(Cp,[{key:"clear",value:function clear(){this.Zd=[],this.Kd=0,this.dispatchEvent(new CustomEvent("change",{detail:"clear"}));}},{key:"checkpoint",value:function checkpoint(t){this.Jd.takeRecords(),this.Kd<this.Zd.length&&(this.Zd=this.Zd.slice(0,this.Kd));var e={label:t,transactions:[]};this.Zd.push(e),this.Kd+=1;}},{key:"undo",value:function undo(){if(this.canUndo()){this.ic(),this.disabled=!0,this.Kd-=1;var _t985=this.Zd[this.Kd],_e739=_toConsumableArray(_t985.transactions).reverse(),_i688=_t985.label||"",s=new Set(),_n297=new Set(),_o241=new Set();var _iterator579=_createForOfIteratorHelper(_e739),_step579;try{for(_iterator579.s();!(_step579=_iterator579.n()).done;){var _t986=_step579.value;if("childList"===_t986.type){var _e740=document.createDocumentFragment();var _iterator580=_createForOfIteratorHelper(_t986.addedNodes),_step580;try{for(_iterator580.s();!(_step580=_iterator580.n()).done;){var _e741=_step580.value;_t986.target.removeChild(_e741),_n297.add(_e741),s["delete"](_e741);}}catch(err){_iterator580.e(err);}finally{_iterator580.f();}var _iterator581=_createForOfIteratorHelper(_t986.removedNodes),_step581;try{for(_iterator581.s();!(_step581=_iterator581.n()).done;){var _i689=_step581.value;_e740.append(_i689),s.add(_i689),_n297["delete"](_i689);}}catch(err){_iterator581.e(err);}finally{_iterator581.f();}_t986.nextSibling?_t986.target.insertBefore(_e740,_t986.nextSibling):_t986.previousSibling?_t986.target.insertBefore(_e740,_t986.previousSibling.nextSibling):_t986.target.append(_e740);}else"attributes"===_t986.type?(null===_t986.oldValue?_t986.target.removeAttribute(_t986.attributeName):_t986.target.setAttribute(_t986.attributeName,_t986.oldValue),_o241.add(_t986.target)):"characterData"===_t986.type&&(_t986.target.data=_t986.oldValue,_o241.add(_t986.target));}}catch(err){_iterator579.e(err);}finally{_iterator579.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{label:_i688,addedNodes:s,removedNodes:_n297,modifiedNodes:_o241}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i688,addedNodes:s,removedNodes:_n297,modifiedNodes:_o241}})),this.dispatchEvent(new CustomEvent("change",{detail:"decrement"}));}else console.info("Can't undo");}},{key:"redo",value:function redo(){if(this.canRedo()){var _t987=this.Zd[this.Kd],_e742=_t987.transactions;this.disabled=!0,this.Kd+=1;var _i690=_t987.label||"",s=new Set(),_n298=new Set(),_o242=new Set();var _iterator582=_createForOfIteratorHelper(_e742),_step582;try{for(_iterator582.s();!(_step582=_iterator582.n()).done;){var _t988=_step582.value;if("childList"===_t988.type){var _e743=document.createDocumentFragment();var _iterator583=_createForOfIteratorHelper(_t988.removedNodes),_step583;try{for(_iterator583.s();!(_step583=_iterator583.n()).done;){var _e744=_step583.value;_t988.target.removeChild(_e744),_n298.add(_e744),s["delete"](_e744);}}catch(err){_iterator583.e(err);}finally{_iterator583.f();}var _iterator584=_createForOfIteratorHelper(_t988.addedNodes),_step584;try{for(_iterator584.s();!(_step584=_iterator584.n()).done;){var _i691=_step584.value;_e743.append(_i691),s.add(_i691),_n298["delete"](_i691);}}catch(err){_iterator584.e(err);}finally{_iterator584.f();}_t988.nextSibling?_t988.target.insertBefore(_e743,_t988.nextSibling):_t988.previousSibling?_t988.target.insertBefore(_e743,_t988.previousSibling.nextSibling):_t988.target.append(_e743);}else"attributes"===_t988.type?(null===_t988.newValue?_t988.target.removeAttribute(_t988.attributeName):_t988.target.setAttribute(_t988.attributeName,_t988.newValue),_o242.add(_t988.target)):"characterData"===_t988.type&&(_t988.target.data=_t988.newValue,_o242.add(_t988.target));}}catch(err){_iterator582.e(err);}finally{_iterator582.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{label:_i690,addedNodes:s,removedNodes:_n298,modifiedNodes:_o242}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i690,addedNodes:s,removedNodes:_n298,modifiedNodes:_o242}})),this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}else console.info("Can't redo");}},{key:"canUndo",value:function canUndo(){return 0!==this.Kd&&!this.disabled&&(1!==this.Kd||!this.sc());}},{key:"canRedo",value:function canRedo(){return this.Kd!==this.Zd.length&&!this.disabled;}},{key:"ec",value:function ec(){!0===this.disabled?(this.Jd.takeRecords(),this.Jd.disconnect()):!1===this.disabled&&this.Jd.observe(this.Xd,Sp);}},{key:"tc",value:function tc(t){if(0===this.Zd.length)return;if(t.attributeName&&t.attributeName.startsWith("_bx"))return;var e=this.Zd[this.Zd.length-1].transactions,i=e.length;if("attributes"===t.type){var _i692=t.attributeName,s=e.find(function(e){return"attributes"===e.type&&e.attributeName===_i692&&e.target===t.target;});s?s.newValue=s.target.getAttribute(_i692):(s={type:"attributes",target:t.target,attributeName:_i692,oldValue:t.oldValue,newValue:t.target.getAttribute(_i692)},e.push(s));}else if("characterData"===t.type){var _i693=e.find(function(e){return"characterData"===e.type&&e.target===t.target;});if(_i693)_i693.newValue=_i693.target.data;else{var _i694={type:"characterData",target:t.target,oldValue:t.oldValue,newValue:t.target.data};e.push(_i694);}}else if("childList"===t.type){var _i695={type:"childList",target:t.target,addedNodes:_toConsumableArray(t.addedNodes),removedNodes:_toConsumableArray(t.removedNodes),nextSibling:t.nextSibling,previousSibling:t.previousSibling};e.push(_i695);}0===i&&e.length>0&&this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}},{key:"sc",value:function sc(){return 0===this.Zd[this.Kd-1].transactions.length;}},{key:"ic",value:function ic(){var _this350=this;this.Kd>0&&0===this.Zd[this.Kd-1].transactions.length&&(this.Zd=this.Zd.filter(function(t){return t!==_this350.Zd[_this350.Kd];}),this.Kd-=1);}},{key:"groups",get:function get(){return this.Zd;}},{key:"position",get:function get(){return this.Kd;}},{key:"disabled",get:function get(){return this.Qd;},set:function set(t){var e;(e=t)===!!e&&t!==this.Qd&&(this.Qd=t,this.ec());}},{key:"undoLabel",get:function get(){var t="Undo";if(this.canUndo()){var _e745;_e745=this.Zd[this.Kd-1].transactions.length>0?this.Zd[this.Kd-1]:this.Zd[this.Kd-2],t="Undo: ".concat(_e745.label);}return t;}},{key:"redoLabel",get:function get(){var t="Redo";if(this.canRedo()){t="Redo: ".concat(this.Zd[this.Kd].label);}return t;}}]);return Cp;}(Qa);var _window6=window,_p=_window6.tokenize,Mp=_window6.EOFToken,Pp=_window6.parseACommaSeparatedListOfComponentValues;var Dp=/*#__PURE__*/function(){_createClass(Dp,[{key:"items",get:function get(){return this.Mo;},set:function set(t){this.Mo=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-face-src>";}}]);function Dp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,Dp);this.Mo=_toConsumableArray(t);}_createClass(Dp,[{key:"toString",value:function toString(){var t=[];var _iterator585=_createForOfIteratorHelper(this.items),_step585;try{for(_iterator585.s();!(_step585=_iterator585.n()).done;){var _e746=_step585.value;if("local"===_e746.type){var _i696="local(".concat(_e746.name,")");t.push(_i696);}else if("external"===_e746.type||"embedded"===_e746.type){var _i697="url(".concat(_e746.url,")");_e746.format&&(_i697+=" format(\"".concat(_e746.format,"\")")),t.push(_i697);}}}catch(err){_iterator585.e(err);}finally{_iterator585.f();}return t.join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=Pp(t),s=[];var _iterator586=_createForOfIteratorHelper(i),_step586;try{for(_iterator586.s();!(_step586=_iterator586.n()).done;){var _t989=_step586.value;var _e747=[].concat(_toConsumableArray(_t989),[new Mp()]).filter(function(t){return"WHITESPACE"!==t.tokenType;}),_i698=new Et(_e747),_n299={};if(_i698.read(),"FUNCTION"===_i698.currentToken.type){if("local"===_i698.currentToken.name){var _t990="";var _iterator587=_createForOfIteratorHelper(_i698.currentToken.value),_step587;try{for(_iterator587.s();!(_step587=_iterator587.n()).done;){var _e748=_step587.value;"STRING"===_e748.tokenType?_t990+=_e748.value:_t990+=_e748.toSource();}}catch(err){_iterator587.e(err);}finally{_iterator587.f();}_n299.type="local",_n299.name=_t990;}else if("url"===_i698.currentToken.name){var _t991="";var _iterator588=_createForOfIteratorHelper(_i698.currentToken.value),_step588;try{for(_iterator588.s();!(_step588=_iterator588.n()).done;){var _e749=_step588.value;"STRING"===_e749.tokenType?_t991+=_e749.value:_t991+=_e749.toSource();}}catch(err){_iterator588.e(err);}finally{_iterator588.f();}_t991.trim(),_t991.startsWith("data:")?_n299.type="embedded":_n299.type="external",_n299.url=new Go(_t991),_i698.read(),"FUNCTION"==_i698.currentToken.type&&"format"===_i698.currentToken.name&&(_n299.format=_i698.currentToken.value[0].value);}}else if("URL"===_i698.currentToken.tokenType){var _t992=_i698.currentToken.value;_t992.startsWith("data:")?_n299.type="embedded":_n299.type="external",_n299.url=new Go(_t992),_i698.read(),"FUNCTION"==_i698.currentToken.type&&"format"===_i698.currentToken.name&&(_n299.format=_i698.currentToken.value[0].value);}s.push(_n299);}}catch(err){_iterator586.e(err);}finally{_iterator586.f();}return new Dp(s);}}]);return Dp;}();var zp=function zp(t){var e={},i=getComputedStyle(t);e.width=i.getPropertyValue("width");var _iterator589=_createForOfIteratorHelper(i),_step589;try{for(_iterator589.s();!(_step589=_iterator589.n()).done;){var _t993=_step589.value;var s=i.getPropertyValue(_t993);e[_t993]=s;}}catch(err){_iterator589.e(err);}finally{_iterator589.f();}return e;},Op=function Op(t,e){{var _i699=N.find(function(e){return e.name===t;}).presentationAttributeName||null;_i699&&e.hasAttribute(_i699)&&(""===e.style.getPropertyValue(t)&&e.style.setProperty(t,e.getAttribute(_i699)),e.removeAttribute(_i699));}{var _i700=e.style.getPropertyValue(t);if(""!==_i700&&"inherit"!==_i700){var s=getComputedStyle(e).getPropertyValue(t);e.style.removeProperty(t),s!==getComputedStyle(e).getPropertyValue(t)&&e.style.setProperty(t,_i700);}}},Ep=function Ep(t){var e=N.find(function(e){return e.name===t;});return!!e&&e.inheritable;},Tp=function Tp(t){var e="",i=t.sheet.cssRules[0];var _iterator590=_createForOfIteratorHelper(t.sheet.cssRules),_step590;try{for(_iterator590.s();!(_step590=_iterator590.n()).done;){var s=_step590.value;s!==i&&(e+="\n"),e+=s.cssText;}}catch(err){_iterator590.e(err);}finally{_iterator590.f();}t.textContent!==e&&(t.textContent=e);},Ap=function Ap(t){var e,i=function i(t){var e,i,s=[0,0,0],n=t.split(" "),o=/[\w-]+/g,l=/#[\w-]+/g,a=/\.[\w-]+/g,h=/\[[^\]]+\]/g,r=/\:(?!not)[\w-]+(\(.*\))?/g,d=/\:\:?(after|before|first-letter|first-line|selection)/g,c=function c(t,e){var i=t.match(e);return i?i.length:0;};for(;e=n.shift(),"string"==typeof e;){i=c(e,d),s[2]+=i,i&&(e=e.replace(d,"")),i=c(e,r),s[1]+=i,i&&(e=e.replace(r,"")),i=c(e,h),s[1]+=i,i&&(e=e.replace(h,"")),i=c(e,l),s[0]+=i,i&&(e=e.replace(l,"")),i=c(e,a),s[1]+=i,i&&(e=e.replace(a,"")),s[2]+=c(e,o);}return parseInt(s.join(""),10);},s=function s(t,e){var s,n,o=e.split(","),l=0;for(;s=o.shift();){t.matches(s)&&(n=i(s),l=n>l?n:l);}return l;},n=function n(t){var e=t.media&&t.media.mediaText;return t.disabled||t.href&&t.href.startsWith("https://fonts.googleapis.com/css")||e&&e.length&&!window.matchMedia(e).matches?[]:t.cssRules?_toConsumableArray(t.cssRules):[];},o=[],l=_toConsumableArray(pp(t).styleSheets);for(;e=l.shift();){var _i701=void 0,_s355=n(e);for(;_i701=_s355.shift();){_i701.type===CSSRule.IMPORT_RULE?_i701.styleSheet&&(_s355=n(_i701.styleSheet).concat(_s355)):_i701.type===CSSRule.MEDIA_RULE?_s355=n(_i701).concat(_s355):_i701.type===CSSRule.STYLE_RULE&&t.matches(_i701.selectorText)&&o.push(_i701);}}return o=o.sort(function(e,i){return s(t,i.selectorText)-s(t,e.selectorText);}),o;};var $p=/*#__PURE__*/function(){function $p(t){_classCallCheck(this,$p);this.nc=t;}_createClass($p,[{key:"normalize",value:function normalize(){Bh(this.nc);}},{key:"search",value:function search(){var _this351=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref117=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee92(i){var s,n,_iterator591,_step591,_e750;return regeneratorRuntime.wrap(function _callee92$(_context93){while(1){switch(_context93.prev=_context93.next){case 0:_context93.next=2;return _this351.getFontFaces(null,e);case 2:s=_context93.sent;n={};_iterator591=_createForOfIteratorHelper(s);try{for(_iterator591.s();!(_step591=_iterator591.n()).done;){_e750=_step591.value;(""===t||_e750.family.toLowerCase().includes(t.trim().toLowerCase()))&&(void 0===n[_e750.family]&&(n[_e750.family]={family:_e750.family,embeddedFaces:[],linkedFaces:[]}),_e750.src.includes("data:")?n[_e750.family].embeddedFaces.push(_e750):n[_e750.family].linkedFaces.push(_e750));}}catch(err){_iterator591.e(err);}finally{_iterator591.f();}i(Object.values(n));case 7:case"end":return _context93.stop();}}},_callee92);}));return function(_x113){return _ref117.apply(this,arguments);};}());}},{key:"oc",value:function oc(){var _this352=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref118=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee93(e){var i,_iterator592,_step592,_t994,_iterator593,_step593,_e751,_i702,_t995;return regeneratorRuntime.wrap(function _callee93$(_context94){while(1){switch(_context94.prev=_context94.next){case 0:i=[];_iterator592=_createForOfIteratorHelper(_this352.nc.querySelectorAll("style"));_context94.prev=2;_iterator592.s();case 4:if((_step592=_iterator592.n()).done){_context94.next=32;break;}_t994=_step592.value;_iterator593=_createForOfIteratorHelper(_t994.sheet.cssRules);_context94.prev=7;_iterator593.s();case 9:if((_step593=_iterator593.n()).done){_context94.next=22;break;}_e751=_step593.value;if(!(_e751.type===CSSRule.FONT_FACE_RULE)){_context94.next=15;break;}i.push(_e751);_context94.next=20;break;case 15:if(!(_e751.type===CSSRule.IMPORT_RULE&&_e751.href.startsWith("https://fonts.googleapis.com/css"))){_context94.next=20;break;}_context94.next=18;return Br.getFontFaceRulesFromUrl(_e751.href);case 18:_t995=_context94.sent;(_i702=i).push.apply(_i702,_toConsumableArray(_t995));case 20:_context94.next=9;break;case 22:_context94.next=27;break;case 24:_context94.prev=24;_context94.t0=_context94["catch"](7);_iterator593.e(_context94.t0);case 27:_context94.prev=27;_iterator593.f();return _context94.finish(27);case 30:_context94.next=4;break;case 32:_context94.next=37;break;case 34:_context94.prev=34;_context94.t1=_context94["catch"](2);_iterator592.e(_context94.t1);case 37:_context94.prev=37;_iterator592.f();return _context94.finish(37);case 40:null!==t&&(i=i.filter(function(e){return t===Lh.fromString(e.style.fontFamily).items[0];})),e(i);case 41:case"end":return _context94.stop();}}},_callee93,null,[[2,34,37,40],[7,24,27,30]]);}));return function(_x114){return _ref118.apply(this,arguments);};}());}},{key:"getFontFaces",value:function getFontFaces(){var _this353=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(/*#__PURE__*/function(){var _ref119=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee94(i){return regeneratorRuntime.wrap(function _callee94$(_context95){while(1){switch(_context95.prev=_context95.next){case 0:_context95.t0=i;_context95.next=3;return _this353.oc(t);case 3:_context95.t1=_context95.sent.map(function(t){return _this353.lc(t,e);});(0,_context95.t0)(_context95.t1);case 5:case"end":return _context95.stop();}}},_callee94);}));return function(_x115){return _ref119.apply(this,arguments);};}());}},{key:"getMatchedFontFace",value:function getMatchedFontFace(t,e,i){var _this354=this;return new Promise(/*#__PURE__*/function(){var _ref120=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee95(s){var n;return regeneratorRuntime.wrap(function _callee95$(_context96){while(1){switch(_context96.prev=_context96.next){case 0:_context96.next=2;return _this354.getFontFaces(t);case 2:n=_context96.sent;s(Nh(n,t,e,i));case 4:case"end":return _context96.stop();}}},_callee95);}));return function(_x116){return _ref120.apply(this,arguments);};}());}},{key:"getFontFaceBaseline",value:function getFontFaceBaseline(t){var _this355=this;return new Promise(/*#__PURE__*/function(){var _ref121=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee96(e){var i,_e752,s,_n300,_t996,_e753;return regeneratorRuntime.wrap(function _callee96$(_context97){while(1){switch(_context97.prev=_context97.next){case 0:i=1;if(!t.src){_context97.next=8;break;}_e752=Dp.fromString(t.src).items[0].url.value;_context97.next=5;return _this355.ac(_e752,"arrayBuffer");case 5:s=_context97.sent;_n300=fontkit.create(s);if(_n300){_t996=_n300.hhea.ascent,_e753=_n300.hhea.descent;i=1-Math.abs(_e753)/(Math.abs(_t996)+Math.abs(_e753));}case 8:e(i);case 9:case"end":return _context97.stop();}}},_callee96);}));return function(_x117){return _ref121.apply(this,arguments);};}());}},{key:"getFontFamilyWeights",value:function getFontFamilyWeights(t){var _this356=this;return new Promise(/*#__PURE__*/function(){var _ref122=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee97(e){var i,s,_iterator594,_step594,_t997,_e754;return regeneratorRuntime.wrap(function _callee97$(_context98){while(1){switch(_context98.prev=_context98.next){case 0:_context98.next=2;return _this356.oc(t);case 2:i=_context98.sent;s=new Set();_iterator594=_createForOfIteratorHelper(i);try{for(_iterator594.s();!(_step594=_iterator594.n()).done;){_t997=_step594.value;_e754=_t997.style.fontWeight?Rh(_t997.style.fontWeight):"400";s.add(_e754);}}catch(err){_iterator594.e(err);}finally{_iterator594.f();}e(_toConsumableArray(s));case 7:case"end":return _context98.stop();}}},_callee97);}));return function(_x118){return _ref122.apply(this,arguments);};}());}},{key:"pinFontFamily",value:function pinFontFamily(t){var _this357=this;return new Promise(/*#__PURE__*/function(){var _ref123=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee98(e){var _iterator595,_step595,_e755;return regeneratorRuntime.wrap(function _callee98$(_context99){while(1){switch(_context99.prev=_context99.next){case 0:_this357.normalize();_iterator595=_createForOfIteratorHelper(_this357.nc.querySelectorAll("style[data-bx-fonts]"));try{for(_iterator595.s();!(_step595=_iterator595.n()).done;){_e755=_step595.value;_e755.getAttribute("data-bx-fonts")===t&&_e755.setAttribute("data-bx-pinned","true");}}catch(err){_iterator595.e(err);}finally{_iterator595.f();}e();case 4:case"end":return _context99.stop();}}},_callee98);}));return function(_x119){return _ref123.apply(this,arguments);};}());}},{key:"unpinFontFamily",value:function unpinFontFamily(t){var _this358=this;return new Promise(/*#__PURE__*/function(){var _ref124=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee99(e){var _iterator596,_step596,_e756;return regeneratorRuntime.wrap(function _callee99$(_context100){while(1){switch(_context100.prev=_context100.next){case 0:_this358.normalize();_iterator596=_createForOfIteratorHelper(_this358.nc.querySelectorAll("style[data-bx-fonts]"));try{for(_iterator596.s();!(_step596=_iterator596.n()).done;){_e756=_step596.value;_e756.getAttribute("data-bx-fonts")===t&&_e756.removeAttribute("data-bx-pinned");}}catch(err){_iterator596.e(err);}finally{_iterator596.f();}e();case 4:case"end":return _context100.stop();}}},_callee99);}));return function(_x120){return _ref124.apply(this,arguments);};}());}},{key:"removeFontFamily",value:function removeFontFamily(t){var _this359=this;return new Promise(/*#__PURE__*/function(){var _ref125=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee100(e){var i;return regeneratorRuntime.wrap(function _callee100$(_context101){while(1){switch(_context101.prev=_context101.next){case 0:_this359.normalize();i=_this359.nc.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));i&&i.remove(),e();case 3:case"end":return _context101.stop();}}},_callee100);}));return function(_x121){return _ref125.apply(this,arguments);};}());}},{key:"linkFontFamily",value:function linkFontFamily(t,e){var _this360=this;return new Promise(/*#__PURE__*/function(){var _ref126=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee101(i){var s,n;return regeneratorRuntime.wrap(function _callee101$(_context102){while(1){switch(_context102.prev=_context102.next){case 0:_this360.normalize();s=_this360.nc.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));s||(s=$i("svg:style"),s.setAttribute("data-bx-fonts",t),_this360.nc.querySelector("defs").append(s));n="@import url(".concat(e,");");s.textContent=n,i();case 5:case"end":return _context102.stop();}}},_callee101);}));return function(_x122){return _ref126.apply(this,arguments);};}());}},{key:"unlinkFontFamily",value:function(){var _unlinkFontFamily=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee103(t){var _this361=this;return regeneratorRuntime.wrap(function _callee103$(_context104){while(1){switch(_context104.prev=_context104.next){case 0:return _context104.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref127=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee102(e){var i,_iterator597,_step597,_e757,_t998,_i703,s,_n301,_i704,_iterator598,_step598,_s356,_i705,_n302,_e758,_i706;return regeneratorRuntime.wrap(function _callee102$(_context103){while(1){switch(_context103.prev=_context103.next){case 0:_this361.normalize();i=_toConsumableArray(_this361.nc.querySelectorAll("style[data-bx-fonts]"));_iterator597=_createForOfIteratorHelper(i);_context103.prev=3;_iterator597.s();case 5:if((_step597=_iterator597.n()).done){_context103.next=55;break;}_e757=_step597.value;if(!(_e757.getAttribute("data-bx-fonts")===t)){_context103.next=53;break;}_t998=!1,_i703=_toConsumableArray(_e757.sheet.cssRules);s=0;case 10:if(!(s<_i703.length)){_context103.next=52;break;}_n301=_i703[s];if(!(_n301.type===CSSRule.IMPORT_RULE)){_context103.next=42;break;}if(!_n301.href.startsWith("https://fonts.googleapis.com/css")){_context103.next=39;break;}_context103.next=16;return Br.getFontFaceRulesFromUrl(_n301.href);case 16:_i704=_context103.sent;_iterator598=_createForOfIteratorHelper(_i704);_context103.prev=18;_iterator598.s();case 20:if((_step598=_iterator598.n()).done){_context103.next=31;break;}_s356=_step598.value;if(!(_s356.type===CSSRule.FONT_FACE_RULE)){_context103.next=29;break;}_i705=Dp.fromString(_s356.style.src).items[0]||null;if(!(_i705&&"external"===_i705.type)){_context103.next=29;break;}_context103.next=27;return _this361.ac(_i705.url.value,"dataURL");case 27:_n302=_context103.sent;_s356.style.src='url("'+encodeURI(_n302)+'")',_e757.sheet.insertRule(_s356.cssText,_e757.sheet.cssRules.length),_t998=!0;case 29:_context103.next=20;break;case 31:_context103.next=36;break;case 33:_context103.prev=33;_context103.t0=_context103["catch"](18);_iterator598.e(_context103.t0);case 36:_context103.prev=36;_iterator598.f();return _context103.finish(36);case 39:_e757.sheet.deleteRule(s);_context103.next=49;break;case 42:if(!(_n301.type===CSSRule.FONT_FACE_RULE)){_context103.next=49;break;}_e758=Dp.fromString(_n301.style.src).items[0]||null;if(!(_e758&&"external"===_e758.type)){_context103.next=49;break;}_context103.next=47;return _this361.ac(_e758.url.value,"dataURL");case 47:_i706=_context103.sent;_n301.style.src='url("'+encodeURI(_i706)+'")',_t998=!0;case 49:s+=1;_context103.next=10;break;case 52:_t998&&Tp(_e757);case 53:_context103.next=5;break;case 55:_context103.next=60;break;case 57:_context103.prev=57;_context103.t1=_context103["catch"](3);_iterator597.e(_context103.t1);case 60:_context103.prev=60;_iterator597.f();return _context103.finish(60);case 63:e();case 64:case"end":return _context103.stop();}}},_callee102,null,[[3,57,60,63],[18,33,36,39]]);}));return function(_x124){return _ref127.apply(this,arguments);};}()));case 1:case"end":return _context104.stop();}}},_callee103);}));function unlinkFontFamily(_x123){return _unlinkFontFamily.apply(this,arguments);}return unlinkFontFamily;}()},{key:"reorderFontFamilies",value:function reorderFontFamilies(t){var _this362=this;return new Promise(/*#__PURE__*/function(){var _ref128=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee104(e){var i,_iterator599,_step599,_e759,_t1000,s,_i708,_i707,_t999;return regeneratorRuntime.wrap(function _callee104$(_context105){while(1){switch(_context105.prev=_context105.next){case 0:_this362.normalize();i=[];_iterator599=_createForOfIteratorHelper(t);try{for(_iterator599.s();!(_step599=_iterator599.n()).done;){_e759=_step599.value;_t1000=_this362.nc.querySelector("style[data-bx-fonts=\"".concat(_e759,"\"]"));i.push(_t1000);}}catch(err){_iterator599.e(err);}finally{_iterator599.f();}s=_this362.nc.querySelector("defs");for(_i708=0,_i707=i;_i708<_i707.length;_i708++){_t999=_i707[_i708];s.append(_t999);}e();case 7:case"end":return _context105.stop();}}},_callee104);}));return function(_x125){return _ref128.apply(this,arguments);};}());}},{key:"addFontFaces",value:function addFontFaces(t){var _this363=this;return new Promise(/*#__PURE__*/function(){var _ref129=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee105(e){var i,_iterator600,_step600,_e762,_i709,_Object$entries5,_Object$entries5$_i,_t1001,_e760,_i710,_iterator601,_step601,_t1002,_iterator602,_step602,_e761;return regeneratorRuntime.wrap(function _callee105$(_context106){while(1){switch(_context106.prev=_context106.next){case 0:i={};_iterator600=_createForOfIteratorHelper(t);try{for(_iterator600.s();!(_step600=_iterator600.n()).done;){_e762=_step600.value;void 0===i[_e762.family]&&(i[_e762.family]=[]),i[_e762.family].push(_e762);}}catch(err){_iterator600.e(err);}finally{_iterator600.f();}_i709=0,_Object$entries5=Object.entries(i);case 4:if(!(_i709<_Object$entries5.length)){_context106.next=15;break;}_Object$entries5$_i=_slicedToArray(_Object$entries5[_i709],2),_t1001=_Object$entries5$_i[0],_e760=_Object$entries5$_i[1];_context106.next=8;return _this363.getFontFaces(_t1001);case 8:_i710=_context106.sent;_iterator601=_createForOfIteratorHelper(_e760);try{for(_iterator601.s();!(_step601=_iterator601.n()).done;){_t1002=_step601.value;_iterator602=_createForOfIteratorHelper(_i710);try{for(_iterator602.s();!(_step602=_iterator602.n()).done;){_e761=_step602.value;_e761.weight===_t1002.weight&&_e761.style===_t1002.weight&&_e761.stretch===_t1002.stretch&&_e761.unicodeRange===_t1002.unicodeRange&&_e761.variant===_t1002.variant&&_e761.featureSettings===_t1002.featureSettings&&_i710.remove(_e761);}}catch(err){_iterator602.e(err);}finally{_iterator602.f();}_i710.push(_t1002);}}catch(err){_iterator601.e(err);}finally{_iterator601.f();}_this363.hc(_i710);case 12:_i709++;_context106.next=4;break;case 15:e();case 16:case"end":return _context106.stop();}}},_callee105);}));return function(_x126){return _ref129.apply(this,arguments);};}());}},{key:"removeFontFace",value:function removeFontFace(t){var _this364=this;return new Promise(/*#__PURE__*/function(){var _ref130=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee106(e){var i,s;return regeneratorRuntime.wrap(function _callee106$(_context107){while(1){switch(_context107.prev=_context107.next){case 0:_context107.next=2;return _this364.getFontFaces(t.family);case 2:i=_context107.sent;s=i.filter(function(e){return e.style!==t.style||e.weight!==t.weight||e.stretch!==t.stretch||e.unicodeRange!==t.unicodeRange;});s.length!==i.length&&_this364.hc(s),e();case 5:case"end":return _context107.stop();}}},_callee106);}));return function(_x127){return _ref130.apply(this,arguments);};}());}},{key:"hc",value:function hc(t){var e=t.length>0?t[0].family:null;if(null!==e){if(!t.find(function(t){return t.family!==e;})){this.normalize();var _i711=this.nc.querySelector("style[data-bx-fonts=\"".concat(e,"\"]"));_i711||(_i711=$i("svg:style"),_i711.setAttribute("data-bx-fonts",e),this.nc.querySelector("defs").append(_i711));var s="";var _iterator603=_createForOfIteratorHelper(t),_step603;try{for(_iterator603.s();!(_step603=_iterator603.n()).done;){var _e763=_step603.value;s+=this.rc(_e763);}}catch(err){_iterator603.e(err);}finally{_iterator603.f();}return void(_i711.textContent=s);}console.error("Passed font faces from different families to fontsManger._setFamilyFontFaces().");}}},{key:"ac",value:function ac(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"dataURL";return new Promise(/*#__PURE__*/function(){var _ref131=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee107(i){var s,n;return regeneratorRuntime.wrap(function _callee107$(_context108){while(1){switch(_context108.prev=_context108.next){case 0:_context108.next=2;return fetch(t);case 2:s=_context108.sent;_context108.next=5;return s.blob();case 5:n=_context108.sent;if(!("dataURL"===e)){_context108.next=14;break;}_context108.t0=i;_context108.next=10;return hr(n);case 10:_context108.t1=_context108.sent;(0,_context108.t0)(_context108.t1);_context108.next=20;break;case 14:if(!("arrayBuffer"===e)){_context108.next=20;break;}_context108.t2=i;_context108.next=18;return n.arrayBuffer();case 18:_context108.t3=_context108.sent;(0,_context108.t2)(_context108.t3);case 20:case"end":return _context108.stop();}}},_callee107);}));return function(_x128){return _ref131.apply(this,arguments);};}());}},{key:"lc",value:function lc(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.style.src,s=Lh.fromString(t.style.fontFamily).items[0],n=t.style.fontStyle||"normal",o=t.style.fontWeight?Rh(t.style.fontWeight):"400",l=t.style.fontStretch||"normal",a=t.style.unicodeRange||"U+0-10FFFF",h=t.style.fontVariant||"normal",r=t.style.fontFeatureSettings||"normal";if(e)return{src:i,family:s,style:n,weight:o,stretch:l,unicodeRange:a,variant:h,featureSettings:r};{var _t1003=new FontFace(s,i,{style:n,weight:o,stretch:l,unicodeRange:a,variant:h,featureSettings:r});return _t1003.src=i,_t1003;}}},{key:"rc",value:function rc(t){var e="@font-face { ";return e+="font-family: \"".concat(t.family,"\"; "),e+="font-style: ".concat(t.style,"; "),e+="font-weight: ".concat(t.weight,"; "),e+="font-stretch: ".concat(t.stretch,"; "),e+="font-unicode-range: ".concat(t.unicodeRange,"; "),e+="font-variant: ".concat(t.variant,"; "),e+="font-feature-settings: ".concat(t.featureSettings,"; "),e+="src: ".concat(t.src,"; "),e+="}",e;}},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var _this365=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref132=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee108(e){var i,s,n,_iterator604,_step604,_e764,_n303,_o243,_l223,_a164,_h139,_r84,_d68,_n304,_o244,_n305,_c51,_p48,_u42,_iterator605,_step605,_e765,_iterator606,_step606,_t1004,_i712;return regeneratorRuntime.wrap(function _callee108$(_context109){while(1){switch(_context109.prev=_context109.next){case 0:bi(t);i=Ht(t),s=document.createDocumentFragment(),n=t.querySelectorAll("tspan");_iterator604=_createForOfIteratorHelper(n);_context109.prev=3;_iterator604.s();case 5:if((_step604=_iterator604.n()).done){_context109.next=24;break;}_e764=_step604.value;_n303=getComputedStyle(_e764);_o243=Lh.fromString(_n303.fontFamily).items[0];_l223=parseFloat(_n303.getPropertyValue("font-size"));_a164=Rh(_n303.getPropertyValue("font-weight"));_h139=_n303.getPropertyValue("font-style");_r84=_n303.getPropertyValue("text-decoration");_context109.next=15;return _this365.getMatchedFontFace(_o243,_a164,_h139);case 15:_d68=_context109.sent;if(!_d68){_context109.next=22;break;}_n304=Dp.fromString(_d68.src).items[0].url.value;_context109.next=20;return _this365.ac(_n304,"arrayBuffer");case 20:_o244=_context109.sent;if(_o244){_n305=fontkit.create(_o244),_c51=("700"===_a164&&_d68.weight,("italic"===_h139||"oblique"===_h139)&&"italic"!==_d68.style),_p48=zi(_e764,_n305,_l223,_r84,0,_c51),_u42=$i("svg:path");_u42.setPathData(_p48),_u42.setAttribute("transform",i.toString());_iterator605=_createForOfIteratorHelper(t.style);try{for(_iterator605.s();!(_step605=_iterator605.n()).done;){_e765=_step605.value;!1===L.includes(_e765)&&_u42.style.setProperty(_e765,t.style.getPropertyValue(_e765));}}catch(err){_iterator605.e(err);}finally{_iterator605.f();}_iterator606=_createForOfIteratorHelper(_e764.style);try{for(_iterator606.s();!(_step606=_iterator606.n()).done;){_t1004=_step606.value;!1===L.includes(_t1004)&&_u42.style.setProperty(_t1004,_e764.style.getPropertyValue(_t1004));}}catch(err){_iterator606.e(err);}finally{_iterator606.f();}s.append(_u42);}case 22:_context109.next=5;break;case 24:_context109.next=29;break;case 26:_context109.prev=26;_context109.t0=_context109["catch"](3);_iterator604.e(_context109.t0);case 29:_context109.prev=29;_iterator604.f();return _context109.finish(29);case 32:if(s.children.length>0){_i712=_toConsumableArray(s.children);t.replaceWith(s),e(_i712);}else e(null);case 33:case"end":return _context109.stop();}}},_callee108,null,[[3,26,29,32]]);}));return function(_x129){return _ref132.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){var _this366=this;return new Promise(/*#__PURE__*/function(){var _ref133=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee109(e){var i,s,n,_iterator607,_step607,_e767,_i713,_n306,_t1005,_e766,_n307;return regeneratorRuntime.wrap(function _callee109$(_context110){while(1){switch(_context110.prev=_context110.next){case 0:i=!0;_context110.next=3;return _this366.getFontFaces();case 3:s=_context110.sent.map(function(t){return t.family;});n=[];_iterator607=_createForOfIteratorHelper(wi(t));try{for(_iterator607.s();!(_step607=_iterator607.n()).done;){_e767=_step607.value;n.includes(_e767.parentElement)||n.push(_e767.parentElement);}}catch(err){_iterator607.e(err);}finally{_iterator607.f();}_i713=0,_n306=n;case 8:if(!(_i713<_n306.length)){_context110.next=17;break;}_t1005=_n306[_i713];_e766=getComputedStyle(_t1005),_n307=Lh.fromString(_e766.fontFamily).items[0];if(!(!1===s.includes(_n307))){_context110.next=14;break;}i=!1;return _context110.abrupt("break",17);case 14:_i713++;_context110.next=8;break;case 17:e(i);case 18:case"end":return _context110.stop();}}},_callee109);}));return function(_x130){return _ref133.apply(this,arguments);};}());}}]);return $p;}();var Ip=Math.abs;var Lp=/*#__PURE__*/function(_Qa9){_inherits(Lp,_Qa9);var _super67=_createSuper(Lp);function Lp(t){var _this367;_classCallCheck(this,Lp);_this367=_super67.call(this),_this367.un=t,_this367.dc=[];return _this367;}_createClass(Lp,[{key:"snapStart",value:function snapStart(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.un;if(this.dc=[],e.showGrid){var _t1006=Yt(e.vectorCanvas),_i714=e.currentWorkspace.querySelector(":scope > defs > bx-grid"),s=0,_n308=0,_o245=100,_l224=100;_i714&&(s=parseFloat(_i714.getAttribute("x")),_n308=parseFloat(_i714.getAttribute("y")),_o245=parseFloat(_i714.getAttribute("width")),_l224=parseFloat(_i714.getAttribute("height")));var _a165=e.getBoundingClientRect(),_h140=Ve(new DOMRect(s,_n308,_o245,_l224),_t1006);s=_h140.x,_n308=_h140.y,_o245=_h140.width,_l224=_h140.height;var _r85=_a165.x,_d69=_a165.x+_a165.width,_c52=_a165.y,_p49=_a165.y+_a165.height,_u43=[],_x131=[];for(var _t1007=s;_t1007<=_d69;_t1007+=_o245){_t1007>=_r85&&_u43.push(_t1007);}for(var _t1008=s-_o245;_t1008>=_r85;_t1008-=_o245){_t1008<=_d69&&_u43.push(_t1008);}for(var _t1009=_n308;_t1009<=_p49;_t1009+=_l224){_t1009>=_c52&&_x131.push(_t1009);}for(var _t1010=_n308-_l224;_t1010>=_c52;_t1010-=_l224){_t1010<=_p49&&_x131.push(_t1010);}for(var _i715=0,_u44=_u43;_i715<_u44.length;_i715++){var _t1011=_u44[_i715];this.dc.push({type:"grid",orientation:"vertical",snapping:!1,x:_t1011,grid:_i714});}for(var _i716=0,_x132=_x131;_i716<_x132.length;_i716++){var _t1012=_x132[_i716];this.dc.push({type:"grid",orientation:"horizontal",snapping:!1,y:_t1012,grid:_i714});}}if(e.showManualGuides){var _t1013=Yt(e.vectorCanvas),_i717=e.currentWorkspace.querySelectorAll("bx-guide");var _iterator608=_createForOfIteratorHelper(_i717),_step608;try{for(_iterator608.s();!(_step608=_iterator608.n()).done;){var _e768=_step608.value;var _i718=parseFloat(_e768.getAttribute("angle")),_s357=parseFloat(_e768.getAttribute("x")),_n309=parseFloat(_e768.getAttribute("y")),_o246=new DOMPoint(_s357,_n309).matrixTransform(_t1013);0===_i718?this.dc.push({type:"manual",orientation:"vertical",snapping:!1,x:_o246.x,guide:_e768}):90===_i718?this.dc.push({type:"manual",orientation:"horizontal",snapping:!1,y:_o246.y,guide:_e768}):this.dc.push({type:"manual",orientation:"angular",snapping:!1,x:_o246.x,y:_o246.y,guide:_e768});}}catch(err){_iterator608.e(err);}finally{_iterator608.f();}}if(e.showSmartGuides){var _i719=Yt(e.vectorCanvas),_s358=e.outermostSelectedElements,_n310=[];if(_s358.length>0){var _iterator609=_createForOfIteratorHelper(_s358[0].parentElement.children),_step609;try{for(_iterator609.s();!(_step609=_iterator609.n()).done;){var _i720=_step609.value;e.isSelectableElement(_i720)&&(!1!==t&&!1!==_s358.includes(_i720)||_n310.push(_i720));}}catch(err){_iterator609.e(err);}finally{_iterator609.f();}}else{var _iterator610=_createForOfIteratorHelper(e.currentWorkspace.children),_step610;try{for(_iterator610.s();!(_step610=_iterator610.n()).done;){var _t1014=_step610.value;e.isSelectableElement(_t1014)&&_n310.push(_t1014);}}catch(err){_iterator610.e(err);}finally{_iterator610.f();}}var _o247=_n310.map(function(t){return Ei(t);});if(e.currentWorkspace.hasAttribute("viewBox")){var _t1015=Ut.fromString(e.currentWorkspace.getAttribute("viewBox")).toRect();_t1015=Ve(_t1015,_i719),_o247.push(_t1015);}{var _t1016=e.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view");var _iterator611=_createForOfIteratorHelper(_t1016),_step611;try{for(_iterator611.s();!(_step611=_iterator611.n()).done;){var _e769=_step611.value;var _t1017=Ut.fromString(_e769.getAttribute("viewBox")).toRect();_t1017=Ve(_t1017,_i719),_o247.push(_t1017);}}catch(err){_iterator611.e(err);}finally{_iterator611.f();}}{var _t1018=e.getBoundingClientRect();_o247=_o247.filter(function(e){return qe(_t1018,e);});}var _iterator612=_createForOfIteratorHelper(_o247),_step612;try{for(_iterator612.s();!(_step612=_iterator612.n()).done;){var _t1019=_step612.value;this.dc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t1019.x,snappingBBox:_t1019,snappedBBox:null,side:"left"}),this.dc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t1019.x+_t1019.width,snappingBBox:_t1019,side:"right"}),this.dc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t1019.y,snappingBBox:_t1019,snappedBBox:null,side:"top"}),this.dc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t1019.y+_t1019.height,snappingBBox:_t1019,snappedBBox:null,side:"bottom"});}}catch(err){_iterator612.e(err);}finally{_iterator612.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}},{key:"snapEnd",value:function snapEnd(){this.dc.length>0&&(this.dc=[],this.dispatchEvent(new CustomEvent("snapperschange")));}},{key:"snapBBox",value:function snapBBox(t){var e=new DOMRect(t.x,t.y,t.width,t.height);if(this.dc.length>0){var _i721=Infinity,s=Infinity,_n311=null,_o248=null,_l225=null,_a166=null,_h141=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)];for(var _i722=0,_h142=_h141;_i722<_h142.length;_i722++){var _t1020=_h142[_i722];var _iterator613=_createForOfIteratorHelper(this.dc),_step613;try{for(_iterator613.s();!(_step613=_iterator613.n()).done;){var _e770=_step613.value;if("vertical"===_e770.orientation){var _s359=Ip(_t1020.x-_e770.x);_s359<_i721&&(_i721=_s359,_n311=_e770,_l225=_e770.x-_t1020.x);}else if("horizontal"===_e770.orientation){var _i723=Ip(_t1020.y-_e770.y);_i723<s&&(s=_i723,_o248=_e770,_a166=_e770.y-_t1020.y);}}}catch(err){_iterator613.e(err);}finally{_iterator613.f();}}var _iterator614=_createForOfIteratorHelper(this.dc),_step614;try{for(_iterator614.s();!(_step614=_iterator614.n()).done;){var _t1021=_step614.value;_t1021.snapping=!1,_t1021.snappedBBox=null,_t1021.snappedPoint=null;}}catch(err){_iterator614.e(err);}finally{_iterator614.f();}_i721<10&&(e.x+=_l225,_n311.snapping=!0,_n311.snappedBBox=e),s<10&&(e.y+=_a166,_o248.snapping=!0,_o248.snappedBBox=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPoint",value:function snapPoint(t){var e=new DOMPoint(t.x,t.y);if(this.dc.length>0){var _i724=Infinity,s=Infinity,_n312=null,_o249=null,_l226=null,_a167=null;var _iterator615=_createForOfIteratorHelper(this.dc),_step615;try{for(_iterator615.s();!(_step615=_iterator615.n()).done;){var _e771=_step615.value;if("vertical"===_e771.orientation){var _s360=Ip(t.x-_e771.x);_s360<_i724&&(_i724=_s360,_n312=_e771,_l226=_e771.x-t.x);}else if("horizontal"===_e771.orientation){var _i725=Ip(t.y-_e771.y);_i725<s&&(s=_i725,_o249=_e771,_a167=_e771.y-t.y);}}}catch(err){_iterator615.e(err);}finally{_iterator615.f();}var _iterator616=_createForOfIteratorHelper(this.dc),_step616;try{for(_iterator616.s();!(_step616=_iterator616.n()).done;){var _t1022=_step616.value;_t1022.snapping=!1,_t1022.snappedBBox=null,_t1022.snappedPoint=null;}}catch(err){_iterator616.e(err);}finally{_iterator616.f();}_i724<10&&(e.x+=_l226,_n312.snapping=!0,_n312.snappedPoint=e),s<10&&(e.y+=_a167,_o249.snapping=!0,_o249.snappedPoint=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPointToAngleMultiple",value:function snapPointToAngleMultiple(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var _Le9=Le(t,e,i),_Le10=_slicedToArray(_Le9,1),s=_Le10[0];if(this.dc.length>0){var _e772=null,_i726=null,_n313=Infinity;var _iterator617=_createForOfIteratorHelper(this.dc),_step617;try{for(_iterator617.s();!(_step617=_iterator617.n()).done;){var _o250=_step617.value;var _l227=void 0,_a168=void 0;"vertical"===_o250.orientation?(_l227=new DOMPoint(_o250.x,0),_a168=new DOMPoint(_o250.x,100)):(_l227=new DOMPoint(0,_o250.y),_a168=new DOMPoint(100,_o250.y));var _h143=ti(t,s,_l227,_a168);if(_h143){var _t1025=Ee(s,_h143);_t1025<_n313&&(_e772=_o250,_i726=_h143,_n313=_t1025);}}}catch(err){_iterator617.e(err);}finally{_iterator617.f();}if(_n313<5){s=_i726;var _iterator618=_createForOfIteratorHelper(this.dc),_step618;try{for(_iterator618.s();!(_step618=_iterator618.n()).done;){var _t1023=_step618.value;_t1023.snapping=_t1023===_e772,_t1023.snappedBBox=null,_t1023.snappedPoint=_t1023===_e772?s:null;}}catch(err){_iterator618.e(err);}finally{_iterator618.f();}}else{var _iterator619=_createForOfIteratorHelper(this.dc),_step619;try{for(_iterator619.s();!(_step619=_iterator619.n()).done;){var _t1024=_step619.value;_t1024.snapping=!1,_t1024.snappedBBox=null,_t1024.snappedPoint=null;}}catch(err){_iterator619.e(err);}finally{_iterator619.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}return s;}},{key:"isGuideSnapping",value:function isGuideSnapping(t){var _iterator620=_createForOfIteratorHelper(this.dc),_step620;try{for(_iterator620.s();!(_step620=_iterator620.n()).done;){var _e773=_step620.value;if(_e773.guide===t)return _e773.snapping;}}catch(err){_iterator620.e(err);}finally{_iterator620.f();}return!1;}},{key:"isGridSnapping",value:function isGridSnapping(t){}},{key:"snappers",get:function get(){return _toConsumableArray(this.dc);}}]);return Lp;}(Qa);var Bp={colors:"unpinned",gradients:"unpinned",patterns:"unpinned",markers:"unpinned",symbols:"none",filters:"unpinned",fonts:"unpinned",clipPaths:"unpinned",masks:"unpinned"};var Rp=/*#__PURE__*/function(){function Rp(t){_classCallCheck(this,Rp);this.Xd=t;}_createClass(Rp,[{key:"collect",value:function collect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Bp;for(var _i727=0,_Object$entries6=Object.entries(Bp);_i727<_Object$entries6.length;_i727++){var _Object$entries6$_i=_slicedToArray(_Object$entries6[_i727],2),_e774=_Object$entries6$_i[0],_i728=_Object$entries6$_i[1];void 0===t[_e774]&&(t[_e774]=_i728);}var e=this.cc(),i={gradients:[],patterns:[],markers:[],symbols:[],filters:[],fonts:[],clipPaths:[],masks:[]};if("all"===t.colors||"unpinned"===t.colors){var s=_toConsumableArray(this.Xd.querySelectorAll("linearGradient, radialGradient"));s=s.filter(function(t){return!0===_o(t);});var _iterator621=_createForOfIteratorHelper(s),_step621;try{for(_iterator621.s();!(_step621=_iterator621.n()).done;){var _n314=_step621.value;var _o251=e.paintServers.has(_n314.id),_l228="unpinned"===t.colors&&_n314.hasAttribute("data-bx-pinned");if(!1===_o251&&!1===_l228){var _a169=this.uc(_n314,s);var _iterator622=_createForOfIteratorHelper(_a169),_step622;try{for(_iterator622.s();!(_step622=_iterator622.n()).done;){var _i729=_step622.value;if(_o251=e.paintServers.has(_i729.id),_l228="unpinned"===t.colors&&_i729.hasAttribute("data-bx-pinned"),_o251||_l228)break;}}catch(err){_iterator622.e(err);}finally{_iterator622.f();}!1===_o251&&!1===_l228&&(i.gradients.push(_n314),_n314.remove());}}}catch(err){_iterator621.e(err);}finally{_iterator621.f();}}if("all"===t.gradients||"unpinned"===t.gradients){var _s361=_toConsumableArray(this.Xd.querySelectorAll("linearGradient, radialGradient"));_s361=_s361.filter(function(t){return!1===_o(t);});var _iterator623=_createForOfIteratorHelper(_s361),_step623;try{for(_iterator623.s();!(_step623=_iterator623.n()).done;){var _n315=_step623.value;var _o252=e.paintServers.has(_n315.id),_l229="unpinned"===t.gradients&&_n315.hasAttribute("data-bx-pinned");if(!1===_o252&&!1===_l229){var _a170=this.uc(_n315,_s361);var _iterator624=_createForOfIteratorHelper(_a170),_step624;try{for(_iterator624.s();!(_step624=_iterator624.n()).done;){var _i730=_step624.value;if(_o252=e.paintServers.has(_i730.id),_l229="unpinned"===t.gradients&&_i730.hasAttribute("data-bx-pinned"),_o252||_l229)break;}}catch(err){_iterator624.e(err);}finally{_iterator624.f();}!1===_o252&&!1===_l229&&(i.gradients.push(_n315),_n315.remove());}}}catch(err){_iterator623.e(err);}finally{_iterator623.f();}}if("all"===t.patterns||"unpinned"===t.patterns){var _s362=_toConsumableArray(this.Xd.querySelectorAll("pattern"));var _iterator625=_createForOfIteratorHelper(_s362),_step625;try{for(_iterator625.s();!(_step625=_iterator625.n()).done;){var _n316=_step625.value;var _o253=e.paintServers.has(_n316.id),_l230="unpinned"===t.patterns&&_n316.hasAttribute("data-bx-pinned");if(!1===_o253&&!1===_l230){var _a171=this.xc(_n316,_s362);var _iterator626=_createForOfIteratorHelper(_a171),_step626;try{for(_iterator626.s();!(_step626=_iterator626.n()).done;){var _i731=_step626.value;if(_o253=e.paintServers.has(_i731.id),_l230="unpinned"===t.patterns&&_i731.hasAttribute("data-bx-pinned"),_o253||_l230)break;}}catch(err){_iterator626.e(err);}finally{_iterator626.f();}!1===_o253&&!1===_l230&&(i.patterns.push(_n316),_n316.remove());}}}catch(err){_iterator625.e(err);}finally{_iterator625.f();}}if("all"===t.markers||"unpinned"===t.markers){var _s363=_toConsumableArray(this.Xd.querySelectorAll("marker"));var _iterator627=_createForOfIteratorHelper(_s363),_step627;try{for(_iterator627.s();!(_step627=_iterator627.n()).done;){var _n317=_step627.value;var _s364=e.markers.has(_n317.id),_o254="unpinned"===t.markers&&_n317.hasAttribute("data-bx-pinned");!1===_s364&&!1===_o254&&(i.markers.push(_n317),_n317.remove());}}catch(err){_iterator627.e(err);}finally{_iterator627.f();}}if("all"===t.filters||"unpinned"===t.filters){var _s365=this.Xd.querySelectorAll("filter");var _iterator628=_createForOfIteratorHelper(_s365),_step628;try{for(_iterator628.s();!(_step628=_iterator628.n()).done;){var _n318=_step628.value;var _s366=e.filters.has(_n318.id),_o255="unpinned"===t.filters&&_n318.hasAttribute("data-bx-pinned");!1===_s366&&!1===_o255&&(i.filters.push(_n318),_n318.remove());}}catch(err){_iterator628.e(err);}finally{_iterator628.f();}}if("all"===t.clipPaths||"unpinned"===t.clipPaths){var _s367=this.Xd.querySelectorAll("clipPath, clippath");var _iterator629=_createForOfIteratorHelper(_s367),_step629;try{for(_iterator629.s();!(_step629=_iterator629.n()).done;){var _n319=_step629.value;var _s368=e.clipPaths.has(_n319.id),_o256="unpinned"===t.clipPaths&&_n319.hasAttribute("data-bx-pinned");!1===_s368&&!1===_o256&&(i.clipPaths.push(_n319),_n319.remove());}}catch(err){_iterator629.e(err);}finally{_iterator629.f();}}if("all"===t.masks||"unpinned"===t.masks){var _s369=this.Xd.querySelectorAll("mask");var _iterator630=_createForOfIteratorHelper(_s369),_step630;try{for(_iterator630.s();!(_step630=_iterator630.n()).done;){var _n320=_step630.value;var _s370=e.masks.has(_n320.id),_o257="unpinned"===t.masks&&_n320.hasAttribute("data-bx-pinned");!1===_s370&&!1===_o257&&(i.masks.push(_n320),_n320.remove());}}catch(err){_iterator630.e(err);}finally{_iterator630.f();}}if("all"===t.symbols||"unpinned"===t.symbols){var _s371=this.Xd.querySelectorAll("symbol");var _iterator631=_createForOfIteratorHelper(_s371),_step631;try{for(_iterator631.s();!(_step631=_iterator631.n()).done;){var _n321=_step631.value;var _s372=e.symbols.has(_n321.id),_o258="unpinned"===t.symbols&&_n321.hasAttribute("data-bx-pinned");!1===_s372&&!1===_o258&&(i.symbols.push(_n321),_n321.remove());}}catch(err){_iterator631.e(err);}finally{_iterator631.f();}}if("all"===t.fonts||"unpinned"===t.fonts){var _e775=this.bc(),_s373=_toConsumableArray(this.Xd.querySelectorAll("style[data-bx-fonts]"));var _iterator632=_createForOfIteratorHelper(_s373),_step632;try{for(_iterator632.s();!(_step632=_iterator632.n()).done;){var _n322=_step632.value;var _s374=_n322.getAttribute("data-bx-fonts"),_o259=_e775.has(_s374),_l231="unpinned"===t.fonts&&_n322.hasAttribute("data-bx-pinned");!1===_o259&&!1===_l231&&(i.fonts.push(_s374),_n322.remove());}}catch(err){_iterator632.e(err);}finally{_iterator632.f();}}(i.gradients.length>0||i.patterns.length>0||i.markers.length>0||i.filters.length>0||i.clipPaths.length>0||i.masks.length>0||i.symbols.length>0||i.fonts.length>0)&&this.collect(t);}},{key:"cc",value:function cc(){var t=document.createNodeIterator(this.Xd,NodeFilter.SHOW_ELEMENT),e=null,i={paintServers:new Set(),markers:new Set(),filters:new Set(),clipPaths:new Set(),masks:new Set(),symbols:new Set(),fontFamilies:new Set()};for(;e=t.nextNode();){var _t1026=getComputedStyle(e);if(k.includes(e.localName)){var _e776=_t1026.fill,s=_t1026.stroke;if(_e776&&_e776.startsWith("url(")){var _t1027=_e776.substring(6,_e776.length-2);i.paintServers.add(_t1027);}if(s&&s.startsWith("url(")){var _t1028=s.substring(6,s.length-2);i.paintServers.add(_t1028);}}if(T.includes(e.localName)){var _e777=_t1026.markerStart,_s375=_t1026.markerMid,_n323=_t1026.markerEnd;if(_e777&&_e777.startsWith("url(")){var _t1029=_e777.substring(6,_e777.length-2);i.markers.add(_t1029);}if(_s375&&_s375.startsWith("url(")){var _t1030=_s375.substring(6,_s375.length-2);i.markers.add(_t1030);}if(_n323&&_n323.startsWith("url(")){var _t1031=_n323.substring(6,_n323.length-2);i.markers.add(_t1031);}}if(E.includes(e.localName)){var _e778=_t1026.filter;if(_e778&&_e778.startsWith("url(")){var _t1032=_e778.substring(6,_e778.length-2);i.filters.add(_t1032);}}if(P.includes(e.localName)){var _e779=_t1026.clipPath;if(_e779&&_e779.startsWith("url(")){var _t1033=_e779.substring(6,_e779.length-2);i.clipPaths.add(_t1033);}}if(z.includes(e.localName)){var _e780=_t1026.mask;if(_e780&&_e780.startsWith("url(")){var _t1034=_e780.substring(6,_e780.length-2);i.masks.add(_t1034);}}if("use"===e.localName&&"#"===e.href.baseVal[0]){var _t1035=e.href.baseVal.substring(1);i.symbols.add(_t1035);}if(f.includes(e.localName)||"a"===e.localName){var _e781=_t1026.fontFamily;_e781&&i.fontFamilies.add(_e781);}}return i;}},{key:"bc",value:function bc(){var t,e=new Set(),i=document.createNodeIterator(this.Xd,NodeFilter.SHOW_ELEMENT);for(;t=i.nextNode();){if(""!==t.style.fontFamily){var _i732=Lh.fromString(t.style.fontFamily);if(_i732){var _iterator633=_createForOfIteratorHelper(_i732.items),_step633;try{for(_iterator633.s();!(_step633=_iterator633.n()).done;){var _t1036=_step633.value;e.add(_t1036);}}catch(err){_iterator633.e(err);}finally{_iterator633.f();}}}}var _iterator634=_createForOfIteratorHelper(this.Xd.querySelectorAll("style")),_step634;try{for(_iterator634.s();!(_step634=_iterator634.n()).done;){var _t1037=_step634.value;var _iterator635=_createForOfIteratorHelper(_t1037.sheet.cssRules),_step635;try{for(_iterator635.s();!(_step635=_iterator635.n()).done;){var _i733=_step635.value;if(_i733.type===CSSStyleRule.STYLE_RULE&&""!==_i733.style.fontFamily){var _t1038=Lh.fromString(_i733.style.fontFamily);var _iterator636=_createForOfIteratorHelper(_t1038.items),_step636;try{for(_iterator636.s();!(_step636=_iterator636.n()).done;){var _i734=_step636.value;e.add(_i734);}}catch(err){_iterator636.e(err);}finally{_iterator636.f();}}}}catch(err){_iterator635.e(err);}finally{_iterator635.f();}}}catch(err){_iterator634.e(err);}finally{_iterator634.f();}return e;}},{key:"uc",value:function uc(t,e){var i=[],s=function s(t){var _iterator637=_createForOfIteratorHelper(e.filter(function(e){return e.href.baseVal==="#"+t.id;})),_step637;try{for(_iterator637.s();!(_step637=_iterator637.n()).done;){var _n324=_step637.value;!1===i.includes(_n324)&&(i.push(_n324),s(_n324));}}catch(err){_iterator637.e(err);}finally{_iterator637.f();}};return s(t),i;}},{key:"xc",value:function xc(t,e){var i=[],s=function s(t){var _iterator638=_createForOfIteratorHelper(e.filter(function(e){return e.href.baseVal==="#"+t.id;})),_step638;try{for(_iterator638.s();!(_step638=_iterator638.n()).done;){var _n325=_step638.value;!1===i.includes(_n325)&&(i.push(_n325),s(_n325));}}catch(err){_iterator638.e(err);}finally{_iterator638.f();}};return s(t),i;}}]);return Rp;}();var _window7=window,Gp=_window7.tokenize,Up=_window7.EOFToken;var Fp=/*#__PURE__*/function(){_createClass(Fp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<number>";}}]);function Fp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Fp);this._t=t;}_createClass(Fp,[{key:"toString",value:function toString(){return""+this.value;}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Gp(t)),[new Up()]),s=new Et(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"NUMBER"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected NUMBER token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Fp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Fp;}();var _window8=window,Np=_window8.tokenize,jp=_window8.EOFToken;var Vp=/*#__PURE__*/function(){_createClass(Vp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<percentage>";}}]);function Vp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Vp);this._t=t;}_createClass(Vp,[{key:"toString",value:function toString(){return this.value+"%";}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Np(t)),[new jp()]),s=new Et(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"PERCENTAGE"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected PERCENTAGE token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Vp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Vp;}();var Hp=function Hp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;t=t.cloneNode(!0);var s,n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;s=n.nextNode();){if(s.nodeType==Node.ELEMENT_NODE)if("defs"===s.localName)0===s.children.length&&s.remove();else if("style"===s.localName)""===s.textContent.replace(/\s+/g," ").trim()?s.remove():s.matches('[data-bx-fonts="google"]')&&s.removeAttribute("data-bx-fonts");else if("xml"===e&&"path"===s.localName){var _t1039=s.getAttribute("d");_t1039&&/[\t\n\r]/.test(_t1039)&&s.setAttribute("d",_t1039.replace(/[\t\n\r ]+/g," "));}}return qp(t,e),up(t,i),Wp(t,e);},Wp=function Wp(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i;if("xml"===e){i='<?xml version="1.0" encoding="utf-8"?>\n'+new XMLSerializer().serializeToString(t);}else if("html"===e){i="<!doctype html>\n"+t.outerHTML,i=li(i,' xmlns:xlink="http://www.w3.org/1999/xlink"',"");}return i=li(i,"url(&quot;","url("),i=li(i,"&quot;)",")"),i;},Yp=function Yp(t){return new Promise(/*#__PURE__*/function(){var _ref134=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee110(e){var _i735,s,n,o;return regeneratorRuntime.wrap(function _callee110$(_context111){while(1){switch(_context111.prev=_context111.next){case 0:n=new Blob([t],{type:"image/svg+xml"}),o=new FileReader();o.readAsDataURL(n),o.addEventListener("load",_i735=function i(t){o.removeEventListener("load",_i735),o.removeEventListener("error",s);var n=t.target.result;e(n);}),o.addEventListener("error",s=function(_s376){function s(_x134){return _s376.apply(this,arguments);}s.toString=function(){return _s376.toString();};return s;}(function(t){o.removeEventListener("load",_i735),o.removeEventListener("error",s),e(null);}));case 2:case"end":return _context111.stop();}}},_callee110);}));return function(_x133){return _ref134.apply(this,arguments);};}());},qp=function qp(t,e){if("xml"===e){var _e782,_i736=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_s377=!1,_n326=!1;for(;_e782=_i736.nextNode();){if("bx-title"!==_e782.localName){if(_e782.localName.startsWith("bx-")){var _t1040=document.createElementNS(l.bx,"bx:"+_e782.localName.substring(3));for(var _i737=0,_arr29=_toConsumableArray(_e782.attributes);_i737<_arr29.length;_i737++){var _i738=_arr29[_i737];_t1040.setAttribute(_i738.name,_i738.value);}for(var _i739=0,_arr30=_toConsumableArray(_e782.childNodes);_i739<_arr30.length;_i739++){var _i740=_arr30[_i739];_t1040.append(_i740);}_e782.replaceWith(_t1040),_n326=!0;}else for(var _i741=0,_arr31=_toConsumableArray(_e782.attributes);_i741<_arr31.length;_i741++){var _arr31$_i=_arr31[_i741],_t1041=_arr31$_i.name,_i742=_arr31$_i.value;if("href"===_t1041||"_href"===_t1041)_e782.setAttribute("xlink:href",_i742),_e782.removeAttribute(_t1041),_s377=!0;else if(_t1041.startsWith("data-bx-")){var _s378=_t1041.substring(8);_e782.setAttributeNS(l.bx,"bx:".concat(_s378),_i742),_e782.removeAttribute(_t1041),_n326=!0;}}}else{var _t1042=$i("svg:title");_t1042.innerHTML=_e782.innerHTML;var _iterator639=_createForOfIteratorHelper(_e782.attributes),_step639;try{for(_iterator639.s();!(_step639=_iterator639.n()).done;){var _step639$value=_step639.value,_i743=_step639$value.name,_s379=_step639$value.value;_t1042.setAttribute(_i743,_s379);}}catch(err){_iterator639.e(err);}finally{_iterator639.f();}_e782.replaceWith(_t1042);}}t.removeAttribute("xmlns"),t.removeAttribute("xmlns:bx"),t.removeAttribute("xmlns:xlink"),t.setAttributeNS(l.xmlns,"xmlns",l.svg),_s377&&t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),_n326&&t.setAttributeNS(l.xmlns,"xmlns:bx",l.bx);}else if("html"===e){var _e783,_i744=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;_e783=_i744.nextNode();){if("bx-title"!==_e783.localName)for(var _i745=0,_arr32=_toConsumableArray(_e783.attributes);_i745<_arr32.length;_i745++){var _arr32$_i=_arr32[_i745],_t1043=_arr32$_i.name,_i746=_arr32$_i.value;"href"!==_t1043&&"_href"!==_t1043||(_e783.setAttribute("xlink:href",_i746),_e783.removeAttribute(_t1043));}else{var _t1044=$i("svg:title");_t1044.innerHTML=_e783.innerHTML;var _iterator640=_createForOfIteratorHelper(_e783.attributes),_step640;try{for(_iterator640.s();!(_step640=_iterator640.n()).done;){var _step640$value=_step640.value,_i747=_step640$value.name,_s380=_step640$value.value;_t1044.setAttribute(_i747,_s380);}}catch(err){_iterator640.e(err);}finally{_iterator640.f();}_e783.replaceWith(_t1044);}}}},Xp=function Xp(t){return null!==new DOMParser().parseFromString(t,"text/html").querySelector("svg");},Zp=function Zp(t,e){var i=document.createElement("div");i.setAttribute("style","width: 1px; height: 1px; position: fixed; top: -1px; left: -1px; overflow: hidden;"),i.attachShadow({mode:"open"}),i.shadowRoot.append(t),i.shadowRoot.append(e),document.body.append(i);var _iterator641=_createForOfIteratorHelper(t.querySelectorAll("use")),_step641;try{for(_iterator641.s();!(_step641=_iterator641.n()).done;){var _i761=_step641.value;if(""!==_i761.href.baseVal){var _s392=t.querySelector(_i761.href.baseVal),_n330=e.querySelector(_i761.href.baseVal);_s392&&_n330&&Bi(_s392,_n330)&&_s392.remove();}}}catch(err){_iterator641.e(err);}finally{_iterator641.f();}{var _i748=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i748=_i748.filter(function(t){return _o(t);});var _s381=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s381=_s381.filter(function(t){return _o(t);});var _iterator642=_createForOfIteratorHelper(_i748),_step642;try{var _loop22=function _loop22(){var t=_step642.value;var e=_s381.find(function(e){return e.id===t.id;});e&&!0===Lo([t,e])&&t.remove();};for(_iterator642.s();!(_step642=_iterator642.n()).done;){_loop22();}}catch(err){_iterator642.e(err);}finally{_iterator642.f();}}{var _i749=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i749=_i749.filter(function(t){return Po(t);});var _s382=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s382=_s382.filter(function(t){return Po(t);});var _iterator643=_createForOfIteratorHelper(_i749),_step643;try{var _loop23=function _loop23(){var t=_step643.value;var e=_s382.find(function(e){return e.id===t.id;});e&&!0===Lo([t,e])&&t.remove();};for(_iterator643.s();!(_step643=_iterator643.n()).done;){_loop23();}}catch(err){_iterator643.e(err);}finally{_iterator643.f();}}{var _i750=_toConsumableArray(t.querySelectorAll("pattern:not([href])")),_s383=_toConsumableArray(e.querySelectorAll("pattern:not([href])"));var _iterator644=_createForOfIteratorHelper(_i750),_step644;try{var _loop24=function _loop24(){var t=_step644.value;var e=_s383.find(function(e){return e.id===t.id;});e&&Bi(t,e)&&t.remove();};for(_iterator644.s();!(_step644=_iterator644.n()).done;){_loop24();}}catch(err){_iterator644.e(err);}finally{_iterator644.f();}}{var _i751=_toConsumableArray(t.querySelectorAll("marker")),_s384=_toConsumableArray(e.querySelectorAll("marker"));var _iterator645=_createForOfIteratorHelper(_i751),_step645;try{var _loop25=function _loop25(){var t=_step645.value;var e=_s384.find(function(e){return e.id===t.id;});e&&Bi(t,e)&&t.remove();};for(_iterator645.s();!(_step645=_iterator645.n()).done;){_loop25();}}catch(err){_iterator645.e(err);}finally{_iterator645.f();}}{var _i752=_toConsumableArray(t.querySelectorAll("filter"));_i752=_i752.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _s385=_toConsumableArray(e.querySelectorAll("filter"));_s385=_s385.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _iterator646=_createForOfIteratorHelper(_i752),_step646;try{var _loop26=function _loop26(){var t=_step646.value;var e=_s385.find(function(e){return e.id===t.id;});e&&Bi(t,e)&&t.remove();};for(_iterator646.s();!(_step646=_iterator646.n()).done;){_loop26();}}catch(err){_iterator646.e(err);}finally{_iterator646.f();}}{var _e784=_toConsumableArray(t.querySelectorAll("view"));var _iterator647=_createForOfIteratorHelper(_e784),_step647;try{for(_iterator647.s();!(_step647=_iterator647.n()).done;){var _t1045=_step647.value;_t1045.remove();}}catch(err){_iterator647.e(err);}finally{_iterator647.f();}}var _iterator648=_createForOfIteratorHelper(t.querySelectorAll("[data-bx-pinned]")),_step648;try{for(_iterator648.s();!(_step648=_iterator648.n()).done;){var _e792=_step648.value;_e792.removeAttribute("data-bx-pinned");}}catch(err){_iterator648.e(err);}finally{_iterator648.f();}{var _e785=_toConsumableArray(t.querySelectorAll("style")).filter(function(t){return!t.hasAttribute("data-bx-fonts");}),_i753=new Set();var _iterator649=_createForOfIteratorHelper(_e785),_step649;try{for(_iterator649.s();!(_step649=_iterator649.n()).done;){var _s387=_step649.value;var _iterator653=_createForOfIteratorHelper(_s387.sheet.cssRules),_step653;try{for(_iterator653.s();!(_step653=_iterator653.n()).done;){var _e786=_step653.value;if(_e786.type===CSSRule.STYLE_RULE){var _iterator654=_createForOfIteratorHelper(t.querySelectorAll(_e786.selectorText)),_step654;try{for(_iterator654.s();!(_step654=_iterator654.n()).done;){var _s388=_step654.value;_i753.add(_s388);}}catch(err){_iterator654.e(err);}finally{_iterator654.f();}}}}catch(err){_iterator653.e(err);}finally{_iterator653.f();}}}catch(err){_iterator649.e(err);}finally{_iterator649.f();}var _s386=Symbol();var _iterator650=_createForOfIteratorHelper(_i753),_step650;try{for(_iterator650.s();!(_step650=_iterator650.n()).done;){var _t1046=_step650.value;_t1046[_s386]=zp(_t1046);}}catch(err){_iterator650.e(err);}finally{_iterator650.f();}var _iterator651=_createForOfIteratorHelper(_e785),_step651;try{for(_iterator651.s();!(_step651=_iterator651.n()).done;){var _t1047=_step651.value;_t1047.remove();}}catch(err){_iterator651.e(err);}finally{_iterator651.f();}var _iterator652=_createForOfIteratorHelper(_i753),_step652;try{for(_iterator652.s();!(_step652=_iterator652.n()).done;){var _t1048=_step652.value;var _e787=_t1048[_s386],_i754=zp(_t1048);for(var _i755=0,_Object$entries7=Object.entries(_e787);_i755<_Object$entries7.length;_i755++){var _Object$entries7$_i=_slicedToArray(_Object$entries7[_i755],2),_s389=_Object$entries7$_i[0],_n327=_Object$entries7$_i[1];_n327!==_i754[_s389]&&_t1048.style.setProperty(_s389,_n327);}}}catch(err){_iterator652.e(err);}finally{_iterator652.f();}t.remove();}{var _i756=_toConsumableArray(t.querySelectorAll("[id]")).map(function(t){return t.id;}),_s390=_toConsumableArray(e.querySelectorAll("[id]")).map(function(t){return t.id;});t.id&&_i756.push(t.id),e.id&&_s390.push(e.id);var _n328=_i756.filter(function(t){return _s390.includes(t);});_n328=si(_n328);var _o260={},_l232={},_a172={};for(var _i757=0,_arr33=[].concat(_toConsumableArray(_i756),_toConsumableArray(_s390));_i757<_arr33.length;_i757++){var _t1049=_arr33[_i757];_a172[_t1049]=!0;}var _iterator655=_createForOfIteratorHelper(_n328),_step655;try{for(_iterator655.s();!(_step655=_iterator655.n()).done;){var _e791=_step655.value;var _i760=void 0,_s391=void 0,_n329=void 0;for(_i760=t.id===_e791?t:t.querySelector("#"+CSS.escape(_e791)),_s391="linearGradient"===_i760.localName||"radialGradient"===_i760.localName?_i760.href.baseVal.length>1?_i760.href.baseVal.substring(1):_o(_i760)?"color":"gradient":"clipPath"===_i760.localName?"clip":_i760.localName,void 0===_o260[_s391]&&(_o260[_s391]=1);;){var _t1052=_s391+"-"+_o260[_s391];if(void 0===_a172[_t1052]){_n329=_t1052;break;}_o260[_s391]+=1;}_l232[_e791]=_n329,_a172[_n329]=!0;}}catch(err){_iterator655.e(err);}finally{_iterator655.f();}var _h144=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_r86=null;for(;_r86=_h144.nextNode();){if(void 0!==_l232[_r86.id]&&(_r86.id=_l232[_r86.id]),_r86.href&&"#"===_r86.href.baseVal[0]){var _t1050=_r86.href.baseVal.substring(1);void 0!==_l232[_t1050]&&_r86.setAttribute("href","#"+_l232[_t1050]);}var _iterator656=_createForOfIteratorHelper(B),_step656;try{for(_iterator656.s();!(_step656=_iterator656.n()).done;){var _t1051=_step656.value;{var _e788=_r86.style.getPropertyValue(_t1051);if(_e788&&_e788.startsWith("url(")){var _i758=_e788.substring(6,_e788.length-2);void 0!==_l232[_i758]&&(_r86.style.removeProperty(_t1051),_r86.style.setProperty(_t1051,"url(#".concat(_l232[_i758],")")));}}{var _e789=_r86.getAttribute(_t1051);if(_e789&&_e789.includes("url(")){var _i759=Go.fromString(_e789);if(_i759&&"#"===_i759.value[0]){var _e790=_i759.value.substring(1);void 0!==_l232[_e790]&&_r86.setAttribute(_t1051,"url(#".concat(_l232[_e790],")"));}}}}}catch(err){_iterator656.e(err);}finally{_iterator656.f();}}}i.remove();},Kp=function Kp(t){return new Promise(function(e){var i=new Image();i.src=t,i.onload=function(){var s=i.naturalWidth,n=i.naturalHeight;e("<?xml version=\"1.0\" encoding=\"utf-8\"?><svg xmlns=\"".concat(l.svg,"\" xmlns:xlink=\"").concat(l.xlink,"\" viewBox=\"0 0 ").concat(s," ").concat(n,"\">  <image width=\"").concat(s,"\" height=\"").concat(n,"\" xlink:href=\"").concat(t,"\"></image></svg>"));};});},Qp=function Qp(t){var e=document.createElementNS(l.svg,"g");for(var _i762=0,_Object$entries8=Object.entries(Object.getOwnPropertyDescriptors(t));_i762<_Object$entries8.length;_i762++){var _Object$entries8$_i=_slicedToArray(_Object$entries8[_i762],2),_s393=_Object$entries8$_i[0],_n331=_Object$entries8$_i[1];_n331.get||_n331.set?Object.defineProperty(e,_s393,_n331):_n331.value&&(i=_n331.value,e[_s393]=i instanceof Function?_n331.value.bind(e):_n331.value);}var i;return Object.defineProperty(e,"enabled",{get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t&&!1===this.enabled?(this.setAttribute("enabled",""),this.enabledCallback&&this.enabledCallback()):!1===t&&!0===this.enabled&&(this.removeAttribute("enabled"),this.disabledCallback&&this.disabledCallback());}}),e.createdCallback&&e.createdCallback(),e;},Jp=Object.defineProperty,tu=Object.freeze,eu=.1,iu=6e3,su=450,nu=1.8,ou=20,lu=14,au={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1},hu=[Zc,mc,wc,pc,Qr,ed,nd,hd,cd,fd,yd,Cd,zd,Id,Bd,Ud,Nd,Uc,sc,nc,oc,rc,dc,mp,yp,Yd,Qd,ic,kp,Xc,Kc,cp];var ru=/*#__PURE__*/function(_HTMLElement55){_inherits(ru,_HTMLElement55);var _super68=_createSuper(ru);_createClass(ru,[{key:"whenConnected",get:function get(){var _this369=this;return new Promise(function(t){_this369.isConnected?t():_this369.mc.push(t);});}},{key:"defs",get:function get(){return this.masterWorkspace.querySelector("defs");}},{key:"selectedElements",get:function get(){return _toConsumableArray(this.gc);},set:function set(t){this.gc=t,this.dispatchEvent(new CustomEvent("selectedelementschange"));}},{key:"selectedObjectElements",get:function get(){return this.selectedElements.filter(function(t){return v.includes(t.localName);});}},{key:"outermostSelectedElements",get:function get(){var t=this.selectedElements,e=[];var _iterator657=_createForOfIteratorHelper(t),_step657;try{for(_iterator657.s();!(_step657=_iterator657.n()).done;){var _i763=_step657.value;var _s394=!0;var _iterator658=_createForOfIteratorHelper(t),_step658;try{for(_iterator658.s();!(_step658=_iterator658.n()).done;){var _e793=_step658.value;if(_e793!==_i763&&_e793.contains(_i763)){_s394=!1;break;}}}catch(err){_iterator658.e(err);}finally{_iterator658.f();}_s394&&e.push(_i763);}}catch(err){_iterator657.e(err);}finally{_iterator657.f();}return e;}},{key:"outermostSelectedObjectElements",get:function get(){return this.outermostSelectedElements.filter(function(t){return v.includes(t.localName);});}},{key:"selectedTextRange",get:function get(){return this.fc;},set:function set(t){null===this.fc&&null===t||this.fc&&t&&this.fc.startContainer===t.startContainer&&this.fc.endContainer===t.endContainer&&this.fc.startOffset===t.startOffset&&this.fc.endOffset===t.endOffset||(this.fc=t,this.dispatchEvent(new CustomEvent("selectedtextrangechange")));}},{key:"currentContainer",get:function get(){return this.wc;},set:function set(t){this.wc=t,this.dispatchEvent(new CustomEvent("currentcontainerchange"));}},{key:"zoom",get:function get(){var t=this["#vector-canvas"].transform.baseVal[0].matrix.a;return t>0?100*t:eu;},set:function set(t){var e;if(this.vc)e=this.Js.pointerClientPoint;else{var _t1053=this.getBoundingClientRect();e=new DOMPoint(_t1053.x+_t1053.width/2,_t1053.y+_t1053.height/2);}var i=tt(t,eu,iu)/100,s=Yt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s),o=new DOMMatrix();o.scaleSelf(i/this.scale,i/this.scale,1,n.x,n.y),o.multiplySelf(Ht(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",o),this.yc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"scale",get:function get(){return this.zoom/100;},set:function set(t){this.zoom=100*t;}},{key:"geometryPrecision",get:function get(){return this.kc;}},{key:"transformPrecision",get:function get(){return this.Sc;}},{key:"huds",get:function get(){return this["#huds"];}},{key:"rulers",get:function get(){return this["#rulers"];}},{key:"workspaces",get:function get(){return this["#workspaces"];}},{key:"masterWorkspace",get:function get(){return this["#workspaces"].children[1];}},{key:"currentWorkspace",get:function get(){return this["#workspaces"]?this["#workspaces"].lastElementChild:null;}},{key:"vectorCanvas",get:function get(){return this["#vector-canvas"];}},{key:"pixelCanvas",get:function get(){return this["#pixel-canvas"];}},{key:"undoManager",get:function get(){return this.Cc;}},{key:"snapManager",get:function get(){return this._c;}},{key:"defsFontsManager",get:function get(){return this.Mc;}},{key:"showManualGuides",get:function get(){return this.Pc;},set:function set(t){this.Pc=t,this.Js.setConfig("bx-board:showManualGuides",t),this.Dc(),"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}},{key:"showSmartGuides",get:function get(){return this.zc;},set:function set(t){this.zc=t,this.Js.setConfig("bx-board:showSmartGuides",t),this.Dc(),"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}},{key:"showGrid",get:function get(){return this.Oc;},set:function set(t){this.Oc=t,this.Js.setConfig("bx-board:showGrid",t),this.Dc(),"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}},{key:"showTransparency",get:function get(){return this.Ec;},set:function set(t){this.Ec=t,this.Js.setConfig("bx-board:showTransparency",t),t?this["#vector-canvas"].setAttribute("data-transparent",""):this["#vector-canvas"].removeAttribute("data-transparent"),"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}},{key:"showViews",get:function get(){return this.Tc;},set:function set(t){this.Tc=t,this.Js.setConfig("bx-board:showViews",t),this.Ac(),"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}}]);function ru(){var _this368;_classCallCheck(this,ru);_this368=_super68.call(this),_this368.gc=[],_this368.fc=null,_this368.wc=null,_this368.kc=3,_this368.Sc=6,_this368.$c=!1,_this368.Ic=!1,_this368.vc=!1,_this368.zn=!1,_this368.mc=[],_this368.Lc=ts(_this368.Bc,200,_assertThisInitialized(_this368)),_this368._shadowRoot=_this368.attachShadow({mode:"closed"}),_this368._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,ru._shadowStyleSheet],_this368._shadowRoot.append(document.importNode(ru._shadowTemplate.content,!0));var _iterator659=_createForOfIteratorHelper(_this368._shadowRoot.querySelectorAll("[id]")),_step659;try{for(_iterator659.s();!(_step659=_iterator659.n()).done;){var _t1054=_step659.value;_this368["#"+_t1054.id]=_t1054;}}catch(err){_iterator659.e(err);}finally{_iterator659.f();}var _iterator660=_createForOfIteratorHelper(hu),_step660;try{for(_iterator660.s();!(_step660=_iterator660.n()).done;){var _t1055=_step660.value;var _e794=Qp(_t1055);_this368["#huds"].append(_e794);}}catch(err){_iterator660.e(err);}finally{_iterator660.f();}var _iterator661=_createForOfIteratorHelper(_this368["#huds"].children),_step661;try{var _loop27=function _loop27(){var t=_step661.value;_this368["#"+t.id]=t,Jp(_assertThisInitialized(_this368),hi(t.id),{get:function get(){return t;}});};for(_iterator661.s();!(_step661=_iterator661.n()).done;){_loop27();}}catch(err){_iterator661.e(err);}finally{_iterator661.f();}var _iterator662=_createForOfIteratorHelper(_this368["#contexts"].children),_step662;try{var _loop28=function _loop28(){var t=_step662.value;Jp(_assertThisInitialized(_this368),hi(t.id),{get:function get(){return t;}});};for(_iterator662.s();!(_step662=_iterator662.n()).done;){_loop28();}}catch(err){_iterator662.e(err);}finally{_iterator662.f();}_this368["#vector-layer"].pauseAnimations(),_this368["#pixel-canvas"].setAttribute("width",window.innerWidth),_this368["#pixel-canvas"].setAttribute("height",window.innerHeight),_this368.Cc=new Cp(_this368["#workspaces"]),_this368._c=new Lp(_assertThisInitialized(_this368)),_this368.Mc=new $p(_this368["#workspaces"]),new MutationObserver(function(t){return _this368.pl(t);}).observe(_this368["#workspaces"],au),_this368.addEventListener("pointerenter",function(){return _this368.vc=!0;}),_this368.addEventListener("pointerleave",function(){return _this368.vc=!1;}),_this368.addEventListener("pointerdown",function(t){return _this368.Oo(t);}),_this368.addEventListener("scroll",function(t){return _this368.Rc(t);}),_this368.addEventListener("wheel",function(t){return _this368.Do(t);}),_this368.Cc.addEventListener("undo",function(t){return _this368.Gc(t);}),_this368.Cc.addEventListener("redo",function(t){return _this368.Gc(t);}),navigator.maxTouchPoints>0&&_this368.Uc();return _this368;}_createClass(ru,[{key:"connectedCallback",value:function connectedCallback(){var _this370=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.tabIndex=0,this.$c=this.Js.getConfig("bx-uisettings:limitScrollableArea",!1),this.Ic=this.Js.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.kc=this.Js.getConfig("bx-markupsettings:geometryPrecision",3),this.Sc=this.Js.getConfig("bx-markupsettings:transformPrecision",6),this.showManualGuides=this.Js.getConfig("bx-board:showManualGuides",!1),this.showSmartGuides=this.Js.getConfig("bx-board:showSmartGuides",!1),this.showGrid=this.Js.getConfig("bx-board:showGrid",!1),this.showTransparency=this.Js.getConfig("bx-board:showTransparency",!1),this.showViews=this.Js.getConfig("bx-board:showViews",!0),window.addEventListener("orientationchange",this.Fc=function(){return _this370.Nc();}),this.Js.addEventListener("configchange",this.ln=function(t){return _this370.an(t);}),this.Js.addEventListener("keydown",this.En=function(t){return _this370.Tn(t);});var _iterator663=_createForOfIteratorHelper(this.mc),_step663;try{for(_iterator663.s();!(_step663=_iterator663.n()).done;){var _t1057=_step663.value;_t1057();}}catch(err){_iterator663.e(err);}finally{_iterator663.f();}if(this.mc=[],this.Nc(),this.Dc(),this.Bc(),!this.jc){var _t1056=function _t1056(){!1===document.webkitHidden&&_this370.isConnected&&!_this370.jc&&(document.removeEventListener("visibilitychange",_t1056),_e795&&_e795.unobserve(_this370),_this370.jc=!0,_this370.Vc(),ss(300).then(function(){return _this370.Vc();}));},_e795=window.ResizeObserver?new ResizeObserver(_t1056):null;_e795?_e795.observe(this):(this.jc=!0,ss(200).then(function(){return _this370.Vc();}),ss(300).then(function(){return _this370.Vc();}),ss(800).then(function(){return _this370.Vc();}),ss(1200).then(function(){return _this370.Vc();})),document.addEventListener("visibilitychange",_t1056),this.Vc();}}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("orientationchange",this.Fc),this.Js.removeEventListener("configchange",this.ln),this.Js.removeEventListener("keydown",this.En);}},{key:"an",value:function an(t){var _t$detail5=t.detail,e=_t$detail5.key,i=_t$detail5.value;"bx-uisettings:limitScrollableArea"===e?this.$c=this.Js.getConfig("bx-uisettings:limitScrollableArea",!1):"bx-uisettings:showViewOutlineAboveObjects"===e?(this.Ic=this.Js.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.Ac()):"bx-markupsettings:geometryPrecision"===e?this.kc=this.Js.getConfig("bx-markupsettings:geometryPrecision",3):"bx-markupsettings:transformPrecision"===e&&(this.Sc=this.Js.getConfig("bx-markupsettings:transformPrecision",6));}},{key:"Oo",value:function Oo(t){var _this371=this;if(1===t.button){var _e796,_i766,_s395=t.clientX,_n332=t.clientY;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",_e796=function _e796(t){var _iterator664=_createForOfIteratorHelper(t.getCoalescedEvents()),_step664;try{for(_iterator664.s();!(_step664=_iterator664.n()).done;){var _e797=_step664.value;var _t1058=_e797.clientX-_s395,_i765=_e797.clientY-_n332;_this371.Rn(_t1058,_i765),_s395=_e797.clientX,_n332=_e797.clientY;}}catch(err){_iterator664.e(err);}finally{_iterator664.f();}}),this.addEventListener("pointerup",_i766=function _i764(){_this371.removeEventListener("pointermove",_e796),_this371.removeEventListener("pointerup",_i766);});}}},{key:"Tn",value:function Tn(t){var _this372=this;if("Space"===t.code&&!1===this.Js.isPointerDown&&!1===this.Js.textInputMode){var _e798=this.Js.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");if("togglePreviousTool"===_e798)this.tn.togglePreviousTool(),t.preventDefault();else if("pan"===_e798&&!1===this.zn){var _e799,_i769;this.zn=!0;var _s396=this.Js.pointerClientPoint.x,_n333=this.Js.pointerClientPoint.y;window.addEventListener("pointermove",_e799=function _e799(t){var _iterator665=_createForOfIteratorHelper(t.getCoalescedEvents()),_step665;try{for(_iterator665.s();!(_step665=_iterator665.n()).done;){var _e800=_step665.value;var _t1059=_e800.clientX-_s396,_i768=_e800.clientY-_n333;_this372.Rn(_t1059,_i768),_s396=_e800.clientX,_n333=_e800.clientY;}}catch(err){_iterator665.e(err);}finally{_iterator665.f();}}),window.addEventListener("keyup",_i769=function _i767(){"Space"===t.code&&!0===_this372.zn&&(window.removeEventListener("pointermove",_e799),window.removeEventListener("keyup",_i769),_this372.zn=!1);});}}}},{key:"Rc",value:function Rc(t){this.scrollLeft=0,this.scrollTop=0,document.documentElement.scrollLeft=0,document.documentElement.scrollTop=0,document.body.scrollLeft=0,document.body.scrollTop=0;}},{key:"Do",value:function Do(t){t.preventDefault();var e=tt(t.wheelDeltaX,-ou,ou,1),i=tt(t.wheelDeltaY,-ou,ou,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey)this.Rn(e/nu,i/nu);else{var _e801=new DOMPoint(t.clientX,t.clientY);this.Hc(i/su,_e801);}}},{key:"pl",value:function pl(t){this.dispatchEvent(new CustomEvent("workspacemutation",{detail:t}));var e=!1,i=!1,s=!1;var _iterator666=_createForOfIteratorHelper(t),_step666;try{for(_iterator666.s();!(_step666=_iterator666.n()).done;){var _n334=_step666.value;if(_n334.target===this["#workspaces"])"childList"===_n334.type&&(e=!0);else if("defs"===_n334.target.localName){if(_n334.removedNodes.length>0){"view"===_n334.removedNodes[0].localName&&(s=!0);var _iterator667=_createForOfIteratorHelper(_n334.removedNodes),_step667;try{for(_iterator667.s();!(_step667=_iterator667.n()).done;){var _t1060=_step667.value;if(_t1060.hasAttribute&&_t1060.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator667.e(err);}finally{_iterator667.f();}}else if(_n334.addedNodes.length>0){"view"===_n334.addedNodes[0].localName&&(s=!0);var _iterator668=_createForOfIteratorHelper(_n334.addedNodes),_step668;try{for(_iterator668.s();!(_step668=_iterator668.n()).done;){var _t1061=_step668.value;if(_t1061.hasAttribute&&_t1061.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator668.e(err);}finally{_iterator668.f();}}}else"style"===_n334.target.localName?_n334.target.hasAttribute("data-bx-fonts")&&(i=!0):"g"===_n334.target.localName?_n334.target.hasAttribute("data-bx-workspace")&&"attributes"===_n334.type&&"viewBox"===_n334.attributeName&&(s=!0):"view"===_n334.target.localName?"attributes"===_n334.type&&"viewBox"===_n334.attributeName&&(s=!0):"#text"===_n334.target.nodeName&&_n334.target.parentElement&&_n334.target.parentElement.hasAttribute("data-bx-fonts")&&(i=!0);}}catch(err){_iterator666.e(err);}finally{_iterator666.f();}e&&(this.Vc(),this.dispatchEvent(new CustomEvent("currentworkspacechange"))),i&&this.Lc(),(s||e)&&this.Ac();}},{key:"Gc",value:function Gc(t){var _this373=this;var _t$detail6=t.detail,e=_t$detail6.addedNodes,i=_t$detail6.removedNodes,s=_t$detail6.modifiedNodes,n=new Set(this.selectedElements),o=null;var _iterator669=_createForOfIteratorHelper(e),_step669;try{for(_iterator669.s();!(_step669=_iterator669.n()).done;){var _t1064=_step669.value;n.add(_t1064);}}catch(err){_iterator669.e(err);}finally{_iterator669.f();}var _iterator670=_createForOfIteratorHelper(s),_step670;try{for(_iterator670.s();!(_step670=_iterator670.n()).done;){var _t1065=_step670.value;n.add(_t1065);}}catch(err){_iterator670.e(err);}finally{_iterator670.f();}var _iterator671=_createForOfIteratorHelper(i),_step671;try{for(_iterator671.s();!(_step671=_iterator671.n()).done;){var _t1066=_step671.value;n["delete"](_t1066);}}catch(err){_iterator671.e(err);}finally{_iterator671.f();}if(n=_toConsumableArray(n).filter(function(t){return _this373.isSelectableElement(t);}),n.length>0){var _t1062=n[0];_t1062.parentElement!==this.currentWorkspace&&(o=_t1062.parentElement);}if(this.currentContainer=o,this.selectedElements=n,this.selectedTextRange){var _this$selectedTextRan=this.selectedTextRange,_t1063=_this$selectedTextRan.startContainer,_e802=_this$selectedTextRan.endContainer,_i770=!1;var _iterator672=_createForOfIteratorHelper(n),_step672;try{for(_iterator672.s();!(_step672=_iterator672.n()).done;){var _s397=_step672.value;(_s397.contains(_t1063)||_s397.contains(_e802))&&(_i770=!0);}}catch(err){_iterator672.e(err);}finally{_iterator672.f();}!1===_i770&&(this.selectedTextRange=null);}{var _e803="undo"===t.type?"Undo":"Redo";t.detail.label&&(_e803="<strong>".concat(_e803,"</strong>: ").concat(t.detail.label)),this.Js.openNotification(_e803);}}},{key:"Uc",value:function Uc(){var _this374=this;var t=new Map(),e=null,i=0,s=-1,n=1,o=new Q(),l="auto",a=function a(_a174){if("touch"===_a174.pointerType&&t.has(_a174.pointerId))if(t.get(_a174.pointerId).push(new DOMPoint(_a174.clientX,_a174.clientY)),1===t.size){var _ref135=_toConsumableArray(t.values()),_e804=_ref135[0];_e804.length>3&&t["delete"](_a174.pointerId);}else if(2===t.size){var _ref136=_toConsumableArray(t.values()),_a173=_ref136[0],_h145=_ref136[1],_r87=_a173[_a173.length-1],_d70=_h145[_h145.length-1],_c53=Te(_r87,_d70),_p50=Ee(_r87,_d70),_u45=_p50/i,_x135=_u45-n,_b37=new Q(e,_c53),_m36=ue(_b37,o);if("auto"===l){if(!(_a173.length>=3&&_h145.length>=3&&(_a173.length>=9||_h145.length>=9)))return;{var _t1067=be(new Q(_a173[0],_a173[_a173.length-1]),new Q(_h145[0],_h145[_h145.length-1]));l=_t1067<-130||_t1067>130?"zoom":"scroll";}}s>0&&("auto"===l||"scroll"===l?_this374.Rn(_m36.x,_m36.y):"zoom"===l&&_this374.Hc(_x135,e)),s=_p50,n=_u45,o=_b37;}},h=function h(e){"touch"===e.pointerType&&(t["delete"](e.pointerId),t.size<2&&(s=-1,l="auto"));};this.addEventListener("pointerdown",function(s){return function(s){if("touch"===s.pointerType)if(t.set(s.pointerId,[new DOMPoint(s.clientX,s.clientY)]),2===t.size){var _ref137=_toConsumableArray(t.values()),_s398=_ref137[0],_n335=_ref137[1],_o261=_s398[_s398.length-1],_l233=_n335[_n335.length-1];e=Te(_o261,_l233),i=Ee(_o261,_l233);}else e=null;}(s);}),this.addEventListener("pointermove",function(t){return a(t);}),this.addEventListener("pointerup",function(t){return h(t);}),this.addEventListener("pointercancel",function(t){return h(t);}),this.addEventListener("pointerout",function(t){return h(t);}),this.addEventListener("pointerleave",function(t){return h(t);});}},{key:"setArtwork",value:function setArtwork(t){for(var _i771=0,_arr34=_toConsumableArray(this["#workspaces"].children);_i771<_arr34.length;_i771++){var _t1068=_arr34[_i771];_t1068!==this["#whitespace"]&&_t1068.remove();}var e=Ji(_templateObject11());var _iterator673=_createForOfIteratorHelper(t.attributes),_step673;try{for(_iterator673.s();!(_step673=_iterator673.n()).done;){var _step673$value=_step673.value,_i772=_step673$value.name,_s399=_step673$value.value;"transform"===_i772?e.setAttribute("data-bx-transform",_s399):e.setAttribute(_i772,_s399);}}catch(err){_iterator673.e(err);}finally{_iterator673.f();}for(;t.firstChild;){e.appendChild(t.firstChild);}this["#workspaces"].append(e);var _iterator674=_createForOfIteratorHelper(this.masterWorkspace.querySelectorAll("style[data-bx-fonts]")),_step674;try{for(_iterator674.s();!(_step674=_iterator674.n()).done;){var _t1069=_step674.value;_t1069.replaceWith(_t1069);}}catch(err){_iterator674.e(err);}finally{_iterator674.f();}this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),this.dispatchEvent(new CustomEvent("artworkchange"));}},{key:"setDefaultArtwork",value:function setDefaultArtwork(){var t=Zh('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>');this.setArtwork(t);}},{key:"insertBitmap",value:function(){var _insertBitmap=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee111(t){var e,_yield$xr,i,s,n,o,l,a,_t1070,h,r,_args112=arguments;return regeneratorRuntime.wrap(function _callee111$(_context112){while(1){switch(_context112.prev=_context112.next){case 0:e=_args112.length>1&&_args112[1]!==undefined?_args112[1]:"boardCenter";_context112.next=3;return xr(t);case 3:_yield$xr=_context112.sent;i=_yield$xr.width;s=_yield$xr.height;n=$i("svg:image");n.setAttribute("href",t),n.setAttribute("width",i),n.setAttribute("height",s);l=this.currentContainer||this.currentWorkspace,a=Yt(l).inverse();if("boardCenter"===e){_t1070=this.getBoundingClientRect();o=new DOMPoint(_t1070.left+_t1070.width/2,_t1070.top+_t1070.height/2);}else"pointer"===e&&(o=this.Js.pointerClientPoint);h=o.matrixTransform(a);l.append(n);r=Oi(n);n.setAttribute("x",h.x-r.width/2),n.setAttribute("y",h.y-r.height/2),this.selectedElements=[n];case 14:case"end":return _context112.stop();}}},_callee111,this);}));function insertBitmap(_x136){return _insertBitmap.apply(this,arguments);}return insertBitmap;}()},{key:"insertBitmapIntoBBox",value:function insertBitmapIntoBBox(t,e){var _this375=this;return new Promise(/*#__PURE__*/function(){var _ref138=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee112(i){var s,n,o,_yield$xr2,l,a,h,r,d,c,p,u,x,b,m,g;return regeneratorRuntime.wrap(function _callee112$(_context113){while(1){switch(_context113.prev=_context113.next){case 0:s=_this375.currentContainer||_this375.currentWorkspace;n=_this375.geometryPrecision;o=_this375.transformPrecision;_context113.next=5;return xr(t);case 5:_yield$xr2=_context113.sent;l=_yield$xr2.width;a=_yield$xr2.height;h=l/a;r=e.width/h;d=new DOMPoint(0,0);c=new DOMPoint(l,0);p=new DOMPoint(0,a);u=new DOMPoint(e.x,e.y);x=new DOMPoint(e.x+e.width,e.y);b=new DOMPoint(e.x,e.y+r);m=Yt(s).inverse().multiply(qt(d,c,p,u,x,b));g=$i("svg:image");g.setAttribute("href",t),g.setAttribute("width",l),g.setAttribute("height",a),g.setAttribute("transform",m.toString()),s.append(g),va(g,{geometryPrecision:n,transformPrecision:o}),_this375.selectedTextRange=null,_this375.selectedElements=[g],i(g);case 19:case"end":return _context113.stop();}}},_callee112);}));return function(_x137){return _ref138.apply(this,arguments);};}());}},{key:"insertArtworkIntoBBox",value:function insertArtworkIntoBBox(t,e){var i=this.currentWorkspace,s=this.extractArtwork(),n=Yt(this["#vector-canvas"]).inverse(),o=Ve(e,n),l=$i("svg:g");Zp(t,s);{var _e805=null;if(t.hasAttribute("viewBox")?_e805=Ut.fromString(t.getAttribute("viewBox")):t.width.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&t.height.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e805=new Ut(0,0,t.width.baseVal.value,t.height.baseVal.value)),_e805){var _i773=t.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString=Bt.fromString(_i773),_s400=_Bt$fromString.align,_n336=_Bt$fromString.meetOrSlice,_a175=o.width/_e805.width,_h146=o.height/_e805.height;"none"!==_s400&&"meet"===_n336?_a175>_h146?_a175=_h146:_h146>_a175&&(_h146=_a175):"none"!==_s400&&"slice"===_n336&&(_a175<_h146?_a175=_h146:_h146<_a175&&(_h146=_a175));var _r88=o.x-_e805.x*_a175,_d71=o.y-_e805.y*_h146;_s400.includes("xMid")&&(_r88+=(o.width-_e805.width*_a175)/2),_s400.includes("xMax")&&(_r88+=o.width-_e805.width*_a175),_s400.includes("YMid")&&(_d71+=(o.height-_e805.height*_h146)/2),_s400.includes("YMax")&&(_d71+=o.height-_e805.height*_h146);var _c54=new DOMMatrix();_c54.translateSelf(_r88,_d71),_c54.scaleSelf(_a175,_h146),_c54=Ft(_c54,this.transformPrecision),l.setAttribute("transform",_c54);}}var _iterator675=_createForOfIteratorHelper(t.style),_step675;try{for(_iterator675.s();!(_step675=_iterator675.n()).done;){var _e808=_step675.value;"shape-rendering"===_e808&&l.style.setProperty(_e808,t.style.getPropertyValue(_e808));}}catch(err){_iterator675.e(err);}finally{_iterator675.f();}for(var _i774=0,_arr35=_toConsumableArray(t.children);_i774<_arr35.length;_i774++){var _e806=_arr35[_i774];if("defs"===_e806.localName)for(var _i775=0,_arr36=_toConsumableArray(_e806.children);_i775<_arr36.length;_i775++){var _t1071=_arr36[_i775];if("style"===_t1071.localName&&_t1071.hasAttribute("data-bx-fonts")){var _e807=_t1071.getAttribute("data-bx-fonts");!1===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e807,"\"]"))&&this.defs.append(_t1071);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1071);}l.append(_e806);}return i.append(l),l;}},{key:"insertArtwork",value:function insertArtwork(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"boardCenter";var i=this.currentContainer||this.currentWorkspace,s=[],n=this.extractArtwork();Zp(t,n);var _iterator676=_createForOfIteratorHelper(t.style),_step676;try{for(_iterator676.s();!(_step676=_iterator676.n()).done;){var _e812=_step676.value;"shape-rendering"===_e812&&i.style.setProperty(_e812,t.style.getPropertyValue(_e812));}}catch(err){_iterator676.e(err);}finally{_iterator676.f();}for(var _i776=0,_arr37=_toConsumableArray(t.children);_i776<_arr37.length;_i776++){var _e809=_arr37[_i776];if("defs"===_e809.localName)for(var _i777=0,_arr38=_toConsumableArray(_e809.children);_i777<_arr38.length;_i777++){var _t1072=_arr38[_i777];if("style"===_t1072.localName&&_t1072.hasAttribute("data-bx-fonts")){var _e810=_t1072.getAttribute("data-bx-fonts");null===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e810,"\"]"))&&this.defs.append(_t1072);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1072);}else if(y.includes(_e809.localName)){var _t1073=Wt(i,this.currentWorkspace),_n337=Ht(_e809),_o262=new DOMMatrix();_o262.multiplySelf(_t1073.inverse()),_o262.multiplySelf(_n337),_o262=Ft(_o262,this.transformPrecision),_o262.isIdentity?_e809.removeAttribute("transform"):_e809.setAttribute("transform",_o262.toString()),i.append(_e809),s.push(_e809);}else i.append(_e809);}if("original"!==e){var _t1074=s.map(function(t){return Ei(t);});_t1074=_t1074.filter(function(t){return t.width>0||t.height>0;});var _i778,_n338=He(_t1074);if("boardCenter"===e){var _t1075=this.getBoundingClientRect();_i778=new DOMPoint(_t1075.left+_t1075.width/2,_t1075.top+_t1075.height/2);}else _i778="belowOriginal"===e?new DOMPoint(_n338.x+_n338.width/2+15,_n338.y+_n338.height/2+15):this.Js.pointerClientPoint;var _o263=_i778.x-(_n338.x+_n338.width/2),_l234=_i778.y-(_n338.y+_n338.height/2);var _iterator677=_createForOfIteratorHelper(s),_step677;try{for(_iterator677.s();!(_step677=_iterator677.n()).done;){var _t1076=_step677.value;var _e811=Yt(_t1076),_i779=_e811.inverse(),_s401=Ht(_t1076);_s401.multiplySelf(_i779),_s401.translateSelf(_o263,_l234),_s401.multiplySelf(_e811),_s401=Ft(_s401,this.transformPrecision),_t1076.setAttribute("transform",_s401.toString());}}catch(err){_iterator677.e(err);}finally{_iterator677.f();}}this.selectedElements=s;}},{key:"extractArtwork",value:function extractArtwork(){this.collectGarbage();var t=$i("svg:svg"),e=this.masterWorkspace;var _iterator678=_createForOfIteratorHelper(e.attributes),_step678;try{for(_iterator678.s();!(_step678=_iterator678.n()).done;){var _step678$value=_step678.value,_i783=_step678$value.name,_s408=_step678$value.value;"data-bx-workspace"!==_i783&&("data-bx-transform"===_i783?t.setAttribute("transform",_s408):t.setAttribute(_i783,_s408));}}catch(err){_iterator678.e(err);}finally{_iterator678.f();}var _iterator679=_createForOfIteratorHelper(e.childNodes),_step679;try{for(_iterator679.s();!(_step679=_iterator679.n()).done;){var _i784=_step679.value;t.append(_i784.cloneNode(!0));}}catch(err){_iterator679.e(err);}finally{_iterator679.f();}if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e813=this.currentWorkspace,_i780=t.querySelector("symbol#".concat(CSS.escape(_e813.id)));var _iterator680=_createForOfIteratorHelper(_i780.attributes),_step680;try{for(_iterator680.s();!(_step680=_iterator680.n()).done;){var _step680$value=_step680.value,_t1077=_step680$value.name,_s402=_step680$value.value;!1===_e813.hasAttribute(_t1077)&&_i780.removeAttribute(_t1077);}}catch(err){_iterator680.e(err);}finally{_iterator680.f();}var _iterator681=_createForOfIteratorHelper(_e813.attributes),_step681;try{for(_iterator681.s();!(_step681=_iterator681.n()).done;){var _step681$value=_step681.value,_t1078=_step681$value.name,_s403=_step681$value.value;"data-bx-workspace"!==_t1078&&_i780.setAttribute(_t1078,_s403);}}catch(err){_iterator681.e(err);}finally{_iterator681.f();}_i780.innerHTML=_e813.innerHTML;}if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e814=this.currentWorkspace,_i781=t.querySelector("pattern#".concat(CSS.escape(_e814.id)));var _iterator682=_createForOfIteratorHelper(_i781.attributes),_step682;try{for(_iterator682.s();!(_step682=_iterator682.n()).done;){var _step682$value=_step682.value,_t1079=_step682$value.name,_s404=_step682$value.value;!1===_e814.hasAttribute(_t1079)&&_i781.removeAttribute(_t1079);}}catch(err){_iterator682.e(err);}finally{_iterator682.f();}var _iterator683=_createForOfIteratorHelper(_e814.attributes),_step683;try{for(_iterator683.s();!(_step683=_iterator683.n()).done;){var _step683$value=_step683.value,_t1080=_step683$value.name,_s405=_step683$value.value;"data-bx-workspace"!==_t1080&&_i781.setAttribute(_t1080,_s405);}}catch(err){_iterator683.e(err);}finally{_iterator683.f();}_i781.innerHTML=_e814.innerHTML;}if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e815=this.currentWorkspace,_i782=t.querySelector("marker#".concat(CSS.escape(_e815.id)));var _iterator684=_createForOfIteratorHelper(_i782.attributes),_step684;try{for(_iterator684.s();!(_step684=_iterator684.n()).done;){var _step684$value=_step684.value,_t1081=_step684$value.name,_s406=_step684$value.value;!1===_e815.hasAttribute(_t1081)&&_i782.removeAttribute(_t1081);}}catch(err){_iterator684.e(err);}finally{_iterator684.f();}var _iterator685=_createForOfIteratorHelper(_e815.attributes),_step685;try{for(_iterator685.s();!(_step685=_iterator685.n()).done;){var _step685$value=_step685.value,_t1082=_step685$value.name,_s407=_step685$value.value;"data-bx-workspace"!==_t1082&&_i782.setAttribute(_t1082,_s407);}}catch(err){_iterator685.e(err);}finally{_iterator685.f();}_i782.innerHTML=_e815.innerHTML;}return t;}},{key:"extractArtworkWithSelectedElements",value:function extractArtworkWithSelectedElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[0,0,0,0];return this.extractArtworkWithElements(this.outermostSelectedElements,t);}},{key:"extractArtworkWithViewBoxElements",value:function extractArtworkWithViewBoxElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=Yt(this.currentWorkspace).inverse(),i=[],s=new DOMRect(),n=t||this.currentWorkspace;if(n.hasAttribute("viewBox")){s=Ut.fromString(n.getAttribute("viewBox")).toRect();var _iterator686=_createForOfIteratorHelper(this.currentWorkspace.children),_step686;try{for(_iterator686.s();!(_step686=_iterator686.n()).done;){var _t1083=_step686.value;if([].concat(w,["svg","g","a","use"]).includes(_t1083.localName)){var _n339=Ei(_t1083);_n339=Ve(_n339,e),qe(s,_n339)&&i.push(_t1083);}}}catch(err){_iterator686.e(err);}finally{_iterator686.f();}}var o=this.extractArtworkWithElements(i);o.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height)),o.setAttribute("width",s.width),o.setAttribute("height",s.height);var _iterator687=_createForOfIteratorHelper(this.currentWorkspace.attributes),_step687;try{for(_iterator687.s();!(_step687=_iterator687.n()).done;){var _step687$value=_step687.value,_t1084=_step687$value.name,_e816=_step687$value.value;(j.includes(_t1084)||"style"===_t1084)&&o.setAttribute(_t1084,_e816);}}catch(err){_iterator687.e(err);}finally{_iterator687.f();}return o;}},{key:"extractArtworkWithElements",value:function extractArtworkWithElements(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,0,0];this.collectGarbage(),t=Ni(t);var i=this.Wc(t),s=[];var _iterator688=_createForOfIteratorHelper(i),_step688;try{for(_iterator688.s();!(_step688=_iterator688.n()).done;){var _t1086=_step688.value;var _e818=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1086)));_e818||this.currentWorkspace===this.masterWorkspace||(_e818=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1086)))),_e818&&s.push(_e818);}}catch(err){_iterator688.e(err);}finally{_iterator688.f();}s=s.filter(function(e){var _iterator689=_createForOfIteratorHelper(t),_step689;try{for(_iterator689.s();!(_step689=_iterator689.n()).done;){var _i785=_step689.value;if(_i785.contains(e)||_i785===e)return!1;}}catch(err){_iterator689.e(err);}finally{_iterator689.f();}var _iterator690=_createForOfIteratorHelper(s),_step690;try{for(_iterator690.s();!(_step690=_iterator690.n()).done;){var _t1085=_step690.value;if(_t1085.contains(e)&&_t1085!==e)return!1;}}catch(err){_iterator690.e(err);}finally{_iterator690.f();}return!0;});var n=$i("svg:svg"),o=$i("svg:defs");n.append(o);var _iterator691=_createForOfIteratorHelper(s),_step691;try{for(_iterator691.s();!(_step691=_iterator691.n()).done;){var _t1087=_step691.value;_t1087.closest("defs")?o.append(_t1087.cloneNode(!0)):n.append(_t1087.cloneNode(!0));}}catch(err){_iterator691.e(err);}finally{_iterator691.f();}var _iterator692=_createForOfIteratorHelper(t),_step692;try{for(_iterator692.s();!(_step692=_iterator692.n()).done;){var _e819=_step692.value;var _t1088=_e819.cloneNode(!0),_i787=Wt(_e819,this.currentWorkspace);_i787=Ft(_i787,this.transformPrecision),_i787.isIdentity?_t1088.removeAttribute("transform"):_t1088.setAttribute("transform",_i787.toString()),n.append(_t1088);}}catch(err){_iterator692.e(err);}finally{_iterator692.f();}var _iterator693=_createForOfIteratorHelper(this["#workspaces"].querySelectorAll("style")),_step693;try{for(_iterator693.s();!(_step693=_iterator693.n()).done;){var _t1089=_step693.value;o.append(_t1089.cloneNode(!0));}}catch(err){_iterator693.e(err);}finally{_iterator693.f();}this.tn.offscreenBoard.setArtwork(n),new Rp(n).collect({colors:"none",gradients:"none",patterns:"none",markers:"none",symbols:"none",filters:"none",fonts:"all",clipPaths:"none",masks:"none"}),this.tn.offscreenBoard.clear(),0===o.childElementCount&&o.remove();{var _i786=t.map(function(t){return Ei(t);}),_s409=He(_i786);_s409=Ve(_s409,Yt(this.currentWorkspace).inverse()),_s409=je(_s409,this.kc);var _e817=_slicedToArray(e,4),_o264=_e817[0],_l235=_e817[1],_a176=_e817[2],_h147=_e817[3],_r89=_s409.x-_h147,_d72=_s409.y-_o264,_c55=_s409.width+_h147+_l235,_p51=_s409.height+_o264+_a176;n.setAttribute("viewBox","".concat(_r89," ").concat(_d72," ").concat(_c55," ").concat(_p51)),n.setAttribute("width",_c55),n.setAttribute("height",_p51);}return n;}},{key:"extractArtworkWithSymbols",value:function extractArtworkWithSymbols(t){t=Ni(t);var e=this.Wc(t),i=[];var _iterator694=_createForOfIteratorHelper(e),_step694;try{for(_iterator694.s();!(_step694=_iterator694.n()).done;){var _t1091=_step694.value;var _e820=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1091)));_e820||this.currentWorkspace===this.masterWorkspace||(_e820=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1091)))),_e820&&i.push(_e820);}}catch(err){_iterator694.e(err);}finally{_iterator694.f();}i=i.filter(function(e){var _iterator695=_createForOfIteratorHelper(t),_step695;try{for(_iterator695.s();!(_step695=_iterator695.n()).done;){var _i788=_step695.value;if(_i788.contains(e)||_i788===e)return!1;}}catch(err){_iterator695.e(err);}finally{_iterator695.f();}var _iterator696=_createForOfIteratorHelper(i),_step696;try{for(_iterator696.s();!(_step696=_iterator696.n()).done;){var _t1090=_step696.value;if(_t1090.contains(e)&&_t1090!==e)return!1;}}catch(err){_iterator696.e(err);}finally{_iterator696.f();}return!0;});var s=$i("svg:svg"),n=$i("svg:defs");s.append(n);var _iterator697=_createForOfIteratorHelper(i),_step697;try{for(_iterator697.s();!(_step697=_iterator697.n()).done;){var _t1092=_step697.value;_t1092.closest("defs")?n.append(_t1092.cloneNode(!0)):s.append(_t1092.cloneNode(!0));}}catch(err){_iterator697.e(err);}finally{_iterator697.f();}var _iterator698=_createForOfIteratorHelper(t),_step698;try{for(_iterator698.s();!(_step698=_iterator698.n()).done;){var _e821=_step698.value;var _t1093=_e821.cloneNode(!0);n.append(_t1093);}}catch(err){_iterator698.e(err);}finally{_iterator698.f();}return this.tn.offscreenBoard.setArtwork(s),new Rp(s).collect({colors:"all",gradients:"all",patterns:"all",markers:"all",symbols:"none",filters:"all",fonts:"all",clipPaths:"all",masks:"all"}),this.tn.offscreenBoard.clear(),s;}},{key:"collectGarbage",value:function collectGarbage(){var t=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",{});new Rp(this["#workspaces"]).collect(t);}},{key:"editSymbol",value:function editSymbol(t){var e=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Symbol"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Ji(_templateObject12(),e.innerHTML);var _iterator699=_createForOfIteratorHelper(e.attributes),_step699;try{for(_iterator699.s();!(_step699=_iterator699.n()).done;){var _step699$value=_step699.value,_t1094=_step699$value.name,_s410=_step699$value.value;i.setAttribute(_t1094,_s410);}}catch(err){_iterator699.e(err);}finally{_iterator699.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editSymbolEnd",value:function editSymbolEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Symbol");var _e822=this.currentWorkspace,_i789=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(_e822.id)));var _iterator700=_createForOfIteratorHelper(_i789.attributes),_step700;try{for(_iterator700.s();!(_step700=_iterator700.n()).done;){var _step700$value=_step700.value,_t1095=_step700$value.name,_s411=_step700$value.value;!1===_e822.hasAttribute(_t1095)&&_i789.removeAttribute(_t1095);}}catch(err){_iterator700.e(err);}finally{_iterator700.f();}var _iterator701=_createForOfIteratorHelper(_e822.attributes),_step701;try{for(_iterator701.s();!(_step701=_iterator701.n()).done;){var _step701$value=_step701.value,_t1096=_step701$value.name,_s412=_step701$value.value;"data-bx-workspace"!==_t1096&&_i789.setAttribute(_t1096,_s412);}}catch(err){_iterator701.e(err);}finally{_iterator701.f();}_e822.remove(),_i789.innerHTML=_e822.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editPattern",value:function editPattern(t){var e=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Pattern"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Ji(_templateObject13(),e.innerHTML);var _iterator702=_createForOfIteratorHelper(e.attributes),_step702;try{for(_iterator702.s();!(_step702=_iterator702.n()).done;){var _step702$value=_step702.value,_t1097=_step702$value.name,_s413=_step702$value.value;i.setAttribute(_t1097,_s413);}}catch(err){_iterator702.e(err);}finally{_iterator702.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editPatternEnd",value:function editPatternEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Pattern");var _e823=this.currentWorkspace,_i790=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(_e823.id)));var _iterator703=_createForOfIteratorHelper(_i790.attributes),_step703;try{for(_iterator703.s();!(_step703=_iterator703.n()).done;){var _step703$value=_step703.value,_t1098=_step703$value.name,_s414=_step703$value.value;!1===_e823.hasAttribute(_t1098)&&_i790.removeAttribute(_t1098);}}catch(err){_iterator703.e(err);}finally{_iterator703.f();}var _iterator704=_createForOfIteratorHelper(_e823.attributes),_step704;try{for(_iterator704.s();!(_step704=_iterator704.n()).done;){var _step704$value=_step704.value,_t1099=_step704$value.name,_s415=_step704$value.value;"data-bx-workspace"!==_t1099&&_i790.setAttribute(_t1099,_s415);}}catch(err){_iterator704.e(err);}finally{_iterator704.f();}_e823.remove(),_i790.innerHTML=_e823.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editMarker",value:function editMarker(t){var e=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Marker"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Ji(_templateObject14(),e.innerHTML);var _iterator705=_createForOfIteratorHelper(e.attributes),_step705;try{for(_iterator705.s();!(_step705=_iterator705.n()).done;){var _step705$value=_step705.value,_t1100=_step705$value.name,_s416=_step705$value.value;i.setAttribute(_t1100,_s416);}}catch(err){_iterator705.e(err);}finally{_iterator705.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editMarkerEnd",value:function editMarkerEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit marker");var _e824=this.currentWorkspace,_i791=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(_e824.id)));var _iterator706=_createForOfIteratorHelper(_i791.attributes),_step706;try{for(_iterator706.s();!(_step706=_iterator706.n()).done;){var _step706$value=_step706.value,_t1101=_step706$value.name,_s417=_step706$value.value;!1===_e824.hasAttribute(_t1101)&&_i791.removeAttribute(_t1101);}}catch(err){_iterator706.e(err);}finally{_iterator706.f();}var _iterator707=_createForOfIteratorHelper(_e824.attributes),_step707;try{for(_iterator707.s();!(_step707=_iterator707.n()).done;){var _step707$value=_step707.value,_t1102=_step707$value.name,_s418=_step707$value.value;"data-bx-workspace"!==_t1102&&_i791.setAttribute(_t1102,_s418);}}catch(err){_iterator707.e(err);}finally{_iterator707.f();}_e824.remove(),_i791.innerHTML=_e824.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"zoomIn",value:function zoomIn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.vc?this.Hc(.2,this.Js.pointerClientPoint):this.Hc(.2);}},{key:"zoomOut",value:function zoomOut(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.vc?this.Hc(-.2,this.Js.pointerClientPoint):this.Hc(-.2);}},{key:"zoomToFitAllViews",value:function zoomToFitAllViews(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.currentWorkspace,n=null;{var _t1103=[];if(s.hasAttribute("viewBox")){var _e825=Ut.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1103.push(_e825);}var _iterator708=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step708;try{for(_iterator708.s();!(_step708=_iterator708.n()).done;){var _e826=_step708.value;_t1103.push(_e826.viewBox.baseVal);}}catch(err){_iterator708.e(err);}finally{_iterator708.f();}_t1103.length>0&&(n=He(_t1103));}n&&this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitAllViews",value:function canZoomToFitAllViews(){var t=this.currentWorkspace;if(t.hasAttribute("viewBox")){var _t1104=Ut.fromString(this.currentWorkspace.getAttribute("viewBox"));if(_t1104.width>0&&_t1104.height>0)return!0;}var _iterator709=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step709;try{for(_iterator709.s();!(_step709=_iterator709.n()).done;){var _e827=_step709.value;if(_e827.viewBox.baseVal.width>0&&_e827.viewBox.baseVal.height>0)return!0;}}catch(err){_iterator709.e(err);}finally{_iterator709.f();}return!1;}},{key:"zoomToFitAllObjects",value:function zoomToFitAllObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=DOMRect.fromRect(this.currentWorkspace.getBBox());this.zoomToArea(s,t,e,i);}},{key:"canZoomToFitAllObjects",value:function canZoomToFitAllObjects(){var t=this.currentWorkspace.getBBox();return t.width>0&&t.height>0;}},{key:"zoomToFitSelectedObjects",value:function zoomToFitSelectedObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=[];var _iterator710=_createForOfIteratorHelper(this.selectedObjectElements),_step710;try{for(_iterator710.s();!(_step710=_iterator710.n()).done;){var _t1105=_step710.value;var _e828=Wt(_t1105,this.vectorCanvas),_i792=Oi(_t1105);_i792=Ve(_i792,_e828),s.push(_i792);}}catch(err){_iterator710.e(err);}finally{_iterator710.f();}var n=s.length>0?He(s):new DOMRect();this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitSelectedObjects",value:function canZoomToFitSelectedObjects(){if(0===this.selectedObjectElements.length)return!1;{var _t1106=this.selectedObjectElements.map(function(t){return t.getBBox();}),_e829=_t1106.length>0?He(_t1106):new DOMRect();return _e829.width>0&&_e829.height>0;}}},{key:"getZoomArea",value:function getZoomArea(){var t=this.getBoundingClientRect(),e=Yt(this.currentWorkspace).inverse();return Ve(t,e);}},{key:"zoomToArea",value:function zoomToArea(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top-left";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=Yt(this["#vector-layer"]).inverse(),o=Ve(this.getBoundingClientRect(),n),l=DOMRect.fromRect(t);if(o.x+=i,o.y+=i,o.width-=2*i,o.height-=2*i,this.showManualGuides&&(o.x+=lu,o.y+=lu,o.width-=lu,o.height-=lu),l.width>0&&l.height>0){var _t1107=o.width/l.width,_i793=o.height/l.height;_t1107>_i793?_t1107=_i793:_i793>_t1107&&(_i793=_t1107),!1===s&&(_t1107>1||_i793>1)&&(_t1107=1,_i793=1);var _n340=o.x-l.x*_t1107,_a177=o.y-l.y*_i793;"center"===e&&(_n340+=(o.width-l.width*_t1107)/2,_a177+=(o.height-l.height*_i793)/2);var _h148=new DOMMatrix();_h148.translateSelf(_n340,_a177),_h148.scaleSelf(_t1107,_i793),this["#vector-canvas"].setAttribute("transform",_h148),this.yc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Vc",value:function Vc(){var t=null;this.currentWorkspace&&this.currentWorkspace.hasAttribute("viewBox")&&(t=Ut.fromString(this.currentWorkspace.getAttribute("viewBox"))),t&&t.width>0&&t.height>0?this.zoomToFitAllViews("top-left"):this.zoomToFitAllObjects("top-left");}},{key:"Hc",value:function Hc(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(null===e){var _t1108=this.getBoundingClientRect();e=new DOMPoint(_t1108.x+_t1108.width/2,_t1108.y+_t1108.height/2);}var i=Ht(this["#vector-canvas"]),s=Yt(this["#vector-layer"]).inverse(),n=e.matrixTransform(s);if(i.a>0){100*(i.a+t*i.a)<eu?t=(eu-100*i.a)/(100*i.a):100*(i.a+t*i.a)>iu&&(t=(iu-100*i.a)/(100*i.a));var _e830=new DOMMatrix();_e830.scaleSelf(1+t,1+t,1,n.x,n.y),_e830.multiplySelf(i),this["#vector-canvas"].setAttribute("transform",_e830),this.yc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Rn",value:function Rn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i,s=this.currentWorkspace;{var _t1109=[];if(s.hasAttribute("viewBox")){var _e831=Ut.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1109.push(_e831);}var _iterator711=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step711;try{for(_iterator711.s();!(_step711=_iterator711.n()).done;){var _e832=_step711.value;_t1109.push(_e832.viewBox.baseVal);}}catch(err){_iterator711.e(err);}finally{_iterator711.f();}i=_t1109.length>0?He(_t1109):new DOMRect();}if(!1===this.$c||!1===this.showViews||0===i.width||0===i.height){var _i794=new DOMMatrix();_i794.translateSelf(t,e),_i794.multiplySelf(Ht(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_i794);}else{var _s419=Ve(i,Yt(this["#vector-canvas"]));_s419=je(_s419,0);var _n341=DOMRect.fromRect(_s419);_n341.x+=t,_n341.y+=e,_n341=je(_n341,0);var _o265=DOMRect.fromRect(this.getBoundingClientRect());this.showManualGuides&&(_o265.x+=lu,_o265.y+=lu,_o265.width-=lu,_o265.height-=lu,_o265=je(_o265,0)),Ye(_o265,_s419)?(_n341.width<_o265.width&&(_n341.x<_o265.x?_n341.x=_o265.x:_n341.x+_n341.width>_o265.x+_o265.width&&(_n341.x=_o265.x+_o265.width-_n341.width)),_n341.height<_o265.height&&(_n341.y<_o265.y?_n341.y=_o265.y:_n341.y+_n341.height>_o265.y+_o265.height&&(_n341.y=_o265.y+_o265.height-_n341.height))):!1===qe(_o265,_s419)&&(_n341.x+_n341.width<_o265.x?_n341.x=_o265.x-_n341.width:_n341.x>_o265.x+_o265.width&&(_n341.x=_o265.x+_o265.width),_n341.y+_n341.height<_o265.y?_n341.y=_o265.y-_n341.height:_n341.y>_o265.y+_o265.height&&(_n341.y=_o265.y+_o265.height));var _l236=_n341.x-_s419.x,_a178=_n341.y-_s419.y,_h149=new DOMMatrix();_h149.translateSelf(_l236,_a178),_h149.multiplySelf(Ht(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_h149);}this.yc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"showPixelCanvas",value:function showPixelCanvas(){var t=this.getBoundingClientRect();this["#pixel-canvas"].hidden=!1,this["#pixel-canvas"].style.left=-t.x+"px",this["#pixel-canvas"].style.top=-t.y+"px",this["#pixel-canvas"].style.width=t.x+t.width+"px",this["#pixel-canvas"].style.height=t.y+t.height+"px",this["#pixel-canvas"].setAttribute("width",t.x+t.width),this["#pixel-canvas"].setAttribute("height",t.y+t.height);}},{key:"hidePixelCanvas",value:function hidePixelCanvas(){var t=this["#pixel-canvas"];t.hidden=!0,t.getContext("2d").clearRect(0,0,t.width,t.height);}},{key:"Nc",value:function Nc(){this["#vector-layer"].setAttribute("width",screen.width+"px"),this["#vector-layer"].setAttribute("height",screen.height+"px"),this["#vector-layer"].setAttribute("viewBox","0 0 ".concat(screen.width," ").concat(screen.height));}},{key:"Dc",value:function Dc(){!0===this.Pc?(this["#manual-guides-hud"].enabled=!0,this["#rulers"].setAttribute("enabled","")):(this["#manual-guides-hud"].enabled=!1,this["#rulers"].removeAttribute("enabled")),!0===this.zc?this["#smart-guides-hud"].enabled=!0:this["#smart-guides-hud"].enabled=!1,!0===this.Oc?this["#grid-hud"].enabled=!0:this["#grid-hud"].enabled=!1;}},{key:"Bc",value:function(){var _Bc=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee113(){var t,_iterator712,_step712,_e833;return regeneratorRuntime.wrap(function _callee113$(_context114){while(1){switch(_context114.prev=_context114.next){case 0:document.fonts.clear();_context114.next=3;return this.Mc.getFontFaces();case 3:t=_context114.sent;_iterator712=_createForOfIteratorHelper(t);try{for(_iterator712.s();!(_step712=_iterator712.n()).done;){_e833=_step712.value;_e833.load(),document.fonts.add(_e833);}}catch(err){_iterator712.e(err);}finally{_iterator712.f();}case 6:case"end":return _context114.stop();}}},_callee113,this);}));function Bc(){return _Bc.apply(this,arguments);}return Bc;}()},{key:"yc",value:function yc(){this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;}},{key:"Ac",value:function Ac(){var t=this.currentWorkspace;if(t){var _e834=[];this.Tc?this["#vector-canvas"].setAttribute("data-outlines",this.Ic?"above":"below"):this["#vector-canvas"].removeAttribute("data-outlines"),t.hasAttribute("viewBox")&&_e834.push(Ut.fromString(t.getAttribute("viewBox")));var _iterator713=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step713;try{for(_iterator713.s();!(_step713=_iterator713.n()).done;){var _i797=_step713.value;_e834.push(_i797.viewBox.baseVal);}}catch(err){_iterator713.e(err);}finally{_iterator713.f();}if(this["#background-outlines"].childElementCount!==_e834.length){for(;this["#background-outlines"].childElementCount<_e834.length;){var _t1110=$i("svg:rect");this["#background-outlines"].append(_t1110);}for(;this["#background-outlines"].childElementCount>_e834.length;){this["#background-outlines"].lastElementChild.remove();}}if(this["#foreground-outlines"].childElementCount!==_e834.length){for(;this["#foreground-outlines"].childElementCount<_e834.length;){var _t1111=$i("svg:rect");this["#foreground-outlines"].append(_t1111);}for(;this["#foreground-outlines"].childElementCount>_e834.length;){this["#foreground-outlines"].lastElementChild.remove();}}for(var _t1112=0;_t1112<_e834.length;_t1112+=1){var _i795=_e834[_t1112];for(var _i796=0,_arr39=[this["#background-outlines"].children[_t1112],this["#foreground-outlines"].children[_t1112]];_i796<_arr39.length;_i796++){var _e835=_arr39[_i796];_e835.x.baseVal.value=_i795.x,_e835.y.baseVal.value=_i795.y,_e835.width.baseVal.value=_i795.width,_e835.height.baseVal.value=_i795.height;}}}}},{key:"maybeCreateDefsForMasterWorkspace",value:function maybeCreateDefsForMasterWorkspace(){var t=this.defs;return null===t&&(t=$i("svg:defs"),this.masterWorkspace.prepend(t)),t;}},{key:"maybeCreateDefsForCurrentWorkspace",value:function maybeCreateDefsForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");return null===t&&(t=$i("svg:defs"),this.currentWorkspace.prepend(t)),t;}},{key:"maybeCreateGridForCurrentWorkspace",value:function maybeCreateGridForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");null===t&&(t=Ji(_templateObject15()),this.currentWorkspace.append(t));var e=t.querySelector(":scope > bx-grid");return null===e&&(e=Ji(_templateObject16()),t.append(e)),e;}},{key:"generateUniqueID",value:function generateUniqueID(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;for(var _s420=i;_s420<Infinity;_s420+=1){var _i798=t+_s420;if(!this["#workspaces"].querySelector("#".concat(CSS.escape(_i798)))){if(!e)return _i798;if(!e.querySelector("#".concat(CSS.escape(_i798))))return _i798;}}}},{key:"Wc",value:function Wc(t){t=Ni(t);var e=new Set();var _iterator714=_createForOfIteratorHelper(t),_step714;try{for(_iterator714.s();!(_step714=_iterator714.n()).done;){var _i799=_step714.value;var _iterator715=_createForOfIteratorHelper(this.Yc(_i799)),_step715;try{for(_iterator715.s();!(_step715=_iterator715.n()).done;){var _t1113=_step715.value;e.add(_t1113);}}catch(err){_iterator715.e(err);}finally{_iterator715.f();}}}catch(err){_iterator714.e(err);}finally{_iterator714.f();}return _toConsumableArray(e);}},{key:"Yc",value:function Yc(t){var _this376=this;var e=new Set();var i=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"];var s=function s(t){var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),o=null;for(;o=n.nextNode();){var _t1114=getComputedStyle(o);var _iterator716=_createForOfIteratorHelper(i),_step716;try{for(_iterator716.s();!(_step716=_iterator716.n()).done;){var _n342=_step716.value;var _i801=_t1114.getPropertyValue(_n342);if(_i801&&_i801.startsWith('url("#')){var _t1116=_i801.substring(6,_i801.length-2);if(!1===e.has(_t1116)){e.add(_t1116);var _i802=_this376.currentWorkspace.querySelector("#"+CSS.escape(_t1116));_i802||_this376.currentWorkspace===_this376.masterWorkspace||(_i802=_this376.masterWorkspace.querySelector("#"+CSS.escape(_t1116))),_i802&&s(_i802);}else e.add(_t1116);}}}catch(err){_iterator716.e(err);}finally{_iterator716.f();}if(o.href&&o.href.baseVal&&"#"===o.href.baseVal[0]){var _t1115=o.href.baseVal.substring(1,o.href.baseVal.length);if(!1===e.has(_t1115)){e.add(_t1115);var _i800=_this376.currentWorkspace.querySelector("#"+CSS.escape(_t1115));_i800||_this376.currentWorkspace===_this376.masterWorkspace||(_i800=_this376.masterWorkspace.querySelector("#"+CSS.escape(_t1115))),_i800&&s(_i800);}else e.add(_t1115);}}};return s(t),_toConsumableArray(e);}},{key:"getComputedViewportWidth",value:function getComputedViewportWidth(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e836=null;if(""!==t.style.width?_e836=t.style.width:t.hasAttribute("width")&&(_e836=t.getAttribute("width")),null!==_e836){var _t1117=$t.fromString(_e836),_s421=Fp.fromString(_e836);_t1117&&_t1117.isAbsolute?i=_t1117:_s421&&(i=new $t(_s421.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e837=null;if(""!==t.style.width?_e837=t.style.width:t.hasAttribute("width")&&(_e837=t.getAttribute("width")),null!==_e837){var _t1118=$t.fromString(_e837),_s422=Fp.fromString(_e837);_t1118&&_t1118.isAbsolute?i=new Fp(_t1118.toLength("px").value):_s422&&(i=_s422);}}else if("marker"===e&&(i=new Fp(3),t.hasAttribute("markerWidth"))){var _e838=t.getAttribute("markerWidth"),_s423=Fp.fromString(_e838),_n343=$t.fromString(_e838),_o266=Vp.fromString(_e838);_s423?i=_s423:_n343?i=_n343.isAbsolute?new Fp(_n343.toLength("px").value):null:_o266&&(i=null);}return i;}},{key:"getComputedViewportHeight",value:function getComputedViewportHeight(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e839=null;if(""!==t.style.height?_e839=t.style.height:t.hasAttribute("height")&&(_e839=t.getAttribute("height")),null!==_e839){var _t1119=$t.fromString(_e839),_s424=Fp.fromString(_e839);_t1119&&_t1119.isAbsolute?i=_t1119:_s424&&(i=new $t(_s424.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e840=null;if(""!==t.style.height?_e840=t.style.height:t.hasAttribute("height")&&(_e840=t.getAttribute("height")),null!==_e840){var _t1120=$t.fromString(_e840),_s425=Fp.fromString(_e840);_t1120&&_t1120.isAbsolute?i=new Fp(_t1120.toLength("px").value):_s425&&(i=_s425);}}else if("marker"===e&&(i=new Fp(3),t.hasAttribute("markerHeight"))){var _e841=t.getAttribute("markerHeight"),_s426=Fp.fromString(_e841),_n344=$t.fromString(_e841),_o267=Vp.fromString(_e841);_s426?i=_s426:_n344?i=_n344.isAbsolute?new Fp(_n344.toLength("px").value):null:_o267&&(i=null);}return i;}},{key:"getElementsFromPoint",value:function getElementsFromPoint(t,e){return this._shadowRoot.elementsFromPoint(t,e);}},{key:"getHitWorkspaceElements",value:function getHitWorkspaceElements(t,e){var i=[];var _iterator717=_createForOfIteratorHelper(c),_step717;try{for(_iterator717.s();!(_step717=_iterator717.n()).done;){var _step717$value=_slicedToArray(_step717.value,2),_s427=_step717$value[0],_n345=_step717$value[1];var _o268=this._shadowRoot.elementFromPoint(t+_s427,e+_n345);if(_o268.getRootNode()!==this._shadowRoot&&(_o268=null),_o268){if("tspan"===_o268.localName||"textPath"===_o268.localName)_o268=_o268.closest("text");else if("a"===_o268.localName){var _t1121=_o268.closest("text");_t1121&&(_o268=_t1121);}!i.includes(_o268)&&this.currentWorkspace.contains(_o268)&&i.push(_o268);}}}catch(err){_iterator717.e(err);}finally{_iterator717.f();}return Ni(i);}},{key:"getWorkspaceElementFromPoint",value:function getWorkspaceElementFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);if(i.getRootNode()!==this._shadowRoot&&(i=null),i){if("tspan"===i.localName||"textPath"===i.localName)i=i.closest("text");else if("a"===i.localName){var _t1122=i.closest("text");_t1122&&(i=_t1122);}!1===this.currentWorkspace.contains(i)&&(i=null);}return i;}},{key:"getBoundingClientRect",value:function getBoundingClientRect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(ru.prototype),"getBoundingClientRect",this).call(this);if(t&&(i=new DOMRect(i.x+lu,i.y+lu,i.width-lu,i.height-lu)),e){var _t1123=this.tn.primaryPanelsDock,_e842=this.tn.secondaryPanelsDock;null!==_t1123.value&&(i.width-=_t1123.width-_t1123.getBoundingClientRect().width),null!==_e842.value&&(i.height-=_e842.height);}return i;}},{key:"selectAll",value:function selectAll(){var t=[],e=this.currentContainer||this.currentWorkspace;var _iterator718=_createForOfIteratorHelper(e.children),_step718;try{for(_iterator718.s();!(_step718=_iterator718.n()).done;){var _i803=_step718.value;this.isSelectableElement(_i803)&&t.push(_i803);}}catch(err){_iterator718.e(err);}finally{_iterator718.f();}this.selectedElements=[].concat(t);}},{key:"deselectAll",value:function deselectAll(){this.selectedElements=[],this.currentContainer=null,this.selectedTextRange=null;}},{key:"captureVisibleCanvasArea",value:function captureVisibleCanvasArea(){var _this377=this;return new Promise(/*#__PURE__*/function(){var _ref139=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee114(t){var e,i,s,_t1124,_e843,_iterator719,_step719,_i804,_e844,_s428,_i805,_arr40,_t1125,n,_e845,_i806,_s429,_o269,_l237;return regeneratorRuntime.wrap(function _callee114$(_context115){while(1){switch(_context115.prev=_context115.next){case 0:e=_this377["#vector-layer"].getBoundingClientRect(),i=_this377["#vector-layer"].cloneNode();i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("width",e.width+"px"),i.setAttribute("height",e.height+"px");s=_this377["#vector-canvas"].cloneNode();_t1124=$i("svg:g"),_e843=[_this377["#background-rect"]].concat(_toConsumableArray(_this377["#background-outlines"].children),_toConsumableArray(_this377["#foreground-outlines"].children));_iterator719=_createForOfIteratorHelper(_e843);try{for(_iterator719.s();!(_step719=_iterator719.n()).done;){_i804=_step719.value;_e844=getComputedStyle(_i804),_s428=_i804.cloneNode();for(_i805=0,_arr40=["fill","stroke","vector-effect"];_i805<_arr40.length;_i805++){_t1125=_arr40[_i805];_s428.style.setProperty(_t1125,_e844.getPropertyValue(_t1125));}_t1124.append(_s428);}}catch(err){_iterator719.e(err);}finally{_iterator719.f();}s.append(_t1124);s.append(_this377["#workspaces"].cloneNode(!0)),s.querySelector("#whitespace").remove(),i.append(s);n=Wp(i,"xml");_e845=$i("canvas"),_i806=_e845.getContext("2d"),_s429=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),_o269=URL.createObjectURL(_s429),_l237=new Image();_l237.src=_o269,_l237.addEventListener("load",function(){_e845.width=_l237.naturalWidth,_e845.height=_l237.naturalHeight,_i806.fillStyle="rgba(0, 0, 0, 0)",_i806.fillRect(0,0,_l237.naturalWidth,_l237.naturalHeight),_i806.drawImage(_l237,0,0),URL.revokeObjectURL(_o269),t(_i806);});case 11:case"end":return _context115.stop();}}},_callee114);}));return function(_x138){return _ref139.apply(this,arguments);};}());}},{key:"isSelectableElement",value:function isSelectableElement(t){return!1!==y.includes(t.localName)&&t.parentElement!==this["#workspaces"]&&!1!==this.currentWorkspace.contains(t)&&!t.closest("defs")&&(!t.closest("text")||"text"===t.localName);}},{key:"isPointOverBoard",value:function isPointOverBoard(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return(i.getRootNode()!==this._shadowRoot||i===this["#rulers"])&&(i=null),null!==i;}},{key:"isPointOverRuler",value:function isPointOverRuler(t,e){return this._shadowRoot.elementFromPoint(t,e)===this["#rulers"];}}]);return ru;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ru,"_shadowTemplate",Ki(_templateObject212()));_defineProperty(ru,"_shadowStyleSheet",Qi(_templateObject213()));customElements.define("bx-board",ru);var du=/*#__PURE__*/function(_HTMLElement56){_inherits(du,_HTMLElement56);var _super69=_createSuper(du);function du(){_classCallCheck(this,du);return _super69.apply(this,arguments);}_createClass(du,[{key:"connectedCallback",value:function connectedCallback(){if(this.tn=Ri(this,"bx-editor"),!this._shadowRoot){this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,du._shadowStyleSheet],this._shadowRoot.append(document.importNode(du._shadowTemplate.content,!0));var _iterator720=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll("[id]")),_step720;try{for(_iterator720.s();!(_step720=_iterator720.n()).done;){var _t1126=_step720.value;this["#"+_t1126.id]=_t1126;}}catch(err){_iterator720.e(err);}finally{_iterator720.f();}}}},{key:"setArtwork",value:function setArtwork(t){this["#main"].append(t);}},{key:"clear",value:function clear(){this["#main"].innerHTML="";}}]);return du;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(du,"_shadowTemplate",Ki(_templateObject214()));_defineProperty(du,"_shadowStyleSheet",Qi(_templateObject215()));customElements.define("bx-offscreenboard",du);var cu=10;var pu=/*#__PURE__*/function(_HTMLElement57){_inherits(pu,_HTMLElement57);var _super70=_createSuper(pu);_createClass(pu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function pu(){var _this378;_classCallCheck(this,pu);_this378=_super70.call(this),_this378.qc=null,_this378.Xc=null,_this378._shadowRoot=_this378.attachShadow({mode:"closed"}),_this378._shadowRoot.adoptedStyleSheets=[pu._shadowStyleSheet],_this378._shadowRoot.append(document.importNode(pu._shadowTemplate.content,!0));var _iterator721=_createForOfIteratorHelper(_this378._shadowRoot.querySelectorAll("[id]")),_step721;try{for(_iterator721.s();!(_step721=_iterator721.n()).done;){var _t1127=_step721.value;_this378["#"+_t1127.id]=_t1127;}}catch(err){_iterator721.e(err);}finally{_iterator721.f();}_this378.addEventListener("pointerenter",function(){return _this378["#lens"].style.display=null;}),_this378.addEventListener("pointerleave",function(){return _this378["#lens"].style.display="none";}),_this378.addEventListener("pointermove",function(){return _this378.Zc();}),_this378.addEventListener("click",function(t){return _this378.Kc(t);}),_this378.addEventListener("keydown",function(t){return _this378.Tn(t);});return _this378;}_createClass(pu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}},{key:"grab",value:function grab(){var _this379=this;return new Promise(/*#__PURE__*/function(){var _ref140=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee115(t){return regeneratorRuntime.wrap(function _callee115$(_context116){while(1){switch(_context116.prev=_context116.next){case 0:_this379.Xc&&_this379.Xc(null);_context116.prev=1;_this379.Xc=t;_this379.Qc=_this379.Js.currentEditor.board;_this379.Jc=_this379.Qc.getBoundingClientRect();_this379.setAttribute("tabindex","0");_this379.setAttribute("grabbing","");_this379.focus();_context116.next=10;return _this379.Qc.captureVisibleCanvasArea();case 10:_this379.qc=_context116.sent;_this379.tp();_this379.Zc();_context116.next=18;break;case 15:_context116.prev=15;_context116.t0=_context116["catch"](1);console.log("Failed to grab color",_context116.t0),_this379.Xc(null),_this379.Xc=null,_this379.removeAttribute("grabbing");case 18:case"end":return _context116.stop();}}},_callee115,null,[[1,15]]);}));return function(_x139){return _ref140.apply(this,arguments);};}());}},{key:"tp",value:function tp(){if(0===this["#grid"].childElementCount)for(var _t1128=0;_t1128<cu;_t1128+=1){for(var _e846=0;_e846<cu;_e846+=1){var _i807=$i("svg:rect");_i807.setAttribute("width",10),_i807.setAttribute("height",10),_i807.setAttribute("x",11*_e846),_i807.setAttribute("y",11*_t1128),_i807.style.fill="transparent",this["#grid"].append(_i807),4===_e846&&4===_t1128&&_i807.setAttribute("id","center-rect");}}}},{key:"Zc",value:function Zc(){var _this$Js$pointerClien=this.Js.pointerClientPoint,t=_this$Js$pointerClien.x,e=_this$Js$pointerClien.y;if(this["#lens"].style.left=t+15+"px",this["#lens"].style.top=e+15+"px",!1===this.vc())this["#lens"].setAttribute("offscreen","");else if(this["#lens"].removeAttribute("offscreen"),this.qc){var _i808=[],_s430=this.qc.getImageData(t-this.Jc.left-cu/2+1,e-this.Jc.top-cu/2+1,cu,cu);for(var _t1129=0,_e847=_s430.data.length;_t1129<_e847;_t1129+=4){var _e848=_s430.data[_t1129],_n346=_s430.data[_t1129+1],_o270=_s430.data[_t1129+2],_l238=_s430.data[_t1129+3]/255;_i808.push("rgba(".concat(_e848,", ").concat(_n346,", ").concat(_o270,", ").concat(_l238,")"));}for(var _t1130=0;_t1130<_i808.length;_t1130+=1){this["#grid"].children[_t1130].style.fill=_i808[_t1130];}}}},{key:"Tn",value:function Tn(t){"Escape"===t.key&&(this.Xc&&(this.Xc(null),this.Xc=null),this.removeAttribute("grabbing"));}},{key:"Kc",value:function Kc(t){var e=null;if(this.qc&&this.vc()){var _this$Js$pointerClien2=this.Js.pointerClientPoint,_t1131=_this$Js$pointerClien2.x,_i809=_this$Js$pointerClien2.y,_s431=this.qc.getImageData(_t1131-this.Jc.left,_i809-this.Jc.top,1,1),_s431$data=_slicedToArray(_s431.data,4),_n347=_s431$data[0],_o271=_s431$data[1],_l239=_s431$data[2],_a179=_s431$data[3];e="rgba(".concat(_n347,", ").concat(_o271,", ").concat(_l239,", ").concat(_a179/255,")");}this.Xc(e),this.Xc=null,this.removeAttribute("grabbing");}},{key:"vc",value:function vc(){this.style.pointerEvents="none";var _this$Js$pointerClien3=this.Js.pointerClientPoint,t=_this$Js$pointerClien3.x,e=_this$Js$pointerClien3.y,i=this.Qc.isPointOverBoard(t,e);return this.style.pointerEvents=null,i;}}]);return pu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pu,"_shadowTemplate",Ki(_templateObject216()));_defineProperty(pu,"_shadowStyleSheet",Qi(_templateObject217()));customElements.define("bx-colorgrabber",pu);var uu=/*#__PURE__*/function(_HTMLElement58){_inherits(uu,_HTMLElement58);var _super71=_createSuper(uu);function uu(){var _this380;_classCallCheck(this,uu);_this380=_super71.call(this),_this380._shadowRoot=_this380.attachShadow({mode:"closed"}),_this380._shadowRoot.adoptedStyleSheets=[uu._shadowStyleSheet],_this380._shadowRoot.append(document.importNode(uu._shadowTemplate.content,!0));var _iterator722=_createForOfIteratorHelper(_this380._shadowRoot.querySelectorAll("[id]")),_step722;try{for(_iterator722.s();!(_step722=_iterator722.n()).done;){var _t1132=_step722.value;_this380["#"+_t1132.id]=_t1132;}}catch(err){_iterator722.e(err);}finally{_iterator722.f();}return _this380;}return uu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(uu,"_shadowTemplate",Ki(_templateObject218()));_defineProperty(uu,"_shadowStyleSheet",Qi(_templateObject219()));customElements.define("bx-tooltip",uu);var xu=/*#__PURE__*/function(_HTMLElement59){_inherits(xu,_HTMLElement59);var _super72=_createSuper(xu);_createClass(xu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function xu(){var _this381;_classCallCheck(this,xu);_this381=_super72.call(this),_this381.Xc=null,_this381._shadowRoot=_this381.attachShadow({mode:"closed"}),_this381._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,xu._shadowStyleSheet],_this381._shadowRoot.append(document.importNode(xu._shadowTemplate.content,!0));var _iterator723=_createForOfIteratorHelper(_this381._shadowRoot.querySelectorAll("[id]")),_step723;try{for(_iterator723.s();!(_step723=_iterator723.n()).done;){var _t1133=_step723.value;_this381["#"+_t1133.id]=_t1133;}}catch(err){_iterator723.e(err);}finally{_iterator723.f();}_this381.addEventListener("pointerenter",function(){return _this381["#tooltip"].hidden=!1;}),_this381.addEventListener("pointerleave",function(){return _this381["#tooltip"].hidden=!0;}),_this381.addEventListener("pointermove",function(){return _this381.ep();}),_this381.addEventListener("click",function(t){return _this381.Kc(t);}),_this381.addEventListener("keydown",function(t){return _this381.Tn(t);});return _this381;}_createClass(xu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"grab",value:function grab(){var _this382=this;return new Promise(/*#__PURE__*/function(){var _ref141=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee116(t){return regeneratorRuntime.wrap(function _callee116$(_context117){while(1){switch(_context117.prev=_context117.next){case 0:_this382.Xc&&_this382.Xc(null);_this382.Xc=t;_this382.setAttribute("tabindex","0");_this382.setAttribute("grabbing","");_this382.ep();_this382.focus();_context117.next=8;return ss(200);case 8:_this382.focus();case 9:case"end":return _context117.stop();}}},_callee116);}));return function(_x140){return _ref141.apply(this,arguments);};}());}},{key:"ep",value:function ep(){if(this.ip())this["#tooltip"].hidden=!0;else{var _this$Js$pointerClien4=this.Js.pointerClientPoint,_t1134=_this$Js$pointerClien4.x,_e849=_this$Js$pointerClien4.y;this["#tooltip"].hidden=!1,this["#tooltip"].style.left=_t1134+15+"px",this["#tooltip"].style.top=_e849+15+"px";}}},{key:"Tn",value:function Tn(t){"Escape"===t.key&&this.Xc&&(t.preventDefault(),this.Xc(null),this.Xc=null,this.removeAttribute("grabbing"));}},{key:"Kc",value:function Kc(t){var e=this.ip();this.Xc(e),this.Xc=null,this.removeAttribute("grabbing");}},{key:"ip",value:function ip(){this.style.pointerEvents="none";var _this$Js$pointerClien5=this.Js.pointerClientPoint,t=_this$Js$pointerClien5.x,e=_this$Js$pointerClien5.y,i=this.tn.board.getWorkspaceElementFromPoint(t,e);return this.style.pointerEvents=null,i;}}]);return xu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xu,"_shadowTemplate",Ki(_templateObject220()));_defineProperty(xu,"_shadowStyleSheet",Qi(_templateObject221()));customElements.define("bx-objectgrabber",xu);var bu=Symbol();var mu=/*#__PURE__*/function(_HTMLElement60){_inherits(mu,_HTMLElement60);var _super73=_createSuper(mu);_createClass(mu,[{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function mu(){var _this383;_classCallCheck(this,mu);_this383=_super73.call(this),_this383.$r=!1,_this383.sp=es(_this383.Xs,80,_assertThisInitialized(_this383)),_this383.np=es(_this383.Xs,1e3,_assertThisInitialized(_this383)),_this383._shadowRoot=_this383.attachShadow({mode:"closed"}),_this383._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,mu._shadowStyleSheet],_this383._shadowRoot.append(document.importNode(mu._shadowTemplate.content,!0));var _iterator724=_createForOfIteratorHelper(_this383._shadowRoot.querySelectorAll("[id]")),_step724;try{for(_iterator724.s();!(_step724=_iterator724.n()).done;){var _t1135=_step724.value;_this383["#"+_t1135.id]=_t1135;}}catch(err){_iterator724.e(err);}finally{_iterator724.f();}_this383["#items"].addEventListener("pointerdown",function(t){return _this383.op(t);}),_this383["#items"].addEventListener("click",function(t){return _this383.lp(t);}),_this383["#items"].addEventListener("contextmenu",function(t){return _this383.ap(t);}),_this383["#items"].addEventListener("keydown",function(t){return _this383.hp(t);});return _this383;}_createClass(mu,[{key:"connectedCallback",value:function connectedCallback(){var _this384=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.un=this.tn.board,this.$r=this.Js.getConfig("bx-editorbreadcrumb:showIds",!1),this.Xs(),this.rp(),Gs.addEventListener("sizechange",this.dp=function(){return _this384.rp();}),this.Js.addEventListener("configchange",this.ln=function(t){_this384.an(t);}),this.un.addEventListener("selectedelementschange",this.al=function(){_this384.sp();}),this.un.addEventListener("currentcontainerchange",this.cp=function(){_this384.sp();}),this.un.addEventListener("workspacemutation",this.rn=function(t){_this384.np();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.dp),this.Js.removeEventListener("configchange",this.ln),this.un.removeEventListener("selectedelementschange",this.al),this.un.removeEventListener("currentcontainerchange",this.cp),this.un.removeEventListener("workspacemutation",this.rn);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.rp();}},{key:"an",value:function an(t){var _t$detail7=t.detail,e=_t$detail7.key,i=_t$detail7.value;"bx-editorbreadcrumb:showIds"===e&&(this.$r=this.Js.getConfig("bx-editorbreadcrumb:showIds",!1),this.Xs());}},{key:"op",value:function op(t){t.target.closest(".item")&&t.preventDefault();}},{key:"lp",value:function lp(t){var e=this.tn.board,i=t.target.closest(".item");if(i){var _t1136=i[bu];_t1136===e.currentWorkspace?(e.currentContainer=null,e.selectedElements=[]):_t1136===e.masterWorkspace?("symbol"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editSymbolEnd():"pattern"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editPatternEnd():"marker"===e.currentWorkspace.getAttribute("data-bx-workspace")&&e.editMarkerEnd(),e.currentContainer=null,e.selectedElements=[]):(_t1136.parentElement===e.currentWorkspace?e.currentContainer=null:e.currentContainer=_t1136.parentElement,e.selectedElements=[_t1136]);}}},{key:"ap",value:function(){var _ap=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee117(t){return regeneratorRuntime.wrap(function _callee117$(_context118){while(1){switch(_context118.prev=_context118.next){case 0:t.preventDefault();_context118.next=3;return this.Js.openContextMenu([{label:"Show IDs",value:"show-ids",disabled:!1,toggled:this.$r}]);case 3:_context118.t0=_context118.sent;_context118.t1="show-ids"===_context118.t0;if(!_context118.t1){_context118.next=7;break;}this.Js.setConfig("bx-editorbreadcrumb:showIds",!this.$r),this.Xs();case 7:case"end":return _context118.stop();}}},_callee117,this);}));function ap(_x141){return _ap.apply(this,arguments);}return ap;}()},{key:"hp",value:function hp(t){var e=this["#items"].querySelector(":focus");e&&("Enter"!==t.code&&"Space"!==t.code||e.click());}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=[],i=null;if(e.push(t.masterWorkspace),t.currentWorkspace!==t.masterWorkspace&&e.push(t.currentWorkspace),t.currentContainer){var _i810=[];for(var _e850=t.currentContainer;_e850!==t.currentWorkspace;_e850=_e850.parentElement){_i810.unshift(_e850);}e=[].concat(_toConsumableArray(e),_i810);}t.selectedElements.length>0?(e.push(t.selectedElements[0]),i=t.selectedElements[0]):t.currentContainer||(i=t.currentWorkspace),this["#items"].innerHTML="";var _iterator725=_createForOfIteratorHelper(e),_step725;try{for(_iterator725.s();!(_step725=_iterator725.n()).done;){var _t1137=_step725.value;var _e851=V(_t1137),_s432=H(_t1137),_n348=_t1137.querySelector(":scope > bx-title"),_o272=Hi(_t1137),_l240="";this.$r?_t1137.id?_l240="#"+_t1137.id:(_l240=Vi(_t1137,"developer"),_l240=di(_l240)):(_l240=_n348?_n348.textContent:Vi(_t1137),_e851&&_s432?_l240+=" (clipped, masked)":_e851?_l240+=" (clipped)":_s432&&(_l240+=" (masked)"));var _a180=Ki(_templateObject17(),_o272,_l240);i===_t1137?(_a180.setAttribute("data-selected",""),_a180.setAttribute("part","toggled-item")):_a180.setAttribute("tabindex","0"),_a180[bu]=_t1137,this["#items"].append(_a180);}}catch(err){_iterator725.e(err);}finally{_iterator725.f();}this["#items"].firstElementChild.part.add("first-item"),this["#items"].lastElementChild.part.add("last-item");}},{key:"rp",value:function rp(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return mu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mu,"observedAttributes",["size"]);_defineProperty(mu,"_shadowTemplate",Ki(_templateObject222()));_defineProperty(mu,"_shadowStyleSheet",Qi(_templateObject223()));customElements.define("bx-editorbreadcrumb",mu);var gu=/*#__PURE__*/function(_zh4){_inherits(gu,_zh4);var _super74=_createSuper(gu);function gu(){var _this385;_classCallCheck(this,gu);_this385=_super74.call(this),_this385["#selection-mode-buttons"].addEventListener("toggle",function(){_this385.pp();}),_this385["#selection-shape-buttons"].addEventListener("toggle",function(){_this385.up();}),_this385["#preserve-stroke-width-checkbox"].addEventListener("toggle",function(){_this385.xp();}),_this385["#preserve-rect-radii-checkbox"].addEventListener("toggle",function(){_this385.bp();}),_this385["#preserve-rotation-checkbox"].addEventListener("toggle",function(){_this385.mp();}),_this385["#preserve-aspect-ratio-checkbox"].addEventListener("toggle",function(){_this385.gp();});return _this385;}_createClass(gu,[{key:"en",value:function en(){var t=this.Js.getConfig("bx-transformsettings:selectionMode","contain"),e=this.Js.getConfig("bx-transformsettings:selectionShape","rect"),i=this.Js.getConfig("bx-transformsettings:preserveStrokeWidth",!0),s=this.Js.getConfig("bx-transformsettings:preserveRectRadii",!0),n=this.Js.getConfig("bx-transformsettings:preserveRotation",!0),o=this.Js.getConfig("bx-transformsettings:preserveAspectRatio",!1);"rect-contain"===t&&(t="contain"),this["#selection-mode-buttons"].value=t,this["#selection-shape-buttons"].value=e,this["#preserve-stroke-width-checkbox"].toggled=i,this["#preserve-rect-radii-checkbox"].toggled=s,this["#preserve-rotation-checkbox"].toggled=n,this["#preserve-aspect-ratio-checkbox"].toggled=o;}},{key:"pp",value:function pp(){var t=this["#selection-mode-buttons"].value;this.Js.setConfig("bx-transformsettings:selectionMode",t);}},{key:"up",value:function up(){var t=this["#selection-shape-buttons"].value;this.Js.setConfig("bx-transformsettings:selectionShape",t);}},{key:"xp",value:function xp(){var t=this["#preserve-stroke-width-checkbox"].toggled;this.Js.setConfig("bx-transformsettings:preserveStrokeWidth",t);}},{key:"bp",value:function bp(){var t=this["#preserve-rect-radii-checkbox"].toggled;this.Js.setConfig("bx-transformsettings:preserveRectRadii",t);}},{key:"mp",value:function mp(){var t=this["#preserve-rotation-checkbox"].toggled;this.Js.setConfig("bx-transformsettings:preserveRotation",t);}},{key:"gp",value:function gp(){var t=this["#preserve-aspect-ratio-checkbox"].toggled;this.Js.setConfig("bx-transformsettings:preserveAspectRatio",t);}}]);return gu;}(zh);_defineProperty(gu,"_shadowTemplate",Ki(_templateObject224()));_defineProperty(gu,"_shadowStyleSheet",Qi(_templateObject225()));customElements.define("bx-transformsettings",gu);var fu=/*#__PURE__*/function(_zh5){_inherits(fu,_zh5);var _super75=_createSuper(fu);function fu(){var _this386;_classCallCheck(this,fu);_this386=_super75.call(this),_this386["#selection-shape-buttons"].addEventListener("toggle",function(){return _this386.up();});return _this386;}_createClass(fu,[{key:"en",value:function en(){this["#selection-shape-buttons"].value=this.Js.getConfig("bx-editsettings:selectionShape","rect");}},{key:"up",value:function up(){this.Js.setConfig("bx-editsettings:selectionShape",this["#selection-shape-buttons"].value);}}]);return fu;}(zh);_defineProperty(fu,"_shadowTemplate",Ki(_templateObject226()));_defineProperty(fu,"_shadowStyleSheet",Qi(_templateObject227()));customElements.define("bx-editsettings",fu);var wu=/*#__PURE__*/function(_zh6){_inherits(wu,_zh6);var _super76=_createSuper(wu);function wu(){var _this387;_classCallCheck(this,wu);_this387=_super76.call(this),_this387["#primary-spline-buttons"].addEventListener("toggle",function(){return _this387.fp();}),_this387["#secondary-spline-buttons"].addEventListener("toggle",function(){return _this387.wp();}),_this387["#draw-line-spline-as-radios"].addEventListener("toggle",function(){return _this387.vp();}),_this387["#draw-basis-spline-as-radios"].addEventListener("toggle",function(){return _this387.yp();}),_this387["#draw-catmull-spline-as-radios"].addEventListener("toggle",function(){return _this387.kp();}),_this387["#draw-spiro-spline-as-radios"].addEventListener("toggle",function(){return _this387.Sp();}),_this387["#view-path-nodes-checkbox"].addEventListener("toggle",function(){return _this387.Cp();}),_this387["#style-picker"].addEventListener("change",function(){return _this387.fo();});return _this387;}_createClass(wu,[{key:"en",value:function en(){var t=this.Js.getConfig("bx-splinesettings:spline","cubicBezier"),e=this.Js.getConfig("bx-splinesettings:drawLineSplineAs","line,polyline,polygon"),i=this.Js.getConfig("bx-splinesettings:drawBasisSplineAs","basis"),s=this.Js.getConfig("bx-splinesettings:drawCatmullSplineAs","catmull"),n=this.Js.getConfig("bx-splinesettings:drawSpiroSplineAs","spiro"),o=this.Js.getConfig("bx-splinesettings:viewPathNodes",!0),l=this.Js.getConfig("bx-splinesettings:style");this["#primary-spline-buttons"].value=t,this["#draw-line-spline-as-radios"].value=e,this["#draw-basis-spline-as-radios"].value=i,this["#draw-catmull-spline-as-radios"].value=s,this["#draw-spiro-spline-as-radios"].value=n,this["#view-path-nodes-checkbox"].toggled=o,this["#style-picker"].value=l,this._p();}},{key:"fp",value:function fp(){this["#secondary-spline-buttons"].value=null,this.Js.setConfig("bx-splinesettings:spline",this["#primary-spline-buttons"].value),this._p();}},{key:"wp",value:function wp(){this["#primary-spline-buttons"].value=null,this.Js.setConfig("bx-splinesettings:spline",this["#secondary-spline-buttons"].value),this._p();}},{key:"vp",value:function vp(){this.Js.setConfig("bx-splinesettings:drawLineSplineAs",this["#draw-line-spline-as-radios"].value);}},{key:"yp",value:function yp(){this.Js.setConfig("bx-splinesettings:drawBasisSplineAs",this["#draw-basis-spline-as-radios"].value);}},{key:"kp",value:function kp(){this.Js.setConfig("bx-splinesettings:drawCatmullSplineAs",this["#draw-catmull-spline-as-radios"].value);}},{key:"Sp",value:function Sp(){this.Js.setConfig("bx-splinesettings:drawSpiroSplineAs",this["#draw-spiro-spline-as-radios"].value);}},{key:"Cp",value:function Cp(){this.Js.setConfig("bx-splinesettings:viewPathNodes",this["#view-path-nodes-checkbox"].toggled);}},{key:"fo",value:function fo(){this.Js.setConfig("bx-splinesettings:style",this["#style-picker"].value);}},{key:"_p",value:function _p(){var t=this["#primary-spline-buttons"].value||this["#secondary-spline-buttons"].value;this["#draw-as-section"].hidden=!1===["line","basis","catmull","spiro"].includes(t),this["#draw-line-spline-as-radios"].hidden="line"!==t,this["#draw-basis-spline-as-radios"].hidden="basis"!==t,this["#draw-catmull-spline-as-radios"].hidden="catmull"!==t,this["#draw-spiro-spline-as-radios"].hidden="spiro"!==t;}}]);return wu;}(zh);_defineProperty(wu,"_shadowTemplate",Ki(_templateObject228()));_defineProperty(wu,"_shadowStyleSheet",Qi(_templateObject229()));customElements.define("bx-splinesettings",wu);var vu=/*#__PURE__*/function(_zh7){_inherits(vu,_zh7);var _super77=_createSuper(vu);function vu(){var _this388;_classCallCheck(this,vu);_this388=_super77.call(this),_this388["#view-path-nodes-checkbox"].addEventListener("toggle",function(){return _this388.Cp();}),_this388["#smoothing-slider"].addEventListener("change",function(){return _this388.Mp();}),_this388["#smoothing-input"].addEventListener("change",function(){return _this388.Pp();}),_this388["#style-picker"].addEventListener("change",function(){return _this388.fo();});return _this388;}_createClass(vu,[{key:"en",value:function en(){var t=this.Js.getConfig("bx-freehandsettings:viewPathNodes",!0),e=this.Js.getConfig("bx-freehandsettings:smoothing",.5),i=this.Js.getConfig("bx-freehandsettings:style");this["#view-path-nodes-checkbox"].toggled=t,this["#smoothing-slider"].value=e,this["#smoothing-input"].value=e,this["#style-picker"].value=i;}},{key:"Cp",value:function Cp(){this.Js.setConfig("bx-freehandsettings:viewPathNodes",this["#view-path-nodes-checkbox"].toggled);}},{key:"Mp",value:function Mp(){this["#smoothing-input"].value=this["#smoothing-slider"].value,this.Js.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"Pp",value:function Pp(){this["#smoothing-slider"].value=this["#smoothing-input"].value,this.Js.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"fo",value:function fo(){this.Js.setConfig("bx-freehandsettings:style",this["#style-picker"].value);}}]);return vu;}(zh);_defineProperty(vu,"_shadowTemplate",Ki(_templateObject230()));_defineProperty(vu,"_shadowStyleSheet",Qi(_templateObject231()));customElements.define("bx-freehandsettings",vu);var yu=/*#__PURE__*/function(_zh8){_inherits(yu,_zh8);var _super78=_createSuper(yu);function yu(){var _this389;_classCallCheck(this,yu);_this389=_super78.call(this),_this389["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this389.Dp();}),_this389["#r-grippie"].addEventListener("pointerdown",function(t){return _this389._l(t);}),_this389["#r-box"].addEventListener("changestart",function(t){return _this389.zp(t);}),_this389["#style-picker"].addEventListener("change",function(){return _this389.fo();});return _this389;}_createClass(yu,[{key:"en",value:function en(){this.wo=this.Js.getConfig("bx-rectsettings:drawingMode","planar"),this.fh=this.Js.getConfig("bx-rectsettings:r",0),this.Co=this.Js.getConfig("bx-rectsettings:style"),this.Op(),this.Ep(),this.Tp();}},{key:"Dp",value:function Dp(){this.Js.setConfig("bx-rectsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"_l",value:function _l(t){var _this390=this;var e,_i811,s=Yt(this["#preview-shape"]).inverse();this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s).x-_this390["#preview-shape"].x.baseVal.value;_this390.fh=tt(n,0,30,0),_this390.Ep();}),this["#preview"].addEventListener("lostpointercapture",_i811=function i(){_this390["#preview"].removeEventListener("pointermove",e),_this390["#preview"].removeEventListener("lostpointercapture",_i811),_this390.Js.setConfig("bx-rectsettings:r",_this390.fh);});}},{key:"zp",value:function zp(){var _this391=this;var t,_e852;this["#r-box"].addEventListener("change",t=function t(_t1138){_this391.fh=tt(_t1138.target.value,0,Infinity,0),_this391.Ep();}),this["#r-box"].addEventListener("changeend",_e852=function e(){_this391["#r-box"].removeEventListener("change",t),_this391["#r-box"].removeEventListener("changeend",_e852),_this391.Js.setConfig("bx-rectsettings:r",_this391.fh);});}},{key:"fo",value:function fo(){this.Js.setConfig("bx-rectsettings:style",this["#style-picker"].value);}},{key:"Op",value:function Op(){this["#drawing-mode-buttons"].value=this.wo;}},{key:"Ep",value:function Ep(){this.Ap(),this.$p();}},{key:"Ap",value:function Ap(){var t=this["#preview"].viewBox.baseVal.height-10,e=t,i=this["#preview"].viewBox.baseVal.width/2-e/2,s=tt(this.fh,0,30,0);this["#preview-shape"].x.baseVal.value=i,this["#preview-shape"].y.baseVal.value=5,this["#preview-shape"].width.baseVal.value=e,this["#preview-shape"].height.baseVal.value=t,this["#preview-shape"].rx.baseVal.value=s,this["#preview-shape"].ry.baseVal.value=s,this["#r-grippie"].setAttribute("cx",i+s),this["#r-grippie"].setAttribute("cy",5);}},{key:"$p",value:function $p(){this["#r-slider"].value=this.fh,this["#r-input"].value=this.fh;}},{key:"Tp",value:function Tp(){this["#style-picker"].value=this.Co;}}]);return yu;}(zh);_defineProperty(yu,"_shadowTemplate",Ki(_templateObject232()));_defineProperty(yu,"_shadowStyleSheet",Qi(_templateObject233()));customElements.define("bx-rectsettings",yu);var ku=/*#__PURE__*/function(_zh9){_inherits(ku,_zh9);var _super79=_createSuper(ku);function ku(){var _this392;_classCallCheck(this,ku);_this392=_super79.call(this),_this392["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this392.Dp();}),_this392["#draw-as-radios"].addEventListener("toggle",function(){return _this392.Ip();}),_this392["#style-picker"].addEventListener("change",function(){return _this392.fo();});return _this392;}_createClass(ku,[{key:"en",value:function en(){this.Lp(),this.Tp();}},{key:"Dp",value:function Dp(){this.Js.setConfig("bx-ellipsesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Ip",value:function Ip(){this.Js.setConfig("bx-ellipsesettings:drawAs",this["#draw-as-radios"].value);}},{key:"fo",value:function fo(){this.Js.setConfig("bx-ellipsesettings:style",this["#style-picker"].value);}},{key:"Lp",value:function Lp(){this["#drawing-mode-buttons"].value=this.Js.getConfig("bx-ellipsesettings:drawingMode","planar"),this["#draw-as-radios"].value=this.Js.getConfig("bx-ellipsesettings:drawAs","ellipse");}},{key:"Tp",value:function Tp(){this["#style-picker"].value=this.Js.getConfig("bx-ellipsesettings:style");}}]);return ku;}(zh);_defineProperty(ku,"_shadowTemplate",Ki(_templateObject234()));_defineProperty(ku,"_shadowStyleSheet",Qi(_templateObject235()));customElements.define("bx-ellipsesettings",ku);var Su=Math.abs;var Cu=/*#__PURE__*/function(_HTMLElement61){_inherits(Cu,_HTMLElement61);var _super80=_createSuper(Cu);function Cu(){var _this393;_classCallCheck(this,Cu);_this393=_super80.call(this),_this393._shadowRoot=_this393.attachShadow({mode:"closed"}),_this393._shadowRoot.append(document.importNode(_this393.constructor._shadowTemplate.content,!0)),_this393._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this393.constructor._shadowStyleSheet],_this393.setAttribute("exportparts","preview");var _iterator726=_createForOfIteratorHelper(_this393._shadowRoot.querySelectorAll("[id]")),_step726;try{for(_iterator726.s();!(_step726=_iterator726.n()).done;){var _t1139=_step726.value;_this393["#"+_t1139.id]=_t1139;}}catch(err){_iterator726.e(err);}finally{_iterator726.f();}_this393["#shift-grippie"].addEventListener("pointerdown",function(t){return _this393.$l(t);}),_this393["#corner-grippie"].addEventListener("pointerdown",function(t){return _this393.Il(t);}),_this393["#shift-box"].addEventListener("changestart",function(t){return _this393.Bp(t);}),_this393["#corner-box"].addEventListener("changestart",function(t){return _this393.Rp(t);});return _this393;}_createClass(Cu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.Nn=this.Js.getConfig("bx-trianglesettings:shift",.5),this.Gp=this.Js.getConfig("bx-trianglesettings:corner",0),this.Xs();}},{key:"$l",value:function $l(t){var _this394=this;var e,_i812,s=rl(this["#preview-shape"]),n=Yt(this["#preview-shape"]).inverse(),_s$values=_slicedToArray(s.values,6),o=_s$values[0],l=_s$values[1],a=_s$values[2],h=_s$values[3],r=_s$values[4],d=_s$values[5],c=new DOMPoint(o,l),p=new DOMPoint(o+a,l);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_Ae45=Ae(c,p,e,!1),_Ae46=_slicedToArray(_Ae45,1),i=_Ae46[0];r=(i.x-c.x)/a,r=tt(r,0,1,4),_this394.Js.modKeys.shift&&(r=[0,.5,1].reduce(function(t,e){return Su(e-r)<Su(t-r)?e:t;})),_this394.Nn=r,_this394.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i812=function i(){_this394["#preview"].removeEventListener("pointermove",e),_this394["#preview"].removeEventListener("lostpointercapture",_i812),_this394.Js.setConfig("bx-trianglesettings:shift",_this394.Nn);});}},{key:"Il",value:function Il(t){var _this395=this;var e,_i813,s=rl(this["#preview-shape"]),n=Yt(this["#preview-shape"]).inverse(),_s$values2=_slicedToArray(s.values,6),o=_s$values2[0],l=_s$values2[1],a=_s$values2[2],h=_s$values2[3],r=_s$values2[4],d=_s$values2[5],c=new DOMPoint(o+a*r,l),p=new DOMPoint(o+a,l+h),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),x=new DOMPoint(u.x,u.y);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(n);var _Ae47=Ae(p,c,x,!1),_Ae48=_slicedToArray(_Ae47,1),i=_Ae48[0],s=new Q(p,i),o=new Q(p,c),l=s.length/o.length;_this395.Gp=tt(l,0,.5,4),_this395.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i813=function i(){_this395["#preview"].removeEventListener("pointermove",e),_this395["#preview"].removeEventListener("lostpointercapture",_i813),_this395.Js.setConfig("bx-trianglesettings:corner",_this395.Gp);});}},{key:"Bp",value:function Bp(){var _this396=this;var t,_e853;this["#shift-box"].addEventListener("change",t=function t(_t1140){_this396.Nn=tt((_t1140.target.value+50)/100,0,1,2),_this396.Xs();}),this["#shift-box"].addEventListener("changeend",_e853=function e(){_this396["#shift-box"].removeEventListener("change",t),_this396["#shift-box"].removeEventListener("changeend",_e853),_this396.Js.setConfig("bx-trianglesettings:shift",_this396.Nn);});}},{key:"Rp",value:function Rp(){var _this397=this;var t,_e854;this["#corner-box"].addEventListener("change",t=function t(_t1141){_this397.Gp=tt(_t1141.target.value/200,0,1,2),_this397.Xs();}),this["#corner-box"].addEventListener("changeend",_e854=function e(){_this397["#corner-box"].removeEventListener("change",t),_this397["#corner-box"].removeEventListener("changeend",_e854),_this397.Js.setConfig("bx-trianglesettings:corner",_this397.Gp);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.height-10,e=t,i=this["#preview"].viewBox.baseVal.width/2-e/2,s=this.Nn,n=this.Gp;dl(this["#preview-shape"],{type:"triangle",values:[i,5,e,t,s,n]});{var _o273=new DOMPoint(i+e*s,5),_l241=new DOMPoint(i+e,5+t),_a181=$e(_l241,_o273,n);this["#corner-grippie"].cx.baseVal.value=_a181.x,this["#corner-grippie"].cy.baseVal.value=_a181.y;}{var _t1142=new DOMPoint(i+e*s,5);this["#shift-grippie"].setAttribute("cx",_t1142.x),this["#shift-grippie"].setAttribute("cy",_t1142.y);}}},{key:"Fp",value:function Fp(){var t=tt(200*this.Gp,0,100,0),e=tt(100*(this.Nn-.5),-50,50,0);this["#corner-slider"].value=t,this["#corner-input"].value=t,this["#shift-slider"].value=e,this["#shift-input"].value=e;}}]);return Cu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cu,"_shadowTemplate",Ki(_templateObject236()));_defineProperty(Cu,"_shadowStyleSheet",Qi(_templateObject237()));customElements.define("bx-trianglesettings",Cu);var _u=/*#__PURE__*/function(_HTMLElement62){_inherits(_u,_HTMLElement62);var _super81=_createSuper(_u);function _u(){var _this398;_classCallCheck(this,_u);_this398=_super81.call(this),_this398._shadowRoot=_this398.attachShadow({mode:"closed"}),_this398._shadowRoot.append(document.importNode(_this398.constructor._shadowTemplate.content,!0)),_this398._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this398.constructor._shadowStyleSheet],_this398.setAttribute("exportparts","preview");var _iterator727=_createForOfIteratorHelper(_this398._shadowRoot.querySelectorAll("[id]")),_step727;try{for(_iterator727.s();!(_step727=_iterator727.n()).done;){var _t1143=_step727.value;_this398["#"+_t1143.id]=_t1143;}}catch(err){_iterator727.e(err);}finally{_iterator727.f();}_this398["#corner-grippie"].addEventListener("pointerdown",function(t){return _this398.Il(t);}),_this398["#arms-box"].addEventListener("changestart",function(t){return _this398.Np(t);}),_this398["#corner-box"].addEventListener("changestart",function(t){return _this398.Rp(t);});return _this398;}_createClass(_u,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.wo=this.Js.getConfig("bx-ngonsettings:drawingMode","polar"),this.jp=this.Js.getConfig("bx-ngonsettings:arms",5),this.Gp=this.Js.getConfig("bx-ngonsettings:corner",0),this.Xs();}},{key:"Il",value:function Il(t){var _this399=this;var e,_i814,s=rl(this["#preview-shape"]),n=Yt(this["#preview-shape"]).inverse(),_s$values3=_slicedToArray(s.values,6),o=_s$values3[0],l=_s$values3[1],a=_s$values3[2],h=_s$values3[3],r=_s$values3[4],d=_s$values3[5],c=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),p=new DOMPoint(c.x,c.y),u=Cl(0,o,l,a,h,r),x=Cl(1,o,l,a,h,r);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);p=e.matrixTransform(n);var _Ae49=Ae(u,x,p,!1),_Ae50=_slicedToArray(_Ae49,1),i=_Ae50[0],s=new Q(u,i),o=new Q(u,x),l=s.length/o.length;_this399.Gp=tt(l,0,.5,2),_this399.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i814=function i(){_this399["#preview"].removeEventListener("pointermove",e),_this399["#preview"].removeEventListener("lostpointercapture",_i814),_this399.Js.setConfig("bx-ngonsettings:corner",_this399.Gp);});}},{key:"Np",value:function Np(){var _this400=this;var t,_e855;this["#arms-box"].addEventListener("change",t=function t(_t1144){_this400.jp=tt(_t1144.target.value,4,Infinity,0),_this400.Xs();}),this["#arms-box"].addEventListener("changeend",_e855=function e(){_this400["#arms-box"].removeEventListener("change",t),_this400["#arms-box"].removeEventListener("changeend",_e855),_this400.Js.setConfig("bx-ngonsettings:arms",_this400.jp);});}},{key:"Rp",value:function Rp(){var _this401=this;var t,_e856;this["#corner-box"].addEventListener("change",t=function t(_t1145){_this401.Gp=tt(_t1145.target.value/200,0,1,2),_this401.Xs();}),this["#corner-box"].addEventListener("changeend",_e856=function e(){_this401["#corner-box"].removeEventListener("change",t),_this401["#corner-box"].removeEventListener("changeend",_e856),_this401.Js.setConfig("bx-ngonsettings:corner",_this401.Gp);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width/2,e=this["#preview"].viewBox.baseVal.height/2,i=(this["#preview"].viewBox.baseVal.height-10)/2,s=i;dl(this["#preview-shape"],{type:"n-gon",values:[t,e,i,s,this.jp,this.Gp]});{var _n349=Cl(0,t,e,i,s,this.jp),_o274=Cl(1,t,e,i,s,this.jp),_l242=$e(_n349,_o274,this.Gp);this["#corner-grippie"].cx.baseVal.value=_l242.x,this["#corner-grippie"].cy.baseVal.value=_l242.y;}}},{key:"Fp",value:function Fp(){var t=J(200*this.Gp,0);this["#arms-slider"].value=this.jp,this["#arms-input"].value=this.jp,this["#corner-slider"].value=t,this["#corner-input"].value=t;}}]);return _u;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_u,"_shadowTemplate",Ki(_templateObject238()));_defineProperty(_u,"_shadowStyleSheet",Qi(_templateObject239()));customElements.define("bx-ngonsettings",_u);var Mu=Math.sin,Pu=Math.cos,Du=Math.PI;var zu=/*#__PURE__*/function(_HTMLElement63){_inherits(zu,_HTMLElement63);var _super82=_createSuper(zu);function zu(){var _this402;_classCallCheck(this,zu);_this402=_super82.call(this),_this402._shadowRoot=_this402.attachShadow({mode:"closed"}),_this402._shadowRoot.append(document.importNode(_this402.constructor._shadowTemplate.content,!0)),_this402._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this402.constructor._shadowStyleSheet],_this402.setAttribute("exportparts","preview");var _iterator728=_createForOfIteratorHelper(_this402._shadowRoot.querySelectorAll("[id]")),_step728;try{for(_iterator728.s();!(_step728=_iterator728.n()).done;){var _t1146=_step728.value;_this402["#"+_t1146.id]=_t1146;}}catch(err){_iterator728.e(err);}finally{_iterator728.f();}_this402["#depth-grippie"].addEventListener("pointerdown",function(t){return _this402.Fl(t);}),_this402["#depth-box"].addEventListener("changestart",function(t){return _this402.Vp(t);}),_this402["#arms-box"].addEventListener("changestart",function(t){return _this402.Np(t);});return _this402;}_createClass(zu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.Hp=this.Js.getConfig("bx-starsettings:depth",.4),this.jp=this.Js.getConfig("bx-starsettings:arms",5),this.Xs();}},{key:"Fl",value:function Fl(t){var _this403=this;var e,_i815,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values3=_slicedToArray(n.values,6),o=_n$values3[0],l=_n$values3[1],a=_n$values3[2],h=_n$values3[3],r=_n$values3[4],d=_n$values3[5],c=new DOMPoint(o,l);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=2*Du*(1/d/2)-Du/2,n=c,r=new DOMPoint(a*Pu(i)+o,h*Mu(i)+l),_Ae51=Ae(n,r,e,!1),_Ae52=_slicedToArray(_Ae51,1),p=_Ae52[0],u=new Q(n,p).length/new Q(n,r).length;_this403.Hp=tt(u,0,1,2),_this403.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i815=function i(){_this403["#preview"].removeEventListener("pointermove",e),_this403["#preview"].removeEventListener("lostpointercapture",_i815),_this403.Js.setConfig("bx-starsettings:depth",_this403.Hp);});}},{key:"Vp",value:function Vp(){var _this404=this;var t,_e857;this["#depth-box"].addEventListener("change",t=function t(_t1147){_this404.Hp=tt(_t1147.target.value/100,0,1,2),_this404.Xs();}),this["#depth-box"].addEventListener("changeend",_e857=function e(){_this404["#depth-box"].removeEventListener("change",t),_this404["#depth-box"].removeEventListener("changeend",_e857),_this404.Js.setConfig("bx-starsettings:depth",_this404.Hp);});}},{key:"Np",value:function Np(){var _this405=this;var t,_e858;this["#arms-box"].addEventListener("change",t=function t(_t1148){_this405.jp=tt(_t1148.target.value,4,Infinity,0),_this405.Xs();}),this["#arms-box"].addEventListener("changeend",_e858=function e(){_this405["#arms-box"].removeEventListener("change",t),_this405["#arms-box"].removeEventListener("changeend",_e858),_this405.Js.setConfig("bx-starsettings:arms",_this405.jp);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width/2,e=this["#preview"].viewBox.baseVal.height/2,i=(this["#preview"].viewBox.baseVal.height-10)/2,s=i,n=_l(1,t,e,i,s,this.Hp,this.jp);dl(this["#preview-shape"],{type:"star",values:[t,e,i,s,this.Hp,this.jp]}),this["#depth-grippie"].cx.baseVal.value=n.x,this["#depth-grippie"].cy.baseVal.value=n.y;}},{key:"Fp",value:function Fp(){var t=J(100*this.Hp,0);this["#depth-slider"].value=t,this["#depth-input"].value=t,this["#arms-slider"].value=this.jp,this["#arms-input"].value=this.jp;}}]);return zu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zu,"_shadowTemplate",Ki(_templateObject240()));_defineProperty(zu,"_shadowStyleSheet",Qi(_templateObject241()));customElements.define("bx-starsettings",zu);var Ou=Math.min,Eu=Math.abs;var Tu=/*#__PURE__*/function(_HTMLElement64){_inherits(Tu,_HTMLElement64);var _super83=_createSuper(Tu);function Tu(){var _this406;_classCallCheck(this,Tu);_this406=_super83.call(this),_this406._shadowRoot=_this406.attachShadow({mode:"closed"}),_this406._shadowRoot.append(document.importNode(_this406.constructor._shadowTemplate.content,!0)),_this406._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this406.constructor._shadowStyleSheet],_this406.setAttribute("exportparts","preview");var _iterator729=_createForOfIteratorHelper(_this406._shadowRoot.querySelectorAll("[id]")),_step729;try{for(_iterator729.s();!(_step729=_iterator729.n()).done;){var _t1149=_step729.value;_this406["#"+_t1149.id]=_t1149;}}catch(err){_iterator729.e(err);}finally{_iterator729.f();}_this406["#thickness-grippie"].addEventListener("pointerdown",function(t){return _this406.Wp(t);}),_this406["#shift-grippie"].addEventListener("pointerdown",function(t){return _this406.$l(t);}),_this406["#thickness-box"].addEventListener("changestart",function(){return _this406.Yp();}),_this406["#shift-box"].addEventListener("changestart",function(){return _this406.Bp();});return _this406;}_createClass(Tu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.qp=this.Js.getConfig("bx-crosssettings:thickness",.2),this.Nn=this.Js.getConfig("bx-crosssettings:shift",.5),this.Xs();}},{key:"Wp",value:function Wp(t){var _this407=this;if(1!==t.buttons)return;var e,_i816,s=rl(this["#preview-shape"]),_s$values4=_slicedToArray(s.values,5),n=_s$values4[0],o=_s$values4[1],l=_s$values4[2],a=_s$values4[3],h=_s$values4[4],r=this["#preview"].getBoundingClientRect(),d=new DOMPoint(r.x+r.width/2,r.y+r.height*this.Nn),c=J(Pl.apply(void 0,_toConsumableArray(s.values)).maxHorizontalArmThickness/a,2);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Q(e,d);h=Ou(i.x,i.y),h=h/l*2,h=tt(h,.01,c,2),_this407.qp=h,_this407.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i816=function i(){_this407["#preview"].removeEventListener("pointermove",e),_this407["#preview"].removeEventListener("lostpointercapture",_i816),_this407.Js.setConfig("bx-crosssettings:thickness",h);});}},{key:"$l",value:function $l(t){var _this408=this;if(1!==t.buttons)return;var e,_i817,s=rl(this["#preview-shape"]),_s$values5=_slicedToArray(s.values,7),n=_s$values5[0],o=_s$values5[1],l=_s$values5[2],a=_s$values5[3],h=_s$values5[4],r=_s$values5[5],d=_s$values5[6],c=this["#preview"].getBoundingClientRect(),p=new DOMPoint(c.x+c.width/2,c.y+c.height/2),_Pl3=Pl.apply(void 0,_toConsumableArray(s.values)),u=_Pl3.minShift,x=_Pl3.maxShift;this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Q(p,e);d=i.y/a+.5,d=tt(d,u,x,2),_this408.Nn=d,_this408.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i817=function i(){_this408["#preview"].removeEventListener("pointermove",e),_this408["#preview"].removeEventListener("lostpointercapture",_i817),_this408.Js.setConfig("bx-crosssettings:shift",d);});}},{key:"Yp",value:function Yp(){var _this409=this;var t,_e859,i=rl(this["#preview-shape"]),_i$values=_slicedToArray(i.values,4),s=_i$values[0],n=_i$values[1],o=_i$values[2],l=_i$values[3],a=Pl.apply(void 0,_toConsumableArray(i.values)).maxHorizontalArmThickness;a=J(a/l,2),this["#thickness-box"].addEventListener("change",t=function t(_t1150){var e=_t1150.target.value/100;_this409.qp=tt(e,.01,a,2),_this409.Xs();}),this["#thickness-box"].addEventListener("changeend",_e859=function e(){_this409["#thickness-box"].removeEventListener("change",t),_this409["#thickness-box"].removeEventListener("changeend",_e859),_this409.Js.setConfig("bx-crosssettings:thickness",_this409.qp);});}},{key:"Bp",value:function Bp(){var _this410=this;var t,_e860,i=rl(this["#preview-shape"]),_i$values2=_slicedToArray(i.values,4),s=_i$values2[0],n=_i$values2[1],o=_i$values2[2],l=_i$values2[3],_Pl4=Pl.apply(void 0,_toConsumableArray(i.values)),a=_Pl4.minShift,h=_Pl4.maxShift;this["#shift-box"].addEventListener("change",t=function t(_t1151){var e=(_t1151.target.value+50)/100;_this410.Nn=tt(e,a,h,2),_this410.Xs();}),this["#shift-box"].addEventListener("changeend",_e860=function e(){_this410["#shift-box"].removeEventListener("change",t),_this410["#shift-box"].removeEventListener("changeend",_e860),_this410.Js.setConfig("bx-crosssettings:shift",_this410.Nn);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.height-10,e=t,i=this["#preview"].viewBox.baseVal.width/2-e/2,s=this["#preview"].viewBox.baseVal.height/2-t/2;dl(this["#preview-shape"],{type:"cross",values:[i,s,e,t,this.qp*e,this.qp*t,this.Nn]}),this["#thickness-grippie"].cx.baseVal.value=i+e/2-this.qp*e/2,this["#thickness-grippie"].cy.baseVal.value=s+t*this.Nn-this.qp*t/2,this["#shift-grippie"].cx.baseVal.value=i+e/2,this["#shift-grippie"].cy.baseVal.value=s+t*this.Nn;}},{key:"Fp",value:function Fp(){var t=rl(this["#preview-shape"]),_t$values12=_slicedToArray(t.values,4),e=_t$values12[0],i=_t$values12[1],s=_t$values12[2],n=_t$values12[3],_Pl5=Pl.apply(void 0,_toConsumableArray(t.values)),o=_Pl5.minShift,l=_Pl5.maxShift,a=_Pl5.maxHorizontalArmThickness,h=J(a/n*100,0),r=J(100*this.qp,0),d=J(100*this.Nn-50,0),c=J(100*o-50,0),p=J(100*l-50,0);this["#thickness-input"].max=h,this["#thickness-input"].value=r,this["#thickness-slider"].max=h,this["#thickness-slider"].value=r,this["#shift-input"].min=c,this["#shift-input"].max=p,this["#shift-input"].value=d,this["#shift-slider"].min=c,this["#shift-slider"].max=p,this["#shift-slider"].value=d;}}]);return Tu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tu,"_shadowTemplate",Ki(_templateObject242()));_defineProperty(Tu,"_shadowStyleSheet",Qi(_templateObject243()));customElements.define("bx-crosssettings",Tu);var Au=Math.sin,$u=Math.cos,Iu=Math.tan,Lu=Number.MAX_SAFE_INTEGER;var Bu=/*#__PURE__*/function(_HTMLElement65){_inherits(Bu,_HTMLElement65);var _super84=_createSuper(Bu);function Bu(){var _this411;_classCallCheck(this,Bu);_this411=_super84.call(this),_this411._shadowRoot=_this411.attachShadow({mode:"closed"}),_this411._shadowRoot.append(document.importNode(_this411.constructor._shadowTemplate.content,!0)),_this411._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this411.constructor._shadowStyleSheet],_this411.setAttribute("exportparts","preview");var _iterator730=_createForOfIteratorHelper(_this411._shadowRoot.querySelectorAll("[id]")),_step730;try{for(_iterator730.s();!(_step730=_iterator730.n()).done;){var _t1152=_step730.value;_this411["#"+_t1152.id]=_t1152;}}catch(err){_iterator730.e(err);}finally{_iterator730.f();}_this411["#r1-grippie"].addEventListener("pointerdown",function(t){return _this411.Vl(t);}),_this411["#r2-grippie"].addEventListener("pointerdown",function(t){return _this411.Hl(t);}),_this411["#r3-grippie"].addEventListener("pointerdown",function(t){return _this411.Wl(t);}),_this411["#splay-grippie"].addEventListener("pointerdown",function(t){return _this411.ql(t);}),_this411["#r1-box"].addEventListener("changestart",function(t){return _this411.Xp(t);}),_this411["#r2-box"].addEventListener("changestart",function(t){return _this411.Zp(t);}),_this411["#r3-box"].addEventListener("changestart",function(t){return _this411.Kp(t);}),_this411["#splay-box"].addEventListener("changestart",function(t){return _this411.Qp(t);}),_this411["#teeth-box"].addEventListener("changestart",function(t){return _this411.Jp(t);});return _this411;}_createClass(Bu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tu=this.Js.getConfig("bx-cogsettings:r1",.3),this.eu=this.Js.getConfig("bx-cogsettings:r2",.65),this.iu=this.Js.getConfig("bx-cogsettings:r3",1),this.su=this.Js.getConfig("bx-cogsettings:splay",.38),this.nu=this.Js.getConfig("bx-cogsettings:teeth",8),this.Xs();}},{key:"Vl",value:function Vl(t){var _this412=this;var e,_i818,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values4=_slicedToArray(n.values,7),o=_n$values4[0],l=_n$values4[1],a=_n$values4[2],h=_n$values4[3],r=_n$values4[4],d=_n$values4[5],c=_n$values4[6],p=(this["#preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Lu).matrixTransform(u);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ae53=Ae(b,m,n,!1),_Ae54=_slicedToArray(_Ae53,1),o=_Ae54[0],l=Ee(x,o),a=tt(l/p,0,1,2);_this412.tu=a,_this412.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i818=function i(){_this412["#preview"].removeEventListener("pointermove",e),_this412["#preview"].removeEventListener("lostpointercapture",_i818),_this412.Js.setConfig("bx-cogsettings:r1",_this412.tu);});}},{key:"Hl",value:function Hl(t){var _this413=this;var e,_i819,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values5=_slicedToArray(n.values,7),o=_n$values5[0],l=_n$values5[1],a=_n$values5[2],h=_n$values5[3],r=_n$values5[4],d=_n$values5[5],c=_n$values5[6],p=(this["#preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-Lu).matrixTransform(u);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ae55=Ae(b,m,n,!1),_Ae56=_slicedToArray(_Ae55,1),o=_Ae56[0],l=Ee(x,o),a=tt(l/p,0,1,2);_this413.eu=a,_this413.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i819=function i(){_this413["#preview"].removeEventListener("pointermove",e),_this413["#preview"].removeEventListener("lostpointercapture",_i819),_this413.Js.setConfig("bx-cogsettings:r2",_this413.eu);});}},{key:"Wl",value:function Wl(t){var _this414=this;var e,_i820,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values6=_slicedToArray(n.values,5),o=_n$values6[0],l=_n$values6[1],a=_n$values6[2],h=_n$values6[3],r=_n$values6[4],d=(this["#preview"].viewBox.baseVal.height-10)/2,c=new DOMPoint(o,l),p=c,u=new DOMPoint(o,l-Lu);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ae57=Ae(p,u,n,!1),_Ae58=_slicedToArray(_Ae57,1),o=_Ae58[0],l=Ee(c,o),a=tt(l/d,0,1,2);_this414.iu=a,_this414.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i820=function i(){_this414["#preview"].removeEventListener("pointermove",e),_this414["#preview"].removeEventListener("lostpointercapture",_i820),_this414.Js.setConfig("bx-cogsettings:r3",_this414.iu);});}},{key:"ql",value:function ql(t){var _this415=this;var e,_i821,_rl$values43=_slicedToArray(rl(this["#preview-shape"]).values,7),s=_rl$values43[0],n=_rl$values43[1],o=_rl$values43[2],l=_rl$values43[3],a=_rl$values43[4],h=_rl$values43[5],r=_rl$values43[6],d=Yt(this["#preview-shape"]).inverse(),c=function c(t){var e=360/r,i=e/4,o=Iu(Ne(i-t*i))*a,l=Ne(e-90);return new DOMPoint(s+a*$u(l)-Au(l)*o,n+a*Au(l)+$u(l)*o);},p=c(0),u=c(1);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,s=new DOMPoint(e,i).matrixTransform(d),_Ae59=Ae(p,u,s,!1),_Ae60=_slicedToArray(_Ae59,1),n=_Ae60[0],o=Ee(p,n)/Ee(p,u);_this415.su=tt(o,0,1,3),_this415.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i821=function i(){_this415["#preview"].removeEventListener("pointermove",e),_this415["#preview"].removeEventListener("lostpointercapture",_i821),_this415.Js.setConfig("bx-cogsettings:splay",_this415.su);});}},{key:"Xp",value:function Xp(){var _this416=this;var t,_e861;this["#r1-box"].addEventListener("change",t=function t(_t1153){_this416.tu=tt(_t1153.target.value/100,0,1,2),_this416.Xs();}),this["#r1-box"].addEventListener("changeend",_e861=function e(){_this416["#r1-box"].removeEventListener("change",t),_this416["#r1-box"].removeEventListener("changeend",_e861),_this416.Js.setConfig("bx-cogsettings:r1",_this416.tu);});}},{key:"Zp",value:function Zp(){var _this417=this;var t,_e862;this["#r2-box"].addEventListener("change",t=function t(_t1154){_this417.eu=tt(_t1154.target.value/100,0,1,2),_this417.Xs();}),this["#r2-box"].addEventListener("changeend",_e862=function e(){_this417["#r2-box"].removeEventListener("change",t),_this417["#r2-box"].removeEventListener("changeend",_e862),_this417.Js.setConfig("bx-cogsettings:r2",_this417.eu);});}},{key:"Kp",value:function Kp(){var _this418=this;var t,_e863;this["#r3-box"].addEventListener("change",t=function t(_t1155){_this418.iu=tt(_t1155.target.value/100,0,1,2),_this418.Xs();}),this["#r3-box"].addEventListener("changeend",_e863=function e(){_this418["#r3-box"].removeEventListener("change",t),_this418["#r3-box"].removeEventListener("changeend",_e863),_this418.Js.setConfig("bx-cogsettings:r3",_this418.iu);});}},{key:"Qp",value:function Qp(){var _this419=this;var t,_e864;this["#splay-box"].addEventListener("change",t=function t(_t1156){_this419.su=tt(_t1156.target.value/100,0,1,3),_this419.Xs();}),this["#splay-box"].addEventListener("changeend",_e864=function e(){_this419["#splay-box"].removeEventListener("change",t),_this419["#splay-box"].removeEventListener("changeend",_e864),_this419.Js.setConfig("bx-cogsettings:splay",_this419.su);});}},{key:"Jp",value:function Jp(){var _this420=this;var t,_e865;this["#teeth-box"].addEventListener("change",t=function t(_t1157){_this420.nu=tt(_t1157.target.value,4,Infinity,0),_this420.Xs();}),this["#teeth-box"].addEventListener("changeend",_e865=function e(){_this420["#teeth-box"].removeEventListener("change",t),_this420["#teeth-box"].removeEventListener("changeend",_e865),_this420.Js.setConfig("bx-cogsettings:teeth",_this420.nu);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=(this["#preview"].viewBox.baseVal.height-10)/2,e=this["#preview"].viewBox.baseVal.width/2,i=this["#preview"].viewBox.baseVal.height/2,s=this.tu*t,n=this.eu*t,o=this.iu*t;dl(this["#preview-shape"],{type:"cog",values:[e,i,s,n,o,this.su,this.nu]});{var _t1158=360/this.nu,_s433=_t1158/4,_n350=Iu(Ne(_s433-this.su*_s433))*o,_l243=Ne(_t1158-90);this["#splay-grippie"].cx.baseVal.value=e+o*$u(_l243)-Au(_l243)*_n350,this["#splay-grippie"].cy.baseVal.value=i+o*Au(_l243)+$u(_l243)*_n350;}{var _t1159=new DOMMatrix().translate(e,i).rotate(360/this.nu/2).translate(-e,-i),_n351=new DOMPoint(e,i-s).matrixTransform(_t1159);this["#r1-grippie"].cx.baseVal.value=_n351.x,this["#r1-grippie"].cy.baseVal.value=_n351.y;}{var _t1160=new DOMMatrix().translate(e,i).rotate(360/this.nu/2).translate(-e,-i),_s434=new DOMPoint(e,i-n).matrixTransform(_t1160);this["#r2-grippie"].cx.baseVal.value=_s434.x,this["#r2-grippie"].cy.baseVal.value=_s434.y;}{var _t1161=new DOMPoint(e,i-o);this["#r3-grippie"].cx.baseVal.value=_t1161.x,this["#r3-grippie"].cy.baseVal.value=_t1161.y;}}},{key:"Fp",value:function Fp(){var t=J(100*this.tu,0),e=J(100*this.eu,0),i=J(100*this.iu,0),s=J(100*this.su,0);this["#r1-slider"].value=t,this["#r1-input"].value=t,this["#r2-slider"].value=e,this["#r2-input"].value=e,this["#r3-slider"].value=i,this["#r3-input"].value=i,this["#splay-slider"].value=s,this["#splay-input"].value=s,this["#teeth-slider"].value=this.nu,this["#teeth-input"].value=this.nu;}}]);return Bu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bu,"_shadowTemplate",Ki(_templateObject244()));_defineProperty(Bu,"_shadowStyleSheet",Qi(_templateObject245()));customElements.define("bx-cogsettings",Bu);var Ru=Number.MAX_SAFE_INTEGER;var Gu=/*#__PURE__*/function(_HTMLElement66){_inherits(Gu,_HTMLElement66);var _super85=_createSuper(Gu);function Gu(){var _this421;_classCallCheck(this,Gu);_this421=_super85.call(this),_this421._shadowRoot=_this421.attachShadow({mode:"closed"}),_this421._shadowRoot.append(document.importNode(_this421.constructor._shadowTemplate.content,!0)),_this421._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this421.constructor._shadowStyleSheet],_this421.setAttribute("exportparts","preview");var _iterator731=_createForOfIteratorHelper(_this421._shadowRoot.querySelectorAll("[id]")),_step731;try{for(_iterator731.s();!(_step731=_iterator731.n()).done;){var _t1162=_step731.value;_this421["#"+_t1162.id]=_t1162;}}catch(err){_iterator731.e(err);}finally{_iterator731.f();}_this421["#r1-grippie"].addEventListener("pointerdown",function(t){return _this421.Vl(t);}),_this421["#r1-box"].addEventListener("changestart",function(t){return _this421.Xp(t);});return _this421;}_createClass(Gu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tu=this.Js.getConfig("bx-ringsettings:r1",.6),this.Xs();}},{key:"Vl",value:function Vl(t){var _this422=this;var e,_i822,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values7=_slicedToArray(n.values,6),o=_n$values7[0],l=_n$values7[1],a=_n$values7[2],h=_n$values7[3],r=_n$values7[4],d=_n$values7[5],c=(this["#preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Ru);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ae61=Ae(u,x,n,!1),_Ae62=_slicedToArray(_Ae61,1),o=_Ae62[0],l=Ee(p,o),a=tt(l/c,0,1,2);_this422.tu=a,_this422.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i822=function i(){_this422["#preview"].removeEventListener("pointermove",e),_this422["#preview"].removeEventListener("lostpointercapture",_i822),_this422.Js.setConfig("bx-ringsettings:r1",_this422.tu);});}},{key:"Xp",value:function Xp(){var _this423=this;var t,_e866;this["#r1-box"].addEventListener("change",t=function t(_t1163){_this423.tu=tt(_t1163.target.value/100,0,1,2),_this423.Xs();}),this["#r1-box"].addEventListener("changeend",_e866=function e(){_this423["#r1-box"].removeEventListener("change",t),_this423["#r1-box"].removeEventListener("changeend",_e866),_this423.Js.setConfig("bx-ringsettings:r1",_this423.tu);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width/2,e=this["#preview"].viewBox.baseVal.height/2,i=(this["#preview"].viewBox.baseVal.height-10)/2,s=this.tu*i;dl(this["#preview-shape"],{type:"ring",values:[t,e,s,s,i,i]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Fp",value:function Fp(){var t=this["#preview"].viewBox.baseVal.height-10,e=(this.tu,tt(100*this.tu,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}}]);return Gu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gu,"_shadowTemplate",Ki(_templateObject246()));_defineProperty(Gu,"_shadowStyleSheet",Qi(_templateObject247()));customElements.define("bx-ringsettings",Gu);var Uu=Number.MAX_SAFE_INTEGER;var Fu=/*#__PURE__*/function(_HTMLElement67){_inherits(Fu,_HTMLElement67);var _super86=_createSuper(Fu);function Fu(){var _this424;_classCallCheck(this,Fu);_this424=_super86.call(this),_this424._shadowRoot=_this424.attachShadow({mode:"closed"}),_this424._shadowRoot.append(document.importNode(_this424.constructor._shadowTemplate.content,!0)),_this424._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this424.constructor._shadowStyleSheet],_this424.setAttribute("exportparts","preview");var _iterator732=_createForOfIteratorHelper(_this424._shadowRoot.querySelectorAll("[id]")),_step732;try{for(_iterator732.s();!(_step732=_iterator732.n()).done;){var _t1164=_step732.value;_this424["#"+_t1164.id]=_t1164;}}catch(err){_iterator732.e(err);}finally{_iterator732.f();}_this424["#r1-grippie"].addEventListener("pointerdown",function(t){return _this424.Vl(t);}),_this424["#r1-box"].addEventListener("changestart",function(t){return _this424.Xp(t);});return _this424;}_createClass(Fu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tu=this.Js.getConfig("bx-piesettings:r1",0),this.Xs();}},{key:"Vl",value:function Vl(t){var _this425=this;var e,_i823,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values8=_slicedToArray(n.values,6),o=_n$values8[0],l=_n$values8[1],a=_n$values8[2],h=_n$values8[3],r=_n$values8[4],d=_n$values8[5],c=(this["#preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Uu);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ae63=Ae(u,x,n,!1),_Ae64=_slicedToArray(_Ae63,1),o=_Ae64[0],l=Ee(p,o),a=tt(l/c,0,1,2);_this425.tu=a,_this425.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i823=function i(){_this425["#preview"].removeEventListener("pointermove",e),_this425["#preview"].removeEventListener("lostpointercapture",_i823),_this425.Js.setConfig("bx-piesettings:r1",_this425.tu);});}},{key:"Xp",value:function Xp(){var _this426=this;var t,_e867;this["#r1-box"].addEventListener("change",t=function t(_t1165){_this426.tu=tt(_t1165.target.value/100,0,1,2),_this426.Xs();}),this["#r1-box"].addEventListener("changeend",_e867=function e(){_this426["#r1-box"].removeEventListener("change",t),_this426["#r1-box"].removeEventListener("changeend",_e867),_this426.Js.setConfig("bx-piesettings:r1",_this426.tu);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width/2,e=this["#preview"].viewBox.baseVal.height/2,i=(this["#preview"].viewBox.baseVal.height-10)/2,s=this.tu*i;dl(this["#preview-shape"],{type:"pie",values:[t,e,s,i,90,360]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Fp",value:function Fp(){var t=this["#preview"].viewBox.baseVal.height-10,e=(this.tu,tt(100*this.tu,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}}]);return Fu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fu,"_shadowTemplate",Ki(_templateObject248()));_defineProperty(Fu,"_shadowStyleSheet",Qi(_templateObject249()));customElements.define("bx-piesettings",Fu);var Nu=Math.abs,ju=Math.sin,Vu=Math.cos;var Hu=/*#__PURE__*/function(_HTMLElement68){_inherits(Hu,_HTMLElement68);var _super87=_createSuper(Hu);function Hu(){var _this427;_classCallCheck(this,Hu);_this427=_super87.call(this),_this427._shadowRoot=_this427.attachShadow({mode:"closed"}),_this427._shadowRoot.append(document.importNode(_this427.constructor._shadowTemplate.content,!0)),_this427._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this427.constructor._shadowStyleSheet],_this427.setAttribute("exportparts","preview");var _iterator733=_createForOfIteratorHelper(_this427._shadowRoot.querySelectorAll("[id]")),_step733;try{for(_iterator733.s();!(_step733=_iterator733.n()).done;){var _t1166=_step733.value;_this427["#"+_t1166.id]=_t1166;}}catch(err){_iterator733.e(err);}finally{_iterator733.f();}_this427["#arch-grippie"].addEventListener("pointerdown",function(t){return _this427.Ol(t);}),_this427["#hollow-grippie"].addEventListener("pointerdown",function(t){return _this427.El(t);}),_this427["#arch-box"].addEventListener("changestart",function(t){return _this427.ou(t);}),_this427["#hollow-box"].addEventListener("changestart",function(t){return _this427.lu(t);});return _this427;}_createClass(Hu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.au=this.Js.getConfig("bx-crescentsettings:arch",300),this.hu=this.Js.getConfig("bx-crescentsettings:hollow",.7),this.Xs();}},{key:"Ol",value:function Ol(t){var _this428=this;var e,_i824,s=rl(this["#preview-shape"]),n=Yt(this["#preview-shape"]).inverse(),_s$values6=_slicedToArray(s.values,5),o=_s$values6[0],l=_s$values6[1],a=_s$values6[2],h=_s$values6[3],r=_s$values6[4];this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Ze(e,new DOMPoint(o,l),a),s=new DOMPoint(o,l),h=new DOMPoint(o+a,l),r=Re(s,i,h);_this428.au=r<0&&r>=-90?1:r<-90&&r>=-180?359:tt(Nu(2*r),1,359,0),_this428.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i824=function i(){_this428["#preview"].removeEventListener("pointermove",e),_this428["#preview"].removeEventListener("lostpointercapture",_i824),_this428.Js.setConfig("bx-crescentsettings:arch",_this428.au);});}},{key:"El",value:function El(t){var _this429=this;var e,_i825,s=rl(this["#preview-shape"]),n=Yt(this["#preview-shape"]).inverse(),_s$values7=_slicedToArray(s.values,5),o=_s$values7[0],l=_s$values7[1],a=_s$values7[2],h=_s$values7[3],r=_s$values7[4],d=new DOMPoint(o-a,l),c=new DOMPoint(o+a,l);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_Ae65=Ae(d,c,e,!1),_Ae66=_slicedToArray(_Ae65,1),i=_Ae66[0];r=(i.x-d.x)/(2*a),r=tt(r,0,1,4),_this429.hu=r,_this429.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i825=function i(){_this429["#preview"].removeEventListener("pointermove",e),_this429["#preview"].removeEventListener("lostpointercapture",_i825),_this429.Js.setConfig("bx-crescentsettings:hollow",_this429.hu);});}},{key:"ou",value:function ou(){var _this430=this;var t,_e868;this["#arch-box"].addEventListener("change",t=function t(_t1167){_this430.au=tt(_t1167.target.value,1,359,0),_this430.Xs();}),this["#arch-box"].addEventListener("changeend",_e868=function e(){_this430["#arch-box"].removeEventListener("change",t),_this430["#arch-box"].removeEventListener("changeend",_e868),_this430.Js.setConfig("bx-crescentsettings:arch",_this430.au);});}},{key:"lu",value:function lu(){var _this431=this;var t,_e869;this["#hollow-box"].addEventListener("change",t=function t(_t1168){_this431.hu=tt(_t1168.target.value/100,0,1,2),_this431.Xs();}),this["#hollow-box"].addEventListener("changeend",_e869=function e(){_this431["#hollow-box"].removeEventListener("change",t),_this431["#hollow-box"].removeEventListener("changeend",_e869),_this431.Js.setConfig("bx-crescentsettings:hollow",_this431.hu);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width/2,e=this["#preview"].viewBox.baseVal.height/2,i=(this["#preview"].viewBox.baseVal.height-10)/2,s=this.au,n=this.hu;dl(this["#preview-shape"],{type:"crescent",values:[t,e,i,s,n]});{var _n352=Ge(90-s/2),_o275=Ne(_n352);this["#arch-grippie"].cx.baseVal.value=t+i*ju(_o275),this["#arch-grippie"].cy.baseVal.value=e+i*-Vu(_o275);}this["#hollow-grippie"].cx.baseVal.value=t-i+2*i*n,this["#hollow-grippie"].cy.baseVal.value=e;}},{key:"Fp",value:function Fp(){var t=tt(this.au,1,359,0),e=tt(100*this.hu,0,100,0);this["#arch-slider"].value=t,this["#arch-input"].value=t,this["#hollow-slider"].value=e,this["#hollow-input"].value=e;}}]);return Hu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hu,"_shadowTemplate",Ki(_templateObject250()));_defineProperty(Hu,"_shadowStyleSheet",Qi(_templateObject251()));customElements.define("bx-crescentsettings",Hu);var Wu=/*#__PURE__*/function(_HTMLElement69){_inherits(Wu,_HTMLElement69);var _super88=_createSuper(Wu);function Wu(){var _this432;_classCallCheck(this,Wu);_this432=_super88.call(this),_this432._shadowRoot=_this432.attachShadow({mode:"closed"}),_this432._shadowRoot.append(document.importNode(_this432.constructor._shadowTemplate.content,!0)),_this432._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this432.constructor._shadowStyleSheet],_this432.setAttribute("exportparts","preview");var _iterator734=_createForOfIteratorHelper(_this432._shadowRoot.querySelectorAll("[id]")),_step734;try{for(_iterator734.s();!(_step734=_iterator734.n()).done;){var _t1169=_step734.value;_this432["#"+_t1169.id]=_t1169;}}catch(err){_iterator734.e(err);}finally{_iterator734.f();}_this432["#base-thickness-grippie"].addEventListener("pointerdown",function(t){return _this432.Jl(t);}),_this432["#head-size-grippie"].addEventListener("pointerdown",function(t){return _this432.ta(t);}),_this432["#head-inset-grippie"].addEventListener("pointerdown",function(t){return _this432.ea(t);}),_this432["#base-thickness-box"].addEventListener("changestart",function(){return _this432.ru();}),_this432["#head-thickness-box"].addEventListener("changestart",function(){return _this432.du();}),_this432["#head-length-box"].addEventListener("changestart",function(){return _this432.cu();}),_this432["#head-inset-box"].addEventListener("changestart",function(){return _this432.pu();});return _this432;}_createClass(Wu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.uu=this.Js.getConfig("bx-arrowsettings:baseThickness",10),this.xu=this.Js.getConfig("bx-arrowsettings:headThickness",40),this.bu=this.Js.getConfig("bx-arrowsettings:headLength",40),this.mu=this.Js.getConfig("bx-arrowsettings:headInset",0),this.Xs();}},{key:"Jl",value:function Jl(t){var _this433=this;if(1!==t.buttons)return;var e,_i826,s=rl(this["#preview-shape"]),_s$values8=_slicedToArray(s.values,7),n=_s$values8[0],o=_s$values8[1],l=_s$values8[2],a=_s$values8[3],h=_s$values8[4],r=_s$values8[5],d=_s$values8[6],c=h,_Ml4=Ml.apply(void 0,_toConsumableArray(s.values)),p=_Ml4.maxBaseThickness;p=J(p,0),this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(_e870){var i=_e870.clientY-t.clientY;h=c-2*i,h=tt(h,1,p,0),_this433.uu=h,_this433.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i826=function i(){_this433["#preview"].removeEventListener("pointermove",e),_this433["#preview"].removeEventListener("lostpointercapture",_i826),_this433.Js.setConfig("bx-arrowsettings:baseThickness",h);});}},{key:"ta",value:function ta(t){var _this434=this;if(1!==t.buttons)return;var e,_i827,s=rl(this["#preview-shape"]),_s$values9=_slicedToArray(s.values,7),n=_s$values9[0],o=_s$values9[1],l=_s$values9[2],a=_s$values9[3],h=_s$values9[4],r=_s$values9[5],d=_s$values9[6],c=h,p=a,u=r;this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(_e871){var i=_e871.clientX-t.clientX,s=_e871.clientY-t.clientY;a=p+2*s,a=tt(a,h,60,0),r=u-i,r=tt(r,1,l,0);{var _Ml5=Ml(n,o,l,a,h,r,d),_t1170=_Ml5.maxBaseThickness;_t1170=J(_t1170,0),(h>_t1170||h<c)&&(h=_t1170);}_this434.bu=r,_this434.xu=a,_this434.uu=h,_this434.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i827=function i(){_this434["#preview"].removeEventListener("pointermove",e),_this434["#preview"].removeEventListener("lostpointercapture",_i827),_this434.Js.setConfig("bx-arrowsettings:baseThickness",_this434.uu),_this434.Js.setConfig("bx-arrowsettings:headThickness",_this434.xu),_this434.Js.setConfig("bx-arrowsettings:headLength",_this434.bu);});}},{key:"ea",value:function ea(t){var _this435=this;if(1!==t.buttons)return;var e,_i828,s=rl(this["#preview-shape"]),_s$values10=_slicedToArray(s.values,7),n=_s$values10[0],o=_s$values10[1],l=_s$values10[2],a=_s$values10[3],h=_s$values10[4],r=_s$values10[5],d=_s$values10[6],c=d,_Ml6=Ml.apply(void 0,_toConsumableArray(s.values)),p=_Ml6.maxHeadInset;p=J(p,0),this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(_e872){var i=_e872.clientX-t.clientX;d=c+i,d=tt(d,0,p,0),_this435.mu=d,_this435.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i828=function i(){_this435["#preview"].removeEventListener("pointermove",e),_this435["#preview"].removeEventListener("lostpointercapture",_i828),_this435.Js.setConfig("bx-arrowsettings:headInset",d);});}},{key:"ru",value:function ru(){var _this436=this;var t,_e873,i=rl(this["#preview-shape"]),_Ml7=Ml.apply(void 0,_toConsumableArray(i.values)),s=_Ml7.maxBaseThickness;s=J(s,0),this["#base-thickness-box"].addEventListener("change",t=function t(_t1171){_this436.uu=tt(_t1171.target.value,1,s,0),_this436.Xs();}),this["#base-thickness-box"].addEventListener("changeend",_e873=function e(){_this436["#base-thickness-box"].removeEventListener("change",t),_this436["#base-thickness-box"].removeEventListener("changeend",_e873),_this436.Js.setConfig("bx-arrowsettings:baseThickness",_this436.uu);});}},{key:"du",value:function du(){var _this437=this;var t,_e874,i=rl(this["#preview-shape"]),_Ml8=Ml.apply(void 0,_toConsumableArray(i.values)),s=_Ml8.minHeadThickness;s=J(s,0),this["#head-thickness-box"].addEventListener("change",t=function t(_t1172){_this437.xu=tt(_t1172.target.value,s,60,0),_this437.Xs();}),this["#head-thickness-box"].addEventListener("changeend",_e874=function e(){_this437["#head-thickness-box"].removeEventListener("change",t),_this437["#head-thickness-box"].removeEventListener("changeend",_e874),_this437.Js.setConfig("bx-arrowsettings:headThickness",_this437.xu);});}},{key:"cu",value:function cu(){var _this438=this;var t,_e875,i=rl(this["#preview-shape"]),_Ml9=Ml.apply(void 0,_toConsumableArray(i.values)),s=_Ml9.minHeadLength;s=J(s,0),this["#head-length-box"].addEventListener("change",t=function t(_t1173){_this438.bu=tt(_t1173.target.value,s,136,0),_this438.Xs();}),this["#head-length-box"].addEventListener("changeend",_e875=function e(){_this438["#head-length-box"].removeEventListener("change",t),_this438["#head-length-box"].removeEventListener("changeend",_e875),_this438.Js.setConfig("bx-arrowsettings:headLength",_this438.bu);});}},{key:"pu",value:function pu(){var _this439=this;var t,_e876,i=rl(this["#preview-shape"]),_Ml10=Ml.apply(void 0,_toConsumableArray(i.values)),s=_Ml10.maxHeadInset;s=J(s,0),this["#head-inset-box"].addEventListener("change",t=function t(_t1174){_this439.mu=tt(_t1174.target.value,0,s,0),_this439.Xs();}),this["#head-inset-box"].addEventListener("changeend",_e876=function e(){_this439["#head-inset-box"].removeEventListener("change",t),_this439["#head-inset-box"].removeEventListener("changeend",_e876),_this439.Js.setConfig("bx-arrowsettings:headInset",_this439.mu);});}},{key:"Xs",value:function Xs(){this.Up(),this.Fp();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width-10,e=this.xu,i=this["#preview"].viewBox.baseVal.height/2-e/2,s=this.mu;s>this.bu&&(s=this.bu),dl(this["#preview-shape"],{type:"arrow",values:[5,i,t,e,this.uu,this.bu,s]}),this["#base-thickness-grippie"].cx.baseVal.value=5+(t-this.bu+s)/2,this["#base-thickness-grippie"].cy.baseVal.value=i+e/2-this.uu/2,this["#head-size-grippie"].cx.baseVal.value=t-this.bu+5,this["#head-size-grippie"].cy.baseVal.value=i+e,this["#head-inset-grippie"].cx.baseVal.value=5+t-this.bu+s,this["#head-inset-grippie"].cy.baseVal.value=i+e/2-this.uu/2;}},{key:"Fp",value:function Fp(){this["#base-thickness-input"].value=this.uu,this["#base-thickness-slider"].value=this.uu,this["#head-thickness-input"].value=this.xu,this["#head-thickness-slider"].value=this.xu,this["#head-length-input"].value=this.bu,this["#head-length-slider"].value=this.bu,this["#head-inset-input"].value=this.mu,this["#head-inset-slider"].value=this.mu;}}]);return Wu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wu,"_shadowTemplate",Ki(_templateObject252()));_defineProperty(Wu,"_shadowStyleSheet",Qi(_templateObject253()));customElements.define("bx-arrowsettings",Wu);var Yu=/*#__PURE__*/function(_HTMLElement70){_inherits(Yu,_HTMLElement70);var _super89=_createSuper(Yu);function Yu(){var _this440;_classCallCheck(this,Yu);_this440=_super89.call(this),_this440._shadowRoot=_this440.attachShadow({mode:"closed"}),_this440._shadowRoot.append(document.importNode(_this440.constructor._shadowTemplate.content,!0)),_this440._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_this440.constructor._shadowStyleSheet],_this440.setAttribute("exportparts","preview");var _iterator735=_createForOfIteratorHelper(_this440._shadowRoot.querySelectorAll("[id]")),_step735;try{for(_iterator735.s();!(_step735=_iterator735.n()).done;){var _t1175=_step735.value;_this440["#"+_t1175.id]=_t1175;}}catch(err){_iterator735.e(err);}finally{_iterator735.f();}_this440["#start-angle-grippie"].addEventListener("pointerdown",function(t){return _this440.la(t);}),_this440["#end-angle-grippie"].addEventListener("pointerdown",function(t){return _this440.aa(t);}),_this440["#r1-box"].addEventListener("changestart",function(){return _this440.Xp();}),_this440["#start-angle-input"].addEventListener("changestart",function(){return _this440.gu();}),_this440["#end-angle-input"].addEventListener("changestart",function(){return _this440.fu();});return _this440;}_createClass(Yu,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tu=this.Js.getConfig("bx-spiralsettings:r1",0),this.wu=this.Js.getConfig("bx-spiralsettings:startAngle",0),this.vu=this.Js.getConfig("bx-spiralsettings:endAngle",1080),this.Xs();}},{key:"la",value:function la(t){var _this441=this;var e,_i829,s=Yt(this["#preview-shape"]).inverse(),n=rl(this["#preview-shape"]),_n$values9=_slicedToArray(n.values,6),o=_n$values9[0],l=_n$values9[1],a=_n$values9[2],h=_n$values9[3],r=_n$values9[4],d=_n$values9[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=Re(c,p,e);p=e,r+=i,_this441.wu=tt(r,0,_this441.vu,0),_this441.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i829=function i(){_this441["#preview"].removeEventListener("pointermove",e),_this441["#preview"].removeEventListener("lostpointercapture",_i829),_this441.Js.setConfig("bx-spiralsettings:startAngle",_this441.wu);});}},{key:"aa",value:function aa(t){var _this442=this;var e,_i830,s=rl(this["#preview-shape"]),n=Yt(this["#preview-shape"]).inverse(),_s$values11=_slicedToArray(s.values,6),o=_s$values11[0],l=_s$values11[1],a=_s$values11[2],h=_s$values11[3],r=_s$values11[4],d=_s$values11[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(n);this["#preview"].setPointerCapture(t.pointerId),this["#preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Re(c,p,e);p=e,d+=i,_this442.vu=tt(d,_this442.wu,Infinity,0),_this442.Xs();}),this["#preview"].addEventListener("lostpointercapture",_i830=function i(){_this442["#preview"].removeEventListener("pointermove",e),_this442["#preview"].removeEventListener("lostpointercapture",_i830),_this442.Js.setConfig("bx-spiralsettings:endAngle",_this442.vu);});}},{key:"Xp",value:function Xp(){var _this443=this;var t,_e877;this["#r1-box"].addEventListener("change",t=function t(_t1176){_this443.tu=tt(_t1176.target.value/100,0,1,2),_this443.Up(),_this443.yu();}),this["#r1-box"].addEventListener("changeend",_e877=function e(){_this443["#r1-box"].removeEventListener("change",t),_this443["#r1-box"].removeEventListener("changeend",_e877),_this443.Js.setConfig("bx-spiralsettings:r1",_this443.tu);});}},{key:"gu",value:function gu(){var _this444=this;var t,_e878;this["#start-angle-input"].addEventListener("change",t=function t(_t1177){_this444.wu=tt(_t1177.target.value,0,_this444.vu,2),_this444.Up();}),this["#start-angle-input"].addEventListener("changeend",_e878=function e(){_this444["#start-angle-input"].removeEventListener("change",t),_this444["#start-angle-input"].removeEventListener("changeend",_e878),_this444.Js.setConfig("bx-spiralsettings:startAngle",_this444.wu),_this444.ku();});}},{key:"fu",value:function fu(){var _this445=this;var t,_e879;this["#end-angle-input"].addEventListener("change",t=function t(_t1178){_this445.vu=tt(_t1178.target.value,_this445.wu,Infinity,2),_this445.Up();}),this["#end-angle-input"].addEventListener("changeend",_e879=function e(){_this445["#end-angle-input"].removeEventListener("change",t),_this445["#end-angle-input"].removeEventListener("changeend",_e879),_this445.Js.setConfig("bx-spiralsettings:endAngle",_this445.vu),_this445.ku();});}},{key:"Xs",value:function Xs(){this.Up(),this.yu(),this.ku();}},{key:"Up",value:function Up(){var t=this["#preview"].viewBox.baseVal.width/2,e=this["#preview"].viewBox.baseVal.height/2,i=(this["#preview"].viewBox.baseVal.height-10)/2,s=this.tu*i;dl(this["#preview-shape"],{type:"spiral",values:[t,e,s,i,this.wu,this.vu]});{var _Dl5=Dl(t,e,s,i,this.wu,this.vu),_Dl6=_slicedToArray(_Dl5,2),_n353=_Dl6[0],_o276=_Dl6[1];this["#start-angle-grippie"].cx.baseVal.value=_n353.x,this["#start-angle-grippie"].cy.baseVal.value=_n353.y,this["#end-angle-grippie"].cx.baseVal.value=_o276.x,this["#end-angle-grippie"].cy.baseVal.value=_o276.y;}}},{key:"yu",value:function yu(){var t=this["#preview"].viewBox.baseVal.height-10,e=(this.tu,tt(100*this.tu,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"ku",value:function ku(){this["#start-angle-input"].value=this.wu,this["#start-angle-input"].max=this.vu,this["#end-angle-input"].value=this.vu,this["#end-angle-input"].min=this.wu;}}]);return Yu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yu,"_shadowTemplate",Ki(_templateObject254()));_defineProperty(Yu,"_shadowStyleSheet",Qi(_templateObject255()));customElements.define("bx-spiralsettings",Yu);var qu=/*#__PURE__*/function(_zh10){_inherits(qu,_zh10);var _super90=_createSuper(qu);function qu(){var _this446;_classCallCheck(this,qu);_this446=_super90.call(this),_this446["#primary-shape-buttons"].addEventListener("toggle",function(){return _this446.Su();}),_this446["#secondary-shape-buttons"].addEventListener("toggle",function(){return _this446.Cu();}),_this446["#mode-buttons"].addEventListener("toggle",function(){return _this446.co();}),_this446["#style-picker"].addEventListener("change",function(){return _this446.fo();});return _this446;}_createClass(qu,[{key:"en",value:function en(){var t=this.Js.getConfig("bx-othershapesettings:shape","triangle"),e=this.Js.getConfig("bx-othershapesettings:drawingMode","planar"),i=this.Js.getConfig("bx-othershapesettings:style");this["#primary-shape-buttons"].value=t,this["#secondary-shape-buttons"].value=t,this["#mode-buttons"].value=e,this["#style-picker"].value=i,this._u(),this.Mu();}},{key:"Su",value:function Su(){this["#secondary-shape-buttons"].value=null,this.Js.setConfig("bx-othershapesettings:shape",this["#primary-shape-buttons"].value),this._u(),this.Mu();}},{key:"Cu",value:function Cu(){this["#primary-shape-buttons"].value=null,this.Js.setConfig("bx-othershapesettings:shape",this["#secondary-shape-buttons"].value),this._u(),this.Mu();}},{key:"co",value:function co(){this.Js.setConfig("bx-othershapesettings:drawingMode",this["#mode-buttons"].value);}},{key:"fo",value:function fo(){this.Js.setConfig("bx-othershapesettings:style",this["#style-picker"].value);}},{key:"_u",value:function _u(){var t=this["#primary-shape-buttons"].value||this["#secondary-shape-buttons"].value;this["#mode-section"].hidden="arrow"===t;}},{key:"Mu",value:function Mu(){var t,e=this["#primary-shape-buttons"].value||this["#secondary-shape-buttons"].value;"triangle"===e?t=Ki(_templateObject18()):"n-gon"===e?t=Ki(_templateObject19()):"star"===e?t=Ki(_templateObject20()):"cross"===e?t=Ki(_templateObject21()):"cog"===e?t=Ki(_templateObject22()):"ring"===e?t=Ki(_templateObject23()):"pie"===e?t=Ki(_templateObject24()):"crescent"===e?t=Ki(_templateObject25()):"arrow"===e?t=Ki(_templateObject26()):"spiral"===e&&(t=Ki(_templateObject27())),this["#geometry-section"].children[1]&&this["#geometry-section"].children[1].remove(),t&&this["#geometry-section"].append(t);}}]);return qu;}(zh);_defineProperty(qu,"_shadowTemplate",Ki(_templateObject256()));_defineProperty(qu,"_shadowStyleSheet",Qi(_templateObject257()));customElements.define("bx-othershapesettings",qu);var Xu=/*#__PURE__*/function(_zh11){_inherits(Xu,_zh11);var _super91=_createSuper(Xu);function Xu(){var _this447;_classCallCheck(this,Xu);_this447=_super91.call(this),_this447["#move-objects-checkbox"].addEventListener("toggle",function(){return _this447.Pu();}),_this447["#show-ids-checkbox"].addEventListener("toggle",function(){return _this447.Du();});return _this447;}_createClass(Xu,[{key:"en",value:function en(){this["#move-objects-checkbox"].toggled=this.Js.getConfig("bx-viewsettings:moveObjects",!1),this["#show-ids-checkbox"].toggled=this.Js.getConfig("bx-viewsettings:showIds",!1);}},{key:"Pu",value:function Pu(){this.Js.setConfig("bx-viewsettings:moveObjects",this["#move-objects-checkbox"].toggled);}},{key:"Du",value:function Du(){this.Js.setConfig("bx-viewsettings:showIds",this["#show-ids-checkbox"].toggled);}}]);return Xu;}(zh);_defineProperty(Xu,"_shadowTemplate",Ki(_templateObject258()));customElements.define("bx-viewsettings",Xu);var Zu=/*#__PURE__*/function(_HTMLElement71){_inherits(Zu,_HTMLElement71);var _super92=_createSuper(Zu);_createClass(Zu,[{key:"value",get:function get(){var t=this["#buttons"].querySelector("x-button[toggled]");return t?t.getAttribute("value"):null;},set:function set(t){var e=this["#popovers"].querySelector("x-popover[opened]");if(e){var _t1179=e.id.replace("-popover","-button"),_i831=this["#buttons"].querySelector("x-button[id=\"".concat(_t1179,"\"]"));e.close(),_i831.removeAttribute("expanded");}var _iterator736=_createForOfIteratorHelper(this["#buttons"].children),_step736;try{for(_iterator736.s();!(_step736=_iterator736.n()).done;){var _e880=_step736.value;_e880.getAttribute("value")===t?_e880.setAttribute("toggled",""):_e880.removeAttribute("toggled");}}catch(err){_iterator736.e(err);}finally{_iterator736.f();}}}]);function Zu(){var _this448;_classCallCheck(this,Zu);_this448=_super92.call(this),_this448.zu=!0,_this448.Ou=null,_this448._shadowRoot=_this448.attachShadow({mode:"closed"}),_this448._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Zu._shadowStyleSheet],_this448._shadowRoot.append(document.importNode(Zu._shadowTemplate.content,!0));var _iterator737=_createForOfIteratorHelper(_this448._shadowRoot.querySelectorAll("[id]")),_step737;try{for(_iterator737.s();!(_step737=_iterator737.n()).done;){var _t1180=_step737.value;_this448["#"+_t1180.id]=_t1180;}}catch(err){_iterator737.e(err);}finally{_iterator737.f();}_this448["#buttons"].addEventListener("toggle",function(t){return _this448.Eu(t);}),_this448["#buttons"].addEventListener("pointerdown",function(t){return _this448.Tu(t);}),_this448["#buttons"].addEventListener("pointerover",function(t){return _this448.Au(t);}),_this448["#buttons"].addEventListener("pointerout",function(t){return _this448.$u(t);}),_this448["#spline-tool-popover"].addEventListener("open",function(t){return _this448.Iu(t);}),_this448["#other-shape-tool-popover"].addEventListener("open",function(t){return _this448.Iu(t);});return _this448;}_createClass(Zu,[{key:"connectedCallback",value:function connectedCallback(){var _this449=this;this.Js=Ri(this,"#app"),this.zu=this.Js.getConfig("bx-uisettings:showDockTooltips",!0),this.Js.addEventListener("configchange",this.ln=function(t){return _this449.an(t);}),this.Lu(),this.Bu(),this.Ru();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.removeEventListener("configchange",this.ln);}},{key:"an",value:function an(t){var _t$detail8=t.detail,e=_t$detail8.key,i=_t$detail8.value;"bx-uisettings:showDockTooltips"===e?this.zu=null===i||i:"bx-splinesettings:spline"===e?this.Lu():"bx-blobsettings:drawingMode"===e?this.Bu():"bx-othershapesettings:shape"===e&&this.Ru();}},{key:"Eu",value:function Eu(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"Tu",value:function Tu(t){var e=t.target.closest("x-button");if(e&&e.toggled){var _t1181=e.id.replace("button","popover"),_i832=this["#popovers"].querySelector("x-popover[id=\"".concat(_t1181,"\"]"));if(_i832){var _t1182=_i832.firstElementChild;_i832.opened?(_i832.close(),_t1182.enabled=!1,e.removeAttribute("expanded")):(_t1182.enabled=!0,_i832.open(e,3),e.setAttribute("expanded","")),this.ep();}}}},{key:"Au",value:function(){var _Au=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee118(t){var e;return regeneratorRuntime.wrap(function _callee118$(_context119){while(1){switch(_context119.prev=_context119.next){case 0:e=t.target.closest("x-button");_context119.t0=e!==this.Ou;if(!_context119.t0){_context119.next=9;break;}this.Ou=e;_context119.t1="touch"===t.pointerType;if(!_context119.t1){_context119.next=8;break;}_context119.next=8;return ss(400);case 8:this.ep();case 9:case"end":return _context119.stop();}}},_callee118,this);}));function Au(_x142){return _Au.apply(this,arguments);}return Au;}()},{key:"$u",value:function $u(t){t.target.closest("x-button")&&(this.Ou=null,this.ep());}},{key:"Iu",value:function Iu(t){var e=t.target,i=e.getBoundingClientRect();e.style.maxHeight=window.innerHeight-i.top-8+"px";}},{key:"ep",value:function ep(){if(this.zu&&this.Ou&&!1===this.Ou.expanded){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.Ou.getAttribute("data-tooltip");var _t1183=this["#buttons"].getBoundingClientRect(),_e881=this.Ou.getBoundingClientRect(),_i833=this["#tooltip"].getBoundingClientRect(),_s435=_e881.top-_t1183.top+_e881.height/2-_i833.height/2,_n354=_e881.right+4;this["#tooltip"].style.top=_s435+"px",this["#tooltip"].style.left=_n354+"px";}else this["#tooltip"].hidden=!0;}},{key:"Lu",value:function Lu(){var t=this.Js.getConfig("bx-splinesettings:spline","cubicBezier");"line"===t?this["#spline-tool-icon"].name="line-spline":"quadBezier"===t?this["#spline-tool-icon"].name="quad-bezier-spline":"cubicBezier"===t?this["#spline-tool-icon"].name="cubic-bezier-spline":"arc"===t?this["#spline-tool-icon"].name="arc-spline":"basis"===t?this["#spline-tool-icon"].name="basis-spline":"catmull"===t?this["#spline-tool-icon"].name="catmull-spline":"spiro"===t&&(this["#spline-tool-icon"].name="spiro-spline");}},{key:"Bu",value:function Bu(){var t=this.Js.getConfig("bx-blobsettings:drawingMode","create");"create"===t?this["#blob-tool-icon"].name="blob-create":"erase"===t&&(this["#blob-tool-icon"].name="blob-erase");}},{key:"Ru",value:function Ru(){var t=this.Js.getConfig("bx-othershapesettings:shape","triangle");this["#other-shape-tool-icon"].name="object-".concat(t);}}]);return Zu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zu,"_shadowTemplate",Ki(_templateObject259()));_defineProperty(Zu,"_shadowStyleSheet",Qi(_templateObject260()));customElements.define("bx-toolsdock",Zu);var Ku=/*#__PURE__*/function(_HTMLElement72){_inherits(Ku,_HTMLElement72);var _super93=_createSuper(Ku);_createClass(Ku,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"width",get:function get(){return this.Fs;}}]);function Ku(){var _this450;_classCallCheck(this,Ku);_this450=_super93.call(this),_this450.Fs=0,_this450.zu=!0,_this450.Ou=null,_this450.Gu=null,_this450._shadowRoot=_this450.attachShadow({mode:"closed"}),_this450._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Ku._shadowStyleSheet],_this450._shadowRoot.append(document.importNode(Ku._shadowTemplate.content,!0));var _iterator738=_createForOfIteratorHelper(_this450._shadowRoot.querySelectorAll("[id]")),_step738;try{for(_iterator738.s();!(_step738=_iterator738.n()).done;){var _t1184=_step738.value;_this450["#"+_t1184.id]=_t1184;}}catch(err){_iterator738.e(err);}finally{_iterator738.f();}_this450.Uu(),_this450["#buttons"].addEventListener("toggle",function(t){return _this450.Eu(t);}),_this450["#buttons"].addEventListener("pointerover",function(t){return _this450.Au(t);}),_this450["#buttons"].addEventListener("pointerout",function(t){return _this450.$u(t);}),_this450["#main"].addEventListener("transitionend",function(t){return _this450.Fu(t);}),_this450["#resize-grippie"].addEventListener("pointerdown",function(t){return _this450.Nu(t);});return _this450;}_createClass(Ku,[{key:"connectedCallback",value:function(){var _connectedCallback2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee119(){var _this451=this;return regeneratorRuntime.wrap(function _callee119$(_context120){while(1){switch(_context120.prev=_context120.next){case 0:this.Js=Ri(this,"#app");this.zu=this.Js.getConfig("bx-uisettings:showDockTooltips",!0);this.Fs=this.Js.getConfig("bx-primarypanelsdock:width",318);Gs.addEventListener("sizechange",this.dp=function(){return _this451.ju();});window.addEventListener("resize",this.Vu=function(){return _this451.ju();});this.Js.addEventListener("configchange",this.ln=function(t){return _this451.an(t);});_context120.next=8;return Gs.whenThemeReady;case 8:this.ju();case 9:case"end":return _context120.stop();}}},_callee119,this);}));function connectedCallback(){return _connectedCallback2.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.dp),window.removeEventListener("resize",this.Vu),this.Js.removeEventListener("configchange",this.ln);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.Hu(e);}},{key:"an",value:function an(t){var _t$detail9=t.detail,e=_t$detail9.key,i=_t$detail9.value;"bx-uisettings:showDockTooltips"===e?(this.zu=null===i||i,this.ep()):"bx-primarypanelsdock:width"===e&&(this.Fs=null===i?318:i,this.ju());}},{key:"Hu",value:function Hu(t){if(this["#buttons"].value=this.value,null===this.value)this.ep(),this.setAttribute("animating",""),this.dispatchEvent(new CustomEvent("collapse"));else{this.ep(),null===t&&this.setAttribute("animating","");var _iterator739=_createForOfIteratorHelper(this.children),_step739;try{for(_iterator739.s();!(_step739=_iterator739.n()).done;){var _t1185=_step739.value;_t1185.enabled=_t1185.id===this.value;}}catch(err){_iterator739.e(err);}finally{_iterator739.f();}null===this.Gu&&this.dispatchEvent(new CustomEvent("expand"));}this.Gu=this.value;}},{key:"Eu",value:function Eu(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"Au",value:function(){var _Au2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee120(t){var e;return regeneratorRuntime.wrap(function _callee120$(_context121){while(1){switch(_context121.prev=_context121.next){case 0:e=t.target.closest("x-button");_context121.t0=e!==this.Ou;if(!_context121.t0){_context121.next=9;break;}this.Ou=e;_context121.t1="touch"===t.pointerType;if(!_context121.t1){_context121.next=8;break;}_context121.next=8;return ss(400);case 8:this.ep();case 9:case"end":return _context121.stop();}}},_callee120,this);}));function Au(_x143){return _Au2.apply(this,arguments);}return Au;}()},{key:"$u",value:function $u(t){t.target.closest("x-button")&&(this.Ou=null,this.ep());}},{key:"Fu",value:function Fu(t){this.removeAttribute("animating");var _iterator740=_createForOfIteratorHelper(this.children),_step740;try{for(_iterator740.s();!(_step740=_iterator740.n()).done;){var _t1186=_step740.value;_t1186.enabled=_t1186.id===this.value;}}catch(err){_iterator740.e(err);}finally{_iterator740.f();}}},{key:"Nu",value:function Nu(t){var _this452=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i834,s=this["#buttons"].clientWidth,n=this.Fs-s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e882){var i=n-(_e882.clientX-t.clientX);_this452.Fs=i+s,_this452.ju(),_this452.dispatchEvent(new CustomEvent("resize"));}),this["#resize-grippie"].addEventListener("lostpointercapture",_i834=function i(){_this452["#resize-grippie"].removeEventListener("pointermove",e),_this452["#resize-grippie"].removeEventListener("lostpointercapture",_i834),_this452.Js.setConfig("bx-primarypanelsdock:width",_this452.Fs);});}},{key:"Uu",value:function Uu(){var t="";var _iterator741=_createForOfIteratorHelper(this.children),_step741;try{for(_iterator741.s();!(_step741=_iterator741.n()).done;){var _e883=_step741.value;var _i835=_e883.getAttribute("name");t+="\n        <x-button id=\"".concat(_e883.id,"-button\" skin=\"dock\" value=\"").concat(_e883.id,"\" data-tooltip=\"").concat(_i835,"\">\n          <x-icon name=\"").concat(_e883.id,"\"></x-icon>\n        </x-button>\n        ");}}catch(err){_iterator741.e(err);}finally{_iterator741.f();}this["#buttons"].innerHTML=t;}},{key:"ju",value:function ju(){this.Fs<318?this.Fs=318:this.Fs>window.innerWidth-38&&(this.Fs=window.innerWidth-38);var t=this["#buttons"].clientWidth;0===t&&(t=parseFloat(getComputedStyle(this["#buttons"].firstElementChild).width));var e=this.Fs-t;this["#main"].style.right=t+"px",this["#main"].style.width=e+"px",this["#main"].style.transform="translateX(".concat(e+1,"px)");}},{key:"ep",value:function ep(){if(this.zu&&this.Ou&&!1===this.Ou.toggled){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.Ou.getAttribute("data-tooltip");var _t1187=this["#buttons"].getBoundingClientRect(),_e884=this.Ou.getBoundingClientRect(),_i836=this["#tooltip"].getBoundingClientRect(),_s436=_e884.top-_t1187.top+_e884.height/2-_i836.height/2,_n355=_e884.width+4;this["#tooltip"].style.top=_s436+"px",this["#tooltip"].style.right=_n355+"px";}else this["#tooltip"].hidden=!0;}}]);return Ku;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ku,"observedAttributes",["value"]);_defineProperty(Ku,"_shadowTemplate",Ki(_templateObject261()));_defineProperty(Ku,"_shadowStyleSheet",Qi(_templateObject262()));customElements.define("bx-primarypanelsdock",Ku);var Qu=/*#__PURE__*/function(_HTMLElement73){_inherits(Qu,_HTMLElement73);var _super94=_createSuper(Qu);_createClass(Qu,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"height",get:function get(){return this.Ns;}}]);function Qu(){var _this453;_classCallCheck(this,Qu);_this453=_super94.call(this),_this453.Ns=0,_this453._shadowRoot=_this453.attachShadow({mode:"closed"}),_this453._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Qu._shadowStyleSheet],_this453._shadowRoot.append(document.importNode(Qu._shadowTemplate.content,!0));var _iterator742=_createForOfIteratorHelper(_this453._shadowRoot.querySelectorAll("[id]")),_step742;try{for(_iterator742.s();!(_step742=_iterator742.n()).done;){var _t1188=_step742.value;_this453["#"+_t1188.id]=_t1188;}}catch(err){_iterator742.e(err);}finally{_iterator742.f();}_this453.Uu(),_this453.addEventListener("transitionend",function(t){return _this453.Fu(t);}),_this453["#buttons"].addEventListener("toggle",function(){return _this453.Eu();}),_this453["#resize-grippie"].addEventListener("pointerdown",function(t){return _this453.Nu(t);});return _this453;}_createClass(Qu,[{key:"connectedCallback",value:function(){var _connectedCallback3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee121(){var _this454=this;return regeneratorRuntime.wrap(function _callee121$(_context122){while(1){switch(_context122.prev=_context122.next){case 0:this.Js=Ri(this,"#app");this.tn=Ri(this,"bx-editor");this.Ns=this.Js.getConfig("bx-secondarypanelsdock:height",250);_context122.next=5;return customElements.whenDefined("bx-primarypanelsdock");case 5:window.addEventListener("resize",this.nn=function(){_this454.Wu();});this.Js.addEventListener("configchange",this.ln=function(t){_this454.an(t);});this.tn.primaryPanelsDock.addEventListener("expand",this.Yu=function(){_this454.qu();});this.tn.primaryPanelsDock.addEventListener("collapse",this.Xu=function(){_this454.qu();});this.tn.primaryPanelsDock.addEventListener("resize",this.Zu=function(){_this454.qu();});case 10:case"end":return _context122.stop();}}},_callee121,this);}));function connectedCallback(){return _connectedCallback3.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.primaryPanelsDock.removeEventListener("expand",this.Yu),this.tn.primaryPanelsDock.removeEventListener("collapse",this.Xu),this.tn.primaryPanelsDock.removeEventListener("resize",this.Zu);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.Hu();}},{key:"an",value:function an(t){var _t$detail10=t.detail,e=_t$detail10.key,i=_t$detail10.value;"bx-secondarypanelsdock:height"===e&&(this.Ns=null===i?250:i,this.Wu());}},{key:"Hu",value:function Hu(){var t=this.value;if(this["#buttons"].value=t,null!==this.value){var _iterator743=_createForOfIteratorHelper(this.children),_step743;try{for(_iterator743.s();!(_step743=_iterator743.n()).done;){var _t1189=_step743.value;_t1189.enabled=_t1189.id===this.value;}}catch(err){_iterator743.e(err);}finally{_iterator743.f();}this.Wu();}"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}},{key:"Fu",value:function Fu(t){if(null===this.value){var _iterator744=_createForOfIteratorHelper(this.children),_step744;try{for(_iterator744.s();!(_step744=_iterator744.n()).done;){var _t1190=_step744.value;_t1190.enabled=!1;}}catch(err){_iterator744.e(err);}finally{_iterator744.f();}this.Wu();}}},{key:"Eu",value:function Eu(){this.value!==this["#buttons"].value&&(this.value=this["#buttons"].value,this.Hu());var _iterator745=_createForOfIteratorHelper(this["#buttons"].children),_step745;try{for(_iterator745.s();!(_step745=_iterator745.n()).done;){var _t1191=_step745.value;_t1191.toggled?_t1191.part.add("toggled-button"):_t1191.part.remove("toggled-button");}}catch(err){_iterator745.e(err);}finally{_iterator745.f();}}},{key:"Nu",value:function Nu(t){var _this455=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i837,s=this.clientHeight,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e885){n=s-(_e885.clientY-t.clientY),n<30?n=0:n>window.innerHeight-32&&(n=window.innerHeight-32),_this455.style.height=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i837=function i(){_this455["#resize-grippie"].removeEventListener("pointermove",e),_this455["#resize-grippie"].removeEventListener("lostpointercapture",_i837),0===n?_this455.value=null:_this455.Js.setConfig("bx-secondarypanelsdock:height",n);});}},{key:"Uu",value:function Uu(){var t="";var _iterator746=_createForOfIteratorHelper(this.children),_step746;try{for(_iterator746.s();!(_step746=_iterator746.n()).done;){var _e886=_step746.value;if(!1===_e886.hasAttribute("hidden")){var _i838=_e886.getAttribute("name");t+="\n          <x-button id=\"".concat(_e886.id,"-button\" value=\"").concat(_e886.id,"\" part=\"button\">\n            <x-label>").concat(_i838,"</x-label>\n          </x-button>\n        ");}}}catch(err){_iterator746.e(err);}finally{_iterator746.f();}this["#buttons"].innerHTML=t;}},{key:"qu",value:function qu(){if(null===this.tn.primaryPanelsDock.value)this.style.width=null;else{var _t1192=this.tn.toolsDock.clientWidth,_e887=this.tn.primaryPanelsDock.width;this.style.width="calc(100% - ".concat(_t1192+_e887,"px)");}}},{key:"Wu",value:function Wu(){var t=0;null!==this.value&&(t=this.Ns,t>window.innerHeight-32&&(t=window.innerHeight-32)),this.style.height=t+"px";}}]);return Qu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qu,"observedAttributes",["value"]);_defineProperty(Qu,"_shadowTemplate",Ki(_templateObject263()));_defineProperty(Qu,"_shadowStyleSheet",Qi(_templateObject264()));customElements.define("bx-secondarypanelsdock",Qu);var Ju=Symbol();var tx=/*#__PURE__*/function(_HTMLElement74){_inherits(tx,_HTMLElement74);var _super95=_createSuper(tx);_createClass(tx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function tx(){var _this456;_classCallCheck(this,tx);_this456=_super95.call(this),_this456.Za=ts(_this456.Xs,200,_assertThisInitialized(_this456)),_this456._shadowRoot=_this456.attachShadow({mode:"closed"}),_this456._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,tx._shadowStyleSheet],_this456._shadowRoot.append(document.importNode(tx._shadowTemplate.content,!0));var _iterator747=_createForOfIteratorHelper(_this456._shadowRoot.querySelectorAll("[id]")),_step747;try{for(_iterator747.s();!(_step747=_iterator747.n()).done;){var _t1193=_step747.value;_this456["#"+_t1193.id]=_t1193;}}catch(err){_iterator747.e(err);}finally{_iterator747.f();}_this456.addEventListener("keydown",function(t){return _this456.Tn(t);}),_this456["#popover"].addEventListener("open",function(){return _this456.Ku();}),_this456["#items"].addEventListener("click",function(t){return _this456.lp(t);}),_this456["#items"].addEventListener("dblclick",function(t){return _this456.Qu(t);}),_this456["#manage-button"].addEventListener("click",function(){return _this456.Ju();}),_this456["#developer-mode-button"].addEventListener("toggle",function(){return _this456.tx();});return _this456;}_createClass(tx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.ix=Ri(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.en():this.sn():"value"===t&&this.Hu());}},{key:"en",value:function en(){var _this457=this;this["#developer-mode-button"].toggled=this.Js.getConfig("bx-solidcolorselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.Xs(),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this457.pl(t.detail);}),this.ix.addEventListener("resize",this.sx=function(){_this457.nx();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.tn.board.removeEventListener("workspacemutation",this.rn),this.ix.removeEventListener("resize",this.sx);}},{key:"Hu",value:function Hu(){this.ox(),this.lx();}},{key:"pl",value:function pl(){this.Za();}},{key:"nx",value:function nx(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");if(e){var _t1194=e.getAttribute("data-value");_t1194===this.value&&!0!==this.mixed||(this.value=_t1194,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Qu",value:function Qu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1195=e.getAttribute("data-value");this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.editColor(_t1195);}}},{key:"Ju",value:function Ju(){this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("colors-browser");}},{key:"tx",value:function tx(){var t=this["#developer-mode-button"].toggled;this.Js.setConfig("bx-solidcolorselect:developerMode",t),this.ox(),this.hx(),this.ux();}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx());}},{key:"Xs",value:function Xs(){this.ox(),this.gx(),this.ux();}},{key:"ox",value:function ox(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1196=this.tn.board.masterWorkspace.querySelector("#"+this.value),_e888=$o(_t1196);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style","background: ".concat(_e888,";")),this["#button-label"].textContent=this.wx(_t1196,this["#developer-mode-button"].toggled);}}},{key:"gx",value:function gx(){var t=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return _o(t);});this["#items"].innerHTML="";var _iterator748=_createForOfIteratorHelper(t),_step748;try{for(_iterator748.s();!(_step748=_iterator748.n()).done;){var _e889=_step748.value;var _t1197=$o(_e889),_i839=Ki(_templateObject28(),_e889.id,_t1197,_e889.id);_i839[Ju]=_e889,this["#items"].append(_i839);}}catch(err){_iterator748.e(err);}finally{_iterator748.f();}this.lx(),this.hx();}},{key:"lx",value:function lx(){var _iterator749=_createForOfIteratorHelper(this["#items"].children),_step749;try{for(_iterator749.s();!(_step749=_iterator749.n()).done;){var _t1198=_step749.value;_t1198.getAttribute("data-value")===this.value?_t1198.setAttribute("data-selected",""):_t1198.removeAttribute("data-selected");}}catch(err){_iterator749.e(err);}finally{_iterator749.f();}}},{key:"hx",value:function hx(){var _iterator750=_createForOfIteratorHelper(this["#items"].children),_step750;try{for(_iterator750.s();!(_step750=_iterator750.n()).done;){var _t1199=_step750.value;var _e890=_t1199[Ju];_t1199.querySelector(".label").textContent=this.wx(_e890,this["#developer-mode-button"].toggled);}}catch(err){_iterator750.e(err);}finally{_iterator750.f();}}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"xx",value:function xx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"mx",value:function mx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ku",value:function Ku(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"wx",value:function wx(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<color>";else{var _e891=t.querySelector(":scope > bx-title");i=_e891?_e891.textContent:"Color";}return i;}}]);return tx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tx,"observedAttributes",["enabled","value"]);_defineProperty(tx,"_shadowTemplate",Ki(_templateObject265()));_defineProperty(tx,"_shadowStyleSheet",Qi(_templateObject266()));customElements.define("bx-colorselect",tx);var ex=Symbol();var ix=/*#__PURE__*/function(_HTMLElement75){_inherits(ix,_HTMLElement75);var _super96=_createSuper(ix);_createClass(ix,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function ix(){var _this458;_classCallCheck(this,ix);_this458=_super96.call(this),_this458.Za=ts(_this458.Xs,200,_assertThisInitialized(_this458)),_this458._shadowRoot=_this458.attachShadow({mode:"closed"}),_this458._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,ix._shadowStyleSheet],_this458._shadowRoot.append(document.importNode(ix._shadowTemplate.content,!0));var _iterator751=_createForOfIteratorHelper(_this458._shadowRoot.querySelectorAll("[id]")),_step751;try{for(_iterator751.s();!(_step751=_iterator751.n()).done;){var _t1200=_step751.value;_this458["#"+_t1200.id]=_t1200;}}catch(err){_iterator751.e(err);}finally{_iterator751.f();}_this458.addEventListener("keydown",function(t){return _this458.Tn(t);}),_this458["#popover"].addEventListener("open",function(){return _this458.Ku();}),_this458["#items"].addEventListener("click",function(t){return _this458.lp(t);}),_this458["#items"].addEventListener("dblclick",function(t){return _this458.Qu(t);}),_this458["#manage-button"].addEventListener("click",function(){return _this458.Ju();}),_this458["#developer-mode-button"].addEventListener("toggle",function(){return _this458.tx();});return _this458;}_createClass(ix,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.ix=Ri(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.en():this.sn():"value"===t&&this.Hu());}},{key:"en",value:function en(){var _this459=this;this["#developer-mode-button"].toggled=this.Js.getConfig("bx-gradientselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.Xs(),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this459.pl(t.detail);}),this.ix.addEventListener("resize",this.sx=function(){_this459.nx();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.tn.board.removeEventListener("workspacemutation",this.rn),this.ix.removeEventListener("resize",this.sx);}},{key:"Hu",value:function Hu(){this.ox(),this.lx();}},{key:"pl",value:function pl(){this.Za();}},{key:"nx",value:function nx(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");if(e){var _t1201=e.getAttribute("data-value");_t1201===this.value&&!0!==this.mixed||(this.value=_t1201,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Qu",value:function Qu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1202=e.getAttribute("data-value");this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.editGradient(_t1202);}}},{key:"Ju",value:function Ju(){this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("gradients-browser");}},{key:"tx",value:function tx(){var t=this["#developer-mode-button"].toggled;this.Js.setConfig("bx-gradientselect:developerMode",t),this.ox(),this.hx(),this.ux();}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx());}},{key:"Xs",value:function Xs(){this.ox(),this.gx(),this.ux();}},{key:"ox",value:function ox(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1203=this.tn.board.masterWorkspace.querySelector("#"+this.value),_e892=zo(_t1203),_i840="";if(0===_e892.length)_i840="background: transparent";else if(1===_e892.length){_i840="background: ".concat(Ao(_e892[0]));}else if(_e892.length>1){_i840="background-image: linear-gradient(90deg, "+_e892.map(function(t){return"".concat(Ao(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style",_i840),this["#button-label"].textContent=this.vx(_t1203,this["#developer-mode-button"].toggled);}}},{key:"gx",value:function gx(){var t=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Po(t);});this["#items"].innerHTML="";var _iterator752=_createForOfIteratorHelper(t),_step752;try{for(_iterator752.s();!(_step752=_iterator752.n()).done;){var _e893=_step752.value;var _t1204=zo(_e893),_i841="";if(0===_t1204.length)_i841="background: transparent";else if(1===_t1204.length){_i841="background: ".concat(Ao(_t1204[0]));}else if(_t1204.length>1){_i841="background-image: linear-gradient(90deg, "+_t1204.map(function(t){return"".concat(Ao(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _s437=Ki(_templateObject29(),_e893.id,_i841,_e893.id);_s437[ex]=_e893,this["#items"].append(_s437);}}catch(err){_iterator752.e(err);}finally{_iterator752.f();}this.lx(),this.hx();}},{key:"lx",value:function lx(){var _iterator753=_createForOfIteratorHelper(this["#items"].children),_step753;try{for(_iterator753.s();!(_step753=_iterator753.n()).done;){var _t1205=_step753.value;_t1205.getAttribute("data-value")===this.value?_t1205.setAttribute("data-selected",""):_t1205.removeAttribute("data-selected");}}catch(err){_iterator753.e(err);}finally{_iterator753.f();}}},{key:"hx",value:function hx(){var _iterator754=_createForOfIteratorHelper(this["#items"].children),_step754;try{for(_iterator754.s();!(_step754=_iterator754.n()).done;){var _t1206=_step754.value;var _e894=_t1206[ex];_t1206.querySelector(".label").textContent=this.vx(_e894,this["#developer-mode-button"].toggled);}}catch(err){_iterator754.e(err);}finally{_iterator754.f();}}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"xx",value:function xx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"mx",value:function mx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ku",value:function Ku(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"vx",value:function vx(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<gradient>";else{var _e895=t.querySelector(":scope > bx-title");i=_e895?_e895.textContent:"Gradient";}return i;}}]);return ix;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ix,"observedAttributes",["enabled","value"]);_defineProperty(ix,"_shadowTemplate",Ki(_templateObject267()));_defineProperty(ix,"_shadowStyleSheet",Qi(_templateObject268()));customElements.define("bx-gradientselect",ix);var sx=Symbol();var nx=/*#__PURE__*/function(_HTMLElement76){_inherits(nx,_HTMLElement76);var _super97=_createSuper(nx);_createClass(nx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function nx(){var _this460;_classCallCheck(this,nx);_this460=_super97.call(this),_this460.Za=ts(_this460.Xs,200,_assertThisInitialized(_this460)),_this460.yx=es(_this460.kx,2e3,_assertThisInitialized(_this460)),_this460._shadowRoot=_this460.attachShadow({mode:"closed"}),_this460._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,nx._shadowStyleSheet],_this460._shadowRoot.append(document.importNode(nx._shadowTemplate.content,!0));var _iterator755=_createForOfIteratorHelper(_this460._shadowRoot.querySelectorAll("[id]")),_step755;try{for(_iterator755.s();!(_step755=_iterator755.n()).done;){var _t1207=_step755.value;_this460["#"+_t1207.id]=_t1207;}}catch(err){_iterator755.e(err);}finally{_iterator755.f();}_this460.addEventListener("keydown",function(t){return _this460.Tn(t);}),_this460["#popover"].addEventListener("open",function(){return _this460.Ku();}),_this460["#items"].addEventListener("click",function(t){return _this460.lp(t);}),_this460["#items"].addEventListener("dblclick",function(t){return _this460.Qu(t);}),_this460["#manage-button"].addEventListener("click",function(t){return _this460.Ju(t);}),_this460["#developer-mode-button"].addEventListener("toggle",function(){return _this460.tx();});return _this460;}_createClass(nx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.ix=Ri(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.en():this.sn():"value"===t&&this.Hu());}},{key:"en",value:function en(){var _this461=this;this["#developer-mode-button"].toggled=this.Js.getConfig("bx-patternselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.Xs(),this.kx(),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this461.pl(t.detail);}),this.ix.addEventListener("resize",this.sx=function(){_this461.nx();});}},{key:"sn",value:function sn(){this["#mirror"].innerHTML="",this["#button"].collapse(),this.tn.board.removeEventListener("workspacemutation",this.rn),this.ix.removeEventListener("resize",this.sx);}},{key:"Hu",value:function Hu(){this.ox(),this.lx();}},{key:"pl",value:function pl(){this.Za(),this.yx();}},{key:"nx",value:function nx(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");if(e){var _t1208=e.getAttribute("data-value");_t1208!==this.value&&(this.value=_t1208,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Qu",value:function Qu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1209=e.getAttribute("data-value");this.tn.board.editPattern(_t1209);}}},{key:"Ju",value:function Ju(t){this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("patterns-browser");}},{key:"tx",value:function tx(){var t=this["#developer-mode-button"].toggled;this.Js.setConfig("bx-patternselect:developerMode",t),this.ox(),this.hx();}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx());}},{key:"Xs",value:function Xs(){this.ox(),this.gx();}},{key:"ox",value:function ox(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="";else{var _t1210=this.tn.board.masterWorkspace.querySelector("#"+this.value);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail"].style.fill="url(#".concat(this.value,")"),this["#button-label"].textContent=this.Sx(_t1210,this["#developer-mode-button"].toggled);}}},{key:"gx",value:function gx(){var t=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return!1===t.hasAttribute("href");});this["#items"].innerHTML="";var _iterator756=_createForOfIteratorHelper(t),_step756;try{for(_iterator756.s();!(_step756=_iterator756.n()).done;){var _e896=_step756.value;var _t1211=Ki(_templateObject30(),_e896.id,_e896.id,_e896.id);_t1211[sx]=_e896,this["#items"].append(_t1211);}}catch(err){_iterator756.e(err);}finally{_iterator756.f();}this.lx(),this.hx();}},{key:"lx",value:function lx(){var _iterator757=_createForOfIteratorHelper(this["#items"].children),_step757;try{for(_iterator757.s();!(_step757=_iterator757.n()).done;){var _t1212=_step757.value;_t1212.getAttribute("data-value")===this.value?_t1212.setAttribute("data-selected",""):_t1212.removeAttribute("data-selected");}}catch(err){_iterator757.e(err);}finally{_iterator757.f();}}},{key:"hx",value:function hx(){var _iterator758=_createForOfIteratorHelper(this["#items"].children),_step758;try{for(_iterator758.s();!(_step758=_iterator758.n()).done;){var _t1213=_step758.value;var _e897=_t1213[sx];_t1213.querySelector(".label").textContent=this.Sx(_e897,this["#developer-mode-button"].toggled);}}catch(err){_iterator758.e(err);}finally{_iterator758.f();}}},{key:"kx",value:function kx(){this["#mirror"].innerHTML=this.tn.board.masterWorkspace.innerHTML;}},{key:"xx",value:function xx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"mx",value:function mx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ku",value:function Ku(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Sx",value:function Sx(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<pattern>";else{var _e898;_e898=this.tn.board.currentWorkspace.id===t.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):t.querySelector(":scope > bx-title"),i=_e898?_e898.textContent:"Pattern";}return i;}}]);return nx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nx,"observedAttributes",["enabled","value"]);_defineProperty(nx,"_shadowTemplate",Ki(_templateObject269()));_defineProperty(nx,"_shadowStyleSheet",Qi(_templateObject270()));customElements.define("bx-patternselect",nx);var ox=/*#__PURE__*/function(_HTMLElement77){_inherits(ox,_HTMLElement77);var _super98=_createSuper(ox);_createClass(ox,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"rect";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000";},set:function set(t){this.setAttribute("value",t);}},{key:"format",get:function get(){return this.hasAttribute("format")?this.getAttribute("format"):"hex";},set:function set(t){t?this.setAttribute("format",t):this.removeAttribute("format");}},{key:"formatSelect",get:function get(){return this.hasAttribute("formatselect");},set:function set(t){t?this.setAttribute("formatselect",""):this.removeAttribute("formatselect");}},{key:"alphaSlider",get:function get(){return this.hasAttribute("alphaslider");},set:function set(t){t?this.setAttribute("alphaslider",""):this.removeAttribute("alphaslider");}}]);function ox(){var _this462;_classCallCheck(this,ox);_this462=_super98.call(this),_this462.Cx=!1,_this462._shadowRoot=_this462.attachShadow({mode:"closed"}),_this462._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,ox._shadowStyleSheet],_this462._shadowRoot.append(document.importNode(ox._shadowTemplate.content,!0));var _iterator759=_createForOfIteratorHelper(_this462._shadowRoot.querySelectorAll("[id]")),_step759;try{for(_iterator759.s();!(_step759=_iterator759.n()).done;){var _t1214=_step759.value;_this462["#"+_t1214.id]=_t1214;}}catch(err){_iterator759.e(err);}finally{_iterator759.f();}_this462["#pickers"].addEventListener("change",function(t){return _this462._x(t);}),_this462["#pickers"].addEventListener("changestart",function(t){return _this462.Mx(t);}),_this462["#pickers"].addEventListener("changeend",function(t){return _this462.Px(t);}),_this462["#input"].addEventListener("click",function(t){return _this462.Dx(t);}),_this462["#input"].addEventListener("change",function(t){return _this462.zx(t);}),_this462["#input"].addEventListener("keydown",function(t){return _this462.Ox(t);}),_this462["#format-select"].addEventListener("change",function(t){return _this462.Ex(t);}),_this462["#grab-button"].addEventListener("toggle",function(){return _this462.ro();});return _this462;}_createClass(ox,[{key:"connectedCallback",value:function connectedCallback(){this.tn=Ri(this,"bx-editor"),this.Tx=Ri(this,"x-popover"),this.Ax();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.$x():"value"===t?this.Ix():"format"===t?this.Lx():"alphaslider"===t&&this.Bx());}},{key:"Ix",value:function Ix(){this["#pickers"].querySelector(":scope > :not([hidden])").setAttribute("value",this.value),this["#input"].value=fo(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll();}},{key:"$x",value:function $x(){this.Ax();}},{key:"Lx",value:function Lx(){this["#input"].value=fo(this.value,this.format),this["#format-select"].value=this.format;}},{key:"Bx",value:function Bx(){this.alphaSlider?(this["#rect-picker"].setAttribute("alphaslider",""),this["#wheel-picker"].setAttribute("alphaslider",""),this["#bars-picker"].setAttribute("alphaslider","")):(this["#rect-picker"].removeAttribute("alphaslider"),this["#wheel-picker"].removeAttribute("alphaslider"),this["#bars-picker"].removeAttribute("alphaslider"));}},{key:"Mx",value:function Mx(t){this.Cx=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));}},{key:"_x",value:function _x(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"Px",value:function Px(t){this.Cx=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}},{key:"Dx",value:function Dx(t){t.detail>=2&&"hex"===this.format&&this["#input"].selectAll();}},{key:"zx",value:function zx(t){!1===this.Cx&&(null!==this["#input"].error?(this["#input"].value=fo(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll()):(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=this["#input"].value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))));}},{key:"Ox",value:function Ox(t){"Enter"!==t.code&&"Space"!==t.code||this.closest("x-popover")&&t.stopPropagation();}},{key:"Ex",value:function Ex(t){this.format=this["#format-select"].value,this.dispatchEvent(new CustomEvent("formatchange",{bubbles:!0}));}},{key:"ro",value:function(){var _ro2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee122(){var t,e;return regeneratorRuntime.wrap(function _callee122$(_context123){while(1){switch(_context123.prev=_context123.next){case 0:t=null!==this.Tx&&!0===this.Tx.modal;t&&(this.Tx.modal=!1);_context123.next=4;return this.tn.colorGrabber.grab();case 4:e=_context123.sent;this["#grab-button"].toggled=!1,t&&(this.Tx.modal=!0),null!==e&&(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=e,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));case 6:case"end":return _context123.stop();}}},_callee122,this);}));function ro(){return _ro2.apply(this,arguments);}return ro;}()},{key:"Ax",value:function Ax(){"rect"===this.type?(this["#rect-picker"].hidden=!1,this["#rect-picker"].setAttribute("value",this.value),this["#wheel-picker"].hidden=!0,this["#bars-picker"].hidden=!0):"wheel"===this.type?(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!1,this["#wheel-picker"].value=this.value,this["#bars-picker"].hidden=!0):"bars"===this.type&&(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!0,this["#bars-picker"].value=this.value,this["#bars-picker"].hidden=!1);}}]);return ox;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ox,"observedAttributes",["type","value","format","alphaslider"]);_defineProperty(ox,"_shadowTemplate",Ki(_templateObject271()));_defineProperty(ox,"_shadowStyleSheet",Qi(_templateObject272()));customElements.define("bx-colorpicker",ox);var lx=/*#__PURE__*/function(_HTMLElement78){_inherits(lx,_HTMLElement78);var _super99=_createSuper(lx);_createClass(lx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value").split(" "):["fill","stroke","markers"];},set:function set(t){this.setAttribute("value",t.join(" "));}},{key:"context",get:function get(){return this.getAttribute("context");},set:function set(t){this.setAttribute("context",t);}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function lx(){var _this463;_classCallCheck(this,lx);_this463=_super99.call(this),_this463._shadowRoot=_this463.attachShadow({mode:"closed"}),_this463._shadowRoot.adoptedStyleSheets=[lx._shadowStyleSheet],_this463._shadowRoot.append(document.importNode(lx._shadowTemplate.content,!0));var _iterator760=_createForOfIteratorHelper(_this463._shadowRoot.querySelectorAll("[id]")),_step760;try{for(_iterator760.s();!(_step760=_iterator760.n()).done;){var _t1215=_step760.value;_this463["#"+_t1215.id]=_t1215;}}catch(err){_iterator760.e(err);}finally{_iterator760.f();}_this463.addEventListener("pointerdown",function(t){return _this463.Oo(t);}),_this463._shadowRoot.addEventListener("pointerdown",function(t){return _this463.Rx(t);}),_this463.addEventListener("keydown",function(t){return _this463.Tn(t);});return _this463;}_createClass(lx,[{key:"connectedCallback",value:function connectedCallback(){var _this464=this;Gs.addEventListener("sizechange",this.dp=function(){return _this464.rp();}),this.rp(),this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled);}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.dp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.Ix():"context"===t?this.Gx():"disabled"===t?this.Ux():"size"===t&&this.rp());}},{key:"Ix",value:function Ix(){var _this$value5=_slicedToArray(this.value,3),t=_this$value5[0],e=_this$value5[1],i=_this$value5[2];this["#".concat(t,"-thumb")].setAttribute("data-socket","1"),this["#".concat(e,"-thumb")].setAttribute("data-socket","2"),this["#".concat(i,"-thumb")].setAttribute("data-socket","3");}},{key:"Gx",value:function Gx(){var _iterator761=_createForOfIteratorHelper(this["#thumbs"].children),_step761;try{for(_iterator761.s();!(_step761=_iterator761.n()).done;){var _t1216=_step761.value;_t1216.getAttribute("data-value")===this.context?(_t1216.setAttribute("data-toggled",""),_t1216.part.add("toggled-thumb")):(_t1216.removeAttribute("data-toggled"),_t1216.part.remove("toggled-thumb"));}}catch(err){_iterator761.e(err);}finally{_iterator761.f();}}},{key:"Ux",value:function Ux(){this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("aria-disabled",this.disabled);}},{key:"Oo",value:function Oo(t){t.preventDefault(),this.focus(),this.blur();}},{key:"rp",value:function rp(){var t=Gs.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Fx",value:function Fx(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 1;{var _t1217=e.width/2;for(var _s438=1;_s438<=3;_s438+=1){if(e.left-i.left>=_t1217&&e.left-i.left<_t1217+e.width)return _s438>this["#thumbs"].childElementCount?this["#thumbs"].childElementCount:_s438+1;_t1217+=e.width;}}}},{key:"Rx",value:function Rx(t){var _this465=this;if(1!==t.buttons)return;var e,_i844;this.setPointerCapture(t.pointerId);var s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=null,l=null;this.Nx(9999999),this.addEventListener("pointermove",e=function e(_e899){var i=new DOMPoint(_e899.clientX,_e899.clientY),a=_e899.timeStamp-t.timeStamp;if(null===o&&(Ee(n,i)>=3||a>80)&&(o=s,l=parseFloat(getComputedStyle(o).left),o.style.transition="none",o.setAttribute("data-dragged",""),o.part.add("dragged-thumb")),o){var _i842=_e899.clientX-t.clientX,_s439=0,_n356=_this465["#thumbs"].clientWidth-o.clientWidth,_a182=tt(l+_i842,_s439,_n356);o.style.left="".concat(_a182,"px");var _h150=o.getAttribute("data-socket"),_r90=_this465.Fx(o).toString();if(_r90!==_h150){o.setAttribute("data-socket",_r90);var _iterator762=_createForOfIteratorHelper(_this465["#thumbs"].children),_step762;try{for(_iterator762.s();!(_step762=_iterator762.n()).done;){var _t1218=_step762.value;_t1218!==o&&_t1218.getAttribute("data-socket")===_r90&&_t1218.setAttribute("data-socket",_h150);}}catch(err){_iterator762.e(err);}finally{_iterator762.f();}}}}),this.addEventListener("lostpointercapture",_i844=function i(){if(_this465.removeEventListener("pointermove",e),_this465.removeEventListener("lostpointercapture",_i844),_this465.Nx(500),o)o.style.transition=null,o.style.left=null,o.removeAttribute("data-dragged"),o.part.remove("dragged-thumb");else{var _t1219=s,_e900=_this465["#thumbs"].querySelector(".thumb[data-toggled]"),_i843=_toConsumableArray(_this465["#thumbs"].children).find(function(i){return i!==_t1219&&i!==_e900;});if(_t1219!==_e900){var _s440=_t1219.getAttribute("data-socket"),_n357=_e900.getAttribute("data-socket");"1"===_n357?"2"===_s440?(_t1219.setAttribute("data-socket","1"),_e900.setAttribute("data-socket","2")):"3"===_s440&&(_i843.setAttribute("data-socket","1"),_t1219.setAttribute("data-socket","2"),_e900.setAttribute("data-socket","3")):"2"===_n357?"1"===_s440?(_e900.setAttribute("data-socket","1"),_t1219.setAttribute("data-socket","2")):"3"===_s440&&(_t1219.setAttribute("data-socket","2"),_e900.setAttribute("data-socket","3")):"3"===_n357&&("1"===_s440?(_e900.setAttribute("data-socket","1"),_t1219.setAttribute("data-socket","2"),_i843.setAttribute("data-socket","3")):"2"===_s440&&(_e900.setAttribute("data-socket","2"),_t1219.setAttribute("data-socket","3")));}}_this465.jx();});}},{key:"Tn",value:function Tn(t){"Enter"===t.code||"Space"===t.code?(t.preventDefault(),t.stopPropagation(),this.Vx(),this.jx()):"ArrowRight"===t.code?(t.preventDefault(),t.stopPropagation(),this.Vx(!1),this.jx()):"ArrowLeft"===t.code&&(t.preventDefault(),t.stopPropagation(),this.Hx(!1),this.jx());}},{key:"jx",value:function jx(){var t=[this["#thumbs"].querySelector('[data-socket="1"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="2"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="3"]').getAttribute("data-value")];!1===ii(this.value,t,!0)&&(this.value=t,this.dispatchEvent(new CustomEvent("change")));}},{key:"Vx",value:function Vx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.Nx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"1"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3")):"3"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1"));}},{key:"Hx",value:function Hx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.Nx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"3"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1")):"1"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3"));}},{key:"Nx",value:function Nx(){var _this466=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:500;clearTimeout(this.Wx),this["#thumbs"].setAttribute("data-animate",""),this.Wx=setTimeout(function(){_this466["#thumbs"].removeAttribute("data-animate","");},t);}}]);return lx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lx,"observedAttributes",["value","context","disabled","size"]);_defineProperty(lx,"_shadowTemplate",Ki(_templateObject273()));_defineProperty(lx,"_shadowStyleSheet",Qi(_templateObject274()));customElements.define("bx-paintorderswitch",lx);var ax=/*#__PURE__*/function(_HTMLElement79){_inherits(ax,_HTMLElement79);var _super100=_createSuper(ax);_createClass(ax,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"context",get:function get(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set:function set(t){"fill"!==t&&"stroke"!==t||this.setAttribute("context",t);}}]);function ax(){var _this467;_classCallCheck(this,ax);_this467=_super100.call(this),_this467.Za=ts(_this467.Xs,200,_assertThisInitialized(_this467)),_this467.Yx=!1,_this467._shadowRoot=_this467.attachShadow({mode:"closed"}),_this467._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,ax._shadowStyleSheet],_this467._shadowRoot.append(document.importNode(ax._shadowTemplate.content,!0));var _iterator763=_createForOfIteratorHelper(_this467._shadowRoot.querySelectorAll("[id]")),_step763;try{for(_iterator763.s();!(_step763=_iterator763.n()).done;){var _t1220=_step763.value;_this467["#"+_t1220.id]=_t1220;}}catch(err){_iterator763.e(err);}finally{_iterator763.f();}_this467["#paint-type-buttons"].addEventListener("toggle",function(t){return _this467.qx(t);}),_this467["#color-select"].addEventListener("change",function(){return _this467.Xx();}),_this467["#color-unlink-button"].addEventListener("click",function(){return _this467.Zx();}),_this467["#gradient-select"].addEventListener("change",function(){return _this467.Kx();}),_this467["#gradient-unlink-button"].addEventListener("click",function(){return _this467.Qx();}),_this467["#color-picker"].addEventListener("changestart",function(t){return _this467.Jx(t);}),_this467["#color-picker"].addEventListener("formatchange",function(t){return _this467.tb(t);}),_this467["#color-picker-type-buttons"].addEventListener("toggle",function(t){return _this467.eb(t);}),_this467["#color-picker-hint"].addEventListener("click",function(t){return _this467.ib(t);}),_this467["#stop-opacity-section"].addEventListener("changestart",function(){return _this467.sb();}),_this467["#pattern-select"].addEventListener("change",function(){return _this467.nb();}),_this467["#spread-method-buttons"].addEventListener("toggle",function(t){return _this467.ob(t);}),_this467["#paint-order-switch"].addEventListener("change",function(){return _this467.lb();});return _this467;}_createClass(ax,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.en():this.sn():"context"===t&&this["#paint-order-switch"].setAttribute("context",this.context));}},{key:"en",value:function en(){var _this468=this;var t=this.Js,e=this.tn.board;this["#color-picker"].type=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),"rect"),this["#color-picker"].format=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),"hex"),this["#color-picker-type-buttons"].value=this["#color-picker"].type,this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this468.Za();}),e.addEventListener("selectedtextrangechange",this.ga=function(){_this468.Xs();}),e.addEventListener("workspacemutation",this.rn=function(t){_this468.Za();}),e.addEventListener("currentworkspacechange",this.ab=function(){_this468.Xs();}),e.linearGradientHud.addEventListener("selectedstopschange",this.hb=function(){_this468.Za();}),e.radialGradientHud.addEventListener("selectedstopschange",this.rb=function(){_this468.Za();});}},{key:"sn",value:function sn(){var t=this.tn.board;this["#color-select"].enabled=!1,this["#gradient-select"].enabled=!1,this["#pattern-select"].enabled=!1,t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("selectedtextrangechange",this.ga),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.ab),t.linearGradientHud.removeEventListener("selectedstopschange",this.hb),t.radialGradientHud.removeEventListener("selectedstopschange",this.rb);}},{key:"qx",value:function qx(t){var e=this["#paint-type-buttons"].value;"solid"===e?this.cb():"linear-gradient"===e?this.pb():"radial-gradient"===e?this.ub():"pattern"===e?this.xb():"inherit"===e?this.bb():"none"===e&&this.mb();}},{key:"cb",value:function cb(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n="#bada55";t.undoManager.checkpoint("Paint type");var _iterator764=_createForOfIteratorHelper(i),_step764;try{for(_iterator764.s();!(_step764=_iterator764.n()).done;){var _t1222=_step764.value;bi(_t1222,s);}}catch(err){_iterator764.e(err);}finally{_iterator764.f();}{var _t1221=e[0];if("text"===_t1221.localName){var _e901=_t1221.querySelectorAll("tspan"),_i846=gi(s,_t1221),_n358=_i846.length>0?_i846:_e901;_n358.length>0&&(_t1221=_n358[0]);}var _i845=Qo(_t1221,this.context);if("solid"===_i845)n=getComputedStyle(_t1221)[this.context];else if("linearGradient"===_i845||"radialGradient"===_i845){var _e902=Jo(_t1221,this.context),_i847=zo(_e902);_i847[0]&&(n=Ao(_i847[0]));}}var _iterator765=_createForOfIteratorHelper(e),_step765;try{for(_iterator765.s();!(_step765=_iterator765.n()).done;){var _t1223=_step765.value;if("text"===_t1223.localName&&_t1223.querySelector("tspan")){var _e903=_t1223.querySelectorAll("tspan"),_i848=gi(s,_t1223),_o277=_i848.length>0&&!s.collapsed?_i848:_e903;var _iterator767=_createForOfIteratorHelper(_o277),_step767;try{for(_iterator767.s();!(_step767=_iterator767.n()).done;){var _t1224=_step767.value;_t1224.style[this.context]=n;}}catch(err){_iterator767.e(err);}finally{_iterator767.f();}}else _t1223.style[this.context]=n,Op(this.context,_t1223);}}catch(err){_iterator765.e(err);}finally{_iterator765.f();}var _iterator766=_createForOfIteratorHelper(i),_step766;try{for(_iterator766.s();!(_step766=_iterator766.n()).done;){var _t1225=_step766.value;mi(_t1225,s);}}catch(err){_iterator766.e(err);}finally{_iterator766.f();}}},{key:"pb",value:function pb(){var _this469=this;var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=Qo(e,_this469.context);if("linearGradient"===s||"radialGradient"===s){var _s441=el(t.masterWorkspace,getComputedStyle(e)[_this469.context]),_n359=So(_s441);if(_n359)i=_n359;else{i=$i("linearGradient");var _iterator768=_createForOfIteratorHelper(zo(_s441)),_step768;try{for(_iterator768.s();!(_step768=_iterator768.n()).done;){var _t1226=_step768.value;i.append(_t1226.cloneNode());}}catch(err){_iterator768.e(err);}finally{_iterator768.f();}}}else if("solid"===s){var _t1227="",_s442=Jo(e,_this469.context);_t1227=_s442?$o(_s442):getComputedStyle(e)[_this469.context];var _bo3=bo(_t1227,"hsla"),_bo4=_slicedToArray(_bo3,4),_n360=_bo4[0],_o278=_bo4[1],_l244=_bo4[2],_a183=_bo4[3],_h151=_l244-20<0?0:_l244-20,_r91=mo([_n360,_o278,_l244,_a183],"hsla","rgba"),_d73=mo([_n360,_o278,_h151,_a183],"hsla","rgba");i=Ai("\n          <linearGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r91,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d73,"\"></stop>\n          </linearGradient>\n        "));}else i=Ai('\n          <linearGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </linearGradient>\n        ');return i;};var _iterator769=_createForOfIteratorHelper(i),_step769;try{for(_iterator769.s();!(_step769=_iterator769.n()).done;){var _t1232=_step769.value;bi(_t1232,s);}}catch(err){_iterator769.e(err);}finally{_iterator769.f();}if(s&&!1===s.collapsed){var _e904=s.startContainer.closest("text"),_i849=_e904.querySelectorAll("tspan"),_l245=gi(s,_e904),_a184=_l245.length>0?_l245:_i849,_h152=_a184[0];if("linearGradient"===Qo(_h152,this.context)){var _e905=el(t.masterWorkspace,getComputedStyle(_h152)[this.context]);var _iterator770=_createForOfIteratorHelper(_a184),_step770;try{for(_iterator770.s();!(_step770=_iterator770.n()).done;){var _t1228=_step770.value;_t1228!==_h152&&(_t1228.style[this.context]="url(#".concat(_e905.id,")"));}}catch(err){_iterator770.e(err);}finally{_iterator770.f();}}else{var _i850=o(_h152);var _iterator771=_createForOfIteratorHelper(_a184),_step771;try{for(_iterator771.s();!(_step771=_iterator771.n()).done;){var _s443=_step771.value;var _o279=Oi(_e904),_l246=J(_o279.x+_o279.width/2,n),_a185=J(_o279.y,n),_h153=J(_o279.x+_o279.width/2,n),_r92=J(_o279.y+_o279.height,n),_d74=$i("svg:linearGradient");if(_d74.setAttribute("gradientUnits","userSpaceOnUse"),_d74.setAttribute("x1",_l246),_d74.setAttribute("y1",_a185),_d74.setAttribute("x2",_h153),_d74.setAttribute("y2",_r92),_i850.isConnected)_d74.setAttribute("id",t.generateUniqueID(_i850.id+"-")),_d74.setAttribute("href","#"+_i850.id);else{_d74.setAttribute("id",t.generateUniqueID("gradient-"));var _iterator772=_createForOfIteratorHelper(To(_i850)),_step772;try{for(_iterator772.s();!(_step772=_iterator772.n()).done;){var _t1229=_step772.value;_d74.append(_t1229.cloneNode());}}catch(err){_iterator772.e(err);}finally{_iterator772.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d74),_s443.style[this.context]="url(#".concat(_d74.id,")");}}catch(err){_iterator771.e(err);}finally{_iterator771.f();}}}else{var _i851=e[0];"text"===_i851.localName&&_i851.querySelector("tspan")&&(_i851=_i851.querySelector("tspan"));var _s444=o(_i851);var _iterator773=_createForOfIteratorHelper(e),_step773;try{for(_iterator773.s();!(_step773=_iterator773.n()).done;){var _i852=_step773.value;var _e906=!1;if("linearGradient"===Qo(_i852,this.context)){var _n361=el(t.masterWorkspace,getComputedStyle(_i852)[this.context]);So(_n361)===_s444&&(_e906=!0);}if(!1===_e906){var _e907=Oi(_i852),_o280="use"===_i852.localName?"objectBoundingBox":"userSpaceOnUse",_l247="use"===_i852.localName?.5:J(_e907.x+_e907.width/2,n),_a186="use"===_i852.localName?0:J(_e907.y,n),_h154="use"===_i852.localName?.5:J(_e907.x+_e907.width/2,n),_r93="use"===_i852.localName?1:J(_e907.y+_e907.height,n),_d75=$i("svg:linearGradient");if(_d75.setAttribute("gradientUnits",_o280),_d75.setAttribute("x1",_l247),_d75.setAttribute("y1",_a186),_d75.setAttribute("x2",_h154),_d75.setAttribute("y2",_r93),_s444.isConnected)_d75.setAttribute("id",t.generateUniqueID(_s444.id+"-")),_d75.setAttribute("href","#"+_s444.id);else{_d75.setAttribute("id",t.generateUniqueID("gradient-"));var _iterator774=_createForOfIteratorHelper(To(_s444)),_step774;try{for(_iterator774.s();!(_step774=_iterator774.n()).done;){var _t1230=_step774.value;_d75.append(_t1230.cloneNode());}}catch(err){_iterator774.e(err);}finally{_iterator774.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d75),"text"===_i852.localName&&_i852.querySelector("tspan")){var _iterator775=_createForOfIteratorHelper(_i852.querySelectorAll("tspan")),_step775;try{for(_iterator775.s();!(_step775=_iterator775.n()).done;){var _t1231=_step775.value;_t1231.style[this.context]="url(#".concat(_d75.id,")"),Op(this.context,_t1231);}}catch(err){_iterator775.e(err);}finally{_iterator775.f();}}else _i852.style[this.context]="url(#".concat(_d75.id,")"),Op(this.context,_i852);}}}catch(err){_iterator773.e(err);}finally{_iterator773.f();}}var _iterator776=_createForOfIteratorHelper(i),_step776;try{for(_iterator776.s();!(_step776=_iterator776.n()).done;){var _t1233=_step776.value;mi(_t1233,s);}}catch(err){_iterator776.e(err);}finally{_iterator776.f();}}},{key:"ub",value:function ub(){var _this470=this;var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=Qo(e,_this470.context);if("linearGradient"===s||"radialGradient"===s){var _s445=el(t.masterWorkspace,getComputedStyle(e)[_this470.context]),_n362=So(_s445);if(_n362)i=_n362;else{i=$i("radialGradient");var _iterator777=_createForOfIteratorHelper(zo(_s445)),_step777;try{for(_iterator777.s();!(_step777=_iterator777.n()).done;){var _t1234=_step777.value;i.append(_t1234.cloneNode());}}catch(err){_iterator777.e(err);}finally{_iterator777.f();}}}else if("solid"===s){var _t1235="",_s446=Jo(e,_this470.context);_t1235=_s446?$o(_s446):getComputedStyle(e)[_this470.context];var _bo5=bo(_t1235,"hsla"),_bo6=_slicedToArray(_bo5,4),_n363=_bo6[0],_o281=_bo6[1],_l248=_bo6[2],_a187=_bo6[3],_h155=_l248-20<0?0:_l248-20,_r94=mo([_n363,_o281,_l248,_a187],"hsla","rgba"),_d76=mo([_n363,_o281,_h155,_a187],"hsla","rgba");i=Ai("\n          <radialGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r94,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d76,"\"></stop>\n          </radialGradient>\n        "));}else i=Ai('\n          <radialGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </radialGradient>\n        ');return i;};var _iterator778=_createForOfIteratorHelper(i),_step778;try{for(_iterator778.s();!(_step778=_iterator778.n()).done;){var _t1240=_step778.value;bi(_t1240,s);}}catch(err){_iterator778.e(err);}finally{_iterator778.f();}if(s&&!1===s.collapsed){var _e908=s.startContainer.closest("text"),_i853=_e908.querySelectorAll("tspan"),_l249=gi(s,_e908),_a188=_l249.length>0?_l249:_i853,_h156=_a188[0];if("radialGradient"===Qo(_h156,this.context)){var _e909=el(t.masterWorkspace,getComputedStyle(_h156)[this.context]);var _iterator779=_createForOfIteratorHelper(_a188),_step779;try{for(_iterator779.s();!(_step779=_iterator779.n()).done;){var _t1236=_step779.value;_t1236!==_h156&&(_t1236.style[this.context]="url(#".concat(_e909.id,")"));}}catch(err){_iterator779.e(err);}finally{_iterator779.f();}}else{var _i854=o(_h156);var _iterator780=_createForOfIteratorHelper(_a188),_step780;try{for(_iterator780.s();!(_step780=_iterator780.n()).done;){var _s447=_step780.value;var _o282=Oi(_e908),_l250=J(_o282.x+_o282.width/2,n),_a189=J(_o282.y+_o282.height/2,n),_h157=J(_o282.width/2,n),_r95=$i("svg:radialGradient");if(_r95.setAttribute("gradientUnits","userSpaceOnUse"),_r95.setAttribute("cx",_l250),_r95.setAttribute("cy",_a189),_r95.setAttribute("r",_h157),_i854.isConnected)_r95.setAttribute("id",t.generateUniqueID(_i854.id+"-")),_r95.setAttribute("href","#"+_i854.id);else{_r95.setAttribute("id",t.generateUniqueID("gradient-"));var _iterator781=_createForOfIteratorHelper(To(_i854)),_step781;try{for(_iterator781.s();!(_step781=_iterator781.n()).done;){var _t1237=_step781.value;_r95.append(_t1237.cloneNode());}}catch(err){_iterator781.e(err);}finally{_iterator781.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r95),_s447.style[this.context]="url(#".concat(_r95.id,")");}}catch(err){_iterator780.e(err);}finally{_iterator780.f();}}}else{var _i855=e[0];"text"===_i855.localName&&_i855.querySelector("tspan")&&(_i855=_i855.querySelector("tspan"));var _s448=o(_i855);var _iterator782=_createForOfIteratorHelper(e),_step782;try{for(_iterator782.s();!(_step782=_iterator782.n()).done;){var _i856=_step782.value;var _e910=!1;if("radialGradient"===Qo(_i856,this.context)){var _n364=el(t.masterWorkspace,getComputedStyle(_i856)[this.context]);So(_n364)===_s448&&(_e910=!0);}if(!1===_e910){var _e911=Oi(_i856),_o283="use"===_i856.localName?"objectBoundingBox":"userSpaceOnUse",_l251="use"===_i856.localName?.5:J(_e911.x+_e911.width/2,n),_a190="use"===_i856.localName?.5:J(_e911.y+_e911.height/2,n),_h158="use"===_i856.localName?.5:J(_e911.width/2,n),_r96=$i("svg:radialGradient");if(_r96.setAttribute("gradientUnits",_o283),_r96.setAttribute("cx",_l251),_r96.setAttribute("cy",_a190),_r96.setAttribute("r",_h158),_s448.isConnected)_r96.setAttribute("id",t.generateUniqueID(_s448.id+"-")),_r96.setAttribute("href","#"+_s448.id);else{_r96.setAttribute("id",t.generateUniqueID("gradient-"));var _iterator783=_createForOfIteratorHelper(To(_s448)),_step783;try{for(_iterator783.s();!(_step783=_iterator783.n()).done;){var _t1238=_step783.value;_r96.append(_t1238.cloneNode());}}catch(err){_iterator783.e(err);}finally{_iterator783.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r96),"text"===_i856.localName&&_i856.querySelector("tspan")){var _iterator784=_createForOfIteratorHelper(_i856.querySelectorAll("tspan")),_step784;try{for(_iterator784.s();!(_step784=_iterator784.n()).done;){var _t1239=_step784.value;_t1239.style[this.context]="url(#".concat(_r96.id,")"),Op(this.context,_t1239);}}catch(err){_iterator784.e(err);}finally{_iterator784.f();}}else _i856.style[this.context]="url(#".concat(_r96.id,")"),Op(this.context,_i856);}}}catch(err){_iterator782.e(err);}finally{_iterator782.f();}}var _iterator785=_createForOfIteratorHelper(i),_step785;try{for(_iterator785.s();!(_step785=_iterator785.n()).done;){var _t1241=_step785.value;mi(_t1241,s);}}catch(err){_iterator785.e(err);}finally{_iterator785.f();}}},{key:"xb",value:function xb(){var _this471=this;var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var n=function n(e){var i=null;if("pattern"===Qo(e,_this471.context)){var _s449=getComputedStyle(e)[_this471.context];i=el(t.masterWorkspace,_s449),i=jo(i);}else{var _e912=t.masterWorkspace.querySelector("pattern:not([href])");i=_e912||Ai('\n            <pattern x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n              <rect x="0" y="0" width="50" height="100" style="fill: black;"></rect>\n            </pattern>\n          ');}return i;};var _iterator786=_createForOfIteratorHelper(i),_step786;try{for(_iterator786.s();!(_step786=_iterator786.n()).done;){var _t1245=_step786.value;bi(_t1245,s);}}catch(err){_iterator786.e(err);}finally{_iterator786.f();}if(s&&!1===s.collapsed){var _e913=s.startContainer.closest("text"),_i857=_e913.querySelectorAll("tspan"),_o284=gi(s,_e913),_l252=_o284.length>0?_o284:_i857,_a191=_l252[0];if("pattern"===Qo(_a191,this.context)){var _e914=el(t.masterWorkspace,getComputedStyle(_a191)[this.context]);var _iterator787=_createForOfIteratorHelper(_l252),_step787;try{for(_iterator787.s();!(_step787=_iterator787.n()).done;){var _t1242=_step787.value;_t1242!==_a191&&(_t1242.style[this.context]="url(#".concat(_e914.id,")"));}}catch(err){_iterator787.e(err);}finally{_iterator787.f();}}else{var _i858=n(_a191);!1===_i858.isConnected&&(_i858.id=t.generateUniqueID("pattern-"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i858));var _s450=$i("svg:pattern");_s450.setAttribute("id",t.generateUniqueID(_i858.id+"-")),_s450.setAttribute("href","#"+_i858.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s450);var _iterator788=_createForOfIteratorHelper(_l252),_step788;try{for(_iterator788.s();!(_step788=_iterator788.n()).done;){var _t1243=_step788.value;_t1243.style[this.context]="url(#".concat(_s450.id,")");}}catch(err){_iterator788.e(err);}finally{_iterator788.f();}Ko(_s450,_e913,t.transformPrecision);}}else{var _i859=e[0];"text"===_i859.localName&&_i859.querySelector("tspan")&&(_i859=_i859.querySelector("tspan"));var _s451=n(_i859);!1===_s451.isConnected&&(_s451.id=t.generateUniqueID("pattern-"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s451));var _iterator789=_createForOfIteratorHelper(e),_step789;try{for(_iterator789.s();!(_step789=_iterator789.n()).done;){var _i860=_step789.value;var _e915=!1;if("pattern"===Qo(_i860,this.context)){var _n365=el(t.masterWorkspace,getComputedStyle(_i860)[this.context]);jo(_n365)===_s451&&(_e915=!0);}if(!1===_e915){var _e916=$i("svg:pattern");if(_e916.setAttribute("id",t.generateUniqueID(_s451.id+"-")),_e916.setAttribute("href","#"+_s451.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e916),"text"===_i860.localName&&_i860.querySelector("tspan")){var _iterator790=_createForOfIteratorHelper(_i860.querySelectorAll("tspan")),_step790;try{for(_iterator790.s();!(_step790=_iterator790.n()).done;){var _t1244=_step790.value;_t1244.style[this.context]="url(#".concat(_e916.id,")"),Op(this.context,_t1244);}}catch(err){_iterator790.e(err);}finally{_iterator790.f();}}else _i860.style[this.context]="url(#".concat(_e916.id,")"),Op(this.context,_i860);Ko(_e916,_i860,t.transformPrecision);}}}catch(err){_iterator789.e(err);}finally{_iterator789.f();}}var _iterator791=_createForOfIteratorHelper(i),_step791;try{for(_iterator791.s();!(_step791=_iterator791.n()).done;){var _t1246=_step791.value;mi(_t1246,s);}}catch(err){_iterator791.e(err);}finally{_iterator791.f();}}},{key:"bb",value:function bb(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator792=_createForOfIteratorHelper(i),_step792;try{for(_iterator792.s();!(_step792=_iterator792.n()).done;){var _t1247=_step792.value;bi(_t1247,s);}}catch(err){_iterator792.e(err);}finally{_iterator792.f();}var _iterator793=_createForOfIteratorHelper(e),_step793;try{for(_iterator793.s();!(_step793=_iterator793.n()).done;){var _t1248=_step793.value;if("text"===_t1248.localName&&_t1248.querySelector("tspan")){var _e917=_t1248.querySelectorAll("tspan"),_i861=gi(s,_t1248),_n366=_i861.length>0&&!s.collapsed?_i861:_e917;_t1248.style[this.context]="inherit",Op(this.context,_t1248);var _iterator794=_createForOfIteratorHelper(_n366),_step794;try{for(_iterator794.s();!(_step794=_iterator794.n()).done;){var _t1249=_step794.value;_t1249.style[this.context]="inherit",Op(this.context,_t1249);}}catch(err){_iterator794.e(err);}finally{_iterator794.f();}}else _t1248.style[this.context]="inherit",Op(this.context,_t1248);}}catch(err){_iterator793.e(err);}finally{_iterator793.f();}}},{key:"mb",value:function mb(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator795=_createForOfIteratorHelper(i),_step795;try{for(_iterator795.s();!(_step795=_iterator795.n()).done;){var _t1250=_step795.value;bi(_t1250,s);}}catch(err){_iterator795.e(err);}finally{_iterator795.f();}var _iterator796=_createForOfIteratorHelper(e),_step796;try{for(_iterator796.s();!(_step796=_iterator796.n()).done;){var _t1251=_step796.value;if("text"===_t1251.localName&&_t1251.querySelector("tspan")){var _e918=_t1251.querySelectorAll("tspan"),_i862=gi(s,_t1251),_n367=_i862.length>0&&!s.collapsed?_i862:_e918;var _iterator798=_createForOfIteratorHelper(_n367),_step798;try{for(_iterator798.s();!(_step798=_iterator798.n()).done;){var _t1252=_step798.value;_t1252.style[this.context]="none";}}catch(err){_iterator798.e(err);}finally{_iterator798.f();}}else _t1251.style[this.context]="none",Op(this.context,_t1251);}}catch(err){_iterator796.e(err);}finally{_iterator796.f();}var _iterator797=_createForOfIteratorHelper(i),_step797;try{for(_iterator797.s();!(_step797=_iterator797.n()).done;){var _t1253=_step797.value;mi(_t1253,s);}}catch(err){_iterator797.e(err);}finally{_iterator797.f();}}},{key:"ob",value:function ob(t){var e=this.tn.board,i=e.selectedTextRange,s=this["#spread-method-buttons"].querySelector("x-button[toggled]"),n=[];e.undoManager.checkpoint("Spread Method");var _iterator799=_createForOfIteratorHelper(this.gb()),_step799;try{for(_iterator799.s();!(_step799=_iterator799.n()).done;){var _t1255=_step799.value;if("text"===_t1255.localName){var _e920=wi(_t1255);if(i&&i.intersectsNode(_t1255)){var _iterator800=_createForOfIteratorHelper(_e920),_step800;try{for(_iterator800.s();!(_step800=_iterator800.n()).done;){var _t1256=_step800.value;i.intersectsNode(_t1256)&&!n.includes(_t1256.parentElement)&&n.push(_t1256.parentElement);}}catch(err){_iterator800.e(err);}finally{_iterator800.f();}}else{var _iterator801=_createForOfIteratorHelper(_e920),_step801;try{for(_iterator801.s();!(_step801=_iterator801.n()).done;){var _t1257=_step801.value;!1===n.includes(_t1257.parentElement)&&n.push(_t1257.parentElement);}}catch(err){_iterator801.e(err);}finally{_iterator801.f();}}}else n.push(_t1255);}}catch(err){_iterator799.e(err);}finally{_iterator799.f();}for(var _i863=0,_n368=n;_i863<_n368.length;_i863++){var _t1254=_n368[_i863];var _e919=Qo(_t1254,this.context);if("linearGradient"===_e919||"radialGradient"===_e919){Jo(_t1254,this.context).setAttribute("spreadMethod",s.value);}}}},{key:"Xx",value:function Xx(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.selectedTextRange;t.undoManager.checkpoint("Paint color");var _iterator802=_createForOfIteratorHelper(i),_step802;try{for(_iterator802.s();!(_step802=_iterator802.n()).done;){var _t1261=_step802.value;bi(_t1261,n);}}catch(err){_iterator802.e(err);}finally{_iterator802.f();}if(n&&!1===n.collapsed){var _t1258=n.startContainer.closest("text"),_e921=[];{var _i864=_t1258.querySelectorAll("tspan"),_s452=gi(n,_t1258);_e921=_s452.length>0?_s452:_i864;}var _iterator803=_createForOfIteratorHelper(_e921),_step803;try{for(_iterator803.s();!(_step803=_iterator803.n()).done;){var _t1259=_step803.value;_t1259.style[this.context]="url(#".concat(s,")"),Op(this.context,_t1259);}}catch(err){_iterator803.e(err);}finally{_iterator803.f();}}else{var _iterator804=_createForOfIteratorHelper(e),_step804;try{for(_iterator804.s();!(_step804=_iterator804.n()).done;){var _t1260=_step804.value;if(_t1260.style[this.context]="url(#".concat(s,")"),Op(this.context,_t1260),"text"===_t1260.localName&&_t1260.querySelector("tspan")){var _iterator805=_createForOfIteratorHelper(_t1260.querySelectorAll("tspan")),_step805;try{for(_iterator805.s();!(_step805=_iterator805.n()).done;){var _e922=_step805.value;_e922.style[this.context]="url(#".concat(s,")"),Op(this.context,_e922);}}catch(err){_iterator805.e(err);}finally{_iterator805.f();}}}}catch(err){_iterator804.e(err);}finally{_iterator804.f();}}var _iterator806=_createForOfIteratorHelper(i),_step806;try{for(_iterator806.s();!(_step806=_iterator806.n()).done;){var _t1262=_step806.value;mi(_t1262,n);}}catch(err){_iterator806.e(err);}finally{_iterator806.f();}t.collectGarbage();}},{key:"Zx",value:function Zx(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.masterWorkspace.querySelector("#"+s),o=$o(n),l=t.selectedTextRange;t.undoManager.checkpoint("Unlink color"),t.collectGarbage();var _iterator807=_createForOfIteratorHelper(i),_step807;try{for(_iterator807.s();!(_step807=_iterator807.n()).done;){var _t1266=_step807.value;bi(_t1266,l);}}catch(err){_iterator807.e(err);}finally{_iterator807.f();}if(l&&!1===l.collapsed){var _t1263=l.startContainer.closest("text"),_e923=[];{var _i865=_t1263.querySelectorAll("tspan"),_s453=gi(l,_t1263);_e923=_s453.length>0?_s453:_i865;}var _iterator808=_createForOfIteratorHelper(_e923),_step808;try{for(_iterator808.s();!(_step808=_iterator808.n()).done;){var _t1264=_step808.value;_t1264.style[this.context]=o,Op(this.context,_t1264);}}catch(err){_iterator808.e(err);}finally{_iterator808.f();}}else{var _iterator809=_createForOfIteratorHelper(e),_step809;try{for(_iterator809.s();!(_step809=_iterator809.n()).done;){var _t1265=_step809.value;if(_t1265.style[this.context]=o,Op(this.context,_t1265),"text"===_t1265.localName&&_t1265.querySelector("tspan")){var _iterator810=_createForOfIteratorHelper(_t1265.querySelectorAll("tspan")),_step810;try{for(_iterator810.s();!(_step810=_iterator810.n()).done;){var _e924=_step810.value;_e924.style[this.context]=o,Op(this.context,_e924);}}catch(err){_iterator810.e(err);}finally{_iterator810.f();}}}}catch(err){_iterator809.e(err);}finally{_iterator809.f();}}var _iterator811=_createForOfIteratorHelper(i),_step811;try{for(_iterator811.s();!(_step811=_iterator811.n()).done;){var _t1267=_step811.value;mi(_t1267,l);}}catch(err){_iterator811.e(err);}finally{_iterator811.f();}}},{key:"Kx",value:function Kx(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#gradient-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=hi(this["#paint-type-buttons"].value),l=t.selectedTextRange,a=t.geometryPrecision;t.undoManager.checkpoint("Gradient");var _iterator812=_createForOfIteratorHelper(i),_step812;try{for(_iterator812.s();!(_step812=_iterator812.n()).done;){var _t1275=_step812.value;bi(_t1275,l);}}catch(err){_iterator812.e(err);}finally{_iterator812.f();}if(l&&!1===l.collapsed){var _e925=l.startContainer.closest("text"),_i866=[],_s454=null;{var _t1268=_e925.querySelectorAll("tspan"),_s455=gi(l,_e925);_i866=_s455.length>0?_s455:_t1268;}{var _e926=Qo(_i866[0],this.context);if("linearGradient"===_e926||"radialGradient"===_e926){var _e927=getComputedStyle(_i866[0])[this.context];_s454=el(t.masterWorkspace,_e927);}}if(_s454&&So(_s454)===n){var _iterator813=_createForOfIteratorHelper(_i866),_step813;try{for(_iterator813.s();!(_step813=_iterator813.n()).done;){var _t1269=_step813.value;_t1269!==_i866[0]&&(_t1269.style[this.context]="url(#".concat(_s454.id,")"));}}catch(err){_iterator813.e(err);}finally{_iterator813.f();}}else{var _s456=Oi(_e925);var _iterator814=_createForOfIteratorHelper(_i866),_step814;try{for(_iterator814.s();!(_step814=_iterator814.n()).done;){var _e928=_step814.value;var _i867=$i("svg:".concat(o));if(_i867.setAttribute("id",t.generateUniqueID(n.id+"-")),_i867.setAttribute("href","#"+n.id),_i867.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===o){var _t1270=J(_s456.x+_s456.width/2,a),_e929=J(_s456.y,a),_n369=J(_s456.x+_s456.width/2,a),_o285=J(_s456.y+_s456.height,a);_i867.setAttribute("x1",_t1270),_i867.setAttribute("y1",_e929),_i867.setAttribute("x2",_n369),_i867.setAttribute("y2",_o285);}else if("radialGradient"===o){var _t1271=J(_s456.x+_s456.width/2,a),_e930=J(_s456.y+_s456.height/2,a),_n370=J(_s456.width/2,a);_i867.setAttribute("cx",_t1271),_i867.setAttribute("cy",_e930),_i867.setAttribute("r",_n370);}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i867),_e928.style[this.context]="url(#".concat(_i867.id,")"),Op(this.context,_e928);}}catch(err){_iterator814.e(err);}finally{_iterator814.f();}}}else{var _iterator815=_createForOfIteratorHelper(e),_step815;try{for(_iterator815.s();!(_step815=_iterator815.n()).done;){var _i868=_step815.value;if(Qo(_i868,this.context)===o){var _e932=el(t.masterWorkspace,getComputedStyle(_i868)[this.context]);if(So(_e932)===n)continue;}var _e931=Oi(_i868),_s457=$i("svg:".concat(o));if(_s457.setAttribute("id",t.generateUniqueID(n.id+"-")),_s457.setAttribute("href","#"+n.id),_s457.setAttribute("gradientUnits","use"===_i868.localName?"objectBoundingBox":"userSpaceOnUse"),"linearGradient"===o){var _t1272="use"===_i868.localName?.5:J(_e931.x+_e931.width/2,a),_n371="use"===_i868.localName?0:J(_e931.y,a),_o286="use"===_i868.localName?.5:J(_e931.x+_e931.width/2,a),_l253="use"===_i868.localName?1:J(_e931.y+_e931.height,a);_s457.setAttribute("x1",_t1272),_s457.setAttribute("y1",_n371),_s457.setAttribute("x2",_o286),_s457.setAttribute("y2",_l253);}else if("radialGradient"===o){var _t1273="use"===_i868.localName?.5:J(_e931.x+_e931.width/2,a),_n372="use"===_i868.localName?.5:J(_e931.y+_e931.height/2,a),_o287="use"===_i868.localName?.5:J(_e931.width/2,a);_s457.setAttribute("cx",_t1273),_s457.setAttribute("cy",_n372),_s457.setAttribute("r",_o287);}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s457),_i868.style[this.context]="url(#".concat(_s457.id,")"),Op(this.context,_i868),"text"===_i868.localName&&_i868.querySelector("tspan")){var _iterator816=_createForOfIteratorHelper(_i868.querySelectorAll("tspan")),_step816;try{for(_iterator816.s();!(_step816=_iterator816.n()).done;){var _t1274=_step816.value;_t1274.style[this.context]="url(#".concat(_s457.id,")"),Op(this.context,_t1274);}}catch(err){_iterator816.e(err);}finally{_iterator816.f();}}}}catch(err){_iterator815.e(err);}finally{_iterator815.f();}}var _iterator817=_createForOfIteratorHelper(i),_step817;try{for(_iterator817.s();!(_step817=_iterator817.n()).done;){var _t1276=_step817.value;mi(_t1276,l);}}catch(err){_iterator817.e(err);}finally{_iterator817.f();}t.collectGarbage();}},{key:"Qx",value:function Qx(){var t=this.tn.board,e=t.selectedTextRange,i=t.geometryPrecision,s=[];t.undoManager.checkpoint("Unlink gradient"),t.collectGarbage();var _iterator818=_createForOfIteratorHelper(this.gb()),_step818;try{for(_iterator818.s();!(_step818=_iterator818.n()).done;){var _t1282=_step818.value;if("text"===_t1282.localName){var _i871=wi(_t1282);if(e&&e.intersectsNode(_t1282)){"backward"===e.direction&&_i871.reverse();var _iterator820=_createForOfIteratorHelper(_i871),_step820;try{for(_iterator820.s();!(_step820=_iterator820.n()).done;){var _t1283=_step820.value;e.intersectsNode(_t1283)&&!1===s.includes(_t1283.parentElement)&&s.push(_t1283.parentElement);}}catch(err){_iterator820.e(err);}finally{_iterator820.f();}}else{var _iterator821=_createForOfIteratorHelper(_i871),_step821;try{for(_iterator821.s();!(_step821=_iterator821.n()).done;){var _t1284=_step821.value;!1===s.includes(_t1284.parentElement)&&s.push(_t1284.parentElement);}}catch(err){_iterator821.e(err);}finally{_iterator821.f();}}}else s.push(_t1282);}}catch(err){_iterator818.e(err);}finally{_iterator818.f();}for(var _i869=0,_s458=s;_i869<_s458.length;_i869++){var _e933=_s458[_i869];var _s459=Qo(_e933,this.context),_n373=null;if("linearGradient"===_s459||"radialGradient"===_s459){_n373=el(t.masterWorkspace,getComputedStyle(_e933)[this.context]);{var _o288=$i("svg:".concat(_s459));_o288.setAttribute("id",t.generateUniqueID("gradient-"));var _iterator819=_createForOfIteratorHelper(zo(_n373)),_step819;try{for(_iterator819.s();!(_step819=_iterator819.n()).done;){var _t1281=_step819.value;_o288.append(_t1281.cloneNode());}}catch(err){_iterator819.e(err);}finally{_iterator819.f();}{var _t1277=[],_l254=[];"linearGradient"===_s459?_t1277=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod"]:"radialGradient"===_s459&&(_t1277=["cx","cy","r","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod"]);for(var _i870=0,_t1278=_t1277;_i870<_t1278.length;_i870++){var _e934=_t1278[_i870];var _t1279=Oo(_n373,_e934);null!==_t1279&&(_o288.setAttribute(_e934,_t1279),_l254.push(_e934));}if(0===_l254.length){var _t1280=Oi(_e933);if(_o288.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===_s459){var _e935=J(_t1280.x,i),_s460=J(_t1280.y,i),_n374=J(_t1280.x+_t1280.width,i),_l255=J(_t1280.y,i);_o288.setAttribute("x1",_e935),_o288.setAttribute("y1",_s460),_o288.setAttribute("x2",_n374),_o288.setAttribute("y2",_l255);}else if("radialGradient"===_s459){var _e936=J(_t1280.x+_t1280.width/2,i),_s461=J(_t1280.y+_t1280.height/2,i),_n375=J(_t1280.width/2,i);_o288.setAttribute("cx",_e936),_o288.setAttribute("cy",_s461),_o288.setAttribute("r",_n375);}}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_o288),_e933.style[this.context]="url(#".concat(_o288.id,")"),Op(this.context,_e933);}}}t.collectGarbage();}},{key:"tb",value:function tb(){this.Js.setConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),this["#color-picker"].format);}},{key:"eb",value:function eb(t){this["#color-picker"].type=t.detail.value,this.Js.setConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),this["#color-picker"].type);}},{key:"Jx",value:function Jx(t){var _this472=this;var e,_i873,s=this.tn.board,n=[].concat(_toConsumableArray(s.linearGradientHud.selectedStops),_toConsumableArray(s.radialGradientHud.selectedStops));if(s.undoManager.checkpoint("Change color"),n.length>0)this["#color-picker"].addEventListener("change",e=function e(){var _iterator822=_createForOfIteratorHelper(n),_step822;try{for(_iterator822.s();!(_step822=_iterator822.n()).done;){var _t1285=_step822.value;_t1285.style.stopColor=_this472["#color-picker"].value,Op("stop-color",_t1285);}}catch(err){_iterator822.e(err);}finally{_iterator822.f();}}),this["#color-picker"].addEventListener("changeend",_i873=function i(){_this472["#color-picker"].removeEventListener("change",e),_this472["#color-picker"].removeEventListener("changeend",_i873);});else{var _t1286=this.gb(),_n376=_t1286.filter(function(t){return"text"===t.localName;}),_o289=s.selectedTextRange,_l256=[],_a192=null;null!==this["#color-select"].value&&(_a192=s.masterWorkspace.querySelector("#"+this["#color-select"].value));var _iterator823=_createForOfIteratorHelper(_n376),_step823;try{for(_iterator823.s();!(_step823=_iterator823.n()).done;){var _t1290=_step823.value;bi(_t1290,_o289);}}catch(err){_iterator823.e(err);}finally{_iterator823.f();}var _iterator824=_createForOfIteratorHelper(_t1286),_step824;try{for(_iterator824.s();!(_step824=_iterator824.n()).done;){var _e937=_step824.value;if("text"===_e937.localName&&_e937.querySelector("tspan")){var _t1291=_e937.querySelectorAll("tspan"),_i874=gi(_o289,_e937),_s462=_i874.length>0&&!_o289.collapsed?_i874:_t1291;_l256.push.apply(_l256,_toConsumableArray(_s462));}else _l256.push(_e937);}}catch(err){_iterator824.e(err);}finally{_iterator824.f();}this["#color-picker"].addEventListener("change",e=function e(){if(_a192){Io(_a192,_this472["#color-picker"].value);var _iterator825=_createForOfIteratorHelper(_l256),_step825;try{for(_iterator825.s();!(_step825=_iterator825.n()).done;){var _t1287=_step825.value;_t1287.style[_this472.context]="url(#".concat(_a192.id,")"),Op(_this472.context,_t1287);}}catch(err){_iterator825.e(err);}finally{_iterator825.f();}}else{var _iterator826=_createForOfIteratorHelper(_l256),_step826;try{for(_iterator826.s();!(_step826=_iterator826.n()).done;){var _t1288=_step826.value;_t1288.style[_this472.context]=_this472["#color-picker"].value,Op(_this472.context,_t1288);}}catch(err){_iterator826.e(err);}finally{_iterator826.f();}}}),this["#color-picker"].addEventListener("changeend",_i873=function _i872(){_this472["#color-picker"].removeEventListener("change",e),_this472["#color-picker"].removeEventListener("changeend",_i873);var _iterator827=_createForOfIteratorHelper(_n376),_step827;try{for(_iterator827.s();!(_step827=_iterator827.n()).done;){var _t1289=_step827.value;mi(_t1289,_o289);}}catch(err){_iterator827.e(err);}finally{_iterator827.f();}});}}},{key:"ib",value:function ib(t){0===t.button&&"edit-tool-span"===t.target.id&&this.tn.toggleTool("edit-tool");}},{key:"sb",value:function sb(){var _this473=this;var t,_e938,i=this.tn.board,s=[].concat(_toConsumableArray(i.linearGradientHud.selectedStops),_toConsumableArray(i.radialGradientHud.selectedStops));i.undoManager.checkpoint("Stop opacity"),this.Yx=!0,this["#stop-opacity-section"].addEventListener("change",t=function t(_t1293){_t1293.target===_this473["#stop-opacity-slider"]?_this473["#stop-opacity-input"].value=_this473["#stop-opacity-slider"].value:_t1293.target===_this473["#stop-opacity-input"]&&(_this473["#stop-opacity-slider"].value=_this473["#stop-opacity-input"].value),_this473["#stop-opacity-slider"].mixed=!1,_this473["#stop-opacity-input"].mixed=!1;var _iterator828=_createForOfIteratorHelper(s),_step828;try{for(_iterator828.s();!(_step828=_iterator828.n()).done;){var _t1292=_step828.value;_t1292.style.setProperty("stop-opacity",_this473["#stop-opacity-slider"].value);}}catch(err){_iterator828.e(err);}finally{_iterator828.f();}}),this["#stop-opacity-section"].addEventListener("changeend",_e938=function e(){_this473["#stop-opacity-section"].removeEventListener("change",t),_this473["#stop-opacity-section"].removeEventListener("changeend",_e938);var _iterator829=_createForOfIteratorHelper(s),_step829;try{for(_iterator829.s();!(_step829=_iterator829.n()).done;){var _t1294=_step829.value;Op("stop-opacity",_t1294);}}catch(err){_iterator829.e(err);}finally{_iterator829.f();}_this473.Yx=!1;});}},{key:"nb",value:function nb(){var t=this.tn.board,e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#pattern-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Pattern");var _iterator830=_createForOfIteratorHelper(i),_step830;try{for(_iterator830.s();!(_step830=_iterator830.n()).done;){var _t1295=_step830.value;bi(_t1295,o);}}catch(err){_iterator830.e(err);}finally{_iterator830.f();}var _iterator831=_createForOfIteratorHelper(e),_step831;try{for(_iterator831.s();!(_step831=_iterator831.n()).done;){var _i875=_step831.value;if("text"===_i875.localName&&_i875.querySelectorAll("tspan").length>0){var _e939=_i875.querySelectorAll("tspan"),_s463=gi(o,_i875),_l257=_s463.length>0&&!o.collapsed?_s463:_e939,_a193=Jo(_l257[0],this.context),_h159=_a193&&"pattern"===_a193.localName?_a193:null;if(_h159&&Zo([_h159,n])){var _iterator833=_createForOfIteratorHelper(_l257),_step833;try{for(_iterator833.s();!(_step833=_iterator833.n()).done;){var _t1296=_step833.value;_t1296.style[this.context]="url(#".concat(_h159.id,")");}}catch(err){_iterator833.e(err);}finally{_iterator833.f();}}else{var _e940=$i("svg:pattern");_e940.setAttribute("id",t.generateUniqueID(n.id+"-")),_e940.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e940.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e940);var _iterator834=_createForOfIteratorHelper(_l257),_step834;try{for(_iterator834.s();!(_step834=_iterator834.n()).done;){var _t1297=_step834.value;_t1297.style[this.context]="url(#".concat(_e940.id,")");}}catch(err){_iterator834.e(err);}finally{_iterator834.f();}Ko(_e940,_i875,t.transformPrecision);}}else{if("pattern"===Qo(_i875,this.context)){var _e942=getComputedStyle(_i875)[this.context],_s464=el(t.masterWorkspace,_e942);if(Zo([_s464,n]))continue;}var _e941=$i("svg:pattern");_e941.setAttribute("id",t.generateUniqueID(n.id+"-")),_e941.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e941.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e941),_i875.style[this.context]="url(#".concat(_e941.id,")"),Op(this.context,_i875),Ko(_e941,_i875,t.transformPrecision);}}}catch(err){_iterator831.e(err);}finally{_iterator831.f();}var _iterator832=_createForOfIteratorHelper(i),_step832;try{for(_iterator832.s();!(_step832=_iterator832.n()).done;){var _t1298=_step832.value;mi(_t1298,o);}}catch(err){_iterator832.e(err);}finally{_iterator832.f();}t.collectGarbage();}},{key:"lb",value:function lb(){var t=this.tn.board,e=this.gb(),i=t.selectedTextRange;t.undoManager.checkpoint("Paint order");var _iterator835=_createForOfIteratorHelper(e),_step835;try{for(_iterator835.s();!(_step835=_iterator835.n()).done;){var _t1299=_step835.value;if("text"===_t1299.localName){bi(_t1299,i);var _e943=_t1299.querySelectorAll("tspan"),_s465=gi(i,_t1299),_n377=_s465.length>0&&!i.collapsed?_s465:_e943;if(_n377.length>0){var _iterator836=_createForOfIteratorHelper(_n377),_step836;try{for(_iterator836.s();!(_step836=_iterator836.n()).done;){var _t1300=_step836.value;_t1300.style.paintOrder=this["#paint-order-switch"].value.join(" ");}}catch(err){_iterator836.e(err);}finally{_iterator836.f();}}else _t1299.style.paintOrder=this["#paint-order-switch"].value.join(" "),Op("paint-order",_t1299);mi(_t1299,i);}else _t1299.style.paintOrder=this["#paint-order-switch"].value.join(" "),Op("paint-order",_t1299);}}catch(err){_iterator835.e(err);}finally{_iterator835.f();}}},{key:"Xs",value:function Xs(){var _this474=this;var t=this.tn.board,e=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops)),i=[],s=null,n=null,o=null;{var _l258=t.selectedTextRange;var _iterator837=_createForOfIteratorHelper(this.gb()),_step837;try{for(_iterator837.s();!(_step837=_iterator837.n()).done;){var _t1302=_step837.value;if("text"===_t1302.localName){var _e944=wi(_t1302);if(_l258&&_l258.intersectsNode(_t1302)){"backward"===_l258.direction&&_e944.reverse();var _iterator838=_createForOfIteratorHelper(_e944),_step838;try{for(_iterator838.s();!(_step838=_iterator838.n()).done;){var _t1303=_step838.value;_l258.intersectsNode(_t1303)&&!1===i.includes(_t1303.parentElement)&&i.push(_t1303.parentElement);}}catch(err){_iterator838.e(err);}finally{_iterator838.f();}}else{var _iterator839=_createForOfIteratorHelper(_e944),_step839;try{for(_iterator839.s();!(_step839=_iterator839.n()).done;){var _t1304=_step839.value;!1===i.includes(_t1304.parentElement)&&i.push(_t1304.parentElement);}}catch(err){_iterator839.e(err);}finally{_iterator839.f();}}}else i.push(_t1302);}}catch(err){_iterator837.e(err);}finally{_iterator837.f();}if(i.length>0&&(s=i[0]),e.length>0){var _t1301=e[0].closest("linearGradient, radialGradient"),_n378=i.find(function(e){return Jo(e,_this474.context)===_t1301;});_n378&&(s=_n378);}s&&(n=Qo(s,this.context),o=Jo(s,this.context));}if(this["#section-heading"].disabled=!s,this["#inherit-paint-button"].hidden="symbol"!==t.currentWorkspace.getAttribute("data-bx-workspace"),s){var _e945=n;"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&"inherit"===s.style[this.context]&&(_e945="inherit");var _o290=tl(i,this.context);if(this["#paint-type-heading"].disabled=!1,"solid"===_e945){var _iterator840=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step840;try{for(_iterator840.s();!(_step840=_iterator840.n()).done;){var _t1305=_step840.value;_t1305.disabled=!1,"solid"===_t1305.value?(_t1305.toggled=!0,_t1305.mixed=_o290):(_t1305.toggled=!1,_t1305.mixed=!1);}}catch(err){_iterator840.e(err);}finally{_iterator840.f();}}else if("linearGradient"===_e945){var _iterator841=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step841;try{for(_iterator841.s();!(_step841=_iterator841.n()).done;){var _t1306=_step841.value;_t1306.disabled=!1,"linear-gradient"===_t1306.value?(_t1306.toggled=!0,_t1306.mixed=_o290):(_t1306.toggled=!1,_t1306.mixed=!1);}}catch(err){_iterator841.e(err);}finally{_iterator841.f();}}else if("radialGradient"===_e945){var _iterator842=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step842;try{for(_iterator842.s();!(_step842=_iterator842.n()).done;){var _t1307=_step842.value;_t1307.disabled=!1,"radial-gradient"===_t1307.value?(_t1307.toggled=!0,_t1307.mixed=_o290):(_t1307.toggled=!1,_t1307.mixed=!1);}}catch(err){_iterator842.e(err);}finally{_iterator842.f();}}else if("pattern"===_e945){var _iterator843=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step843;try{for(_iterator843.s();!(_step843=_iterator843.n()).done;){var _t1308=_step843.value;_t1308.disabled=!1,"pattern"===_t1308.value?(_t1308.toggled=!0,_t1308.mixed=_o290):(_t1308.toggled=!1,_t1308.mixed=!1);}}catch(err){_iterator843.e(err);}finally{_iterator843.f();}}else if("inherit"===_e945){var _iterator844=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step844;try{for(_iterator844.s();!(_step844=_iterator844.n()).done;){var _t1309=_step844.value;_t1309.disabled=!1,"inherit"===_t1309.value?(_t1309.toggled=!0,_t1309.mixed=_o290):(_t1309.toggled=!1,_t1309.mixed=!1);}}catch(err){_iterator844.e(err);}finally{_iterator844.f();}}else if("none"===_e945){var _iterator845=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step845;try{for(_iterator845.s();!(_step845=_iterator845.n()).done;){var _t1310=_step845.value;_t1310.disabled=!1,"none"===_t1310.value?(_t1310.toggled=!0,_t1310.mixed=_o290):(_t1310.toggled=!1,_t1310.mixed=!1);}}catch(err){_iterator845.e(err);}finally{_iterator845.f();}}}else{this["#paint-type-heading"].disabled=!0;var _iterator846=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step846;try{for(_iterator846.s();!(_step846=_iterator846.n()).done;){var _t1311=_step846.value;_t1311.disabled=!0,_t1311.toggled=!1,_t1311.mixed=!1;}}catch(err){_iterator846.e(err);}finally{_iterator846.f();}}if("solid"===n?(this["#color-select-section"].hidden=!1,this["#color-select"].enabled=!0,this["#color-select"].mixed=tl(i,this.context),this["#color-select"].value=o?o.id:null,this["#color-unlink-button"].hidden=null===o):(this["#color-select-section"].hidden=!0,this["#color-select"].enabled=!1),"linearGradient"===n||"radialGradient"===n){var _t1312=So(o);this["#gradient-select-section"].hidden=!1,this["#gradient-select"].enabled=!0,this["#gradient-select"].mixed=tl(i,this.context),this["#gradient-select"].value=_t1312?_t1312.id:null,this["#gradient-unlink-button"].hidden=!1===this.fb();}else this["#gradient-select-section"].hidden=!0,this["#gradient-select"].enabled=!1;if("pattern"===n){var _e946=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern"));_e946=_e946.filter(function(t){return!1===t.hasAttribute("href");});var _s466=jo(o);this["#pattern-select-section"].hidden=!1,this["#pattern-select"].enabled=!0,this["#pattern-select"].mixed=tl(i,this.context),this["#pattern-select"].value=_s466?_s466.id:null;}else this["#pattern-select-section"].hidden=!0,this["#pattern-select"].mixed=!1,this["#pattern-select"].enabled=!1;if("solid"===n){var _t1313=getComputedStyle(s)[this.context],_e947=tl(i,this.context);if(!1===vo(_t1313)){var _e948=Go.fromString(_t1313),_i876=this.tn.board.masterWorkspace.querySelector(_e948.value);_t1313=$o(_i876);}this["#color-section"].hidden=!1,this["#color-section"].style.marginTop="11px",this["#color-section-heading"].hidden=!0,this["#color-picker"].hidden=!1,this["#color-picker"].value=_t1313,this["#color-picker"].mixed=_e947,this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0;}else if("linearGradient"===n||"radialGradient"===n){var _e949=tl(i,this.context),_s467=t["".concat(n,"Hud")].selectedStops;this["#color-section"].hidden=!1,this["#color-section"].style.marginTop=null,this["#color-section-heading"].hidden=!1,this["#color-section-heading"].textContent="Stop color",0===_s467.length?(this["#color-picker"].hidden=!0,this["#color-picker-type-buttons"].hidden=!0,this["#color-picker-hint"].hidden=!1):(this["#color-picker"].hidden=!1,this["#color-picker"].mixed=_e949,this["#color-picker"].value=getComputedStyle(_s467[0]).stopColor||"#000",this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0);}else this["#color-section"].hidden=!0;if(!1===this.Yx)if("linearGradient"===n||"radialGradient"===n){var _e950=t["".concat(n,"Hud")].selectedStops;if(0===_e950.length)this["#stop-opacity-section"].hidden=!0;else{var _t1314=_e950.map(function(t){return getComputedStyle(t).stopOpacity;}),_i877=!1===ni(_t1314,_t1314[0]);this["#stop-opacity-section"].hidden=!1,this["#stop-opacity-slider"].value=_t1314[0],this["#stop-opacity-input"].mixed=_i877,this["#stop-opacity-input"].value=_t1314[0];}}else this["#stop-opacity-section"].hidden=!0;if("linearGradient"===n||"radialGradient"===n){this["#spread-method-section"].hidden=!1;var _t1315=o,_e951=!1;var _iterator847=_createForOfIteratorHelper(i),_step847;try{for(_iterator847.s();!(_step847=_iterator847.n()).done;){var _s468=_step847.value;var _i878=Jo(_s468,this.context);_i878&&_i878.localName.endsWith("Gradient")&&_i878.spreadMethod.baseVal!==_t1315.spreadMethod.baseVal&&(_e951=!0);}}catch(err){_iterator847.e(err);}finally{_iterator847.f();}_t1315.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].toggled=!0,this["#repeat-spread-method-button"].mixed=_e951,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1315.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!0,this["#pad-spread-method-button"].mixed=_e951,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1315.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!0,this["#reflect-spread-method-button"].mixed=_e951);}else this["#spread-method-section"].hidden=!0;if(s){if("none"===n)this["#paint-order-section"].hidden=!0;else{var _t1316=getComputedStyle(s).paintOrder;if("normal"===_t1316)_t1316=["fill","stroke","markers"];else{_t1316=_t1316.split(" ");for(var _i879=0,_arr41=["fill","stroke","markers"];_i879<_arr41.length;_i879++){var _e952=_arr41[_i879];!1===_t1316.includes(_e952)&&_t1316.push(_e952);}}this["#paint-order-section"].hidden=!1,this["#paint-order-switch"].value=_t1316;}}else this["#paint-order-section"].hidden=!0;}},{key:"fb",value:function fb(){var _this475=this;var t=this.tn.board,e=t.selectedTextRange,i=[];var _iterator848=_createForOfIteratorHelper(this.gb()),_step848;try{for(_iterator848.s();!(_step848=_iterator848.n()).done;){var _t1317=_step848.value;if("text"===_t1317.localName){var _s469=wi(_t1317);if(e&&e.intersectsNode(_t1317)){"backward"===e.direction&&_s469.reverse();var _iterator849=_createForOfIteratorHelper(_s469),_step849;try{for(_iterator849.s();!(_step849=_iterator849.n()).done;){var _t1318=_step849.value;e.intersectsNode(_t1318)&&!1===i.includes(_t1318.parentElement)&&i.push(_t1318.parentElement);}}catch(err){_iterator849.e(err);}finally{_iterator849.f();}}else{var _iterator850=_createForOfIteratorHelper(_s469),_step850;try{for(_iterator850.s();!(_step850=_iterator850.n()).done;){var _t1319=_step850.value;!1===i.includes(_t1319.parentElement)&&i.push(_t1319.parentElement);}}catch(err){_iterator850.e(err);}finally{_iterator850.f();}}}else i.push(_t1317);}}catch(err){_iterator848.e(err);}finally{_iterator848.f();}return i=i.filter(function(e){var i=Qo(e,_this475.context);if("linearGradient"===i||"radialGradient"===i){var _i880=el(t.masterWorkspace,getComputedStyle(e)[_this475.context]);if(So(_i880))return!0;}return!1;}),i.length>0;}},{key:"gb",value:function gb(){var t=[],e=function e(i){var _iterator851=_createForOfIteratorHelper(i),_step851;try{for(_iterator851.s();!(_step851=_iterator851.n()).done;){var _s470=_step851.value;k.includes(_s470.localName)||"use"===_s470.localName?t.push(_s470):"g"!==_s470.localName&&"a"!==_s470.localName||e(_s470.children);}}catch(err){_iterator851.e(err);}finally{_iterator851.f();}};return e(this.tn.board.outermostSelectedElements),t;}}]);return ax;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ax,"observedAttributes",["enabled","context"]);_defineProperty(ax,"_shadowTemplate",Ki(_templateObject275()));_defineProperty(ax,"_shadowStyleSheet",Qi(_templateObject276()));customElements.define("bx-paintinspector",ax);var hx=Number.parseFloat;var rx=/*#__PURE__*/function(_HTMLElement80){_inherits(rx,_HTMLElement80);var _super101=_createSuper(rx);_createClass(rx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function rx(){var _this476;_classCallCheck(this,rx);_this476=_super101.call(this),_this476.Za=ts(_this476.Xs,200,_assertThisInitialized(_this476)),_this476.wb=!1,_this476._shadowRoot=_this476.attachShadow({mode:"closed"}),_this476._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,rx._shadowStyleSheet],_this476._shadowRoot.append(document.importNode(rx._shadowTemplate.content,!0));var _iterator852=_createForOfIteratorHelper(_this476._shadowRoot.querySelectorAll("[id]")),_step852;try{for(_iterator852.s();!(_step852=_iterator852.n()).done;){var _t1320=_step852.value;_this476["#"+_t1320.id]=_t1320;}}catch(err){_iterator852.e(err);}finally{_iterator852.f();}_this476["#opacity-section"].addEventListener("changestart",function(){return _this476.vb();}),_this476["#rule-buttons"].addEventListener("toggle",function(t){return _this476.yb(t);});return _this476;}_createClass(rx,[{key:"connectedCallback",value:function connectedCallback(){this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this477=this;this["#fill-paint-inspector"].enabled=!0,this.Za(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this477.hl();}),this.tn.board.addEventListener("selectedtextrangechange",this.ga=function(){_this477.fa();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this477.pl(t);});}},{key:"sn",value:function sn(){this["#fill-paint-inspector"].enabled=!1,this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("selectedtextrangechange",this.ga),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){this.Za();}},{key:"fa",value:function fa(){this.Za();}},{key:"pl",value:function pl(t){this.Za();}},{key:"vb",value:function vb(){var _this478=this;this.tn.board.undoManager.checkpoint("Fill opacity");var t,_e953,i=this.gb(),s=i.filter(function(t){return"text"===t.localName;}),n=this.tn.board.selectedTextRange,o=[];var _iterator853=_createForOfIteratorHelper(s),_step853;try{for(_iterator853.s();!(_step853=_iterator853.n()).done;){var _t1325=_step853.value;bi(_t1325,n);}}catch(err){_iterator853.e(err);}finally{_iterator853.f();}var _iterator854=_createForOfIteratorHelper(i),_step854;try{for(_iterator854.s();!(_step854=_iterator854.n()).done;){var _t1326=_step854.value;if("text"===_t1326.localName){var _e954=_t1326.querySelectorAll("tspan"),_i881=gi(n,_t1326),_s471=_i881.length>0&&!n.collapsed?_i881:_e954;o.push.apply(o,_toConsumableArray(_s471));}else o.push(_t1326);}}catch(err){_iterator854.e(err);}finally{_iterator854.f();}this.wb=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1322){_t1322.target===_this478["#opacity-slider"]?_this478["#opacity-input"].value=_this478["#opacity-slider"].value:_t1322.target===_this478["#opacity-input"]&&(_this478["#opacity-slider"].value=_this478["#opacity-input"].value),_this478["#opacity-slider"].mixed=!1,_this478["#opacity-input"].mixed=!1;var _iterator855=_createForOfIteratorHelper(o),_step855;try{for(_iterator855.s();!(_step855=_iterator855.n()).done;){var _t1321=_step855.value;_t1321.style.setProperty("fill-opacity",_this478["#opacity-slider"].value);}}catch(err){_iterator855.e(err);}finally{_iterator855.f();}}),this["#opacity-section"].addEventListener("changeend",_e953=function e(){_this478["#opacity-section"].removeEventListener("change",t),_this478["#opacity-section"].removeEventListener("changeend",_e953),_this478.wb=!1;var _iterator856=_createForOfIteratorHelper(o),_step856;try{for(_iterator856.s();!(_step856=_iterator856.n()).done;){var _t1323=_step856.value;Op("fill-opacity",_t1323);}}catch(err){_iterator856.e(err);}finally{_iterator856.f();}var _iterator857=_createForOfIteratorHelper(s),_step857;try{for(_iterator857.s();!(_step857=_iterator857.n()).done;){var _t1324=_step857.value;mi(_t1324,n);}}catch(err){_iterator857.e(err);}finally{_iterator857.f();}});}},{key:"yb",value:function yb(t){var e=this.gb(),i=e.filter(function(t){return"text"===t.localName;}),s=this.tn.board.selectedTextRange,n=[];this.tn.board.undoManager.checkpoint("Fill rule");var _iterator858=_createForOfIteratorHelper(i),_step858;try{for(_iterator858.s();!(_step858=_iterator858.n()).done;){var _t1328=_step858.value;bi(_t1328,s);}}catch(err){_iterator858.e(err);}finally{_iterator858.f();}var _iterator859=_createForOfIteratorHelper(e),_step859;try{for(_iterator859.s();!(_step859=_iterator859.n()).done;){var _t1329=_step859.value;if("text"===_t1329.localName&&_t1329.querySelector("tspan")){var _e955=_t1329.querySelectorAll("tspan"),_i883=gi(s,_t1329),_o291=_i883.length>0&&!s.collapsed?_i883:_e955;n.push.apply(n,_toConsumableArray(_o291));}else n.push(_t1329);}}catch(err){_iterator859.e(err);}finally{_iterator859.f();}for(var _i882=0,_n379=n;_i882<_n379.length;_i882++){var _t1327=_n379[_i882];_t1327.style.setProperty("fill-rule",this["#rule-buttons"].value),_t1327.hasAttribute("d")&&_t1327.setAttribute("d",_t1327.getAttribute("d"));}var _iterator860=_createForOfIteratorHelper(i),_step860;try{for(_iterator860.s();!(_step860=_iterator860.n()).done;){var _t1330=_step860.value;mi(_t1330,s);}}catch(err){_iterator860.e(err);}finally{_iterator860.f();}}},{key:"Xs",value:function Xs(){var t=[],e=this.tn.board.selectedTextRange,i=Symbol();var _iterator861=_createForOfIteratorHelper(this.gb()),_step861;try{for(_iterator861.s();!(_step861=_iterator861.n()).done;){var _i885=_step861.value;if("text"===_i885.localName){var _s474=wi(_i885);if(e&&e.intersectsNode(_i885)){"backward"===e.direction&&_s474.reverse();var _iterator864=_createForOfIteratorHelper(_s474),_step864;try{for(_iterator864.s();!(_step864=_iterator864.n()).done;){var _i886=_step864.value;e.intersectsNode(_i886)&&!1===t.includes(_i886.parentElement)&&t.push(_i886.parentElement);}}catch(err){_iterator864.e(err);}finally{_iterator864.f();}}else{var _iterator865=_createForOfIteratorHelper(_s474),_step865;try{for(_iterator865.s();!(_step865=_iterator865.n()).done;){var _e959=_step865.value;!1===t.includes(_e959.parentElement)&&t.push(_e959.parentElement);}}catch(err){_iterator865.e(err);}finally{_iterator865.f();}}}else t.push(_i885);}}catch(err){_iterator861.e(err);}finally{_iterator861.f();}for(var _i884=0,_t1331=t;_i884<_t1331.length;_i884++){var _e956=_t1331[_i884];_e956[i]=getComputedStyle(_e956);}var s=t[0],n=t.slice(1);if(this["#panel-heading"].disabled=void 0===s,!1===this.wb)if(s){var _t1332=s[i].fillOpacity,_e957=J(hx(_t1332),2),_o292=!1;var _iterator862=_createForOfIteratorHelper(n),_step862;try{for(_iterator862.s();!(_step862=_iterator862.n()).done;){var _t1333=_step862.value;var _s472=_t1333[i].fillOpacity;if(J(hx(_s472),2)!==_e957){_o292=!0;break;}}}catch(err){_iterator862.e(err);}finally{_iterator862.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_e957,this["#opacity-slider"].mixed=_o292,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_e957;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;if(s){var _t1334=!1,_e958=s[i].fillRule;var _iterator863=_createForOfIteratorHelper(n),_step863;try{for(_iterator863.s();!(_step863=_iterator863.n()).done;){var _s473=_step863.value;_s473[i].fillRule!==_e958&&(_t1334=!0);}}catch(err){_iterator863.e(err);}finally{_iterator863.f();}this["#rule-section-heading"].disabled=!1,this["#non-zero-rule-button"].disabled=!1,this["#even-odd-rule-button"].disabled=!1,"evenodd"===_e958?(this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].toggled=!0,this["#even-odd-rule-button"].mixed=_t1334):"nonzero"===_e958&&(this["#non-zero-rule-button"].toggled=!0,this["#non-zero-rule-button"].mixed=_t1334,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1);}else this["#rule-section-heading"].disabled=!0,this["#non-zero-rule-button"].disabled=!0,this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].disabled=!0,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1;}},{key:"gb",value:function gb(){var t=[],e=function e(i){var _iterator866=_createForOfIteratorHelper(i),_step866;try{for(_iterator866.s();!(_step866=_iterator866.n()).done;){var _s475=_step866.value;k.includes(_s475.localName)||"use"===_s475.localName?t.push(_s475):"g"!==_s475.localName&&"a"!==_s475.localName||e(_s475.children);}}catch(err){_iterator866.e(err);}finally{_iterator866.f();}};return e(this.tn.board.outermostSelectedElements),t;}}]);return rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rx,"observedAttributes",["enabled"]);_defineProperty(rx,"_shadowTemplate",Ki(_templateObject277()));_defineProperty(rx,"_shadowStyleSheet",Qi(_templateObject278()));customElements.define("bx-fillpanel",rx);var dx=/*#__PURE__*/function(_HTMLElement81){_inherits(dx,_HTMLElement81);var _super102=_createSuper(dx);_createClass(dx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function dx(){var _this479;_classCallCheck(this,dx);_this479=_super102.call(this),_this479.Za=ts(_this479.Xs,200,_assertThisInitialized(_this479)),_this479.kb=es(_this479.Sb,600,_assertThisInitialized(_this479)),_this479._shadowRoot=_this479.attachShadow({mode:"closed",delegatesFocus:!0}),_this479._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,dx._shadowStyleSheet],_this479._shadowRoot.append(document.importNode(dx._shadowTemplate.content,!0));var _iterator867=_createForOfIteratorHelper(_this479._shadowRoot.querySelectorAll("[id]")),_step867;try{for(_iterator867.s();!(_step867=_iterator867.n()).done;){var _t1335=_step867.value;_this479["#"+_t1335.id]=_t1335;}}catch(err){_iterator867.e(err);}finally{_iterator867.f();}_this479.addEventListener("keydown",function(t){return _this479.Tn(t);}),_this479["#button"].addEventListener("pointerdown",function(t){return _this479.Cb(t);}),_this479["#popover"].addEventListener("open",function(){return _this479.Ku();}),_this479["#items"].addEventListener("click",function(t){return _this479.lp(t);}),_this479["#items"].addEventListener("dblclick",function(t){return _this479.Qu(t);}),_this479["#clear-button"].addEventListener("click",function(t){return _this479._b(t);}),_this479["#manage-button"].addEventListener("click",function(t){return _this479.Ju(t);});return _this479;}_createClass(dx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.en():this.sn():"value"===t&&this.Hu());}},{key:"en",value:function en(){var _this480=this;this.Xs(),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this480.pl(t.detail);});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Hu",value:function Hu(){this.ox(),this.Mb(),this.lx();}},{key:"pl",value:function pl(){this.Za();}},{key:"Cb",value:function Cb(t){t.preventDefault();}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");if(e){var _t1336=e.getAttribute("data-value");_t1336!==this.value&&(this.value=_t1336,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Qu",value:function Qu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1337=e.getAttribute("data-value");this.tn.board.editMarker(_t1337);}}},{key:"_b",value:function _b(t){0===t.button&&null!==this.value&&(this.value=null,this.dispatchEvent(new CustomEvent("change")));}},{key:"Ju",value:function Ju(t){0===t.button&&(this["#button"].collapse(),this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("markers-browser"));}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx());}},{key:"Xs",value:function Xs(){this.ox(),this.Mb(),this.gx();}},{key:"ox",value:function ox(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden","");else{this["#button-thumbnail"].removeAttribute("hidden");var _t1338=this["#items"].querySelector(":scope > [data-value=\"".concat(this.value,"\"]"));this["#button-thumbnail"].innerHTML=_t1338.innerHTML;}}},{key:"Mb",value:function Mb(){this["#clear-button"].disabled=null===this.value;}},{key:"gx",value:function gx(){var t=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("marker")),e="";var _iterator868=_createForOfIteratorHelper(t),_step868;try{for(_iterator868.s();!(_step868=_iterator868.n()).done;){var _i887=_step868.value;var _t1339=_i887.hasAttribute("viewBox")?"viewBox=\"".concat(_i887.getAttribute("viewBox"),"\""):"";e+="\n        <div class=\"item\" data-value=\"".concat(_i887.id,"\">\n          <svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ").concat(_t1339,">\n            ").concat(_i887.innerHTML,"\n          </svg>\n          <div class=\"label\">#").concat(_i887.id,"</div>\n        </div>\n      ");}}catch(err){_iterator868.e(err);}finally{_iterator868.f();}this["#items"].innerHTML=e,this["#placeholder"].hidden=this["#items"].childElementCount>0,this.lx();}},{key:"lx",value:function lx(){var _iterator869=_createForOfIteratorHelper(this["#items"].children),_step869;try{for(_iterator869.s();!(_step869=_iterator869.n()).done;){var _t1340=_step869.value;_t1340.getAttribute("data-value")===this.value?_t1340.setAttribute("data-selected",""):_t1340.removeAttribute("data-selected");}}catch(err){_iterator869.e(err);}finally{_iterator869.f();}}},{key:"xx",value:function xx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.kb());}},{key:"mx",value:function mx(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.kb());}},{key:"Ku",value:function Ku(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Sb",value:function Sb(){this.dispatchEvent(new CustomEvent("change"));}}]);return dx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dx,"observedAttributes",["enabled","value"]);_defineProperty(dx,"_shadowTemplate",Ki(_templateObject279()));_defineProperty(dx,"_shadowStyleSheet",Qi(_templateObject280()));customElements.define("bx-markerselect",dx);var cx=Math.abs,px=Number.parseFloat,ux=["none","2px","4px","5px","8px","10px","20px","30px","1px, 4px","5px, 10px"],xx=ux.map(function(t){return"\n    <x-menuitem value=\"".concat(t,"\">\n      <svg viewBox=\"0 0 100 20\" preserveAspectRatio=\"none\" style=\"width: 195px; height: 20px; display: block;\">\n        <path\n          d=\"M 0 10 L 100 10\"\n          style=\"stroke-dasharray: ").concat(t,"; stroke: currentColor; vector-effect: non-scaling-stroke;\">\n        </path>\n      </svg>\n    </x-menuitem>\n  ");}).join("");var bx=/*#__PURE__*/function(_HTMLElement82){_inherits(bx,_HTMLElement82);var _super103=_createSuper(bx);_createClass(bx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function bx(){var _this481;_classCallCheck(this,bx);_this481=_super103.call(this),_this481.Za=ts(_this481.Xs,200,_assertThisInitialized(_this481)),_this481.wb=!1,_this481.Pb=!1,_this481.Db=!1,_this481.zb=!1,_this481.Ob=!1,_this481._shadowRoot=_this481.attachShadow({mode:"closed"}),_this481._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,bx._shadowStyleSheet],_this481._shadowRoot.append(document.importNode(bx._shadowTemplate.content,!0));var _iterator870=_createForOfIteratorHelper(_this481._shadowRoot.querySelectorAll("[id]")),_step870;try{for(_iterator870.s();!(_step870=_iterator870.n()).done;){var _t1341=_step870.value;_this481["#"+_t1341.id]=_t1341;}}catch(err){_iterator870.e(err);}finally{_iterator870.f();}_this481["#opacity-section"].addEventListener("changestart",function(){return _this481.vb();}),_this481["#width-box"].addEventListener("changestart",function(){return _this481.Eb();}),_this481["#non-scaling-stroke-checkbox"].addEventListener("toggle",function(){return _this481.Tb();}),_this481["#line-cap-buttons"].addEventListener("toggle",function(){return _this481.Ab();}),_this481["#line-join-buttons"].addEventListener("toggle",function(){return _this481.$b();}),_this481["#miter-limit-box"].addEventListener("changestart",function(){return _this481.Ib();}),_this481["#dash-array-select"].addEventListener("change",function(){return _this481.Lb();}),_this481["#dash-array-inputs"].addEventListener("changestart",function(t){return _this481.Bb(t);}),_this481["#dash-offset-box"].addEventListener("changestart",function(){return _this481.Rb();}),_this481["#marker-start-select"].addEventListener("change",function(t){return _this481.Gb(t);}),_this481["#marker-mid-select"].addEventListener("change",function(t){return _this481.Gb(t);}),_this481["#marker-end-select"].addEventListener("change",function(t){return _this481.Gb(t);});return _this481;}_createClass(bx,[{key:"connectedCallback",value:function connectedCallback(){this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this482=this;this["#stroke-paint-inspector"].enabled=!0,this.Za(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this482.hl();}),this.tn.board.addEventListener("selectedtextrangechange",this.ga=function(){_this482.fa();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this482.pl(t);});}},{key:"sn",value:function sn(){this["#stroke-paint-inspector"].enabled=!1,this["#marker-start-select"].enabled=!1,this["#marker-mid-select"].enabled=!1,this["#marker-end-select"].enabled=!1,this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("selectedtextrangechange",this.ga),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){this.Za();}},{key:"fa",value:function fa(){this.Za();}},{key:"pl",value:function pl(t){this.Za();}},{key:"vb",value:function vb(){var _this483=this;this.tn.board.undoManager.checkpoint("Stroke opacity");var t,_e960,i=this.gb(),s=i.filter(function(t){return"text"===t.localName;}),n=this.tn.board.selectedTextRange,o=[];var _iterator871=_createForOfIteratorHelper(s),_step871;try{for(_iterator871.s();!(_step871=_iterator871.n()).done;){var _t1346=_step871.value;bi(_t1346,n);}}catch(err){_iterator871.e(err);}finally{_iterator871.f();}var _iterator872=_createForOfIteratorHelper(i),_step872;try{for(_iterator872.s();!(_step872=_iterator872.n()).done;){var _t1347=_step872.value;if("text"===_t1347.localName){var _e961=_t1347.querySelectorAll("tspan"),_i888=gi(n,_t1347),_s476=_i888.length>0&&!n.collapsed?_i888:_e961;o.push.apply(o,_toConsumableArray(_s476));}else o.push(_t1347);}}catch(err){_iterator872.e(err);}finally{_iterator872.f();}this.wb=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1343){_t1343.target===_this483["#opacity-slider"]?_this483["#opacity-input"].value=_this483["#opacity-slider"].value:_t1343.target===_this483["#opacity-input"]&&(_this483["#opacity-slider"].value=_this483["#opacity-input"].value),_this483["#opacity-slider"].mixed=!1,_this483["#opacity-input"].mixed=!1;var _iterator873=_createForOfIteratorHelper(o),_step873;try{for(_iterator873.s();!(_step873=_iterator873.n()).done;){var _t1342=_step873.value;_t1342.style.setProperty("stroke-opacity",_this483["#opacity-slider"].value);}}catch(err){_iterator873.e(err);}finally{_iterator873.f();}}),this["#opacity-section"].addEventListener("changeend",_e960=function e(){_this483["#opacity-section"].removeEventListener("change",t),_this483["#opacity-section"].removeEventListener("changeend",_e960),_this483.wb=!1;var _iterator874=_createForOfIteratorHelper(o),_step874;try{for(_iterator874.s();!(_step874=_iterator874.n()).done;){var _t1344=_step874.value;Op("stroke-opacity",_t1344);}}catch(err){_iterator874.e(err);}finally{_iterator874.f();}var _iterator875=_createForOfIteratorHelper(s),_step875;try{for(_iterator875.s();!(_step875=_iterator875.n()).done;){var _t1345=_step875.value;mi(_t1345,n);}}catch(err){_iterator875.e(err);}finally{_iterator875.f();}});}},{key:"Eb",value:function Eb(){var _this484=this;this.tn.board.undoManager.checkpoint("Stroke width");var t,_e962,i=this.gb(),s=i.filter(function(t){return"text"===t.localName;}),n=this.tn.board.selectedTextRange,o=[],l=Symbol();var _iterator876=_createForOfIteratorHelper(s),_step876;try{for(_iterator876.s();!(_step876=_iterator876.n()).done;){var _t1352=_step876.value;bi(_t1352,n);}}catch(err){_iterator876.e(err);}finally{_iterator876.f();}var _iterator877=_createForOfIteratorHelper(i),_step877;try{for(_iterator877.s();!(_step877=_iterator877.n()).done;){var _t1353=_step877.value;var _e963=Wt(_t1353,this.tn.board.masterWorkspace),_Vl19=Vl(_e963),_i889=_Vl19.scaleX,_s477=_Vl19.scaleY,_a194=(cx(_i889)+cx(_s477))/2;if("text"===_t1353.localName&&_t1353.querySelector("tspan")){var _e964=_t1353.querySelectorAll("tspan"),_i890=gi(n,_t1353),_s478=_i890.length>0&&!n.collapsed?_i890:_e964;var _iterator881=_createForOfIteratorHelper(_s478),_step881;try{for(_iterator881.s();!(_step881=_iterator881.n()).done;){var _t1354=_step881.value;var _e965=getComputedStyle(_t1354).getPropertyValue("vector-effect");_t1354[l]="non-scaling-stroke"===_e965?1:_a194,o.push(_t1354);}}catch(err){_iterator881.e(err);}finally{_iterator881.f();}}else{var _e966=getComputedStyle(_t1353).getPropertyValue("vector-effect");_t1353[l]="non-scaling-stroke"===_e966?1:_a194,o.push(_t1353);}}}catch(err){_iterator877.e(err);}finally{_iterator877.f();}this.Pb=!0,this["#width-section"].addEventListener("change",t=function t(_t1349){_t1349.target===_this484["#width-slider"]?_this484["#width-input"].value=_this484["#width-slider"].value:_t1349.target===_this484["#width-input"]&&(_this484["#width-slider"].value=_this484["#width-input"].value),_this484["#width-slider"].mixed=!1,_this484["#width-input"].mixed=!1;var _iterator878=_createForOfIteratorHelper(o),_step878;try{for(_iterator878.s();!(_step878=_iterator878.n()).done;){var _t1348=_step878.value;_t1348.style.setProperty("stroke-width",_this484["#width-input"].value/_t1348[l]+"px");}}catch(err){_iterator878.e(err);}finally{_iterator878.f();}}),this["#width-section"].addEventListener("changeend",_e962=function e(){_this484["#width-section"].removeEventListener("change",t),_this484["#width-section"].removeEventListener("changeend",_e962),_this484.Pb=!1;var _iterator879=_createForOfIteratorHelper(o),_step879;try{for(_iterator879.s();!(_step879=_iterator879.n()).done;){var _t1350=_step879.value;Op("stroke-width",_t1350);}}catch(err){_iterator879.e(err);}finally{_iterator879.f();}var _iterator880=_createForOfIteratorHelper(s),_step880;try{for(_iterator880.s();!(_step880=_iterator880.n()).done;){var _t1351=_step880.value;mi(_t1351,n);}}catch(err){_iterator880.e(err);}finally{_iterator880.f();}});}},{key:"Ib",value:function Ib(){var _this485=this;this.tn.board.undoManager.checkpoint("Miter limit");var t,_e967,i=this.gb(),s=i.filter(function(t){return"text"===t.localName;}),n=this.tn.board.selectedTextRange,o=[];var _iterator882=_createForOfIteratorHelper(s),_step882;try{for(_iterator882.s();!(_step882=_iterator882.n()).done;){var _t1359=_step882.value;bi(_t1359,n);}}catch(err){_iterator882.e(err);}finally{_iterator882.f();}var _iterator883=_createForOfIteratorHelper(i),_step883;try{for(_iterator883.s();!(_step883=_iterator883.n()).done;){var _t1360=_step883.value;if("text"===_t1360.localName&&_t1360.querySelector("tspan")){var _e968=_t1360.querySelectorAll("tspan"),_i891=gi(n,_t1360),_s479=_i891.length>0&&!n.collapsed?_i891:_e968;var _iterator887=_createForOfIteratorHelper(_s479),_step887;try{for(_iterator887.s();!(_step887=_iterator887.n()).done;){var _t1361=_step887.value;o.push(_t1361);}}catch(err){_iterator887.e(err);}finally{_iterator887.f();}}else o.push(_t1360);}}catch(err){_iterator883.e(err);}finally{_iterator883.f();}o=o.filter(function(t){return"miter"===getComputedStyle(t).getPropertyValue("stroke-linejoin");}),this.zb=!0,this["#miter-limit-box"].addEventListener("change",t=function t(_t1356){_t1356.target===_this485["#miter-limit-slider"]?_this485["#miter-limit-input"].value=_this485["#miter-limit-slider"].value:_t1356.target===_this485["#width-input"]&&(_this485["#miter-limit-slider"].value=_this485["#miter-limit-input"].value),_this485["#miter-limit-slider"].mixed=!1,_this485["#miter-limit-input"].mixed=!1;var _iterator884=_createForOfIteratorHelper(o),_step884;try{for(_iterator884.s();!(_step884=_iterator884.n()).done;){var _t1355=_step884.value;_t1355.style.setProperty("stroke-miterlimit",_this485["#miter-limit-input"].value);}}catch(err){_iterator884.e(err);}finally{_iterator884.f();}}),this["#miter-limit-box"].addEventListener("changeend",_e967=function e(){_this485["#miter-limit-box"].removeEventListener("change",t),_this485["#miter-limit-box"].removeEventListener("changeend",_e967),_this485.zb=!1;var _iterator885=_createForOfIteratorHelper(o),_step885;try{for(_iterator885.s();!(_step885=_iterator885.n()).done;){var _t1357=_step885.value;Op("stroke-miterlimit",_t1357);}}catch(err){_iterator885.e(err);}finally{_iterator885.f();}var _iterator886=_createForOfIteratorHelper(s),_step886;try{for(_iterator886.s();!(_step886=_iterator886.n()).done;){var _t1358=_step886.value;mi(_t1358,n);}}catch(err){_iterator886.e(err);}finally{_iterator886.f();}});}},{key:"Rb",value:function Rb(){var _this486=this;this.tn.board.undoManager.checkpoint("Dash offset");var t,_e969,i=this.gb(),s=i.filter(function(t){return"text"===t.localName;}),n=this.tn.board.selectedTextRange,o=[];var _iterator888=_createForOfIteratorHelper(s),_step888;try{for(_iterator888.s();!(_step888=_iterator888.n()).done;){var _t1366=_step888.value;bi(_t1366,n);}}catch(err){_iterator888.e(err);}finally{_iterator888.f();}var _iterator889=_createForOfIteratorHelper(i),_step889;try{for(_iterator889.s();!(_step889=_iterator889.n()).done;){var _t1367=_step889.value;if("text"===_t1367.localName&&_t1367.querySelector("tspan")){var _e970=_t1367.querySelectorAll("tspan"),_i892=gi(n,_t1367),_s480=_i892.length>0&&!n.collapsed?_i892:_e970;var _iterator893=_createForOfIteratorHelper(_s480),_step893;try{for(_iterator893.s();!(_step893=_iterator893.n()).done;){var _t1368=_step893.value;o.push(_t1368);}}catch(err){_iterator893.e(err);}finally{_iterator893.f();}}else o.push(_t1367);}}catch(err){_iterator889.e(err);}finally{_iterator889.f();}this.Ob=!0,this["#dash-offset-box"].addEventListener("change",t=function t(_t1363){_t1363.target===_this486["#dash-offset-slider"]?_this486["#dash-offset-input"].value=_this486["#dash-offset-slider"].value:_t1363.target===_this486["#width-input"]&&(_this486["#dash-offset-slider"].value=_this486["#dash-offset-input"].value),_this486["#dash-offset-slider"].mixed=!1,_this486["#dash-offset-input"].mixed=!1;var _iterator890=_createForOfIteratorHelper(o),_step890;try{for(_iterator890.s();!(_step890=_iterator890.n()).done;){var _t1362=_step890.value;_t1362.style.setProperty("stroke-dashoffset",_this486["#dash-offset-input"].value+"px");}}catch(err){_iterator890.e(err);}finally{_iterator890.f();}}),this["#dash-offset-box"].addEventListener("changeend",_e969=function e(){_this486["#dash-offset-box"].removeEventListener("change",t),_this486["#dash-offset-box"].removeEventListener("changeend",_e969),_this486.Ob=!1;var _iterator891=_createForOfIteratorHelper(o),_step891;try{for(_iterator891.s();!(_step891=_iterator891.n()).done;){var _t1364=_step891.value;Op("stroke-dashoffset",_t1364);}}catch(err){_iterator891.e(err);}finally{_iterator891.f();}var _iterator892=_createForOfIteratorHelper(s),_step892;try{for(_iterator892.s();!(_step892=_iterator892.n()).done;){var _t1365=_step892.value;mi(_t1365,n);}}catch(err){_iterator892.e(err);}finally{_iterator892.f();}});}},{key:"Lb",value:function Lb(){this.tn.board.undoManager.checkpoint("Dash array");var t=this.gb(),e=t.filter(function(t){return"text"===t.localName;}),i=this.tn.board.selectedTextRange,s=[];var _iterator894=_createForOfIteratorHelper(e),_step894;try{for(_iterator894.s();!(_step894=_iterator894.n()).done;){var _t1370=_step894.value;bi(_t1370,i);}}catch(err){_iterator894.e(err);}finally{_iterator894.f();}var _iterator895=_createForOfIteratorHelper(t),_step895;try{for(_iterator895.s();!(_step895=_iterator895.n()).done;){var _e971=_step895.value;if("text"===_e971.localName&&_e971.querySelector("tspan")){var _t1371=_e971.querySelectorAll("tspan"),_n380=gi(i,_e971),_o293=_n380.length>0&&!i.collapsed?_n380:_t1371;var _iterator897=_createForOfIteratorHelper(_o293),_step897;try{for(_iterator897.s();!(_step897=_iterator897.n()).done;){var _t1372=_step897.value;s.push(_t1372);}}catch(err){_iterator897.e(err);}finally{_iterator897.f();}}else s.push(_e971);}}catch(err){_iterator895.e(err);}finally{_iterator895.f();}for(var _i893=0,_s481=s;_i893<_s481.length;_i893++){var _t1369=_s481[_i893];_t1369.style.setProperty("stroke-dasharray",this["#dash-array-select"].value),Op("stroke-dasharray",_t1369);}var _iterator896=_createForOfIteratorHelper(e),_step896;try{for(_iterator896.s();!(_step896=_iterator896.n()).done;){var _t1373=_step896.value;mi(_t1373,i);}}catch(err){_iterator896.e(err);}finally{_iterator896.f();}}},{key:"Bb",value:function Bb(t){var _this487=this;this.tn.board.undoManager.checkpoint("Dash array");var e,_i894,s=this.gb(),n=s.filter(function(t){return"text"===t.localName;}),o=this.tn.board.selectedTextRange,l=t.target,a=_toConsumableArray(this["#dash-array-inputs"].querySelectorAll("x-numberinput")),h=[];var _iterator898=_createForOfIteratorHelper(n),_step898;try{for(_iterator898.s();!(_step898=_iterator898.n()).done;){var _t1377=_step898.value;bi(_t1377,o);}}catch(err){_iterator898.e(err);}finally{_iterator898.f();}var _iterator899=_createForOfIteratorHelper(s),_step899;try{for(_iterator899.s();!(_step899=_iterator899.n()).done;){var _t1378=_step899.value;if("text"===_t1378.localName&&_t1378.querySelector("tspan")){var _e972=_t1378.querySelectorAll("tspan"),_i895=gi(o,_t1378),_s482=_i895.length>0&&!o.collapsed?_i895:_e972;var _iterator903=_createForOfIteratorHelper(_s482),_step903;try{for(_iterator903.s();!(_step903=_iterator903.n()).done;){var _t1379=_step903.value;h.push(_t1379);}}catch(err){_iterator903.e(err);}finally{_iterator903.f();}}else h.push(_t1378);}}catch(err){_iterator899.e(err);}finally{_iterator899.f();}this.Db=!0,l.addEventListener("change",e=function e(t){l.mixed=!1;var e=a.map(function(t){return t.value;}).join(" ").trim();var _iterator900=_createForOfIteratorHelper(h),_step900;try{for(_iterator900.s();!(_step900=_iterator900.n()).done;){var _t1374=_step900.value;_t1374.style.setProperty("stroke-dasharray",e);}}catch(err){_iterator900.e(err);}finally{_iterator900.f();}}),l.addEventListener("changeend",_i894=function i(){l.removeEventListener("change",e),l.removeEventListener("changeend",_i894),_this487.Db=!1;var _iterator901=_createForOfIteratorHelper(h),_step901;try{for(_iterator901.s();!(_step901=_iterator901.n()).done;){var _t1375=_step901.value;Op("stroke-dasharray",_t1375);}}catch(err){_iterator901.e(err);}finally{_iterator901.f();}var _iterator902=_createForOfIteratorHelper(n),_step902;try{for(_iterator902.s();!(_step902=_iterator902.n()).done;){var _t1376=_step902.value;mi(_t1376,o);}}catch(err){_iterator902.e(err);}finally{_iterator902.f();}});}},{key:"Tb",value:function Tb(){this.tn.board.undoManager.checkpoint("Non-scaling stroke");var t=this.gb(),e=t.filter(function(t){return"text"===t.localName;}),i=this["#non-scaling-stroke-checkbox"].toggled?"non-scaling-stroke":"none",s=this.tn.board.selectedTextRange,n=[];var _iterator904=_createForOfIteratorHelper(e),_step904;try{for(_iterator904.s();!(_step904=_iterator904.n()).done;){var _t1381=_step904.value;bi(_t1381,s);}}catch(err){_iterator904.e(err);}finally{_iterator904.f();}var _iterator905=_createForOfIteratorHelper(t),_step905;try{for(_iterator905.s();!(_step905=_iterator905.n()).done;){var _e973=_step905.value;if("text"===_e973.localName&&_e973.querySelector("tspan")&&s&&_e973.contains(s.commonAncestorContainer)){var _t1382=_e973.querySelectorAll("tspan"),_i897=gi(s,_e973),_o294=s.collapsed?_t1382:_i897;n.push.apply(n,_toConsumableArray(_o294));}else n.push(_e973);}}catch(err){_iterator905.e(err);}finally{_iterator905.f();}for(var _i896=0,_n381=n;_i896<_n381.length;_i896++){var _t1380=_n381[_i896];_t1380.style.setProperty("vector-effect",i),Op("vector-effect",_t1380);}var _iterator906=_createForOfIteratorHelper(e),_step906;try{for(_iterator906.s();!(_step906=_iterator906.n()).done;){var _t1383=_step906.value;mi(_t1383,s);}}catch(err){_iterator906.e(err);}finally{_iterator906.f();}}},{key:"Ab",value:function Ab(){this.tn.board.undoManager.checkpoint("Line cap");var t=this.gb(),e=t.filter(function(t){return"text"===t.localName;}),i=this.tn.board.selectedTextRange,s=[];var _iterator907=_createForOfIteratorHelper(e),_step907;try{for(_iterator907.s();!(_step907=_iterator907.n()).done;){var _t1385=_step907.value;bi(_t1385,i);}}catch(err){_iterator907.e(err);}finally{_iterator907.f();}var _iterator908=_createForOfIteratorHelper(t),_step908;try{for(_iterator908.s();!(_step908=_iterator908.n()).done;){var _e974=_step908.value;if("text"===_e974.localName&&_e974.querySelector("tspan")){var _t1386=_e974.querySelectorAll("tspan"),_n382=gi(i,_e974),_o295=_n382.length>0&&!i.collapsed?_n382:_t1386;s.push.apply(s,_toConsumableArray(_o295));}else s.push(_e974);}}catch(err){_iterator908.e(err);}finally{_iterator908.f();}for(var _i898=0,_s483=s;_i898<_s483.length;_i898++){var _t1384=_s483[_i898];_t1384.style.setProperty("stroke-linecap",this["#line-cap-buttons"].value),Op("stroke-linecap",_t1384);}var _iterator909=_createForOfIteratorHelper(e),_step909;try{for(_iterator909.s();!(_step909=_iterator909.n()).done;){var _t1387=_step909.value;mi(_t1387,i);}}catch(err){_iterator909.e(err);}finally{_iterator909.f();}}},{key:"$b",value:function $b(){this.tn.board.undoManager.checkpoint("Line join");var t=this.gb(),e=t.filter(function(t){return"text"===t.localName;}),i=this.tn.board.selectedTextRange,s=[];var _iterator910=_createForOfIteratorHelper(e),_step910;try{for(_iterator910.s();!(_step910=_iterator910.n()).done;){var _t1389=_step910.value;bi(_t1389,i);}}catch(err){_iterator910.e(err);}finally{_iterator910.f();}var _iterator911=_createForOfIteratorHelper(t),_step911;try{for(_iterator911.s();!(_step911=_iterator911.n()).done;){var _e975=_step911.value;if("text"===_e975.localName&&_e975.querySelector("tspan")){var _t1390=_e975.querySelectorAll("tspan"),_n383=gi(i,_e975),_o296=_n383.length>0&&!i.collapsed?_n383:_t1390;s.push.apply(s,_toConsumableArray(_o296));}else s.push(_e975);}}catch(err){_iterator911.e(err);}finally{_iterator911.f();}for(var _i899=0,_s484=s;_i899<_s484.length;_i899++){var _t1388=_s484[_i899];_t1388.style.setProperty("stroke-linejoin",this["#line-join-buttons"].value),Op("stroke-linejoin",_t1388);}var _iterator912=_createForOfIteratorHelper(e),_step912;try{for(_iterator912.s();!(_step912=_iterator912.n()).done;){var _t1391=_step912.value;mi(_t1391,i);}}catch(err){_iterator912.e(err);}finally{_iterator912.f();}}},{key:"Gb",value:function Gb(t){this.tn.board.undoManager.checkpoint("Marker");var e=t.target,i=this.Ub(),s="marker-"+e.dataset.position;var _iterator913=_createForOfIteratorHelper(i),_step913;try{for(_iterator913.s();!(_step913=_iterator913.n()).done;){var _t1392=_step913.value;_t1392.style.setProperty(s,null===e.value?"none":"url(\"#".concat(e.value,"\")")),Op(s,_t1392);}}catch(err){_iterator913.e(err);}finally{_iterator913.f();}}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=[],i=[],s=Symbol(),n=Symbol();{var _o297=t.selectedTextRange;var _iterator914=_createForOfIteratorHelper(this.gb()),_step914;try{for(_iterator914.s();!(_step914=_iterator914.n()).done;){var _t1393=_step914.value;if("text"===_t1393.localName){var _s485=wi(_t1393);if(_o297&&_o297.intersectsNode(_t1393)){"backward"===_o297.direction&&_s485.reverse();var _iterator916=_createForOfIteratorHelper(_s485),_step916;try{for(_iterator916.s();!(_step916=_iterator916.n()).done;){var _t1394=_step916.value;_o297.intersectsNode(_t1394)&&(e.includes(_t1394.parentElement)||e.push(_t1394.parentElement),i.includes(_t1394.parentElement)||i.push(_t1394.parentElement));}}catch(err){_iterator916.e(err);}finally{_iterator916.f();}}else{var _iterator917=_createForOfIteratorHelper(_s485),_step917;try{for(_iterator917.s();!(_step917=_iterator917.n()).done;){var _t1395=_step917.value;!1===e.includes(_t1395.parentElement)&&e.push(_t1395.parentElement);}}catch(err){_iterator917.e(err);}finally{_iterator917.f();}i.push(_t1393);}}else e.push(_t1393),i.push(_t1393);}}catch(err){_iterator914.e(err);}finally{_iterator914.f();}var _iterator915=_createForOfIteratorHelper(new Set([].concat(e,i))),_step915;try{for(_iterator915.s();!(_step915=_iterator915.n()).done;){var _o298=_step915.value;var _e976=Wt(_o298,t.masterWorkspace),_Vl20=Vl(_e976),_i900=_Vl20.scaleX,_l259=_Vl20.scaleY;_o298[s]=getComputedStyle(_o298),_o298[n]=(cx(_i900)+cx(_l259))/2;}}catch(err){_iterator915.e(err);}finally{_iterator915.f();}}{var _t1396=e[0],_i901=e.slice(1);this["#panel-heading"].disabled=void 0===_t1396;}if(!1===this.wb){var _t1397=e[0],_i902=e.slice(1);if(_t1397){var _e977=_t1397[s].strokeOpacity,_n384=J(px(_e977),2),_o299=!1;var _iterator918=_createForOfIteratorHelper(_i902),_step918;try{for(_iterator918.s();!(_step918=_iterator918.n()).done;){var _t1398=_step918.value;var _e978=_t1398[s].strokeOpacity;if(J(px(_e978),2)!==_n384){_o299=!0;break;}}}catch(err){_iterator918.e(err);}finally{_iterator918.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_n384,this["#opacity-slider"].mixed=_o299,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_n384;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;}if(!1===this.Pb&&!1===t.transformHud.isScaling){{var _t1399=e[0],_i903=e.slice(1);if(_t1399){var _e979=!1,_o300="non-scaling-stroke"===_t1399[s].getPropertyValue("vector-effect"),_l260=px(_t1399[s].getPropertyValue("stroke-width")),_a195=J(_t1399[n]*_l260,3);var _iterator919=_createForOfIteratorHelper(_i903),_step919;try{for(_iterator919.s();!(_step919=_iterator919.n()).done;){var _t1400=_step919.value;var _i904=px(_t1400[s].getPropertyValue("stroke-width"));if(_a195!==J(_t1400[n]*_i904,3)){_e979=!0;break;}}}catch(err){_iterator919.e(err);}finally{_iterator919.f();}this["#width-slider"].value=_o300?_l260:_a195,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=_e979,this["#width-input"].value=_o300?_l260:_a195,this["#width-input"].disabled=!1;}else this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1,this["#width-input"].value=0,this["#width-input"].disabled=!0;}{var _t1401=i[0],_e980=i.slice(1);if(_t1401){var _i905=_t1401[s].getPropertyValue("vector-effect"),_n385=!1;var _iterator920=_createForOfIteratorHelper(_e980),_step920;try{for(_iterator920.s();!(_step920=_iterator920.n()).done;){var _t1402=_step920.value;if(_t1402[s].getPropertyValue("vector-effect")!==_i905){_n385=!0;break;}}}catch(err){_iterator920.e(err);}finally{_iterator920.f();}this["#non-scaling-stroke-checkbox"].disabled=!1,this["#non-scaling-stroke-checkbox"].toggled="non-scaling-stroke"===_i905,this["#non-scaling-stroke-checkbox"].mixed=_n385;}else this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].toggled=!1,this["#non-scaling-stroke-checkbox"].mixed=!1;}this["#width-section-heading"].disabled=this["#width-slider"].disabled||this["#non-scaling-stroke-checkbox"].disabled;}if(!1===this.zb){{var _t1403=e[0],_i906=e.slice(1);if(this["#line-section-heading"].disabled=void 0===_t1403,this["#line-cap-box-heading"].disabled=void 0===_t1403,this["#line-join-box-heading"].disabled=void 0===_t1403,_t1403){var _iterator921=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step921;try{for(_iterator921.s();!(_step921=_iterator921.n()).done;){var _t1404=_step921.value;_t1404.disabled=!1;}}catch(err){_iterator921.e(err);}finally{_iterator921.f();}var _iterator922=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step922;try{for(_iterator922.s();!(_step922=_iterator922.n()).done;){var _t1405=_step922.value;_t1405.disabled=!1;}}catch(err){_iterator922.e(err);}finally{_iterator922.f();}var _e981=_t1403[s].getPropertyValue("stroke-linecap"),_n386=_t1403[s].getPropertyValue("stroke-linejoin"),_o301=!1,_l261=!1;var _iterator923=_createForOfIteratorHelper(_i906),_step923;try{for(_iterator923.s();!(_step923=_iterator923.n()).done;){var _t1406=_step923.value;var _i907=_t1406[s].getPropertyValue("stroke-linecap"),_a196=_t1406[s].getPropertyValue("stroke-linejoin");_i907!==_e981&&(_o301=!0),_a196!==_n386&&(_l261=!0);}}catch(err){_iterator923.e(err);}finally{_iterator923.f();}var _iterator924=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step924;try{for(_iterator924.s();!(_step924=_iterator924.n()).done;){var _t1407=_step924.value;_t1407.value===_e981?(_t1407.toggled=!0,_t1407.mixed=_o301):(_t1407.toggled=!1,_t1407.mixed=!1);}}catch(err){_iterator924.e(err);}finally{_iterator924.f();}var _iterator925=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step925;try{for(_iterator925.s();!(_step925=_iterator925.n()).done;){var _t1408=_step925.value;_t1408.value===_n386?(_t1408.toggled=!0,_t1408.mixed=_l261):(_t1408.toggled=!1,_t1408.mixed=!1);}}catch(err){_iterator925.e(err);}finally{_iterator925.f();}}else{var _iterator926=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step926;try{for(_iterator926.s();!(_step926=_iterator926.n()).done;){var _t1409=_step926.value;_t1409.disabled=!0,_t1409.toggled=!1,_t1409.mixed=!1;}}catch(err){_iterator926.e(err);}finally{_iterator926.f();}var _iterator927=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step927;try{for(_iterator927.s();!(_step927=_iterator927.n()).done;){var _t1410=_step927.value;_t1410.disabled=!0,_t1410.toggled=!1,_t1410.mixed=!1;}}catch(err){_iterator927.e(err);}finally{_iterator927.f();}}}{var _t1411=e[0],_i908=e.slice(1),_n387=_t1411?_t1411[s].getPropertyValue("stroke-linejoin"):null;if(_t1411&&"miter"===_n387){var _e982=_t1411[s].getPropertyValue("stroke-miterlimit"),_n388=!1;var _iterator928=_createForOfIteratorHelper(_i908),_step928;try{for(_iterator928.s();!(_step928=_iterator928.n()).done;){var _t1412=_step928.value;if(_t1412[s].getPropertyValue("stroke-miterlimit")!==_e982){_n388=!0;break;}}}catch(err){_iterator928.e(err);}finally{_iterator928.f();}this["#miter-limit-heading"].disabled=!1,this["#miter-limit-slider"].value=px(_e982),this["#miter-limit-slider"].mixed=_n388,this["#miter-limit-slider"].disabled=!1,this["#miter-limit-input"].value=px(_e982),this["#miter-limit-input"].mixed=_n388,this["#miter-limit-input"].disabled=!1;}else this["#miter-limit-heading"].disabled=!0,this["#miter-limit-slider"].value=0,this["#miter-limit-slider"].mixed=!1,this["#miter-limit-slider"].disabled=!0,this["#miter-limit-input"].value=0,this["#miter-limit-input"].mixed=!1,this["#miter-limit-input"].disabled=!0;}}if(!1===this.Ob){var _t1413=e[0],_i909=e.slice(1);if(this["#dash-section-heading"].disabled=void 0===_t1413,this["#dash-array-box-heading"].disabled=void 0===_t1413,this["#dash-array-select"].disabled=void 0===_t1413,_t1413){var _iterator929=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step929;try{for(_iterator929.s();!(_step929=_iterator929.n()).done;){var _t1415=_step929.value;var _iterator930=_createForOfIteratorHelper(_t1415.children),_step930;try{for(_iterator930.s();!(_step930=_iterator930.n()).done;){var _e984=_step930.value;_e984.disabled=!1;}}catch(err){_iterator930.e(err);}finally{_iterator930.f();}}}catch(err){_iterator929.e(err);}finally{_iterator929.f();}var _e983=this["#dash-array-inputs"].querySelectorAll("x-numberinput"),_i910=_t1413[s].getPropertyValue("stroke-dasharray"),_n389=[];"none"!==_i910&&(_n389=_i910.split(",").map(function(t){return px(t.trim());}));for(var _t1414=0;_t1414<6;_t1414+=1){var _i911=void 0===_n389[_t1414]?null:_n389[_t1414],_s486=_e983[_t1414];_s486.value=_i911,_s486.disabled=_t1414>_n389.length;}ux.includes(_i910)?this["#dash-array-select"].value=_i910:this["#dash-array-select"].value=null;}else{var _iterator931=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step931;try{for(_iterator931.s();!(_step931=_iterator931.n()).done;){var _t1416=_step931.value;var _iterator932=_createForOfIteratorHelper(_t1416.children),_step932;try{for(_iterator932.s();!(_step932=_iterator932.n()).done;){var _e985=_step932.value;_e985.disabled=!0;}}catch(err){_iterator932.e(err);}finally{_iterator932.f();}}}catch(err){_iterator931.e(err);}finally{_iterator931.f();}}if(_t1413){var _e986=_t1413[s].getPropertyValue("stroke-dashoffset"),_n390=!1;var _iterator933=_createForOfIteratorHelper(_i909),_step933;try{for(_iterator933.s();!(_step933=_iterator933.n()).done;){var _t1417=_step933.value;if(_t1417[s].getPropertyValue("stroke-dashoffset")!==_e986){_n390=!0;break;}}}catch(err){_iterator933.e(err);}finally{_iterator933.f();}this["#dash-offset-heading"].disabled=!1,this["#dash-offset-slider"].disabled=!1,this["#dash-offset-slider"].mixed=_n390,this["#dash-offset-slider"].value=px(_e986),this["#dash-offset-input"].disabled=!1,this["#dash-offset-input"].mixed=_n390,this["#dash-offset-input"].value=px(_e986);}else this["#dash-offset-heading"].disabled=!0,this["#dash-offset-slider"].disabled=!0,this["#dash-offset-slider"].mixed=!1,this["#dash-offset-input"].disabled=!0,this["#dash-offset-input"].mixed=!1;}{var _t1418=this.Ub();if(0===_t1418.length)this["#marker-section-heading"].disabled=!0,this["#marker-start-heading"].disabled=!0,this["#marker-start-select"].enabled=!1,this["#marker-start-select"].value=null,this["#marker-mid-heading"].disabled=!0,this["#marker-mid-select"].enabled=!1,this["#marker-mid-select"].value=null,this["#marker-end-heading"].disabled=!0,this["#marker-end-select"].enabled=!1,this["#marker-end-select"].value=null;else{var _t1419=_toArray(_t1418),_e987=_t1419[0],_i912=_t1419.slice(1),_n391=function _n391(t,e){var i=t[s].getPropertyValue("marker-".concat(e)),n=Go.fromString(i);return"none"===i?null:n.value.substring(1);},_o302=_n391(_e987,"start"),_l262=_n391(_e987,"mid"),_a197=_n391(_e987,"end"),_h160=!1,_r97=!1,_d77=!1;var _iterator934=_createForOfIteratorHelper(_i912),_step934;try{for(_iterator934.s();!(_step934=_iterator934.n()).done;){var _t1420=_step934.value;var _e988=_n391(_t1420,"start"),_i913=_n391(_t1420,"mid"),_s487=_n391(_t1420,"end");_e988!==_o302&&(_h160=!0),_i913!==_l262&&(_r97=!0),_s487!==_a197&&(_d77=!0);}}catch(err){_iterator934.e(err);}finally{_iterator934.f();}this["#marker-section-heading"].disabled=!1,this["#marker-start-heading"].disabled=!1,this["#marker-start-select"].enabled=!0,this["#marker-start-select"].mixed=_h160,this["#marker-start-select"].value=_o302,this["#marker-mid-heading"].disabled=!1,this["#marker-mid-select"].enabled=!0,this["#marker-mid-select"].mixed=_r97,this["#marker-mid-select"].value=_l262,this["#marker-end-heading"].disabled=!1,this["#marker-end-select"].enabled=!0,this["#marker-end-select"].mixed=_d77,this["#marker-end-select"].value=_a197;}}}},{key:"gb",value:function gb(){var t=[],e=function e(i){var _iterator935=_createForOfIteratorHelper(i),_step935;try{for(_iterator935.s();!(_step935=_iterator935.n()).done;){var _s488=_step935.value;k.includes(_s488.localName)||"use"===_s488.localName?t.push(_s488):"g"!==_s488.localName&&"a"!==_s488.localName||e(_s488.children);}}catch(err){_iterator935.e(err);}finally{_iterator935.f();}};return e(this.tn.board.outermostSelectedElements),t;}},{key:"Ub",value:function Ub(){var t=[];return function(e){var _iterator936=_createForOfIteratorHelper(e),_step936;try{for(_iterator936.s();!(_step936=_iterator936.n()).done;){var _i914=_step936.value;T.includes(_i914.localName)&&t.push(_i914);}}catch(err){_iterator936.e(err);}finally{_iterator936.f();}}(this.tn.board.outermostSelectedElements),t;}}]);return bx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bx,"observedAttributes",["enabled"]);_defineProperty(bx,"_shadowTemplate",Ki(_templateObject281(),xx));_defineProperty(bx,"_shadowStyleSheet",Qi(_templateObject282()));customElements.define("bx-strokepanel",bx);var mx={"drop-shadow":1,"inner-shadow":1,"point-light":1,"spot-light":1,outline:1,"gaussian-blur":1,"motion-blur":1,sharpen:1,pixelete:1,warp:1,morphology:1,"black-and-white":1,grayscale:1,sepia:1,saturate:1,"hue-rotate":1,invert:1,brightness:1,contrast:1,posterize:1,duotone:1,"x-ray":1};var gx=function gx(t){var e=null;return"drop-shadow"===t?e={offsetX:10,offsetY:10,blurRadius:0,spread:.5,color:"rgba(0,0,0,0.3)"}:"inner-shadow"===t?e={offsetX:0,offsetY:0,blurRadius:10,choke:.5,color:"rgba(0,0,0,0.7)"}:"point-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:.5,specularExponent:70,specularConstant:1,diffuseConstant:.2,ambientConstant:0,color:"#ffffff"}:"spot-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:1,targetX:.5,targetY:.5,targetZ:0,coneAngle:20,color:"#ffffff",specularExponent:30,specularConstant:2,diffuseConstant:.1,ambientConstant:0}:"outline"===t?e={width:4,color:"#bada55"}:"gaussian-blur"===t?e={radius:5}:"motion-blur"===t?e={distance:5,orientation:"horizontal"}:"sharpen"===t?e={amount:.4}:"pixelete"===t?e={pixelSize:10}:"warp"===t?e={amount:50,frequency:.1}:"morphology"===t?e={operator:"dilate",radius:4}:"black-and-white"===t?e={balance:0}:"grayscale"===t||"sepia"===t?e={amount:1}:"saturate"===t?e={amount:.5}:"hue-rotate"===t?e={angle:90}:"invert"===t?e={amount:1}:"brightness"===t?e={amount:1.5}:"contrast"===t?e={amount:.7}:"posterize"===t?e={channels:["r"],amount:3,saturation:.9}:"duotone"===t?e={shadowsColor:"rgb(189,11,145)",highlightsColor:"rgb(252,187,13)",gamma:1}:"x-ray"===t&&(e={}),e&&(e.name=t),e;},fx=function fx(t){var e=null;if(t.hasAttribute("data-bx-preset")){var _t$getAttribute$split=t.getAttribute("data-bx-preset").split(" "),_t$getAttribute$split2=_toArray(_t$getAttribute$split),_i915=_t$getAttribute$split2[0],_s489=_t$getAttribute$split2[1],_n392=_t$getAttribute$split2.slice(2);if("drop-shadow"===_i915){var _ref142=_toConsumableArray(_n392),_t1421=_ref142[0],_s490=_ref142[1],_o303=_ref142[2],_l263=_ref142[3],_a198=_ref142[4];e={name:_i915,offsetX:parseFloat(_t1421),offsetY:parseFloat(_s490),blurRadius:parseFloat(_o303),spread:parseFloat(_l263),color:_a198};}else if("inner-shadow"===_i915){var _ref143=_toConsumableArray(_n392),_t1422=_ref143[0],_s491=_ref143[1],_o304=_ref143[2],_l264=_ref143[3],_a199=_ref143[4];e={name:_i915,offsetX:parseFloat(_t1422),offsetY:parseFloat(_s491),blurRadius:parseFloat(_o304),choke:parseFloat(_l264),color:_a199};}else if("point-light"===_i915){var _ref144=_toConsumableArray(_n392),_t1423=_ref144[0],_s492=_ref144[1],_o305=_ref144[2],_l265=_ref144[3],_a200=_ref144[4],_h161=_ref144[5],_r98=_ref144[6],_d78=_ref144[7];e={name:_i915,sourceX:parseFloat(_t1423),sourceY:parseFloat(_s492),sourceZ:parseFloat(_o305),specularExponent:parseFloat(_l265),specularConstant:parseFloat(_a200),diffuseConstant:parseFloat(_h161),ambientConstant:parseFloat(_r98),color:_d78};}else if("spot-light"===_i915){var _ref145=_toConsumableArray(_n392),_t1424=_ref145[0],_s493=_ref145[1],_o306=_ref145[2],_l266=_ref145[3],_a201=_ref145[4],_h162=_ref145[5],_r99=_ref145[6],_d79=_ref145[7],_c56=_ref145[8],_p52=_ref145[9],_u46=_ref145[10],_x144=_ref145[11];e={name:_i915,sourceX:parseFloat(_t1424),sourceY:parseFloat(_s493),sourceZ:parseFloat(_o306),targetX:parseFloat(_l266),targetY:parseFloat(_a201),targetZ:parseFloat(_h162),coneAngle:parseFloat(_r99),color:_d79,specularExponent:parseFloat(_c56),specularConstant:parseFloat(_p52),diffuseConstant:parseFloat(_u46),ambientConstant:parseFloat(_x144)};}else if("outline"===_i915){var _ref146=_toConsumableArray(_n392),_t1425=_ref146[0],_s494=_ref146[1];e={name:_i915,width:parseFloat(_t1425),color:_s494};}else if("gaussian-blur"===_i915){var _ref147=_toConsumableArray(_n392),_t1426=_ref147[0];e={name:_i915,radius:parseFloat(_t1426)};}else if("motion-blur"===_i915){var _ref148=_toConsumableArray(_n392),_t1427=_ref148[0],_s495=_ref148[1];e={name:_i915,distance:parseFloat(_t1427),orientation:_s495};}else if("sharpen"===_i915){var _ref149=_toConsumableArray(_n392),_t1428=_ref149[0];e={name:_i915,amount:parseFloat(_t1428)};}else if("pixelete"===_i915){var _ref150=_toConsumableArray(_n392),_t1429=_ref150[0];e={name:_i915,pixelSize:parseFloat(_t1429)};}else if("warp"===_i915){var _ref151=_toConsumableArray(_n392),_t1430=_ref151[0],_s496=_ref151[1];e={name:_i915,amount:parseFloat(_t1430),frequency:parseFloat(_s496)};}else if("morphology"===_i915){var _ref152=_toConsumableArray(_n392),_t1431=_ref152[0],_s497=_ref152[1];e={name:_i915,operator:_t1431,radius:parseFloat(_s497)};}else if("black-and-white"===_i915){var _ref153=_toConsumableArray(_n392),_t1432=_ref153[0];e={name:_i915,balance:parseFloat(_t1432)};}else if("grayscale"===_i915){var _ref154=_toConsumableArray(_n392),_t1433=_ref154[0];e={name:_i915,amount:parseFloat(_t1433)};}else if("sepia"===_i915){var _ref155=_toConsumableArray(_n392),_t1434=_ref155[0];e={name:_i915,amount:parseFloat(_t1434)};}else if("saturate"===_i915){var _ref156=_toConsumableArray(_n392),_t1435=_ref156[0];e={name:_i915,amount:parseFloat(_t1435)};}else if("hue-rotate"===_i915){var _ref157=_toConsumableArray(_n392),_t1436=_ref157[0];e={name:_i915,angle:parseFloat(_t1436)};}else if("invert"===_i915){var _ref158=_toConsumableArray(_n392),_t1437=_ref158[0];e={name:_i915,amount:parseFloat(_t1437)};}else if("brightness"===_i915){var _ref159=_toConsumableArray(_n392),_t1438=_ref159[0];e={name:_i915,amount:parseFloat(_t1438)};}else if("contrast"===_i915){var _ref160=_toConsumableArray(_n392),_t1439=_ref160[0];e={name:_i915,amount:parseFloat(_t1439)};}else if("posterize"===_i915){var _ref161=_toConsumableArray(_n392),_t1440=_ref161[0],_s498=_ref161[1],_o307=_ref161[2];e={name:_i915,amount:parseInt(_s498),channels:_t1440.split(""),saturation:parseFloat(_o307)};}else if("duotone"===_i915){var _ref162=_toConsumableArray(_n392),_t1441=_ref162[0],_s499=_ref162[1],_o308=_ref162[2];e={name:_i915,shadowsColor:_t1441,highlightsColor:_s499,gamma:parseFloat(_o308)};}else"x-ray"===_i915&&(e={name:_i915});}return e;},wx=function wx(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=mx[e.name];if("drop-shadow"===e.name){var _n393=e.offsetX,_o309=e.offsetY,_l267=e.blurRadius,_a202=e.spread,_h163=e.color;_n393=J(_n393,3),_o309=J(_o309,3),_l267=J(_l267,3),_a202=J(_a202,3),_h163=li(_h163," ",""),t.setAttribute("data-bx-preset","drop-shadow ".concat(s," ").concat(_n393," ").concat(_o309," ").concat(_l267," ").concat(_a202," ").concat(_h163)),_a202*=2,i?(t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l267),t.querySelector(":scope > feOffset").setAttribute("dx",_n393),t.querySelector(":scope > feOffset").setAttribute("dy",_o309),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_a202),t.querySelector(":scope > feFlood").setAttribute("flood-color",_h163),t.querySelector(":scope > feFlood").removeAttribute("x"),t.querySelector(":scope > feFlood").removeAttribute("y")):t.innerHTML="\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"".concat(_l267,"\"/>\n        <feOffset dx=\"").concat(_n393,"\" dy=\"").concat(_o309,"\"/>\n        <feComponentTransfer result=\"offsetblur\">\n          <feFuncA id=\"spread-ctrl\" type=\"linear\" slope=\"").concat(_a202,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_h163,"\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      ");}else if("inner-shadow"===e.name){var _n394=e.offsetX,_o310=e.offsetY,_l268=e.blurRadius,_a203=e.choke,_h164=e.color;_n394=J(_n394,3),_o310=J(_o310,3),_l268=J(_l268,3),_a203=J(_a203,3),_h164=li(_h164," ",""),t.setAttribute("data-bx-preset","inner-shadow ".concat(s," ").concat(_n394," ").concat(_o310," ").concat(_l268," ").concat(_a203," ").concat(_h164)),_a203*=2,i?(t.querySelector(":scope > feOffset").setAttribute("dx",_n394),t.querySelector(":scope > feOffset").setAttribute("dy",_o310),t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l268),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_a203),t.querySelector(":scope > feFlood").setAttribute("flood-color",_h164)):t.innerHTML="\n        <feOffset dx=\"".concat(_n394,"\" dy=\"").concat(_o310,"\"/>\n        <feGaussianBlur stdDeviation=\"").concat(_l268,"\"/>\n        <feComposite operator=\"out\" in=\"SourceGraphic\"/>\n        <feComponentTransfer result=\"choke\">\n          <feFuncA type=\"linear\" slope=\"").concat(_a203,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_h164,"\" result=\"color\"/>\n        <feComposite operator=\"in\" in=\"color\" in2=\"choke\" result=\"shadow\"/>\n        <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\"/>\n      ");}else if("point-light"===e.name){var _n395=e.sourceX,_o311=e.sourceY,_l269=e.sourceZ,_a204=e.specularExponent,_h165=e.specularConstant,_r100=e.diffuseConstant,_d80=e.ambientConstant,_c57=e.color;_n395=J(_n395,3),_o311=J(_o311,3),_l269=J(_l269,3),_a204=J(_a204,3),_h165=J(_h165,3),_r100=J(_r100,3),_d80=J(_d80,3),_c57=li(_c57," ",""),t.setAttribute("data-bx-preset",["point-light",s,_n395,_o311,_l269,_a204,_h165,_r100,_d80,_c57].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_a204),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_h165),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_c57),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("x",_n395),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("y",_o311),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("z",_l269),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_r100),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_c57),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("x",_n395),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("y",_o311),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("z",_l269),t.querySelector(":scope > feComposite").setAttribute("k2",_d80)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_c57,"\"\n          specularConstant=\"").concat(_h165,"\" specularExponent=\"").concat(_a204,"\">\n          <fePointLight x=\"").concat(_n395,"\" y=\"").concat(_o311,"\" z=\"").concat(_l269,"\"></fePointLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_c57,"\" diffuseConstant=\"").concat(_r100,"\">\n          <fePointLight x=\"").concat(_n395,"\" y=\"").concat(_o311,"\" z=\"").concat(_l269,"\"></fePointLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_d80,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("spot-light"===e.name){var _n396=J(e.sourceX,3),_o312=J(e.sourceY,3),_l270=J(e.sourceZ,3),_a205=J(e.targetX,3),_h166=J(e.targetY,3),_r101=J(e.targetZ,3),_d81=J(e.coneAngle,3),_c58=J(e.specularExponent,3),_p53=J(e.specularConstant,3),_u47=J(e.diffuseConstant,3),_x145=J(e.ambientConstant,3),_b38=li(e.color," ","");t.setAttribute("data-bx-preset",["spot-light",s,_n396,_o312,_l270,_a205,_h166,_r101,_d81,_b38,_c58,_p53,_u47,_x145].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_c58),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_p53),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_b38),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("x",_n396),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("y",_o312),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("z",_l270),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtX",_a205),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtY",_h166),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtZ",_r101),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("limitingConeAngle",_d81),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_u47),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_b38),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("x",_n396),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("y",_o312),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("z",_l270),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtX",_a205),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtY",_h166),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtZ",_r101),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("limitingConeAngle",_d81),t.querySelector(":scope > feComposite").setAttribute("k2",_x145)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_b38,"\"\n          specularConstant=\"").concat(_p53,"\" specularExponent=\"").concat(_c58,"\">\n          <feSpotLight x=\"").concat(_n396,"\" y=\"").concat(_o312,"\" z=\"").concat(_l270,"\" limitingConeAngle=\"").concat(_d81,"\"\n            pointsAtX=\"").concat(_a205,"\" pointsAtY=\"").concat(_h166,"\" pointsAtZ=\"").concat(_r101,"\"></feSpotLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_b38,"\" diffuseConstant=\"").concat(_u47,"\">\n          <feSpotLight x=\"").concat(_n396,"\" y=\"").concat(_o312,"\" z=\"").concat(_l270,"\" limitingConeAngle=\"").concat(_d81,"\"\n            pointsAtX=\"").concat(_a205,"\" pointsAtY=\"").concat(_h166,"\" pointsAtZ=\"").concat(_r101,"\"></feSpotLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_x145,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("outline"===e.name){var _n397=e.width,_o313=li(e.color," ","");_n397=J(_n397,3),t.setAttribute("data-bx-preset","outline ".concat(s," ").concat(_n397," ").concat(_o313)),i?(t.querySelector(":scope > feMorphology").setAttribute("radius","".concat(_n397)),t.querySelector(":scope > feFlood").setAttribute("flood-color","".concat(_o313))):t.innerHTML="\n        <feMorphology in=\"SourceAlpha\" result=\"dilated\" operator=\"dilate\" radius=\"".concat(_n397,"\"></feMorphology>\n        <feFlood flood-color=\"").concat(_o313,"\" result=\"flood\"></feFlood>\n        <feComposite in=\"flood\" in2=\"dilated\" operator=\"in\" result=\"outline\"></feComposite>\n        <feMerge>\n          <feMergeNode in=\"outline\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      ");}else if("gaussian-blur"===e.name){var _n398=e.radius;_n398=J(_n398,3),t.setAttribute("data-bx-preset","gaussian-blur ".concat(s," ").concat(_n398)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_n398," ").concat(_n398)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_n398," ").concat(_n398,"\" edgeMode=\"none\" >"));}else if("motion-blur"===e.name){var _n399=e.distance,_o314=e.orientation,_l271="horizontal"===_o314?"".concat(_n399," 0"):"0 ".concat(_n399);_n399=J(_n399,3),t.setAttribute("data-bx-preset","motion-blur ".concat(s," ").concat(_n399," ").concat(_o314)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_l271)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_l271,"\" edgeMode=\"none\">"));}else if("sharpen"===e.name){var _n400=e.amount,_o315=J(10*_n400,3),_l272=J(10*_n400*8+1,3),_a206="".concat(-_o315,",").concat(-_o315,",").concat(-_o315,",").concat(-_o315,",").concat(_l272,",").concat(-_o315,",").concat(-_o315,",").concat(-_o315,",").concat(-_o315);t.setAttribute("data-bx-preset","sharpen ".concat(s," ").concat(_n400)),i?t.querySelector(":scope > feConvolveMatrix").setAttribute("kernelMatrix",_a206):t.innerHTML="\n        <feConvolveMatrix order=\"3\" kernelMatrix=\"".concat(_a206,"\"/>\n      ");}else if("pixelete"===e.name){var _n401=e.pixelSize;_n401=J(_n401,3),t.setAttribute("data-bx-preset","pixelete ".concat(s," ").concat(_n401)),i?(t.querySelector(":scope > feComposite").setAttribute("width",_n401),t.querySelector(":scope > feComposite").setAttribute("height",_n401),t.querySelector(":scope > feMorphology").setAttribute("radius",_n401/2)):t.innerHTML="\n        <feFlood height=\"2\" width=\"2\"/>\n        <feComposite width=\"".concat(_n401,"\" height=\"").concat(_n401,"\"></feComposite>\n        <feTile result=\"a\"/>\n        <feComposite in=\"SourceGraphic\" in2=\"a\" operator=\"in\"/>\n        <feMorphology operator=\"dilate\" radius=\"").concat(_n401/2,"\"></feMorphology>\n      ");}else if("warp"===e.name){var _n402=e.amount,_o316=e.frequency;_n402=J(_n402,1),_o316=J(_o316,3),t.setAttribute("data-bx-preset","warp ".concat(s," ").concat(_n402," ").concat(_o316)),i?(t.querySelector(":scope > feTurbulence").setAttribute("baseFrequency",_o316/10),t.querySelector(":scope > feDisplacementMap").setAttribute("scale",_n402)):t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"1 0.5\"/>\n        </feComponentTransfer>\n        <feMerge result=\"a\">\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n        <feTurbulence type=\"fractalNoise\" baseFrequency=\"".concat(_o316/10,"\" numOctaves=\"1\" result=\"warp\" />\n        <feDisplacementMap xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"").concat(_n402,"\" in=\"a\" in2=\"warp\"  />\n      ");}else if("morphology"===e.name){var _n403=e.operator,_o317=e.radius;_o317=J(_o317,3),t.setAttribute("data-bx-preset","morphology ".concat(s," ").concat(_n403," ").concat(_o317)),i?(t.querySelector(":scope > feMorphology").setAttribute("operator",_n403),t.querySelector(":scope > feMorphology").setAttribute("radius",_o317)):t.innerHTML="\n        <feMorphology operator=\"".concat(_n403,"\" radius=\"").concat(_o317,"\"></feMorphology>\n      ");}else if("black-and-white"===e.name){var _n404=e.balance;t.setAttribute("data-bx-preset","black-and-white ".concat(s," ").concat(_n404));var _o318=J((-1*_n404+1)/2*250,1),_l273="0 ".repeat(_o318)+"1 ".repeat(255-_o318);i?(t.querySelector("feFuncR").setAttribute("tableValues",_l273),t.querySelector("feFuncG").setAttribute("tableValues",_l273),t.querySelector("feFuncB").setAttribute("tableValues",_l273)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"0\"></feColorMatrix>\n\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"".concat(_l273,"\"/>\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_l273,"\"/>\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_l273,"\"/>\n        </feComponentTransfer>\n      "));}else if("grayscale"===e.name){var _n405=e.amount,_o319=[.2126+.7874*[1-_n405],.7152-.7152*[1-_n405],.0722-.0722*[1-_n405],0,0,.2126-.2126*[1-_n405],.7152+.2848*[1-_n405],.0722-.0722*[1-_n405],0,0,.2126-.2126*[1-_n405],.7152-.7152*[1-_n405],.0722+.9278*[1-_n405],0,0,0,0,0,1,0];_o319=_o319.map(function(t){return J(t,3);}).join(" "),t.setAttribute("data-bx-preset","grayscale ".concat(s," ").concat(_n405)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o319):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o319,"\"/>");}else if("sepia"===e.name){var _n406=e.amount,_o320=[.393+.607*[1-_n406],.769-.769*[1-_n406],.189-.189*[1-_n406],0,0,.349-.349*[1-_n406],.686+.314*[1-_n406],.168-.168*[1-_n406],0,0,.272-.272*[1-_n406],.534-.534*[1-_n406],.131+.869*[1-_n406],0,0,0,0,0,1,0];_o320=_o320.map(function(t){return J(t,3);}).join(" "),t.setAttribute("data-bx-preset","sepia ".concat(s," ").concat(_n406)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o320):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o320,"\"/>");}else if("saturate"===e.name){var _n407=e.amount;_n407=J(_n407,3),t.setAttribute("data-bx-preset","saturate ".concat(s," ").concat(_n407)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n407):t.innerHTML="<feColorMatrix type=\"saturate\" values=\"".concat(_n407,"\"/>");}else if("hue-rotate"===e.name){var _n408=e.angle;_n408=J(_n408,0),t.setAttribute("data-bx-preset","hue-rotate ".concat(s," ").concat(_n408)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n408):t.innerHTML="<feColorMatrix type=\"hueRotate\" values=\"".concat(_n408,"\"/>");}else if("invert"===e.name){var _n409=e.amount;if(_n409=J(_n409,3),t.setAttribute("data-bx-preset","invert ".concat(s," ").concat(_n409)),i){var _iterator937=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step937;try{for(_iterator937.s();!(_step937=_iterator937.n()).done;){var _e989=_step937.value;_e989.setAttribute("tableValues","".concat(_n409," ").concat(1-_n409));}}catch(err){_iterator937.e(err);}finally{_iterator937.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"".concat(_n409," ").concat(1-_n409,"\"/>\n          <feFuncG type=\"table\" tableValues=\"").concat(_n409," ").concat(1-_n409,"\"/>\n          <feFuncB type=\"table\" tableValues=\"").concat(_n409," ").concat(1-_n409,"\"/>\n        </feComponentTransfer>\n      ");}else if("brightness"===e.name){var _n410=e.amount;if(_n410=J(_n410,3),t.setAttribute("data-bx-preset","brightness ".concat(s," ").concat(_n410)),i){var _iterator938=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step938;try{for(_iterator938.s();!(_step938=_iterator938.n()).done;){var _e990=_step938.value;_e990.setAttribute("slope","".concat(_n410));}}catch(err){_iterator938.e(err);}finally{_iterator938.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n410,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n410,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n410,"\"/>\n        </feComponentTransfer>\n      ");}else if("contrast"===e.name){var _n411=e.amount;if(_n411=J(_n411,3),t.setAttribute("data-bx-preset","contrast ".concat(s," ").concat(_n411)),i){var _iterator939=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step939;try{for(_iterator939.s();!(_step939=_iterator939.n()).done;){var _e991=_step939.value;_e991.setAttribute("slope","".concat(_n411)),_e991.setAttribute("intercept",""+(-.5*_n411+.5));}}catch(err){_iterator939.e(err);}finally{_iterator939.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n        </feComponentTransfer>\n      ");}else if("posterize"===e.name){var _n412=e.channels,_o321=e.amount,_l274=e.saturation;t.setAttribute("data-bx-preset","posterize ".concat(s," ").concat(_n412.join("")," ").concat(_o321," ").concat(_l274));var _a207=[0],_h167=1/_o321,_r102=0;for(var _t1442=1;_t1442<_o321;_t1442+=1){_r102+=_h167,_a207.push(_r102);}_a207.push(1),_a207=_a207.map(function(t){return J(t,3);});var _d82=_n412.includes("r")?_a207:[],_c59=_n412.includes("g")?_a207:[],_p54=_n412.includes("b")?_a207:[];i?(t.querySelector(":scope > feColorMatrix").setAttribute("values",_l274),t.querySelector(":scope > feComponentTransfer>  feFuncR").setAttribute("tableValues",_d82.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncG").setAttribute("tableValues",_c59.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncB").setAttribute("tableValues",_p54.join(" "))):t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"".concat(_l274,"\"/>\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"").concat(_d82.join(" "),"\" />\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_c59.join(" "),"\" />\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_p54.join(" "),"\" />\n        </feComponentTransfer>\n      ");}else if("duotone"===e.name){var _n413=e.shadowsColor,_o322=e.highlightsColor,_l275=e.gamma,_bo7=bo(_n413,"rgba"),_bo8=_slicedToArray(_bo7,3),_a208=_bo8[0],_h168=_bo8[1],_r103=_bo8[2],_bo9=bo(_o322,"rgba"),_bo10=_slicedToArray(_bo9,3),_d83=_bo10[0],_c60=_bo10[1],_p55=_bo10[2],_u48=J(_a208/255,3),_x146=J(_h168/255,3),_b39=J(_r103/255,3),_m37=J(_d83/255,3),_g32=J(_c60/255,3),_f23=J(_p55/255,3);_n413=li(_n413," ",""),_o322=li(_o322," ",""),t.setAttribute("data-bx-preset","duotone ".concat(s," ").concat(_n413," ").concat(_o322," ").concat(_l275)),i?(t.children[1].children[0].setAttribute("amplitude",_l275),t.children[1].children[1].setAttribute("amplitude",_l275),t.children[1].children[2].setAttribute("amplitude",_l275),t.children[2].children[0].setAttribute("tableValues","".concat(_u48," ").concat(_m37)),t.children[2].children[1].setAttribute("tableValues","".concat(_x146," ").concat(_g32)),t.children[2].children[2].setAttribute("tableValues","".concat(_b39," ").concat(_f23))):t.innerHTML="\n        <feColorMatrix\n          type=\"matrix\" result=\"grayscale\" values=\"1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0\">\n        </feColorMatrix>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\">\n          <feFuncR type=\"gamma\" exponent=\"1.5\" amplitude=\"".concat(_l275,"\" offset=\"0\"></feFuncR>\n          <feFuncG type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l275,"\" offset=\"0\"></feFuncG>\n          <feFuncB type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l275,"\" offset=\"0\"></feFuncB>\n        </feComponentTransfer>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\" result=\"duotone\">\n          <feFuncR type=\"table\" tableValues=\"").concat(_u48," ").concat(_m37,"\"></feFuncR>\n          <feFuncG type=\"table\" tableValues=\"").concat(_x146," ").concat(_g32,"\"></feFuncG>\n          <feFuncB type=\"table\" tableValues=\"").concat(_b39," ").concat(_f23,"\"></feFuncB>\n          <feFuncA type=\"table\" tableValues=\"0 1\"></feFuncA>\n        </feComponentTransfer>\n      ");}else"x-ray"===e.name&&(t.setAttribute("data-bx-preset","x-ray ".concat(s)),i?t.querySelector("feColorMatrix").setAttribute("values","-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"):t.innerHTML='\n        <feColorMatrix type="matrix" values="-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"/>\n      ');!1===i&&("pixelete"===e.name?(t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","100%"),t.setAttribute("height","100%")):(t.setAttribute("x","-500%"),t.setAttribute("y","-500%"),t.setAttribute("width","1000%"),t.setAttribute("height","1000%")));},vx=Symbol(),yx="/images/logos/logo-full.svg";var kx=/*#__PURE__*/function(_HTMLElement83){_inherits(kx,_HTMLElement83);var _super104=_createSuper(kx);_createClass(kx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function kx(){var _this488;_classCallCheck(this,kx);_this488=_super104.call(this),_this488.Za=ts(_this488.Xs,200,_assertThisInitialized(_this488)),_this488._shadowRoot=_this488.attachShadow({mode:"closed"}),_this488._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,kx._shadowStyleSheet],_this488._shadowRoot.append(document.importNode(kx._shadowTemplate.content,!0));var _iterator940=_createForOfIteratorHelper(_this488._shadowRoot.querySelectorAll("[id]")),_step940;try{for(_iterator940.s();!(_step940=_iterator940.n()).done;){var _t1443=_step940.value;_this488["#"+_t1443.id]=_t1443;}}catch(err){_iterator940.e(err);}finally{_iterator940.f();}_this488.addEventListener("keydown",function(t){return _this488.Tn(t);}),_this488["#popover"].addEventListener("open",function(){return _this488.Ku();}),_this488["#items"].addEventListener("click",function(t){return _this488.lp(t);}),_this488["#items"].addEventListener("dblclick",function(t){return _this488.Qu(t);}),_this488["#manage-button"].addEventListener("click",function(){return _this488.Ju();}),_this488["#developer-mode-button"].addEventListener("toggle",function(){return _this488.tx();});return _this488;}_createClass(kx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.ix=Ri(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.en():this.sn():"value"===t&&this.Hu());}},{key:"en",value:function en(){var _this489=this;this["#developer-mode-button"].toggled=this.Js.getConfig("bx-filterselect:developerMode",!1),this["#expand-button"].disabled=!1,this["#popover"].style.width=this["#expand-button"].clientWidth+"px",this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this489.pl(t.detail);}),this.ix.addEventListener("resize",this.sx=function(){_this489.nx();}),this.Xs();}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("workspacemutation",this.rn),this.ix.removeEventListener("resize",this.sx),this["#expand-button"].collapse(),this["#expand-button"].disabled=!0,this["#custom-filters-mirror"].innerHTML="";}},{key:"Hu",value:function Hu(){this.Fb(),this.lx();}},{key:"pl",value:function pl(){this.Za();}},{key:"nx",value:function nx(){this["#popover"].style.width=this["#expand-button"].clientWidth+"px";}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");if(e){var _t1444=e.getAttribute("data-value");_t1444===this.value&&!0!==this.mixed||(this.value=_t1444,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Qu",value:function Qu(t){var e=t.target.closest(".item");if(e){var _t1445=e.getAttribute("data-value");this["#expand-button"].collapse(),_t1445.startsWith("#")&&(this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.editFilter(_t1445.substring(1)));}}},{key:"Ju",value:function Ju(){this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("filters-browser");}},{key:"tx",value:function tx(){var t=this["#developer-mode-button"].toggled;this.Js.setConfig("bx-filterselect:developerMode",t),this.Fb(),this.hx(),this.ux();}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx());}},{key:"Xs",value:function Xs(){this.Fb(),this.gx(),this.ux(),this.Nb();}},{key:"Fb",value:function Fb(){if("none"===this.value)this["#expand-button-thumbnail-img"].style.filter="none",this["#expand-button-label"].textContent="None";else if(this.value.startsWith("#")){var _t1446=this.tn.board.masterWorkspace.querySelector(this.value),_e992=this["#developer-mode-button"].toggled;this["#expand-button-thumbnail-img"].style.filter="url("+this.value+")",this["#expand-button-label"].textContent=this.jb(_t1446,_e992);}else{var _t1447=this.value;this["#expand-button-thumbnail-img"].style.filter="url(#"+_t1447+"-filter)",this["#expand-button-label"].textContent=m[_t1447];}}},{key:"gx",value:function gx(){var t=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("data-bx-preset");});this["#custom-items"].innerHTML="";var _iterator941=_createForOfIteratorHelper(t),_step941;try{for(_iterator941.s();!(_step941=_iterator941.n()).done;){var _e993=_step941.value;var _t1448=Ki(_templateObject31(),_e993.id,yx,_e993.id,_e993.id);_t1448[vx]=_e993,this["#custom-items"].append(_t1448);}}catch(err){_iterator941.e(err);}finally{_iterator941.f();}this.lx(),this.hx();}},{key:"lx",value:function lx(){for(var _i916=0,_arr42=[this["#none-item"]].concat(_toConsumableArray(this["#custom-items"].children),_toConsumableArray(this["#preset-items"].children));_i916<_arr42.length;_i916++){var _t1449=_arr42[_i916];_t1449.getAttribute("data-value")===this.value?_t1449.setAttribute("data-selected",""):_t1449.removeAttribute("data-selected");}}},{key:"hx",value:function hx(){var _iterator942=_createForOfIteratorHelper(this["#custom-items"].children),_step942;try{for(_iterator942.s();!(_step942=_iterator942.n()).done;){var _t1450=_step942.value;var _e994=_t1450[vx];_t1450.querySelector(".label").textContent=this.jb(_e994,this["#developer-mode-button"].toggled);}}catch(err){_iterator942.e(err);}finally{_iterator942.f();}}},{key:"ux",value:function ux(){this["#custom-items"].querySelector(":scope > .item")?this["#custom-items-placeholder"].hidden=!0:this["#custom-items-placeholder"].hidden=!1;}},{key:"Nb",value:function Nb(){if(this["#custom-filters-mirror"].innerHTML=this.tn.board.defs.innerHTML,0===this["#preset-filters-mirror"].childElementCount){var _iterator943=_createForOfIteratorHelper(this["#preset-items"].children),_step943;try{for(_iterator943.s();!(_step943=_iterator943.n()).done;){var _t1451=_step943.value;if("hr"!==_t1451.localName){var _e995=_t1451.dataset.value,_i917=gx(_e995),_s500=$i("svg:filter");_s500.id="".concat(_i917.name,"-filter"),wx(_s500,_i917),this["#preset-filters-mirror"].append(_s500),_t1451.querySelector("img").style.filter="url(#"+_s500.id+")";}}}catch(err){_iterator943.e(err);}finally{_iterator943.f();}}}},{key:"xx",value:function xx(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s501=t.indexOf(e);t[_s501-1]?i=t[_s501-1]:t[t.length-1]!==e&&(i=t[t.length-1]);}else t.length>0&&(i=t[t.length-1]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"mx",value:function mx(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s502=t.indexOf(e);t[_s502+1]?i=t[_s502+1]:t[0]!==e&&(i=t[0]);}else t.length>0&&(i=t[0]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ku",value:function Ku(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"jb",value:function jb(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<filter>";else{var _e996=t.querySelector(":scope > bx-title");i=_e996?_e996.textContent:"Filter";}return i;}}]);return kx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kx,"observedAttributes",["enabled","value"]);_defineProperty(kx,"_shadowTemplate",Ki(_templateObject283(),yx,yx,yx,m["drop-shadow"],yx,m["inner-shadow"],yx,m["point-light"],yx,m["spot-light"],yx,m.outline,yx,m["gaussian-blur"],yx,m["motion-blur"],yx,m.sharpen,yx,m.pixelete,yx,m.warp,yx,m.morphology,yx,m["black-and-white"],yx,m.grayscale,yx,m.sepia,yx,m.saturate,yx,m["hue-rotate"],yx,m.invert,yx,m.brightness,yx,m.contrast,yx,m.posterize,yx,m.duotone,yx,m["x-ray"]));_defineProperty(kx,"_shadowStyleSheet",Qi(_templateObject284()));customElements.define("bx-filterselect",kx);var Sx=function Sx(t){var e=document.createNodeIterator(Ii(t),NodeFilter.SHOW_ELEMENT),i=null,s=[];for(;i=e.nextNode();){if(E.includes(i.localName)){var _e997=getComputedStyle(i).filter,_n414=Go.fromString(_e997);if(_n414){_n414.value.substring(1)===t.id&&!1===s.includes(i)&&s.push(i);}}}return s;},Cx=function Cx(t){var e=null,i=getComputedStyle(t).getPropertyValue("filter");if(i&&i.startsWith('url("#')){var _s503=i.substring(6,i.length-2);_s503&&(e=Ii(t).querySelector("filter#"+_s503));}return e;},_x=function _x(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(!1===i){var _i918=[];var _iterator944=_createForOfIteratorHelper(t),_step944;try{for(_iterator944.s();!(_step944=_iterator944.n()).done;){var _s504=_step944.value;if(E.includes(_s504.localName))if("text"===_s504.localName){if(e&&e.intersectsNode(_s504)){var _t1452=wi(_s504);"backward"===e.direction&&_t1452.reverse();var _iterator945=_createForOfIteratorHelper(_t1452),_step945;try{for(_iterator945.s();!(_step945=_iterator945.n()).done;){var _s505=_step945.value;e.intersectsNode(_s505)&&(_i918.includes(_s505.parentElement)||_i918.push(_s505.parentElement));}}catch(err){_iterator945.e(err);}finally{_iterator945.f();}}else _i918.push(_s504);}else _i918.push(_s504);}}catch(err){_iterator944.e(err);}finally{_iterator944.f();}return _i918;}if(!0===i){var _i919=e,_s506=[],_n415=[];var _iterator946=_createForOfIteratorHelper(t),_step946;try{for(_iterator946.s();!(_step946=_iterator946.n()).done;){var _e998=_step946.value;if("text"===_e998.localName&&_i919&&_e998.contains(_i919.commonAncestorContainer)){bi(_e998,_i919),_s506.push(_e998);var _t1453=_e998.querySelectorAll("tspan"),_o323=gi(_i919,_e998),_l276=_i919.collapsed?_t1453:_o323;_n415.push.apply(_n415,_toConsumableArray(_l276));}else E.includes(_e998.localName)&&_n415.push(_e998);}}catch(err){_iterator946.e(err);}finally{_iterator946.f();}return[_n415,_s506];}},Mx=function Mx(t){var e=t.closest("filter"),i=new DOMRect(),s=t.viewportElement,n=s.createSVGLength(),o=s.createSVGLength(),l=s.createSVGLength(),a=s.createSVGLength();return n.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"0%",o.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"0%",l.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"100%",a.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"100%","objectBoundingBox"===e.getAttribute("primitiveUnits")?(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits:i.x=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits:i.y=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits:i.width=100*l.valueInSpecifiedUnits,a.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=a.valueInSpecifiedUnits:i.height=100*a.valueInSpecifiedUnits):(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.x=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.y=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.width=l.value,a.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=a.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.height=a.value),i;};var Px=/*#__PURE__*/function(_HTMLElement84){_inherits(Px,_HTMLElement84);var _super105=_createSuper(Px);function Px(){var _this490;_classCallCheck(this,Px);_this490=_super105.call(this),_this490.Vb=!1,_this490.Hb=!1,_this490.Wb=!1,_this490.Yb=!1,_this490.Za=ts(_this490.Xs,200,_assertThisInitialized(_this490)),_this490._shadowRoot=_this490.attachShadow({mode:"closed"}),_this490._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Px._shadowStyleSheet],_this490._shadowRoot.append(document.importNode(Px._shadowTemplate.content,!0));var _iterator947=_createForOfIteratorHelper(_this490._shadowRoot.querySelectorAll("[id]")),_step947;try{for(_iterator947.s();!(_step947=_iterator947.n()).done;){var _t1454=_step947.value;_this490["#"+_t1454.id]=_t1454;}}catch(err){_iterator947.e(err);}finally{_iterator947.f();}_this490["#offset-section"].addEventListener("changestart",function(){return _this490.qb(event);}),_this490["#blur-radius-box"].addEventListener("changestart",function(){return _this490.Xb(event);}),_this490["#spread-box"].addEventListener("changestart",function(){return _this490.Zb(event);}),_this490["#color-select"].addEventListener("changestart",function(){return _this490.Kb();});return _this490;}_createClass(Px,[{key:"connectedCallback",value:function connectedCallback(){var _this491=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this491.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this491.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"qb",value:function qb(t){var _this492=this;var e,_i921;this.tn.board.undoManager.checkpoint("Drop shadow offset"),this.Hb=!0;var _this$tn$board=this.tn.board,s=_this$tn$board.outermostSelectedElements,n=_this$tn$board.selectedTextRange,_x147=_x(s,n,!0),_x148=_slicedToArray(_x147,2),o=_x148[0],l=_x148[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator948=_createForOfIteratorHelper(o),_step948;try{for(_iterator948.s();!(_step948=_iterator948.n()).done;){var _t1455=_step948.value;var _e999=Cx(_t1455),_i920=_e999?fx(_e999):null;_i920&&"drop-shadow"===_i920.name&&(_i920.offsetX=_this492["#offset-x-input"].value,_i920.offsetY=_this492["#offset-y-input"].value,wx(_e999,_i920,!0));}}catch(err){_iterator948.e(err);}finally{_iterator948.f();}}),this["#offset-section"].addEventListener("changeend",_i921=function i(){_this492["#offset-section"].removeEventListener("change",e),_this492["#offset-section"].removeEventListener("changeend",_i921),_this492.Hb=!1;var _iterator949=_createForOfIteratorHelper(l),_step949;try{for(_iterator949.s();!(_step949=_iterator949.n()).done;){var _t1456=_step949.value;mi(_t1456,n);}}catch(err){_iterator949.e(err);}finally{_iterator949.f();}});}},{key:"Xb",value:function Xb(t){var _this493=this;var e,_i923;this.tn.board.undoManager.checkpoint("Drop shadow blur radius"),this.Vb=!0;var _this$tn$board2=this.tn.board,s=_this$tn$board2.outermostSelectedElements,n=_this$tn$board2.selectedTextRange,_x149=_x(s,n,!0),_x150=_slicedToArray(_x149,2),o=_x150[0],l=_x150[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this493["#blur-radius-slider"]?_this493["#blur-radius-input"].value=_this493["#blur-radius-slider"].value:t.target===_this493["#blur-radius-input"]&&(_this493["#blur-radius-slider"].value=_this493["#blur-radius-input"].value);var _iterator950=_createForOfIteratorHelper(o),_step950;try{for(_iterator950.s();!(_step950=_iterator950.n()).done;){var _t1457=_step950.value;var _e1000=Cx(_t1457),_i922=_e1000?fx(_e1000):null;_i922&&"drop-shadow"===_i922.name&&(_i922.blurRadius=_this493["#blur-radius-input"].value,wx(_e1000,_i922,!0));}}catch(err){_iterator950.e(err);}finally{_iterator950.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i923=function i(){_this493["#blur-radius-box"].removeEventListener("change",e),_this493["#blur-radius-box"].removeEventListener("changeend",_i923),_this493.Vb=!1;var _iterator951=_createForOfIteratorHelper(l),_step951;try{for(_iterator951.s();!(_step951=_iterator951.n()).done;){var _t1458=_step951.value;mi(_t1458,n);}}catch(err){_iterator951.e(err);}finally{_iterator951.f();}});}},{key:"Zb",value:function Zb(t){var _this494=this;var e,_i925;this.tn.board.undoManager.checkpoint("Drop shadow spread"),this.Wb=!0;var _this$tn$board3=this.tn.board,s=_this$tn$board3.outermostSelectedElements,n=_this$tn$board3.selectedTextRange,_x151=_x(s,n,!0),_x152=_slicedToArray(_x151,2),o=_x152[0],l=_x152[1];this["#spread-box"].addEventListener("change",e=function e(t){t.target===_this494["#spread-slider"]?_this494["#spread-input"].value=_this494["#spread-slider"].value:t.target===_this494["#spread-input"]&&(_this494["#spread-slider"].value=_this494["#spread-input"].value);var _iterator952=_createForOfIteratorHelper(o),_step952;try{for(_iterator952.s();!(_step952=_iterator952.n()).done;){var _t1459=_step952.value;var _e1001=Cx(_t1459),_i924=_e1001?fx(_e1001):null;_i924&&"drop-shadow"===_i924.name&&(_i924.spread=_this494["#spread-input"].value/100,wx(_e1001,_i924,!0));}}catch(err){_iterator952.e(err);}finally{_iterator952.f();}}),this["#spread-box"].addEventListener("changeend",_i925=function i(){_this494["#spread-box"].removeEventListener("change",e),_this494["#spread-box"].removeEventListener("changeend",_i925),_this494.Wb=!1;var _iterator953=_createForOfIteratorHelper(l),_step953;try{for(_iterator953.s();!(_step953=_iterator953.n()).done;){var _t1460=_step953.value;mi(_t1460,n);}}catch(err){_iterator953.e(err);}finally{_iterator953.f();}});}},{key:"Kb",value:function Kb(){var _this495=this;var t,_e1003;this.tn.board.undoManager.checkpoint("Drop shadow color"),this.Yb=!0;var _this$tn$board4=this.tn.board,i=_this$tn$board4.outermostSelectedElements,s=_this$tn$board4.selectedTextRange,_x153=_x(i,s,!0),_x154=_slicedToArray(_x153,2),n=_x154[0],o=_x154[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator954=_createForOfIteratorHelper(n),_step954;try{for(_iterator954.s();!(_step954=_iterator954.n()).done;){var _t1461=_step954.value;var _e1002=Cx(_t1461),_i926=_e1002?fx(_e1002):null;_i926&&"drop-shadow"===_i926.name&&(_i926.color=_this495["#color-select"].value,wx(_e1002,_i926,!0));}}catch(err){_iterator954.e(err);}finally{_iterator954.f();}}),this["#color-select"].addEventListener("changeend",_e1003=function e(){_this495["#color-select"].removeEventListener("change",t),_this495["#color-select"].removeEventListener("changeend",_e1003),_this495.Yb=!1;var _iterator955=_createForOfIteratorHelper(o),_step955;try{for(_iterator955.s();!(_step955=_iterator955.n()).done;){var _t1462=_step955.value;mi(_t1462,s);}}catch(err){_iterator955.e(err);}finally{_iterator955.f();}});}},{key:"Xs",value:function Xs(){if(!(this.Vb||this.Hb||this.Wb||this.Yb)){var _t1463=this.tn.board,_e1004=_x(_t1463.outermostSelectedElements,_t1463.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1005=_toArray(_e1004),_i927=_e1005[0],_s507=_e1005.slice(1);if(_i927&&"drop-shadow"===_i927.name){var _t1464=!1,_e1006=!1,_n416=!1,_o324=!1;var _iterator956=_createForOfIteratorHelper(_s507),_step956;try{for(_iterator956.s();!(_step956=_iterator956.n()).done;){var _l277=_step956.value;null!==_l277&&"drop-shadow"===_l277.name&&(_l277.offsetX!==_i927.offsetX&&(_t1464=!0),_l277.offsetY!==_i927.offsetY&&(_e1006=!0),_l277.blurRadius!==_i927.blurRadius&&(_n416=!0),_l277.spread!==_i927.spread&&(_o324=!0));}}catch(err){_iterator956.e(err);}finally{_iterator956.f();}this["#offset-x-input"].mixed=_t1464,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i927.offsetX,this["#offset-y-input"].mixed=_e1006,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i927.offsetY,this["#blur-radius-input"].mixed=_n416,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i927.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i927.blurRadius,this["#spread-input"].mixed=_o324,this["#spread-input"].disabled=!1,this["#spread-input"].value=100*_i927.spread,this["#spread-slider"].disabled=!1,this["#spread-slider"].value=100*_i927.spread,this["#color-select"].disabled=!1,this["#color-select"].value=_i927.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#spread-input"].mixed=!1,this["#spread-input"].disabled=!0,this["#spread-input"].value=0,this["#spread-slider"].disabled=!0,this["#spread-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Px,"_shadowTemplate",Ki(_templateObject285()));_defineProperty(Px,"_shadowStyleSheet",Qi(_templateObject286()));customElements.define("bx-dropshadowfilterinspector",Px);var Dx=/*#__PURE__*/function(_HTMLElement85){_inherits(Dx,_HTMLElement85);var _super106=_createSuper(Dx);function Dx(){var _this496;_classCallCheck(this,Dx);_this496=_super106.call(this),_this496.Vb=!1,_this496.Qb=!1,_this496.Hb=!1,_this496.Yb=!1,_this496.Za=ts(_this496.Xs,200,_assertThisInitialized(_this496)),_this496._shadowRoot=_this496.attachShadow({mode:"closed"}),_this496._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Dx._shadowStyleSheet],_this496._shadowRoot.append(document.importNode(Dx._shadowTemplate.content,!0));var _iterator957=_createForOfIteratorHelper(_this496._shadowRoot.querySelectorAll("[id]")),_step957;try{for(_iterator957.s();!(_step957=_iterator957.n()).done;){var _t1465=_step957.value;_this496["#"+_t1465.id]=_t1465;}}catch(err){_iterator957.e(err);}finally{_iterator957.f();}_this496["#offset-section"].addEventListener("changestart",function(){return _this496.qb(event);}),_this496["#blur-radius-box"].addEventListener("changestart",function(){return _this496.Xb(event);}),_this496["#choke-box"].addEventListener("changestart",function(){return _this496.Jb(event);}),_this496["#color-select"].addEventListener("changestart",function(){return _this496.Kb();});return _this496;}_createClass(Dx,[{key:"connectedCallback",value:function connectedCallback(){var _this497=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this497.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this497.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"qb",value:function qb(t){var _this498=this;var e,_i929;this.tn.board.undoManager.checkpoint("Inner shadow offset"),this.Hb=!0;var _this$tn$board5=this.tn.board,s=_this$tn$board5.outermostSelectedElements,n=_this$tn$board5.selectedTextRange,_x155=_x(s,n,!0),_x156=_slicedToArray(_x155,2),o=_x156[0],l=_x156[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator958=_createForOfIteratorHelper(o),_step958;try{for(_iterator958.s();!(_step958=_iterator958.n()).done;){var _t1466=_step958.value;var _e1007=Cx(_t1466),_i928=_e1007?fx(_e1007):null;_i928&&"inner-shadow"===_i928.name&&(_i928.offsetX=_this498["#offset-x-input"].value,_i928.offsetY=_this498["#offset-y-input"].value,wx(_e1007,_i928,!0));}}catch(err){_iterator958.e(err);}finally{_iterator958.f();}}),this["#offset-section"].addEventListener("changeend",_i929=function i(){_this498["#offset-section"].removeEventListener("change",e),_this498["#offset-section"].removeEventListener("changeend",_i929),_this498.Hb=!1;var _iterator959=_createForOfIteratorHelper(l),_step959;try{for(_iterator959.s();!(_step959=_iterator959.n()).done;){var _t1467=_step959.value;mi(_t1467,n);}}catch(err){_iterator959.e(err);}finally{_iterator959.f();}});}},{key:"Xb",value:function Xb(t){var _this499=this;var e,_i931;this.tn.board.undoManager.checkpoint("Inner shadow blur radius"),this.Vb=!0;var _this$tn$board6=this.tn.board,s=_this$tn$board6.outermostSelectedElements,n=_this$tn$board6.selectedTextRange,_x157=_x(s,n,!0),_x158=_slicedToArray(_x157,2),o=_x158[0],l=_x158[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this499["#blur-radius-slider"]?_this499["#blur-radius-input"].value=_this499["#blur-radius-slider"].value:t.target===_this499["#blur-radius-input"]&&(_this499["#blur-radius-slider"].value=_this499["#blur-radius-input"].value);var _iterator960=_createForOfIteratorHelper(o),_step960;try{for(_iterator960.s();!(_step960=_iterator960.n()).done;){var _t1468=_step960.value;var _e1008=Cx(_t1468),_i930=_e1008?fx(_e1008):null;_i930&&"inner-shadow"===_i930.name&&(_i930.blurRadius=_this499["#blur-radius-input"].value,wx(_e1008,_i930,!0));}}catch(err){_iterator960.e(err);}finally{_iterator960.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i931=function i(){_this499["#blur-radius-box"].removeEventListener("change",e),_this499["#blur-radius-box"].removeEventListener("changeend",_i931),_this499.Vb=!1;var _iterator961=_createForOfIteratorHelper(l),_step961;try{for(_iterator961.s();!(_step961=_iterator961.n()).done;){var _t1469=_step961.value;mi(_t1469,n);}}catch(err){_iterator961.e(err);}finally{_iterator961.f();}});}},{key:"Jb",value:function Jb(t){var _this500=this;var e,_i933;this.tn.board.undoManager.checkpoint("Inner shadow choke"),this.Qb=!0;var _this$tn$board7=this.tn.board,s=_this$tn$board7.outermostSelectedElements,n=_this$tn$board7.selectedTextRange,_x159=_x(s,n,!0),_x160=_slicedToArray(_x159,2),o=_x160[0],l=_x160[1];this["#choke-box"].addEventListener("change",e=function e(t){t.target===_this500["#choke-slider"]?_this500["#choke-input"].value=_this500["#choke-slider"].value:t.target===_this500["#choke-input"]&&(_this500["#choke-slider"].value=_this500["#choke-input"].value);var _iterator962=_createForOfIteratorHelper(o),_step962;try{for(_iterator962.s();!(_step962=_iterator962.n()).done;){var _t1470=_step962.value;var _e1009=Cx(_t1470),_i932=_e1009?fx(_e1009):null;_i932&&"inner-shadow"===_i932.name&&(_i932.choke=_this500["#choke-input"].value/100,wx(_e1009,_i932,!0));}}catch(err){_iterator962.e(err);}finally{_iterator962.f();}}),this["#choke-box"].addEventListener("changeend",_i933=function i(){_this500["#choke-box"].removeEventListener("change",e),_this500["#choke-box"].removeEventListener("changeend",_i933),_this500.Qb=!1;var _iterator963=_createForOfIteratorHelper(l),_step963;try{for(_iterator963.s();!(_step963=_iterator963.n()).done;){var _t1471=_step963.value;mi(_t1471,n);}}catch(err){_iterator963.e(err);}finally{_iterator963.f();}});}},{key:"Kb",value:function Kb(){var _this501=this;var t,_e1011;this.tn.board.undoManager.checkpoint("Inner shadow color"),this.Yb=!0;var _this$tn$board8=this.tn.board,i=_this$tn$board8.outermostSelectedElements,s=_this$tn$board8.selectedTextRange,_x161=_x(i,s,!0),_x162=_slicedToArray(_x161,2),n=_x162[0],o=_x162[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator964=_createForOfIteratorHelper(n),_step964;try{for(_iterator964.s();!(_step964=_iterator964.n()).done;){var _t1472=_step964.value;var _e1010=Cx(_t1472),_i934=_e1010?fx(_e1010):null;_i934&&"inner-shadow"===_i934.name&&(_i934.color=_this501["#color-select"].value,wx(_e1010,_i934,!0));}}catch(err){_iterator964.e(err);}finally{_iterator964.f();}}),this["#color-select"].addEventListener("changeend",_e1011=function e(){_this501["#color-select"].removeEventListener("change",t),_this501["#color-select"].removeEventListener("changeend",_e1011),_this501.Yb=!1;var _iterator965=_createForOfIteratorHelper(o),_step965;try{for(_iterator965.s();!(_step965=_iterator965.n()).done;){var _t1473=_step965.value;mi(_t1473,s);}}catch(err){_iterator965.e(err);}finally{_iterator965.f();}});}},{key:"Xs",value:function Xs(){if(!(this.Vb||this.Qb||this.Hb||this.Yb)){var _t1474=this.tn.board,_e1012=_x(_t1474.outermostSelectedElements,_t1474.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1013=_toArray(_e1012),_i935=_e1013[0],_s508=_e1013.slice(1);if(_i935&&"inner-shadow"===_i935.name){var _t1475=!1,_e1014=!1,_n417=!1,_o325=!1;var _iterator966=_createForOfIteratorHelper(_s508),_step966;try{for(_iterator966.s();!(_step966=_iterator966.n()).done;){var _l278=_step966.value;null!==_l278&&"inner-shadow"===_l278.name&&(_l278.offsetX!==_i935.offsetX&&(_t1475=!0),_l278.offsetY!==_i935.offsetY&&(_e1014=!0),_l278.blurRadius!==_i935.blurRadius&&(_n417=!0),_l278.choke!==_i935.choke&&(_o325=!0));}}catch(err){_iterator966.e(err);}finally{_iterator966.f();}this["#offset-x-input"].mixed=_t1475,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i935.offsetX,this["#offset-y-input"].mixed=_e1014,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i935.offsetY,this["#blur-radius-input"].mixed=_n417,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i935.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i935.blurRadius,this["#choke-input"].mixed=_o325,this["#choke-input"].disabled=!1,this["#choke-input"].value=100*_i935.choke,this["#choke-slider"].disabled=!1,this["#choke-slider"].value=100*_i935.choke,this["#color-select"].disabled=!1,this["#color-select"].value=_i935.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#choke-input"].mixed=!1,this["#choke-input"].disabled=!0,this["#choke-input"].value=0,this["#choke-slider"].disabled=!0,this["#choke-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Dx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dx,"_shadowTemplate",Ki(_templateObject287()));_defineProperty(Dx,"_shadowStyleSheet",Qi(_templateObject288()));customElements.define("bx-innershadowfilterinspector",Dx);var zx=/*#__PURE__*/function(_HTMLElement86){_inherits(zx,_HTMLElement86);var _super107=_createSuper(zx);function zx(){var _this502;_classCallCheck(this,zx);_this502=_super107.call(this),_this502.tm=!1,_this502.im=!1,_this502.sm=!1,_this502.nm=!1,_this502.om=!1,_this502.Yb=!1,_this502.Za=ts(_this502.Xs,200,_assertThisInitialized(_this502)),_this502._shadowRoot=_this502.attachShadow({mode:"closed"}),_this502._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,zx._shadowStyleSheet],_this502._shadowRoot.append(document.importNode(zx._shadowTemplate.content,!0));var _iterator967=_createForOfIteratorHelper(_this502._shadowRoot.querySelectorAll("[id]")),_step967;try{for(_iterator967.s();!(_step967=_iterator967.n()).done;){var _t1476=_step967.value;_this502["#"+_t1476.id]=_t1476;}}catch(err){_iterator967.e(err);}finally{_iterator967.f();}_this502["#source-section"].addEventListener("changestart",function(t){return _this502.lm(t);}),_this502["#specular-exponent-box"].addEventListener("changestart",function(t){return _this502.am(t);}),_this502["#specular-constant-box"].addEventListener("changestart",function(t){return _this502.hm(t);}),_this502["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this502.rm(t);}),_this502["#ambient-constant-box"].addEventListener("changestart",function(t){return _this502.dm(t);}),_this502["#color-select"].addEventListener("changestart",function(t){return _this502.Kb(t);});return _this502;}_createClass(zx,[{key:"connectedCallback",value:function connectedCallback(){var _this503=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this503.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this503.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"lm",value:function lm(t){var _this504=this;var e,_i937;this.tn.board.undoManager.checkpoint("Point light source position"),this.tm=!0;var _this$tn$board9=this.tn.board,s=_this$tn$board9.outermostSelectedElements,n=_this$tn$board9.selectedTextRange,_x163=_x(s,n,!0),_x164=_slicedToArray(_x163,2),o=_x164[0],l=_x164[1],a=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator968=_createForOfIteratorHelper(o),_step968;try{for(_iterator968.s();!(_step968=_iterator968.n()).done;){var _t1477=_step968.value;var _e1015=Cx(_t1477),_i936=_e1015?fx(_e1015):null;_i936&&"point-light"===_i936.name&&("x"===a?_i936.sourceX=_this504["#source-x-input"].value/100:"y"===a?_i936.sourceY=_this504["#source-y-input"].value/100:"z"===a&&(_i936.sourceZ=_this504["#source-z-input"].value/100),wx(_e1015,_i936,!0));}}catch(err){_iterator968.e(err);}finally{_iterator968.f();}}),this["#source-section"].addEventListener("changeend",_i937=function i(){_this504["#source-section"].removeEventListener("change",e),_this504["#source-section"].removeEventListener("changeend",_i937),_this504.tm=!1;var _iterator969=_createForOfIteratorHelper(l),_step969;try{for(_iterator969.s();!(_step969=_iterator969.n()).done;){var _t1478=_step969.value;mi(_t1478,n);}}catch(err){_iterator969.e(err);}finally{_iterator969.f();}});}},{key:"am",value:function am(t){var _this505=this;var e,_i939;this.tn.board.undoManager.checkpoint("Point light specular exponent"),this.im=!0;var _this$tn$board10=this.tn.board,s=_this$tn$board10.outermostSelectedElements,n=_this$tn$board10.selectedTextRange,_x165=_x(s,n,!0),_x166=_slicedToArray(_x165,2),o=_x166[0],l=_x166[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this505["#specular-exponent-slider"]?_this505["#specular-exponent-input"].value=_this505["#specular-exponent-slider"].value:t.target===_this505["#specular-exponent-input"]&&(_this505["#specular-exponent-slider"].value=_this505["#specular-exponent-input"].value);var _iterator970=_createForOfIteratorHelper(o),_step970;try{for(_iterator970.s();!(_step970=_iterator970.n()).done;){var _t1479=_step970.value;var _e1016=Cx(_t1479),_i938=_e1016?fx(_e1016):null;_i938&&"point-light"===_i938.name&&(_i938.specularExponent=_this505["#specular-exponent-input"].value,wx(_e1016,_i938,!0));}}catch(err){_iterator970.e(err);}finally{_iterator970.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i939=function i(){_this505["#specular-exponent-box"].removeEventListener("change",e),_this505["#specular-exponent-box"].removeEventListener("changeend",_i939),_this505.im=!1;var _iterator971=_createForOfIteratorHelper(l),_step971;try{for(_iterator971.s();!(_step971=_iterator971.n()).done;){var _t1480=_step971.value;mi(_t1480,n);}}catch(err){_iterator971.e(err);}finally{_iterator971.f();}});}},{key:"hm",value:function hm(t){var _this506=this;var e,_i941;this.tn.board.undoManager.checkpoint("Point light specular constant"),this.sm=!0;var _this$tn$board11=this.tn.board,s=_this$tn$board11.outermostSelectedElements,n=_this$tn$board11.selectedTextRange,_x167=_x(s,n,!0),_x168=_slicedToArray(_x167,2),o=_x168[0],l=_x168[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this506["#specular-constant-slider"]?_this506["#specular-constant-input"].value=_this506["#specular-constant-slider"].value:t.target===_this506["#specular-constant-input"]&&(_this506["#specular-constant-slider"].value=_this506["#specular-constant-input"].value);var _iterator972=_createForOfIteratorHelper(o),_step972;try{for(_iterator972.s();!(_step972=_iterator972.n()).done;){var _t1481=_step972.value;var _e1017=Cx(_t1481),_i940=_e1017?fx(_e1017):null;_i940&&"point-light"===_i940.name&&(_i940.specularConstant=_this506["#specular-constant-input"].value,wx(_e1017,_i940,!0));}}catch(err){_iterator972.e(err);}finally{_iterator972.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i941=function i(){_this506["#specular-constant-box"].removeEventListener("change",e),_this506["#specular-constant-box"].removeEventListener("changeend",_i941),_this506.sm=!1;var _iterator973=_createForOfIteratorHelper(l),_step973;try{for(_iterator973.s();!(_step973=_iterator973.n()).done;){var _t1482=_step973.value;mi(_t1482,n);}}catch(err){_iterator973.e(err);}finally{_iterator973.f();}});}},{key:"rm",value:function rm(t){var _this507=this;var e,_i943;this.tn.board.undoManager.checkpoint("Point light diffuse constant"),this.nm=!0;var _this$tn$board12=this.tn.board,s=_this$tn$board12.outermostSelectedElements,n=_this$tn$board12.selectedTextRange,_x169=_x(s,n,!0),_x170=_slicedToArray(_x169,2),o=_x170[0],l=_x170[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this507["#diffuse-constant-slider"]?_this507["#diffuse-constant-input"].value=_this507["#diffuse-constant-slider"].value:t.target===_this507["#diffuse-constant-input"]&&(_this507["#diffuse-constant-slider"].value=_this507["#diffuse-constant-input"].value);var _iterator974=_createForOfIteratorHelper(o),_step974;try{for(_iterator974.s();!(_step974=_iterator974.n()).done;){var _t1483=_step974.value;var _e1018=Cx(_t1483),_i942=_e1018?fx(_e1018):null;_i942&&"point-light"===_i942.name&&(_i942.diffuseConstant=_this507["#diffuse-constant-input"].value,wx(_e1018,_i942,!0));}}catch(err){_iterator974.e(err);}finally{_iterator974.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i943=function i(){_this507["#diffuse-constant-box"].removeEventListener("change",e),_this507["#diffuse-constant-box"].removeEventListener("changeend",_i943),_this507.nm=!1;var _iterator975=_createForOfIteratorHelper(l),_step975;try{for(_iterator975.s();!(_step975=_iterator975.n()).done;){var _t1484=_step975.value;mi(_t1484,n);}}catch(err){_iterator975.e(err);}finally{_iterator975.f();}});}},{key:"dm",value:function dm(t){var _this508=this;var e,_i945;this.tn.board.undoManager.checkpoint("Point light ambient constant"),this.om=!0;var _this$tn$board13=this.tn.board,s=_this$tn$board13.outermostSelectedElements,n=_this$tn$board13.selectedTextRange,_x171=_x(s,n,!0),_x172=_slicedToArray(_x171,2),o=_x172[0],l=_x172[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this508["#ambient-constant-slider"]?_this508["#ambient-constant-input"].value=_this508["#ambient-constant-slider"].value:t.target===_this508["#ambient-constant-input"]&&(_this508["#ambient-constant-slider"].value=_this508["#ambient-constant-input"].value);var _iterator976=_createForOfIteratorHelper(o),_step976;try{for(_iterator976.s();!(_step976=_iterator976.n()).done;){var _t1485=_step976.value;var _e1019=Cx(_t1485),_i944=_e1019?fx(_e1019):null;_i944&&"point-light"===_i944.name&&(_i944.ambientConstant=_this508["#ambient-constant-input"].value,wx(_e1019,_i944,!0));}}catch(err){_iterator976.e(err);}finally{_iterator976.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i945=function i(){_this508["#ambient-constant-box"].removeEventListener("change",e),_this508["#ambient-constant-box"].removeEventListener("changeend",_i945),_this508.om=!1;var _iterator977=_createForOfIteratorHelper(l),_step977;try{for(_iterator977.s();!(_step977=_iterator977.n()).done;){var _t1486=_step977.value;mi(_t1486,n);}}catch(err){_iterator977.e(err);}finally{_iterator977.f();}});}},{key:"Kb",value:function Kb(){var _this509=this;var t,_e1021;this.tn.board.undoManager.checkpoint("Point light color"),this.Yb=!0;var _this$tn$board14=this.tn.board,i=_this$tn$board14.outermostSelectedElements,s=_this$tn$board14.selectedTextRange,_x173=_x(i,s,!0),_x174=_slicedToArray(_x173,2),n=_x174[0],o=_x174[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator978=_createForOfIteratorHelper(n),_step978;try{for(_iterator978.s();!(_step978=_iterator978.n()).done;){var _t1487=_step978.value;var _e1020=Cx(_t1487),_i946=_e1020?fx(_e1020):null;_i946&&"point-light"===_i946.name&&(_i946.color=_this509["#color-select"].value,wx(_e1020,_i946,!0));}}catch(err){_iterator978.e(err);}finally{_iterator978.f();}}),this["#color-select"].addEventListener("changeend",_e1021=function e(){_this509["#color-select"].removeEventListener("change",t),_this509["#color-select"].removeEventListener("changeend",_e1021),_this509.Yb=!1;var _iterator979=_createForOfIteratorHelper(o),_step979;try{for(_iterator979.s();!(_step979=_iterator979.n()).done;){var _t1488=_step979.value;mi(_t1488,s);}}catch(err){_iterator979.e(err);}finally{_iterator979.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.tm&&!1===this.im&&!1===this.sm&&!1===this.nm&&!1===this.om&&!1===this.Yb){var _t1489=this.tn.board,_e1022=_x(_t1489.outermostSelectedElements,_t1489.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1023=_toArray(_e1022),_i947=_e1023[0],_s509=_e1023.slice(1);if(_i947&&"point-light"===_i947.name){var _t1490=!1,_e1024=!1,_n418=!1,_o326=!1,_l279=!1,_a209=!1,_h169=!1;var _iterator980=_createForOfIteratorHelper(_s509),_step980;try{for(_iterator980.s();!(_step980=_iterator980.n()).done;){var _r104=_step980.value;null!==_r104&&"point-light"===_r104.name&&(_r104.sourceX!==_i947.sourceX&&(_t1490=!0),_r104.sourceY!==_i947.sourceY&&(_e1024=!0),_r104.sourceZ!==_i947.sourceZ&&(_n418=!0),_r104.specularExponent!==_i947.specularExponent&&(_o326=!0),_r104.specularConstant!==_i947.specularConstant&&(_l279=!0),_r104.diffuseConstant!==_i947.diffuseConstant&&(_a209=!0),_r104.ambientConstant!==_i947.ambientConstant&&(_h169=!0));}}catch(err){_iterator980.e(err);}finally{_iterator980.f();}this["#source-x-input"].mixed=_t1490,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=J(100*_i947.sourceX,3),this["#source-y-input"].mixed=_e1024,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=J(100*_i947.sourceY,3),this["#source-z-input"].mixed=_n418,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=J(100*_i947.sourceZ,3),this["#specular-exponent-input"].mixed=_o326,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i947.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i947.specularExponent,this["#specular-constant-input"].mixed=_l279,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i947.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i947.specularConstant,this["#diffuse-constant-input"].mixed=_a209,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i947.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i947.diffuseConstant,this["#ambient-constant-input"].mixed=_h169,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i947.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i947.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i947.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return zx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zx,"_shadowTemplate",Ki(_templateObject289()));_defineProperty(zx,"_shadowStyleSheet",Qi(_templateObject290()));customElements.define("bx-pointlightfilterinspector",zx);var Ox=/*#__PURE__*/function(_HTMLElement87){_inherits(Ox,_HTMLElement87);var _super108=_createSuper(Ox);function Ox(){var _this510;_classCallCheck(this,Ox);_this510=_super108.call(this),_this510.tm=!1,_this510.pm=!1,_this510.um=!1,_this510.im=!1,_this510.sm=!1,_this510.nm=!1,_this510.om=!1,_this510.Yb=!1,_this510.Za=ts(_this510.Xs,200,_assertThisInitialized(_this510)),_this510._shadowRoot=_this510.attachShadow({mode:"closed"}),_this510._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Ox._shadowStyleSheet],_this510._shadowRoot.append(document.importNode(Ox._shadowTemplate.content,!0));var _iterator981=_createForOfIteratorHelper(_this510._shadowRoot.querySelectorAll("[id]")),_step981;try{for(_iterator981.s();!(_step981=_iterator981.n()).done;){var _t1491=_step981.value;_this510["#"+_t1491.id]=_t1491;}}catch(err){_iterator981.e(err);}finally{_iterator981.f();}_this510["#source-section"].addEventListener("changestart",function(t){return _this510.lm(t);}),_this510["#target-section"].addEventListener("changestart",function(t){return _this510.xm(t);}),_this510["#cone-angle-box"].addEventListener("changestart",function(t){return _this510.bm(t);}),_this510["#specular-exponent-box"].addEventListener("changestart",function(t){return _this510.am(t);}),_this510["#specular-constant-box"].addEventListener("changestart",function(t){return _this510.hm(t);}),_this510["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this510.rm(t);}),_this510["#ambient-constant-box"].addEventListener("changestart",function(t){return _this510.dm(t);}),_this510["#color-select"].addEventListener("changestart",function(t){return _this510.Kb(t);});return _this510;}_createClass(Ox,[{key:"connectedCallback",value:function connectedCallback(){var _this511=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this511.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this511.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"lm",value:function lm(t){var _this512=this;var e,_i949;this.tn.board.undoManager.checkpoint("Spot light source position"),this.tm=!0;var _this$tn$board15=this.tn.board,s=_this$tn$board15.outermostSelectedElements,n=_this$tn$board15.selectedTextRange,_x175=_x(s,n,!0),_x176=_slicedToArray(_x175,2),o=_x176[0],l=_x176[1],a=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator982=_createForOfIteratorHelper(o),_step982;try{for(_iterator982.s();!(_step982=_iterator982.n()).done;){var _t1492=_step982.value;var _e1025=Cx(_t1492),_i948=_e1025?fx(_e1025):null;_i948&&"spot-light"===_i948.name&&("x"===a?_i948.sourceX=_this512["#source-x-input"].value/100:"y"===a?_i948.sourceY=_this512["#source-y-input"].value/100:"z"===a&&(_i948.sourceZ=_this512["#source-z-input"].value/100),wx(_e1025,_i948,!0));}}catch(err){_iterator982.e(err);}finally{_iterator982.f();}}),this["#source-section"].addEventListener("changeend",_i949=function i(){_this512["#source-section"].removeEventListener("change",e),_this512["#source-section"].removeEventListener("changeend",_i949),_this512.tm=!1;var _iterator983=_createForOfIteratorHelper(l),_step983;try{for(_iterator983.s();!(_step983=_iterator983.n()).done;){var _t1493=_step983.value;mi(_t1493,n);}}catch(err){_iterator983.e(err);}finally{_iterator983.f();}});}},{key:"xm",value:function xm(t){var _this513=this;var e,_i951;this.tn.board.undoManager.checkpoint("Spot light target position"),this.pm=!0;var _this$tn$board16=this.tn.board,s=_this$tn$board16.outermostSelectedElements,n=_this$tn$board16.selectedTextRange,_x177=_x(s,n,!0),_x178=_slicedToArray(_x177,2),o=_x178[0],l=_x178[1],a=t.target.dataset.param;this["#target-section"].addEventListener("change",e=function e(t){var _iterator984=_createForOfIteratorHelper(o),_step984;try{for(_iterator984.s();!(_step984=_iterator984.n()).done;){var _t1494=_step984.value;var _e1026=Cx(_t1494),_i950=_e1026?fx(_e1026):null;_i950&&"spot-light"===_i950.name&&("x"===a?_i950.targetX=_this513["#target-x-input"].value/100:"y"===a?_i950.targetY=_this513["#target-y-input"].value/100:"z"===a&&(_i950.targetZ=_this513["#target-z-input"].value/100),wx(_e1026,_i950,!0));}}catch(err){_iterator984.e(err);}finally{_iterator984.f();}}),this["#target-section"].addEventListener("changeend",_i951=function i(){_this513["#target-section"].removeEventListener("change",e),_this513["#target-section"].removeEventListener("changeend",_i951),_this513.pm=!1;var _iterator985=_createForOfIteratorHelper(l),_step985;try{for(_iterator985.s();!(_step985=_iterator985.n()).done;){var _t1495=_step985.value;mi(_t1495,n);}}catch(err){_iterator985.e(err);}finally{_iterator985.f();}});}},{key:"bm",value:function bm(t){var _this514=this;var e,_i953;this.tn.board.undoManager.checkpoint("Spot light cone angle"),this.um=!0;var _this$tn$board17=this.tn.board,s=_this$tn$board17.outermostSelectedElements,n=_this$tn$board17.selectedTextRange,_x179=_x(s,n,!0),_x180=_slicedToArray(_x179,2),o=_x180[0],l=_x180[1];this["#cone-angle-box"].addEventListener("change",e=function e(t){t.target===_this514["#cone-angle-slider"]?_this514["#cone-angle-input"].value=_this514["#cone-angle-slider"].value:t.target===_this514["#cone-angle-input"]&&(_this514["#cone-angle-slider"].value=_this514["#cone-angle-input"].value);var _iterator986=_createForOfIteratorHelper(o),_step986;try{for(_iterator986.s();!(_step986=_iterator986.n()).done;){var _t1496=_step986.value;var _e1027=Cx(_t1496),_i952=_e1027?fx(_e1027):null;_i952&&"spot-light"===_i952.name&&(_i952.coneAngle=_this514["#cone-angle-input"].value,wx(_e1027,_i952,!0));}}catch(err){_iterator986.e(err);}finally{_iterator986.f();}}),this["#cone-angle-box"].addEventListener("changeend",_i953=function i(){_this514["#cone-angle-box"].removeEventListener("change",e),_this514["#cone-angle-box"].removeEventListener("changeend",_i953),_this514.um=!1;var _iterator987=_createForOfIteratorHelper(l),_step987;try{for(_iterator987.s();!(_step987=_iterator987.n()).done;){var _t1497=_step987.value;mi(_t1497,n);}}catch(err){_iterator987.e(err);}finally{_iterator987.f();}});}},{key:"am",value:function am(t){var _this515=this;var e,_i955;this.tn.board.undoManager.checkpoint("Spot light specular exponent"),this.im=!0;var _this$tn$board18=this.tn.board,s=_this$tn$board18.outermostSelectedElements,n=_this$tn$board18.selectedTextRange,_x181=_x(s,n,!0),_x182=_slicedToArray(_x181,2),o=_x182[0],l=_x182[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this515["#specular-exponent-slider"]?_this515["#specular-exponent-input"].value=_this515["#specular-exponent-slider"].value:t.target===_this515["#specular-exponent-input"]&&(_this515["#specular-exponent-slider"].value=_this515["#specular-exponent-input"].value);var _iterator988=_createForOfIteratorHelper(o),_step988;try{for(_iterator988.s();!(_step988=_iterator988.n()).done;){var _t1498=_step988.value;var _e1028=Cx(_t1498),_i954=_e1028?fx(_e1028):null;_i954&&"spot-light"===_i954.name&&(_i954.specularExponent=_this515["#specular-exponent-input"].value,wx(_e1028,_i954,!0));}}catch(err){_iterator988.e(err);}finally{_iterator988.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i955=function i(){_this515["#specular-exponent-box"].removeEventListener("change",e),_this515["#specular-exponent-box"].removeEventListener("changeend",_i955),_this515.im=!1;var _iterator989=_createForOfIteratorHelper(l),_step989;try{for(_iterator989.s();!(_step989=_iterator989.n()).done;){var _t1499=_step989.value;mi(_t1499,n);}}catch(err){_iterator989.e(err);}finally{_iterator989.f();}});}},{key:"hm",value:function hm(t){var _this516=this;var e,_i957;this.tn.board.undoManager.checkpoint("Spot light specular constant"),this.sm=!0;var _this$tn$board19=this.tn.board,s=_this$tn$board19.outermostSelectedElements,n=_this$tn$board19.selectedTextRange,_x183=_x(s,n,!0),_x184=_slicedToArray(_x183,2),o=_x184[0],l=_x184[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this516["#specular-constant-slider"]?_this516["#specular-constant-input"].value=_this516["#specular-constant-slider"].value:t.target===_this516["#specular-constant-input"]&&(_this516["#specular-constant-slider"].value=_this516["#specular-constant-input"].value);var _iterator990=_createForOfIteratorHelper(o),_step990;try{for(_iterator990.s();!(_step990=_iterator990.n()).done;){var _t1500=_step990.value;var _e1029=Cx(_t1500),_i956=_e1029?fx(_e1029):null;_i956&&"spot-light"===_i956.name&&(_i956.specularConstant=_this516["#specular-constant-input"].value,wx(_e1029,_i956,!0));}}catch(err){_iterator990.e(err);}finally{_iterator990.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i957=function i(){_this516["#specular-constant-box"].removeEventListener("change",e),_this516["#specular-constant-box"].removeEventListener("changeend",_i957),_this516.sm=!1;var _iterator991=_createForOfIteratorHelper(l),_step991;try{for(_iterator991.s();!(_step991=_iterator991.n()).done;){var _t1501=_step991.value;mi(_t1501,n);}}catch(err){_iterator991.e(err);}finally{_iterator991.f();}});}},{key:"rm",value:function rm(t){var _this517=this;var e,_i959;this.tn.board.undoManager.checkpoint("Spot light diffuse constant"),this.nm=!0;var _this$tn$board20=this.tn.board,s=_this$tn$board20.outermostSelectedElements,n=_this$tn$board20.selectedTextRange,_x185=_x(s,n,!0),_x186=_slicedToArray(_x185,2),o=_x186[0],l=_x186[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this517["#diffuse-constant-slider"]?_this517["#diffuse-constant-input"].value=_this517["#diffuse-constant-slider"].value:t.target===_this517["#diffuse-constant-input"]&&(_this517["#diffuse-constant-slider"].value=_this517["#diffuse-constant-input"].value);var _iterator992=_createForOfIteratorHelper(o),_step992;try{for(_iterator992.s();!(_step992=_iterator992.n()).done;){var _t1502=_step992.value;var _e1030=Cx(_t1502),_i958=_e1030?fx(_e1030):null;_i958&&"spot-light"===_i958.name&&(_i958.diffuseConstant=_this517["#diffuse-constant-input"].value,wx(_e1030,_i958,!0));}}catch(err){_iterator992.e(err);}finally{_iterator992.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i959=function i(){_this517["#diffuse-constant-box"].removeEventListener("change",e),_this517["#diffuse-constant-box"].removeEventListener("changeend",_i959),_this517.nm=!1;var _iterator993=_createForOfIteratorHelper(l),_step993;try{for(_iterator993.s();!(_step993=_iterator993.n()).done;){var _t1503=_step993.value;mi(_t1503,n);}}catch(err){_iterator993.e(err);}finally{_iterator993.f();}});}},{key:"dm",value:function dm(t){var _this518=this;var e,_i961;this.tn.board.undoManager.checkpoint("Spot light ambient constant"),this.om=!0;var _this$tn$board21=this.tn.board,s=_this$tn$board21.outermostSelectedElements,n=_this$tn$board21.selectedTextRange,_x187=_x(s,n,!0),_x188=_slicedToArray(_x187,2),o=_x188[0],l=_x188[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this518["#ambient-constant-slider"]?_this518["#ambient-constant-input"].value=_this518["#ambient-constant-slider"].value:t.target===_this518["#ambient-constant-input"]&&(_this518["#ambient-constant-slider"].value=_this518["#ambient-constant-input"].value);var _iterator994=_createForOfIteratorHelper(o),_step994;try{for(_iterator994.s();!(_step994=_iterator994.n()).done;){var _t1504=_step994.value;var _e1031=Cx(_t1504),_i960=_e1031?fx(_e1031):null;_i960&&"spot-light"===_i960.name&&(_i960.ambientConstant=_this518["#ambient-constant-input"].value,wx(_e1031,_i960,!0));}}catch(err){_iterator994.e(err);}finally{_iterator994.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i961=function i(){_this518["#ambient-constant-box"].removeEventListener("change",e),_this518["#ambient-constant-box"].removeEventListener("changeend",_i961),_this518.om=!1;var _iterator995=_createForOfIteratorHelper(l),_step995;try{for(_iterator995.s();!(_step995=_iterator995.n()).done;){var _t1505=_step995.value;mi(_t1505,n);}}catch(err){_iterator995.e(err);}finally{_iterator995.f();}});}},{key:"Kb",value:function Kb(){var _this519=this;var t,_e1033;this.tn.board.undoManager.checkpoint("Spot light color"),this.Yb=!0;var _this$tn$board22=this.tn.board,i=_this$tn$board22.outermostSelectedElements,s=_this$tn$board22.selectedTextRange,_x189=_x(i,s,!0),_x190=_slicedToArray(_x189,2),n=_x190[0],o=_x190[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator996=_createForOfIteratorHelper(n),_step996;try{for(_iterator996.s();!(_step996=_iterator996.n()).done;){var _t1506=_step996.value;var _e1032=Cx(_t1506),_i962=_e1032?fx(_e1032):null;_i962&&"spot-light"===_i962.name&&(_i962.color=_this519["#color-select"].value,wx(_e1032,_i962,!0));}}catch(err){_iterator996.e(err);}finally{_iterator996.f();}}),this["#color-select"].addEventListener("changeend",_e1033=function e(){_this519["#color-select"].removeEventListener("change",t),_this519["#color-select"].removeEventListener("changeend",_e1033),_this519.Yb=!1;var _iterator997=_createForOfIteratorHelper(o),_step997;try{for(_iterator997.s();!(_step997=_iterator997.n()).done;){var _t1507=_step997.value;mi(_t1507,s);}}catch(err){_iterator997.e(err);}finally{_iterator997.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.tm&&!1===this.pm&&!1===this.um&&!1===this.im&&!1===this.sm&&!1===this.nm&&!1===this.om&&!1===this.Yb){var _t1508=this.tn.board,_e1034=_x(_t1508.outermostSelectedElements,_t1508.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1035=_toArray(_e1034),_i963=_e1035[0],_s510=_e1035.slice(1);if(_i963&&"spot-light"===_i963.name){var _t1509=!1,_e1036=!1,_n419=!1,_o327=!1,_l280=!1,_a210=!1,_h170=!1,_r105=!1,_d84=!1,_c61=!1,_p56=!1;var _iterator998=_createForOfIteratorHelper(_s510),_step998;try{for(_iterator998.s();!(_step998=_iterator998.n()).done;){var _u49=_step998.value;null!==_u49&&"spot-light"===_u49.name&&(_u49.sourceX!==_i963.sourceX&&(_t1509=!0),_u49.sourceY!==_i963.sourceY&&(_e1036=!0),_u49.sourceZ!==_i963.sourceZ&&(_n419=!0),_u49.targetX!==_i963.targetX&&(_o327=!0),_u49.targetY!==_i963.targetY&&(_l280=!0),_u49.targetZ!==_i963.targetZ&&(_a210=!0),_u49.coneAngle!==_i963.coneAngle&&(_h170=!0),_u49.specularExponent!==_i963.specularExponent&&(_r105=!0),_u49.specularConstant!==_i963.specularConstant&&(_d84=!0),_u49.diffuseConstant!==_i963.diffuseConstant&&(_c61=!0),_u49.ambientConstant!==_i963.ambientConstant&&(_p56=!0));}}catch(err){_iterator998.e(err);}finally{_iterator998.f();}this["#source-x-input"].mixed=_t1509,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=J(100*_i963.sourceX,3),this["#source-y-input"].mixed=_e1036,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=J(100*_i963.sourceY,3),this["#source-z-input"].mixed=_n419,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=J(100*_i963.sourceZ,3),this["#target-x-input"].mixed=_o327,this["#target-x-input"].disabled=!1,this["#target-x-input"].value=J(100*_i963.targetX,3),this["#target-y-input"].mixed=_l280,this["#target-y-input"].disabled=!1,this["#target-y-input"].value=J(100*_i963.targetY,3),this["#target-z-input"].mixed=_a210,this["#target-z-input"].disabled=!1,this["#target-z-input"].value=J(100*_i963.targetZ,3),this["#cone-angle-input"].mixed=_h170,this["#cone-angle-input"].disabled=!1,this["#cone-angle-input"].value=_i963.coneAngle,this["#cone-angle-slider"].disabled=!1,this["#cone-angle-slider"].value=_i963.coneAngle,this["#specular-exponent-input"].mixed=_r105,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i963.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i963.specularExponent,this["#specular-constant-input"].mixed=_d84,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i963.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i963.specularConstant,this["#diffuse-constant-input"].mixed=_c61,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i963.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i963.diffuseConstant,this["#ambient-constant-input"].mixed=_p56,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i963.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i963.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i963.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#target-x-input"].mixed=!1,this["#target-x-input"].disabled=!0,this["#target-x-input"].value=0,this["#target-y-input"].mixed=!1,this["#target-y-input"].disabled=!0,this["#target-y-input"].value=0,this["#target-z-input"].mixed=!1,this["#target-z-input"].disabled=!0,this["#target-z-input"].value=0,this["#cone-angle-input"].mixed=!1,this["#cone-angle-input"].disabled=!0,this["#cone-angle-input"].value=0,this["#cone-angle-slider"].disabled=!0,this["#cone-angle-slider"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Ox;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ox,"_shadowTemplate",Ki(_templateObject291()));_defineProperty(Ox,"_shadowStyleSheet",Qi(_templateObject292()));customElements.define("bx-spotlightfilterinspector",Ox);var Ex=/*#__PURE__*/function(_HTMLElement88){_inherits(Ex,_HTMLElement88);var _super109=_createSuper(Ex);function Ex(){var _this520;_classCallCheck(this,Ex);_this520=_super109.call(this),_this520.Pb=!1,_this520.Yb=!1,_this520.Za=ts(_this520.Xs,200,_assertThisInitialized(_this520)),_this520._shadowRoot=_this520.attachShadow({mode:"closed"}),_this520._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Ex._shadowStyleSheet],_this520._shadowRoot.append(document.importNode(Ex._shadowTemplate.content,!0));var _iterator999=_createForOfIteratorHelper(_this520._shadowRoot.querySelectorAll("[id]")),_step999;try{for(_iterator999.s();!(_step999=_iterator999.n()).done;){var _t1510=_step999.value;_this520["#"+_t1510.id]=_t1510;}}catch(err){_iterator999.e(err);}finally{_iterator999.f();}_this520["#width-box"].addEventListener("changestart",function(){return _this520.Eb(event);}),_this520["#color-select"].addEventListener("changestart",function(){return _this520.Kb();});return _this520;}_createClass(Ex,[{key:"connectedCallback",value:function connectedCallback(){var _this521=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this521.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this521.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Eb",value:function Eb(t){var _this522=this;var e,_i965;this.tn.board.undoManager.checkpoint("Outline width"),this.Pb=!0;var _this$tn$board23=this.tn.board,s=_this$tn$board23.outermostSelectedElements,n=_this$tn$board23.selectedTextRange,_x191=_x(s,n,!0),_x192=_slicedToArray(_x191,2),o=_x192[0],l=_x192[1];this["#width-box"].addEventListener("change",e=function e(t){t.target===_this522["#width-slider"]?_this522["#width-input"].value=_this522["#width-slider"].value:t.target===_this522["#width-input"]&&(_this522["#width-slider"].value=_this522["#width-input"].value);var _iterator1000=_createForOfIteratorHelper(o),_step1000;try{for(_iterator1000.s();!(_step1000=_iterator1000.n()).done;){var _t1511=_step1000.value;var _e1037=Cx(_t1511),_i964=_e1037?fx(_e1037):null;_i964&&"outline"===_i964.name&&(_i964.width=_this522["#width-input"].value,wx(_e1037,_i964,!0));}}catch(err){_iterator1000.e(err);}finally{_iterator1000.f();}}),this["#width-box"].addEventListener("changeend",_i965=function i(){_this522["#width-box"].removeEventListener("change",e),_this522["#width-box"].removeEventListener("changeend",_i965),_this522.Pb=!1;var _iterator1001=_createForOfIteratorHelper(l),_step1001;try{for(_iterator1001.s();!(_step1001=_iterator1001.n()).done;){var _t1512=_step1001.value;mi(_t1512,n);}}catch(err){_iterator1001.e(err);}finally{_iterator1001.f();}});}},{key:"Kb",value:function Kb(){var _this523=this;var t,_e1039;this.tn.board.undoManager.checkpoint("Outline color"),this.Yb=!0;var _this$tn$board24=this.tn.board,i=_this$tn$board24.outermostSelectedElements,s=_this$tn$board24.selectedTextRange,_x193=_x(i,s,!0),_x194=_slicedToArray(_x193,2),n=_x194[0],o=_x194[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator1002=_createForOfIteratorHelper(n),_step1002;try{for(_iterator1002.s();!(_step1002=_iterator1002.n()).done;){var _t1513=_step1002.value;var _e1038=Cx(_t1513),_i966=_e1038?fx(_e1038):null;_i966&&"outline"===_i966.name&&(_i966.color=_this523["#color-select"].value,wx(_e1038,_i966,!0));}}catch(err){_iterator1002.e(err);}finally{_iterator1002.f();}}),this["#color-select"].addEventListener("changeend",_e1039=function e(){_this523["#color-select"].removeEventListener("change",t),_this523["#color-select"].removeEventListener("changeend",_e1039),_this523.Yb=!1;var _iterator1003=_createForOfIteratorHelper(o),_step1003;try{for(_iterator1003.s();!(_step1003=_iterator1003.n()).done;){var _t1514=_step1003.value;mi(_t1514,s);}}catch(err){_iterator1003.e(err);}finally{_iterator1003.f();}});}},{key:"Xs",value:function Xs(){if(!this.Pb&&!this.Yb){var _t1515=this.tn.board,_e1040=_x(_t1515.outermostSelectedElements,_t1515.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1041=_toArray(_e1040),_i967=_e1041[0],_s511=_e1041.slice(1);if(_i967&&"outline"===_i967.name){var _t1516=!1;var _iterator1004=_createForOfIteratorHelper(_s511),_step1004;try{for(_iterator1004.s();!(_step1004=_iterator1004.n()).done;){var _e1042=_step1004.value;null!==_e1042&&"outline"===_e1042.name&&_e1042.width!==_i967.width&&(_t1516=!0);}}catch(err){_iterator1004.e(err);}finally{_iterator1004.f();}this["#width-input"].mixed=_t1516,this["#width-input"].disabled=!1,this["#width-input"].value=_i967.width,this["#width-slider"].disabled=!1,this["#width-slider"].value=_i967.width,this["#color-select"].disabled=!1,this["#color-select"].value=_i967.color;}else this["#width-input"].mixed=!1,this["#width-input"].disabled=!0,this["#width-input"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Ex;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ex,"_shadowTemplate",Ki(_templateObject293()));_defineProperty(Ex,"_shadowStyleSheet",Qi(_templateObject294()));customElements.define("bx-outlinefilterinspector",Ex);var Tx=/*#__PURE__*/function(_HTMLElement89){_inherits(Tx,_HTMLElement89);var _super110=_createSuper(Tx);function Tx(){var _this524;_classCallCheck(this,Tx);_this524=_super110.call(this),_this524.gm=!1,_this524.Za=ts(_this524.Xs,200,_assertThisInitialized(_this524)),_this524._shadowRoot=_this524.attachShadow({mode:"closed"}),_this524._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Tx._shadowStyleSheet],_this524._shadowRoot.append(document.importNode(Tx._shadowTemplate.content,!0));var _iterator1005=_createForOfIteratorHelper(_this524._shadowRoot.querySelectorAll("[id]")),_step1005;try{for(_iterator1005.s();!(_step1005=_iterator1005.n()).done;){var _t1517=_step1005.value;_this524["#"+_t1517.id]=_t1517;}}catch(err){_iterator1005.e(err);}finally{_iterator1005.f();}_this524["#radius-box"].addEventListener("changestart",function(){return _this524.fm(event);});return _this524;}_createClass(Tx,[{key:"connectedCallback",value:function connectedCallback(){var _this525=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this525.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this525.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"fm",value:function fm(t){var _this526=this;var e,_i969;this.tn.board.undoManager.checkpoint("Gaussian blur radius"),this.gm=!0;var _this$tn$board25=this.tn.board,s=_this$tn$board25.outermostSelectedElements,n=_this$tn$board25.selectedTextRange,_x195=_x(s,n,!0),_x196=_slicedToArray(_x195,2),o=_x196[0],l=_x196[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this526["#radius-slider"]?_this526["#radius-input"].value=_this526["#radius-slider"].value:t.target===_this526["#radius-input"]&&(_this526["#radius-slider"].value=_this526["#radius-input"].value);var _iterator1006=_createForOfIteratorHelper(o),_step1006;try{for(_iterator1006.s();!(_step1006=_iterator1006.n()).done;){var _t1518=_step1006.value;var _e1043=Cx(_t1518),_i968=_e1043?fx(_e1043):null;_i968&&"gaussian-blur"===_i968.name&&(_i968.radius=_this526["#radius-input"].value,wx(_e1043,_i968,!0));}}catch(err){_iterator1006.e(err);}finally{_iterator1006.f();}}),this["#radius-box"].addEventListener("changeend",_i969=function i(){_this526["#radius-box"].removeEventListener("change",e),_this526["#radius-box"].removeEventListener("changeend",_i969),_this526.gm=!1;var _iterator1007=_createForOfIteratorHelper(l),_step1007;try{for(_iterator1007.s();!(_step1007=_iterator1007.n()).done;){var _t1519=_step1007.value;mi(_t1519,n);}}catch(err){_iterator1007.e(err);}finally{_iterator1007.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.gm){var _t1520=this.tn.board,_e1044=_x(_t1520.outermostSelectedElements,_t1520.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1045=_toArray(_e1044),_i970=_e1045[0],_s512=_e1045.slice(1);if(_i970&&"gaussian-blur"===_i970.name){var _t1521=!1;var _iterator1008=_createForOfIteratorHelper(_s512),_step1008;try{for(_iterator1008.s();!(_step1008=_iterator1008.n()).done;){var _e1046=_step1008.value;null!==_e1046&&"gaussian-blur"===_e1046.name&&_e1046.radius!==_i970.radius&&(_t1521=!0);}}catch(err){_iterator1008.e(err);}finally{_iterator1008.f();}this["#radius-input"].mixed=_t1521,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i970.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i970.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Tx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tx,"_shadowTemplate",Ki(_templateObject295()));_defineProperty(Tx,"_shadowStyleSheet",Qi(_templateObject296()));customElements.define("bx-gaussianblurfilterinspector",Tx);var Ax=/*#__PURE__*/function(_HTMLElement90){_inherits(Ax,_HTMLElement90);var _super111=_createSuper(Ax);function Ax(){var _this527;_classCallCheck(this,Ax);_this527=_super111.call(this),_this527.wm=!1,_this527.Za=ts(_this527.Xs,200,_assertThisInitialized(_this527)),_this527._shadowRoot=_this527.attachShadow({mode:"closed"}),_this527._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Ax._shadowStyleSheet],_this527._shadowRoot.append(document.importNode(Ax._shadowTemplate.content,!0));var _iterator1009=_createForOfIteratorHelper(_this527._shadowRoot.querySelectorAll("[id]")),_step1009;try{for(_iterator1009.s();!(_step1009=_iterator1009.n()).done;){var _t1522=_step1009.value;_this527["#"+_t1522.id]=_t1522;}}catch(err){_iterator1009.e(err);}finally{_iterator1009.f();}_this527["#orientation-buttons"].addEventListener("toggle",function(){return _this527.vm();}),_this527["#distance-box"].addEventListener("changestart",function(){return _this527.ym(event);});return _this527;}_createClass(Ax,[{key:"connectedCallback",value:function connectedCallback(){var _this528=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this528.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this528.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"vm",value:function vm(){this.tn.board.undoManager.checkpoint("Motion blur orientation");var _this$tn$board26=this.tn.board,t=_this$tn$board26.outermostSelectedElements,e=_this$tn$board26.selectedTextRange,_x197=_x(t,e,!0),_x198=_slicedToArray(_x197,2),i=_x198[0],s=_x198[1];var _iterator1010=_createForOfIteratorHelper(i),_step1010;try{for(_iterator1010.s();!(_step1010=_iterator1010.n()).done;){var _t1523=_step1010.value;var _e1047=Cx(_t1523),_i971=_e1047?fx(_e1047):null;_i971&&"motion-blur"===_i971.name&&(_i971.orientation=this["#orientation-buttons"].value,wx(_e1047,_i971,!0));}}catch(err){_iterator1010.e(err);}finally{_iterator1010.f();}var _iterator1011=_createForOfIteratorHelper(s),_step1011;try{for(_iterator1011.s();!(_step1011=_iterator1011.n()).done;){var _t1524=_step1011.value;mi(_t1524,e);}}catch(err){_iterator1011.e(err);}finally{_iterator1011.f();}}},{key:"ym",value:function ym(t){var _this529=this;var e,_i973;this.tn.board.undoManager.checkpoint("Motion blur distance"),this.wm=!0;var _this$tn$board27=this.tn.board,s=_this$tn$board27.outermostSelectedElements,n=_this$tn$board27.selectedTextRange,_x199=_x(s,n,!0),_x200=_slicedToArray(_x199,2),o=_x200[0],l=_x200[1];this["#distance-box"].addEventListener("change",e=function e(t){t.target===_this529["#distance-slider"]?_this529["#distance-input"].value=_this529["#distance-slider"].value:t.target===_this529["#distance-input"]&&(_this529["#distance-slider"].value=_this529["#distance-input"].value);var _iterator1012=_createForOfIteratorHelper(o),_step1012;try{for(_iterator1012.s();!(_step1012=_iterator1012.n()).done;){var _t1525=_step1012.value;var _e1048=Cx(_t1525),_i972=_e1048?fx(_e1048):null;_i972&&"motion-blur"===_i972.name&&(_i972.distance=_this529["#distance-input"].value,wx(_e1048,_i972,!0));}}catch(err){_iterator1012.e(err);}finally{_iterator1012.f();}}),this["#distance-box"].addEventListener("changeend",_i973=function i(){_this529["#distance-box"].removeEventListener("change",e),_this529["#distance-box"].removeEventListener("changeend",_i973),_this529.wm=!1;var _iterator1013=_createForOfIteratorHelper(l),_step1013;try{for(_iterator1013.s();!(_step1013=_iterator1013.n()).done;){var _t1526=_step1013.value;mi(_t1526,n);}}catch(err){_iterator1013.e(err);}finally{_iterator1013.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.wm){var _t1527=this.tn.board,_e1049=_x(_t1527.outermostSelectedElements,_t1527.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1050=_toArray(_e1049),_i974=_e1050[0],_s513=_e1050.slice(1);if(_i974&&"motion-blur"===_i974.name){var _t1528=!1;var _iterator1014=_createForOfIteratorHelper(_s513),_step1014;try{for(_iterator1014.s();!(_step1014=_iterator1014.n()).done;){var _e1051=_step1014.value;null!==_e1051&&"motion-blur"===_e1051.name&&_e1051.distance!==_i974.distance&&(_t1528=!0);}}catch(err){_iterator1014.e(err);}finally{_iterator1014.f();}this["#orientation-buttons"].value=_i974.orientation,this["#distance-input"].mixed=_t1528,this["#distance-input"].disabled=!1,this["#distance-input"].value=_i974.distance,this["#distance-slider"].disabled=!1,this["#distance-slider"].value=_i974.distance;}else this["#distance-input"].mixed=!1,this["#distance-input"].disabled=!0,this["#distance-input"].value=0,this["#distance-slider"].disabled=!0,this["#distance-slider"].value=0;}}}]);return Ax;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ax,"_shadowTemplate",Ki(_templateObject297()));_defineProperty(Ax,"_shadowStyleSheet",Qi(_templateObject298()));customElements.define("bx-motionblurfilterinspector",Ax);var $x=/*#__PURE__*/function(_HTMLElement91){_inherits($x,_HTMLElement91);var _super112=_createSuper($x);function $x(){var _this530;_classCallCheck(this,$x);_this530=_super112.call(this),_this530.km=!1,_this530.Za=ts(_this530.Xs,200,_assertThisInitialized(_this530)),_this530._shadowRoot=_this530.attachShadow({mode:"closed"}),_this530._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,$x._shadowStyleSheet],_this530._shadowRoot.append(document.importNode($x._shadowTemplate.content,!0));var _iterator1015=_createForOfIteratorHelper(_this530._shadowRoot.querySelectorAll("[id]")),_step1015;try{for(_iterator1015.s();!(_step1015=_iterator1015.n()).done;){var _t1529=_step1015.value;_this530["#"+_t1529.id]=_t1529;}}catch(err){_iterator1015.e(err);}finally{_iterator1015.f();}_this530["#amount-box"].addEventListener("changestart",function(){return _this530.Sm(event);});return _this530;}_createClass($x,[{key:"connectedCallback",value:function connectedCallback(){var _this531=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this531.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this531.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this532=this;var e,_i976;this.tn.board.undoManager.checkpoint("Sharpen amount"),this.km=!0;var _this$tn$board28=this.tn.board,s=_this$tn$board28.outermostSelectedElements,n=_this$tn$board28.selectedTextRange,_x201=_x(s,n,!0),_x202=_slicedToArray(_x201,2),o=_x202[0],l=_x202[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this532["#amount-slider"]?_this532["#amount-input"].value=_this532["#amount-slider"].value:t.target===_this532["#amount-input"]&&(_this532["#amount-slider"].value=_this532["#amount-input"].value);var _iterator1016=_createForOfIteratorHelper(o),_step1016;try{for(_iterator1016.s();!(_step1016=_iterator1016.n()).done;){var _t1530=_step1016.value;var _e1052=Cx(_t1530),_i975=_e1052?fx(_e1052):null;_i975&&"sharpen"===_i975.name&&(_i975.amount=_this532["#amount-input"].value,wx(_e1052,_i975,!0));}}catch(err){_iterator1016.e(err);}finally{_iterator1016.f();}}),this["#amount-box"].addEventListener("changeend",_i976=function i(){_this532["#amount-box"].removeEventListener("change",e),_this532["#amount-box"].removeEventListener("changeend",_i976),_this532.km=!1;var _iterator1017=_createForOfIteratorHelper(l),_step1017;try{for(_iterator1017.s();!(_step1017=_iterator1017.n()).done;){var _t1531=_step1017.value;mi(_t1531,n);}}catch(err){_iterator1017.e(err);}finally{_iterator1017.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1532=this.tn.board,_e1053=_x(_t1532.outermostSelectedElements,_t1532.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1054=_toArray(_e1053),_i977=_e1054[0],_s514=_e1054.slice(1);if(_i977&&"sharpen"===_i977.name){var _t1533=!1;var _iterator1018=_createForOfIteratorHelper(_s514),_step1018;try{for(_iterator1018.s();!(_step1018=_iterator1018.n()).done;){var _e1055=_step1018.value;null!==_e1055&&"sharpen"===_e1055.name&&_e1055.amount!==_i977.amount&&(_t1533=!0);}}catch(err){_iterator1018.e(err);}finally{_iterator1018.f();}this["#amount-input"].mixed=_t1533,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i977.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i977.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return $x;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($x,"_shadowTemplate",Ki(_templateObject299()));_defineProperty($x,"_shadowStyleSheet",Qi(_templateObject300()));customElements.define("bx-sharpenfilterinspector",$x);var Ix=/*#__PURE__*/function(_HTMLElement92){_inherits(Ix,_HTMLElement92);var _super113=_createSuper(Ix);function Ix(){var _this533;_classCallCheck(this,Ix);_this533=_super113.call(this),_this533.Cm=!1,_this533.Za=ts(_this533.Xs,200,_assertThisInitialized(_this533)),_this533._shadowRoot=_this533.attachShadow({mode:"closed"}),_this533._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Ix._shadowStyleSheet],_this533._shadowRoot.append(document.importNode(Ix._shadowTemplate.content,!0));var _iterator1019=_createForOfIteratorHelper(_this533._shadowRoot.querySelectorAll("[id]")),_step1019;try{for(_iterator1019.s();!(_step1019=_iterator1019.n()).done;){var _t1534=_step1019.value;_this533["#"+_t1534.id]=_t1534;}}catch(err){_iterator1019.e(err);}finally{_iterator1019.f();}_this533["#pixel-size-box"].addEventListener("changestart",function(){return _this533._m(event);});return _this533;}_createClass(Ix,[{key:"connectedCallback",value:function connectedCallback(){var _this534=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this534.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this534.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"_m",value:function _m(t){var _this535=this;var e,_i979;this.tn.board.undoManager.checkpoint("Pixelete pixel size"),this.Cm=!0;var _this$tn$board29=this.tn.board,s=_this$tn$board29.outermostSelectedElements,n=_this$tn$board29.selectedTextRange,_x203=_x(s,n,!0),_x204=_slicedToArray(_x203,2),o=_x204[0],l=_x204[1];this["#pixel-size-box"].addEventListener("change",e=function e(t){t.target===_this535["#pixel-size-slider"]?_this535["#pixel-size-input"].value=_this535["#pixel-size-slider"].value:t.target===_this535["#pixel-size-input"]&&(_this535["#pixel-size-slider"].value=_this535["#pixel-size-input"].value);var _iterator1020=_createForOfIteratorHelper(o),_step1020;try{for(_iterator1020.s();!(_step1020=_iterator1020.n()).done;){var _t1535=_step1020.value;var _e1056=Cx(_t1535),_i978=_e1056?fx(_e1056):null;_i978&&"pixelete"===_i978.name&&(_i978.pixelSize=_this535["#pixel-size-input"].value,wx(_e1056,_i978,!0));}}catch(err){_iterator1020.e(err);}finally{_iterator1020.f();}}),this["#pixel-size-box"].addEventListener("changeend",_i979=function i(){_this535["#pixel-size-box"].removeEventListener("change",e),_this535["#pixel-size-box"].removeEventListener("changeend",_i979),_this535.Cm=!1;var _iterator1021=_createForOfIteratorHelper(l),_step1021;try{for(_iterator1021.s();!(_step1021=_iterator1021.n()).done;){var _t1536=_step1021.value;mi(_t1536,n);}}catch(err){_iterator1021.e(err);}finally{_iterator1021.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.Cm){var _t1537=this.tn.board,_e1057=_x(_t1537.outermostSelectedElements,_t1537.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1058=_toArray(_e1057),_i980=_e1058[0],_s515=_e1058.slice(1);if(_i980&&"pixelete"===_i980.name){var _t1538=!1;var _iterator1022=_createForOfIteratorHelper(_s515),_step1022;try{for(_iterator1022.s();!(_step1022=_iterator1022.n()).done;){var _e1059=_step1022.value;null!==_e1059&&"pixelete"===_e1059.name&&_e1059.pixelSize!==_i980.pixelSize&&(_t1538=!0);}}catch(err){_iterator1022.e(err);}finally{_iterator1022.f();}this["#pixel-size-input"].mixed=_t1538,this["#pixel-size-input"].disabled=!1,this["#pixel-size-input"].value=_i980.pixelSize,this["#pixel-size-slider"].disabled=!1,this["#pixel-size-slider"].value=_i980.pixelSize;}else this["#pixel-size-input"].mixed=!1,this["#pixel-size-input"].disabled=!0,this["#pixel-size-input"].value=0,this["#pixel-size-slider"].disabled=!0,this["#pixel-size-slider"].value=0;}}}]);return Ix;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ix,"_shadowTemplate",Ki(_templateObject301()));_defineProperty(Ix,"_shadowStyleSheet",Qi(_templateObject302()));customElements.define("bx-pixeletefilterinspector",Ix);var Lx=/*#__PURE__*/function(_HTMLElement93){_inherits(Lx,_HTMLElement93);var _super114=_createSuper(Lx);function Lx(){var _this536;_classCallCheck(this,Lx);_this536=_super114.call(this),_this536.Za=ts(_this536.Xs,200,_assertThisInitialized(_this536)),_this536.km=!1,_this536.Mm=!1,_this536._shadowRoot=_this536.attachShadow({mode:"closed"}),_this536._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Lx._shadowStyleSheet],_this536._shadowRoot.append(document.importNode(Lx._shadowTemplate.content,!0));var _iterator1023=_createForOfIteratorHelper(_this536._shadowRoot.querySelectorAll("[id]")),_step1023;try{for(_iterator1023.s();!(_step1023=_iterator1023.n()).done;){var _t1539=_step1023.value;_this536["#"+_t1539.id]=_t1539;}}catch(err){_iterator1023.e(err);}finally{_iterator1023.f();}_this536["#amount-box"].addEventListener("changestart",function(){return _this536.Sm(event);}),_this536["#frequency-box"].addEventListener("changestart",function(){return _this536.Pm(event);});return _this536;}_createClass(Lx,[{key:"connectedCallback",value:function connectedCallback(){var _this537=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this537.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this537.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this538=this;var e,_i982;this.tn.board.undoManager.checkpoint("Warp amount"),this.km=!0;var _this$tn$board30=this.tn.board,s=_this$tn$board30.outermostSelectedElements,n=_this$tn$board30.selectedTextRange,_x205=_x(s,n,!0),_x206=_slicedToArray(_x205,2),o=_x206[0],l=_x206[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this538["#amount-slider"]?_this538["#amount-input"].value=_this538["#amount-slider"].value:t.target===_this538["#amount-input"]&&(_this538["#amount-slider"].value=_this538["#amount-input"].value);var _iterator1024=_createForOfIteratorHelper(o),_step1024;try{for(_iterator1024.s();!(_step1024=_iterator1024.n()).done;){var _t1540=_step1024.value;var _e1060=Cx(_t1540),_i981=_e1060?fx(_e1060):null;_i981&&"warp"===_i981.name&&(_i981.amount=_this538["#amount-input"].value,wx(_e1060,_i981,!0));}}catch(err){_iterator1024.e(err);}finally{_iterator1024.f();}}),this["#amount-box"].addEventListener("changeend",_i982=function i(){_this538["#amount-box"].removeEventListener("change",e),_this538["#amount-box"].removeEventListener("changeend",_i982),_this538.km=!1;var _iterator1025=_createForOfIteratorHelper(l),_step1025;try{for(_iterator1025.s();!(_step1025=_iterator1025.n()).done;){var _t1541=_step1025.value;mi(_t1541,n);}}catch(err){_iterator1025.e(err);}finally{_iterator1025.f();}});}},{key:"Pm",value:function Pm(t){var _this539=this;var e,_i984;this.tn.board.undoManager.checkpoint("Warp frequency"),this.Mm=!0;var _this$tn$board31=this.tn.board,s=_this$tn$board31.outermostSelectedElements,n=_this$tn$board31.selectedTextRange,_x207=_x(s,n,!0),_x208=_slicedToArray(_x207,2),o=_x208[0],l=_x208[1];this["#frequency-box"].addEventListener("change",e=function e(t){t.target===_this539["#frequency-slider"]?_this539["#frequency-input"].value=_this539["#frequency-slider"].value:t.target===_this539["#frequency-input"]&&(_this539["#frequency-slider"].value=_this539["#frequency-input"].value);var _iterator1026=_createForOfIteratorHelper(o),_step1026;try{for(_iterator1026.s();!(_step1026=_iterator1026.n()).done;){var _t1542=_step1026.value;var _e1061=Cx(_t1542),_i983=_e1061?fx(_e1061):null;_i983&&"warp"===_i983.name&&(_i983.frequency=_this539["#frequency-input"].value,wx(_e1061,_i983,!0));}}catch(err){_iterator1026.e(err);}finally{_iterator1026.f();}}),this["#frequency-box"].addEventListener("changeend",_i984=function i(){_this539["#frequency-box"].removeEventListener("change",e),_this539["#frequency-box"].removeEventListener("changeend",_i984),_this539.Mm=!1;var _iterator1027=_createForOfIteratorHelper(l),_step1027;try{for(_iterator1027.s();!(_step1027=_iterator1027.n()).done;){var _t1543=_step1027.value;mi(_t1543,n);}}catch(err){_iterator1027.e(err);}finally{_iterator1027.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km&&!1===this.Mm){var _t1544=this.tn.board,_e1062=_x(_t1544.outermostSelectedElements,_t1544.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1063=_toArray(_e1062),_i985=_e1063[0],_s516=_e1063.slice(1);if(_i985&&"warp"===_i985.name){var _t1545=!1;var _iterator1028=_createForOfIteratorHelper(_s516),_step1028;try{for(_iterator1028.s();!(_step1028=_iterator1028.n()).done;){var _e1064=_step1028.value;null!==_e1064&&"warp"===_e1064.name&&(_e1064.amount!==_i985.amount&&(_t1545=!0),_e1064.frequency,_i985.frequency);}}catch(err){_iterator1028.e(err);}finally{_iterator1028.f();}this["#amount-input"].mixed=_t1545,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i985.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i985.amount,this["#frequency-input"].mixed=_t1545,this["#frequency-input"].disabled=!1,this["#frequency-input"].value=_i985.frequency,this["#frequency-slider"].disabled=!1,this["#frequency-slider"].value=_i985.frequency;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#frequency-input"].mixed=!1,this["#frequency-input"].disabled=!0,this["#frequency-input"].value=0,this["#frequency-slider"].disabled=!0,this["#frequency-slider"].value=0;}}}]);return Lx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lx,"_shadowTemplate",Ki(_templateObject303()));_defineProperty(Lx,"_shadowStyleSheet",Qi(_templateObject304()));customElements.define("bx-warpfilterinspector",Lx);var Bx=/*#__PURE__*/function(_HTMLElement94){_inherits(Bx,_HTMLElement94);var _super115=_createSuper(Bx);function Bx(){var _this540;_classCallCheck(this,Bx);_this540=_super115.call(this),_this540.gm=!1,_this540.Za=ts(_this540.Xs,200,_assertThisInitialized(_this540)),_this540._shadowRoot=_this540.attachShadow({mode:"closed"}),_this540._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Bx._shadowStyleSheet],_this540._shadowRoot.append(document.importNode(Bx._shadowTemplate.content,!0));var _iterator1029=_createForOfIteratorHelper(_this540._shadowRoot.querySelectorAll("[id]")),_step1029;try{for(_iterator1029.s();!(_step1029=_iterator1029.n()).done;){var _t1546=_step1029.value;_this540["#"+_t1546.id]=_t1546;}}catch(err){_iterator1029.e(err);}finally{_iterator1029.f();}_this540["#operator-buttons"].addEventListener("toggle",function(){return _this540.Dm();}),_this540["#radius-box"].addEventListener("changestart",function(){return _this540.fm(event);});return _this540;}_createClass(Bx,[{key:"connectedCallback",value:function connectedCallback(){var _this541=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this541.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this541.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Dm",value:function Dm(){this.tn.board.undoManager.checkpoint("Morphology operator");var _this$tn$board32=this.tn.board,t=_this$tn$board32.outermostSelectedElements,e=_this$tn$board32.selectedTextRange,_x209=_x(t,e,!0),_x210=_slicedToArray(_x209,2),i=_x210[0],s=_x210[1];var _iterator1030=_createForOfIteratorHelper(i),_step1030;try{for(_iterator1030.s();!(_step1030=_iterator1030.n()).done;){var _t1547=_step1030.value;var _e1065=Cx(_t1547),_i986=_e1065?fx(_e1065):null;_i986&&"morphology"===_i986.name&&(_i986.operator=this["#operator-buttons"].value,wx(_e1065,_i986,!0));}}catch(err){_iterator1030.e(err);}finally{_iterator1030.f();}var _iterator1031=_createForOfIteratorHelper(s),_step1031;try{for(_iterator1031.s();!(_step1031=_iterator1031.n()).done;){var _t1548=_step1031.value;mi(_t1548,e);}}catch(err){_iterator1031.e(err);}finally{_iterator1031.f();}}},{key:"fm",value:function fm(t){var _this542=this;var e,_i988;this.tn.board.undoManager.checkpoint("Morphology radius"),this.gm=!0;var _this$tn$board33=this.tn.board,s=_this$tn$board33.outermostSelectedElements,n=_this$tn$board33.selectedTextRange,_x211=_x(s,n,!0),_x212=_slicedToArray(_x211,2),o=_x212[0],l=_x212[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this542["#radius-slider"]?_this542["#radius-input"].value=_this542["#radius-slider"].value:t.target===_this542["#radius-input"]&&(_this542["#radius-slider"].value=_this542["#radius-input"].value);var _iterator1032=_createForOfIteratorHelper(o),_step1032;try{for(_iterator1032.s();!(_step1032=_iterator1032.n()).done;){var _t1549=_step1032.value;var _e1066=Cx(_t1549),_i987=_e1066?fx(_e1066):null;_i987&&"morphology"===_i987.name&&(_i987.radius=_this542["#radius-input"].value,wx(_e1066,_i987,!0));}}catch(err){_iterator1032.e(err);}finally{_iterator1032.f();}}),this["#radius-box"].addEventListener("changeend",_i988=function i(){_this542["#radius-box"].removeEventListener("change",e),_this542["#radius-box"].removeEventListener("changeend",_i988),_this542.gm=!1;var _iterator1033=_createForOfIteratorHelper(l),_step1033;try{for(_iterator1033.s();!(_step1033=_iterator1033.n()).done;){var _t1550=_step1033.value;mi(_t1550,n);}}catch(err){_iterator1033.e(err);}finally{_iterator1033.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.gm){var _t1551=this.tn.board,_e1067=_x(_t1551.outermostSelectedElements,_t1551.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1068=_toArray(_e1067),_i989=_e1068[0],_s517=_e1068.slice(1);if(_i989&&"morphology"===_i989.name){var _t1552=!1;var _iterator1034=_createForOfIteratorHelper(_s517),_step1034;try{for(_iterator1034.s();!(_step1034=_iterator1034.n()).done;){var _e1069=_step1034.value;null!==_e1069&&"morphology"===_e1069.name&&_e1069.radius!==_i989.radius&&(_t1552=!0);}}catch(err){_iterator1034.e(err);}finally{_iterator1034.f();}this["#operator-buttons"].value=_i989.operator,this["#radius-input"].mixed=_t1552,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i989.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i989.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Bx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bx,"_shadowTemplate",Ki(_templateObject305()));_defineProperty(Bx,"_shadowStyleSheet",Qi(_templateObject306()));customElements.define("bx-morphologyfilterinspector",Bx);var Rx=/*#__PURE__*/function(_HTMLElement95){_inherits(Rx,_HTMLElement95);var _super116=_createSuper(Rx);function Rx(){var _this543;_classCallCheck(this,Rx);_this543=_super116.call(this),_this543.zm=!1,_this543.Za=ts(_this543.Xs,200,_assertThisInitialized(_this543)),_this543._shadowRoot=_this543.attachShadow({mode:"closed"}),_this543._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Rx._shadowStyleSheet],_this543._shadowRoot.append(document.importNode(Rx._shadowTemplate.content,!0));var _iterator1035=_createForOfIteratorHelper(_this543._shadowRoot.querySelectorAll("[id]")),_step1035;try{for(_iterator1035.s();!(_step1035=_iterator1035.n()).done;){var _t1553=_step1035.value;_this543["#"+_t1553.id]=_t1553;}}catch(err){_iterator1035.e(err);}finally{_iterator1035.f();}_this543["#balance-box"].addEventListener("changestart",function(){return _this543.Om(event);});return _this543;}_createClass(Rx,[{key:"connectedCallback",value:function connectedCallback(){var _this544=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this544.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this544.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Om",value:function Om(t){var _this545=this;var e,_i991;this.tn.board.undoManager.checkpoint("Black and white balance"),this.zm=!0;var _this$tn$board34=this.tn.board,s=_this$tn$board34.outermostSelectedElements,n=_this$tn$board34.selectedTextRange,_x213=_x(s,n,!0),_x214=_slicedToArray(_x213,2),o=_x214[0],l=_x214[1];this["#balance-box"].addEventListener("change",e=function e(t){t.target===_this545["#balance-slider"]?_this545["#balance-input"].value=_this545["#balance-slider"].value:t.target===_this545["#balance-input"]&&(_this545["#balance-slider"].value=_this545["#balance-input"].value);var _iterator1036=_createForOfIteratorHelper(o),_step1036;try{for(_iterator1036.s();!(_step1036=_iterator1036.n()).done;){var _t1554=_step1036.value;var _e1070=Cx(_t1554),_i990=_e1070?fx(_e1070):null;_i990&&"black-and-white"===_i990.name&&(_i990.balance=_this545["#balance-input"].value,wx(_e1070,_i990,!0));}}catch(err){_iterator1036.e(err);}finally{_iterator1036.f();}}),this["#balance-box"].addEventListener("changeend",_i991=function i(){_this545["#balance-box"].removeEventListener("change",e),_this545["#balance-box"].removeEventListener("changeend",_i991),_this545.zm=!1;var _iterator1037=_createForOfIteratorHelper(l),_step1037;try{for(_iterator1037.s();!(_step1037=_iterator1037.n()).done;){var _t1555=_step1037.value;mi(_t1555,n);}}catch(err){_iterator1037.e(err);}finally{_iterator1037.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.zm){var _t1556=this.tn.board,_e1071=_x(_t1556.outermostSelectedElements,_t1556.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1072=_toArray(_e1071),_i992=_e1072[0],_s518=_e1072.slice(1);if(_i992&&"black-and-white"===_i992.name){var _t1557=!1;var _iterator1038=_createForOfIteratorHelper(_s518),_step1038;try{for(_iterator1038.s();!(_step1038=_iterator1038.n()).done;){var _e1073=_step1038.value;null!==_e1073&&"black-and-white"===_e1073.name&&_e1073.balance!==_i992.balance&&(_t1557=!0);}}catch(err){_iterator1038.e(err);}finally{_iterator1038.f();}this["#balance-input"].mixed=_t1557,this["#balance-input"].disabled=!1,this["#balance-input"].value=_i992.balance,this["#balance-slider"].disabled=!1,this["#balance-slider"].value=_i992.balance;}else this["#balance-input"].mixed=!1,this["#balance-input"].disabled=!0,this["#balance-input"].value=0,this["#balance-slider"].disabled=!0,this["#balance-slider"].value=0;}}}]);return Rx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rx,"_shadowTemplate",Ki(_templateObject307()));_defineProperty(Rx,"_shadowStyleSheet",Qi(_templateObject308()));customElements.define("bx-blackandwhitefilterinspector",Rx);var Gx=/*#__PURE__*/function(_HTMLElement96){_inherits(Gx,_HTMLElement96);var _super117=_createSuper(Gx);function Gx(){var _this546;_classCallCheck(this,Gx);_this546=_super117.call(this),_this546.km=!1,_this546.Za=ts(_this546.Xs,200,_assertThisInitialized(_this546)),_this546._shadowRoot=_this546.attachShadow({mode:"closed"}),_this546._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Gx._shadowStyleSheet],_this546._shadowRoot.append(document.importNode(Gx._shadowTemplate.content,!0));var _iterator1039=_createForOfIteratorHelper(_this546._shadowRoot.querySelectorAll("[id]")),_step1039;try{for(_iterator1039.s();!(_step1039=_iterator1039.n()).done;){var _t1558=_step1039.value;_this546["#"+_t1558.id]=_t1558;}}catch(err){_iterator1039.e(err);}finally{_iterator1039.f();}_this546["#amount-box"].addEventListener("changestart",function(){return _this546.Sm(event);});return _this546;}_createClass(Gx,[{key:"connectedCallback",value:function connectedCallback(){var _this547=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this547.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this547.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this548=this;var e,_i994;this.tn.board.undoManager.checkpoint("Grayscale amount"),this.km=!0;var _this$tn$board35=this.tn.board,s=_this$tn$board35.outermostSelectedElements,n=_this$tn$board35.selectedTextRange,_x215=_x(s,n,!0),_x216=_slicedToArray(_x215,2),o=_x216[0],l=_x216[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this548["#amount-slider"]?_this548["#amount-input"].value=_this548["#amount-slider"].value:t.target===_this548["#amount-input"]&&(_this548["#amount-slider"].value=_this548["#amount-input"].value);var _iterator1040=_createForOfIteratorHelper(o),_step1040;try{for(_iterator1040.s();!(_step1040=_iterator1040.n()).done;){var _t1559=_step1040.value;var _e1074=Cx(_t1559),_i993=_e1074?fx(_e1074):null;_i993&&"grayscale"===_i993.name&&(_i993.amount=_this548["#amount-input"].value,wx(_e1074,_i993,!0));}}catch(err){_iterator1040.e(err);}finally{_iterator1040.f();}}),this["#amount-box"].addEventListener("changeend",_i994=function i(){_this548["#amount-box"].removeEventListener("change",e),_this548["#amount-box"].removeEventListener("changeend",_i994),_this548.km=!1;var _iterator1041=_createForOfIteratorHelper(l),_step1041;try{for(_iterator1041.s();!(_step1041=_iterator1041.n()).done;){var _t1560=_step1041.value;mi(_t1560,n);}}catch(err){_iterator1041.e(err);}finally{_iterator1041.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1561=this.tn.board,_e1075=_x(_t1561.outermostSelectedElements,_t1561.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1076=_toArray(_e1075),_i995=_e1076[0],_s519=_e1076.slice(1);if(_i995&&"grayscale"===_i995.name){var _t1562=!1;var _iterator1042=_createForOfIteratorHelper(_s519),_step1042;try{for(_iterator1042.s();!(_step1042=_iterator1042.n()).done;){var _e1077=_step1042.value;null!==_e1077&&"grayscale"===_e1077.name&&_e1077.amount!==_i995.amount&&(_t1562=!0);}}catch(err){_iterator1042.e(err);}finally{_iterator1042.f();}this["#amount-input"].mixed=_t1562,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i995.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i995.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Gx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gx,"_shadowTemplate",Ki(_templateObject309()));_defineProperty(Gx,"_shadowStyleSheet",Qi(_templateObject310()));customElements.define("bx-grayscalefilterinspector",Gx);var Ux=/*#__PURE__*/function(_HTMLElement97){_inherits(Ux,_HTMLElement97);var _super118=_createSuper(Ux);function Ux(){var _this549;_classCallCheck(this,Ux);_this549=_super118.call(this),_this549.km=!1,_this549.Za=ts(_this549.Xs,200,_assertThisInitialized(_this549)),_this549._shadowRoot=_this549.attachShadow({mode:"closed"}),_this549._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Ux._shadowStyleSheet],_this549._shadowRoot.append(document.importNode(Ux._shadowTemplate.content,!0));var _iterator1043=_createForOfIteratorHelper(_this549._shadowRoot.querySelectorAll("[id]")),_step1043;try{for(_iterator1043.s();!(_step1043=_iterator1043.n()).done;){var _t1563=_step1043.value;_this549["#"+_t1563.id]=_t1563;}}catch(err){_iterator1043.e(err);}finally{_iterator1043.f();}_this549["#amount-box"].addEventListener("changestart",function(){return _this549.Sm(event);});return _this549;}_createClass(Ux,[{key:"connectedCallback",value:function connectedCallback(){var _this550=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this550.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this550.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this551=this;var e,_i997;this.tn.board.undoManager.checkpoint("Sepia amount"),this.km=!0;var _this$tn$board36=this.tn.board,s=_this$tn$board36.outermostSelectedElements,n=_this$tn$board36.selectedTextRange,_x217=_x(s,n,!0),_x218=_slicedToArray(_x217,2),o=_x218[0],l=_x218[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this551["#amount-slider"]?_this551["#amount-input"].value=_this551["#amount-slider"].value:t.target===_this551["#amount-input"]&&(_this551["#amount-slider"].value=_this551["#amount-input"].value);var _iterator1044=_createForOfIteratorHelper(o),_step1044;try{for(_iterator1044.s();!(_step1044=_iterator1044.n()).done;){var _t1564=_step1044.value;var _e1078=Cx(_t1564),_i996=_e1078?fx(_e1078):null;_i996&&"sepia"===_i996.name&&(_i996.amount=_this551["#amount-input"].value,wx(_e1078,_i996,!0));}}catch(err){_iterator1044.e(err);}finally{_iterator1044.f();}}),this["#amount-box"].addEventListener("changeend",_i997=function i(){_this551["#amount-box"].removeEventListener("change",e),_this551["#amount-box"].removeEventListener("changeend",_i997),_this551.km=!1;var _iterator1045=_createForOfIteratorHelper(l),_step1045;try{for(_iterator1045.s();!(_step1045=_iterator1045.n()).done;){var _t1565=_step1045.value;mi(_t1565,n);}}catch(err){_iterator1045.e(err);}finally{_iterator1045.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1566=this.tn.board,_e1079=_x(_t1566.outermostSelectedElements,_t1566.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1080=_toArray(_e1079),_i998=_e1080[0],_s520=_e1080.slice(1);if(_i998&&"sepia"===_i998.name){var _t1567=!1;var _iterator1046=_createForOfIteratorHelper(_s520),_step1046;try{for(_iterator1046.s();!(_step1046=_iterator1046.n()).done;){var _e1081=_step1046.value;null!==_e1081&&"sepia"===_e1081.name&&_e1081.amount!==_i998.amount&&(_t1567=!0);}}catch(err){_iterator1046.e(err);}finally{_iterator1046.f();}this["#amount-input"].mixed=_t1567,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i998.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i998.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Ux;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ux,"_shadowTemplate",Ki(_templateObject311()));_defineProperty(Ux,"_shadowStyleSheet",Qi(_templateObject312()));customElements.define("bx-sepiafilterinspector",Ux);var Fx=/*#__PURE__*/function(_HTMLElement98){_inherits(Fx,_HTMLElement98);var _super119=_createSuper(Fx);function Fx(){var _this552;_classCallCheck(this,Fx);_this552=_super119.call(this),_this552.km=!1,_this552.Za=ts(_this552.Xs,200,_assertThisInitialized(_this552)),_this552._shadowRoot=_this552.attachShadow({mode:"closed"}),_this552._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Fx._shadowStyleSheet],_this552._shadowRoot.append(document.importNode(Fx._shadowTemplate.content,!0));var _iterator1047=_createForOfIteratorHelper(_this552._shadowRoot.querySelectorAll("[id]")),_step1047;try{for(_iterator1047.s();!(_step1047=_iterator1047.n()).done;){var _t1568=_step1047.value;_this552["#"+_t1568.id]=_t1568;}}catch(err){_iterator1047.e(err);}finally{_iterator1047.f();}_this552["#amount-box"].addEventListener("changestart",function(){return _this552.Sm(event);});return _this552;}_createClass(Fx,[{key:"connectedCallback",value:function connectedCallback(){var _this553=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this553.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this553.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this554=this;var e,_i1000;this.tn.board.undoManager.checkpoint("Saturate amount"),this.km=!0;var _this$tn$board37=this.tn.board,s=_this$tn$board37.outermostSelectedElements,n=_this$tn$board37.selectedTextRange,_x219=_x(s,n,!0),_x220=_slicedToArray(_x219,2),o=_x220[0],l=_x220[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this554["#amount-slider"]?_this554["#amount-input"].value=_this554["#amount-slider"].value:t.target===_this554["#amount-input"]&&(_this554["#amount-slider"].value=_this554["#amount-input"].value);var _iterator1048=_createForOfIteratorHelper(o),_step1048;try{for(_iterator1048.s();!(_step1048=_iterator1048.n()).done;){var _t1569=_step1048.value;var _e1082=Cx(_t1569),_i999=_e1082?fx(_e1082):null;_i999&&"saturate"===_i999.name&&(_i999.amount=_this554["#amount-input"].value,wx(_e1082,_i999,!0));}}catch(err){_iterator1048.e(err);}finally{_iterator1048.f();}}),this["#amount-box"].addEventListener("changeend",_i1000=function i(){_this554["#amount-box"].removeEventListener("change",e),_this554["#amount-box"].removeEventListener("changeend",_i1000),_this554.km=!1;var _iterator1049=_createForOfIteratorHelper(l),_step1049;try{for(_iterator1049.s();!(_step1049=_iterator1049.n()).done;){var _t1570=_step1049.value;mi(_t1570,n);}}catch(err){_iterator1049.e(err);}finally{_iterator1049.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1571=this.tn.board,_e1083=_x(_t1571.outermostSelectedElements,_t1571.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1084=_toArray(_e1083),_i1001=_e1084[0],_s521=_e1084.slice(1);if(_i1001&&"saturate"===_i1001.name){var _t1572=!1;var _iterator1050=_createForOfIteratorHelper(_s521),_step1050;try{for(_iterator1050.s();!(_step1050=_iterator1050.n()).done;){var _e1085=_step1050.value;null!==_e1085&&"saturate"===_e1085.name&&_e1085.amount!==_i1001.amount&&(_t1572=!0);}}catch(err){_iterator1050.e(err);}finally{_iterator1050.f();}this["#amount-input"].mixed=_t1572,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1001.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1001.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fx,"_shadowTemplate",Ki(_templateObject313()));_defineProperty(Fx,"_shadowStyleSheet",Qi(_templateObject314()));customElements.define("bx-saturatefilterinspector",Fx);var Nx=/*#__PURE__*/function(_HTMLElement99){_inherits(Nx,_HTMLElement99);var _super120=_createSuper(Nx);function Nx(){var _this555;_classCallCheck(this,Nx);_this555=_super120.call(this),_this555.Em=!1,_this555.Za=ts(_this555.Xs,200,_assertThisInitialized(_this555)),_this555._shadowRoot=_this555.attachShadow({mode:"closed"}),_this555._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Nx._shadowStyleSheet],_this555._shadowRoot.append(document.importNode(Nx._shadowTemplate.content,!0));var _iterator1051=_createForOfIteratorHelper(_this555._shadowRoot.querySelectorAll("[id]")),_step1051;try{for(_iterator1051.s();!(_step1051=_iterator1051.n()).done;){var _t1573=_step1051.value;_this555["#"+_t1573.id]=_t1573;}}catch(err){_iterator1051.e(err);}finally{_iterator1051.f();}_this555["#angle-box"].addEventListener("changestart",function(){return _this555.bo(event);});return _this555;}_createClass(Nx,[{key:"connectedCallback",value:function connectedCallback(){var _this556=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this556.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this556.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"bo",value:function bo(t){var _this557=this;var e,_i1003;this.tn.board.undoManager.checkpoint("Hue rotate angle"),this.Em=!0;var _this$tn$board38=this.tn.board,s=_this$tn$board38.outermostSelectedElements,n=_this$tn$board38.selectedTextRange,_x221=_x(s,n,!0),_x222=_slicedToArray(_x221,2),o=_x222[0],l=_x222[1];this["#angle-box"].addEventListener("change",e=function e(t){t.target===_this557["#angle-slider"]?_this557["#angle-input"].value=_this557["#angle-slider"].value:t.target===_this557["#angle-input"]&&(_this557["#angle-slider"].value=_this557["#angle-input"].value);var _iterator1052=_createForOfIteratorHelper(o),_step1052;try{for(_iterator1052.s();!(_step1052=_iterator1052.n()).done;){var _t1574=_step1052.value;var _e1086=Cx(_t1574),_i1002=_e1086?fx(_e1086):null;_i1002&&"hue-rotate"===_i1002.name&&(_i1002.angle=_this557["#angle-input"].value,wx(_e1086,_i1002,!0));}}catch(err){_iterator1052.e(err);}finally{_iterator1052.f();}}),this["#angle-box"].addEventListener("changeend",_i1003=function i(){_this557["#angle-box"].removeEventListener("change",e),_this557["#angle-box"].removeEventListener("changeend",_i1003),_this557.Em=!1;var _iterator1053=_createForOfIteratorHelper(l),_step1053;try{for(_iterator1053.s();!(_step1053=_iterator1053.n()).done;){var _t1575=_step1053.value;mi(_t1575,n);}}catch(err){_iterator1053.e(err);}finally{_iterator1053.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.Em){var _t1576=this.tn.board,_e1087=_x(_t1576.outermostSelectedElements,_t1576.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1088=_toArray(_e1087),_i1004=_e1088[0],_s522=_e1088.slice(1);if(_i1004&&"hue-rotate"===_i1004.name){var _t1577=!1;var _iterator1054=_createForOfIteratorHelper(_s522),_step1054;try{for(_iterator1054.s();!(_step1054=_iterator1054.n()).done;){var _e1089=_step1054.value;null!==_e1089&&"hue-rotate"===_e1089.name&&_e1089.angle!==_i1004.angle&&(_t1577=!0);}}catch(err){_iterator1054.e(err);}finally{_iterator1054.f();}this["#angle-input"].mixed=_t1577,this["#angle-input"].disabled=!1,this["#angle-input"].value=_i1004.angle,this["#angle-slider"].disabled=!1,this["#angle-slider"].value=_i1004.angle;}else this["#angle-input"].mixed=!1,this["#angle-input"].disabled=!0,this["#angle-input"].value=0,this["#angle-slider"].disabled=!0,this["#angle-slider"].value=0;}}}]);return Nx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nx,"_shadowTemplate",Ki(_templateObject315()));_defineProperty(Nx,"_shadowStyleSheet",Qi(_templateObject316()));customElements.define("bx-huerotatefilterinspector",Nx);var jx=/*#__PURE__*/function(_HTMLElement100){_inherits(jx,_HTMLElement100);var _super121=_createSuper(jx);function jx(){var _this558;_classCallCheck(this,jx);_this558=_super121.call(this),_this558.km=!1,_this558.Za=ts(_this558.Xs,200,_assertThisInitialized(_this558)),_this558._shadowRoot=_this558.attachShadow({mode:"closed"}),_this558._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,jx._shadowStyleSheet],_this558._shadowRoot.append(document.importNode(jx._shadowTemplate.content,!0));var _iterator1055=_createForOfIteratorHelper(_this558._shadowRoot.querySelectorAll("[id]")),_step1055;try{for(_iterator1055.s();!(_step1055=_iterator1055.n()).done;){var _t1578=_step1055.value;_this558["#"+_t1578.id]=_t1578;}}catch(err){_iterator1055.e(err);}finally{_iterator1055.f();}_this558["#amount-box"].addEventListener("changestart",function(){return _this558.Sm(event);});return _this558;}_createClass(jx,[{key:"connectedCallback",value:function connectedCallback(){var _this559=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this559.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this559.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this560=this;var e,_i1006;this.tn.board.undoManager.checkpoint("Invert amount"),this.km=!0;var _this$tn$board39=this.tn.board,s=_this$tn$board39.outermostSelectedElements,n=_this$tn$board39.selectedTextRange,_x223=_x(s,n,!0),_x224=_slicedToArray(_x223,2),o=_x224[0],l=_x224[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this560["#amount-slider"]?_this560["#amount-input"].value=_this560["#amount-slider"].value:t.target===_this560["#amount-input"]&&(_this560["#amount-slider"].value=_this560["#amount-input"].value);var _iterator1056=_createForOfIteratorHelper(o),_step1056;try{for(_iterator1056.s();!(_step1056=_iterator1056.n()).done;){var _t1579=_step1056.value;var _e1090=Cx(_t1579),_i1005=_e1090?fx(_e1090):null;_i1005&&"invert"===_i1005.name&&(_i1005.amount=_this560["#amount-input"].value,wx(_e1090,_i1005,!0));}}catch(err){_iterator1056.e(err);}finally{_iterator1056.f();}}),this["#amount-box"].addEventListener("changeend",_i1006=function i(){_this560["#amount-box"].removeEventListener("change",e),_this560["#amount-box"].removeEventListener("changeend",_i1006),_this560.km=!1;var _iterator1057=_createForOfIteratorHelper(l),_step1057;try{for(_iterator1057.s();!(_step1057=_iterator1057.n()).done;){var _t1580=_step1057.value;mi(_t1580,n);}}catch(err){_iterator1057.e(err);}finally{_iterator1057.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1581=this.tn.board,_e1091=_x(_t1581.outermostSelectedElements,_t1581.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1092=_toArray(_e1091),_i1007=_e1092[0],_s523=_e1092.slice(1);if(_i1007&&"invert"===_i1007.name){var _t1582=!1;var _iterator1058=_createForOfIteratorHelper(_s523),_step1058;try{for(_iterator1058.s();!(_step1058=_iterator1058.n()).done;){var _e1093=_step1058.value;null!==_e1093&&"invert"===_e1093.name&&_e1093.amount!==_i1007.amount&&(_t1582=!0);}}catch(err){_iterator1058.e(err);}finally{_iterator1058.f();}this["#amount-input"].mixed=_t1582,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1007.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1007.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jx,"_shadowTemplate",Ki(_templateObject317()));_defineProperty(jx,"_shadowStyleSheet",Qi(_templateObject318()));customElements.define("bx-invertfilterinspector",jx);var Vx=/*#__PURE__*/function(_HTMLElement101){_inherits(Vx,_HTMLElement101);var _super122=_createSuper(Vx);function Vx(){var _this561;_classCallCheck(this,Vx);_this561=_super122.call(this),_this561.km=!1,_this561.Za=ts(_this561.Xs,200,_assertThisInitialized(_this561)),_this561._shadowRoot=_this561.attachShadow({mode:"closed"}),_this561._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Vx._shadowStyleSheet],_this561._shadowRoot.append(document.importNode(Vx._shadowTemplate.content,!0));var _iterator1059=_createForOfIteratorHelper(_this561._shadowRoot.querySelectorAll("[id]")),_step1059;try{for(_iterator1059.s();!(_step1059=_iterator1059.n()).done;){var _t1583=_step1059.value;_this561["#"+_t1583.id]=_t1583;}}catch(err){_iterator1059.e(err);}finally{_iterator1059.f();}_this561["#amount-box"].addEventListener("changestart",function(){return _this561.Sm(event);});return _this561;}_createClass(Vx,[{key:"connectedCallback",value:function connectedCallback(){var _this562=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this562.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this562.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this563=this;var e,_i1009;this.tn.board.undoManager.checkpoint("Brightness amount"),this.km=!0;var _this$tn$board40=this.tn.board,s=_this$tn$board40.outermostSelectedElements,n=_this$tn$board40.selectedTextRange,_x225=_x(s,n,!0),_x226=_slicedToArray(_x225,2),o=_x226[0],l=_x226[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this563["#amount-slider"]?_this563["#amount-input"].value=_this563["#amount-slider"].value:t.target===_this563["#amount-input"]&&(_this563["#amount-slider"].value=_this563["#amount-input"].value);var _iterator1060=_createForOfIteratorHelper(o),_step1060;try{for(_iterator1060.s();!(_step1060=_iterator1060.n()).done;){var _t1584=_step1060.value;var _e1094=Cx(_t1584),_i1008=_e1094?fx(_e1094):null;_i1008&&"brightness"===_i1008.name&&(_i1008.amount=_this563["#amount-input"].value,wx(_e1094,_i1008,!0));}}catch(err){_iterator1060.e(err);}finally{_iterator1060.f();}}),this["#amount-box"].addEventListener("changeend",_i1009=function i(){_this563["#amount-box"].removeEventListener("change",e),_this563["#amount-box"].removeEventListener("changeend",_i1009),_this563.km=!1;var _iterator1061=_createForOfIteratorHelper(l),_step1061;try{for(_iterator1061.s();!(_step1061=_iterator1061.n()).done;){var _t1585=_step1061.value;mi(_t1585,n);}}catch(err){_iterator1061.e(err);}finally{_iterator1061.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1586=this.tn.board,_e1095=_x(_t1586.outermostSelectedElements,_t1586.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1096=_toArray(_e1095),_i1010=_e1096[0],_s524=_e1096.slice(1);if(_i1010&&"brightness"===_i1010.name){var _t1587=!1;var _iterator1062=_createForOfIteratorHelper(_s524),_step1062;try{for(_iterator1062.s();!(_step1062=_iterator1062.n()).done;){var _e1097=_step1062.value;null!==_e1097&&"brightness"===_e1097.name&&_e1097.amount!==_i1010.amount&&(_t1587=!0);}}catch(err){_iterator1062.e(err);}finally{_iterator1062.f();}this["#amount-input"].mixed=_t1587,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1010.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1010.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vx,"_shadowTemplate",Ki(_templateObject319()));_defineProperty(Vx,"_shadowStyleSheet",Qi(_templateObject320()));customElements.define("bx-brightnessfilterinspector",Vx);var Hx=/*#__PURE__*/function(_HTMLElement102){_inherits(Hx,_HTMLElement102);var _super123=_createSuper(Hx);function Hx(){var _this564;_classCallCheck(this,Hx);_this564=_super123.call(this),_this564.km=!1,_this564.Za=ts(_this564.Xs,200,_assertThisInitialized(_this564)),_this564._shadowRoot=_this564.attachShadow({mode:"closed"}),_this564._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Hx._shadowStyleSheet],_this564._shadowRoot.append(document.importNode(Hx._shadowTemplate.content,!0));var _iterator1063=_createForOfIteratorHelper(_this564._shadowRoot.querySelectorAll("[id]")),_step1063;try{for(_iterator1063.s();!(_step1063=_iterator1063.n()).done;){var _t1588=_step1063.value;_this564["#"+_t1588.id]=_t1588;}}catch(err){_iterator1063.e(err);}finally{_iterator1063.f();}_this564["#amount-box"].addEventListener("changestart",function(){return _this564.Sm(event);});return _this564;}_createClass(Hx,[{key:"connectedCallback",value:function connectedCallback(){var _this565=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this565.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this565.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sm",value:function Sm(t){var _this566=this;var e,_i1012;this.tn.board.undoManager.checkpoint("Contrast amount"),this.km=!0;var _this$tn$board41=this.tn.board,s=_this$tn$board41.outermostSelectedElements,n=_this$tn$board41.selectedTextRange,_x227=_x(s,n,!0),_x228=_slicedToArray(_x227,2),o=_x228[0],l=_x228[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this566["#amount-slider"]?_this566["#amount-input"].value=_this566["#amount-slider"].value:t.target===_this566["#amount-input"]&&(_this566["#amount-slider"].value=_this566["#amount-input"].value);var _iterator1064=_createForOfIteratorHelper(o),_step1064;try{for(_iterator1064.s();!(_step1064=_iterator1064.n()).done;){var _t1589=_step1064.value;var _e1098=Cx(_t1589),_i1011=_e1098?fx(_e1098):null;_i1011&&"contrast"===_i1011.name&&(_i1011.amount=_this566["#amount-input"].value,wx(_e1098,_i1011,!0));}}catch(err){_iterator1064.e(err);}finally{_iterator1064.f();}}),this["#amount-box"].addEventListener("changeend",_i1012=function i(){_this566["#amount-box"].removeEventListener("change",e),_this566["#amount-box"].removeEventListener("changeend",_i1012),_this566.km=!1;var _iterator1065=_createForOfIteratorHelper(l),_step1065;try{for(_iterator1065.s();!(_step1065=_iterator1065.n()).done;){var _t1590=_step1065.value;mi(_t1590,n);}}catch(err){_iterator1065.e(err);}finally{_iterator1065.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km){var _t1591=this.tn.board,_e1099=_x(_t1591.outermostSelectedElements,_t1591.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1100=_toArray(_e1099),_i1013=_e1100[0],_s525=_e1100.slice(1);if(_i1013&&"contrast"===_i1013.name){var _t1592=!1;var _iterator1066=_createForOfIteratorHelper(_s525),_step1066;try{for(_iterator1066.s();!(_step1066=_iterator1066.n()).done;){var _e1101=_step1066.value;null!==_e1101&&"contrast"===_e1101.name&&_e1101.amount!==_i1013.amount&&(_t1592=!0);}}catch(err){_iterator1066.e(err);}finally{_iterator1066.f();}this["#amount-input"].mixed=_t1592,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1013.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1013.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hx,"_shadowTemplate",Ki(_templateObject321()));_defineProperty(Hx,"_shadowStyleSheet",Qi(_templateObject322()));customElements.define("bx-contrastfilterinspector",Hx);var Wx=/*#__PURE__*/function(_HTMLElement103){_inherits(Wx,_HTMLElement103);var _super124=_createSuper(Wx);function Wx(){var _this567;_classCallCheck(this,Wx);_this567=_super124.call(this),_this567.km=!1,_this567.Tm=!1,_this567.Za=ts(_this567.Xs,200,_assertThisInitialized(_this567)),_this567._shadowRoot=_this567.attachShadow({mode:"closed"}),_this567._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Wx._shadowStyleSheet],_this567._shadowRoot.append(document.importNode(Wx._shadowTemplate.content,!0));var _iterator1067=_createForOfIteratorHelper(_this567._shadowRoot.querySelectorAll("[id]")),_step1067;try{for(_iterator1067.s();!(_step1067=_iterator1067.n()).done;){var _t1593=_step1067.value;_this567["#"+_t1593.id]=_t1593;}}catch(err){_iterator1067.e(err);}finally{_iterator1067.f();}_this567["#channels-buttons"].addEventListener("toggle",function(t){return _this567.Am(t);}),_this567["#amount-box"].addEventListener("changestart",function(t){return _this567.Sm(t);}),_this567["#saturation-box"].addEventListener("changestart",function(t){return _this567.$m(t);});return _this567;}_createClass(Wx,[{key:"connectedCallback",value:function connectedCallback(){var _this568=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this568.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this568.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Am",value:function Am(t){this.tn.board.undoManager.checkpoint("Posterize channels");var _this$tn$board42=this.tn.board,e=_this$tn$board42.outermostSelectedElements,i=_this$tn$board42.selectedTextRange,_x229=_x(e,i,!0),_x230=_slicedToArray(_x229,2),s=_x230[0],n=_x230[1];var _iterator1068=_createForOfIteratorHelper(s),_step1068;try{for(_iterator1068.s();!(_step1068=_iterator1068.n()).done;){var _t1594=_step1068.value;var _e1102=Cx(_t1594),_i1014=_e1102?fx(_e1102):null;_i1014&&"posterize"===_i1014.name&&(_i1014.channels=this["#channels-buttons"].value,wx(_e1102,_i1014,!0));}}catch(err){_iterator1068.e(err);}finally{_iterator1068.f();}}},{key:"Sm",value:function Sm(t){var _this569=this;var e,_i1016;this.tn.board.undoManager.checkpoint("Posterize amount"),this.km=!0;var _this$tn$board43=this.tn.board,s=_this$tn$board43.outermostSelectedElements,n=_this$tn$board43.selectedTextRange,_x231=_x(s,n,!0),_x232=_slicedToArray(_x231,2),o=_x232[0],l=_x232[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this569["#amount-slider"]?_this569["#amount-input"].value=_this569["#amount-slider"].value:t.target===_this569["#amount-input"]&&(_this569["#amount-slider"].value=_this569["#amount-input"].value);var _iterator1069=_createForOfIteratorHelper(o),_step1069;try{for(_iterator1069.s();!(_step1069=_iterator1069.n()).done;){var _t1595=_step1069.value;var _e1103=Cx(_t1595),_i1015=_e1103?fx(_e1103):null;_i1015&&"posterize"===_i1015.name&&(_i1015.amount=_this569["#amount-input"].value,wx(_e1103,_i1015,!0));}}catch(err){_iterator1069.e(err);}finally{_iterator1069.f();}}),this["#amount-box"].addEventListener("changeend",_i1016=function i(){_this569["#amount-box"].removeEventListener("change",e),_this569["#amount-box"].removeEventListener("changeend",_i1016),_this569.km=!1;var _iterator1070=_createForOfIteratorHelper(l),_step1070;try{for(_iterator1070.s();!(_step1070=_iterator1070.n()).done;){var _t1596=_step1070.value;mi(_t1596,n);}}catch(err){_iterator1070.e(err);}finally{_iterator1070.f();}});}},{key:"$m",value:function $m(t){var _this570=this;var e,_i1018;this.tn.board.undoManager.checkpoint("Posterize saturation"),this.Tm=!0;var _this$tn$board44=this.tn.board,s=_this$tn$board44.outermostSelectedElements,n=_this$tn$board44.selectedTextRange,_x233=_x(s,n,!0),_x234=_slicedToArray(_x233,2),o=_x234[0],l=_x234[1];this["#saturation-box"].addEventListener("change",e=function e(t){t.target===_this570["#saturation-slider"]?_this570["#saturation-input"].value=_this570["#saturation-slider"].value:t.target===_this570["#saturation-input"]&&(_this570["#saturation-slider"].value=_this570["#saturation-input"].value);var _iterator1071=_createForOfIteratorHelper(o),_step1071;try{for(_iterator1071.s();!(_step1071=_iterator1071.n()).done;){var _t1597=_step1071.value;var _e1104=Cx(_t1597),_i1017=_e1104?fx(_e1104):null;_i1017&&"posterize"===_i1017.name&&(_i1017.saturation=_this570["#saturation-input"].value,wx(_e1104,_i1017,!0));}}catch(err){_iterator1071.e(err);}finally{_iterator1071.f();}}),this["#saturation-box"].addEventListener("changeend",_i1018=function i(){_this570["#saturation-box"].removeEventListener("change",e),_this570["#saturation-box"].removeEventListener("changeend",_i1018),_this570.Tm=!1;var _iterator1072=_createForOfIteratorHelper(l),_step1072;try{for(_iterator1072.s();!(_step1072=_iterator1072.n()).done;){var _t1598=_step1072.value;mi(_t1598,n);}}catch(err){_iterator1072.e(err);}finally{_iterator1072.f();}});}},{key:"Xs",value:function Xs(){if(!1===this.km&&!1===this.Tm){var _t1599=this.tn.board,_e1105=_x(_t1599.outermostSelectedElements,_t1599.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1106=_toArray(_e1105),_i1019=_e1106[0],_s526=_e1106.slice(1);if(_i1019&&"posterize"===_i1019.name){var _t1600=!1,_e1107=!1,_n420=!1;var _iterator1073=_createForOfIteratorHelper(_s526),_step1073;try{for(_iterator1073.s();!(_step1073=_iterator1073.n()).done;){var _o328=_step1073.value;null!==_o328&&"posterize"===_o328.name&&(!1===compareArrays(_o328.channels,_i1019.channels)&&(_t1600=!0),_o328.amount!==_i1019.amount&&(_e1107=!0),_o328.saturation!==_i1019.saturation&&(_n420=!0));}}catch(err){_iterator1073.e(err);}finally{_iterator1073.f();}this["#channels-buttons"].mixed=_t1600,this["#channels-buttons"].disabled=!1,this["#channels-buttons"].value=_i1019.channels,this["#amount-input"].mixed=_e1107,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1019.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1019.amount,this["#saturation-input"].mixed=_n420,this["#saturation-input"].disabled=!1,this["#saturation-input"].value=_i1019.saturation,this["#saturation-slider"].disabled=!1,this["#saturation-slider"].value=_i1019.saturation;}else this["#channels-buttons"].mixed=!1,this["#channels-buttons"].disabled=!0,this["#channels-buttons"].value=[],this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#saturation-input"].mixed=!1,this["#saturation-input"].disabled=!0,this["#saturation-input"].value=0,this["#saturation-slider"].disabled=!0,this["#saturation-slider"].value=0;}}}]);return Wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wx,"_shadowTemplate",Ki(_templateObject323()));_defineProperty(Wx,"_shadowStyleSheet",Qi(_templateObject324()));customElements.define("bx-posterizefilterinspector",Wx);var Yx=/*#__PURE__*/function(_HTMLElement104){_inherits(Yx,_HTMLElement104);var _super125=_createSuper(Yx);function Yx(){var _this571;_classCallCheck(this,Yx);_this571=_super125.call(this),_this571.Im=!1,_this571.Lm=!1,_this571.Bm=!1,_this571.Za=ts(_this571.Xs,200,_assertThisInitialized(_this571)),_this571._shadowRoot=_this571.attachShadow({mode:"closed"}),_this571._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Yx._shadowStyleSheet],_this571._shadowRoot.append(document.importNode(Yx._shadowTemplate.content,!0));var _iterator1074=_createForOfIteratorHelper(_this571._shadowRoot.querySelectorAll("[id]")),_step1074;try{for(_iterator1074.s();!(_step1074=_iterator1074.n()).done;){var _t1601=_step1074.value;_this571["#"+_t1601.id]=_t1601;}}catch(err){_iterator1074.e(err);}finally{_iterator1074.f();}_this571["#shadows-color-select"].addEventListener("changestart",function(){return _this571.Rm();}),_this571["#highlights-color-select"].addEventListener("changestart",function(){return _this571.Gm();}),_this571["#gamma-box"].addEventListener("changestart",function(){return _this571.Um(event);});return _this571;}_createClass(Yx,[{key:"connectedCallback",value:function connectedCallback(){var _this572=this;this.tn=Ri(this,"bx-editor"),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this572.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this572.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Rm",value:function Rm(){var _this573=this;var t,_e1109;this.tn.board.undoManager.checkpoint("Duotone shadows color"),this.Im=!0;var _this$tn$board45=this.tn.board,i=_this$tn$board45.outermostSelectedElements,s=_this$tn$board45.selectedTextRange,_x235=_x(i,s,!0),_x236=_slicedToArray(_x235,2),n=_x236[0],o=_x236[1];this["#shadows-color-select"].addEventListener("change",t=function t(){var _iterator1075=_createForOfIteratorHelper(n),_step1075;try{for(_iterator1075.s();!(_step1075=_iterator1075.n()).done;){var _t1602=_step1075.value;var _e1108=Cx(_t1602),_i1020=_e1108?fx(_e1108):null;_i1020&&"duotone"===_i1020.name&&(_i1020.shadowsColor=_this573["#shadows-color-select"].value,wx(_e1108,_i1020,!0));}}catch(err){_iterator1075.e(err);}finally{_iterator1075.f();}}),this["#shadows-color-select"].addEventListener("changeend",_e1109=function e(){_this573["#shadows-color-select"].removeEventListener("change",t),_this573["#shadows-color-select"].removeEventListener("changeend",_e1109),_this573.Im=!1;var _iterator1076=_createForOfIteratorHelper(o),_step1076;try{for(_iterator1076.s();!(_step1076=_iterator1076.n()).done;){var _t1603=_step1076.value;mi(_t1603,s);}}catch(err){_iterator1076.e(err);}finally{_iterator1076.f();}});}},{key:"Gm",value:function Gm(){var _this574=this;var t,_e1111;this.tn.board.undoManager.checkpoint("Duotone highlights color"),this.Lm=!0;var _this$tn$board46=this.tn.board,i=_this$tn$board46.outermostSelectedElements,s=_this$tn$board46.selectedTextRange,_x237=_x(i,s,!0),_x238=_slicedToArray(_x237,2),n=_x238[0],o=_x238[1];this["#highlights-color-select"].addEventListener("change",t=function t(){var _iterator1077=_createForOfIteratorHelper(n),_step1077;try{for(_iterator1077.s();!(_step1077=_iterator1077.n()).done;){var _t1604=_step1077.value;var _e1110=Cx(_t1604),_i1021=_e1110?fx(_e1110):null;_i1021&&"duotone"===_i1021.name&&(_i1021.highlightsColor=_this574["#highlights-color-select"].value,wx(_e1110,_i1021,!0));}}catch(err){_iterator1077.e(err);}finally{_iterator1077.f();}}),this["#highlights-color-select"].addEventListener("changeend",_e1111=function e(){_this574["#highlights-color-select"].removeEventListener("change",t),_this574["#highlights-color-select"].removeEventListener("changeend",_e1111),_this574.Lm=!1;var _iterator1078=_createForOfIteratorHelper(o),_step1078;try{for(_iterator1078.s();!(_step1078=_iterator1078.n()).done;){var _t1605=_step1078.value;mi(_t1605,s);}}catch(err){_iterator1078.e(err);}finally{_iterator1078.f();}});}},{key:"Um",value:function Um(t){var _this575=this;var e,_i1023;this.tn.board.undoManager.checkpoint("Duotone gamma"),this.Bm=!0;var _this$tn$board47=this.tn.board,s=_this$tn$board47.outermostSelectedElements,n=_this$tn$board47.selectedTextRange,_x239=_x(s,n,!0),_x240=_slicedToArray(_x239,2),o=_x240[0],l=_x240[1];this["#gamma-box"].addEventListener("change",e=function e(t){t.target===_this575["#gamma-slider"]?_this575["#gamma-input"].value=_this575["#gamma-slider"].value:t.target===_this575["#gamma-input"]&&(_this575["#gamma-slider"].value=_this575["#gamma-input"].value);var _iterator1079=_createForOfIteratorHelper(o),_step1079;try{for(_iterator1079.s();!(_step1079=_iterator1079.n()).done;){var _t1606=_step1079.value;var _e1112=Cx(_t1606),_i1022=_e1112?fx(_e1112):null;_i1022&&"duotone"===_i1022.name&&(_i1022.gamma=_this575["#gamma-input"].value,wx(_e1112,_i1022,!0));}}catch(err){_iterator1079.e(err);}finally{_iterator1079.f();}}),this["#gamma-box"].addEventListener("changeend",_i1023=function i(){_this575["#gamma-box"].removeEventListener("change",e),_this575["#gamma-box"].removeEventListener("changeend",_i1023),_this575.Bm=!1;var _iterator1080=_createForOfIteratorHelper(l),_step1080;try{for(_iterator1080.s();!(_step1080=_iterator1080.n()).done;){var _t1607=_step1080.value;mi(_t1607,n);}}catch(err){_iterator1080.e(err);}finally{_iterator1080.f();}});}},{key:"Xs",value:function Xs(){if(!this.Im&&!this.Lm&&!this.Bm){var _t1608=this.tn.board,_e1113=_x(_t1608.outermostSelectedElements,_t1608.selectedTextRange).map(function(t){return Cx(t);}).map(function(t){return t?fx(t):null;}),_e1114=_toArray(_e1113),_i1024=_e1114[0],_s527=_e1114.slice(1);if(_i1024&&"duotone"===_i1024.name){var _t1609=!1;var _iterator1081=_createForOfIteratorHelper(_s527),_step1081;try{for(_iterator1081.s();!(_step1081=_iterator1081.n()).done;){var _e1115=_step1081.value;null!==_e1115&&"duotone"===_e1115.name&&_e1115.gamma!==_i1024.gamma&&(_t1609=!0);}}catch(err){_iterator1081.e(err);}finally{_iterator1081.f();}this["#shadows-color-select"].disabled=!1,this["#shadows-color-select"].value=_i1024.shadowsColor,this["#highlights-color-select"].disabled=!1,this["#highlights-color-select"].value=_i1024.highlightsColor,this["#gamma-input"].mixed=_t1609,this["#gamma-input"].disabled=!1,this["#gamma-input"].value=_i1024.gamma,this["#gamma-slider"].disabled=!1,this["#gamma-slider"].value=_i1024.gamma;}else this["#shadows-color-select"].disabled=!0,this["#shadows-color-select"].value="rgb(0,0,0)",this["#highlights-color-select"].disabled=!0,this["#highlights-color-select"].value="rgb(0,0,0)",this["#gamma-input"].mixed=!1,this["#gamma-input"].disabled=!0,this["#gamma-input"].value=0,this["#gamma-slider"].disabled=!0,this["#gamma-slider"].value=0;}}}]);return Yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yx,"_shadowTemplate",Ki(_templateObject325()));_defineProperty(Yx,"_shadowStyleSheet",Qi(_templateObject326()));customElements.define("bx-duotonefilterinspector",Yx);var qx=Number.parseFloat;var Xx=/*#__PURE__*/function(_HTMLElement105){_inherits(Xx,_HTMLElement105);var _super126=_createSuper(Xx);_createClass(Xx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"#filter-settings",get:function get(){return this["#filter-settings-wrapper"].firstElementChild;}}]);function Xx(){var _this576;_classCallCheck(this,Xx);_this576=_super126.call(this),_this576.Za=ts(_this576.Xs,200,_assertThisInitialized(_this576)),_this576.wb=!1,_this576._shadowRoot=_this576.attachShadow({mode:"closed"}),_this576._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Xx._shadowStyleSheet],_this576._shadowRoot.append(document.importNode(Xx._shadowTemplate.content,!0));var _iterator1082=_createForOfIteratorHelper(_this576._shadowRoot.querySelectorAll("[id]")),_step1082;try{for(_iterator1082.s();!(_step1082=_iterator1082.n()).done;){var _t1610=_step1082.value;_this576["#"+_t1610.id]=_t1610;}}catch(err){_iterator1082.e(err);}finally{_iterator1082.f();}_this576["#filter-select"].addEventListener("change",function(){return _this576.Fm();}),_this576["#filter-convert-button"].addEventListener("click",function(){return _this576.Nm();}),_this576["#filter-edit-button"].addEventListener("click",function(){return _this576.jm();}),_this576["#blend-mode-select"].addEventListener("change",function(){return _this576.Vm();}),_this576["#isolation-checkbox"].addEventListener("toggle",function(){return _this576.Hm();}),_this576["#opacity-box"].addEventListener("changestart",function(t){return _this576.vb(t);}),_this576["#clip-button"].addEventListener("toggle",function(){return _this576.Wm();}),_this576["#mask-button"].addEventListener("toggle",function(){return _this576.Ym();});return _this576;}_createClass(Xx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this577=this;var t=this.tn.board;this.Xs(),t.addEventListener("selectedelementschange",this.al=function(){_this577.hl();}),t.addEventListener("selectedtextrangechange",this.ga=function(){_this577.fa();}),t.addEventListener("workspacemutation",this.rn=function(t){_this577.pl(t.detail);});}},{key:"sn",value:function sn(){var t=this.tn.board;this["#filter-select"].enabled=!1,this.qm(null),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("selectedtextrangechange",this.ga),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){this.Za();}},{key:"fa",value:function fa(){this.Za();}},{key:"pl",value:function pl(t){this.Za();}},{key:"Fm",value:function Fm(){var t=this.tn.board;if(this.tn.board.undoManager.checkpoint("Apply filter"),"none"===this["#filter-select"].value){var _iterator1083=_createForOfIteratorHelper(this.Xm()),_step1083;try{for(_iterator1083.s();!(_step1083=_iterator1083.n()).done;){var _t1611=_step1083.value;_t1611.style.filter="none";}}catch(err){_iterator1083.e(err);}finally{_iterator1083.f();}}else if(this["#filter-select"].value.startsWith("#")){var _t1612=this.tn.board.masterWorkspace.querySelector(this["#filter-select"].value),_e1116=this.Xm(),_i1025=this.tn.board.selectedTextRange;var _iterator1084=_createForOfIteratorHelper(_e1116),_step1084;try{for(_iterator1084.s();!(_step1084=_iterator1084.n()).done;){var _s528=_step1084.value;if("text"===_s528.localName&&_i1025&&_s528.contains(_i1025.commonAncestorContainer)){bi(_s528,_i1025);var _e1117=_s528.querySelectorAll("tspan"),_n421=gi(_i1025,_s528),_o329=_i1025.collapsed?_e1117:_n421;var _iterator1085=_createForOfIteratorHelper(_o329),_step1085;try{for(_iterator1085.s();!(_step1085=_iterator1085.n()).done;){var _e1118=_step1085.value;_e1118.style.setProperty("filter","url(#".concat(_t1612.id,")"));}}catch(err){_iterator1085.e(err);}finally{_iterator1085.f();}mi(_s528,_i1025);}else _s528.style.setProperty("filter","url(#".concat(_t1612.id,")")),Op("filter",_s528);}}catch(err){_iterator1084.e(err);}finally{_iterator1084.f();}_e1116.find(function(t){return"image"===t.localName;})&&(_t1612.previousElementSibling?_t1612.previousElementSibling.after(_t1612):_t1612.nextElementSibling?_t1612.nextElementSibling.before(_t1612):_t1612.parentElement.append(_t1612));}else{var _e1119=$i("svg:filter"),_i1026=gx(this["#filter-select"].value),_s529=this.tn.board.selectedTextRange;_e1119.id=t.generateUniqueID("".concat(_i1026.name,"-filter-")),wx(_e1119,_i1026),t.defs.append(_e1119);var _iterator1086=_createForOfIteratorHelper(this.Xm()),_step1086;try{for(_iterator1086.s();!(_step1086=_iterator1086.n()).done;){var _t1613=_step1086.value;if("text"===_t1613.localName&&_s529&&_t1613.contains(_s529.commonAncestorContainer)){bi(_t1613,_s529);var _i1027=_t1613.querySelectorAll("tspan"),_n422=gi(_s529,_t1613),_o330=_s529.collapsed?_i1027:_n422;var _iterator1087=_createForOfIteratorHelper(_o330),_step1087;try{for(_iterator1087.s();!(_step1087=_iterator1087.n()).done;){var _t1614=_step1087.value;_t1614.style.setProperty("filter","url(#".concat(_e1119.id,")"));}}catch(err){_iterator1087.e(err);}finally{_iterator1087.f();}mi(_t1613,_s529);}else _t1613.style.setProperty("filter","url(#".concat(_e1119.id,")")),Op("filter",_t1613);}}catch(err){_iterator1086.e(err);}finally{_iterator1086.f();}}this.tn.board.collectGarbage();}},{key:"Nm",value:function Nm(){var t=this["#filter-select"].value,e=[];var _iterator1088=_createForOfIteratorHelper(this.tn.board.selectedObjectElements),_step1088;try{for(_iterator1088.s();!(_step1088=_iterator1088.n()).done;){var _i1029=_step1088.value;var _s530=Go.fromString(getComputedStyle(_i1029).filter);if(_s530&&"#"===_s530.value[0]){var _i1030=this.tn.board.masterWorkspace.querySelector(_s530.value),_n423=fx(_i1030);_n423&&_n423.name===t&&e.push(_i1030);}}}catch(err){_iterator1088.e(err);}finally{_iterator1088.f();}if(e.length>0){this.tn.board.undoManager.checkpoint("Convert to custom filter");var _iterator1089=_createForOfIteratorHelper(e),_step1089;try{for(_iterator1089.s();!(_step1089=_iterator1089.n()).done;){var _i1028=_step1089.value;{var _e1120=_i1028.querySelector(":scope > title");_e1120||(_e1120=$i("svg:bx-title"),_i1028.prepend(_e1120)),_e1120.textContent=m[t];}_i1028.removeAttribute("data-bx-preset");}}catch(err){_iterator1089.e(err);}finally{_iterator1089.f();}}}},{key:"jm",value:function jm(){this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.editFilter(this["#filter-select"].value.substring(1));}},{key:"Vm",value:function Vm(){this.tn.board.undoManager.checkpoint("Blend mode");var t=this.tn.board.selectedTextRange,e=this["#blend-mode-select"].value;var _iterator1090=_createForOfIteratorHelper(this.Xm()),_step1090;try{for(_iterator1090.s();!(_step1090=_iterator1090.n()).done;){var _i1031=_step1090.value;if("text"===_i1031.localName&&t&&_i1031.contains(t.commonAncestorContainer)){bi(_i1031,t);var _s531=_i1031.querySelectorAll("tspan"),_n424=gi(t,_i1031),_o331=t.collapsed?_s531:_n424;var _iterator1091=_createForOfIteratorHelper(_o331),_step1091;try{for(_iterator1091.s();!(_step1091=_iterator1091.n()).done;){var _t1615=_step1091.value;_t1615.style.setProperty("mix-blend-mode",e);}}catch(err){_iterator1091.e(err);}finally{_iterator1091.f();}mi(_i1031,t);}else _i1031.style.setProperty("mix-blend-mode",e),Op("mix-blend-mode",_i1031);}}catch(err){_iterator1090.e(err);}finally{_iterator1090.f();}}},{key:"Hm",value:function Hm(){this.tn.board.undoManager.checkpoint("Isolate");var t=this.tn.board.selectedTextRange,e=this["#isolation-checkbox"].toggled?"isolate":"auto";var _iterator1092=_createForOfIteratorHelper(this.Xm()),_step1092;try{for(_iterator1092.s();!(_step1092=_iterator1092.n()).done;){var _i1032=_step1092.value;if("text"===_i1032.localName&&t&&_i1032.contains(t.commonAncestorContainer)){bi(_i1032,t);var _s532=_i1032.querySelectorAll("tspan"),_n425=gi(t,_i1032),_o332=t.collapsed?_s532:_n425;var _iterator1093=_createForOfIteratorHelper(_o332),_step1093;try{for(_iterator1093.s();!(_step1093=_iterator1093.n()).done;){var _t1616=_step1093.value;_t1616.style.setProperty("isolation",e);}}catch(err){_iterator1093.e(err);}finally{_iterator1093.f();}mi(_i1032,t);}else _i1032.style.setProperty("isolation",e),Op("isolation",_i1032);}}catch(err){_iterator1092.e(err);}finally{_iterator1092.f();}}},{key:"vb",value:function vb(){var _this578=this;this.tn.board.undoManager.checkpoint("Opacity");var t,_e1121,i=this.Xm(),s=this.tn.board.selectedTextRange,n=[],o=[];var _iterator1094=_createForOfIteratorHelper(i),_step1094;try{for(_iterator1094.s();!(_step1094=_iterator1094.n()).done;){var _t1621=_step1094.value;if("text"===_t1621.localName&&s&&_t1621.contains(s.commonAncestorContainer)){bi(_t1621,s),n.push(_t1621);var _e1122=_t1621.querySelectorAll("tspan"),_i1033=gi(s,_t1621),_l281=s.collapsed?_e1122:_i1033;o.push.apply(o,_toConsumableArray(_l281));}else o.push(_t1621);}}catch(err){_iterator1094.e(err);}finally{_iterator1094.f();}this.wb=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1618){_t1618.target===_this578["#opacity-slider"]?_this578["#opacity-input"].value=_this578["#opacity-slider"].value:_t1618.target===_this578["#opacity-input"]&&(_this578["#opacity-slider"].value=_this578["#opacity-input"].value),_this578["#opacity-slider"].mixed=!1,_this578["#opacity-input"].mixed=!1;var _iterator1095=_createForOfIteratorHelper(o),_step1095;try{for(_iterator1095.s();!(_step1095=_iterator1095.n()).done;){var _t1617=_step1095.value;_t1617.style.setProperty("opacity",_this578["#opacity-slider"].value);}}catch(err){_iterator1095.e(err);}finally{_iterator1095.f();}}),this["#opacity-section"].addEventListener("changeend",_e1121=function e(){_this578["#opacity-section"].removeEventListener("change",t),_this578["#opacity-section"].removeEventListener("changeend",_e1121),_this578.wb=!1;var _iterator1096=_createForOfIteratorHelper(o),_step1096;try{for(_iterator1096.s();!(_step1096=_iterator1096.n()).done;){var _t1619=_step1096.value;Op("opacity",_t1619);}}catch(err){_iterator1096.e(err);}finally{_iterator1096.f();}var _iterator1097=_createForOfIteratorHelper(n),_step1097;try{for(_iterator1097.s();!(_step1097=_iterator1097.n()).done;){var _t1620=_step1097.value;mi(_t1620,s);}}catch(err){_iterator1097.e(err);}finally{_iterator1097.f();}});}},{key:"Wm",value:function Wm(){this["#clip-button"].toggled?this.Js.execCommand("clip"):this.Js.execCommand("unclip");}},{key:"Ym",value:function Ym(){this["#mask-button"].toggled?this.Js.execCommand("mask"):this.Js.execCommand("unmask");}},{key:"qm",value:function qm(t){var e=this["#filter-settings-wrapper"].firstElementChild;if(t!==(e?e.dataset.name:null)){var _e1123="";"drop-shadow"===t?_e1123='<bx-dropshadowfilterinspector data-name="drop-shadow"/>':"inner-shadow"===t?_e1123='<bx-innershadowfilterinspector data-name="inner-shadow"/>':"point-light"===t?_e1123='<bx-pointlightfilterinspector data-name="point-light"/>':"spot-light"===t?_e1123='<bx-spotlightfilterinspector data-name="spot-light"/>':"outline"===t?_e1123='<bx-outlinefilterinspector data-name="outline"/>':"gaussian-blur"===t?_e1123='<bx-gaussianblurfilterinspector data-name="gaussian-blur"/>':"motion-blur"===t?_e1123='<bx-motionblurfilterinspector data-name="motion-blur"/>':"warp"===t?_e1123='<bx-warpfilterinspector data-name="warp"/>':"pixelete"===t?_e1123='<bx-pixeletefilterinspector data-name="pixelete"/>':"sharpen"===t?_e1123='<bx-sharpenfilterinspector data-name="sharpen"/>':"morphology"===t?_e1123='<bx-morphologyfilterinspector data-name="morphology"/>':"black-and-white"===t?_e1123='<bx-blackandwhitefilterinspector data-name="black-and-white"/>':"grayscale"===t?_e1123='<bx-grayscalefilterinspector data-name="grayscale"/>':"sepia"===t?_e1123='<bx-sepiafilterinspector data-name="sepia"/>':"saturate"===t?_e1123='<bx-saturatefilterinspector data-name="saturate"/>':"hue-rotate"===t?_e1123='<bx-huerotatefilterinspector data-name="hue-rotate"/>':"invert"===t?_e1123='<bx-invertfilterinspector data-name="invert"/>':"brightness"===t?_e1123='<bx-brightnessfilterinspector data-name="brightness"/>':"contrast"===t?_e1123='<bx-contrastfilterinspector data-name="contrast"/>':"posterize"===t?_e1123='<bx-posterizefilterinspector data-name="posterize"/>':"duotone"===t?_e1123='<bx-duotonefilterinspector data-name="duotone"/>':"x-ray"===t&&(_e1123=""),this["#filter-settings-wrapper"].innerHTML=_e1123;}}},{key:"Xm",value:function Xm(){var t=[];var _iterator1098=_createForOfIteratorHelper(this.tn.board.outermostSelectedElements),_step1098;try{for(_iterator1098.s();!(_step1098=_iterator1098.n()).done;){var _e1124=_step1098.value;E.includes(_e1124.localName)&&t.push(_e1124);}}catch(err){_iterator1098.e(err);}finally{_iterator1098.f();}return t;}},{key:"Xs",value:function Xs(){var t=[],e=Symbol();var _iterator1099=_createForOfIteratorHelper(this.Xm()),_step1099;try{for(_iterator1099.s();!(_step1099=_iterator1099.n()).done;){var _e1128=_step1099.value;if("text"===_e1128.localName){var _i1041=this.tn.board.selectedTextRange;if(_i1041&&_i1041.intersectsNode(_e1128)){var _s538=wi(_e1128);"backward"===_i1041.direction&&_s538.reverse();var _iterator1103=_createForOfIteratorHelper(_s538),_step1103;try{for(_iterator1103.s();!(_step1103=_iterator1103.n()).done;){var _e1129=_step1103.value;_i1041.intersectsNode(_e1129)&&(t.includes(_e1129.parentElement)||t.push(_e1129.parentElement));}}catch(err){_iterator1103.e(err);}finally{_iterator1103.f();}}else t.push(_e1128);}else t.push(_e1128);}}catch(err){_iterator1099.e(err);}finally{_iterator1099.f();}for(var _i1034=0,_t1622=t;_i1034<_t1622.length;_i1034++){var _i1035=_t1622[_i1034];_i1035[e]=getComputedStyle(_i1035);}if(this["#panel-heading"].disabled=0===t.length,0===t.length)this["#filter-section-heading"].disabled=!0,this["#filter-select"].value="none",this["#filter-select"].enabled=!1,this["#filter-select"].mixed=!1,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this["#filter-settings-wrapper"].innerHTML="";else{var _e1125=t.map(function(t){return Cx(t);}),_e1126=_toArray(_e1125),_i1036=_e1126[0],_s533=_e1126.slice(1),_e1125$map=_e1125.map(function(t){return t?fx(t):null;}),_e1125$map2=_toArray(_e1125$map),_n426=_e1125$map2[0],_o333=_e1125$map2.slice(1),_l282=!1;!!_i1036&&getComputedStyle(_i1036).display;var _iterator1100=_createForOfIteratorHelper(_o333),_step1100;try{for(_iterator1100.s();!(_step1100=_iterator1100.n()).done;){var _t1623=_step1100.value;if(null===_n426){if(null!==_t1623){_l282=!0;break;}}else if(null===_t1623||_t1623.name!==_n426.name){_l282=!0;break;}}}catch(err){_iterator1100.e(err);}finally{_iterator1100.f();}_n426?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value=_n426.name,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l282,this["#filter-convert-button"].hidden=!1,this["#filter-edit-button"].hidden=!0,this.qm(_n426.name)):_i1036?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="#"+_i1036.id,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l282,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!1,this.qm(null)):(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="none",this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l282,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this.qm(null));}{var _i1037=t[0],_s534=t.slice(1);if(_i1037){var _t1624=_i1037[e],_n427=_t1624.getPropertyValue("mix-blend-mode"),_o334=_t1624.getPropertyValue("isolation"),_l283=!1,_a211=!1;var _iterator1101=_createForOfIteratorHelper(_s534),_step1101;try{for(_iterator1101.s();!(_step1101=_iterator1101.n()).done;){var _t1625=_step1101.value;var _i1038=_t1625[e],_s535=_i1038.getPropertyValue("mix-blend-mode"),_h171=_i1038.getPropertyValue("isolation");_s535!==_n427&&(_l283=!0),_h171!==_o334&&(_a211=!0);}}catch(err){_iterator1101.e(err);}finally{_iterator1101.f();}this["#blend-mode-section-heading"].disabled=!1,this["#blend-mode-select"].value=_i1037[e].getPropertyValue("mix-blend-mode"),this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=_l283,this["#isolation-checkbox"].toggled="isolate"===_o334,this["#isolation-checkbox"].disabled=!1,this["#isolation-checkbox"].mixed=_a211,this["#isolation-label"].disabled=!1;}else this["#blend-mode-section-heading"].disabled=!0,this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,this["#blend-mode-select"].mixed=!1,this["#isolation-checkbox"].disabled=!0,this["#isolation-checkbox"].toggled=!1,this["#isolation-checkbox"].mixed=!1,this["#isolation-label"].disabled=!0;}if(!1===this.wb){var _i1039=t[0],_s536=t.slice(1),_n428=_i1039?J(qx(_i1039[e].opacity),2):1,_o335=!1;var _iterator1102=_createForOfIteratorHelper(_s536),_step1102;try{for(_iterator1102.s();!(_step1102=_iterator1102.n()).done;){var _t1626=_step1102.value;(_t1626?J(qx(_t1626[e].opacity),2):1)!==_n428&&(_o335=!0);}}catch(err){_iterator1102.e(err);}finally{_iterator1102.f();}_i1039?(this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].value=_n428,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].mixed=_o335,this["#opacity-input"].value=_n428,this["#opacity-input"].disabled=!1,this["#opacity-input"].mixed=_o335):(this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1,this["#opacity-input"].value=1,this["#opacity-input"].disabled=!0,this["#opacity-input"].mixed=!1);}{var _t1627=this.Js.isCommandEnabled("clip"),_e1127=this.Js.isCommandEnabled("unclip"),_i1040=this.Js.isCommandEnabled("mask"),_s537=this.Js.isCommandEnabled("unmask");this["#clip-button"].toggled=!0===_e1127,this["#clip-button"].disabled=!1===_t1627&&!1===_e1127,this["#mask-button"].toggled=!0===_s537,this["#mask-button"].disabled=!1===_i1040&&!1===_s537,this["#cover-section-heading"].disabled=this["#clip-button"].disabled&&this["#mask-button"].disabled;}}}]);return Xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xx,"observedAttributes",["enabled"]);_defineProperty(Xx,"_shadowTemplate",Ki(_templateObject327()));_defineProperty(Xx,"_shadowStyleSheet",Qi(_templateObject328()));customElements.define("bx-compositingpanel",Xx);var Zx=new(/*#__PURE__*/function(){function _class4(){_classCallCheck(this,_class4);this.jo=new Dexie("LocalFontsManager"),this.jo.version(1).stores({cache:"family"});}_createClass(_class4,[{key:"search",value:function search(){var _this579=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"all";return new Promise(/*#__PURE__*/function(){var _ref163=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee123(i){var s,n;return regeneratorRuntime.wrap(function _callee123$(_context124){while(1){switch(_context124.prev=_context124.next){case 0:s=[],n=_this579.jo.cache;""!==t.trim()&&(n=n.filter(function(e){return e.family.toLowerCase().includes(t.trim().toLowerCase());}));_context124.next=4;return n.toArray();case 4:s=_context124.sent;"all"!==e&&(s=s.slice(40*e,40*(e+1)));i(s);case 7:case"end":return _context124.stop();}}},_callee123);}));return function(_x241){return _ref163.apply(this,arguments);};}());}},{key:"refresh",value:function refresh(){var _this580=this;return new Promise(/*#__PURE__*/function(){var _ref164=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee124(t,e){var i,s,_iterator1104,_step1104,_loop29,_i1042,_s539,_t1628;return regeneratorRuntime.wrap(function _callee124$(_context125){while(1){switch(_context125.prev=_context125.next){case 0:_context125.prev=0;_context125.next=3;return app.getLocalFontsMetadata(!0);case 3:i=_context125.sent;_context125.next=9;break;case 6:_context125.prev=6;_context125.t0=_context125["catch"](0);return _context125.abrupt("return",e(_context125.t0));case 9:s=[];_iterator1104=_createForOfIteratorHelper(i);try{_loop29=function _loop29(){var t=_step1104.value;var e=s.find(function(e){return e.family===t.family;});if(e){var _i1043=t.weight+(t.italic?"i":"");!1===e.faces.includes(_i1043)&&e.faces.push(_i1043);}else{var _e1130={family:t.family,faces:[t.weight+(t.italic?"i":"")]};s.push(_e1130);}};for(_iterator1104.s();!(_step1104=_iterator1104.n()).done;){_loop29();}}catch(err){_iterator1104.e(err);}finally{_iterator1104.f();}for(_i1042=0,_s539=s;_i1042<_s539.length;_i1042++){_t1628=_s539[_i1042];_t1628.faces.sort();}_context125.next=15;return _this580.jo.cache.clear();case 15:_context125.next=17;return _this580.jo.cache.bulkPut(s);case 17:t();case 18:case"end":return _context125.stop();}}},_callee124,null,[[0,6]]);}));return function(_x242,_x243){return _ref164.apply(this,arguments);};}());}},{key:"getCacheSize",value:function getCacheSize(){var _this581=this;return new Promise(/*#__PURE__*/function(){var _ref165=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee125(t){return regeneratorRuntime.wrap(function _callee125$(_context126){while(1){switch(_context126.prev=_context126.next){case 0:_context126.t0=t;_context126.next=3;return _this581.jo.cache.count();case 3:_context126.t1=_context126.sent;(0,_context126.t0)(_context126.t1);case 5:case"end":return _context126.stop();}}},_callee125);}));return function(_x244){return _ref165.apply(this,arguments);};}());}},{key:"getFamilyDescriptor",value:function getFamilyDescriptor(t){var _this582=this;return new Promise(/*#__PURE__*/function(){var _ref166=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee126(e){return regeneratorRuntime.wrap(function _callee126$(_context127){while(1){switch(_context127.prev=_context127.next){case 0:_context127.t0=e;_context127.next=3;return _this582.jo.cache.where("family").equals(t).toArray();case 3:_context127.t1=_context127.sent[0];if(_context127.t1){_context127.next=6;break;}_context127.t1=null;case 6:_context127.t2=_context127.t1;(0,_context127.t0)(_context127.t2);case 8:case"end":return _context127.stop();}}},_callee126);}));return function(_x245){return _ref166.apply(this,arguments);};}());}},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref167=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee127(e){var i,s,n,o,_iterator1105,_step1105,_loop30,_i1044;return regeneratorRuntime.wrap(function _callee127$(_context129){while(1){switch(_context129.prev=_context129.next){case 0:_context129.next=2;return app.getLocalFontsMetadata();case 2:i=_context129.sent;bi(t);s=Ht(t),n=document.createDocumentFragment(),o=t.querySelectorAll("tspan");_iterator1105=_createForOfIteratorHelper(o);_context129.prev=6;_loop30=/*#__PURE__*/regeneratorRuntime.mark(function _loop30(){var e,o,l,a,h,r,d,c,_i1045,_o336,_i1046,_l284,_p57,_u50,_iterator1106,_step1106,_e1131,_iterator1107,_step1107,_t1629;return regeneratorRuntime.wrap(function _loop30$(_context128){while(1){switch(_context128.prev=_context128.next){case 0:e=_step1105.value;o=getComputedStyle(e),l=Lh.fromString(o.fontFamily).items[0],a=parseFloat(o.getPropertyValue("font-size")),h=Rh(o.getPropertyValue("font-weight")),r=o.getPropertyValue("font-style"),d=o.getPropertyValue("text-decoration"),c=Nh(i,l,h,r);if(!c){_context128.next=10;break;}_context128.next=5;return c.blob();case 5:_i1045=_context128.sent;_context128.next=8;return _i1045.arrayBuffer();case 8:_o336=_context128.sent;if(_o336){_i1046=fontkit.create(_o336);_i1046.fonts&&(_i1046=_i1046.fonts.find(function(t){return t.postscriptName===c.postscriptName;})||_i1046.fonts[0]);"700"===h&&c.weight;_l284=("italic"===r||"oblique"===r)&&!1===c.italic,_p57=zi(e,_i1046,a,d,0,_l284),_u50=$i("svg:path");_u50.setPathData(_p57),_u50.setAttribute("transform",s.toString());_iterator1106=_createForOfIteratorHelper(t.style);try{for(_iterator1106.s();!(_step1106=_iterator1106.n()).done;){_e1131=_step1106.value;!1===L.includes(_e1131)&&_u50.style.setProperty(_e1131,t.style.getPropertyValue(_e1131));}}catch(err){_iterator1106.e(err);}finally{_iterator1106.f();}_iterator1107=_createForOfIteratorHelper(e.style);try{for(_iterator1107.s();!(_step1107=_iterator1107.n()).done;){_t1629=_step1107.value;!1===L.includes(_t1629)&&_u50.style.setProperty(_t1629,e.style.getPropertyValue(_t1629));}}catch(err){_iterator1107.e(err);}finally{_iterator1107.f();}n.append(_u50);}case 10:case"end":return _context128.stop();}}},_loop30);});_iterator1105.s();case 9:if((_step1105=_iterator1105.n()).done){_context129.next=13;break;}return _context129.delegateYield(_loop30(),"t0",11);case 11:_context129.next=9;break;case 13:_context129.next=18;break;case 15:_context129.prev=15;_context129.t1=_context129["catch"](6);_iterator1105.e(_context129.t1);case 18:_context129.prev=18;_iterator1105.f();return _context129.finish(18);case 21:if(n.children.length>0){_i1044=_toConsumableArray(n.children);t.replaceWith(n),e(_i1044);}else e(null);case 22:case"end":return _context129.stop();}}},_callee127,null,[[6,15,18,21]]);}));return function(_x246){return _ref167.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){return new Promise(/*#__PURE__*/function(){var _ref168=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee128(e,i){var s,n,_i1047,_n429,_o337,_iterator1108,_step1108,_e1133,_i1048,_o338,_t1630,_e1132,_s540;return regeneratorRuntime.wrap(function _callee128$(_context130){while(1){switch(_context130.prev=_context130.next){case 0:_context130.prev=0;_context130.next=3;return app.getLocalFontsMetadata();case 3:s=_context130.sent;_context130.next=9;break;case 6:_context130.prev=6;_context130.t0=_context130["catch"](0);n=_context130.t0;case 9:if(!n){_context130.next=13;break;}i(n);_context130.next=27;break;case 13:_i1047=!0,_n429=s.map(function(t){return t.family;}),_o337=[];_iterator1108=_createForOfIteratorHelper(wi(t));try{for(_iterator1108.s();!(_step1108=_iterator1108.n()).done;){_e1133=_step1108.value;_o337.includes(_e1133.parentElement)||_o337.push(_e1133.parentElement);}}catch(err){_iterator1108.e(err);}finally{_iterator1108.f();}_i1048=0,_o338=_o337;case 17:if(!(_i1048<_o338.length)){_context130.next=26;break;}_t1630=_o338[_i1048];_e1132=getComputedStyle(_t1630),_s540=Lh.fromString(_e1132.fontFamily).items[0];if(!(!1===_n429.includes(_s540))){_context130.next=23;break;}_i1047=!1;return _context130.abrupt("break",26);case 23:_i1048++;_context130.next=17;break;case 26:e(_i1047);case 27:case"end":return _context130.stop();}}},_callee128,null,[[0,6]]);}));return function(_x247,_x248){return _ref168.apply(this,arguments);};}());}}]);return _class4;}())();var Kx,Qx=function Qx(){return void 0===Kx&&(Kx=!0===navigator.platform.startsWith("Mac")?"macos":-1!==["iPhone","iPad","iPod"].indexOf(navigator.platform)?"ios":-1!==["Win32","Win64","Windows","WinCE"].indexOf(navigator.platform)?"windows":/CrOS/.test(navigator.userAgent)?"chromeos":/Android/.test(navigator.userAgent)?"android":/Linux/.test(navigator.platform)?"linux":null),Kx;};var Jx=/*#__PURE__*/function(_HTMLElement106){_inherits(Jx,_HTMLElement106);var _super127=_createSuper(Jx);_createClass(Jx,[{key:"value",get:function get(){return this._t;},set:function set(t){t!==this._t&&(this._t=t,this.Zm());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Jx(){var _this583;_classCallCheck(this,Jx);_this583=_super127.call(this),_this583.tabIndex=0,_this583._t=null,_this583.kb=es(_this583.Sb,600,_assertThisInitialized(_this583)),_this583.Km=es(_this583.Km,600,_assertThisInitialized(_this583)),_this583._shadowRoot=_this583.attachShadow({mode:"closed"}),_this583._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Jx._shadowStyleSheet],_this583._shadowRoot.append(document.importNode(Jx._shadowTemplate.content,!0));var _iterator1109=_createForOfIteratorHelper(_this583._shadowRoot.querySelectorAll("[id]")),_step1109;try{for(_iterator1109.s();!(_step1109=_iterator1109.n()).done;){var _t1631=_step1109.value;_this583["#"+_t1631.id]=_t1631;}}catch(err){_iterator1109.e(err);}finally{_iterator1109.f();}_this583.addEventListener("keydown",function(t){return _this583.Tn(t);}),_this583["#provider-buttons"].addEventListener("toggle",function(){return _this583.Qm();}),_this583["#main"].addEventListener("pointerdown",function(t){return _this583.Jm(t);}),_this583["#placeholder"].addEventListener("pointerdown",function(t){return _this583.tg(t);}),_this583["#placeholder"].addEventListener("click",function(t){return _this583.eg(t);}),_this583["#filter-input"].addEventListener("input",function(){return _this583.Km();}),_this583["#manage-button"].addEventListener("click",function(){return _this583.Ju();});return _this583;}_createClass(Jx,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"en",value:function(){var _en2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee129(){return regeneratorRuntime.wrap(function _callee129$(_context131){while(1){switch(_context131.prev=_context131.next){case 0:this["#provider-buttons"].value="defs",this.Zm();case 1:case"end":return _context131.stop();}}},_callee129,this);}));function en(){return _en2.apply(this,arguments);}return en;}()},{key:"sn",value:function sn(){this["#filter-input"].value="",this["#defs-items"].innerHTML="",this["#local-items"].innerHTML="";}},{key:"Qm",value:function Qm(){this.Zm(this["#provider-buttons"].value);}},{key:"Jm",value:function Jm(t){t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var e=t.target.closest(".item").getAttribute("data-family");e!==this.value&&(this.value=e,this.dispatchEvent(new CustomEvent("change")));}},{key:"tg",value:function tg(t){"refresh-anchor"===t.target.id&&t.preventDefault();}},{key:"eg",value:function(){var _eg=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee130(t){return regeneratorRuntime.wrap(function _callee130$(_context132){while(1){switch(_context132.prev=_context132.next){case 0:if(!("refresh-anchor"===t.target.id)){_context132.next=18;break;}t.preventDefault();_context132.prev=2;_context132.next=5;return Zx.refresh();case 5:_context132.next=17;break;case 7:_context132.prev=7;_context132.t0=_context132["catch"](2);if(!("AbortError"===_context132.t0.name)){_context132.next=13;break;}_context132.t1=void 0;_context132.next=16;break;case 13:_context132.next=15;return this.Js.openMessageDialog({message:"Failed to refresh local fonts list",detail:"".concat(_context132.t0.message," (").concat(_context132.t0.name,")"),buttons:["OK"]});case 15:_context132.t1=void _context132.sent;case 16:return _context132.abrupt("return",_context132.t1);case 17:this.Zm(this["#provider-buttons"].value);case 18:case"end":return _context132.stop();}}},_callee130,this,[[2,7]]);}));function eg(_x249){return _eg.apply(this,arguments);}return eg;}()},{key:"Km",value:function Km(){this.Zm(this["#provider-buttons"].value);}},{key:"Ju",value:function Ju(){this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("fonts-browser");}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx());}},{key:"xx",value:function xx(){var t=this._shadowRoot.querySelector(".items:not([hidden]) .item[data-selected]");if(t)for(var _e1134=t.previousElementSibling;_e1134;_e1134=_e1134.previousElementSibling){if(!1===_e1134.hasAttribute("data-disabled")){_e1134.scrollIntoViewIfNeeded(),this.value=_e1134.getAttribute("data-family"),this.kb();break;}}}},{key:"mx",value:function mx(){var t=this._shadowRoot.querySelector(".items:not([hidden]) .item[data-selected]");if(t)for(var _e1135=t.nextElementSibling;_e1135;_e1135=_e1135.nextElementSibling){if(!1===_e1135.hasAttribute("data-disabled")){_e1135.scrollIntoViewIfNeeded(),this.value=_e1135.getAttribute("data-family"),this.kb();break;}}}},{key:"Ku",value:function Ku(){var t=this["#main"].querySelector(":scope > .items:not([hidden])"),e=t.querySelector(".item[data-selected]");t.scrollTop=0,e&&e.scrollIntoViewIfNeeded();}},{key:"Sb",value:function Sb(){this.dispatchEvent(new CustomEvent("change"));}},{key:"Zm",value:function Zm(){var _this584=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"auto";return new Promise(/*#__PURE__*/function(){var _ref169=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee131(e){var i,s,n,o,l,_this584$DefsItems$,_t1632,_e1136,_iterator1110,_step1110,_step1110$value,_i1049,_o339,_e1137,_t1633,_this584$LocalItems,_t1634,_e1138,_iterator1111,_step1111,_o340,_e1139,_l285,_a212;return regeneratorRuntime.wrap(function _callee131$(_context133){while(1){switch(_context133.prev=_context133.next){case 0:_context133.next=2;return _this584.tn.board.defsFontsManager.search();case 2:i=_context133.sent.map(function(t){return t.family;});s=_this584.value;n=i.includes(s)?"defs":"local";o="auto"===t?n:t;l=_this584["#filter-input"].value.trim().toLowerCase();if(!("defs"===o)){_context133.next=18;break;}_this584["#provider-buttons"].value="defs",_this584["#local-items"].hidden=!0,_this584["#placeholder"].hidden=!0,_this584["#manage-button"].hidden=!1;_t1632=document.createDocumentFragment();_context133.next=12;return _this584.tn.board.defsFontsManager.search(l);case 12:_e1136=_context133.sent;_iterator1110=_createForOfIteratorHelper(_e1136);try{for(_iterator1110.s();!(_step1110=_iterator1110.n()).done;){_step1110$value=_step1110.value,_i1049=_step1110$value.family,_o339=_step1110$value.embedded;_e1137=Ki(_templateObject32(),_i1049,_i1049,_i1049);_i1049===s&&"defs"===n&&_e1137.setAttribute("data-selected",""),_t1632.append(_e1137);}}catch(err){_iterator1110.e(err);}finally{_iterator1110.f();}_this584["#defs-items"].innerHTML="",_this584["#defs-items"].append(_t1632),_this584["#defs-items"].hidden=0===_this584["#defs-items"].childElementCount,(_this584$DefsItems$=_this584["#defs-items"].querySelector(".item[data-selected]"))!==null&&_this584$DefsItems$!==void 0&&_this584$DefsItems$.scrollIntoViewIfNeeded(),0===_this584["#defs-items"].childElementCount?(_this584["#placeholder"].textContent="No families found.",_this584["#placeholder"].hidden=!1):_this584["#placeholder"].hidden=!0;_context133.next=42;break;case 18:if(!("local"===o)){_context133.next=42;break;}_this584["#provider-buttons"].value="local",_this584["#defs-items"].hidden=!0,_this584["#local-items"].hidden=!1,_this584["#placeholder"].hidden=!0,_this584["#manage-button"].hidden=!0;_context133.next=22;return Zx.getCacheSize();case 22:_t1633=_context133.sent;if(!("bx-webapp"===_this584.Js.localName)){_context133.next=30;break;}if(!(!1===_this584.Js.isLocalFontsApiEnabled)){_context133.next=26;break;}return _context133.abrupt("return",(_this584["#local-items"].innerHTML="",_this584["#local-items"].hidden=!0,_this584["#placeholder"].hidden=!1,_this584["#placeholder"].innerHTML='Please enable Local Font Access API. <a href="https://boxy-svg.com/blog/15" target="_blank">Click here</a> for more details.',e()));case 26:if(!(0===_t1633)){_context133.next=28;break;}return _context133.abrupt("return",(_this584["#local-items"].innerHTML="",_this584["#local-items"].hidden=!0,_this584["#placeholder"].hidden=!1,_this584["#placeholder"].innerHTML='<a id="refresh-anchor" href="">Click here</a> to give Boxy SVG permission to use your local fonts.',e()));case 28:_context133.next=34;break;case 30:_context133.t0=0===_t1633;if(!_context133.t0){_context133.next=34;break;}_context133.next=34;return Zx.refresh();case 34:_t1634=document.createDocumentFragment();_context133.next=37;return Zx.search(l);case 37:_e1138=_context133.sent;_iterator1111=_createForOfIteratorHelper(_e1138);try{for(_iterator1111.s();!(_step1111=_iterator1111.n()).done;){_o340=_step1111.value.family;_e1139=_o340.startsWith("STIX")?"STIXGeneral":_o340,_l285=i.includes(_o340),_a212=Ki(_templateObject33(),_o340,_l285?"data-disabled":"",_e1139,_o340);_o340===s&&"local"===n&&_a212.setAttribute("data-selected",""),_t1634.append(_a212);}}catch(err){_iterator1111.e(err);}finally{_iterator1111.f();}_this584["#local-items"].innerHTML="",_this584["#local-items"].append(_t1634),_this584["#local-items"].hidden=0===_this584["#local-items"].childElementCount,(_this584$LocalItems=_this584["#local-items"].querySelector(".item[data-selected]"))===null||_this584$LocalItems===void 0?void 0:_this584$LocalItems.scrollIntoViewIfNeeded();0===_this584["#local-items"].childElementCount?(_this584["#placeholder"].textContent="No families found.",_this584["#placeholder"].hidden=!1):_this584["#placeholder"].hidden=!0;case 42:e();case 43:case"end":return _context133.stop();}}},_callee131);}));return function(_x250){return _ref169.apply(this,arguments);};}());}}]);return Jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jx,"observedAttributes",["enabled"]);_defineProperty(Jx,"_shadowTemplate",Ki(_templateObject329(),Qx()));_defineProperty(Jx,"_shadowStyleSheet",Qi(_templateObject330()));customElements.define("bx-fontfamilypicker",Jx);var tb=Math.abs,eb=Number.parseFloat;var ib=/*#__PURE__*/function(_HTMLElement107){_inherits(ib,_HTMLElement107);var _super128=_createSuper(ib);_createClass(ib,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ib(){var _this585;_classCallCheck(this,ib);_this585=_super128.call(this),_this585.Za=ts(_this585.Xs,200,_assertThisInitialized(_this585)),_this585.sg=!1,_this585.ng=!1,_this585.og=!1,_this585.lg=!1,_this585.ag=!1,_this585.hg=!1,_this585._shadowRoot=_this585.attachShadow({mode:"closed"}),_this585._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,ib._shadowStyleSheet],_this585._shadowRoot.append(document.importNode(ib._shadowTemplate.content,!0));var _iterator1112=_createForOfIteratorHelper(_this585._shadowRoot.querySelectorAll("[id]")),_step1112;try{for(_iterator1112.s();!(_step1112=_iterator1112.n()).done;){var _t1635=_step1112.value;_this585["#"+_t1635.id]=_t1635;}}catch(err){_iterator1112.e(err);}finally{_iterator1112.f();}_this585["#font-family-popover"].addEventListener("open",function(){return _this585.rg();}),_this585["#font-family-popover"].addEventListener("close",function(){return _this585.dg();}),_this585["#font-family-picker"].addEventListener("change",function(){return _this585.cg();}),_this585["#font-weight-select"].addEventListener("change",function(){return _this585.pg();}),_this585["#font-style-button"].addEventListener("toggle",function(){return _this585.ug();}),_this585["#font-size-box"].addEventListener("changestart",function(){return _this585.xg();}),_this585["#text-decoration-buttons"].addEventListener("toggle",function(t){return _this585.bg(t);}),_this585["#text-transform-buttons"].addEventListener("toggle",function(t){return _this585.mg(t);}),_this585["#text-anchor-buttons"].addEventListener("toggle",function(){return _this585.gg();}),_this585["#text-on-path-button"].addEventListener("click",function(){return _this585.fg();}),_this585["#path-start-offset-slider"].addEventListener("changestart",function(){return _this585.wg();}),_this585["#path-start-offset-input"].addEventListener("changestart",function(){return _this585.wg();}),_this585["#letter-spacing-slider"].addEventListener("changestart",function(){return _this585.vg();}),_this585["#letter-spacing-input"].addEventListener("changestart",function(){return _this585.vg();}),_this585["#word-spacing-slider"].addEventListener("changestart",function(){return _this585.yg();}),_this585["#word-spacing-input"].addEventListener("changestart",function(){return _this585.yg();}),_this585["#line-spacing-slider"].addEventListener("changestart",function(){return _this585.kg();}),_this585["#line-spacing-input"].addEventListener("changestart",function(){return _this585.kg();});return _this585;}_createClass(ib,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.ix=Ri(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this586=this;this.Xs();var t=this.tn.board;this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px",this.tn.board.undoManager.addEventListener("undoorredo",this.Sg=function(){_this586.Gc();}),t.addEventListener("selectedelementschange",this.al=function(){_this586.hl();}),t.addEventListener("selectedtextrangechange",this.ga=function(){_this586.fa();}),t.addEventListener("workspacemutation",this.rn=function(t){_this586.pl(t.detail);}),this.ix.addEventListener("resize",this.sx=function(){_this586.nx();});}},{key:"sn",value:function sn(){var t=this.tn.board;this["#font-family-button"].collapse(),this.tn.board.undoManager.removeEventListener("undoorredo",this.Sg),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("selectedtextrangechange",this.ga),t.removeEventListener("workspacemutation",this.rn),this.ix.removeEventListener("resize",this.sx);}},{key:"Gc",value:function Gc(){this["#font-family-button"].collapse();}},{key:"hl",value:function hl(){this.Za();}},{key:"fa",value:function fa(){this.Za();}},{key:"pl",value:function pl(t){this.Za();}},{key:"nx",value:function nx(){this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px";}},{key:"rg",value:function(){var _rg=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee132(){return regeneratorRuntime.wrap(function _callee132$(_context134){while(1){switch(_context134.prev=_context134.next){case 0:this["#font-family-picker"].enabled=!0;_context134.next=3;return ss(10);case 3:this["#font-family-picker"].focus();case 4:case"end":return _context134.stop();}}},_callee132,this);}));function rg(){return _rg.apply(this,arguments);}return rg;}()},{key:"dg",value:function(){var _dg=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee133(){return regeneratorRuntime.wrap(function _callee133$(_context135){while(1){switch(_context135.prev=_context135.next){case 0:this["#font-family-picker"].enabled=!1;_context135.next=3;return ss(200);case 3:this.tn.board.collectGarbage();case 4:case"end":return _context135.stop();}}},_callee133,this);}));function dg(){return _dg.apply(this,arguments);}return dg;}()},{key:"cg",value:function(){var _cg=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee134(){var t,_e1140,i,_iterator1113,_step1113,_s541,_e1141,n,_o341,_iterator1114,_step1114,_e1142;return regeneratorRuntime.wrap(function _callee134$(_context136){while(1){switch(_context136.prev=_context136.next){case 0:this.tn.board;t=this["#font-family-picker"].value;this.sg=!0,this.tn.board.undoManager.checkpoint("Font family");_e1140=this.Vd(),i=this.tn.board.selectedTextRange;_iterator1113=_createForOfIteratorHelper(_e1140);try{for(_iterator1113.s();!(_step1113=_iterator1113.n()).done;){_s541=_step1113.value;bi(_s541,i);_e1141=_s541.querySelectorAll("tspan"),n=gi(i,_s541),_o341=n.length>0&&!i.collapsed?n:_e1141;_iterator1114=_createForOfIteratorHelper(_o341);try{for(_iterator1114.s();!(_step1114=_iterator1114.n()).done;){_e1142=_step1114.value;_e1142.style.fontFamily="\"".concat(t,"\"");}}catch(err){_iterator1114.e(err);}finally{_iterator1114.f();}mi(_s541,i);}}catch(err){_iterator1113.e(err);}finally{_iterator1113.f();}this.sg=!1,this.Cg();case 7:case"end":return _context136.stop();}}},_callee134,this);}));function cg(){return _cg.apply(this,arguments);}return cg;}()},{key:"pg",value:function pg(){this.tn.board.undoManager.checkpoint("Font weight");var t=this.Vd(),e=this["#font-weight-select"].value,i=this.tn.board.selectedTextRange;var _iterator1115=_createForOfIteratorHelper(t),_step1115;try{for(_iterator1115.s();!(_step1115=_iterator1115.n()).done;){var _s542=_step1115.value;bi(_s542,i);var _t1636=_s542.querySelectorAll("tspan"),n=gi(i,_s542),_o342=n.length>0&&!i.collapsed?n:_t1636;var _iterator1116=_createForOfIteratorHelper(_o342),_step1116;try{for(_iterator1116.s();!(_step1116=_iterator1116.n()).done;){var _t1637=_step1116.value;_t1637.style.setProperty("font-weight",e);}}catch(err){_iterator1116.e(err);}finally{_iterator1116.f();}mi(_s542,i);}}catch(err){_iterator1115.e(err);}finally{_iterator1115.f();}}},{key:"ug",value:function ug(){this.Js.execCommand("italic");}},{key:"xg",value:function xg(){var _this587=this;this.tn.board.undoManager.checkpoint("Font size");var t,_e1144,i=Symbol(),s=Symbol(),n=this.Vd(),o=this.tn.board.selectedTextRange;var _iterator1117=_createForOfIteratorHelper(n),_step1117;try{for(_iterator1117.s();!(_step1117=_iterator1117.n()).done;){var _t1642=_step1117.value;bi(_t1642,o);var _e1145=_t1642.querySelectorAll("tspan"),_n431=gi(o,_t1642),_l286=_n431.length>0&&!o.collapsed?_n431:_e1145;_t1642[i]=_l286,_t1642[s]=Vl(Wt(_t1642,this.tn.board.currentWorkspace).inverse()).scaleY;}}catch(err){_iterator1117.e(err);}finally{_iterator1117.f();}this.ng=!0,this["#font-size-box"].addEventListener("change",t=function t(_t1640){_t1640.target===_this587["#font-size-slider"]?_this587["#font-size-input"].value=_this587["#font-size-slider"].value:_t1640.target===_this587["#font-size-input"]&&(_this587["#font-size-slider"].value=_this587["#font-size-input"].value),_this587["#font-size-input"].mixed=!1,_this587["#font-size-slider"].mixed=!1;var _iterator1118=_createForOfIteratorHelper(n),_step1118;try{for(_iterator1118.s();!(_step1118=_iterator1118.n()).done;){var _t1638=_step1118.value;var _e1143=_t1638[i],_n430=_t1638[s],_o343=_this587["#font-size-input"].value*_n430;if(_e1143.length>0){var _iterator1119=_createForOfIteratorHelper(_e1143),_step1119;try{for(_iterator1119.s();!(_step1119=_iterator1119.n()).done;){var _t1639=_step1119.value;_t1639.style.setProperty("font-size",_o343);}}catch(err){_iterator1119.e(err);}finally{_iterator1119.f();}}else _t1638.style.setProperty("font-size",_o343);}}catch(err){_iterator1118.e(err);}finally{_iterator1118.f();}}),this["#font-size-box"].addEventListener("changeend",_e1144=function e(){_this587["#font-size-box"].removeEventListener("change",t),_this587["#font-size-box"].removeEventListener("changeend",_e1144);var _iterator1120=_createForOfIteratorHelper(n),_step1120;try{for(_iterator1120.s();!(_step1120=_iterator1120.n()).done;){var _t1641=_step1120.value;mi(_t1641,o);}}catch(err){_iterator1120.e(err);}finally{_iterator1120.f();}_this587.ng=!1;});}},{key:"bg",value:function bg(t){var e=t.detail;"underline"===e.value?this.Js.execCommand("underline"):"line-through"===e.value?this.Js.execCommand("lineThrough"):"overline"===e.value&&this.Js.execCommand("overline");}},{key:"mg",value:function mg(t){var e=t.detail;"capitalize"===e.value?this.Js.execCommand("capitalize"):"uppercase"===e.value?this.Js.execCommand("uppercase"):"lowercase"===e.value&&this.Js.execCommand("lowercase");}},{key:"gg",value:function gg(){this.tn.board.undoManager.checkpoint("Text anchor");var t=this.Vd(),e=this["#text-anchor-buttons"].value||"start";var _iterator1121=_createForOfIteratorHelper(t),_step1121;try{for(_iterator1121.s();!(_step1121=_iterator1121.n()).done;){var i=_step1121.value;!1===(null!==i.querySelector("textPath"))&&(i.style.setProperty("text-anchor",e),Op("text-anchor",i));}}catch(err){_iterator1121.e(err);}finally{_iterator1121.f();}}},{key:"fg",value:function fg(){this.Js.execCommand("textOnPath");}},{key:"wg",value:function wg(){var _this588=this;var t,_e1146,i=this.tn.board,s=this.Vd().map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});i.undoManager.checkpoint("Text path start offset"),this.og=!0,this["#path-start-offset-box"].addEventListener("change",t=function t(_t1644){_t1644.target===_this588["#path-start-offset-slider"]?_this588["#path-start-offset-input"].value=_this588["#path-start-offset-slider"].value:_t1644.target===_this588["#path-start-offset-input"]&&(_this588["#path-start-offset-slider"].value=_this588["#path-start-offset-input"].value),_this588["#path-start-offset-slider"].mixed=!1,_this588["#path-start-offset-input"].mixed=!1;var _iterator1122=_createForOfIteratorHelper(s),_step1122;try{for(_iterator1122.s();!(_step1122=_iterator1122.n()).done;){var _t1643=_step1122.value;_t1643.startOffset.baseVal.value=_this588["#path-start-offset-input"].value;}}catch(err){_iterator1122.e(err);}finally{_iterator1122.f();}}),this["#path-start-offset-box"].addEventListener("changeend",_e1146=function e(){_this588["#path-start-offset-box"].removeEventListener("change",t),_this588["#path-start-offset-box"].removeEventListener("changeend",_e1146),_this588.og=!1;});}},{key:"vg",value:function vg(){var _this589=this;var t,_e1148,i=this.tn.board,s=this.Vd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Letter spacing");var _iterator1123=_createForOfIteratorHelper(s),_step1123;try{for(_iterator1123.s();!(_step1123=_iterator1123.n()).done;){var _t1649=_step1123.value;bi(_t1649,n);var _e1149=_t1649.querySelectorAll("tspan"),_i1050=gi(n,_t1649),_s543=_i1050.length>0&&!n.collapsed?_i1050:_e1149;_t1649[o]=_s543;}}catch(err){_iterator1123.e(err);}finally{_iterator1123.f();}this.lg=!0,this["#letter-spacing-box"].addEventListener("change",t=function t(_t1647){_t1647.target===_this589["#letter-spacing-slider"]?_this589["#letter-spacing-input"].value=_this589["#letter-spacing-slider"].value:_t1647.target===_this589["#letter-spacing-input"]&&(_this589["#letter-spacing-slider"].value=_this589["#letter-spacing-input"].value),_this589["#letter-spacing-slider"].mixed=!1,_this589["#letter-spacing-input"].mixed=!1;var _iterator1124=_createForOfIteratorHelper(s),_step1124;try{for(_iterator1124.s();!(_step1124=_iterator1124.n()).done;){var _t1645=_step1124.value;var _e1147=_t1645[o];if(_e1147.length>0){var _iterator1125=_createForOfIteratorHelper(_e1147),_step1125;try{for(_iterator1125.s();!(_step1125=_iterator1125.n()).done;){var _t1646=_step1125.value;_t1646.style.setProperty("letter-spacing",_this589["#letter-spacing-input"].value);}}catch(err){_iterator1125.e(err);}finally{_iterator1125.f();}}else _t1645.style.setProperty("letter-spacing",_this589["#letter-spacing-input"].value);}}catch(err){_iterator1124.e(err);}finally{_iterator1124.f();}}),this["#letter-spacing-box"].addEventListener("changeend",_e1148=function e(){_this589["#letter-spacing-box"].removeEventListener("change",t),_this589["#letter-spacing-box"].removeEventListener("changeend",_e1148);var _iterator1126=_createForOfIteratorHelper(s),_step1126;try{for(_iterator1126.s();!(_step1126=_iterator1126.n()).done;){var _t1648=_step1126.value;mi(_t1648,i.selectedTextRange);}}catch(err){_iterator1126.e(err);}finally{_iterator1126.f();}_this589.lg=!1;});}},{key:"yg",value:function yg(){var _this590=this;var t,_e1151,i=this.tn.board,s=this.Vd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Word spacing");var _iterator1127=_createForOfIteratorHelper(s),_step1127;try{for(_iterator1127.s();!(_step1127=_iterator1127.n()).done;){var _t1654=_step1127.value;bi(_t1654,n);var _e1152=_t1654.querySelectorAll("tspan"),_i1051=gi(n,_t1654),_s544=_i1051.length>0&&!n.collapsed?_i1051:_e1152;_t1654[o]=_s544;}}catch(err){_iterator1127.e(err);}finally{_iterator1127.f();}this.ag=!0,this["#word-spacing-box"].addEventListener("change",t=function t(_t1652){_t1652.target===_this590["#word-spacing-slider"]?_this590["#word-spacing-input"].value=_this590["#word-spacing-slider"].value:_t1652.target===_this590["#word-spacing-input"]&&(_this590["#word-spacing-slider"].value=_this590["#word-spacing-input"].value),_this590["#word-spacing-slider"].mixed=!1,_this590["#word-spacing-input"].mixed=!1;var _iterator1128=_createForOfIteratorHelper(s),_step1128;try{for(_iterator1128.s();!(_step1128=_iterator1128.n()).done;){var _t1650=_step1128.value;var _e1150=_t1650[o];if(_e1150.length>0){var _iterator1129=_createForOfIteratorHelper(_e1150),_step1129;try{for(_iterator1129.s();!(_step1129=_iterator1129.n()).done;){var _t1651=_step1129.value;_t1651.style.setProperty("word-spacing",_this590["#word-spacing-slider"].value);}}catch(err){_iterator1129.e(err);}finally{_iterator1129.f();}}else _t1650.style.setProperty("word-spacing",_this590["#word-spacing-slider"].value);}}catch(err){_iterator1128.e(err);}finally{_iterator1128.f();}}),this["#word-spacing-box"].addEventListener("changeend",_e1151=function e(){_this590["#word-spacing-box"].removeEventListener("change",t),_this590["#word-spacing-box"].removeEventListener("changeend",_e1151);var _iterator1130=_createForOfIteratorHelper(s),_step1130;try{for(_iterator1130.s();!(_step1130=_iterator1130.n()).done;){var _t1653=_step1130.value;mi(_t1653,i.selectedTextRange);}}catch(err){_iterator1130.e(err);}finally{_iterator1130.f();}_this590.ag=!1;});}},{key:"kg",value:function kg(){var _this591=this;var t,_e1154,i=this.tn.board,s=this.Vd(),n=(i.selectedTextRange,Symbol());i.undoManager.checkpoint("Line spacing");var _iterator1131=_createForOfIteratorHelper(s),_step1131;try{for(_iterator1131.s();!(_step1131=_iterator1131.n()).done;){var _t1657=_step1131.value;_t1657[n]=[];var _iterator1134=_createForOfIteratorHelper(_t1657.querySelectorAll("tspan")),_step1134;try{for(_iterator1134.s();!(_step1134=_iterator1134.n()).done;){var _e1155=_step1134.value;Si(_e1155)&&_t1657[n].push(_e1155);}}catch(err){_iterator1134.e(err);}finally{_iterator1134.f();}}}catch(err){_iterator1131.e(err);}finally{_iterator1131.f();}this.hg=!0,this["#line-spacing-box"].addEventListener("change",t=function t(_t1656){_t1656.target===_this591["#line-spacing-slider"]?_this591["#line-spacing-input"].value=_this591["#line-spacing-slider"].value:_t1656.target===_this591["#line-spacing-input"]&&(_this591["#line-spacing-slider"].value=_this591["#line-spacing-input"].value),_this591["#line-spacing-slider"].mixed=!1,_this591["#line-spacing-input"].mixed=!1;var _iterator1132=_createForOfIteratorHelper(s),_step1132;try{for(_iterator1132.s();!(_step1132=_iterator1132.n()).done;){var _t1655=_step1132.value;var _iterator1133=_createForOfIteratorHelper(_t1655[n]),_step1133;try{for(_iterator1133.s();!(_step1133=_iterator1133.n()).done;){var _e1153=_step1133.value;_e1153.setAttribute("dy",_this591["#line-spacing-slider"].value+1+"em");}}catch(err){_iterator1133.e(err);}finally{_iterator1133.f();}}}catch(err){_iterator1132.e(err);}finally{_iterator1132.f();}}),this["#line-spacing-box"].addEventListener("changeend",_e1154=function e(){_this591["#line-spacing-box"].removeEventListener("change",t),_this591["#line-spacing-box"].removeEventListener("changeend",_e1154),_this591.hg=!1;});}},{key:"Xs",value:function(){var _Xs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee136(){var _this592=this;var t,e,i,s,n,_iterator1135,_step1135,_s545,_i1052,_iterator1137,_step1137,_s546,_i1053,_iterator1138,_step1138,_e1156,_iterator1136,_step1136,_i1054,_e1157,_i1055,_n432,_t1658,_o344,_l287,_a213,_h172,_yield$_n,_yield$_n2,_r106,_d85,_c62,_p58,_Vl21,_u51,_x252,_b40,_m38,_g33,_f24,_iterator1139,_step1139,_t1659,_e1158,_i1056,_h173,_r107,_d86,_p59,_yield$_n3,_yield$_n4,_u52,_x253,_iterator1140,_step1140,_t1660,_e1159,_t1661,_i1057,_e1160,_n433,_o345,_l288,_iterator1141,_step1141,_t1662,_i1058,_e1161,_i1059,_t1663,_n434,_iterator1142,_step1142,_e1162,_i1060,_t1664,_e1163,_s547,_i1061,_s548,_iterator1143,_step1143,_t1665,_t1666,_e1164,_iterator1144,_step1144,_s549,_t1667,_t1668,_e1165,_i1062,_s550,_n435,_iterator1145,_step1145,_t1669,_e1166,_i1063,_t1670,_n436,_o346,_l289,_iterator1146,_step1146,_e1167,_i1064,_a214,_t1671,_t1672,_e1168,_s551,_t1673,_i1065,_iterator1147,_step1147,_e1169;return regeneratorRuntime.wrap(function _callee136$(_context138){while(1){switch(_context138.prev=_context138.next){case 0:t=[],e=[],i=this.Vd(),s=Symbol();n=this.tn.board.selectedTextRange;_iterator1135=_createForOfIteratorHelper(i);try{for(_iterator1135.s();!(_step1135=_iterator1135.n()).done;){_s545=_step1135.value;_i1052=wi(_s545);if(n&&n.intersectsNode(_s545)){"backward"===n.direction&&_i1052.reverse();_iterator1137=_createForOfIteratorHelper(_i1052);try{for(_iterator1137.s();!(_step1137=_iterator1137.n()).done;){_s546=_step1137.value;if(n.intersectsNode(_s546)){_i1053=_s546.closest("tspan, text");t.includes(_s546.parentElement)||t.push(_s546.parentElement),e.includes(_i1053)||e.push(_i1053);}}}catch(err){_iterator1137.e(err);}finally{_iterator1137.f();}}else{_iterator1138=_createForOfIteratorHelper(_i1052);try{for(_iterator1138.s();!(_step1138=_iterator1138.n()).done;){_e1156=_step1138.value;t.includes(_e1156.parentElement)||t.push(_e1156.parentElement);}}catch(err){_iterator1138.e(err);}finally{_iterator1138.f();}e.push(_s545);}}}catch(err){_iterator1135.e(err);}finally{_iterator1135.f();}_iterator1136=_createForOfIteratorHelper(new Set([].concat(t,e)));try{for(_iterator1136.s();!(_step1136=_iterator1136.n()).done;){_i1054=_step1136.value;_i1054[s]=getComputedStyle(_i1054);}}catch(err){_iterator1136.e(err);}finally{_iterator1136.f();}if(!(!1===this.ng&&!1===this.sg)){_context138.next=64;break;}_e1157=t[0],_i1055=t.slice(1),_n432=function _n432(t){return new Promise(/*#__PURE__*/function(){var _ref170=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee135(e){var i,s;return regeneratorRuntime.wrap(function _callee135$(_context137){while(1){switch(_context137.prev=_context137.next){case 0:_context137.next=2;return _this592.tn.board.defsFontsManager.getFontFamilyWeights(t);case 2:i=_context137.sent;s=[];0===i.length&&(i=["400","700"]),1===i.length&&"400"===i[0]&&(i.push("700"),s.push("700")),e([i,s]);case 5:case"end":return _context137.stop();}}},_callee135);}));return function(_x251){return _ref170.apply(this,arguments);};}());};if(!_e1157){_context138.next=63;break;}_t1658=_e1157[s];_o344=Lh.fromString(_t1658.getPropertyValue("font-family")).items[0];_l287=$t.fromString(_t1658.getPropertyValue("font-size")).value;_a213=(_t1658.getPropertyValue("font-variant"),_t1658.getPropertyValue("font-style"));_h172=Rh(_t1658.getPropertyValue("font-weight"));_context138.next=16;return _n432(_o344);case 16:_yield$_n=_context138.sent;_yield$_n2=_slicedToArray(_yield$_n,2);_r106=_yield$_n2[0];_d85=_yield$_n2[1];_c62=Uh(_h172,_r106);_p58=Wt(_e1157.closest("text"),this.tn.board.currentWorkspace);_Vl21=Vl(_p58);_u51=_Vl21.scaleY;_x252=J(_l287*tb(_u51),2);_b40=!1;_m38=!1;_g33=!1;_f24=!1;_iterator1139=_createForOfIteratorHelper(_i1055.filter(function(t){return t.isConnected;}));_context138.prev=30;_iterator1139.s();case 32:if((_step1139=_iterator1139.n()).done){_context138.next=49;break;}_t1659=_step1139.value;_e1158=_t1659[s];_i1056=_e1158.getPropertyValue("font-family");_h173=Lh.fromString(_i1056).items[0];_r107=$t.fromString(_e1158.getPropertyValue("font-size")).value;_d86=(_e1158.getPropertyValue("font-variant"),_e1158.getPropertyValue("font-style"));_p59=Rh(_e1158.getPropertyValue("font-weight"));_context138.next=42;return _n432(_h173);case 42:_yield$_n3=_context138.sent;_yield$_n4=_slicedToArray(_yield$_n3,1);_u52=_yield$_n4[0];_x253=Uh(_p59,_u52);_h173!==_o344&&(_b40=!0),_r107!==_l287&&(_m38=!0),_x253!==_c62&&(_g33=!0),_d86!==_a213&&(_f24=!0);case 47:_context138.next=32;break;case 49:_context138.next=54;break;case 51:_context138.prev=51;_context138.t0=_context138["catch"](30);_iterator1139.e(_context138.t0);case 54:_context138.prev=54;_iterator1139.f();return _context138.finish(54);case 57:this["#panel-heading"].disabled=!1,this["#font-section-heading"].disabled=!1,this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,this["#font-family-button"].mixed=_b40,this["#font-family-label"].textContent=_o344,this["#font-family-label"].style.fontFamily='"'+_o344+'"',this["#font-family-picker"].value=_o344;_iterator1140=_createForOfIteratorHelper(this["#font-weight-menu"].children);try{for(_iterator1140.s();!(_step1140=_iterator1140.n()).done;){_t1660=_step1140.value;if(_r106.includes(_t1660.value)){_e1159="".concat(_t1660.value," - ").concat(Gh(_t1660.value));_d85.includes(_t1660.value)&&(_e1159+=" (synthesized)"),_t1660.firstElementChild.textContent=_e1159,_t1660.hidden=!1;}else _t1660.hidden=!0;}}catch(err){_iterator1140.e(err);}finally{_iterator1140.f();}this["#font-face-heading"].disabled=!1,this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=_c62,this["#font-weight-select"].mixed=_g33,this["#font-style-button"].toggled="italic"===_a213,this["#font-style-button"].mixed=_f24,this["#font-style-button"].disabled=!1,this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=_x252,this["#font-size-slider"].mixed=_m38,this["#font-size-input"].disabled=!1,this["#font-size-input"].value=_x252,this["#font-size-input"].mixed=_m38;_context138.next=64;break;case 63:this["#panel-heading"].disabled=!0,this["#font-section-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-family-label"].textContent="System",this["#font-family-label"].style.fontFamily=null,this["#font-family-picker"].value=null,this["#font-face-heading"].disabled=!0,this["#font-weight-select"].disabled=!0,this["#font-style-button"].disabled=!0,this["#font-style-button"].mixed=!1,this["#font-size-heading"].disabled=!0,this["#font-size-slider"].value=13,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,this["#font-size-input"].disabled=!0,this["#font-size-input"].value=13,this["#font-size-input"].mixed=!1;case 64:this["#text-section-heading"].disabled=0===i.length;_t1661=e[0],_i1057=e.slice(1);if(_t1661){_e1160=_t1661[s].getPropertyValue("text-decoration"),_n433=!1,_o345=!1,_l288=!1;_iterator1141=_createForOfIteratorHelper(_i1057);try{for(_iterator1141.s();!(_step1141=_iterator1141.n()).done;){_t1662=_step1141.value;_i1058=_t1662[s].getPropertyValue("text-decoration");_e1160!==_i1058&&(_e1160.includes("underline")!==_i1058.includes("underline")&&(_n433=!0),_e1160.includes("line-through")!==_i1058.includes("line-through")&&(_o345=!0),_e1160.includes("overline")!==_i1058.includes("overline")&&(_l288=!0));}}catch(err){_iterator1141.e(err);}finally{_iterator1141.f();}this["#text-decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=_n433,this["#underline-button"].toggled=_e1160.includes("underline"),this["#line-through-button"].disabled=!1,this["#line-through-button"].mixed=_o345,this["#line-through-button"].toggled=_e1160.includes("line-through"),this["#overline-button"].disabled=!1,this["#overline-button"].mixed=_l288,this["#overline-button"].toggled=_e1160.includes("overline");}else this["#text-decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,this["#underline-button"].mixed=!1,this["#underline-button"].toggled=!1,this["#line-through-button"].disabled=!0,this["#line-through-button"].mixed=!1,this["#line-through-button"].toggled=!1,this["#overline-button"].disabled=!0,this["#overline-button"].mixed=!1,this["#overline-button"].toggled=!1;_e1161=t[0],_i1059=t.slice(1);if(_e1161){_t1663=_e1161[s].getPropertyValue("text-transform"),_n434=!1;_iterator1142=_createForOfIteratorHelper(_i1059);try{for(_iterator1142.s();!(_step1142=_iterator1142.n()).done;){_e1162=_step1142.value;_e1162[s].getPropertyValue("text-transform")!==_t1663&&(_n434=!0);}}catch(err){_iterator1142.e(err);}finally{_iterator1142.f();}this["#text-transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,this["#capitalize-button"].mixed=_n434,this["#capitalize-button"].toggled="capitalize"===_t1663,this["#uppercase-button"].disabled=!1,this["#uppercase-button"].toggled="uppercase"===_t1663,this["#uppercase-button"].mixed=_n434,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].toggled="lowercase"===_t1663,this["#lowercase-button"].mixed=_n434;}else this["#text-transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,this["#capitalize-button"].toggled=!1,this["#capitalize-button"].mixed=!1,this["#uppercase-button"].disabled=!0,this["#uppercase-button"].toggled=!1,this["#uppercase-button"].mixed=!1,this["#lowercase-button"].disabled=!0,this["#lowercase-button"].toggled=!1,this["#lowercase-button"].mixed=!1;_i1060=_toArray(i),_t1664=_i1060[0],_e1163=_i1060.slice(1),_s547=i.filter(function(t){return null!==t.querySelector("textPath");});if(_t1664&&_s547.length<i.length){_i1061=getComputedStyle(_t1664).getPropertyValue("text-anchor"),_s548=!1;_iterator1143=_createForOfIteratorHelper(_e1163);try{for(_iterator1143.s();!(_step1143=_iterator1143.n()).done;){_t1665=_step1143.value;getComputedStyle(_t1665).getPropertyValue("text-anchor")!==_i1061&&(_s548=!0);}}catch(err){_iterator1143.e(err);}finally{_iterator1143.f();}this["#text-anchor-heading"].disabled=!1,this["#text-anchor-buttons"].value=_i1061,this["#start-text-anchor-button"].disabled=!1,this["#start-text-anchor-button"].mixed=_s548,this["#middle-text-anchor-button"].disabled=!1,this["#middle-text-anchor-button"].mixed=_s548,this["#end-text-anchor-button"].disabled=!1,this["#end-text-anchor-button"].mixed=_s548;}else this["#text-anchor-heading"].disabled=!0,this["#text-anchor-buttons"].value=null,this["#start-text-anchor-button"].disabled=!0,this["#start-text-anchor-button"].mixed=!1,this["#middle-text-anchor-button"].disabled=!0,this["#middle-text-anchor-button"].mixed=!1,this["#end-text-anchor-button"].disabled=!0,this["#end-text-anchor-button"].mixed=!1;if(this.og){_context138.next=99;break;}if(!(0===i.length)){_context138.next=76;break;}this["#text-on-path-button"].toggled=!1,this["#text-on-path-button"].disabled=!0;_context138.next=96;break;case 76:_t1666=!1,_e1164=null!==i[0].querySelector("textPath");_iterator1144=_createForOfIteratorHelper(i);_context138.prev=78;_iterator1144.s();case 80:if((_step1144=_iterator1144.n()).done){_context138.next=87;break;}_s549=_step1144.value;if(!(null!==_s549.querySelector("textPath")!==_e1164)){_context138.next=85;break;}_t1666=!0;return _context138.abrupt("break",87);case 85:_context138.next=80;break;case 87:_context138.next=92;break;case 89:_context138.prev=89;_context138.t1=_context138["catch"](78);_iterator1144.e(_context138.t1);case 92:_context138.prev=92;_iterator1144.f();return _context138.finish(92);case 95:this["#text-on-path-button"].toggled=_e1164,this["#text-on-path-button"].disabled=!1,this["#text-on-path-button"].mixed=_t1666;case 96:_t1667=i.map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});if(0===_t1667.length)this["#path-start-offset-heading"].disabled=!0,this["#path-start-offset-slider"].value=0,this["#path-start-offset-slider"].disabled=!0,this["#path-start-offset-input"].value=0,this["#path-start-offset-input"].disabled=!0;else{_t1668=_toArray(_t1667),_e1165=_t1668[0],_i1062=_t1668.slice(1),_s550=_e1165.startOffset.baseVal.value,_n435=!1;_iterator1145=_createForOfIteratorHelper(_i1062);try{for(_iterator1145.s();!(_step1145=_iterator1145.n()).done;){_t1669=_step1145.value;_t1669.startOffset.baseVal.value!==_s550&&(_n435=!0);}}catch(err){_iterator1145.e(err);}finally{_iterator1145.f();}this["#path-start-offset-heading"].disabled=!1,this["#path-start-offset-slider"].value=_s550,this["#path-start-offset-slider"].disabled=!1,this["#path-start-offset-slider"].mixed=_n435,this["#path-start-offset-input"].value=_s550,this["#path-start-offset-input"].disabled=!1,this["#path-start-offset-input"].mixed=_n435;}this["#path-section-heading"].disabled=this["#text-on-path-button"].disabled&&this["#path-start-offset-heading"].disabled;case 99:if(!(!this.lg&&!this.ag&&!this.hg)){_context138.next=128;break;}_e1166=t[0],_i1063=t.slice(1);if(_e1166){_t1670=_e1166[s].getPropertyValue("letter-spacing"),_n436=_e1166[s].getPropertyValue("word-spacing");_t1670="normal"===_t1670?0:eb(_t1670),_n436="normal"===_n436?0:eb(_n436);_o346=!1,_l289=!1;_iterator1146=_createForOfIteratorHelper(_i1063);try{for(_iterator1146.s();!(_step1146=_iterator1146.n()).done;){_e1167=_step1146.value;_i1064=_e1167[s].getPropertyValue("letter-spacing"),_a214=_e1167[s].getPropertyValue("word-spacing");_i1064="normal"===_i1064?0:eb(_i1064),_a214="normal"===_a214?0:eb(_a214),_i1064!==_t1670&&(_o346=!0),_a214!==_n436&&(_l289=!0);}}catch(err){_iterator1146.e(err);}finally{_iterator1146.f();}this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=J(_t1670,2),this["#letter-spacing-slider"].mixed=_o346,this["#letter-spacing-slider"].disabled=!1,this["#letter-spacing-input"].value=J(_t1670,2),this["#letter-spacing-input"].mixed=_o346,this["#letter-spacing-input"].disabled=!1,this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=J(_n436,2),this["#word-spacing-slider"].mixed=_l289,this["#word-spacing-slider"].disabled=!1,this["#word-spacing-input"].value=J(_n436,2),this["#word-spacing-input"].mixed=_l289,this["#word-spacing-input"].disabled=!1;}else this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,this["#letter-spacing-input"].value=0,this["#letter-spacing-input"].mixed=!1,this["#letter-spacing-input"].disabled=!0,this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,this["#word-spacing-slider"].disabled=!0,this["#word-spacing-input"].value=0,this["#word-spacing-input"].mixed=!1,this["#word-spacing-input"].disabled=!0;_t1671=i.filter(function(t){return Ci(t);}),_t1672=_toArray(_t1671),_e1168=_t1672[0],_s551=_t1672.slice(1);if(!_e1168){_context138.next=126;break;}_t1673=_i(_e1168),_i1065=!1;_iterator1147=_createForOfIteratorHelper(_s551);_context138.prev=106;_iterator1147.s();case 108:if((_step1147=_iterator1147.n()).done){_context138.next=115;break;}_e1169=_step1147.value;if(!(_i(_e1169)!==_t1673)){_context138.next=113;break;}_i1065=!0;return _context138.abrupt("break",115);case 113:_context138.next=108;break;case 115:_context138.next=120;break;case 117:_context138.prev=117;_context138.t2=_context138["catch"](106);_iterator1147.e(_context138.t2);case 120:_context138.prev=120;_iterator1147.f();return _context138.finish(120);case 123:this["#line-spacing-heading"].disabled=!1,this["#line-spacing-slider"].value=_t1673,this["#line-spacing-slider"].mixed=_i1065,this["#line-spacing-slider"].disabled=!1,this["#line-spacing-input"].value=_t1673,this["#line-spacing-input"].mixed=_i1065,this["#line-spacing-input"].disabled=!1;_context138.next=127;break;case 126:this["#line-spacing-heading"].disabled=!0,this["#line-spacing-slider"].value=0,this["#line-spacing-slider"].mixed=!1,this["#line-spacing-slider"].disabled=!0,this["#line-spacing-input"].value=0,this["#line-spacing-input"].mixed=!1,this["#line-spacing-input"].disabled=!0;case 127:this["#spacing-section-heading"].disabled=this["#letter-spacing-heading"].disabled&&this["#word-spacing-heading"].disabled&&this["#line-spacing-heading"].disabled;case 128:case"end":return _context138.stop();}}},_callee136,this,[[30,51,54,57],[78,89,92,95],[106,117,120,123]]);}));function Xs(){return _Xs.apply(this,arguments);}return Xs;}()},{key:"Vd",value:function Vd(){var t=[],e=function e(i){var _iterator1148=_createForOfIteratorHelper(i),_step1148;try{for(_iterator1148.s();!(_step1148=_iterator1148.n()).done;){var _s552=_step1148.value;"text"===_s552.localName?t.push(_s552):"g"!==_s552.localName&&"a"!==_s552.localName||e(_s552.children);}}catch(err){_iterator1148.e(err);}finally{_iterator1148.f();}};return e(this.tn.board.outermostSelectedElements),t;}},{key:"Cg",value:function Cg(){var _this593=this;return new Promise(/*#__PURE__*/function(){var _ref171=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee137(t){var e,i;return regeneratorRuntime.wrap(function _callee137$(_context139){while(1){switch(_context139.prev=_context139.next){case 0:e=function e(){_this593.tn.board.transformHud.enabled&&_this593.tn.board.transformHud.forceUpdate();},i=function i(){_this593.tn.board.textHud.enabled&&_this593.tn.board.textHud.forceUpdate();};_context139.next=3;return ss(400);case 3:e();i();_context139.next=7;return ss(400);case 7:e();i();_context139.next=11;return ss(400);case 11:e();i();_context139.next=15;return ss(400);case 15:e();i();t();case 18:case"end":return _context139.stop();}}},_callee137);}));return function(_x254){return _ref171.apply(this,arguments);};}());}}]);return ib;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ib,"observedAttributes",["enabled"]);_defineProperty(ib,"_shadowTemplate",Ki(_templateObject331()));_defineProperty(ib,"_shadowStyleSheet",Qi(_templateObject332()));customElements.define("bx-typographypanel",ib);var sb=/*#__PURE__*/function(_HTMLElement108){_inherits(sb,_HTMLElement108);var _super129=_createSuper(sb);_createClass(sb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function sb(){var _this594;_classCallCheck(this,sb);_this594=_super129.call(this),_this594._shadowRoot=_this594.attachShadow({mode:"closed"}),_this594._shadowRoot.append(document.importNode(_this594.constructor._shadowTemplate.content,!0)),_this594._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,sb._shadowStyleSheet,_this594.constructor._shadowStyleSheet];var _iterator1149=_createForOfIteratorHelper(_this594._shadowRoot.querySelectorAll("[id]")),_step1149;try{for(_iterator1149.s();!(_step1149=_iterator1149.n()).done;){var _t1674=_step1149.value;_this594["#"+_t1674.id]=_t1674;}}catch(err){_iterator1149.e(err);}finally{_iterator1149.f();}_this594.setAttribute("extends","bx-geometryinspector");return _this594;}_createClass(sb,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this._g=Ri(this,"bx-geometrypanel");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){}},{key:"sn",value:function sn(){}}]);return sb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sb,"observedAttributes",["enabled"]);_defineProperty(sb,"_shadowStyleSheet",Qi(_templateObject333()));var nb=Math.pow;var ob=/*#__PURE__*/function(_sb){_inherits(ob,_sb);var _super130=_createSuper(ob);function ob(){var _this595;_classCallCheck(this,ob);_this595=_super130.call(this),_this595.Mg=!1,_this595.Pg=!1,_this595.Dg=!1,_this595.zg=!1,_this595.Za=ts(_this595.Xs,200,_assertThisInitialized(_this595)),_this595["#base-thickness-section"].addEventListener("changestart",function(){return _this595.ru();}),_this595["#head-thickness-section"].addEventListener("changestart",function(){return _this595.du();}),_this595["#head-length-section"].addEventListener("changestart",function(){return _this595.cu();}),_this595["#head-inset-section"].addEventListener("changestart",function(){return _this595.pu();}),_this595["#head-thickness-input"].validate=function(){return null;},_this595["#head-length-input"].validate=function(){return null;};return _this595;}_createClass(ob,[{key:"en",value:function en(){var _this596=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this596.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this596.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this596.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"ru",value:function ru(){var _this597=this;var t,_e1170,i=this.tn.board,s=i.selectedElements[0],n=rl(s),o=i.geometryPrecision,_this$_g=this._g,l=_this$_g.displaySpace,a=_this$_g.displayUnit,_Ml11=Ml.apply(void 0,_toConsumableArray(n.values)),h=_Ml11.minBaseThickness,r=_Ml11.maxBaseThickness,_n$values10=_slicedToArray(n.values,7),d=_n$values10[0],c=_n$values10[1],p=_n$values10[2],u=_n$values10[3],x=_n$values10[4],b=_n$values10[5],m=_n$values10[6],g=Kt("px",a),f=g.inverse(),w=Wt(s,i.vectorCanvas);"viewport"===l&&(w=Zt(i.currentWorkspace).multiply(w));var v=w.inverse();i.undoManager.checkpoint("Arrow base thickness"),this.Mg=!0,this["#base-thickness-section"].addEventListener("change",t=function t(_t1675){_t1675.target===_this597["#base-thickness-slider"]?_this597["#base-thickness-input"].value=_this597["#base-thickness-slider"].value:_t1675.target===_this597["#base-thickness-input"]&&(_this597["#base-thickness-slider"].value=_this597["#base-thickness-input"].value);var e=new Q(new DOMPoint(d,c+u/2),new DOMPoint(d,c));e=e.matrixTransform(w),e=e.matrixTransform(g),e.length=_t1675.target.value,e=e.matrixTransform(f),e=e.matrixTransform(v),x=tt(e.length,h,r,o),dl(s,{type:"arrow",values:[d,c,p,u,x,b,m]});}),this["#base-thickness-section"].addEventListener("changeend",_e1170=function e(){_this597["#base-thickness-section"].removeEventListener("change",t),_this597["#base-thickness-section"].removeEventListener("changeend",_e1170),_this597.Mg=!1;});}},{key:"du",value:function du(){var _this598=this;var t,_e1171,i=this.tn.board,s=i.selectedElements[0],n=rl(s),o=i.geometryPrecision,_n$values11=_slicedToArray(n.values,7),l=_n$values11[0],a=_n$values11[1],h=_n$values11[2],r=_n$values11[3],d=_n$values11[4],c=_n$values11[5],p=_n$values11[6],u=a,x=r,b=Ml(l,a,h,r,d,c,p),m=Kt("px",this._g.displayUnit),g=m.inverse(),f=Wt(s,i.vectorCanvas);"viewport"===this._g.displaySpace&&(f=Zt(i.currentWorkspace).multiply(f));var w=f.inverse();i.undoManager.checkpoint("Arrow head thickness"),this.Pg=!0,this["#head-thickness-section"].addEventListener("change",t=function t(_t1676){_t1676.target===_this598["#head-thickness-slider"]?_this598["#head-thickness-input"].value=_this598["#head-thickness-slider"].value:_t1676.target===_this598["#head-thickness-input"]&&(_this598["#head-thickness-slider"].value=_this598["#head-thickness-input"].value);var e=new Q(new DOMPoint(l+h-c,a),new DOMPoint(l+h-c,a+1e3));e=e.matrixTransform(f),e=e.matrixTransform(m),e.length=_t1676.target.value,e=e.matrixTransform(g),e=e.matrixTransform(w),r=tt(e.length,b.minHeadThickness,b.maxHeadThickness,o),a=J(u-(r-x)/2,o),dl(s,{type:"arrow",values:[l,a,h,r,d,c,p]});}),this["#head-thickness-section"].addEventListener("changeend",_e1171=function e(){_this598["#head-thickness-section"].removeEventListener("change",t),_this598["#head-thickness-section"].removeEventListener("changeend",_e1171),_this598.Pg=!1;});}},{key:"cu",value:function cu(){var _this599=this;var t,_e1172,i=this.tn.board,s=i.selectedElements[0],n=rl(s),_Ml12=Ml.apply(void 0,_toConsumableArray(n.values)),o=_Ml12.minHeadLength,l=_Ml12.maxHeadLength,a=i.geometryPrecision,_n$values12=_slicedToArray(n.values,7),h=_n$values12[0],r=_n$values12[1],d=_n$values12[2],c=_n$values12[3],p=_n$values12[4],u=_n$values12[5],x=_n$values12[6],b=Kt("px",this._g.displayUnit),m=b.inverse(),g=Wt(s,i.vectorCanvas);"viewport"===this._g.displaySpace&&(g=Zt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head length"),this.Dg=!0,this["#head-length-section"].addEventListener("change",t=function t(_t1677){_t1677.target===_this599["#head-length-slider"]?_this599["#head-length-input"].value=_this599["#head-length-slider"].value:_t1677.target===_this599["#head-length-input"]&&(_this599["#head-length-slider"].value=_this599["#head-length-input"].value);var e=new Q(new DOMPoint(h+d-1e3,r+c/2),new DOMPoint(h+d,r+c/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1677.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),u=tt(e.length,o,l,a),dl(s,{type:"arrow",values:[h,r,d,c,p,u,x]});}),this["#head-length-section"].addEventListener("changeend",_e1172=function e(){_this599["#head-length-section"].removeEventListener("change",t),_this599["#head-length-section"].removeEventListener("changeend",_e1172),_this599.Dg=!1;});}},{key:"pu",value:function pu(){var _this600=this;var t,_e1173,i=this.tn.board,s=i.selectedElements[0],n=rl(s),_Ml13=Ml.apply(void 0,_toConsumableArray(n.values)),o=_Ml13.minHeadInset,l=_Ml13.maxHeadInset,a=i.geometryPrecision,_n$values13=_slicedToArray(n.values,7),h=_n$values13[0],r=_n$values13[1],d=_n$values13[2],c=_n$values13[3],p=_n$values13[4],u=_n$values13[5],x=_n$values13[6],b=Kt("px",this._g.displayUnit),m=b.inverse(),g=Wt(s,i.vectorCanvas);"viewport"===this._g.displaySpace&&(g=Zt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head inset"),this.zg=!0,this["#head-inset-section"].addEventListener("change",t=function t(_t1678){_t1678.target===_this600["#head-inset-slider"]?_this600["#head-inset-input"].value=_this600["#head-inset-slider"].value:_t1678.target===_this600["#head-inset-input"]&&(_this600["#head-inset-slider"].value=_this600["#head-inset-input"].value);var e=new Q(new DOMPoint(h+d-u,r+c/2-p/2),new DOMPoint(h+d-u+1e3,r+c/2-p/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1678.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),x=tt(e.length,o,l,a),dl(s,{type:"arrow",values:[h,r,d,c,p,u,x]});}),this["#head-inset-section"].addEventListener("changeend",_e1173=function e(){_this600["#head-inset-section"].removeEventListener("change",t),_this600["#head-inset-section"].removeEventListener("changeend",_e1173),_this600.zg=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements,i=null,s=null;if(1===e.length&&"path"===e[0].localName&&(i=e[0],s=rl(i)),s&&"arrow"===s.type){var _this$_g2=this._g,_e1174=_this$_g2.displayUnit,n=_this$_g2.displaySpace,_o347=_this$_g2.displayPrecision,_s$values12=_slicedToArray(s.values,7),_l290=_s$values12[0],_a215=_s$values12[1],_h174=_s$values12[2],_r108=_s$values12[3],_d87=_s$values12[4],_c63=_s$values12[5],_p60=_s$values12[6],_u53=Ml.apply(void 0,_toConsumableArray(s.values)),_x255=1/nb(10,_o347-1),_b41=_e1174?" "+_e1174:"",_m39=Wt(i,t.vectorCanvas),_g34=Kt("px",_e1174);if("viewport"===n&&(_m39=Zt(t.currentWorkspace).multiply(_m39)),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Mg){var _t1679=new Q(new DOMPoint(_l290,_a215+_r108/2-_d87/2),new DOMPoint(_l290,_a215+_r108/2+_d87/2)).matrixTransform(_m39).matrixTransform(_g34).length,_e1175=new Q(new DOMPoint(_l290,_a215+_r108/2-_u53.minBaseThickness/2),new DOMPoint(_l290,_a215+_r108/2+_u53.minBaseThickness/2)).matrixTransform(_m39).matrixTransform(_g34).length,_i1066=new Q(new DOMPoint(_l290,_a215+_r108/2-_u53.maxBaseThickness/2),new DOMPoint(_l290,_a215+_r108/2+_u53.maxBaseThickness/2)).matrixTransform(_m39).matrixTransform(_g34).length;this["#base-thickness-slider"].min=J(_e1175,_o347),this["#base-thickness-slider"].max=J(_i1066,_o347),this["#base-thickness-slider"].value=J(_t1679,_o347),this["#base-thickness-slider"].step=_x255,this["#base-thickness-input"].min=J(_e1175,_o347),this["#base-thickness-input"].max=J(_i1066,_o347),this["#base-thickness-input"].value=J(_t1679,_o347),this["#base-thickness-input"].step=_x255,this["#base-thickness-input"].suffix=_b41;}if(!1===this.Pg){var _t1680=new Q(new DOMPoint(_l290+_h174-_c63,_a215),new DOMPoint(_l290+_h174-_c63,_a215+_r108)).matrixTransform(_m39).matrixTransform(_g34).length,_i1067=new Q(new DOMPoint(0,0),new DOMPoint(0,_u53.minHeadThickness)).matrixTransform(_m39).matrixTransform(_g34).length,_s553=new $t(_t1680,_e1174||"px");_s553=_s553.toLength("px"),_s553.value=Math.max(2*_s553.value,100),_s553=_s553.toLength(_e1174||"px"),this["#head-thickness-slider"].min=J(_i1067,_o347),this["#head-thickness-slider"].max=J(_s553.value,_o347),this["#head-thickness-slider"].value=J(_t1680,_o347),this["#head-thickness-slider"].step=_x255,this["#head-thickness-input"].min=J(_i1067,_o347),this["#head-thickness-input"].value=J(_t1680,_o347),this["#head-thickness-input"].suffix=_b41,this["#head-thickness-input"].step=_x255;}if(!1===this.Dg){var _t1681=new Q(new DOMPoint(_l290+_h174-_c63,_a215+_r108/2),new DOMPoint(_l290+_h174,_a215+_r108/2)).matrixTransform(_m39).matrixTransform(_g34).length,_e1176=new Q(new DOMPoint(0,0),new DOMPoint(_u53.minHeadLength,0)).matrixTransform(_m39).matrixTransform(_g34).length,_i1068=new Q(new DOMPoint(0,0),new DOMPoint(_u53.maxHeadLength,0)).matrixTransform(_m39).matrixTransform(_g34).length;this["#head-length-slider"].min=J(_e1176,_o347),this["#head-length-slider"].max=J(_i1068,_o347),this["#head-length-slider"].value=J(_t1681,_o347),this["#head-length-slider"].step=_x255,this["#head-length-input"].min=J(_e1176,_o347),this["#head-length-input"].max=J(_i1068,_o347),this["#head-length-input"].value=J(_t1681,_o347),this["#head-length-input"].suffix=_b41,this["#head-length-input"].step=_x255;}if(!1===this.zg){var _t1682=new Q(new DOMPoint(_l290+_h174-_c63,_a215+_r108/2-_d87/2),new DOMPoint(_l290+_h174-_c63+_p60,_a215+_r108/2-_d87/2)).matrixTransform(_m39).matrixTransform(_g34).length,_e1177=new Q(new DOMPoint(_l290+_h174-_c63,_a215+_r108/2-_d87/2),new DOMPoint(_l290+_h174-_c63+_u53.minHeadInset,_a215+_r108/2-_d87/2)).matrixTransform(_m39).matrixTransform(_g34).length,_i1069=new Q(new DOMPoint(_l290+_h174-_c63,_a215+_r108/2-_d87/2),new DOMPoint(_l290+_h174-_c63+_u53.maxHeadInset,_a215+_r108/2-_d87/2)).matrixTransform(_m39).matrixTransform(_g34).length;this["#head-inset-slider"].min=J(_e1177,_o347),this["#head-inset-slider"].max=J(_i1069,_o347),this["#head-inset-slider"].value=J(_t1682,_o347),this["#head-inset-slider"].step=_x255,this["#head-inset-input"].min=0,this["#head-inset-input"].max=Infinity,this["#head-inset-input"].value=J(_t1682,_o347),this["#head-inset-input"].step=_x255,this["#head-inset-input"].suffix=_b41;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return ob;}(sb);_defineProperty(ob,"_shadowTemplate",Ki(_templateObject334()));_defineProperty(ob,"_shadowStyleSheet",Qi(_templateObject335()));customElements.define("bx-arrowgeometryinspector",ob);var lb=Math.pow;var ab=/*#__PURE__*/function(_sb2){_inherits(ab,_sb2);var _super131=_createSuper(ab);function ab(){var _this601;_classCallCheck(this,ab);_this601=_super131.call(this),_this601.Eg=!1,_this601.Tg=!1,_this601.Za=ts(_this601.Xs,200,_assertThisInitialized(_this601)),_this601["#dx-input"].addEventListener("changestart",function(t){return _this601.Ag(t);}),_this601["#dy-input"].addEventListener("changestart",function(t){return _this601.Ag(t);}),_this601["#rotation-box"].addEventListener("changestart",function(){return _this601.$g();});return _this601;}_createClass(ab,[{key:"en",value:function en(){var _this602=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this602.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this602.Za();}),this.tn.board.charHud.addEventListener("selectedcharchange",this.Ig=function(){_this602.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this602.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.charHud.removeEventListener("selectedcharchange",this.Ig),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Ag",value:function Ag(t){var _this603=this;var e,_i1071,s,n,o,l=this.tn.board,_this$_g3=this._g,a=_this$_g3.displaySpace,h=_this$_g3.displayUnit,_l$charHud$selectedCh=l.charHud.selectedChar,r=_l$charHud$selectedCh.textElement,d=_l$charHud$selectedCh.charIndex,c=t.target,p=[],u=[];this.Eg=!0,l.undoManager.checkpoint("Character delta"),bi(r);{var _t1683=0;var _iterator1150=_createForOfIteratorHelper(wi(r)),_step1150;try{for(_iterator1150.s();!(_step1150=_iterator1150.n()).done;){var _e1178=_step1150.value;var _i1070=0;var _iterator1151=_createForOfIteratorHelper(_e1178.textContent),_step1151;try{for(_iterator1151.s();!(_step1151=_iterator1151.n()).done;){var _l291=_step1151.value;if(_t1683===d){s=_e1178.parentNode,n=_e1178,o=_i1070;break;}_t1683+=1,_i1070+=1;}}catch(err){_iterator1151.e(err);}finally{_iterator1151.f();}if(s)break;}}catch(err){_iterator1150.e(err);}finally{_iterator1150.f();}}for(var _t1684=0;_t1684<n.textContent.length;_t1684+=1){p[_t1684]=void 0!==s.dx.baseVal[_t1684]?s.dx.baseVal[_t1684].value:0,u[_t1684]=void 0!==s.dy.baseVal[_t1684]?s.dy.baseVal[_t1684].value:0;}var x=Kt("px",h),b=x.inverse(),m=Wt(s,l.vectorCanvas);"viewport"===a&&(m=Zt(l.currentWorkspace).multiply(m));var g=m.inverse(),f=new DOMPoint(0,0);f=f.matrixTransform(m),f=f.matrixTransform(x),c.addEventListener("change",e=function e(t){var e=new DOMPoint(_this603["#dx-input"].value+f.x,_this603["#dy-input"].value+f.y).matrixTransform(b);e=e.matrixTransform(g),e=ze(e,l.geometryPrecision),p[o]=e.x,u[o]=e.y,s.setAttribute("dx",p.join(" ")),s.setAttribute("dy",u.join(" "));}),c.addEventListener("changeend",_i1071=function i(){c.removeEventListener("change",e),c.removeEventListener("changeend",_i1071),mi(r),_this603.Eg=!1;});}},{key:"$g",value:function $g(){var _this604=this;var t,_e1180,i,s,n,o=this.tn.board,_o$charHud$selectedCh=o.charHud.selectedChar,l=_o$charHud$selectedCh.textElement,a=_o$charHud$selectedCh.charIndex,h=[];this.Tg=!0,o.undoManager.checkpoint("Character delta"),bi(l);{var _t1685=0;var _iterator1152=_createForOfIteratorHelper(wi(l)),_step1152;try{for(_iterator1152.s();!(_step1152=_iterator1152.n()).done;){var _e1179=_step1152.value;var _o348=0;var _iterator1153=_createForOfIteratorHelper(_e1179.textContent),_step1153;try{for(_iterator1153.s();!(_step1153=_iterator1153.n()).done;){var _l292=_step1153.value;if(_t1685===a){i=_e1179.parentNode,s=_e1179,n=_o348;break;}_t1685+=1,_o348+=1;}}catch(err){_iterator1153.e(err);}finally{_iterator1153.f();}if(i)break;}}catch(err){_iterator1152.e(err);}finally{_iterator1152.f();}for(var _t1686=0;_t1686<s.textContent.length;_t1686+=1){h[_t1686]=void 0!==i.rotate.baseVal[_t1686]?i.rotate.baseVal[_t1686].value:0;}}this["#rotation-box"].addEventListener("change",t=function t(_t1687){_t1687.target===_this604["#rotation-slider"]?_this604["#rotation-input"].value=_this604["#rotation-slider"].value:_t1687.target===_this604["#rotation-input"]&&(_this604["#rotation-slider"].value=_this604["#rotation-input"].value),_this604.Js.modKeys.shift&&(_this604["#rotation-input"].value=Ue(_this604["#rotation-slider"].value,15),_this604["#rotation-slider"].value=_this604["#rotation-input"].value),h[n]=J(_this604["#rotation-input"].value,o.geometryPrecision),i.setAttribute("rotate",h.join(" "));}),this["#rotation-box"].addEventListener("changeend",_e1180=function e(){_this604["#rotation-box"].removeEventListener("change",t),_this604["#rotation-box"].removeEventListener("changeend",_e1180),mi(l),_this604.Tg=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board;if(!1===this.Eg&&!1===this.Tg)if(t.charHud.selectedChar){var _t$charHud$selectedCh=t.charHud.selectedChar,_e1181=_t$charHud$selectedCh.textElement,i=_t$charHud$selectedCh.charIndex,_this$_g4=this._g,_s554=_this$_g4.displayUnit,n=_this$_g4.displaySpace,_o349=_this$_g4.displayPrecision,_l293=Di(_e1181),_a216=_l293.dx[i],_h175=_l293.dy[i],_r109=_l293.rotate[i],_d88=_s554?" "+_s554:"",_c64=1/lb(10,_o349-1),_p61=Kt("px",_s554),_u54=Wt(_e1181,t.vectorCanvas);"viewport"===n&&(_u54=Zt(t.currentWorkspace).multiply(_u54));var _x256=new DOMPoint(0,0);_x256=_x256.matrixTransform(_u54),_x256=_x256.matrixTransform(_p61);var _b42=new DOMPoint(_a216,_h175);_b42=_b42.matrixTransform(_u54),_b42=_b42.matrixTransform(_p61),_a216=_b42.x-_x256.x,_h175=_b42.y-_x256.y,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#dx-input"].value=J(_a216,_o349),this["#dx-input"].suffix=_d88,this["#dx-input"].step=_c64,this["#dy-input"].value=J(_h175,_o349),this["#dy-input"].suffix=_d88,this["#dy-input"].step=_c64,this["#rotation-input"].value=J(_r109,1),this["#rotation-slider"].value=J(_r109,1);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return ab;}(sb);_defineProperty(ab,"_shadowTemplate",Ki(_templateObject336()));_defineProperty(ab,"_shadowStyleSheet",Qi(_templateObject337()));customElements.define("bx-chargeometryinspector",ab);var hb=Math.pow;var rb=/*#__PURE__*/function(_sb3){_inherits(rb,_sb3);var _super132=_createSuper(rb);function rb(){var _this605;_classCallCheck(this,rb);_this605=_super132.call(this),_this605.Lg=!1,_this605.Bg=!1,_this605.gm=!1,_this605.Za=ts(_this605.Xs,200,_assertThisInitialized(_this605)),_this605["#cx-input"].addEventListener("changestart",function(){return _this605.Rg();}),_this605["#cy-input"].addEventListener("changestart",function(){return _this605.Gg();}),_this605["#radius-input"].addEventListener("changestart",function(){return _this605.Ug();});return _this605;}_createClass(rb,[{key:"en",value:function en(){var _this606=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this606.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this606.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this606.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Rg",value:function Rg(){var _this607=this;var t,_e1182,i=this.tn.board,s=i.selectedElements[0],_this$_g5=this._g,n=_this$_g5.displaySpace,o=_this$_g5.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.vectorCanvas);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle center"),this.Lg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1688){var e=new DOMPoint(_this607["#cx-input"].value,_this607["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=ze(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1182=function e(){_this607["#cx-input"].removeEventListener("change",t),_this607["#cx-input"].removeEventListener("changeend",_e1182),_this607.Lg=!1;});}},{key:"Gg",value:function Gg(){var _this608=this;var t,_e1183,i=this.tn.board,s=i.selectedElements[0],_this$_g6=this._g,n=_this$_g6.displaySpace,o=_this$_g6.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.currentWorkspace);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle center"),this.Bg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1689){var e=new DOMPoint(_this608["#cx-input"].value,_this608["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=ze(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1183=function e(){_this608["#cy-input"].removeEventListener("change",t),_this608["#cy-input"].removeEventListener("changeend",_e1183),_this608.Bg=!1;});}},{key:"Ug",value:function Ug(){var _this609=this;var t,_e1184,i=this.tn.board,s=i.selectedElements[0],_this$_g7=this._g,n=_this$_g7.displaySpace,o=_this$_g7.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.currentWorkspace);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle radius"),this.gm=!0;var d=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);d=d.matrixTransform(h),d=d.matrixTransform(a);var c=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);c=c.matrixTransform(h),c=c.matrixTransform(a),this["#radius-input"].addEventListener("change",t=function t(_t1690){var e=new Q(d,c);e.length=_this609["#radius-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r);var i=J(e.length,l);s.setAttribute("r",i);}),this["#radius-input"].addEventListener("changeend",_e1184=function e(){_this609["#radius-input"].removeEventListener("change",t),_this609["#radius-input"].removeEventListener("changeend",_e1184),_this609.gm=!1;});}},{key:"Xs",value:function Xs(){if(!1===this.Lg&&!1===this.Bg&&!1===this.gm){var _t1691=this.tn.board,_e1185=_t1691.outermostSelectedElements;if(0===_e1185.length||"circle"!==_e1185[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$_g8=this._g,i=_this$_g8.displayUnit,_s555=_this$_g8.displaySpace,n=_this$_g8.displayPrecision,_o350=_e1185[0],_l294=Wt(_o350,_t1691.currentWorkspace),_a217=Kt("px",i),_h176=i?" "+i:"",_r110=1/hb(10,n-1);"viewport"===_s555&&(_l294=Zt(_t1691.currentWorkspace).multiply(_l294));var _d89=new DOMPoint(_o350.cx.baseVal.value,_o350.cy.baseVal.value);_d89=_d89.matrixTransform(_l294),_d89=_d89.matrixTransform(_a217),_d89=ze(_d89,n);var _c65=new DOMPoint(_o350.cx.baseVal.value+_o350.r.baseVal.value,_o350.cy.baseVal.value);_c65=_c65.matrixTransform(_l294),_c65=_c65.matrixTransform(_a217);var _p62=new Q(_d89,_c65).length;_p62=J(_p62,n),this["#cx-input"].value=_d89.x,this["#cx-input"].suffix=_h176,this["#cx-input"].step=_r110,this["#cy-input"].value=_d89.y,this["#cy-input"].suffix=_h176,this["#cy-input"].step=_r110,this["#radius-input"].value=_p62,this["#radius-input"].suffix=_h176,this["#radius-input"].step=_r110;}}}}]);return rb;}(sb);_defineProperty(rb,"_shadowTemplate",Ki(_templateObject338()));_defineProperty(rb,"_shadowStyleSheet",Qi(_templateObject339()));customElements.define("bx-circlegeometryinspector",rb);var db=Math.pow;var cb=/*#__PURE__*/function(_sb4){_inherits(cb,_sb4);var _super133=_createSuper(cb);function cb(){var _this610;_classCallCheck(this,cb);_this610=_super133.call(this),_this610.Lg=!1,_this610.Bg=!1,_this610.Fg=!1,_this610.Ng=!1,_this610.jg=!1,_this610.Vg=!1,_this610.Hg=!1,_this610.Za=ts(_this610.Xs,200,_assertThisInitialized(_this610)),_this610["#cx-input"].addEventListener("changestart",function(){return _this610.Rg();}),_this610["#cy-input"].addEventListener("changestart",function(){return _this610.Gg();}),_this610["#r1-input"].addEventListener("changestart",function(){return _this610.Wg();}),_this610["#r2-input"].addEventListener("changestart",function(){return _this610.Yg();}),_this610["#r3-input"].addEventListener("changestart",function(){return _this610.qg();}),_this610["#splay-section"].addEventListener("changestart",function(){return _this610.Qp();}),_this610["#teeth-section"].addEventListener("changestart",function(){return _this610.Jp();});return _this610;}_createClass(cb,[{key:"en",value:function en(){var _this611=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this611.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this611.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this611.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Rg",value:function Rg(){var _this612=this;var t,_e1186,i=this.tn.board,s=i.selectedElements[0],_rl$values44=_slicedToArray(rl(s).values,7),n=_rl$values44[0],o=_rl$values44[1],l=_rl$values44[2],a=_rl$values44[3],h=_rl$values44[4],r=_rl$values44[5],d=_rl$values44[6],_this$_g9=this._g,c=_this$_g9.displaySpace,p=_this$_g9.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.vectorCanvas);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.Lg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1692){var e=new DOMPoint(_this612["#cx-input"].value,_this612["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=ze(e,u),n=e.x,o=e.y,dl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1186=function e(){_this612["#cx-input"].removeEventListener("change",t),_this612["#cx-input"].removeEventListener("changeend",_e1186),_this612.Lg=!1;});}},{key:"Gg",value:function Gg(){var _this613=this;var t,_e1187,i=this.tn.board,s=i.selectedElements[0],_rl$values45=_slicedToArray(rl(s).values,7),n=_rl$values45[0],o=_rl$values45[1],l=_rl$values45[2],a=_rl$values45[3],h=_rl$values45[4],r=_rl$values45[5],d=_rl$values45[6],_this$_g10=this._g,c=_this$_g10.displaySpace,p=_this$_g10.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.currentWorkspace);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.Bg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1693){var e=new DOMPoint(_this613["#cx-input"].value,_this613["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=ze(e,u),n=e.x,o=e.y,dl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1187=function e(){_this613["#cy-input"].removeEventListener("change",t),_this613["#cy-input"].removeEventListener("changeend",_e1187),_this613.Bg=!1;});}},{key:"Wg",value:function Wg(){var _this614=this;var t,_e1188,i=this.tn.board,s=i.selectedElements[0],_rl$values46=_slicedToArray(rl(s).values,7),n=_rl$values46[0],o=_rl$values46[1],l=_rl$values46[2],a=_rl$values46[3],h=_rl$values46[4],r=_rl$values46[5],d=_rl$values46[6],_this$_g11=this._g,c=_this$_g11.displaySpace,p=_this$_g11.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.currentWorkspace);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.Fg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1-input"].addEventListener("change",t=function t(_t1694){var e=new Q(g,f);e.length=_this614["#r1-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=J(e.length,u),dl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r1-input"].addEventListener("changeend",_e1188=function e(){_this614["#r1-input"].removeEventListener("change",t),_this614["#r1-input"].removeEventListener("changeend",_e1188),_this614.Fg=!1;});}},{key:"Yg",value:function Yg(){var _this615=this;var t,_e1189,i=this.tn.board,s=i.selectedElements[0],_rl$values47=_slicedToArray(rl(s).values,7),n=_rl$values47[0],o=_rl$values47[1],l=_rl$values47[2],a=_rl$values47[3],h=_rl$values47[4],r=_rl$values47[5],d=_rl$values47[6],_this$_g12=this._g,c=_this$_g12.displaySpace,p=_this$_g12.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.currentWorkspace);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.Ng=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2-input"].addEventListener("change",t=function t(_t1695){var e=new Q(g,f);e.length=_this615["#r2-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=J(e.length,u),dl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r2-input"].addEventListener("changeend",_e1189=function e(){_this615["#r2-input"].removeEventListener("change",t),_this615["#r2-input"].removeEventListener("changeend",_e1189),_this615.Ng=!1;});}},{key:"qg",value:function qg(){var _this616=this;var t,_e1190,i=this.tn.board,s=i.selectedElements[0],_rl$values48=_slicedToArray(rl(s).values,7),n=_rl$values48[0],o=_rl$values48[1],l=_rl$values48[2],a=_rl$values48[3],h=_rl$values48[4],r=_rl$values48[5],d=_rl$values48[6],_this$_g13=this._g,c=_this$_g13.displaySpace,p=_this$_g13.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.currentWorkspace);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.jg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r3-input"].addEventListener("change",t=function t(_t1696){var e=new Q(g,f);e.length=_this616["#r3-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=J(e.length,u),dl(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r3-input"].addEventListener("changeend",_e1190=function e(){_this616["#r3-input"].removeEventListener("change",t),_this616["#r3-input"].removeEventListener("changeend",_e1190),_this616.jg=!1;});}},{key:"Qp",value:function Qp(){var _this617=this;var t,_e1191,i=this.tn.board,s=i.selectedElements[0],n=rl(s),o=i.geometryPrecision,_n$values14=_slicedToArray(n.values,7),l=_n$values14[0],a=_n$values14[1],h=_n$values14[2],r=_n$values14[3],d=_n$values14[4],c=_n$values14[5],p=_n$values14[6];i.undoManager.checkpoint("Cog splay"),this.Vg=!0,this["#splay-section"].addEventListener("change",t=function t(_t1697){_t1697.target===_this617["#splay-slider"]?_this617["#splay-input"].value=_this617["#splay-slider"].value:_t1697.target===_this617["#splay-input"]&&(_this617["#splay-slider"].value=_this617["#splay-input"].value),c=(100-_this617["#splay-input"].value)/100,c=J(c,o),dl(s,{type:"cog",values:[l,a,h,r,d,c,p]});}),this["#splay-section"].addEventListener("changeend",_e1191=function e(){_this617["#splay-section"].removeEventListener("change",t),_this617["#splay-section"].removeEventListener("changeend",_e1191),_this617.Vg=!1;});}},{key:"Jp",value:function Jp(){var _this618=this;var t,_e1192,i=this.tn.board,s=i.selectedElements[0],n=rl(s),_n$values15=_slicedToArray(n.values,7),o=_n$values15[0],l=_n$values15[1],a=_n$values15[2],h=_n$values15[3],r=_n$values15[4],d=_n$values15[5],c=_n$values15[6];i.undoManager.checkpoint("Cog teeth"),this.Hg=!0,this["#teeth-section"].addEventListener("change",t=function t(_t1698){_t1698.target===_this618["#teeth-slider"]?_this618["#teeth-input"].value=_this618["#teeth-slider"].value:_t1698.target===_this618["#teeth-input"]&&(_this618["#teeth-slider"].value=_this618["#teeth-input"].value),c=_this618["#teeth-input"].value,dl(s,{type:"cog",values:[o,l,a,h,r,d,c]});}),this["#teeth-section"].addEventListener("changeend",_e1192=function e(){_this618["#teeth-section"].removeEventListener("change",t),_this618["#teeth-section"].removeEventListener("changeend",_e1192),_this618.Hg=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=e[0],_s556=rl(i);if(_s556&&"cog"===_s556.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s556$values=_slicedToArray(_s556.values,7),_i1072=_s556$values[0],n=_s556$values[1],_o351=_s556$values[2],_l295=_s556$values[3],_a218=_s556$values[4],_h177=_s556$values[5],_r111=_s556$values[6],_this$_g14=this._g,_d90=_this$_g14.displayUnit,_c66=_this$_g14.displaySpace,_p63=_this$_g14.displayPrecision,_u55=e[0],_x257=Wt(_u55,t.currentWorkspace),_b43=Kt("px",_d90),_m40=_d90?" "+_d90:"",_g35=1/db(10,_p63-1);"viewport"===_c66&&(_x257=Zt(t.currentWorkspace).multiply(_x257));var _f25=new DOMPoint(_i1072,n);if(_f25=_f25.matrixTransform(_x257),_f25=_f25.matrixTransform(_b43),_f25=ze(_f25,_p63),!1===this.Lg&&(this["#cx-input"].value=_f25.x,this["#cx-input"].suffix=_m40,this["#cx-input"].step=_g35),!1===this.Bg&&(this["#cy-input"].value=_f25.y,this["#cy-input"].suffix=_m40,this["#cy-input"].step=_g35),!1===this.Fg){var _t1699=new DOMPoint(_i1072+_o351,n);_t1699=_t1699.matrixTransform(_x257),_t1699=_t1699.matrixTransform(_b43),this["#r1-input"].value=J(new Q(_f25,_t1699).length,_p63),this["#r1-input"].suffix=_m40,this["#r1-input"].step=_g35;}if(!1===this.Ng){var _t1700=new DOMPoint(_i1072+_l295,n);_t1700=_t1700.matrixTransform(_x257),_t1700=_t1700.matrixTransform(_b43),this["#r2-input"].value=J(new Q(_f25,_t1700).length,_p63),this["#r2-input"].suffix=_m40,this["#r2-input"].step=_g35;}if(!1===this.jg){var _t1701=new DOMPoint(_i1072+_a218,n);_t1701=_t1701.matrixTransform(_x257),_t1701=_t1701.matrixTransform(_b43),this["#r3-input"].value=J(new Q(_f25,_t1701).length,_p63),this["#r3-input"].suffix=_m40,this["#r3-input"].step=_g35;}if(!1===this.Vg){var _t1702=J(100-100*_h177,_p63);this["#splay-slider"].value=_t1702,this["#splay-input"].value=_t1702;}!1===this.Hg&&(this["#teeth-slider"].value=J(_r111,0),this["#teeth-input"].value=J(_r111,0));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return cb;}(sb);_defineProperty(cb,"_shadowTemplate",Ki(_templateObject340()));_defineProperty(cb,"_shadowStyleSheet",Qi(_templateObject341()));customElements.define("bx-coggeometryinspector",cb);var pb=Math.abs,ub=Math.min,xb=Math.pow;var bb=/*#__PURE__*/function(_sb5){_inherits(bb,_sb5);var _super134=_createSuper(bb);function bb(){var _this619;_classCallCheck(this,bb);_this619=_super134.call(this),_this619.Lg=!1,_this619.Bg=!1,_this619.Xg=!1,_this619.Zg=!1,_this619.Kg=!1,_this619.Za=ts(_this619.Xs,200,_assertThisInitialized(_this619)),_this619["#cx-input"].addEventListener("changestart",function(){_this619.Rg();}),_this619["#cy-input"].addEventListener("changestart",function(){_this619.Gg();}),_this619["#horizontal-arm-thickness-input"].addEventListener("changestart",function(){_this619.Qg();}),_this619["#vertical-arm-thickness-input"].addEventListener("changestart",function(){_this619.Jg();}),_this619["#shift-section"].addEventListener("changestart",function(){_this619.Bp();}),_this619["#horizontal-arm-thickness-input"].validate=function(){return null;},_this619["#vertical-arm-thickness-input"].validate=function(){return null;},_this619["#shift-input"].validate=function(){return null;};return _this619;}_createClass(bb,[{key:"en",value:function en(){var _this620=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this620.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this620.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this620.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Rg",value:function Rg(){var _this621=this;var t,_e1193,i=this.tn.board,s=i.selectedElements[0],_rl$values49=_slicedToArray(rl(s).values,7),n=_rl$values49[0],o=_rl$values49[1],l=_rl$values49[2],a=_rl$values49[3],h=_rl$values49[4],r=_rl$values49[5],d=_rl$values49[6],_this$_g15=this._g,c=_this$_g15.displaySpace,p=_this$_g15.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.vectorCanvas);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.Lg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1703){var e=new DOMPoint(_this621["#cx-input"].value,_this621["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=ze(e,u);var i=J(e.x-l/2,u),n=J(e.y-a*d,u);dl(s,{type:"cross",values:[i,n,l,a,h,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1193=function e(){_this621["#cx-input"].removeEventListener("change",t),_this621["#cx-input"].removeEventListener("changeend",_e1193),_this621.Lg=!1;});}},{key:"Gg",value:function Gg(){var _this622=this;var t,_e1194,i=this.tn.board,s=i.selectedElements[0],_rl$values50=_slicedToArray(rl(s).values,7),n=_rl$values50[0],o=_rl$values50[1],l=_rl$values50[2],a=_rl$values50[3],h=_rl$values50[4],r=_rl$values50[5],d=_rl$values50[6],_this$_g16=this._g,c=_this$_g16.displaySpace,p=_this$_g16.displayUnit,u=i.geometryPrecision,x=Kt(p,"px"),b=Wt(s,i.currentWorkspace);"viewport"===c&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.Bg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1704){var e=new DOMPoint(_this622["#cx-input"].value,_this622["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=ze(e,u);var i=J(e.x-l/2,u),n=J(e.y-a*d,u);dl(s,{type:"cross",values:[i,n,l,a,h,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1194=function e(){_this622["#cy-input"].removeEventListener("change",t),_this622["#cy-input"].removeEventListener("changeend",_e1194),_this622.Bg=!1;});}},{key:"Qg",value:function Qg(){var _this623=this;var t,_e1195,i=this.tn.board,s=i.selectedElements[0],n=rl(s),o=i.geometryPrecision,_n$values16=_slicedToArray(n.values,7),l=_n$values16[0],a=_n$values16[1],h=_n$values16[2],r=_n$values16[3],d=_n$values16[4],c=_n$values16[5],p=_n$values16[6],_this$_g17=this._g,u=_this$_g17.displaySpace,x=_this$_g17.displayUnit,b=Kt(x,"px"),m=Kt("px",x),g=Wt(s,i.currentWorkspace);"viewport"===u&&(g=Zt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross horizontal arm thickness"),this.Xg=!0,this["#horizontal-arm-thickness-input"].addEventListener("change",t=function t(_t1705){var e=new Q(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this623["#horizontal-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),d=J(e.length,o),dl(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#horizontal-arm-thickness-input"].addEventListener("changeend",_e1195=function e(){_this623["#horizontal-arm-thickness-input"].removeEventListener("change",t),_this623["#horizontal-arm-thickness-input"].removeEventListener("changeend",_e1195),_this623.Xg=!1;});}},{key:"Jg",value:function Jg(){var _this624=this;var t,_e1196,i=this.tn.board,s=i.selectedElements[0],n=rl(s),o=i.geometryPrecision,_n$values17=_slicedToArray(n.values,7),l=_n$values17[0],a=_n$values17[1],h=_n$values17[2],r=_n$values17[3],d=_n$values17[4],c=_n$values17[5],p=_n$values17[6],_this$_g18=this._g,u=_this$_g18.displaySpace,x=_this$_g18.displayUnit,b=Kt(x,"px"),m=Kt("px",x),g=Wt(s,i.currentWorkspace);"viewport"===u&&(g=Zt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross vertical arm thickness"),this.Zg=!0,this["#vertical-arm-thickness-input"].addEventListener("change",t=function t(_t1706){var e=new Q(100,0);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this624["#vertical-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),c=J(e.length,o),dl(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#vertical-arm-thickness-input"].addEventListener("changeend",_e1196=function e(){_this624["#vertical-arm-thickness-input"].removeEventListener("change",t),_this624["#vertical-arm-thickness-input"].removeEventListener("changeend",_e1196),_this624.Zg=!1;});}},{key:"Bp",value:function Bp(){var _this625=this;var t,_e1197,i=this.tn.board,s=i.selectedElements[0],n=rl(s),o=i.geometryPrecision,_n$values18=_slicedToArray(n.values,7),l=_n$values18[0],a=_n$values18[1],h=_n$values18[2],r=_n$values18[3],d=_n$values18[4],c=_n$values18[5],p=_n$values18[6],_this$_g19=this._g,u=_this$_g19.displaySpace,x=_this$_g19.displayUnit,b=Kt(x,"px"),m=Kt("px",x),g=Wt(s,i.currentWorkspace);"viewport"===u&&(g=Zt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross shift"),this.Kg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1707){_t1707.target===_this625["#shift-slider"]?_this625["#shift-input"].value=_this625["#shift-slider"].value:_t1707.target===_this625["#shift-input"]&&(_this625["#shift-slider"].value=_this625["#shift-input"].value);var e=new Q(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=pb(_this625["#shift-input"].value),e=e.matrixTransform(b),e=e.matrixTransform(f),p=e.length*(_this625["#shift-input"].value<0?-1:1),p=p/r+.5,p=J(p,o),dl(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#shift-section"].addEventListener("changeend",_e1197=function e(){_this625["#shift-section"].removeEventListener("change",t),_this625["#shift-section"].removeEventListener("changeend",_e1197),_this625.Kg=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=e[0],_s557=rl(i);if(_s557&&"cross"===_s557.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s557$values=_slicedToArray(_s557.values,7),_i1073=_s557$values[0],n=_s557$values[1],_o352=_s557$values[2],_l296=_s557$values[3],_a219=_s557$values[4],_h178=_s557$values[5],_r112=_s557$values[6],_this$_g20=this._g,_d91=_this$_g20.displayUnit,_c67=_this$_g20.displaySpace,_p64=_this$_g20.displayPrecision,_u56=e[0],_x258=Wt(_u56,t.currentWorkspace),_b44=Kt("px",_d91),_m41=_d91?" "+_d91:"",_g36=1/xb(10,_p64-1);"viewport"===_c67&&(_x258=Zt(t.currentWorkspace).multiply(_x258));var _f26=new DOMPoint(_i1073+_o352/2,n+_l296*_r112);if(_f26=_f26.matrixTransform(_x258),_f26=_f26.matrixTransform(_b44),_f26=ze(_f26,_p64),!1===this.Lg&&(this["#cx-input"].value=_f26.x,this["#cx-input"].suffix=_m41,this["#cx-input"].step=_g36),!1===this.Bg&&(this["#cy-input"].value=_f26.y,this["#cy-input"].suffix=_m41,this["#cy-input"].step=_g36),!1===this.Xg){var _t1708=new Q(0,_a219);_t1708=_t1708.matrixTransform(_x258),_t1708=_t1708.matrixTransform(_b44);var _e1198=new Q(0,2*ub(_l296*_r112,_l296-_l296*_r112));_e1198=_e1198.matrixTransform(_x258),_e1198=_e1198.matrixTransform(_b44),this["#horizontal-arm-thickness-input"].max=J(_e1198.length,_p64),this["#horizontal-arm-thickness-input"].value=J(_t1708.length,_p64),this["#horizontal-arm-thickness-input"].step=_g36,this["#horizontal-arm-thickness-input"].suffix=_m41;}if(!1===this.Zg){var _t1709=new Q(_h178,0);_t1709=_t1709.matrixTransform(_x258),_t1709=_t1709.matrixTransform(_b44);var _e1199=new Q(_o352,0);_e1199=_e1199.matrixTransform(_x258),_e1199=_e1199.matrixTransform(_b44),this["#vertical-arm-thickness-input"].max=J(_e1199.length,_p64),this["#vertical-arm-thickness-input"].value=J(_t1709.length,_p64),this["#vertical-arm-thickness-input"].step=_g36,this["#vertical-arm-thickness-input"].suffix=_m41;}if(!1===this.Kg){var _t1710=new Q(0,(_r112-.5)*_l296);_t1710=_t1710.matrixTransform(_x258),_t1710=_t1710.matrixTransform(_b44);var _e1200=new Q(0,_l296/2-_a219/2);_e1200=_e1200.matrixTransform(_x258),_e1200=_e1200.matrixTransform(_b44);var _i1074=J(_t1710.length,_p64);_i1074*=_r112<.5?-1:1;var _s558=-J(_e1200.length,_p64),_n437=J(_e1200.length,_p64);this["#shift-slider"].min=_s558,this["#shift-slider"].max=_n437,this["#shift-slider"].step=_g36,this["#shift-slider"].value=_i1074,this["#shift-input"].min=_s558,this["#shift-input"].max=_n437,this["#shift-input"].step=_g36,this["#shift-input"].value=_i1074,this["#shift-input"].suffix=_m41;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return bb;}(sb);_defineProperty(bb,"_shadowTemplate",Ki(_templateObject342()));_defineProperty(bb,"_shadowStyleSheet",Qi(_templateObject343()));customElements.define("bx-crossgeometryinspector",bb);var mb=Math.pow;var gb=/*#__PURE__*/function(_sb6){_inherits(gb,_sb6);var _super135=_createSuper(gb);function gb(){var _this626;_classCallCheck(this,gb);_this626=_super135.call(this),_this626.Lg=!1,_this626.Bg=!1,_this626.tf=!1,_this626.ef=!1,_this626.Za=ts(_this626.Xs,200,_assertThisInitialized(_this626)),_this626["#cx-input"].addEventListener("changestart",function(){return _this626.Rg();}),_this626["#cy-input"].addEventListener("changestart",function(){return _this626.Gg();}),_this626["#rx-input"].addEventListener("changestart",function(){return _this626["if"]();}),_this626["#ry-input"].addEventListener("changestart",function(){return _this626.sf();}),_this626["#aspect-ratio-button"].addEventListener("toggle",function(){return _this626.nf();});return _this626;}_createClass(gb,[{key:"en",value:function en(){var _this627=this;this["#aspect-ratio-button"].toggled=app.getConfig("bx-ellipsegeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this627.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this627.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this627.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Rg",value:function Rg(){var _this628=this;var t,_e1201,i=this.tn.board,s=i.selectedElements[0],_this$_g21=this._g,n=_this$_g21.displaySpace,o=_this$_g21.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.vectorCanvas);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Ellipse center"),this.Lg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1711){var e=new DOMPoint(_this628["#cx-input"].value,_this628["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=ze(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1201=function e(){_this628["#cx-input"].removeEventListener("change",t),_this628["#cx-input"].removeEventListener("changeend",_e1201),_this628.Lg=!1;});}},{key:"Gg",value:function Gg(){var _this629=this;var t,_e1202,i=this.tn.board,s=i.selectedElements[0],_this$_g22=this._g,n=_this$_g22.displaySpace,o=_this$_g22.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.currentWorkspace);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Ellipse center"),this.Bg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1712){var e=new DOMPoint(_this629["#cx-input"].value,_this629["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=ze(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1202=function e(){_this629["#cy-input"].removeEventListener("change",t),_this629["#cy-input"].removeEventListener("changeend",_e1202),_this629.Bg=!1;});}},{key:"if",value:function _if(){var _this630=this;var t,_e1203,i=this.tn.board,s=i.selectedElements[0],_this$_g23=this._g,n=_this$_g23.displaySpace,o=_this$_g23.displayUnit,l=i.geometryPrecision,a=this["#ry-input"].value/this["#rx-input"].value,h=Kt(o,"px"),r=Wt(s,i.currentWorkspace);"viewport"===n&&(r=Zt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius X"),this.tf=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(h);var p=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);p=p.matrixTransform(r),p=p.matrixTransform(h),this["#rx-input"].addEventListener("change",t=function t(_t1714){var e=new Q(c,p);e.length=_this630["#rx-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(d);var i=J(e.length,l);if(s.setAttribute("rx",i),_this630["#aspect-ratio-button"].toggled){var _t1713=J(i*a,l);s.setAttribute("ry",_t1713);}}),this["#rx-input"].addEventListener("changeend",_e1203=function e(){_this630["#rx-input"].removeEventListener("change",t),_this630["#rx-input"].removeEventListener("changeend",_e1203),_this630.tf=!1;});}},{key:"sf",value:function sf(){var _this631=this;var t,_e1204,i=this.tn.board,s=i.selectedElements[0],_this$_g24=this._g,n=_this$_g24.displaySpace,o=_this$_g24.displayUnit,l=i.geometryPrecision,a=this["#rx-input"].value/this["#ry-input"].value,h=Kt(o,"px"),r=Wt(s,i.currentWorkspace);"viewport"===n&&(r=Zt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius Y"),this.ef=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(h);var p=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value+100);p=p.matrixTransform(r),p=p.matrixTransform(h),this["#ry-input"].addEventListener("change",t=function t(_t1716){var e=new Q(c,p);e.length=_this631["#ry-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(d);var i=J(e.length,l);if(s.setAttribute("ry",i),_this631["#aspect-ratio-button"].toggled){var _t1715=J(i*a,l);s.setAttribute("rx",_t1715);}}),this["#ry-input"].addEventListener("changeend",_e1204=function e(){_this631["#ry-input"].removeEventListener("change",t),_this631["#ry-input"].removeEventListener("changeend",_e1204),_this631.ef=!1;});}},{key:"nf",value:function nf(){this.Js.setConfig("bx-ellipsegeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off";}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"ellipse"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$_g25=this._g,i=_this$_g25.displayUnit,_s559=_this$_g25.displaySpace,n=_this$_g25.displayPrecision,_o353=e[0],_l297=Wt(_o353,t.currentWorkspace),_a220=Kt("px",i),_h179=i?" "+i:"",_r113=1/mb(10,n-1);"viewport"===_s559&&(_l297=Zt(t.currentWorkspace).multiply(_l297));var _d92=new DOMPoint(_o353.cx.baseVal.value,_o353.cy.baseVal.value);_d92=_d92.matrixTransform(_l297),_d92=_d92.matrixTransform(_a220),_d92=ze(_d92,n);var _c68=new DOMPoint(_o353.cx.baseVal.value+_o353.rx.baseVal.value,_o353.cy.baseVal.value);_c68=_c68.matrixTransform(_l297),_c68=_c68.matrixTransform(_a220);var _p65=new DOMPoint(_o353.cx.baseVal.value,_o353.cy.baseVal.value+_o353.ry.baseVal.value);_p65=_p65.matrixTransform(_l297),_p65=_p65.matrixTransform(_a220);var _u57=J(new Q(_d92,_c68).length,n),_x259=J(new Q(_d92,_p65).length,n);!1===this.Lg&&(this["#cx-input"].value=_d92.x,this["#cx-input"].suffix=_h179,this["#cx-input"].step=_r113),!1===this.Bg&&(this["#cy-input"].value=_d92.y,this["#cy-input"].suffix=_h179,this["#cy-input"].step=_r113),!1===this.tf&&(this["#rx-input"].value=_u57,this["#rx-input"].suffix=_h179,this["#rx-input"].step=_r113),!1===this.ef&&(this["#ry-input"].value=_x259,this["#ry-input"].suffix=_h179,this["#ry-input"].step=_r113);}}}]);return gb;}(sb);_defineProperty(gb,"_shadowTemplate",Ki(_templateObject344()));_defineProperty(gb,"_shadowStyleSheet",Qi(_templateObject345()));customElements.define("bx-ellipsegeometryinspector",gb);var fb=Math.pow;var wb=/*#__PURE__*/function(_sb7){_inherits(wb,_sb7);var _super136=_createSuper(wb);function wb(){var _this632;_classCallCheck(this,wb);_this632=_super136.call(this),_this632.lf=!1,_this632.af=!1,_this632.Pb=!1,_this632.hf=!1,_this632.Za=ts(_this632.Xs,200,_assertThisInitialized(_this632)),_this632["#x-input"].addEventListener("changestart",function(){return _this632.rf();}),_this632["#y-input"].addEventListener("changestart",function(){return _this632.df();}),_this632["#width-input"].addEventListener("changestart",function(){return _this632.cf();}),_this632["#height-input"].addEventListener("changestart",function(){return _this632.pf();}),_this632["#aspect-ratio-button"].addEventListener("toggle",function(){return _this632.nf();});return _this632;}_createClass(wb,[{key:"en",value:function en(){var _this633=this;this.Xs(),this["#aspect-ratio-button"].toggled=this.Js.getConfig("bx-gridgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this633.Za();}),this.tn.board.gridHud.addEventListener("selectedchange",this.uf=function(){_this633.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this633.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.gridHud.removeEventListener("selectedchange",this.uf),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"rf",value:function rf(){var _this634=this;var t,_e1205,i=this.tn.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$_g26=this._g,n=_this$_g26.displaySpace,o=_this$_g26.displayUnit,l=Kt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Zt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid X"),this.lf=!0,this["#x-input"].addEventListener("change",t=function t(_t1717){var e=new DOMRect(_this634["#x-input"].value,_this634["#y-input"].value,_this634["#width-input"].value,_this634["#height-input"].value);e=Ve(e,l),e=Ve(e,a),s.setAttribute("x",J(e.x,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1205=function e(){_this634["#x-input"].removeEventListener("change",t),_this634["#x-input"].removeEventListener("changeend",_e1205),_this634.lf=!1;});}},{key:"df",value:function df(){var _this635=this;var t,_e1206,i=this.tn.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$_g27=this._g,n=_this$_g27.displaySpace,o=_this$_g27.displayUnit,l=Kt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Zt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid Y"),this.af=!0,this["#y-input"].addEventListener("change",t=function t(_t1718){var e=new DOMRect(_this635["#x-input"].value,_this635["#y-input"].value,_this635["#width-input"].value,_this635["#height-input"].value);e=Ve(e,l),e=Ve(e,a),s.setAttribute("y",J(e.y,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1206=function e(){_this635["#y-input"].removeEventListener("change",t),_this635["#y-input"].removeEventListener("changeend",_e1206),_this635.af=!1;});}},{key:"cf",value:function cf(){var _this636=this;var t,_e1207,i=this.tn.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#height-input"].value/this["#width-input"].value,_this$_g28=this._g,o=_this$_g28.displaySpace,l=_this$_g28.displayUnit,a=_this$_g28.displayPrecision,h=Kt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Zt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid width"),this.Pb=!0,this["#width-input"].addEventListener("change",t=function t(_t1719){var e=new DOMRect(0,0,_this636["#width-input"].value,_this636["#height-input"].value);!1===_this636["#aspect-ratio-button"].toggled?(e=Ve(e,h),e=Ve(e,r),s.setAttribute("width",J(e.width,i.geometryPrecision))):!0===_this636["#aspect-ratio-button"].toggled&&(e.height=e.width*n,_this636["#height-input"].value=J(e.height,a),e=Ve(e,h),e=Ve(e,r),s.setAttribute("width",J(e.width,i.geometryPrecision)),s.setAttribute("height",J(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#width-input"].addEventListener("changeend",_e1207=function e(){_this636["#width-input"].removeEventListener("change",t),_this636["#width-input"].removeEventListener("changeend",_e1207),_this636.Pb=!1;});}},{key:"pf",value:function pf(){var _this637=this;var t,_e1208,i=this.tn.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#width-input"].value/this["#height-input"].value,_this$_g29=this._g,o=_this$_g29.displaySpace,l=_this$_g29.displayUnit,a=_this$_g29.displayPrecision,h=Kt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=Zt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid height"),this.hf=!0,this["#height-input"].addEventListener("change",t=function t(_t1720){var e=new DOMRect(0,0,_this637["#width-input"].value,_this637["#height-input"].value);!1===_this637["#aspect-ratio-button"].toggled?(e=Ve(e,h),e=Ve(e,r),s.setAttribute("height",J(e.height,i.geometryPrecision))):!0===_this637["#aspect-ratio-button"].toggled&&(e.width=e.height*n,_this637["#width-input"].value=J(e.width,a),e=Ve(e,h),e=Ve(e,r),s.setAttribute("width",J(e.width,i.geometryPrecision)),s.setAttribute("height",J(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#height-input"].addEventListener("changeend",_e1208=function e(){_this637["#height-input"].removeEventListener("change",t),_this637["#height-input"].removeEventListener("changeend",_e1208),_this637.hf=!1;});}},{key:"nf",value:function nf(){this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Js.setConfig("bx-gridgeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled);}},{key:"Xs",value:function Xs(){var t=this.tn.board;if(!1===this.lf&&!1===this.af&&!1===this.Pb&&!1===this.hf)if(t.gridHud.enabled&&t.gridHud.selected){var _e1209=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),_this$_g30=this._g,i=_this$_g30.displayUnit,_s560=_this$_g30.displaySpace,n=_this$_g30.displayPrecision,_o354=i?" "+i:"",_l298=1/fb(10,n-1),_a221=Kt("px",i),_h180=new DOMMatrix();"viewport"===_s560&&(_h180=Zt(t.currentWorkspace).multiply(_h180));var _r114=new DOMRect(0,0,100,100);for(var _i1075=0,_arr43=["x","y","width","height"];_i1075<_arr43.length;_i1075++){var _t1721=_arr43[_i1075];_e1209&&_e1209.hasAttribute(_t1721)&&(_r114[_t1721]=Fp.fromString(_e1209.getAttribute(_t1721)).value);}_r114=Ve(_r114,_h180),_r114=Ve(_r114,_a221),_r114=je(_r114,n),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#x-input"].value=_r114.x,this["#x-input"].suffix=_o354,this["#x-input"].step=_l298,this["#y-input"].value=_r114.y,this["#y-input"].suffix=_o354,this["#y-input"].step=_l298,this["#width-input"].value=_r114.width,this["#width-input"].suffix=_o354,this["#width-input"].step=_l298,this["#height-input"].value=_r114.height,this["#height-input"].suffix=_o354,this["#height-input"].step=_l298;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return wb;}(sb);_defineProperty(wb,"_shadowTemplate",Ki(_templateObject346()));_defineProperty(wb,"_shadowStyleSheet",Qi(_templateObject347()));customElements.define("bx-gridgeometryinspector",wb);var vb=Math.pow;var yb=/*#__PURE__*/function(_sb8){_inherits(yb,_sb8);var _super137=_createSuper(yb);function yb(){var _this638;_classCallCheck(this,yb);_this638=_super137.call(this),_this638.lf=!1,_this638.af=!1,_this638.Za=ts(_this638.Xs,200,_assertThisInitialized(_this638)),_this638["#x-input"].addEventListener("changestart",function(){return _this638.rf();}),_this638["#y-input"].addEventListener("changestart",function(){return _this638.df();}),_this638["#orientation-buttons"].addEventListener("toggle",function(){return _this638.vm();});return _this638;}_createClass(yb,[{key:"en",value:function en(){var _this639=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this639.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this639.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this639.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"rf",value:function rf(){var _this640=this;var t,_e1210,i=this.tn.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$_g31=this._g,n=_this$_g31.displaySpace,o=_this$_g31.displayUnit,l=Kt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Zt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide X"),this.lf=!0,this["#x-input"].addEventListener("change",t=function t(_t1722){var e=new DOMPoint(_this640["#x-input"].value,_this640["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=ze(e,i.geometryPrecision),s.setAttribute("x",e.x),i.manualGuidesHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1210=function e(){_this640["#x-input"].removeEventListener("change",t),_this640["#x-input"].removeEventListener("changeend",_e1210),_this640.lf=!1;});}},{key:"df",value:function df(){var _this641=this;var t,_e1211,i=this.tn.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$_g32=this._g,n=_this$_g32.displaySpace,o=_this$_g32.displayUnit,l=Kt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Zt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide Y"),this.af=!0,this["#y-input"].addEventListener("change",t=function t(_t1723){var e=new DOMPoint(_this641["#x-input"].value,_this641["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=ze(e,i.geometryPrecision),s.setAttribute("y",e.y),i.manualGuidesHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1211=function e(){_this641["#y-input"].removeEventListener("change",t),_this641["#y-input"].removeEventListener("changeend",_e1211),_this641.af=!1;});}},{key:"vm",value:function vm(){var t=this.tn.board,e=this["#orientation-buttons"].value,i=t.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(i.length>0){t.undoManager.checkpoint("Guide orientation");var _iterator1154=_createForOfIteratorHelper(i),_step1154;try{for(_iterator1154.s();!(_step1154=_iterator1154.n()).done;){var _t1724=_step1154.value;var _i1076=Fp.fromString(_t1724.getAttribute("angle")).value;"horizontal"===e?_i1076%180!=90&&_t1724.setAttribute("angle","90"):"vertical"===e&&_i1076%180!=0&&_t1724.setAttribute("angle","0");}}catch(err){_iterator1154.e(err);}finally{_iterator1154.f();}}}},{key:"Xs",value:function Xs(){if(!1===this.lf&&!1===this.af){var _t1725=this.tn.board,_e1212=_t1725.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(0===_e1212.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$_g33=this._g,i=_this$_g33.displayUnit,_s561=_this$_g33.displaySpace,n=_this$_g33.displayPrecision,_o355=_e1212[0],_l299=Fp.fromString(_o355.getAttribute("angle")).value,_a222=i?" "+i:"",_h181=1/vb(10,n-1),_r115=Kt("px",i),_d93=new DOMMatrix();"viewport"===_s561&&(_d93=Zt(_t1725.currentWorkspace).multiply(_d93));var _c69=Fp.fromString(_o355.getAttribute("x")).value,_p66=Fp.fromString(_o355.getAttribute("y")).value,_u58=new DOMPoint(_c69,_p66);_u58=_u58.matrixTransform(_d93),_u58=_u58.matrixTransform(_r115),_u58=ze(_u58,n),this["#x-input"].value=_u58.x,this["#x-input"].suffix=_a222,this["#x-input"].step=_h181,this["#y-input"].value=_u58.y,this["#y-input"].suffix=_a222,this["#y-input"].step=_h181,this["#orientation-buttons"].value=_l299%180==90?"horizontal":"vertical";}}}}]);return yb;}(sb);_defineProperty(yb,"_shadowTemplate",Ki(_templateObject348()));_defineProperty(yb,"_shadowStyleSheet",Qi(_templateObject349()));customElements.define("bx-guidegeometryinspector",yb);var kb=/*#__PURE__*/function(_sb9){_inherits(kb,_sb9);var _super138=_createSuper(kb);function kb(){var _this642;_classCallCheck(this,kb);_this642=_super138.call(this),_this642.Za=ts(_this642.Xs,200,_assertThisInitialized(_this642));return _this642;}_createClass(kb,[{key:"en",value:function en(){var _this643=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this643.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this643.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Xs",value:function(){var _Xs2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee138(){var t,_e1213,i,_s562;return regeneratorRuntime.wrap(function _callee138$(_context140){while(1){switch(_context140.prev=_context140.next){case 0:t=this.tn.board.outermostSelectedElements[0];if(!t){_context140.next=14;break;}if(!("image"===t.localName)){_context140.next=11;break;}_context140.next=5;return createImageBitmap(t);case 5:_e1213=_context140.sent;i=_e1213.width;_s562=_e1213.height;_e1213.close(),this["#natural-width-input"].value=i,this["#natural-height-input"].value=_s562,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));_context140.next=12;break;case 11:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 12:_context140.next=15;break;case 14:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 15:case"end":return _context140.stop();}}},_callee138,this);}));function Xs(){return _Xs2.apply(this,arguments);}return Xs;}()}]);return kb;}(sb);_defineProperty(kb,"_shadowTemplate",Ki(_templateObject350()));_defineProperty(kb,"_shadowStyleSheet",Qi(_templateObject351()));customElements.define("bx-imagegeometryinspector",kb);var Sb=Math.pow;var Cb=/*#__PURE__*/function(_sb10){_inherits(Cb,_sb10);var _super139=_createSuper(Cb);function Cb(){var _this644;_classCallCheck(this,Cb);_this644=_super139.call(this),_this644.xf=!1,_this644.bf=!1,_this644.mf=!1,_this644.gf=!1,_this644.ff=!1,_this644.Za=ts(_this644.Xs,200,_assertThisInitialized(_this644)),_this644["#x1-input"].addEventListener("changestart",function(){return _this644.wf();}),_this644["#y1-input"].addEventListener("changestart",function(){return _this644.vf();}),_this644["#x2-input"].addEventListener("changestart",function(){return _this644.yf();}),_this644["#y2-input"].addEventListener("changestart",function(){return _this644.kf();}),_this644["#length-input"].addEventListener("changestart",function(){return _this644.Sf();});return _this644;}_createClass(Cb,[{key:"en",value:function en(){var _this645=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this645.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this645.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this645.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"wf",value:function wf(){var _this646=this;var t,_e1214,i=this.tn.board,s=i.selectedElements[0],_this$_g34=this._g,n=_this$_g34.displaySpace,o=_this$_g34.displayUnit,l=Kt(o,"px"),a=Wt(s,i.vectorCanvas);"viewport"===n&&(a=Zt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line X1"),this.xf=!0,this["#x1-input"].addEventListener("change",t=function t(_t1726){var e=new DOMPoint(_this646["#x1-input"].value,_this646["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=ze(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#x1-input"].addEventListener("changeend",_e1214=function e(){_this646["#x1-input"].removeEventListener("change",t),_this646["#x1-input"].removeEventListener("changeend",_e1214),_this646.xf=!1;});}},{key:"vf",value:function vf(){var _this647=this;var t,_e1215,i=this.tn.board,s=i.selectedElements[0],_this$_g35=this._g,n=_this$_g35.displaySpace,o=_this$_g35.displayUnit,l=Kt(o,"px"),a=Wt(s,i.vectorCanvas);"viewport"===n&&(a=Zt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line Y1"),this.bf=!0,this["#y1-input"].addEventListener("change",t=function t(_t1727){var e=new DOMPoint(_this647["#x1-input"].value,_this647["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=ze(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#y1-input"].addEventListener("changeend",_e1215=function e(){_this647["#y1-input"].removeEventListener("change",t),_this647["#y1-input"].removeEventListener("changeend",_e1215),_this647.bf=!1;});}},{key:"yf",value:function yf(){var _this648=this;var t,_e1216,i=this.tn.board,s=i.selectedElements[0],_this$_g36=this._g,n=_this$_g36.displaySpace,o=_this$_g36.displayUnit,l=Kt(o,"px"),a=Wt(s,i.vectorCanvas);"viewport"===n&&(a=Zt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line X2"),this.mf=!0,this["#x2-input"].addEventListener("change",t=function t(_t1728){var e=new DOMPoint(_this648["#x2-input"].value,_this648["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=ze(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#x2-input"].addEventListener("changeend",_e1216=function e(){_this648["#x2-input"].removeEventListener("change",t),_this648["#x2-input"].removeEventListener("changeend",_e1216),_this648.mf=!1;});}},{key:"kf",value:function kf(){var _this649=this;var t,_e1217,i=this.tn.board,s=i.selectedElements[0],_this$_g37=this._g,n=_this$_g37.displaySpace,o=_this$_g37.displayUnit,l=Kt(o,"px"),a=Wt(s,i.vectorCanvas);"viewport"===n&&(a=Zt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line Y2"),this.gf=!0,this["#y2-input"].addEventListener("change",t=function t(_t1729){var e=new DOMPoint(_this649["#x2-input"].value,_this649["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=ze(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#y2-input"].addEventListener("changeend",_e1217=function e(){_this649["#y2-input"].removeEventListener("change",t),_this649["#y2-input"].removeEventListener("changeend",_e1217),_this649.gf=!1;});}},{key:"Sf",value:function Sf(){var _this650=this;var t,_e1218,i=this.tn.board,s=i.selectedElements[0],_this$_g38=this._g,n=_this$_g38.displaySpace,o=_this$_g38.displayUnit,l=Kt("px",o),a=Wt(s,i.vectorCanvas);"viewport"===n&&(a=Zt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line length"),this.ff=!0;var r=new DOMPoint(s.x1.baseVal.value,s.y1.baseVal.value),d=new DOMPoint(s.x2.baseVal.value,s.y2.baseVal.value);this["#length-input"].addEventListener("change",t=function t(_t1730){console.log("change");var e=new Q(r,d);e=e.matrixTransform(a),e=e.matrixTransform(l),e.length=_this650["#length-input"].value,e=e.matrixTransform(l.inverse()),e=e.matrixTransform(h);var n=e.transformPoint(r);n=ze(n,i.geometryPrecision),s.setAttribute("x2",n.x),s.setAttribute("y2",n.y);}),this["#length-input"].addEventListener("changeend",_e1218=function e(){_this650["#length-input"].removeEventListener("change",t),_this650["#length-input"].removeEventListener("changeend",_e1218),_this650.ff=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"line"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var i=e[0],_this$_g39=this._g,_s563=_this$_g39.displayUnit,n=_this$_g39.displaySpace,_o356=_this$_g39.displayPrecision,_l300=Wt(i,t.currentWorkspace),_a223=Kt("px",_s563),_h182=_s563?" "+_s563:"",_r116=1/Sb(10,_o356-1);"viewport"===n&&(_l300=Zt(t.currentWorkspace).multiply(_l300));var _d94=new DOMPoint(i.x1.baseVal.value,i.y1.baseVal.value);_d94=_d94.matrixTransform(_l300),_d94=_d94.matrixTransform(_a223);var _c70=new DOMPoint(i.x2.baseVal.value,i.y2.baseVal.value);_c70=_c70.matrixTransform(_l300),_c70=_c70.matrixTransform(_a223);var _p67=new Q(_d94,_c70).length;_d94=ze(_d94,_o356),_c70=ze(_c70,_o356),_p67=J(_p67,_o356),!1===this.xf&&(this["#x1-input"].value=_d94.x,this["#x1-input"].suffix=_h182,this["#x1-input"].step=_r116),!1===this.bf&&(this["#y1-input"].value=_d94.y,this["#y1-input"].suffix=_h182,this["#y1-input"].step=_r116),!1===this.mf&&(this["#x2-input"].value=_c70.x,this["#x2-input"].suffix=_h182,this["#x2-input"].step=_r116),!1===this.gf&&(this["#y2-input"].value=_c70.y,this["#y2-input"].suffix=_h182,this["#y2-input"].step=_r116),!1===this.ff&&(this["#length-input"].value=_p67,this["#length-input"].suffix=_h182,this["#length-input"].step=_r116);}}}]);return Cb;}(sb);_defineProperty(Cb,"_shadowTemplate",Ki(_templateObject352()));_defineProperty(Cb,"_shadowStyleSheet",Qi(_templateObject353()));customElements.define("bx-linegeometryinspector",Cb);var _b={ArrowRight:{xMinYMin:"xMidYMin",xMidYMin:"xMaxYMin",xMinYMid:"xMidYMid",xMidYMid:"xMaxYMid",xMinYMax:"xMidYMax",xMidYMax:"xMaxYMax"},ArrowLeft:{xMaxYMin:"xMidYMin",xMidYMin:"xMinYMin",xMaxYMid:"xMidYMid",xMidYMid:"xMinYMid",xMaxYMax:"xMidYMax",xMidYMax:"xMinYMax"},ArrowDown:{xMinYMin:"xMinYMid",xMinYMid:"xMinYMax",xMidYMin:"xMidYMid",xMidYMid:"xMidYMax",xMaxYMin:"xMaxYMid",xMaxYMid:"xMaxYMax"},ArrowUp:{xMinYMax:"xMinYMid",xMinYMid:"xMinYMin",xMidYMax:"xMidYMid",xMidYMid:"xMidYMin",xMaxYMax:"xMaxYMid",xMaxYMid:"xMaxYMin"}};var Mb=/*#__PURE__*/function(_HTMLElement109){_inherits(Mb,_HTMLElement109);var _super140=_createSuper(Mb);_createClass(Mb,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Mb(){var _this651;_classCallCheck(this,Mb);_this651=_super140.call(this),_this651._shadowRoot=_this651.attachShadow({mode:"closed",delegatesFocus:!0}),_this651._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Mb._shadowStyleSheet],_this651._shadowRoot.append(document.importNode(Mb._shadowTemplate.content,!0));var _iterator1155=_createForOfIteratorHelper(_this651._shadowRoot.querySelectorAll("[id]")),_step1155;try{for(_iterator1155.s();!(_step1155=_iterator1155.n()).done;){var _t1731=_step1155.value;_this651["#"+_t1731.id]=_t1731;}}catch(err){_iterator1155.e(err);}finally{_iterator1155.f();}_this651.addEventListener("pointerdown",function(t){return _this651.Oo(t);}),_this651["#buttons"].addEventListener("click",function(t){return _this651.Cf(t);}),_this651["#buttons"].addEventListener("keydown",function(t){return _this651.Tn(t);},!0);return _this651;}_createClass(Mb,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this._f():"disabled"===t&&this.Ux());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.Xs();}},{key:"Ux",value:function Ux(){this.setAttribute("aria-disabled",this.disabled);}},{key:"Oo",value:function Oo(t){!1===this.matches(":focus")&&(t.preventDefault(),this.focus(),this.blur());}},{key:"Cf",value:function Cf(t){var e=t.target.closest("x-button");if(e&&!1===e.toggled){var _t1732=this["#buttons"].querySelector("x-button[toggled]");_t1732&&(_t1732.toggled=!1),e.toggled=!0,this.setAttribute("value",e?e.value:"none"),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}));}}},{key:"Tn",value:function Tn(t){var e=t.key;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e)){t.preventDefault(),t.stopImmediatePropagation();var i=this["#buttons"].querySelector("x-button:focus"),_s564=_b[e][i.value],n=this["#buttons"].querySelector("x-button[value=\"".concat(_s564,"\"]"));n&&n.focus();}}},{key:"Xs",value:function Xs(){this._f();}},{key:"_f",value:function _f(){var _iterator1156=_createForOfIteratorHelper(this["#buttons"].children),_step1156;try{for(_iterator1156.s();!(_step1156=_iterator1156.n()).done;){var _t1733=_step1156.value;_t1733.toggled=_t1733.value===this.value;}}catch(err){_iterator1156.e(err);}finally{_iterator1156.f();}}}]);return Mb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Mb,"observedAttributes",["value","disabled"]);_defineProperty(Mb,"_shadowTemplate",Ki(_templateObject354()));_defineProperty(Mb,"_shadowStyleSheet",Qi(_templateObject355()));customElements.define("bx-alignbuttons",Mb);var Pb=Number.isFinite;var Db=/*#__PURE__*/function(_sb11){_inherits(Db,_sb11);var _super141=_createSuper(Db);function Db(){var _this652;_classCallCheck(this,Db);_this652=_super141.call(this),_this652.Mf=!1,_this652.Pf=!1,_this652.Df=!1,_this652.zf=!1,_this652.Of=!1,_this652.Ef=!1,_this652.Tf=!1,_this652.Af=!1,_this652.$f=!1,_this652.If=null,_this652.Lf=null,_this652.Bf=0,_this652.Rf=ts(_this652.Xs,100,_assertThisInitialized(_this652)),_this652["#viewport-width-input"].addEventListener("changestart",function(){return _this652.Gf();}),_this652["#viewport-height-input"].addEventListener("changestart",function(){return _this652.Uf();}),_this652["#viewport-lock-button"].addEventListener("toggle",function(){return _this652.Ff();}),_this652["#viewport-units-select"].addEventListener("change",function(){return _this652.Nf();}),_this652["#viewbox-x-input"].addEventListener("changestart",function(t){return _this652.jf(t);}),_this652["#viewbox-y-input"].addEventListener("changestart",function(t){return _this652.Vf(t);}),_this652["#viewbox-width-input"].addEventListener("changestart",function(t){return _this652.Hf(t);}),_this652["#viewbox-height-input"].addEventListener("changestart",function(t){return _this652.Wf(t);}),_this652["#viewbox-switch"].addEventListener("toggle",function(){return _this652.Yf();}),_this652["#viewbox-lock-button"].addEventListener("toggle",function(){return _this652.qf();}),_this652["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this652.Xf();}),_this652["#align-buttons"].addEventListener("toggle",function(){return _this652.Zf();}),_this652["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this652.Kf();}),_this652["#ref-x-input"].addEventListener("changestart",function(){return _this652.Qf();}),_this652["#ref-y-input"].addEventListener("changestart",function(){return _this652.Jf();}),_this652["#orient-switch"].addEventListener("toggle",function(){return _this652.tw();}),_this652["#orient-box"].addEventListener("changestart",function(){return _this652.ew();});return _this652;}_createClass(Db,[{key:"en",value:function en(){var _this653=this;this.Xs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this653.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this653.pl(t.detail);});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){this.Rf();}},{key:"Gf",value:function Gf(){var _this654=this;var t,_e1219,i=this.tn.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===Pb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Mf=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this654["#viewport-width-input"].value)i.currentWorkspace.removeAttribute("markerWidth");else{var _t1734=J(_this654["#viewport-width-input"].value,s);if(i.currentWorkspace.setAttribute("markerWidth",_t1734),null!==n){var _t1735=J(_this654["#viewport-width-input"].value*n,s);i.currentWorkspace.setAttribute("markerHeight",_t1735);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1219=function e(){_this654["#viewport-width-input"].removeEventListener("change",t),_this654["#viewport-width-input"].removeEventListener("changeend",_e1219),_this654.Mf=!1;});}},{key:"Uf",value:function Uf(){var _this655=this;var t,_e1220,i=this.tn.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===Pb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.Pf=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this655["#viewport-height-input"].value)i.currentWorkspace.removeAttribute("markerHeight");else{var _t1736=J(_this655["#viewport-height-input"].value,s);if(i.currentWorkspace.setAttribute("markerHeight",_t1736),null!==n){var _t1737=J(_this655["#viewport-height-input"].value*n,s);i.currentWorkspace.setAttribute("markerWidth",_t1737);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1220=function e(){_this655["#viewport-height-input"].removeEventListener("change",t),_this655["#viewport-height-input"].removeEventListener("changeend",_e1220),_this655.Pf=!1;});}},{key:"Ff",value:function Ff(){var t=this["#viewport-lock-button"].toggled;this.Js.setConfig("bx-markergeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Nf",value:function Nf(){var t=this.tn.board,e=this["#viewport-units-select"].value;t.undoManager.checkpoint("Marker units"),"userSpaceOnUse"===e?t.currentWorkspace.setAttribute("markerUnits","userSpaceOnUse"):t.currentWorkspace.setAttribute("markerUnits","strokeWidth");}},{key:"Yf",value:function Yf(){var t=this.tn.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.If?t.currentWorkspace.setAttribute("viewBox",this.If):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.If=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"jf",value:function jf(t){var _this656=this;var e,_i1077,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.Df=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this656["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1077=function i(){_this656["#viewbox-x-input"].removeEventListener("change",e),_this656["#viewbox-x-input"].removeEventListener("changeend",_i1077),_this656.Df=!1;});}},{key:"Vf",value:function Vf(t){var _this657=this;var e,_i1078,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.zf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this657["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1078=function i(){_this657["#viewbox-y-input"].removeEventListener("change",e),_this657["#viewbox-y-input"].removeEventListener("changeend",_i1078),_this657.zf=!1;});}},{key:"Hf",value:function Hf(t){var _this658=this;var e,_i1079,_this$tn$board48=this.tn.board,s=_this$tn$board48.geometryPrecision,n=_this$tn$board48.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===Pb(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Of=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this658["#viewbox-width-input"].value,null!==l&&(o.height=J(_this658["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1079=function i(){_this658["#viewbox-width-input"].removeEventListener("change",e),_this658["#viewbox-width-input"].removeEventListener("changeend",_i1079),_this658.Of=!1;});}},{key:"Wf",value:function Wf(t){var _this659=this;var e,_i1080,_this$tn$board49=this.tn.board,s=_this$tn$board49.geometryPrecision,n=_this$tn$board49.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===Pb(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Ef=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this659["#viewbox-height-input"].value,null!==l&&(o.width=J(_this659["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1080=function i(){_this659["#viewbox-height-input"].removeEventListener("change",e),_this659["#viewbox-height-input"].removeEventListener("changeend",_i1080),_this659.Ef=!1;});}},{key:"qf",value:function qf(){var t=this["#viewbox-lock-button"].toggled;this.Js.setConfig("bx-markergeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Xf",value:function Xf(){var t=this.tn.board.currentWorkspace;this.tn.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Lf?t.setAttribute("preserveAspectRatio",this.Lf):t.removeAttribute("preserveAspectRatio"):(this.Lf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Zf",value:function Zf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s565=e;"none"!==_s565&&"slice"===i&&(_s565+=" slice"),t.setAttribute("preserveAspectRatio",_s565);}}},{key:"Kf",value:function Kf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s566=e;"none"!==_s566&&"slice"===i&&(_s566+=" slice"),t.setAttribute("preserveAspectRatio",_s566);}}},{key:"Qf",value:function Qf(){var _this660=this;var t,_e1221,i=this["#ref-x-input"],s=this.tn.board;s.undoManager.checkpoint("Marker reference point"),this.Tf=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refX",i.value);}),i.addEventListener("changeend",_e1221=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1221),_this660.Tf=!1;});}},{key:"Jf",value:function Jf(){var _this661=this;var t,_e1222,i=this["#ref-y-input"],s=this.tn.board;s.undoManager.checkpoint("Marker reference point"),this.Af=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refY",i.value);}),i.addEventListener("changeend",_e1222=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1222),_this661.Af=!1;});}},{key:"tw",value:function tw(){var t=this.tn.board;if(t.undoManager.checkpoint("Marker orient"),this["#orient-switch"].toggled)t.currentWorkspace.setAttribute("orient",this.Bf);else{var _jc=jc(t.currentWorkspace),_jc2=_slicedToArray(_jc,2),_e1223=_jc2[1];this.Bf=_e1223,t.currentWorkspace.setAttribute("orient","auto");}}},{key:"ew",value:function ew(){var _this662=this;var t,_e1224,i=this.tn.board;i.undoManager.checkpoint("Marker orient"),this.$f=!0,this["#orient-box"].addEventListener("change",t=function t(_t1738){_t1738.target===_this662["#orient-slider"]?_this662["#orient-input"].value=_this662["#orient-slider"].value:_t1738.target===_this662["#object-rotation-input"]&&(_this662["#orient-slider"].value=_this662["#orient-input"].value),_this662.Js.modKeys.shift&&(_this662["#orient-input"].value=Ue(_this662["#orient-slider"].value,15),_this662["#orient-slider"].value=_this662["#orient-input"].value),i.currentWorkspace.setAttribute("orient",_this662["#orient-input"].value+"deg");}),this["#orient-box"].addEventListener("changeend",_e1224=function e(){_this662["#orient-box"].removeEventListener("change",t),_this662["#orient-box"].removeEventListener("changeend",_e1224),_this662.$f=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this._g.displayPrecision;if("marker"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _i1081=t.getComputedViewportWidth(),_s567=t.getComputedViewportHeight();null!==_i1081&&null!==_s567?(!1===this.Mf&&(this["#viewport-width-input"].value=J(_i1081.value,o)),!1===this.Pf&&(this["#viewport-height-input"].value=J(_s567.value,o)),this["#viewport-lock-button"].disabled=!1):null!==_i1081&&null===_s567?(!1===this.Mf&&(this["#viewport-width-input"].value=J(_i1081.value,o)),!1===this.Pf&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0):null===_i1081&&null!==_s567?(!1===this.Mf&&(this["#viewport-width-input"].value=null),!1===this.Pf&&(this["#viewport-height-input"].value=J(_s567.value,o)),this["#viewport-lock-button"].disabled=!0):null===_i1081&&null===_s567&&(!1===this.Mf&&(this["#viewport-width-input"].value=null),!1===this.Pf&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0),this["#viewport-units-select"].value=e.getAttribute("markerUnits")||"strokeWidth";}if(e.hasAttribute("viewBox")){var _Ut$fromString3=Ut.fromString(e.getAttribute("viewBox")),_t1739=_Ut$fromString3.x,_i1082=_Ut$fromString3.y,_s568=_Ut$fromString3.width,_n438=_Ut$fromString3.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.Df&&(this["#viewbox-x-input"].value=J(_t1739,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.zf&&(this["#viewbox-y-input"].value=J(_i1082,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Of&&(this["#viewbox-width-input"].value=J(_s568,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Ef&&(this["#viewbox-height-input"].value=J(_n438,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1740=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString2=Bt.fromString(_t1740),_i1083=_Bt$fromString2.align,_s569=_Bt$fromString2.meetOrSlice;"none"===_i1083?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1083,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s569,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}if(!1===this.Tf&&!1===this.Af){var _t1741=Nc(e);this["#ref-x-input"].value=J(_t1741.x,2),this["#ref-y-input"].value=J(_t1741.y,2);}if(!1===this.$f){var _jc3=jc(e),_jc4=_slicedToArray(_jc3,2),_t1742=_jc4[0],_i1084=_jc4[1];this["#orient-section"].hidden=!1,_t1742===SVGMarkerElement.SVG_MARKER_ORIENT_AUTO?(this["#orient-switch"].toggled=!1,this["#orient-input"].disabled=!0,this["#orient-input"].value=null,this["#orient-slider"].disabled=!0,this["#orient-slider"].value=0):(this["#orient-switch"].toggled=!0,this["#orient-input"].disabled=!1,this["#orient-input"].value=_i1084,this["#orient-slider"].disabled=!1,this["#orient-slider"].value=_i1084);}}}}]);return Db;}(sb);_defineProperty(Db,"_shadowTemplate",Ki(_templateObject356()));_defineProperty(Db,"_shadowStyleSheet",Qi(_templateObject357()));customElements.define("bx-markergeometryinspector",Db);var zb=/*#__PURE__*/function(_sb12){_inherits(zb,_sb12);var _super142=_createSuper(zb);function zb(){var _this663;_classCallCheck(this,zb);_this663=_super142.call(this),_this663.iw=!1,_this663.sw=!1,_this663.Za=ts(_this663.Xs,200,_assertThisInitialized(_this663)),_this663["#arms-section"].addEventListener("changestart",function(){return _this663.Np();}),_this663["#corner-section"].addEventListener("changestart",function(){return _this663.Rp();});return _this663;}_createClass(zb,[{key:"en",value:function en(){var _this664=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this664.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this664.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Np",value:function Np(){var _this665=this;var t,_e1225,i=this.tn.board,s=[],n=Symbol();var _iterator1157=_createForOfIteratorHelper(i.selectedElements),_step1157;try{for(_iterator1157.s();!(_step1157=_iterator1157.n()).done;){var _t1745=_step1157.value;if("path"===_t1745.localName){var _e1226=rl(_t1745);_e1226&&"n-gon"===_e1226.type&&(_t1745[n]=_e1226,s.push(_t1745));}}}catch(err){_iterator1157.e(err);}finally{_iterator1157.f();}i.undoManager.checkpoint("N-gon arms"),this.iw=!0,this["#arms-section"].addEventListener("change",t=function t(_t1744){_t1744.target===_this665["#arms-slider"]?_this665["#arms-input"].value=_this665["#arms-slider"].value:_t1744.target===_this665["#arms-input"]&&(_this665["#arms-slider"].value=_this665["#arms-input"].value);var _iterator1158=_createForOfIteratorHelper(s),_step1158;try{for(_iterator1158.s();!(_step1158=_iterator1158.n()).done;){var _t1743=_step1158.value;_t1743[n].values[4]=_this665["#arms-slider"].value,dl(_t1743,_t1743[n]);}}catch(err){_iterator1158.e(err);}finally{_iterator1158.f();}}),this["#arms-section"].addEventListener("changeend",_e1225=function e(){_this665["#arms-section"].removeEventListener("change",t),_this665["#arms-section"].removeEventListener("changeend",_e1225),_this665.iw=!1;});}},{key:"Rp",value:function Rp(){var _this666=this;var t,_e1227,i=this.tn.board,s=[],n=Symbol();var _iterator1159=_createForOfIteratorHelper(i.selectedElements),_step1159;try{for(_iterator1159.s();!(_step1159=_iterator1159.n()).done;){var _t1748=_step1159.value;if("path"===_t1748.localName){var _e1228=rl(_t1748);_e1228&&"n-gon"===_e1228.type&&(_t1748[n]=_e1228,s.push(_t1748));}}}catch(err){_iterator1159.e(err);}finally{_iterator1159.f();}i.undoManager.checkpoint("N-gon corner"),this.sw=!0,this["#corner-section"].addEventListener("change",t=function t(_t1747){_t1747.target===_this666["#corner-slider"]?_this666["#corner-input"].value=_this666["#corner-slider"].value:_t1747.target===_this666["#corner-input"]&&(_this666["#corner-slider"].value=_this666["#corner-input"].value);var e=J(_this666["#corner-slider"].value/200,3);var _iterator1160=_createForOfIteratorHelper(s),_step1160;try{for(_iterator1160.s();!(_step1160=_iterator1160.n()).done;){var _t1746=_step1160.value;_t1746[n].values[5]=e,dl(_t1746,_t1746[n]);}}catch(err){_iterator1160.e(err);}finally{_iterator1160.f();}}),this["#corner-section"].addEventListener("changeend",_e1227=function e(){_this666["#corner-section"].removeEventListener("change",t),_this666["#corner-section"].removeEventListener("changeend",_e1227),_this666.sw=!1;});}},{key:"Xs",value:function Xs(){if(!1===this.iw&&!1===this.sw){var _t1749=this.tn.board.outermostSelectedElements;if(0===_t1749.length||"path"!==_t1749[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1229=rl(_t1749[0]);if(_e1229&&"n-gon"===_e1229.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1229$values=_slicedToArray(_e1229.values,6),_t1750=_e1229$values[0],i=_e1229$values[1],_s570=_e1229$values[2],n=_e1229$values[3],_o357=_e1229$values[4],_l301=_e1229$values[5],_a224=tt(200*_l301,0,100,0);this["#arms-slider"].value=J(_o357,0),this["#arms-input"].value=J(_o357,0),this["#corner-slider"].value=_a224,this["#corner-input"].value=_a224;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}}]);return zb;}(sb);_defineProperty(zb,"_shadowTemplate",Ki(_templateObject358()));_defineProperty(zb,"_shadowStyleSheet",Qi(_templateObject359()));customElements.define("bx-ngongeometryinspector",zb);var Ob=Math.pow;var Eb=/*#__PURE__*/function(_sb13){_inherits(Eb,_sb13);var _super143=_createSuper(Eb);function Eb(){var _this667;_classCallCheck(this,Eb);_this667=_super143.call(this),_this667.lf=!1,_this667.af=!1,_this667.xf=!1,_this667.bf=!1,_this667.mf=!1,_this667.gf=!1,_this667.Za=ts(_this667.Xs,200,_assertThisInitialized(_this667)),_this667["#x-input"].addEventListener("changestart",function(){return _this667.rf();}),_this667["#y-input"].addEventListener("changestart",function(){return _this667.df();}),_this667["#x1-input"].addEventListener("changestart",function(){return _this667.wf();}),_this667["#y1-input"].addEventListener("changestart",function(){return _this667.vf();}),_this667["#x2-input"].addEventListener("changestart",function(){return _this667.yf();}),_this667["#y2-input"].addEventListener("changestart",function(){return _this667.kf();});return _this667;}_createClass(Eb,[{key:"en",value:function en(){var _this668=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this668.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this668.Za();}),this.tn.board.splineHud.addEventListener("selectednodeschange",this.nw=function(){_this668.Xs();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this668.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.splineHud.removeEventListener("selectednodeschange",this.nw),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"rf",value:function rf(){var _this669=this;var t,_e1230,i=this.tn.board,s=i.splineHud.selectedNodes[0],n=s.spline,_this$_g40=this._g,o=_this$_g40.displaySpace,l=_this$_g40.displayUnit,a=Kt(l,"px"),h=Wt(n,i.vectorCanvas);"viewport"===o&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Node X"),this.lf=!0,this["#x-input"].addEventListener("change",t=function t(_t1754){var e=new DOMPoint(_this669["#x-input"].value,_this669["#y-input"].value);if(e=e.matrixTransform(a),e=e.matrixTransform(r),e=ze(e,i.geometryPrecision),"line"===n.localName)n.setAttribute("x".concat(s.index+1),e.x),n.setAttribute("y".concat(s.index+1),e.y);else if("polyline"===n.localName||"polygon"===n.localName){var _t1751=_toConsumableArray(n.points).map(function(t){return[t.x,t.y];});_t1751[s.index]=[e.x,e.y],n.setAttribute("points",_t1751.flat().join(" "));}else if("path"===n.localName)if(!1===n.hasAttribute("data-bx-spline")){var _t1752=at(n.getPathData({normalize:!0})),_i1085=s.index,_o358=_t1752[_i1085].type;_t1752[_i1085].values["C"===_o358?4:0]=e.x,_t1752[_i1085].values["C"===_o358?5:1]=e.y,n.setPathData(_t1752);}else{var _t1753=Ol(n);"basis"===_t1753.type?(_t1753.controlPoints[s.index]=[e.x,e.y],El(n,_t1753)):"catmull"===_t1753.type||_t1753.type;}}),this["#x-input"].addEventListener("changeend",_e1230=function e(){_this669["#x-input"].removeEventListener("change",t),_this669["#x-input"].removeEventListener("changeend",_e1230),_this669.lf=!1;});}},{key:"df",value:function df(){var _this670=this;var t,_e1231,i=this.tn.board,s=i.splineHud.selectedNodes[0],n=s.spline,_this$_g41=this._g,o=_this$_g41.displaySpace,l=_this$_g41.displayUnit,a=Kt(l,"px"),h=Wt(n,i.vectorCanvas);"viewport"===o&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Node Y"),this.af=!0,this["#y-input"].addEventListener("change",t=function t(_t1758){var e=new DOMPoint(_this670["#x-input"].value,_this670["#y-input"].value);if(e=e.matrixTransform(a),e=e.matrixTransform(r),e=ze(e,i.geometryPrecision),"line"===n.localName)n.setAttribute("x".concat(s.index+1),e.x),n.setAttribute("y".concat(s.index+1),e.y);else if("polyline"===n.localName||"polygon"===n.localName){var _t1755=_toConsumableArray(n.points).map(function(t){return[t.x,t.y];});_t1755[s.index]=[e.x,e.y],n.setAttribute("points",_t1755.flat().join(" "));}else if("path"===n.localName)if(!1===n.hasAttribute("data-bx-spline")){var _t1756=at(n.getPathData({normalize:!0})),_i1086=s.index,_o359=_t1756[_i1086].type;_t1756[_i1086].values["C"===_o359?4:0]=e.x,_t1756[_i1086].values["C"===_o359?5:1]=e.y,n.setPathData(_t1756);}else{var _t1757=Ol(n);"basis"===_t1757.type?(_t1757.controlPoints[s.index]=[e.x,e.y],El(n,_t1757)):"catmull"===_t1757.type||_t1757.type;}}),this["#y-input"].addEventListener("changeend",_e1231=function e(){_this670["#y-input"].removeEventListener("change",t),_this670["#y-input"].removeEventListener("changeend",_e1231),_this670.af=!1;});}},{key:"wf",value:function wf(){var _this671=this;var t,_e1232,i=this.tn.board,s=i.splineHud.selectedNodes[0],n=s.spline,o=at(n.getPathData({normalize:!0})),l=s.index,_this$_g42=this._g,a=_this$_g42.displaySpace,h=_this$_g42.displayUnit,r=Kt(h,"px"),d=Wt(n,i.vectorCanvas);"viewport"===a&&(d=Zt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X1"),this.xf=!0,this["#x1-input"].addEventListener("change",t=function t(_t1759){var e=new DOMPoint(_this671["#x1-input"].value,_this671["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=J(e.x,i.geometryPrecision),o[l+1].values[1]=J(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x1-input"].addEventListener("changeend",_e1232=function e(){_this671["#x1-input"].removeEventListener("change",t),_this671["#x1-input"].removeEventListener("changeend",_e1232),_this671.xf=!1;});}},{key:"vf",value:function vf(){var _this672=this;var t,_e1233,i=this.tn.board,s=i.splineHud.selectedNodes[0],n=s.spline,o=at(n.getPathData({normalize:!0})),l=s.index,_this$_g43=this._g,a=_this$_g43.displaySpace,h=_this$_g43.displayUnit,r=Kt(h,"px"),d=Wt(n,i.vectorCanvas);"viewport"===a&&(d=Zt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y1"),this.bf=!0,this["#y1-input"].addEventListener("change",t=function t(_t1760){var e=new DOMPoint(_this672["#x1-input"].value,_this672["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=J(e.x,i.geometryPrecision),o[l+1].values[1]=J(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y1-input"].addEventListener("changeend",_e1233=function e(){_this672["#y1-input"].removeEventListener("change",t),_this672["#y1-input"].removeEventListener("changeend",_e1233),_this672.bf=!1;});}},{key:"yf",value:function yf(){var _this673=this;var t,_e1234,i=this.tn.board,s=i.splineHud.selectedNodes[0],n=s.spline,o=at(n.getPathData({normalize:!0})),l=s.index,_this$_g44=this._g,a=_this$_g44.displaySpace,h=_this$_g44.displayUnit,r=Kt(h,"px"),d=Wt(n,i.vectorCanvas);"viewport"===a&&(d=Zt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X2"),this.mf=!0,this["#x2-input"].addEventListener("change",t=function t(_t1761){var e=new DOMPoint(_this673["#x2-input"].value,_this673["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=J(e.x,i.geometryPrecision),o[l].values[3]=J(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x2-input"].addEventListener("changeend",_e1234=function e(){_this673["#x2-input"].removeEventListener("change",t),_this673["#x2-input"].removeEventListener("changeend",_e1234),_this673.mf=!1;});}},{key:"kf",value:function kf(){var _this674=this;var t,_e1235,i=this.tn.board,s=i.splineHud.selectedNodes[0],n=s.spline,o=at(n.getPathData({normalize:!0})),l=s.index,_this$_g45=this._g,a=_this$_g45.displaySpace,h=_this$_g45.displayUnit,r=Kt(h,"px"),d=Wt(n,i.vectorCanvas);"viewport"===a&&(d=Zt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y2"),this.gf=!0,this["#y2-input"].addEventListener("change",t=function t(_t1762){var e=new DOMPoint(_this674["#x2-input"].value,_this674["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=J(e.x,i.geometryPrecision),o[l].values[3]=J(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y2-input"].addEventListener("changeend",_e1235=function e(){_this674["#y2-input"].removeEventListener("change",t),_this674["#y2-input"].removeEventListener("changeend",_e1235),_this674.gf=!1;});}},{key:"Xs",value:function Xs(){if(!1===this.lf&&!1===this.af&&!1===this.xf&&!1===this.bf&&!1===this.mf&&!1===this.gf){var _t1763=this.tn.board,_e1236=null,i=null,_s571=null;if(1===_t1763.splineHud.selectedNodes.length){var n=_t1763.splineHud.selectedNodes[0],_o360=n.spline,_this$_g46=this._g,_l302=_this$_g46.displaySpace,_a225=_this$_g46.displayUnit,_h183=_this$_g46.displayPrecision,_r117=Wt(_o360,_t1763.currentWorkspace),_d95=Kt("px",_a225),_c71=_a225?" "+_a225:"",_p68=1/Ob(10,_h183-1);if("viewport"===_l302&&(_r117=Zt(_t1763.currentWorkspace).multiply(_r117)),"line"===_o360.localName)_e1236=new DOMPoint(_o360["x".concat(n.index+1)].baseVal.value,_o360["y".concat(n.index+1)].baseVal.value);else if("polyline"===_o360.localName||"polygon"===_o360.localName)_e1236=DOMPoint.fromPoint(_o360.points[n.index]);else if("path"===_o360.localName)if(!1===_o360.hasAttribute("data-bx-spline")){var _t1764=at(_o360.getPathData({normalize:!0})),_l303=n.index,_a226=_t1764[_l303],_h184=_t1764[_l303+1]||null;_e1236="C"===_a226.type?new DOMPoint(_a226.values[4],_a226.values[5]):new DOMPoint(_a226.values[0],_a226.values[1]),_h184&&"C"===_h184.type&&(i=new DOMPoint(_h184.values[0],_h184.values[1])),"C"===_a226.type&&(_s571=new DOMPoint(_a226.values[2],_a226.values[3]));}else{var _t1765=Ol(_o360);"basis"===_t1765.type?_e1236=_construct(DOMPoint,_toConsumableArray(_t1765.controlPoints[n.index])):"catmull"===_t1765.type||_t1765.type;}_e1236?(_e1236=_e1236.matrixTransform(_r117),_e1236=_e1236.matrixTransform(_d95),_e1236=ze(_e1236,_h183),this["#node-point-section"].hidden=!1,this["#x-input"].value=_e1236.x,this["#x-input"].suffix=_c71,this["#x-input"].step=_p68,this["#y-input"].value=_e1236.y,this["#y-input"].suffix=_c71,this["#y-input"].step=_p68):this["#node-point-section"].hidden=!0,i?(i=i.matrixTransform(_r117),i=i.matrixTransform(_d95),i=ze(i,_h183),this["#control-point-1-section"].hidden=!1,this["#x1-input"].value=i.x,this["#x1-input"].suffix=_c71,this["#x1-input"].step=_p68,this["#y1-input"].value=i.y,this["#y1-input"].suffix=_c71,this["#y1-input"].step=_p68):this["#control-point-1-section"].hidden=!0,_s571?(_s571=_s571.matrixTransform(_r117),_s571=_s571.matrixTransform(_d95),_s571=ze(_s571,_h183),this["#control-point-2-section"].hidden=!1,this["#x2-input"].value=_s571.x,this["#x2-input"].suffix=_c71,this["#x2-input"].step=_p68,this["#y2-input"].value=_s571.y,this["#y2-input"].suffix=_c71,this["#y2-input"].step=_p68):this["#control-point-2-section"].hidden=!0;}_e1236||i||_s571?!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))):!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Eb;}(sb);_defineProperty(Eb,"_shadowTemplate",Ki(_templateObject360()));_defineProperty(Eb,"_shadowStyleSheet",Qi(_templateObject361()));customElements.define("bx-nodegeometryinspector",Eb);var Tb=Math.min,Ab=Math.max,$b=Math.pow;var Ib=/*#__PURE__*/function(_sb14){_inherits(Ib,_sb14);var _super144=_createSuper(Ib);function Ib(){var _this675;_classCallCheck(this,Ib);_this675=_super144.call(this),_this675.lf=!1,_this675.af=!1,_this675.Pb=!1,_this675.hf=!1,_this675.ow=!1,_this675.lw=!1,_this675.Tg=!1,_this675.Za=ts(_this675.Xs,200,_assertThisInitialized(_this675)),_this675["#x-input"].addEventListener("changestart",function(){return _this675.rf();}),_this675["#y-input"].addEventListener("changestart",function(){return _this675.df();}),_this675["#width-input"].addEventListener("changestart",function(){return _this675.cf();}),_this675["#height-input"].addEventListener("changestart",function(){return _this675.pf();}),_this675["#aspect-ratio-button"].addEventListener("toggle",function(){return _this675.nf();}),_this675["#origin-x-input"].addEventListener("changestart",function(){return _this675.aw();}),_this675["#origin-y-input"].addEventListener("changestart",function(){return _this675.hw();}),_this675["#rotation-section"].addEventListener("changestart",function(){return _this675.$g();});return _this675;}_createClass(Ib,[{key:"en",value:function en(){var _this676=this;var t=this.Js,e=this.tn.board;this["#aspect-ratio-button"].toggled=t.getConfig("bx-objectgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this676.Za();}),e.addEventListener("workspacemutation",this.rn=function(){_this676.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this676.Za();});}},{key:"sn",value:function sn(){var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"rf",value:function rf(){var _this677=this;var t,_e1238,i=this.tn.board,s=i.outermostSelectedObjectElements,n=[],_this$_g47=this._g,o=_this$_g47.displaySpace,l=_this$_g47.displayUnit,a=Symbol();this.lf=!0;var _iterator1161=_createForOfIteratorHelper(s),_step1161;try{for(_iterator1161.s();!(_step1161=_iterator1161.n()).done;){var _t1768=_step1161.value;var _e1239=Wt(_t1768,i.vectorCanvas);"viewport"===o&&(_e1239=Zt(i.currentWorkspace).multiply(_e1239));var _s573=_e1239.inverse(),_h185=Ht(_t1768),_r118=Kt(l,"px"),_d96=Oi(_t1768);_t1768[a]={userToDisplayTransform:_e1239,displayToUserTransform:_s573,userTransform:_h185,unitTransform:_r118},n.push(Ve(_d96,_e1239));}}catch(err){_iterator1161.e(err);}finally{_iterator1161.f();}var h=He(n).x;i.undoManager.checkpoint("X"),this["#x-input"].addEventListener("change",t=function t(){var _iterator1162=_createForOfIteratorHelper(s),_step1162;try{for(_iterator1162.s();!(_step1162=_iterator1162.n()).done;){var _t1766=_step1162.value;var _t1766$a=_t1766[a],_e1237=_t1766$a.userToDisplayTransform,_i1087=_t1766$a.displayToUserTransform,_s572=_t1766$a.userTransform,_n439=_t1766$a.unitTransform,_o361=_this677["#x-input"].value*_n439.a,_l304=DOMMatrix.fromMatrix(_s572);_l304.multiplySelf(_i1087),_l304.translateSelf(_o361-h,0),_l304.multiplySelf(_e1237),_t1766.setAttribute("transform",_l304.toString());}}catch(err){_iterator1162.e(err);}finally{_iterator1162.f();}}),this["#x-input"].addEventListener("changeend",_e1238=function e(){_this677["#x-input"].removeEventListener("change",t),_this677["#x-input"].removeEventListener("changeend",_e1238),_this677.lf=!1;var _iterator1163=_createForOfIteratorHelper(s),_step1163;try{for(_iterator1163.s();!(_step1163=_iterator1163.n()).done;){var _t1767=_step1163.value;va(_t1767,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1163.e(err);}finally{_iterator1163.f();}});}},{key:"df",value:function df(){var _this678=this;var t,_e1241,i=this.tn.board,s=i.outermostSelectedObjectElements,n=[],_this$_g48=this._g,o=_this$_g48.displaySpace,l=_this$_g48.displayUnit,a=Symbol();this.af=!0;var _iterator1164=_createForOfIteratorHelper(s),_step1164;try{for(_iterator1164.s();!(_step1164=_iterator1164.n()).done;){var _t1771=_step1164.value;var _e1242=Wt(_t1771,i.vectorCanvas);"viewport"===o&&(_e1242=Zt(i.currentWorkspace).multiply(_e1242));var _s575=_e1242.inverse(),_h186=Ht(_t1771),_r119=Kt(l,"px"),_d97=Oi(_t1771);_t1771[a]={userToDisplayTransform:_e1242,displayToUserTransform:_s575,userTransform:_h186,unitTransform:_r119},n.push(Ve(_d97,_e1242));}}catch(err){_iterator1164.e(err);}finally{_iterator1164.f();}var h=He(n).y;i.undoManager.checkpoint("Y"),this["#y-input"].addEventListener("change",t=function t(){var _iterator1165=_createForOfIteratorHelper(s),_step1165;try{for(_iterator1165.s();!(_step1165=_iterator1165.n()).done;){var _t1769=_step1165.value;var _t1769$a=_t1769[a],_e1240=_t1769$a.userToDisplayTransform,_i1088=_t1769$a.displayToUserTransform,_s574=_t1769$a.userTransform,_n440=_t1769$a.unitTransform,_o362=_this678["#y-input"].value*_n440.d,_l305=DOMMatrix.fromMatrix(_s574);_l305.multiplySelf(_i1088),_l305.translateSelf(0,_o362-h),_l305.multiplySelf(_e1240),_t1769.setAttribute("transform",_l305.toString());}}catch(err){_iterator1165.e(err);}finally{_iterator1165.f();}}),this["#y-input"].addEventListener("changeend",_e1241=function e(){_this678["#y-input"].removeEventListener("change",t),_this678["#y-input"].removeEventListener("changeend",_e1241),_this678.af=!1;var _iterator1166=_createForOfIteratorHelper(s),_step1166;try{for(_iterator1166.s();!(_step1166=_iterator1166.n()).done;){var _t1770=_step1166.value;va(_t1770,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1166.e(err);}finally{_iterator1166.f();}});}},{key:"cf",value:function cf(){var _this679=this;var t=this.tn.board,e=t.outermostSelectedObjectElements,_this$_g49=this._g,i=_this$_g49.displaySpace,s=_this$_g49.displayUnit,n=Kt(s,"px");if(this.Pb=!0,t.undoManager.checkpoint("Width"),1===e.length){var _s576=e[0],_o363=Oi(_s576),_l306=Ht(_s576),_a227=Wt(_s576,t.vectorCanvas);"viewport"===i&&(_a227=Zt(t.currentWorkspace).multiply(_a227));var _h187,_r121,_d98=Ee(new DOMPoint(_o363.x,_o363.y).matrixTransform(_a227),new DOMPoint(_o363.x+_o363.width,_o363.y).matrixTransform(_a227));this["#width-input"].addEventListener("change",_h187=function _h187(){var t=_this679["#width-input"].value*n.a/_d98,e=1;_this679["#aspect-ratio-button"].toggled&&(e=t);var i=-_o363.x*(t-1),a=-_o363.y*(e-1),h=DOMMatrix.fromMatrix(_l306);h.translateSelf(i,a),h.scaleSelf(t,e),_s576.setAttribute("transform",h.toString());}),this["#width-input"].addEventListener("changeend",_r121=function _r120(){_this679["#width-input"].removeEventListener("change",_h187),_this679["#width-input"].removeEventListener("changeend",_r121),_this679.Pb=!1,va(_s576,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s577,_o366,_l307=[],_a228=Symbol();var _iterator1167=_createForOfIteratorHelper(e),_step1167;try{for(_iterator1167.s();!(_step1167=_iterator1167.n()).done;){var _s579=_step1167.value;var _e1244=Ht(_s579),_n442=Wt(_s579,t.vectorCanvas);"viewport"===i&&(_n442=Zt(t.currentWorkspace).multiply(_n442));var _o367=_n442.inverse(),_h189=Ve(Oi(_s579),_n442);_s579[_a228]={userTransform:_e1244,userToDisplayTransform:_n442,displayToUserTransform:_o367},_l307.push(_h189);}}catch(err){_iterator1167.e(err);}finally{_iterator1167.f();}var _h188=He(_l307),_r122=_h188.width;this["#width-input"].addEventListener("change",_s577=function _s577(){var t=_this679["#width-input"].value*n.a;var _iterator1168=_createForOfIteratorHelper(e),_step1168;try{for(_iterator1168.s();!(_step1168=_iterator1168.n()).done;){var _i1089=_step1168.value;var _i1089$_a=_i1089[_a228],_e1243=_i1089$_a.userTransform,_s578=_i1089$_a.userToDisplayTransform,_n441=_i1089$_a.displayToUserTransform,_o365=t/_r122,_l308=1;_this679["#aspect-ratio-button"].toggled&&(_l308=_o365);var _d99=-_h188.x*(_o365-1),_c72=-_h188.y*(_l308-1),_p69=DOMMatrix.fromMatrix(_e1243);_p69.multiplySelf(_n441),_p69.translateSelf(_d99,_c72),_p69.scaleSelf(_o365,_l308),_p69.multiplySelf(_s578),_i1089.setAttribute("transform",_p69.toString());}}catch(err){_iterator1168.e(err);}finally{_iterator1168.f();}}),this["#width-input"].addEventListener("changeend",_o366=function _o364(){_this679["#width-input"].removeEventListener("change",_s577),_this679["#width-input"].removeEventListener("changeend",_o366),_this679.Pb=!1;var _iterator1169=_createForOfIteratorHelper(e),_step1169;try{for(_iterator1169.s();!(_step1169=_iterator1169.n()).done;){var _i1090=_step1169.value;va(_i1090,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1169.e(err);}finally{_iterator1169.f();}});}}},{key:"pf",value:function pf(){var _this680=this;var t=this.tn.board,e=t.outermostSelectedObjectElements,_this$_g50=this._g,i=_this$_g50.displaySpace,s=_this$_g50.displayUnit,n=Kt(s,"px");if(this.hf=!0,t.undoManager.checkpoint("Height"),1===e.length){var _s580=e[0],_o368=Oi(_s580),_l309=Ht(_s580),_a229=Wt(_s580,t.vectorCanvas);"viewport"===i&&(_a229=Zt(t.currentWorkspace).multiply(_a229));var _h190,_r124,_d100=Ee(new DOMPoint(_o368.x,_o368.y).matrixTransform(_a229),new DOMPoint(_o368.x,_o368.y+_o368.height).matrixTransform(_a229));this["#height-input"].addEventListener("change",_h190=function _h190(){var t=1,e=_this680["#height-input"].value*n.d/_d100;_this680["#aspect-ratio-button"].toggled&&(t=e);var i=-_o368.x*(t-1),a=-_o368.y*(e-1),h=DOMMatrix.fromMatrix(_l309);h.translateSelf(i,a),h.scaleSelf(t,e),_s580.setAttribute("transform",h.toString());}),this["#height-input"].addEventListener("changeend",_r124=function _r123(){_this680["#height-input"].removeEventListener("change",_h190),_this680["#height-input"].removeEventListener("changeend",_r124),_this680.hf=!1,va(_s580,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s581,_o371,_l310=[],_a230=Symbol();var _iterator1170=_createForOfIteratorHelper(e),_step1170;try{for(_iterator1170.s();!(_step1170=_iterator1170.n()).done;){var _s583=_step1170.value;var _e1246=Ht(_s583),_n444=Wt(_s583,t.vectorCanvas);"viewport"===i&&(_n444=Zt(t.currentWorkspace).multiply(_n444));var _o372=_n444.inverse(),_h192=Ve(Oi(_s583),_n444);_s583[_a230]={userTransform:_e1246,userToDisplayTransform:_n444,displayToUserTransform:_o372},_l310.push(_h192);}}catch(err){_iterator1170.e(err);}finally{_iterator1170.f();}var _h191=He(_l310),_r125=_h191.height;this["#height-input"].addEventListener("change",_s581=function _s581(){var t=_this680["#height-input"].value*n.d;var _iterator1171=_createForOfIteratorHelper(e),_step1171;try{for(_iterator1171.s();!(_step1171=_iterator1171.n()).done;){var _i1091=_step1171.value;var _i1091$_a=_i1091[_a230],_e1245=_i1091$_a.userTransform,_s582=_i1091$_a.userToDisplayTransform,_n443=_i1091$_a.displayToUserTransform,_o370=1,_l311=t/_r125;_this680["#aspect-ratio-button"].toggled&&(_o370=_l311);var _d101=-_h191.x*(_o370-1),_c73=-_h191.y*(_l311-1),_p70=DOMMatrix.fromMatrix(_e1245);_p70.multiplySelf(_n443),_p70.translateSelf(_d101,_c73),_p70.scaleSelf(_o370,_l311),_p70.multiplySelf(_s582),_i1091.setAttribute("transform",_p70.toString());}}catch(err){_iterator1171.e(err);}finally{_iterator1171.f();}}),this["#height-input"].addEventListener("changeend",_o371=function _o369(){_this680["#height-input"].removeEventListener("change",_s581),_this680["#height-input"].removeEventListener("changeend",_o371),_this680.hf=!1;var _iterator1172=_createForOfIteratorHelper(e),_step1172;try{for(_iterator1172.s();!(_step1172=_iterator1172.n()).done;){var _i1092=_step1172.value;va(_i1092,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1172.e(err);}finally{_iterator1172.f();}});}}},{key:"nf",value:function nf(){var t=this["#aspect-ratio-button"].toggled;this.Js.setConfig("bx-objectgeometry:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"aw",value:function aw(){var _this681=this;var t,_e1247,i=this.tn.board,s=i.outermostSelectedObjectElements,_this$_g51=this._g,n=_this$_g51.displaySpace,o=_this$_g51.displayUnit,l=Kt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Zt(i.currentWorkspace));var h=Yt(i.vectorCanvas).inverse(),r=a.multiply(h),d=ie(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1173=_createForOfIteratorHelper(s),_step1173;try{for(_iterator1173.s();!(_step1173=_iterator1173.n()).done;){var _t1773=_step1173.value;var _e1248=Wt(_t1773,i.vectorCanvas);_e1248=a.multiply(_e1248),_t1773[c]=_e1248.inverse(),_t1773[p]=Oi(_t1773);}}catch(err){_iterator1173.e(err);}finally{_iterator1173.f();}i.undoManager.checkpoint("Origin X"),this.ow=!0,this.tn.board.transformHud.enabled&&(this.tn.board.transformHud.mode="rotate-and-skew"),this["#origin-x-input"].addEventListener("change",t=function t(){var t=_this681["#origin-x-input"].value*l.a,e=new DOMPoint(t,d.y);var _iterator1174=_createForOfIteratorHelper(s),_step1174;try{for(_iterator1174.s();!(_step1174=_iterator1174.n()).done;){var _t1772=_step1174.value;var _s584=e.matrixTransform(_t1772[c]),_n445=de(_s584,_t1772[p]);Jt(_t1772,_n445,Ab(i.geometryPrecision,6));}}catch(err){_iterator1174.e(err);}finally{_iterator1174.f();}}),this["#origin-x-input"].addEventListener("changeend",_e1247=function e(){_this681["#origin-x-input"].removeEventListener("change",t),_this681["#origin-x-input"].removeEventListener("changeend",_e1247),_this681.ow=!1;});}},{key:"hw",value:function hw(){var _this682=this;var t,_e1249,i=this.tn.board,s=i.outermostSelectedObjectElements,_this$_g52=this._g,n=_this$_g52.displaySpace,o=_this$_g52.displayUnit,l=Kt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=Zt(i.currentWorkspace));var h=Yt(i.vectorCanvas).inverse(),r=a.multiply(h),d=ie(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1175=_createForOfIteratorHelper(s),_step1175;try{for(_iterator1175.s();!(_step1175=_iterator1175.n()).done;){var _t1775=_step1175.value;var _e1250=Wt(_t1775,i.vectorCanvas);_e1250=a.multiply(_e1250),_t1775[c]=_e1250.inverse(),_t1775[p]=Oi(_t1775);}}catch(err){_iterator1175.e(err);}finally{_iterator1175.f();}i.undoManager.checkpoint("Origin Y"),this.lw=!0,this.tn.board.transformHud.enabled&&(this.tn.board.transformHud.mode="rotate-and-skew"),this["#origin-y-input"].addEventListener("change",t=function t(){var t=_this682["#origin-y-input"].value*l.d,e=new DOMPoint(d.x,t);var _iterator1176=_createForOfIteratorHelper(s),_step1176;try{for(_iterator1176.s();!(_step1176=_iterator1176.n()).done;){var _t1774=_step1176.value;var _s585=e.matrixTransform(_t1774[c]),_n446=de(_s585,_t1774[p]);Jt(_t1774,_n446,Ab(i.geometryPrecision,6));}}catch(err){_iterator1176.e(err);}finally{_iterator1176.f();}}),this["#origin-y-input"].addEventListener("changeend",_e1249=function e(){_this682["#origin-y-input"].removeEventListener("change",t),_this682["#origin-y-input"].removeEventListener("changeend",_e1249),_this682.lw=!1;});}},{key:"$g",value:function $g(){var _this683=this;var t,_e1251,i=this.tn.board,s=i.outermostSelectedObjectElements,n=s.length>1?0:J(se(s[0]),2),o=ie(s),l=!1,a=Symbol();var _iterator1177=_createForOfIteratorHelper(s),_step1177;try{for(_iterator1177.s();!(_step1177=_iterator1177.n()).done;){var _t1779=_step1177.value;var _e1252=Ht(_t1779),_i1094=Yt(_t1779),_s587=_i1094.inverse();_t1779[a]={clientToUserTransform:_i1094,userToClientTransform:_s587,userTransform:_e1252};}}catch(err){_iterator1177.e(err);}finally{_iterator1177.f();}this.tn.board.transformHud.enabled&&(this.tn.board.transformHud.mode="rotate-and-skew"),this.Tg=!0,this["#rotation-section"].addEventListener("change",t=function t(_t1777){!1===l&&(l=!0,i.undoManager.checkpoint("Rotation")),_t1777.target===_this683["#rotation-slider"]?_this683["#rotation-input"].value=_this683["#rotation-slider"].value:_t1777.target===_this683["#rotation-input"]&&(_this683["#rotation-slider"].value=_this683["#rotation-input"].value),_this683.Js.modKeys.shift&&(_this683["#rotation-input"].value=Ue(_this683["#rotation-slider"].value,15),_this683["#rotation-slider"].value=_this683["#rotation-input"].value);var e=_this683["#rotation-input"].value-n;var _iterator1178=_createForOfIteratorHelper(s),_step1178;try{for(_iterator1178.s();!(_step1178=_iterator1178.n()).done;){var _t1776=_step1178.value;var _t1776$a=_t1776[a],_i1093=_t1776$a.clientToUserTransform,_s586=_t1776$a.userToClientTransform,_n447=_t1776$a.userTransform,_l312=DOMMatrix.fromMatrix(_n447);_l312.multiplySelf(_s586),_l312.translateSelf(o.x,o.y),_l312.rotateSelf(e),_l312.translateSelf(-o.x,-o.y),_l312.multiplySelf(_i1093),_t1776.setAttribute("transform",_l312.toString());}}catch(err){_iterator1178.e(err);}finally{_iterator1178.f();}}),this["#rotation-section"].addEventListener("changeend",_e1251=function e(){if(_this683["#rotation-section"].removeEventListener("change",t),_this683["#rotation-section"].removeEventListener("changeend",_e1251),_this683.Tg=!1,l){var _iterator1179=_createForOfIteratorHelper(s),_step1179;try{for(_iterator1179.s();!(_step1179=_iterator1179.n()).done;){var _t1778=_step1179.value;va(_t1778,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1179.e(err);}finally{_iterator1179.f();}}});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedObjectElements;if(0===e.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else if(1===e.length){var _this$_g53=this._g,i=_this$_g53.displaySpace,_s588=_this$_g53.displayUnit,n=_this$_g53.displayPrecision,_o373=e[0],_l313=Oi(_o373),_a231=_s588?" "+_s588:"",_h193=1/$b(10,n-1),_r126=Wt(_o373,t.vectorCanvas),_d102=Kt("px",_s588);"viewport"===i&&(_r126=Zt(t.currentWorkspace).multiply(_r126));var _c74=[new DOMPoint(_l313.x,_l313.y),new DOMPoint(_l313.x+_l313.width,_l313.y),new DOMPoint(_l313.x+_l313.width,_l313.y+_l313.height),new DOMPoint(_l313.x,_l313.y+_l313.height)];_c74=_c74.map(function(t){return t.matrixTransform(_r126);}),_c74=_c74.map(function(t){return t.matrixTransform(_d102);});var _p71=Qt(_o373),_u59=re(_p71,_l313).matrixTransform(_r126);_u59=_u59.matrixTransform(_d102);var _x260=Tb.apply(void 0,_toConsumableArray(_c74.map(function(t){return t.x;}))),_b45=Tb.apply(void 0,_toConsumableArray(_c74.map(function(t){return t.y;}))),_m42=Ee(_c74[0],_c74[1]),_g37=Ee(_c74[1],_c74[2]),_f27=_u59.x,_w21=_u59.y,_v17=se(_o373);!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.lf&&(this["#x-input"].value=J(_x260,n),this["#x-input"].suffix=_a231,this["#x-input"].step=_h193),!1===this.af&&(this["#y-input"].value=J(_b45,n),this["#y-input"].suffix=_a231,this["#y-input"].step=_h193),!1===this.Pb&&(this["#width-input"].value=J(_m42,n),this["#width-input"].suffix=_a231,this["#width-input"].step=_h193),!1===this.hf&&(this["#height-input"].value=J(_g37,n),this["#height-input"].suffix=_a231,this["#height-input"].step=_h193),!1===this.ow&&(this["#origin-x-input"].value=J(_f27,n),this["#origin-x-input"].suffix=_a231,this["#origin-x-input"].step=_h193),!1===this.lw&&(this["#origin-y-input"].value=J(_w21,n),this["#origin-y-input"].suffix=_a231,this["#origin-y-input"].step=_h193),!1===this.Tg&&(this["#rotation-slider"].value=J(_v17,1),this["#rotation-input"].value=J(_v17,1));}else{var _this$_g54=this._g,_i1095=_this$_g54.displaySpace,_s589=_this$_g54.displayUnit,_n448=_this$_g54.displayPrecision,_o374=_s589?" "+_s589:"",_l314=1/$b(10,_n448-1),_a232=Kt("px",_s589),_h194=new DOMMatrix();"viewport"===_i1095&&(_h194=Zt(t.currentWorkspace));var _r127=e.map(function(e){var i=Wt(e,t.vectorCanvas);i=_h194.multiply(i);var s=Oi(e);return s=Ve(s,i),s=Ve(s,_a232),s;}),_d103=Yt(t.vectorCanvas).inverse(),_c75=_h194.multiply(_d103),_p72=He(_r127),_u60=ie(e,!1).matrixTransform(_c75);_u60=_u60.matrixTransform(_a232);var _x261=_p72.x,_b46=_p72.y,_m43=_p72.width,_g38=_p72.height,_f28=_u60.x,_w22=_u60.y;!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.lf&&(this["#x-input"].value=J(_x261,_n448),this["#x-input"].suffix=_o374,this["#x-input"].step=_l314),!1===this.af&&(this["#y-input"].value=J(_b46,_n448),this["#y-input"].suffix=_o374,this["#y-input"].step=_l314),!1===this.Pb&&(this["#width-input"].value=J(_m43,_n448),this["#width-input"].suffix=_o374,this["#width-input"].step=_l314),!1===this.hf&&(this["#height-input"].value=J(_g38,_n448),this["#height-input"].suffix=_o374,this["#height-input"].step=_l314),!1===this.ow&&(this["#origin-x-input"].value=J(_f28,_n448),this["#origin-x-input"].suffix=_o374,this["#origin-x-input"].step=_l314),!1===this.lw&&(this["#origin-y-input"].value=J(_w22,_n448),this["#origin-y-input"].suffix=_o374,this["#origin-y-input"].step=_l314),!1===this.Tg&&(this["#rotation-slider"].value=0,this["#rotation-input"].value=0);}}}]);return Ib;}(sb);_defineProperty(Ib,"_shadowTemplate",Ki(_templateObject362()));_defineProperty(Ib,"_shadowStyleSheet",Qi(_templateObject363()));customElements.define("bx-objectgeometryinspector",Ib);var Lb=/*#__PURE__*/function(_sb15){_inherits(Lb,_sb15);var _super145=_createSuper(Lb);function Lb(){var _this684;_classCallCheck(this,Lb);_this684=_super145.call(this),_this684.Df=!1,_this684.zf=!1,_this684.Of=!1,_this684.Ef=!1,_this684.If=null,_this684.Lf=null,_this684.Rf=ts(_this684.Xs,100,_assertThisInitialized(_this684)),_this684["#viewbox-x-input"].addEventListener("changestart",function(t){return _this684.jf(t);}),_this684["#viewbox-y-input"].addEventListener("changestart",function(t){return _this684.Vf(t);}),_this684["#viewbox-width-input"].addEventListener("changestart",function(t){return _this684.Hf(t);}),_this684["#viewbox-height-input"].addEventListener("changestart",function(t){return _this684.Wf(t);}),_this684["#viewbox-switch"].addEventListener("toggle",function(){return _this684.Yf();}),_this684["#viewbox-lock-button"].addEventListener("toggle",function(){return _this684.qf();}),_this684["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this684.Xf();}),_this684["#align-buttons"].addEventListener("toggle",function(){return _this684.Zf();}),_this684["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this684.Kf();});return _this684;}_createClass(Lb,[{key:"en",value:function en(){var _this685=this;this.Xs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-patterngeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this685.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this685.pl(t.detail);});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){this.Rf();}},{key:"Yf",value:function Yf(){var t=this.tn.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.If?t.currentWorkspace.setAttribute("viewBox",this.If):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.If=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"jf",value:function jf(t){var _this686=this;var e,_i1096,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.Df=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this686["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1096=function i(){_this686["#viewbox-x-input"].removeEventListener("change",e),_this686["#viewbox-x-input"].removeEventListener("changeend",_i1096),_this686.Df=!1;});}},{key:"Vf",value:function Vf(t){var _this687=this;var e,_i1097,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.zf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this687["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1097=function i(){_this687["#viewbox-y-input"].removeEventListener("change",e),_this687["#viewbox-y-input"].removeEventListener("changeend",_i1097),_this687.zf=!1;});}},{key:"Hf",value:function Hf(t){var _this688=this;var e,_i1098,_this$tn$board50=this.tn.board,s=_this$tn$board50.geometryPrecision,n=_this$tn$board50.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Of=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this688["#viewbox-width-input"].value,null!==l&&(o.height=J(_this688["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1098=function i(){_this688["#viewbox-width-input"].removeEventListener("change",e),_this688["#viewbox-width-input"].removeEventListener("changeend",_i1098),_this688.Of=!1;});}},{key:"Wf",value:function Wf(t){var _this689=this;var e,_i1099,_this$tn$board51=this.tn.board,s=_this$tn$board51.geometryPrecision,n=_this$tn$board51.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Ef=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this689["#viewbox-height-input"].value,null!==l&&(o.width=J(_this689["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1099=function i(){_this689["#viewbox-height-input"].removeEventListener("change",e),_this689["#viewbox-height-input"].removeEventListener("changeend",_i1099),_this689.Ef=!1;});}},{key:"qf",value:function qf(){var t=this["#viewbox-lock-button"].toggled;this.Js.setConfig("bx-patterngeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Xf",value:function Xf(){var t=this.tn.board.currentWorkspace;this.tn.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Lf?t.setAttribute("preserveAspectRatio",this.Lf):t.removeAttribute("preserveAspectRatio"):(this.Lf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Zf",value:function Zf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s590=e;"none"!==_s590&&"slice"===i&&(_s590+=" slice"),t.setAttribute("preserveAspectRatio",_s590);}}},{key:"Kf",value:function Kf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s591=e;"none"!==_s591&&"slice"===i&&(_s591+=" slice"),t.setAttribute("preserveAspectRatio",_s591);}}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this._g.displayPrecision;if("pattern"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Ut$fromString4=Ut.fromString(e.getAttribute("viewBox")),_t1780=_Ut$fromString4.x,_i1100=_Ut$fromString4.y,_s592=_Ut$fromString4.width,_n449=_Ut$fromString4.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.Df&&(this["#viewbox-x-input"].value=J(_t1780,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.zf&&(this["#viewbox-y-input"].value=J(_i1100,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Of&&(this["#viewbox-width-input"].value=J(_s592,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Ef&&(this["#viewbox-height-input"].value=J(_n449,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1781=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString3=Bt.fromString(_t1781),_i1101=_Bt$fromString3.align,_s593=_Bt$fromString3.meetOrSlice;"none"===_i1101?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1101,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s593,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Lb;}(sb);_defineProperty(Lb,"_shadowTemplate",Ki(_templateObject364()));_defineProperty(Lb,"_shadowStyleSheet",Qi(_templateObject365()));customElements.define("bx-patterngeometryinspector",Lb);var Bb=Math.pow;var Rb=/*#__PURE__*/function(_sb16){_inherits(Rb,_sb16);var _super146=_createSuper(Rb);function Rb(){var _this690;_classCallCheck(this,Rb);_this690=_super146.call(this),_this690.Fg=!1,_this690.Ng=!1,_this690.rw=!1,_this690.dw=!1,_this690.Za=ts(_this690.Xs,200,_assertThisInitialized(_this690)),_this690["#r1-input"].addEventListener("changestart",function(){return _this690.Wg();}),_this690["#r2-input"].addEventListener("changestart",function(){return _this690.Yg();}),_this690["#start-angle-section"].addEventListener("changestart",function(){return _this690.gu();}),_this690["#end-angle-section"].addEventListener("changestart",function(){return _this690.fu();});return _this690;}_createClass(Rb,[{key:"en",value:function en(){var _this691=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this691.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this691.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this691.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Wg",value:function Wg(){var _this692=this;var t,_e1253,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values51=_slicedToArray(rl(s).values,6),n=_rl$values51[0],o=_rl$values51[1],l=_rl$values51[2],a=_rl$values51[3],h=_rl$values51[4],r=_rl$values51[5],_this$_g55=this._g,d=_this$_g55.displaySpace,c=_this$_g55.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.currentWorkspace);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie inner radius"),this.Fg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1782){var e=new Q(m,g);e.length=_this692["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=J(e.length,p),dl(s,{type:"pie",values:[n,o,l,a,h,r]});}),this["#r1-input"].addEventListener("changeend",_e1253=function e(){_this692["#r1-input"].removeEventListener("change",t),_this692["#r1-input"].removeEventListener("changeend",_e1253),_this692.Fg=!1;});}},{key:"Yg",value:function Yg(){var _this693=this;var t,_e1254,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values52=_slicedToArray(rl(s).values,6),n=_rl$values52[0],o=_rl$values52[1],l=_rl$values52[2],a=_rl$values52[3],h=_rl$values52[4],r=_rl$values52[5],_this$_g56=this._g,d=_this$_g56.displaySpace,c=_this$_g56.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.currentWorkspace);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie outer radius"),this.Ng=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1783){var e=new Q(m,g);e.length=_this693["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),a=J(e.length,p),dl(s,{type:"pie",values:[n,o,l,a,h,r]});}),this["#r2-input"].addEventListener("changeend",_e1254=function e(){_this693["#r2-input"].removeEventListener("change",t),_this693["#r2-input"].removeEventListener("changeend",_e1254),_this693.Ng=!1;});}},{key:"gu",value:function gu(){var _this694=this;var t,_e1255,i=this.tn.board,s=[],n=Symbol();var _iterator1180=_createForOfIteratorHelper(i.outermostSelectedElements),_step1180;try{for(_iterator1180.s();!(_step1180=_iterator1180.n()).done;){var _t1786=_step1180.value;if("path"===_t1786.localName){var _e1256=rl(_t1786);_e1256&&"pie"===_e1256.type&&(_t1786[n]=_e1256,s.push(_t1786));}}}catch(err){_iterator1180.e(err);}finally{_iterator1180.f();}i.undoManager.checkpoint("Pie start angle"),this.rw=!0,this["#start-angle-section"].addEventListener("change",t=function t(_t1785){_t1785.target===_this694["#start-angle-slider"]?_this694["#start-angle-input"].value=_this694["#start-angle-slider"].value:_t1785.target===_this694["#start-angle-input"]&&(_this694["#start-angle-slider"].value=_this694["#start-angle-input"].value);var _iterator1181=_createForOfIteratorHelper(s),_step1181;try{for(_iterator1181.s();!(_step1181=_iterator1181.n()).done;){var _t1784=_step1181.value;_t1784[n].values[4]=_this694["#start-angle-slider"].value,dl(_t1784,_t1784[n]);}}catch(err){_iterator1181.e(err);}finally{_iterator1181.f();}}),this["#start-angle-section"].addEventListener("changeend",_e1255=function e(){_this694["#start-angle-section"].removeEventListener("change",t),_this694["#start-angle-section"].removeEventListener("changeend",_e1255),_this694.rw=!1;});}},{key:"fu",value:function fu(){var _this695=this;var t,_e1257,i=this.tn.board,s=[],n=Symbol();var _iterator1182=_createForOfIteratorHelper(i.outermostSelectedElements),_step1182;try{for(_iterator1182.s();!(_step1182=_iterator1182.n()).done;){var _t1789=_step1182.value;if("path"===_t1789.localName){var _e1258=rl(_t1789);_e1258&&"pie"===_e1258.type&&(_t1789[n]=_e1258,s.push(_t1789));}}}catch(err){_iterator1182.e(err);}finally{_iterator1182.f();}i.undoManager.checkpoint("Pie end angle"),this.dw=!0,this["#end-angle-section"].addEventListener("change",t=function t(_t1788){_t1788.target===_this695["#end-angle-slider"]?_this695["#end-angle-input"].value=_this695["#end-angle-slider"].value:_t1788.target===_this695["#end-angle-input"]&&(_this695["#end-angle-slider"].value=_this695["#end-angle-input"].value);var _iterator1183=_createForOfIteratorHelper(s),_step1183;try{for(_iterator1183.s();!(_step1183=_iterator1183.n()).done;){var _t1787=_step1183.value;_t1787[n].values[5]=_this695["#end-angle-slider"].value,dl(_t1787,_t1787[n]);}}catch(err){_iterator1183.e(err);}finally{_iterator1183.f();}}),this["#end-angle-section"].addEventListener("changeend",_e1257=function e(){_this695["#end-angle-section"].removeEventListener("change",t),_this695["#end-angle-section"].removeEventListener("changeend",_e1257),_this695.dw=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=rl(e[0]);if(i&&"pie"===i.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i$values3=_slicedToArray(i.values,6),_s594=_i$values3[0],n=_i$values3[1],_o375=_i$values3[2],_l315=_i$values3[3],_a233=_i$values3[4],_h195=_i$values3[5],_this$_g57=this._g,_r128=_this$_g57.displayUnit,_d104=_this$_g57.displaySpace,_c76=_this$_g57.displayPrecision,_p73=e[0],_u61=Wt(_p73,t.currentWorkspace),_x262=Kt("px",_r128),_b47=_r128?" "+_r128:"",_m44=1/Bb(10,_c76-1);"viewport"===_d104&&(_u61=Zt(t.currentWorkspace).multiply(_u61));var _g39=new DOMPoint(_s594,n);_g39=_g39.matrixTransform(_u61),_g39=_g39.matrixTransform(_x262),_g39=ze(_g39,_c76);var _f29=new DOMPoint(_s594+_o375,n);_f29=_f29.matrixTransform(_u61),_f29=_f29.matrixTransform(_x262);var _w23=new DOMPoint(_s594+_l315,n);_w23=_w23.matrixTransform(_u61),_w23=_w23.matrixTransform(_x262),!1===this.Fg&&(this["#r1-input"].max=J(new Q(_g39,_w23).length,_c76),this["#r1-input"].value=J(new Q(_g39,_f29).length,_c76),this["#r1-input"].suffix=_b47,this["#r1-input"].step=_m44),!1===this.Ng&&(this["#r2-input"].min=J(new Q(_g39,_f29).length,_c76),this["#r2-input"].value=J(new Q(_g39,_w23).length,_c76),this["#r2-input"].suffix=_b47,this["#r2-input"].step=_m44),!1===this.rw&&(this["#start-angle-slider"].value=J(_a233,2),this["#start-angle-input"].value=J(_a233,2)),!1===this.dw&&(this["#end-angle-slider"].value=J(_h195,2),this["#end-angle-input"].value=J(_h195,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Rb;}(sb);_defineProperty(Rb,"_shadowTemplate",Ki(_templateObject366()));_defineProperty(Rb,"_shadowStyleSheet",Qi(_templateObject367()));customElements.define("bx-piegeometryinspector",Rb);var Gb=Math.min,Ub=Math.pow;var Fb=/*#__PURE__*/function(_sb17){_inherits(Fb,_sb17);var _super147=_createSuper(Fb);function Fb(){var _this696;_classCallCheck(this,Fb);_this696=_super147.call(this),_this696.Lg=!1,_this696.Bg=!1,_this696.Fg=!1,_this696.Ng=!1,_this696.jg=!1,_this696.cw=!1,_this696.Za=ts(_this696.Xs,200,_assertThisInitialized(_this696)),_this696["#r1-input"].addEventListener("changestart",function(){return _this696.Wg();}),_this696["#r2-input"].addEventListener("changestart",function(){return _this696.Yg();}),_this696["#r3-input"].addEventListener("changestart",function(){return _this696.qg();}),_this696["#r4-input"].addEventListener("changestart",function(){return _this696.pw();}),_this696["#r1-input"].validate=function(){return null;},_this696["#r2-input"].validate=function(){return null;},_this696["#r3-input"].validate=function(){return null;},_this696["#r4-input"].validate=function(){return null;};return _this696;}_createClass(Fb,[{key:"en",value:function en(){var _this697=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this697.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this697.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this697.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Wg",value:function Wg(){var _this698=this;var t,_e1259,i=this.tn.board,s=i.outermostSelectedElements[0],_this$_g58=this._g,n=_this$_g58.displaySpace,o=_this$_g58.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.vectorCanvas);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Top left corner radius"),this.Fg=!0,"rect"===s.localName&&(s=this.uw(s));var d=rl(s),_d$values=_slicedToArray(d.values,8),c=_d$values[0],p=_d$values[1],u=_d$values[2],x=_d$values[3],b=_d$values[4],m=_d$values[5],g=_d$values[6],f=_d$values[7];this["#r1-input"].addEventListener("change",t=function t(_t1790){var e=new Q(100,100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this698["#r1-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),b=J(e.length,l),dl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r1-input"].addEventListener("changeend",_e1259=function e(){_this698["#r1-input"].removeEventListener("change",t),_this698["#r1-input"].removeEventListener("changeend",_e1259),_this698["#r1-input"].value===_this698["#r2-input"].value&&_this698["#r1-input"].value===_this698["#r3-input"].value&&_this698["#r1-input"].value===_this698["#r4-input"].value&&_this698.xw(s),_this698.Fg=!1;});}},{key:"Yg",value:function Yg(){var _this699=this;var t,_e1260,i=this.tn.board,s=i.outermostSelectedElements[0],_this$_g59=this._g,n=_this$_g59.displaySpace,o=_this$_g59.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.vectorCanvas);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Top right corner radius"),this.Ng=!0,"rect"===s.localName&&(s=this.uw(s));var d=rl(s),_d$values2=_slicedToArray(d.values,8),c=_d$values2[0],p=_d$values2[1],u=_d$values2[2],x=_d$values2[3],b=_d$values2[4],m=_d$values2[5],g=_d$values2[6],f=_d$values2[7];this["#r2-input"].addEventListener("change",t=function t(_t1791){var e=new Q(-100,100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this699["#r2-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),m=J(e.length,l),dl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r2-input"].addEventListener("changeend",_e1260=function e(){_this699["#r2-input"].removeEventListener("change",t),_this699["#r2-input"].removeEventListener("changeend",_e1260),_this699["#r1-input"].value===_this699["#r2-input"].value&&_this699["#r1-input"].value===_this699["#r3-input"].value&&_this699["#r1-input"].value===_this699["#r4-input"].value&&_this699.xw(s),_this699.Ng=!1;});}},{key:"qg",value:function qg(){var _this700=this;var t,_e1261,i=this.tn.board,s=i.outermostSelectedElements[0],_this$_g60=this._g,n=_this$_g60.displaySpace,o=_this$_g60.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.vectorCanvas);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Bottom right corner radius"),this.jg=!0,"rect"===s.localName&&(s=this.uw(s));var d=rl(s),_d$values3=_slicedToArray(d.values,8),c=_d$values3[0],p=_d$values3[1],u=_d$values3[2],x=_d$values3[3],b=_d$values3[4],m=_d$values3[5],g=_d$values3[6],f=_d$values3[7];this["#r3-input"].addEventListener("change",t=function t(_t1792){var e=new Q(-100,-100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this700["#r3-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),g=J(e.length,l),dl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r3-input"].addEventListener("changeend",_e1261=function e(){_this700["#r3-input"].removeEventListener("change",t),_this700["#r3-input"].removeEventListener("changeend",_e1261),_this700["#r1-input"].value===_this700["#r2-input"].value&&_this700["#r1-input"].value===_this700["#r3-input"].value&&_this700["#r1-input"].value===_this700["#r4-input"].value&&_this700.xw(s),_this700.jg=!1;});}},{key:"pw",value:function pw(){var _this701=this;var t,_e1262,i=this.tn.board,s=i.outermostSelectedElements[0],_this$_g61=this._g,n=_this$_g61.displaySpace,o=_this$_g61.displayUnit,l=i.geometryPrecision,a=Kt(o,"px"),h=Wt(s,i.vectorCanvas);"viewport"===n&&(h=Zt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Bottom left corner radius"),this.cw=!0,"rect"===s.localName&&(s=this.uw(s));var d=rl(s),_d$values4=_slicedToArray(d.values,8),c=_d$values4[0],p=_d$values4[1],u=_d$values4[2],x=_d$values4[3],b=_d$values4[4],m=_d$values4[5],g=_d$values4[6],f=_d$values4[7];this["#r4-input"].addEventListener("change",t=function t(_t1793){var e=new Q(100,-100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this701["#r4-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),f=J(e.length,l),dl(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r4-input"].addEventListener("changeend",_e1262=function e(){_this701["#r4-input"].removeEventListener("change",t),_this701["#r4-input"].removeEventListener("changeend",_e1262),_this701["#r1-input"].value===_this701["#r2-input"].value&&_this701["#r1-input"].value===_this701["#r3-input"].value&&_this701["#r1-input"].value===_this701["#r4-input"].value&&_this701.xw(s),_this701.cw=!1;});}},{key:"uw",value:function uw(t){var e=this.tn.board,i=$i("svg:path");var _iterator1184=_createForOfIteratorHelper(t.attributes),_step1184;try{for(_iterator1184.s();!(_step1184=_iterator1184.n()).done;){var _e1263=_step1184.value;!1===["x","y","width","height","rx","ry"].includes(_e1263.name)&&i.setAttribute(_e1263.name,_e1263.value);}}catch(err){_iterator1184.e(err);}finally{_iterator1184.f();}return dl(i,{type:"rect",values:[t.x.baseVal.value,t.y.baseVal.value,t.width.baseVal.value,t.height.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value]}),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"xw",value:function xw(t){var e=this.tn.board,i=$i("svg:rect"),s=rl(t),_s$values13=_slicedToArray(s.values,8),n=_s$values13[0],o=_s$values13[1],l=_s$values13[2],a=_s$values13[3],h=_s$values13[4],r=_s$values13[5],d=_s$values13[6],c=_s$values13[7];var _iterator1185=_createForOfIteratorHelper(t.attributes),_step1185;try{for(_iterator1185.s();!(_step1185=_iterator1185.n()).done;){var _e1264=_step1185.value;"d"!==_e1264.name&&"data-bx-shape"!==_e1264.name&&i.setAttribute(_e1264.name,_e1264.value);}}catch(err){_iterator1185.e(err);}finally{_iterator1185.f();}return i.setAttribute("x",n),i.setAttribute("y",o),i.setAttribute("width",l),i.setAttribute("height",a),i.setAttribute("rx",h),i.setAttribute("ry",h),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements[0];if(e){if("rect"===e.localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$_g62=this._g,i=_this$_g62.displayUnit,_s595=_this$_g62.displaySpace,n=_this$_g62.displayPrecision,_o376=Wt(e,t.currentWorkspace),_l316=Kt("px",i),_a234=i?" "+i:"",_h196=1/Ub(10,n-1);"viewport"===_s595&&(_o376=Zt(t.currentWorkspace).multiply(_o376));var _r129=new Q(100,100);_r129.length=e.rx.baseVal.value,_r129=_r129.matrixTransform(_o376),_r129=_r129.matrixTransform(_l316);var _d105=new Q(e.width.baseVal.value,0);_d105=_d105.matrixTransform(_o376),_d105=_d105.matrixTransform(_l316);var _c77=new Q(0,e.height.baseVal.value);_c77=_c77.matrixTransform(_o376),_c77=_c77.matrixTransform(_l316);var _p74=J(_r129.length,n),_u62=J(Gb(_d105.length/2,_c77.length/2),n);for(var _i1102=0,_arr44=[this["#r1-input"],this["#r2-input"],this["#r3-input"],this["#r4-input"]];_i1102<_arr44.length;_i1102++){var _t1794=_arr44[_i1102];_t1794.max=_u62,_t1794.value=_p74,_t1794.step=_h196,_t1794.suffix=_a234;}}else if("path"===e.localName){var _i1103=rl(e);if(_i1103&&"rect"===_i1103.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1103$values=_slicedToArray(_i1103.values,8),_s596=_i1103$values[0],_n450=_i1103$values[1],_o377=_i1103$values[2],_l317=_i1103$values[3],_a235=_i1103$values[4],_h197=_i1103$values[5],_r130=_i1103$values[6],_d106=_i1103$values[7],_this$_g63=this._g,_c78=_this$_g63.displayUnit,_p75=_this$_g63.displaySpace,_u63=_this$_g63.displayPrecision,_x263=Wt(e,t.currentWorkspace),_b48=Kt("px",_c78),_m45=_c78?" "+_c78:"",_g40=1/Ub(10,_u63-1);"viewport"===_p75&&(_x263=Zt(t.currentWorkspace).multiply(_x263));var _f30=new Q(_o377,0);_f30=_f30.matrixTransform(_x263),_f30=_f30.matrixTransform(_b48);var _w24=new Q(0,_l317);_w24=_w24.matrixTransform(_x263),_w24=_w24.matrixTransform(_b48);var _v18=J(Gb(_f30.length/2,_w24.length/2),_u63);if(!1===this.Fg){var _t1795=new Q(100,100);_t1795.length=_a235,_t1795=_t1795.matrixTransform(_x263),_t1795=_t1795.matrixTransform(_b48);var _e1265=J(_t1795.length,_u63);this["#r1-input"].max=_v18,this["#r1-input"].value=_e1265,this["#r1-input"].step=_g40,this["#r1-input"].suffix=_m45;}if(!1===this.Ng){var _t1796=new Q(-100,100);_t1796.length=_h197,_t1796=_t1796.matrixTransform(_x263),_t1796=_t1796.matrixTransform(_b48);var _e1266=J(_t1796.length,_u63);this["#r2-input"].max=_v18,this["#r2-input"].value=_e1266,this["#r2-input"].step=_g40,this["#r2-input"].suffix=_m45;}if(!1===this.jg){var _t1797=new Q(-100,-100);_t1797.length=_r130,_t1797=_t1797.matrixTransform(_x263),_t1797=_t1797.matrixTransform(_b48);var _e1267=J(_t1797.length,_u63);this["#r3-input"].max=_v18,this["#r3-input"].value=_e1267,this["#r3-input"].step=_g40,this["#r3-input"].suffix=_m45;}if(!1===this.cw){var _t1798=new Q(100,-100);_t1798.length=_d106,_t1798=_t1798.matrixTransform(_x263),_t1798=_t1798.matrixTransform(_b48);var _e1268=J(_t1798.length,_u63);this["#r4-input"].max=_v18,this["#r4-input"].value=_e1268,this["#r4-input"].step=_g40,this["#r4-input"].suffix=_m45;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Fb;}(sb);_defineProperty(Fb,"_shadowTemplate",Ki(_templateObject368()));_defineProperty(Fb,"_shadowStyleSheet",Qi(_templateObject369()));customElements.define("bx-rectgeometryinspector",Fb);var Nb=Math.min,jb=Math.max,Vb=Math.pow;var Hb=/*#__PURE__*/function(_sb18){_inherits(Hb,_sb18);var _super148=_createSuper(Hb);function Hb(){var _this702;_classCallCheck(this,Hb);_this702=_super148.call(this),_this702.Lg=!1,_this702.Bg=!1,_this702.bw=!1,_this702.mw=!1,_this702.gw=!1,_this702.fw=!1,_this702.Za=ts(_this702.Xs,200,_assertThisInitialized(_this702)),_this702["#cx-input"].addEventListener("changestart",function(){return _this702.Rg();}),_this702["#cy-input"].addEventListener("changestart",function(){return _this702.Gg();}),_this702["#r1x-input"].addEventListener("changestart",function(){return _this702.ww();}),_this702["#r1y-input"].addEventListener("changestart",function(){return _this702.yw();}),_this702["#r1-aspect-ratio-button"].addEventListener("toggle",function(){return _this702.kw();}),_this702["#r2x-input"].addEventListener("changestart",function(){return _this702.Sw();}),_this702["#r2y-input"].addEventListener("changestart",function(){return _this702.Cw();}),_this702["#r2-aspect-ratio-button"].addEventListener("toggle",function(){return _this702._w();}),_this702["#r1x-input"].validate=function(){return null;},_this702["#r1y-input"].validate=function(){return null;},_this702["#r2x-input"].validate=function(){return null;},_this702["#r2y-input"].validate=function(){return null;};return _this702;}_createClass(Hb,[{key:"en",value:function en(){var _this703=this;this["#r1-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR1AspectRatio",!1),this["#r2-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR2AspectRatio",!1),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this703.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this703.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this703.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Rg",value:function Rg(){var _this704=this;var t,_e1269,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values53=_slicedToArray(rl(s).values,6),n=_rl$values53[0],o=_rl$values53[1],l=_rl$values53[2],a=_rl$values53[3],h=_rl$values53[4],r=_rl$values53[5],_this$_g64=this._g,d=_this$_g64.displaySpace,c=_this$_g64.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.vectorCanvas);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.Lg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1799){var e=new DOMPoint(_this704["#cx-input"].value,_this704["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=ze(e,p),n=e.x,o=e.y,dl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#cx-input"].addEventListener("changeend",_e1269=function e(){_this704["#cx-input"].removeEventListener("change",t),_this704["#cx-input"].removeEventListener("changeend",_e1269),_this704.Lg=!1;});}},{key:"Gg",value:function Gg(){var _this705=this;var t,_e1270,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values54=_slicedToArray(rl(s).values,6),n=_rl$values54[0],o=_rl$values54[1],l=_rl$values54[2],a=_rl$values54[3],h=_rl$values54[4],r=_rl$values54[5],_this$_g65=this._g,d=_this$_g65.displaySpace,c=_this$_g65.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.currentWorkspace);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.Bg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1800){var e=new DOMPoint(_this705["#cx-input"].value,_this705["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=ze(e,p),n=e.x,o=e.y,dl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#cy-input"].addEventListener("changeend",_e1270=function e(){_this705["#cy-input"].removeEventListener("change",t),_this705["#cy-input"].removeEventListener("changeend",_e1270),_this705.Bg=!1;});}},{key:"ww",value:function ww(){var _this706=this;var t,_e1271,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values55=_slicedToArray(rl(s).values,6),n=_rl$values55[0],o=_rl$values55[1],l=_rl$values55[2],a=_rl$values55[3],h=_rl$values55[4],r=_rl$values55[5],_this$_g66=this._g,d=_this$_g66.displaySpace,c=_this$_g66.displayUnit,p=i.geometryPrecision,u=this["#r1y-input"].value/this["#r1x-input"].value||1,x=Kt(c,"px"),b=Wt(s,i.currentWorkspace);"viewport"===d&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.bw=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1x-input"].addEventListener("change",t=function t(_t1801){var e=new Q(g,f);e.length=_this706["#r1x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=J(e.length,p),_this706["#r1-aspect-ratio-button"].toggled&&(a=J(l*u,p)),dl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r1x-input"].addEventListener("changeend",_e1271=function e(){_this706["#r1x-input"].removeEventListener("change",t),_this706["#r1x-input"].removeEventListener("changeend",_e1271),_this706.bw=!1;});}},{key:"yw",value:function yw(){var _this707=this;var t,_e1272,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values56=_slicedToArray(rl(s).values,6),n=_rl$values56[0],o=_rl$values56[1],l=_rl$values56[2],a=_rl$values56[3],h=_rl$values56[4],r=_rl$values56[5],_this$_g67=this._g,d=_this$_g67.displaySpace,c=_this$_g67.displayUnit,p=i.geometryPrecision,u=this["#r1x-input"].value/this["#r1y-input"].value||1,x=Kt(c,"px"),b=Wt(s,i.currentWorkspace);"viewport"===d&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.mw=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1y-input"].addEventListener("change",t=function t(_t1802){var e=new Q(g,f);e.length=_this707["#r1y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=J(e.length,p),_this707["#r1-aspect-ratio-button"].toggled&&(l=J(a*u,p)),dl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r1y-input"].addEventListener("changeend",_e1272=function e(){_this707["#r1y-input"].removeEventListener("change",t),_this707["#r1y-input"].removeEventListener("changeend",_e1272),_this707.mw=!1;});}},{key:"kw",value:function kw(){this.Js.setConfig("bx-ringgeometry:preserveR1AspectRatio",this["#r1-aspect-ratio-button"].toggled),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Xs();}},{key:"Sw",value:function Sw(){var _this708=this;var t,_e1273,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values57=_slicedToArray(rl(s).values,6),n=_rl$values57[0],o=_rl$values57[1],l=_rl$values57[2],a=_rl$values57[3],h=_rl$values57[4],r=_rl$values57[5],_this$_g68=this._g,d=_this$_g68.displaySpace,c=_this$_g68.displayUnit,p=i.geometryPrecision,u=this["#r2y-input"].value/this["#r2x-input"].value||1,x=Kt(c,"px"),b=Wt(s,i.currentWorkspace);"viewport"===d&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.gw=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2x-input"].addEventListener("change",t=function t(_t1803){var e=new Q(g,f);e.length=_this708["#r2x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=J(e.length,p),_this708["#r2-aspect-ratio-button"].toggled&&(r=J(h*u,p)),dl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r2x-input"].addEventListener("changeend",_e1273=function e(){_this708["#r2x-input"].removeEventListener("change",t),_this708["#r2x-input"].removeEventListener("changeend",_e1273),_this708.gw=!1;});}},{key:"Cw",value:function Cw(){var _this709=this;var t,_e1274,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values58=_slicedToArray(rl(s).values,6),n=_rl$values58[0],o=_rl$values58[1],l=_rl$values58[2],a=_rl$values58[3],h=_rl$values58[4],r=_rl$values58[5],_this$_g69=this._g,d=_this$_g69.displaySpace,c=_this$_g69.displayUnit,p=i.geometryPrecision,u=this["#r2x-input"].value/this["#r2y-input"].value||1,x=Kt(c,"px"),b=Wt(s,i.currentWorkspace);"viewport"===d&&(b=Zt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.fw=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2y-input"].addEventListener("change",t=function t(_t1804){var e=new Q(g,f);e.length=_this709["#r2y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),r=J(e.length,p),_this709["#r2-aspect-ratio-button"].toggled&&(h=J(r*u,p)),dl(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r2y-input"].addEventListener("changeend",_e1274=function e(){_this709["#r2y-input"].removeEventListener("change",t),_this709["#r2y-input"].removeEventListener("changeend",_e1274),_this709.fw=!1;});}},{key:"_w",value:function _w(){this.Js.setConfig("bx-ringgeometry:preserveR2AspectRatio",this["#r2-aspect-ratio-button"].toggled),this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Xs();}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=rl(e[0]);if(i&&"ring"===i.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i$values4=_slicedToArray(i.values,6),_s597=_i$values4[0],n=_i$values4[1],_o378=_i$values4[2],_l318=_i$values4[3],_a236=_i$values4[4],_h198=_i$values4[5],_this$_g70=this._g,_r131=_this$_g70.displayUnit,_d107=_this$_g70.displaySpace,_c79=_this$_g70.displayPrecision,_p76=e[0],_u64=Wt(_p76,t.currentWorkspace),_x264=Kt("px",_r131),_b49=_r131?" "+_r131:"",_m46=1/Vb(10,_c79-1);"viewport"===_d107&&(_u64=Zt(t.currentWorkspace).multiply(_u64));var _g41=new DOMPoint(_s597,n);if(_g41=_g41.matrixTransform(_u64),_g41=_g41.matrixTransform(_x264),_g41=ze(_g41,_c79),!1===this.Lg&&(this["#cx-input"].value=_g41.x,this["#cx-input"].suffix=_b49,this["#cx-input"].step=_m46),!1===this.Bg&&(this["#cy-input"].value=_g41.y,this["#cy-input"].suffix=_b49,this["#cy-input"].step=_m46),!1===this.bw){var _t1805=this["#r1-aspect-ratio-button"].toggled?Nb(_a236,_h198*(_o378/_l318)):_a236,_e1275=new DOMPoint(_s597+_o378,n);_e1275=_e1275.matrixTransform(_u64),_e1275=_e1275.matrixTransform(_x264);var _i1104=new DOMPoint(_s597+_t1805,n);_i1104=_i1104.matrixTransform(_u64),_i1104=_i1104.matrixTransform(_x264),this["#r1x-input"].max=J(new Q(_g41,_i1104).length,_c79),this["#r1x-input"].value=J(new Q(_g41,_e1275).length,_c79),this["#r1x-input"].suffix=_b49,this["#r1x-input"].step=_m46;}if(!1===this.mw){var _t1806=this["#r1-aspect-ratio-button"].toggled?Nb(_h198,_a236*(_l318/_o378)):_h198,_e1276=new DOMPoint(_s597,n+_l318);_e1276=_e1276.matrixTransform(_u64),_e1276=_e1276.matrixTransform(_x264);var _i1105=new DOMPoint(_s597,n+_t1806);_i1105=_i1105.matrixTransform(_u64),_i1105=_i1105.matrixTransform(_x264),this["#r1y-input"].max=J(new Q(_g41,_i1105).length,_c79),this["#r1y-input"].value=J(new Q(_g41,_e1276).length,_c79),this["#r1y-input"].suffix=_b49,this["#r1y-input"].step=_m46;}if(!1===this.gw){var _t1807=this["#r2-aspect-ratio-button"].toggled?jb(_o378,_l318*(_a236/_h198)):_o378,_e1277=new DOMPoint(_s597+_a236,n);_e1277=_e1277.matrixTransform(_u64),_e1277=_e1277.matrixTransform(_x264);var _i1106=new DOMPoint(_s597+_t1807,n);_i1106=_i1106.matrixTransform(_u64),_i1106=_i1106.matrixTransform(_x264),this["#r2x-input"].min=J(new Q(_g41,_i1106).length,_c79),this["#r2x-input"].value=J(new Q(_g41,_e1277).length,_c79),this["#r2x-input"].suffix=_b49,this["#r2x-input"].step=_m46;}if(!1===this.fw){var _t1808=this["#r2-aspect-ratio-button"].toggled?jb(_l318,_o378*(_h198/_a236)):_l318,_e1278=new DOMPoint(_s597,n+_h198);_e1278=_e1278.matrixTransform(_u64),_e1278=_e1278.matrixTransform(_x264);var _i1107=new DOMPoint(_s597,n+_t1808);_i1107=_i1107.matrixTransform(_u64),_i1107=_i1107.matrixTransform(_x264),this["#r2y-input"].min=J(new Q(_g41,_i1107).length,_c79),this["#r2y-input"].value=J(new Q(_g41,_e1278).length,_c79),this["#r2y-input"].suffix=_b49,this["#r2y-input"].step=_m46;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Hb;}(sb);_defineProperty(Hb,"_shadowTemplate",Ki(_templateObject370()));_defineProperty(Hb,"_shadowStyleSheet",Qi(_templateObject371()));customElements.define("bx-ringgeometryinspector",Hb);var Wb=Math.pow;var Yb=/*#__PURE__*/function(_sb19){_inherits(Yb,_sb19);var _super149=_createSuper(Yb);function Yb(){var _this710;_classCallCheck(this,Yb);_this710=_super149.call(this),_this710.Lg=!1,_this710.Bg=!1,_this710.Fg=!1,_this710.Ng=!1,_this710.rw=!1,_this710.dw=!1,_this710.Za=ts(_this710.Xs,200,_assertThisInitialized(_this710)),_this710["#cx-input"].addEventListener("changestart",function(){return _this710.Rg();}),_this710["#cy-input"].addEventListener("changestart",function(){return _this710.Gg();}),_this710["#r1-input"].addEventListener("changestart",function(){return _this710.Wg();}),_this710["#r2-input"].addEventListener("changestart",function(){return _this710.Yg();}),_this710["#start-angle-input"].addEventListener("changestart",function(){return _this710.Mw();}),_this710["#end-angle-input"].addEventListener("changestart",function(){return _this710.Pw();});return _this710;}_createClass(Yb,[{key:"en",value:function en(){var _this711=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this711.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this711.Za();}),this._g.addEventListener("spacebuttonstoggle",this.Og=function(){_this711.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this._g.removeEventListener("spacebuttonstoggle",this.Og);}},{key:"Rg",value:function Rg(){var _this712=this;var t,_e1279,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values59=_slicedToArray(rl(s).values,6),n=_rl$values59[0],o=_rl$values59[1],l=_rl$values59[2],a=_rl$values59[3],h=_rl$values59[4],r=_rl$values59[5],_this$_g71=this._g,d=_this$_g71.displaySpace,c=_this$_g71.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.vectorCanvas);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.Lg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1809){var e=new DOMPoint(_this712["#cx-input"].value,_this712["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=ze(e,p),n=e.x,o=e.y,dl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#cx-input"].addEventListener("changeend",_e1279=function e(){_this712["#cx-input"].removeEventListener("change",t),_this712["#cx-input"].removeEventListener("changeend",_e1279),_this712.Lg=!1;});}},{key:"Gg",value:function Gg(){var _this713=this;var t,_e1280,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values60=_slicedToArray(rl(s).values,6),n=_rl$values60[0],o=_rl$values60[1],l=_rl$values60[2],a=_rl$values60[3],h=_rl$values60[4],r=_rl$values60[5],_this$_g72=this._g,d=_this$_g72.displaySpace,c=_this$_g72.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.currentWorkspace);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.Bg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1810){var e=new DOMPoint(_this713["#cx-input"].value,_this713["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=ze(e,p),n=e.x,o=e.y,dl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#cy-input"].addEventListener("changeend",_e1280=function e(){_this713["#cy-input"].removeEventListener("change",t),_this713["#cy-input"].removeEventListener("changeend",_e1280),_this713.Bg=!1;});}},{key:"Wg",value:function Wg(){var _this714=this;var t,_e1281,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values61=_slicedToArray(rl(s).values,6),n=_rl$values61[0],o=_rl$values61[1],l=_rl$values61[2],a=_rl$values61[3],h=_rl$values61[4],r=_rl$values61[5],_this$_g73=this._g,d=_this$_g73.displaySpace,c=_this$_g73.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.currentWorkspace);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral inner radius"),this.Fg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1811){var e=new Q(m,g);e.length=_this714["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=J(e.length,p),dl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#r1-input"].addEventListener("changeend",_e1281=function e(){_this714["#r1-input"].removeEventListener("change",t),_this714["#r1-input"].removeEventListener("changeend",_e1281),_this714.Fg=!1;});}},{key:"Yg",value:function Yg(){var _this715=this;var t,_e1282,i=this.tn.board,s=i.outermostSelectedElements[0],_rl$values62=_slicedToArray(rl(s).values,6),n=_rl$values62[0],o=_rl$values62[1],l=_rl$values62[2],a=_rl$values62[3],h=_rl$values62[4],r=_rl$values62[5],_this$_g74=this._g,d=_this$_g74.displaySpace,c=_this$_g74.displayUnit,p=i.geometryPrecision,u=Kt(c,"px"),x=Wt(s,i.currentWorkspace);"viewport"===d&&(x=Zt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral outer radius"),this.Ng=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1812){var e=new Q(m,g);e.length=_this715["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),a=J(e.length,p),dl(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#r2-input"].addEventListener("changeend",_e1282=function e(){_this715["#r2-input"].removeEventListener("change",t),_this715["#r2-input"].removeEventListener("changeend",_e1282),_this715.Ng=!1;});}},{key:"Mw",value:function Mw(){var _this716=this;var t,_e1283,i=this.tn.board,s=[],n=Symbol();var _iterator1186=_createForOfIteratorHelper(i.outermostSelectedElements),_step1186;try{for(_iterator1186.s();!(_step1186=_iterator1186.n()).done;){var _t1815=_step1186.value;if("path"===_t1815.localName){var _e1284=rl(_t1815);_e1284&&"spiral"===_e1284.type&&(_t1815[n]=_e1284,s.push(_t1815));}}}catch(err){_iterator1186.e(err);}finally{_iterator1186.f();}i.undoManager.checkpoint("Spiral start angle"),this.rw=!0,this["#start-angle-input"].addEventListener("change",t=function t(_t1814){var _iterator1187=_createForOfIteratorHelper(s),_step1187;try{for(_iterator1187.s();!(_step1187=_iterator1187.n()).done;){var _t1813=_step1187.value;_t1813[n].values[4]=_this716["#start-angle-input"].value,dl(_t1813,_t1813[n]);}}catch(err){_iterator1187.e(err);}finally{_iterator1187.f();}}),this["#start-angle-input"].addEventListener("changeend",_e1283=function e(){_this716["#start-angle-input"].removeEventListener("change",t),_this716["#start-angle-input"].removeEventListener("changeend",_e1283),_this716.rw=!1;});}},{key:"Pw",value:function Pw(){var _this717=this;var t,_e1285,i=this.tn.board,s=[],n=Symbol();var _iterator1188=_createForOfIteratorHelper(i.outermostSelectedElements),_step1188;try{for(_iterator1188.s();!(_step1188=_iterator1188.n()).done;){var _t1818=_step1188.value;if("path"===_t1818.localName){var _e1286=rl(_t1818);_e1286&&"spiral"===_e1286.type&&(_t1818[n]=_e1286,s.push(_t1818));}}}catch(err){_iterator1188.e(err);}finally{_iterator1188.f();}i.undoManager.checkpoint("Spiral end angle"),this.dw=!0,this["#end-angle-input"].addEventListener("change",t=function t(_t1817){var _iterator1189=_createForOfIteratorHelper(s),_step1189;try{for(_iterator1189.s();!(_step1189=_iterator1189.n()).done;){var _t1816=_step1189.value;_t1816[n].values[5]=_this717["#end-angle-input"].value,dl(_t1816,_t1816[n]);}}catch(err){_iterator1189.e(err);}finally{_iterator1189.f();}}),this["#end-angle-input"].addEventListener("changeend",_e1285=function e(){_this717["#end-angle-input"].removeEventListener("change",t),_this717["#end-angle-input"].removeEventListener("changeend",_e1285),_this717.dw=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var i=rl(e[0]);if(i&&"spiral"===i.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i$values5=_slicedToArray(i.values,6),_s598=_i$values5[0],n=_i$values5[1],_o379=_i$values5[2],_l319=_i$values5[3],_a237=_i$values5[4],_h199=_i$values5[5],_this$_g75=this._g,_r132=_this$_g75.displayUnit,_d108=_this$_g75.displaySpace,_c80=_this$_g75.displayPrecision,_p77=e[0],_u65=Wt(_p77,t.currentWorkspace),_x265=Kt("px",_r132),_b50=_r132?" "+_r132:"",_m47=1/Wb(10,_c80-1);"viewport"===_d108&&(_u65=Zt(t.currentWorkspace).multiply(_u65));var _g42=new DOMPoint(_s598,n);_g42=_g42.matrixTransform(_u65),_g42=_g42.matrixTransform(_x265),_g42=ze(_g42,_c80);var _f31=new DOMPoint(_s598+_o379,n);_f31=_f31.matrixTransform(_u65),_f31=_f31.matrixTransform(_x265);var _w25=new DOMPoint(_s598+_l319,n);_w25=_w25.matrixTransform(_u65),_w25=_w25.matrixTransform(_x265),!1===this.Lg&&(this["#cx-input"].value=_g42.x,this["#cx-input"].suffix=_b50,this["#cx-input"].step=_m47),!1===this.Bg&&(this["#cy-input"].value=_g42.y,this["#cy-input"].suffix=_b50,this["#cy-input"].step=_m47),!1===this.Fg&&(this["#r1-input"].max=J(new Q(_g42,_w25).length,_c80),this["#r1-input"].value=J(new Q(_g42,_f31).length,_c80),this["#r1-input"].suffix=_b50,this["#r1-input"].step=_m47),!1===this.Ng&&(this["#r2-input"].min=J(new Q(_g42,_f31).length,_c80),this["#r2-input"].value=J(new Q(_g42,_w25).length,_c80),this["#r2-input"].suffix=_b50,this["#r2-input"].step=_m47),!1===this.rw&&(this["#start-angle-input"].max=J(_h199,2),this["#start-angle-input"].value=J(_a237,2)),!1===this.dw&&(this["#end-angle-input"].min=J(_a237,2),this["#end-angle-input"].value=J(_h199,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Yb;}(sb);_defineProperty(Yb,"_shadowTemplate",Ki(_templateObject372()));_defineProperty(Yb,"_shadowStyleSheet",Qi(_templateObject373()));customElements.define("bx-spiralgeometryinspector",Yb);var qb=/*#__PURE__*/function(_sb20){_inherits(qb,_sb20);var _super150=_createSuper(qb);function qb(){var _this718;_classCallCheck(this,qb);_this718=_super150.call(this),_this718.iw=!1,_this718.Dw=!1,_this718.Za=ts(_this718.Xs,200,_assertThisInitialized(_this718)),_this718["#arms-section"].addEventListener("changestart",function(){return _this718.Np();}),_this718["#depth-section"].addEventListener("changestart",function(){return _this718.Vp();});return _this718;}_createClass(qb,[{key:"en",value:function en(){var _this719=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this719.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this719.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Np",value:function Np(){var _this720=this;var t,_e1287,i=this.tn.board,s=[],n=Symbol();var _iterator1190=_createForOfIteratorHelper(i.outermostSelectedElements),_step1190;try{for(_iterator1190.s();!(_step1190=_iterator1190.n()).done;){var _t1821=_step1190.value;if("path"===_t1821.localName){var _e1288=rl(_t1821);_e1288&&"star"===_e1288.type&&(_t1821[n]=_e1288,s.push(_t1821));}}}catch(err){_iterator1190.e(err);}finally{_iterator1190.f();}i.undoManager.checkpoint("Star arms"),this.iw=!0,this["#arms-section"].addEventListener("change",t=function t(_t1820){_t1820.target===_this720["#arms-slider"]?_this720["#arms-input"].value=_this720["#arms-slider"].value:_t1820.target===_this720["#arms-input"]&&(_this720["#arms-slider"].value=_this720["#arms-input"].value);var _iterator1191=_createForOfIteratorHelper(s),_step1191;try{for(_iterator1191.s();!(_step1191=_iterator1191.n()).done;){var _t1819=_step1191.value;_t1819[n].values[5]=_this720["#arms-input"].value,dl(_t1819,_t1819[n]);}}catch(err){_iterator1191.e(err);}finally{_iterator1191.f();}}),this["#arms-section"].addEventListener("changeend",_e1287=function e(){_this720["#arms-section"].removeEventListener("change",t),_this720["#arms-section"].removeEventListener("changeend",_e1287),_this720.iw=!1;});}},{key:"Vp",value:function Vp(){var _this721=this;var t,_e1289,i=this.tn.board,s=[],n=Symbol();var _iterator1192=_createForOfIteratorHelper(i.outermostSelectedElements),_step1192;try{for(_iterator1192.s();!(_step1192=_iterator1192.n()).done;){var _t1824=_step1192.value;if("path"===_t1824.localName){var _e1290=rl(_t1824);_e1290&&"star"===_e1290.type&&(_t1824[n]=_e1290,s.push(_t1824));}}}catch(err){_iterator1192.e(err);}finally{_iterator1192.f();}i.undoManager.checkpoint("Star depth"),this.Dw=!0,this["#depth-section"].addEventListener("change",t=function t(_t1823){_t1823.target===_this721["#depth-slider"]?_this721["#depth-input"].value=_this721["#depth-slider"].value:_t1823.target===_this721["#depth-input"]&&(_this721["#depth-slider"].value=_this721["#depth-input"].value);var _iterator1193=_createForOfIteratorHelper(s),_step1193;try{for(_iterator1193.s();!(_step1193=_iterator1193.n()).done;){var _t1822=_step1193.value;_t1822[n].values[4]=_this721["#depth-slider"].value,dl(_t1822,_t1822[n]);}}catch(err){_iterator1193.e(err);}finally{_iterator1193.f();}}),this["#depth-section"].addEventListener("changeend",_e1289=function e(){_this721["#depth-section"].removeEventListener("change",t),_this721["#depth-section"].removeEventListener("changeend",_e1289),_this721.Dw=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board.outermostSelectedElements;if(!1===this.iw&&!1===this.Dw)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1291=rl(t[0]);if(_e1291&&"star"===_e1291.type){t[0];var _e1291$values=_slicedToArray(_e1291.values,6),i=_e1291$values[0],_s599=_e1291$values[1],n=_e1291$values[2],_o380=_e1291$values[3],_l320=_e1291$values[4],_a238=_e1291$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arms-slider"].value=J(_a238,0),this["#arms-input"].value=J(_a238,0),this["#depth-slider"].value=J(_l320,this._g.displayPrecision),this["#depth-input"].value=J(_l320,this._g.displayPrecision);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return qb;}(sb);_defineProperty(qb,"_shadowTemplate",Ki(_templateObject374()));_defineProperty(qb,"_shadowStyleSheet",Qi(_templateObject375()));customElements.define("bx-stargeometryinspector",qb);var Xb=Number.isFinite;var Zb=/*#__PURE__*/function(_sb21){_inherits(Zb,_sb21);var _super151=_createSuper(Zb);function Zb(){var _this722;_classCallCheck(this,Zb);_this722=_super151.call(this),_this722.Mf=!1,_this722.Pf=!1,_this722.Df=!1,_this722.zf=!1,_this722.Of=!1,_this722.Ef=!1,_this722.If=null,_this722.Lf=null,_this722.Rf=ts(_this722.Xs,100,_assertThisInitialized(_this722)),_this722["#viewport-width-input"].addEventListener("changestart",function(){return _this722.Gf();}),_this722["#viewport-height-input"].addEventListener("changestart",function(){return _this722.Uf();}),_this722["#viewport-lock-button"].addEventListener("toggle",function(){return _this722.Ff();}),_this722["#viewport-units-select"].addEventListener("change",function(){return _this722.Nf();}),_this722["#viewbox-x-input"].addEventListener("changestart",function(t){return _this722.jf(t);}),_this722["#viewbox-y-input"].addEventListener("changestart",function(t){return _this722.Vf(t);}),_this722["#viewbox-width-input"].addEventListener("changestart",function(t){return _this722.Hf(t);}),_this722["#viewbox-height-input"].addEventListener("changestart",function(t){return _this722.Wf(t);}),_this722["#viewbox-switch"].addEventListener("toggle",function(){return _this722.Yf();}),_this722["#viewbox-lock-button"].addEventListener("toggle",function(){return _this722.qf();}),_this722["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this722.Xf();}),_this722["#align-buttons"].addEventListener("toggle",function(){return _this722.Zf();}),_this722["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this722.Kf();});return _this722;}_createClass(Zb,[{key:"en",value:function en(){var _this723=this;this.Xs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this723.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this723.pl(t.detail);});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){this.Rf();}},{key:"Gf",value:function Gf(){var _this724=this;var t,_e1292,i=this.tn.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===Xb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Mf=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this724["#viewport-width-input"].value)_this724.zw(null);else{var _t1825=new $t(J(_this724["#viewport-width-input"].value,s),o);if(_this724.zw(_t1825),null!==n){var _t1826=new $t(J(_this724["#viewport-width-input"].value*n,s),o);_this724.Ow(_t1826);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1292=function e(){_this724["#viewport-width-input"].removeEventListener("change",t),_this724["#viewport-width-input"].removeEventListener("changeend",_e1292),_this724.Mf=!1;});}},{key:"Uf",value:function Uf(){var _this725=this;var t,_e1293,i=this.tn.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===Xb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.Pf=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this725["#viewport-height-input"].value)_this725.Ow(null);else{var _t1827=new $t(J(_this725["#viewport-height-input"].value,s),o);if(_this725.Ow(_t1827),null!==n){var _t1828=new $t(J(_this725["#viewport-height-input"].value*n,s),o);_this725.zw(_t1828);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1293=function e(){_this725["#viewport-height-input"].removeEventListener("change",t),_this725["#viewport-height-input"].removeEventListener("changeend",_e1293),_this725.Pf=!1;});}},{key:"Ff",value:function Ff(){var t=this["#viewport-lock-button"].toggled;this.Js.setConfig("bx-svggeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Nf",value:function Nf(){var t=this.tn.board,e=t.getComputedViewportWidth(),i=t.getComputedViewportHeight(),s=!!e&&e.unit!==this["#viewport-units-select"].value,n=!!i&&i.unit!==this["#viewport-units-select"].value;(s||n)&&(t.undoManager.checkpoint("Viewport units"),s&&(e=e.toLength(this["#viewport-units-select"].value),e.value=J(e.value,this.tn.board.geometryPrecision),this.zw(e)),n&&(i=i.toLength(this["#viewport-units-select"].value),i.value=J(i.value,this.tn.board.geometryPrecision),this.Ow(i)));}},{key:"Yf",value:function Yf(){var t=this.tn.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.If?t.currentWorkspace.setAttribute("viewBox",this.If):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.If=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"jf",value:function jf(t){var _this726=this;var e,_i1108,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.Df=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){null!==_this726["#viewbox-x-input"].value&&(n.x=_this726["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-x-input"].addEventListener("changeend",_i1108=function i(){_this726["#viewbox-x-input"].removeEventListener("change",e),_this726["#viewbox-x-input"].removeEventListener("changeend",_i1108),_this726.Df=!1,_this726.Xs();});}},{key:"Vf",value:function Vf(t){var _this727=this;var e,_i1109,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.zf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){null!==_this727["#viewbox-y-input"].value&&(n.y=_this727["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-y-input"].addEventListener("changeend",_i1109=function i(){_this727["#viewbox-y-input"].removeEventListener("change",e),_this727["#viewbox-y-input"].removeEventListener("changeend",_i1109),_this727.zf=!1,_this727.Xs();});}},{key:"Hf",value:function Hf(t){var _this728=this;var e,_i1110,_this$tn$board52=this.tn.board,s=_this$tn$board52.geometryPrecision,n=_this$tn$board52.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===Xb(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Of=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){null!==_this728["#viewbox-width-input"].value&&(o.width=_this728["#viewbox-width-input"].value,null!==l&&(o.height=J(_this728["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-width-input"].addEventListener("changeend",_i1110=function i(){_this728["#viewbox-width-input"].removeEventListener("change",e),_this728["#viewbox-width-input"].removeEventListener("changeend",_i1110),_this728.Of=!1,_this728.Xs();});}},{key:"Wf",value:function Wf(t){var _this729=this;var e,_i1111,_this$tn$board53=this.tn.board,s=_this$tn$board53.geometryPrecision,n=_this$tn$board53.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===Xb(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Ef=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){null!==_this729["#viewbox-height-input"].value&&(o.height=_this729["#viewbox-height-input"].value,null!==l&&(o.width=J(_this729["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-height-input"].addEventListener("changeend",_i1111=function i(){_this729["#viewbox-height-input"].removeEventListener("change",e),_this729["#viewbox-height-input"].removeEventListener("changeend",_i1111),_this729.Ef=!1,_this729.Xs();});}},{key:"qf",value:function qf(){var t=this["#viewbox-lock-button"].toggled;this.Js.setConfig("bx-svggeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Xf",value:function Xf(){var t=this.tn.board.currentWorkspace;this.tn.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Lf?t.setAttribute("preserveAspectRatio",this.Lf):t.removeAttribute("preserveAspectRatio"):(this.Lf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Zf",value:function Zf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s600=e;"none"!==_s600&&"slice"===i&&(_s600+=" slice"),t.setAttribute("preserveAspectRatio",_s600);}}},{key:"Kf",value:function Kf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s601=e;"none"!==_s601&&"slice"===i&&(_s601+=" slice"),t.setAttribute("preserveAspectRatio",_s601);}}},{key:"zw",value:function zw(t){var e=this.tn.board.currentWorkspace;e.style.width=null,t?e.setAttribute("width",t.toString()):e.removeAttribute("width");}},{key:"Ow",value:function Ow(t){var e=this.tn.board.currentWorkspace;e.style.height=null,t?e.setAttribute("height",t.toString()):e.removeAttribute("height");}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this._g.displayPrecision;if("master"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _e1294=t.getComputedViewportWidth(),_i1112=t.getComputedViewportHeight();null!==_e1294&&null!==_i1112?(_i1112=_i1112.toLength(_e1294.unit),!1===this.Mf&&(this["#viewport-width-input"].value=J(_e1294.value,o),this["#viewport-width-input"].suffix=" "+_e1294.unit),!1===this.Pf&&(this["#viewport-height-input"].value=J(_i1112.value,o),this["#viewport-height-input"].suffix=" "+_e1294.unit),this["#viewport-lock-button"].disabled=!1,this["#viewport-units-select"].value=_e1294.unit):null!==_e1294&&null===_i1112?(!1===this.Mf&&(this["#viewport-width-input"].value=J(_e1294.value,o),this["#viewport-width-input"].suffix=" "+_e1294.unit),!1===this.Pf&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_e1294.unit):null===_e1294&&null!==_i1112?(!1===this.Mf&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.Pf&&(this["#viewport-height-input"].value=J(_i1112.value,o),this["#viewport-height-input"].suffix=" "+_i1112.unit),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_i1112.unit):null===_e1294&&null===_i1112&&(!1===this.Mf&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.Pf&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0);}if(e.hasAttribute("viewBox")){var _Ut$fromString5=Ut.fromString(e.getAttribute("viewBox")),_t1829=_Ut$fromString5.x,_i1113=_Ut$fromString5.y,_s602=_Ut$fromString5.width,_n451=_Ut$fromString5.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.Df&&(this["#viewbox-x-input"].value=J(_t1829,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.zf&&(this["#viewbox-y-input"].value=J(_i1113,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Of&&(this["#viewbox-width-input"].value=J(_s602,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Ef&&(this["#viewbox-height-input"].value=J(_n451,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1830=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString4=Bt.fromString(_t1830),_i1114=_Bt$fromString4.align,_s603=_Bt$fromString4.meetOrSlice;"none"===_i1114?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1114,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s603,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Zb;}(sb);_defineProperty(Zb,"_shadowTemplate",Ki(_templateObject376()));_defineProperty(Zb,"_shadowStyleSheet",Qi(_templateObject377()));customElements.define("bx-svggeometryinspector",Zb);var Kb=/*#__PURE__*/function(_sb22){_inherits(Kb,_sb22);var _super152=_createSuper(Kb);function Kb(){var _this730;_classCallCheck(this,Kb);_this730=_super152.call(this),_this730.Df=!1,_this730.zf=!1,_this730.Of=!1,_this730.Ef=!1,_this730.If=null,_this730.Lf=null,_this730.Rf=ts(_this730.Xs,100,_assertThisInitialized(_this730)),_this730["#viewbox-x-input"].addEventListener("changestart",function(t){return _this730.jf(t);}),_this730["#viewbox-y-input"].addEventListener("changestart",function(t){return _this730.Vf(t);}),_this730["#viewbox-width-input"].addEventListener("changestart",function(t){return _this730.Hf(t);}),_this730["#viewbox-height-input"].addEventListener("changestart",function(t){return _this730.Wf(t);}),_this730["#viewbox-switch"].addEventListener("toggle",function(){return _this730.Yf();}),_this730["#viewbox-lock-button"].addEventListener("toggle",function(){return _this730.qf();}),_this730["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this730.Xf();}),_this730["#align-buttons"].addEventListener("toggle",function(){return _this730.Zf();}),_this730["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this730.Kf();});return _this730;}_createClass(Kb,[{key:"en",value:function en(){var _this731=this;this.Xs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-symbolgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this731.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this731.pl(t.detail);});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){this.Rf();}},{key:"Yf",value:function Yf(){var t=this.tn.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.If?t.currentWorkspace.setAttribute("viewBox",this.If):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.If=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"jf",value:function jf(t){var _this732=this;var e,_i1115,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.Df=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this732["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1115=function i(){_this732["#viewbox-x-input"].removeEventListener("change",e),_this732["#viewbox-x-input"].removeEventListener("changeend",_i1115),_this732.Df=!1;});}},{key:"Vf",value:function Vf(t){var _this733=this;var e,_i1116,s=this.tn.board.currentWorkspace,n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.zf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this733["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1116=function i(){_this733["#viewbox-y-input"].removeEventListener("change",e),_this733["#viewbox-y-input"].removeEventListener("changeend",_i1116),_this733.zf=!1;});}},{key:"Hf",value:function Hf(t){var _this734=this;var e,_i1117,_this$tn$board54=this.tn.board,s=_this$tn$board54.geometryPrecision,n=_this$tn$board54.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Of=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this734["#viewbox-width-input"].value,null!==l&&(o.height=J(_this734["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1117=function i(){_this734["#viewbox-width-input"].removeEventListener("change",e),_this734["#viewbox-width-input"].removeEventListener("changeend",_i1117),_this734.Of=!1;});}},{key:"Wf",value:function Wf(t){var _this735=this;var e,_i1118,_this$tn$board55=this.tn.board,s=_this$tn$board55.geometryPrecision,n=_this$tn$board55.currentWorkspace,o=Ut.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Ef=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this735["#viewbox-height-input"].value,null!==l&&(o.width=J(_this735["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1118=function i(){_this735["#viewbox-height-input"].removeEventListener("change",e),_this735["#viewbox-height-input"].removeEventListener("changeend",_i1118),_this735.Ef=!1;});}},{key:"qf",value:function qf(){var t=this["#viewbox-lock-button"].toggled;this.Js.setConfig("bx-symbolgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Xf",value:function Xf(){var t=this.tn.board.currentWorkspace;this.tn.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Lf?t.setAttribute("preserveAspectRatio",this.Lf):t.removeAttribute("preserveAspectRatio"):(this.Lf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Zf",value:function Zf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s604=e;"none"!==_s604&&"slice"===i&&(_s604+=" slice"),t.setAttribute("preserveAspectRatio",_s604);}}},{key:"Kf",value:function Kf(){var t=this.tn.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s605=e;"none"!==_s605&&"slice"===i&&(_s605+=" slice"),t.setAttribute("preserveAspectRatio",_s605);}}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this._g.displayPrecision;if("symbol"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Ut$fromString6=Ut.fromString(e.getAttribute("viewBox")),_t1831=_Ut$fromString6.x,_i1119=_Ut$fromString6.y,_s606=_Ut$fromString6.width,_n452=_Ut$fromString6.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.Df&&(this["#viewbox-x-input"].value=J(_t1831,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.zf&&(this["#viewbox-y-input"].value=J(_i1119,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Of&&(this["#viewbox-width-input"].value=J(_s606,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Ef&&(this["#viewbox-height-input"].value=J(_n452,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1832=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString5=Bt.fromString(_t1832),_i1120=_Bt$fromString5.align,_s607=_Bt$fromString5.meetOrSlice;"none"===_i1120?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1120,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s607,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Kb;}(sb);_defineProperty(Kb,"_shadowTemplate",Ki(_templateObject378()));_defineProperty(Kb,"_shadowStyleSheet",Qi(_templateObject379()));customElements.define("bx-symbolgeometryinspector",Kb);var Qb=/*#__PURE__*/function(_sb23){_inherits(Qb,_sb23);var _super153=_createSuper(Qb);function Qb(){var _this736;_classCallCheck(this,Qb);_this736=_super153.call(this),_this736.Ew=!1,_this736.Tw=!1,_this736.Za=ts(_this736.Xs,200,_assertThisInitialized(_this736)),_this736["#arch-section"].addEventListener("changestart",function(){return _this736.ou();}),_this736["#hollow-section"].addEventListener("changestart",function(){return _this736.lu();});return _this736;}_createClass(Qb,[{key:"en",value:function en(){var _this737=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this737.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this737.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"ou",value:function ou(){var _this738=this;var t,_e1295,i=this.tn.board,s=[],n=Symbol();var _iterator1194=_createForOfIteratorHelper(i.outermostSelectedElements),_step1194;try{for(_iterator1194.s();!(_step1194=_iterator1194.n()).done;){var _t1835=_step1194.value;if("path"===_t1835.localName){var _e1296=rl(_t1835);_e1296&&"crescent"===_e1296.type&&(_t1835[n]=_e1296,s.push(_t1835));}}}catch(err){_iterator1194.e(err);}finally{_iterator1194.f();}i.undoManager.checkpoint("Crescent arch"),this.Ew=!0,this["#arch-section"].addEventListener("change",t=function t(_t1834){_t1834.target===_this738["#arch-slider"]?_this738["#arch-input"].value=_this738["#arch-slider"].value:_t1834.target===_this738["#arch-input"]&&(_this738["#arch-slider"].value=_this738["#arch-input"].value);var _iterator1195=_createForOfIteratorHelper(s),_step1195;try{for(_iterator1195.s();!(_step1195=_iterator1195.n()).done;){var _t1833=_step1195.value;_t1833[n].values[3]=_this738["#arch-slider"].value,dl(_t1833,_t1833[n],i.geometryPrecision);}}catch(err){_iterator1195.e(err);}finally{_iterator1195.f();}}),this["#arch-section"].addEventListener("changeend",_e1295=function e(){_this738["#arch-section"].removeEventListener("change",t),_this738["#arch-section"].removeEventListener("changeend",_e1295),_this738.Ew=!1;});}},{key:"lu",value:function lu(){var _this739=this;var t,_e1297,i=this.tn.board,s=[],n=Symbol();var _iterator1196=_createForOfIteratorHelper(i.outermostSelectedElements),_step1196;try{for(_iterator1196.s();!(_step1196=_iterator1196.n()).done;){var _t1838=_step1196.value;if("path"===_t1838.localName){var _e1298=rl(_t1838);_e1298&&"crescent"===_e1298.type&&(_t1838[n]=_e1298,s.push(_t1838));}}}catch(err){_iterator1196.e(err);}finally{_iterator1196.f();}i.undoManager.checkpoint("Crescent hollow"),this.Tw=!0,this["#hollow-section"].addEventListener("change",t=function t(_t1837){_t1837.target===_this739["#hollow-slider"]?_this739["#hollow-input"].value=_this739["#hollow-slider"].value:_t1837.target===_this739["#hollow-input"]&&(_this739["#hollow-slider"].value=_this739["#hollow-input"].value);var _iterator1197=_createForOfIteratorHelper(s),_step1197;try{for(_iterator1197.s();!(_step1197=_iterator1197.n()).done;){var _t1836=_step1197.value;_t1836[n].values[4]=_this739["#hollow-slider"].value/100,dl(_t1836,_t1836[n],i.geometryPrecision);}}catch(err){_iterator1197.e(err);}finally{_iterator1197.f();}}),this["#hollow-section"].addEventListener("changeend",_e1297=function e(){_this739["#hollow-section"].removeEventListener("change",t),_this739["#hollow-section"].removeEventListener("changeend",_e1297),_this739.Tw=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board.outermostSelectedElements;if(!1===this.Ew&&!1===this.Tw)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1299=rl(t[0]);if(_e1299&&"crescent"===_e1299.type){t[0];var _e1299$values=_slicedToArray(_e1299.values,5),i=_e1299$values[0],_s608=_e1299$values[1],n=_e1299$values[2],_o381=_e1299$values[3],_l321=_e1299$values[4];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arch-slider"].value=J(_o381,0),this["#arch-input"].value=J(_o381,0),this["#hollow-slider"].value=J(100*_l321,2),this["#hollow-input"].value=J(100*_l321,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Qb;}(sb);_defineProperty(Qb,"_shadowTemplate",Ki(_templateObject380()));_defineProperty(Qb,"_shadowStyleSheet",Qi(_templateObject381()));customElements.define("bx-crescentgeometryinspector",Qb);var Jb=/*#__PURE__*/function(_sb24){_inherits(Jb,_sb24);var _super154=_createSuper(Jb);function Jb(){var _this740;_classCallCheck(this,Jb);_this740=_super154.call(this),_this740.Kg=!1,_this740.sw=!1,_this740.Za=ts(_this740.Xs,200,_assertThisInitialized(_this740)),_this740["#shift-section"].addEventListener("changestart",function(){return _this740.Bp();}),_this740["#corner-section"].addEventListener("changestart",function(){return _this740.Rp();});return _this740;}_createClass(Jb,[{key:"en",value:function en(){var _this741=this;this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this741.Za();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this741.Za();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Bp",value:function Bp(){var _this742=this;var t,_e1300,i=this.tn.board,s=[],n=Symbol();var _iterator1198=_createForOfIteratorHelper(i.outermostSelectedElements),_step1198;try{for(_iterator1198.s();!(_step1198=_iterator1198.n()).done;){var _t1841=_step1198.value;if("path"===_t1841.localName){var _e1301=rl(_t1841);_e1301&&"triangle"===_e1301.type&&(_t1841[n]=_e1301,s.push(_t1841));}}}catch(err){_iterator1198.e(err);}finally{_iterator1198.f();}i.undoManager.checkpoint("Triangle shift"),this.Kg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1840){_t1840.target===_this742["#shift-slider"]?_this742["#shift-input"].value=_this742["#shift-slider"].value:_t1840.target===_this742["#shift-input"]&&(_this742["#shift-slider"].value=_this742["#shift-input"].value);var _iterator1199=_createForOfIteratorHelper(s),_step1199;try{for(_iterator1199.s();!(_step1199=_iterator1199.n()).done;){var _t1839=_step1199.value;_t1839[n].values[4]=_this742["#shift-slider"].value,dl(_t1839,_t1839[n]);}}catch(err){_iterator1199.e(err);}finally{_iterator1199.f();}}),this["#shift-section"].addEventListener("changeend",_e1300=function e(){_this742["#shift-section"].removeEventListener("change",t),_this742["#shift-section"].removeEventListener("changeend",_e1300),_this742.Kg=!1;});}},{key:"Rp",value:function Rp(){var _this743=this;var t,_e1302,i=this.tn.board,s=[],n=Symbol();var _iterator1200=_createForOfIteratorHelper(i.outermostSelectedElements),_step1200;try{for(_iterator1200.s();!(_step1200=_iterator1200.n()).done;){var _t1844=_step1200.value;if("path"===_t1844.localName){var _e1303=rl(_t1844);_e1303&&"triangle"===_e1303.type&&(_t1844[n]=_e1303,s.push(_t1844));}}}catch(err){_iterator1200.e(err);}finally{_iterator1200.f();}i.undoManager.checkpoint("Triangle corner"),this.sw=!0,this["#corner-section"].addEventListener("change",t=function t(_t1843){_t1843.target===_this743["#corner-slider"]?_this743["#corner-input"].value=_this743["#corner-slider"].value:_t1843.target===_this743["#corner-input"]&&(_this743["#corner-slider"].value=_this743["#corner-input"].value);var _iterator1201=_createForOfIteratorHelper(s),_step1201;try{for(_iterator1201.s();!(_step1201=_iterator1201.n()).done;){var _t1842=_step1201.value;_t1842[n].values[5]=_this743["#corner-slider"].value,dl(_t1842,_t1842[n]);}}catch(err){_iterator1201.e(err);}finally{_iterator1201.f();}}),this["#corner-section"].addEventListener("changeend",_e1302=function e(){_this743["#corner-section"].removeEventListener("change",t),_this743["#corner-section"].removeEventListener("changeend",_e1302),_this743.sw=!1;});}},{key:"Xs",value:function Xs(){var t=this.tn.board.outermostSelectedElements;if(!1===this.Kg&&!1===this.sw)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1304=rl(t[0]);if(_e1304&&"triangle"===_e1304.type){t[0];var _e1304$values=_slicedToArray(_e1304.values,6),i=_e1304$values[0],_s609=_e1304$values[1],n=_e1304$values[2],_o382=_e1304$values[3],_l322=_e1304$values[4],_a239=_e1304$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#shift-slider"].value=J(_l322,2),this["#shift-input"].value=J(_l322,2),this["#corner-slider"].value=J(_a239,2),this["#corner-input"].value=J(_a239,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Jb;}(sb);_defineProperty(Jb,"_shadowTemplate",Ki(_templateObject382()));_defineProperty(Jb,"_shadowStyleSheet",Qi(_templateObject383()));customElements.define("bx-trianglegeometryinspector",Jb);var tm=/*#__PURE__*/function(_sb25){_inherits(tm,_sb25);var _super155=_createSuper(tm);function tm(){var _this744;_classCallCheck(this,tm);_this744=_super155.call(this),_this744.Df=!1,_this744.zf=!1,_this744.Of=!1,_this744.Ef=!1,_this744.Lf=null,_this744.Rf=ts(_this744.Xs,100,_assertThisInitialized(_this744)),_this744["#viewbox-x-input"].addEventListener("changestart",function(t){return _this744.jf(t);}),_this744["#viewbox-y-input"].addEventListener("changestart",function(t){return _this744.Vf(t);}),_this744["#viewbox-width-input"].addEventListener("changestart",function(t){return _this744.Hf(t);}),_this744["#viewbox-height-input"].addEventListener("changestart",function(t){return _this744.Wf(t);}),_this744["#viewbox-lock-button"].addEventListener("toggle",function(){return _this744.qf();}),_this744["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this744.Xf();}),_this744["#align-buttons"].addEventListener("toggle",function(){return _this744.Zf();}),_this744["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this744.Kf();});return _this744;}_createClass(tm,[{key:"en",value:function en(){var _this745=this;this.Xs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-viewgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this745.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this745.pl(t.detail);});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){this.Rf();}},{key:"jf",value:function jf(t){var _this746=this;var e,_i1121,s=this.tn.board.outermostSelectedElements[0],n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.Df=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this746["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1121=function i(){_this746["#viewbox-x-input"].removeEventListener("change",e),_this746["#viewbox-x-input"].removeEventListener("changeend",_i1121),_this746.Df=!1;});}},{key:"Vf",value:function Vf(t){var _this747=this;var e,_i1122,s=this.tn.board.outermostSelectedElements[0],n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.tn.board.undoManager.checkpoint("View Box"),this.zf=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this747["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1122=function i(){_this747["#viewbox-y-input"].removeEventListener("change",e),_this747["#viewbox-y-input"].removeEventListener("changeend",_i1122),_this747.zf=!1;});}},{key:"Hf",value:function Hf(t){var _this748=this;var e,_i1123,s=this.tn.board.outermostSelectedElements[0],n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.tn.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Of=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){n.width=_this748["#viewbox-width-input"].value,null!==l&&(n.height=J(_this748["#viewbox-width-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1123=function i(){_this748["#viewbox-width-input"].removeEventListener("change",e),_this748["#viewbox-width-input"].removeEventListener("changeend",_i1123),_this748.Of=!1;});}},{key:"Wf",value:function Wf(t){var _this749=this;var e,_i1124,s=this.tn.board.outermostSelectedElements[0],n=Ut.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.tn.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.tn.board.undoManager.checkpoint("View Box"),this.Ef=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){n.height=_this749["#viewbox-height-input"].value,null!==l&&(n.width=J(_this749["#viewbox-height-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1124=function i(){_this749["#viewbox-height-input"].removeEventListener("change",e),_this749["#viewbox-height-input"].removeEventListener("changeend",_i1124),_this749.Ef=!1;});}},{key:"qf",value:function qf(){var t=this["#viewbox-lock-button"].toggled;this.Js.setConfig("bx-viewgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Xf",value:function Xf(){var t=this.tn.board.outermostSelectedElements[0];this.tn.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.Lf?t.setAttribute("preserveAspectRatio",this.Lf):t.removeAttribute("preserveAspectRatio"):(this.Lf=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"Zf",value:function Zf(){var t=this.tn.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s610=e;"none"!==_s610&&"slice"===i&&(_s610+=" slice"),t.setAttribute("preserveAspectRatio",_s610);}}},{key:"Kf",value:function Kf(){var t=this.tn.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.tn.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s611=e;"none"!==_s611&&"slice"===i&&(_s611+=" slice"),t.setAttribute("preserveAspectRatio",_s611);}}},{key:"Xs",value:function Xs(){var t=this.tn.board.outermostSelectedElements;if(1===t.length&&"view"===t[0].localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1305=t[0],i=this._g.displayPrecision;{var _Ut$fromString7=Ut.fromString(_e1305.getAttribute("viewBox")||"0 0 0 0"),_t1845=_Ut$fromString7.x,_s612=_Ut$fromString7.y,n=_Ut$fromString7.width,_o383=_Ut$fromString7.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-lock-button"].disabled=!1,!1===this.Df&&(this["#viewbox-x-input"].value=J(_t1845,i),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this.zf&&(this["#viewbox-y-input"].value=J(_s612,i),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.Of&&(this["#viewbox-width-input"].value=J(n,i),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.Ef&&(this["#viewbox-height-input"].value=J(_o383,i),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}{var _t1846=_e1305.getAttribute("preserveAspectRatio")||"xMidYMid meet",_Bt$fromString6=Bt.fromString(_t1846),_i1125=_Bt$fromString6.align,_s613=_Bt$fromString6.meetOrSlice;"none"===_i1125?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1125,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s613,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return tm;}(sb);_defineProperty(tm,"_shadowTemplate",Ki(_templateObject384()));_defineProperty(tm,"_shadowStyleSheet",Qi(_templateObject385()));customElements.define("bx-viewgeometryinspector",tm);var em=/*#__PURE__*/function(_HTMLElement110){_inherits(em,_HTMLElement110);var _super156=_createSuper(em);_createClass(em,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"displaySpace",get:function get(){var t=this.tn.board;if("master"===t.currentWorkspace.getAttribute("data-bx-workspace")){if("viewport"===this["#space-buttons"].value){var _e1306=t.getComputedViewportWidth(),i=t.getComputedViewportHeight();return _e1306&&i?"viewport":"canvas";}return"canvas";}return"canvas";}},{key:"displayUnit",get:function get(){var t=this.displaySpace;if("canvas"===t)return"";if("viewport"===t){return this.tn.board.getComputedViewportWidth().unit;}}},{key:"displayPrecision",get:function get(){var t=this.displayUnit;return"px"===t||"pt"===t||"q"===t||""===t?1:"mm"===t?2:"cm"===t||"in"===t||"pc"===t?3:void 0;}}]);function em(){var _this750;_classCallCheck(this,em);_this750=_super156.call(this),_this750.Za=ts(_this750.Xs,200,_assertThisInitialized(_this750)),_this750._shadowRoot=_this750.attachShadow({mode:"closed"}),_this750._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,em._shadowStyleSheet],_this750._shadowRoot.append(document.importNode(em._shadowTemplate.content,!0));var _iterator1202=_createForOfIteratorHelper(_this750._shadowRoot.querySelectorAll("[id]")),_step1202;try{for(_iterator1202.s();!(_step1202=_iterator1202.n()).done;){var _t1847=_step1202.value;_this750["#"+_t1847.id]=_t1847;}}catch(err){_iterator1202.e(err);}finally{_iterator1202.f();}_this750["#inspectors"].addEventListener("hiddenchange",function(){return _this750.Za();}),_this750["#space-buttons"].addEventListener("toggle",function(){return _this750.Aw();});return _this750;}_createClass(em,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this751=this;this.Xs(),this["#space-buttons"].value=this.Js.getConfig("bx-geometrypanel:space","canvas");var _iterator1203=_createForOfIteratorHelper(this["#inspectors"].children),_step1203;try{for(_iterator1203.s();!(_step1203=_iterator1203.n()).done;){var _t1848=_step1203.value;_t1848.enabled=!0;}}catch(err){_iterator1203.e(err);}finally{_iterator1203.f();}this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this751.Za();}),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this751.Xs();}),this.tn.board.gridHud.addEventListener("selectedchange",this.uf=function(){_this751.Xs();});}},{key:"sn",value:function sn(){var _iterator1204=_createForOfIteratorHelper(this["#inspectors"].children),_step1204;try{for(_iterator1204.s();!(_step1204=_iterator1204.n()).done;){var _t1849=_step1204.value;_t1849.enabled=!1;}}catch(err){_iterator1204.e(err);}finally{_iterator1204.f();}this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.gridHud.removeEventListener("selectedchange",this.uf);}},{key:"Aw",value:function Aw(){this.Js.setConfig("bx-geometrypanel:space",this["#space-buttons"].value),this.dispatchEvent(new CustomEvent("spacebuttonstoggle"));}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedElements,i=t.gridHud.selected;{var _t1850=this["#inspectors"].querySelectorAll(":scope > *:not([hidden]):not(hr)"),_e1307=_t1850[_t1850.length-1],_i1126=this["#inspectors"].querySelectorAll(":scope > hr"),_s614=[];var _iterator1205=_createForOfIteratorHelper(_t1850),_step1205;try{for(_iterator1205.s();!(_step1205=_iterator1205.n()).done;){var _i1127=_step1205.value;_i1127.nextElementSibling&&_i1127!==_e1307&&_s614.push(_i1127.nextElementSibling);}}catch(err){_iterator1205.e(err);}finally{_iterator1205.f();}var _iterator1206=_createForOfIteratorHelper(_i1126),_step1206;try{for(_iterator1206.s();!(_step1206=_iterator1206.n()).done;){var _t1851=_step1206.value;_t1851.hidden=!1===_s614.includes(_t1851);}}catch(err){_iterator1206.e(err);}finally{_iterator1206.f();}}0===e.length&&!1===i?this["#footer"].hidden=!0:"master"===t.currentWorkspace.getAttribute("data-bx-workspace")&&null!==t.getComputedViewportWidth()&&null!==t.getComputedViewportHeight()?this["#footer"].hidden=!1:this["#footer"].hidden=!0;}}]);return em;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(em,"observedAttributes",["enabled"]);_defineProperty(em,"_shadowTemplate",Ki(_templateObject386()));_defineProperty(em,"_shadowStyleSheet",Qi(_templateObject387()));customElements.define("bx-geometrypanel",em);var im=/*#__PURE__*/function(_HTMLElement111){_inherits(im,_HTMLElement111);var _super157=_createSuper(im);_createClass(im,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function im(){var _this752;_classCallCheck(this,im);_this752=_super157.call(this),_this752.Sh=ts(_this752.Xs,500,_assertThisInitialized(_this752)),_this752._shadowRoot=_this752.attachShadow({mode:"closed"}),_this752._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,im._shadowStyleSheet],_this752._shadowRoot.append(document.importNode(im._shadowTemplate.content,!0));var _iterator1207=_createForOfIteratorHelper(_this752._shadowRoot.querySelectorAll("[id]")),_step1207;try{for(_iterator1207.s();!(_step1207=_iterator1207.n()).done;){var _t1852=_step1207.value;_this752["#"+_t1852.id]=_t1852;}}catch(err){_iterator1207.e(err);}finally{_iterator1207.f();}_this752["#title-input"].addEventListener("change",function(){return _this752.$w();}),_this752["#desc-editor"].addEventListener("change",function(){return _this752.Iw();}),_this752["#language-select"].addEventListener("change",function(){return _this752.Lw();}),_this752["#role-select"].addEventListener("change",function(){return _this752.Bw();}),_this752["#tab-index-slider"].addEventListener("changestart",function(t){return _this752.Rw(t);}),_this752["#tab-index-input"].addEventListener("changestart",function(t){return _this752.Rw(t);}),_this752["#link-button"].addEventListener("toggle",function(t){return _this752.Gw(t);}),_this752["#link-input"].addEventListener("change",function(){return _this752.Uw();}),_this752["#link-target-checkbox"].addEventListener("toggle",function(){return _this752.Fw();}),_this752["#id-input"].addEventListener("change",function(){return _this752.Nw();}),_this752["#classes-input"].addEventListener("change",function(){return _this752.jw();}),_this752["#id-input"].validate=function(){var t=_this752["#id-input"].value.trim();""===t||qi(t)?_this752["#id-input"].error=null:_this752["#id-input"].error="";};return _this752;}_createClass(im,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this753=this;var t=this.tn.board;this.Xs(),t.addEventListener("selectedelementschange",this.al=function(){_this753.Xs();}),t.addEventListener("workspacemutation",this.rn=function(){_this753.Sh();});}},{key:"sn",value:function sn(){var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"$w",value:function $w(){var t=this.tn.board,e=this["#title-input"].value.trim(),i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Title");var _iterator1208=_createForOfIteratorHelper(i),_step1208;try{for(_iterator1208.s();!(_step1208=_iterator1208.n()).done;){var _t1853=_step1208.value;var _i1128=_t1853.querySelector(":scope > bx-title");""===e?_i1128&&_i1128.remove():(null===_i1128&&(_i1128=$i("svg:bx-title"),_t1853.prepend(_i1128)),_i1128.innerHTML=e);}}catch(err){_iterator1208.e(err);}finally{_iterator1208.f();}}},{key:"Iw",value:function Iw(){var t=this.tn.board,e=this["#desc-editor"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Description");var _iterator1209=_createForOfIteratorHelper(i),_step1209;try{for(_iterator1209.s();!(_step1209=_iterator1209.n()).done;){var _t1854=_step1209.value;var _i1129=_t1854.querySelector(":scope > desc");""===e.trim()?_i1129&&_i1129.remove():(null===_i1129&&(_i1129=$i("svg:desc"),_t1854.prepend(_i1129)),_i1129.innerHTML=e);}}catch(err){_iterator1209.e(err);}finally{_iterator1209.f();}}},{key:"Lw",value:function Lw(){var t=this.tn.board,e=this["#language-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Language");var _iterator1210=_createForOfIteratorHelper(i),_step1210;try{for(_iterator1210.s();!(_step1210=_iterator1210.n()).done;){var _t1855=_step1210.value;""===e?_t1855.removeAttribute("lang"):_t1855.setAttribute("lang",e);var _iterator1211=_createForOfIteratorHelper(_t1855.querySelectorAll("[lang]")),_step1211;try{for(_iterator1211.s();!(_step1211=_iterator1211.n()).done;){var _e1308=_step1211.value;_e1308.removeAttribute("lang");}}catch(err){_iterator1211.e(err);}finally{_iterator1211.f();}}}catch(err){_iterator1210.e(err);}finally{_iterator1210.f();}}},{key:"Bw",value:function Bw(){var t=this.tn.board,e=this["#role-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Role");var _iterator1212=_createForOfIteratorHelper(i),_step1212;try{for(_iterator1212.s();!(_step1212=_iterator1212.n()).done;){var _t1856=_step1212.value;""===e?_t1856.removeAttribute("role"):_t1856.setAttribute("role",e);}}catch(err){_iterator1212.e(err);}finally{_iterator1212.f();}}},{key:"Rw",value:function Rw(t){var _this754=this;var e,_i1130,s=this.tn.board,n=t.target,o=[];s.outermostSelectedElements.length>0?o=_toConsumableArray(s.outermostSelectedElements):null===s.currentContainer&&(o=[s.currentWorkspace]),s.undoManager.checkpoint("Tab index"),n.addEventListener("change",e=function e(){if(n===_this754["#tab-index-input"]){var _t1857=J(_this754["#tab-index-input"].value,0);_this754["#tab-index-input"].value=_t1857,_this754["#tab-index-slider"].value=_t1857;}else n===_this754["#tab-index-slider"]&&(_this754["#tab-index-input"].value=_this754["#tab-index-slider"].value);var t=_this754["#tab-index-input"].value;var _iterator1213=_createForOfIteratorHelper(o),_step1213;try{for(_iterator1213.s();!(_step1213=_iterator1213.n()).done;){var _e1309=_step1213.value;-1===t?_e1309.removeAttribute("tabindex"):_e1309.setAttribute("tabindex",t);}}catch(err){_iterator1213.e(err);}finally{_iterator1213.f();}}),n.addEventListener("changeend",_i1130=function i(){n.removeEventListener("change",e),n.removeEventListener("changeend",_i1130);});}},{key:"Gw",value:function Gw(t){var e=this.tn.board;if(this["#link-button"].toggled){if(e.undoManager.checkpoint("Link"),this.Js.modKeys.ctrl){var _t1858=_toConsumableArray(e.outermostSelectedElements);_t1858=Ni(_t1858);var i=[];var _iterator1214=_createForOfIteratorHelper(_t1858),_step1214;try{for(_iterator1214.s();!(_step1214=_iterator1214.n()).done;){var _e1310=_step1214.value;var _t1859=$i("svg:a");_e1310.after(_t1859),_t1859.append(_e1310),i.push(_t1859);}}catch(err){_iterator1214.e(err);}finally{_iterator1214.f();}e.selectedElements=i;}else{var _t1860=document.createDocumentFragment(),_i1131=_toConsumableArray(e.outermostSelectedElements),_s615=$i("svg:a");_i1131[0].after(_s615),_i1131=Ni(_i1131);var _iterator1215=_createForOfIteratorHelper(_i1131),_step1215;try{for(_iterator1215.s();!(_step1215=_iterator1215.n()).done;){var _e1311=_step1215.value;var _i1132=Wt(_e1311,_s615);_e1311.setAttribute("transform",_i1132.toString()),_t1860.append(_e1311);}}catch(err){_iterator1215.e(err);}finally{_iterator1215.f();}_s615.append(_t1860);var _iterator1216=_createForOfIteratorHelper(_s615.children),_step1216;try{for(_iterator1216.s();!(_step1216=_iterator1216.n()).done;){var _t1861=_step1216.value;va(_t1861,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision});}}catch(err){_iterator1216.e(err);}finally{_iterator1216.f();}e.selectedElements=[_s615];}}else{e.undoManager.checkpoint("Unlink");var _t1862=_toConsumableArray(e.outermostSelectedElements),_i1133=[];var _iterator1217=_createForOfIteratorHelper(_t1862),_step1217;try{for(_iterator1217.s();!(_step1217=_iterator1217.n()).done;){var _s616=_step1217.value;if("a"===_s616.localName){var _t1863=_s616,n=document.createDocumentFragment();for(var _i1134=0,_arr45=_toConsumableArray(_t1863.children);_i1134<_arr45.length;_i1134++){var _s617=_arr45[_i1134];if("title"!==_s617.localName&&"desc"!==_s617.localName){if(e.isSelectableElement(_s617)){var _n453=Wt(_s617,_t1863.parentElement);_s617.setAttribute("transform",_n453.toString()),va(_s617,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision}),_i1133.push(_s617);}var _iterator1218=_createForOfIteratorHelper(_t1863.attributes),_step1218;try{for(_iterator1218.s();!(_step1218=_iterator1218.n()).done;){var _step1218$value=_step1218.value,_e1312=_step1218$value.name,_i1135=_step1218$value.value;j.includes(_e1312)&&!1===_s617.hasAttribute(_e1312)&&_s617.setAttribute(_e1312,_i1135);}}catch(err){_iterator1218.e(err);}finally{_iterator1218.f();}var _iterator1219=_createForOfIteratorHelper(_t1863.style),_step1219;try{for(_iterator1219.s();!(_step1219=_iterator1219.n()).done;){var _e1313=_step1219.value;var _i1136=_t1863.style.getPropertyValue(_e1313);""===_s617.style.getPropertyValue(_e1313)&&_s617.style.setProperty(_e1313,_i1136);}}catch(err){_iterator1219.e(err);}finally{_iterator1219.f();}n.append(_s617);}}_t1863.before(n),_t1863.remove();}else _i1133.push(_s616);}}catch(err){_iterator1217.e(err);}finally{_iterator1217.f();}e.selectedElements=[].concat(_i1133);}}},{key:"Uw",value:function Uw(){this.tn.board.undoManager.checkpoint("Link URL");var t=this["#link-input"].value.trim();var _iterator1220=_createForOfIteratorHelper(this.tn.board.outermostSelectedElements),_step1220;try{for(_iterator1220.s();!(_step1220=_iterator1220.n()).done;){var _e1314=_step1220.value;"a"===_e1314.localName&&(0===t.length?_e1314.removeAttribute("_href"):_e1314.setAttribute("_href",t));}}catch(err){_iterator1220.e(err);}finally{_iterator1220.f();}}},{key:"Fw",value:function Fw(){this.tn.board.undoManager.checkpoint("Link target");var _iterator1221=_createForOfIteratorHelper(this.tn.board.outermostSelectedElements),_step1221;try{for(_iterator1221.s();!(_step1221=_iterator1221.n()).done;){var _t1864=_step1221.value;"a"===_t1864.localName&&(this["#link-target-checkbox"].toggled?(_t1864.setAttribute("target","_blank"),_t1864.setAttribute("rel","noreferrer")):(_t1864.removeAttribute("target"),_t1864.removeAttribute("rel")));}}catch(err){_iterator1221.e(err);}finally{_iterator1221.f();}}},{key:"Nw",value:function Nw(){if(null===this["#id-input"].error){var _t1865=this.tn.board,_e1315=_t1865.outermostSelectedElements[0]||_t1865.currentWorkspace,i=_e1315.id,_s618=this["#id-input"].value.trim();if(i!==_s618){_t1865.undoManager.checkpoint("ID"),""===_s618?_e1315.removeAttribute("id"):_e1315.setAttribute("id",_s618);{var _e1316=document.createNodeIterator(_t1865.workspaces,NodeFilter.SHOW_ELEMENT),n=null;for(;n=_e1316.nextNode();){n.href&&n.href.baseVal==="#"+i&&(""===_s618?n.removeAttribute("href"):n.setAttribute("href","#"+_s618));for(var _i1137=0,_arr46=["fill","stroke"];_i1137<_arr46.length;_i1137++){var _t1866=_arr46[_i1137];var _e1317=getComputedStyle(n).getPropertyValue(_t1866);if(_e1317&&_e1317.startsWith("url(")){_e1317.substring(6,_e1317.length-2)===i&&(""===_s618?n.style.removeProperty(_t1866):n.style.setProperty(_t1866,"url(#".concat(_s618,")")));}}}}}}}},{key:"jw",value:function jw(){var t=this.tn.board,e=this["#classes-input"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Class");var _iterator1222=_createForOfIteratorHelper(i),_step1222;try{for(_iterator1222.s();!(_step1222=_iterator1222.n()).done;){var _t1867=_step1222.value;0===e.length?_t1867.removeAttribute("class"):_t1867.setAttribute("class",e.join(" "));}}catch(err){_iterator1222.e(err);}finally{_iterator1222.f();}}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=[];t.outermostSelectedElements.length>0?e=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(e=[t.currentWorkspace]);{var _t1868="",i=!1;if(e.length>0){var _e1318=e,_e1319=_toArray(_e1318),_s619=_e1319[0],n=_e1319.slice(1),_o384=_s619.querySelector(":scope > bx-title");_o384&&(_t1868=_o384.innerHTML);var _iterator1223=_createForOfIteratorHelper(n),_step1223;try{for(_iterator1223.s();!(_step1223=_iterator1223.n()).done;){var _e1320=_step1223.value;var _s620=_e1320.querySelector(":scope > bx-title");if(_s620&&_s620.innerHTML!==_t1868){i=!0;break;}}}catch(err){_iterator1223.e(err);}finally{_iterator1223.f();}}this["#title-heading"].disabled=0===e.length,this["#title-input"].value=_t1868,this["#title-input"].mixed=i,this["#title-input"].disabled=0===e.length;}{var _t1869="",_i1138=!1;if(e.length>0){var _e1321=e,_e1322=_toArray(_e1321),_s621=_e1322[0],_n454=_e1322.slice(1),_o385=_s621.querySelector(":scope > desc");_o385&&(_t1869=_o385.innerHTML);var _iterator1224=_createForOfIteratorHelper(_n454),_step1224;try{for(_iterator1224.s();!(_step1224=_iterator1224.n()).done;){var _e1323=_step1224.value;var _s622=_e1323.querySelector(":scope > desc");if(_s622&&_s622.innerHTML!==_t1869){_i1138=!0;break;}}}catch(err){_iterator1224.e(err);}finally{_iterator1224.f();}}this["#desc-heading"].disabled=0===e.length,this["#desc-editor"].value=_t1869,this["#desc-editor"].mixed=_i1138,this["#desc-editor"].disabled=0===e.length;}{var _t1870="",_i1139=!1;if(e.length>0){var _e1324=e,_e1325=_toArray(_e1324),_s623=_e1325[0],_n455=_e1325.slice(1),_this$Vw=this.Vw(_s623),_this$Vw2=_slicedToArray(_this$Vw,2),_o386=_this$Vw2[0],_l323=_this$Vw2[1];if(_t1870=_o386,_i1139=_l323,!1===_i1139){var _iterator1225=_createForOfIteratorHelper(_n455),_step1225;try{for(_iterator1225.s();!(_step1225=_iterator1225.n()).done;){var _t1871=_step1225.value;var _this$Vw3=this.Vw(_t1871),_this$Vw4=_slicedToArray(_this$Vw3,2),_e1326=_this$Vw4[0],_s624=_this$Vw4[1];if(_e1326!==_o386||_s624){_i1139=!0;break;}}}catch(err){_iterator1225.e(err);}finally{_iterator1225.f();}}}this["#language-heading"].disabled=0===e.length,this["#language-select"].value=_t1870,this["#language-select"].mixed=_i1139,this["#language-select"].disabled=0===e.length;}{var _t1872="",_i1140=!1;if(e.length>0){var _e1327=e,_e1328=_toArray(_e1327),_s625=_e1328[0],_n456=_e1328.slice(1);_t1872=_s625.getAttribute("role")||"";var _iterator1226=_createForOfIteratorHelper(_n456),_step1226;try{for(_iterator1226.s();!(_step1226=_iterator1226.n()).done;){var _e1329=_step1226.value;if((_e1329.getAttribute("role")||"")!==_t1872){_i1140=!0;break;}}}catch(err){_iterator1226.e(err);}finally{_iterator1226.f();}}this["#role-heading"].disabled=0===e.length,this["#role-select"].value=_t1872,this["#role-select"].mixed=_i1140,this["#role-select"].disabled=0===e.length;}{var _t1873=-1,_i1141=!1;if(e.length>0){var _e1330=e,_e1331=_toArray(_e1330),_s626=_e1331[0],_n457=_e1331.slice(1);_t1873=_s626.tabIndex;var _iterator1227=_createForOfIteratorHelper(_n457),_step1227;try{for(_iterator1227.s();!(_step1227=_iterator1227.n()).done;){var _t1874=_step1227.value;if(_t1874.tabIndex!==_s626.tabIndex){_i1141=!0;break;}}}catch(err){_iterator1227.e(err);}finally{_iterator1227.f();}}this["#tab-index-heading"].disabled=0===e.length,this["#tab-index-slider"].value=_t1873,this["#tab-index-slider"].disabled=0===e.length,this["#tab-index-input"].value=_t1873,this["#tab-index-input"].mixed=_i1141,this["#tab-index-input"].disabled=0===e.length;}{var _t1875=_toConsumableArray(this.tn.board.outermostSelectedObjectElements);if(0===_t1875.length)this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1;else if(1===_t1875.length){var _e1332=_t1875[0];"a"===_e1332.localName?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_e1332.hasAttribute("_href")?_e1332.getAttribute("_href"):"",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled=_e1332.hasAttribute("target"),this["#link-target-checkbox"].mixed=!1):_e1332.closest("a")||_e1332.querySelector("a")?(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}else{var _e1333=_t1875.filter(function(t){return"a"===t.localName;}),_i1142=_t1875.filter(function(t){return"a"!==t.localName;}),_s627=_i1142.filter(function(t){return t.closest("a")||t.querySelector("a");});_i1142.length>0&&0===_e1333.length&&0===_s627.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):_e1333.length>0&&0===_i1142.length&&0===_s627.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_t1875[0].hasAttribute("_href")?_t1875[0].getAttribute("_href"):"",this["#link-input"].mixed=void 0!==_t1875.find(function(e){return e.getAttribute("_href")!==_t1875[0].getAttribute("_href");}),this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled="_blank"===_t1875[0].getAttribute("target"),this["#link-target-checkbox"].mixed=void 0!==_t1875.find(function(e){return e.getAttribute("target")!==_t1875[0].getAttribute("target");})):(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}}{var _t1876="",_i1143=!1;if(e.length>0){var _e1334=e,_e1335=_toArray(_e1334),_s628=_e1335[0],_n458=_e1335.slice(1);_t1876=_s628.id;var _iterator1228=_createForOfIteratorHelper(_n458),_step1228;try{for(_iterator1228.s();!(_step1228=_iterator1228.n()).done;){var _t1877=_step1228.value;if(_t1877.id!==_s628.id){_i1143=!0;break;}}}catch(err){_iterator1228.e(err);}finally{_iterator1228.f();}}this["#id-heading"].disabled=1!==e.length,this["#id-input"].value=_t1876,this["#id-input"].mixed=_i1143,this["#id-input"].disabled=1!==e.length;}{var _t1878=[],_i1144=!1;if(e.length>0){var _e1336=e,_e1337=_toArray(_e1336),_s629=_e1337[0],_n459=_e1337.slice(1),_o387=_toConsumableArray(_s629.classList);_t1878=_o387;var _iterator1229=_createForOfIteratorHelper(_n459),_step1229;try{for(_iterator1229.s();!(_step1229=_iterator1229.n()).done;){var _t1879=_step1229.value;var _e1338=_toConsumableArray(_t1879.classList);if(!1===ii(_o387,_e1338)){_i1144=!0;break;}}}catch(err){_iterator1229.e(err);}finally{_iterator1229.f();}}if(!1===ii(_t1878,this["#classes-input"].value)){var _e1339="";var _iterator1230=_createForOfIteratorHelper(_t1878),_step1230;try{for(_iterator1230.s();!(_step1230=_iterator1230.n()).done;){var _i1145=_step1230.value;_e1339+="\n            <x-tag value=\"".concat(_i1145,"\">\n              <x-label>").concat(_i1145,"</x-label>\n            </x-tag>\n          ");}}catch(err){_iterator1230.e(err);}finally{_iterator1230.f();}this["#classes-input"].innerHTML=_e1339;}this["#classes-heading"].disabled=0===e.length,this["#classes-input"].mixed=_i1144,this["#classes-input"].disabled=0===e.length;}this["#accessibility-heading"].disabled=this["#title-heading"].disabled&&this["#desc-heading"].disabled&&this["#language-heading"].disabled&&this["#role-heading"].disabled&&this["#tab-index-heading"].disabled,this["#scripting-heading"].disabled=this["#id-heading"].disabled&&this["#classes-heading"].disabled,this["#panel-heading"].disabled=this["#accessibility-heading"].disabled&&this["#scripting-heading"].disabled;}},{key:"Vw",value:function Vw(t){var e="",i=!1,s=this.tn.board.workspaces;for(var _i1146=t;_i1146!==s;_i1146=_i1146.parentElement){if(_i1146.hasAttribute("lang")){e=_i1146.getAttribute("lang").trim();break;}}var _iterator1231=_createForOfIteratorHelper(t.querySelectorAll("*[lang]")),_step1231;try{for(_iterator1231.s();!(_step1231=_iterator1231.n()).done;){var _s630=_step1231.value;_s630.getAttribute("lang").trim()!==e&&(i=!0);}}catch(err){_iterator1231.e(err);}finally{_iterator1231.f();}return[e,i];}}]);return im;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(im,"observedAttributes",["enabled"]);_defineProperty(im,"_shadowTemplate",Ki(_templateObject388()));_defineProperty(im,"_shadowStyleSheet",Qi(_templateObject389()));customElements.define("bx-metapanel",im);var sm=/*#__PURE__*/function(_HTMLElement112){_inherits(sm,_HTMLElement112);var _super158=_createSuper(sm);_createClass(sm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function sm(){var _this755;_classCallCheck(this,sm);_this755=_super158.call(this),_this755.Za=ts(_this755.Xs,200,_assertThisInitialized(_this755)),_this755._shadowRoot=_this755.attachShadow({mode:"closed"}),_this755._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,sm._shadowStyleSheet],_this755._shadowRoot.append(document.importNode(sm._shadowTemplate.content,!0));var _iterator1232=_createForOfIteratorHelper(_this755._shadowRoot.querySelectorAll("[id]")),_step1232;try{for(_iterator1232.s();!(_step1232=_iterator1232.n()).done;){var _t1880=_step1232.value;_this755["#"+_t1880.id]=_t1880;}}catch(err){_iterator1232.e(err);}finally{_iterator1232.f();}_this755["#reorient-button"].addEventListener("click",function(){return _this755.Js.execCommand("reorient");}),_this755["#reverse-button"].addEventListener("click",function(){return _this755.Js.execCommand("reverse");}),_this755["#shape-to-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("shapeToPath");}),_this755["#stroke-to-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("strokeToPath");}),_this755["#unite-button"].addEventListener("click",function(t){return _this755.Js.execCommand("unite");}),_this755["#intersect-button"].addEventListener("click",function(t){return _this755.Js.execCommand("intersect");}),_this755["#subtract-button"].addEventListener("click",function(t){return _this755.Js.execCommand("subtract");}),_this755["#exclude-button"].addEventListener("click",function(t){return _this755.Js.execCommand("exclude");}),_this755["#join-paths-button"].addEventListener("click",function(){return _this755.Js.execCommand("joinPaths");}),_this755["#split-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("splitPath");}),_this755["#close-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("closePath");}),_this755["#open-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("openPath");}),_this755["#inset-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("insetPath");}),_this755["#outset-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("outsetPath");}),_this755["#simplify-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("simplifyPath");}),_this755["#complexify-path-button"].addEventListener("click",function(){return _this755.Js.execCommand("complexifyPath");}),_this755["#join-nodes-button"].addEventListener("click",function(){return _this755.Js.execCommand("joinNodes");}),_this755["#split-node-button"].addEventListener("click",function(){return _this755.Js.execCommand("splitNode");}),_this755["#delete-node-button"].addEventListener("click",function(){return _this755.Js.execCommand("deleteNode");}),_this755["#break-node-button"].addEventListener("click",function(){return _this755.Js.execCommand("breakNode");});return _this755;}_createClass(sm,[{key:"connectedCallback",value:function connectedCallback(){this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this756=this;this.Xs();var t=this.tn.board;t.addEventListener("selectedelementschange",this.al=function(){_this756.hl();}),t.addEventListener("workspacemutation",this.rn=function(t){_this756.pl(t.detail);}),t.splineHud.addEventListener("selectednodeschange",this.nw=function(){_this756.Xs();});}},{key:"sn",value:function sn(){var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn),t.splineHud.removeEventListener("selectednodeschange",this.nw);}},{key:"hl",value:function hl(){this.Za();}},{key:"pl",value:function pl(t){this.Za();}},{key:"Xs",value:function Xs(){{var _t1881=this.Js.isCommandEnabled("reorient"),_e1340=this.Js.isCommandEnabled("reverse");this["#reorient-button"].disabled=!_t1881,this["#reverse-button"].disabled=!_e1340;}{var _t1882=this.Js.isCommandEnabled("shapeToPath"),_e1341=this.Js.isCommandEnabled("strokeToPath");this["#shape-to-path-button"].disabled=!_t1882,this["#stroke-to-path-button"].disabled=!_e1341,this["#convert-section-heading"].disabled=!(_e1341||_t1882);}{var _t1883=this.Js.isCommandEnabled("unite"),_e1342=this.Js.isCommandEnabled("subtract"),i=this.Js.isCommandEnabled("intersect"),_s631=this.Js.isCommandEnabled("exclude");this["#unite-button"].disabled=!_t1883,this["#subtract-button"].disabled=!_e1342,this["#intersect-button"].disabled=!i,this["#exclude-button"].disabled=!_s631,this["#boolops-section-heading"].disabled=!(_t1883||_e1342||i||_s631);}{var _t1884=this.Js.isCommandEnabled("openPath"),_e1343=this.Js.isCommandEnabled("closePath"),_i1147=this.Js.isCommandEnabled("joinPaths"),_s632=this.Js.isCommandEnabled("splitPath"),n=this.Js.isCommandEnabled("insetPath"),_o388=this.Js.isCommandEnabled("outsetPath"),_l324=this.Js.isCommandEnabled("simplifyPath"),_a240=this.Js.isCommandEnabled("complexifyPath");this["#open-path-button"].disabled=!_t1884,this["#close-path-button"].disabled=!_e1343,this["#join-paths-button"].disabled=!_i1147,this["#split-path-button"].disabled=!_s632,this["#inset-path-button"].disabled=!n,this["#outset-path-button"].disabled=!_o388,this["#simplify-path-button"].disabled=!_l324,this["#complexify-path-button"].disabled=!_a240,this["#path-section-heading"].disabled=!(_t1884||_e1343||_i1147||_s632||n||_o388||_l324||_a240);}{var _t1885=this.Js.isCommandEnabled("joinNodes"),_e1344=this.Js.isCommandEnabled("splitNode"),_i1148=this.Js.isCommandEnabled("deleteNode"),_s633=this.Js.isCommandEnabled("breakNode");this["#join-nodes-button"].disabled=!_t1885,this["#split-node-button"].disabled=!_e1344,this["#delete-node-button"].disabled=!_i1148,this["#break-node-button"].disabled=!_s633,this["#node-section-heading"].disabled=!(_t1885||_e1344||_i1148||_s633);}this["#panel-heading"].disabled=null===this._shadowRoot.querySelector("x-button:not([disabled]");}}]);return sm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sm,"observedAttributes",["enabled"]);_defineProperty(sm,"_shadowTemplate",Ki(_templateObject390()));_defineProperty(sm,"_shadowStyleSheet",Qi(_templateObject391()));customElements.define("bx-shapepanel",sm);var nm=/*#__PURE__*/function(_HTMLElement113){_inherits(nm,_HTMLElement113);var _super159=_createSuper(nm);_createClass(nm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nm(){var _this757;_classCallCheck(this,nm);_this757=_super159.call(this),_this757.Hw=ts(_this757.Xs,250,_assertThisInitialized(_this757)),_this757.Ww=ts(_this757.Xs,2e3,_assertThisInitialized(_this757)),_this757._shadowRoot=_this757.attachShadow({mode:"closed"}),_this757._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,nm._shadowStyleSheet],_this757._shadowRoot.append(document.importNode(nm._shadowTemplate.content,!0));var _iterator1233=_createForOfIteratorHelper(_this757._shadowRoot.querySelectorAll("[id]")),_step1233;try{for(_iterator1233.s();!(_step1233=_iterator1233.n()).done;){var _t1886=_step1233.value;_this757["#"+_t1886.id]=_t1886;}}catch(err){_iterator1233.e(err);}finally{_iterator1233.f();}_this757["#align-to-select"].addEventListener("change",function(){return _this757.Yw();}),_this757["#align-as-group-button"].addEventListener("toggle",function(){return _this757.qw();}),_this757["#align-buttons"].addEventListener("click",function(t){return _this757.Xw(t);}),_this757["#rotate-buttons"].addEventListener("click",function(t){return _this757.Zw(t);}),_this757["#flip-buttons"].addEventListener("click",function(t){return _this757.Kw(t);}),_this757["#transform-buttons"].addEventListener("click",function(t){return _this757.Qw(t);}),_this757["#order-buttons-1"].addEventListener("click",function(t){return _this757.Jw(t);}),_this757["#order-buttons-2"].addEventListener("click",function(t){return _this757.Jw(t);}),_this757["#group-buttons"].addEventListener("click",function(t){return _this757.tv(t);}),_this757["#distance-buttons"].addEventListener("toggle",function(){return _this757.ev();}),_this757["#distribute-buttons-box"].addEventListener("click",function(t){return _this757.iv(t);});return _this757;}_createClass(nm,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this758=this;var t=this.tn.board;this.Js.addEventListener("modkeyschange",this.nh=function(){return _this758.Hd();}),t.addEventListener("selectedelementschange",this.al=function(){return _this758.Xs();}),t.addEventListener("workspacemutation",this.rn=function(){return _this758.pl();}),this.sv=this.Js.getConfig("bx-arrangementpanel:alignTo","default-view"),this.nv=this.Js.getConfig("bx-arrangementpanel:alignAsGroup",!0),this.ov=this.Js.getConfig("bx-arrangementpanel:distance","auto"),"view-box"===this.sv&&(this.sv="nearest-view"),this.Xs();}},{key:"sn",value:function sn(){var t=this.tn.board;this.Js.removeEventListener("modkeyschange",this.nh),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(){this.Js.isPointerDown?this.Ww():this.Hw();}},{key:"Hd",value:function Hd(){var t=this.Js.modKeys.shift?"outside":"inside";this["#move-buttons"].setAttribute("data-side",t);var _iterator1234=_createForOfIteratorHelper(this["#move-buttons"].querySelectorAll("x-button")),_step1234;try{for(_iterator1234.s();!(_step1234=_iterator1234.n()).done;){var _e1345=_step1234.value;_e1345.value="outside"===t?_e1345.value.replace("inside","outside"):_e1345.value.replace("outside","inside");}}catch(err){_iterator1234.e(err);}finally{_iterator1234.f();}}},{key:"Yw",value:function Yw(){this.sv=this["#align-to-select"].value,this.Js.setConfig("bx-arrangementpanel:alignTo",this.sv),this.Xs();}},{key:"qw",value:function qw(){this.nv=this["#align-as-group-button"].toggled,this.Js.setConfig("bx-arrangementpanel:alignAsGroup",this.nv),this.Xs();}},{key:"Xw",value:function Xw(t){var e=t.target.closest("x-button");if(e){var _t1887=this.tn.board,i=this["#align-to-select"].value,_s634=this["#align-as-group-button"].toggled;if(_t1887.undoManager.checkpoint("Align"),"default-view"===i){var _i1149=Yt(_t1887.vectorCanvas),n=Ut.fromString(_t1887.currentWorkspace.getAttribute("viewBox")).toRect(),_o389=Ve(n,_i1149);this.lv(_t1887.outermostSelectedObjectElements,_o389,e.value,_s634);}else if("nearest-view"===i){var _i1150=Yt(_t1887.vectorCanvas),_n460=[Ut.fromString(_t1887.currentWorkspace.getAttribute("viewBox")).toRect()];var _iterator1235=_createForOfIteratorHelper(_t1887.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view")),_step1235;try{for(_iterator1235.s();!(_step1235=_iterator1235.n()).done;){var _e1346=_step1235.value;_n460.push(Ut.fromString(_e1346.getAttribute("viewBox")).toRect());}}catch(err){_iterator1235.e(err);}finally{_iterator1235.f();}if(!0===_s634||1===_t1887.outermostSelectedObjectElements){var _o390=He(_t1887.outermostSelectedObjectElements.map(function(t){return Ei(t);}));_o390=Ve(_o390,_i1150.inverse());var _l325=Xe(_n460,_o390),_a241=Ve(_l325,_i1150);this.lv(_t1887.outermostSelectedObjectElements,_a241,e.value,_s634);}else{var _iterator1236=_createForOfIteratorHelper(_t1887.outermostSelectedObjectElements),_step1236;try{for(_iterator1236.s();!(_step1236=_iterator1236.n()).done;){var _s635=_step1236.value;var _t1888=Ve(Ei(_s635),_i1150.inverse()),_o391=Xe(_n460,_t1888),_l326=Ve(_o391,_i1150);this.lv([_s635],_l326,e.value,!1);}}catch(err){_iterator1236.e(err);}finally{_iterator1236.f();}}}else if("first-selected"===i){var _t1887$outermostSelec=_toArray(_t1887.outermostSelectedObjectElements),_i1151=_t1887$outermostSelec[0],_n461=_t1887$outermostSelec.slice(1),_o392=Ei(_i1151);this.lv(_n461,_o392,e.value,_s634);}else if("last-selected"===i){var _reverse=_toConsumableArray(_t1887.outermostSelectedObjectElements).reverse(),_reverse2=_toArray(_reverse),_i1152=_reverse2[0],_n462=_reverse2.slice(1),_o393=Ei(_i1152);this.lv(_n462,_o393,e.value,_s634);}else if("selection"===i){Yt(_t1887.vectorCanvas);var _i1153=He(_t1887.outermostSelectedObjectElements.map(function(t){return Ei(t);}));this.lv(_t1887.outermostSelectedObjectElements,_i1153,e.value,!1);}}}},{key:"Zw",value:function Zw(t){var e=t.target.closest("x-button");e&&this.Js.execCommand(e.value);}},{key:"Kw",value:function Kw(t){var e=t.target.closest("x-button");e&&this.Js.execCommand(e.value);}},{key:"Qw",value:function Qw(t){var e=t.target.closest("x-button");e&&this.Js.execCommand(e.value);}},{key:"Jw",value:function Jw(t){var e=t.target.closest("x-button");e&&this.Js.execCommand(e.value);}},{key:"tv",value:function tv(t){var e=t.target.closest("x-button");e&&this.Js.execCommand(e.value);}},{key:"ev",value:function ev(){"auto"===this["#distance-buttons"].value&&(this["#distance-input"].value=0),this.ov=this["#distance-buttons"].value,this.Js.setConfig("bx-arrangementpanel:distance",this.ov),this.Xs();}},{key:"iv",value:function iv(t){var e=t.target.closest("x-button");if(e){var _t1889=this.tn.board,i=_toConsumableArray(_t1889.outermostSelectedObjectElements),_s636=Symbol();var _iterator1237=_createForOfIteratorHelper(i),_step1237;try{for(_iterator1237.s();!(_step1237=_iterator1237.n()).done;){var _t1892=_step1237.value;_t1892[_s636]=Ei(_t1892);}}catch(err){_iterator1237.e(err);}finally{_iterator1237.f();}if(_t1889.undoManager.checkpoint("Distribute"),"horizontal"===e.value){i.sort(function(t,e){var i=t[_s636],n=e[_s636];return i.x+i.width/2-(n.x+n.width/2);});var _e1347=i.map(function(t){return t[_s636];}),n=He(_e1347).width;var _iterator1238=_createForOfIteratorHelper(i),_step1238;try{for(_iterator1238.s();!(_step1238=_iterator1238.n()).done;){var _t1890=_step1238.value;n-=_t1890[_s636].width;}}catch(err){_iterator1238.e(err);}finally{_iterator1238.f();}if(n<=0||"manual"===this["#distance-buttons"].value){var _e1348=0;"manual"===this["#distance-buttons"].value&&(_e1348=this["#distance-input"].value*this.tn.board.scale);var _n463=i[0],_o394=null;var _iterator1239=_createForOfIteratorHelper(i),_step1239;try{for(_iterator1239.s();!(_step1239=_iterator1239.n()).done;){var _l327=_step1239.value;if(_l327!==_n463){var _i1154=Ht(_l327),_n464=Yt(_l327),_a242=_n464.inverse(),_h200=-(_l327[_s636].left-_o394[_s636].right)+_e1348,_r133=_i1154.multiply(_a242);_r133.translateSelf(_h200,0),_r133.multiplySelf(_n464),_l327.setAttribute("transform",_r133.toString()),va(_l327,{geometryPrecision:_t1889.geometryPrecision,transformPrecision:_t1889.transformPrecision}),_l327[_s636]=Ei(_l327);}_o394=_l327;}}catch(err){_iterator1239.e(err);}finally{_iterator1239.f();}}else{var _e1349=i[0],_o395=i[i.length-1],_l328=null,_a243=n/(i.length-1);var _iterator1240=_createForOfIteratorHelper(i),_step1240;try{for(_iterator1240.s();!(_step1240=_iterator1240.n()).done;){var _n465=_step1240.value;if(_n465!==_e1349&&_n465!==_o395){var _e1350=Ht(_n465),_i1155=Yt(_n465),_o396=_i1155.inverse(),_h201=-(_n465[_s636].left-_l328[_s636].right)+_a243,_r134=_e1350.multiply(_o396);_r134.translateSelf(_h201,0),_r134.multiplySelf(_i1155),_n465.setAttribute("transform",_r134.toString()),va(_n465,{geometryPrecision:_t1889.geometryPrecision,transformPrecision:_t1889.transformPrecision}),_n465[_s636]=Ei(_n465);}_l328=_n465;}}catch(err){_iterator1240.e(err);}finally{_iterator1240.f();}}}else if("vertical"===e.value){i.sort(function(t,e){var i=t[_s636],n=e[_s636];return i.y+i.height/2-(n.y+n.height/2);});var _e1351=i.map(function(t){return t[_s636];}),_n466=He(_e1351).height;var _iterator1241=_createForOfIteratorHelper(i),_step1241;try{for(_iterator1241.s();!(_step1241=_iterator1241.n()).done;){var _t1891=_step1241.value;_n466-=_t1891[_s636].height;}}catch(err){_iterator1241.e(err);}finally{_iterator1241.f();}if(_n466<=0||"manual"===this["#distance-buttons"].value){var _e1352=0;"manual"===this["#distance-buttons"].value&&(_e1352=this["#distance-input"].value*this.tn.board.scale);var _n467=i[0],_o397=null;var _iterator1242=_createForOfIteratorHelper(i),_step1242;try{for(_iterator1242.s();!(_step1242=_iterator1242.n()).done;){var _l329=_step1242.value;if(_l329!==_n467){var _i1156=Ht(_l329),_n468=Yt(_l329),_a244=_n468.inverse(),_h202=-(_l329[_s636].top-_o397[_s636].bottom)+_e1352,_r135=_i1156.multiply(_a244);_r135.translateSelf(0,_h202),_r135.multiplySelf(_n468),_l329.setAttribute("transform",_r135.toString()),va(_l329,{geometryPrecision:_t1889.geometryPrecision,transformPrecision:_t1889.transformPrecision}),_l329[_s636]=Ei(_l329);}_o397=_l329;}}catch(err){_iterator1242.e(err);}finally{_iterator1242.f();}}else{var _e1353=i[0],_o398=i[i.length-1],_l330=null,_a245=_n466/(i.length-1);var _iterator1243=_createForOfIteratorHelper(i),_step1243;try{for(_iterator1243.s();!(_step1243=_iterator1243.n()).done;){var _n469=_step1243.value;if(_n469!==_e1353&&_n469!==_o398){var _e1354=Ht(_n469),_i1157=Yt(_n469),_o399=_i1157.inverse(),_h203=-(_n469[_s636].top-_l330[_s636].bottom)+_a245,_r136=_e1354.multiply(_o399);_r136.translateSelf(0,_h203),_r136.multiplySelf(_i1157),_n469.setAttribute("transform",_r136.toString()),va(_n469,{geometryPrecision:_t1889.geometryPrecision,transformPrecision:_t1889.transformPrecision}),_n469[_s636]=Ei(_n469);}_l330=_n469;}}catch(err){_iterator1243.e(err);}finally{_iterator1243.f();}}}else if("centers-horizontal"===e.value){var _e1355=_toConsumableArray(i).sort(function(t,e){var i=t[_s636],n=e[_s636];return i.x+i.width/2-(n.x+n.width/2);}),_n470=_e1355[0],_o400=_e1355[_e1355.length-1],_l331=0;if("manual"===this["#distance-buttons"].value)_l331=this["#distance-input"].value*this.tn.board.scale;else{_l331=(_o400[_s636].x+_o400[_s636].width/2-(_n470[_s636].x+_n470[_s636].width/2))/(_e1355.length-1);}var _a246=_l331;var _iterator1244=_createForOfIteratorHelper(_e1355),_step1244;try{for(_iterator1244.s();!(_step1244=_iterator1244.n()).done;){var _i1158=_step1244.value;if(_i1158!==_n470&&(_i1158!==_o400||"auto"!==this["#distance-buttons"].value)){var _e1356=Ht(_i1158),_o401=Yt(_i1158),_h204=_o401.inverse(),_r137=-(_i1158[_s636].x+_i1158[_s636].width/2-(_n470[_s636].x+_n470[_s636].width/2))+_a246,_d109=_e1356.multiply(_h204);_d109.translateSelf(_r137,0),_d109.multiplySelf(_o401),_i1158.setAttribute("transform",_d109.toString()),va(_i1158,{geometryPrecision:_t1889.geometryPrecision,transformPrecision:_t1889.transformPrecision}),_a246+=_l331,_i1158[_s636]=Ei(_i1158);}}}catch(err){_iterator1244.e(err);}finally{_iterator1244.f();}}else if("centers-vertical"===e.value){var _e1357=_toConsumableArray(i).sort(function(t,e){var i=t[_s636],n=e[_s636];return i.y+i.height/2-(n.y+n.height/2);}),_n471=_e1357[0],_o402=_e1357[_e1357.length-1],_l332=0;if("manual"===this["#distance-buttons"].value)_l332=this["#distance-input"].value*this.tn.board.scale;else{_l332=(_o402[_s636].y+_o402[_s636].height/2-(_n471[_s636].y+_n471[_s636].height/2))/(_e1357.length-1);}var _a247=_l332;var _iterator1245=_createForOfIteratorHelper(_e1357),_step1245;try{for(_iterator1245.s();!(_step1245=_iterator1245.n()).done;){var _i1159=_step1245.value;if(_i1159!==_n471&&(_i1159!==_o402||"auto"!==this["#distance-buttons"].value)){var _e1358=Ht(_i1159),_o403=Yt(_i1159),_h205=_o403.inverse(),_r138=-(_i1159[_s636].y+_i1159[_s636].height/2-(_n471[_s636].y+_n471[_s636].height/2))+_a247,_d110=_e1358.multiply(_h205);_d110.translateSelf(0,_r138),_d110.multiplySelf(_o403),_i1159.setAttribute("transform",_d110.toString()),va(_i1159,{geometryPrecision:_t1889.geometryPrecision,transformPrecision:_t1889.transformPrecision}),_a247+=_l332,_i1159[_s636]=Ei(_i1159);}}}catch(err){_iterator1245.e(err);}finally{_iterator1245.f();}}}}},{key:"lv",value:function lv(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;if(!1===s){var _iterator1246=_createForOfIteratorHelper(t),_step1246;try{for(_iterator1246.s();!(_step1246=_iterator1246.n()).done;){var _s637=_step1246.value;var _t1893=Ht(_s637),n=Yt(_s637),_o404=n.inverse(),_l333=Ei(_s637),_a248=0,_h206=0,_r139=1,_d111=1,_c81=0,_p78=0;if("move-left-inside"===i)_a248=e.x-_l333.x;else if("move-left-outside"===i)_a248=e.x-_l333.x-_l333.width;else if("move-right-inside"===i)_a248=e.x+e.width-_l333.x-_l333.width;else if("move-right-outside"===i)_a248=e.x+e.width-_l333.x;else if("move-top-inside"===i)_h206=e.y-_l333.y;else if("move-top-outside"===i)_h206=e.y-_l333.y-_l333.height;else if("move-bottom-inside"===i)_h206=e.y+e.height-_l333.y-_l333.height;else if("move-bottom-outside"===i)_h206=e.y+e.height-_l333.y;else if("center"===i)_a248=e.x-_l333.x+e.width/2-_l333.width/2,_h206=e.y-_l333.y+e.height/2-_l333.height/2;else if("horizontal-center"===i)_a248=e.x-_l333.x+e.width/2-_l333.width/2;else if("vertical-center"===i)_h206=e.y-_l333.y+e.height/2-_l333.height/2;else if("stretch"===i)_r139=e.width/_l333.width,_d111=e.height/_l333.height,_a248=e.x-_l333.x*_r139,_h206=e.y-_l333.y*_d111;else if("horizontal-stretch"===i)_r139=e.width/_l333.width,_a248=e.x-_l333.x*_r139;else if("vertical-stretch"===i)_d111=e.height/_l333.height,_h206=e.y-_l333.y*_d111;else if("fit"===i){var _t1894=min(e.width/_l333.width,e.height/_l333.height);_r139=_t1894,_d111=_t1894,_a248=e.x-_l333.x+e.width/2-_l333.width/2,_h206=e.y-_l333.y+e.height/2-_l333.height/2,_c81=_l333.x+_l333.width/2,_p78=_l333.y+_l333.height/2;}else"horizontal-fit"===i?(_r139=e.width/_l333.width,_d111=_r139,_a248=e.x-_l333.x,_c81=_l333.x,_p78=_l333.y):"vertical-fit"===i&&(_d111=e.height/_l333.height,_r139=_d111,_h206=e.y-_l333.y,_c81=_l333.x,_p78=_l333.y);var _u66=_t1893.multiply(_o404);_u66.translateSelf(_a248,_h206),_u66.scaleSelf(_r139,_d111,1,_c81,_p78),_u66.multiplySelf(n),_s637.setAttribute("transform",_u66.toString()),va(_s637,{geometryPrecision:this.tn.board.geometryPrecision,transformPrecision:this.tn.board.transformPrecision});}}catch(err){_iterator1246.e(err);}finally{_iterator1246.f();}}else if(!0===s){var _s638=t.map(function(t){return Ei(t);}),_n472=He(_s638),_o405=0,_l334=0,_a249=1,_h207=1,_r140=0,_d112=0;if("move-left-inside"===i)_o405=e.x-_n472.x;else if("move-left-outside"===i)_o405=e.x-_n472.x-_n472.width;else if("move-right-inside"===i)_o405=e.x+e.width-_n472.x-_n472.width;else if("move-right-outside"===i)_o405=e.x+e.width-_n472.x;else if("move-top-inside"===i)_l334=e.y-_n472.y;else if("move-top-outside"===i)_l334=e.y-_n472.y-_n472.height;else if("move-bottom-inside"===i)_l334=e.y+e.height-_n472.y-_n472.height;else if("move-bottom-outside"===i)_l334=e.y+e.height-_n472.y;else if("center"===i)_o405=e.x-_n472.x+e.width/2-_n472.width/2,_l334=e.y-_n472.y+e.height/2-_n472.height/2;else if("horizontal-center"===i)_o405=e.x-_n472.x+e.width/2-_n472.width/2;else if("vertical-center"===i)_l334=e.y-_n472.y+e.height/2-_n472.height/2;else if("stretch"===i)_a249=e.width/_n472.width,_h207=e.height/_n472.height,_o405=e.x-_n472.x*_a249,_l334=e.y-_n472.y*_h207;else if("horizontal-stretch"===i)_a249=e.width/_n472.width,_o405=e.x-_n472.x*_a249;else if("vertical-stretch"===i)_h207=e.height/_n472.height,_l334=e.y-_n472.y*_h207;else if("fit"===i){var _t1895=min(e.width/_n472.width,e.height/_n472.height);_a249=_t1895,_h207=_t1895,_o405=e.x-_n472.x+e.width/2-_n472.width/2,_l334=e.y-_n472.y+e.height/2-_n472.height/2,_r140=_n472.x+_n472.width/2,_d112=_n472.y+_n472.height/2;}else"horizontal-fit"===i?(_a249=e.width/_n472.width,_h207=_a249,_o405=e.x-_n472.x,_r140=_n472.x,_d112=_n472.y):"vertical-fit"===i&&(_h207=e.height/_n472.height,_a249=_h207,_l334=e.y-_n472.y,_r140=_n472.x,_d112=_n472.y);var _iterator1247=_createForOfIteratorHelper(t),_step1247;try{for(_iterator1247.s();!(_step1247=_iterator1247.n()).done;){var _e1359=_step1247.value;var _t1896=Ht(_e1359),_i1160=Yt(_e1359),_s639=_i1160.inverse(),_n473=_t1896.multiply(_s639);_n473.translateSelf(_o405,_l334),_n473.scaleSelf(_a249,_h207,1,_r140,_d112),_n473.multiplySelf(_i1160),_e1359.setAttribute("transform",_n473.toString()),va(_e1359,{geometryPrecision:this.tn.board.geometryPrecision,transformPrecision:this.tn.board.transformPrecision});}}catch(err){_iterator1247.e(err);}finally{_iterator1247.f();}}}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=t.outermostSelectedObjectElements;if(this["#panel-heading"].disabled=0===t.outermostSelectedObjectElements.length,0===e.length){this["#align-section-heading"].disabled=!0,this["#align-options-heading"].disabled=!0,this["#align-to-select"].value=this.sv,this["#align-to-select"].disabled=!0,this["#align-as-group-button"].toggled=this.nv,this["#align-as-group-button"].disabled=!0;var _iterator1248=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1248;try{for(_iterator1248.s();!(_step1248=_iterator1248.n()).done;){var _t1897=_step1248.value;_t1897.disabled=!0;}}catch(err){_iterator1248.e(err);}finally{_iterator1248.f();}}else{this["#align-section-heading"].disabled=!1,this["#align-options-heading"].disabled=!1,this["#align-to-select"].value=this.sv,this["#align-to-select"].disabled=!1,this["#align-as-group-button"].toggled=this.nv,this["#align-as-group-button"].disabled=!1;var i=!0;if("default-view"===this.sv)i=t.currentWorkspace.hasAttribute("viewBox");else if("nearest-view"===this.sv){if(t.currentWorkspace.hasAttribute("viewBox"))i=!0;else{i=t.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view").length>0;}}else"first-selected"===this.sv||"last-selected"===this.sv?i=e.length>=2:"selection"===this.sv&&(i=e.length>=2&&!1===this.nv);var _iterator1249=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1249;try{for(_iterator1249.s();!(_step1249=_iterator1249.n()).done;){var _t1898=_step1249.value;_t1898.disabled=!1===i;}}catch(err){_iterator1249.e(err);}finally{_iterator1249.f();}}this["#rotate-counterclockwise-button"].disabled=!this.Js.isCommandEnabled("rotateCounterclockwise"),this["#rotate-clockwise-button"].disabled=!this.Js.isCommandEnabled("rotateClockwise"),this["#flip-horizontally-button"].disabled=!this.Js.isCommandEnabled("flipX"),this["#flip-vertically-button"].disabled=!this.Js.isCommandEnabled("flipY"),this["#remove-transform-button"].disabled=!this.Js.isCommandEnabled("removeTransform"),this["#reduce-transform-button"].disabled=!this.Js.isCommandEnabled("reduceTransform"),this["#transform-heading"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-horizontally-button"].disabled&&this["#flip-vertically-button"].disabled&&this["#remove-transform-button"].disabled&&this["#reduce-transform-button"].disabled,this["#raise-button"].disabled=!this.Js.isCommandEnabled("raise"),this["#front-button"].disabled=this["#raise-button"].disabled,this["#lower-button"].disabled=!this.Js.isCommandEnabled("lower"),this["#back-button"].disabled=this["#lower-button"].disabled,this["#order-section-heading"].disabled=this["#front-button"].disabled&&this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#back-button"].disabled,this["#group-button"].disabled=!this.Js.isCommandEnabled("group"),this["#ungroup-button"].disabled=!this.Js.isCommandEnabled("ungroup"),this["#group-section-heading"].disabled=this["#group-button"].disabled&&this["#ungroup-button"].disabled,e.length<=1?(this["#distribute-heading"].disabled=!0,this["#distribute-distance-heading"].disabled=!0,this["#distance-buttons"].value=null,this["#auto-distance-button"].disabled=!0,this["#manual-distance-button"].disabled=!0,this["#distance-input"].disabled=!0,this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-heading"].disabled=!1,this["#distribute-distance-heading"].disabled=!1,this["#distance-buttons"].value=this.ov,this["#auto-distance-button"].disabled=!1,this["#manual-distance-button"].disabled=!1,this["#distance-input"].disabled="auto"===this["#distance-buttons"].value,"auto"===this["#distance-buttons"].value&&e.length<=2?(this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-actions-heading"].disabled=!1,this["#distribute-horizontally-button"].disabled=!1,this["#distribute-vertically-button"].disabled=!1,this["#distribute-centers-horizontally-button"].disabled=!1,this["#distribute-centers-vertically-button"].disabled=!1));}}]);return nm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nm,"observedAttributes",["enabled"]);_defineProperty(nm,"_shadowTemplate",Ki(_templateObject392()));_defineProperty(nm,"_shadowStyleSheet",Qi(_templateObject393()));customElements.define("bx-arrangementpanel",nm);var om=Symbol();var lm=/*#__PURE__*/function(_HTMLElement114){_inherits(lm,_HTMLElement114);var _super160=_createSuper(lm);_createClass(lm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lm(){var _this759;_classCallCheck(this,lm);_this759=_super160.call(this),_this759.av=!1,_this759.hv=null,_this759.Za=ts(_this759.Xs,200,_assertThisInitialized(_this759)),_this759.rv=es(_this759.dv,250,_assertThisInitialized(_this759)),_this759._shadowRoot=_this759.attachShadow({mode:"closed"}),_this759._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,lm._shadowStyleSheet],_this759._shadowRoot.append(document.importNode(lm._shadowTemplate.content,!0));var _iterator1250=_createForOfIteratorHelper(_this759._shadowRoot.querySelectorAll("[id]")),_step1250;try{for(_iterator1250.s();!(_step1250=_iterator1250.n()).done;){var _t1899=_step1250.value;_this759["#"+_t1899.id]=_t1899;}}catch(err){_iterator1250.e(err);}finally{_iterator1250.f();}_this759["#main"].addEventListener("pointerdown",function(t){return _this759.cv(t);}),_this759["#main"].addEventListener("click",function(t){return _this759.pv(t);}),_this759["#main"].addEventListener("contextmenu",function(t){return _this759.uv(t);}),_this759["#main"].addEventListener("keydown",function(t){return _this759.Tn(t);}),_this759["#context-menu"].addEventListener("click",function(t){return _this759.xv(t);}),_this759["#add-menu"].addEventListener("click",function(t){return _this759.bv(t);}),_this759["#developer-mode-button"].addEventListener("toggle",function(){return _this759.tx();}),_this759["#filter-input"].addEventListener("input",function(){return _this759.mv();});return _this759;}_createClass(lm,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this760=this;var t=this.tn.board;this["#developer-mode-button"].toggled=this.Js.getConfig("bx-objectsbrowser:developerMode",!1),this.gv(),this.Za(),t.addEventListener("artworkchange",this.Ph=function(){_this760.Xs();}),t.addEventListener("selectedelementschange",this.al=function(){_this760.hl();}),t.addEventListener("workspacemutation",this.rn=function(t){_this760.pl(t);}),t.addEventListener("currentworkspacechange",this.ab=function(){_this760.fv();});}},{key:"sn",value:function sn(){var t=this.tn.board;t.removeEventListener("artworkchange",this.Ph),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.ab);}},{key:"hl",value:function hl(){this.wv();}},{key:"pl",value:function pl(t){var e=t.detail;var _iterator1251=_createForOfIteratorHelper(e),_step1251;try{for(_iterator1251.s();!(_step1251=_iterator1251.n()).done;){var _t1900=_step1251.value;this.vv(_t1900);}}catch(err){_iterator1251.e(err);}finally{_iterator1251.f();}}},{key:"fv",value:function fv(){this.Za();}},{key:"uv",value:function uv(t){var e=t.target.closest(".item");if(e){var i=e[om];t.preventDefault(),this.hv=e,this["#context-menu"].open(t.clientX,t.clientY),"g"===i.localName?(this["#ungroup-menu-item"].disabled=!1,this["#enter-group-menu-item"].disabled=!1):(this["#ungroup-menu-item"].disabled=!0,this["#enter-group-menu-item"].disabled=!0);}}},{key:"xv",value:function xv(t){var e=t.target.closest("x-menuitem");if(e)if("enterGroup"===e.value){var _t1901=this.hv[om];this.tn.board.currentContainer=_t1901,this.tn.board.selectedElements=[];}else this.Js.execCommand(e.value);}},{key:"cv",value:function cv(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")||t.target.closest(".lock-button")||t.target.closest(".visibility-button")||this.ig(t));}},{key:"ig",value:function ig(t){var _this761=this;var e=this.tn.board,_this$Js$modKeys9=this.Js.modKeys,i=_this$Js$modKeys9.ctrl,s=_this$Js$modKeys9.shift,n=t.target.closest(".item"),o=new DOMPoint(t.clientX,t.clientY);if(1===t.buttons||!0!==n.hasAttribute("data-selected"))if(!0===i){var _t1902=n[om],_i1161=_t1902.parentElement.closest("g, a");e.selectedElements.includes(_t1902)?e.selectedElements=e.selectedElements.filter(function(e){return e!==_t1902;}):(e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_t1902]),1===e.selectedElements.length&&(e.currentContainer=_i1161===e.currentWorkspace?null:_i1161));}else if(!0===s){var _t1903=e.selectedElements.map(function(t){return _this761.yv(t);});_t1903=_t1903.filter(function(t){return null!==t&&!1===t.hidden;});var _i1162=_t1903.map(function(t){return t[om];}),_s640=_i1162[_i1162.length-1]||null;if(_s640){var _t1904=this.kv(!0),_i1163=_t1904.find(function(t){return t[om]===_s640;}),_o406=_t1904.indexOf(_i1163),_l335=_t1904.indexOf(n),_a250=[];if(_l335>_o406?_a250=_toConsumableArray(_t1904).slice(_o406,_l335+1):_l335<_o406&&(_a250=_toConsumableArray(_t1904).slice(_l335,_o406+1).reverse()),_a250=_a250.filter(function(t){return!1===t.hasAttribute("data-selected");}),_a250.length>0){var _t1905=_a250.map(function(t){return t[om];});e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),_toConsumableArray(_t1905));}}}else{var _i1165,_s641,_l337,_a251=n[om],_h208=_a251.parentElement.closest("g, a"),_r141=!1;n.setPointerCapture(t.pointerId),!1===n.hasAttribute("data-selected")&&(e.selectedElements=[_a251],e.currentContainer=_h208===e.currentWorkspace?null:_h208),n.addEventListener("pointermove",_i1165=function _i1164(t){var e=new DOMPoint(t.clientX,t.clientY);Ee(o,e)>=3&&(n.removeEventListener("pointermove",_i1165),n.removeEventListener("pointerup",_s641),n.removeEventListener("lostpointercapture",_l337),_this761.Sv(t),_r141=!0);}),n.addEventListener("pointerup",_s641=function _s641(){!1===_r141&&(e.selectedElements=[_a251],e.currentContainer=_h208===e.currentWorkspace?null:_h208);}),n.addEventListener("lostpointercapture",_l337=function _l336(){n.removeEventListener("pointermove",_i1165),n.removeEventListener("pointerup",_s641),n.removeEventListener("lostpointercapture",_l337);});}}},{key:"Sv",value:function Sv(){var _this762=this;var t,_e1363,i=this.kv(!0),s=null,n="start",o=i.filter(function(t){return t.hasAttribute("data-selected");}),l=this.tn.board;this["#main"].addEventListener("pointermove",t=function t(_t1907){var e=_this762._shadowRoot.elementFromPoint(_t1907.clientX,_t1907.clientY);if(e.getRootNode()!==_this762._shadowRoot&&(e=null),s=e?e.closest(".item"):null,s){var _e1360=s.querySelector(".main").getBoundingClientRect();if(n=_t1907.clientY<_e1360.y+_e1360.height/2?"start":"end",s.hasAttribute("data-expanded")&&"end"===n&&(s.querySelector(".item:not([hidden])")?(s=s.querySelector(".item:not([hidden])"),n="start",_e1360=s.querySelector(".main").getBoundingClientRect()):n="inside"),_this762.Cv(o,s,n)){var _t1906=s.offsetTop;for(var _e1361=s.offsetParent;null!==_e1361&&_e1361!==_this762["#main"];_e1361=_e1361.offsetParent){_t1906+=_e1361.offsetTop;}"end"!==n&&"inside"!==n||(_t1906+=_e1360.height);var _i1166=24*parseInt(s.getAttribute("data-depth"))+16;"inside"===n&&(_i1166+=24);var _o407=_e1360.width-_i1166-4;_this762["#drop-marker"].hidden=!1,_this762["#drop-marker"].style.top=_t1906+"px",_this762["#drop-marker"].style.width=_o407+"px",_this762["#drop-marker"].style.marginLeft=_i1166+"px";}else s=null,_this762["#drop-marker"].hidden=!0;}else _this762["#drop-marker"].hidden=!0;}),this["#main"].addEventListener("lostpointercapture",_e1363=function e(){if(_this762["#main"].removeEventListener("pointermove",t),_this762["#main"].removeEventListener("lostpointercapture",_e1363),_this762["#drop-marker"].hidden=!0,s){l.undoManager.checkpoint("Move elements");var _t1908=s[om],_e1362=Ni(l.outermostSelectedElements),_i1167=document.createDocumentFragment();var _iterator1252=_createForOfIteratorHelper(_e1362),_step1252;try{for(_iterator1252.s();!(_step1252=_iterator1252.n()).done;){var _s642=_step1252.value;_s642.setAttribute("transform",Wt(_s642,_t1908.parentElement)),_i1167.append(_s642);}}catch(err){_iterator1252.e(err);}finally{_iterator1252.f();}"start"===n?_t1908.before(_i1167):"end"===n?_t1908.after(_i1167):"inside"===n&&_t1908.append(_i1167);var _iterator1253=_createForOfIteratorHelper(_e1362),_step1253;try{for(_iterator1253.s();!(_step1253=_iterator1253.n()).done;){var _t1909=_step1253.value;va(_t1909,{geometryPrecision:l.geometryPrecision,transformPrecision:l.transformPrecision});}}catch(err){_iterator1253.e(err);}finally{_iterator1253.f();}var _o408=l.selectedElements[0].closest("g, a");l.currentContainer=_o408===l.currentWorkspace?null:_o408;}});}},{key:"pv",value:function pv(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")?this._v(t):t.target.closest(".lock-button")?this.Mv(t):t.target.closest(".visibility-button")?this.Pv(t):this.Dv(t));}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys10=this.Js.modKeys,e=_this$Js$modKeys10.ctrl,i=_this$Js$modKeys10.shift;if(!1===e&&!1===i&&2===t.detail){var _e1364=t.target.closest(".item");this.zv(_e1364);}}},{key:"_v",value:function _v(t){var e=t.target.closest(".item");e.hasAttribute("data-expanded")?this.Ov(e):this.Ev(e);}},{key:"Mv",value:function Mv(t){this.tn.board.undoManager.checkpoint("Lock");var e=t.target.closest(".item")[om],i=getComputedStyle(e).pointerEvents;i="none"===i?"auto":"none",e.style.pointerEvents=i,Op("pointer-events",e);{var _t1910=function _t1910(e){var _iterator1254=_createForOfIteratorHelper(e),_step1254;try{for(_iterator1254.s();!(_step1254=_iterator1254.n()).done;){var _s643=_step1254.value;v.includes(_s643.localName)&&(_s643.removeAttribute("pointer-events"),_s643.style.removeProperty("pointer-events"),getComputedStyle(_s643).pointerEvents!==i&&(_s643.style.pointerEvents=i),"g"!==_s643.localName&&"a"!==_s643.localName||_t1910(_s643.children));}}catch(err){_iterator1254.e(err);}finally{_iterator1254.f();}};_t1910(e.children);}}},{key:"Pv",value:function Pv(t){this.tn.board.undoManager.checkpoint("Visibility");var e=t.target.closest(".item")[om],i=getComputedStyle(e).visibility;i="hidden"===i?"visible":"hidden",e.style.visibility=i,Op("visibility",e);{var _t1911=function _t1911(e){var _iterator1255=_createForOfIteratorHelper(e),_step1255;try{for(_iterator1255.s();!(_step1255=_iterator1255.n()).done;){var _s644=_step1255.value;v.includes(_s644.localName)&&(_s644.removeAttribute("visibility"),_s644.style.removeProperty("visibility"),getComputedStyle(_s644).visibility!==i&&(_s644.style.visibility=i),"g"!==_s644.localName&&"a"!==_s644.localName||_t1911(_s644.children));}}catch(err){_iterator1255.e(err);}finally{_iterator1255.f();}};_t1911(e.children);}}},{key:"mv",value:function mv(){this.rv();}},{key:"tx",value:function tx(){this.Js.setConfig("bx-objectsbrowser:developerMode",this["#developer-mode-button"].toggled),this["#filter-input"].value.trim().length>0&&(this["#filter-input"].value="",this.dv()),this.Tv(),this["#main"].focus();}},{key:"bv",value:function(){var _bv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee139(t){var e,_t1912,i,_s645,n,_o409,_l338,_e1365,_i1168,_s646,_t1913,_o410,_t1914,_e1366,_o411,_t1915,_e1367,_o412,_t1916,_e1368,_o413,_t1917,_e1369,_t1918,_t1919,_t1920,_t1921,_t1922,_t1923,_t1924,_t1925,_t1926,_e1370,_i1169,_t1927,_t1928,_e1371,_e1372;return regeneratorRuntime.wrap(function _callee139$(_context141){while(1){switch(_context141.prev=_context141.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context141.next=27;break;}_t1912=this.tn.board,i=e.value,_s645=_t1912.geometryPrecision,n=_t1912.transformPrecision,_o409=null,_l338=null;_t1912.undoManager.checkpoint("Add object");_e1365=_t1912.getBoundingClientRect(),_i1168=this.getBoundingClientRect(),_s646=new DOMRect(_e1365.x,_e1365.y,_i1168.x-_e1365.x,_e1365.height);_o409=new DOMPoint(_s646.x+_s646.width/2,_s646.y+_s646.height/2);if(!("g"===i)){_context141.next=10;break;}_l338=Ji(_templateObject34());_context141.next=22;break;case 10:if(!("a"===i)){_context141.next=14;break;}_l338=Ji(_templateObject35());_context141.next=22;break;case 14:if(!("image"===i)){_context141.next=21;break;}_context141.next=17;return br("images/cornell-box.jpg");case 17:_t1913=_context141.sent;_l338=Ji(_templateObject36(),_o409.x-50,_o409.y-50,_t1913);_context141.next=22;break;case 21:if("rect"===i)_l338=Ji(_templateObject37(),_o409.x-50,_o409.y-50,100,100);else if("circle"===i)_l338=Ji(_templateObject38(),_o409.x,_o409.y);else if("ellipse"===i)_l338=Ji(_templateObject39(),_o409.x,_o409.y);else if("line"===i)_l338=Ji(_templateObject40(),_o409.x-50,_o409.y-50,_o409.x+50,_o409.y+50);else if("polyline"===i){_o410=_o409,_t1914=_o410.x,_e1366=_o410.y;_l338=Ji(_templateObject41(),_t1914-50,_e1366-50,_t1914+50,_e1366+50);}else if("polygon"===i){_o411=_o409,_t1915=_o411.x,_e1367=_o411.y;_l338=Ji(_templateObject42(),_t1915-50,_e1367-50,_t1915+50,_e1367+50);}else if("path"===i){_o412=_o409,_t1916=_o412.x,_e1368=_o412.y;_l338=Ji(_templateObject43(),_t1916-50,_e1368-50,_t1916+100,_e1368-50,_t1916-100,_e1368+50,_t1916+50,_e1368+50);}else if("text"===i){_o413=_o409,_t1917=_o413.x,_e1369=_o413.y;_l338=Ji(_templateObject44(),_t1917,_e1369);}else if("ring"===i){_l338=Ji(_templateObject45());_t1918={type:"ring",values:[_o409.x,_o409.y,30,30,50,50]};dl(_l338,_t1918,_s645);}else if("pie"===i){_l338=Ji(_templateObject46());_t1919={type:"pie",values:[_o409.x,_o409.y,0,50,90,360]};dl(_l338,_t1919,_s645);}else if("crescent"===i){_l338=Ji(_templateObject47());_t1920={type:"crescent",values:[_o409.x-50,_o409.y-50,.5,0]};dl(_l338,_t1920,_s645);}else if("triangle"===i){_l338=Ji(_templateObject48());_t1921={type:"triangle",values:[_o409.x-50,_o409.y-50,100,100,.5,0]};dl(_l338,_t1921,_s645);}else if("n-gon"===i){_l338=Ji(_templateObject49());_t1922={type:"n-gon",values:[_o409.x,_o409.y,50,50,5,0]};dl(_l338,_t1922,_s645);}else if("star"===i){_l338=Ji(_templateObject50());_t1923={type:"star",values:[_o409.x,_o409.y,50,50,.4,5]};dl(_l338,_t1923,_s645);}else if("cog"===i){_l338=Ji(_templateObject51());_t1924={type:"cog",values:[_o409.x,_o409.y,1/3*50,2/3*50,50,.375,8]};dl(_l338,_t1924,_s645);}else if("cross"===i){_l338=Ji(_templateObject52());_t1925={type:"cross",values:[_o409.x-50,_o409.y-50,100,100,20,20,.5]};dl(_l338,_t1925,_s645);}else if("spiral"===i){_l338=Ji(_templateObject53());_t1926={type:"spiral",values:[_o409.x,_o409.y,0,50,0,1080]};dl(_l338,_t1926,_s645);}case 22:_e1370=_t1912.currentContainer||_t1912.currentWorkspace,_i1169=_toConsumableArray(_e1370.children).reverse().find(function(e){return _t1912.selectedElements.includes(e);});if(_i1169){_t1927=this.yv(_i1169);_t1927&&_t1927.hasAttribute("data-expanded")?_i1169.append(_l338):_i1169.after(_l338);}else _e1370.append(_l338);if("g"!==_l338.localName&&"a"!==_l338.localName){_t1928=Yt(_l338).inverse(),_e1371=Ht(_l338).multiply(_t1928);_l338.setAttribute("transform",_e1371.toString()),va(_l338,{geometryPrecision:_s645,transformPrecision:n});}_e1372=_l338.parentElement.closest("g, a");_t1912.selectedElements=[_l338],_t1912.currentContainer=_e1372===_t1912.currentWorkspace?null:_e1372;case 27:case"end":return _context141.stop();}}},_callee139,this);}));function bv(_x266){return _bv.apply(this,arguments);}return bv;}()},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t1929=this.kv(!0),_e1373=_t1929.find(function(t){return t.hasAttribute("data-selected");});_t1929.find(function(t){return t.hasAttribute("data-edited");})?this["#main"].focus():_e1373&&this.zv(_e1373);}else if(e.matches("Backspace")||e.matches("Delete")){this.kv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),t.preventDefault(),this.Js.execCommand("delete"));}else if(e.matches("ArrowUp")){this.kv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.xx());}else if(e.matches("ArrowDown")){this.kv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.mx());}else if(e.matches("Shift","ArrowUp")){this.kv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this.kv(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.mx(!0));}else if(e.matches("ArrowRight")){var _e1374=this.kv(!0),i=_e1374.filter(function(t){return t.hasAttribute("data-selected");});_e1374.find(function(t){return t.hasAttribute("data-edited");})||1!==i.length||!0!==i[0].hasAttribute("data-expandable")||!1!==i[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.Ev(i[0]));}else if(e.matches("ArrowLeft")){var _e1375=this.kv(!0),_i1170=_e1375.filter(function(t){return t.hasAttribute("data-selected");});_e1375.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1170.length||!0!==_i1170[0].hasAttribute("data-expandable")||!0!==_i1170[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.Ov(_i1170[0]));}}},{key:"zv",value:function zv(t){var _this763=this;{var _e1376=this["#items"].querySelector(".item[data-edited]");if(_e1376){if(_e1376===t)return;this.Av();}}var e=t.querySelector(".label"),i=t[om],s=i.querySelector(":scope > bx-title"),n=this["#developer-mode-button"].toggled?"Object ID":"Object title",o="";!0===this["#developer-mode-button"].toggled&&i.id?o="#"+i.id:!1===this["#developer-mode-button"].toggled&&s&&(o=s.textContent);var l=Ki(_templateObject54(),o,n);e.after(l),l.selectAll(),e.hidden=!0,t.setAttribute("data-edited",""),l.addEventListener("input",function(){null!==l.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),l.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this763.Av();}),l.validate=function(){var t=null;if(_this763["#developer-mode-button"].toggled){var _e1377=l.value.trim();if(_e1377.startsWith("#")&&(_e1377=_e1377.substring(1)),_e1377.length>0)if(qi(_e1377)){!1===(null===_this763.tn.board.workspaces.querySelector("#"+CSS.escape(_e1377)))&&(t="Non-unique ID");}else t="Invalid ID";}l.error=t;};}},{key:"Av",value:function Av(){var t=this["#items"].querySelector(".item[data-edited]");if(t){var _e1378=t.querySelector(".label"),i=t.querySelector("x-input"),_s647=t[om];if(i.remove(),_e1378.hidden=!1,t.removeAttribute("data-edited"),null===i.error)if(this["#developer-mode-button"].toggled){var _t1930=i.value.trim().toLowerCase();"#"===_t1930?_t1930="":_t1930.startsWith("#")&&(_t1930=_t1930.substring(1)),_s647.getAttribute("id")!==_t1930&&(this.tn.board.undoManager.checkpoint("Object ID"),""===_t1930?_s647.removeAttribute("id"):_s647.setAttribute("id",_t1930));}else{var _t1931=_s647.querySelector(":scope > bx-title"),_e1379=i.value.trim();if(_t1931){_t1931.textContent!==_e1379&&(this.tn.board.undoManager.checkpoint("Object title"),""===_e1379?_t1931.remove():_t1931.textContent=_e1379);}else""!==_e1379&&(this.tn.board.undoManager.checkpoint("Object title"),_t1931=$i("svg:bx-title"),_t1931.textContent=_e1379,_s647.prepend(_t1931));}}}},{key:"Ev",value:function Ev(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(t.hasAttribute("data-expanded"))return;var i=parseInt(t.getAttribute("data-depth")),s=t.querySelector(".children"),n=t[om],o=this.tn.board.outermostSelectedElements,l=this["#filter-input"].value.trim().toLowerCase();if(0===s.childElementCount){var _iterator1256=_createForOfIteratorHelper(n.children),_step1256;try{for(_iterator1256.s();!(_step1256=_iterator1256.n()).done;){var _t1932=_step1256.value;if(v.includes(_t1932.localName)){var _e1380=this.$v(_t1932,i+1);o.includes(_t1932)&&_e1380.setAttribute("data-selected",""),!1===this.Iv(_t1932,l)&&(_e1380.hidden=!0),s.append(_e1380);}}}catch(err){_iterator1256.e(err);}finally{_iterator1256.f();}}if(t.setAttribute("data-expanded",""),e){var _t1933=getComputedStyle(s).marginTop,_e1381="0px";"0px"===_t1933&&(_t1933="-"+getComputedStyle(s).height),s.animate({marginTop:[_t1933,_e1381]},{duration:250,easing:"ease"});}}},{key:"Ov",value:function(){var _Ov=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee140(t){var e,i,s,n,_t1934,_args142=arguments;return regeneratorRuntime.wrap(function _callee140$(_context142){while(1){switch(_context142.prev=_context142.next){case 0:e=_args142.length>1&&_args142[1]!==undefined?_args142[1]:!0;i=t.querySelector(".children"),s=getComputedStyle(i).marginTop,n="-"+getComputedStyle(i).height;if(!(t.removeAttribute("data-expanded"),e)){_context142.next=6;break;}_t1934=i.animate({marginTop:[s,n]},{duration:250,easing:"ease"});_context142.next=6;return _t1934.finished;case 6:!1===t.hasAttribute("data-expanded")&&(i.innerHTML="");case 7:case"end":return _context142.stop();}}},_callee140);}));function Ov(_x267){return _Ov.apply(this,arguments);}return Ov;}()},{key:"Lv",value:function Lv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _iterator1257=_createForOfIteratorHelper(this["#items"].children),_step1257;try{for(_iterator1257.s();!(_step1257=_iterator1257.n()).done;){var _e1382=_step1257.value;this.Ov(_e1382,t);}}catch(err){_iterator1257.e(err);}finally{_iterator1257.f();}}},{key:"$v",value:function $v(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;Vi(t);var i=Hi(t),s=Ki(_templateObject55(),e,24*e,i);return s[om]=t,"g"!==t.localName&&"a"!==t.localName||s.setAttribute("data-expandable",""),this.Bv(s),this.Rv(s),s;}},{key:"yv",value:function yv(t){var e=this.kv();var _iterator1258=_createForOfIteratorHelper(e),_step1258;try{for(_iterator1258.s();!(_step1258=_iterator1258.n()).done;){var i=_step1258.value;if(i[om]===t)return i;}}catch(err){_iterator1258.e(err);}finally{_iterator1258.f();}return null;}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.tn.board,i=this.kv(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var n=s[0],_o414=i.indexOf(n);if(i[_o414-1]){var _s648=i[_o414-1][om],_n474=_s648.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s648]):(e.selectedElements=[_s648],e.currentContainer=_n474===e.currentWorkspace?null:_n474);}}}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.tn.board,i=this.kv(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var n=s[s.length-1],_o415=i.indexOf(n);if(i[_o415+1]){var _s649=i[_o415+1][om],_n475=_s649.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s649]):(e.selectedElements=[_s649],e.currentContainer=_n475===e.currentWorkspace?null:_n475);}}}},{key:"Cv",value:function Cv(t,e,i){var _iterator1259=_createForOfIteratorHelper(t),_step1259;try{for(_iterator1259.s();!(_step1259=_iterator1259.n()).done;){var _i1171=_step1259.value;if(_i1171.contains(e))return!1;}}catch(err){_iterator1259.e(err);}finally{_iterator1259.f();}if(1===t.length){var _s650=this.kv(!0),n=t[0],_o416=_s650.indexOf(e);if("start"===i){var _t1935=_s650[_o416-1];if(_t1935===n&&_t1935.getAttribute("data-depth")===n.getAttribute("data-depth"))return!1;}else if("end"===i){if(_s650[_o416+1]===n&&e.getAttribute("data-depth")===n.getAttribute("data-depth"))return!1;}}return!0;}},{key:"kv",value:function kv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[],i=function i(s){var _iterator1260=_createForOfIteratorHelper(s),_step1260;try{for(_iterator1260.s();!(_step1260=_iterator1260.n()).done;){var n=_step1260.value;t&&n.hasAttribute("hidden")||(e.push(n),n.hasAttribute("data-expanded")&&i(n.querySelector(".children").children));}}catch(err){_iterator1260.e(err);}finally{_iterator1260.f();}};return i(this["#items"].children),e;}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=document.createDocumentFragment();var _iterator1261=_createForOfIteratorHelper(t.currentWorkspace.children),_step1261;try{for(_iterator1261.s();!(_step1261=_iterator1261.n()).done;){var i=_step1261.value;if(v.includes(i.localName)){var _t1936=this.$v(i,0);e.append(_t1936);}}}catch(err){_iterator1261.e(err);}finally{_iterator1261.f();}this["#items"].innerHTML="",this["#items"].append(e),this.wv();}},{key:"Rv",value:function Rv(t){if(!1===this["#developer-mode-button"].toggled){var _e1383=t.querySelector(".label"),i=t[om],_s651=i.querySelector(":scope > bx-title");_s651?(_e1383.textContent=_s651.textContent,_e1383.setAttribute("data-custom","")):(_e1383.textContent=Vi(i),_e1383.removeAttribute("data-custom"));}else{var _e1384=t[om],_i1172=t.querySelector(".label");_e1384.id?(_i1172.textContent="#"+_e1384.id,_i1172.setAttribute("data-custom","")):(_i1172.textContent=Vi(_e1384,"developer"),_i1172.removeAttribute("data-custom"));}}},{key:"Bv",value:function Bv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t[om],_getComputedStyle6=getComputedStyle(i),s=_getComputedStyle6.visibility,n=_getComputedStyle6.pointerEvents;if("none"===n?t.setAttribute("data-locked",""):t.removeAttribute("data-locked"),"hidden"===s?t.setAttribute("data-hidden",""):t.removeAttribute("data-hidden"),e){var _iterator1262=_createForOfIteratorHelper(t.querySelector(".children").children),_step1262;try{for(_iterator1262.s();!(_step1262=_iterator1262.n()).done;){var _e1385=_step1262.value;this.Bv(_e1385,!0);}}catch(err){_iterator1262.e(err);}finally{_iterator1262.f();}}}},{key:"wv",value:function wv(){var t=this.tn.board.selectedElements,e=this.tn.board.currentWorkspace;var _iterator1263=_createForOfIteratorHelper(t),_step1263;try{for(_iterator1263.s();!(_step1263=_iterator1263.n()).done;){var i=_step1263.value;var _t1937=[];for(var _s652=i.parentElement;_s652!==e;_s652=_s652.parentElement){_t1937.push(_s652);}_t1937.reverse();for(var _i1173=0,_t1938=_t1937;_i1173<_t1938.length;_i1173++){var _e1386=_t1938[_i1173];var _t1939=this.yv(_e1386);_t1939&&this.Ev(_t1939,!1);}}}catch(err){_iterator1263.e(err);}finally{_iterator1263.f();}var _iterator1264=_createForOfIteratorHelper(this.kv()),_step1264;try{for(_iterator1264.s();!(_step1264=_iterator1264.n()).done;){var _e1387=_step1264.value;t.includes(_e1387[om])?(_e1387.setAttribute("data-selected",""),Gi(_e1387)):_e1387.removeAttribute("data-selected");}}catch(err){_iterator1264.e(err);}finally{_iterator1264.f();}}},{key:"dv",value:function dv(){var _this764=this;var t=this["#filter-input"].value.trim().toLowerCase();if(0===t.length){this.Lv(!1);var _iterator1265=_createForOfIteratorHelper(this["#items"].querySelectorAll(".item[hidden]")),_step1265;try{for(_iterator1265.s();!(_step1265=_iterator1265.n()).done;){var _t1940=_step1265.value;_t1940.hidden=!1;}}catch(err){_iterator1265.e(err);}finally{_iterator1265.f();}}else{var _e1388=function _e1388(i){var s=!0;var _iterator1266=_createForOfIteratorHelper(i),_step1266;try{for(_iterator1266.s();!(_step1266=_iterator1266.n()).done;){var n=_step1266.value;if(_this764.Iv(n[om],t)){if(n.hidden=!1,s=!1,n.hasAttribute("data-expandable")){_this764.Ev(n,!1),_e1388(n.querySelector(".children").children)&&_this764.Ov(n,!1);}}else n.hidden=!0;}}catch(err){_iterator1266.e(err);}finally{_iterator1266.f();}return s;};_e1388(this["#items"].children);}}},{key:"Tv",value:function Tv(){var _iterator1267=_createForOfIteratorHelper(this.kv()),_step1267;try{for(_iterator1267.s();!(_step1267=_iterator1267.n()).done;){var _t1941=_step1267.value;this.Rv(_t1941);}}catch(err){_iterator1267.e(err);}finally{_iterator1267.f();}}},{key:"vv",value:function vv(t){var _this765=this;if("attributes"===t.type&&"style"===t.attributeName){var _e1389=t.target,i=this.kv().find(function(t){return t[om]===_e1389;});i&&this.Bv(i,!0);}if(this["#developer-mode-button"].toggled){if("attributes"===t.type&&"id"===t.attributeName){var _e1390=this.kv(),_i1174=t.target;var _iterator1268=_createForOfIteratorHelper(_e1390),_step1268;try{for(_iterator1268.s();!(_step1268=_iterator1268.n()).done;){var _t1942=_step1268.value;if(_t1942[om]===_i1174){this.Rv(_t1942);break;}}}catch(err){_iterator1268.e(err);}finally{_iterator1268.f();}}}else if("childList"===t.type)if("bx-title"===t.target.localName){var _e1391=this.kv(),_i1175=t.target.parentElement;var _iterator1269=_createForOfIteratorHelper(_e1391),_step1269;try{for(_iterator1269.s();!(_step1269=_iterator1269.n()).done;){var _t1943=_step1269.value;if(_t1943[om]===_i1175){this.Rv(_t1943);break;}}}catch(err){_iterator1269.e(err);}finally{_iterator1269.f();}}else{var _e1392=this.kv();for(var _i1176=0,_arr47=[].concat(_toConsumableArray(t.removedNodes),_toConsumableArray(t.addedNodes));_i1176<_arr47.length;_i1176++){var _i1177=_arr47[_i1176];if("bx-title"===_i1177.localName){(function(){var i=t.target,s=_e1392.find(function(t){return t[om]===i;});s&&_this765.Rv(s);})();}}}if("childList"===t.type){if(t.removedNodes.length>0){var _e1393=this.kv();var _iterator1270=_createForOfIteratorHelper(_e1393),_step1270;try{for(_iterator1270.s();!(_step1270=_iterator1270.n()).done;){var _i1178=_step1270.value;_toConsumableArray(t.removedNodes).includes(_i1178[om])&&_i1178.remove();}}catch(err){_iterator1270.e(err);}finally{_iterator1270.f();}}if(t.addedNodes.length>0){var _e1394=this.kv(),_i1179=null;var _iterator1271=_createForOfIteratorHelper(_e1394),_step1271;try{for(_iterator1271.s();!(_step1271=_iterator1271.n()).done;){var _s654=_step1271.value;if(_s654[om]===t.target){_i1179=_s654;break;}}}catch(err){_iterator1271.e(err);}finally{_iterator1271.f();}if(_i1179&&_i1179.hasAttribute("data-expanded")||t.target===this.tn.board.currentWorkspace){var _s653=null,n=null;if(t.previousSibling){var _loop31=function _loop31(_i1180){if(_i1180.localName&&v.includes(_i1180.localName)){var _t1944=_e1394.find(function(t){return t[om]===_i1180;});if(_t1944){_s653=_t1944;return"break";}}};for(var _i1180=t.previousSibling;_i1180;_i1180=_i1180.previousElementSibling){var _ret2=_loop31(_i1180);if(_ret2==="break")break;}}if(null===_s653&&t.nextSibling){var _loop32=function _loop32(_i1181){if(_i1181.localName&&v.includes(_i1181.localName)){var _t1945=_e1394.find(function(t){return t[om]===_i1181;});if(_t1945){n=_t1945;return"break";}}};for(var _i1181=t.nextSibling;_i1181;_i1181=_i1181.nextElementSibling){var _ret3=_loop32(_i1181);if(_ret3==="break")break;}}var _o417=_i1179?parseInt(_i1179.getAttribute("data-depth"))+1:0,_l339=document.createDocumentFragment();var _iterator1272=_createForOfIteratorHelper(t.addedNodes),_step1272;try{var _loop33=function _loop33(){var e=_step1272.value;if(e.localName&&v.includes(e.localName)){if(_toConsumableArray((_i1179||_this765["#items"]).children).find(function(t){return t[om]===e;}));else{var _t1946=_this765.$v(e,_o417);_this765.tn.board.selectedElements.includes(e)&&_t1946.setAttribute("data-selected",""),_l339.append(_t1946);}}};for(_iterator1272.s();!(_step1272=_iterator1272.n()).done;){_loop33();}}catch(err){_iterator1272.e(err);}finally{_iterator1272.f();}_s653?_s653.after(_l339):n?n.before(_l339):_i1179?_i1179.querySelector(".children").append(_l339):this["#items"].append(_l339);}}}}},{key:"gv",value:function(){var _gv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee141(){var _t1947,_e1395,i,_s655,n,_iterator1273,_step1273,_t1948;return regeneratorRuntime.wrap(function _callee141$(_context143){while(1){switch(_context143.prev=_context143.next){case 0:if(!(!1===this.av)){_context143.next=14;break;}this.av=!0;_context143.next=4;return fetch(Gs.iconset);case 4:_t1947=_context143.sent;_context143.next=7;return _t1947.text();case 7:_e1395=_context143.sent;i=Ji(_templateObject56(),_e1395);_s655=document.createDocumentFragment();n=["arrow","lock-on","visibility-hidden"];_iterator1273=_createForOfIteratorHelper(i.querySelectorAll("symbol"));try{for(_iterator1273.s();!(_step1273=_iterator1273.n()).done;){_t1948=_step1273.value;_t1948.id&&(_t1948.id.startsWith("object-")||_t1948.id.endsWith("-spline")||n.includes(_t1948.id))&&_s655.append(_t1948);}}catch(err){_iterator1273.e(err);}finally{_iterator1273.f();}i.style.display="none",i.innerHTML="",i.append(_s655),this._shadowRoot.append(i);case 14:case"end":return _context143.stop();}}},_callee141,this);}));function gv(){return _gv.apply(this,arguments);}return gv;}()},{key:"Iv",value:function Iv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=!1;if(""!==e){if(this["#developer-mode-button"].toggled){if(t.id)-1!==("#"+t.id.toLowerCase()).indexOf(e)&&(n=!0);else{-1!==Vi(t,"developer").toLowerCase().indexOf(e)&&(n=!0);}}else{var _i1182=t.querySelector(":scope > bx-title"),_s656="";_s656=_i1182&&_i1182.textContent.trim().length>0?_i1182.textContent.trim():Vi(t,"designer"),-1!==_s656.toLowerCase().indexOf(e)&&(n=!0);}if(!1===n&&!0===s&&("g"===t.localName||"a"===t.localName)){var _iterator1274=_createForOfIteratorHelper(t.children),_step1274;try{for(_iterator1274.s();!(_step1274=_iterator1274.n()).done;){var _i1183=_step1274.value;if(v.includes(_i1183.localName)&&this.Iv(_i1183,e)){n=!0;break;}}}catch(err){_iterator1274.e(err);}finally{_iterator1274.f();}}return!1===n&&!0===i&&("g"!==t.parentElement.localName&&"a"!==t.parentElement.localName||t.parentElement!==this.tn.board.currentWorkspace&&this.Iv(t.parentElement,e,!1,!1)&&(n=!0)),n;}n=!0;}}]);return lm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lm,"observedAttributes",["enabled"]);_defineProperty(lm,"_shadowTemplate",Ki(_templateObject394()));_defineProperty(lm,"_shadowStyleSheet",Qi(_templateObject395()));customElements.define("bx-objectsbrowser",lm);var am=/*#__PURE__*/function(_HTMLElement115){_inherits(am,_HTMLElement115);var _super161=_createSuper(am);_createClass(am,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function am(){var _this766;_classCallCheck(this,am);_this766=_super161.call(this),_this766._shadowRoot=_this766.attachShadow({mode:"closed"}),_this766._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,am._shadowStyleSheet],_this766._shadowRoot.append(document.importNode(am._shadowTemplate.content,!0));var _iterator1275=_createForOfIteratorHelper(_this766._shadowRoot.querySelectorAll("[id]")),_step1275;try{for(_iterator1275.s();!(_step1275=_iterator1275.n()).done;){var _t1949=_step1275.value;_this766["#"+_t1949.id]=_t1949;}}catch(err){_iterator1275.e(err);}finally{_iterator1275.f();}return _this766;}_createClass(am,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){this["#objects-browser"].enabled=!0;}},{key:"sn",value:function sn(){this["#objects-browser"].enabled=!1;}}]);return am;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(am,"observedAttributes",["enabled"]);_defineProperty(am,"_shadowTemplate",Ki(_templateObject396()));_defineProperty(am,"_shadowStyleSheet",Qi(_templateObject397()));customElements.define("bx-objectspanel",am);var hm=Symbol(),rm=Symbol();var dm=/*#__PURE__*/function(_HTMLElement116){_inherits(dm,_HTMLElement116);var _super162=_createSuper(dm);_createClass(dm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function dm(){var _temp47,_this767;_classCallCheck(this,dm);(_temp47=_this767=_super162.call(this),_defineProperty(_assertThisInitialized(_this767),"ommands",{selectAll:{enabled:function enabled(){return _this767.Gv();},exec:function exec(){return _this767.Uv();}},deselectAll:{enabled:function enabled(){return _this767.Fv();},exec:function exec(){return _this767.Nv();}}}),_temp47),_this767.jv=es(_this767.Xs,500,_assertThisInitialized(_this767)),_this767.Vv=0,_this767._shadowRoot=_this767.attachShadow({mode:"closed"}),_this767._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,dm._shadowStyleSheet],_this767._shadowRoot.append(document.importNode(dm._shadowTemplate.content,!0));var _iterator1276=_createForOfIteratorHelper(_this767._shadowRoot.querySelectorAll("[id]")),_step1276;try{for(_iterator1276.s();!(_step1276=_iterator1276.n()).done;){var _t1950=_step1276.value;_this767["#"+_t1950.id]=_t1950;}}catch(err){_iterator1276.e(err);}finally{_iterator1276.f();}_this767.addEventListener("keydown",function(t){return _this767.Tn(t);}),_this767["#items"].addEventListener("scroll",function(){return _this767.Hv();}),_this767["#items"].addEventListener("contextmenu",function(t){return _this767.ap(t);}),_this767["#items"].addEventListener("pointerdown",function(t){return _this767.op(t);}),_this767["#items"].addEventListener("click",function(t){return _this767.lp(t);}),_this767["#search-input"].addEventListener("input",function(){return _this767.Wv();}),_this767["#developer-mode-button"].addEventListener("toggle",function(){return _this767.tx();}),_this767["#add-menu"].addEventListener("click",function(t){return _this767.bv(t);}),_this767["#add-menu"].addEventListener("open",function(){return _this767.Yv();}),_this767["#color-picker"].addEventListener("changestart",function(t){return _this767.Jx(t);});return _this767;}_createClass(dm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"selectColors",value:function selectColors(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[hm].id);});this.qv(e,!0);}},{key:"en",value:function en(){var _this768=this;window.addEventListener("resize",this.nn=function(){_this768.Xv();}),this.Js.addEventListener("configchange",this.ln=function(t){_this768.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this768.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this768.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this["#developer-mode-button"].toggled=this.Js.getConfig("bx-colorsbrowser:developerMode",!1),this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("artworkchange",this.Ph),this.Qv(),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail11=t.detail,e=_t$detail11.key,i=_t$detail11.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"Xv",value:function Xv(){this.Qv();}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced",s=!1;var _iterator1277=_createForOfIteratorHelper(e),_step1277;try{for(_iterator1277.s();!(_step1277=_iterator1277.n()).done;){var _t1951=_step1277.value;var _e1396=_t1951.target.nodeName,n=_t1951.addedNodes[0]?_t1951.addedNodes[0].nodeName:null,_o418=_t1951.removedNodes[0]?_t1951.removedNodes[0].nodeName:null,_l340=_t1951.attributeName;if("linearGradient"===_e1396||"radialGradient"===_e1396){if("bx-title"===n||"bx-title"===_o418){i="now";break;}if("id"===_l340){i="now",s=!0;break;}if("data-bx-pinned"===_l340){i="now";break;}}else if("bx-title"===_e1396){if(n||_o418){i="now";break;}}else if("linearGradient"===n||"radialGradient"===n||"linearGradient"===_o418||"radialGradient"===_o418){i="now",s=!0;break;}}}catch(err){_iterator1277.e(err);}finally{_iterator1277.f();}!0===s&&this.Qv(),"now"===i?this.Xs():"debounced"===i&&this.jv();}},{key:"Zv",value:function Zv(){this.Qv(),this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop,this.Qv();}},{key:"ap",value:function(){var _ap2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee142(t){var e,i,_s657,n;return regeneratorRuntime.wrap(function _callee142$(_context144){while(1){switch(_context144.prev=_context144.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context144.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.qv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[hm];});_s657=e[hm];_context144.next=7;return this.Js.openContextMenu([{label:"Edit Color",value:"edit",disabled:1!==i.length},{label:"Edit Color ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Color Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Duplicate Color"+(i.length>1?"s":""),value:"duplicate",disabled:0===i.length},{label:"Delete Color"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Color"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Color"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Color Users",value:"select-users",disabled:1!==i.length}]);case 7:n=_context144.sent;"edit"===n?this.editColor(_s657.id):"edit-id"===n?this.ty(_s657.id,"id"):"edit-title"===n?this.ty(_s657.id,"title"):"duplicate"===n?this.ey():"delete"===n?this.iy():"pin"===n?this.sy():"unpin"===n?this.ny():"select-users"===n&&this.oy(_s657.id);case 9:case"end":return _context144.stop();}}},_callee142,this);}));function ap(_x268){return _ap2.apply(this,arguments);}return ap;}()},{key:"lp",value:function lp(t){t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys11=this.Js.modKeys,e=_this$Js$modKeys11.ctrl,i=_this$Js$modKeys11.shift;if(!1===e&&!1===i){var _e1397=t.target.closest(".item"),_i1184=t.target.closest(".thumbnail"),_s658=t.target.closest(".counter-button"),n=t.target.closest(".pin-button"),_o419=_e1397[hm].id;_s658?this.oy(_o419):n?n.toggled?this.ly(_o419):this.hy(_o419):_i1184?t.detail%2==0&&this.editColor(_o419):t.detail%2==0&&this.ty(_o419);}}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1398=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1398&&this.qv([]);}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this769=this;var _this$Js$modKeys12=this.Js.modKeys,e=_this$Js$modKeys12.ctrl,i=_this$Js$modKeys12.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.Qv(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[rm]=Date.now());else if(!0===i){var _t1952=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1399=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1399.length>0){var _i1185=_t1952.indexOf(s),_n476=_e1399.sort(function(t,e){return e[rm]-t[rm];})[0],_o420=_t1952.indexOf(_n476),_l341=[];if(_i1185>_o420?_l341=_toConsumableArray(_t1952).slice(_o420,_i1185+1):_i1185<_o420&&(_l341=_toConsumableArray(_t1952).slice(_i1185,_o420+1).reverse()),_l341=_l341.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l341.length>0){var _iterator1278=_createForOfIteratorHelper(_l341),_step1278;try{for(_iterator1278.s();!(_step1278=_iterator1278.n()).done;){var _t1953=_step1278.value;_t1953.setAttribute("data-selected",""),_t1953[rm]=Date.now();}}catch(err){_iterator1278.e(err);}finally{_iterator1278.f();}}}}else{var _t1956,_e1401,_i1186=!1;window.addEventListener("pointermove",_t1956=function _t1954(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)>=3){if(window.removeEventListener("pointermove",_t1956),window.removeEventListener("pointerup",_e1401),!1===s.hasAttribute("data-selected")){var _iterator1279=_createForOfIteratorHelper(_this769["#items"].children),_step1279;try{for(_iterator1279.s();!(_step1279=_iterator1279.n()).done;){var _t1955=_step1279.value;_t1955===s?(_t1955.setAttribute("data-selected",""),_t1955[rm]=Date.now()):_t1955.removeAttribute("data-selected");}}catch(err){_iterator1279.e(err);}finally{_iterator1279.f();}}_this769.Sv(o),_i1186=!0;}}),window.addEventListener("pointerup",_e1401=function _e1400(){if(window.removeEventListener("pointermove",_t1956),window.removeEventListener("pointerup",_e1401),!1===_i1186){var _iterator1280=_createForOfIteratorHelper(_this769["#items"].children),_step1280;try{for(_iterator1280.s();!(_step1280=_iterator1280.n()).done;){var _t1957=_step1280.value;_t1957===s?(_t1957.setAttribute("data-selected",""),_t1957[rm]=Date.now()):_t1957.removeAttribute("data-selected");}}catch(err){_iterator1280.e(err);}finally{_iterator1280.f();}}});}}},{key:"Sv",value:function Sv(t){var _this770=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this770["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this770.Js.pointerClientPoint,e=_this770._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this770._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1402=l.getBoundingClientRect();if(a=t.y<_e1402.y+_e1402.height/2?"start":"end",_this770.Cv(n,l,a)){var _t1958=l.offsetTop-_this770["#items"].scrollTop;"end"===a&&(_t1958+=_e1402.height),_this770["#drop-indicator"].hidden=!1,_this770["#drop-indicator"].style.top=_t1958-1+"px";}else l=null,_this770["#drop-indicator"].hidden=!0;}else _this770["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s660){function s(_x269){return _s660.apply(this,arguments);}s.toString=function(){return _s660.toString();};return s;}(function(t){if(_this770["#items"].removeEventListener("pointermove",e),_this770["#items"].removeEventListener("scroll",i),_this770["#items"].removeEventListener("lostpointercapture",s),_this770["#items"].style.cursor=null,_this770["#drop-indicator"].hidden=!0,c(),_this770.tn.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1403=n[0][hm],_i1187=_this770.tn.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s659=_this770.Js.modKeys.shift;_i1187&&k.includes(_i1187.localName)&&(_s659?(_this770.tn.board.undoManager.checkpoint("Apply gradient stroke"),_i1187.style.stroke="url(#".concat(_e1403.id,")")):(_this770.tn.board.undoManager.checkpoint("Apply gradient fill"),_i1187.style.fill="url(#".concat(_e1403.id,")")),_this770.py());}}else if(l){_this770.tn.board.undoManager.checkpoint("Rearrange gradients");var _t1959=document.createDocumentFragment(),_e1404=l[hm];var _iterator1281=_createForOfIteratorHelper(n),_step1281;try{for(_iterator1281.s();!(_step1281=_iterator1281.n()).done;){var _i1188=_step1281.value;_i1188[hm]!==_e1404&&_t1959.append(_i1188[hm]);}}catch(err){_iterator1281.e(err);}finally{_iterator1281.f();}"start"===a?_e1404.before(_t1959):_e1404.after(_t1959);}}));}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus")||this["#color-picker-popover"].opened)return;var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t1960=this["#items"].querySelector(".item[data-label-edited]"),_e1405=this["#items"].querySelector(".item[data-selected]");_t1960?this.focus():_e1405&&this.ty(_e1405[hm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.iy());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx()||this.uy());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx()||this.xy());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx(!0));}}},{key:"tx",value:function tx(){this.Js.setConfig("bx-colorsbrowser:developerMode",this["#developer-mode-button"].toggled),this.Tv(),this.focus();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&("add-color"===e.value?this.by():"add-color-from-fill"===e.value?this.my("fill"):"add-color-from-stroke"===e.value?this.my("stroke"):"add-color-from-library"===e.value&&(this.tn.togglePrimaryPanel("library-panel"),this.tn.libraryPanel.toggleBrowser("colors-library-browser")));}},{key:"Yv",value:function Yv(){var t=this.gb(),e=!1,i=!1;if(t.length>0){var _iterator1282=_createForOfIteratorHelper(t),_step1282;try{for(_iterator1282.s();!(_step1282=_iterator1282.n()).done;){var _i1189=_step1282.value;var _t1961=getComputedStyle(_i1189);if(vo(_t1961.fill)){e=!0;break;}{var _i1190=Go.fromString(_t1961.fill);if(_i1190&&"#"===_i1190.value[0]){var _t1962=this.tn.board.masterWorkspace.querySelector(_i1190.value);if(_t1962&&_o(_t1962)){e=!0;break;}}}}}catch(err){_iterator1282.e(err);}finally{_iterator1282.f();}var _iterator1283=_createForOfIteratorHelper(t),_step1283;try{for(_iterator1283.s();!(_step1283=_iterator1283.n()).done;){var _e1406=_step1283.value;var _t1963=getComputedStyle(_e1406);if(vo(_t1963.stroke)){i=!0;break;}{var _e1407=Go.fromString(_t1963.stroke);if(_e1407&&"#"===_e1407.value[0]){var _t1964=this.tn.board.masterWorkspace.querySelector(_e1407.value);if(_t1964&&_o(_t1964)){i=!0;break;}}}}}catch(err){_iterator1283.e(err);}finally{_iterator1283.f();}}this["#add-color-from-fill-menu-item"].disabled=!1===e,this["#add-color-from-stroke-menu-item"].disabled=!1===i;}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"Jx",value:function Jx(t){var _this771=this;var e,_i1191,s=this["#items"].querySelector(".item[data-selected]"),n=s.querySelector(".thumbnail-inner"),o=s[hm];this.tn.board.undoManager.checkpoint("Change color"),this["#color-picker"].addEventListener("change",e=function e(){Io(o,_this771["#color-picker"].value),n.style.background=_this771["#color-picker"].value;}),this["#color-picker"].addEventListener("changeend",_i1191=function i(){_this771["#color-picker"].removeEventListener("change",e),_this771["#color-picker"].removeEventListener("changeend",_i1191);});}},{key:"editColor",value:function(){var _editColor=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee143(t){var e,_t1965,i;return regeneratorRuntime.wrap(function _callee143$(_context145){while(1){switch(_context145.prev=_context145.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[hm].id===t;});if(!e){_context145.next=8;break;}this.qv([e]);_t1965=e.getBoundingClientRect(),i=new DOMPoint(_t1965.left,_t1965.top+_t1965.height/2);_context145.next=6;return ss(10);case 6:this["#color-picker-popover"].open(i);this["#color-picker"].value=$o(e[hm]);case 8:case"end":return _context145.stop();}}},_callee143,this);}));function editColor(_x270){return _editColor.apply(this,arguments);}return editColor;}()},{key:"Qv",value:function Qv(){this["#color-picker-popover"].opened&&this["#color-picker-popover"].close();}},{key:"ty",value:function ty(t){var _this772=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[hm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1966=this["#items"].querySelector(".item[data-label-edited]");if(_t1966){if(_t1966===i)return;this.wy();}}this.qv([i]);var s=this.tn.board,n=i.querySelector(".label"),o=i[hm],l=this["#developer-mode-button"].toggled?"Color ID":"Color title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Ki(_templateObject57(),h,l);n.after(r),r.selectAll(),ss(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this772.wy();}),r.validate=function(){var t=null;if(_this772["#developer-mode-button"].toggled){var _e1408=r.value.trim();if(_e1408.startsWith("#")&&(_e1408=_e1408.substring(1)),0===_e1408.length)t="Color must have ID";else if(qi(_e1408)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1408)))&&o.id!==_e1408&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"wy",value:function wy(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1409=this.tn.board,i=t.querySelector(".label"),_s661=t.querySelector("x-input"),n=t[hm];if(_s661.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s661.error)if(this["#developer-mode-button"].toggled){var _t1967=n.getAttribute("id").trim(),_i1192=_s661.value.trim().toLowerCase();if(_i1192.startsWith("#")&&(_i1192=_i1192.substring(1)),_t1967!==_i1192){_e1409.undoManager.checkpoint("Gradient ID");var _s662=document.createNodeIterator(_e1409.workspaces,NodeFilter.SHOW_ELEMENT),_n477=null;for(;_n477=_s662.nextNode();){"linearGradient"!==_n477.localName&&"radialGradient"!==_n477.localName||(_n477.id===_t1967&&_n477.setAttribute("id",_i1192),_n477.href.baseVal==="#"+_t1967&&_n477.setAttribute("href","#"+_i1192));{var _e1410=getComputedStyle(_n477);for(var _i1193=0,_arr48=["fill","stroke"];_i1193<_arr48.length;_i1193++){var _s663=_arr48[_i1193];var _o421=_e1410.getPropertyValue(_s663);if(_o421&&_o421.startsWith("url(")){_o421.substring(6,_o421.length-2)===_t1967&&_n477.style.setProperty(_s663,"url(#".concat(_i1192,")"));}}}}}}else{var _t1968=n.querySelector(":scope > bx-title"),_i1194=_s661.value.trim();if(_t1968){_t1968.textContent!==_i1194&&(_e1409.undoManager.checkpoint("Color title"),""===_i1194?_t1968.remove():_t1968.textContent=_i1194);}else""!==_i1194&&(_e1409.undoManager.checkpoint("Color title"),_t1968=$i("svg:bx-title"),_t1968.textContent=_i1194,n.prepend(_t1968));}}}},{key:"ly",value:function ly(t){this.tn.board.undoManager.checkpoint("Pin Color"),this.tn.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"hy",value:function hy(t){this.tn.board.undoManager.checkpoint("Unpin Color"),this.tn.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"qv",value:function qv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1284=_createForOfIteratorHelper(this["#items"].children),_step1284;try{for(_iterator1284.s();!(_step1284=_iterator1284.n()).done;){var _e1411=_step1284.value;t.includes(_e1411)?(_e1411.setAttribute("data-selected",""),_e1411[rm]=Date.now()):_e1411.removeAttribute("data-selected");}}catch(err){_iterator1284.e(err);}finally{_iterator1284.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.Qv();}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s664=e[0],n=i.indexOf(_s664),_o422=i[n-1];if(_o422){if(_o422.scrollIntoViewIfNeeded(),t)_o422.setAttribute("data-selected",""),_o422[rm]=Date.now();else{var _iterator1285=_createForOfIteratorHelper(i),_step1285;try{for(_iterator1285.s();!(_step1285=_iterator1285.n()).done;){var _t1969=_step1285.value;_t1969===_o422?(_t1969.setAttribute("data-selected",""),_t1969[rm]=Date.now()):_t1969.removeAttribute("data-selected");}}catch(err){_iterator1285.e(err);}finally{_iterator1285.f();}}return this.Qv(),!0;}}return!1;}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s665=e[e.length-1],n=i.indexOf(_s665),_o423=i[n+1];if(_o423){if(_o423.scrollIntoViewIfNeeded(),t)_o423.setAttribute("data-selected",""),_o423[rm]=Date.now();else{var _iterator1286=_createForOfIteratorHelper(i),_step1286;try{for(_iterator1286.s();!(_step1286=_iterator1286.n()).done;){var _t1970=_step1286.value;_t1970===_o423?(_t1970.setAttribute("data-selected",""),_t1970[rm]=Date.now()):_t1970.removeAttribute("data-selected");}}catch(err){_iterator1286.e(err);}finally{_iterator1286.f();}}return this.Qv(),!0;}}return!1;}},{key:"uy",value:function uy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1287=_createForOfIteratorHelper(t),_step1287;try{for(_iterator1287.s();!(_step1287=_iterator1287.n()).done;){var i=_step1287.value;i===e?(i.setAttribute("data-selected",""),i[rm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1287.e(err);}finally{_iterator1287.f();}return this.Qv(),!0;}return!1;}},{key:"xy",value:function xy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1288=_createForOfIteratorHelper(t),_step1288;try{for(_iterator1288.s();!(_step1288=_iterator1288.n()).done;){var i=_step1288.value;i===e?(i.setAttribute("data-selected",""),i[rm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1288.e(err);}finally{_iterator1288.f();}return this.Qv(),!0;}return!1;}},{key:"Uv",value:function Uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.qv(t,!1);}},{key:"Nv",value:function Nv(){this.qv([],!1);}},{key:"Gv",value:function Gv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"Fv",value:function Fv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"by",value:function by(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add Color");var i=$i("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("color-")),i.setAttribute("data-bx-pinned","true"),i.innerHTML='<stop style="stop-color: #d8d8d8;"></stop>',e.length>0){e[e.length-1][hm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.Xs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[hm]===i;});this.qv([s]);}},{key:"my",value:function my(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.tn.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=this.gb(),n=[];var _iterator1289=_createForOfIteratorHelper(s),_step1289;try{for(_iterator1289.s();!(_step1289=_iterator1289.n()).done;){var _i1196=_step1289.value;var _s667=getComputedStyle(_i1196),_o425=null;if(!0===vo(_s667[t]))_o425=_s667[t];else{var _i1197=Go.fromString(_s667[t]);if(_i1197&&"#"===_i1197.value[0]){var _t1972=e.masterWorkspace.querySelector(_i1197.value);_t1972&&_o(_t1972)&&(_o425=$o(_t1972));}}null!==_o425&&n.push(_o425);}}catch(err){_iterator1289.e(err);}finally{_iterator1289.f();}if(n=si(n),n.length>0){e.undoManager.checkpoint(1===n.length?"Add color":"Add colors");var _t1971=[],_s666=i.length>0?i[i.length-1][hm]:null;var _iterator1290=_createForOfIteratorHelper(n),_step1290;try{for(_iterator1290.s();!(_step1290=_iterator1290.n()).done;){var _i1195=_step1290.value;var _n478=$i("svg:linearGradient");_n478.setAttribute("id",e.generateUniqueID("color-")),_n478.setAttribute("data-bx-pinned","true"),_n478.innerHTML="<stop style=\"stop-color: ".concat(_i1195,"\"></stop>"),_t1971.push(_n478),_s666?_s666.after(_n478):(e.maybeCreateDefsForMasterWorkspace(),e.defs.append(_n478)),_s666=_n478;}}catch(err){_iterator1290.e(err);}finally{_iterator1290.f();}this.Xs();var _o424=_toConsumableArray(this["#items"].children).filter(function(e){return _t1971.includes(e[hm]);});this.qv(_o424);}}},{key:"ey",value:function ey(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[hm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate colors");var _iterator1291=_createForOfIteratorHelper(e),_step1291;try{for(_iterator1291.s();!(_step1291=_iterator1291.n()).done;){var _i1198=_step1291.value;var _e1412=t.generateUniqueID("color-"),_s668=$o(_i1198[hm]),_l342=Ji(_templateObject58(),_e1412,_s668);n.append(_l342),o.push(_l342);}}catch(err){_iterator1291.e(err);}finally{_iterator1291.f();}s.after(n);{this.Xs();var _t1973=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[hm]);});this.qv(_t1973);}}},{key:"iy",value:function(){var _iy=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee144(){var t,e,i,_iterator1292,_step1292,_step1292$value,_t1977,_s673,_iterator1294,_step1294,_n479,_t1974,_s669,_i1199,_s670,_i1200,_i1201,_arr49,n,_o426,_l343,_a252,_i1202,_s671,_iterator1293,_step1293,_t1976,_i1203,_s672,_t1975;return regeneratorRuntime.wrap(function _callee144$(_context146){while(1){switch(_context146.prev=_context146.next){case 0:t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[hm];}),i=[];_iterator1292=_createForOfIteratorHelper(this.vy());try{for(_iterator1292.s();!(_step1292=_iterator1292.n()).done;){_step1292$value=_slicedToArray(_step1292.value,2),_t1977=_step1292$value[0],_s673=_step1292$value[1];_iterator1294=_createForOfIteratorHelper(_s673);try{for(_iterator1294.s();!(_step1294=_iterator1294.n()).done;){_n479=_step1294.value;e.includes(_n479)&&!1===i.includes(_t1977)&&i.push(_t1977);}}catch(err){_iterator1294.e(err);}finally{_iterator1294.f();}}}catch(err){_iterator1292.e(err);}finally{_iterator1292.f();}if(!(0!==e.length)){_context146.next=19;break;}if(!(i.length>0)){_context146.next=12;break;}_t1974="Delete ";1===e.length?_t1974+="a color":_t1974+="".concat(e.length," colors"),_t1974+=" applied to ",1===i.length?_t1974+="1 object?":_t1974+="".concat(i.length," objects?");_context146.next=9;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1974,detail:"Deleting a color also removes it from all objects it was applied to."});case 9:_s669=_context146.sent;if(!(-1===_s669||1===_s669)){_context146.next=12;break;}return _context146.abrupt("return");case 12:t.undoManager.checkpoint("Delete colors"),this.mx()||this.xx();_i1199=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s670=null;for(;_s670=_i1199.nextNode();){if(k.includes(_s670.localName)){_i1200=getComputedStyle(_s670);for(_i1201=0,_arr49=["fill","stroke"];_i1201<_arr49.length;_i1201++){n=_arr49[_i1201];_o426=Go.fromString(_i1200[n]),_l343=_o426?t.masterWorkspace.querySelector(_o426.value):null,_a252=_l343&&["linearGradient","radialGradient"].includes(_l343.localName)?_l343:null;e.includes(_a252)&&(_s670.style[n]="#000000",_s670.removeAttribute(n));}}}_i1202=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s671=[];_iterator1293=_createForOfIteratorHelper(_i1202);try{for(_iterator1293.s();!(_step1293=_iterator1293.n()).done;){_t1976=_step1293.value;e.includes(_t1976)&&_s671.push(_t1976);}}catch(err){_iterator1293.e(err);}finally{_iterator1293.f();}for(_i1203=0,_s672=_s671;_i1203<_s672.length;_i1203++){_t1975=_s672[_i1203];_t1975.remove();}case 19:case"end":return _context146.stop();}}},_callee144,this);}));function iy(){return _iy.apply(this,arguments);}return iy;}()},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[hm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin color"+e.length>1?"s":"");var _iterator1295=_createForOfIteratorHelper(e),_step1295;try{for(_iterator1295.s();!(_step1295=_iterator1295.n()).done;){var _t1978=_step1295.value;_t1978.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1295.e(err);}finally{_iterator1295.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[hm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin color"+e.length>1?"s":"");var _iterator1296=_createForOfIteratorHelper(e),_step1296;try{for(_iterator1296.s();!(_step1296=_iterator1296.n()).done;){var _t1979=_step1296.value;_t1979.removeAttribute("data-bx-pinned");}}catch(err){_iterator1296.e(err);}finally{_iterator1296.f();}}}},{key:"Cv",value:function Cv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s674=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),n=t[0],_o427=_s674.indexOf(e);if("start"===i){if(_s674[_o427-1]===n)return!1;}else if("end"===i){if(_s674[_o427+1]===n)return!1;}}return!0;}},{key:"oy",value:function oy(t){var e=this.tn.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1204=getComputedStyle(s);for(var _i1205=0,_arr50=["fill","stroke"];_i1205<_arr50.length;_i1205++){var _o428=_arr50[_i1205];var _l344=Go.fromString(_i1204[_o428]),_a253=_l344?e.masterWorkspace.querySelector(_l344.value):null,_h209=_a253&&["linearGradient","radialGradient"].includes(_a253.localName)?_a253:null;if(_h209&&_h209.id===t){var _t1980=s.closest("text");_t1980?!1===n.includes(_t1980)&&n.push(_t1980):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"vy",value:function vy(){var t=this.tn.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1206=getComputedStyle(s);for(var _i1207=0,_arr51=["fill","stroke"];_i1207<_arr51.length;_i1207++){var n=_arr51[_i1207];var _o429=Go.fromString(_i1206[n]),_l345=_o429?t.masterWorkspace.querySelector(_o429.value):null,_a254=_l345&&"linearGradient"==_l345.localName?_l345:null;_a254&&_o(_a254)&&(!1===e.has(s)?e.set(s,[_a254]):e.get(s).push(_a254));}}}return e;}},{key:"gb",value:function gb(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1297=_createForOfIteratorHelper(s),_step1297;try{for(_iterator1297.s();!(_step1297=_iterator1297.n()).done;){var n=_step1297.value;t.includes(n.localName)?e.push(n):"g"!==n.localName&&"a"!==n.localName||i(n.children);}}catch(err){_iterator1297.e(err);}finally{_iterator1297.f();}};return i(this.tn.board.outermostSelectedElements),e;}},{key:"Xs",value:function Xs(){{var _t1981=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return _o(t);}),_e1413=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[hm];}),i=document.createDocumentFragment();var _iterator1298=_createForOfIteratorHelper(_t1981),_step1298;try{for(_iterator1298.s();!(_step1298=_iterator1298.n()).done;){var _s675=_step1298.value;var _t1982=_s675.querySelector(":scope > stop"),n=getComputedStyle(_t1982).stopColor,_o430=Ki(_templateObject59(),n,_s675.id);_o430[hm]=_s675,_e1413.includes(_s675)&&(_o430.setAttribute("data-selected",""),_o430[rm]=Date.now()),this.yy(_o430),this.ky(_o430),i.append(_o430);}}catch(err){_iterator1298.e(err);}finally{_iterator1298.f();}this["#items"].innerHTML="",this["#items"].append(i);}this.py(),this.Jv(),this.ux();}},{key:"gy",value:function gy(){var _iterator1299=_createForOfIteratorHelper(this["#items"].children),_step1299;try{for(_iterator1299.s();!(_step1299=_iterator1299.n()).done;){var _t1983=_step1299.value;this.ky(_t1983);}}catch(err){_iterator1299.e(err);}finally{_iterator1299.f();}}},{key:"Tv",value:function Tv(){this["#search-input"].value="";var _iterator1300=_createForOfIteratorHelper(this["#items"].children),_step1300;try{for(_iterator1300.s();!(_step1300=_iterator1300.n()).done;){var _t1984=_step1300.value;this.yy(_t1984),this.ky(_t1984);}}catch(err){_iterator1300.e(err);}finally{_iterator1300.f();}this.ux();}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"yy",value:function yy(t){var e=t[hm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<color>",i.removeAttribute("data-custom"));else{var _t1985;_t1985=this.tn.board.currentWorkspace.id===e.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1985?(i.textContent=_t1985.textContent,i.setAttribute("data-custom","")):(i.textContent="Color",i.removeAttribute("data-custom"));}}},{key:"py",value:function py(){var t=this.vy();var _iterator1301=_createForOfIteratorHelper(this["#items"].children),_step1301;try{for(_iterator1301.s();!(_step1301=_iterator1301.n()).done;){var _e1414=_step1301.value;var i=_e1414.querySelector(".counter-button"),_s676=0;var _iterator1302=_createForOfIteratorHelper(t),_step1302;try{for(_iterator1302.s();!(_step1302=_iterator1302.n()).done;){var _step1302$value=_slicedToArray(_step1302.value,2),_i1208=_step1302$value[0],n=_step1302$value[1];n.includes(_e1414[hm])&&(_s676+=1);}}catch(err){_iterator1302.e(err);}finally{_iterator1302.f();}0===_s676?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s676?"Select 1 color user":"Select ".concat(_s676," color users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s676);}}catch(err){_iterator1301.e(err);}finally{_iterator1301.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.colors){var _iterator1303=_createForOfIteratorHelper(this["#items"].children),_step1303;try{for(_iterator1303.s();!(_step1303=_iterator1303.n()).done;){var _t1986=_step1303.value;var _e1415=_t1986[hm],i=_t1986.lastElementChild;i.hidden=!1,i.toggled=_e1415.hasAttribute("data-bx-pinned");}}catch(err){_iterator1303.e(err);}finally{_iterator1303.f();}}else{var _iterator1304=_createForOfIteratorHelper(this["#items"].children),_step1304;try{for(_iterator1304.s();!(_step1304=_iterator1304.n()).done;){var _t1987=_step1304.value;_t1987.lastElementChild.hidden=!0;}}catch(err){_iterator1304.e(err);}finally{_iterator1304.f();}}}}]);return dm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dm,"observedAttributes",["enabled"]);_defineProperty(dm,"_shadowTemplate",Ki(_templateObject398()));_defineProperty(dm,"_shadowStyleSheet",Qi(_templateObject399()));customElements.define("bx-colorsbrowser",dm);var cm=Symbol(),pm=Symbol();var um=/*#__PURE__*/function(_HTMLElement117){_inherits(um,_HTMLElement117);var _super163=_createSuper(um);_createClass(um,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedStops",get:function get(){return _toConsumableArray(this.ra);},set:function set(t){this.ra=_toConsumableArray(t),this.Sy(),this.Cy(),this._y(),this.My();}}]);function um(){var _this773;_classCallCheck(this,um);_this773=_super163.call(this),_this773.tabIndex=0,_this773.Py=!1,_this773.Dy=!1,_this773.ra=[],_this773._shadowRoot=_this773.attachShadow({mode:"closed"}),_this773._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,um._shadowStyleSheet],_this773._shadowRoot.append(document.importNode(um._shadowTemplate.content,!0));var _iterator1305=_createForOfIteratorHelper(_this773._shadowRoot.querySelectorAll("[id]")),_step1305;try{for(_iterator1305.s();!(_step1305=_iterator1305.n()).done;){var _t1988=_step1305.value;_this773["#"+_t1988.id]=_t1988;}}catch(err){_iterator1305.e(err);}finally{_iterator1305.f();}_this773.addEventListener("keydown",function(t){return _this773.Tn(t);}),_this773["#gradient-slider"].addEventListener("contextmenu",function(t){return _this773.zy(t);}),_this773["#gradient-slider"].addEventListener("pointerdown",function(t){return _this773.Oy(t);}),_this773["#gradient-slider"].addEventListener("dblclick",function(t){return _this773.Ey(t);}),_this773["#stop-color-picker"].addEventListener("changestart",function(t){return _this773.Jx(t);}),_this773["#stop-offset-section"].addEventListener("changestart",function(){return _this773.Ty();});return _this773;}_createClass(um,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.Ay=Ri(this,"bx-gradientsbrowser");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this774=this;{var _t1989=this.Ay.selectedGradients[0],_e1416=[];if(_t1989[pm]&&(_e1416=_t1989[pm].filter(function(e){return _t1989.contains(e);})),0===_e1416.length){var i=To(_t1989);i.length>0&&(_e1416=[i[0]]);}this.ra=_e1416;}this.focus(),this.Xs(),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this774.pl(t);}),this.Ay.addEventListener("selectedgradientschange",this.$y=function(){_this774.Xs();});}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("workspacemutation",this.rn),this.Ay.removeEventListener("selectedgradientschange",this.$y);var t=this.Ay.selectedGradients[0];t&&(t[pm]=_toConsumableArray(this.selectedStops)),this["#gradient-slider"].removeAttribute("data-dragging"),this.ra=[],this.Py=!1,this.Dy=!1;}},{key:"pl",value:function pl(t){var _this775=this;var _iterator1306=_createForOfIteratorHelper(t.detail),_step1306;try{for(_iterator1306.s();!(_step1306=_iterator1306.n()).done;){var _e1417=_step1306.value;if("childList"===_e1417.type&&["linearGradient","radialGradient"].includes(_e1417.target.nodeName)){(function(){var t=_this775.Ay.selectedGradients[0];_this775.ra=_this775.ra.filter(function(e){return t.contains(e);});})();}}}catch(err){_iterator1306.e(err);}finally{_iterator1306.f();}this.Xs();}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);t.stopPropagation(),0!==this.ra.length&&null===this._shadowRoot.activeElement&&(e.matches("Backspace")||e.matches("Delete")?this.Ba():e.matches("Tab")?(t.preventDefault(),this.Ra()):e.matches("Shift","Tab")?(t.preventDefault(),this.Ga()):e.matches("ArrowLeft")?this.Fa(-.01):e.matches("ArrowRight")?this.Fa(.01):e.matches("Shift","ArrowLeft")?this.Fa(-.1):e.matches("Shift","ArrowRight")&&this.Fa(.1));}},{key:"zy",value:function(){var _zy=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee145(t){var e,i,s,_e1418,_i1209;return regeneratorRuntime.wrap(function _callee145$(_context147){while(1){switch(_context147.prev=_context147.next){case 0:t.preventDefault(),t.target.matches(".marker")?!1===t.target.hasAttribute("data-selected")&&(this.selectedStops=[t.target[cm]]):this.selectedStops=[];e=this.Ay.selectedGradients[0];i=To(e);_context147.next=5;return this.Js.openContextMenu([{value:"add-stop",label:"Add stop",disabled:!1},{value:"duplicate-stops",label:1===this.selectedStops.length?"Duplicate stop":"Duplicate stops",disabled:0===this.selectedStops.length},{value:"delete-stops",label:1===this.selectedStops.length?"Delete stop":"Delete stops",disabled:0===this.selectedStops.length},{value:"swap-stops",label:"Swap stops",disabled:2!==this.selectedStops.length},{type:"separator"},{label:"Reverse gradient",value:"reverse-gradient",disabled:i.length<=1},{label:"Harmonize gradient",value:"harmonize-gradient",disabled:i.length<1}]);case 5:s=_context147.sent;if("add-stop"===s){_e1418=this["#track"].getBoundingClientRect(),_i1209=(t.clientX-_e1418.x)/_e1418.width;_i1209=tt(_i1209,0,1,3),this.Iy(_i1209);}else"duplicate-stops"===s?this.Ly():"delete-stops"===s?this.Ba():"reverse-gradient"===s?this.By():"harmonize-gradient"===s&&this.Ry();case 7:case"end":return _context147.stop();}}},_callee145,this);}));function zy(_x271){return _zy.apply(this,arguments);}return zy;}()},{key:"Oy",value:function Oy(t){1===t.buttons&&(t.target.closest(".marker")?this.Gy(t):this.selectedStops=[]);}},{key:"Ey",value:function Ey(t){if(t.target===this["#gradient-slider"]||t.target===this["#markers"]){var _e1419=this["#track"].getBoundingClientRect(),i=(t.clientX-_e1419.x)/_e1419.width;i=tt(i,0,1,3),this.Iy(i);}}},{key:"Gy",value:function Gy(t){var _this776=this;if(1!==t.buttons)return;var e,_i1212,s=this.tn.board,n=this.Ay.selectedGradients[0],o=To(n),l=t.target.closest(".marker"),a=this["#track"].getBoundingClientRect(),h=l.getBoundingClientRect(),r=new DOMPoint(t.clientX,t.clientY),d=r,_ref172=(t.clientX,h.x,h.width,this.Js.modKeys),c=_ref172.alt,p=_ref172.shift,u=Symbol();!1===p?!1===this.selectedStops.includes(l[cm])&&(this.selectedStops=[l[cm]]):!0===p&&!1===this.selectedStops.includes(l[cm])&&(this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),[l[cm]]));var x=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),b=Math.max.apply(Math,_toConsumableArray(x.map(function(t){return-t[cm].offset.baseVal;}))),m=Math.min.apply(Math,_toConsumableArray(x.map(function(t){return 1-t[cm].offset.baseVal;})));var _iterator1307=_createForOfIteratorHelper(x),_step1307;try{for(_iterator1307.s();!(_step1307=_iterator1307.n()).done;){var _t1993=_step1307.value;_t1993[cm][u]=_t1993[cm].offset.baseVal;}}catch(err){_iterator1307.e(err);}finally{_iterator1307.f();}this["#gradient-slider"].setPointerCapture(t.pointerId),this["#gradient-slider"].addEventListener("pointermove",e=function e(_e1422){{var _i1210=new DOMPoint(_e1422.clientX,_e1422.clientY),_s677=_e1422.timeStamp-t.timeStamp;if(!0===De(d,_i1210,0))return;if(d=_i1210,Ee(r,_i1210)<3&&_s677<80)return;}!1===_this776.Py&&(_this776.Py=!0,s.undoManager.checkpoint("Move gradient stop"),_this776["#gradient-slider"].setAttribute("data-dragging",""));{var _i1211=(_e1422.clientX-t.clientX)/a.width;_i1211=tt(_i1211,b,m,3);var _iterator1308=_createForOfIteratorHelper(x),_step1308;try{for(_iterator1308.s();!(_step1308=_iterator1308.n()).done;){var _t1990=_step1308.value;var _e1420=_t1990[cm],_s678=_e1420[u];_s678+=_i1211,_s678=tt(_s678,0,1,3),_t1990.style.left=100*_s678+"%",_e1420.setAttribute("offset",_s678);}}catch(err){_iterator1308.e(err);}finally{_iterator1308.f();}}{var _t1991=o.map(function(t){return t.offset.baseVal;});if(!1===et(_t1991,!0)){var _t1992=_toConsumableArray(o).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1309=_createForOfIteratorHelper(_t1992),_step1309;try{for(_iterator1309.s();!(_step1309=_iterator1309.n()).done;){var _e1421=_step1309.value;n.append(_e1421);}}catch(err){_iterator1309.e(err);}finally{_iterator1309.f();}o=To(n);}}_this776.Uy();}),this["#gradient-slider"].addEventListener("lostpointercapture",_i1212=function i(){_this776["#gradient-slider"].removeEventListener("pointermove",e),_this776["#gradient-slider"].removeEventListener("lostpointercapture",_i1212),_this776.Py=!1,_this776["#gradient-slider"].removeAttribute("data-dragging");});}},{key:"Jx",value:function Jx(t){var _this777=this;var e,_i1213,s=this.tn.board,n=this.selectedStops;s.undoManager.checkpoint("Change gradient stop color"),this["#stop-color-picker"].addEventListener("change",e=function e(){var _iterator1310=_createForOfIteratorHelper(n),_step1310;try{for(_iterator1310.s();!(_step1310=_iterator1310.n()).done;){var _t1994=_step1310.value;_t1994.style.stopColor=_this777["#stop-color-picker"].value;}}catch(err){_iterator1310.e(err);}finally{_iterator1310.f();}}),this["#stop-color-picker"].addEventListener("changeend",_i1213=function i(){_this777["#stop-color-picker"].removeEventListener("change",e),_this777["#stop-color-picker"].removeEventListener("changeend",_i1213);var _iterator1311=_createForOfIteratorHelper(n),_step1311;try{for(_iterator1311.s();!(_step1311=_iterator1311.n()).done;){var _t1995=_step1311.value;Op("stop-color",_t1995);}}catch(err){_iterator1311.e(err);}finally{_iterator1311.f();}});}},{key:"Ty",value:function Ty(){var _this778=this;this.tn.board.undoManager.checkpoint("Stop offset"),this.Dy=!0;var t,_e1424,i=this.Ay.selectedGradients[0],s=To(i),n=this.selectedStops;this["#stop-offset-section"].addEventListener("change",t=function t(_t1999){_t1999.target===_this778["#stop-offset-slider"]?_this778["#stop-offset-input"].value=_this778["#stop-offset-slider"].value:_t1999.target===_this778["#width-input"]&&(_this778["#stop-offset-slider"].value=_this778["#stop-offset-input"].value),_this778["#stop-offset-slider"].mixed=!1,_this778["#stop-offset-input"].mixed=!1;var _iterator1312=_createForOfIteratorHelper(n),_step1312;try{for(_iterator1312.s();!(_step1312=_iterator1312.n()).done;){var _t1998=_step1312.value;_t1998.setAttribute("offset",_this778["#stop-offset-input"].value);}}catch(err){_iterator1312.e(err);}finally{_iterator1312.f();}{var _t1996=s.map(function(t){return t.offset.baseVal;});if(!1===et(_t1996,!0)){var _t1997=_toConsumableArray(s).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1313=_createForOfIteratorHelper(_t1997),_step1313;try{for(_iterator1313.s();!(_step1313=_iterator1313.n()).done;){var _e1423=_step1313.value;i.append(_e1423);}}catch(err){_iterator1313.e(err);}finally{_iterator1313.f();}s=To(i);}}_this778.Fy(),_this778.Cy();}),this["#stop-offset-section"].addEventListener("changeend",_e1424=function e(){_this778["#stop-offset-section"].removeEventListener("change",t),_this778["#stop-offset-section"].removeEventListener("changeend",_e1424),_this778.Dy=!1;});}},{key:"Iy",value:function Iy(t){this.tn.board.undoManager.checkpoint("Add gradient stop");var e=this.Ay.selectedGradients[0],i=To(e),s=null;for(var _e1425=0;_e1425<i.length;_e1425+=1){var _n480=i[_e1425];if(_n480.offset.baseVal<t)s=_e1425;else if(_n480.offset.baseVal>t)break;}var n=$i("svg:stop");if(n.setAttribute("offset",t),i.length>0?n.style.stopColor=Eo(e,t):n.style.stopColor="#ff0000",null===s){var _t2000=_toConsumableArray(e.children).find(function(t){return"stop"===t.localName;});_t2000?_t2000.before(n):e.append(n);}else i[s].after(n);this.selectedStops=[n];}},{key:"Ra",value:function Ra(){var t=this.Ay.selectedGradients[0],e=To(t),i=this.selectedStops;if(i.length>0){var _t2001=i[i.length-1],_s679=e.indexOf(_t2001),n=e[_s679<e.length-1?_s679+1:0];this.selectedStops=[n];}}},{key:"Ga",value:function Ga(){var t=this.Ay.selectedGradients[0],e=To(t),i=this.selectedStops;if(i.length>0){var _t2002=i[i.length-1],_s680=e.indexOf(_t2002),n=e[_s680>0?_s680-1:e.length-1];this.selectedStops=[n];}}},{key:"Ba",value:function Ba(){var t=this.selectedStops;if(this.selectedStops=[],t.length>0){this.tn.board.undoManager.checkpoint("Delete gradient stop(s)");var _iterator1314=_createForOfIteratorHelper(t),_step1314;try{for(_iterator1314.s();!(_step1314=_iterator1314.n()).done;){var _e1426=_step1314.value;_e1426.remove();}}catch(err){_iterator1314.e(err);}finally{_iterator1314.f();}}}},{key:"Ly",value:function Ly(){this.tn.board.undoManager.checkpoint("Duplicate stops");var t=[];var _iterator1315=_createForOfIteratorHelper(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),_step1315;try{for(_iterator1315.s();!(_step1315=_iterator1315.n()).done;){var _e1427=_step1315.value;var i=_e1427[cm],_s681=$i("svg:stop");_s681.setAttribute("offset",i.offset.baseVal),_s681.style.stopColor=Ao(i),i.after(_s681),t.push(_s681);}}catch(err){_iterator1315.e(err);}finally{_iterator1315.f();}this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),t);}},{key:"Fa",value:function Fa(t){var e=this.Ay.selectedGradients[0],i=To(e),s=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),n=Math.max.apply(Math,_toConsumableArray(s.map(function(t){return-t[cm].offset.baseVal;}))),o=Math.min.apply(Math,_toConsumableArray(s.map(function(t){return 1-t[cm].offset.baseVal;})));if(0!==t){if(t>0){if(0===o)return;}else if(t<0&&0===n)return;this.tn.board.undoManager.checkpoint("Move gradient stop"),t=tt(t,n,o,3);var _iterator1316=_createForOfIteratorHelper(s),_step1316;try{for(_iterator1316.s();!(_step1316=_iterator1316.n()).done;){var _e1428=_step1316.value;var _i1215=_e1428[cm],_s682=_i1215.offset.baseVal;_s682+=t,_s682=tt(_s682,0,1,3),_e1428.style.left=100*_s682+"%",_i1215.setAttribute("offset",_s682);}}catch(err){_iterator1316.e(err);}finally{_iterator1316.f();}{var _t2003=i.map(function(t){return t.offset.baseVal;});if(!1===et(_t2003,!0)){var _t2004=_toConsumableArray(i).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1317=_createForOfIteratorHelper(_t2004),_step1317;try{for(_iterator1317.s();!(_step1317=_iterator1317.n()).done;){var _i1214=_step1317.value;e.append(_i1214);}}catch(err){_iterator1317.e(err);}finally{_iterator1317.f();}i=To(e);}}this.Uy();}}},{key:"By",value:function By(){this.tn.board.undoManager.checkpoint("Reverse gradient");var t=this.Ay.selectedGradients[0],e=To(t);var _iterator1318=_createForOfIteratorHelper(_toConsumableArray(e).reverse()),_step1318;try{for(_iterator1318.s();!(_step1318=_iterator1318.n()).done;){var i=_step1318.value;i.offset.baseVal=1-i.offset.baseVal,t.append(i);}}catch(err){_iterator1318.e(err);}finally{_iterator1318.f();}}},{key:"Ry",value:function Ry(){this.tn.board.undoManager.checkpoint("Harmonize gradient");var t=this.Ay.selectedGradients[0],e=To(t);for(var _t2005=0;_t2005<e.length;_t2005+=1){e[_t2005].setAttribute("offset",_t2005/(e.length-1));}}},{key:"Xs",value:function Xs(){this.Fy(),this.Cy(),this._y(),this.My();}},{key:"Fy",value:function Fy(){var t=this.Ay.selectedGradients[0];if(t){var _e1429=To(t),i=_e1429.map(function(t){return J(100*t.offset.baseVal,3);}),_s683=_e1429.map(function(t){return Ao(t);});if(0===_e1429.length?(this["#left-gradient-slider-edge"].style.background="transparent",this["#right-gradient-slider-edge"].style.background="transparent",this["#track"].style.backgroundImage="linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 100%)"):1===_e1429.length?(this["#left-gradient-slider-edge"].style.background=_s683[0],this["#right-gradient-slider-edge"].style.background=_s683[0],this["#track"].style.backgroundImage="linear-gradient(90deg, ".concat(_s683[0]," 0%, ").concat(_s683[0]," 100%)")):(this["#left-gradient-slider-edge"].style.background=_s683[0],this["#right-gradient-slider-edge"].style.background=_s683[_s683.length-1],this["#track"].style.backgroundImage="linear-gradient(90deg, "+_e1429.map(function(t,e){return"".concat(_s683[e]," ").concat(i[e],"%");}).join(", ")+")"),!1===this.Py){this["#markers"].innerHTML="";for(var _t2006=0;_t2006<_e1429.length;_t2006+=1){var _s684=_e1429[_t2006],n=i[_t2006],_o431=$i("div");_o431[cm]=_s684,_o431.setAttribute("class","marker"),_o431.style.left=n+"%",this["#markers"].append(_o431);}this.Sy(),this.Uy();}}}},{key:"Sy",value:function Sy(){var t=this.selectedStops;var _iterator1319=_createForOfIteratorHelper(this["#markers"].children),_step1319;try{for(_iterator1319.s();!(_step1319=_iterator1319.n()).done;){var _e1430=_step1319.value;t.includes(_e1430[cm])?_e1430.setAttribute("data-selected",""):_e1430.removeAttribute("data-selected");}}catch(err){_iterator1319.e(err);}finally{_iterator1319.f();}}},{key:"Uy",value:function Uy(){var t=_toConsumableArray(this["#markers"].children),e=[];{(function(){var i=[],s=Symbol();var _iterator1320=_createForOfIteratorHelper(t),_step1320;try{for(_iterator1320.s();!(_step1320=_iterator1320.n()).done;){var _e1431=_step1320.value;_e1431[s]=_e1431.getBoundingClientRect();}}catch(err){_iterator1320.e(err);}finally{_iterator1320.f();}var _iterator1321=_createForOfIteratorHelper(t),_step1321;try{var _loop34=function _loop34(){var n=_step1321.value;var o=[],l=function l(e){var _iterator1323=_createForOfIteratorHelper(t),_step1323;try{for(_iterator1323.s();!(_step1323=_iterator1323.n()).done;){var _n481=_step1323.value;if(_n481!==e){var _t2007=!o.includes(_n481)&&!i.includes(_n481),_a255=_n481[s].left<=e[s].right&&e[s].left<=_n481[s].right;_t2007&&_a255&&(o.push(_n481),i.push(_n481),l(_n481));}}}catch(err){_iterator1323.e(err);}finally{_iterator1323.f();}};l(n),o.length>0&&e.push(Ni(o));};for(_iterator1321.s();!(_step1321=_iterator1321.n()).done;){_loop34();}}catch(err){_iterator1321.e(err);}finally{_iterator1321.f();}var _iterator1322=_createForOfIteratorHelper(t),_step1322;try{for(_iterator1322.s();!(_step1322=_iterator1322.n()).done;){var _s685=_step1322.value;i.includes(_s685)||e.push([_s685]);}}catch(err){_iterator1322.e(err);}finally{_iterator1322.f();}})();}for(var _i1216=0,_e1432=e;_i1216<_e1432.length;_i1216++){var _t2008=_e1432[_i1216];var _e1433=100/_t2008.length;for(var i=0;i<_t2008.length;i+=1){var _s686=_t2008[i];_s686.style.height=_e1433+"%",_s686.style.top=_e1433*i+"%";}}}},{key:"Cy",value:function Cy(){!1===this.Py&&(0===this.selectedStops.length?this["#stop-color-section"].hidden=!0:1===this.selectedStops.length&&(this["#stop-color-section"].hidden=!1,this["#stop-color-picker"].value=Ao(this.selectedStops[0])));}},{key:"_y",value:function _y(){if(!1===this.Dy)if(0===this.selectedStops.length)this["#stop-offset-section"].hidden=!0;else{var _t2009=this.selectedStops.map(function(t){return t.offset.baseVal;}),_e1434=!(_t2009.length<=1)&&!ni(_t2009,_t2009[0]);this["#stop-offset-section"].hidden=!1,this["#stop-offset-slider"].mixed=_e1434,this["#stop-offset-slider"].value=J(_t2009[0],3),this["#stop-offset-input"].mixed=_e1434,this["#stop-offset-input"].value=J(_t2009[0],3);}}},{key:"My",value:function My(){0===this.selectedStops.length?this["#placeholder-section"].hidden=!1:this["#placeholder-section"].hidden=!0;}}]);return um;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(um,"observedAttributes",["enabled"]);_defineProperty(um,"_shadowTemplate",Ki(_templateObject400()));_defineProperty(um,"_shadowStyleSheet",Qi(_templateObject401()));customElements.define("bx-gradientinspector",um);var xm=Symbol(),bm=Symbol();var mm=/*#__PURE__*/function(_HTMLElement118){_inherits(mm,_HTMLElement118);var _super164=_createSuper(mm);_createClass(mm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedGradients",get:function get(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[xm];});}}]);function mm(){var _temp48,_this779;_classCallCheck(this,mm);(_temp48=_this779=_super164.call(this),_defineProperty(_assertThisInitialized(_this779),"commands",{selectAll:{enabled:function enabled(){return _this779.Gv();},exec:function exec(){return _this779.Uv();}},deselectAll:{enabled:function enabled(){return _this779.Fv();},exec:function exec(){return _this779.Nv();}}}),_temp48),_this779.jv=es(_this779.Xs,500,_assertThisInitialized(_this779)),_this779.Vv=0,_this779._shadowRoot=_this779.attachShadow({mode:"closed"}),_this779._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,mm._shadowStyleSheet],_this779._shadowRoot.append(document.importNode(mm._shadowTemplate.content,!0));var _iterator1324=_createForOfIteratorHelper(_this779._shadowRoot.querySelectorAll("[id]")),_step1324;try{for(_iterator1324.s();!(_step1324=_iterator1324.n()).done;){var _t2010=_step1324.value;_this779["#"+_t2010.id]=_t2010;}}catch(err){_iterator1324.e(err);}finally{_iterator1324.f();}_this779.addEventListener("keydown",function(t){return _this779.Tn(t);}),_this779["#items"].addEventListener("scroll",function(){return _this779.Hv();}),_this779["#items"].addEventListener("contextmenu",function(t){return _this779.ap(t);}),_this779["#items"].addEventListener("pointerdown",function(t){return _this779.op(t);}),_this779["#items"].addEventListener("click",function(t){return _this779.lp(t);}),_this779["#search-input"].addEventListener("input",function(){return _this779.Wv();}),_this779["#developer-mode-button"].addEventListener("toggle",function(){return _this779.tx();}),_this779["#add-menu"].addEventListener("click",function(t){return _this779.bv(t);}),_this779["#add-menu"].addEventListener("open",function(){return _this779.Yv();}),_this779["#gradient-inspector-popover"].addEventListener("close",function(){return _this779["#gradient-inspector"].enabled=!1;});return _this779;}_createClass(mm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"selectGradients",value:function selectGradients(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[xm].id);});this.qv(e,!0);}},{key:"en",value:function en(){var _this780=this;window.addEventListener("resize",this.nn=function(){_this780.Xv();}),this.Js.addEventListener("configchange",this.ln=function(t){_this780.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this780.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this780.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this["#developer-mode-button"].toggled=this.Js.getConfig("bx-gradientsbrowser:developerMode",!1),this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("artworkchange",this.Ph),this.Ny(),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail12=t.detail,e=_t$detail12.key,i=_t$detail12.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"Xv",value:function Xv(){this.Ny();}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced",s=!1;var _iterator1325=_createForOfIteratorHelper(e),_step1325;try{for(_iterator1325.s();!(_step1325=_iterator1325.n()).done;){var _t2011=_step1325.value;var _e1435=_t2011.target.nodeName,n=_t2011.addedNodes[0]?_t2011.addedNodes[0].nodeName:null,_o432=_t2011.removedNodes[0]?_t2011.removedNodes[0].nodeName:null,_l346=_t2011.attributeName;if("linearGradient"===_e1435||"radialGradient"===_e1435){if("bx-title"===n||"bx-title"===_o432){i="now";break;}if("id"===_l346){i="now",s=!0;break;}if("data-bx-pinned"===_l346){i="now";break;}}else if("bx-title"===_e1435){if(n||_o432){i="now";break;}}else if("linearGradient"===n||"radialGradient"===n||"linearGradient"===_o432||"radialGradient"===_o432){i="now",s=!0;break;}}}catch(err){_iterator1325.e(err);}finally{_iterator1325.f();}!0===s&&this.Ny(),"now"===i?this.Xs():"debounced"===i&&this.jv();}},{key:"Zv",value:function Zv(){this.Ny(),this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop,this.Ny();}},{key:"ap",value:function(){var _ap3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee146(t){var e,i,_s687,n;return regeneratorRuntime.wrap(function _callee146$(_context148){while(1){switch(_context148.prev=_context148.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context148.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.qv([e]);i=this.selectedGradients;_s687=e[xm];_context148.next=7;return this.Js.openContextMenu([{label:"Edit Gradient",value:"edit",disabled:1!==i.length},{label:"Edit Gradient ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Gradient Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Duplicate Gradient"+(i.length>1?"s":""),value:"duplicate",disabled:0===i.length},{label:"Delete Gradient"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Gradient"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Gradient"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Gradient Users",value:"select-users",disabled:1!==i.length}]);case 7:n=_context148.sent;"edit"===n?this.editGradient(_s687.id):"edit-id"===n?this.ty(_s687.id,"id"):"edit-title"===n?this.ty(_s687.id,"title"):"duplicate"===n?this.ey():"delete"===n?this.iy():"pin"===n?this.sy():"unpin"===n?this.ny():"select-users"===n&&this.jy(_s687.id);case 9:case"end":return _context148.stop();}}},_callee146,this);}));function ap(_x272){return _ap3.apply(this,arguments);}return ap;}()},{key:"lp",value:function lp(t){t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys13=this.Js.modKeys,e=_this$Js$modKeys13.ctrl,i=_this$Js$modKeys13.shift;if(!1===e&&!1===i){var _e1436=t.target.closest(".item"),_i1217=t.target.closest(".thumbnail"),_s688=t.target.closest(".counter-button"),n=t.target.closest(".pin-button"),_o433=_e1436[xm].id;_s688?this.jy(_o433):n?n.toggled?this.Vy(_o433):this.Hy(_o433):_i1217?t.detail%2==0&&this.editGradient(_o433):t.detail%2==0&&this.ty(_o433);}}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1437=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1437&&this.qv([]);}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this781=this;var _this$Js$modKeys14=this.Js.modKeys,e=_this$Js$modKeys14.ctrl,i=_this$Js$modKeys14.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.Ny(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[bm]=Date.now()),this.dispatchEvent(new CustomEvent("selectedgradientschange"));else if(!0===i){var _t2012=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1438=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1438.length>0){var _i1218=_t2012.indexOf(s),_n482=_e1438.sort(function(t,e){return e[bm]-t[bm];})[0],_o434=_t2012.indexOf(_n482),_l347=[];if(_i1218>_o434?_l347=_toConsumableArray(_t2012).slice(_o434,_i1218+1):_i1218<_o434&&(_l347=_toConsumableArray(_t2012).slice(_i1218,_o434+1).reverse()),_l347=_l347.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l347.length>0){var _iterator1326=_createForOfIteratorHelper(_l347),_step1326;try{for(_iterator1326.s();!(_step1326=_iterator1326.n()).done;){var _t2013=_step1326.value;_t2013.setAttribute("data-selected",""),_t2013[bm]=Date.now(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1326.e(err);}finally{_iterator1326.f();}}}}else{var _t2016,_e1440,_i1219=!1;window.addEventListener("pointermove",_t2016=function _t2014(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)>=3){if(window.removeEventListener("pointermove",_t2016),window.removeEventListener("pointerup",_e1440),!1===s.hasAttribute("data-selected")){var _iterator1327=_createForOfIteratorHelper(_this781["#items"].children),_step1327;try{for(_iterator1327.s();!(_step1327=_iterator1327.n()).done;){var _t2015=_step1327.value;_t2015===s?(_t2015.setAttribute("data-selected",""),_t2015[bm]=Date.now()):_t2015.removeAttribute("data-selected"),_this781.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1327.e(err);}finally{_iterator1327.f();}}_this781.Sv(o),_i1219=!0;}}),window.addEventListener("pointerup",_e1440=function _e1439(){if(window.removeEventListener("pointermove",_t2016),window.removeEventListener("pointerup",_e1440),!1===_i1219){var _iterator1328=_createForOfIteratorHelper(_this781["#items"].children),_step1328;try{for(_iterator1328.s();!(_step1328=_iterator1328.n()).done;){var _t2017=_step1328.value;_t2017===s?(_t2017.setAttribute("data-selected",""),_t2017[bm]=Date.now()):_t2017.removeAttribute("data-selected"),_this781.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1328.e(err);}finally{_iterator1328.f();}}});}}},{key:"Sv",value:function Sv(t){var _this782=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this782["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this782.Js.pointerClientPoint,e=_this782._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this782._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1441=l.getBoundingClientRect();if(a=t.y<_e1441.y+_e1441.height/2?"start":"end",_this782.Cv(n,l,a)){var _t2018=l.offsetTop-_this782["#items"].scrollTop;"end"===a&&(_t2018+=_e1441.height),_this782["#drop-indicator"].hidden=!1,_this782["#drop-indicator"].style.top=_t2018-1+"px";}else l=null,_this782["#drop-indicator"].hidden=!0;}else _this782["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s690){function s(_x273){return _s690.apply(this,arguments);}s.toString=function(){return _s690.toString();};return s;}(function(t){if(_this782["#items"].removeEventListener("pointermove",e),_this782["#items"].removeEventListener("scroll",i),_this782["#items"].removeEventListener("lostpointercapture",s),_this782["#items"].style.cursor=null,_this782["#drop-indicator"].hidden=!0,c(),_this782.tn.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1442=n[0][xm],_i1220=_this782.tn.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s689=_this782.Js.modKeys.shift;_i1220&&k.includes(_i1220.localName)&&(_s689?(_this782.tn.board.undoManager.checkpoint("Apply gradient stroke"),_i1220.style.stroke="url(#".concat(_e1442.id,")")):(_this782.tn.board.undoManager.checkpoint("Apply gradient fill"),_i1220.style.fill="url(#".concat(_e1442.id,")")),_this782.py());}}else if(l){_this782.tn.board.undoManager.checkpoint("Rearrange gradients");var _t2019=document.createDocumentFragment(),_e1443=l[xm];var _iterator1329=_createForOfIteratorHelper(n),_step1329;try{for(_iterator1329.s();!(_step1329=_iterator1329.n()).done;){var _i1221=_step1329.value;_i1221[xm]!==_e1443&&_t2019.append(_i1221[xm]);}}catch(err){_iterator1329.e(err);}finally{_iterator1329.f();}"start"===a?_e1443.before(_t2019):_e1443.after(_t2019);}}));}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus")||this["#gradient-inspector-popover"].opened)return;var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t2020=this["#items"].querySelector(".item[data-label-edited]"),_e1444=this["#items"].querySelector(".item[data-selected]");_t2020?this.focus():_e1444&&this.ty(_e1444[xm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.iy());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx()||this.uy());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx()||this.xy());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx(!0));}}},{key:"tx",value:function tx(){this.Js.setConfig("bx-gradientsbrowser:developerMode",this["#developer-mode-button"].toggled),this.Tv(),this.focus();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&("add-gradient"===e.value?this.by():"add-gradient-from-fill"===e.value?this.Wy("fill"):"add-gradient-from-stroke"===e.value&&this.Wy("stroke"));}},{key:"Yv",value:function Yv(){var t=this.tn.board.selectedObjectElements,e=null,i=null;if(1===t.length){var _s691=getComputedStyle(t[0]),n=Go.fromString(_s691.fill),_o435=Go.fromString(_s691.stroke);if(n&&"#"===n.value[0]){var _t2021=this.tn.board.masterWorkspace.querySelector(n.value);!_t2021||"linearGradient"!==_t2021.localName&&"radialGradient"!==_t2021.localName||!1!==_o(_t2021)||(e=_t2021);}if(_o435&&"#"===_o435.value[0]){var _t2022=this.tn.board.masterWorkspace.querySelector(_o435.value);!_t2022||"linearGradient"!==_t2022.localName&&"radialGradient"!==_t2022.localName||!1!==_o(_t2022)||(i=_t2022);}}this["#add-gradient-from-fill-menu-item"].disabled=null===e,this["#add-gradient-from-stroke-menu-item"].disabled=null===i;}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"editGradient",value:function(){var _editGradient=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee147(t){var e,_t2023,i;return regeneratorRuntime.wrap(function _callee147$(_context149){while(1){switch(_context149.prev=_context149.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[xm].id===t;});if(!e){_context149.next=8;break;}this.qv([e]);_t2023=e.getBoundingClientRect(),i=new DOMPoint(_t2023.left,_t2023.top+_t2023.height/2);_context149.next=6;return ss(10);case 6:this["#gradient-inspector-popover"].open(i);this["#gradient-inspector"].enabled=!0;case 8:case"end":return _context149.stop();}}},_callee147,this);}));function editGradient(_x274){return _editGradient.apply(this,arguments);}return editGradient;}()},{key:"Ny",value:function Ny(){this["#gradient-inspector-popover"].opened&&(this["#gradient-inspector-popover"].close(),this["#gradient-inspector"].enabled=!1);}},{key:"ty",value:function ty(t){var _this783=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[xm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2024=this["#items"].querySelector(".item[data-label-edited]");if(_t2024){if(_t2024===i)return;this.wy();}}this.qv([i]);var s=this.tn.board,n=i.querySelector(".label"),o=i[xm],l=this["#developer-mode-button"].toggled?"Gradient ID":"Gradient title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Ki(_templateObject60(),h,l);n.after(r),r.selectAll(),ss(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this783.wy();}),r.validate=function(){var t=null;if(_this783["#developer-mode-button"].toggled){var _e1445=r.value.trim();if(_e1445.startsWith("#")&&(_e1445=_e1445.substring(1)),0===_e1445.length)t="Gradient must have ID";else if(qi(_e1445)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1445)))&&o.id!==_e1445&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"wy",value:function wy(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1446=this.tn.board,i=t.querySelector(".label"),_s692=t.querySelector("x-input"),n=t[xm];if(_s692.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s692.error)if(this["#developer-mode-button"].toggled){var _t2025=n.getAttribute("id").trim(),_i1222=_s692.value.trim().toLowerCase();if(_i1222.startsWith("#")&&(_i1222=_i1222.substring(1)),_t2025!==_i1222){_e1446.undoManager.checkpoint("Gradient ID");var _s693=document.createNodeIterator(_e1446.workspaces,NodeFilter.SHOW_ELEMENT),_n483=null;for(;_n483=_s693.nextNode();){"linearGradient"!==_n483.localName&&"radialGradient"!==_n483.localName||(_n483.id===_t2025&&_n483.setAttribute("id",_i1222),_n483.href.baseVal==="#"+_t2025&&_n483.setAttribute("href","#"+_i1222));{var _e1447=getComputedStyle(_n483);for(var _i1223=0,_arr52=["fill","stroke"];_i1223<_arr52.length;_i1223++){var _s694=_arr52[_i1223];var _o436=_e1447.getPropertyValue(_s694);if(_o436&&_o436.startsWith("url(")){_o436.substring(6,_o436.length-2)===_t2025&&_n483.style.setProperty(_s694,"url(#".concat(_i1222,")"));}}}}}}else{var _t2026=n.querySelector(":scope > bx-title"),_i1224=_s692.value.trim();if(_t2026){_t2026.textContent!==_i1224&&(_e1446.undoManager.checkpoint("Gradient title"),""===_i1224?_t2026.remove():_t2026.textContent=_i1224);}else""!==_i1224&&(_e1446.undoManager.checkpoint("Gradient title"),_t2026=$i("svg:bx-title"),_t2026.textContent=_i1224,n.prepend(_t2026));}}}},{key:"Vy",value:function Vy(t){this.tn.board.undoManager.checkpoint("Pin Gradient"),this.tn.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Hy",value:function Hy(t){this.tn.board.undoManager.checkpoint("Unpin Gradient"),this.tn.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"qv",value:function qv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1330=_createForOfIteratorHelper(this["#items"].children),_step1330;try{for(_iterator1330.s();!(_step1330=_iterator1330.n()).done;){var _e1448=_step1330.value;t.includes(_e1448)?(_e1448.setAttribute("data-selected",""),_e1448[bm]=Date.now()):_e1448.removeAttribute("data-selected");}}catch(err){_iterator1330.e(err);}finally{_iterator1330.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.Ny(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s695=e[0],n=i.indexOf(_s695),_o437=i[n-1];if(_o437){if(_o437.scrollIntoViewIfNeeded(),t)_o437.setAttribute("data-selected",""),_o437[bm]=Date.now();else{var _iterator1331=_createForOfIteratorHelper(i),_step1331;try{for(_iterator1331.s();!(_step1331=_iterator1331.n()).done;){var _t2027=_step1331.value;_t2027===_o437?(_t2027.setAttribute("data-selected",""),_t2027[bm]=Date.now()):_t2027.removeAttribute("data-selected");}}catch(err){_iterator1331.e(err);}finally{_iterator1331.f();}}return this.Ny(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s696=e[e.length-1],n=i.indexOf(_s696),_o438=i[n+1];if(_o438){if(_o438.scrollIntoViewIfNeeded(),t)_o438.setAttribute("data-selected",""),_o438[bm]=Date.now();else{var _iterator1332=_createForOfIteratorHelper(i),_step1332;try{for(_iterator1332.s();!(_step1332=_iterator1332.n()).done;){var _t2028=_step1332.value;_t2028===_o438?(_t2028.setAttribute("data-selected",""),_t2028[bm]=Date.now()):_t2028.removeAttribute("data-selected");}}catch(err){_iterator1332.e(err);}finally{_iterator1332.f();}}return this.Ny(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"uy",value:function uy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1333=_createForOfIteratorHelper(t),_step1333;try{for(_iterator1333.s();!(_step1333=_iterator1333.n()).done;){var i=_step1333.value;i===e?(i.setAttribute("data-selected",""),i[bm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1333.e(err);}finally{_iterator1333.f();}return this.Ny(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"xy",value:function xy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1334=_createForOfIteratorHelper(t),_step1334;try{for(_iterator1334.s();!(_step1334=_iterator1334.n()).done;){var i=_step1334.value;i===e?(i.setAttribute("data-selected",""),i[bm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1334.e(err);}finally{_iterator1334.f();}return this.Ny(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"Uv",value:function Uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.qv(t,!1);}},{key:"Nv",value:function Nv(){this.qv([],!1);}},{key:"Gv",value:function Gv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"Fv",value:function Fv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"by",value:function by(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add gradient");var i=$i("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("gradient-")),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][xm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.Xs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[xm]===i;});this.qv([s]);}},{key:"Wy",value:function Wy(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.tn.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=e.selectedObjectElements[0],n=Go.fromString(getComputedStyle(s)[t]),o=e.masterWorkspace.querySelector(n.value);e.undoManager.checkpoint("Add gradient");var l=$i("svg:linearGradient");l.setAttribute("id",e.generateUniqueID("gradient-")),l.setAttribute("data-bx-pinned","true");var _iterator1335=_createForOfIteratorHelper(zo(o)),_step1335;try{for(_iterator1335.s();!(_step1335=_iterator1335.n()).done;){var _t2029=_step1335.value;var _e1449=$i("svg:stop");_e1449.offset.baseVal=_t2029.offset.baseVal,_e1449.style.stopColor=Ao(_t2029),l.append(_e1449);}}catch(err){_iterator1335.e(err);}finally{_iterator1335.f();}if(i.length>0){i[i.length-1][xm].after(l);}else e.maybeCreateDefsForMasterWorkspace(),e.defs.append(l);this.Xs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[xm]===l;});this.qv([a]);}},{key:"ey",value:function ey(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[xm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate gradient"+(e.length>1?"s":""));var _iterator1336=_createForOfIteratorHelper(e),_step1336;try{for(_iterator1336.s();!(_step1336=_iterator1336.n()).done;){var _i1225=_step1336.value;var _e1450=$i("svg:linearGradient");_e1450.setAttribute("id",t.generateUniqueID("gradient-"));var _iterator1337=_createForOfIteratorHelper(zo(_i1225[xm])),_step1337;try{for(_iterator1337.s();!(_step1337=_iterator1337.n()).done;){var _t2031=_step1337.value;var _i1226=$i("svg:stop");_i1226.offset.baseVal=_t2031.offset.baseVal,_i1226.style.stopColor=Ao(_t2031),_e1450.append(_i1226);}}catch(err){_iterator1337.e(err);}finally{_iterator1337.f();}n.append(_e1450),o.push(_e1450);}}catch(err){_iterator1336.e(err);}finally{_iterator1336.f();}s.after(n);{this.Xs();var _t2030=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[xm]);});this.qv(_t2030);}}},{key:"iy",value:function(){var _iy2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee148(){var t,e,i,_iterator1338,_step1338,_step1338$value,_t2035,_s701,_iterator1340,_step1340,_n484,_t2032,_s697,_i1227,_s698,_i1228,_i1229,_arr53,n,_o439,_l348,_a256,_h210,_i1230,_s699,_iterator1339,_step1339,_t2034,_i1231,_s700,_t2033;return regeneratorRuntime.wrap(function _callee148$(_context150){while(1){switch(_context150.prev=_context150.next){case 0:t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[xm];}),i=[];_iterator1338=_createForOfIteratorHelper(this.Yy());try{for(_iterator1338.s();!(_step1338=_iterator1338.n()).done;){_step1338$value=_slicedToArray(_step1338.value,2),_t2035=_step1338$value[0],_s701=_step1338$value[1];_iterator1340=_createForOfIteratorHelper(_s701);try{for(_iterator1340.s();!(_step1340=_iterator1340.n()).done;){_n484=_step1340.value;e.includes(_n484)&&!1===i.includes(_t2035)&&i.push(_t2035);}}catch(err){_iterator1340.e(err);}finally{_iterator1340.f();}}}catch(err){_iterator1338.e(err);}finally{_iterator1338.f();}if(!(0!==e.length)){_context150.next=19;break;}if(!(i.length>0)){_context150.next=12;break;}_t2032="Delete ";1===e.length?_t2032+="a gradient":_t2032+="".concat(e.length," gradients"),_t2032+=" applied to ",1===i.length?_t2032+="1 object?":_t2032+="".concat(i.length," objects?");_context150.next=9;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2032,detail:"Deleting a gradient also removes it from all objects it was applied to."});case 9:_s697=_context150.sent;if(!(-1===_s697||1===_s697)){_context150.next=12;break;}return _context150.abrupt("return");case 12:t.undoManager.checkpoint("Delete gradients"),this.mx()||this.xx();_i1227=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s698=null;for(;_s698=_i1227.nextNode();){if(k.includes(_s698.localName)){_i1228=getComputedStyle(_s698);for(_i1229=0,_arr53=["fill","stroke"];_i1229<_arr53.length;_i1229++){n=_arr53[_i1229];_o439=Go.fromString(_i1228[n]),_l348=_o439?t.masterWorkspace.querySelector(_o439.value):null,_a256=_l348&&["linearGradient","radialGradient"].includes(_l348.localName)?_l348:null,_h210=_a256?So(_a256):null;e.includes(_h210)&&(_s698.style[n]="#000000",_s698.removeAttribute(n));}}}_i1230=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s699=[];_iterator1339=_createForOfIteratorHelper(_i1230);try{for(_iterator1339.s();!(_step1339=_iterator1339.n()).done;){_t2034=_step1339.value;(e.includes(_t2034)||e.includes(So(_t2034)))&&_s699.push(_t2034);}}catch(err){_iterator1339.e(err);}finally{_iterator1339.f();}for(_i1231=0,_s700=_s699;_i1231<_s700.length;_i1231++){_t2033=_s700[_i1231];_t2033.remove();}case 19:case"end":return _context150.stop();}}},_callee148,this);}));function iy(){return _iy2.apply(this,arguments);}return iy;}()},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[xm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin gradient"+e.length>1?"s":"");var _iterator1341=_createForOfIteratorHelper(e),_step1341;try{for(_iterator1341.s();!(_step1341=_iterator1341.n()).done;){var _t2036=_step1341.value;_t2036.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1341.e(err);}finally{_iterator1341.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[xm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin gradient"+e.length>1?"s":"");var _iterator1342=_createForOfIteratorHelper(e),_step1342;try{for(_iterator1342.s();!(_step1342=_iterator1342.n()).done;){var _t2037=_step1342.value;_t2037.removeAttribute("data-bx-pinned");}}catch(err){_iterator1342.e(err);}finally{_iterator1342.f();}}}},{key:"Cv",value:function Cv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s702=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),n=t[0],_o440=_s702.indexOf(e);if("start"===i){if(_s702[_o440-1]===n)return!1;}else if("end"===i){if(_s702[_o440+1]===n)return!1;}}return!0;}},{key:"jy",value:function jy(t){var e=this.tn.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1232=getComputedStyle(s);for(var _i1233=0,_arr54=["fill","stroke"];_i1233<_arr54.length;_i1233++){var _o441=_arr54[_i1233];var _l349=Go.fromString(_i1232[_o441]),_a257=_l349?e.masterWorkspace.querySelector(_l349.value):null,_h211=_a257&&["linearGradient","radialGradient"].includes(_a257.localName)?_a257:null,_r142=_h211?So(_h211):null;if(_r142&&_r142.id===t){var _t2038=s.closest("text");_t2038?!1===n.includes(_t2038)&&n.push(_t2038):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Yy",value:function Yy(){var t=this.tn.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1234=getComputedStyle(s);for(var _i1235=0,_arr55=["fill","stroke"];_i1235<_arr55.length;_i1235++){var n=_arr55[_i1235];var _o442=Go.fromString(_i1234[n]),_l350=_o442?t.masterWorkspace.querySelector(_o442.value):null,_a258=_l350&&["linearGradient","radialGradient"].includes(_l350.localName)?_l350:null,_h212=_a258?So(_a258):null;_h212&&(!1===e.has(s)?e.set(s,[_h212]):e.get(s).push(_h212));}}}return e;}},{key:"Xs",value:function Xs(){{var _t2039=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Po(t);}),_e1451=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[xm];}),i=document.createDocumentFragment();var _iterator1343=_createForOfIteratorHelper(_t2039),_step1343;try{for(_iterator1343.s();!(_step1343=_iterator1343.n()).done;){var _s703=_step1343.value;var _t2040=zo(_s703),n="";if(0===_t2040.length)n="background: transparent";else if(1===_t2040.length){n="background: ".concat(Ao(_t2040[0]));}else if(_t2040.length>1){n="background-image: linear-gradient(90deg, "+_t2040.map(function(t){return"".concat(Ao(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _o443=Ki(_templateObject61(),n,_s703.id);_o443[xm]=_s703,_e1451.includes(_s703)&&(_o443.setAttribute("data-selected",""),_o443[bm]=Date.now()),this.yy(_o443),this.ky(_o443),i.append(_o443);}}catch(err){_iterator1343.e(err);}finally{_iterator1343.f();}this["#items"].innerHTML="",this["#items"].append(i);}this.py(),this.Jv(),this.ux();}},{key:"gy",value:function gy(){var _iterator1344=_createForOfIteratorHelper(this["#items"].children),_step1344;try{for(_iterator1344.s();!(_step1344=_iterator1344.n()).done;){var _t2041=_step1344.value;this.ky(_t2041);}}catch(err){_iterator1344.e(err);}finally{_iterator1344.f();}}},{key:"Tv",value:function Tv(){this["#search-input"].value="";var _iterator1345=_createForOfIteratorHelper(this["#items"].children),_step1345;try{for(_iterator1345.s();!(_step1345=_iterator1345.n()).done;){var _t2042=_step1345.value;this.yy(_t2042),this.ky(_t2042);}}catch(err){_iterator1345.e(err);}finally{_iterator1345.f();}this.ux();}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"yy",value:function yy(t){var e=t[xm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<gradient>",i.removeAttribute("data-custom"));else{var _t2043;_t2043=this.tn.board.currentWorkspace.id===e.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2043?(i.textContent=_t2043.textContent,i.setAttribute("data-custom","")):(i.textContent="Gradient",i.removeAttribute("data-custom"));}}},{key:"py",value:function py(){var t=this.Yy();var _iterator1346=_createForOfIteratorHelper(this["#items"].children),_step1346;try{for(_iterator1346.s();!(_step1346=_iterator1346.n()).done;){var _e1452=_step1346.value;var i=_e1452.querySelector(".counter-button"),_s704=0;var _iterator1347=_createForOfIteratorHelper(t),_step1347;try{for(_iterator1347.s();!(_step1347=_iterator1347.n()).done;){var _step1347$value=_slicedToArray(_step1347.value,2),_i1236=_step1347$value[0],n=_step1347$value[1];n.includes(_e1452[xm])&&(_s704+=1);}}catch(err){_iterator1347.e(err);}finally{_iterator1347.f();}0===_s704?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s704?"Select 1 gradient user":"Select ".concat(_s704," gradient users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s704);}}catch(err){_iterator1346.e(err);}finally{_iterator1346.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.gradients){var _iterator1348=_createForOfIteratorHelper(this["#items"].children),_step1348;try{for(_iterator1348.s();!(_step1348=_iterator1348.n()).done;){var _t2044=_step1348.value;var _e1453=_t2044[xm],i=_t2044.lastElementChild;i.hidden=!1,i.toggled=_e1453.hasAttribute("data-bx-pinned");}}catch(err){_iterator1348.e(err);}finally{_iterator1348.f();}}else{var _iterator1349=_createForOfIteratorHelper(this["#items"].children),_step1349;try{for(_iterator1349.s();!(_step1349=_iterator1349.n()).done;){var _t2045=_step1349.value;_t2045.lastElementChild.hidden=!0;}}catch(err){_iterator1349.e(err);}finally{_iterator1349.f();}}}}]);return mm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mm,"observedAttributes",["enabled"]);_defineProperty(mm,"_shadowTemplate",Ki(_templateObject402()));_defineProperty(mm,"_shadowStyleSheet",Qi(_templateObject403()));customElements.define("bx-gradientsbrowser",mm);var gm=Symbol(),fm=Symbol();var wm=/*#__PURE__*/function(_HTMLElement119){_inherits(wm,_HTMLElement119);var _super165=_createSuper(wm);_createClass(wm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function wm(){var _temp49,_this784;_classCallCheck(this,wm);(_temp49=_this784=_super165.call(this),_defineProperty(_assertThisInitialized(_this784),"commands",{selectAll:{enabled:function enabled(){return null===_this784._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this784.Uv();}},deselectAll:{enabled:function enabled(){return null===_this784._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this784.Nv();}}}),_temp49),_this784.qy=es(_this784.Xs,2e3,_assertThisInitialized(_this784)),_this784.Vv=0,_this784._shadowRoot=_this784.attachShadow({mode:"closed"}),_this784._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,wm._shadowStyleSheet],_this784._shadowRoot.append(document.importNode(wm._shadowTemplate.content,!0));var _iterator1350=_createForOfIteratorHelper(_this784._shadowRoot.querySelectorAll("[id]")),_step1350;try{for(_iterator1350.s();!(_step1350=_iterator1350.n()).done;){var _t2046=_step1350.value;_this784["#"+_t2046.id]=_t2046;}}catch(err){_iterator1350.e(err);}finally{_iterator1350.f();}_this784.addEventListener("keydown",function(t){return _this784.Tn(t);}),_this784["#items"].addEventListener("scroll",function(){return _this784.Hv();}),_this784["#items"].addEventListener("contextmenu",function(t){return _this784.ap(t);}),_this784["#items"].addEventListener("pointerdown",function(t){return _this784.op(t);}),_this784["#items"].addEventListener("click",function(t){return _this784.lp(t);}),_this784["#search-input"].addEventListener("input",function(){return _this784.Wv();}),_this784["#developer-mode-button"].addEventListener("toggle",function(){return _this784.tx();}),_this784["#add-menu"].addEventListener("click",function(t){return _this784.bv(t);}),_this784["#add-menu"].addEventListener("open",function(){return _this784.Yv();});return _this784;}_createClass(wm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this785=this;this.Js.addEventListener("configchange",this.ln=function(t){_this785.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this785.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this785.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this["#developer-mode-button"].toggled=this.Js.getConfig("bx-patternsbrowser:developerMode",!1),this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("artworkchange",this.Ph),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail13=t.detail,e=_t$detail13.key,i=_t$detail13.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced";var _iterator1351=_createForOfIteratorHelper(e),_step1351;try{for(_iterator1351.s();!(_step1351=_iterator1351.n()).done;){var _t2047=_step1351.value;var _e1454=_t2047.target.nodeName,_s705=_t2047.addedNodes[0]?_t2047.addedNodes[0].nodeName:null,n=_t2047.removedNodes[0]?_t2047.removedNodes[0].nodeName:null,_o444=_t2047.attributeName;if("pattern"===_e1454){if("bx-title"===_s705||"bx-title"===n){i="now";break;}if("id"===_o444){i="now";break;}if("data-bx-pinned"===_o444){i="now";break;}}else if("bx-title"===_e1454){if(_s705||n){i="now";break;}}else if("pattern"===_s705||"pattern"===n){i="now";break;}}}catch(err){_iterator1351.e(err);}finally{_iterator1351.f();}"now"===i?this.Xs():"debounced"===i&&this.qy();}},{key:"Zv",value:function Zv(){this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop;}},{key:"ap",value:function(){var _ap4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee149(t){var e,i,_s706,n;return regeneratorRuntime.wrap(function _callee149$(_context151){while(1){switch(_context151.prev=_context151.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context151.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.qv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[gm];});_s706=e[gm];_context151.next=7;return this.Js.openContextMenu([{label:"Edit Pattern",value:"edit",disabled:1!==i.length||this.tn.board.currentWorkspace.id===_s706.id},{label:"Edit Pattern ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Pattern Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Delete Pattern"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Pattern"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Pattern"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Pattern Users",value:"select-users",disabled:1!==i.length}]);case 7:n=_context151.sent;"edit"===n?this.tn.board.editPattern(_s706.id):"edit-id"===n?this.ty(_s706.id,"id"):"edit-title"===n?this.ty(_s706.id,"title"):"delete"===n?this.iy():"pin"===n?this.sy():"unpin"===n?this.ny():"select-users"===n&&this.Xy(_s706.id);case 9:case"end":return _context151.stop();}}},_callee149,this);}));function ap(_x275){return _ap4.apply(this,arguments);}return ap;}()},{key:"lp",value:function lp(t){t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys15=this.Js.modKeys,e=_this$Js$modKeys15.ctrl,i=_this$Js$modKeys15.shift;if(!1===e&&!1===i){var _e1455=t.target.closest(".item"),_i1237=t.target.closest(".thumbnail"),_s707=t.target.closest(".counter-button"),n=t.target.closest(".pin-button"),_o445=_e1455[gm].id;_s707?this.Xy(_o445):n?n.toggled?this.Zy(_o445):this.Ky(_o445):_i1237?t.detail%2==0&&this.tn.board.editPattern(_o445):t.detail%2==0&&this.ty(_o445);}}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1456=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1456&&this.qv([]);}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this786=this;var _this$Js$modKeys16=this.Js.modKeys,e=_this$Js$modKeys16.ctrl,i=_this$Js$modKeys16.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[fm]=Date.now());else if(!0===i){var _t2048=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1457=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1457.length>0){var _i1238=_t2048.indexOf(s),_n485=_e1457.sort(function(t,e){return e[fm]-t[fm];})[0],_o446=_t2048.indexOf(_n485),_l351=[];if(_i1238>_o446?_l351=_toConsumableArray(_t2048).slice(_o446,_i1238+1):_i1238<_o446&&(_l351=_toConsumableArray(_t2048).slice(_i1238,_o446+1).reverse()),_l351=_l351.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l351.length>0){var _iterator1352=_createForOfIteratorHelper(_l351),_step1352;try{for(_iterator1352.s();!(_step1352=_iterator1352.n()).done;){var _t2049=_step1352.value;_t2049.setAttribute("data-selected",""),_t2049[fm]=Date.now();}}catch(err){_iterator1352.e(err);}finally{_iterator1352.f();}}}}else{var _t2052,_e1459,_i1239=!1;window.addEventListener("pointermove",_t2052=function _t2050(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)>=3){if(window.removeEventListener("pointermove",_t2052),window.removeEventListener("pointerup",_e1459),!1===s.hasAttribute("data-selected")){var _iterator1353=_createForOfIteratorHelper(_this786["#items"].children),_step1353;try{for(_iterator1353.s();!(_step1353=_iterator1353.n()).done;){var _t2051=_step1353.value;_t2051===s?(_t2051.setAttribute("data-selected",""),_t2051[fm]=Date.now()):_t2051.removeAttribute("data-selected");}}catch(err){_iterator1353.e(err);}finally{_iterator1353.f();}}_this786.Sv(o),_i1239=!0;}}),window.addEventListener("pointerup",_e1459=function _e1458(){if(window.removeEventListener("pointermove",_t2052),window.removeEventListener("pointerup",_e1459),!1===_i1239){var _iterator1354=_createForOfIteratorHelper(_this786["#items"].children),_step1354;try{for(_iterator1354.s();!(_step1354=_iterator1354.n()).done;){var _t2053=_step1354.value;_t2053===s?(_t2053.setAttribute("data-selected",""),_t2053[fm]=Date.now()):_t2053.removeAttribute("data-selected");}}catch(err){_iterator1354.e(err);}finally{_iterator1354.f();}}});}}},{key:"Sv",value:function Sv(t){var _this787=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this787["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this787.Js.pointerClientPoint,e=_this787._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this787._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1460=l.getBoundingClientRect();if(a=t.y<_e1460.y+_e1460.height/2?"start":"end",_this787.Cv(n,l,a)){var _t2054=l.offsetTop-_this787["#items"].scrollTop;"end"===a&&(_t2054+=_e1460.height),_this787["#drop-indicator"].hidden=!1,_this787["#drop-indicator"].style.top=_t2054-1+"px";}else l=null,_this787["#drop-indicator"].hidden=!0;}else _this787["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s709){function s(_x276){return _s709.apply(this,arguments);}s.toString=function(){return _s709.toString();};return s;}(function(t){if(_this787["#items"].removeEventListener("pointermove",e),_this787["#items"].removeEventListener("scroll",i),_this787["#items"].removeEventListener("lostpointercapture",s),_this787["#items"].style.cursor=null,_this787["#drop-indicator"].hidden=!0,c(),_this787.tn.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1461=n[0][gm],_i1240=_this787.tn.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s708=_this787.Js.modKeys.shift;_i1240&&k.includes(_i1240.localName)&&(_s708?(_this787.tn.board.undoManager.checkpoint("Apply pattern stroke"),_i1240.style.stroke="url(#".concat(_e1461.id,")")):(_this787.tn.board.undoManager.checkpoint("Apply pattern fill"),_i1240.style.fill="url(#".concat(_e1461.id,")")),_this787.py());}}else if(l){_this787.tn.board.undoManager.checkpoint("Rearrange patterns");var _t2055=document.createDocumentFragment(),_e1462=l[gm];var _iterator1355=_createForOfIteratorHelper(n),_step1355;try{for(_iterator1355.s();!(_step1355=_iterator1355.n()).done;){var _i1241=_step1355.value;_i1241[gm]!==_e1462&&_t2055.append(_i1241[gm]);}}catch(err){_iterator1355.e(err);}finally{_iterator1355.f();}"start"===a?_e1462.before(_t2055):_e1462.after(_t2055);}}));}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus"))return;var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t2056=this["#items"].querySelector(".item[data-label-edited]"),_e1463=this["#items"].querySelector(".item[data-selected]");_t2056?this.focus():_e1463&&this.ty(_e1463[gm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.iy());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx()||this.uy());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx()||this.xy());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx(!0));}}},{key:"tx",value:function tx(){this.Js.setConfig("bx-patternsbrowser:developerMode",this["#developer-mode-button"].toggled),this.Tv(),this.focus();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&("add-pattern"===e.value?this.by():"add-pattern-from-objects"===e.value&&this.Qy());}},{key:"Yv",value:function Yv(){var t=this.tn.board.selectedObjectElements;this["#add-pattern-from-objects-menu-item"].disabled=0===t.length;}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"ty",value:function ty(t){var _this788=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[gm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2057=this["#items"].querySelector(".item[data-label-edited]");if(_t2057){if(_t2057===i)return;this.wy();}}this.qv([i]);var s=this.tn.board,n=i.querySelector(".label"),o=i[gm],l=this["#developer-mode-button"].toggled?"Pattern ID":"Pattern title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Ki(_templateObject62(),h,l);n.after(r),r.selectAll(),ss(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this788.wy();}),r.validate=function(){var t=null;if(_this788["#developer-mode-button"].toggled){var _e1464=r.value.trim();if(_e1464.startsWith("#")&&(_e1464=_e1464.substring(1)),0===_e1464.length)t="Pattern must have ID";else if(qi(_e1464)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1464)))&&o.id!==_e1464&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"wy",value:function wy(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1465=this.tn.board,i=t.querySelector(".label"),_s710=t.querySelector("x-input"),n=t[gm];if(_s710.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s710.error)if(this["#developer-mode-button"].toggled){var _t2058=n.getAttribute("id").trim(),_i1242=_s710.value.trim().toLowerCase();if(_i1242.startsWith("#")&&(_i1242=_i1242.substring(1)),_t2058!==_i1242){_e1465.undoManager.checkpoint("Pattern ID");var _s711=document.createNodeIterator(_e1465.workspaces,NodeFilter.SHOW_ELEMENT),_n486=null;for(;_n486=_s711.nextNode();){"pattern"===_n486.localName?(_n486.id===_t2058&&_n486.setAttribute("id",_i1242),_n486.href.baseVal==="#"+_t2058&&_n486.setAttribute("href","#"+_i1242)):"g"===_n486.localName&&"pattern"===_n486.getAttribute("data-bx-workspace")&&_n486.id===_t2058&&_n486.setAttribute("id",_i1242);{var _e1466=getComputedStyle(_n486);for(var _i1243=0,_arr56=["fill","stroke"];_i1243<_arr56.length;_i1243++){var _s712=_arr56[_i1243];var _o447=_e1466.getPropertyValue(_s712);if(_o447&&_o447.startsWith("url(")){_o447.substring(6,_o447.length-2)===_t2058&&_n486.style.setProperty(_s712,"url(#".concat(_i1242,")"));}}}}}}else{var _t2059=_e1465.currentWorkspace.id===n.id?_e1465.currentWorkspace:n,_i1244=_t2059.querySelector(":scope > bx-title"),_o448=_s710.value.trim();if(_i1244){_i1244.textContent!==_o448&&(_e1465.undoManager.checkpoint("Pattern title"),""===_o448?_i1244.remove():_i1244.textContent=_o448);}else""!==_o448&&(_e1465.undoManager.checkpoint("Pattern title"),_i1244=$i("svg:bx-title"),_i1244.textContent=_o448,_t2059.prepend(_i1244));}}}},{key:"Zy",value:function Zy(t){this.tn.board.undoManager.checkpoint("Pin Pattern"),this.tn.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Ky",value:function Ky(t){this.tn.board.undoManager.checkpoint("Unpin Pattern"),this.tn.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"qv",value:function qv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1356=_createForOfIteratorHelper(this["#items"].children),_step1356;try{for(_iterator1356.s();!(_step1356=_iterator1356.n()).done;){var _e1467=_step1356.value;t.includes(_e1467)?(_e1467.setAttribute("data-selected",""),_e1467[fm]=Date.now()):_e1467.removeAttribute("data-selected");}}catch(err){_iterator1356.e(err);}finally{_iterator1356.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s713=e[0],n=i.indexOf(_s713),_o449=i[n-1];if(_o449){if(_o449.scrollIntoViewIfNeeded(),t)_o449.setAttribute("data-selected",""),_o449[fm]=Date.now();else{var _iterator1357=_createForOfIteratorHelper(i),_step1357;try{for(_iterator1357.s();!(_step1357=_iterator1357.n()).done;){var _t2060=_step1357.value;_t2060===_o449?(_t2060.setAttribute("data-selected",""),_t2060[fm]=Date.now()):_t2060.removeAttribute("data-selected");}}catch(err){_iterator1357.e(err);}finally{_iterator1357.f();}}return!0;}}return!1;}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s714=e[e.length-1],n=i.indexOf(_s714),_o450=i[n+1];if(_o450){if(_o450.scrollIntoViewIfNeeded(),t)_o450.setAttribute("data-selected",""),_o450[fm]=Date.now();else{var _iterator1358=_createForOfIteratorHelper(i),_step1358;try{for(_iterator1358.s();!(_step1358=_iterator1358.n()).done;){var _t2061=_step1358.value;_t2061===_o450?(_t2061.setAttribute("data-selected",""),_t2061[fm]=Date.now()):_t2061.removeAttribute("data-selected");}}catch(err){_iterator1358.e(err);}finally{_iterator1358.f();}}return!0;}}return!1;}},{key:"uy",value:function uy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1359=_createForOfIteratorHelper(t),_step1359;try{for(_iterator1359.s();!(_step1359=_iterator1359.n()).done;){var i=_step1359.value;i===e?(i.setAttribute("data-selected",""),i[fm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1359.e(err);}finally{_iterator1359.f();}return!0;}return!1;}},{key:"xy",value:function xy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1360=_createForOfIteratorHelper(t),_step1360;try{for(_iterator1360.s();!(_step1360=_iterator1360.n()).done;){var i=_step1360.value;i===e?(i.setAttribute("data-selected",""),i[fm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1360.e(err);}finally{_iterator1360.f();}return!0;}return!1;}},{key:"Uv",value:function Uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.qv(t,!1);}},{key:"Nv",value:function Nv(){this.qv([],!1);}},{key:"by",value:function by(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=$i("svg:pattern");if(i.setAttribute("id",t.generateUniqueID("pattern-")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100"),i.setAttribute("height","100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][gm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.Xs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[gm]===i;});this.qv([s]);}},{key:"Qy",value:function Qy(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=He(t.outermostSelectedObjectElements.map(function(t){return Ei(t);}));i=Ve(i,Yt(t.currentWorkspace).inverse());var s=-i.x,n=-i.y,o=J(i.width,4),l=J(i.height,4),a=$i("svg:pattern");a.setAttribute("id",t.generateUniqueID("pattern-")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("width","100"),a.setAttribute("height","100"),a.setAttribute("data-bx-pinned","true");var _iterator1361=_createForOfIteratorHelper(Ni(t.outermostSelectedObjectElements)),_step1361;try{for(_iterator1361.s();!(_step1361=_iterator1361.n()).done;){var _e1468=_step1361.value;var _i1245=new DOMMatrix();_i1245.translateSelf(s,n),_i1245.multiplySelf(Wt(_e1468,t.currentWorkspace)),_e1468.setAttribute("transform",_i1245),a.append(_e1468);}}catch(err){_iterator1361.e(err);}finally{_iterator1361.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][gm].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.Xs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[gm]===a;});this.qv([h]);}},{key:"iy",value:function(){var _iy3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee150(){var t,e,i,_iterator1362,_step1362,_step1362$value,_t2065,_s719,_iterator1364,_step1364,_n487,_t2062,_s715,_i1246,_s716,_i1247,_i1248,_arr57,n,_o451,_l352,_a259,_h213,_i1249,_s717,_iterator1363,_step1363,_t2064,_i1250,_s718,_t2063;return regeneratorRuntime.wrap(function _callee150$(_context152){while(1){switch(_context152.prev=_context152.next){case 0:t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}),i=[];_iterator1362=_createForOfIteratorHelper(this.Jy());try{for(_iterator1362.s();!(_step1362=_iterator1362.n()).done;){_step1362$value=_slicedToArray(_step1362.value,2),_t2065=_step1362$value[0],_s719=_step1362$value[1];_iterator1364=_createForOfIteratorHelper(_s719);try{for(_iterator1364.s();!(_step1364=_iterator1364.n()).done;){_n487=_step1364.value;e.includes(_n487)&&!1===i.includes(_t2065)&&i.push(_t2065);}}catch(err){_iterator1364.e(err);}finally{_iterator1364.f();}}}catch(err){_iterator1362.e(err);}finally{_iterator1362.f();}if(!(0!==e.length)){_context152.next=19;break;}if(!(i.length>0)){_context152.next=12;break;}_t2062="Delete ";1===e.length?_t2062+="a pattern":_t2062+="".concat(e.length," patterns"),_t2062+=" applied to ",1===i.length?_t2062+="1 object?":_t2062+="".concat(i.length," objects?");_context152.next=9;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2062,detail:"Deleting a pattern also removes it from all objects it was applied to."});case 9:_s715=_context152.sent;if(!(-1===_s715||1===_s715)){_context152.next=12;break;}return _context152.abrupt("return");case 12:t.undoManager.checkpoint("Delete patterns"),this.mx()||this.xx(),"pattern"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editPatternEnd(!1);_i1246=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s716=null;for(;_s716=_i1246.nextNode();){if(k.includes(_s716.localName)){_i1247=getComputedStyle(_s716);for(_i1248=0,_arr57=["fill","stroke"];_i1248<_arr57.length;_i1248++){n=_arr57[_i1248];_o451=Go.fromString(_i1247[n]),_l352=_o451?t.masterWorkspace.querySelector(_o451.value):null,_a259=_l352&&"pattern"===_l352.localName?_l352:null,_h213=_a259?jo(_a259):null;e.includes(_h213)&&(_s716.style[n]="#000000",_s716.removeAttribute(n));}}}_i1249=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern")),_s717=[];_iterator1363=_createForOfIteratorHelper(_i1249);try{for(_iterator1363.s();!(_step1363=_iterator1363.n()).done;){_t2064=_step1363.value;(e.includes(_t2064)||e.includes(jo(_t2064)))&&_s717.push(_t2064);}}catch(err){_iterator1363.e(err);}finally{_iterator1363.f();}for(_i1250=0,_s718=_s717;_i1250<_s718.length;_i1250++){_t2063=_s718[_i1250];_t2063.remove();}case 19:case"end":return _context152.stop();}}},_callee150,this);}));function iy(){return _iy3.apply(this,arguments);}return iy;}()},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin pattern"+e.length>1?"s":"");var _iterator1365=_createForOfIteratorHelper(e),_step1365;try{for(_iterator1365.s();!(_step1365=_iterator1365.n()).done;){var _t2066=_step1365.value;_t2066.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1365.e(err);}finally{_iterator1365.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin pattern"+e.length>1?"s":"");var _iterator1366=_createForOfIteratorHelper(e),_step1366;try{for(_iterator1366.s();!(_step1366=_iterator1366.n()).done;){var _t2067=_step1366.value;_t2067.removeAttribute("data-bx-pinned");}}catch(err){_iterator1366.e(err);}finally{_iterator1366.f();}}}},{key:"Cv",value:function Cv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s720=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),n=t[0],_o452=_s720.indexOf(e);if("start"===i){if(_s720[_o452-1]===n)return!1;}else if("end"===i){if(_s720[_o452+1]===n)return!1;}}return!0;}},{key:"Xy",value:function Xy(t){var e=this.tn.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1251=getComputedStyle(s);for(var _i1252=0,_arr58=["fill","stroke"];_i1252<_arr58.length;_i1252++){var _o453=_arr58[_i1252];var _l353=Go.fromString(_i1251[_o453]),_a260=_l353?e.masterWorkspace.querySelector(_l353.value):null,_h214=_a260&&"pattern"===_a260.localName?_a260:null,_r143=_h214?jo(_h214):null;if(_r143&&_r143.id===t){var _t2068=s.closest("text");_t2068?!1===n.includes(_t2068)&&n.push(_t2068):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Jy",value:function Jy(){var t=this.tn.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(k.includes(s.localName)){var _i1253=getComputedStyle(s);for(var _i1254=0,_arr59=["fill","stroke"];_i1254<_arr59.length;_i1254++){var n=_arr59[_i1254];var _o454=Go.fromString(_i1253[n]),_l354=_o454?t.masterWorkspace.querySelector(_o454.value):null,_a261=_l354&&"pattern"===_l354.localName?_l354:null,_h215=_a261?jo(_a261):null;_h215&&(!1===e.has(s)?e.set(s,[_h215]):e.get(s).push(_h215));}}}return e;}},{key:"Xs",value:function Xs(){{var _t2069=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return Ho(t);}),_e1469=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[gm];}),i=document.createDocumentFragment();var _iterator1367=_createForOfIteratorHelper(_t2069),_step1367;try{for(_iterator1367.s();!(_step1367=_iterator1367.n()).done;){var _s721=_step1367.value;var _t2070=Ki(_templateObject63(),_s721.id,_s721.id);_t2070[gm]=_s721,_e1469.includes(_s721)&&(_t2070.setAttribute("data-selected",""),_t2070[fm]=Date.now()),this.yy(_t2070),this.ky(_t2070),i.append(_t2070);}}catch(err){_iterator1367.e(err);}finally{_iterator1367.f();}this["#items"].innerHTML="",this["#items"].append(i);}this["#mirror-svg"].innerHTML=this.tn.board.masterWorkspace.innerHTML,this.py(),this.Jv(),this.ux();}},{key:"gy",value:function gy(){var _iterator1368=_createForOfIteratorHelper(this["#items"].children),_step1368;try{for(_iterator1368.s();!(_step1368=_iterator1368.n()).done;){var _t2071=_step1368.value;this.ky(_t2071);}}catch(err){_iterator1368.e(err);}finally{_iterator1368.f();}}},{key:"Tv",value:function Tv(){this["#search-input"].value="";var _iterator1369=_createForOfIteratorHelper(this["#items"].children),_step1369;try{for(_iterator1369.s();!(_step1369=_iterator1369.n()).done;){var _t2072=_step1369.value;this.yy(_t2072),this.ky(_t2072);}}catch(err){_iterator1369.e(err);}finally{_iterator1369.f();}this.ux();}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"yy",value:function yy(t){var e=t[gm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<pattern>",i.removeAttribute("data-custom"));else{var _t2073;_t2073=this.tn.board.currentWorkspace.id===e.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2073?(i.textContent=_t2073.textContent,i.setAttribute("data-custom","")):(i.textContent="Pattern",i.removeAttribute("data-custom"));}}},{key:"py",value:function py(){var t=this.Jy();var _iterator1370=_createForOfIteratorHelper(this["#items"].children),_step1370;try{for(_iterator1370.s();!(_step1370=_iterator1370.n()).done;){var _e1470=_step1370.value;var i=_e1470.querySelector(".counter-button"),_s722=0;var _iterator1371=_createForOfIteratorHelper(t),_step1371;try{for(_iterator1371.s();!(_step1371=_iterator1371.n()).done;){var _step1371$value=_slicedToArray(_step1371.value,2),_i1255=_step1371$value[0],n=_step1371$value[1];n.includes(_e1470[gm])&&(_s722+=1);}}catch(err){_iterator1371.e(err);}finally{_iterator1371.f();}0===_s722?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s722?"Select 1 pattern user":"Select ".concat(_s722," pattern users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s722);}}catch(err){_iterator1370.e(err);}finally{_iterator1370.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.patterns){var _iterator1372=_createForOfIteratorHelper(this["#items"].children),_step1372;try{for(_iterator1372.s();!(_step1372=_iterator1372.n()).done;){var _t2074=_step1372.value;var _e1471=_t2074[gm],i=_t2074.lastElementChild;i.hidden=!1,i.toggled=_e1471.hasAttribute("data-bx-pinned");}}catch(err){_iterator1372.e(err);}finally{_iterator1372.f();}}else{var _iterator1373=_createForOfIteratorHelper(this["#items"].children),_step1373;try{for(_iterator1373.s();!(_step1373=_iterator1373.n()).done;){var _t2075=_step1373.value;_t2075.lastElementChild.hidden=!0;}}catch(err){_iterator1373.e(err);}finally{_iterator1373.f();}}}}]);return wm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wm,"observedAttributes",["enabled"]);_defineProperty(wm,"_shadowTemplate",Ki(_templateObject404()));_defineProperty(wm,"_shadowStyleSheet",Qi(_templateObject405()));customElements.define("bx-patternsbrowser",wm);var vm=Symbol(),ym=Symbol();var km=/*#__PURE__*/function(_HTMLElement120){_inherits(km,_HTMLElement120);var _super166=_createSuper(km);_createClass(km,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function km(){var _temp50,_this789;_classCallCheck(this,km);(_temp50=_this789=_super166.call(this),_defineProperty(_assertThisInitialized(_this789),"commands",{selectAll:{enabled:function enabled(){return null===_this789._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this789.Uv();}},deselectAll:{enabled:function enabled(){return null===_this789._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this789.Nv();}}}),_temp50),_this789.qy=es(_this789.Xs,2e3,_assertThisInitialized(_this789)),_this789.Vv=0,_this789._shadowRoot=_this789.attachShadow({mode:"closed"}),_this789._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,km._shadowStyleSheet],_this789._shadowRoot.append(document.importNode(km._shadowTemplate.content,!0));var _iterator1374=_createForOfIteratorHelper(_this789._shadowRoot.querySelectorAll("[id]")),_step1374;try{for(_iterator1374.s();!(_step1374=_iterator1374.n()).done;){var _t2076=_step1374.value;_this789["#"+_t2076.id]=_t2076;}}catch(err){_iterator1374.e(err);}finally{_iterator1374.f();}_this789.addEventListener("keydown",function(t){return _this789.Tn(t);}),_this789["#items"].addEventListener("scroll",function(){return _this789.Hv();}),_this789["#items"].addEventListener("contextmenu",function(t){return _this789.ap(t);}),_this789["#items"].addEventListener("pointerdown",function(t){return _this789.op(t);}),_this789["#items"].addEventListener("click",function(t){return _this789.lp(t);}),_this789["#search-input"].addEventListener("input",function(){return _this789.Wv();}),_this789["#developer-mode-button"].addEventListener("toggle",function(){return _this789.tx();}),_this789["#add-menu"].addEventListener("click",function(t){return _this789.bv(t);}),_this789["#add-menu"].addEventListener("open",function(){return _this789.Yv();});return _this789;}_createClass(km,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this790=this;this.Js.addEventListener("configchange",this.ln=function(t){_this790.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this790.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this790.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this["#developer-mode-button"].toggled=this.Js.getConfig("bx-markersbrowser:developerMode",!1),this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("artworkchange",this.Ph),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail14=t.detail,e=_t$detail14.key,i=_t$detail14.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced";var _iterator1375=_createForOfIteratorHelper(e),_step1375;try{for(_iterator1375.s();!(_step1375=_iterator1375.n()).done;){var _t2077=_step1375.value;var _e1472=_t2077.target.nodeName,_s723=_t2077.addedNodes[0]?_t2077.addedNodes[0].nodeName:null,n=_t2077.removedNodes[0]?_t2077.removedNodes[0].nodeName:null,_o455=_t2077.attributeName;if("marker"===_e1472){if("bx-title"===_s723||"bx-title"===n){i="now";break;}if("id"===_o455){i="now";break;}if("data-bx-pinned"===_o455){i="now";break;}}else if("bx-title"===_e1472){if(_s723||n){i="now";break;}}else if("marker"===_s723||"marker"===n){i="now";break;}}}catch(err){_iterator1375.e(err);}finally{_iterator1375.f();}"now"===i?this.Xs():"debounced"===i&&this.qy();}},{key:"Zv",value:function Zv(){this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop;}},{key:"ap",value:function(){var _ap5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee151(t){var e,i,_s724,n;return regeneratorRuntime.wrap(function _callee151$(_context153){while(1){switch(_context153.prev=_context153.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context153.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.qv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[vm];});_s724=e[vm];_context153.next=7;return this.Js.openContextMenu([{label:"Edit Marker",value:"edit",disabled:1!==i.length||this.tn.board.currentWorkspace.id===_s724.id},{label:"Edit Marker ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Marker Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Delete Marker"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Marker"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Marker"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Marker Users",value:"select-users",disabled:1!==i.length}]);case 7:n=_context153.sent;"edit"===n?this.tn.board.editMarker(_s724.id):"edit-id"===n?this.ty(_s724.id,"id"):"edit-title"===n?this.ty(_s724.id,"title"):"delete"===n?this.iy():"pin"===n?this.sy():"unpin"===n?this.ny():"select-users"===n&&this.tk(_s724.id);case 9:case"end":return _context153.stop();}}},_callee151,this);}));function ap(_x277){return _ap5.apply(this,arguments);}return ap;}()},{key:"lp",value:function lp(t){t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys17=this.Js.modKeys,e=_this$Js$modKeys17.ctrl,i=_this$Js$modKeys17.shift;if(!1===e&&!1===i){var _e1473=t.target.closest(".item"),_i1256=t.target.closest(".thumbnail"),_s725=t.target.closest(".counter-button"),n=t.target.closest(".pin-button"),_o456=_e1473[vm].id;_s725?this.tk(_o456):n?n.toggled?this.ek(_o456):this.ik(_o456):_i1256?t.detail%2==0&&this.tn.board.editMarker(_o456):t.detail%2==0&&this.ty(_o456);}}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1474=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1474&&this.qv([]);}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this791=this;var _this$Js$modKeys18=this.Js.modKeys,e=_this$Js$modKeys18.ctrl,i=_this$Js$modKeys18.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[ym]=Date.now());else if(!0===i){var _t2078=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1475=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1475.length>0){var _i1257=_t2078.indexOf(s),_n488=_e1475.sort(function(t,e){return e[ym]-t[ym];})[0],_o457=_t2078.indexOf(_n488),_l355=[];if(_i1257>_o457?_l355=_toConsumableArray(_t2078).slice(_o457,_i1257+1):_i1257<_o457&&(_l355=_toConsumableArray(_t2078).slice(_i1257,_o457+1).reverse()),_l355=_l355.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l355.length>0){var _iterator1376=_createForOfIteratorHelper(_l355),_step1376;try{for(_iterator1376.s();!(_step1376=_iterator1376.n()).done;){var _t2079=_step1376.value;_t2079.setAttribute("data-selected",""),_t2079[ym]=Date.now();}}catch(err){_iterator1376.e(err);}finally{_iterator1376.f();}}}}else{var _t2082,_e1477,_i1258=!1;window.addEventListener("pointermove",_t2082=function _t2080(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)>=3){if(window.removeEventListener("pointermove",_t2082),window.removeEventListener("pointerup",_e1477),!1===s.hasAttribute("data-selected")){var _iterator1377=_createForOfIteratorHelper(_this791["#items"].children),_step1377;try{for(_iterator1377.s();!(_step1377=_iterator1377.n()).done;){var _t2081=_step1377.value;_t2081===s?(_t2081.setAttribute("data-selected",""),_t2081[ym]=Date.now()):_t2081.removeAttribute("data-selected");}}catch(err){_iterator1377.e(err);}finally{_iterator1377.f();}}_this791.Sv(o),_i1258=!0;}}),window.addEventListener("pointerup",_e1477=function _e1476(){if(window.removeEventListener("pointermove",_t2082),window.removeEventListener("pointerup",_e1477),!1===_i1258){var _iterator1378=_createForOfIteratorHelper(_this791["#items"].children),_step1378;try{for(_iterator1378.s();!(_step1378=_iterator1378.n()).done;){var _t2083=_step1378.value;_t2083===s?(_t2083.setAttribute("data-selected",""),_t2083[ym]=Date.now()):_t2083.removeAttribute("data-selected");}}catch(err){_iterator1378.e(err);}finally{_iterator1378.f();}}});}}},{key:"Sv",value:function Sv(t){var _this792=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this792["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this792.Js.pointerClientPoint,e=_this792._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this792._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1478=l.getBoundingClientRect();if(a=t.y<_e1478.y+_e1478.height/2?"start":"end",_this792.Cv(n,l,a)){var _t2084=l.offsetTop-_this792["#items"].scrollTop;"end"===a&&(_t2084+=_e1478.height),_this792["#drop-indicator"].hidden=!1,_this792["#drop-indicator"].style.top=_t2084-1+"px";}else l=null,_this792["#drop-indicator"].hidden=!0;}else _this792["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s726){function s(_x278){return _s726.apply(this,arguments);}s.toString=function(){return _s726.toString();};return s;}(function(t){if(_this792["#items"].removeEventListener("pointermove",e),_this792["#items"].removeEventListener("scroll",i),_this792["#items"].removeEventListener("lostpointercapture",s),_this792["#items"].style.cursor=null,_this792["#drop-indicator"].hidden=!0,c(),_this792.tn.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1479=n[0][vm],_i1259=_this792.tn.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1259&&T.includes(_i1259.localName)&&(_this792.tn.board.undoManager.checkpoint("Apply marker"),_i1259.style.markerMid="url(#".concat(_e1479.id,")"),_this792.py());}}else if(l){_this792.tn.board.undoManager.checkpoint("Rearrange markers");var _t2085=document.createDocumentFragment(),_e1480=l[vm];var _iterator1379=_createForOfIteratorHelper(n),_step1379;try{for(_iterator1379.s();!(_step1379=_iterator1379.n()).done;){var _i1260=_step1379.value;_i1260[vm]!==_e1480&&_t2085.append(_i1260[vm]);}}catch(err){_iterator1379.e(err);}finally{_iterator1379.f();}"start"===a?_e1480.before(_t2085):_e1480.after(_t2085);}}));}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus"))return;var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t2086=this["#items"].querySelector(".item[data-label-edited]"),_e1481=this["#items"].querySelector(".item[data-selected]");_t2086?this.focus():_e1481&&this.ty(_e1481[vm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.iy());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx()||this.uy());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx()||this.xy());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx(!0));}}},{key:"tx",value:function tx(){this.Js.setConfig("bx-markersbrowser:developerMode",this["#developer-mode-button"].toggled),this.Tv(),this.focus();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&("add-marker"===e.value?this.by():"add-marker-from-objects"===e.value&&this.Qy());}},{key:"Yv",value:function Yv(){var t=this.tn.board.selectedObjectElements;this["#add-marker-from-objects-menu-item"].disabled=0===t.length;}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"ty",value:function ty(t){var _this793=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[vm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2087=this["#items"].querySelector(".item[data-label-edited]");if(_t2087){if(_t2087===i)return;this.wy();}}this.qv([i]);var s=this.tn.board,n=i.querySelector(".label"),o=i[vm],l=this["#developer-mode-button"].toggled?"Marker ID":"Marker title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Ki(_templateObject64(),h,l);n.after(r),r.selectAll(),ss(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this793.wy();}),r.validate=function(){var t=null;if(_this793["#developer-mode-button"].toggled){var _e1482=r.value.trim();if(_e1482.startsWith("#")&&(_e1482=_e1482.substring(1)),0===_e1482.length)t="Marker must have ID";else if(qi(_e1482)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1482)))&&o.id!==_e1482&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"wy",value:function wy(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1483=this.tn.board,i=t.querySelector(".label"),_s727=t.querySelector("x-input"),n=t[vm];if(_s727.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s727.error)if(this["#developer-mode-button"].toggled){var _t2088=n.getAttribute("id").trim(),_i1261=_s727.value.trim().toLowerCase();if(_i1261.startsWith("#")&&(_i1261=_i1261.substring(1)),_t2088!==_i1261){_e1483.undoManager.checkpoint("Marker ID");var _s728=document.createNodeIterator(_e1483.workspaces,NodeFilter.SHOW_ELEMENT),_n489=null;for(;_n489=_s728.nextNode();){"marker"===_n489.localName?_n489.id===_t2088&&_n489.setAttribute("id",_i1261):"g"===_n489.localName&&"marker"===_n489.getAttribute("data-bx-workspace")&&_n489.id===_t2088&&_n489.setAttribute("id",_i1261);{var _e1484=getComputedStyle(_n489);for(var _i1262=0,_arr60=["marker-start","marker-mid","marker-end"];_i1262<_arr60.length;_i1262++){var _s729=_arr60[_i1262];var _o458=_e1484.getPropertyValue(_s729);if(_o458&&_o458.startsWith("url(")){_o458.substring(6,_o458.length-2)===_t2088&&_n489.style.setProperty(_s729,"url(#".concat(_i1261,")"));}}}}}}else{var _t2089=_e1483.currentWorkspace.id===n.id?_e1483.currentWorkspace:n,_i1263=_t2089.querySelector(":scope > bx-title"),_o459=_s727.value.trim();if(_i1263){_i1263.textContent!==_o459&&(_e1483.undoManager.checkpoint("Marker title"),""===_o459?_i1263.remove():_i1263.textContent=_o459);}else""!==_o459&&(_e1483.undoManager.checkpoint("Marker title"),_i1263=$i("svg:bx-title"),_i1263.textContent=_o459,_t2089.prepend(_i1263));}}}},{key:"ek",value:function ek(t){this.tn.board.undoManager.checkpoint("Pin Marker"),this.tn.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"ik",value:function ik(t){this.tn.board.undoManager.checkpoint("Unpin Marker"),this.tn.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"qv",value:function qv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1380=_createForOfIteratorHelper(this["#items"].children),_step1380;try{for(_iterator1380.s();!(_step1380=_iterator1380.n()).done;){var _e1485=_step1380.value;t.includes(_e1485)?(_e1485.setAttribute("data-selected",""),_e1485[ym]=Date.now()):_e1485.removeAttribute("data-selected");}}catch(err){_iterator1380.e(err);}finally{_iterator1380.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s730=e[0],n=i.indexOf(_s730),_o460=i[n-1];if(_o460){if(_o460.scrollIntoViewIfNeeded(),t)_o460.setAttribute("data-selected",""),_o460[ym]=Date.now();else{var _iterator1381=_createForOfIteratorHelper(i),_step1381;try{for(_iterator1381.s();!(_step1381=_iterator1381.n()).done;){var _t2090=_step1381.value;_t2090===_o460?(_t2090.setAttribute("data-selected",""),_t2090[ym]=Date.now()):_t2090.removeAttribute("data-selected");}}catch(err){_iterator1381.e(err);}finally{_iterator1381.f();}}return!0;}}return!1;}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s731=e[e.length-1],n=i.indexOf(_s731),_o461=i[n+1];if(_o461){if(_o461.scrollIntoViewIfNeeded(),t)_o461.setAttribute("data-selected",""),_o461[ym]=Date.now();else{var _iterator1382=_createForOfIteratorHelper(i),_step1382;try{for(_iterator1382.s();!(_step1382=_iterator1382.n()).done;){var _t2091=_step1382.value;_t2091===_o461?(_t2091.setAttribute("data-selected",""),_t2091[ym]=Date.now()):_t2091.removeAttribute("data-selected");}}catch(err){_iterator1382.e(err);}finally{_iterator1382.f();}}return!0;}}return!1;}},{key:"uy",value:function uy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1383=_createForOfIteratorHelper(t),_step1383;try{for(_iterator1383.s();!(_step1383=_iterator1383.n()).done;){var i=_step1383.value;i===e?(i.setAttribute("data-selected",""),i[ym]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1383.e(err);}finally{_iterator1383.f();}return!0;}return!1;}},{key:"xy",value:function xy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1384=_createForOfIteratorHelper(t),_step1384;try{for(_iterator1384.s();!(_step1384=_iterator1384.n()).done;){var i=_step1384.value;i===e?(i.setAttribute("data-selected",""),i[ym]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1384.e(err);}finally{_iterator1384.f();}return!0;}return!1;}},{key:"Uv",value:function Uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.qv(t,!1);}},{key:"Nv",value:function Nv(){this.qv([],!1);}},{key:"by",value:function by(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=$i("svg:marker");if(i.setAttribute("id",t.generateUniqueID("marker-")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto"),i.setAttribute("refX","50"),i.setAttribute("refY","50"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][vm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.Xs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[vm]===i;});this.qv([s]);}},{key:"Qy",value:function Qy(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=He(t.outermostSelectedObjectElements.map(function(t){return Ei(t);}));i=Ve(i,Yt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=J(i.width,4),l=J(i.height,4),a=$i("svg:marker");a.setAttribute("id",t.generateUniqueID("marker-")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("overflow","visible"),a.setAttribute("orient","auto"),a.setAttribute("refX",J(o/2,2)),a.setAttribute("refY",J(l/2,2)),a.setAttribute("data-bx-pinned","true");var _iterator1385=_createForOfIteratorHelper(Ni(t.outermostSelectedObjectElements)),_step1385;try{for(_iterator1385.s();!(_step1385=_iterator1385.n()).done;){var _e1486=_step1385.value;var _i1264=new DOMMatrix();_i1264.translateSelf(s,n),_i1264.multiplySelf(Wt(_e1486,t.vectorCanvas)),_e1486.setAttribute("transform",_i1264),a.append(_e1486);}}catch(err){_iterator1385.e(err);}finally{_iterator1385.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][vm].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.Xs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[vm]===a;});this.qv([h]);}},{key:"iy",value:function(){var _iy4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee152(){var t,e,i,_iterator1386,_step1386,_step1386$value,_t2094,_s734,_iterator1388,_step1388,_n490,_t2092,_s732,_i1265,_s733,_i1266,_i1267,_arr61,n,_o462,_l356,_a262,_iterator1387,_step1387,_t2093;return regeneratorRuntime.wrap(function _callee152$(_context154){while(1){switch(_context154.prev=_context154.next){case 0:t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[vm];}),i=[];_iterator1386=_createForOfIteratorHelper(this.sk());try{for(_iterator1386.s();!(_step1386=_iterator1386.n()).done;){_step1386$value=_slicedToArray(_step1386.value,2),_t2094=_step1386$value[0],_s734=_step1386$value[1];_iterator1388=_createForOfIteratorHelper(_s734);try{for(_iterator1388.s();!(_step1388=_iterator1388.n()).done;){_n490=_step1388.value;e.includes(_n490)&&!1===i.includes(_t2094)&&i.push(_t2094);}}catch(err){_iterator1388.e(err);}finally{_iterator1388.f();}}}catch(err){_iterator1386.e(err);}finally{_iterator1386.f();}if(!(0!==e.length)){_context154.next=17;break;}if(!(i.length>0)){_context154.next=12;break;}_t2092="Delete ";1===e.length?_t2092+="a marker":_t2092+="".concat(e.length," markers"),_t2092+=" applied to ",1===i.length?_t2092+="1 object?":_t2092+="".concat(i.length," objects?");_context154.next=9;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2092,detail:"Deleting a marker also removes it from all objects it was applied to."});case 9:_s732=_context154.sent;if(!(-1===_s732||1===_s732)){_context154.next=12;break;}return _context154.abrupt("return");case 12:t.undoManager.checkpoint("Delete markers"),this.mx()||this.xx(),"marker"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editMarkerEnd(!1);_i1265=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s733=null;for(;_s733=_i1265.nextNode();){if(T.includes(_s733.localName)){_i1266=getComputedStyle(_s733);for(_i1267=0,_arr61=["marker-start","marker-mid","marker-end"];_i1267<_arr61.length;_i1267++){n=_arr61[_i1267];_o462=Go.fromString(_i1266[n]),_l356=_o462?t.masterWorkspace.querySelector(_o462.value):null,_a262=_l356&&"marker"===_l356.localName?_l356:null;_a262&&e.includes(_a262)&&(_s733.style.removeProperty(n),_s733.removeAttribute(n));}}}_iterator1387=_createForOfIteratorHelper(e);try{for(_iterator1387.s();!(_step1387=_iterator1387.n()).done;){_t2093=_step1387.value;_t2093.remove();}}catch(err){_iterator1387.e(err);}finally{_iterator1387.f();}case 17:case"end":return _context154.stop();}}},_callee152,this);}));function iy(){return _iy4.apply(this,arguments);}return iy;}()},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[vm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin marker"+e.length>1?"s":"");var _iterator1389=_createForOfIteratorHelper(e),_step1389;try{for(_iterator1389.s();!(_step1389=_iterator1389.n()).done;){var _t2095=_step1389.value;_t2095.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1389.e(err);}finally{_iterator1389.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[vm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin marker"+e.length>1?"s":"");var _iterator1390=_createForOfIteratorHelper(e),_step1390;try{for(_iterator1390.s();!(_step1390=_iterator1390.n()).done;){var _t2096=_step1390.value;_t2096.removeAttribute("data-bx-pinned");}}catch(err){_iterator1390.e(err);}finally{_iterator1390.f();}}}},{key:"Cv",value:function Cv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s735=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),n=t[0],_o463=_s735.indexOf(e);if("start"===i){if(_s735[_o463-1]===n)return!1;}else if("end"===i){if(_s735[_o463+1]===n)return!1;}}return!0;}},{key:"tk",value:function tk(t){var e=this.tn.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(T.includes(s.localName)){var _i1268=getComputedStyle(s);for(var _i1269=0,_arr62=["marker-start","marker-mid","marker-end"];_i1269<_arr62.length;_i1269++){var _o464=_arr62[_i1269];var _l357=Go.fromString(_i1268[_o464]),_a263=_l357?e.masterWorkspace.querySelector(_l357.value):null,_h216=_a263&&"marker"===_a263.localName?_a263:null;if(_h216&&_h216.id===t){var _t2097=s.closest("text");_t2097?!1===n.includes(_t2097)&&n.push(_t2097):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"sk",value:function sk(){var t=this.tn.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(T.includes(s.localName)){var _i1270=getComputedStyle(s);for(var _i1271=0,_arr63=["marker-start","marker-mid","marker-end"];_i1271<_arr63.length;_i1271++){var n=_arr63[_i1271];var _o465=Go.fromString(_i1270[n]),_l358=_o465?t.masterWorkspace.querySelector(_o465.value):null,_a264=_l358&&"marker"===_l358.localName?_l358:null;_a264&&(!1===e.has(s)?e.set(s,[_a264]):e.get(s).push(_a264));}}}return e;}},{key:"Xs",value:function Xs(){{var _t2098=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("marker")),_e1487=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[vm];}),i=document.createDocumentFragment();var _iterator1391=_createForOfIteratorHelper(_t2098),_step1391;try{for(_iterator1391.s();!(_step1391=_iterator1391.n()).done;){var _s736=_step1391.value;var _t2099=_s736.hasAttribute("viewBox")?"viewBox=\"".concat(_s736.getAttribute("viewBox"),"\""):"",n=Ki(_templateObject65(),_t2099,_s736.innerHTML,_s736.id);n[vm]=_s736,_e1487.includes(_s736)&&(n.setAttribute("data-selected",""),n[ym]=Date.now()),this.yy(n),this.ky(n),i.append(n);}}catch(err){_iterator1391.e(err);}finally{_iterator1391.f();}this["#items"].innerHTML="",this["#items"].append(i);}this.py(),this.Jv(),this.ux();}},{key:"gy",value:function gy(){var _iterator1392=_createForOfIteratorHelper(this["#items"].children),_step1392;try{for(_iterator1392.s();!(_step1392=_iterator1392.n()).done;){var _t2100=_step1392.value;this.ky(_t2100);}}catch(err){_iterator1392.e(err);}finally{_iterator1392.f();}}},{key:"Tv",value:function Tv(){this["#search-input"].value="";var _iterator1393=_createForOfIteratorHelper(this["#items"].children),_step1393;try{for(_iterator1393.s();!(_step1393=_iterator1393.n()).done;){var _t2101=_step1393.value;this.yy(_t2101),this.ky(_t2101);}}catch(err){_iterator1393.e(err);}finally{_iterator1393.f();}this.ux();}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"yy",value:function yy(t){var e=t[vm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<marker>",i.removeAttribute("data-custom"));else{var _t2102;_t2102=this.tn.board.currentWorkspace.id===e.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2102?(i.textContent=_t2102.textContent,i.setAttribute("data-custom","")):(i.textContent="Marker",i.removeAttribute("data-custom"));}}},{key:"py",value:function py(){var t=this.sk();var _iterator1394=_createForOfIteratorHelper(this["#items"].children),_step1394;try{for(_iterator1394.s();!(_step1394=_iterator1394.n()).done;){var _e1488=_step1394.value;var i=_e1488.querySelector(".counter-button"),_s737=0;var _iterator1395=_createForOfIteratorHelper(t),_step1395;try{for(_iterator1395.s();!(_step1395=_iterator1395.n()).done;){var _step1395$value=_slicedToArray(_step1395.value,2),_i1272=_step1395$value[0],n=_step1395$value[1];n.includes(_e1488[vm])&&(_s737+=1);}}catch(err){_iterator1395.e(err);}finally{_iterator1395.f();}0===_s737?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s737?"Select 1 marker user":"Select ".concat(_s737," marker users")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s737);}}catch(err){_iterator1394.e(err);}finally{_iterator1394.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.markers){var _iterator1396=_createForOfIteratorHelper(this["#items"].children),_step1396;try{for(_iterator1396.s();!(_step1396=_iterator1396.n()).done;){var _t2103=_step1396.value;var _e1489=_t2103[vm],i=_t2103.lastElementChild;i.hidden=!1,i.toggled=_e1489.hasAttribute("data-bx-pinned");}}catch(err){_iterator1396.e(err);}finally{_iterator1396.f();}}else{var _iterator1397=_createForOfIteratorHelper(this["#items"].children),_step1397;try{for(_iterator1397.s();!(_step1397=_iterator1397.n()).done;){var _t2104=_step1397.value;_t2104.lastElementChild.hidden=!0;}}catch(err){_iterator1397.e(err);}finally{_iterator1397.f();}}}}]);return km;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(km,"observedAttributes",["enabled"]);_defineProperty(km,"_shadowTemplate",Ki(_templateObject406()));_defineProperty(km,"_shadowStyleSheet",Qi(_templateObject407()));customElements.define("bx-markersbrowser",km);var Sm=Symbol(),Cm=Symbol();var _m=/*#__PURE__*/function(_HTMLElement121){_inherits(_m,_HTMLElement121);var _super167=_createSuper(_m);_createClass(_m,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function _m(){var _temp51,_this794;_classCallCheck(this,_m);(_temp51=_this794=_super167.call(this),_defineProperty(_assertThisInitialized(_this794),"commands",{copy:{enabled:function enabled(){return _this794.nk();},exec:function exec(){return _this794.lk();}},selectAll:{enabled:function enabled(){return null===_this794._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this794.Uv();}},deselectAll:{enabled:function enabled(){return null===_this794._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this794.Nv();}}}),_temp51),_this794.qy=es(_this794.Xs,2e3,_assertThisInitialized(_this794)),_this794.Vv=0,_this794._shadowRoot=_this794.attachShadow({mode:"closed"}),_this794._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,_m._shadowStyleSheet],_this794._shadowRoot.append(document.importNode(_m._shadowTemplate.content,!0));var _iterator1398=_createForOfIteratorHelper(_this794._shadowRoot.querySelectorAll("[id]")),_step1398;try{for(_iterator1398.s();!(_step1398=_iterator1398.n()).done;){var _t2105=_step1398.value;_this794["#"+_t2105.id]=_t2105;}}catch(err){_iterator1398.e(err);}finally{_iterator1398.f();}_this794.addEventListener("keydown",function(t){return _this794.Tn(t);}),_this794["#items"].addEventListener("scroll",function(){return _this794.Hv();}),_this794["#items"].addEventListener("contextmenu",function(t){return _this794.ap(t);}),_this794["#items"].addEventListener("pointerdown",function(t){return _this794.op(t);}),_this794["#items"].addEventListener("click",function(t){return _this794.lp(t);}),_this794["#search-input"].addEventListener("input",function(){return _this794.Wv();}),_this794["#developer-mode-button"].addEventListener("toggle",function(){return _this794.tx();}),_this794["#add-menu"].addEventListener("click",function(t){return _this794.bv(t);}),_this794["#add-menu"].addEventListener("open",function(){return _this794.Yv();});return _this794;}_createClass(_m,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"selectSymbols",value:function selectSymbols(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[Sm].id);});this.qv(e,!0);}},{key:"en",value:function en(){var _this795=this;this.Js.addEventListener("configchange",this.ln=function(t){_this795.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this795.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this795.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this["#developer-mode-button"].toggled=this.Js.getConfig("bx-symbolsbrowser:developerMode",!1),this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("artworkchange",this.Ph),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"an",value:function an(t){var _t$detail15=t.detail,e=_t$detail15.key,i=_t$detail15.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced";var _iterator1399=_createForOfIteratorHelper(e),_step1399;try{for(_iterator1399.s();!(_step1399=_iterator1399.n()).done;){var _t2106=_step1399.value;var _e1490=_t2106.target.nodeName,_s738=_t2106.addedNodes[0]?_t2106.addedNodes[0].nodeName:null,n=_t2106.removedNodes[0]?_t2106.removedNodes[0].nodeName:null,_o466=_t2106.attributeName;if("symbol"===_e1490){if("bx-title"===_s738||"bx-title"===n){i="now";break;}if("id"===_o466){i="now";break;}if("data-bx-pinned"===_o466){i="now";break;}}else if("bx-title"===_e1490){if(_s738||n){i="now";break;}}else if("symbol"===_s738||"symbol"===n){i="now";break;}}}catch(err){_iterator1399.e(err);}finally{_iterator1399.f();}"now"===i?this.Xs():"debounced"===i&&this.qy();}},{key:"Zv",value:function Zv(){this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop;}},{key:"ap",value:function(){var _ap6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee153(t){var e,i,_s739,n;return regeneratorRuntime.wrap(function _callee153$(_context155){while(1){switch(_context155.prev=_context155.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context155.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.qv([e]);i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Sm];});_s739=e[Sm];_context155.next=7;return this.Js.openContextMenu([{label:"Copy Symbol"+(i.length>1?"s":""),value:"copy",disabled:0===i.length},{type:"separator"},{label:"Edit Symbol",value:"edit",disabled:1!==i.length||this.tn.board.currentWorkspace.id===_s739.id},{label:"Edit Symbol ID",value:"edit-id",disabled:1!==i.length},{label:"Edit Symbol Title",value:"edit-title",disabled:1!==i.length},{type:"separator"},{label:"Delete Symbol"+(i.length>1?"s":""),value:"delete",disabled:0===i.length},{type:"separator"},{label:"Pin Symbol"+(i.length>1?"s":""),value:"pin",disabled:void 0===i.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Symbol"+(i.length>1?"s":""),value:"unpin",disabled:void 0===i.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Symbol Instances",value:"select-instances",disabled:1!==i.length}]);case 7:n=_context155.sent;"copy"===n?this.lk():"edit"===n?this.tn.board.editSymbol(_s739.id):"edit-id"===n?this.ty(_s739.id,"id"):"edit-title"===n?this.ty(_s739.id,"title"):"delete"===n?this.iy():"pin"===n?this.sy():"unpin"===n?this.ny():"select-instances"===n&&this.ak(_s739.id);case 9:case"end":return _context155.stop();}}},_callee153,this);}));function ap(_x279){return _ap6.apply(this,arguments);}return ap;}()},{key:"lp",value:function lp(t){t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys19=this.Js.modKeys,e=_this$Js$modKeys19.ctrl,i=_this$Js$modKeys19.shift;if(!1===e&&!1===i){var _e1491=t.target.closest(".item"),_i1273=t.target.closest(".thumbnail"),_s740=t.target.closest(".counter-button"),n=t.target.closest(".pin-button"),_o467=_e1491[Sm].id;_s740?this.ak(_o467):n?n.toggled?this.hk(_o467):this.rk(_o467):_i1273?t.detail%2==0&&this.tn.board.editSymbol(_o467):t.detail%2==0&&this.ty(_o467);}}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1492=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1492&&this.qv([]);}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this796=this;var _this$Js$modKeys20=this.Js.modKeys,e=_this$Js$modKeys20.ctrl,i=_this$Js$modKeys20.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Cm]=Date.now());else if(!0===i){var _t2107=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1493=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1493.length>0){var _i1274=_t2107.indexOf(s),_n491=_e1493.sort(function(t,e){return e[Cm]-t[Cm];})[0],_o468=_t2107.indexOf(_n491),_l359=[];if(_i1274>_o468?_l359=_toConsumableArray(_t2107).slice(_o468,_i1274+1):_i1274<_o468&&(_l359=_toConsumableArray(_t2107).slice(_i1274,_o468+1).reverse()),_l359=_l359.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l359.length>0){var _iterator1400=_createForOfIteratorHelper(_l359),_step1400;try{for(_iterator1400.s();!(_step1400=_iterator1400.n()).done;){var _t2108=_step1400.value;_t2108.setAttribute("data-selected",""),_t2108[Cm]=Date.now();}}catch(err){_iterator1400.e(err);}finally{_iterator1400.f();}}}}else{var _t2111,_e1495,_i1275=!1;window.addEventListener("pointermove",_t2111=function _t2109(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)>=3){if(window.removeEventListener("pointermove",_t2111),window.removeEventListener("pointerup",_e1495),!1===s.hasAttribute("data-selected")){var _iterator1401=_createForOfIteratorHelper(_this796["#items"].children),_step1401;try{for(_iterator1401.s();!(_step1401=_iterator1401.n()).done;){var _t2110=_step1401.value;_t2110===s?(_t2110.setAttribute("data-selected",""),_t2110[Cm]=Date.now()):_t2110.removeAttribute("data-selected");}}catch(err){_iterator1401.e(err);}finally{_iterator1401.f();}}_this796.Sv(o),_i1275=!0;}}),window.addEventListener("pointerup",_e1495=function _e1494(){if(window.removeEventListener("pointermove",_t2111),window.removeEventListener("pointerup",_e1495),!1===_i1275){var _iterator1402=_createForOfIteratorHelper(_this796["#items"].children),_step1402;try{for(_iterator1402.s();!(_step1402=_iterator1402.n()).done;){var _t2112=_step1402.value;_t2112===s?(_t2112.setAttribute("data-selected",""),_t2112[Cm]=Date.now()):_t2112.removeAttribute("data-selected");}}catch(err){_iterator1402.e(err);}finally{_iterator1402.f();}}});}}},{key:"Sv",value:function Sv(t){var _this797=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this797["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this797.Js.pointerClientPoint,e=_this797._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this797._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1496=l.getBoundingClientRect();if(a=t.y<_e1496.y+_e1496.height/2?"start":"end",_this797.Cv(n,l,a)){var _t2113=l.offsetTop-_this797["#items"].scrollTop;"end"===a&&(_t2113+=_e1496.height),_this797["#drop-indicator"].hidden=!1,_this797["#drop-indicator"].style.top=_t2113-1+"px";}else l=null,_this797["#drop-indicator"].hidden=!0;}else _this797["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s743){function s(_x280){return _s743.apply(this,arguments);}s.toString=function(){return _s743.toString();};return s;}(function(t){if(_this797["#items"].removeEventListener("pointermove",e),_this797["#items"].removeEventListener("scroll",i),_this797["#items"].removeEventListener("lostpointercapture",s),_this797["#items"].style.cursor=null,_this797["#drop-indicator"].hidden=!0,c(),_this797.tn.board.isPointOverBoard(t.clientX,t.clientY)){var _e1497=_this797.tn.board,_i1276=_toConsumableArray(n).map(function(t){return t[Sm];}),_s741=!1;if("symbol"===_e1497.currentWorkspace.getAttribute("data-bx-workspace")){var _iterator1403=_createForOfIteratorHelper(_i1276),_step1403;try{for(_iterator1403.s();!(_step1403=_iterator1403.n()).done;){var _t2114=_step1403.value;if(_e1497.currentWorkspace.id===_t2114.id){_s741=!0;break;}}}catch(err){_iterator1403.e(err);}finally{_iterator1403.f();}}if(!1===_s741){_e1497.undoManager.checkpoint("Create symbol instance");var _s742=_e1497.currentContainer||_e1497.currentWorkspace,_n492=[];var _iterator1404=_createForOfIteratorHelper(_i1276),_step1404;try{for(_iterator1404.s();!(_step1404=_iterator1404.n()).done;){var _o469=_step1404.value;var _i1277=$i("svg:use");_i1277.setAttribute("href","#"+_o469.id),_o469.hasAttribute("viewBox")?(_i1277.setAttribute("width",_o469.viewBox.baseVal.width),_i1277.setAttribute("height",_o469.viewBox.baseVal.height)):(_i1277.setAttribute("width","100"),_i1277.setAttribute("height","100")),_s742.append(_i1277);var _l360=Yt(_i1277).inverse(),_a265=Ht(_i1277);_a265.multiplySelf(_l360),_i1277.setAttribute("transform",_a265.toString());var _h217=Ei(_i1277);_a265.translateSelf(t.clientX-_h217.width/2,t.clientY-_h217.height/2),_i1277.setAttribute("transform",_a265.toString());var _r144=_e1497.geometryPrecision,_d113=_e1497.transformPrecision;va(_i1277,{geometryPrecision:_r144,transformPrecision:_d113}),_n492.push(_i1277);}}catch(err){_iterator1404.e(err);}finally{_iterator1404.f();}_e1497.selectedElements=_n492,_this797.py();}}else if(l){_this797.tn.board.undoManager.checkpoint("Rearrange symbols");var _t2115=document.createDocumentFragment(),_e1498=l[Sm];var _iterator1405=_createForOfIteratorHelper(n),_step1405;try{for(_iterator1405.s();!(_step1405=_iterator1405.n()).done;){var _i1278=_step1405.value;_i1278[Sm]!==_e1498&&_t2115.append(_i1278[Sm]);}}catch(err){_iterator1405.e(err);}finally{_iterator1405.f();}"start"===a?_e1498.before(_t2115):_e1498.after(_t2115);}}));}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus"))return;var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t2116=this["#items"].querySelector(".item[data-label-edited]"),_e1499=this["#items"].querySelector(".item[data-selected]");_t2116?this.focus():_e1499&&this.ty(_e1499[Sm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.iy());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx()||this.uy());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx()||this.xy());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx(!0));}}},{key:"tx",value:function tx(){this.Js.setConfig("bx-symbolsbrowser:developerMode",this["#developer-mode-button"].toggled),this.Tv(),this.focus();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&("add-symbol"===e.value?this.by():"add-symbol-from-objects"===e.value&&this.Qy());}},{key:"Yv",value:function Yv(){var t=this.tn.board.selectedObjectElements;this["#add-symbol-from-objects-menu-item"].disabled=0===t.length;}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"ty",value:function ty(t){var _this798=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Sm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2117=this["#items"].querySelector(".item[data-label-edited]");if(_t2117){if(_t2117===i)return;this.wy();}}this.qv([i]);var s=this.tn.board,n=i.querySelector(".label"),o=i[Sm],l=this["#developer-mode-button"].toggled?"Symbol ID":"Symbol title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Ki(_templateObject66(),h,l);n.after(r),r.selectAll(),ss(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this798.wy();}),r.validate=function(){var t=null;if(_this798["#developer-mode-button"].toggled){var _e1500=r.value.trim();if(_e1500.startsWith("#")&&(_e1500=_e1500.substring(1)),0===_e1500.length)t="Symbol must have ID";else if(qi(_e1500)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1500)))&&o.id!==_e1500&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"wy",value:function wy(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1501=this.tn.board,i=t.querySelector(".label"),_s744=t.querySelector("x-input"),n=t[Sm];if(_s744.remove(),i.hidden=!1,t.removeAttribute("data-label-edited"),null===_s744.error)if(this["#developer-mode-button"].toggled){var _t2118=n.getAttribute("id").trim(),_i1279=_s744.value.trim().toLowerCase();if(_i1279.startsWith("#")&&(_i1279=_i1279.substring(1)),_t2118!==_i1279){_e1501.undoManager.checkpoint("Symbol ID");var _s745=document.createNodeIterator(_e1501.workspaces,NodeFilter.SHOW_ELEMENT),_n493=null;for(;_n493=_s745.nextNode();){"symbol"===_n493.localName||"g"===_n493.localName&&"symbol"===_n493.getAttribute("data-bx-workspace")?_n493.id===_t2118&&_n493.setAttribute("id",_i1279):"use"===_n493.localName&&_n493.href.baseVal==="#"+_t2118&&_n493.setAttribute("href","#"+_i1279);}}}else{var _t2119=_e1501.currentWorkspace.id===n.id?_e1501.currentWorkspace:n,_i1280=_t2119.querySelector(":scope > bx-title"),_o470=_s744.value.trim();if(_i1280){_i1280.textContent!==_o470&&(_e1501.undoManager.checkpoint("Symbol title"),""===_o470?_i1280.remove():_i1280.textContent=_o470);}else""!==_o470&&(_e1501.undoManager.checkpoint("Symbol title"),_i1280=$i("svg:bx-title"),_i1280.textContent=_o470,_t2119.prepend(_i1280));}}}},{key:"hk",value:function hk(t){this.tn.board.undoManager.checkpoint("Pin Symbol"),this.tn.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"rk",value:function rk(t){this.tn.board.undoManager.checkpoint("Unpin Symbol"),this.tn.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"qv",value:function qv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1406=_createForOfIteratorHelper(this["#items"].children),_step1406;try{for(_iterator1406.s();!(_step1406=_iterator1406.n()).done;){var _e1502=_step1406.value;t.includes(_e1502)?(_e1502.setAttribute("data-selected",""),_e1502[Cm]=Date.now()):_e1502.removeAttribute("data-selected");}}catch(err){_iterator1406.e(err);}finally{_iterator1406.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s746=e[0],n=i.indexOf(_s746),_o471=i[n-1];if(_o471){if(_o471.scrollIntoViewIfNeeded(),t)_o471.setAttribute("data-selected",""),_o471[Cm]=Date.now();else{var _iterator1407=_createForOfIteratorHelper(i),_step1407;try{for(_iterator1407.s();!(_step1407=_iterator1407.n()).done;){var _t2120=_step1407.value;_t2120===_o471?(_t2120.setAttribute("data-selected",""),_t2120[Cm]=Date.now()):_t2120.removeAttribute("data-selected");}}catch(err){_iterator1407.e(err);}finally{_iterator1407.f();}}return!0;}}return!1;}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var i=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s747=e[e.length-1],n=i.indexOf(_s747),_o472=i[n+1];if(_o472){if(_o472.scrollIntoViewIfNeeded(),t)_o472.setAttribute("data-selected",""),_o472[Cm]=Date.now();else{var _iterator1408=_createForOfIteratorHelper(i),_step1408;try{for(_iterator1408.s();!(_step1408=_iterator1408.n()).done;){var _t2121=_step1408.value;_t2121===_o472?(_t2121.setAttribute("data-selected",""),_t2121[Cm]=Date.now()):_t2121.removeAttribute("data-selected");}}catch(err){_iterator1408.e(err);}finally{_iterator1408.f();}}return!0;}}return!1;}},{key:"uy",value:function uy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1409=_createForOfIteratorHelper(t),_step1409;try{for(_iterator1409.s();!(_step1409=_iterator1409.n()).done;){var i=_step1409.value;i===e?(i.setAttribute("data-selected",""),i[Cm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1409.e(err);}finally{_iterator1409.f();}return!0;}return!1;}},{key:"xy",value:function xy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1410=_createForOfIteratorHelper(t),_step1410;try{for(_iterator1410.s();!(_step1410=_iterator1410.n()).done;){var i=_step1410.value;i===e?(i.setAttribute("data-selected",""),i[Cm]=Date.now()):i.removeAttribute("data-selected");}}catch(err){_iterator1410.e(err);}finally{_iterator1410.f();}return!0;}return!1;}},{key:"Uv",value:function Uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.qv(t,!1);}},{key:"Nv",value:function Nv(){this.qv([],!1);}},{key:"by",value:function by(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=$i("svg:symbol");if(i.setAttribute("id",t.generateUniqueID("symbol-")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Sm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.Xs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Sm]===i;});this.qv([s]);}},{key:"Qy",value:function Qy(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=He(t.outermostSelectedObjectElements.map(function(t){return Ei(t);}));i=Ve(i,Yt(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=J(i.width,4),l=J(i.height,4),a=$i("svg:symbol");a.setAttribute("id",t.generateUniqueID("symbol-")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("data-bx-pinned","true");var _iterator1411=_createForOfIteratorHelper(Ni(t.outermostSelectedObjectElements)),_step1411;try{for(_iterator1411.s();!(_step1411=_iterator1411.n()).done;){var _e1503=_step1411.value;var _i1281=new DOMMatrix();_i1281.translateSelf(s,n),_i1281.multiplySelf(Wt(_e1503,t.vectorCanvas)),_e1503.setAttribute("transform",_i1281),a.append(_e1503);}}catch(err){_iterator1411.e(err);}finally{_iterator1411.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Sm].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.Xs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[Sm]===a;});this.qv([h]);}},{key:"lk",value:function lk(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=(e.map(function(t){return t[Sm];}),e.map(function(t){return t[Sm];})),s=t.extractArtworkWithSymbols(i),n=this.Js.getConfig("bx-markupsettings:indentation",2),o=Hp(s,"html",n),l={"text/plain":o,"text/html":o,"image/svg+xml":Hp(s,"xml",n)};this.Js.setClipboardData(l);}},{key:"nk",value:function nk(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).length>0;}},{key:"iy",value:function(){var _iy5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee154(){var t,e,i,s,n,_iterator1412,_step1412,_i1282,_e1505,_o473,_l361,_t2122,_e1504,_iterator1413,_step1413,_t2123,_iterator1414,_step1414,_t2124;return regeneratorRuntime.wrap(function _callee154$(_context156){while(1){switch(_context156.prev=_context156.next){case 0:t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[Sm];}),s=[],n=[];_iterator1412=_createForOfIteratorHelper(e);try{for(_iterator1412.s();!(_step1412=_iterator1412.n()).done;){_i1282=_step1412.value;_e1505=_i1282[Sm],_o473=document.createNodeIterator(t.workspaces,NodeFilter.SHOW_ELEMENT),_l361=null;for(s.push(_e1505);_l361=_o473.nextNode();){"use"===_l361.localName&&_l361.href.baseVal==="#"+_e1505.id&&n.push(_l361);}}}catch(err){_iterator1412.e(err);}finally{_iterator1412.f();}if(!(0!==i.length)){_context156.next=17;break;}if(!(n.length>0)){_context156.next=12;break;}_t2122="Delete ";1===i.length?_t2122+="a symbol":_t2122+="".concat(i.length," symbols"),_t2122+=" with ",1===n.length?_t2122+="1 instance?":_t2122+="".concat(n.length," instances?");_context156.next=9;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2122,detail:"Deleting a symbol also removes all its instances."});case 9:_e1504=_context156.sent;if(!(-1===_e1504||1===_e1504)){_context156.next=12;break;}return _context156.abrupt("return");case 12:t.undoManager.checkpoint("Delete symbols"),this.mx()||this.xx(),"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&s.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editSymbolEnd(!1);_iterator1413=_createForOfIteratorHelper(n);try{for(_iterator1413.s();!(_step1413=_iterator1413.n()).done;){_t2123=_step1413.value;_t2123.remove();}}catch(err){_iterator1413.e(err);}finally{_iterator1413.f();}_iterator1414=_createForOfIteratorHelper(s);try{for(_iterator1414.s();!(_step1414=_iterator1414.n()).done;){_t2124=_step1414.value;_t2124.remove();}}catch(err){_iterator1414.e(err);}finally{_iterator1414.f();}case 17:case"end":return _context156.stop();}}},_callee154,this);}));function iy(){return _iy5.apply(this,arguments);}return iy;}()},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin symbol"+e.length>1?"s":"");var _iterator1415=_createForOfIteratorHelper(e),_step1415;try{for(_iterator1415.s();!(_step1415=_iterator1415.n()).done;){var _t2125=_step1415.value;_t2125.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1415.e(err);}finally{_iterator1415.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Sm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin symbol"+e.length>1?"s":"");var _iterator1416=_createForOfIteratorHelper(e),_step1416;try{for(_iterator1416.s();!(_step1416=_iterator1416.n()).done;){var _t2126=_step1416.value;_t2126.removeAttribute("data-bx-pinned");}}catch(err){_iterator1416.e(err);}finally{_iterator1416.f();}}}},{key:"Cv",value:function Cv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s748=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),n=t[0],_o474=_s748.indexOf(e);if("start"===i){if(_s748[_o474-1]===n)return!1;}else if("end"===i){if(_s748[_o474+1]===n)return!1;}}return!0;}},{key:"ak",value:function ak(t){var e=this.tn.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[Sm].id===t;})[Sm],s=this.dk().get(i);s&&(e.selectedElements=_toConsumableArray(s));}},{key:"dk",value:function dk(){var t=this.tn.board,e=new Map(),i=t.masterWorkspace.querySelectorAll("use");var _iterator1417=_createForOfIteratorHelper(i),_step1417;try{for(_iterator1417.s();!(_step1417=_iterator1417.n()).done;){var _s749=_step1417.value;var _i1283=_s749.href.baseVal,n=_i1283?t.masterWorkspace.querySelector(_i1283):null,_o475=n&&"symbol"===n.localName?n:null;_o475&&(!1===e.has(_o475)?e.set(_o475,[_s749]):e.get(_o475).push(_s749));}}catch(err){_iterator1417.e(err);}finally{_iterator1417.f();}return e;}},{key:"Xs",value:function Xs(){{var _t2127=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("symbol")),_e1506=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Sm];}),i=document.createDocumentFragment();var _iterator1418=_createForOfIteratorHelper(_t2127),_step1418;try{for(_iterator1418.s();!(_step1418=_iterator1418.n()).done;){var _s750=_step1418.value;var _t2128=Ki(_templateObject67(),_s750.id,_s750.id);_t2128[Sm]=_s750,_e1506.includes(_s750)&&(_t2128.setAttribute("data-selected",""),_t2128[Cm]=Date.now()),this.yy(_t2128),this.ky(_t2128),i.append(_t2128);}}catch(err){_iterator1418.e(err);}finally{_iterator1418.f();}this["#mirror-svg"].innerHTML=this.tn.board.masterWorkspace.innerHTML,this["#items"].innerHTML="",this["#items"].append(i);}this.py(),this.Jv(),this.ux();}},{key:"gy",value:function gy(){var _iterator1419=_createForOfIteratorHelper(this["#items"].children),_step1419;try{for(_iterator1419.s();!(_step1419=_iterator1419.n()).done;){var _t2129=_step1419.value;this.ky(_t2129);}}catch(err){_iterator1419.e(err);}finally{_iterator1419.f();}}},{key:"Tv",value:function Tv(){this["#search-input"].value="";var _iterator1420=_createForOfIteratorHelper(this["#items"].children),_step1420;try{for(_iterator1420.s();!(_step1420=_iterator1420.n()).done;){var _t2130=_step1420.value;this.yy(_t2130),this.ky(_t2130);}}catch(err){_iterator1420.e(err);}finally{_iterator1420.f();}this.ux();}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"yy",value:function yy(t){var e=t[Sm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<symbol>",i.removeAttribute("data-custom"));else{var _t2131;_t2131=this.tn.board.currentWorkspace.id===e.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2131?(i.textContent=_t2131.textContent,i.setAttribute("data-custom","")):(i.textContent="Symbol",i.removeAttribute("data-custom"));}}},{key:"py",value:function py(){var t=this.dk();var _iterator1421=_createForOfIteratorHelper(this["#items"].children),_step1421;try{for(_iterator1421.s();!(_step1421=_iterator1421.n()).done;){var _e1507=_step1421.value;var i=_e1507.querySelector(".counter-button"),_s751=0;var _iterator1422=_createForOfIteratorHelper(t),_step1422;try{for(_iterator1422.s();!(_step1422=_iterator1422.n()).done;){var _step1422$value=_slicedToArray(_step1422.value,2),_i1284=_step1422$value[0],n=_step1422$value[1];_i1284===_e1507[Sm]&&(_s751+=n.length);}}catch(err){_iterator1422.e(err);}finally{_iterator1422.f();}0===_s751?(i.setAttribute("hidden",""),i.firstElementChild.textContent="0"):(i.setAttribute("title",1===_s751?"Select 1 symbol instance":"Select ".concat(_s751," symbol instances")),i.removeAttribute("hidden"),i.firstElementChild.textContent=_s751);}}catch(err){_iterator1421.e(err);}finally{_iterator1421.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.symbols){var _iterator1423=_createForOfIteratorHelper(this["#items"].children),_step1423;try{for(_iterator1423.s();!(_step1423=_iterator1423.n()).done;){var _t2132=_step1423.value;var _e1508=_t2132[Sm],i=_t2132.lastElementChild;i.hidden=!1,i.toggled=_e1508.hasAttribute("data-bx-pinned");}}catch(err){_iterator1423.e(err);}finally{_iterator1423.f();}}else{var _iterator1424=_createForOfIteratorHelper(this["#items"].children),_step1424;try{for(_iterator1424.s();!(_step1424=_iterator1424.n()).done;){var _t2133=_step1424.value;_t2133.lastElementChild.hidden=!0;}}catch(err){_iterator1424.e(err);}finally{_iterator1424.f();}}}}]);return _m;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_m,"observedAttributes",["enabled"]);_defineProperty(_m,"_shadowTemplate",Ki(_templateObject408()));_defineProperty(_m,"_shadowStyleSheet",Qi(_templateObject409()));customElements.define("bx-symbolsbrowser",_m);var Mm=40,Pm=16;var Dm=/*#__PURE__*/function(){function Dm(t){_classCallCheck(this,Dm);var e=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);});this.ck=t,this.pk=new dagre.graphlib.Graph({directed:!0,multigraph:!0,compound:!1}),this.pk.setGraph({ranker:"longest-path",rankdir:"TB",align:void 0,ranksep:35,nodesep:35,edgesep:10,marginx:0,marginy:0});{var i=!1,_s752=!1,n=e[e.length-1];var _iterator1425=_createForOfIteratorHelper(e),_step1425;try{for(_iterator1425.s();!(_step1425=_iterator1425.n()).done;){var _t2134=_step1425.value;if(this.pk.setNode(_t2134.result.baseVal,{width:Mm,height:Mm,type:_t2134.localName,terminal:_t2134===n}),"feMerge"===_t2134.localName){var _e1509=_toConsumableArray(_t2134.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1426=_createForOfIteratorHelper(_e1509),_step1426;try{for(_iterator1426.s();!(_step1426=_iterator1426.n()).done;){var _n494=_step1426.value;var _o477=_n494.in1.baseVal,_l362=_t2134.result.baseVal,_a266=_e1509.indexOf(_n494)+1,_h218={from:_o477,to:_l362,slot:_a266,width:Pm,height:Pm,minlen:1,weight:1,label:""+_a266,labelpos:"c"};this.pk.setEdge(_o477,_l362,_h218,"".concat(_o477,"-").concat(_l362,"-").concat(_a266)),"SourceGraphic"===_o477?i=!0:"SourceAlpha"===_o477&&(_s752=!0);}}catch(err){_iterator1426.e(err);}finally{_iterator1426.f();}}else for(var _i1285=0,_arr64=["in1","in2"];_i1285<_arr64.length;_i1285++){var _e1510=_arr64[_i1285];var _n495=_t2134[_e1510]?_t2134[_e1510].baseVal:null,_o478=_t2134.result.baseVal,_l363="in1"===_e1510?1:2,_a267={from:_n495,to:_o478,slot:_l363,width:Pm,height:Pm,minlen:1,weight:1,label:_e1510[2],labelpos:"c"};null!==_n495&&"none"!==_n495&&(this.pk.setEdge(_n495,_o478,_a267,"".concat(_n495,"-").concat(_o478,"-").concat(_l363)),"SourceGraphic"===_n495?i=!0:"SourceAlpha"===_n495&&(_s752=!0));}}}catch(err){_iterator1425.e(err);}finally{_iterator1425.f();}var _o476=t.hasAttribute("data-bx-details")?t.getAttribute("data-bx-details").split(" "):[];(i||_o476.includes("SourceGraphic"))&&this.pk.setNode("SourceGraphic",{width:Mm,height:Mm,type:"SourceGraphic"}),(_s752||_o476.includes("SourceAlpha"))&&this.pk.setNode("SourceAlpha",{width:Mm,height:Mm,type:"SourceAlpha"});}dagre.layout(this.pk);}_createClass(Dm,[{key:"getWidth",value:function getWidth(){var t=this.pk.graph().width;return isFinite(t)?t:0;}},{key:"getHeight",value:function getHeight(){var t=this.pk.graph().height;return isFinite(t)?t:0;}},{key:"getNodes",value:function getNodes(){var _this799=this;return this.pk.nodes().map(function(t){var e=_this799.pk.node(t);return{name:t,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,terminal:e.terminal};});}},{key:"getOrderedNodes",value:function getOrderedNodes(){var t=dagre.graphlib.alg.topsort(this.pk),e=this.getNodes(),i=[];var _iterator1427=_createForOfIteratorHelper(t),_step1427;try{var _loop35=function _loop35(){var s=_step1427.value;var t=e.find(function(t){return t.name===s;});i.push(t);};for(_iterator1427.s();!(_step1427=_iterator1427.n()).done;){_loop35();}}catch(err){_iterator1427.e(err);}finally{_iterator1427.f();}return i;}},{key:"getEdges",value:function getEdges(){var _this800=this;return this.pk.edges().map(function(t){var e=_this800.pk.edge(t);return{from:e.from,to:e.to,slot:e.slot,points:e.points,label:{text:e.label,x:e.x,y:e.y,width:e.width,height:e.height}};});}},{key:"getPredecessors",value:function getPredecessors(t){return this.pk.predecessors(t)||null;}},{key:"getAllPredecessors",value:function getAllPredecessors(t){var _this801=this;var e=[],i=function i(t){var s=_this801.getPredecessors(t);var _iterator1428=_createForOfIteratorHelper(s),_step1428;try{for(_iterator1428.s();!(_step1428=_iterator1428.n()).done;){var _t2135=_step1428.value;e.push(_t2135),i(_t2135);}}catch(err){_iterator1428.e(err);}finally{_iterator1428.f();}};return i(t),e;}},{key:"getGroups",value:function getGroups(){var t=dagre.graphlib.alg.topsort(this.pk),e=dagre.graphlib.alg.components(this.pk);e=e.sort(function(e,i){return t.indexOf(e[0])<t.indexOf(i[0])?-1:1;});var _iterator1429=_createForOfIteratorHelper(e),_step1429;try{for(_iterator1429.s();!(_step1429=_iterator1429.n()).done;){var i=_step1429.value;i.sort(function(e,i){return t.indexOf(e)<t.indexOf(i)?-1:1;});}}catch(err){_iterator1429.e(err);}finally{_iterator1429.f();}return e;}},{key:"canConnectNodes",value:function canConnectNodes(t,e){if(t===e)return!1;if("SourceGraphic"===e||"SourceAlpha"===e)return!1;if(this.getAllPredecessors(t).includes(e))return!1;{var _t2136=this.getNodes().find(function(t){return t.name===e;});if("feFlood"===_t2136.type||"feImage"===_t2136.type||"feTurbulence"===_t2136.type)return!1;if("feBlend"===_t2136.type||"feComposite"===_t2136.type||"feDisplacementMap"===_t2136.type){if(this.pk.inEdges(e).length>=2)return!1;}else if(("feColorMatrix"===_t2136.type||"feComponentTransfer"===_t2136.type||"feConvolveMatrix"===_t2136.type||"feDiffuseLighting"===_t2136.type||"feDropShadow"===_t2136.type||"feGaussianBlur"===_t2136.type||"feMorphology"===_t2136.type||"feOffset"===_t2136.type||"feSpecularLighting"===_t2136.type||"feTile"===_t2136.type)&&this.pk.inEdges(e).length>=1)return!1;}return!0;}},{key:"connectNodes",value:function connectNodes(t,e){var i=-1;if(this.canConnectNodes(t,e)){var _s753=this.getNodes(),n=this.getEdges(),_o479=_s753.find(function(t){return t.name===e;}),_l364=n.filter(function(t){return t.to===_o479.name;}).map(function(t){return t.slot;});for(i=1;_l364.includes(i);){i+=1;}var _a268={from:t,to:e,slot:i,width:Pm,height:Pm,minlen:1,weight:1,label:""+i,labelpos:"c"};this.pk.setEdge(t,e,_a268,"".concat(t,"-").concat(e,"-").concat(i)),dagre.layout(this.pk);}return i;}}]);return Dm;}();$i("svg:filter");var zm=/*#__PURE__*/function(_HTMLElement122){_inherits(zm,_HTMLElement122);var _super168=_createSuper(zm);function zm(){var _this802;_classCallCheck(this,zm);_this802=_super168.call(this),_this802._shadowRoot=_this802.attachShadow({mode:"closed"}),_this802._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,zm._shadowStyleSheet],_this802._shadowRoot.append(document.importNode(zm._shadowTemplate.content,!0)),_this802.Za=ts(_this802.Xs,200,_assertThisInitialized(_this802)),_this802.uk=!1,_this802.xk=!1;var _iterator1430=_createForOfIteratorHelper(_this802._shadowRoot.querySelectorAll("[id]")),_step1430;try{for(_iterator1430.s();!(_step1430=_iterator1430.n()).done;){var _t2137=_step1430.value;_this802["#"+_t2137.id]=_t2137;}}catch(err){_iterator1430.e(err);}finally{_iterator1430.f();}_this802["#filter-units-select"].addEventListener("change",function(){return _this802.bk();}),_this802["#primitive-units-select"].addEventListener("change",function(){return _this802.mk();}),_this802["#region-x-input"].addEventListener("changestart",function(t){return _this802.gk(t);}),_this802["#region-y-input"].addEventListener("changestart",function(t){return _this802.fk(t);}),_this802["#region-width-input"].addEventListener("changestart",function(t){return _this802.wk(t);}),_this802["#region-height-input"].addEventListener("changestart",function(t){return _this802.vk(t);}),_this802["#region-lock-button"].addEventListener("toggle",function(){return _this802.yk();});return _this802;}_createClass(zm,[{key:"connectedCallback",value:function connectedCallback(){var _this803=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.kk=Ri(this,"bx-filterinspector"),this.uk=this.Js.getConfig("bx-filterhostinspector:regionLocked",!1),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this803.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"bk",value:function bk(){this.tn.board.undoManager.checkpoint("Filter units");var t=this.kk.filter;t.setAttribute("filterUnits",this["#filter-units-select"].value),"objectBoundingBox"===this["#filter-units-select"].value?(t.setAttribute("x",this["#region-x-input"].value+"%"),t.setAttribute("y",this["#region-y-input"].value+"%"),t.setAttribute("width",this["#region-width-input"].value+"%"),t.setAttribute("height",this["#region-height-input"].value+"%")):(t.setAttribute("x",this["#region-x-input"].value),t.setAttribute("y",this["#region-y-input"].value),t.setAttribute("width",this["#region-width-input"].value),t.setAttribute("height",this["#region-height-input"].value)),this.Xs();}},{key:"mk",value:function mk(){this.tn.board.undoManager.checkpoint("Primitive units");var t=this.kk.filter,e=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);});var _iterator1431=_createForOfIteratorHelper(e),_step1431;try{for(_iterator1431.s();!(_step1431=_iterator1431.n()).done;){var _t2138=_step1431.value;var _e1511=Mx(_t2138);"objectBoundingBox"===this["#primitive-units-select"].value?(_t2138.hasAttribute("x")&&_t2138.setAttribute("x",_e1511.x+"%"),_t2138.hasAttribute("y")&&_t2138.setAttribute("y",_e1511.y+"%"),_t2138.hasAttribute("width")&&_t2138.setAttribute("width",_e1511.width+"%"),_t2138.hasAttribute("height")&&_t2138.setAttribute("height",_e1511.height+"%")):(_t2138.hasAttribute("x")&&_t2138.setAttribute("x",_e1511.x),_t2138.hasAttribute("y")&&_t2138.setAttribute("y",_e1511.y),_t2138.hasAttribute("width")&&_t2138.setAttribute("width",_e1511.width),_t2138.hasAttribute("height")&&_t2138.setAttribute("height",_e1511.height));}}catch(err){_iterator1431.e(err);}finally{_iterator1431.f();}t.setAttribute("primitiveUnits",this["#primitive-units-select"].value);}},{key:"gk",value:function gk(t){var _this804=this;var e,_i1286,s=this.kk.filter;this.tn.board.undoManager.checkpoint("Filter region X"),this.xk=!0,this["#region-x-input"].addEventListener("change",e=function e(){var t=null===_this804["#region-x-input"].value?0:_this804["#region-x-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("x",t):s.setAttribute("x",t+"%");}),this["#region-x-input"].addEventListener("changeend",_i1286=function i(){_this804["#region-x-input"].removeEventListener("change",e),_this804["#region-x-input"].removeEventListener("changeend",_i1286),_this804.xk=!1,_this804.Xs();});}},{key:"fk",value:function fk(t){var _this805=this;var e,_i1287,s=this.kk.filter;this.tn.board.undoManager.checkpoint("Filter region Y"),this.xk=!0,this["#region-y-input"].addEventListener("change",e=function e(){var t=null===_this805["#region-y-input"].value?0:_this805["#region-y-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("y",t):s.setAttribute("y",t+"%");}),this["#region-y-input"].addEventListener("changeend",_i1287=function i(){_this805["#region-y-input"].removeEventListener("change",e),_this805["#region-y-input"].removeEventListener("changeend",_i1287),_this805.xk=!1,_this805.Xs();});}},{key:"wk",value:function wk(t){var _this806=this;var e,_i1288,s=this.kk.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.tn.board.undoManager.checkpoint("Filter region width"),this.xk=!0,this["#region-width-input"].addEventListener("change",e=function e(){var t=null===_this806["#region-width-input"].value?100:_this806["#region-width-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("width",t),n){var _e1512=tt(t/o,0,Infinity,2);_this806["#region-height-input"].value=_e1512,s.setAttribute("height",_e1512);}}else if(s.setAttribute("width",t+"%"),n){var _e1513=tt(t/o,0,Infinity,2);_this806["#region-height-input"].value=_e1513,s.setAttribute("height",_e1513+"%");}}),this["#region-width-input"].addEventListener("changeend",_i1288=function i(){_this806["#region-width-input"].removeEventListener("change",e),_this806["#region-width-input"].removeEventListener("changeend",_i1288),_this806.xk=!1,_this806.Xs();});}},{key:"vk",value:function vk(t){var _this807=this;var e,_i1289,s=this.kk.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.tn.board.undoManager.checkpoint("Filter region height"),this.xk=!0,this["#region-height-input"].addEventListener("change",e=function e(){var t=null===_this807["#region-height-input"].value?100:_this807["#region-height-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("height",t),n){var _e1514=tt(t/o,0,Infinity,2);_this807["#region-width-input"].value=_e1514,s.setAttribute("width",_e1514);}}else if(s.setAttribute("height",t+"%"),n){var _e1515=tt(t/o,0,Infinity,2);_this807["#region-width-input"].value=_e1515,s.setAttribute("width",_e1515+"%");}}),this["#region-height-input"].addEventListener("changeend",_i1289=function i(){_this807["#region-height-input"].removeEventListener("change",e),_this807["#region-height-input"].removeEventListener("changeend",_i1289),_this807.xk=!1,_this807.Xs();});}},{key:"yk",value:function yk(){this.uk=this["#region-lock-button"].toggled,this.Js.setConfig("bx-filterhostinspector:regionLocked",this.uk),this.Xs();}},{key:"Xs",value:function Xs(){if(this.xk)return;var t=this.kk.filter;"userSpaceOnUse"===t.getAttribute("filterUnits")?this["#filter-units-select"].value="userSpaceOnUse":this["#filter-units-select"].value="objectBoundingBox","objectBoundingBox"===t.getAttribute("primitiveUnits")?this["#primitive-units-select"].value="objectBoundingBox":this["#primitive-units-select"].value="userSpaceOnUse";{var _e1516=function(t){var e=new DOMRect(),i=t.viewportElement,s=i.createSVGLength(),n=i.createSVGLength(),o=i.createSVGLength(),l=i.createSVGLength();return s.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"-10%",n.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"-10%",o.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"120%",l.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"120%","userSpaceOnUse"===t.getAttribute("filterUnits")?(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.x=s.value,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.y=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.width=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.height=l.value):(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits:e.x=100*s.valueInSpecifiedUnits,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits:e.y=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits:e.width=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits:e.height=100*l.valueInSpecifiedUnits),e;}(t),i="userSpaceOnUse"===t.getAttribute("filterUnits")?"":"%";_e1516=je(_e1516,this.tn.board.geometryPrecision),this["#region-x-input"].value=_e1516.x,this["#region-x-input"].suffix=i,this["#region-y-input"].value=_e1516.y,this["#region-y-input"].suffix=i,this["#region-width-input"].value=_e1516.width,this["#region-width-input"].suffix=i,this["#region-height-input"].value=_e1516.height,this["#region-height-input"].suffix=i,this["#region-lock-button"].toggled=this.uk,this["#region-lock-icon"].name=this.uk?"lock-on":"lock-off";}}}]);return zm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zm,"_shadowTemplate",Ki(_templateObject410()));_defineProperty(zm,"_shadowStyleSheet",Qi(_templateObject411()));customElements.define("bx-filterhostinspector",zm);var Om=/*#__PURE__*/function(_HTMLElement123){_inherits(Om,_HTMLElement123);var _super169=_createSuper(Om);_createClass(Om,[{key:"name",get:function get(){return"Connector";}}]);function Om(){var _this808;_classCallCheck(this,Om);_this808=_super169.call(this),_this808.Za=ts(_this808.Xs,200,_assertThisInitialized(_this808)),_this808._shadowRoot=_this808.attachShadow({mode:"closed"}),_this808._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Om._shadowStyleSheet],_this808._shadowRoot.append(document.importNode(Om._shadowTemplate.content,!0));var _iterator1432=_createForOfIteratorHelper(_this808._shadowRoot.querySelectorAll("[id]")),_step1432;try{for(_iterator1432.s();!(_step1432=_iterator1432.n()).done;){var _t2139=_step1432.value;_this808["#"+_t2139.id]=_t2139;}}catch(err){_iterator1432.e(err);}finally{_iterator1432.f();}_this808["#slot-buttons"].addEventListener("toggle",function(){return _this808.Sk();});return _this808;}_createClass(Om,[{key:"connectedCallback",value:function connectedCallback(){var _this809=this;this.tn=Ri(this,"bx-editor"),this.kk=Ri(this,"bx-filterinspector"),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this809.Za();}),this.kk.addEventListener("selectionchange",this.Ck=function(){_this809.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("workspacemutation",this.rn),this.kk.removeEventListener("selectionchange",this.Ck);}},{key:"Sk",value:function Sk(){this.tn.board.undoManager.checkpoint("Filter connector input slot");var t=this.kk.filter,_this$kk$getSelection=this.kk.getSelection(),_this$kk$getSelection2=_slicedToArray(_this$kk$getSelection,2),e=_this$kk$getSelection2[0],i=_this$kk$getSelection2[1],s=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);}).find(function(t){return t.result.baseVal===i.to;});if("feMerge"===s.localName){var _t2140=_toConsumableArray(s.children).filter(function(t){return"feMergeNode"===t.localName;}),n=_t2140.length,_o480=parseInt(this["#slot-buttons"].value),_l365=i.slot,_a269={};for(var _e1517=1;_e1517<=n;_e1517+=1){var _i1290=_t2140[_e1517-1];_e1517===_l365?_a269[_o480]=_i1290:_e1517===_o480?_a269[_l365]=_i1290:_a269[_e1517]=_i1290;}for(var _t2141=1;_t2141<=n;_t2141+=1){var _e1518=_a269[_t2141];s.append(_e1518);}this.kk.setSelection(e,{from:i.from,to:i.to,slot:_o480});}else{var _t2142=s.in1.baseVal,_n496=s.in2.baseVal;s.setAttribute("in",_n496),s.setAttribute("in2",_t2142),this.kk.setSelection(e,{from:i.from,to:i.to,slot:1===i.slot?2:1});}}},{key:"Xs",value:function Xs(){var t=this.kk.filter,_this$kk$getSelection3=this.kk.getSelection(),_this$kk$getSelection4=_slicedToArray(_this$kk$getSelection3,2),e=_this$kk$getSelection4[0],i=_this$kk$getSelection4[1],s=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);});if(i){var _t2143=s.find(function(t){return t.result.baseVal===i.to;}),_e1519=0;if("feMerge"===_t2143.localName){_e1519=_toConsumableArray(_t2143.children).filter(function(t){return"feMergeNode"===t.localName;}).length;}else _t2143.in1&&_t2143.in2?_e1519=2:_t2143.in1&&!_t2143.in2&&(_e1519=1);for(;this["#slot-buttons"].childElementCount>_e1519;){this["#slot-buttons"].lastElementChild.remove();}for(var _t2144=1;_t2144<=_e1519;_t2144+=1){var _e1520=this["#slot-buttons"].children[_t2144-1];_e1520||(_e1520=Ki(_templateObject68(),_t2144,_t2144),this["#slot-buttons"].append(_e1520));}this["#slot-buttons"].value=""+i.slot;}}}]);return Om;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Om,"_shadowTemplate",Ki(_templateObject412()));_defineProperty(Om,"_shadowStyleSheet",Qi(_templateObject413()));customElements.define("bx-filteredgeinspector",Om);var Em=Object.getPrototypeOf;var Tm=/*#__PURE__*/function(_HTMLElement124){_inherits(Tm,_HTMLElement124);var _super170=_createSuper(Tm);_createClass(Tm,[{key:"name",get:function get(){return"Primitive";}},{key:"primitive",get:function get(){return this._k;},set:function set(t){this._k=t,this.isConnected&&this.Xs();}}]);function Tm(){var _this810;_classCallCheck(this,Tm);_this810=_super170.call(this);var t=[],e=[];for(var i=_this810.constructor;i!==Tm;i=Em(i)){i.hasOwnProperty("_shadowTemplate")&&t.push(i._shadowTemplate),i.hasOwnProperty("_shadowStyleSheet")&&e.push(i._shadowStyleSheet);}_this810._shadowRoot=_this810.attachShadow({mode:"closed"}),_this810._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Tm._shadowStyleSheet].concat(e),_this810._shadowRoot.append(document.importNode(Tm._shadowTemplate.content,!0));var _iterator1433=_createForOfIteratorHelper(t.reverse()),_step1433;try{for(_iterator1433.s();!(_step1433=_iterator1433.n()).done;){var _e1521=_step1433.value;var _t2145=document.importNode(_e1521.content,!0),_i1291=_this810._shadowRoot.querySelector("#main");var _iterator1435=_createForOfIteratorHelper(_toConsumableArray(_t2145.children).reverse()),_step1435;try{for(_iterator1435.s();!(_step1435=_iterator1435.n()).done;){var _e1522=_step1435.value;_i1291.prepend(_e1522);}}catch(err){_iterator1435.e(err);}finally{_iterator1435.f();}}}catch(err){_iterator1433.e(err);}finally{_iterator1433.f();}_this810._k=null,_this810.Mk=!1,_this810.Pk=!1,_this810.Za=ts(_this810.Xs,200,_assertThisInitialized(_this810));var _iterator1434=_createForOfIteratorHelper(_this810._shadowRoot.querySelectorAll("[id]")),_step1434;try{for(_iterator1434.s();!(_step1434=_iterator1434.n()).done;){var _t2146=_step1434.value;_this810["#"+_t2146.id]=_t2146;}}catch(err){_iterator1434.e(err);}finally{_iterator1434.f();}_this810["#subregion-x-input"].addEventListener("changestart",function(t){return _this810.Dk(t);}),_this810["#subregion-y-input"].addEventListener("changestart",function(t){return _this810.zk(t);}),_this810["#subregion-width-input"].addEventListener("changestart",function(t){return _this810.Ok(t);}),_this810["#subregion-height-input"].addEventListener("changestart",function(t){return _this810.Ek(t);}),_this810["#subregion-lock-button"].addEventListener("toggle",function(){return _this810.Tk();});return _this810;}_createClass(Tm,[{key:"connectedCallback",value:function connectedCallback(){var _this811=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this.Mk=this.Js.getConfig("".concat(this.localName,":subregionLocked"),!1),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this811._k&&_this811._k.isConnected&&_this811.Za();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"Dk",value:function Dk(t){var _this812=this;var e,_i1292,s=this.primitive.closest("filter");this.tn.board.undoManager.checkpoint("Filter primitive subregion X"),this.Pk=!0,this["#subregion-x-input"].addEventListener("change",e=function e(){null===_this812["#subregion-x-input"].value?_this812.primitive.removeAttribute("x"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this812.primitive.setAttribute("x",_this812["#subregion-x-input"].value+"%"):_this812.primitive.setAttribute("x",_this812["#subregion-x-input"].value);}),this["#subregion-x-input"].addEventListener("changeend",_i1292=function i(){_this812["#subregion-x-input"].removeEventListener("change",e),_this812["#subregion-x-input"].removeEventListener("changeend",_i1292),_this812.Pk=!1;});}},{key:"zk",value:function zk(t){var _this813=this;var e,_i1293,s=this.primitive.closest("filter");this.tn.board.undoManager.checkpoint("Filter primitive subregion Y"),this.Pk=!0,this["#subregion-y-input"].addEventListener("change",e=function e(){null===_this813["#subregion-y-input"].value?_this813.primitive.removeAttribute("y"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this813.primitive.setAttribute("y",_this813["#subregion-y-input"].value+"%"):_this813.primitive.setAttribute("y",_this813["#subregion-y-input"].value);}),this["#subregion-y-input"].addEventListener("changeend",_i1293=function i(){_this813["#subregion-y-input"].removeEventListener("change",e),_this813["#subregion-y-input"].removeEventListener("changeend",_i1293),_this813.Pk=!1;});}},{key:"Ok",value:function Ok(t){var _this814=this;var e,_i1294,s=this.primitive.closest("filter"),n=this["#subregion-lock-button"].toggled,o=this["#subregion-width-input"].value/this["#subregion-height-input"].value;this.tn.board.undoManager.checkpoint("Filter primitive subregion width"),this.Pk=!0,this["#subregion-width-input"].addEventListener("change",e=function e(){if(null===_this814["#subregion-width-input"].value)_this814.primitive.removeAttribute("width");else if("objectBoundingBox"===s.getAttribute("primitiveUnits")){if(_this814.primitive.setAttribute("width",_this814["#subregion-width-input"].value+"%"),n){var _t2147=tt(_this814["#subregion-width-input"].value/o,0,Infinity,2);_this814["#subregion-height-input"].value=_t2147,_this814.primitive.setAttribute("height",_t2147+"%");}}else if(_this814.primitive.setAttribute("width",_this814["#subregion-width-input"].value),n){var _t2148=tt(_this814["#subregion-width-input"].value/o,0,Infinity,2);_this814["#subregion-height-input"].value=_t2148,_this814.primitive.setAttribute("height",_t2148);}}),this["#subregion-width-input"].addEventListener("changeend",_i1294=function i(){_this814["#subregion-width-input"].removeEventListener("change",e),_this814["#subregion-width-input"].removeEventListener("changeend",_i1294),_this814.Pk=!1;});}},{key:"Ek",value:function Ek(t){var _this815=this;var e,_i1295,s=this["#subregion-lock-button"].toggled,n=this["#subregion-width-input"].value/this["#subregion-height-input"].value,o=this.primitive.closest("filter");this.tn.board.undoManager.checkpoint("Filter subregion height"),this.Pk=!0,this["#subregion-height-input"].addEventListener("change",e=function e(){if(null===_this815["#subregion-height-input"].value)_this815.primitive.removeAttribute("height");else if("objectBoundingBox"===o.getAttribute("primitiveUnits")){if(_this815.primitive.setAttribute("height",_this815["#subregion-height-input"].value+"%"),s){var _t2149=tt(_this815["#subregion-height-input"].value/n,0,Infinity,2);_this815["#subregion-width-input"].value=_t2149,_this815.primitive.setAttribute("width",_t2149+"%");}}else if(_this815.primitive.setAttribute("height",_this815["#subregion-height-input"].value),s){var _t2150=tt(_this815["#subregion-height-input"].value/n,0,Infinity,2);_this815["#subregion-width-input"].value=_t2150,_this815.primitive.setAttribute("width",_t2150);}}),this["#subregion-height-input"].addEventListener("changeend",_i1295=function i(){_this815["#subregion-height-input"].removeEventListener("change",e),_this815["#subregion-height-input"].removeEventListener("changeend",_i1295),_this815.Pk=!1;});}},{key:"Tk",value:function Tk(){this.Mk=this["#subregion-lock-button"].toggled,this.Js.setConfig("".concat(this.localName,":subregionLocked"),this.Mk),this.Xs();}},{key:"Xs",value:function Xs(){if(!this.Pk)if("SourceAlpha"===this._k||"SourceGraphic"===this._k)this["#subregion-section"].hidden=!0;else{var _t2151=this._k,_e1523=_t2151.closest("filter").primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?"%":"",i=Mx(_t2151);i=je(i,this.tn.board.geometryPrecision),this["#subregion-section"].hidden=!1,this["#subregion-x-input"].value=_t2151.hasAttribute("x")?i.x:null,this["#subregion-x-input"].suffix=_e1523,this["#subregion-y-input"].value=_t2151.hasAttribute("y")?i.y:null,this["#subregion-y-input"].suffix=_e1523,this["#subregion-width-input"].value=_t2151.hasAttribute("width")?i.width:null,this["#subregion-width-input"].suffix=_e1523,this["#subregion-height-input"].value=_t2151.hasAttribute("height")?i.height:null,this["#subregion-height-input"].suffix=_e1523,this["#subregion-lock-button"].toggled=this.Mk,this["#subregion-lock-icon"].name=this.Mk?"lock-on":"lock-off";}}}]);return Tm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tm,"_shadowTemplate",Ki(_templateObject414()));_defineProperty(Tm,"_shadowStyleSheet",Qi(_templateObject415()));var Am=/*#__PURE__*/function(_Tm){_inherits(Am,_Tm);var _super171=_createSuper(Am);_createClass(Am,[{key:"name",get:function get(){return"Blend";}}]);function Am(){var _this816;_classCallCheck(this,Am);_this816=_super171.call(this),_this816["#blend-mode-select"].addEventListener("change",function(){return _this816.Vm();});return _this816;}_createClass(Am,[{key:"Vm",value:function Vm(){this.tn.board.undoManager.checkpoint("Filter blend mode"),this.primitive.setAttribute("mode",this["#blend-mode-select"].value);}},{key:"Xs",value:function Xs(){this.Pk||(_get(_getPrototypeOf(Am.prototype),"Xs",this).call(this),this.primitive.hasAttribute("mode")?this["#blend-mode-select"].value=this.primitive.getAttribute("mode"):this["#blend-mode-select"].value="normal");}}]);return Am;}(Tm);_defineProperty(Am,"_shadowTemplate",Ki(_templateObject416()));_defineProperty(Am,"_shadowStyleSheet",Qi(_templateObject417()));customElements.define("bx-blendprimitiveinspector",Am);var $m=/*#__PURE__*/function(_Tm2){_inherits($m,_Tm2);var _super172=_createSuper($m);_createClass($m,[{key:"name",get:function get(){return"Composite";}}]);function $m(){var _this817;_classCallCheck(this,$m);_this817=_super172.call(this),_this817["#operator-select"].addEventListener("change",function(){return _this817.Ak();}),_this817["#k1-input"].addEventListener("changestart",function(t){return _this817.$k(t);}),_this817["#k2-input"].addEventListener("changestart",function(t){return _this817.$k(t);}),_this817["#k3-input"].addEventListener("changestart",function(t){return _this817.$k(t);}),_this817["#k4-input"].addEventListener("changestart",function(t){return _this817.$k(t);});return _this817;}_createClass($m,[{key:"Ak",value:function Ak(){this.tn.board.undoManager.checkpoint("Composite operator"),this.primitive.setAttribute("operator",this["#operator-select"].value),this.primitive.removeAttribute("k1"),this.primitive.removeAttribute("k2"),this.primitive.removeAttribute("k3"),this.primitive.removeAttribute("k4"),this.Xs();}},{key:"$k",value:function $k(t){var _this818=this;var e,_i1296,s=t.target,n=s.dataset.parameter;this.tn.board.undoManager.checkpoint("Composite ".concat(n," parameter")),s.addEventListener("change",e=function e(){0===s.value?_this818.primitive.removeAttribute(n):_this818.primitive.setAttribute(n,s.value);}),s.addEventListener("changeend",_i1296=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1296);});}},{key:"Xs",value:function Xs(){this.Pk||(_get(_getPrototypeOf($m.prototype),"Xs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-select"].value=this.primitive.getAttribute("operator"):this["#operator-select"].value="over","arithmetic"===this.primitive.getAttribute("operator")?(this["#parameters-section"].hidden=!1,this["#k1-input"].value=J(this.primitive.k1.baseVal,5),this["#k2-input"].value=J(this.primitive.k2.baseVal,5),this["#k3-input"].value=J(this.primitive.k3.baseVal,5),this["#k4-input"].value=J(this.primitive.k4.baseVal,5)):this["#parameters-section"].hidden=!0);}}]);return $m;}(Tm);_defineProperty($m,"_shadowTemplate",Ki(_templateObject418()));_defineProperty($m,"_shadowStyleSheet",Qi(_templateObject419()));customElements.define("bx-compositeprimitiveinspector",$m);customElements.define("bx-mergeprimitiveinspector",/*#__PURE__*/function(_Tm3){_inherits(_class5,_Tm3);var _super173=_createSuper(_class5);_createClass(_class5,[{key:"name",get:function get(){return"Merge";}}]);function _class5(){_classCallCheck(this,_class5);return _super173.call(this);}return _class5;}(Tm));var Im=/*#__PURE__*/function(_Tm4){_inherits(Im,_Tm4);var _super174=_createSuper(Im);_createClass(Im,[{key:"name",get:function get(){return"Flood";}}]);function Im(){var _this819;_classCallCheck(this,Im);_this819=_super174.call(this),_this819.Yb=!1,_this819.wb=!1,_this819["#color-select"].addEventListener("changestart",function(){return _this819.Kb();}),_this819["#opacity-box"].addEventListener("changestart",function(t){return _this819.vb(t);});return _this819;}_createClass(Im,[{key:"Kb",value:function Kb(){var _this820=this;var t,_e1524;this.tn.board.undoManager.checkpoint("Flood color"),this.Yb=!0,this["#color-select"].addEventListener("change",t=function t(){_this820.primitive.style.setProperty("flood-color",_this820["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1524=function e(){_this820["#color-select"].removeEventListener("change",t),_this820["#color-select"].removeEventListener("changeend",_e1524),Op("flood-color",_this820.primitive),_this820.Yb=!1;});}},{key:"vb",value:function vb(){var _this821=this;var t,_e1525;this.tn.board.undoManager.checkpoint("Flood opacity"),this.wb=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2152){_t2152.target===_this821["#opacity-slider"]?_this821["#opacity-input"].value=_this821["#opacity-slider"].value:_t2152.target===_this821["#opacity-input"]&&(_this821["#opacity-slider"].value=_this821["#opacity-input"].value),_this821.primitive.style.setProperty("flood-opacity",_this821["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1525=function e(){_this821["#opacity-section"].removeEventListener("change",t),_this821["#opacity-section"].removeEventListener("changeend",_e1525),Op("flood-opacity",_this821.primitive),_this821.wb=!1;});}},{key:"Xs",value:function Xs(){if(this.Yb||this.wb||this.Pk)return;_get(_getPrototypeOf(Im.prototype),"Xs",this).call(this);var t=getComputedStyle(this.primitive);this["#color-select"].value=t.floodColor;{var _e1526=J(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1526,this["#opacity-input"].value=_e1526;}}}]);return Im;}(Tm);_defineProperty(Im,"_shadowTemplate",Ki(_templateObject420()));_defineProperty(Im,"_shadowStyleSheet",Qi(_templateObject421()));customElements.define("bx-floodprimitiveinspector",Im);var Lm=pdfjsLib;Lm.GlobalWorkerOptions.workerSrc="/node_modules/pdfjs-dist/build/pdf.worker.min.js";var Bm=function Bm(t){return new Promise(/*#__PURE__*/function(){var _ref173=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee155(e,i){var s,n,_t2153,_e1527,_e1528,_i1297,_n497,_o481,_l366,_a270,_i1298,_arr65,_e1529,_i1299,_arr66,_t2154,_i1300,_arr67,_t2155,_iterator1436,_step1436,_e1530,_t2156,_e1531,_i1301,_s754,_o482,_e1532,_i1302,_s755,_iterator1437,_step1437,_e1533,_t2157,_i1303,_i1304,_s756,_n498;return regeneratorRuntime.wrap(function _callee155$(_context157){while(1){switch(_context157.prev=_context157.next){case 0:s=null,n=null;_context157.prev=1;_context157.next=4;return Lm.getDocument({data:t}).promise;case 4:s=_context157.sent;_context157.next=10;break;case 7:_context157.prev=7;_context157.t0=_context157["catch"](1);n=_context157.t0;case 10:if(!n){_context157.next=14;break;}i(n);_context157.next=119;break;case 14:if(!(null===s)){_context157.next=18;break;}i("PDF data not found.");_context157.next=119;break;case 18:if(!(1===s.numPages)){_context157.next=27;break;}_context157.next=21;return s.getPage(1);case 21:_e1527=_context157.sent;_context157.next=24;return Rm(_e1527,1);case 24:_t2153=_context157.sent;_context157.next=46;break;case 27:_t2153=Ji(_templateObject69());_e1528=0;_i1297=1;case 30:if(!(_i1297<=s.numPages)){_context157.next=45;break;}_context157.next=33;return s.getPage(_i1297);case 33:_n497=_context157.sent;_context157.next=36;return Rm(_n497,1);case 36:_o481=_context157.sent;_l366=_n497.getViewport({scale:1}).viewBox;_a270=Ji(_templateObject70(),_e1528,_i1297);if(_t2153.append(_a270),1===_i1297)for(_i1298=0,_arr65=_toConsumableArray(_o481.attributes);_i1298<_arr65.length;_i1298++){_e1529=_arr65[_i1298];_t2153.setAttribute(_e1529.name,_e1529.value);}else for(_i1299=0,_arr66=_toConsumableArray(_o481.attributes);_i1299<_arr66.length;_i1299++){_t2154=_arr66[_i1299];_a270.setAttribute(_t2154.name,_t2154.value);}for(_i1300=0,_arr67=_toConsumableArray(_o481.children);_i1300<_arr67.length;_i1300++){_t2155=_arr67[_i1300];_a270.append(_t2155);}_e1528+=_l366[3],_i1297<s.numPages&&(_e1528+=60);case 42:_i1297+=1;_context157.next=30;break;case 45:_t2153.viewBox.baseVal.height=_e1528,_t2153.height.baseVal.value=_e1528;case 46:_iterator1436=_createForOfIteratorHelper(_t2153.querySelectorAll("style"));_context157.prev=47;_iterator1436.s();case 49:if((_step1436=_iterator1436.n()).done){_context157.next=76;break;}_e1530=_step1436.value;_t2156=_e1530.textContent;case 52:if(!_t2156.includes("url(blob:")){_context157.next=73;break;}_e1531=_t2156.indexOf("url(blob:"),_i1301=_t2156.indexOf(")",_e1531)+1,_s754=_t2156.substring(_e1531,_i1301),_o482=_s754.substring(4,_s754.length-1);_context157.prev=54;_context157.next=57;return fetch(_o482,{mode:"no-cors"});case 57:_e1532=_context157.sent;_context157.next=60;return _e1532.blob();case 60:_i1302=_context157.sent;_context157.next=63;return hr(_i1302);case 63:_s755=_context157.sent;"data:"!==_s755&&(_t2156=_t2156.replace(_o482,_s755));_context157.next=71;break;case 67:_context157.prev=67;_context157.t1=_context157["catch"](54);console.log(_context157.t1);return _context157.abrupt("break",73);case 71:_context157.next=52;break;case 73:_e1530.textContent=_t2156;case 74:_context157.next=49;break;case 76:_context157.next=81;break;case 78:_context157.prev=78;_context157.t2=_context157["catch"](47);_iterator1436.e(_context157.t2);case 81:_context157.prev=81;_iterator1436.f();return _context157.finish(81);case 84:_iterator1437=_createForOfIteratorHelper(_t2153.querySelectorAll("image"));_context157.prev=85;_iterator1437.s();case 87:if((_step1437=_iterator1437.n()).done){_context157.next=110;break;}_e1533=_step1437.value;_t2157=_e1533.getAttribute("xlink:href")||"";if(!_t2157.startsWith("blob:")){_context157.next=108;break;}_i1303=null;_context157.prev=92;_context157.next=95;return fetch(_t2157,{mode:"no-cors"});case 95:_i1304=_context157.sent;_context157.next=98;return _i1304.blob();case 98:_s756=_context157.sent;_context157.next=101;return hr(_s756);case 101:_n498=_context157.sent;"data:"!==_n498&&_e1533.setAttribute("xlink:href",_n498);_context157.next=108;break;case 105:_context157.prev=105;_context157.t3=_context157["catch"](92);console.log("Fetch error",_i1303);case 108:_context157.next=87;break;case 110:_context157.next=115;break;case 112:_context157.prev=112;_context157.t4=_context157["catch"](85);_iterator1437.e(_context157.t4);case 115:_context157.prev=115;_iterator1437.f();return _context157.finish(115);case 118:e(Wp(_t2153,"xml"));case 119:case"end":return _context157.stop();}}},_callee155,null,[[1,7],[47,78,81,84],[54,67],[85,112,115,118],[92,105]]);}));return function(_x281,_x282){return _ref173.apply(this,arguments);};}());},Rm=function Rm(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return new Promise(/*#__PURE__*/function(){var _ref174=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee156(e){var i,s,n,o,a,_loop36,_i1305,_arr68,_i1306,_arr69,_t2158,h,r,d,_t2159,_loop37,_i1307,_arr70,_i1309,_arr71,_e1535;return regeneratorRuntime.wrap(function _callee156$(_context158){while(1){switch(_context158.prev=_context158.next){case 0:i=document.createElementNS(l.svg,"svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");s=t.getViewport({scale:1});_context158.next=5;return t.getOperatorList();case 5:n=_context158.sent;o=new Lm.SVGGraphics(t.commonObjs,t.objs);o.embedFonts=!0;_context158.next=10;return o.getSVG(n,s);case 10:a=_context158.sent;_loop36=function _loop36(){var t=_arr68[_i1305];if(j.includes(t.name)){var _e1534=N.find(function(e){return e.presentationAttributeName===t.name;});i.style.setProperty(_e1534.name,t.value);}else i.setAttribute(t.name,t.value);};for(_i1305=0,_arr68=_toConsumableArray(a.attributes);_i1305<_arr68.length;_i1305++){_loop36();}for(_i1306=0,_arr69=_toConsumableArray(a.childNodes);_i1306<_arr69.length;_i1306++){_t2158=_arr69[_i1306];i.append(_t2158);}h=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,r=document.createNodeIterator(i,h),d=null;for(;d=r.nextNode();){if(d.nodeType===Node.ELEMENT_NODE&&("svg"===d.prefix||"xlink"===d.prefix)){_t2159=document.createElementNS(l[d.prefix],d.localName);_loop37=function _loop37(){var e=_arr70[_i1307];if(j.includes(e.name)){var _i1308=N.find(function(t){return t.presentationAttributeName===e.name;});_t2159.style.setProperty(_i1308.name,e.value);}else _t2159.setAttribute(e.name,e.value);};for(_i1307=0,_arr70=_toConsumableArray(d.attributes);_i1307<_arr70.length;_i1307++){_loop37();}for(_i1309=0,_arr71=_toConsumableArray(d.childNodes);_i1309<_arr71.length;_i1309++){_e1535=_arr71[_i1309];_t2159.append(_e1535);}d.replaceWith(_t2159);}}e(i);case 17:case"end":return _context158.stop();}}},_callee156);}));return function(_x283){return _ref174.apply(this,arguments);};}());};var Gm=/*#__PURE__*/function(_Tm5){_inherits(Gm,_Tm5);var _super175=_createSuper(Gm);_createClass(Gm,[{key:"name",get:function get(){return"Image";}}]);function Gm(){var _this822;_classCallCheck(this,Gm);_this822=_super175.call(this),_this822["#source-href-input"].addEventListener("change",function(){return _this822.Ik();}),_this822["#source-import-button"].addEventListener("click",function(){return _this822.Lk();});return _this822;}_createClass(Gm,[{key:"Ik",value:function Ik(){this.tn.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",this["#source-href-input"].value);}},{key:"Lk",value:function(){var _Lk=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee157(){var t,_e1536,_i1310,_i1311,_s757,_t2160;return regeneratorRuntime.wrap(function _callee157$(_context159){while(1){switch(_context159.prev=_context159.next){case 0:_context159.next=2;return this.Js.openImageImportDialog();case 2:t=_context159.sent;if(!t){_context159.next=34;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context159.next=11;break;}_i1310=new Blob([t.data],{type:"image/svg+xml"});_context159.next=8;return hr(_i1310);case 8:_e1536=_context159.sent;_context159.next=33;break;case 11:if(!("pdf"===t.extension||"ai"===t.extension)){_context159.next=32;break;}_i1311=null,_s757=null;_context159.prev=13;_context159.next=16;return Bm(t.data);case 16:_i1311=_context159.sent;_context159.next=22;break;case 19:_context159.prev=19;_context159.t0=_context159["catch"](13);_s757=_context159.t0;case 22:if(!_s757){_context159.next=26;break;}this.Js.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_s757.message});_context159.next=30;break;case 26:_t2160=new Blob([_i1311],{type:"image/svg+xml"});_context159.next=29;return hr(_t2160);case 29:_e1536=_context159.sent;case 30:_context159.next=33;break;case 32:_e1536=t.data;case 33:_e1536&&(this.tn.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",_e1536));case 34:case"end":return _context159.stop();}}},_callee157,this,[[13,19]]);}));function Lk(){return _Lk.apply(this,arguments);}return Lk;}()},{key:"Xs",value:function Xs(){if(!this.Pk){_get(_getPrototypeOf(Gm.prototype),"Xs",this).call(this);this.primitive.getAttribute("href");""===this.primitive.href.baseVal?(this["#source-href-input"].value="",this["#source-thumbnail-img"].removeAttribute("src")):(this["#source-href-input"].value=this.primitive.getAttribute("href"),this["#source-thumbnail-img"].src=this.primitive.getAttribute("href"));}}}]);return Gm;}(Tm);_defineProperty(Gm,"_shadowTemplate",Ki(_templateObject422()));_defineProperty(Gm,"_shadowStyleSheet",Qi(_templateObject423()));customElements.define("bx-imageprimitiveinspector",Gm);customElements.define("bx-tileprimitiveinspector",/*#__PURE__*/function(_Tm6){_inherits(_class6,_Tm6);var _super176=_createSuper(_class6);_createClass(_class6,[{key:"name",get:function get(){return"Tile";}}]);function _class6(){_classCallCheck(this,_class6);return _super176.call(this);}return _class6;}(Tm));var Um=/*#__PURE__*/function(_Tm7){_inherits(Um,_Tm7);var _super177=_createSuper(Um);_createClass(Um,[{key:"name",get:function get(){return"Turbulence";}}]);function Um(){var _this823;_classCallCheck(this,Um);_this823=_super177.call(this),_this823.Bk=!1,_this823.Mm=!1,_this823.Rk=!1,_this823.Gk=!1,_this823["#type-buttons"].addEventListener("toggle",function(){return _this823.Uk();}),_this823["#frequency-x-input"].addEventListener("changestart",function(t){return _this823.Fk(t);}),_this823["#frequency-y-input"].addEventListener("changestart",function(t){return _this823.Nk(t);}),_this823["#frequency-lock-button"].addEventListener("toggle",function(){return _this823.jk();}),_this823["#frequency-stitch-checkbox"].addEventListener("toggle",function(){return _this823.Vk();}),_this823["#octaves-box"].addEventListener("changestart",function(t){return _this823.Hk(t);}),_this823["#seed-box"].addEventListener("changestart",function(t){return _this823.Wk(t);});return _this823;}_createClass(Um,[{key:"connectedCallback",value:function connectedCallback(){this.Bk=app.getConfig("".concat(this.localName,":frequencyLocked"),!1),_get(_getPrototypeOf(Um.prototype),"connectedCallback",this).call(this);}},{key:"Uk",value:function Uk(){this.tn.board.undoManager.checkpoint("Turbulence type"),this.primitive.setAttribute("type",this["#type-buttons"].value);}},{key:"Fk",value:function Fk(t){var _this824=this;var e,i,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.tn.board.undoManager.checkpoint("Filter base frequency"),this.Mm=!0,this["#frequency-x-input"].addEventListener("change",e=function e(){null===_this824["#frequency-x-input"].value&&(_this824["#frequency-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this824["#frequency-y-input"].value=tt(_this824["#frequency-x-input"].value/n,0,Infinity,2):_this824["#frequency-y-input"].value=_this824["#frequency-x-input"].value);var t=_this824["#frequency-x-input"].value,e=_this824["#frequency-y-input"].value;_this824.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-x-input"].addEventListener("changeend",i=function(_i1312){function i(){return _i1312.apply(this,arguments);}i.toString=function(){return _i1312.toString();};return i;}(function(){_this824["#frequency-x-input"].removeEventListener("change",e),_this824["#frequency-x-input"].removeEventListener("changeend",i),_this824.Mm=!1;}));}},{key:"Nk",value:function Nk(t){var _this825=this;var e,i,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.tn.board.undoManager.checkpoint("Filter base frequency"),this.Mm=!0,this["#frequency-y-input"].addEventListener("change",e=function e(){null===_this825["#frequency-y-input"].value&&(_this825["#frequency-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this825["#frequency-x-input"].value=tt(_this825["#frequency-y-input"].value/n,0,Infinity,2):_this825["#frequency-x-input"].value=_this825["#frequency-y-input"].value);var t=_this825["#frequency-x-input"].value,e=_this825["#frequency-y-input"].value;_this825.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-y-input"].addEventListener("changeend",i=function(_i1313){function i(){return _i1313.apply(this,arguments);}i.toString=function(){return _i1313.toString();};return i;}(function(){_this825["#frequency-y-input"].removeEventListener("change",e),_this825["#frequency-y-input"].removeEventListener("changeend",i),_this825.Mm=!1;}));}},{key:"jk",value:function jk(){this.Bk=this["#frequency-lock-button"].toggled,this.Js.setConfig("".concat(this.localName,":frequencyLocked"),this.Bk),this.Xs();}},{key:"Vk",value:function Vk(){this["#frequency-stitch-checkbox"].toggled?this.primitive.setAttribute("stitchTiles","stitch"):this.primitive.removeAttribute("stitchTiles");}},{key:"Hk",value:function Hk(){var _this826=this;var t,_e1537;this.tn.board.undoManager.checkpoint("Number of octaves"),this.Rk=!0,this["#octaves-section"].addEventListener("change",t=function t(_t2161){_t2161.target===_this826["#octaves-slider"]?_this826["#octaves-input"].value=_this826["#octaves-slider"].value:_t2161.target===_this826["#octaves-input"]&&(_this826["#octaves-slider"].value=Math.floor(_this826["#octaves-input"].value)),_this826.primitive.setAttribute("numOctaves",_this826["#octaves-slider"].value);}),this["#octaves-section"].addEventListener("changeend",_e1537=function e(){_this826["#octaves-section"].removeEventListener("change",t),_this826["#octaves-section"].removeEventListener("changeend",_e1537),_this826.Rk=!1;});}},{key:"Wk",value:function Wk(){var _this827=this;var t,_e1538;this.tn.board.undoManager.checkpoint("Seed"),this.Gk=!0,this["#seed-section"].addEventListener("change",t=function t(_t2162){_t2162.target===_this827["#seed-slider"]?_this827["#seed-input"].value=_this827["#seed-slider"].value:_t2162.target===_this827["#seed-input"]&&(_this827["#seed-slider"].value=Math.floor(_this827["#seed-input"].value)),_this827.primitive.setAttribute("seed",_this827["#seed-slider"].value);}),this["#seed-section"].addEventListener("changeend",_e1538=function e(){_this827["#seed-section"].removeEventListener("change",t),_this827["#seed-section"].removeEventListener("changeend",_e1538),_this827.Gk=!1;});}},{key:"Xs",value:function Xs(){this.Mm||this.Rk||this.Gk||this.Pk||(_get(_getPrototypeOf(Um.prototype),"Xs",this).call(this),this.primitive.hasAttribute("type")?this["#type-buttons"].value=this.primitive.getAttribute("type"):this["#type-buttons"].value="turbulence",this["#frequency-x-input"].value=J(this.primitive.baseFrequencyX.baseVal,2),this["#frequency-y-input"].value=J(this.primitive.baseFrequencyY.baseVal,2),this["#frequency-lock-button"].toggled=this.Bk,this["#frequency-lock-icon"].name=this.Bk?"lock-on":"lock-off",this["#frequency-stitch-checkbox"].toggled="stitch"===this.primitive.getAttribute("stitchTiles"),this["#octaves-slider"].value=this.primitive.numOctaves.baseVal,this["#octaves-input"].value=this.primitive.numOctaves.baseVal,this["#seed-slider"].value=this.primitive.seed.baseVal,this["#seed-input"].value=this.primitive.seed.baseVal);}}]);return Um;}(Tm);_defineProperty(Um,"_shadowTemplate",Ki(_templateObject424()));_defineProperty(Um,"_shadowStyleSheet",Qi(_templateObject425()));customElements.define("bx-turbulenceprimitiveinspector",Um);var Fm={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],saturate:1,hueRotate:0,luminanceToAlpha:0};var Nm=/*#__PURE__*/function(_Tm8){_inherits(Nm,_Tm8);var _super178=_createSuper(Nm);_createClass(Nm,[{key:"name",get:function get(){return"Color matrix";}}]);function Nm(){var _this828;_classCallCheck(this,Nm);_this828=_super178.call(this),_this828.Yk=!1,_this828.qk=!1,_this828.Xk=!1,_this828["#type-select"].addEventListener("change",function(){return _this828.Zk();}),_this828["#matrix-values-section"].addEventListener("changestart",function(t){return _this828.Kk(t);}),_this828["#saturate-value-box"].addEventListener("changestart",function(){return _this828.Qk();}),_this828["#hue-rotate-value-box"].addEventListener("changestart",function(){return _this828.Jk();});return _this828;}_createClass(Nm,[{key:"Zk",value:function Zk(){this.tn.board.undoManager.checkpoint("Color matrix type"),"matrix"===this["#type-select"].value?(this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("type")):this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("values");}},{key:"Kk",value:function Kk(t){var _this829=this;var e,i,s=t.target,n=_toConsumableArray(this["#matrix-values-section"].querySelectorAll("x-numberinput:not([disabled])")),o=n.indexOf(s);this.tn.board.undoManager.checkpoint("Color matrix values"),this.Yk=!0,s.addEventListener("change",e=function e(){null===s.value&&(s.value=Fm.matrix[o]);var t=n.map(function(t){return t.value;});_this829.primitive.setAttribute("values",t.join(" "));}),s.addEventListener("changeend",i=function(_i1314){function i(){return _i1314.apply(this,arguments);}i.toString=function(){return _i1314.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this829.Yk=!1;}));}},{key:"Qk",value:function Qk(){var _this830=this;var t,_e1539;this.tn.board.undoManager.checkpoint("Color matrix value"),this.qk=!0,this["#saturate-value-box"].addEventListener("change",t=function t(_t2163){_t2163.target===_this830["#saturate-value-slider"]?_this830["#saturate-value-input"].value=_this830["#saturate-value-slider"].value:_t2163.target===_this830["#saturate-value-input"]&&(_this830["#saturate-value-slider"].value=_this830["#saturate-value-input"].value),_this830.primitive.setAttribute("values",_this830["#saturate-value-input"].value);}),this["#saturate-value-box"].addEventListener("changeend",_e1539=function e(){_this830["#saturate-value-box"].removeEventListener("change",t),_this830["#saturate-value-box"].removeEventListener("changeend",_e1539),_this830.qk=!1;});}},{key:"Jk",value:function Jk(){var _this831=this;var t,_e1540;this.tn.board.undoManager.checkpoint("Color matrix hue rotate"),this.Xk=!0,this["#hue-rotate-value-box"].addEventListener("change",t=function t(_t2164){_t2164.target===_this831["#hue-rotate-value-slider"]?_this831["#hue-rotate-value-input"].value=_this831["#hue-rotate-value-slider"].value:_t2164.target===_this831["#hue-rotate-value-input"]&&(_this831["#hue-rotate-value-slider"].value=_this831["#hue-rotate-value-input"].value),_this831.primitive.setAttribute("values",_this831["#hue-rotate-value-input"].value);}),this["#hue-rotate-value-box"].addEventListener("changeend",_e1540=function e(){_this831["#hue-rotate-value-box"].removeEventListener("change",t),_this831["#hue-rotate-value-box"].removeEventListener("changeend",_e1540),_this831.Xk=!1;});}},{key:"Xs",value:function Xs(){if(this.Yk||this.qk||this.Xk||this.Pk)return;_get(_getPrototypeOf(Nm.prototype),"Xs",this).call(this);var t=this.primitive.getAttribute("type");if(!1===["saturate","hueRotate","luminanceToAlpha","matrix"].includes(t)&&(t="matrix"),this["#type-select"].value=t,"matrix"===t){var _t2165=_toConsumableArray(Fm.matrix);for(var _e1541=0;_e1541<this.primitive.values.baseVal.numberOfItems;_e1541+=1){_t2165[_e1541]=J(this.primitive.values.baseVal[_e1541].value,2);}for(var _e1542=0;_e1542<_t2165.length;_e1542+=1){this["#matrix-".concat(_e1542,"-input")].value=_t2165[_e1542];}this["#matrix-values-section"].hidden=!1;}else this["#matrix-values-section"].hidden=!0;if("saturate"===t){var _t2166=Fm.saturate;this.primitive.values.baseVal.numberOfItems>0&&(_t2166=J(this.primitive.values.baseVal[0].value,2)),this["#saturate-value-section"].hidden=!1,this["#saturate-value-input"].value=_t2166,this["#saturate-value-slider"].value=_t2166;}else this["#saturate-value-section"].hidden=!0;if("hueRotate"===t){var _t2167=Fm.hueRotate;this.primitive.values.baseVal.numberOfItems>0&&(_t2167=J(this.primitive.values.baseVal[0].value,0)),this["#hue-rotate-value-section"].hidden=!1,this["#hue-rotate-value-input"].value=_t2167,this["#hue-rotate-value-slider"].value=_t2167;}else this["#hue-rotate-value-section"].hidden=!0;}}]);return Nm;}(Tm);_defineProperty(Nm,"_shadowTemplate",Ki(_templateObject426()));_defineProperty(Nm,"_shadowStyleSheet",Qi(_templateObject427()));customElements.define("bx-colormatrixprimitiveinspector",Nm);var jm=/*#__PURE__*/function(_Tm9){_inherits(jm,_Tm9);var _super179=_createSuper(jm);_createClass(jm,[{key:"name",get:function get(){return"Component transfer";}}]);function jm(){var _this832;_classCallCheck(this,jm);_this832=_super179.call(this),_this832.tS=!1,_this832.eS=!1,_this832.iS=!1,_this832.sS=!1,_this832.nS=!1,_this832.oS=!1,_this832["#component-buttons"].addEventListener("toggle",function(){return _this832.lS();}),_this832["#type-select"].addEventListener("change",function(){return _this832.Zk();}),_this832["#linear-slope-box"].addEventListener("changestart",function(){return _this832.aS();}),_this832["#linear-intercept-box"].addEventListener("changestart",function(){return _this832.hS();}),_this832["#gamma-amplitude-box"].addEventListener("changestart",function(){return _this832.rS();}),_this832["#gamma-exponent-box"].addEventListener("changestart",function(){return _this832.dS();}),_this832["#gamma-offset-box"].addEventListener("changestart",function(){return _this832.cS();}),_this832["#table-values-box"].addEventListener("changestart",function(t){return _this832.pS(t);});return _this832;}_createClass(jm,[{key:"lS",value:function lS(){this.Xs();}},{key:"Zk",value:function Zk(){var t=this.primitive.querySelector(this["#component-buttons"].value);this.tn.board.undoManager.checkpoint("Component transfer function type"),t||(t=$i("svg:"+this["#component-buttons"].value),this.primitive.append(t)),"identity"===this["#type-select"].value?t.removeAttribute("type"):t.setAttribute("type",this["#type-select"].value),"linear"!==this["#type-select"].value&&(t.removeAttribute("slope"),t.removeAttribute("intercept")),"gamma"!==this["#type-select"].value&&(t.removeAttribute("amplitude"),t.removeAttribute("exponent"),t.removeAttribute("offset")),"table"!==this["#type-select"].value&&"discrete"!==this["#type-select"].value&&t.removeAttribute("tableValues");}},{key:"aS",value:function aS(){var _this833=this;var t,_e1543,i=this.primitive.querySelector(this["#component-buttons"].value);this.tn.board.undoManager.checkpoint("Component transfer function slope"),this.tS=!0,this["#linear-slope-section"].addEventListener("change",t=function t(_t2168){_t2168.target===_this833["#linear-slope-slider"]?_this833["#linear-slope-input"].value=_this833["#linear-slope-slider"].value:_t2168.target===_this833["#linear-slope-input"]&&(_this833["#linear-slope-slider"].value=_this833["#linear-slope-input"].value),1===_this833["#linear-slope-input"].value?i.removeAttribute("slope"):i.setAttribute("slope",_this833["#linear-slope-input"].value);}),this["#linear-slope-section"].addEventListener("changeend",_e1543=function e(){_this833["#linear-slope-section"].removeEventListener("change",t),_this833["#linear-slope-section"].removeEventListener("changeend",_e1543),_this833.tS=!1;});}},{key:"hS",value:function hS(){var _this834=this;var t,_e1544,i=this.primitive.querySelector(this["#component-buttons"].value);this.tn.board.undoManager.checkpoint("Component transfer function intercept"),this.eS=!0,this["#linear-intercept-section"].addEventListener("change",t=function t(_t2169){_t2169.target===_this834["#linear-intercept-slider"]?_this834["#linear-intercept-input"].value=_this834["#linear-intercept-slider"].value:_t2169.target===_this834["#linear-intercept-input"]&&(_this834["#linear-intercept-slider"].value=_this834["#linear-intercept-input"].value),0===_this834["#linear-intercept-input"].value?i.removeAttribute("intercept"):i.setAttribute("intercept",_this834["#linear-intercept-input"].value);}),this["#linear-intercept-section"].addEventListener("changeend",_e1544=function e(){_this834["#linear-intercept-section"].removeEventListener("change",t),_this834["#linear-intercept-section"].removeEventListener("changeend",_e1544),_this834.eS=!1;});}},{key:"rS",value:function rS(){var _this835=this;var t,_e1545,i=this.primitive.querySelector(this["#component-buttons"].value);this.tn.board.undoManager.checkpoint("Component transfer function amplitude"),this.iS=!0,this["#gamma-amplitude-section"].addEventListener("change",t=function t(_t2170){_t2170.target===_this835["#gamma-amplitude-slider"]?_this835["#gamma-amplitude-input"].value=_this835["#gamma-amplitude-slider"].value:_t2170.target===_this835["#gamma-amplitude-input"]&&(_this835["#gamma-amplitude-slider"].value=_this835["#gamma-amplitude-input"].value),1===_this835["#gamma-amplitude-input"].value?i.removeAttribute("amplitude"):i.setAttribute("amplitude",_this835["#gamma-amplitude-input"].value);}),this["#gamma-amplitude-section"].addEventListener("changeend",_e1545=function e(){_this835["#gamma-amplitude-section"].removeEventListener("change",t),_this835["#gamma-amplitude-section"].removeEventListener("changeend",_e1545),_this835.iS=!1;});}},{key:"dS",value:function dS(){var _this836=this;var t,_e1546,i=this.primitive.querySelector(this["#component-buttons"].value);this.tn.board.undoManager.checkpoint("Component transfer function exponent"),this.sS=!0,this["#gamma-exponent-section"].addEventListener("change",t=function t(_t2171){_t2171.target===_this836["#gamma-exponent-slider"]?_this836["#gamma-exponent-input"].value=_this836["#gamma-exponent-slider"].value:_t2171.target===_this836["#gamma-exponent-input"]&&(_this836["#gamma-exponent-slider"].value=_this836["#gamma-exponent-input"].value),1===_this836["#gamma-exponent-input"].value?i.removeAttribute("exponent"):i.setAttribute("exponent",_this836["#gamma-exponent-input"].value);}),this["#gamma-exponent-section"].addEventListener("changeend",_e1546=function e(){_this836["#gamma-exponent-section"].removeEventListener("change",t),_this836["#gamma-exponent-section"].removeEventListener("changeend",_e1546),_this836.sS=!1;});}},{key:"cS",value:function cS(){var _this837=this;var t,_e1547,i=this.primitive.querySelector(this["#component-buttons"].value);this.tn.board.undoManager.checkpoint("Component transfer function offset"),this.nS=!0,this["#gamma-offset-section"].addEventListener("change",t=function t(_t2172){_t2172.target===_this837["#gamma-offset-slider"]?_this837["#gamma-offset-input"].value=_this837["#gamma-offset-slider"].value:_t2172.target===_this837["#gamma-offset-input"]&&(_this837["#gamma-offset-slider"].value=_this837["#gamma-offset-input"].value),0===_this837["#gamma-offset-input"].value?i.removeAttribute("offset"):i.setAttribute("offset",_this837["#gamma-offset-input"].value);}),this["#gamma-offset-section"].addEventListener("changeend",_e1547=function e(){_this837["#gamma-offset-section"].removeEventListener("change",t),_this837["#gamma-offset-section"].removeEventListener("changeend",_e1547),_this837.nS=!1;});}},{key:"pS",value:function pS(t){var _this838=this;var e,i,s=this.primitive.querySelector(this["#component-buttons"].value),n=_toConsumableArray(this["#table-values-box"].children),o=t.target;this.tn.board.undoManager.checkpoint("Component transfer function table values"),this.oS=!0,o.addEventListener("change",e=function e(){var t=n.map(function(t){return t.value;}).filter(function(t){return null!==t;});0===t.length?s.removeAttribute("tableValues"):s.setAttribute("tableValues",t.join(" "));}),o.addEventListener("changeend",i=function(_i1315){function i(){return _i1315.apply(this,arguments);}i.toString=function(){return _i1315.toString();};return i;}(function(){o.removeEventListener("change",e),o.removeEventListener("changeend",i),_this838.oS=!1,_this838.Xs();}));}},{key:"Xs",value:function Xs(){if(this.tS||this.eS||this.iS||this.sS||this.nS||this.oS||this.Pk)return;_get(_getPrototypeOf(jm.prototype),"Xs",this).call(this);var t=this.primitive.querySelector(this["#component-buttons"].value),e=t?t.getAttribute("type"):"identity";if(!1===["identity","table","discrete","linear","gamma"].includes(e)&&(e="identity"),this["#type-select"].value=e,"linear"===e?(this["#linear-slope-section"].hidden=!1,this["#linear-slope-slider"].value=J(t.slope.baseVal,2),this["#linear-slope-input"].value=J(t.slope.baseVal,2)):this["#linear-slope-section"].hidden=!0,"linear"===e?(this["#linear-intercept-section"].hidden=!1,this["#linear-intercept-slider"].value=J(t.intercept.baseVal,2),this["#linear-intercept-input"].value=J(t.intercept.baseVal,2)):this["#linear-intercept-section"].hidden=!0,"gamma"===e?(this["#gamma-amplitude-section"].hidden=!1,this["#gamma-amplitude-slider"].value=J(t.amplitude.baseVal,2),this["#gamma-amplitude-input"].value=J(t.amplitude.baseVal,2)):this["#gamma-amplitude-section"].hidden=!0,"gamma"===e?(this["#gamma-exponent-section"].hidden=!1,this["#gamma-exponent-slider"].value=t.exponent.baseVal,this["#gamma-exponent-input"].value=t.exponent.baseVal):this["#gamma-exponent-section"].hidden=!0,"gamma"===e?(this["#gamma-offset-section"].hidden=!1,this["#gamma-offset-slider"].value=t.offset.baseVal,this["#gamma-offset-input"].value=t.offset.baseVal):this["#gamma-offset-section"].hidden=!0,"table"===e||"discrete"===e){this["#table-values-section"].hidden=!1;var _e1548=_toConsumableArray(t.tableValues.baseVal).map(function(t){return J(t.value,2);}),_i1316=Math.max(2,_e1548.length+1);for(;this["#table-values-box"].childElementCount<_i1316;){this["#table-values-box"].append(this["#table-values-box"].lastElementChild.cloneNode());}for(;this["#table-values-box"].childElementCount>_i1316;){this["#table-values-box"].lastElementChild.remove();}for(var _t2173=0;_t2173<_i1316;_t2173+=1){void 0===_e1548[_t2173]?this["#table-values-box"].children[_t2173].value=null:this["#table-values-box"].children[_t2173].value=_e1548[_t2173];}}else this["#table-values-section"].hidden=!0;}}]);return jm;}(Tm);_defineProperty(jm,"_shadowTemplate",Ki(_templateObject428()));_defineProperty(jm,"_shadowStyleSheet",Qi(_templateObject429()));customElements.define("bx-componenttransferprimitiveinspector",jm);var Vm=10;var Hm=/*#__PURE__*/function(_Tm10){_inherits(Hm,_Tm10);var _super180=_createSuper(Hm);_createClass(Hm,[{key:"name",get:function get(){return"Convolve matrix";}}]);function Hm(){var _this839;_classCallCheck(this,Hm);_this839=_super180.call(this),_this839.uS=!1,_this839.xS=!1,_this839.bS=!1,_this839.mS=!1,_this839["#target-box"].addEventListener("changestart",function(t){return _this839.gS(t);}),_this839["#kernel-values-table"].addEventListener("changestart",function(t){return _this839.fS(t);}),_this839["#kernel-row-buttons"].addEventListener("click",function(t){return _this839.wS(t);}),_this839["#kernel-column-buttons"].addEventListener("click",function(t){return _this839.vS(t);}),_this839["#divisor-switch"].addEventListener("toggle",function(){return _this839.yS();}),_this839["#divisor-box"].addEventListener("changestart",function(t){return _this839.kS(t);}),_this839["#bias-box"].addEventListener("changestart",function(t){return _this839.SS(t);}),_this839["#edge-mode-buttons"].addEventListener("toggle",function(){return _this839.CS();}),_this839["#preserve-alpha-checkbox"].addEventListener("toggle",function(){return _this839._S();});return _this839;}_createClass(Hm,[{key:"fS",value:function fS(t){var _this840=this;var e,i,s=t.target,n=parseInt(s.dataset.x),o=parseInt(s.dataset.y),_this$MS=this.MS(),l=_this$MS.values,a=_this$MS.orderX,h=_this$MS.orderY,r=_this$MS.targetX,d=_this$MS.targetY;this.tn.board.undoManager.checkpoint("Convolve matrix value"),this.uS=!0,s.addEventListener("change",e=function e(){var _ref175;l[o][n]=s.value,_this840.primitive.setAttribute("kernelMatrix","".concat((_ref175=[]).concat.apply(_ref175,_toConsumableArray(l))));}),s.addEventListener("changeend",i=function(_i1317){function i(){return _i1317.apply(this,arguments);}i.toString=function(){return _i1317.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this840.uS=!1;}));}},{key:"wS",value:function wS(t){var _ref176;var e=t.target.closest("x-button"),_this$MS2=this.MS(),i=_this$MS2.values,s=_this$MS2.orderX,n=_this$MS2.orderY,o=_this$MS2.targetX,l=_this$MS2.targetY;e===this["#kernel-add-row-button"]?(n+=1,i.push(new Array(s).fill(0))):e===this["#kernel-remove-row-button"]&&(n-=1,i.length=n),this.tn.board.undoManager.checkpoint("Convolve matrix rows"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref176=[]).concat.apply(_ref176,_toConsumableArray(i)))),l>i.length-1&&this.primitive.removeAttribute("targetY");}},{key:"vS",value:function vS(t){var _ref177;var e=t.target.closest("x-button"),_this$MS3=this.MS(),i=_this$MS3.values,s=_this$MS3.orderX,n=_this$MS3.orderY,o=_this$MS3.targetX,l=_this$MS3.targetY;if(e===this["#kernel-add-column-button"]){s+=1;var _iterator1438=_createForOfIteratorHelper(i),_step1438;try{for(_iterator1438.s();!(_step1438=_iterator1438.n()).done;){var _t2174=_step1438.value;_t2174.push(0);}}catch(err){_iterator1438.e(err);}finally{_iterator1438.f();}}else if(e===this["#kernel-remove-column-button"]){s-=1;var _iterator1439=_createForOfIteratorHelper(i),_step1439;try{for(_iterator1439.s();!(_step1439=_iterator1439.n()).done;){var _t2175=_step1439.value;_t2175.pop();}}catch(err){_iterator1439.e(err);}finally{_iterator1439.f();}}this.tn.board.undoManager.checkpoint("Convolve matrix columns"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref177=[]).concat.apply(_ref177,_toConsumableArray(i)))),o>i[0].length-1&&this.primitive.removeAttribute("targetX");}},{key:"gS",value:function gS(t){var _this841=this;var e,i,s=t.target;this.tn.board.undoManager.checkpoint("Convolve matrix target"),this.xS=!0,this["#target-box"].addEventListener("change",e=function e(){_this841.primitive.setAttribute(s.dataset.name,Math.floor(s.value));var _iterator1440=_createForOfIteratorHelper(_this841["#kernel-values-table"].querySelectorAll("x-numberinput")),_step1440;try{for(_iterator1440.s();!(_step1440=_iterator1440.n()).done;){var _t2176=_step1440.value;parseInt(_t2176.dataset.x)===_this841["#target-x-input"].value&&parseInt(_t2176.dataset.y)===_this841["#target-y-input"].value?_t2176.setAttribute("data-target","true"):_t2176.setAttribute("data-target","false");}}catch(err){_iterator1440.e(err);}finally{_iterator1440.f();}}),this["#target-box"].addEventListener("changeend",i=function(_i1318){function i(){return _i1318.apply(this,arguments);}i.toString=function(){return _i1318.toString();};return i;}(function(){_this841["#target-box"].removeEventListener("change",e),_this841["#target-box"].removeEventListener("changeend",i),_this841.xS=!1;}));}},{key:"yS",value:function yS(){if(this.tn.board.undoManager.checkpoint("Convolve matrix divisor"),this["#divisor-switch"].toggled){var _t2177=1,_e1549=0;var _iterator1441=_createForOfIteratorHelper(this.MS().flatValues),_step1441;try{for(_iterator1441.s();!(_step1441=_iterator1441.n()).done;){var _t2178=_step1441.value;_e1549+=_t2178;}}catch(err){_iterator1441.e(err);}finally{_iterator1441.f();}0!==_e1549&&(_t2177=J(_e1549,2)),this.primitive.setAttribute("divisor",_t2177);}else this.primitive.removeAttribute("divisor");}},{key:"kS",value:function kS(){var _this842=this;var t,_e1550;this.tn.board.undoManager.checkpoint("Convolve matrix divisor"),this.bS=!0,this["#divisor-section"].addEventListener("change",t=function t(_t2179){_t2179.target===_this842["#divisor-slider"]?_this842["#divisor-input"].value=_this842["#divisor-slider"].value:_t2179.target===_this842["#divisor-input"]&&(_this842["#divisor-slider"].value=_this842["#divisor-input"].value),_this842.primitive.setAttribute("divisor",_this842["#divisor-input"].value);}),this["#divisor-section"].addEventListener("changeend",_e1550=function e(){_this842["#divisor-section"].removeEventListener("change",t),_this842["#divisor-section"].removeEventListener("changeend",_e1550),_this842.bS=!1;});}},{key:"SS",value:function SS(){var _this843=this;var t,_e1551;this.tn.board.undoManager.checkpoint("Convolve matrix bias"),this.mS=!0,this["#bias-section"].addEventListener("change",t=function t(_t2180){_t2180.target===_this843["#bias-slider"]?_this843["#bias-input"].value=_this843["#bias-slider"].value:_t2180.target===_this843["#bias-input"]&&(_this843["#bias-slider"].value=_this843["#bias-input"].value),_this843.primitive.setAttribute("bias",_this843["#bias-input"].value);}),this["#bias-section"].addEventListener("changeend",_e1551=function e(){_this843["#bias-section"].removeEventListener("change",t),_this843["#bias-section"].removeEventListener("changeend",_e1551),_this843.mS=!1;});}},{key:"CS",value:function CS(){var t=this["#edge-mode-buttons"].value;this.tn.board.undoManager.checkpoint("Convolve matrix edge mode"),"duplicate"===t?(this.primitive.setAttribute("edgeMode",t),this.primitive.removeAttribute("edgeMode")):this.primitive.setAttribute("edgeMode",t);}},{key:"_S",value:function _S(){this["#preserve-alpha-checkbox"].toggled?this.primitive.setAttribute("preserveAlpha","true"):(this.primitive.setAttribute("preserveAlpha","false"),this.primitive.removeAttribute("preserveAlpha"));}},{key:"MS",value:function MS(){var t=3,e=3,i=1,s=1,n=[],o=[];this.primitive.hasAttribute("order")&&(this.primitive.orderX.baseVal>0&&(t=tt(this.primitive.orderX.baseVal,1,Vm)),this.primitive.orderY.baseVal>0&&(e=tt(this.primitive.orderY.baseVal,1,Vm))),i=Math.floor(t/2),s=Math.floor(e/2),this.primitive.hasAttribute("targetX")&&this.primitive.targetX.baseVal>=0&&this.primitive.targetX.baseVal<t&&(i=this.primitive.targetX.baseVal),this.primitive.hasAttribute("targetY")&&this.primitive.targetY.baseVal>=0&&this.primitive.targetY.baseVal<e&&(s=this.primitive.targetY.baseVal);for(var _n499=0;_n499<e;_n499+=1){for(var _e1552=0;_e1552<t;_e1552+=1){_e1552===i&&_n499===s?o.push(1):o.push(0);}}if(o.length===this.primitive.kernelMatrix.baseVal.numberOfItems)for(var _t2181=0;_t2181<this.primitive.kernelMatrix.baseVal.numberOfItems;_t2181+=1){o[_t2181]=J(this.primitive.kernelMatrix.baseVal[_t2181].value,2);}{var _i1319=0;for(var _s758=0;_s758<e;_s758+=1){var _e1553=[];for(var _s759=0;_s759<t;_s759+=1){var _t2182=o[_i1319];_e1553.push(_t2182),_i1319+=1;}n.push(_e1553);}}return{orderX:t,orderY:e,targetX:i,targetY:s,values:n,flatValues:o};}},{key:"Xs",value:function Xs(){if(this.uS||this.xS||this.bS||this.mS||this.Pk)return;_get(_getPrototypeOf(Hm.prototype),"Xs",this).call(this);var _this$MS4=this.MS(),t=_this$MS4.orderX,e=_this$MS4.orderY,i=_this$MS4.targetX,s=_this$MS4.targetY,n=_this$MS4.values;{var _o483="",_l367=0,_a271=0;var _iterator1442=_createForOfIteratorHelper(n),_step1442;try{for(_iterator1442.s();!(_step1442=_iterator1442.n()).done;){var _t2183=_step1442.value;_o483+='<x-box class="row-box">',_l367=0;var _iterator1443=_createForOfIteratorHelper(_t2183),_step1443;try{for(_iterator1443.s();!(_step1443=_iterator1443.n()).done;){var _e1554=_step1443.value;_o483+="\n            <x-numberinput\n              value=\"".concat(_e1554,"\"\n              data-x=\"").concat(_l367,"\"\n              data-y=\"").concat(_a271,"\"\n              data-target=\"").concat(_l367===i&&_a271===s,"\"\n              step=\"0.01\"\n              style=\"\">\n            </x-numberinput>\n          "),_l367+=1;}}catch(err){_iterator1443.e(err);}finally{_iterator1443.f();}_o483+="</x-box>",_a271+=1;}}catch(err){_iterator1442.e(err);}finally{_iterator1442.f();}this["#kernel-values-table"].style.setProperty("--order-x",t),this["#kernel-values-table"].style.setProperty("--order-y",e),this["#kernel-values-table"].innerHTML=_o483,this["#kernel-add-row-button"].disabled=e>=Vm,this["#kernel-remove-row-button"].disabled=1===e,this["#kernel-add-column-button"].disabled=t>=Vm,this["#kernel-remove-column-button"].disabled=1===t;}if(this["#target-x-label"].disabled=1===t,this["#target-x-input"].max=t-1,this["#target-x-input"].value=i,this["#target-x-input"].disabled=1===t,this["#target-y-label"].disabled=1===e,this["#target-y-input"].max=e-1,this["#target-y-input"].value=s,this["#target-y-input"].disabled=1===e,this.primitive.hasAttribute("divisor")){var _t2184=J(this.primitive.divisor.baseVal,2);this["#divisor-heading"].disabled=!1,this["#divisor-switch"].toggled=!0,this["#divisor-slider"].disabled=!1,this["#divisor-slider"].value=_t2184,this["#divisor-input"].disabled=!1,this["#divisor-input"].value=_t2184;}else this["#divisor-heading"].disabled=!0,this["#divisor-switch"].toggled=!1,this["#divisor-slider"].disabled=!0,this["#divisor-slider"].value=0,this["#divisor-input"].disabled=!0,this["#divisor-input"].value=null;{var _t2185=J(this.primitive.bias.baseVal,2);this["#bias-slider"].value=_t2185,this["#bias-input"].value=_t2185;}{var _t2186=this.primitive.getAttribute("edgeMode");!1===["duplicate","wrap","none"].includes(_t2186)&&(_t2186="duplicate"),this["#edge-mode-buttons"].value=_t2186;}this["#preserve-alpha-checkbox"].toggled="true"===this.primitive.getAttribute("preserveAlpha");}}]);return Hm;}(Tm);_defineProperty(Hm,"_shadowTemplate",Ki(_templateObject430(),9,9));_defineProperty(Hm,"_shadowStyleSheet",Qi(_templateObject431()));customElements.define("bx-convolvematrixprimitiveinspector",Hm);var Wm=/*#__PURE__*/function(_Tm11){_inherits(Wm,_Tm11);var _super181=_createSuper(Wm);_createClass(Wm,[{key:"name",get:function get(){return"Displacement map";}}]);function Wm(){var _this844;_classCallCheck(this,Wm);_this844=_super181.call(this),_this844.PS=!1,_this844["#scale-box"].addEventListener("changestart",function(){return _this844.DS();}),_this844["#x-channel-buttons"].addEventListener("toggle",function(){return _this844.zS();}),_this844["#y-channel-buttons"].addEventListener("toggle",function(){return _this844.OS();});return _this844;}_createClass(Wm,[{key:"zS",value:function zS(){this.tn.board.undoManager.checkpoint("Displacement map X channel"),"A"===this["#x-channel-buttons"].value?this.primitive.removeAttribute("xChannelSelector"):this.primitive.setAttribute("xChannelSelector",this["#x-channel-buttons"].value);}},{key:"OS",value:function OS(){this.tn.board.undoManager.checkpoint("Displacement map Y channel"),"A"===this["#y-channel-buttons"].value?this.primitive.removeAttribute("yChannelSelector"):this.primitive.setAttribute("yChannelSelector",this["#y-channel-buttons"].value);}},{key:"DS",value:function DS(){var _this845=this;var t,_e1555,i=this.primitive.closest("filter");this.tn.board.undoManager.checkpoint("Displacement map scale"),this.PS=!0,this["#scale-section"].addEventListener("change",t=function t(_t2187){_t2187.target===_this845["#scale-slider"]?_this845["#scale-input"].value=_this845["#scale-slider"].value:_t2187.target===_this845["#scale-input"]&&(_this845["#scale-slider"].value=_this845["#scale-input"].value);var e=_this845["#scale-input"].value;i.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX&&(e=J(e/100,2)),_this845.primitive.setAttribute("scale",e);}),this["#scale-section"].addEventListener("changeend",_e1555=function e(){_this845["#scale-section"].removeEventListener("change",t),_this845["#scale-section"].removeEventListener("changeend",_e1555),_this845.PS=!1;});}},{key:"Xs",value:function Xs(){if(!this.PS&&!this.Pk){_get(_getPrototypeOf(Wm.prototype),"Xs",this).call(this);{var _t2188=this.primitive.closest("filter"),_e1556=this.primitive.scale.baseVal,_i1320="";_t2188.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?(_e1556=J(100*_e1556,2),_i1320="%"):_e1556=J(_e1556,0),this["#scale-slider"].value=_e1556,this["#scale-input"].value=_e1556,this["#scale-input"].suffix=_i1320;}{var _t2189=this.primitive.getAttribute("xChannelSelector");!1===["R","G","B","A"].includes(_t2189)&&(_t2189="A"),this["#x-channel-buttons"].value=_t2189;}{var _t2190=this.primitive.getAttribute("yChannelSelector");!1===["R","G","B","A"].includes(_t2190)&&(_t2190="A"),this["#y-channel-buttons"].value=_t2190;}}}}]);return Wm;}(Tm);_defineProperty(Wm,"_shadowTemplate",Ki(_templateObject432()));_defineProperty(Wm,"_shadowStyleSheet",Qi(_templateObject433()));customElements.define("bx-displacementmapprimitiveinspector",Wm);var Ym=/*#__PURE__*/function(_Tm12){_inherits(Ym,_Tm12);var _super182=_createSuper(Ym);_createClass(Ym,[{key:"name",get:function get(){return"Gaussian blur";}}]);function Ym(){var _this846;_classCallCheck(this,Ym);_this846=_super182.call(this),_this846.ES=!1,_this846.TS=!1,_this846["#deviation-x-input"].addEventListener("changestart",function(){return _this846.AS();}),_this846["#deviation-y-input"].addEventListener("changestart",function(){return _this846.$S();}),_this846["#deviation-lock-button"].addEventListener("toggle",function(){return _this846.IS();});return _this846;}_createClass(Ym,[{key:"connectedCallback",value:function connectedCallback(){this.ES=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(Ym.prototype),"connectedCallback",this).call(this);}},{key:"AS",value:function AS(){var _this847=this;var t,_e1557,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.tn.board.undoManager.checkpoint("Filter standard deviation"),this.TS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this847["#deviation-x-input"].value&&(_this847["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this847["#deviation-y-input"].value=tt(_this847["#deviation-x-input"].value/s,0,Infinity,2):_this847["#deviation-y-input"].value=_this847["#deviation-x-input"].value);var t=_this847["#deviation-x-input"].value,e=_this847["#deviation-y-input"].value;_this847.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1557=function e(){_this847["#deviation-x-input"].removeEventListener("change",t),_this847["#deviation-x-input"].removeEventListener("changeend",_e1557),_this847.TS=!1;});}},{key:"$S",value:function $S(){var _this848=this;var t,_e1558,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.tn.board.undoManager.checkpoint("Filter standard deviation"),this.TS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this848["#deviation-y-input"].value&&(_this848["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this848["#deviation-x-input"].value=tt(_this848["#deviation-y-input"].value/s,0,Infinity,2):_this848["#deviation-x-input"].value=_this848["#deviation-y-input"].value);var t=_this848["#deviation-x-input"].value,e=_this848["#deviation-y-input"].value;_this848.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1558=function e(){_this848["#deviation-y-input"].removeEventListener("change",t),_this848["#deviation-y-input"].removeEventListener("changeend",_e1558),_this848.TS=!1;});}},{key:"IS",value:function IS(){this.ES=this["#deviation-lock-button"].toggled,this.Js.setConfig("".concat(this.localName,":deviationLocked"),this.ES),this.Xs();}},{key:"Xs",value:function Xs(){this.TS||this.Pk||(_get(_getPrototypeOf(Ym.prototype),"Xs",this).call(this),this["#deviation-x-input"].value=J(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=J(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.ES,this["#deviation-lock-icon"].name=this.ES?"lock-on":"lock-off");}}]);return Ym;}(Tm);_defineProperty(Ym,"_shadowTemplate",Ki(_templateObject434()));_defineProperty(Ym,"_shadowStyleSheet",Qi(_templateObject435()));customElements.define("bx-gaussianblurprimitiveinspector",Ym);var qm=/*#__PURE__*/function(_Tm13){_inherits(qm,_Tm13);var _super183=_createSuper(qm);_createClass(qm,[{key:"name",get:function get(){return"Morphology";}}]);function qm(){var _this849;_classCallCheck(this,qm);_this849=_super183.call(this),_this849.LS=!1,_this849.gm=!1,_this849["#operator-buttons"].addEventListener("toggle",function(){return _this849.Dm();}),_this849["#radius-x-input"].addEventListener("changestart",function(){return _this849.BS();}),_this849["#radius-y-input"].addEventListener("changestart",function(){return _this849.RS();}),_this849["#radius-lock-button"].addEventListener("toggle",function(){return _this849.GS();});return _this849;}_createClass(qm,[{key:"connectedCallback",value:function connectedCallback(){this.LS=app.getConfig("".concat(this.localName,":radiusLocked"),!1),_get(_getPrototypeOf(qm.prototype),"connectedCallback",this).call(this);}},{key:"Dm",value:function Dm(){this.tn.board.undoManager.checkpoint("Morphology operator"),"erode"===this["#operator-buttons"].value?this.primitive.removeAttribute("operator"):this.primitive.setAttribute("operator",this["#operator-buttons"].value);}},{key:"BS",value:function BS(t){var _this850=this;var e,i,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.tn.board.undoManager.checkpoint("Morphology radius"),this.gm=!0,this["#radius-x-input"].addEventListener("change",e=function e(){null===_this850["#radius-x-input"].value&&(_this850["#radius-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this850["#radius-y-input"].value=tt(_this850["#radius-x-input"].value/n,0,Infinity,2):_this850["#radius-y-input"].value=_this850["#radius-x-input"].value);var t=_this850["#radius-x-input"].value,e=_this850["#radius-y-input"].value;_this850.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-x-input"].addEventListener("changeend",i=function(_i1321){function i(){return _i1321.apply(this,arguments);}i.toString=function(){return _i1321.toString();};return i;}(function(){_this850["#radius-x-input"].removeEventListener("change",e),_this850["#radius-x-input"].removeEventListener("changeend",i),_this850.gm=!1;}));}},{key:"RS",value:function RS(t){var _this851=this;var e,i,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.tn.board.undoManager.checkpoint("Morphology radius"),this.gm=!0,this["#radius-y-input"].addEventListener("change",e=function e(){null===_this851["#radius-y-input"].value&&(_this851["#radius-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this851["#radius-x-input"].value=tt(_this851["#radius-y-input"].value/n,0,Infinity,2):_this851["#radius-x-input"].value=_this851["#radius-y-input"].value);var t=_this851["#radius-x-input"].value,e=_this851["#radius-y-input"].value;_this851.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-y-input"].addEventListener("changeend",i=function(_i1322){function i(){return _i1322.apply(this,arguments);}i.toString=function(){return _i1322.toString();};return i;}(function(){_this851["#radius-y-input"].removeEventListener("change",e),_this851["#radius-y-input"].removeEventListener("changeend",i),_this851.gm=!1;}));}},{key:"GS",value:function GS(){this.LS=this["#radius-lock-button"].toggled,this.Js.setConfig("".concat(this.localName,":radiusLocked"),this.LS),this.Xs();}},{key:"Xs",value:function Xs(){this.gm||this.Pk||(_get(_getPrototypeOf(qm.prototype),"Xs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-buttons"].value=this.primitive.getAttribute("operator"):this["#operator-buttons"].value="erode",this["#radius-x-input"].value=J(this.primitive.radiusX.baseVal,2),this["#radius-y-input"].value=J(this.primitive.radiusY.baseVal,2),this["#radius-lock-button"].toggled=this.LS,this["#radius-lock-icon"].name=this.LS?"lock-on":"lock-off");}}]);return qm;}(Tm);_defineProperty(qm,"_shadowTemplate",Ki(_templateObject436()));_defineProperty(qm,"_shadowStyleSheet",Qi(_templateObject437()));customElements.define("bx-morphologyprimitiveinspector",qm);var Xm=/*#__PURE__*/function(_Tm14){_inherits(Xm,_Tm14);var _super184=_createSuper(Xm);_createClass(Xm,[{key:"name",get:function get(){return"Drop shadow";}}]);function Xm(){var _this852;_classCallCheck(this,Xm);_this852=_super184.call(this),_this852.ES=!1,_this852.TS=!1,_this852.Hb=!1,_this852.Yb=!1,_this852.wb=!1,_this852["#deviation-x-input"].addEventListener("changestart",function(){return _this852.AS();}),_this852["#deviation-y-input"].addEventListener("changestart",function(){return _this852.$S();}),_this852["#deviation-lock-button"].addEventListener("toggle",function(){return _this852.IS();}),_this852["#offset-section"].addEventListener("changestart",function(t){return _this852.qb(t);}),_this852["#color-select"].addEventListener("changestart",function(){return _this852.Kb();}),_this852["#opacity-box"].addEventListener("changestart",function(t){return _this852.vb(t);});return _this852;}_createClass(Xm,[{key:"connectedCallback",value:function connectedCallback(){this.ES=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(Xm.prototype),"connectedCallback",this).call(this);}},{key:"AS",value:function AS(){var _this853=this;var t,_e1559,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.tn.board.undoManager.checkpoint("Filter standard deviation"),this.TS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this853["#deviation-x-input"].value&&(_this853["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this853["#deviation-y-input"].value=tt(_this853["#deviation-x-input"].value/s,0,Infinity,2):_this853["#deviation-y-input"].value=_this853["#deviation-x-input"].value);var t=_this853["#deviation-x-input"].value,e=_this853["#deviation-y-input"].value;_this853.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1559=function e(){_this853["#deviation-x-input"].removeEventListener("change",t),_this853["#deviation-x-input"].removeEventListener("changeend",_e1559),_this853.TS=!1;});}},{key:"$S",value:function $S(){var _this854=this;var t,_e1560,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.tn.board.undoManager.checkpoint("Filter standard deviation"),this.TS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this854["#deviation-y-input"].value&&(_this854["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this854["#deviation-x-input"].value=tt(_this854["#deviation-y-input"].value/s,0,Infinity,2):_this854["#deviation-x-input"].value=_this854["#deviation-y-input"].value);var t=_this854["#deviation-x-input"].value,e=_this854["#deviation-y-input"].value;_this854.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1560=function e(){_this854["#deviation-y-input"].removeEventListener("change",t),_this854["#deviation-y-input"].removeEventListener("changeend",_e1560),_this854.TS=!1;});}},{key:"IS",value:function IS(){this.ES=this["#deviation-lock-button"].toggled,this.Js.setConfig("".concat(this.localName,":deviationLocked"),this.ES),this.Xs();}},{key:"qb",value:function qb(t){var _this855=this;var e,i,s=t.target;this.tn.board.undoManager.checkpoint("Drop shadow offset"),this.Hb=!0,s.addEventListener("change",e=function e(){_this855.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1323){function i(){return _i1323.apply(this,arguments);}i.toString=function(){return _i1323.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this855.Hb=!1;}));}},{key:"Kb",value:function Kb(){var _this856=this;var t,_e1561;this.tn.board.undoManager.checkpoint("Flood color"),this.Yb=!0,this["#color-select"].addEventListener("change",t=function t(){_this856.primitive.style.setProperty("flood-color",_this856["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1561=function e(){_this856["#color-select"].removeEventListener("change",t),_this856["#color-select"].removeEventListener("changeend",_e1561),Op("flood-color",_this856.primitive),_this856.Yb=!1;});}},{key:"vb",value:function vb(){var _this857=this;var t,_e1562;this.tn.board.undoManager.checkpoint("Flood opacity"),this.wb=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2191){_t2191.target===_this857["#opacity-slider"]?_this857["#opacity-input"].value=_this857["#opacity-slider"].value:_t2191.target===_this857["#opacity-input"]&&(_this857["#opacity-slider"].value=_this857["#opacity-input"].value),_this857.primitive.style.setProperty("flood-opacity",_this857["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1562=function e(){_this857["#opacity-section"].removeEventListener("change",t),_this857["#opacity-section"].removeEventListener("changeend",_e1562),Op("flood-opacity",_this857.primitive),_this857.wb=!1;});}},{key:"Xs",value:function Xs(){if(this.TS||this.Hb||this.Yb||this.wb||this.Pk)return;_get(_getPrototypeOf(Xm.prototype),"Xs",this).call(this);var t=getComputedStyle(this.primitive);this["#deviation-x-input"].value=J(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=J(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.ES,this["#deviation-lock-icon"].name=this.ES?"lock-on":"lock-off",this["#offset-x-input"].value=J(this.primitive.dx.baseVal,2),this["#offset-y-input"].value=J(this.primitive.dy.baseVal,2),this["#color-select"].value=t.floodColor;{var _e1563=J(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1563,this["#opacity-input"].value=_e1563;}}}]);return Xm;}(Tm);_defineProperty(Xm,"_shadowTemplate",Ki(_templateObject438()));_defineProperty(Xm,"_shadowStyleSheet",Qi(_templateObject439()));customElements.define("bx-dropshadowprimitiveinspector",Xm);var Zm=/*#__PURE__*/function(_Tm15){_inherits(Zm,_Tm15);var _super185=_createSuper(Zm);_createClass(Zm,[{key:"name",get:function get(){return"Offset";}}]);function Zm(){var _this858;_classCallCheck(this,Zm);_this858=_super185.call(this),_this858.US=!1,_this858["#delta-section"].addEventListener("changestart",function(t){return _this858.FS(t);});return _this858;}_createClass(Zm,[{key:"FS",value:function FS(t){var _this859=this;var e,i,s=t.target;this.tn.board.undoManager.checkpoint("Filter offset"),this.US=!0,s.addEventListener("change",e=function e(){_this859.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1324){function i(){return _i1324.apply(this,arguments);}i.toString=function(){return _i1324.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this859.US=!1;}));}},{key:"Xs",value:function Xs(){this.US||this.Pk||(_get(_getPrototypeOf(Zm.prototype),"Xs",this).call(this),this["#x-input"].value=J(this.primitive.dx.baseVal,2),this["#y-input"].value=J(this.primitive.dy.baseVal,2));}}]);return Zm;}(Tm);_defineProperty(Zm,"_shadowTemplate",Ki(_templateObject440()));_defineProperty(Zm,"_shadowStyleSheet",Qi(_templateObject441()));customElements.define("bx-offsetprimitiveinspector",Zm);var Km=/*#__PURE__*/function(_Tm16){_inherits(Km,_Tm16);var _super186=_createSuper(Km);_createClass(Km,[{key:"name",get:function get(){return"Lighting";}}]);function Km(t){var _this860;_classCallCheck(this,Km);_this860=_super186.call(this),_this860.NS=!1,_this860.Yb=!1,_this860.tm=!1,_this860.jS=!1,_this860.VS=!1,_this860.HS=!1,_this860.WS=!1,_this860.YS=!1,_this860["#surface-scale-box"].addEventListener("changestart",function(){return _this860.qS();}),_this860["#color-select"].addEventListener("changestart",function(){return _this860.Kb();}),_this860["#source-type-buttons"].addEventListener("toggle",function(){return _this860.XS();}),_this860["#source-position-subsection"].addEventListener("changestart",function(t){return _this860.lm(t);}),_this860["#source-target-subsection"].addEventListener("changestart",function(t){return _this860.ZS(t);}),_this860["#source-cone-box"].addEventListener("changestart",function(){return _this860.KS();}),_this860["#source-exponent-box"].addEventListener("changestart",function(){return _this860.QS();}),_this860["#source-azimuth-box"].addEventListener("changestart",function(){return _this860.JS();}),_this860["#source-elevation-box"].addEventListener("changestart",function(){return _this860.tC();});return _this860;}_createClass(Km,[{key:"qS",value:function qS(){var _this861=this;var t,_e1564;this.tn.board.undoManager.checkpoint("Specular lighting surface scale"),this.NS=!0,this["#surface-scale-section"].addEventListener("change",t=function t(_t2192){_t2192.target===_this861["#surface-scale-slider"]?_this861["#surface-scale-input"].value=_this861["#surface-scale-slider"].value:_t2192.target===_this861["#surface-scale-input"]&&(_this861["#surface-scale-slider"].value=_this861["#surface-scale-input"].value),_this861.primitive.setAttribute("surfaceScale",_this861["#surface-scale-input"].value);}),this["#surface-scale-section"].addEventListener("changeend",_e1564=function e(){_this861["#surface-scale-section"].removeEventListener("change",t),_this861["#surface-scale-section"].removeEventListener("changeend",_e1564),_this861.NS=!1;});}},{key:"Kb",value:function Kb(){var _this862=this;var t,_e1565;this.tn.board.undoManager.checkpoint("Flood color"),this.Yb=!0,this["#color-select"].addEventListener("change",t=function t(){_this862.primitive.style.setProperty("lighting-color",_this862["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1565=function e(){_this862["#color-select"].removeEventListener("change",t),_this862["#color-select"].removeEventListener("changeend",_e1565),Op("lighting-color",_this862.primitive),_this862.Yb=!1;});}},{key:"XS",value:function XS(){var t=this.eC(),e=$i("svg:"+this["#source-type-buttons"].value);this.tn.board.undoManager.checkpoint("Light source type"),t?t.replaceWith(e):this.primitive.append(e);}},{key:"lm",value:function lm(t){var _this863=this;var e,i,s=t.target,n=this.eC();this.tn.board.undoManager.checkpoint("Light source position"),this.tm=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1325){function i(){return _i1325.apply(this,arguments);}i.toString=function(){return _i1325.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this863.tm=!1;}));}},{key:"ZS",value:function ZS(t){var _this864=this;var e,i,s=t.target,n=this.eC();this.tn.board.undoManager.checkpoint("Light target position"),this.jS=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",i=function(_i1326){function i(){return _i1326.apply(this,arguments);}i.toString=function(){return _i1326.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this864.jS=!1;}));}},{key:"KS",value:function KS(){var _this865=this;var t,_e1566,i=this.eC();this.tn.board.undoManager.checkpoint("Light limiting cone angle"),this.VS=!0,this["#source-cone-box"].addEventListener("change",t=function t(_t2193){_t2193.target===_this865["#source-cone-slider"]?_this865["#source-cone-input"].value=_this865["#source-cone-slider"].value:_t2193.target===_this865["#source-cone-input"]&&(_this865["#source-cone-slider"].value=_this865["#source-cone-input"].value),i.setAttribute("limitingConeAngle",_this865["#source-cone-input"].value);}),this["#source-cone-box"].addEventListener("changeend",_e1566=function e(){_this865["#source-cone-box"].removeEventListener("change",t),_this865["#source-cone-box"].removeEventListener("changeend",_e1566),_this865.VS=!1;});}},{key:"QS",value:function QS(){var _this866=this;var t,_e1567,i=this.eC();this.tn.board.undoManager.checkpoint("Spot light exponent"),this.HS=!0,this["#source-exponent-box"].addEventListener("change",t=function t(_t2194){_t2194.target===_this866["#source-exponent-slider"]?_this866["#source-exponent-input"].value=_this866["#source-exponent-slider"].value:_t2194.target===_this866["#source-exponent-input"]&&(_this866["#source-exponent-slider"].value=_this866["#source-exponent-input"].value),i.setAttribute("specularExponent",_this866["#source-exponent-input"].value);}),this["#source-exponent-box"].addEventListener("changeend",_e1567=function e(){_this866["#source-exponent-box"].removeEventListener("change",t),_this866["#source-exponent-box"].removeEventListener("changeend",_e1567),_this866.HS=!1;});}},{key:"JS",value:function JS(){var _this867=this;var t,_e1568,i=this.eC();this.tn.board.undoManager.checkpoint("Light azimuth"),this.WS=!0,this["#source-azimuth-box"].addEventListener("change",t=function t(_t2195){_t2195.target===_this867["#source-azimuth-slider"]?_this867["#source-azimuth-input"].value=_this867["#source-azimuth-slider"].value:_t2195.target===_this867["#source-azimuth-input"]&&(_this867["#source-azimuth-slider"].value=_this867["#source-azimuth-input"].value),i.setAttribute("azimuth",_this867["#source-azimuth-input"].value);}),this["#source-azimuth-box"].addEventListener("changeend",_e1568=function e(){_this867["#source-azimuth-box"].removeEventListener("change",t),_this867["#source-azimuth-box"].removeEventListener("changeend",_e1568),_this867.WS=!1;});}},{key:"tC",value:function tC(){var _this868=this;var t,_e1569,i=this.eC();this.tn.board.undoManager.checkpoint("Light elevation"),this.YS=!0,this["#source-elevation-box"].addEventListener("change",t=function t(_t2196){_t2196.target===_this868["#source-elevation-slider"]?_this868["#source-elevation-input"].value=_this868["#source-elevation-slider"].value:_t2196.target===_this868["#source-elevation-input"]&&(_this868["#source-elevation-slider"].value=_this868["#source-elevation-input"].value),i.setAttribute("elevation",_this868["#source-elevation-input"].value);}),this["#source-elevation-box"].addEventListener("changeend",_e1569=function e(){_this868["#source-elevation-box"].removeEventListener("change",t),_this868["#source-elevation-box"].removeEventListener("changeend",_e1569),_this868.YS=!1;});}},{key:"eC",value:function eC(){return this.primitive.querySelector(":scope > fePointLight, :scope > feSpotLight, :scope > feDistantLight");}},{key:"Xs",value:function Xs(){if(this.NS||this.Yb||this.tm||this.jS||this.VS||this.HS||this.WS||this.YS||this.Pk)return;_get(_getPrototypeOf(Km.prototype),"Xs",this).call(this);var t=this.eC();{var _t2197=J(this.primitive.surfaceScale.baseVal,2);this["#surface-scale-slider"].value=_t2197,this["#surface-scale-input"].value=_t2197;}this["#color-select"].value=getComputedStyle(this.primitive).lightingColor,this["#source-type-buttons"].value=t?t.localName:null,t&&"feDistantLight"!==t.localName?(this["#source-position-subsection"].hidden=!1,this["#source-position-x-input"].value=J(t.x.baseVal,2),this["#source-position-y-input"].value=J(t.y.baseVal,2),this["#source-position-z-input"].value=J(t.z.baseVal,2)):this["#source-position-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-target-subsection"].hidden=!1,this["#source-target-x-input"].value=J(t.pointsAtX.baseVal,2),this["#source-target-y-input"].value=J(t.pointsAtY.baseVal,2),this["#source-target-z-input"].value=J(t.pointsAtZ.baseVal,2)):this["#source-target-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-cone-subsection"].hidden=!1,this["#source-cone-slider"].value=J(t.limitingConeAngle.baseVal,2),this["#source-cone-input"].value=J(t.limitingConeAngle.baseVal,2)):this["#source-cone-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-exponent-subsection"].hidden=!1,this["#source-exponent-slider"].value=J(t.specularExponent.baseVal,2),this["#source-exponent-input"].value=J(t.specularExponent.baseVal,2)):this["#source-exponent-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-azimuth-subsection"].hidden=!1,this["#source-azimuth-slider"].value=J(t.azimuth.baseVal,2),this["#source-azimuth-input"].value=J(t.azimuth.baseVal,2)):this["#source-azimuth-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-elevation-subsection"].hidden=!1,this["#source-elevation-slider"].value=J(t.elevation.baseVal,2),this["#source-elevation-input"].value=J(t.elevation.baseVal,2)):this["#source-elevation-subsection"].hidden=!0;}}]);return Km;}(Tm);_defineProperty(Km,"_shadowTemplate",Ki(_templateObject442()));_defineProperty(Km,"_shadowStyleSheet",Qi(_templateObject443()));customElements.define("bx-lightingprimitiveinspector",Km);var Qm=/*#__PURE__*/function(_Km){_inherits(Qm,_Km);var _super187=_createSuper(Qm);_createClass(Qm,[{key:"name",get:function get(){return"Specular lighting";}}]);function Qm(){var _this869;_classCallCheck(this,Qm);_this869=_super187.call(this),_this869.iC=!1,_this869.sC=!1,_this869["#constant-box"].addEventListener("changestart",function(){return _this869.nC();}),_this869["#exponent-box"].addEventListener("changestart",function(){return _this869.oC();});return _this869;}_createClass(Qm,[{key:"nC",value:function nC(){var _this870=this;var t,_e1570;this.tn.board.undoManager.checkpoint("Specular lighting constant"),this.iC=!0,this["#constant-section"].addEventListener("change",t=function t(_t2198){_t2198.target===_this870["#constant-slider"]?_this870["#constant-input"].value=_this870["#constant-slider"].value:_t2198.target===_this870["#constant-input"]&&(_this870["#constant-slider"].value=_this870["#constant-input"].value),_this870.primitive.setAttribute("specularConstant",_this870["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1570=function e(){_this870["#constant-section"].removeEventListener("change",t),_this870["#constant-section"].removeEventListener("changeend",_e1570),_this870.iC=!1;});}},{key:"oC",value:function oC(){var _this871=this;var t,_e1571;this.tn.board.undoManager.checkpoint("Specular lighting exponent"),this.sC=!0,this["#exponent-section"].addEventListener("change",t=function t(_t2199){_t2199.target===_this871["#exponent-slider"]?_this871["#exponent-input"].value=_this871["#exponent-slider"].value:_t2199.target===_this871["#exponent-input"]&&(_this871["#exponent-slider"].value=_this871["#exponent-input"].value),_this871.primitive.setAttribute("specularExponent",_this871["#exponent-input"].value);}),this["#exponent-section"].addEventListener("changeend",_e1571=function e(){_this871["#exponent-section"].removeEventListener("change",t),_this871["#exponent-section"].removeEventListener("changeend",_e1571),_this871.sC=!1;});}},{key:"Xs",value:function Xs(){if(!(this.iC||this.sC||this.Pk)){_get(_getPrototypeOf(Qm.prototype),"Xs",this).call(this);{var _t2200=J(this.primitive.specularConstant.baseVal,2);this["#constant-slider"].value=_t2200,this["#constant-input"].value=_t2200;}{var _t2201=J(this.primitive.specularExponent.baseVal,2);this["#exponent-slider"].value=_t2201,this["#exponent-input"].value=_t2201;}}}}]);return Qm;}(Km);_defineProperty(Qm,"_shadowTemplate",Ki(_templateObject444()));_defineProperty(Qm,"_shadowStyleSheet",Qi(_templateObject445()));customElements.define("bx-specularlightingprimitiveinspector",Qm);var Jm=/*#__PURE__*/function(_Km2){_inherits(Jm,_Km2);var _super188=_createSuper(Jm);_createClass(Jm,[{key:"name",get:function get(){return"Diffuse lighting";}}]);function Jm(){var _this872;_classCallCheck(this,Jm);_this872=_super188.call(this),_this872.iC=!1,_this872["#constant-box"].addEventListener("changestart",function(){return _this872.nC();});return _this872;}_createClass(Jm,[{key:"nC",value:function nC(){var _this873=this;var t,_e1572;this.primitive.closest("filter");this.tn.board.undoManager.checkpoint("Diffuse lighting constant"),this.iC=!0,this["#constant-section"].addEventListener("change",t=function t(_t2202){_t2202.target===_this873["#constant-slider"]?_this873["#constant-input"].value=_this873["#constant-slider"].value:_t2202.target===_this873["#constant-input"]&&(_this873["#constant-slider"].value=_this873["#constant-input"].value),_this873.primitive.setAttribute("diffuseConstant",_this873["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1572=function e(){_this873["#constant-section"].removeEventListener("change",t),_this873["#constant-section"].removeEventListener("changeend",_e1572),_this873.iC=!1;});}},{key:"Xs",value:function Xs(){if(!this.iC&&!this.Pk){_get(_getPrototypeOf(Jm.prototype),"Xs",this).call(this);{var _t2203=J(this.primitive.diffuseConstant.baseVal,2);this["#constant-slider"].value=_t2203,this["#constant-input"].value=_t2203;}}}}]);return Jm;}(Km);_defineProperty(Jm,"_shadowTemplate",Ki(_templateObject446()));_defineProperty(Jm,"_shadowStyleSheet",Qi(_templateObject447()));customElements.define("bx-diffuselightingprimitiveinspector",Jm);var tg=.1,eg=6e3,ig=450,sg=1.8,ng=20;var og=/*#__PURE__*/function(_HTMLElement125){_inherits(og,_HTMLElement125);var _super189=_createSuper(og);_createClass(og,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"filter",get:function get(){return this.ck;},set:function set(t){this.ck=t,this.enabled&&this.Xs();}}]);function og(){var _this874;_classCallCheck(this,og);_this874=_super189.call(this),_this874.tabIndex=1,_this874.ck=null,_this874.lC={node:null,edge:null},_this874.aC=ts(_this874.Xs,400,_assertThisInitialized(_this874)),_this874._shadowRoot=_this874.attachShadow({mode:"closed"}),_this874._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,og._shadowStyleSheet],_this874._shadowRoot.append(document.importNode(og._shadowTemplate.content,!0));var _iterator1444=_createForOfIteratorHelper(_this874._shadowRoot.querySelectorAll("[id]")),_step1444;try{for(_iterator1444.s();!(_step1444=_iterator1444.n()).done;){var _t2204=_step1444.value;_this874["#"+_t2204.id]=_t2204;}}catch(err){_iterator1444.e(err);}finally{_iterator1444.f();}_this874.addEventListener("keydown",function(t){return _this874.Tn(t);}),_this874["#canvas"].addEventListener("wheel",function(t){return _this874.hC(t);}),_this874["#canvas"].addEventListener("pointerdown",function(t){return _this874.rC(t);}),_this874["#canvas"].addEventListener("contextmenu",function(t){return _this874.dC(t);}),_this874["#zoom-button"].addEventListener("click",function(){return _this874.cC();}),_this874["#add-primitive-menu"].addEventListener("click",function(t){return _this874.pC(t);}),_this874["#add-primitive-menu"].addEventListener("open",function(t){return _this874.uC(t);}),_this874["#sidebar-resize-grippie"].addEventListener("pointerdown",function(t){return _this874.xC(t);});return _this874;}_createClass(og,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this875=this;var t=this.tn.board;t.addEventListener("currentworkspacechange",this.ab=function(){_this875.aC();}),t.addEventListener("workspacemutation",this.rn=function(t){_this875.aC();}),this["#sidebar"].style.width=this.Js.getConfig("bx-filterinspector:sidebarWidth",180)+"px",this.Xs(),this.bC();}},{key:"sn",value:function sn(){var t=this.tn.board;t.removeEventListener("currentworkspacechange",this.ab),t.removeEventListener("workspacemutation",this.rn),this["#graph-nodes"].innerHTML="",this["#graph-edges"].innerHTML="",this["#sidebar-content"].innerHTML="";}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);(e.matches("Backspace")||e.matches("Delete"))&&this.matches(":focus")&&(t.stopPropagation(),this.mC());}},{key:"gC",value:function gC(){this.fC();}},{key:"hC",value:function hC(t){t.preventDefault();var e=tt(t.wheelDeltaX,-ng,ng,1),i=tt(t.wheelDeltaY,-ng,ng,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey){var _t2205=e/sg,_s760=i/sg;this.wC(_t2205,_s760);}else this.vC(i/ig,t.clientX,t.clientY);}},{key:"rC",value:function rC(t){t.target.closest(".node")?this.yC(t):t.target.closest(".edge")?this.kC(t):this.SC(t);}},{key:"yC",value:function yC(t){var _this876=this;{var _e1573=t.target.closest(".node"),_i1327=[];var _iterator1445=_createForOfIteratorHelper(this["#graph-edges"].children),_step1445;try{for(_iterator1445.s();!(_step1445=_iterator1445.n()).done;){var _t2206=_step1445.value;_t2206.dataset.to===_e1573.dataset.name&&_i1327.push({from:_t2206.dataset.from,to:_t2206.dataset.to,slot:parseInt(_t2206.dataset.slot)});}}catch(err){_iterator1445.e(err);}finally{_iterator1445.f();}this.setSelection(_e1573.dataset.name,null),this.dispatchEvent(new CustomEvent("selectionchange"));}{var _e1575,_i1329,_s761=t.target.closest(".node"),_n500=new DOMPoint(t.clientX,t.clientY),_o484=_n500;window.addEventListener("pointermove",_e1575=function _e1574(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp;!0!==De(_o484,a,0)&&(_o484=a,Ee(_n500,a)<3&&h<80||(window.removeEventListener("pointermove",_e1575),window.removeEventListener("pointerup",_i1329),_this876.CC(t,_s761)));}),window.addEventListener("pointerup",_i1329=function _i1328(){window.removeEventListener("pointermove",_e1575),window.removeEventListener("pointerup",_i1329);});}}},{key:"CC",value:function CC(t,e){var _this877=this;var i,s,n=Yt(this["#graph-group"]).inverse(),o=Ve(e.getBoundingClientRect(),n),l=new DOMPoint(t.clientX,t.clientY);l=l.matrixTransform(n);var a=Ji(_templateObject71());this["#graph-nodes"].append(a),this["#graph-nodes"].append(e);var h=new DOMPoint(o.x+o.width/2,o.y+o.height/2),r=null;var _iterator1446=_createForOfIteratorHelper(this["#graph-edges"].children),_step1446;try{for(_iterator1446.s();!(_step1446=_iterator1446.n()).done;){var _t2215=_step1446.value;_t2215.setAttribute("data-disabled","");}}catch(err){_iterator1446.e(err);}finally{_iterator1446.f();}var _iterator1447=_createForOfIteratorHelper(this["#graph-nodes"].children),_step1447;try{for(_iterator1447.s();!(_step1447=_iterator1447.n()).done;){var _t2216=_step1447.value;_t2216!==e&&_t2216!==a&&!1===this._C.canConnectNodes(e.dataset.name,_t2216.dataset.name)&&_t2216.setAttribute("data-disabled","");}}catch(err){_iterator1447.e(err);}finally{_iterator1447.f();}window.addEventListener("pointermove",i=function i(t){var i=new DOMPoint(t.clientX,t.clientY);i=i.matrixTransform(n);var s=_this877._shadowRoot.elementFromPoint(t.clientX,t.clientY),o=r,l=null;if(r=s?s.closest(".node"):null,r&&!1===r.hasAttribute("data-disabled")){var _t2207=r.getBoundingClientRect();_t2207=Ve(_t2207,n),l=function(t,e){var i=t.x+t.width,s=t.y+t.height,n=Math.max(t.x,Math.min(i,e.x)),o=Math.max(t.y,Math.min(s,e.y)),l=Math.abs(n-t.x),a=Math.abs(n-i),h=Math.abs(o-t.y),r=Math.abs(o-s),d=Math.min(l,a,h,r);return d===h?new DOMPoint(n,t.y):d===r?new DOMPoint(n,s):d===l?new DOMPoint(t.x,o):new DOMPoint(i,o);}(_t2207,h),r!==o&&(o&&o.removeAttribute("data-highlighted"),r!==e&&r.setAttribute("data-highlighted",""));}else l=new DOMPoint(i.x,i.y),o&&o.removeAttribute("data-highlighted");a.setAttribute("d","M ".concat(h.x," ").concat(h.y," L ").concat(l.x," ").concat(l.y));}),window.addEventListener("pointerup",s=function(_s763){function s(){return _s763.apply(this,arguments);}s.toString=function(){return _s763.toString();};return s;}(function(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s),a.removeAttribute("d");var _iterator1448=_createForOfIteratorHelper(_this877["#graph-edges"].children),_step1448;try{for(_iterator1448.s();!(_step1448=_iterator1448.n()).done;){var _t2213=_step1448.value;_t2213.removeAttribute("data-disabled");}}catch(err){_iterator1448.e(err);}finally{_iterator1448.f();}var _iterator1449=_createForOfIteratorHelper(_this877["#graph-nodes"].children),_step1449;try{for(_iterator1449.s();!(_step1449=_iterator1449.n()).done;){var _t2214=_step1449.value;_t2214.removeAttribute("data-disabled"),_t2214.removeAttribute("data-highlighted");}}catch(err){_iterator1449.e(err);}finally{_iterator1449.f();}if(r){var _t2208=_this877._C.connectNodes(e.dataset.name,r.dataset.name);if(-1!==_t2208){var _i1330=_this877._C.getOrderedNodes(),_s762=_i1330.find(function(t){return t.name===e.dataset.name;}),_n501=_i1330.find(function(t){return t.name===r.dataset.name;}),_o485=_toConsumableArray(_this877.filter.children).filter(function(t){return O.includes(t.localName);});if(_this877.tn.board.undoManager.checkpoint("Connect filter primitives"),"SourceGraphic"===_s762.type||"SourceAlpha"===_s762.type){var _t2209=_this877.filter.hasAttribute("data-bx-details")?_this877.filter.getAttribute("data-bx-details").split(" "):[];_t2209.includes(_s762.type)&&(_t2209=_t2209.filter(function(t){return t!==_s762.type;}),0===_t2209.length?_this877.filter.removeAttribute("data-bx-details"):_this877.filter.setAttribute("data-bx-details",_t2209.join(" ")));}{var _e1576=_o485.find(function(t){return t.result.baseVal===_n501.name;});if("feMerge"===_n501.type){_toConsumableArray(_e1576.children).filter(function(t){return"feMergeNode"===t.localName;});var _t2210=$i("svg:feMergeNode");_t2210.setAttribute("in",_s762.name),_e1576.append(_t2210);}else _e1576.setAttribute(1===_t2208?"in":"in2",_s762.name);}{var _t2211=[];var _iterator1450=_createForOfIteratorHelper(_i1330),_step1450;try{var _loop38=function _loop38(){var e=_step1450.value;if("SourceGraphic"!==e.type&&"SourceAlpha"!==e.type){var _i1332=_o485.find(function(t){return t.result.baseVal===e.name;});_t2211.push(_i1332);}};for(_iterator1450.s();!(_step1450=_iterator1450.n()).done;){_loop38();}}catch(err){_iterator1450.e(err);}finally{_iterator1450.f();}for(var _i1331=0,_t2212=_t2211;_i1331<_t2212.length;_i1331++){var _e1577=_t2212[_i1331];_this877.filter.append(_e1577);}}_this877.setSelection(null,{from:_s762.name,to:_n501.name,slot:_t2208});}}}));}},{key:"kC",value:function kC(t){var e=t.target.closest(".edge");{var _t2217={from:e.dataset.from,to:e.dataset.to,slot:parseInt(e.dataset.slot)};this.setSelection(null,_t2217),this.dispatchEvent(new CustomEvent("selectionchange"));}}},{key:"SC",value:function SC(){this.setSelection(null,null),this.dispatchEvent(new CustomEvent("selectionchange"));}},{key:"dC",value:function(){var _dC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee158(t){var _e1578;return regeneratorRuntime.wrap(function _callee158$(_context160){while(1){switch(_context160.prev=_context160.next){case 0:if(!t.target.closest(".node")){_context160.next=8;break;}t.preventDefault();_context160.next=4;return this.Js.openContextMenu([{value:"duplicate-primitive",label:"Duplicate Primitive",disabled:!1===this.MC()},{value:"delete-primitive",label:"Delete Primitive",disabled:!1},{type:"separator"},{value:"terminal-primitive",label:"Set as Terminal Primitive",disabled:!1===this.PC()}]);case 4:_e1578=_context160.sent;"duplicate-primitive"===_e1578?this.DC():"delete-primitive"===_e1578?this.mC():"terminal-primitive"===_e1578&&this.zC();_context160.next=16;break;case 8:if(!t.target.closest(".edge")){_context160.next=16;break;}t.preventDefault();_context160.next=12;return this.Js.openContextMenu([{value:"delete-edge",label:"Delete Connector",disabled:!1}]);case 12:_context160.t0=_context160.sent;_context160.t1="delete-edge"===_context160.t0;if(!_context160.t1){_context160.next=16;break;}this.mC();case 16:case"end":return _context160.stop();}}},_callee158,this);}));function dC(_x284){return _dC.apply(this,arguments);}return dC;}()},{key:"cC",value:function cC(){this.bC();}},{key:"pC",value:function(){var _pC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee159(t){var e,i,_t2218,_t2219,_e1579,_s764,_n502,_t2220;return regeneratorRuntime.wrap(function _callee159$(_context161){while(1){switch(_context161.prev=_context161.next){case 0:e=t.target.closest("x-menuitem"),i=e?e.value:null;if(!i){_context161.next=29;break;}if(!(this.tn.board.undoManager.checkpoint("Add filter primitive"),"SourceGraphic"===i||"SourceAlpha"===i)){_context161.next=7;break;}_t2218=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2218.includes(i)&&(_t2218.push(i),this.filter.setAttribute("data-bx-details",_t2218.join(" ")),this.OC(),this.bC(),this.setSelection(i,null));_context161.next=29;break;case 7:_e1579=$i("svg:"+i),_s764=ri(i).substring(3),_n502=this.EC(_s764);if(!(_t2219="objectBoundingBox"===this.filter.getAttribute("primitiveUnits")?"objectBoundingBox":"userSpaceOnUse",_e1579.setAttribute("result",_n502),"feBlend"===i)){_context161.next=12;break;}_e1579.setAttribute("in","none"),_e1579.setAttribute("in2","none");_context161.next=28;break;case 12:if(!("feComposite"===i)){_context161.next=16;break;}_e1579.setAttribute("in","none"),_e1579.setAttribute("in2","none");_context161.next=28;break;case 16:if(!("feFlood"===i)){_context161.next=20;break;}_e1579.style.floodColor="#d8d8d8";_context161.next=28;break;case 20:if(!("feImage"===i)){_context161.next=27;break;}_context161.next=23;return br("images/cornell-box.jpg");case 23:_t2220=_context161.sent;_e1579.setAttribute("href",_t2220);_context161.next=28;break;case 27:"feTile"===i?_e1579.setAttribute("in","none"):"feTurbulence"===i?_e1579.setAttribute("baseFrequency","0.2"):"feColorMatrix"===i?(_e1579.setAttribute("in","none"),_e1579.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0")):"feComponentTransfer"===i||"feConvolveMatrix"===i?_e1579.setAttribute("in","none"):"feDisplacementMap"===i?(_e1579.setAttribute("in","none"),_e1579.setAttribute("in2","none")):"feGaussianBlur"===i?(_e1579.setAttribute("in","none"),_e1579.setAttribute("stdDeviation","userSpaceOnUse"===_t2219?"4":"0.04")):"feMorphology"===i?(_e1579.setAttribute("in","none"),_e1579.setAttribute("radius","userSpaceOnUse"===_t2219?"4":"0.04")):"feDropShadow"===i||"feOffset"===i?_e1579.setAttribute("in","none"):"feSpecularLighting"===i?(_e1579.setAttribute("in","none"),_e1579.setAttribute("lighting-color","#ffffff"),_e1579.setAttribute("specularConstant","1"),_e1579.setAttribute("specularExponent","70"),_e1579.innerHTML='<fePointLight x="0.5" y="0.5" z="0.5"></fePointLight>'):"feDiffuseLighting"===i&&_e1579.setAttribute("in","none");case 28:this.filter.prepend(_e1579),this.OC(),this.bC(),this.setSelection(_n502,null);case 29:case"end":return _context161.stop();}}},_callee159,this);}));function pC(_x285){return _pC.apply(this,arguments);}return pC;}()},{key:"uC",value:function uC(){var t=this._C.getNodes(),e=t.find(function(t){return"SourceGraphic"===t.type;}),i=t.find(function(t){return"SourceAlpha"===t.type;});this["#source-graphic-menu-item"].disabled=void 0!==e,this["#source-alpha-menu-item"].disabled=void 0!==i;}},{key:"xC",value:function xC(t){var _this878=this;if(1!==t.buttons)return;this["#sidebar-resize-grippie"].setPointerCapture(t.pointerId);var e,i,s=this["#sidebar"].clientWidth,n=s,o=parseInt(getComputedStyle(this["#sidebar"]).minWidth),l=parseInt(getComputedStyle(this["#sidebar"]).maxWidth);t.preventDefault(),this["#sidebar-resize-grippie"].addEventListener("pointermove",e=function e(_e1580){n=s-(_e1580.clientX-t.clientX),n<o?n=o:n>l&&(n=l),n=Math.ceil(n),_this878["#sidebar"].style.width=n+"px";}),this["#sidebar-resize-grippie"].addEventListener("lostpointercapture",i=function(_i1333){function i(){return _i1333.apply(this,arguments);}i.toString=function(){return _i1333.toString();};return i;}(function(){_this878["#sidebar-resize-grippie"].removeEventListener("pointermove",e),_this878["#sidebar-resize-grippie"].removeEventListener("lostpointercapture",i),_this878.Js.setConfig("bx-filterinspector:sidebarWidth",n);}));}},{key:"wC",value:function wC(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect()),s=this["#graph-backdrop"].getBBox();s=Ve(s,Yt(this["#graph-group"])),s=je(s,0);var n=DOMRect.fromRect(s);n.x+=t,n.y+=e,n=je(n,0),Ye(i,s)?(n.width<i.width&&(n.x<i.x?n.x=i.x:n.x+n.width>i.x+i.width&&(n.x=i.x+i.width-n.width)),n.height<i.height&&(n.y<i.y?n.y=i.y:n.y+n.height>i.y+i.height&&(n.y=i.y+i.height-n.height))):!1===qe(i,s)&&(n.x+n.width<i.x?n.x=i.x-n.width:n.x>i.x+i.width&&(n.x=i.x+i.width),n.y+n.height<i.y?n.y=i.y-n.height:n.y>i.y+i.height&&(n.y=i.y+i.height));var o=n.x-s.x,l=n.y-s.y,a=new DOMMatrix();a.translateSelf(o,l),a.multiplySelf(Ht(this["#graph-group"])),this["#graph-group"].setAttribute("transform",a);}},{key:"vC",value:function vC(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=Ht(this["#graph-group"]),n=Yt(this["#canvas"]).inverse(),o=new DOMPoint(e,i).matrixTransform(n);if(s.a>0){100*(s.a+t*s.a)<tg?t=(tg-100*s.a)/(100*s.a):100*(s.a+t*s.a)>eg&&(t=(eg-100*s.a)/(100*s.a));var _e1581=new DOMMatrix();_e1581.scaleSelf(1+t,1+t,1,o.x,o.y),_e1581.multiplySelf(s),this["#graph-group"].setAttribute("transform",_e1581);}}},{key:"TC",value:function TC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect());if(i=Ve(i,Yt(this["#canvas"]).inverse()),i.x+=e,i.y+=e,i.width-=2*e,i.height-=2*e,t.width>0&&t.height>0){var _e1582=i.width/t.width,_s765=i.height/t.height;_e1582>_s765?_e1582=_s765:_s765>_e1582&&(_s765=_e1582),(_e1582>1||_s765>1)&&(_e1582=1,_s765=1);var _n503=i.x-t.x*_e1582+(i.width-t.width*_e1582)/2,_o486=i.y-t.y*_s765+(i.height-t.height*_s765)/2,_l368=new DOMMatrix();_l368.translateSelf(_n503,_o486),_l368.scaleSelf(_e1582,_s765),this["#graph-group"].setAttribute("transform",_l368);}}},{key:"bC",value:function bC(){this.TC(this["#graph-backdrop"].getBBox());}},{key:"getSelection",value:function getSelection(){var t=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}),e=this.lC.node,i=this.lC.edge;if("SourceGraphic"!==e&&"SourceAlpha"!==e){var _i1334=!1;var _iterator1451=_createForOfIteratorHelper(t),_step1451;try{for(_iterator1451.s();!(_step1451=_iterator1451.n()).done;){var _s766=_step1451.value;if(_s766.result.baseVal===e){_i1334=!0;break;}}}catch(err){_iterator1451.e(err);}finally{_iterator1451.f();}!1===_i1334&&(e=null);}if(i){var _e1583=t.find(function(t){return t.result.baseVal===i.from;}),_s767=t.find(function(t){return t.result.baseVal===i.to;});if(_s767){if("SourceGraphic"===i.from||"SourceAlpha"===i.from){if("feMerge"===_s767.localName){var _t2221=_toConsumableArray(_s767.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2221[i.slot-1]&&_t2221[i.slot-1].in1.baseVal===i.from||(i=null);}else _s767["in"+i.slot]&&_s767["in"+i.slot].baseVal===i.from||(i=null);}else if(_e1583){if("feMerge"===_s767.localName){var _t2222=_toConsumableArray(_s767.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2222[i.slot-1]&&_t2222[i.slot-1].in1.baseVal===_e1583.result.baseVal||(i=null);}else _s767["in"+i.slot]&&_s767["in"+i.slot].baseVal===_e1583.result.baseVal||(i=null);}else i=null;}else i=null;}return[e,i];}},{key:"setSelection",value:function setSelection(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.lC={node:t,edge:e},this.Xs();}},{key:"AC",value:function AC(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"SourceGraphic";var e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);});var _iterator1452=_createForOfIteratorHelper(e),_step1452;try{for(_iterator1452.s();!(_step1452=_iterator1452.n()).done;){var _i1335=_step1452.value;if("feMerge"===_i1335.localName){var _e1584=_toConsumableArray(_i1335.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1453=_createForOfIteratorHelper(_e1584),_step1453;try{for(_iterator1453.s();!(_step1453=_iterator1453.n()).done;){var _i1336=_step1453.value;if(_i1336.in1.baseVal===t)return!0;}}catch(err){_iterator1453.e(err);}finally{_iterator1453.f();}}else{if(_i1335.in1&&_i1335.in1.baseVal===t)return!0;if(_i1335.in2&&_i1335.in2.baseVal===t)return!0;}}}catch(err){_iterator1452.e(err);}finally{_iterator1452.f();}return!1;}},{key:"mC",value:function mC(){var _this$getSelection=this.getSelection(),_this$getSelection2=_slicedToArray(_this$getSelection,2),t=_this$getSelection2[0],e=_this$getSelection2[1],i=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}),s=this.AC("SourceGraphic"),n=this.AC("SourceAlpha");if(t){if(this.tn.board.undoManager.checkpoint("Delete filter primitive"),"SourceGraphic"===t||"SourceAlpha"===t){var _iterator1454=_createForOfIteratorHelper(i),_step1454;try{for(_iterator1454.s();!(_step1454=_iterator1454.n()).done;){var _e1586=_step1454.value;if("feMerge"===_e1586.localName){var _i1337=_toConsumableArray(_e1586.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1455=_createForOfIteratorHelper(_i1337),_step1455;try{for(_iterator1455.s();!(_step1455=_iterator1455.n()).done;){var _e1587=_step1455.value;_e1587.in1.baseVal===t&&_e1587.remove();}}catch(err){_iterator1455.e(err);}finally{_iterator1455.f();}}else _e1586.in1&&_e1586.in1.baseVal===t&&_e1586.setAttribute("in","none"),_e1586.in2&&_e1586.in2.baseVal===t&&_e1586.setAttribute("in2","none");}}catch(err){_iterator1454.e(err);}finally{_iterator1454.f();}{var _e1585=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];_e1585.includes(t)&&(_e1585=_e1585.filter(function(e){return e!==t;})),0===_e1585.length?this.filter.removeAttribute("data-bx-details"):this.filter.setAttribute("data-bx-details",_e1585.join(" "));}}else{var _e1588=i.find(function(e){return e.result.baseVal===t;}),_o487=i.filter(function(t){return t!==_e1588;});_e1588.remove();var _iterator1456=_createForOfIteratorHelper(_o487),_step1456;try{for(_iterator1456.s();!(_step1456=_iterator1456.n()).done;){var _t2224=_step1456.value;if("feMerge"===_t2224.localName){var _i1339=_toConsumableArray(_t2224.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1457=_createForOfIteratorHelper(_i1339),_step1457;try{for(_iterator1457.s();!(_step1457=_iterator1457.n()).done;){var _t2225=_step1457.value;_t2225.in1.baseVal===_e1588.result.baseVal&&_t2225.remove();}}catch(err){_iterator1457.e(err);}finally{_iterator1457.f();}}else _t2224.in1&&_t2224.in1.baseVal===_e1588.result.baseVal&&_t2224.setAttribute("in","none"),_t2224.in2&&_t2224.in2.baseVal===_e1588.result.baseVal&&_t2224.setAttribute("in2","none");}}catch(err){_iterator1456.e(err);}finally{_iterator1456.f();}{var _t2223=this.AC("SourceGraphic"),_e1589=this.AC("SourceAlpha");if(_e1589!==n||_t2223!==s){var _i1338=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2223&&!0===s&&!1===_i1338.includes("SourceGraphic")&&_i1338.push("SourceGraphic"),!1===_e1589&&!0===n&&!1===_i1338.includes("SourceAlpha")&&_i1338.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1338.join(" "));}}}}else if(e){var _iterator1458=_createForOfIteratorHelper(i),_step1458;try{for(_iterator1458.s();!(_step1458=_iterator1458.n()).done;){var _t2227=_step1458.value;if("feMerge"===_t2227.localName){if(_t2227.result.baseVal===e.to){var _i1341=_toConsumableArray(_t2227.children).filter(function(t){return"feMergeNode"===t.localName;}),_s768=null;var _iterator1459=_createForOfIteratorHelper(_i1341),_step1459;try{for(_iterator1459.s();!(_step1459=_iterator1459.n()).done;){var _t2228=_step1459.value;if(_t2228.in1.baseVal===e.from){_s768=_t2228;break;}}}catch(err){_iterator1459.e(err);}finally{_iterator1459.f();}_s768&&(this.tn.board.undoManager.checkpoint("Delete filter connector"),_s768.remove());}}else{if(_t2227.in1&&_t2227.in1.baseVal===e.from&&_t2227.result.baseVal===e.to){this.tn.board.undoManager.checkpoint("Delete filter connector"),_t2227.setAttribute("in","none");break;}if(_t2227.in2&&_t2227.in2.baseVal===e.from&&_t2227.result.baseVal===e.to){this.tn.board.undoManager.checkpoint("Delete filter connector"),_t2227.setAttribute("in2","none");break;}}}}catch(err){_iterator1458.e(err);}finally{_iterator1458.f();}{var _t2226=this.AC("SourceGraphic"),_e1590=this.AC("SourceAlpha");if(_t2226!==s||_e1590!==n){var _i1340=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2226&&!0===s&&!1===_i1340.includes("SourceGraphic")&&_i1340.push("SourceGraphic"),!1===_e1590&&!0===n&&!1===_i1340.includes("SourceAlpha")&&_i1340.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1340.join(" "));}}}}},{key:"$C",value:function $C(){var _this$getSelection3=this.getSelection(),_this$getSelection4=_slicedToArray(_this$getSelection3,2),t=_this$getSelection4[0],e=_this$getSelection4[1];return!!t||!!e;}},{key:"DC",value:function DC(){this.tn.board.undoManager.checkpoint("Duplicate filter primitive");var _this$getSelection5=this.getSelection(),_this$getSelection6=_slicedToArray(_this$getSelection5,1),t=_this$getSelection6[0],e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}).find(function(e){return e.result.baseVal===t;}),i=ri(e.localName).substring(3),s=e.cloneNode("feMerge"!==e.localName);s.setAttribute("result",this.EC(i)),s.removeAttribute("id"),s.in1&&(s.in1.baseVal="none"),s.in2&&(s.in2.baseVal="none"),this.filter.append(s);}},{key:"MC",value:function MC(){var _this$getSelection7=this.getSelection(),_this$getSelection8=_slicedToArray(_this$getSelection7,1),t=_this$getSelection8[0];return"SourceGraphic"!==t&&"SourceAlpha"!==t;}},{key:"zC",value:function zC(){var _this$getSelection9=this.getSelection(),_this$getSelection10=_slicedToArray(_this$getSelection9,1),t=_this$getSelection10[0],e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}),i=this._C.getGroups(),s=i.find(function(e){return e.includes(t);}),n=_toConsumableArray(i).sort(function(t){return t===s?1:-1;});this.tn.board.undoManager.checkpoint("Set terminal filter primitive");{var _t2229=[];var _iterator1460=_createForOfIteratorHelper(n),_step1460;try{for(_iterator1460.s();!(_step1460=_iterator1460.n()).done;){var _i1343=_step1460.value;var _iterator1461=_createForOfIteratorHelper(_i1343),_step1461;try{var _loop39=function _loop39(){var s=_step1461.value;if("SourceGraphic"!==s&&"SourceAlpha"!==s){var _i1344=e.find(function(t){return t.result.baseVal===s;});_t2229.push(_i1344);}};for(_iterator1461.s();!(_step1461=_iterator1461.n()).done;){_loop39();}}catch(err){_iterator1461.e(err);}finally{_iterator1461.f();}}}catch(err){_iterator1460.e(err);}finally{_iterator1460.f();}for(var _i1342=0,_t2230=_t2229;_i1342<_t2230.length;_i1342++){var _e1591=_t2230[_i1342];this.filter.append(_e1591);}}}},{key:"PC",value:function PC(){var _this$getSelection11=this.getSelection(),_this$getSelection12=_slicedToArray(_this$getSelection11,1),t=_this$getSelection12[0],e=this._C.getGroups();if("SourceGraphic"===t||"SourceAlpha"===t)return!1;{var _i1345=e.flat();if(_i1345=_i1345.filter(function(t){return"SourceGraphic"!==t&&"SourceAlpha"!==t;}),t===_i1345[_i1345.length-1])return!1;}{var _i1346=e.find(function(e){return e.includes(t);});if(_i1346.indexOf(t)!==_i1346.length-1)return!1;}return!0;}},{key:"EC",value:function EC(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"primitive";this.filter;var e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}).map(function(t){return t.result.baseVal;});for(var _i1347=0;_i1347<Infinity;_i1347+=1){var _s769=t+"-"+_i1347;if(!1===e.includes(_s769))return _s769;}}},{key:"Xs",value:function Xs(){this.OC(),this.fC();}},{key:"OC",value:function OC(){var _this879=this;(function(t){var e=_toConsumableArray(t.children).filter(function(t){return O.includes(t.localName);}),i=Symbol();{var _t2231=null,_s770={};var _iterator1462=_createForOfIteratorHelper(e),_step1462;try{for(_iterator1462.s();!(_step1462=_iterator1462.n()).done;){var _n504=_step1462.value;if(_n504[i]=[],"feMerge"===_n504.localName){var _e1592=_toConsumableArray(_n504.children).filter(function(t){return"feMergeNode"===t.localName;}),_o488=null,_l369=Symbol();var _iterator1463=_createForOfIteratorHelper(_e1592),_step1463;try{for(_iterator1463.s();!(_step1463=_iterator1463.n()).done;){var _i1348=_step1463.value;["SourceGraphic","SourceAlpha","none"].includes(_i1348.in1.baseVal)?_i1348[_l369]=_i1348.in1.baseVal:_s770[_i1348.in1.baseVal]?_i1348[_l369]=_s770[_i1348.in1.baseVal]:_i1348[_l369]=_o488?_o488[_l369]:_t2231||"SourceGraphic",_o488=_i1348;}}catch(err){_iterator1463.e(err);}finally{_iterator1463.f();}var _iterator1464=_createForOfIteratorHelper(_e1592),_step1464;try{for(_iterator1464.s();!(_step1464=_iterator1464.n()).done;){var _t2232=_step1464.value;var _e1593=_t2232[_l369];_n504[i].push(_e1593);}}catch(err){_iterator1464.e(err);}finally{_iterator1464.f();}}else for(var _i1349=0,_arr72=["in1","in2"];_i1349<_arr72.length;_i1349++){var _e1594=_arr72[_i1349];if(void 0!==_n504[_e1594])if(["SourceGraphic","SourceAlpha","none"].includes(_n504[_e1594].baseVal))_n504[i].push(_n504[_e1594].baseVal);else if(_s770[_n504[_e1594].baseVal]){var _t2233=_s770[_n504[_e1594].baseVal];_n504[i].push(_t2233);}else _t2231?_n504[i].push(_t2231):_n504[i].push("SourceGraphic");}_t2231=_n504,""!==_n504.result.baseVal&&(_s770[_n504.result.baseVal]=_n504);}}catch(err){_iterator1462.e(err);}finally{_iterator1462.f();}}{var _t2234=[];var _iterator1465=_createForOfIteratorHelper(e),_step1465;try{for(_iterator1465.s();!(_step1465=_iterator1465.n()).done;){var _i1350=_step1465.value;var _e1595=_i1350.result.baseVal;""!==_e1595&&(_t2234.includes(_e1595)?_i1350.result.baseVal="":_t2234.push(_i1350.result.baseVal));}}catch(err){_iterator1465.e(err);}finally{_iterator1465.f();}var _iterator1466=_createForOfIteratorHelper(e),_step1466;try{for(_iterator1466.s();!(_step1466=_iterator1466.n()).done;){var _i1351=_step1466.value;if(""===_i1351.result.baseVal){var _e1596=ri(_i1351.localName).substring(3);for(var _s771=0;_s771<Infinity;_s771+=1){var _n505="".concat(_e1596,"-").concat(_s771);if(!1===_t2234.includes(_n505)){_i1351.result.baseVal=_n505,_t2234.push(_n505);break;}}}}}catch(err){_iterator1466.e(err);}finally{_iterator1466.f();}}var _iterator1467=_createForOfIteratorHelper(e),_step1467;try{for(_iterator1467.s();!(_step1467=_iterator1467.n()).done;){var _t2235=_step1467.value;var _e1597=_t2235[i].map(function(t){return t.result?t.result.baseVal:t;});if("feMerge"===_t2235.localName){var _i1352=_toConsumableArray(_t2235.children).filter(function(t){return"feMergeNode"===t.localName;});for(var _t2236=0;_t2236<_i1352.length;_t2236+=1){_i1352[_t2236].in1.baseVal!==_e1597[_t2236]&&(_i1352[_t2236].in1.baseVal=_e1597[_t2236]);}}else void 0!==_t2235.in1&&_t2235.in1.baseVal!==_e1597[0]&&(_t2235.in1.baseVal=_e1597[0]),void 0!==_t2235.in2&&_t2235.in2.baseVal!==_e1597[1]&&(_t2235.in2.baseVal=_e1597[1]);}}catch(err){_iterator1467.e(err);}finally{_iterator1467.f();}})(this.filter),this._C=new Dm(this.filter);var t=this._C.getNodes(),e=this._C.getEdges(),_this$getSelection13=this.getSelection(),_this$getSelection14=_slicedToArray(_this$getSelection13,2),i=_this$getSelection14[0],s=_this$getSelection14[1];this["#graph-backdrop"].width.baseVal.value=this._C.getWidth(),this["#graph-backdrop"].height.baseVal.value=this._C.getHeight();{var _loop40=function _loop40(){var e=_arr73[_i1353];t.find(function(t){return t.name===e.dataset.name;})||e.remove();};for(var _i1353=0,_arr73=_toConsumableArray(this["#graph-nodes"].children);_i1353<_arr73.length;_i1353++){_loop40();}var _e1598=_toConsumableArray(this["#graph-nodes"].children);var _iterator1468=_createForOfIteratorHelper(t),_step1468;try{var _loop41=function _loop41(){var _step1468$value=_step1468.value,s=_step1468$value.x,n=_step1468$value.y,o=_step1468$value.width,l=_step1468$value.height,a=_step1468$value.name,h=_step1468$value.type,r=_step1468$value.terminal;var t=_e1598.find(function(t){return t.dataset.name===a;});if(!t){var _e1599="";_e1599="SourceGraphic"===h?"filter-source-graphic-hd":"SourceAlpha"===h?"filter-source-alpha-hd":"feDiffuseLighting"===h||"feSpecularLighting"===h?"filter-lighting-hd":"filter-"+ri(h).substring(3)+"-hd",t=Ji(_templateObject72(),a,_e1599),_this879["#graph-nodes"].append(t);}a===i?t.setAttribute("data-selected",""):t.removeAttribute("data-selected"),r?t.setAttribute("data-terminal",""):t.removeAttribute("data-terminal"),t.setAttribute("transform","translate(".concat(s-o/2,", ").concat(n-l/2,")"));};for(_iterator1468.s();!(_step1468=_iterator1468.n()).done;){_loop41();}}catch(err){_iterator1468.e(err);}finally{_iterator1468.f();}}{var _loop42=function _loop42(){var t=_arr74[_i1354];e.find(function(e){return e.from===t.dataset.from&&e.to===t.dataset.to&&e.slot===parseInt(t.dataset.slot);})||t.remove();};for(var _i1354=0,_arr74=_toConsumableArray(this["#graph-edges"].children);_i1354<_arr74.length;_i1354++){_loop42();}var _t2237=_toConsumableArray(this["#graph-edges"].children);var _iterator1469=_createForOfIteratorHelper(e),_step1469;try{var _loop43=function _loop43(){var n=_step1469.value;var e=n.points,o=n.label,l=n.from,a=n.to,h=n.slot,r=_t2237.find(function(t){return t.dataset.from===l&&t.dataset.to===a&&t.dataset.slot==="".concat(h);}),_e1600=_toArray(e),d=_e1600[0],c=_e1600.slice(1),p="M ".concat(d.x," ").concat(d.y)+c.map(function(t){return" L ".concat(t.x," ").concat(t.y);}).join("");r||(r=Ji(_templateObject73(),o.width,o.height,o.height),_this879["#graph-edges"].append(r)),s&&s.from===l&&s.to===a&&s.slot===h?r.setAttribute("data-selected",""):r.removeAttribute("data-selected"),s?s.to===n.to?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"):i&&i===a?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"),r.setAttribute("data-from",l),r.setAttribute("data-to",a),r.setAttribute("data-slot",h),r.children[0].style.d="path(\"".concat(p,"\")"),r.children[1].style.d="path(\"".concat(p,"\")"),r.children[2].style.x=o.x-o.width/2+"px",r.children[2].style.y=o.y-o.height/2+"px",r.children[2].innerHTML=o.text;};for(_iterator1469.s();!(_step1469=_iterator1469.n()).done;){_loop43();}}catch(err){_iterator1469.e(err);}finally{_iterator1469.f();}}}},{key:"fC",value:function fC(){var t=this["#sidebar-content"].firstElementChild,e=null,_this$getSelection15=this.getSelection(),_this$getSelection16=_slicedToArray(_this$getSelection15,2),i=_this$getSelection16[0],s=_this$getSelection16[1];if(i){if("SourceGraphic"===i||"SourceAlpha"===i)e=i;else{e=_toConsumableArray(this.filter.children).filter(function(t){return O.includes(t.localName);}).find(function(t){return t.result.baseVal===i;});}if(!t||t.primitive!==e)if("SourceAlpha"===e)this["#sidebar-heading"].textContent="Source Alpha",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else if("SourceGraphic"===e)this["#sidebar-heading"].textContent="Source Graphic",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else{var _t2238=$i("bx-".concat(e.localName.substring(2).toLowerCase(),"primitiveinspector"));_t2238.primitive=e,this["#sidebar-heading"].textContent=_t2238.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2238);}}else if(s){if(!t||"bx-filteredgeinspector"!==t.localName){var _t2239=$i("bx-filteredgeinspector");this["#sidebar-heading"].textContent=_t2239.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2239);}}else if(!t||"bx-filterhostinspector"!==t.localName){var _t2240=$i("bx-filterhostinspector");_t2240.filter=this.filter,this["#sidebar-heading"].textContent="Filter",this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2240);}}}]);return og;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(og,"observedAttributes",["enabled"]);_defineProperty(og,"_shadowTemplate",Ki(_templateObject448()));_defineProperty(og,"_shadowStyleSheet",Qi(_templateObject449()));customElements.define("bx-filterinspector",og);var lg=Symbol(),ag=Symbol();var hg=/*#__PURE__*/function(_HTMLElement126){_inherits(hg,_HTMLElement126);var _super190=_createSuper(hg);_createClass(hg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function hg(){var _temp52,_this880;_classCallCheck(this,hg);(_temp52=_this880=_super190.call(this),_defineProperty(_assertThisInitialized(_this880),"commands",{selectAll:{enabled:function enabled(){return _this880.Gv();},exec:function exec(){return _this880.Uv();}},deselectAll:{enabled:function enabled(){return _this880.Fv();},exec:function exec(){return _this880.Nv();}}}),_temp52),_this880.qy=es(_this880.Xs,2e3,_assertThisInitialized(_this880)),_this880.Vv=0,_this880._shadowRoot=_this880.attachShadow({mode:"closed"}),_this880._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,hg._shadowStyleSheet],_this880._shadowRoot.append(document.importNode(hg._shadowTemplate.content,!0));var _iterator1470=_createForOfIteratorHelper(_this880._shadowRoot.querySelectorAll("[id]")),_step1470;try{for(_iterator1470.s();!(_step1470=_iterator1470.n()).done;){var _t2241=_step1470.value;_this880["#"+_t2241.id]=_t2241;}}catch(err){_iterator1470.e(err);}finally{_iterator1470.f();}_this880.addEventListener("keydown",function(t){return _this880.Tn(t);}),_this880["#items"].addEventListener("scroll",function(){return _this880.Hv();}),_this880["#items"].addEventListener("contextmenu",function(t){return _this880.ap(t);}),_this880["#items"].addEventListener("pointerdown",function(t){return _this880.op(t);}),_this880["#items"].addEventListener("click",function(t){return _this880.lp(t);}),_this880["#search-input"].addEventListener("input",function(){return _this880.Wv();}),_this880["#developer-mode-button"].addEventListener("toggle",function(){return _this880.tx();}),_this880["#add-menu"].addEventListener("click",function(t){return _this880.bv(t);}),_this880["#add-menu"].addEventListener("open",function(){return _this880.Yv();}),_this880["#filter-inspector-popover"].addEventListener("close",function(){return _this880["#filter-inspector"].enabled=!1;});return _this880;}_createClass(hg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this881=this;window.addEventListener("resize",this.nn=function(){_this881.Xv();}),this.Js.addEventListener("configchange",this.ln=function(t){_this881.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this881.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this881.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this["#developer-mode-button"].toggled=this.Js.getConfig("bx-filtersbrowser:developerMode",!1),this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("artworkchange",this.Ph),this.IC(),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"an",value:function an(t){var _t$detail16=t.detail,e=_t$detail16.key,i=_t$detail16.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"Xv",value:function Xv(){this.IC();}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced",s=!1;var _iterator1471=_createForOfIteratorHelper(e),_step1471;try{for(_iterator1471.s();!(_step1471=_iterator1471.n()).done;){var _t2242=_step1471.value;var _e1601=_t2242.target.nodeName,_n506=_t2242.addedNodes[0]?_t2242.addedNodes[0].nodeName:null,_o489=_t2242.removedNodes[0]?_t2242.removedNodes[0].nodeName:null,_l370=_t2242.attributeName;if("filter"===_e1601){if("bx-title"===_n506||"bx-title"===_o489){i="now";break;}if("id"===_l370){i="now",s=!0;break;}if("data-bx-pinned"===_l370){i="now";break;}}else if("bx-title"===_e1601){if(_n506||_o489){i="now";break;}}else if("filter"===_n506||"filter"===_o489){i="now",s=!0;break;}}}catch(err){_iterator1471.e(err);}finally{_iterator1471.f();}!0===s&&this.IC(),"now"===i?this.Xs():"debounced"===i&&this.qy();}},{key:"Zv",value:function Zv(){this.IC(),this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop,this.IC();}},{key:"ap",value:function(){var _ap7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee160(t){var e,_i1355,_s772,_n507;return regeneratorRuntime.wrap(function _callee160$(_context162){while(1){switch(_context162.prev=_context162.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context162.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.qv([e]);_i1355=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[lg];});_s772=e[lg];_context162.next=7;return this.Js.openContextMenu([{label:"Edit Filter",value:"edit",disabled:1!==_i1355.length},{label:"Edit Filter ID",value:"edit-id",disabled:1!==_i1355.length},{label:"Edit Filter Title",value:"edit-title",disabled:1!==_i1355.length},{type:"separator"},{label:"Delete Filter"+(_i1355.length>1?"s":""),value:"delete",disabled:0===_i1355.length},{type:"separator"},{label:"Pin Filter"+(_i1355.length>1?"s":""),value:"pin",disabled:void 0===_i1355.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Filter"+(_i1355.length>1?"s":""),value:"unpin",disabled:void 0===_i1355.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Filter Users",value:"select-users",disabled:1!==_i1355.length}]);case 7:_n507=_context162.sent;"edit"===_n507?this.editFilter(_s772.id):"edit-id"===_n507?this.ty(_s772.id,"id"):"edit-title"===_n507?this.ty(_s772.id,"title"):"delete"===_n507?this.iy():"pin"===_n507?this.sy():"unpin"===_n507?this.ny():"select-users"===_n507&&this.LC(_s772.id);case 9:case"end":return _context162.stop();}}},_callee160,this);}));function ap(_x286){return _ap7.apply(this,arguments);}return ap;}()},{key:"lp",value:function lp(t){t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys21=this.Js.modKeys,e=_this$Js$modKeys21.ctrl,i=_this$Js$modKeys21.shift;if(!1===e&&!1===i){var _e1602=t.target.closest(".item"),_i1356=t.target.closest(".thumbnail"),_s773=t.target.closest(".counter-button"),_n508=t.target.closest(".pin-button"),_o490=_e1602[lg].id;_s773?this.LC(_o490):_n508?_n508.toggled?this.BC(_o490):this.RC(_o490):_i1356?t.detail%2==0&&this.editFilter(_o490):t.detail%2==0&&this.ty(_o490);}}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1603=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1603&&this.qv([]);}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this882=this;var _this$Js$modKeys22=this.Js.modKeys,e=_this$Js$modKeys22.ctrl,i=_this$Js$modKeys22.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.IC(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[ag]=Date.now());else if(!0===i){var _t2243=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1604=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1604.length>0){var _i1357=_t2243.indexOf(s),_n509=_e1604.sort(function(t,e){return e[ag]-t[ag];})[0],_o491=_t2243.indexOf(_n509),_l371=[];if(_i1357>_o491?_l371=_toConsumableArray(_t2243).slice(_o491,_i1357+1):_i1357<_o491&&(_l371=_toConsumableArray(_t2243).slice(_i1357,_o491+1).reverse()),_l371=_l371.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l371.length>0){var _iterator1472=_createForOfIteratorHelper(_l371),_step1472;try{for(_iterator1472.s();!(_step1472=_iterator1472.n()).done;){var _t2244=_step1472.value;_t2244.setAttribute("data-selected",""),_t2244[ag]=Date.now();}}catch(err){_iterator1472.e(err);}finally{_iterator1472.f();}}}}else{var _t2247,_e1606,_i1358=!1;window.addEventListener("pointermove",_t2247=function _t2245(o){var l=new DOMPoint(o.clientX,o.clientY);if(Ee(n,l)>=3){if(window.removeEventListener("pointermove",_t2247),window.removeEventListener("pointerup",_e1606),!1===s.hasAttribute("data-selected")){var _iterator1473=_createForOfIteratorHelper(_this882["#items"].children),_step1473;try{for(_iterator1473.s();!(_step1473=_iterator1473.n()).done;){var _t2246=_step1473.value;_t2246===s?(_t2246.setAttribute("data-selected",""),_t2246[ag]=Date.now()):_t2246.removeAttribute("data-selected");}}catch(err){_iterator1473.e(err);}finally{_iterator1473.f();}}_this882.Sv(o),_i1358=!0;}}),window.addEventListener("pointerup",_e1606=function _e1605(){if(window.removeEventListener("pointermove",_t2247),window.removeEventListener("pointerup",_e1606),!1===_i1358){var _iterator1474=_createForOfIteratorHelper(_this882["#items"].children),_step1474;try{for(_iterator1474.s();!(_step1474=_iterator1474.n()).done;){var _t2248=_step1474.value;_t2248===s?(_t2248.setAttribute("data-selected",""),_t2248[ag]=Date.now()):_t2248.removeAttribute("data-selected");}}catch(err){_iterator1474.e(err);}finally{_iterator1474.f();}}});}}},{key:"Sv",value:function Sv(t){var _this883=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this883["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this883.Js.pointerClientPoint,e=_this883._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this883._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1607=l.getBoundingClientRect();if(a=t.y<_e1607.y+_e1607.height/2?"start":"end",_this883.Cv(n,l,a)){var _t2249=l.offsetTop-_this883["#items"].scrollTop;"end"===a&&(_t2249+=_e1607.height),_this883["#drop-indicator"].hidden=!1,_this883["#drop-indicator"].style.top=_t2249-1+"px";}else l=null,_this883["#drop-indicator"].hidden=!0;}else _this883["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s774){function s(_x287){return _s774.apply(this,arguments);}s.toString=function(){return _s774.toString();};return s;}(function(t){if(_this883["#items"].removeEventListener("pointermove",e),_this883["#items"].removeEventListener("scroll",i),_this883["#items"].removeEventListener("lostpointercapture",s),_this883["#items"].style.cursor=null,_this883["#drop-indicator"].hidden=!0,c(),_this883.tn.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1608=n[0][lg],_i1359=_this883.tn.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1359&&E.includes(_i1359.localName)&&(_this883.tn.board.undoManager.checkpoint("Apply filter"),_i1359.style.setProperty("filter","url(#".concat(_e1608.id,")")),Op("filter",_i1359),"image"===_i1359.localName&&(_e1608.previousElementSibling?_e1608.previousElementSibling.after(_e1608):_e1608.nextElementSibling?_e1608.nextElementSibling.before(_e1608):_e1608.parentElement.append(_e1608)),_this883.py());}}else if(l){_this883.tn.board.undoManager.checkpoint("Rearrange filters");var _t2250=document.createDocumentFragment(),_e1609=l[lg];var _iterator1475=_createForOfIteratorHelper(n),_step1475;try{for(_iterator1475.s();!(_step1475=_iterator1475.n()).done;){var _i1360=_step1475.value;_i1360[lg]!==_e1609&&_t2250.append(_i1360[lg]);}}catch(err){_iterator1475.e(err);}finally{_iterator1475.f();}"start"===a?_e1609.before(_t2250):_e1609.after(_t2250);}}));}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus")||this["#filter-inspector-popover"].opened)return;var e=Ja.fromEvent(t);if(e.matches("Enter")){var _t2251=this["#items"].querySelector(".item[data-label-edited]"),_e1610=this["#items"].querySelector(".item[data-selected]");_t2251?this.focus():_e1610&&this.ty(_e1610[lg].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.iy());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx()||this.uy());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx()||this.xy());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.xx(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.mx(!0));}}},{key:"tx",value:function tx(){this.Js.setConfig("bx-filtersbrowser:developerMode",this["#developer-mode-button"].toggled),this.Tv(),this.focus();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&"add-filter"===e.value&&this.by();}},{key:"Yv",value:function Yv(){}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"editFilter",value:function(){var _editFilter=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee161(t){var e,_t2252,_i1361;return regeneratorRuntime.wrap(function _callee161$(_context163){while(1){switch(_context163.prev=_context163.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[lg].id===t;});if(!e){_context163.next=9;break;}this.qv([e]);_t2252=e.getBoundingClientRect(),_i1361=new DOMPoint(_t2252.left,_t2252.top+_t2252.height/2);_context163.next=6;return ss(10);case 6:this["#filter-inspector-popover"].open(_i1361);this["#filter-inspector"].filter=e[lg];this["#filter-inspector"].enabled=!0;case 9:case"end":return _context163.stop();}}},_callee161,this);}));function editFilter(_x288){return _editFilter.apply(this,arguments);}return editFilter;}()},{key:"IC",value:function IC(){this["#filter-inspector-popover"].opened&&(this["#filter-inspector-popover"].close(),this["#filter-inspector"].enabled=!1);}},{key:"ty",value:function ty(t){var _this884=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[lg].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2253=this["#items"].querySelector(".item[data-label-edited]");if(_t2253){if(_t2253===i)return;this.wy();}}this.qv([i]);var s=this.tn.board,n=i.querySelector(".label"),o=i[lg],l=this["#developer-mode-button"].toggled?"Filter ID":"Filter title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=Ki(_templateObject74(),h,l);n.after(r),r.selectAll(),ss(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this884.wy();}),r.validate=function(){var t=null;if(_this884["#developer-mode-button"].toggled){var _e1611=r.value.trim();if(_e1611.startsWith("#")&&(_e1611=_e1611.substring(1)),0===_e1611.length)t="Filter must have ID";else if(qi(_e1611)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1611)))&&o.id!==_e1611&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"wy",value:function wy(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1612=this.tn.board,_i1362=t.querySelector(".label"),_s775=t.querySelector("x-input"),_n510=t[lg];if(_s775.remove(),_i1362.hidden=!1,t.removeAttribute("data-label-edited"),null===_s775.error)if(this["#developer-mode-button"].toggled){var _t2254=_n510.getAttribute("id").trim(),_i1363=_s775.value.trim().toLowerCase();if(_i1363.startsWith("#")&&(_i1363=_i1363.substring(1)),_t2254!==_i1363){_e1612.undoManager.checkpoint("Filter ID");var _s776=document.createNodeIterator(_e1612.workspaces,NodeFilter.SHOW_ELEMENT),_n511=null;for(;_n511=_s776.nextNode();){"filter"===_n511.localName&&(_n511.id===_t2254&&_n511.setAttribute("id",_i1363),_n511.href.baseVal==="#"+_t2254&&_n511.setAttribute("href","#"+_i1363));{var _e1613=getComputedStyle(_n511).getPropertyValue("filter");if(_e1613&&_e1613.startsWith("url(")){_e1613.substring(6,_e1613.length-2)===_t2254&&_n511.style.setProperty("filter","url(#".concat(_i1363,")"));}}}}}else{var _t2255=_n510.querySelector(":scope > bx-title"),_i1364=_s775.value.trim();if(_t2255){_t2255.textContent!==_i1364&&(_e1612.undoManager.checkpoint("Filter title"),""===_i1364?_t2255.remove():_t2255.textContent=_i1364);}else""!==_i1364&&(_e1612.undoManager.checkpoint("Filter title"),_t2255=$i("svg:bx-title"),_t2255.textContent=_i1364,_n510.prepend(_t2255));}}}},{key:"BC",value:function BC(t){this.tn.board.undoManager.checkpoint("Pin Filter"),this.tn.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"RC",value:function RC(t){this.tn.board.undoManager.checkpoint("Unpin Filter"),this.tn.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"qv",value:function qv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1476=_createForOfIteratorHelper(this["#items"].children),_step1476;try{for(_iterator1476.s();!(_step1476=_iterator1476.n()).done;){var _e1614=_step1476.value;t.includes(_e1614)?(_e1614.setAttribute("data-selected",""),_e1614[ag]=Date.now()):_e1614.removeAttribute("data-selected");}}catch(err){_iterator1476.e(err);}finally{_iterator1476.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.IC();}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1365=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s777=e[0],_n512=_i1365.indexOf(_s777),_o492=_i1365[_n512-1];if(_o492){if(_o492.scrollIntoViewIfNeeded(),t)_o492.setAttribute("data-selected",""),_o492[ag]=Date.now();else{var _iterator1477=_createForOfIteratorHelper(_i1365),_step1477;try{for(_iterator1477.s();!(_step1477=_iterator1477.n()).done;){var _t2256=_step1477.value;_t2256===_o492?(_t2256.setAttribute("data-selected",""),_t2256[ag]=Date.now()):_t2256.removeAttribute("data-selected");}}catch(err){_iterator1477.e(err);}finally{_iterator1477.f();}}return this.IC(),!0;}}return!1;}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1366=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s778=e[e.length-1],_n513=_i1366.indexOf(_s778),_o493=_i1366[_n513+1];if(_o493){if(_o493.scrollIntoViewIfNeeded(),t)_o493.setAttribute("data-selected",""),_o493[ag]=Date.now();else{var _iterator1478=_createForOfIteratorHelper(_i1366),_step1478;try{for(_iterator1478.s();!(_step1478=_iterator1478.n()).done;){var _t2257=_step1478.value;_t2257===_o493?(_t2257.setAttribute("data-selected",""),_t2257[ag]=Date.now()):_t2257.removeAttribute("data-selected");}}catch(err){_iterator1478.e(err);}finally{_iterator1478.f();}}return this.IC(),!0;}}return!1;}},{key:"uy",value:function uy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1479=_createForOfIteratorHelper(t),_step1479;try{for(_iterator1479.s();!(_step1479=_iterator1479.n()).done;){var _i1367=_step1479.value;_i1367===e?(_i1367.setAttribute("data-selected",""),_i1367[ag]=Date.now()):_i1367.removeAttribute("data-selected");}}catch(err){_iterator1479.e(err);}finally{_iterator1479.f();}return this.IC(),!0;}return!1;}},{key:"xy",value:function xy(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1480=_createForOfIteratorHelper(t),_step1480;try{for(_iterator1480.s();!(_step1480=_iterator1480.n()).done;){var _i1368=_step1480.value;_i1368===e?(_i1368.setAttribute("data-selected",""),_i1368[ag]=Date.now()):_i1368.removeAttribute("data-selected");}}catch(err){_iterator1480.e(err);}finally{_iterator1480.f();}return this.IC(),!0;}return!1;}},{key:"Uv",value:function Uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.qv(t,!1);}},{key:"Nv",value:function Nv(){this.qv([],!1);}},{key:"Gv",value:function Gv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"Fv",value:function Fv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"by",value:function by(){var t=this.tn.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add filter");var i=$i("svg:filter");if(i.setAttribute("id",t.generateUniqueID("filter-")),i.setAttribute("data-bx-pinned","true"),i.setAttribute("primitiveUnits","objectBoundingBox"),e.length>0){e[e.length-1][lg].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.Xs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[lg]===i;});this.qv([s]);}},{key:"iy",value:function(){var _iy6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee162(){var t,e,i,s,n,_iterator1481,_step1481,_e1617,o,_iterator1482,_step1482,_t2261,_iterator1486,_step1486,_e1618,_t2258,_e1615,_iterator1483,_step1483,_t2259,_iterator1485,_step1485,_e1616,_iterator1484,_step1484,_t2260;return regeneratorRuntime.wrap(function _callee162$(_context164){while(1){switch(_context164.prev=_context164.next){case 0:t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[lg];}),s=[],n=[];_iterator1481=_createForOfIteratorHelper(i);try{for(_iterator1481.s();!(_step1481=_iterator1481.n()).done;){_e1617=_step1481.value;s.push.apply(s,_toConsumableArray(t.workspaces.querySelectorAll("filter[href=\"#".concat(CSS.escape(_e1617.id),"\"]"))));}}catch(err){_iterator1481.e(err);}finally{_iterator1481.f();}o=[].concat(_toConsumableArray(i),s);_iterator1482=_createForOfIteratorHelper(o);try{for(_iterator1482.s();!(_step1482=_iterator1482.n()).done;){_t2261=_step1482.value;_iterator1486=_createForOfIteratorHelper(Sx(_t2261));try{for(_iterator1486.s();!(_step1486=_iterator1486.n()).done;){_e1618=_step1486.value;!1===n.includes(_e1618)&&n.push(_e1618);}}catch(err){_iterator1486.e(err);}finally{_iterator1486.f();}}}catch(err){_iterator1482.e(err);}finally{_iterator1482.f();}if(!(0!==e.length)){_context164.next=20;break;}if(!(n.length>0)){_context164.next=15;break;}_t2258="Delete ";1===i.length?_t2258+="a filter":_t2258+="".concat(i.length," filters"),_t2258+=" applied to ",1===n.length?_t2258+="1 object?":_t2258+="".concat(n.length," objects?");_context164.next=12;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2258,detail:"Deleting a filter also removes it from all objects it was applied to."});case 12:_e1615=_context164.sent;if(!(-1===_e1615||1===_e1615)){_context164.next=15;break;}return _context164.abrupt("return");case 15:t.undoManager.checkpoint("Delete filters"),this.mx()||this.xx();_iterator1483=_createForOfIteratorHelper(n);try{for(_iterator1483.s();!(_step1483=_iterator1483.n()).done;){_t2259=_step1483.value;_iterator1485=_createForOfIteratorHelper(o);try{for(_iterator1485.s();!(_step1485=_iterator1485.n()).done;){_e1616=_step1485.value;getComputedStyle(_t2259).filter==="url(\"#".concat(_e1616.id,"\")")&&(_t2259.style.filter=null,_t2259.removeAttribute("filter"));}}catch(err){_iterator1485.e(err);}finally{_iterator1485.f();}}}catch(err){_iterator1483.e(err);}finally{_iterator1483.f();}_iterator1484=_createForOfIteratorHelper(o);try{for(_iterator1484.s();!(_step1484=_iterator1484.n()).done;){_t2260=_step1484.value;_t2260.remove();}}catch(err){_iterator1484.e(err);}finally{_iterator1484.f();}case 20:case"end":return _context164.stop();}}},_callee162,this);}));function iy(){return _iy6.apply(this,arguments);}return iy;}()},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[lg];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin filter"+e.length>1?"s":"");var _iterator1487=_createForOfIteratorHelper(e),_step1487;try{for(_iterator1487.s();!(_step1487=_iterator1487.n()).done;){var _t2262=_step1487.value;_t2262.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1487.e(err);}finally{_iterator1487.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[lg];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin filter"+e.length>1?"s":"");var _iterator1488=_createForOfIteratorHelper(e),_step1488;try{for(_iterator1488.s();!(_step1488=_iterator1488.n()).done;){var _t2263=_step1488.value;_t2263.removeAttribute("data-bx-pinned");}}catch(err){_iterator1488.e(err);}finally{_iterator1488.f();}}}},{key:"Cv",value:function Cv(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s779=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n514=t[0],_o494=_s779.indexOf(e);if("start"===i){if(_s779[_o494-1]===_n514)return!1;}else if("end"===i){if(_s779[_o494+1]===_n514)return!1;}}return!0;}},{key:"LC",value:function LC(t){var e=this.tn.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[lg].id===t;})[lg],s=this.GC().get(i);e.selectedElements=s?_toConsumableArray(s):[];}},{key:"GC",value:function GC(){var t=this.tn.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(E.includes(s.localName)){var _i1369=getComputedStyle(s),_n515=Go.fromString(_i1369.filter),_o495=_n515?t.masterWorkspace.querySelector(_n515.value):null,_l372=_o495&&"filter"===_o495.localName?_o495:null;_l372&&(!1===e.has(_l372)&&e.set(_l372,[]),e.get(_l372).push(s));}}return e;}},{key:"Xs",value:function Xs(){{var _t2264=_toConsumableArray(this.tn.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("href");}).filter(function(t){return!1===t.hasAttribute("data-bx-preset");}),_e1619=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]")).map(function(t){return t[lg];}),_i1370=document.createDocumentFragment();var _iterator1489=_createForOfIteratorHelper(_t2264),_step1489;try{for(_iterator1489.s();!(_step1489=_iterator1489.n()).done;){var _s780=_step1489.value;var _t2265=Ki(_templateObject75(),_s780.id,_s780.id);_t2265[lg]=_s780,_e1619.includes(_s780)&&(_t2265.setAttribute("data-selected",""),_t2265[ag]=Date.now()),this.yy(_t2265),this.ky(_t2265),_i1370.append(_t2265);}}catch(err){_iterator1489.e(err);}finally{_iterator1489.f();}this["#items"].innerHTML="",this["#items"].append(_i1370),this["#mirror-svg"].innerHTML=this.tn.board.defs.innerHTML;}this.py(),this.Jv(),this.ux();}},{key:"gy",value:function gy(){var _iterator1490=_createForOfIteratorHelper(this["#items"].children),_step1490;try{for(_iterator1490.s();!(_step1490=_iterator1490.n()).done;){var _t2266=_step1490.value;this.ky(_t2266);}}catch(err){_iterator1490.e(err);}finally{_iterator1490.f();}}},{key:"Tv",value:function Tv(){this["#search-input"].value="";var _iterator1491=_createForOfIteratorHelper(this["#items"].children),_step1491;try{for(_iterator1491.s();!(_step1491=_iterator1491.n()).done;){var _t2267=_step1491.value;this.yy(_t2267),this.ky(_t2267);}}catch(err){_iterator1491.e(err);}finally{_iterator1491.f();}this.ux();}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"yy",value:function yy(t){var e=t[lg],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<filter>",i.removeAttribute("data-custom"));else{var _t2268;_t2268=this.tn.board.currentWorkspace.id===e.id?this.tn.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2268?(i.textContent=_t2268.textContent,i.setAttribute("data-custom","")):(i.textContent="Filter",i.removeAttribute("data-custom"));}}},{key:"py",value:function py(){var t=this.GC();var _iterator1492=_createForOfIteratorHelper(this["#items"].children),_step1492;try{for(_iterator1492.s();!(_step1492=_iterator1492.n()).done;){var _e1620=_step1492.value;var _i1371=_e1620.querySelector(".counter-button"),_s781=t.get(_e1620[lg]),_n516=_s781?_s781.length:0;0===_n516?(_i1371.setAttribute("hidden",""),_i1371.firstElementChild.textContent="0"):(_i1371.setAttribute("title",1===_n516?"Select 1 filter user":"Select ".concat(_n516," filter users")),_i1371.removeAttribute("hidden"),_i1371.firstElementChild.textContent=_n516);}}catch(err){_iterator1492.e(err);}finally{_iterator1492.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.filters){var _iterator1493=_createForOfIteratorHelper(this["#items"].children),_step1493;try{for(_iterator1493.s();!(_step1493=_iterator1493.n()).done;){var _t2269=_step1493.value;var _e1621=_t2269[lg],_i1372=_t2269.lastElementChild;_i1372.hidden=!1,_i1372.toggled=_e1621.hasAttribute("data-bx-pinned");}}catch(err){_iterator1493.e(err);}finally{_iterator1493.f();}}else{var _iterator1494=_createForOfIteratorHelper(this["#items"].children),_step1494;try{for(_iterator1494.s();!(_step1494=_iterator1494.n()).done;){var _t2270=_step1494.value;_t2270.lastElementChild.hidden=!0;}}catch(err){_iterator1494.e(err);}finally{_iterator1494.f();}}}}]);return hg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hg,"observedAttributes",["enabled"]);_defineProperty(hg,"_shadowTemplate",Ki(_templateObject450()));_defineProperty(hg,"_shadowStyleSheet",Qi(_templateObject451()));customElements.define("bx-filtersbrowser",hg);var rg=Symbol(),dg=Symbol(),cg=Symbol();var pg=/*#__PURE__*/function(_HTMLElement127){_inherits(pg,_HTMLElement127);var _super191=_createSuper(pg);_createClass(pg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function pg(){var _temp53,_this885;_classCallCheck(this,pg);(_temp53=_this885=_super191.call(this),_defineProperty(_assertThisInitialized(_this885),"commands",{selectAll:{enabled:function enabled(){return null===_this885._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this885.Uv();}},deselectAll:{enabled:function enabled(){return null===_this885._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this885.Nv();}}}),_temp53),_this885.qy=es(_this885.Xs,2e3,_assertThisInitialized(_this885)),_this885.Vv=0,_this885.UC=!1,_this885.FC=!1,_this885.NC=null,_this885.jC=[],_this885._shadowRoot=_this885.attachShadow({mode:"closed"}),_this885._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,pg._shadowStyleSheet],_this885._shadowRoot.append(document.importNode(pg._shadowTemplate.content,!0));var _iterator1495=_createForOfIteratorHelper(_this885._shadowRoot.querySelectorAll("[id]")),_step1495;try{for(_iterator1495.s();!(_step1495=_iterator1495.n()).done;){var _t2271=_step1495.value;_this885["#"+_t2271.id]=_t2271;}}catch(err){_iterator1495.e(err);}finally{_iterator1495.f();}_this885.addEventListener("keydown",function(t){return _this885.Tn(t);}),_this885["#items"].addEventListener("scroll",function(){return _this885.Hv();}),_this885["#items"].addEventListener("pointerdown",function(t){return _this885.op(t);}),_this885["#items"].addEventListener("click",function(t){return _this885.lp(t);}),_this885["#search-input"].addEventListener("input",function(){return _this885.Wv();}),_this885["#add-menu"].addEventListener("click",function(t){return _this885.bv(t);});return _this885;}_createClass(pg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),this["#items"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"VC",value:function VC(){var _this886=this;return new Promise(function(t){!1===_this886.HC?t():_this886.jC.push(t);});}},{key:"en",value:function en(){var _this887=this;this.Js.addEventListener("configchange",this.ln=function(t){_this887.an(t);}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this887.pl(t);}),this.tn.board.addEventListener("artworkchange",this.Ph=function(t){_this887.Zv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.Vv,this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Xs();}},{key:"sn",value:function sn(){this.Js.removeEventListener("configchange",this.ln),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.removeEventListener("workspacemutation",this.rn),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail17=t.detail,e=_t$detail17.key,i=_t$detail17.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this.Kv=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp),this.Jv());}},{key:"pl",value:function pl(t){var e=t.detail,i="debounced";var _iterator1496=_createForOfIteratorHelper(e),_step1496;try{for(_iterator1496.s();!(_step1496=_iterator1496.n()).done;){var _t2272=_step1496.value;if(_t2272.target.hasAttribute&&_t2272.target.hasAttribute("data-bx-fonts")||_t2272.target.parentElement&&_t2272.target.parentElement.hasAttribute("data-bx-fonts")){i="now";break;}}}catch(err){_iterator1496.e(err);}finally{_iterator1496.f();}"now"===i?this.Xs():"debounced"===i&&this.qy();}},{key:"Zv",value:function Zv(){this.Xs();}},{key:"Hv",value:function Hv(){this.Vv=this["#items"].scrollTop;}},{key:"lp",value:function lp(t){t.target.closest(".arrow-button")?this._v(t):t.target.closest(".item")&&this.Dv(t);}},{key:"Dv",value:function Dv(t){var _this$Js$modKeys23=this.Js.modKeys,e=_this$Js$modKeys23.ctrl,i=_this$Js$modKeys23.shift;if(!1===e&&!1===i){var _e1622=t.target.closest(".item"),_i1373=t.target.closest(".unlink-button"),_s782=t.target.closest(".counter-button"),_n517=t.target.closest(".pin-button"),_o496=_e1622.dataset.family;_i1373?this.WC(_o496):_s782?this.YC(_o496):_n517&&(_n517.toggled?this.qC(_o496):this.XC(_o496));}}},{key:"_v",value:function _v(t){var e=t.target.closest(".item");e.matches(".family-item")&&(e.hasAttribute("data-expanded")?this.Ov(e):this.Ev(e));}},{key:"op",value:function op(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1623=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1623&&this.Nv();}else t.target.closest(".item")&&this.ig(t);}},{key:"ig",value:function ig(t){var _this888=this;if(t.target.closest(".arrow-button")||1!==t.buttons)return;if(t.target.closest("x-button"))return;var _this$Js$modKeys24=this.Js.modKeys,e=_this$Js$modKeys24.ctrl,i=_this$Js$modKeys24.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!1===e&&!1===i){var _t2275,_e1625,_i1374=!1;window.addEventListener("pointermove",_t2275=function _t2273(e){var o=new DOMPoint(e.clientX,e.clientY);if(Ee(n,o)>=3){if(window.removeEventListener("pointermove",_t2275),!1===s.hasAttribute("data-selected")){var _iterator1497=_createForOfIteratorHelper(_this888["#items"].querySelectorAll(".item")),_step1497;try{for(_iterator1497.s();!(_step1497=_iterator1497.n()).done;){var _t2274=_step1497.value;_t2274===s?(_t2274.setAttribute("data-selected",""),_t2274[cg]=Date.now()):_t2274.removeAttribute("data-selected");}}catch(err){_iterator1497.e(err);}finally{_iterator1497.f();}}_this888.Sv(e),_i1374=!0;}}),window.addEventListener("pointerup",_e1625=function _e1624(){if(window.removeEventListener("pointermove",_t2275),window.removeEventListener("pointerup",_e1625),!1===_i1374){var _iterator1498=_createForOfIteratorHelper(_this888["#items"].querySelectorAll(".item")),_step1498;try{for(_iterator1498.s();!(_step1498=_iterator1498.n()).done;){var _t2276=_step1498.value;_t2276===s?(_t2276.setAttribute("data-selected",""),_t2276[cg]=Date.now()):_t2276.removeAttribute("data-selected");}}catch(err){_iterator1498.e(err);}finally{_iterator1498.f();}}});}else if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[cg]=Date.now());else if(!0===i){var _t2277=_toConsumableArray(this["#items"].querySelectorAll(".item"));_t2277=_t2277.filter(function(t){return!t.matches("[hidden], [hidden] > *");});var _e1626=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]"));if(_e1626=_e1626.filter(function(t){return!t.matches("[hidden], [hidden] > *");}),_e1626.length>0){var _i1375=_t2277.indexOf(s),_n518=_e1626.sort(function(t,e){return e[cg]-t[cg];})[0],_o497=_t2277.indexOf(_n518),_l373=[];if(_i1375>_o497?_l373=_toConsumableArray(_t2277).slice(_o497,_i1375+1):_i1375<_o497&&(_l373=_toConsumableArray(_t2277).slice(_i1375,_o497+1).reverse()),_l373=_l373.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l373.length>0){var _iterator1499=_createForOfIteratorHelper(_l373),_step1499;try{for(_iterator1499.s();!(_step1499=_iterator1499.n()).done;){var _t2278=_step1499.value;_t2278.setAttribute("data-selected",""),_t2278[cg]=Date.now();}}catch(err){_iterator1499.e(err);}finally{_iterator1499.f();}}}}}},{key:"Sv",value:function Sv(t){var _this889=this;var e=this.tn.board,i=this.ZC().filter(function(t){return t.hasAttribute("data-selected");}),s=i.filter(function(t){return t.matches(".family-item");}),n=i.filter(function(t){return t.matches(".font-item");});if(s.length>0&&n.length>0)return;var o,l,_a273,h=null,r="start",d=this["#main"].getBoundingClientRect(),c=null,p=0;this.UC=!0,this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var u=function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;p=t,null===c&&(c=setInterval(function(){return _this889["#items"].scrollTop+=p;},10));},x=function x(){null!==c&&(clearInterval(c),c=null);},b=function b(){var t=_this889.Js.pointerClientPoint,e=_this889._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this889._shadowRoot&&(e=null),h=e?e.closest(".item"):null,h){var _e1627=h.getBoundingClientRect();if(r=t.y<_e1627.y+_e1627.height/2?"start":"end",h.hasAttribute("data-expanded")&&"end"===r&&(h=h.querySelector(".item"),r="start",_e1627=h.getBoundingClientRect()),_this889.Cv(i,h,r)){var _t2279=h.offsetTop-_this889["#items"].scrollTop;if(h.matches(".font-item")){_t2279+=h.closest(".family-item").offsetTop;}"end"===r&&(_t2279+=_e1627.height),_this889["#drop-indicator"].hidden=!1,_this889["#drop-indicator"].style.top=_t2279-1+"px",_this889["#drop-indicator"].style.marginLeft=(h.matches(".font-item")?34:18)+"px";}else h=null,_this889["#drop-indicator"].hidden=!0;}else _this889["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",l=function l(t){b();}),this["#items"].addEventListener("pointermove",o=function o(t){t.clientX>d.left&&t.clientX<d.right&&(t.clientY<d.top+20?u(-3):t.clientY>d.bottom-20?u(3):x()),b();}),this["#items"].addEventListener("lostpointercapture",_a273=function a(t){if(_this889["#items"].removeEventListener("pointermove",o),_this889["#items"].removeEventListener("scroll",l),_this889["#items"].removeEventListener("lostpointercapture",_a273),_this889["#items"].style.cursor=null,_this889["#drop-indicator"].hidden=!0,x(),e.isPointOverBoard(t.clientX,t.clientY)){e.undoManager.checkpoint("Text");var _s783=i[0].querySelector(".label"),_n519=e.currentContainer||e.currentWorkspace,_o498=Yt(_n519).inverse(),_l374=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o498),_a272=J(_l374.x,e.geometryPrecision),_h219=J(_l374.y,e.geometryPrecision),_getComputedStyle7=getComputedStyle(_s783),_r145=_getComputedStyle7.fontFamily,_d114=_getComputedStyle7.fontSize,_c82=_getComputedStyle7.fontStyle,_p79=_getComputedStyle7.fontWeight;_d114=parseFloat(_d114)/e.scale+"px";var _u67=$i("svg:text");_u67.style.fontFamily=_r145,_u67.style.fontSize=_d114,_u67.style.fontStyle=_c82,_u67.style.fontWeight=_p79,_u67.setAttribute("x",_a272),_u67.setAttribute("y",_h219),_u67.textContent=_s783.textContent,_n519.append(_u67);var _x289=Oi(_u67);_u67.setAttribute("x",_a272-_x289.width/2),_u67.setAttribute("y",_h219+_x289.height/3),e.selectedElements=[_u67],_this889.py();}else if(h&&s.length>0){if("start"===r){var _iterator1500=_createForOfIteratorHelper(i),_step1500;try{for(_iterator1500.s();!(_step1500=_iterator1500.n()).done;){var _t2280=_step1500.value;h.before(_t2280);}}catch(err){_iterator1500.e(err);}finally{_iterator1500.f();}}else{var _iterator1501=_createForOfIteratorHelper(i),_step1501;try{for(_iterator1501.s();!(_step1501=_iterator1501.n()).done;){var _t2281=_step1501.value;h.after(_t2281);}}catch(err){_iterator1501.e(err);}finally{_iterator1501.f();}}{var _t2282=_toConsumableArray(_this889["#items"].querySelectorAll(".family-item")).map(function(t){return t.getAttribute("data-family");});e.defsFontsManager.reorderFontFamilies(_t2282);}}_this889.UC=!1;});}},{key:"Wv",value:function Wv(){this.gy(),this.ux();}},{key:"bv",value:function bv(t){var e=t.target.closest("x-menuitem");e&&("add-from-disk"===e.value?this.KC():"add-from-library"===e.value&&this.QC());}},{key:"KC",value:function(){var _KC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee163(){var t,e,_iterator1502,_step1502,_i1376,_t2284,_s784,_n520,_o499,_l375,_a274,_h220,_i1377,_n521,_o500,_t2283,_iterator1503,_step1503,_e1628;return regeneratorRuntime.wrap(function _callee163$(_context165){while(1){switch(_context165.prev=_context165.next){case 0:_context165.next=2;return ss(500);case 2:_context165.next=4;return this.Js.openLocalFontsImportDialog();case 4:t=_context165.sent;e=[];_iterator1502=_createForOfIteratorHelper(t);_context165.prev=7;_iterator1502.s();case 9:if((_step1502=_iterator1502.n()).done){_context165.next=27;break;}_i1376=_step1502.value;_t2284="url("+_i1376.data+")";_s784={};_n520=_i1376.data;_context165.next=16;return fetch(_n520);case 16:_o499=_context165.sent;_context165.next=19;return _o499.blob();case 19:_l375=_context165.sent;_context165.next=22;return _l375.arrayBuffer();case 22:_a274=_context165.sent;_h220=fontkit.create(_a274);if(_h220){_i1377=_h220.familyName,_n521=_h220.subfamilyName.toLowerCase();_n521=li(_n521," ",""),_n521=li(_n521,"-",""),_n521=li(_n521,"_",""),_n521.includes("italic")?_s784.style="italic":_n521.includes("oblique")&&(_s784.style="oblique"),_n521.includes("thin")?_s784.weight="100":_n521.includes("extralight")?_s784.weight="200":_n521.includes("light")?_s784.weight="300":_n521.includes("medium")?_s784.weight="500":_n521.includes("semibold")?_s784.weight="600":_n521.includes("bold")?_s784.weight="700":_n521.includes("extrabold")?_s784.weight="800":_n521.includes("ultrabold")&&(_s784.weight="900");_o500=new FontFace(_i1377,_t2284,_s784);_o500.src=_t2284,e.push(_o500);}else this.Js.openMessageDialog({message:"Can't add a font",detail:"Unsupported font format.",buttons:["OK"]});case 25:_context165.next=9;break;case 27:_context165.next=32;break;case 29:_context165.prev=29;_context165.t0=_context165["catch"](7);_iterator1502.e(_context165.t0);case 32:_context165.prev=32;_iterator1502.f();return _context165.finish(32);case 35:if(!(e.length>0)){_context165.next=43;break;}this.tn.board.undoManager.checkpoint("Add fonts");_context165.next=39;return this.tn.board.defsFontsManager.addFontFaces(e);case 39:_t2283=e.map(function(t){return t.family;});_t2283=si(_t2283);_iterator1503=_createForOfIteratorHelper(_t2283);try{for(_iterator1503.s();!(_step1503=_iterator1503.n()).done;){_e1628=_step1503.value;this.tn.board.defsFontsManager.pinFontFamily(_e1628);}}catch(err){_iterator1503.e(err);}finally{_iterator1503.f();}case 43:case"end":return _context165.stop();}}},_callee163,this,[[7,29,32,35]]);}));function KC(){return _KC.apply(this,arguments);}return KC;}()},{key:"QC",value:function QC(){this.tn.togglePrimaryPanel("library-panel"),this.tn.libraryPanel.toggleBrowser("fonts-library-browser");}},{key:"Tn",value:function Tn(t){if(this["#search-input"].matches(":focus"))return;var e=Ja.fromEvent(t);if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),t.preventDefault(),this.iy();else if(e.matches("ArrowUp"))t.preventDefault(),t.stopPropagation(),this.xx();else if(e.matches("ArrowDown"))t.preventDefault(),t.stopPropagation(),this.mx();else if(e.matches("ArrowRight")){var _e1629=this["#items"].querySelectorAll(".item[data-selected]");1===_e1629.length&&_e1629[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.Ev(_e1629[0]));}else if(e.matches("ArrowLeft")){var _e1630=this["#items"].querySelectorAll(".item[data-selected]");1===_e1630.length&&_e1630[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.Ov(_e1630[0]));}else e.matches("Shift","ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.xx(!0)):e.matches("Shift","ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.mx(!0));}},{key:"featureFamily",value:function(){var _featureFamily=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee164(t){var _iterator1504,_step1504,_e1631,_iterator1505,_step1505,_e1632;return regeneratorRuntime.wrap(function _callee164$(_context166){while(1){switch(_context166.prev=_context166.next){case 0:_context166.next=2;return this.VC();case 2:this["#search-input"].value="";this.gy();this.ux();_iterator1504=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1504.s();!(_step1504=_iterator1504.n()).done;){_e1631=_step1504.value;_e1631.dataset.family!==t&&(_e1631.removeAttribute("data-selected"),this.Ov(_e1631,!1));}}catch(err){_iterator1504.e(err);}finally{_iterator1504.f();}_iterator1505=_createForOfIteratorHelper(this["#items"].children);_context166.prev=8;_iterator1505.s();case 10:if((_step1505=_iterator1505.n()).done){_context166.next=17;break;}_e1632=_step1505.value;if(!(_e1632.dataset.family===t)){_context166.next=15;break;}_e1632.setAttribute("data-selected",""),this.Ev(_e1632,!1),_e1632.scrollIntoViewIfNeeded(),_e1632[cg]=Date.now();return _context166.abrupt("break",17);case 15:_context166.next=10;break;case 17:_context166.next=22;break;case 19:_context166.prev=19;_context166.t0=_context166["catch"](8);_iterator1505.e(_context166.t0);case 22:_context166.prev=22;_iterator1505.f();return _context166.finish(22);case 25:case"end":return _context166.stop();}}},_callee164,this,[[8,19,22,25]]);}));function featureFamily(_x290){return _featureFamily.apply(this,arguments);}return featureFamily;}()},{key:"Ev",value:function(){var _Ev=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee165(t){var e,_i1378,_t2285,_e1633,_s785,_args167=arguments;return regeneratorRuntime.wrap(function _callee165$(_context167){while(1){switch(_context167.prev=_context167.next){case 0:e=_args167.length>1&&_args167[1]!==undefined?_args167[1]:!0;if(!(!1===t.hasAttribute("data-expanded"))){_context167.next=11;break;}_i1378=t.querySelector(".font-items");if(!(_i1378.hidden=!1,t.setAttribute("data-expanded",""),e)){_context167.next=11;break;}this.FC=!0;_t2285=getComputedStyle(_i1378).marginTop,_e1633="0px";"0px"===_t2285&&(_t2285="-"+getComputedStyle(_i1378).height);_s785=_i1378.animate({marginTop:[_t2285,_e1633]},{duration:250,easing:"ease"});_context167.next=10;return _s785.finished;case 10:this.FC=!1;case 11:case"end":return _context167.stop();}}},_callee165,this);}));function Ev(_x291){return _Ev.apply(this,arguments);}return Ev;}()},{key:"Ov",value:function(){var _Ov2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee166(t){var e,_i1379,_t2286,_e1634,_s786,_args168=arguments;return regeneratorRuntime.wrap(function _callee166$(_context168){while(1){switch(_context168.prev=_context168.next){case 0:e=_args168.length>1&&_args168[1]!==undefined?_args168[1]:!0;if(!t.hasAttribute("data-expanded")){_context168.next=10;break;}_i1379=t.querySelector(".font-items");if(!(t.removeAttribute("data-expanded"),e)){_context168.next=9;break;}this.FC=!0;_t2286=getComputedStyle(_i1379).marginTop,_e1634="-"+getComputedStyle(_i1379).height,_s786=_i1379.animate({marginTop:[_t2286,_e1634]},{duration:250,easing:"ease"});_context168.next=8;return _s786.finished;case 8:this.FC=!1;case 9:!1===t.hasAttribute("data-expanded")&&(_i1379.hidden=!0);case 10:case"end":return _context168.stop();}}},_callee166,this);}));function Ov(_x292){return _Ov2.apply(this,arguments);}return Ov;}()},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.ZC(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s787=i[i.length-1],_n522=e.indexOf(_s787),_o501=e[_n522+1];if(_o501){if(_o501.scrollIntoViewIfNeeded(),t)_o501.setAttribute("data-selected",""),_o501[cg]=Date.now();else{var _iterator1506=_createForOfIteratorHelper(e),_step1506;try{for(_iterator1506.s();!(_step1506=_iterator1506.n()).done;){var _t2287=_step1506.value;_t2287===_o501?(_t2287.setAttribute("data-selected",""),_t2287[cg]=Date.now()):_t2287.removeAttribute("data-selected");}}catch(err){_iterator1506.e(err);}finally{_iterator1506.f();}}}else if(!1===t&&_n522===e.length-1&&i.length>1){var _iterator1507=_createForOfIteratorHelper(e),_step1507;try{for(_iterator1507.s();!(_step1507=_iterator1507.n()).done;){var _t2288=_step1507.value;_t2288===_s787?(_t2288.setAttribute("data-selected",""),_t2288[cg]=Date.now()):_t2288.removeAttribute("data-selected");}}catch(err){_iterator1507.e(err);}finally{_iterator1507.f();}}}}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.ZC(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s788=i[0],_n523=e.indexOf(_s788),_o502=e[_n523-1];if(_o502){if(_o502.scrollIntoViewIfNeeded(),t)_o502.setAttribute("data-selected",""),_o502[cg]=Date.now();else{var _iterator1508=_createForOfIteratorHelper(e),_step1508;try{for(_iterator1508.s();!(_step1508=_iterator1508.n()).done;){var _t2289=_step1508.value;_t2289===_o502?(_t2289.setAttribute("data-selected",""),_t2289[cg]=Date.now()):_t2289.removeAttribute("data-selected");}}catch(err){_iterator1508.e(err);}finally{_iterator1508.f();}}}else if(!1===t&&0===_n523&&i.length>1){var _iterator1509=_createForOfIteratorHelper(e),_step1509;try{for(_iterator1509.s();!(_step1509=_iterator1509.n()).done;){var _t2290=_step1509.value;_t2290===_s788?(_t2290.setAttribute("data-selected",""),_t2290[cg]=Date.now()):_t2290.removeAttribute("data-selected");}}catch(err){_iterator1509.e(err);}finally{_iterator1509.f();}}}}},{key:"Uv",value:function Uv(){var t=this.ZC();var _iterator1510=_createForOfIteratorHelper(t),_step1510;try{for(_iterator1510.s();!(_step1510=_iterator1510.n()).done;){var _e1635=_step1510.value;_e1635.setAttribute("data-selected",""),_e1635[cg]=Date.now();}}catch(err){_iterator1510.e(err);}finally{_iterator1510.f();}}},{key:"Nv",value:function Nv(){var t=this.ZC().filter(function(t){return t.hasAttribute("data-selected");});if(t.length>0){var _iterator1511=_createForOfIteratorHelper(t),_step1511;try{for(_iterator1511.s();!(_step1511=_iterator1511.n()).done;){var _e1636=_step1511.value;_e1636.removeAttribute("data-selected");}}catch(err){_iterator1511.e(err);}finally{_iterator1511.f();}}}},{key:"iy",value:function(){var _iy7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee167(){var t,e,i,s,n,o,_e1637,_t2291,_i1380,_s789,_iterator1512,_step1512,_e1639,_iterator1513,_step1513,_e1640,_i1381,_e1638,_t2292;return regeneratorRuntime.wrap(function _callee167$(_context169){while(1){switch(_context169.prev=_context169.next){case 0:t=this.tn.board,e=this.ZC(),i=e.filter(function(t){return t.matches(".family-item[data-selected]");}),s=e.filter(function(t){return t.matches(".font-item[data-selected]");}),n=i.map(function(t){return t.getAttribute("data-family");}),o=s.map(function(t){return t[rg];});if(!(o=o.filter(function(t){return!1===n.includes(t.family);}),n.length>0||o.length>0)){_context169.next=18;break;}_e1637=[];if(!(_e1637.length>0)){_context169.next=11;break;}_t2291=1===o.length?"a font":"".concat(o.length," fonts");_i1380=1===_e1637.length?"1 text":"".concat(_e1637.length," texts");_context169.next=8;return this.Js.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:"Delete ".concat(_t2291," applied to ").concat(_i1380,"?"),detail:"Deleting a font also removes it from all texts it was applied to."});case 8:_s789=_context169.sent;if(!(-1===_s789||1===_s789)){_context169.next=11;break;}return _context169.abrupt("return");case 11:t.undoManager.checkpoint("Delete fonts");_iterator1512=_createForOfIteratorHelper(n);try{for(_iterator1512.s();!(_step1512=_iterator1512.n()).done;){_e1639=_step1512.value;t.defsFontsManager.removeFontFamily(_e1639);}}catch(err){_iterator1512.e(err);}finally{_iterator1512.f();}_iterator1513=_createForOfIteratorHelper(o);try{for(_iterator1513.s();!(_step1513=_iterator1513.n()).done;){_e1640=_step1513.value;t.defsFontsManager.removeFontFace(_e1640);}}catch(err){_iterator1513.e(err);}finally{_iterator1513.f();}for(_i1381=0,_e1638=_e1637;_i1381<_e1638.length;_i1381++){_t2292=_e1638[_i1381];_t2292.style.fontFamily=null;}this.Xs();case 18:case"end":return _context169.stop();}}},_callee167,this);}));function iy(){return _iy7.apply(this,arguments);}return iy;}()},{key:"ZC",value:function ZC(){var t=this["#items"].querySelectorAll(".item");return t=_toConsumableArray(t).filter(function(t){if(t.matches(".family-item"))return!1===t.hidden;if(t.matches(".font-item")){var _e1641=t.closest(".family-item");return!1===_e1641.hidden&&_e1641.hasAttribute("data-expanded");}}),t;}},{key:"sy",value:function sy(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Pin font"+n.length>1?"s":"");var _iterator1514=_createForOfIteratorHelper(n),_step1514;try{for(_iterator1514.s();!(_step1514=_iterator1514.n()).done;){var _t2293=_step1514.value;_t2293.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1514.e(err);}finally{_iterator1514.f();}}}},{key:"ny",value:function ny(){var t=this.tn.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Unpin font"+n.length>1?"s":"");var _iterator1515=_createForOfIteratorHelper(n),_step1515;try{for(_iterator1515.s();!(_step1515=_iterator1515.n()).done;){var _t2294=_step1515.value;_t2294.removeAttribute("data-bx-pinned");}}catch(err){_iterator1515.e(err);}finally{_iterator1515.f();}}}},{key:"Cv",value:function Cv(t,e,i){var s=t.filter(function(t){return t.matches(".family-item");}),n=t.filter(function(t){return t.matches(".font-item");}),o=this.ZC();if(s.length>0&&n>0)return!1;if(1===n.length){var _t2295=n[0],_s790=o.indexOf(e);if(e===_t2295||e.matches(".family-item"))return!1;if(e.closest(".family-item")!==_t2295.closest(".family-item"))return!1;if("start"===i){if(o[_s790-1]===_t2295)return!1;}else if("end"===i){if(o[_s790+1]===_t2295)return!1;}}else if(1===s.length){if(e===t[0]||e.matches(".font-item"))return!1;var _n524=s[0],_l376=o.indexOf(e);if("start"===i){if(o[_l376-1]===_n524)return!1;}else if("end"===i){if(o[_l376+1]===_n524)return!1;}}else if(s.length>1&&e.matches(".font-item"))return!1;return!0;}},{key:"WC",value:function(){var _WC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee168(t){var e;return regeneratorRuntime.wrap(function _callee168$(_context170){while(1){switch(_context170.prev=_context170.next){case 0:_context170.next=2;return this.Js.openMessageDialog({type:"question",buttons:["Unlink","Cancel"],message:"Unlink font family",detail:"<strong>".concat(t,"</strong> font family will be downloaded and embedded into the currently edited SVG file. This operation might increase your SVG file size significantly.")});case 2:e=_context170.sent;-1!==e&&1!==e&&(this.tn.board.undoManager.checkpoint("Unlink font family"),this.tn.board.defsFontsManager.unlinkFontFamily(t));case 4:case"end":return _context170.stop();}}},_callee168,this);}));function WC(_x293){return _WC.apply(this,arguments);}return WC;}()},{key:"qC",value:function qC(t){this.tn.board.undoManager.checkpoint("Pin font family"),this.tn.board.defsFontsManager.pinFontFamily(t);}},{key:"XC",value:function XC(t){this.tn.board.undoManager.checkpoint("Unpin font family"),this.tn.board.defsFontsManager.unpinFontFamily(t);}},{key:"YC",value:function YC(t){var e=this.tn.board,i=this.JC()[t];e.selectedElements=i?_toConsumableArray(i):[];}},{key:"JC",value:function JC(){var t={},e=this.tn.board.masterWorkspace.querySelectorAll("text");var _iterator1516=_createForOfIteratorHelper(e),_step1516;try{for(_iterator1516.s();!(_step1516=_iterator1516.n()).done;){var _i1382=_step1516.value;var _e1642=[],_s791=wi(_i1382);var _iterator1517=_createForOfIteratorHelper(_s791),_step1517;try{for(_iterator1517.s();!(_step1517=_iterator1517.n()).done;){var _t2296=_step1517.value;var _i1384=_t2296.closest("text, textPath, tspan, a"),_s793=Lh.fromString(getComputedStyle(_i1384).fontFamily);if(_s793&&_s793.items.length>0){var _t2297=_s793.items[0];!1===_e1642.includes(_t2297)&&_e1642.push(_t2297);}}}catch(err){_iterator1517.e(err);}finally{_iterator1517.f();}for(var _i1383=0,_e1643=_e1642;_i1383<_e1643.length;_i1383++){var _s792=_e1643[_i1383];void 0===t[_s792]&&(t[_s792]=[]),t[_s792].push(_i1382);}}}catch(err){_iterator1516.e(err);}finally{_iterator1516.f();}return t;}},{key:"Xs",value:function(){var _Xs3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee169(){var _t2298,_e1644,_i1385,_s794,_n525,_o503,_l377,_a275,_iterator1518,_step1518,_step1518$value,_t2299,_e1645,_i1386,_a276,_h221,_r146,_i1387,_arr75,_s795,_e1646,_i1388,_n526,_iterator1519,_step1519,_t2300,_iterator1520,_step1520,_t2301;return regeneratorRuntime.wrap(function _callee169$(_context171){while(1){switch(_context171.prev=_context171.next){case 0:if(!(this.UC||this.FC)){_context171.next=4;break;}this.qy();_context171.next=66;break;case 4:this.NC=!0;_t2298=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-selected]"));_e1644=_toConsumableArray(this["#items"].querySelectorAll(".font-item[data-selected]"));_i1385=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-expanded]"));_s794=_t2298.map(function(t){return t.getAttribute("data-family");});_n525=_i1385.map(function(t){return t.getAttribute("data-family");});_o503=_e1644.map(function(t){return t[rg];});_l377=document.createDocumentFragment();_context171.next=14;return this.tn.board.defsFontsManager.search();case 14:_a275=_context171.sent;_iterator1518=_createForOfIteratorHelper(_a275);_context171.prev=16;_iterator1518.s();case 18:if((_step1518=_iterator1518.n()).done){_context171.next=53;break;}_step1518$value=_step1518.value,_t2299=_step1518$value.family,_e1645=_step1518$value.embeddedFaces,_i1386=_step1518$value.linkedFaces;_a276=!1,_h221="";_i1386.length>_e1645.length&&(_a276=!0,_h221=Dp.fromString(_i1386[0].src).items[0].url.origin);_r146=Ki(_templateObject76(),_t2299,_a276?"data-linked":"",_t2299,_t2299,_h221,_a276?"":"hidden");_s794.includes(_t2299)&&(_r146.setAttribute("data-selected",""),_r146[cg]=Date.now()),_n525.includes(_t2299)&&(_r146.setAttribute("data-expanded",""),_r146.querySelector(".font-items").removeAttribute("hidden"));_i1387=0,_arr75=[].concat(_toConsumableArray(_e1645),_toConsumableArray(_i1386));case 25:if(!(_i1387<_arr75.length)){_context171.next=50;break;}_s795=_arr75[_i1387];_e1646=Fh(_s795),_i1388="\n            font-size: 16px;\n            font-family: '".concat(_t2299,"';\n            font-weight: ").concat(_s795.weight,";\n            font-style: ").concat(_s795.style,";\n            font-stetch: ").concat(_s795.stretch,";\n          "),_n526=Ki(_templateObject77(),_i1388,_e1646);_iterator1519=_createForOfIteratorHelper(_o503);_context171.prev=29;_iterator1519.s();case 31:if((_step1519=_iterator1519.n()).done){_context171.next=38;break;}_t2300=_step1519.value;if(!(_s795.family===_t2300.family&&_s795.style===_t2300.style&&_s795.weight===_t2300.weight&&_s795.stretch===_t2300.stretch&&_s795.unicodeRange===_t2300.unicodeRange&&_s795.variant===_t2300.variant&&_s795.featureSettings===_t2300.featureSettings)){_context171.next=36;break;}_n526.setAttribute("data-selected",""),_n526[cg]=Date.now();return _context171.abrupt("break",38);case 36:_context171.next=31;break;case 38:_context171.next=43;break;case 40:_context171.prev=40;_context171.t0=_context171["catch"](29);_iterator1519.e(_context171.t0);case 43:_context171.prev=43;_iterator1519.f();return _context171.finish(43);case 46:_n526[rg]=_s795,_r146.querySelector(".font-items").append(_n526);case 47:_i1387++;_context171.next=25;break;case 50:_r146[dg]=[].concat(_toConsumableArray(_e1645),_toConsumableArray(_i1386)),_l377.append(_r146),this.ky(_r146);case 51:_context171.next=18;break;case 53:_context171.next=58;break;case 55:_context171.prev=55;_context171.t1=_context171["catch"](16);_iterator1518.e(_context171.t1);case 58:_context171.prev=58;_iterator1518.f();return _context171.finish(58);case 61:this["#items"].innerHTML="",this["#items"].append(_l377);this.py(),this.Jv(),this.ux(),this.NC=!1;_iterator1520=_createForOfIteratorHelper(this.jC);try{for(_iterator1520.s();!(_step1520=_iterator1520.n()).done;){_t2301=_step1520.value;_t2301();}}catch(err){_iterator1520.e(err);}finally{_iterator1520.f();}this.jC=[];case 66:case"end":return _context171.stop();}}},_callee169,this,[[16,55,58,61],[29,40,43,46]]);}));function Xs(){return _Xs3.apply(this,arguments);}return Xs;}()},{key:"gy",value:function gy(){var _iterator1521=_createForOfIteratorHelper(this["#items"].children),_step1521;try{for(_iterator1521.s();!(_step1521=_iterator1521.n()).done;){var _t2302=_step1521.value;this.ky(_t2302);}}catch(err){_iterator1521.e(err);}finally{_iterator1521.f();}}},{key:"ux",value:function ux(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"ky",value:function ky(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"py",value:function py(){var t=this.JC();var _iterator1522=_createForOfIteratorHelper(this["#items"].children),_step1522;try{for(_iterator1522.s();!(_step1522=_iterator1522.n()).done;){var _e1647=_step1522.value;var _i1389=_e1647.querySelector(".counter-button"),_s796=t[_e1647.dataset.family],_n527=_s796?_s796.length:0;0===_n527?(_i1389.setAttribute("hidden",""),_i1389.firstElementChild.textContent="0"):(_i1389.setAttribute("title",1===_n527?"This font family has 1 user. Click to select the user.":"This font family has ".concat(_n527," users. Click to select all users.")),_i1389.removeAttribute("hidden"),_i1389.firstElementChild.textContent=_n527);}}catch(err){_iterator1522.e(err);}finally{_iterator1522.f();}}},{key:"Jv",value:function Jv(){if("unpinned"===this.Kv.fonts){var _iterator1523=_createForOfIteratorHelper(this["#items"].children),_step1523;try{for(_iterator1523.s();!(_step1523=_iterator1523.n()).done;){var _t2303=_step1523.value;var _e1648=_t2303.dataset.family,_i1390=_t2303.querySelector(".pin-button"),_s797=this.tn.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e1648,"\"]"));_i1390.hidden=!1,_s797.hasAttribute("data-bx-pinned")?(_i1390.toggled=!0,_i1390.setAttribute("title","This font family is pinned - garbage collector will not auto-remove it even when it is no longer used. Click to unpin.")):(_i1390.toggled=!1,_i1390.setAttribute("title","This font family is unpinned - garbage collector will auto-remove it when it is no longer used. Click to pin."));}}catch(err){_iterator1523.e(err);}finally{_iterator1523.f();}}else{var _iterator1524=_createForOfIteratorHelper(this["#items"].children),_step1524;try{for(_iterator1524.s();!(_step1524=_iterator1524.n()).done;){var _t2304=_step1524.value;_t2304.querySelector(".pin-button").hidden=!0;}}catch(err){_iterator1524.e(err);}finally{_iterator1524.f();}}}}]);return pg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pg,"observedAttributes",["enabled"]);_defineProperty(pg,"_shadowTemplate",Ki(_templateObject452()));_defineProperty(pg,"_shadowStyleSheet",Qi(_templateObject453()));customElements.define("bx-fontsbrowser",pg);var ug=/*#__PURE__*/function(_HTMLElement128){_inherits(ug,_HTMLElement128);var _super192=_createSuper(ug);_createClass(ug,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ug(){var _this890;_classCallCheck(this,ug);_this890=_super192.call(this),_this890._shadowRoot=_this890.attachShadow({mode:"closed"}),_this890._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,ug._shadowStyleSheet],_this890._shadowRoot.append(document.importNode(ug._shadowTemplate.content,!0));var _iterator1525=_createForOfIteratorHelper(_this890._shadowRoot.querySelectorAll("[id]")),_step1525;try{for(_iterator1525.s();!(_step1525=_iterator1525.n()).done;){var _t2305=_step1525.value;_this890["#"+_t2305.id]=_t2305;}}catch(err){_iterator1525.e(err);}finally{_iterator1525.f();}var _iterator1526=_createForOfIteratorHelper(_this890["#main"].children),_step1526;try{for(_iterator1526.s();!(_step1526=_iterator1526.n()).done;){var _t2306=_step1526.value;_this890[hi(_t2306.id)]=_t2306;}}catch(err){_iterator1526.e(err);}finally{_iterator1526.f();}_this890["#buttons"].addEventListener("toggle",function(){return _this890.toggleBrowser(_this890["#buttons"].value);});return _this890;}_createClass(ug,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var t=this.Js.getConfig("bx-defspanel:currentBrowserID","gradients-browser");this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"editColor",value:function editColor(t){this.toggleBrowser("colors-browser"),this["#colors-browser"].editColor(t);}},{key:"editGradient",value:function editGradient(t){this.toggleBrowser("gradients-browser"),this["#gradients-browser"].editGradient(t);}},{key:"editFilter",value:function editFilter(t){this.toggleBrowser("filters-browser"),this["#filters-browser"].editFilter(t);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1527=_createForOfIteratorHelper(this["#main"].children),_step1527;try{for(_iterator1527.s();!(_step1527=_iterator1527.n()).done;){var _e1649=_step1527.value;null!==t&&_e1649.id===t?_e1649.enabled=!0:_e1649.enabled=!1;}}catch(err){_iterator1527.e(err);}finally{_iterator1527.f();}null!==t&&this.Js.setConfig("bx-defspanel:currentBrowserID",t);}}]);return ug;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ug,"observedAttributes",["enabled"]);_defineProperty(ug,"_shadowTemplate",Ki(_templateObject454()));_defineProperty(ug,"_shadowStyleSheet",Qi(_templateObject455()));customElements.define("bx-defspanel",ug);var xg=/*#__PURE__*/function(_HTMLElement129){_inherits(xg,_HTMLElement129);var _super193=_createSuper(xg);function xg(){var _this891;_classCallCheck(this,xg);_this891=_super193.call(this),_this891._shadowRoot=_this891.attachShadow({mode:"closed"}),_this891._shadowRoot.append(document.importNode(_this891.constructor._shadowTemplate.content,!0)),_this891._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,xg._shadowStyleSheet,_this891.constructor._shadowStyleSheet];var _iterator1528=_createForOfIteratorHelper(_this891._shadowRoot.querySelectorAll("[id]")),_step1528;try{for(_iterator1528.s();!(_step1528=_iterator1528.n()).done;){var _t2307=_step1528.value;_this891["#"+_t2307.id]=_t2307;}}catch(err){_iterator1528.e(err);}finally{_iterator1528.f();}_this891.setAttribute("extends","bx-toolsettings");return _this891;}_createClass(xg,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}}]);return xg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xg,"observedAttributes",["enabled"]);_defineProperty(xg,"_shadowStyleSheet",Qi(_templateObject456()));var bg=/*#__PURE__*/function(_xg){_inherits(bg,_xg);var _super194=_createSuper(bg);function bg(){var _this892;_classCallCheck(this,bg);_this892=_super194.call(this),_this892["#sort-buttons"].addEventListener("toggle",function(){return _this892.t_();});return _this892;}_createClass(bg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(bg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-colorhuntcolorslibrarysearchsettings:sort","popular");this["#sort-buttons"].value=t;}},{key:"t_",value:function t_(){var t=this["#sort-buttons"].value;this.Js.setConfig("bx-colorhuntcolorslibrarysearchsettings:sort",t);}}]);return bg;}(xg);_defineProperty(bg,"_shadowTemplate",Ki(_templateObject457()));_defineProperty(bg,"_shadowStyleSheet",Qi(_templateObject458()));customElements.define("bx-colorhuntcolorslibrarysearchsettings",bg);var mg=Symbol();var gg=/*#__PURE__*/function(_HTMLElement130){_inherits(gg,_HTMLElement130);var _super195=_createSuper(gg);_createClass(gg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function gg(){var _this893;_classCallCheck(this,gg);_this893=_super195.call(this),_this893.e_=!1,_this893.i_=!1,_this893.s_=!1,_this893.Vv=0,_this893.n_=es(_this893.n_,600,_assertThisInitialized(_this893)),_this893.o_={},_this893._shadowRoot=_this893.attachShadow({mode:"closed"}),_this893._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,gg._shadowStyleSheet],_this893._shadowRoot.append(document.importNode(gg._shadowTemplate.content,!0));var _iterator1529=_createForOfIteratorHelper(_this893._shadowRoot.querySelectorAll("[id]")),_step1529;try{for(_iterator1529.s();!(_step1529=_iterator1529.n()).done;){var _t2308=_step1529.value;_this893["#"+_t2308.id]=_t2308;}}catch(err){_iterator1529.e(err);}finally{_iterator1529.f();}_this893["#provider-select"].addEventListener("change",function(){return _this893.l_();}),_this893["#main"].addEventListener("scroll",function(){return _this893.a_();}),_this893["#items"].addEventListener("pointerdown",function(t){return _this893.op(t);}),_this893["#items"].addEventListener("click",function(t){return _this893.lp(t);}),_this893["#items"].addEventListener("contextmenu",function(t){return _this893.ap(t);}),_this893["#items"].addEventListener("keydown",function(t){return _this893.hp(t);}),_this893["#meta-add-to-defs-button"].addEventListener("click",function(){return _this893.h_();}),_this893["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this893.r_();}),_this893["#search-input"].addEventListener("input",function(){return _this893.n_();});return _this893;}_createClass(gg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),"bx-chromeapp"!==this.Js.localName){var _iterator1530=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1530;try{for(_iterator1530.s();!(_step1530=_iterator1530.n()).done;){var _t2309=_step1530.value;_t2309.setAttribute("rel","noopener");}}catch(err){_iterator1530.e(err);}finally{_iterator1530.f();}}this["#main"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this894=this;window.addEventListener("resize",this.nn=function(){_this894.d_();}),this.Js.addEventListener("configchange",this.ln=function(t){_this894.an(t);}),this.tn.primaryPanelsDock.addEventListener("resize",this.c_=function(){_this894.d_();}),!1===this.e_&&(this.e_=!0,this.p_(),this.u_(),this.Zm()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ss(10).then(function(){return _this894["#main"].scrollTop=_this894.Vv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.primaryPanelsDock.removeEventListener("resize",this.c_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail18=t.detail,e=_t$detail18.key,i=_t$detail18.value;"color-hunt"===this["#provider-select"].value&&e.startsWith("bx-colorhuntcolorslibrarysearchsettings")&&this.Zm();}},{key:"d_",value:function d_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.x_();}},{key:"l_",value:function l_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Js.setConfig("bx-colorslibrarybrowser:provider",this["#provider-select"].value),this.Zm(),this.u_();}},{key:"a_",value:function a_(){this.Vv=this["#items"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.x_();}},{key:"op",value:function op(t){var _this895=this;if(t.target.matches(".item")){var _e1650=t.target;if("touch"!==t.pointerType&&this.b_(_e1650),0===t.button){var _i1392,_s799,_n529,_o504=new DOMPoint(t.clientX,t.clientY);_e1650.setPointerCapture(t.pointerId),_e1650.addEventListener("pointermove",_i1392=function _i1391(l){var a=new DOMPoint(l.clientX,l.clientY);Ee(_o504,a)>=5&&(_e1650.removeEventListener("pointermove",_i1392),_e1650.removeEventListener("pointerup",_s799),_e1650.removeEventListener("pointercancel",_n529),_this895.Sv(_e1650,t));}),_e1650.addEventListener("pointerup",_s799=function _s798(){_e1650.removeEventListener("pointermove",_i1392),_e1650.removeEventListener("pointerup",_s799),_e1650.removeEventListener("pointercancel",_n529);}),_e1650.addEventListener("pointercancel",_n529=function _n528(){_e1650.removeEventListener("pointermove",_i1392),_e1650.removeEventListener("pointerup",_s799),_e1650.removeEventListener("pointercancel",_n529);});}}}},{key:"Sv",value:function Sv(t,e){var _this896=this;var i,s,n,o=this.tn.board,l=t[mg],a=t.getBoundingClientRect(),h=this.m_(l,a);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(h),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;h.style.left=a.x+i+"px",h.style.top=a.y+s+"px";}),t.addEventListener("pointercancel",s=function(_s800){function s(){return _s800.apply(this,arguments);}s.toString=function(){return _s800.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,h.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref178=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee170(e){var _t2310,_e1651,_i1393;return regeneratorRuntime.wrap(function _callee170$(_context172){while(1){switch(_context172.prev=_context172.next){case 0:if(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY)){_t2310=h.getBoundingClientRect(),_e1651=_this896.g_(l.colors,a);o.undoManager.checkpoint("Add colors from library");_i1393=o.insertArtworkIntoBBox(_e1651,_t2310);o.selectedElements=[_i1393],o.selectedTextRange=null,h.remove();}else h.remove();case 1:case"end":return _context172.stop();}}},_callee170);}));return function n(_x294){return _ref178.apply(this,arguments);};}());}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");e&&(this.b_(e),2===t.detail&&this.Ev(e));}},{key:"ap",value:function(){var _ap8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee171(t){var e;return regeneratorRuntime.wrap(function _callee171$(_context173){while(1){switch(_context173.prev=_context173.next){case 0:e=t.target.closest(".item");_context173.t0=e;if(!_context173.t0){_context173.next=8;break;}t.preventDefault();this.b_(e);_context173.next=7;return ss(150);case 7:this.Ev(e);case 8:case"end":return _context173.stop();}}},_callee171,this);}));function ap(_x295){return _ap8.apply(this,arguments);}return ap;}()},{key:"hp",value:function hp(t){var e=Ja.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.Ev(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.b_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.b_(i.previousElementSibling)));}},{key:"h_",value:function h_(){var t=this.tn.board,e=this["#items"].querySelector(".item[data-selected]")[mg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add colors from library");var _iterator1531=_createForOfIteratorHelper(e.colors),_step1531;try{for(_iterator1531.s();!(_step1531=_iterator1531.n()).done;){var _n530=_step1531.value;var _e1652=$i("svg:linearGradient");_e1652.setAttribute("data-bx-pinned","true"),_e1652.id=t.generateUniqueID("color-",i),_e1652.innerHTML="<stop style=\"stop-color: ".concat(_n530,";\"></stop>"),i.append(_e1652),s.push(_e1652.id);}}catch(err){_iterator1531.e(err);}finally{_iterator1531.f();}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("colors-browser"),this.tn.defsPanel.colorsBrowser.selectColors(s);}},{key:"r_",value:function(){var _r_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee172(){var t,e,i,s,n,o,_t2311,_e1653,_e1654,_s801;return regeneratorRuntime.wrap(function _callee172$(_context174){while(1){switch(_context174.prev=_context174.next){case 0:t=this.tn.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[mg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#meta-popover"].close();_t2311=Ki(_templateObject78());_t2311.style.display="flex",_t2311.style.position="fixed",_t2311.style.left=n.left+"px",_t2311.style.top=n.top+"px",_t2311.style.width=n.width+"px",_t2311.style.height=n.height+"px",_t2311.style.zIndex="999999999",_t2311.style.pointerEvents="none",_t2311.style.background=this.f_(i.colors),document.body.append(_t2311);_e1653=_t2311.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context174.next=7;return _e1653.finished;case 7:_t2311.remove();t.undoManager.checkpoint("Add colors from library");_e1654=this.g_(i.colors,o),_s801=t.insertArtworkIntoBBox(_e1654,o);t.selectedElements=[_s801],t.selectedTextRange=null;case 11:case"end":return _context174.stop();}}},_callee172,this);}));function r_(){return _r_.apply(this,arguments);}return r_;}()},{key:"n_",value:function n_(){this.Zm();}},{key:"b_",value:function b_(t){{var _e1655=this["#items"].querySelector(":scope > .item[data-selected]");_e1655!==t&&(_e1655&&_e1655.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"Ev",value:function Ev(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"$v",value:function $v(t){var e=t.colors,i=t.page,s=t.pageURL,n=t.provider,o=t.size,l=t.tags,a=this.f_(e),h=Ki(_templateObject79(),a);return h[mg]=t,h;}},{key:"m_",value:function m_(t,e){var i=Ki(_templateObject80());return i.style.display="flex",i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background=this.f_(t.colors),i;}},{key:"f_",value:function f_(t){var e="linear-gradient(to right";for(var _i1394=0;_i1394<t.length;_i1394+=1){var _s802=_i1394*(100/t.length),_n531=(_i1394+1)*(100/t.length);e+=", ".concat(t[_i1394],"  ").concat(_s802,"%, ").concat(t[_i1394],"  ").concat(_n531,"%");}return e+=")",e;}},{key:"g_",value:function g_(t,e){var i=this.tn.board.geometryPrecision,s=J(e.width*(1/t.length),i),n=J(e.height,i),o="<svg viewBox=\"0 0 ".concat(e.width," ").concat(e.height,"\">");for(var _e1656=0;_e1656<t.length;_e1656+=1){o+="<rect x=\"".concat(_e1656*s,"\" width=\"").concat(s,"\" height=\"").concat(n,"\" style=\"fill: ").concat(t[_e1656],";\"></rect>");}return o+="</svg>",Ji(_templateObject81(),o);}},{key:"v_",value:function v_(t,e,i){var _this897=this;return new Promise(/*#__PURE__*/function(){var _ref179=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee173(s,n){var o,l,a,h,_iterator1532,_step1532,_t2312;return regeneratorRuntime.wrap(function _callee173$(_context175){while(1){switch(_context175.prev=_context175.next){case 0:l=i?i.page+1:0;"popular"===e?(_this897.o_["colorHuntColors:popularityDesc"]||(_this897.o_["colorHuntColors:popularityDesc"]=algolia.initIndex("colorHuntColors:popularityDesc")),o=_this897.o_["colorHuntColors:popularityDesc"]):(_this897.o_.colorHuntColors||(_this897.o_.colorHuntColors=algolia.initIndex("colorHuntColors")),o=_this897.o_.colorHuntColors);_context175.next=4;return o.search(t,{filters:"",page:l,hitsPerPage:40});case 4:a=_context175.sent;h=[];_iterator1532=_createForOfIteratorHelper(a.hits);try{for(_iterator1532.s();!(_step1532=_iterator1532.n()).done;){_t2312=_step1532.value;h.push({page:l,pageURL:"https://colorhunt.co/palette/".concat(_t2312.objectID),provider:"color-hunt",colors:_t2312.colors,tags:_t2312.tags,size:_t2312.size});}}catch(err){_iterator1532.e(err);}finally{_iterator1532.f();}s(h);case 9:case"end":return _context175.stop();}}},_callee173);}));return function(_x296,_x297){return _ref179.apply(this,arguments);};}());}},{key:"Zm",value:function(){var _Zm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee174(){var _t2313;return regeneratorRuntime.wrap(function _callee174$(_context176){while(1){switch(_context176.prev=_context176.next){case 0:this.i_=!1,this.s_=!0,this.Vv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2313=0;case 2:if(!(_t2313<50&&!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context176.next=15;break;}_context176.prev=3;_context176.next=6;return this.x_();case 6:_context176.next=12;break;case 8:_context176.prev=8;_context176.t0=_context176["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context176.t0.message);return _context176.abrupt("break",15);case 12:_t2313+=1;_context176.next=2;break;case 15:case"end":return _context176.stop();}}},_callee174,this,[[3,8]]);}));function Zm(){return _Zm.apply(this,arguments);}return Zm;}()},{key:"x_",value:function x_(){var _this898=this;return new Promise(/*#__PURE__*/function(){var _ref180=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee175(t,e){var i,s,n,o,_t2314,_t2315,_iterator1533,_step1533,_e1657,_i1395;return regeneratorRuntime.wrap(function _callee175$(_context177){while(1){switch(_context177.prev=_context177.next){case 0:_this898.i_=!0;i=null,s=null,n=_this898["#search-input"].value.trim(),o=_this898["#items"].lastElementChild?_this898["#items"].lastElementChild[mg]:null;_context177.prev=2;if(!("color-hunt"===_this898["#provider-select"].value)){_context177.next=8;break;}_t2314=_this898.Js.getConfig("bx-colorhuntcolorslibrarysearchsettings:sort","popular");_context177.next=7;return _this898.v_(n,_t2314,o);case 7:i=_context177.sent;case 8:_context177.next=13;break;case 10:_context177.prev=10;_context177.t0=_context177["catch"](2);s=_context177.t0;case 13:if(s)_this898["#throbber"].hidden=!0,_this898.i_=!1,e(s);else{if(i.length>0){_t2315=document.createDocumentFragment();_iterator1533=_createForOfIteratorHelper(i);try{for(_iterator1533.s();!(_step1533=_iterator1533.n()).done;){_e1657=_step1533.value;_i1395=_this898.$v(_e1657);_t2315.append(_i1395);}}catch(err){_iterator1533.e(err);}finally{_iterator1533.f();}_this898["#items"].append(_t2315),_this898["#throbber"].hidden=!0;}else _this898.s_=!1,_this898["#throbber"].hidden=!0,0===_this898["#items"].childElementCount&&(_this898["#placeholder"].hidden=!1,_this898["#placeholder"].textContent="No colors found");_this898.i_=!1,t();}case 14:case"end":return _context177.stop();}}},_callee175,null,[[2,10]]);}));return function(_x298,_x299){return _ref180.apply(this,arguments);};}());}},{key:"p_",value:function p_(){var t=this.Js.getConfig("bx-colorslibrarybrowser:provider","color-hunt");this["#provider-select"].value=t;}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1658=t[mg];this["#meta-provider-anchor"].href=_e1658.pageURL,"color-hunt"===_e1658.provider&&(this["#meta-provider-label"].textContent="View on Color Hunt"),this["#meta-tags-value"].textContent=_e1658.tags.join(", ");}}},{key:"u_",value:function u_(){"color-hunt"===this["#provider-select"].value&&(this["#settings-popover"].innerHTML="<bx-colorhuntcolorslibrarysearchsettings/>");}}]);return gg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gg,"observedAttributes",["enabled"]);_defineProperty(gg,"_shadowTemplate",Ki(_templateObject459()));_defineProperty(gg,"_shadowStyleSheet",Qi(_templateObject460()));customElements.define("bx-colorslibrarybrowser",gg);var fg=Symbol();var wg=/*#__PURE__*/function(_HTMLElement131){_inherits(wg,_HTMLElement131);var _super196=_createSuper(wg);_createClass(wg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function wg(){var _this899;_classCallCheck(this,wg);_this899=_super196.call(this),_this899.e_=!1,_this899.i_=!1,_this899.s_=!1,_this899.Vv=0,_this899.n_=es(_this899.n_,600,_assertThisInitialized(_this899)),_this899.o_={},_this899._shadowRoot=_this899.attachShadow({mode:"closed"}),_this899._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,wg._shadowStyleSheet],_this899._shadowRoot.append(document.importNode(wg._shadowTemplate.content,!0));var _iterator1534=_createForOfIteratorHelper(_this899._shadowRoot.querySelectorAll("[id]")),_step1534;try{for(_iterator1534.s();!(_step1534=_iterator1534.n()).done;){var _t2316=_step1534.value;_this899["#"+_t2316.id]=_t2316;}}catch(err){_iterator1534.e(err);}finally{_iterator1534.f();}_this899["#provider-select"].addEventListener("change",function(){return _this899.l_();}),_this899["#main"].addEventListener("scroll",function(){return _this899.a_();}),_this899["#items"].addEventListener("pointerdown",function(t){return _this899.op(t);}),_this899["#items"].addEventListener("click",function(t){return _this899.lp(t);}),_this899["#items"].addEventListener("contextmenu",function(t){return _this899.ap(t);}),_this899["#items"].addEventListener("keydown",function(t){return _this899.hp(t);}),_this899["#meta-add-to-defs-button"].addEventListener("click",function(){return _this899.h_();}),_this899["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this899.r_();}),_this899["#search-input"].addEventListener("input",function(){return _this899.n_();});return _this899;}_createClass(wg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),"bx-chromeapp"!==this.Js.localName){var _iterator1535=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1535;try{for(_iterator1535.s();!(_step1535=_iterator1535.n()).done;){var _t2317=_step1535.value;_t2317.setAttribute("rel","noopener");}}catch(err){_iterator1535.e(err);}finally{_iterator1535.f();}}this["#main"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this900=this;window.addEventListener("resize",this.nn=function(){_this900.d_();}),this.Js.addEventListener("configchange",this.ln=function(t){_this900.an(t);}),this.tn.primaryPanelsDock.addEventListener("resize",this.c_=function(){_this900.d_();}),!1===this.e_&&(this.e_=!0,this.p_(),this.u_(),this.Zm()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ss(10).then(function(){return _this900["#main"].scrollTop=_this900.Vv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.primaryPanelsDock.removeEventListener("resize",this.c_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail19=t.detail,e=_t$detail19.key,i=_t$detail19.value;"ui-gradients"===this["#provider-select"].value&&e.startsWith("bx-uigradientslibrarysearchsettings")&&this.Zm();}},{key:"d_",value:function d_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.x_();}},{key:"l_",value:function l_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Js.setConfig("bx-gradientslibrarybrowser:provider",this["#provider-select"].value),this.Zm(),this.u_();}},{key:"a_",value:function a_(){this.Vv=this["#items"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.x_();}},{key:"op",value:function op(t){var _this901=this;if(t.target.matches(".item")){var _e1659=t.target;if("touch"!==t.pointerType&&this.b_(_e1659),0===t.button){var _i1397,_s804,_n533,_o505=new DOMPoint(t.clientX,t.clientY);_e1659.setPointerCapture(t.pointerId),_e1659.addEventListener("pointermove",_i1397=function _i1396(l){var a=new DOMPoint(l.clientX,l.clientY);Ee(_o505,a)>=5&&(_e1659.removeEventListener("pointermove",_i1397),_e1659.removeEventListener("pointerup",_s804),_e1659.removeEventListener("pointercancel",_n533),_this901.Sv(_e1659,t));}),_e1659.addEventListener("pointerup",_s804=function _s803(){_e1659.removeEventListener("pointermove",_i1397),_e1659.removeEventListener("pointerup",_s804),_e1659.removeEventListener("pointercancel",_n533);}),_e1659.addEventListener("pointercancel",_n533=function _n532(){_e1659.removeEventListener("pointermove",_i1397),_e1659.removeEventListener("pointerup",_s804),_e1659.removeEventListener("pointercancel",_n533);});}}}},{key:"Sv",value:function Sv(t,e){var _this902=this;var i,s,n,o=this.tn.board,l=t[fg],a=t.getBoundingClientRect(),h=this.m_(l,a);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(h),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;h.style.left=a.x+i+"px",h.style.top=a.y+s+"px";}),t.addEventListener("pointercancel",s=function(_s805){function s(){return _s805.apply(this,arguments);}s.toString=function(){return _s805.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,h.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref181=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee176(e){var _t2318,_e1660,_i1398;return regeneratorRuntime.wrap(function _callee176$(_context178){while(1){switch(_context178.prev=_context178.next){case 0:if(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY)){_t2318=h.getBoundingClientRect(),_e1660=_this902.g_(l.stops,a);o.undoManager.checkpoint("Add gradient from library");_i1398=o.insertArtworkIntoBBox(_e1660,_t2318);o.selectedElements=[_i1398],o.selectedTextRange=null,h.remove();}else h.remove();case 1:case"end":return _context178.stop();}}},_callee176);}));return function n(_x300){return _ref181.apply(this,arguments);};}());}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");e&&(this.b_(e),2===t.detail&&this.Ev(e));}},{key:"ap",value:function(){var _ap9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee177(t){var e;return regeneratorRuntime.wrap(function _callee177$(_context179){while(1){switch(_context179.prev=_context179.next){case 0:e=t.target.closest(".item");_context179.t0=e;if(!_context179.t0){_context179.next=8;break;}t.preventDefault();this.b_(e);_context179.next=7;return ss(150);case 7:this.Ev(e);case 8:case"end":return _context179.stop();}}},_callee177,this);}));function ap(_x301){return _ap9.apply(this,arguments);}return ap;}()},{key:"hp",value:function hp(t){var e=Ja.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.Ev(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.b_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.b_(i.previousElementSibling)));}},{key:"h_",value:function h_(){var t=this.tn.board,e=this["#items"].querySelector(".item[data-selected]")[fg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add gradient from library");var n=$i("svg:linearGradient");n.setAttribute("data-bx-pinned","true"),n.id=t.generateUniqueID("color-",i),i.append(n),s.push(n.id);var o="";var _iterator1536=_createForOfIteratorHelper(e.stops),_step1536;try{for(_iterator1536.s();!(_step1536=_iterator1536.n()).done;){var _step1536$value=_slicedToArray(_step1536.value,2),_t2319=_step1536$value[0],_i1399=_step1536$value[1];o+="<stop style=\"stop-color: ".concat(_t2319,";\" offset=\"").concat(_i1399,"\"></stop>");}}catch(err){_iterator1536.e(err);}finally{_iterator1536.f();}n.innerHTML=o,t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("gradients-browser"),this.tn.defsPanel.gradientsBrowser.selectGradients(s);}},{key:"r_",value:function(){var _r_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee178(){var t,e,i,s,n,o,_t2320,_e1661,_e1662,_s806;return regeneratorRuntime.wrap(function _callee178$(_context180){while(1){switch(_context180.prev=_context180.next){case 0:t=this.tn.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[fg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#meta-popover"].close();_t2320=Ki(_templateObject82());_t2320.style.display="flex",_t2320.style.position="fixed",_t2320.style.left=n.left+"px",_t2320.style.top=n.top+"px",_t2320.style.width=n.width+"px",_t2320.style.height=n.height+"px",_t2320.style.zIndex="999999999",_t2320.style.pointerEvents="none",_t2320.style.background=this.f_(i.stops),document.body.append(_t2320);_e1661=_t2320.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context180.next=7;return _e1661.finished;case 7:_t2320.remove();t.undoManager.checkpoint("Add gradient from library");_e1662=this.g_(i.stops,o),_s806=t.insertArtworkIntoBBox(_e1662,o);t.selectedElements=[_s806],t.selectedTextRange=null;case 11:case"end":return _context180.stop();}}},_callee178,this);}));function r_(){return _r_2.apply(this,arguments);}return r_;}()},{key:"n_",value:function n_(){this.Zm();}},{key:"b_",value:function b_(t){{var _e1663=this["#items"].querySelector(":scope > .item[data-selected]");_e1663!==t&&(_e1663&&_e1663.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"Ev",value:function Ev(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"$v",value:function $v(t){var e=t.stops,i=t.likes,s=t.page,n=this.f_(e),o=Ki(_templateObject83(),n);return o[fg]=t,o;}},{key:"m_",value:function m_(t,e){var i=Ki(_templateObject84());return i.style.display="flex",i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background=this.f_(t.stops),i;}},{key:"f_",value:function f_(t){var e="linear-gradient(to right";var _iterator1537=_createForOfIteratorHelper(t),_step1537;try{for(_iterator1537.s();!(_step1537=_iterator1537.n()).done;){var _step1537$value=_slicedToArray(_step1537.value,2),_i1400=_step1537$value[0],_s807=_step1537$value[1];e+=", ".concat(_i1400,"  ").concat(100*_s807,"%");}}catch(err){_iterator1537.e(err);}finally{_iterator1537.f();}return e+=")",e;}},{key:"g_",value:function g_(t,e){var i="";var _iterator1538=_createForOfIteratorHelper(t),_step1538;try{for(_iterator1538.s();!(_step1538=_iterator1538.n()).done;){var _e1664=_step1538.value;var _e1665=_slicedToArray(_e1664,2),_t2321=_e1665[0],_s808=_e1665[1];i+="<stop offset=\"".concat(_s808,"\" style=\"stop-color: ").concat(_t2321,";\"></stop>");}}catch(err){_iterator1538.e(err);}finally{_iterator1538.f();}var s="\n      <svg viewBox=\"0 0 ".concat(e.width," ").concat(e.height,"\">\n        <defs>\n          <linearGradient id=\"gradient-1\">").concat(i,"</linearGradient>\n        </defs>\n        <rect x=\"0\" y=\"0\" width=\"").concat(e.width,"\" height=\"").concat(e.height,"\" style=\"fill: url(#gradient-1);\"></rect>\n      </svg>\n    ");return Ji(_templateObject85(),s);}},{key:"y_",value:function y_(t,e){var _this903=this;return new Promise(/*#__PURE__*/function(){var _ref182=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee179(i,s){var n,o,l,_iterator1539,_step1539,_t2322;return regeneratorRuntime.wrap(function _callee179$(_context181){while(1){switch(_context181.prev=_context181.next){case 0:n=e?e.page+1:0;_this903.o_.uiGradients||(_this903.o_.uiGradients=algolia.initIndex("uiGradients"));_context181.next=4;return _this903.o_.uiGradients.search(t,{filters:"",page:n,hitsPerPage:40});case 4:o=_context181.sent;l=[];_iterator1539=_createForOfIteratorHelper(o.hits);try{for(_iterator1539.s();!(_step1539=_iterator1539.n()).done;){_t2322=_step1539.value;l.push({page:n,pageURL:"https://uigradients.com/#".concat(_t2322.objectID),provider:"ui-gradients",stops:_t2322.stops,name:_t2322.name,tags:_t2322.tags});}}catch(err){_iterator1539.e(err);}finally{_iterator1539.f();}i(l);case 9:case"end":return _context181.stop();}}},_callee179);}));return function(_x302,_x303){return _ref182.apply(this,arguments);};}());}},{key:"Zm",value:function(){var _Zm2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee180(){var _t2323;return regeneratorRuntime.wrap(function _callee180$(_context182){while(1){switch(_context182.prev=_context182.next){case 0:this.i_=!1,this.s_=!0,this.Vv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2323=0;case 2:if(!(_t2323<50&&!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context182.next=15;break;}_context182.prev=3;_context182.next=6;return this.x_();case 6:_context182.next=12;break;case 8:_context182.prev=8;_context182.t0=_context182["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context182.t0.message);return _context182.abrupt("break",15);case 12:_t2323+=1;_context182.next=2;break;case 15:case"end":return _context182.stop();}}},_callee180,this,[[3,8]]);}));function Zm(){return _Zm2.apply(this,arguments);}return Zm;}()},{key:"x_",value:function x_(){var _this904=this;return new Promise(/*#__PURE__*/function(){var _ref183=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee181(t,e){var i,s,n,o,_t2324,_iterator1540,_step1540,_e1666,_i1401;return regeneratorRuntime.wrap(function _callee181$(_context183){while(1){switch(_context183.prev=_context183.next){case 0:_this904.i_=!0;i=null,s=null,n=_this904["#search-input"].value.trim(),o=_this904["#items"].lastElementChild?_this904["#items"].lastElementChild[fg]:null;_context183.prev=2;_context183.t0="ui-gradients"===_this904["#provider-select"].value;if(!_context183.t0){_context183.next=8;break;}_context183.next=7;return _this904.y_(n,o);case 7:i=_context183.sent;case 8:_context183.next=13;break;case 10:_context183.prev=10;_context183.t1=_context183["catch"](2);s=_context183.t1;case 13:if(s)_this904["#throbber"].hidden=!0,_this904.i_=!1,e(s);else{if(i.length>0){_t2324=document.createDocumentFragment();_iterator1540=_createForOfIteratorHelper(i);try{for(_iterator1540.s();!(_step1540=_iterator1540.n()).done;){_e1666=_step1540.value;_i1401=_this904.$v(_e1666);_t2324.append(_i1401);}}catch(err){_iterator1540.e(err);}finally{_iterator1540.f();}_this904["#items"].append(_t2324),_this904["#throbber"].hidden=!0;}else _this904.s_=!1,_this904["#throbber"].hidden=!0,0===_this904["#items"].childElementCount&&(_this904["#placeholder"].hidden=!1,_this904["#placeholder"].textContent="No gradients found");_this904.i_=!1,t();}case 14:case"end":return _context183.stop();}}},_callee181,null,[[2,10]]);}));return function(_x304,_x305){return _ref183.apply(this,arguments);};}());}},{key:"p_",value:function p_(){var t=this.Js.getConfig("bx-gradientslibrarybrowser:provider","ui-gradients");this["#provider-select"].value=t;}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1667=t[fg];this["#meta-provider-anchor"].href=_e1667.pageURL,"ui-gradients"===_e1667.provider&&(this["#meta-provider-label"].textContent="View on uiGradients"),this["#meta-name-value"].textContent=_e1667.name,this["#meta-tags-value"].textContent=_e1667.tags.join(", ");}}},{key:"u_",value:function u_(){"ui-gradients"===this["#provider-select"].value&&(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="");}}]);return wg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wg,"observedAttributes",["enabled"]);_defineProperty(wg,"_shadowTemplate",Ki(_templateObject461()));_defineProperty(wg,"_shadowStyleSheet",Qi(_templateObject462()));customElements.define("bx-gradientslibrarybrowser",wg);var vg=/*#__PURE__*/function(_xg2){_inherits(vg,_xg2);var _super197=_createSuper(vg);function vg(){var _this905;_classCallCheck(this,vg);_this905=_super197.call(this),_this905["#sort-select"].addEventListener("change",function(){return _this905.k_();}),_this905["#category-select"].addEventListener("change",function(){return _this905.S_();}),_this905["#subset-select"].addEventListener("change",function(){return _this905.C_();});return _this905;}_createClass(vg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(vg.prototype),"connectedCallback",this).call(this),this.Xs();}},{key:"k_",value:function k_(){this.Js.setConfig("bx-googlefontslibrarysearchsettings:sort",this["#sort-select"].value);}},{key:"S_",value:function S_(){this.Js.setConfig("bx-googlefontslibrarysearchsettings:category",this["#category-select"].value);}},{key:"C_",value:function C_(){this.Js.setConfig("bx-googlefontslibrarysearchsettings:subset",this["#subset-select"].value);}},{key:"Xs",value:function(){var _Xs4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee182(){var _t2325,_i1402,_Object$entries9,_Object$entries9$_i,_e1668,_i1403,_t2326,_i1404,_Object$entries10,_Object$entries10$_i,_e1669,_i1405;return regeneratorRuntime.wrap(function _callee182$(_context184){while(1){switch(_context184.prev=_context184.next){case 0:if(this["#sort-select"].value=this.Js.getConfig("bx-googlefontslibrarysearchsettings:sort","alphabetical"),2===this["#category-menu"].children.length){_t2325="";for(_i1402=0,_Object$entries9=Object.entries(p);_i1402<_Object$entries9.length;_i1402++){_Object$entries9$_i=_slicedToArray(_Object$entries9[_i1402],2),_e1668=_Object$entries9$_i[0],_i1403=_Object$entries9$_i[1];_t2325+="<x-menuitem value=\"".concat(_e1668,"\"><x-label>").concat(_i1403,"</x-label></x-menuitem>");}this["#category-menu"].insertAdjacentHTML("beforeend",_t2325);}if(this["#category-select"].value=this.Js.getConfig("bx-googlefontslibrarysearchsettings:category","all"),2===this["#subset-menu"].children.length){_t2326="";for(_i1404=0,_Object$entries10=Object.entries(u);_i1404<_Object$entries10.length;_i1404++){_Object$entries10$_i=_slicedToArray(_Object$entries10[_i1404],2),_e1669=_Object$entries10$_i[0],_i1405=_Object$entries10$_i[1];_t2326+="<x-menuitem value=\"".concat(_e1669,"\"><x-label>").concat(_i1405,"</x-label></x-menuitem>");}this["#subset-menu"].insertAdjacentHTML("beforeend",_t2326);}this["#subset-select"].value=this.Js.getConfig("bx-googlefontslibrarysearchsettings:subset","all");case 3:case"end":return _context184.stop();}}},_callee182,this);}));function Xs(){return _Xs4.apply(this,arguments);}return Xs;}()}]);return vg;}(xg);_defineProperty(vg,"_shadowTemplate",Ki(_templateObject463()));_defineProperty(vg,"_shadowStyleSheet",Qi(_templateObject464()));customElements.define("bx-googlefontslibrarysearchsettings",vg);var yg=Math.abs,kg={"http://scripts.sil.org/OFL":"SIL Open Font License","https://ubuntu.com/legal/font-licence":"Ubuntu Font Licence","http://www.apache.org/licenses/LICENSE-2.0.html":"Apache License"},Sg=Symbol();var Cg=/*#__PURE__*/function(_HTMLElement132){_inherits(Cg,_HTMLElement132);var _super198=_createSuper(Cg);_createClass(Cg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Cg(){var _this906;_classCallCheck(this,Cg);_this906=_super198.call(this),_this906.e_=!1,_this906.i_=!1,_this906.s_=!1,_this906.Vv=0,_this906.n_=es(_this906.n_,600,_assertThisInitialized(_this906)),_this906._shadowRoot=_this906.attachShadow({mode:"closed"}),_this906._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Cg._shadowStyleSheet],_this906._shadowRoot.append(document.importNode(Cg._shadowTemplate.content,!0));var _iterator1541=_createForOfIteratorHelper(_this906._shadowRoot.querySelectorAll("[id]")),_step1541;try{for(_iterator1541.s();!(_step1541=_iterator1541.n()).done;){var _t2327=_step1541.value;_this906["#"+_t2327.id]=_t2327;}}catch(err){_iterator1541.e(err);}finally{_iterator1541.f();}_this906["#provider-select"].addEventListener("change",function(){return _this906.l_();}),_this906["#refresh-button"].addEventListener("click",function(){return _this906.__();}),_this906["#main"].addEventListener("scroll",function(){return _this906.a_();}),_this906["#items"].addEventListener("pointerdown",function(t){return _this906.op(t);}),_this906["#items"].addEventListener("click",function(t){return _this906.lp(t);}),_this906["#items"].addEventListener("contextmenu",function(t){return _this906.ap(t);}),_this906["#items"].addEventListener("keydown",function(t){return _this906.hp(t);}),_this906["#placeholder"].addEventListener("pointerdown",function(t){return _this906.tg(t);}),_this906["#placeholder"].addEventListener("click",function(t){return _this906.eg(t);}),_this906["#meta-link-button"].addEventListener("click",function(){return _this906.M_();}),_this906["#meta-embed-button"].addEventListener("click",function(){return _this906.P_();}),_this906["#search-input"].addEventListener("input",function(){return _this906.n_();});return _this906;}_createClass(Cg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),"bx-chromeapp"===this.Js.localName)this["#meta-link-button"].hidden=!0;else{var _iterator1542=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1542;try{for(_iterator1542.s();!(_step1542=_iterator1542.n()).done;){var _t2328=_step1542.value;_t2328.setAttribute("rel","noopener");}}catch(err){_iterator1542.e(err);}finally{_iterator1542.f();}}this["#main"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this907=this;window.addEventListener("resize",this.nn=function(){_this907.d_();}),this.Js.addEventListener("configchange",this.ln=function(t){_this907.an(t);}),this.tn.primaryPanelsDock.addEventListener("resize",this.c_=function(){_this907.d_();}),!1===this.e_&&(this.e_=!0,this.Zm(),this.u_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ss(10).then(function(){return _this907["#main"].scrollTop=_this907.Vv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.primaryPanelsDock.removeEventListener("resize",this.c_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail20=t.detail,e=_t$detail20.key,i=_t$detail20.value;"google-fonts"===this["#provider-select"].value&&e.startsWith("bx-googlefontslibrarysearchsettings")&&this.Zm();}},{key:"d_",value:function d_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.x_();}},{key:"l_",value:function l_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Js.setConfig("bx-fontslibrarybrowser:provider",this["#provider-select"].value),this.Zm(),this.u_();}},{key:"__",value:function(){var _4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee183(){return regeneratorRuntime.wrap(function _callee183$(_context185){while(1){switch(_context185.prev=_context185.next){case 0:this.Zm(!0);case 1:case"end":return _context185.stop();}}},_callee183,this);}));function __(){return _4.apply(this,arguments);}return __;}()},{key:"a_",value:function a_(){this.Vv=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.x_();}},{key:"op",value:function op(t){var _this908=this;if(t.target.matches(".item")){var _e1670=t.target;if("touch"!==t.pointerType&&this.b_(_e1670),0===t.button){var _i1407,_s810,_n535,_o506=new DOMPoint(t.clientX,t.clientY);_e1670.setPointerCapture(t.pointerId),_e1670.addEventListener("pointermove",_i1407=function _i1406(l){var a=new DOMPoint(l.clientX,l.clientY);Ee(_o506,a)>=5&&(_e1670.removeEventListener("pointermove",_i1407),_e1670.removeEventListener("pointerup",_s810),_e1670.removeEventListener("pointercancel",_n535),_this908.Sv(_e1670,t));}),_e1670.addEventListener("pointerup",_s810=function _s809(){_e1670.removeEventListener("pointermove",_i1407),_e1670.removeEventListener("pointerup",_s810),_e1670.removeEventListener("pointercancel",_n535);}),_e1670.addEventListener("pointercancel",_n535=function _n534(){_e1670.removeEventListener("pointermove",_i1407),_e1670.removeEventListener("pointerup",_s810),_e1670.removeEventListener("pointercancel",_n535);});}}}},{key:"tg",value:function tg(t){"refresh-anchor"===t.target.id&&t.preventDefault();}},{key:"eg",value:function(){var _eg2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee184(t){return regeneratorRuntime.wrap(function _callee184$(_context186){while(1){switch(_context186.prev=_context186.next){case 0:"refresh-anchor"===t.target.id&&(t.preventDefault(),this.Zm(!0));case 1:case"end":return _context186.stop();}}},_callee184,this);}));function eg(_x306){return _eg2.apply(this,arguments);}return eg;}()},{key:"Sv",value:function Sv(t,e){var _this909=this;var i,s,n,o=this.tn.board,l=t[Sg],a=1,h=t.firstElementChild.getBoundingClientRect(),r=t.firstElementChild.cloneNode(!0);r.style.position="fixed",r.style.left=h.left+"px",r.style.top=h.top+"px",r.style.width=h.width+"px",r.style.height=h.height+"px",r.style.zIndex="999999999",r.style.pointerEvents="none",r.style.transformOrigin=(e.clientX-h.left)/h.width*100+"%"+(e.clientY-h.top)/h.height*100+"%","local-fonts"===l.provider?(r.style.fontSize="20px",r.style.lineHeight="1",r.style.whiteSpace="pre"):"google-fonts"===l.provider&&(r.style.backgroundColor="currentColor",r.style.webkitMaskRepeat="no-repeat",r.style.webkitMaskOrigin="content-box"),document.body.append(r),t.style.cursor="copy",t.setPointerCapture(e.pointerId),this["#meta-popover"].opened&&this["#meta-popover"].close(),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;i<0&&(a=1+yg(i)/150,a>3&&(a=3)),r.style.top=h.y+s+"px",r.style.left=h.x+i+"px",r.style.transform="scale(".concat(a,")");}),t.addEventListener("pointercancel",s=function(_s811){function s(){return _s811.apply(this,arguments);}s.toString=function(){return _s811.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref184=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee185(e){var _t2329,_e1671,_i1408,_s812,_n536,_h222,_d115,_t2330,_t2331,_e1672,_i1409,_s813,_n537,_h223,_d116;return regeneratorRuntime.wrap(function _callee185$(_context187){while(1){switch(_context187.prev=_context187.next){case 0:if(!(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,!1!==o.isPointOverBoard(e.clientX,e.clientY))){_context187.next=26;break;}if(!("local-fonts"===l.provider)){_context187.next=7;break;}o.undoManager.checkpoint("Add \"".concat(l.family,"\" font family"));_t2329=o.currentContainer||o.currentWorkspace,_e1671=r.getBoundingClientRect(),_i1408=Yt(_t2329).inverse(),_s812=new DOMPoint(_e1671.x,_e1671.y+_e1671.height-4*a).matrixTransform(_i1408),_n536=J(_s812.x,o.geometryPrecision),_h222=J(_s812.y,o.geometryPrecision),_d115=$i("svg:text");_d115.setAttribute("x",_n536),_d115.setAttribute("y",_h222),_d115.textContent=l.family,_d115.style.whiteSpace="pre",_d115.style.fontSize=20*a*(1/o.scale)+"px",_d115.style.fontFamily="\"".concat(l.family,"\""),_t2329.append(_d115),o.selectedElements=[_d115],o.selectedTextRange=null,r.remove();_context187.next=24;break;case 7:if(!("google-fonts"===l.provider)){_context187.next=24;break;}_t2330=_this909.D_(l);_context187.next=11;return o.defsFontsManager.search();case 11:if(!_context187.sent.map(function(t){return t.family;}).includes(l.family)){_context187.next=17;break;}_context187.next=14;return _this909.Js.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override it?"});case 14:_context187.t0=_context187.sent;if(!(0!==_context187.t0)){_context187.next=17;break;}return _context187.abrupt("return",void r.remove());case 17:_this909.tn.board.undoManager.checkpoint("Add \"".concat(l.family,"\" font family"));_context187.next=20;return _this909.tn.board.defsFontsManager.linkFontFamily(l.family,_t2330);case 20:_context187.next=22;return _this909.tn.board.defsFontsManager.pinFontFamily(l.family);case 22:_t2331=o.currentContainer||o.currentWorkspace,_e1672=r.getBoundingClientRect(),_i1409=Yt(_t2331).inverse(),_s813=new DOMPoint(_e1672.x,_e1672.y+_e1672.height-4*a).matrixTransform(_i1409),_n537=J(_s813.x,o.geometryPrecision),_h223=J(_s813.y,o.geometryPrecision),_d116=$i("svg:text");_d116.setAttribute("x",_n537),_d116.setAttribute("y",_h223),_d116.textContent=l.family,_d116.style.whiteSpace="pre",_d116.style.fontSize=20*a*(1/o.scale)+"px",_d116.style.fontFamily="\"".concat(l.family,"\""),_t2331.append(_d116),o.selectedElements=[_d116],o.selectedTextRange=null,r.remove();case 24:_context187.next=27;break;case 26:r.remove();case 27:case"end":return _context187.stop();}}},_callee185);}));return function n(_x307){return _ref184.apply(this,arguments);};}());}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");e&&(this.b_(e),2===t.detail&&this.Ev(e));}},{key:"ap",value:function(){var _ap10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee186(t){var e;return regeneratorRuntime.wrap(function _callee186$(_context188){while(1){switch(_context188.prev=_context188.next){case 0:e=t.target.closest(".item");_context188.t0=e;if(!_context188.t0){_context188.next=8;break;}t.preventDefault();this.b_(e);_context188.next=7;return ss(150);case 7:this.Ev(e);case 8:case"end":return _context188.stop();}}},_callee186,this);}));function ap(_x308){return _ap10.apply(this,arguments);}return ap;}()},{key:"hp",value:function hp(t){var e=Ja.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.Ev(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.b_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.b_(i.previousElementSibling)));}},{key:"M_",value:function(){var _M_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee187(){var t,e;return regeneratorRuntime.wrap(function _callee187$(_context189){while(1){switch(_context189.prev=_context189.next){case 0:this["#meta-link-button"].disabled=!0,this["#meta-embed-button"].disabled=!0;t=this["#items"].querySelector(".item[data-selected]")[Sg],e=this.D_(t);_context189.next=4;return this.tn.board.defsFontsManager.search();case 4:if(!_context189.sent.map(function(t){return t.family;}).includes(t.family)){_context189.next=10;break;}_context189.next=7;return this.Js.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 7:_context189.t0=_context189.sent;if(!(0!==_context189.t0)){_context189.next=10;break;}return _context189.abrupt("return",(this["#meta-link-button"].disabled=!1,void(this["#meta-embed-button"].disabled=!1)));case 10:this.tn.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs"));_context189.next=13;return this.tn.board.defsFontsManager.linkFontFamily(t.family,e);case 13:_context189.next=15;return this.tn.board.defsFontsManager.pinFontFamily(t.family);case 15:_context189.next=17;return ss(500);case 17:this.tn.togglePrimaryPanel("defs-panel");this.tn.defsPanel.toggleBrowser("fonts-browser");this.tn.defsPanel.fontsBrowser.featureFamily(t.family);this["#meta-link-button"].disabled=!1;this["#meta-embed-button"].disabled=!1;case 22:case"end":return _context189.stop();}}},_callee187,this);}));function M_(){return _M_.apply(this,arguments);}return M_;}()},{key:"P_",value:function(){var _P_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee188(){var t,e;return regeneratorRuntime.wrap(function _callee188$(_context190){while(1){switch(_context190.prev=_context190.next){case 0:this["#meta-link-button"].disabled=!0,this["#meta-embed-button"].disabled=!0;t=this["#items"].querySelector(".item[data-selected]")[Sg];_context190.next=4;return this.z_(t);case 4:e=_context190.sent;if(!(null===e)){_context190.next=7;break;}return _context190.abrupt("return",(this.Js.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(t.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}),this["#meta-link-button"].disabled=!1,void(this["#meta-embed-button"].disabled=!1)));case 7:_context190.next=9;return this.tn.board.defsFontsManager.search();case 9:if(!_context190.sent.map(function(t){return t.family;}).includes(t.family)){_context190.next=15;break;}_context190.next=12;return this.Js.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 12:_context190.t0=_context190.sent;if(!(0!==_context190.t0)){_context190.next=15;break;}return _context190.abrupt("return",(this["#meta-link-button"].disabled=!1,void(this["#meta-embed-button"].disabled=!1)));case 15:_context190.next=17;return ss(500);case 17:this.tn.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs"));_context190.next=20;return this.tn.board.defsFontsManager.removeFontFamily(t.family);case 20:_context190.next=22;return this.tn.board.defsFontsManager.addFontFaces(e);case 22:_context190.next=24;return this.tn.board.defsFontsManager.pinFontFamily(t.family);case 24:this.tn.togglePrimaryPanel("defs-panel");this.tn.defsPanel.toggleBrowser("fonts-browser");this.tn.defsPanel.fontsBrowser.featureFamily(t.family);this["#meta-link-button"].disabled=!1;this["#meta-embed-button"].disabled=!1;case 29:case"end":return _context190.stop();}}},_callee188,this);}));function P_(){return _P_.apply(this,arguments);}return P_;}()},{key:"n_",value:function n_(){this.Zm();}},{key:"b_",value:function b_(t){{var _e1673=this["#items"].querySelector(":scope > .item[data-selected]");_e1673!==t&&(_e1673&&(_e1673.removeAttribute("data-selected"),_e1673.part.remove("selected-item")),t.setAttribute("data-selected",""),t.part.add("selected-item"),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"Ev",value:function Ev(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"$v",value:function $v(t){var e;if("google-fonts"===t.provider)e=Ki(_templateObject86(),t.family,t.provider,t.thumbnail);else if("local-fonts"===t.provider){var _i1410=t.family.startsWith("STIX")?"STIXGeneral":t.family;e=Ki(_templateObject87(),t.family,t.provider,_i1410,t.family);}return e[Sg]=t,e;}},{key:"z_",value:function z_(t){return new Promise(/*#__PURE__*/function(){var _ref185=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee189(e,i){var s,n,_i1411,_Object$entries11,_Object$entries11$_i,_e1674,_i1412,_o507,_l378,_a277,_h224,_r147,_d117,_c83;return regeneratorRuntime.wrap(function _callee189$(_context191){while(1){switch(_context191.prev=_context191.next){case 0:s=[],n=null;_i1411=0,_Object$entries11=Object.entries(t.urls);case 2:if(!(_i1411<_Object$entries11.length)){_context191.next=31;break;}_Object$entries11$_i=_slicedToArray(_Object$entries11[_i1411],2),_e1674=_Object$entries11$_i[0],_i1412=_Object$entries11$_i[1];_o507=null;_context191.prev=5;_context191.next=8;return fetch(_i1412);case 8:_o507=_context191.sent;_context191.next=15;break;case 11:_context191.prev=11;_context191.t0=_context191["catch"](5);n=_context191.t0;return _context191.abrupt("break",31);case 15:_context191.next=17;return _o507.blob();case 17:_l378=_context191.sent;_context191.next=20;return hr(_l378);case 20:_context191.t1=_context191.sent;_context191.t2="url("+_context191.t1;_a277=_context191.t2+")";_h224=t.family;_r147=_e1674.substring(0,3);_d117=_e1674.includes("italic")?"italic":"normal";_c83=new FontFace(_h224,_a277,{family:_h224,weight:_r147,style:_d117});_c83.src=_a277,s.push(_c83);case 28:_i1411++;_context191.next=2;break;case 31:e(n?null:s);case 32:case"end":return _context191.stop();}}},_callee189,null,[[5,11]]);}));return function(_x309,_x310){return _ref185.apply(this,arguments);};}());}},{key:"D_",value:function D_(t){var e=new URL("https://fonts.googleapis.com/css2"),i=[],s=[];var _iterator1543=_createForOfIteratorHelper(t.faces),_step1543;try{for(_iterator1543.s();!(_step1543=_iterator1543.n()).done;){var _e1675=_step1543.value;var _t2332=parseInt(_e1675),_n538=_e1675.endsWith("italic")?1:0;0===_n538?i.push([_n538,_t2332]):s.push([_n538,_t2332]);}}catch(err){_iterator1543.e(err);}finally{_iterator1543.f();}i.sort(function(t,e){return t[1]<e[1]?-1:1;}),s.sort(function(t,e){return t[1]<e[1]?-1:1;});var n=[].concat(i,s).map(function(t){return t.join(",");}).join(";"),o=t.family+":ital,wght@"+n,l=new URLSearchParams();return l.set("family",o),l.set("display","swap"),e.search=l.toString(),e.href;}},{key:"O_",value:function O_(t,e,i,s,n){return new Promise(/*#__PURE__*/function(){var _ref186=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee190(o,l){var a,h,_iterator1544,_step1544,_t2333;return regeneratorRuntime.wrap(function _callee190$(_context192){while(1){switch(_context192.prev=_context192.next){case 0:a=n?n.page+1:0;_context192.next=3;return Br.search(t,e,i,s,a);case 3:h=_context192.sent;_iterator1544=_createForOfIteratorHelper(h);try{for(_iterator1544.s();!(_step1544=_iterator1544.n()).done;){_t2333=_step1544.value;_t2333.page=a,_t2333.provider="google-fonts";}}catch(err){_iterator1544.e(err);}finally{_iterator1544.f();}o(h);case 7:case"end":return _context192.stop();}}},_callee190);}));return function(_x311,_x312){return _ref186.apply(this,arguments);};}());}},{key:"E_",value:function E_(t,e){return new Promise(/*#__PURE__*/function(){var _ref187=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee191(i,s){var n,o,_iterator1545,_step1545,_t2334;return regeneratorRuntime.wrap(function _callee191$(_context193){while(1){switch(_context193.prev=_context193.next){case 0:n=e?e.page+1:0;_context193.next=3;return Zx.search(t,n);case 3:o=_context193.sent;_iterator1545=_createForOfIteratorHelper(o);try{for(_iterator1545.s();!(_step1545=_iterator1545.n()).done;){_t2334=_step1545.value;_t2334.page=n,_t2334.provider="local-fonts";}}catch(err){_iterator1545.e(err);}finally{_iterator1545.f();}i(o);case 7:case"end":return _context193.stop();}}},_callee191);}));return function(_x313,_x314){return _ref187.apply(this,arguments);};}());}},{key:"Zm",value:function Zm(){var _this910=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;return new Promise(/*#__PURE__*/function(){var _ref188=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee192(e){var i,_t2335,_t2336;return regeneratorRuntime.wrap(function _callee192$(_context194){while(1){switch(_context194.prev=_context194.next){case 0:i=_this910.Js.getConfig("bx-fontslibrarybrowser:provider","google-fonts");if(!(!0===t)){_context194.next=33;break;}if(!("google-fonts"===i)){_context194.next=20;break;}_context194.prev=3;_context194.next=6;return Br.refresh();case 6:_context194.next=18;break;case 8:_context194.prev=8;_context194.t0=_context194["catch"](3);if(!("RetryError"===_context194.t0.name)){_context194.next=15;break;}_context194.next=13;return _this910.Js.openMessageDialog({message:"Failed to refresh Google Fonts list",detail:"The server is down or you have no internet connection. Please try again later.",buttons:["OK"]});case 13:_context194.next=17;break;case 15:_context194.next=17;return _this910.Js.openMessageDialog({message:"Failed to refresh Google Fonts list",detail:"".concat(_context194.t0.message," (").concat(_context194.t0.name,")"),buttons:["OK"]});case 17:return _context194.abrupt("return",e());case 18:_context194.next=33;break;case 20:if(!("local-fonts"===i)){_context194.next=33;break;}_context194.prev=21;_context194.next=24;return Zx.refresh();case 24:_context194.next=33;break;case 26:_context194.prev=26;_context194.t1=_context194["catch"](21);_context194.t2="AbortError"===_context194.t1.name;if(_context194.t2){_context194.next=32;break;}_context194.next=32;return _this910.Js.openMessageDialog({message:"Failed to refresh local fonts list",detail:"".concat(_context194.t1.message," (").concat(_context194.t1.name,")"),buttons:["OK"]});case 32:return _context194.abrupt("return",e());case 33:if(!(_this910["#provider-select"].value=i,_this910["#meta-popover"].opened&&_this910["#meta-popover"].close(),"local-fonts"===i)){_context194.next=48;break;}_context194.next=36;return Zx.getCacheSize();case 36:_t2335=_context194.sent;if(!("bx-webapp"===_this910.Js.localName)){_context194.next=44;break;}if(!(!1===_this910.Js.isLocalFontsApiEnabled)){_context194.next=40;break;}return _context194.abrupt("return",(_this910.i_=!1,_this910.Vv=0,_this910.s_=!1,_this910["#refresh-button"].disabled=!0,_this910["#items"].innerHTML="",_this910["#throbber"].hidden=!0,_this910["#placeholder"].hidden=!1,_this910["#placeholder"].innerHTML='Please enable Local Font Access API. <a href="https://boxy-svg.com/blog/15" target="_blank">Click here</a> for more details.',e()));case 40:if(!(0===_t2335)){_context194.next=42;break;}return _context194.abrupt("return",(_this910.i_=!1,_this910.Vv=0,_this910.s_=!1,_this910["#refresh-button"].disabled=!0,_this910["#items"].innerHTML="",_this910["#throbber"].hidden=!0,_this910["#placeholder"].hidden=!1,_this910["#placeholder"].innerHTML='<a id="refresh-anchor" href="">Click here</a> to give Boxy SVG permission to use your local fonts.',e()));case 42:_context194.next=48;break;case 44:_context194.t3=0===_t2335;if(!_context194.t3){_context194.next=48;break;}_context194.next=48;return Zx.refresh();case 48:_this910.i_=!1,_this910.Vv=0,_this910.s_=!0,_this910["#refresh-button"].disabled=!1,_this910["#items"].innerHTML="",_this910["#throbber"].hidden=!1,_this910["#placeholder"].hidden=!0;_t2336=0;case 50:if(!(_t2336<50&&!1===_this910.i_&&!0===_this910.s_&&_this910["#items"].clientHeight<=_this910["#main"].clientHeight+500)){_context194.next=63;break;}_context194.prev=51;_context194.next=54;return _this910.x_();case 54:_context194.next=60;break;case 56:_context194.prev=56;_context194.t4=_context194["catch"](51);0===_this910["#items"].childElementCount&&(_this910["#placeholder"].hidden=!1,_this910["#placeholder"].textContent=_context194.t4.message);return _context194.abrupt("break",63);case 60:_t2336+=1;_context194.next=50;break;case 63:e();case 64:case"end":return _context194.stop();}}},_callee192,null,[[3,8],[21,26],[51,56]]);}));return function(_x315){return _ref188.apply(this,arguments);};}());}},{key:"x_",value:function x_(){var _this911=this;return new Promise(/*#__PURE__*/function(){var _ref189=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee193(t,e){var i,s,n,o,l,_t2337,_e1676,_s814,_t2338,_iterator1546,_step1546,_e1677,_i1413;return regeneratorRuntime.wrap(function _callee193$(_context195){while(1){switch(_context195.prev=_context195.next){case 0:_this911.i_=!0;i=null,s=null,n=_this911["#search-input"].value.trim(),o=_this911["#items"].lastElementChild?_this911["#items"].lastElementChild[Sg]:null,l=_this911.Js.getConfig("bx-fontslibrarybrowser:provider","google-fonts");_context195.prev=2;if(!("google-fonts"===l)){_context195.next=10;break;}_t2337=_this911.Js.getConfig("bx-googlefontslibrarysearchsettings:sort","alphabetical"),_e1676=_this911.Js.getConfig("bx-googlefontslibrarysearchsettings:category","all"),_s814=_this911.Js.getConfig("bx-googlefontslibrarysearchsettings:subset","all");_context195.next=7;return _this911.O_(n,_t2337,_e1676,_s814,o);case 7:i=_context195.sent;_context195.next=15;break;case 10:_context195.t0="local-fonts"===l;if(!_context195.t0){_context195.next=15;break;}_context195.next=14;return _this911.E_(n,o);case 14:i=_context195.sent;case 15:_context195.next=20;break;case 17:_context195.prev=17;_context195.t1=_context195["catch"](2);s=_context195.t1;case 20:if(s)_this911["#throbber"].hidden=!0,_this911.i_=!1,e(s);else{if(i.length>0){_t2338=document.createDocumentFragment();_iterator1546=_createForOfIteratorHelper(i);try{for(_iterator1546.s();!(_step1546=_iterator1546.n()).done;){_e1677=_step1546.value;_i1413=_this911.$v(_e1677);_t2338.append(_i1413);}}catch(err){_iterator1546.e(err);}finally{_iterator1546.f();}_this911["#items"].append(_t2338),_this911["#throbber"].hidden=!0;}else _this911.s_=!1,_this911["#throbber"].hidden=!0,0===_this911["#items"].childElementCount&&(_this911["#placeholder"].hidden=!1,_this911["#placeholder"].textContent="No fonts found");_this911.i_=!1,t();}case 21:case"end":return _context195.stop();}}},_callee193,null,[[2,17]]);}));return function(_x316,_x317){return _ref189.apply(this,arguments);};}());}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1678=t[Sg],_i1414=si(_e1678.faces.map(function(t){return parseInt(t);})).sort();if("google-fonts"===_e1678.provider){var _t2339="https://fonts.google.com/specimen/"+li(_e1678.family," ","+"),_s815=_e1678.subsets.map(function(t){return Br.getSubsetDisplayName(t);}).join(", ");this["#meta-family-value"].textContent=_e1678.family,this["#meta-weights-value"].textContent=_i1414.join(", "),this["#meta-subsets"].hidden=!1,this["#meta-subsets-value"].textContent=_s815,this["#meta-category"].hidden=!1,this["#meta-category-value"].textContent=Br.getCategoryDisplayName(_e1678.category),this["#meta-license"].hidden=!1,this["#meta-license-anchor"].href=_e1678.license,this["#meta-license-anchor"].textContent=kg[_e1678.license]?kg[_e1678.license]:"Custom",this["#meta-footer"].hidden=!1,this["#meta-google-fonts-anchor"].setAttribute("href",_t2339);}else"local-fonts"===_e1678.provider&&(this["#meta-family-value"].textContent=_e1678.family,this["#meta-weights-value"].textContent=_i1414.join(", "),this["#meta-subsets"].hidden=!0,this["#meta-category"].hidden=!0,this["#meta-license"].hidden=!0,this["#meta-footer"].hidden=!0);}}},{key:"u_",value:function u_(){var t=this.Js.getConfig("bx-fontslibrarybrowser:provider","google-fonts");"google-fonts"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-googlefontslibrarysearchsettings/>"):"local-fonts"===t&&(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="");}}]);return Cg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cg,"observedAttributes",["enabled"]);_defineProperty(Cg,"_shadowTemplate",Ki(_templateObject465(),Qx()));_defineProperty(Cg,"_shadowStyleSheet",Qi(_templateObject466()));customElements.define("bx-fontslibrarybrowser",Cg);var _g=/*#__PURE__*/function(_xg3){_inherits(_g,_xg3);var _super199=_createSuper(_g);function _g(){var _this912;_classCallCheck(this,_g);_this912=_super199.call(this),_this912["#quality-select"].addEventListener("change",function(){return _this912.T_();}),_this912["#orientation-select"].addEventListener("change",function(){return _this912.A_();});return _this912;}_createClass(_g,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(_g.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-pexelsbitmapslibrarysearchsettings:quality","640"),e=this.Js.getConfig("bx-pexelsbitmapslibrarysearchsettings:orientation","all");this["#quality-select"].value=t,this["#orientation-select"].value=e;}},{key:"T_",value:function T_(){var t=this["#quality-select"].value;this.Js.setConfig("bx-pexelsbitmapslibrarysearchsettings:quality",t);}},{key:"A_",value:function A_(){var t=this["#orientation-select"].value;this.Js.setConfig("bx-pexelsbitmapslibrarysearchsettings:orientation",t);}}]);return _g;}(xg);_defineProperty(_g,"_shadowTemplate",Ki(_templateObject467()));_defineProperty(_g,"_shadowStyleSheet",Qi(_templateObject468()));customElements.define("bx-pexelsbitmapslibrarysearchsettings",_g);var Mg=/*#__PURE__*/function(_xg4){_inherits(Mg,_xg4);var _super200=_createSuper(Mg);function Mg(){var _this913;_classCallCheck(this,Mg);_this913=_super200.call(this),_this913["#sort-buttons"].addEventListener("toggle",function(){return _this913.I_();}),_this913["#quality-select"].addEventListener("change",function(){return _this913.T_();}),_this913["#orientation-select"].addEventListener("change",function(){return _this913.A_();}),_this913["#category-select"].addEventListener("change",function(){return _this913.S_();}),_this913["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this913.L_();});return _this913;}_createClass(Mg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Mg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:sort","popular"),e=this.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:quality","640"),i=this.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:orientation","all"),s=this.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:category","all"),n=this.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",!1);this["#sort-buttons"].value=t,this["#quality-select"].value=e,this["#orientation-select"].value=i,this["#category-select"].value=s,this["#editors-choice-checkbox"].toggled=n;}},{key:"I_",value:function I_(){var t=this["#sort-buttons"].value;this.Js.setConfig("bx-pixabaybitmapslibrarysearchsettings:sort",t);}},{key:"T_",value:function T_(){var t=this["#quality-select"].value;this.Js.setConfig("bx-pixabaybitmapslibrarysearchsettings:quality",t);}},{key:"A_",value:function A_(){var t=this["#orientation-select"].value;this.Js.setConfig("bx-pixabaybitmapslibrarysearchsettings:orientation",t);}},{key:"S_",value:function S_(){var t=this["#category-select"].value;this.Js.setConfig("bx-pixabaybitmapslibrarysearchsettings:category",t);}},{key:"L_",value:function L_(){var t=this["#editors-choice-checkbox"].toggled;this.Js.setConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",t);}}]);return Mg;}(xg);_defineProperty(Mg,"_shadowTemplate",Ki(_templateObject469()));_defineProperty(Mg,"_shadowStyleSheet",Qi(_templateObject470()));customElements.define("bx-pixabaybitmapslibrarysearchsettings",Mg);var Pg=/*#__PURE__*/function(_xg5){_inherits(Pg,_xg5);var _super201=_createSuper(Pg);function Pg(){var _this914;_classCallCheck(this,Pg);_this914=_super201.call(this),_this914["#quality-select"].addEventListener("change",function(){return _this914.T_();}),_this914["#orientation-select"].addEventListener("change",function(){return _this914.A_();});return _this914;}_createClass(Pg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Pg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-unsplashbitmapslibrarysearchsettings:quality","640"),e=this.Js.getConfig("bx-unsplashbitmapslibrarysearchsettings:orientation","all");this["#quality-select"].value=t,this["#orientation-select"].value=e;}},{key:"T_",value:function T_(){var t=this["#quality-select"].value;this.Js.setConfig("bx-unsplashbitmapslibrarysearchsettings:quality",t);}},{key:"A_",value:function A_(){var t=this["#orientation-select"].value;this.Js.setConfig("bx-unsplashbitmapslibrarysearchsettings:orientation",t);}}]);return Pg;}(xg);_defineProperty(Pg,"_shadowTemplate",Ki(_templateObject471()));_defineProperty(Pg,"_shadowStyleSheet",Qi(_templateObject472()));customElements.define("bx-unsplashbitmapslibrarysearchsettings",Pg);var Dg=/*#__PURE__*/function(_xg6){_inherits(Dg,_xg6);var _super202=_createSuper(Dg);function Dg(){var _this915;_classCallCheck(this,Dg);_this915=_super202.call(this),_this915["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this915.L_();});return _this915;}_createClass(Dg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Dg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",!1);this["#editors-choice-checkbox"].toggled=t;}},{key:"L_",value:function L_(){var t=this["#editors-choice-checkbox"].toggled;this.Js.setConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",t);}}]);return Dg;}(xg);_defineProperty(Dg,"_shadowTemplate",Ki(_templateObject473()));customElements.define("bx-wikimediabitmapslibrarysearchsettings",Dg);var zg=function zg(t,e,i){var s=new URL(t),n=new URLSearchParams(s.search);return null==i||""===i?n["delete"](e):n.set(e,i),s.search=n.toString(),s.href;},Og=Math.abs,Eg=Object.entries,Tg=Symbol(),Ag=20;var $g=/*#__PURE__*/function(_HTMLElement133){_inherits($g,_HTMLElement133);var _super203=_createSuper($g);_createClass($g,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function $g(){var _this916;_classCallCheck(this,$g);_this916=_super203.call(this),_this916.e_=!1,_this916.i_=!1,_this916.s_=!1,_this916.Vv=0,_this916.n_=es(_this916.n_,600,_assertThisInitialized(_this916)),_this916.jo=new Dexie("bx-bitmapslibrarybrowser"),_this916.jo.version(1).stores({pixabayCache:"requestURL,time"}),_this916._shadowRoot=_this916.attachShadow({mode:"closed"}),_this916._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,$g._shadowStyleSheet],_this916._shadowRoot.append(document.importNode($g._shadowTemplate.content,!0));var _iterator1547=_createForOfIteratorHelper(_this916._shadowRoot.querySelectorAll("[id]")),_step1547;try{for(_iterator1547.s();!(_step1547=_iterator1547.n()).done;){var _t2340=_step1547.value;_this916["#"+_t2340.id]=_t2340;}}catch(err){_iterator1547.e(err);}finally{_iterator1547.f();}_this916["#provider-select"].addEventListener("change",function(){return _this916.l_();}),_this916["#main"].addEventListener("scroll",function(){return _this916.a_();}),_this916["#items"].addEventListener("pointerdown",function(t){return _this916.op(t);}),_this916["#items"].addEventListener("click",function(t){return _this916.lp(t);}),_this916["#items"].addEventListener("contextmenu",function(t){return _this916.ap(t);}),_this916["#items"].addEventListener("keydown",function(t){return _this916.hp(t);}),_this916["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this916.r_();}),_this916["#search-input"].addEventListener("input",function(){return _this916.n_();});return _this916;}_createClass($g,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),"bx-chromeapp"!==this.Js.localName){var _iterator1548=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1548;try{for(_iterator1548.s();!(_step1548=_iterator1548.n()).done;){var _t2341=_step1548.value;_t2341.setAttribute("rel","noopener");}}catch(err){_iterator1548.e(err);}finally{_iterator1548.f();}}this["#main"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"B_",value:function B_(t){var _this917=this;return new Promise(/*#__PURE__*/function(){var _ref190=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee194(e){var i,s;return regeneratorRuntime.wrap(function _callee194$(_context196){while(1){switch(_context196.prev=_context196.next){case 0:_context196.next=2;return _this917.jo.pixabayCache.get(t);case 2:i=_context196.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context196.stop();}}},_callee194);}));return function(_x318){return _ref190.apply(this,arguments);};}());}},{key:"R_",value:function R_(t,e){this.jo.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"G_",value:function G_(){var _this918=this;return new Promise(/*#__PURE__*/function(){var _ref191=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee195(t){var e;return regeneratorRuntime.wrap(function _callee195$(_context197){while(1){switch(_context197.prev=_context197.next){case 0:_context197.next=2;return _this918.jo.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context197.sent;e>0&&console.log("Deleted ".concat(e," cached responses.")),t();case 4:case"end":return _context197.stop();}}},_callee195);}));return function(_x319){return _ref191.apply(this,arguments);};}());}},{key:"en",value:function en(){var _this919=this;window.addEventListener("resize",this.nn=function(){_this919.d_();}),this.Js.addEventListener("configchange",this.ln=function(t){_this919.an(t);}),this.tn.primaryPanelsDock.addEventListener("resize",this.c_=function(){_this919.d_();}),!1===this.e_&&(this.e_=!0,this.G_(),this.p_(),this.u_(),this.Zm()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ss(10).then(function(){return _this919["#main"].scrollTop=_this919.Vv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.tn.primaryPanelsDock.removeEventListener("resize",this.c_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail21=t.detail,e=_t$detail21.key,i=_t$detail21.value,s=this["#provider-select"].value;"pexels"===s?e.startsWith("bx-pexelsbitmapslibrarysearchsettings")&&this.Zm():"pixabay"===s?e.startsWith("bx-pixabaybitmapslibrarysearchsettings")&&this.Zm():"unsplash"===s?e.startsWith("bx-unsplashbitmapslibrarysearchsettings")&&this.Zm():"wikimedia"===s&&e.startsWith("bx-wikimediabitmapslibrarysearchsettings")&&this.Zm();}},{key:"d_",value:function d_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.x_();}},{key:"l_",value:function l_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Js.setConfig("bx-bitmapslibrarybrowser:provider",this["#provider-select"].value),this.Zm(),this.u_();}},{key:"a_",value:function a_(){this.Vv=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.x_();}},{key:"op",value:function op(t){var _this920=this;if(t.target.matches(".item")){var _e1679=t.target;if("touch"!==t.pointerType&&this.b_(_e1679),0===t.button){var _i1416,_s817,_n540,_o508=new DOMPoint(t.clientX,t.clientY);_e1679.setPointerCapture(t.pointerId),_e1679.addEventListener("pointermove",_i1416=function _i1415(l){var a=new DOMPoint(l.clientX,l.clientY);Ee(_o508,a)>=5&&(_e1679.removeEventListener("pointermove",_i1416),_e1679.removeEventListener("pointerup",_s817),_e1679.removeEventListener("pointercancel",_n540),_this920.Sv(_e1679,t));}),_e1679.addEventListener("pointerup",_s817=function _s816(){_e1679.removeEventListener("pointermove",_i1416),_e1679.removeEventListener("pointerup",_s817),_e1679.removeEventListener("pointercancel",_n540);}),_e1679.addEventListener("pointercancel",_n540=function _n539(){_e1679.removeEventListener("pointermove",_i1416),_e1679.removeEventListener("pointerup",_s817),_e1679.removeEventListener("pointercancel",_n540);});}}}},{key:"Sv",value:function Sv(t,e){var _this921=this;var i,s,n,o=this.tn.board,l=t.querySelector("img"),a=l.getBoundingClientRect(),h=t[Tg],r=this.U_(l.src,a),d=this.F_(h);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Og(i)/150,n>3&&(n=3)),r.style.top=a.y+s+"px",r.style.left=a.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s818){function s(){return _s818.apply(this,arguments);}s.toString=function(){return _s818.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref192=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee196(e){var l,_t2342,_e1680,_i1417,_t2343,_yield$xr3,_e1681,_i1418,_s819;return regeneratorRuntime.wrap(function _callee196$(_context198){while(1){switch(_context198.prev=_context198.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;l="<desc>Author: ".concat(h.user.profileURL,"\nLicense: ").concat(h.license.url,"\n</desc>");if(!o.isPointOverBoard(e.clientX,e.clientY)){_context198.next=21;break;}_t2342=r.getBoundingClientRect();_context198.next=6;return d;case 6:_e1680=_context198.sent;if(!(null===_e1680)){_context198.next=14;break;}r.remove();_context198.next=11;return ss(100);case 11:_this921.Js.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context198.next=19;break;case 14:o.undoManager.checkpoint("Add bitmap from library");_context198.next=17;return o.insertBitmapIntoBBox(_e1680,_t2342);case 17:_i1417=_context198.sent;_i1417.innerHTML=l,o.selectedElements=[_i1417],o.selectedTextRange=null,r.remove();case 19:_context198.next=36;break;case 21:if(!_this921.Js.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context198.next=35;break;}r.remove();_context198.next=25;return d;case 25:_t2343=_context198.sent;_context198.next=28;return xr(_t2343);case 28:_yield$xr3=_context198.sent;_e1681=_yield$xr3.width;_i1418=_yield$xr3.height;_s819="\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_e1681," ").concat(_i1418,"\">\n            <image href=\"").concat(_t2343,"\">").concat(l,"</image>\n          </svg>\n        ");_this921.Js.openEditorTabWithArtworkFromLibrary(_s819);_context198.next=36;break;case 35:r.remove();case 36:case"end":return _context198.stop();}}},_callee196);}));return function n(_x320){return _ref192.apply(this,arguments);};}());}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");e&&(this.b_(e),2===t.detail&&this.Ev(e));}},{key:"ap",value:function(){var _ap11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee197(t){var e;return regeneratorRuntime.wrap(function _callee197$(_context199){while(1){switch(_context199.prev=_context199.next){case 0:e=t.target.closest(".item");_context199.t0=e;if(!_context199.t0){_context199.next=8;break;}t.preventDefault();this.b_(e);_context199.next=7;return ss(150);case 7:this.Ev(e);case 8:case"end":return _context199.stop();}}},_callee197,this);}));function ap(_x321){return _ap11.apply(this,arguments);}return ap;}()},{key:"hp",value:function hp(t){var e=Ja.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s820=i.getBoundingClientRect();if(e.matches("Enter"))this.Ev(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s820.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.b_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s820.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.b_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1682=i.nextElementSibling;_e1682;_e1682=_e1682.nextElementSibling){if(_s820.left===_e1682.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.b_(_e1682);break;}}}else if(e.matches("ArrowUp"))for(var _e1683=i.previousElementSibling;_e1683;_e1683=_e1683.previousElementSibling){if(_s820.left===_e1683.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.b_(_e1683);break;}}}}},{key:"r_",value:function(){var _r_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee198(){var t,e,i,s,n,o,l,_yield$Promise$all,_yield$Promise$all2,a,_t2344;return regeneratorRuntime.wrap(function _callee198$(_context200){while(1){switch(_context200.prev=_context200.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[Tg],i=this.tn.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#meta-popover"].close();o=this.U_(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context200.next=7;return Promise.all([this.F_(e),l.finished]);case 7:_yield$Promise$all=_context200.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);a=_yield$Promise$all2[0];if(!(null===a)){_context200.next=14;break;}this.Js.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();_context200.next=19;break;case 14:this.tn.board.undoManager.checkpoint("Add bitmap from library");_context200.next=17;return this.tn.board.insertBitmapIntoBBox(a,n);case 17:_t2344=_context200.sent;_t2344.innerHTML="<desc>Author: ".concat(e.user.profileURL,"\nLicense: ").concat(e.license.url,"\n</desc>"),this.tn.board.selectedElements=[_t2344],this.tn.board.selectedTextRange=null,o.remove();case 19:case"end":return _context200.stop();}}},_callee198,this);}));function r_(){return _r_3.apply(this,arguments);}return r_;}()},{key:"n_",value:function n_(){this.Zm();}},{key:"b_",value:function b_(t){{var _e1684=this["#items"].querySelector(":scope > .item[data-selected]");_e1684!==t&&(_e1684&&_e1684.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"Ev",value:function Ev(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"$v",value:function $v(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2345=i/s;i=110,s=i/_t2345;}if(s>90){var _t2346=i/s;s=90,i=s*_t2346;}var n=Ki(_templateObject88(),i,s,o);return n[Tg]=t,"bx-chromeapp"===this.Js.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee199(){var t,_e1685,_i1419;return regeneratorRuntime.wrap(function _callee199$(_context201){while(1){switch(_context201.prev=_context201.next){case 0:_context201.prev=0;_context201.next=3;return fetch(e,{mode:"cors"});case 3:t=_context201.sent;_context201.next=14;break;case 6:_context201.prev=6;_context201.t0=_context201["catch"](0);console.log("Retrying",_context201.t0);_context201.next=11;return ss(2e3);case 11:_context201.next=13;return fetch(e,{mode:"cors"});case 13:t=_context201.sent;case 14:if(!t){_context201.next=22;break;}_context201.next=17;return t.blob();case 17:_e1685=_context201.sent;_context201.next=20;return hr(_e1685);case 20:_i1419=_context201.sent;n.querySelector("img").setAttribute("src",_i1419);case 22:case"end":return _context201.stop();}}},_callee199,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",e),n;}},{key:"U_",value:function U_(t,e){var i=Ki(_templateObject89());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"F_",value:function F_(t){var _this922=this;return new Promise(/*#__PURE__*/function(){var _ref194=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee200(e,i){var s,n,_e1686,_t2347;return regeneratorRuntime.wrap(function _callee200$(_context202){while(1){switch(_context202.prev=_context202.next){case 0:s=null,n="640";"pexels"===_this922["#provider-select"].value?n=_this922.Js.getConfig("bx-pexelsbitmapslibrarysearchsettings:quality","640"):"pixabay"===_this922["#provider-select"].value?n=_this922.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:quality","640"):"unsplash"===_this922["#provider-select"].value&&(n=_this922.Js.getConfig("bx-unsplashbitmapslibrarysearchsettings:quality","640"));_context202.prev=2;_context202.next=5;return fetch(t.sources[n],{mode:"cors"});case 5:_e1686=_context202.sent;if(!_e1686.ok){_context202.next=13;break;}_context202.next=9;return _e1686.blob();case 9:_t2347=_context202.sent;_context202.next=12;return hr(_t2347);case 12:s=_context202.sent;case 13:_context202.next=18;break;case 15:_context202.prev=15;_context202.t0=_context202["catch"](2);console.log(_context202.t0);case 18:"unsplash"===t.provider&&_this922.Js.callCloudFunction("sendUnsplashApiRequest",t.downloadURL),e(s);case 19:case"end":return _context202.stop();}}},_callee200,null,[[2,15]]);}));return function(_x322,_x323){return _ref194.apply(this,arguments);};}());}},{key:"N_",value:function N_(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref195=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee201(s,n){var o,l,a,h,r,_t2348,_iterator1549,_step1549,_e1687,_i1420,_s821;return regeneratorRuntime.wrap(function _callee201$(_context203){while(1){switch(_context203.prev=_context203.next){case 0:""===t&&(t="hd");o=i?i.page+1:1,l={page:o,per_page:Ag,query:encodeURIComponent(t)};"all"!==e&&(l.orientation="vertical"===e?"portrait":"landscape");a="https://api.pexels.com/v1/search?"+Eg(l).map(function(_ref196){var _ref197=_slicedToArray(_ref196,2),t=_ref197[0],e=_ref197[1];return"".concat(t,"=").concat(e);}).join("&"),h=null,r=null;_context203.prev=4;_context203.next=7;return fetch(a,{mode:"cors",headers:{Authorization:"563492ad6f91700001000001d2beff8a762546b38a9f11038c06e118"}});case 7:h=_context203.sent;_context203.next=10;return h.json();case 10:h=_context203.sent;_context203.next=16;break;case 13:_context203.prev=13;_context203.t0=_context203["catch"](4);h=null,r=_context203.t0;case 16:if(r)n(r);else{_t2348=[];_iterator1549=_createForOfIteratorHelper(h.photos);try{for(_iterator1549.s();!(_step1549=_iterator1549.n()).done;){_e1687=_step1549.value;_i1420=_e1687.width>=_e1687.height?"w":"h",_s821=_e1687.width>=_e1687.height?_e1687.width/_e1687.height:_e1687.height/_e1687.width;_t2348.push({page:o,pageURL:_e1687.url,previewURL:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=110"),previewWidth:"h"===_i1420?110:Math.floor(110*_s821),previewHeight:"w"===_i1420?110:Math.floor(110*_s821),provider:"pexels",license:{displayName:"Pexels license",url:"https://www.pexels.com/license/"},user:{label:"Uploader",displayName:_e1687.photographer,profileURL:_e1687.photographer_url},sources:{180:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=180"),340:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=340"),640:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=640"),960:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=960"),1280:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=1280"),1920:"".concat(_e1687.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1420,"=1920")}});}}catch(err){_iterator1549.e(err);}finally{_iterator1549.f();}s(_t2348);}case 17:case"end":return _context203.stop();}}},_callee201,null,[[4,13]]);}));return function(_x324,_x325){return _ref195.apply(this,arguments);};}());}},{key:"j_",value:function j_(t,e,i,s,n,o,l){var _this923=this;return new Promise(/*#__PURE__*/function(){var _ref198=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee202(a,h){var r,d,c,p,u,x,_t2349,_iterator1550,_step1550,_e1688;return regeneratorRuntime.wrap(function _callee202$(_context204){while(1){switch(_context204.prev=_context204.next){case 0:r=l?l.page+1:1,d={q:encodeURIComponent(t),response_group:"high_resolution",per_page:Ag,page:r,editors_choice:""===t||s,order:n,orientation:e,image_type:"photo",safesearch:o,key:"7905818-d06eb7dad844f6efdf1932a90"};"all"!==i&&(d.category=i);c="https://pixabay.com/api/?"+Eg(d).map(function(_ref199){var _ref200=_slicedToArray(_ref199,2),t=_ref200[0],e=_ref200[1];return"".concat(t,"=").concat(e);}).join("&");_context204.next=5;return _this923.B_(c);case 5:p=_context204.sent;u=null;x=null;if(!p){_context204.next=12;break;}u=p;_context204.next=25;break;case 12:_context204.prev=12;_context204.next=15;return fetch(c,{mode:"cors"});case 15:u=_context204.sent;_context204.next=18;return u.json();case 18:u=_context204.sent;_context204.next=24;break;case 21:_context204.prev=21;_context204.t0=_context204["catch"](12);u=null,x=_context204.t0;case 24:x||_this923.R_(c,u);case 25:if(x)h(x);else{_t2349=[];_iterator1550=_createForOfIteratorHelper(u.hits);try{for(_iterator1550.s();!(_step1550=_iterator1550.n()).done;){_e1688=_step1550.value;_t2349.push({page:r,pageURL:_e1688.pageURL,previewURL:_e1688.previewURL,previewWidth:_e1688.previewWidth,previewHeight:_e1688.previewHeight,provider:"pixabay",license:{displayName:"Pixabay License",url:"https://pixabay.com/service/terms/#license"},user:{label:"Uploader",displayName:_e1688.user,profileURL:"https://pixabay.com/users/".concat(_e1688.user,"-").concat(_e1688.user_id)},sources:{180:_e1688.webformatURL.replace("_640","_180"),340:_e1688.webformatURL.replace("_640","_340"),640:_e1688.webformatURL,960:_e1688.webformatURL.replace("_640","_960"),1280:_e1688.largeImageURL,1920:_e1688.fullHDURL}});}}catch(err){_iterator1550.e(err);}finally{_iterator1550.f();}a(_t2349);}case 26:case"end":return _context204.stop();}}},_callee202,null,[[12,21]]);}));return function(_x326,_x327){return _ref198.apply(this,arguments);};}());}},{key:"V_",value:function V_(t,e,i,s){var _this924=this;return new Promise(/*#__PURE__*/function(){var _ref201=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee203(n,o){var l,a,h,r,d,_t2350,_iterator1551,_step1551,_e1689,_i1421,_s822,_n541;return regeneratorRuntime.wrap(function _callee203$(_context205){while(1){switch(_context205.prev=_context205.next){case 0:""===t&&(t="hd");l=s?s.page+1:1,a={query:encodeURIComponent(t),page:l,per_page:Ag,order_by:"relevant",content_filter:i?"high":"low"};"all"!==e&&(a.orientation="vertical"===e?"portrait":"landscape");h="https://api.unsplash.com/search/photos?"+Eg(a).map(function(_ref202){var _ref203=_slicedToArray(_ref202,2),t=_ref203[0],e=_ref203[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context205.prev=4;_context205.next=7;return _this924.Js.callCloudFunction("sendUnsplashApiRequest",h);case 7:r=_context205.sent;r=r.data;_context205.next=14;break;case 11:_context205.prev=11;_context205.t0=_context205["catch"](4);r=null,d=_context205.t0;case 14:if(d)o(d);else{_t2350=[];_iterator1551=_createForOfIteratorHelper(r.results);try{for(_iterator1551.s();!(_step1551=_iterator1551.n()).done;){_e1689=_step1551.value;_i1421=_e1689.width>=_e1689.height?"w":"h",_s822=_e1689.width>=_e1689.height?_e1689.width/_e1689.height:_e1689.height/_e1689.width,_n541=new URL(_e1689.urls.regular);_n541.searchParams["delete"]("w"),_n541.searchParams["delete"]("h"),_t2350.push({page:l,pageURL:_e1689.links.html+"?utm_source=Boxy+SVG&utm_medium=referral",previewURL:zg(_n541.href,_i1421,"110"),previewWidth:"h"===_i1421?110:Math.floor(110*_s822),previewHeight:"w"===_i1421?110:Math.floor(110*_s822),provider:"unsplash",license:{displayName:"Unsplash License",url:"https://unsplash.com/license"},downloadURL:_e1689.links.download_location,user:{label:"Uploader",displayName:_e1689.user.name,profileURL:_e1689.user.links.html+"?utm_source=Boxy+SVG&utm_medium=referral"},sources:{180:zg(_n541.href,_i1421,"180"),340:zg(_n541.href,_i1421,"340"),640:zg(_n541.href,_i1421,"640"),960:zg(_n541.href,_i1421,"960"),1280:zg(_n541.href,_i1421,"1280"),1920:zg(_n541.href,_i1421,"1920")}});}}catch(err){_iterator1551.e(err);}finally{_iterator1551.f();}n(_t2350);}case 15:case"end":return _context205.stop();}}},_callee203,null,[[4,11]]);}));return function(_x328,_x329){return _ref201.apply(this,arguments);};}());}},{key:"H_",value:function H_(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref204=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee204(s,n){var o,l,a,h,r,d,_t2351,_i1422,_Object$values,_e1690,_i1423;return regeneratorRuntime.wrap(function _callee204$(_context206){while(1){switch(_context206.prev=_context206.next){case 0:o="";o=""===t?'deepcat:"Featured pictures on Wikimedia Commons" filetype:bitmap':!0===e?"".concat(t," deepcat:\"Featured pictures on Wikimedia Commons\" filetype:bitmap"):"".concat(t," filetype:bitmap");l=i?i.page+1:0,a={generator:"search",gsrnamespace:"6",gsrsearch:encodeURIComponent(o),gsroffset:l*Ag,gsrlimit:Ag,action:"query",prop:"imageinfo",iiurlwidth:110,iiprop:"url|size|user|userid|mime|extmetadata",iiextmetadatafilter:"LicenceShortName|UsageTerms|LicenseUrl|AttributionRequired",extmetadata:1,gimlimit:Ag,format:"json",origin:"*"},h="https://commons.wikimedia.org/w/api.php?"+Eg(a).map(function(_ref205){var _ref206=_slicedToArray(_ref205,2),t=_ref206[0],e=_ref206[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context206.prev=3;_context206.next=6;return fetch(h);case 6:r=_context206.sent;_context206.next=9;return r.json();case 9:r=_context206.sent;_context206.next=15;break;case 12:_context206.prev=12;_context206.t0=_context206["catch"](3);r=null,d=_context206.t0;case 15:if(d)n(d);else if(r.error)n({message:r.error.info,code:r.error.code});else{_t2351=[];if(r.query)for(_i1422=0,_Object$values=Object.values(r.query.pages);_i1422<_Object$values.length;_i1422++){_e1690=_Object$values[_i1422];if(_e1690.imageinfo){_i1423=_e1690.imageinfo[0];["image/png","image/jpeg","image/webp"].includes(_i1423.mime)&&_t2351.push({page:l,pageURL:_i1423.descriptionurl,previewURL:_i1423.thumburl,previewWidth:_i1423.thumbwidth,previewHeight:_i1423.thumbheight,provider:"wikimedia",license:{displayName:_i1423.extmetadata.UsageTerms?_i1423.extmetadata.UsageTerms.value:"Wikimedia License",url:_i1423.extmetadata.LicenseUrl?_i1423.extmetadata.LicenseUrl.value:_i1423.descriptionurl+"#Licensing"},user:{label:"Uploader",displayName:_i1423.user,profileURL:"https://commons.wikimedia.org/wiki/User:"+_i1423.user},sources:{180:_i1423.url,340:_i1423.url,640:_i1423.url,960:_i1423.url,1280:_i1423.url,1920:_i1423.url}});}}s(_t2351);}case 16:case"end":return _context206.stop();}}},_callee204,null,[[3,12]]);}));return function(_x330,_x331){return _ref204.apply(this,arguments);};}());}},{key:"Zm",value:function(){var _Zm3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee205(){var _t2352;return regeneratorRuntime.wrap(function _callee205$(_context207){while(1){switch(_context207.prev=_context207.next){case 0:this.i_=!1,this.s_=!0,this.Vv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2352=0;case 2:if(!(_t2352<50&&!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context207.next=15;break;}_context207.prev=3;_context207.next=6;return this.x_();case 6:_context207.next=12;break;case 8:_context207.prev=8;_context207.t0=_context207["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context207.t0.message);return _context207.abrupt("break",15);case 12:_t2352+=1;_context207.next=2;break;case 15:case"end":return _context207.stop();}}},_callee205,this,[[3,8]]);}));function Zm(){return _Zm3.apply(this,arguments);}return Zm;}()},{key:"x_",value:function x_(){var _this925=this;return new Promise(/*#__PURE__*/function(){var _ref207=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee206(t,e){var i,s,n,o,_t2353,_t2354,_e1691,_s823,_l379,_a278,_t2355,_e1692,_t2356,_t2357,_iterator1552,_step1552,_e1693,_i1424;return regeneratorRuntime.wrap(function _callee206$(_context208){while(1){switch(_context208.prev=_context208.next){case 0:_this925.i_=!0;i=null,s=null,n=_this925["#search-input"].value.trim(),o=_this925["#items"].lastElementChild?_this925["#items"].lastElementChild[Tg]:null;_context208.prev=2;if(!("pexels"===_this925["#provider-select"].value)){_context208.next=10;break;}_t2353=_this925.Js.getConfig("bx-pexelsbitmapslibrarysearchsettings:orientation","all");_context208.next=7;return _this925.N_(n,_t2353,o);case 7:i=_context208.sent;_context208.next=29;break;case 10:if(!("pixabay"===_this925["#provider-select"].value)){_context208.next=17;break;}_t2354=_this925.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:sort","popular"),_e1691=_this925.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:orientation","all"),_s823=_this925.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:category","all"),_l379=_this925.Js.getConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",!1),_a278="bx-macapp"===_this925.Js.localName;_context208.next=14;return _this925.j_(n,_e1691,_s823,_l379,_t2354,_a278,o);case 14:i=_context208.sent;_context208.next=29;break;case 17:if(!("unsplash"===_this925["#provider-select"].value)){_context208.next=24;break;}_t2355=_this925.Js.getConfig("bx-unsplashbitmapslibrarysearchsettings:orientation","all"),_e1692="bx-macapp"===_this925.Js.localName;_context208.next=21;return _this925.V_(n,_t2355,_e1692,o);case 21:i=_context208.sent;_context208.next=29;break;case 24:if(!("wikimedia"===_this925["#provider-select"].value)){_context208.next=29;break;}_t2356=_this925.Js.getConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",!1);_context208.next=28;return _this925.H_(n,_t2356,o);case 28:i=_context208.sent;case 29:_context208.next=34;break;case 31:_context208.prev=31;_context208.t0=_context208["catch"](2);s=_context208.t0;case 34:if(s)_this925["#throbber"].hidden=!0,_this925.i_=!1,e(s);else{if(i.length>0){_t2357=document.createDocumentFragment();_iterator1552=_createForOfIteratorHelper(i);try{for(_iterator1552.s();!(_step1552=_iterator1552.n()).done;){_e1693=_step1552.value;_i1424=_this925.$v(_e1693);_t2357.append(_i1424);}}catch(err){_iterator1552.e(err);}finally{_iterator1552.f();}_this925["#items"].append(_t2357),_this925["#throbber"].hidden=!0;}else _this925.s_=!1,_this925["#throbber"].hidden=!0,0===_this925["#items"].childElementCount&&(_this925["#placeholder"].hidden=!1,_this925["#placeholder"].textContent="No bitmaps found");_this925.i_=!1,t();}case 35:case"end":return _context208.stop();}}},_callee206,null,[[2,31]]);}));return function(_x332,_x333){return _ref207.apply(this,arguments);};}());}},{key:"p_",value:function p_(){var t=this.Js.getConfig("bx-bitmapslibrarybrowser:provider","pixabay");this["#unsplash-menu-item"].hidden="bx-webapp"!==this.Js.localName,this["#provider-select"].value=t;}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1694=t[Tg];if(_e1694.user){var _e1694$user=_e1694.user,_t2358=_e1694$user.label,_i1425=_e1694$user.profileURL,_s824=_e1694$user.displayName;this["#meta-user-label"].textContent=_t2358,this["#meta-user-value"].innerHTML="<a href=\"".concat(_i1425,"\" target=\"_blank\">").concat(_s824,"</a>");}_e1694.license?(this["#meta-license"].hidden=!1,this["#meta-license-anchor"].textContent=_e1694.license.displayName,this["#meta-license-anchor"].href=_e1694.license.url):this["#meta-license"].hidden=!0,this["#meta-provider-anchor"].href=_e1694.pageURL,"pexels"===_e1694.provider?this["#meta-provider-label"].textContent="View on Pexels":"pixabay"===_e1694.provider?this["#meta-provider-label"].textContent="View on Pixabay":"unsplash"===_e1694.provider?this["#meta-provider-label"].textContent="View on Unsplash":"wikimedia"===_e1694.provider&&(this["#meta-provider-label"].textContent="View on Wikimedia");}}},{key:"u_",value:function u_(){var t=this["#provider-select"].value;"pexels"===t?this["#settings-popover"].innerHTML="<bx-pexelsbitmapslibrarysearchsettings/>":"pixabay"===t?this["#settings-popover"].innerHTML="<bx-pixabaybitmapslibrarysearchsettings/>":"unsplash"===t?this["#settings-popover"].innerHTML="<bx-unsplashbitmapslibrarysearchsettings/>":"wikimedia"===t&&(this["#settings-popover"].innerHTML="<bx-wikimediabitmapslibrarysearchsettings/>");}}]);return $g;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($g,"observedAttributes",["enabled"]);_defineProperty($g,"_shadowTemplate",Ki(_templateObject474()));_defineProperty($g,"_shadowStyleSheet",Qi(_templateObject475()));customElements.define("bx-bitmapslibrarybrowser",$g);var Ig=/*#__PURE__*/function(_xg7){_inherits(Ig,_xg7);var _super204=_createSuper(Ig);function Ig(){var _this926;_classCallCheck(this,Ig);_this926=_super204.call(this),_this926["#scope-buttons"].addEventListener("toggle",function(){return _this926.W_();});return _this926;}_createClass(Ig,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Ig.prototype),"connectedCallback",this).call(this),this["#scope-buttons"].value=this.Js.getConfig("bx-cloudvectorslibrarysearchsettings:scope","org");}},{key:"W_",value:function W_(){this.Js.setConfig("bx-cloudvectorslibrarysearchsettings:scope",this["#scope-buttons"].value);}}]);return Ig;}(xg);_defineProperty(Ig,"_shadowTemplate",Ki(_templateObject476()));_defineProperty(Ig,"_shadowStyleSheet",Qi(_templateObject477()));customElements.define("bx-cloudvectorslibrarysearchsettings",Ig);var Lg=/*#__PURE__*/function(_xg8){_inherits(Lg,_xg8);var _super205=_createSuper(Lg);function Lg(){var _this927;_classCallCheck(this,Lg);_this927=_super205.call(this),_this927["#sort-buttons"].addEventListener("toggle",function(){return _this927.I_();}),_this927["#orientation-select"].addEventListener("change",function(){return _this927.A_();}),_this927["#category-select"].addEventListener("change",function(){return _this927.S_();}),_this927["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this927.L_();});return _this927;}_createClass(Lg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Lg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:sort","popular"),e=this.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:orientation","all"),i=this.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:category","all"),s=this.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",!1);this["#sort-buttons"].value=t,this["#orientation-select"].value=e,this["#category-select"].value=i,this["#editors-choice-checkbox"].toggled=s;}},{key:"I_",value:function I_(){var t=this["#sort-buttons"].value;this.Js.setConfig("bx-pixabayvectorslibrarysearchsettings:sort",t);}},{key:"A_",value:function A_(){var t=this["#orientation-select"].value;this.Js.setConfig("bx-pixabayvectorslibrarysearchsettings:orientation",t);}},{key:"S_",value:function S_(){var t=this["#category-select"].value;this.Js.setConfig("bx-pixabayvectorslibrarysearchsettings:category",t);}},{key:"L_",value:function L_(){var t=this["#editors-choice-checkbox"].toggled;this.Js.setConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",t);}}]);return Lg;}(xg);_defineProperty(Lg,"_shadowTemplate",Ki(_templateObject478()));_defineProperty(Lg,"_shadowStyleSheet",Qi(_templateObject479()));customElements.define("bx-pixabayvectorslibrarysearchsettings",Lg);var Bg=/*#__PURE__*/function(_xg9){_inherits(Bg,_xg9);var _super206=_createSuper(Bg);function Bg(){var _this928;_classCallCheck(this,Bg);_this928=_super206.call(this),_this928["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this928.L_();});return _this928;}_createClass(Bg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Bg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",!1);this["#editors-choice-checkbox"].toggled=t;}},{key:"L_",value:function L_(){var t=this["#editors-choice-checkbox"].toggled;this.Js.setConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",t);}}]);return Bg;}(xg);_defineProperty(Bg,"_shadowTemplate",Ki(_templateObject480()));customElements.define("bx-wikimediavectorslibrarysearchsettings",Bg);var Rg=/*#__PURE__*/function(_xg10){_inherits(Rg,_xg10);var _super207=_createSuper(Rg);function Rg(){var _this929;_classCallCheck(this,Rg);_this929=_super207.call(this),_this929["#variant-select"].addEventListener("change",function(){return _this929.Y_();});return _this929;}_createClass(Rg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Rg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-fluenticonsvectorslibrarysearchsettings:variant","regular");this["#variant-select"].value=t;}},{key:"Y_",value:function Y_(){var t=this["#variant-select"].value;this.Js.setConfig("bx-fluenticonsvectorslibrarysearchsettings:variant",t);}}]);return Rg;}(xg);_defineProperty(Rg,"_shadowTemplate",Ki(_templateObject481()));_defineProperty(Rg,"_shadowStyleSheet",Qi(_templateObject482()));customElements.define("bx-fluenticonsvectorslibrarysearchsettings",Rg);var Gg=/*#__PURE__*/function(_xg11){_inherits(Gg,_xg11);var _super208=_createSuper(Gg);function Gg(){var _this930;_classCallCheck(this,Gg);_this930=_super208.call(this),_this930["#variant-select"].addEventListener("change",function(){return _this930.Y_();}),_this930["#category-select"].addEventListener("change",function(){return _this930.S_();});return _this930;}_createClass(Gg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Gg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-materialiconsvectorslibrarysearchsettings:variant","filled"),e=this.Js.getConfig("bx-materialiconsvectorslibrarysearchsettings:category","all");this["#variant-select"].value=t,this["#category-select"].value=e;}},{key:"Y_",value:function Y_(){this.Js.setConfig("bx-materialiconsvectorslibrarysearchsettings:variant",this["#variant-select"].value);}},{key:"S_",value:function S_(){this.Js.setConfig("bx-materialiconsvectorslibrarysearchsettings:category",this["#category-select"].value);}}]);return Gg;}(xg);_defineProperty(Gg,"_shadowTemplate",Ki(_templateObject483()));_defineProperty(Gg,"_shadowStyleSheet",Qi(_templateObject484()));customElements.define("bx-materialiconsvectorslibrarysearchsettings",Gg);var Ug=/*#__PURE__*/function(_xg12){_inherits(Ug,_xg12);var _super209=_createSuper(Ug);function Ug(){var _this931;_classCallCheck(this,Ug);_this931=_super209.call(this),_this931["#variant-select"].addEventListener("change",function(){return _this931.Y_();}),_this931["#category-select"].addEventListener("change",function(){return _this931.S_();});return _this931;}_createClass(Ug,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Ug.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-remixiconsvectorslibrarysearchsettings:variant","filled"),e=this.Js.getConfig("bx-remixiconsvectorslibrarysearchsettings:category","all");this["#variant-select"].value=t,this["#category-select"].value=e;}},{key:"Y_",value:function Y_(){this.Js.setConfig("bx-remixiconsvectorslibrarysearchsettings:variant",this["#variant-select"].value);}},{key:"S_",value:function S_(){this.Js.setConfig("bx-remixiconsvectorslibrarysearchsettings:category",this["#category-select"].value);}}]);return Ug;}(xg);_defineProperty(Ug,"_shadowTemplate",Ki(_templateObject485()));_defineProperty(Ug,"_shadowStyleSheet",Qi(_templateObject486()));customElements.define("bx-remixiconsvectorslibrarysearchsettings",Ug);var Fg=/*#__PURE__*/function(_xg13){_inherits(Fg,_xg13);var _super210=_createSuper(Fg);function Fg(){var _this932;_classCallCheck(this,Fg);_this932=_super210.call(this),_this932["#category-select"].addEventListener("change",function(){return _this932.S_();}),_this932["#skin-tone-select"].addEventListener("change",function(){return _this932.q_();});return _this932;}_createClass(Fg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Fg.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-googleemojisvectorslibrarysearchsettings:category","all"),e=this.Js.getConfig("bx-googleemojisvectorslibrarysearchsettings:skinTone","all");this["#category-select"].value=t,this["#skin-tone-select"].value=e;}},{key:"S_",value:function S_(){this.Js.setConfig("bx-googleemojisvectorslibrarysearchsettings:category",this["#category-select"].value);}},{key:"q_",value:function q_(){this.Js.setConfig("bx-googleemojisvectorslibrarysearchsettings:skinTone",this["#skin-tone-select"].value);}}]);return Fg;}(xg);_defineProperty(Fg,"_shadowTemplate",Ki(_templateObject487()));_defineProperty(Fg,"_shadowStyleSheet",Qi(_templateObject488()));customElements.define("bx-googleemojisvectorslibrarysearchsettings",Fg);var Ng=/*#__PURE__*/function(_xg14){_inherits(Ng,_xg14);var _super211=_createSuper(Ng);function Ng(){var _this933;_classCallCheck(this,Ng);_this933=_super211.call(this),_this933["#category-select"].addEventListener("change",function(){return _this933.S_();}),_this933["#skin-tone-select"].addEventListener("change",function(){return _this933.q_();});return _this933;}_createClass(Ng,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Ng.prototype),"connectedCallback",this).call(this);var t=this.Js.getConfig("bx-twitteremojisvectorslibrarysearchsettings:category","all"),e=this.Js.getConfig("bx-twitteremojisvectorslibrarysearchsettings:skinTone","all");this["#category-select"].value=t,this["#skin-tone-select"].value=e;}},{key:"S_",value:function S_(){this.Js.setConfig("bx-twitteremojisvectorslibrarysearchsettings:category",this["#category-select"].value);}},{key:"q_",value:function q_(){this.Js.setConfig("bx-twitteremojisvectorslibrarysearchsettings:skinTone",this["#skin-tone-select"].value);}}]);return Ng;}(xg);_defineProperty(Ng,"_shadowTemplate",Ki(_templateObject489()));_defineProperty(Ng,"_shadowStyleSheet",Qi(_templateObject490()));customElements.define("bx-twitteremojisvectorslibrarysearchsettings",Ng);var jg=function jg(t){var e="",i="string"==typeof t.detail?"".concat(t.code," / ").concat(t.detail):"".concat(t.code);return e=t.message&&t.message.toLowerCase()!==t.code?"".concat(t.message," (").concat(i,")"):"Server error, please try again later. (".concat(i,")"),e;},Vg=function Vg(t){return t.startsWith("/")&&(t=t.substring(1)),"https://firebasestorage.googleapis.com/v0/b/boxy-svg.appspot.com/o/".concat(encodeURIComponent(t),"?alt=media");},Hg=function Hg(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=0;e>=100?s=.3:e>=30?s=.2:e>=10&&(s=.1);var n=J((t===i?99.99:9.99)*(1-s),2);return[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"code"}).format(e*n).replace("USD\xa0",""),0===s?"None":100*s+"%"];},Wg=function Wg(t,i){var s=null,n=!1,o=!1;return t&&(void 0!==t.subscriptionPlanID&&(null===t.cancellationEffectiveDate||new Date(t.cancellationEffectiveDate)-Date.now()>0)&&(s=t.subscriptionPlanID),void 0!==t.subscriptionPlanID&&"deleted"!==t.status||void 0!==t.orgPlanID&&(null===t.orgCancellationEffectiveDate||new Date(t.orgCancellationEffectiveDate)-Date.now()>0)&&(s=t.orgPlanID,n=!0)),null===s&&i&&(Date.now()-new Date(i.metadata.creationTime).getTime())/1e3/60/60/24<15&&(s=e,o=!0),[s,n,o];},Yg=Math.abs,qg=Object.entries,Xg=Symbol(),Zg=20;var Kg=/*#__PURE__*/function(_HTMLElement134){_inherits(Kg,_HTMLElement134);var _super212=_createSuper(Kg);_createClass(Kg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Kg(){var _this934;_classCallCheck(this,Kg);_this934=_super212.call(this),_this934.e_=!1,_this934.i_=!1,_this934.s_=!1,_this934.Vv=0,_this934.n_=es(_this934.n_,600,_assertThisInitialized(_this934)),_this934.o_={},_this934.jo=new Dexie("bx-vectorslibrarybrowser"),_this934.jo.version(1).stores({pixabayCache:"requestURL,time"}),_this934._shadowRoot=_this934.attachShadow({mode:"closed"}),_this934._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Kg._shadowStyleSheet],_this934._shadowRoot.append(document.importNode(Kg._shadowTemplate.content,!0));var _iterator1553=_createForOfIteratorHelper(_this934._shadowRoot.querySelectorAll("[id]")),_step1553;try{for(_iterator1553.s();!(_step1553=_iterator1553.n()).done;){var _t2359=_step1553.value;_this934["#"+_t2359.id]=_t2359;}}catch(err){_iterator1553.e(err);}finally{_iterator1553.f();}_this934["#provider-select"].addEventListener("change",function(){return _this934.l_();}),_this934["#main"].addEventListener("scroll",function(){return _this934.a_();}),_this934["#items"].addEventListener("pointerdown",function(t){return _this934.op(t);}),_this934["#items"].addEventListener("click",function(t){return _this934.lp(t);}),_this934["#items"].addEventListener("contextmenu",function(t){return _this934.ap(t);}),_this934["#items"].addEventListener("keydown",function(t){return _this934.hp(t);}),_this934["#meta-add-to-defs-button"].addEventListener("click",function(){return _this934.h_();}),_this934["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this934.r_();}),_this934["#search-input"].addEventListener("input",function(){return _this934.n_();});return _this934;}_createClass(Kg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),"bx-chromeapp"!==this.Js.localName){var _iterator1554=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1554;try{for(_iterator1554.s();!(_step1554=_iterator1554.n()).done;){var _t2360=_step1554.value;_t2360.setAttribute("rel","noopener");}}catch(err){_iterator1554.e(err);}finally{_iterator1554.f();}}this["#main"].scrollTop=this.Vv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"B_",value:function B_(t){var _this935=this;return new Promise(/*#__PURE__*/function(){var _ref208=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee207(e){var i,s;return regeneratorRuntime.wrap(function _callee207$(_context209){while(1){switch(_context209.prev=_context209.next){case 0:_context209.next=2;return _this935.jo.pixabayCache.get(t);case 2:i=_context209.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context209.stop();}}},_callee207);}));return function(_x334){return _ref208.apply(this,arguments);};}());}},{key:"R_",value:function R_(t,e){this.jo.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"G_",value:function G_(){var _this936=this;return new Promise(/*#__PURE__*/function(){var _ref209=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee208(t){var e;return regeneratorRuntime.wrap(function _callee208$(_context210){while(1){switch(_context210.prev=_context210.next){case 0:_context210.next=2;return _this936.jo.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context210.sent;e>0&&console.log("Deleted ".concat(e," cached responses.")),t();case 4:case"end":return _context210.stop();}}},_callee208);}));return function(_x335){return _ref209.apply(this,arguments);};}());}},{key:"en",value:function(){var _en3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee209(){var _this937=this;return regeneratorRuntime.wrap(function _callee209$(_context211){while(1){switch(_context211.prev=_context211.next){case 0:window.addEventListener("resize",this.nn=function(){_this937.d_();});this.Js.addEventListener("configchange",this.ln=function(t){_this937.an(t);});this.Js.addEventListener("userchange",this.X_=function(){_this937.Z_();});this.tn.primaryPanelsDock.addEventListener("resize",this.c_=function(){_this937.d_();});_context211.t0=!1===this.e_;if(!_context211.t0){_context211.next=12;break;}this.e_=!0;this.G_();_context211.next=10;return this.p_();case 10:this.u_();this.Zm();case 12:!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ss(10).then(function(){return _this937["#main"].scrollTop=_this937.Vv;}));case 13:case"end":return _context211.stop();}}},_callee209,this);}));function en(){return _en3.apply(this,arguments);}return en;}()},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Js.removeEventListener("configchange",this.ln),this.Js.removeEventListener("userchange",this.X_),this.tn.primaryPanelsDock.removeEventListener("resize",this.c_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail22=t.detail,e=_t$detail22.key,i=_t$detail22.value,s=this["#provider-select"].value;"cloud"===s?e.startsWith("bx-cloudvectorslibrarysearchsettings")&&this.Zm():"pixabay"===s?e.startsWith("bx-pixabayvectorslibrarysearchsettings")&&this.Zm():"wikimedia"===s?e.startsWith("bx-wikimediavectorslibrarysearchsettings")&&this.Zm():"fluent-icons"===s?e.startsWith("bx-fluenticonsvectorslibrarysearchsettings")&&this.Zm():"material-icons"===s?e.startsWith("bx-materialiconsvectorslibrarysearchsettings")&&this.Zm():"remix-icons"===s?e.startsWith("bx-remixiconsvectorslibrarysearchsettings")&&this.Zm():"google-emojis"===s?e.startsWith("bx-googleemojisvectorslibrarysearchsettings")&&this.Zm():"twitter-emojis"===s&&e.startsWith("bx-twitteremojisvectorslibrarysearchsettings")&&this.Zm();}},{key:"Z_",value:function(){var _Z_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee210(){return regeneratorRuntime.wrap(function _callee210$(_context212){while(1){switch(_context212.prev=_context212.next){case 0:_context212.next=2;return this.p_();case 2:this.u_();this.Zm();case 4:case"end":return _context212.stop();}}},_callee210,this);}));function Z_(){return _Z_.apply(this,arguments);}return Z_;}()},{key:"d_",value:function d_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.x_();}},{key:"l_",value:function l_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Js.setConfig("bx-vectorslibrarybrowser:provider",this["#provider-select"].value),this.K_=null,this.Zm(),this.u_();}},{key:"a_",value:function a_(){this.Vv=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.i_&&!0===this.s_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.x_();}},{key:"op",value:function op(t){var _this938=this;if(t.target.matches(".item")){var _e1695=t.target;if("touch"!==t.pointerType&&this.b_(_e1695),0===t.button){var _i1427,_s826,_n543,_o509=new DOMPoint(t.clientX,t.clientY);_e1695.setPointerCapture(t.pointerId),_e1695.addEventListener("pointermove",_i1427=function _i1426(l){var a=new DOMPoint(l.clientX,l.clientY);Ee(_o509,a)>=5&&(_e1695.removeEventListener("pointermove",_i1427),_e1695.removeEventListener("pointerup",_s826),_e1695.removeEventListener("pointercancel",_n543),_this938.Sv(_e1695,t));}),_e1695.addEventListener("pointerup",_s826=function _s825(){_e1695.removeEventListener("pointermove",_i1427),_e1695.removeEventListener("pointerup",_s826),_e1695.removeEventListener("pointercancel",_n543);}),_e1695.addEventListener("pointercancel",_n543=function _n542(){_e1695.removeEventListener("pointermove",_i1427),_e1695.removeEventListener("pointerup",_s826),_e1695.removeEventListener("pointercancel",_n543);});}}}},{key:"Sv",value:function Sv(t,e){var _this939=this;var i,s,n,o=this.tn.board,l=t.querySelector("img"),a=l.getBoundingClientRect(),h=t[Xg],r=this.U_(l.src,a),d=this.F_(h);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Yg(i)/150,n>3&&(n=3)),r.style.top=a.y+s+"px",r.style.left=a.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s827){function s(){return _s827.apply(this,arguments);}s.toString=function(){return _s827.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref210=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee211(e){var _t2361,_e1696,_i1428,_s828,_t2362;return regeneratorRuntime.wrap(function _callee211$(_context213){while(1){switch(_context213.prev=_context213.next){case 0:if(!(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY))){_context213.next=17;break;}_t2361=r.getBoundingClientRect();_context213.next=4;return d;case 4:_e1696=_context213.sent;if(!(null===_e1696)){_context213.next=12;break;}r.remove();_context213.next=9;return ss(100);case 9:_this939.Js.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context213.next=15;break;case 12:o.undoManager.checkpoint("Add vectors from library");_i1428=Zh(_e1696),_s828=o.insertArtworkIntoBBox(_i1428,_t2361);o.selectedElements=[_s828],o.selectedTextRange=null,r.remove();case 15:_context213.next=26;break;case 17:if(!_this939.Js.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context213.next=25;break;}r.remove();_context213.next=21;return d;case 21:_t2362=_context213.sent;_this939.Js.openEditorTabWithArtworkFromLibrary(_t2362);_context213.next=26;break;case 25:r.remove();case 26:case"end":return _context213.stop();}}},_callee211);}));return function n(_x336){return _ref210.apply(this,arguments);};}());}},{key:"lp",value:function lp(t){var e=t.target.closest(".item");e&&(this.b_(e),2===t.detail&&this.Ev(e));}},{key:"ap",value:function(){var _ap12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee212(t){var e;return regeneratorRuntime.wrap(function _callee212$(_context214){while(1){switch(_context214.prev=_context214.next){case 0:e=t.target.closest(".item");_context214.t0=e;if(!_context214.t0){_context214.next=8;break;}t.preventDefault();this.b_(e);_context214.next=7;return ss(150);case 7:this.Ev(e);case 8:case"end":return _context214.stop();}}},_callee212,this);}));function ap(_x337){return _ap12.apply(this,arguments);}return ap;}()},{key:"hp",value:function hp(t){var e=Ja.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s829=i.getBoundingClientRect();if(e.matches("Enter"))this.Ev(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s829.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.b_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s829.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.b_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1697=i.nextElementSibling;_e1697;_e1697=_e1697.nextElementSibling){if(_s829.left===_e1697.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.b_(_e1697);break;}}}else if(e.matches("ArrowUp"))for(var _e1698=i.previousElementSibling;_e1698;_e1698=_e1698.previousElementSibling){if(_s829.left===_e1698.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.b_(_e1698);break;}}}}},{key:"h_",value:function(){var _h_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee213(){var t,e,i,_e1699,_s830,_i1429,_arr76,_t2363;return regeneratorRuntime.wrap(function _callee213$(_context215){while(1){switch(_context215.prev=_context215.next){case 0:t=this.tn.board;e=this["#items"].querySelector(".item[data-selected]")[Xg];_context215.next=4;return this.F_(e);case 4:i=_context215.sent;if(null===i)this.Js.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});else{t.undoManager.checkpoint("Add vectors from library");_e1699=Zh(i),_s830=$i("svg:symbol");_s830.setAttribute("viewBox",_e1699.getAttribute("viewBox"));for(_i1429=0,_arr76=_toConsumableArray(_e1699.children);_i1429<_arr76.length;_i1429++){_t2363=_arr76[_i1429];_s830.append(_t2363);}_s830.setAttribute("id",t.generateUniqueID("symbol-",_s830)),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s830),this.tn.togglePrimaryPanel("defs-panel"),this.tn.defsPanel.toggleBrowser("symbols-browser"),this.tn.defsPanel.symbolsBrowser.selectSymbols([_s830.id]);}case 6:case"end":return _context215.stop();}}},_callee213,this);}));function h_(){return _h_.apply(this,arguments);}return h_;}()},{key:"r_",value:function(){var _r_4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee214(){var t,e,i,s,n,o,l,_yield$Promise$all3,_yield$Promise$all4,a,_t2364,_e1700,_i1430;return regeneratorRuntime.wrap(function _callee214$(_context216){while(1){switch(_context216.prev=_context216.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[Xg],i=this.tn.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#meta-popover"].close();o=this.U_(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context216.next=7;return Promise.all([this.F_(e),l.finished]);case 7:_yield$Promise$all3=_context216.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,1);a=_yield$Promise$all4[0];if(null===a)this.Js.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();else{this.tn.board.undoManager.checkpoint("Add vectors from library");_t2364=o.getBoundingClientRect(),_e1700=Zh(a),_i1430=this.tn.board.insertArtworkIntoBBox(_e1700,_t2364);this.tn.board.selectedElements=[_i1430],this.tn.board.selectedTextRange=null,o.remove();}case 11:case"end":return _context216.stop();}}},_callee214,this);}));function r_(){return _r_4.apply(this,arguments);}return r_;}()},{key:"n_",value:function n_(){this.Zm();}},{key:"b_",value:function b_(t){{var _e1701=this["#items"].querySelector(":scope > .item[data-selected]");_e1701!==t&&(_e1701&&_e1701.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"Ev",value:function Ev(t){this.w_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"$v",value:function $v(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight,n=t.provider;if(i>110){var _t2365=i/s;i=110,s=i/_t2365;}if(s>90){var _t2366=i/s;s=90,i=s*_t2366;}var l=Ki(_templateObject90(),i,s,o);return l[Xg]=t,"cloud"===n||"bx-chromeapp"===this.Js.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee215(){var t,_e1702,_i1431;return regeneratorRuntime.wrap(function _callee215$(_context217){while(1){switch(_context217.prev=_context217.next){case 0:_context217.prev=0;_context217.next=3;return fetch(e,{mode:"cors"});case 3:t=_context217.sent;_context217.next=14;break;case 6:_context217.prev=6;_context217.t0=_context217["catch"](0);console.log("Retrying",_context217.t0);_context217.next=11;return ss(2e3);case 11:_context217.next=13;return fetch(e,{mode:"cors"});case 13:t=_context217.sent;case 14:if(!t){_context217.next=22;break;}_context217.next=17;return t.blob();case 17:_e1702=_context217.sent;_context217.next=20;return hr(_e1702);case 20:_i1431=_context217.sent;l.querySelector("img").setAttribute("src",_i1431);case 22:case"end":return _context217.stop();}}},_callee215,null,[[0,6]]);}))():l.querySelector("img").setAttribute("src",e),l;}},{key:"U_",value:function U_(t,e){var i=Ki(_templateObject91());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"F_",value:function F_(t){return new Promise(/*#__PURE__*/function(){var _ref212=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee216(e,i){var s,_e1703,_e1704,_t2367;return regeneratorRuntime.wrap(function _callee216$(_context218){while(1){switch(_context218.prev=_context218.next){case 0:s=null;_context218.prev=1;if(!t.sources.svg){_context218.next=13;break;}_context218.next=5;return fetch(t.sources.svg,{mode:"cors"});case 5:_e1703=_context218.sent;_context218.t0=_e1703.ok;if(!_context218.t0){_context218.next=11;break;}_context218.next=10;return _e1703.text();case 10:s=_context218.sent;case 11:_context218.next=24;break;case 13:if(!t.sources.ai){_context218.next=24;break;}_context218.next=16;return fetch(t.sources.ai,{mode:"cors"});case 16:_e1704=_context218.sent;if(!_e1704.ok){_context218.next=24;break;}_context218.next=20;return _e1704.arrayBuffer();case 20:_t2367=_context218.sent;_context218.next=23;return Bm(_t2367);case 23:s=_context218.sent;case 24:_context218.next=29;break;case 26:_context218.prev=26;_context218.t1=_context218["catch"](1);console.log(_context218.t1);case 29:e(s);case 30:case"end":return _context218.stop();}}},_callee216,null,[[1,26]]);}));return function(_x338,_x339){return _ref212.apply(this,arguments);};}());}},{key:"Q_",value:function Q_(t,e){var _this940=this;return new Promise(/*#__PURE__*/function(){var _ref213=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee217(i,s){var n,o,_t2368,_t2369,_iterator1555,_step1555,_i1432,_iterator1556,_step1556,_t2370;return regeneratorRuntime.wrap(function _callee217$(_context219){while(1){switch(_context219.prev=_context219.next){case 0:n=[],o=[];if(_this940.K_){_context219.next=6;break;}_context219.next=4;return app.callCloudFunction("getSharedArtworks",_this940.Js.user.uid);case 4:_t2368=_context219.sent.data;_this940.K_=_t2368;case 6:if(e){_t2369=!1;_iterator1555=_createForOfIteratorHelper(_this940.K_);try{for(_iterator1555.s();!(_step1555=_iterator1555.n()).done;){_i1432=_step1555.value;_t2369?n.push(_i1432):_i1432.artworkUID===e.artworkUID&&(_t2369=!0);}}catch(err){_iterator1555.e(err);}finally{_iterator1555.f();}}else n=_toConsumableArray(_this940.K_);""!==t&&(n=n.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase());}));_iterator1556=_createForOfIteratorHelper(n);try{for(_iterator1556.s();!(_step1556=_iterator1556.n()).done;){_t2370=_step1556.value;o.push({pageURL:"https://boxy-svg.com/app/".concat(_t2370.artworkUID),previewURL:Vg("/artworks/".concat(_t2370.artworkUID,".png")),previewWidth:90,previewHeight:90,provider:"cloud",artworkUID:_t2370.artworkUID,license:null,user:{label:"Author",displayName:_t2370.authorName,profileURL:"https://boxy-svg.com/profiles/".concat(_t2370.authorUID,"/").concat(pi(_t2370.authorName))},sources:{svg:Vg("/artworks/".concat(_t2370.artworkUID,".svg")),ai:null},meta:{name:_t2370.name}});}}catch(err){_iterator1556.e(err);}finally{_iterator1556.f();}i(o);case 11:case"end":return _context219.stop();}}},_callee217);}));return function(_x340,_x341){return _ref213.apply(this,arguments);};}());}},{key:"j_",value:function j_(t,e,i,s,n,o,l){var _this941=this;return new Promise(/*#__PURE__*/function(){var _ref214=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee218(a,h){var r,d,c,p,u,x,_t2371,_iterator1557,_step1557,_e1705;return regeneratorRuntime.wrap(function _callee218$(_context220){while(1){switch(_context220.prev=_context220.next){case 0:r=l?l.page+1:1,d={q:encodeURIComponent(t),response_group:"high_resolution",per_page:Zg,page:r,editors_choice:""===t||s,order:n,orientation:e,image_type:"vector",safesearch:o,key:"7905818-d06eb7dad844f6efdf1932a90"};"all"!==i&&(d.category=i);c="https://pixabay.com/api/?"+qg(d).map(function(_ref215){var _ref216=_slicedToArray(_ref215,2),t=_ref216[0],e=_ref216[1];return"".concat(t,"=").concat(e);}).join("&");_context220.next=5;return _this941.B_(c);case 5:p=_context220.sent;u=null;x=null;if(!p){_context220.next=12;break;}u=p;_context220.next=25;break;case 12:_context220.prev=12;_context220.next=15;return fetch(c,{mode:"cors"});case 15:u=_context220.sent;_context220.next=18;return u.json();case 18:u=_context220.sent;_context220.next=24;break;case 21:_context220.prev=21;_context220.t0=_context220["catch"](12);u=null,x=_context220.t0;case 24:x||_this941.R_(c,u);case 25:if(x)h(x);else{_t2371=[];_iterator1557=_createForOfIteratorHelper(u.hits);try{for(_iterator1557.s();!(_step1557=_iterator1557.n()).done;){_e1705=_step1557.value;_t2371.push({page:r,pageURL:_e1705.pageURL,previewURL:_e1705.previewURL,previewWidth:_e1705.previewWidth,previewHeight:_e1705.previewHeight,provider:"pixabay",license:{displayName:"Pixabay License",url:"https://pixabay.com/service/terms/#license"},user:{label:"Uploader",displayName:_e1705.user,profileURL:"https://pixabay.com/users/".concat(_e1705.user,"-").concat(_e1705.user_id)},sources:{svg:"vector/svg"===_e1705.type?_e1705.vectorURL:null,ai:"vector/ai"===_e1705.type?_e1705.vectorURL:null}});}}catch(err){_iterator1557.e(err);}finally{_iterator1557.f();}a(_t2371);}case 26:case"end":return _context220.stop();}}},_callee218,null,[[12,21]]);}));return function(_x342,_x343){return _ref214.apply(this,arguments);};}());}},{key:"H_",value:function H_(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref217=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee219(s,n){var o,l,a,h,r,d,_t2372,_i1433,_Object$values2,_e1706,_i1434;return regeneratorRuntime.wrap(function _callee219$(_context221){while(1){switch(_context221.prev=_context221.next){case 0:o=i?i.page+1:0,l="";l=""===t?'deepcat:"Quality images - vector" filetype:drawing':!0===e?"".concat(t," deepcat:\"Quality images - vector\" filetype:drawing"):"".concat(t," filetype:drawing");a={generator:"search",gsrnamespace:"6",gsrsearch:encodeURIComponent(l),gsroffset:o*Zg,gsrlimit:Zg,action:"query",prop:"imageinfo",iiurlwidth:110,iiprop:"url|size|user|userid|mime|extmetadata",iiextmetadatafilter:"LicenceShortName|UsageTerms|LicenseUrl|AttributionRequired",extmetadata:1,gimlimit:Zg,format:"json",origin:"*"},h="https://commons.wikimedia.org/w/api.php?"+qg(a).map(function(_ref218){var _ref219=_slicedToArray(_ref218,2),t=_ref219[0],e=_ref219[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context221.prev=3;_context221.next=6;return fetch(h);case 6:r=_context221.sent;_context221.next=9;return r.json();case 9:r=_context221.sent;_context221.next=15;break;case 12:_context221.prev=12;_context221.t0=_context221["catch"](3);r=null,d=_context221.t0;case 15:if(d)n(d);else if(r.error)n({message:r.error.info,code:r.error.code});else{_t2372=[];if(r.query)for(_i1433=0,_Object$values2=Object.values(r.query.pages);_i1433<_Object$values2.length;_i1433++){_e1706=_Object$values2[_i1433];if(_e1706.imageinfo){_i1434=_e1706.imageinfo[0];"image/svg+xml"===_i1434.mime&&_t2372.push({page:o,pageURL:_i1434.descriptionurl,previewURL:_i1434.thumburl,previewWidth:_i1434.thumbwidth,previewHeight:_i1434.thumbheight,provider:"wikimedia",license:{displayName:_i1434.extmetadata.UsageTerms?_i1434.extmetadata.UsageTerms.value:"Wikimedia License",url:_i1434.extmetadata.LicenseUrl?_i1434.extmetadata.LicenseUrl.value:_i1434.descriptionurl+"#Licensing"},user:{label:"Uploader",displayName:_i1434.user,profileURL:"https://commons.wikimedia.org/wiki/User:"+_i1434.user},sources:{svg:_i1434.url,ai:null}});}}s(_t2372);}case 16:case"end":return _context221.stop();}}},_callee219,null,[[3,12]]);}));return function(_x344,_x345){return _ref217.apply(this,arguments);};}());}},{key:"J_",value:function J_(t,e,i){var _this942=this;return new Promise(/*#__PURE__*/function(){var _ref220=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee220(s,n){var o,l,a,_iterator1558,_step1558,_t2373,_e1707;return regeneratorRuntime.wrap(function _callee220$(_context222){while(1){switch(_context222.prev=_context222.next){case 0:_this942.o_.fluentIcons||(_this942.o_.fluentIcons=algolia.initIndex("fluentIcons"));o=i?i.page+1:0;_context222.next=4;return _this942.o_.fluentIcons.search(t,{filters:"all"===e?"":"(variant:\"".concat(e,"\")"),page:o,hitsPerPage:Zg});case 4:l=_context222.sent;a=[];_iterator1558=_createForOfIteratorHelper(l.hits);_context222.prev=7;_iterator1558.s();case 9:if((_step1558=_iterator1558.n()).done){_context222.next=17;break;}_t2373=_step1558.value;_context222.next=13;return hr(new Blob([_t2373.source],{type:"image/svg+xml"}));case 13:_e1707=_context222.sent;a.push({page:o,pageURL:"https://github.com/microsoft/fluentui-system-icons/tree/master/assets/".concat(encodeURIComponent(_t2373.name),"/SVG"),previewURL:_e1707,previewWidth:90,previewHeight:90,provider:"fluent-icons",license:{displayName:"MIT License",url:"https://github.com/microsoft/fluentui-system-icons/blob/master/LICENSE"},user:{label:"Author",displayName:"Microsoft",profileURL:"https://opensource.microsoft.com/"},sources:{svg:_e1707,ai:null},meta:{name:_t2373.name,category:_t2373.category,variant:_t2373.variant}});case 15:_context222.next=9;break;case 17:_context222.next=22;break;case 19:_context222.prev=19;_context222.t0=_context222["catch"](7);_iterator1558.e(_context222.t0);case 22:_context222.prev=22;_iterator1558.f();return _context222.finish(22);case 25:s(a);case 26:case"end":return _context222.stop();}}},_callee220,null,[[7,19,22,25]]);}));return function(_x346,_x347){return _ref220.apply(this,arguments);};}());}},{key:"tM",value:function tM(t,e,i,s){var _this943=this;return new Promise(/*#__PURE__*/function(){var _ref221=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee221(n,o){var l,a,h,r,_iterator1559,_step1559,_t2374,_e1708;return regeneratorRuntime.wrap(function _callee221$(_context223){while(1){switch(_context223.prev=_context223.next){case 0:_this943.o_.materialIcons||(_this943.o_.materialIcons=algolia.initIndex("materialIcons"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(variant:\"".concat(e,"\")")),"all"!==i&&a.push("(category:\"".concat(i,"\")"));_context223.next=5;return _this943.o_.materialIcons.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Zg});case 5:h=_context223.sent;r=[];_iterator1559=_createForOfIteratorHelper(h.hits);_context223.prev=8;_iterator1559.s();case 10:if((_step1559=_iterator1559.n()).done){_context223.next=18;break;}_t2374=_step1559.value;_context223.next=14;return hr(new Blob([_t2374.source],{type:"image/svg+xml"}));case 14:_e1708=_context223.sent;r.push({page:l,pageURL:"https://fonts.google.com/icons?selected=".concat(_t2374.objectID),previewURL:_e1708,previewWidth:90,previewHeight:90,provider:"material-icons",license:{displayName:"Apache License 2.0",url:"https://www.apache.org/licenses/LICENSE-2.0.html"},user:{label:"Author",displayName:"Google",profileURL:"https://opensource.google/"},sources:{svg:_e1708,ai:null},meta:{name:_t2374.name,category:_t2374.category,variant:_t2374.variant}});case 16:_context223.next=10;break;case 18:_context223.next=23;break;case 20:_context223.prev=20;_context223.t0=_context223["catch"](8);_iterator1559.e(_context223.t0);case 23:_context223.prev=23;_iterator1559.f();return _context223.finish(23);case 26:n(r);case 27:case"end":return _context223.stop();}}},_callee221,null,[[8,20,23,26]]);}));return function(_x348,_x349){return _ref221.apply(this,arguments);};}());}},{key:"eM",value:function eM(t,e,i,s){var _this944=this;return new Promise(/*#__PURE__*/function(){var _ref222=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee222(n,o){var l,a,h,r,_iterator1560,_step1560,_t2375,_e1709;return regeneratorRuntime.wrap(function _callee222$(_context224){while(1){switch(_context224.prev=_context224.next){case 0:_this944.o_.remixIcons||(_this944.o_.remixIcons=algolia.initIndex("remixIcons"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(variant:\"".concat(e,"\")")),"all"!==i&&a.push("(category:\"".concat(i,"\")"));_context224.next=5;return _this944.o_.remixIcons.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Zg});case 5:h=_context224.sent;r=[];_iterator1560=_createForOfIteratorHelper(h.hits);_context224.prev=8;_iterator1560.s();case 10:if((_step1560=_iterator1560.n()).done){_context224.next=18;break;}_t2375=_step1560.value;_context224.next=14;return hr(new Blob([_t2375.source],{type:"image/svg+xml"}));case 14:_e1709=_context224.sent;r.push({page:l,pageURL:"https://github.com/Remix-Design/RemixIcon/blob/master/icons/".concat(ai(_t2375.category),"/").concat(_t2375.objectID,".svg"),previewURL:_e1709,previewWidth:90,previewHeight:90,provider:"remix-icons",license:{displayName:"Apache License 2.0",url:"https://www.apache.org/licenses/LICENSE-2.0.html"},user:{label:"Author",displayName:"Remix Design Studio",profileURL:"http://remixdesign.cn/"},sources:{svg:_e1709,ai:null},meta:{name:_t2375.name,category:_t2375.category,variant:_t2375.variant}});case 16:_context224.next=10;break;case 18:_context224.next=23;break;case 20:_context224.prev=20;_context224.t0=_context224["catch"](8);_iterator1560.e(_context224.t0);case 23:_context224.prev=23;_iterator1560.f();return _context224.finish(23);case 26:n(r);case 27:case"end":return _context224.stop();}}},_callee222,null,[[8,20,23,26]]);}));return function(_x350,_x351){return _ref222.apply(this,arguments);};}());}},{key:"iM",value:function iM(t,e,i,s){var _this945=this;return new Promise(/*#__PURE__*/function(){var _ref223=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee223(n,o){var l,a,h,r,_iterator1561,_step1561,_t2376,_e1710,_i1435,_s831,_n544;return regeneratorRuntime.wrap(function _callee223$(_context225){while(1){switch(_context225.prev=_context225.next){case 0:_this945.o_.googleEmojis||(_this945.o_.googleEmojis=algolia.initIndex("googleEmojis"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(category:\"".concat(e,"\")")),"all"!==i&&a.push("(skinTone:\"".concat(i,"\" OR skinTone:\"none\")"));_context225.next=5;return _this945.o_.googleEmojis.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Zg});case 5:h=_context225.sent;r=[];_iterator1561=_createForOfIteratorHelper(h.hits);_context225.prev=8;_iterator1561.s();case 10:if((_step1561=_iterator1561.n()).done){_context225.next=21;break;}_t2376=_step1561.value;_e1710=atob(_t2376.source).split("").map(function(t){return t.charCodeAt(0);});_i1435=new Uint8Array(_e1710);_s831=pako.inflate(_i1435);_context225.next=17;return hr(new Blob([_s831],{type:"image/svg+xml"}));case 17:_n544=_context225.sent;r.push({page:l,pageURL:"https://github.com/googlefonts/noto-emoji/blob/main/svg/emoji_u".concat(_t2376.objectID,".svg"),previewURL:_n544,previewWidth:90,previewHeight:90,provider:"google-emojis",license:{displayName:"Apache License 2.0",url:"https://www.apache.org/licenses/LICENSE-2.0.html"},user:{label:"Author",displayName:"Google",profileURL:"https://opensource.google/"},sources:{svg:_n544,ai:null},meta:{name:_t2376.name,category:_t2376.category,skinTone:_t2376.skinTone}});case 19:_context225.next=10;break;case 21:_context225.next=26;break;case 23:_context225.prev=23;_context225.t0=_context225["catch"](8);_iterator1561.e(_context225.t0);case 26:_context225.prev=26;_iterator1561.f();return _context225.finish(26);case 29:n(r);case 30:case"end":return _context225.stop();}}},_callee223,null,[[8,23,26,29]]);}));return function(_x352,_x353){return _ref223.apply(this,arguments);};}());}},{key:"sM",value:function sM(t,e,i,s){var _this946=this;return new Promise(/*#__PURE__*/function(){var _ref224=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee224(n,o){var l,a,h,r,_iterator1562,_step1562,_t2377,_e1711,_i1436,_s832,_n545;return regeneratorRuntime.wrap(function _callee224$(_context226){while(1){switch(_context226.prev=_context226.next){case 0:_this946.o_.twitterEmojis||(_this946.o_.twitterEmojis=algolia.initIndex("twitterEmojis"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(category:\"".concat(e,"\")")),"all"!==i&&a.push("(skinTone:\"".concat(i,"\" OR skinTone:\"none\")"));_context226.next=5;return _this946.o_.twitterEmojis.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:Zg});case 5:h=_context226.sent;r=[];_iterator1562=_createForOfIteratorHelper(h.hits);_context226.prev=8;_iterator1562.s();case 10:if((_step1562=_iterator1562.n()).done){_context226.next=21;break;}_t2377=_step1562.value;_e1711=atob(_t2377.source).split("").map(function(t){return t.charCodeAt(0);});_i1436=new Uint8Array(_e1711);_s832=pako.inflate(_i1436);_context226.next=17;return hr(new Blob([_s832],{type:"image/svg+xml"}));case 17:_n545=_context226.sent;r.push({page:l,pageURL:"https://github.com/twitter/twemoji/blob/master/assets/svg/".concat(_t2377.objectID,".svg"),previewURL:_n545,previewWidth:90,previewHeight:90,provider:"twitter-emojis",license:{displayName:"CC-BY 4.0",url:"https://creativecommons.org/licenses/by/4.0/"},user:{label:"Author",displayName:"Twitter",profileURL:"https://twemoji.twitter.com/"},sources:{svg:_n545,ai:null},meta:{name:_t2377.name,category:_t2377.category,skinTone:_t2377.skinTone}});case 19:_context226.next=10;break;case 21:_context226.next=26;break;case 23:_context226.prev=23;_context226.t0=_context226["catch"](8);_iterator1562.e(_context226.t0);case 26:_context226.prev=26;_iterator1562.f();return _context226.finish(26);case 29:n(r);case 30:case"end":return _context226.stop();}}},_callee224,null,[[8,23,26,29]]);}));return function(_x354,_x355){return _ref224.apply(this,arguments);};}());}},{key:"Zm",value:function(){var _Zm4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee225(){var _t2378;return regeneratorRuntime.wrap(function _callee225$(_context227){while(1){switch(_context227.prev=_context227.next){case 0:this.i_=!1,this.s_=!0,this.Vv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2378=0;case 2:if(!(_t2378<50&&!1===this.i_&&!0===this.s_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context227.next=15;break;}_context227.prev=3;_context227.next=6;return this.x_();case 6:_context227.next=12;break;case 8:_context227.prev=8;_context227.t0=_context227["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context227.t0.message);return _context227.abrupt("break",15);case 12:_t2378+=1;_context227.next=2;break;case 15:case"end":return _context227.stop();}}},_callee225,this,[[3,8]]);}));function Zm(){return _Zm4.apply(this,arguments);}return Zm;}()},{key:"x_",value:function x_(){var _this947=this;return new Promise(/*#__PURE__*/function(){var _ref225=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee226(t,e){var i,s,n,o,_t2379,_e1712,_s833,_l380,_a279,_t2380,_t2381,_t2382,_e1713,_t2383,_e1714,_t2384,_e1715,_t2385,_e1716,_t2386,_iterator1563,_step1563,_e1717,_i1437;return regeneratorRuntime.wrap(function _callee226$(_context228){while(1){switch(_context228.prev=_context228.next){case 0:_this947.i_=!0;i=null,s=null,n=_this947["#search-input"].value.trim(),o=_this947["#items"].lastElementChild?_this947["#items"].lastElementChild[Xg]:null;_context228.prev=2;if(!("cloud"===_this947["#provider-select"].value)){_context228.next=9;break;}_context228.next=6;return _this947.Q_(n,o);case 6:i=_context228.sent;_context228.next=56;break;case 9:if(!("pixabay"===_this947["#provider-select"].value)){_context228.next=16;break;}_t2379=_this947.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:orientation","all"),_e1712=_this947.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:category","all"),_s833=_this947.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",!1),_l380=_this947.Js.getConfig("bx-pixabayvectorslibrarysearchsettings:sort","popular"),_a279="bx-macapp"===_this947.Js.localName;_context228.next=13;return _this947.j_(n,_t2379,_e1712,_s833,_l380,_a279,o);case 13:i=_context228.sent;_context228.next=56;break;case 16:if(!("wikimedia"===_this947["#provider-select"].value)){_context228.next=23;break;}_t2380=_this947.Js.getConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",!1);_context228.next=20;return _this947.H_(n,_t2380,o);case 20:i=_context228.sent;_context228.next=56;break;case 23:if(!("fluent-icons"===_this947["#provider-select"].value)){_context228.next=30;break;}_t2381=_this947.Js.getConfig("bx-fluenticonsvectorslibrarysearchsettings:variant","regular");_context228.next=27;return _this947.J_(n,_t2381,o);case 27:i=_context228.sent;_context228.next=56;break;case 30:if(!("material-icons"===_this947["#provider-select"].value)){_context228.next=37;break;}_t2382=_this947.Js.getConfig("bx-materialiconsvectorslibrarysearchsettings:variant","filled"),_e1713=_this947.Js.getConfig("bx-materialiconsvectorslibrarysearchsettings:category","all");_context228.next=34;return _this947.tM(n,_t2382,_e1713,o);case 34:i=_context228.sent;_context228.next=56;break;case 37:if(!("remix-icons"===_this947["#provider-select"].value)){_context228.next=44;break;}_t2383=_this947.Js.getConfig("bx-remixiconsvectorslibrarysearchsettings:variant","filled"),_e1714=_this947.Js.getConfig("bx-remixiconsvectorslibrarysearchsettings:category","all");_context228.next=41;return _this947.eM(n,_t2383,_e1714,o);case 41:i=_context228.sent;_context228.next=56;break;case 44:if(!("google-emojis"===_this947["#provider-select"].value)){_context228.next=51;break;}_t2384=_this947.Js.getConfig("bx-googleemojisvectorslibrarysearchsettings:category","all"),_e1715=_this947.Js.getConfig("bx-googleemojisvectorslibrarysearchsettings:skinTone","all");_context228.next=48;return _this947.iM(n,_t2384,_e1715,o);case 48:i=_context228.sent;_context228.next=56;break;case 51:if(!("twitter-emojis"===_this947["#provider-select"].value)){_context228.next=56;break;}_t2385=_this947.Js.getConfig("bx-twitteremojisvectorslibrarysearchsettings:category","all"),_e1716=_this947.Js.getConfig("bx-twitteremojisvectorslibrarysearchsettings:skinTone","all");_context228.next=55;return _this947.sM(n,_t2385,_e1716,o);case 55:i=_context228.sent;case 56:_context228.next=61;break;case 58:_context228.prev=58;_context228.t0=_context228["catch"](2);s=_context228.t0;case 61:if(s)_this947["#throbber"].hidden=!0,_this947.i_=!1,e(s);else{if(i.length>0){_t2386=document.createDocumentFragment();_iterator1563=_createForOfIteratorHelper(i);try{for(_iterator1563.s();!(_step1563=_iterator1563.n()).done;){_e1717=_step1563.value;_i1437=_this947.$v(_e1717);_t2386.append(_i1437);}}catch(err){_iterator1563.e(err);}finally{_iterator1563.f();}_this947["#items"].append(_t2386),_this947["#throbber"].hidden=!0;}else _this947.s_=!1,_this947["#throbber"].hidden=!0,0===_this947["#items"].childElementCount&&(_this947["#placeholder"].hidden=!1,_this947["#placeholder"].textContent="No vectors found");_this947.i_=!1,t();}case 62:case"end":return _context228.stop();}}},_callee226,null,[[2,58]]);}));return function(_x356,_x357){return _ref225.apply(this,arguments);};}());}},{key:"p_",value:function p_(){var _this948=this;return new Promise(/*#__PURE__*/function(){var _ref226=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee227(t){var e,n,_Wg,_Wg2,_t2387;return regeneratorRuntime.wrap(function _callee227$(_context229){while(1){switch(_context229.prev=_context229.next){case 0:_context229.next=2;return _this948.Js.whenAuthReady;case 2:e=_this948.Js.getConfig("bx-vectorslibrarybrowser:provider","pixabay"),n=!1;if("bx-webapp"===_this948.Js.localName&&_this948.Js.userProfile){_Wg=Wg(_this948.Js.userSubscription,_this948.Js.user),_Wg2=_slicedToArray(_Wg,1),_t2387=_Wg2[0];n=_t2387===i||_t2387===s;}"cloud"===e&&!1===n&&(e="pixabay"),_this948["#provider-select"].value=e,_this948["#cloud-provider-select-item"].hidden=!1===n,_this948["#cloud-provider-select-separator"].hidden=!1===n,t();case 5:case"end":return _context229.stop();}}},_callee227);}));return function(_x358){return _ref226.apply(this,arguments);};}());}},{key:"w_",value:function w_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1718=t[Xg];if(_e1718.user){var _e1718$user=_e1718.user,_t2388=_e1718$user.label,_i1438=_e1718$user.profileURL,_s834=_e1718$user.displayName;this["#meta-user-label"].textContent=_t2388,this["#meta-user-value"].innerHTML="<a href=\"".concat(_i1438,"\" target=\"_blank\">").concat(_s834,"</a>");}_e1718.license?(this["#meta-license"].hidden=!1,this["#meta-license-anchor"].textContent=_e1718.license.displayName,this["#meta-license-anchor"].href=_e1718.license.url):this["#meta-license"].hidden=!0,this["#meta-provider-anchor"].href=_e1718.pageURL,"cloud"===_e1718.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1718.meta.name,this["#meta-provider-label"].textContent="Open with Boxy SVG",this["#meta-add-to-defs-button"].hidden=!0):"pixabay"===_e1718.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="View on Pixabay",this["#meta-add-to-defs-button"].hidden=!0):"wikimedia"===_e1718.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="View on Wikimedia",this["#meta-add-to-defs-button"].hidden=!0):"fluent-icons"===_e1718.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1718.meta.name,this["#meta-provider-label"].textContent="View on GitHub",this["#meta-add-to-defs-button"].hidden=!1):"material-icons"===_e1718.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1718.meta.name,this["#meta-provider-label"].textContent="View on Google",this["#meta-add-to-defs-button"].hidden=!1):("remix-icons"===_e1718.provider||"google-emojis"===_e1718.provider||"twitter-emojis"===_e1718.provider)&&(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1718.meta.name,this["#meta-provider-label"].textContent="View on GitHub",this["#meta-add-to-defs-button"].hidden=!1);}}},{key:"u_",value:function u_(){var t=this["#provider-select"].value;"cloud"===t?(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="<bx-cloudvectorslibrarysearchsettings/>"):"pixabay"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-pixabayvectorslibrarysearchsettings/>"):"wikimedia"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-wikimediavectorslibrarysearchsettings/>"):"fluent-icons"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-fluenticonsvectorslibrarysearchsettings/>"):"material-icons"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-materialiconsvectorslibrarysearchsettings/>"):"remix-icons"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-remixiconsvectorslibrarysearchsettings/>"):"google-emojis"===t?(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-googleemojisvectorslibrarysearchsettings/>"):"twitter-emojis"===t&&(this["#settings-button"].hidden=!1,this["#settings-popover"].innerHTML="<bx-twitteremojisvectorslibrarysearchsettings/>");}}]);return Kg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kg,"observedAttributes",["enabled"]);_defineProperty(Kg,"_shadowTemplate",Ki(_templateObject491()));_defineProperty(Kg,"_shadowStyleSheet",Qi(_templateObject492()));customElements.define("bx-vectorslibrarybrowser",Kg);var Qg=/*#__PURE__*/function(_HTMLElement135){_inherits(Qg,_HTMLElement135);var _super213=_createSuper(Qg);_createClass(Qg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Qg(){var _this949;_classCallCheck(this,Qg);_this949=_super213.call(this),_this949._shadowRoot=_this949.attachShadow({mode:"closed"}),_this949._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Qg._shadowStyleSheet],_this949._shadowRoot.append(document.importNode(Qg._shadowTemplate.content,!0));var _iterator1564=_createForOfIteratorHelper(_this949._shadowRoot.querySelectorAll("[id]")),_step1564;try{for(_iterator1564.s();!(_step1564=_iterator1564.n()).done;){var _t2389=_step1564.value;_this949["#"+_t2389.id]=_t2389;}}catch(err){_iterator1564.e(err);}finally{_iterator1564.f();}_this949["#buttons"].addEventListener("toggle",function(){return _this949.toggleBrowser(_this949["#buttons"].value);});return _this949;}_createClass(Qg,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var t=this.Js.getConfig("bx-librarypanel:currentBrowserID","bitmaps-library-browser");!1===_toConsumableArray(this["#main"].children).map(function(t){return t.id;}).includes(t)&&(t="colors-library-browser"),this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1565=_createForOfIteratorHelper(this["#main"].children),_step1565;try{for(_iterator1565.s();!(_step1565=_iterator1565.n()).done;){var _e1719=_step1565.value;null!==t&&_e1719.id===t?_e1719.enabled=!0:_e1719.enabled=!1;}}catch(err){_iterator1565.e(err);}finally{_iterator1565.f();}null!==t&&this.Js.setConfig("bx-librarypanel:currentBrowserID",t);}}]);return Qg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qg,"observedAttributes",["enabled"]);_defineProperty(Qg,"_shadowTemplate",Ki(_templateObject493()));_defineProperty(Qg,"_shadowStyleSheet",Qi(_templateObject494()));customElements.define("bx-librarypanel",Qg);var Jg=/*#__PURE__*/function(_HTMLElement136){_inherits(Jg,_HTMLElement136);var _super214=_createSuper(Jg);function Jg(){var _this950;_classCallCheck(this,Jg);_this950=_super214.call(this);var t=_this950.constructor.nM,e=_this950.constructor.oM;_this950._shadowRoot=_this950.attachShadow({mode:"closed"}),_this950._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Jg._shadowStyleSheet,_this950.constructor._shadowStyleSheet],_this950._shadowRoot.append(document.importNode(Jg._shadowTemplate.content,!0)),t&&_this950._shadowRoot.querySelector("#main").append(document.importNode(t.content,!0)),e&&_this950._shadowRoot.querySelector("#footer").append(document.importNode(e.content,!0));var _iterator1566=_createForOfIteratorHelper(_this950._shadowRoot.querySelectorAll("[id]")),_step1566;try{for(_iterator1566.s();!(_step1566=_iterator1566.n()).done;){var _t2390=_step1566.value;_this950["#"+_t2390.id]=_t2390;}}catch(err){_iterator1566.e(err);}finally{_iterator1566.f();}_this950.setAttribute("extends","bx-generator"),_this950.setAttribute("tabindex","0");return _this950;}return Jg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jg,"_shadowTemplate",Ki(_templateObject495()));_defineProperty(Jg,"_shadowStyleSheet",Qi(_templateObject496()));var tf=function tf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(function(i,s){var n=document.createElement("script");e&&(n.type="module"),n.src=t,n.onload=function(){i(),n.remove();},n.onerror=function(){s(new Error("Failed to lazy load script with URL "+t)),n.remove();},document.documentElement.appendChild(n);});},ef={CODE128:"Test value",CODE39:"TEST VALUE",EAN2:"00",EAN5:"00000",EAN8:"0000000",EAN13:"000000000000",UPC:"00000000000",MSI:"0000",MSI10:"0000",MSI11:"0000",MSI1010:"0000",MSI1110:"0000",codabar:"0000",pharmacode:"1000",ITF14:"0000000000000"};var sf=/*#__PURE__*/function(_Jg){_inherits(sf,_Jg);var _super215=_createSuper(sf);function sf(){var _this951;_classCallCheck(this,sf);_this951=_super215.call(this),_this951["#format-select"].addEventListener("change",function(){return _this951.Ex();}),_this951["#value-input"].addEventListener("input",function(){return _this951.lM();}),_this951["#label-switch"].addEventListener("toggle",function(){return _this951.aM();}),_this951["#label-position-buttons"].addEventListener("toggle",function(){return _this951.hM();}),_this951["#generate-button"].addEventListener("click",function(){return _this951.rM();});return _this951;}_createClass(sf,[{key:"connectedCallback",value:function(){var _connectedCallback4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee228(){var t,e,i;return regeneratorRuntime.wrap(function _callee228$(_context230){while(1){switch(_context230.prev=_context230.next){case 0:this.Js=Ri(this,"#app");this.tn=Ri(this,"bx-editor");_context230.t0=window.JsBarcode;if(_context230.t0){_context230.next=6;break;}_context230.next=6;return tf("/node_modules/jsbarcode/dist/JsBarcode.all.min.js");case 6:t=this.Js.getConfig("bx-barcodegenerator:format","CODE128"),e=this.Js.getConfig("bx-barcodegenerator:showLabel",!0),i=this.Js.getConfig("bx-barcodegenerator:labelPosition","center");this["#format-select"].value=t,this["#value-input"].value=ef[t],this["#label-switch"].toggled=e,this["#label-position-buttons"].value=i,this.Xs();case 8:case"end":return _context230.stop();}}},_callee228,this);}));function connectedCallback(){return _connectedCallback4.apply(this,arguments);}return connectedCallback;}()},{key:"Ex",value:function Ex(){var t=this["#format-select"].value;this["#value-input"].value=ef[t],this.Js.setConfig("bx-barcodegenerator:format",t),this.Xs();}},{key:"lM",value:function lM(){this.Xs();}},{key:"aM",value:function aM(){this.Js.setConfig("bx-barcodegenerator:showLabel",this["#label-switch"].toggled),this.Xs();}},{key:"hM",value:function hM(){this.Js.setConfig("bx-barcodegenerator:labelPosition",this["#label-position-buttons"].value),this.Xs();}},{key:"rM",value:function rM(){var t=this["#preview"].cloneNode(!0);this.tn.board.undoManager.checkpoint("Generate barcode"),this.tn.board.insertArtwork(t);}},{key:"dM",value:function dM(t,e){var i;return JsBarcode({},e,{format:t,valid:function valid(t){return i=t;}}),i;}},{key:"Xs",value:function Xs(){var t=this["#format-select"].value,e=this["#value-input"].value,i=this.dM(t,e);if(this["#value-input"].error=i?null:"","EAN8"===t||"EAN13"===t||"UPC"===t?!1===this["#label-position-inset-button"].isConnected&&this["#label-position-buttons"].append(this["#label-position-inset-button"]):("inset"===this["#label-position-buttons"].value&&(this["#label-position-buttons"].value="center"),this["#label-position-inset-button"].toggled=!1,this["#label-position-inset-button"].remove()),this["#label-switch"].toggled?(this["#label-position-label"].disabled=!1,this["#label-position-left-button"].disabled=!1,this["#label-position-center-button"].disabled=!1,this["#label-position-right-button"].disabled=!1,this["#label-position-inset-button"].disabled=!1):(this["#label-position-label"].disabled=!0,this["#label-position-left-button"].disabled=!0,this["#label-position-center-button"].disabled=!0,this["#label-position-right-button"].disabled=!0,this["#label-position-inset-button"].disabled=!0),i){var _i1439=this["#label-switch"].toggled?this["#label-position-buttons"].value:"center";if(JsBarcode(this["#preview"],e,{format:t,textAlign:"inset"===_i1439?"center":_i1439,flat:"inset"!==_i1439,displayValue:this["#label-switch"].toggled}),this["#preview"].firstElementChild.remove(),this["#preview"].childElementCount>1){var _t2391=$i("svg:g");for(var _i1440=0,_arr77=_toConsumableArray(this["#preview"].children);_i1440<_arr77.length;_i1440++){var _e1720=_arr77[_i1440];_t2391.append(_e1720);}this["#preview"].append(_t2391);}}else this["#preview"].innerHTML="";this["#generate-button"].disabled=!1===i;}}]);return sf;}(Jg);_defineProperty(sf,"nM",Ki(_templateObject497()));_defineProperty(sf,"oM",Ki(_templateObject498()));_defineProperty(sf,"_shadowStyleSheet",Qi(_templateObject499()));customElements.define("bx-barcodegenerator",sf);var nf=["/node_modules/qrcode-generator/qrcode.js","/node_modules/qrcode-generator/qrcode_SJIS.js"],of={Numeric:"0000",Alphanumeric:"TEST",Byte:"Test",Kanji:"\u30C6\u30B9\u30C8"};var lf=/*#__PURE__*/function(_Jg2){_inherits(lf,_Jg2);var _super216=_createSuper(lf);function lf(){var _this952;_classCallCheck(this,lf);_this952=_super216.call(this),_this952["#mode-select"].addEventListener("change",function(){return _this952.cM();}),_this952["#charset-select"].addEventListener("change",function(){return _this952.pM();}),_this952["#error-correction-buttons"].addEventListener("toggle",function(){return _this952.uM();}),_this952["#value-input"].addEventListener("input",function(){return _this952.lM();}),_this952["#generate-button"].addEventListener("click",function(){return _this952.rM();});return _this952;}_createClass(lf,[{key:"connectedCallback",value:function(){var _connectedCallback5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee229(){var _iterator1567,_step1567,_t2392,t,e,i,s;return regeneratorRuntime.wrap(function _callee229$(_context231){while(1){switch(_context231.prev=_context231.next){case 0:if(!(this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor"),!window.qrcode)){_context231.next=18;break;}_iterator1567=_createForOfIteratorHelper(nf);_context231.prev=2;_iterator1567.s();case 4:if((_step1567=_iterator1567.n()).done){_context231.next=10;break;}_t2392=_step1567.value;_context231.next=8;return tf(_t2392);case 8:_context231.next=4;break;case 10:_context231.next=15;break;case 12:_context231.prev=12;_context231.t0=_context231["catch"](2);_iterator1567.e(_context231.t0);case 15:_context231.prev=15;_iterator1567.f();return _context231.finish(15);case 18:t=this.Js.getConfig("bx-qrcodegenerator:mode","Byte"),e=this.Js.getConfig("bx-qrcodegenerator:charset","default"),i=this.Js.getConfig("bx-qrcodegenerator:errorCorrection","L"),s=of[t];this["#mode-select"].value=t,this["#charset-select"].value=e,this["#error-correction-buttons"].value=i,this["#value-input"].value=s,this.Xs();case 20:case"end":return _context231.stop();}}},_callee229,this,[[2,12,15,18]]);}));function connectedCallback(){return _connectedCallback5.apply(this,arguments);}return connectedCallback;}()},{key:"cM",value:function cM(){var t=this["#mode-select"].value;this["#value-input"].value=of[t],this.Js.setConfig("bx-qrcodegenerator:mode",t),this.Xs();}},{key:"pM",value:function pM(){var t=this["#charset-select"].value;this.Js.setConfig("bx-qrcodegenerator:charset",t),this.Xs();}},{key:"uM",value:function uM(){var t=this["#error-correction-buttons"].value;this.Js.setConfig("bx-qrcodegenerator:errorCorrection",t),this.Xs();}},{key:"lM",value:function lM(){this.Xs();}},{key:"rM",value:function rM(){var t=this["#preview"].cloneNode(!0);this.tn.board.undoManager.checkpoint("Generate QR code"),this.tn.board.insertArtwork(t);}},{key:"xM",value:function xM(t,e,i,s){var n=null,o=0,l=null;qrcode.stringToBytes=qrcode.stringToBytesFuncs[e];try{var _e1721=qrcode(0,i);_e1721.addData(s,t),_e1721.make();var _l381=Ai(_e1721.createSvgTag());n=_l381.querySelector("path"),o=_l381.viewBox.baseVal.width;}catch(t){l="string"==typeof t?t.replace("illegal char :","Illegal char: "):"Invalid value";}return[n,o,l];}},{key:"Xs",value:function Xs(){var t=this["#mode-select"].value,e=this["#charset-select"].value,i=this["#error-correction-buttons"].value,s=this["#value-input"].value,_this$xM=this.xM(t,e,i,s),_this$xM2=_slicedToArray(_this$xM,3),n=_this$xM2[0],o=_this$xM2[1],l=_this$xM2[2];this["#charset-subsection"].hidden="Byte"!==t,this["#value-input"].error=l,this["#preview"].innerHTML="",null===l&&(this["#preview"].append(n),this["#preview"].setAttribute("viewBox","0 0 ".concat(o," ").concat(o))),this["#generate-button"].disabled=null!==l;}}]);return lf;}(Jg);_defineProperty(lf,"nM",Ki(_templateObject500()));_defineProperty(lf,"oM",Ki(_templateObject501()));_defineProperty(lf,"_shadowStyleSheet",Qi(_templateObject502()));customElements.define("bx-qrcodegenerator",lf);var af=Math.sin,hf=Math.cos,rf=Math.abs,df=Math.log,cf=Math.floor,pf=Math.PI,uf=[{color:"#d7392e",seats:54},{color:"#7aaa42",seats:32},{color:"#2470b0",seats:50},{color:"#2f2f2f",seats:36}],xf=["#a62a26","#d7392e","#ec6c42","#f4ad60","#7aaa42","#217eda","#2470b0","#542988","#2f2f2f"];var bf=/*#__PURE__*/function(_Jg3){_inherits(bf,_Jg3);var _super217=_createSuper(bf);function bf(){var _this953;_classCallCheck(this,bf);_this953=_super217.call(this),_this953["#hall-radius-box"].addEventListener("changestart",function(){return _this953.mM();}),_this953["#seat-radius-box"].addEventListener("changestart",function(){return _this953.gM();}),_this953["#parties-box"].addEventListener("changestart",function(t){return _this953.fM(t);}),_this953["#parties-box"].addEventListener("click",function(t){return _this953.wM(t);}),_this953["#add-party-button"].addEventListener("click",function(){return _this953.vM();}),_this953["#generate-button"].addEventListener("click",function(){return _this953.rM();});return _this953;}_createClass(bf,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js.getConfig("bx-parliamentchartgenerator:hallRadius",.3),e=this.Js.getConfig("bx-parliamentchartgenerator:seatRadius",.8),i=this.Js.getConfig("bx-parliamentchartgenerator:parties",uf);this["#hall-radius-slider"].value=J(100*t,2),this["#hall-radius-input"].value=J(100*t,2),this["#seat-radius-slider"].value=J(100*e,2),this["#seat-radius-input"].value=J(100*e,2),this["#parties-box"].innerHTML="";for(var _t2393=0;_t2393<i.length;_t2393+=1){var _i$_t=i[_t2393],_e1722=_i$_t.seats,_s835=_i$_t.color,_n546=document.importNode(bf.bM.content,!0).firstElementChild;this["#parties-box"].append(_n546),_n546.querySelector("x-colorselect").value=_s835,_n546.querySelector("x-numberinput").value=_e1722;}this.Xs();}},{key:"mM",value:function mM(){var _this954=this;var t,_e1723;this["#hall-radius-box"].addEventListener("change",t=function t(_t2394){_t2394.target===_this954["#hall-radius-slider"]?_this954["#hall-radius-input"].value=_this954["#hall-radius-slider"].value:_t2394.target===_this954["#hall-radius-input"]&&(_this954["#hall-radius-slider"].value=_this954["#hall-radius-input"].value),_this954.Xs();}),this["#hall-radius-box"].addEventListener("changeend",_e1723=function e(){_this954["#hall-radius-box"].removeEventListener("change",t),_this954["#hall-radius-box"].removeEventListener("changeend",_e1723),_this954.Js.setConfig("bx-parliamentchartgenerator:hallRadius",_this954["#hall-radius-slider"].value/100);});}},{key:"gM",value:function gM(){var _this955=this;var t,_e1724;this["#seat-radius-box"].addEventListener("change",t=function t(_t2395){_t2395.target===_this955["#seat-radius-slider"]?_this955["#seat-radius-input"].value=_this955["#seat-radius-slider"].value:_t2395.target===_this955["#seat-radius-input"]&&(_this955["#seat-radius-slider"].value=_this955["#seat-radius-input"].value),_this955.Xs();}),this["#seat-radius-box"].addEventListener("changeend",_e1724=function e(){_this955["#seat-radius-box"].removeEventListener("change",t),_this955["#seat-radius-box"].removeEventListener("changeend",_e1724),_this955.Js.setConfig("bx-parliamentchartgenerator:seatRadius",_this955["#seat-radius-slider"].value/100);});}},{key:"fM",value:function fM(t){var _this956=this;var e,i,s=t.target;s.addEventListener("change",e=function e(){_this956.Xs();}),s.addEventListener("changeend",i=function(_i1441){function i(){return _i1441.apply(this,arguments);}i.toString=function(){return _i1441.toString();};return i;}(function(){s.removeEventListener("change",e),s.removeEventListener("changeend",i),_this956.Xs();var t=_toConsumableArray(_this956["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});_this956.Js.setConfig("bx-parliamentchartgenerator:parties",t);}));}},{key:"wM",value:function wM(t){var e=t.target.closest(".delete-button");if(e){e.closest(".party-box").remove();var _t2396=_toConsumableArray(this["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});this.Js.setConfig("bx-parliamentchartgenerator:parties",_t2396),this.Xs();}}},{key:"vM",value:function vM(){var t,e=function(t){var e=t.length;for(;--e;){var _i1442=il(0,1,5),_s836=Math.floor(_i1442*(e+1)),_n547=t[_s836];t[_s836]=t[e],t[e]=_n547;}return t;}([].concat(xf)),i=_toConsumableArray(this["#parties-box"].querySelectorAll("x-colorselect")).map(function(t){return t.value;}),s=document.importNode(bf.bM.content,!0).firstElementChild;do{t=e.pop();}while(e.length>0&&i.includes(t));this["#parties-box"].append(s),s.querySelector("x-colorselect").value=t,this.Xs();}},{key:"rM",value:function rM(){var t=this["#preview"].cloneNode(!0);this.tn.board.undoManager.checkpoint("Parliament chart"),this.tn.board.insertArtwork(t);}},{key:"yM",value:function yM(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;var s=100,n=0,o=0,l=[],a=[],h=[],r=[],d=null,c=this.tn.board.geometryPrecision;var _iterator1568=_createForOfIteratorHelper(t),_step1568;try{for(_iterator1568.s();!(_step1568=_iterator1568.n()).done;){var _e1733=_step1568.value;n+=_e1733.seats;}}catch(err){_iterator1568.e(err);}finally{_iterator1568.f();}var p=function p(t,e,i){return pf*e*i/(t-e)/(1+pf*(e-1)*e/2/(t-e));},u=function u(t,i,s){var n=p(t,i,s)*i/s-(1-e);return rf(n);};{var _t2397=cf(df(n)/df(2))||1,_e1725=u(n,_t2397,s),_i1443=0;for(u(n,_t2397+1,s)<_e1725&&(_i1443=1),u(n,_t2397-1,s)<_e1725&&_t2397>1&&(_i1443=-1);u(n,_t2397+_i1443,s)<_e1725&&_t2397>0;){_e1725=u(n,_t2397+_i1443,s),_t2397+=_i1443;}o=_t2397||1;}var x=p(n,o,s);for(var _t2398=1;_t2398<=o;_t2398+=1){l[_t2398]=s-(_t2398-1)*x;}{var _t2399=0;for(var _e1727 in l){_t2399+=l[_e1727];}var _e1726=_t2399/(n-2),_i1444=_t2399/(n+2),_s837=_t2399/n,_o510={},_h225=0;for(var _t2400 in l){_o510[_t2400]=J(l[_t2400]/_s837,0),_h225+=_o510[_t2400];}for(;_h225!==n;){_h225<n?_e1726=_s837:_h225>n&&(_i1444=_s837),_s837=(_e1726+_i1444)/2,_o510={},_h225=0;for(var _t2401 in l){_o510[_t2401]=J(l[_t2401]/_s837,0),_h225+=_o510[_t2401];}}a=_o510;}{for(var _t2402=1;_t2402<=o;_t2402+=1){var _e1729=[],_n548=s-(_t2402-1)*x,_o511=pf*_n548/(a[_t2402]-1||1);for(var _s838=0;_s838<=a[_t2402]-1;_s838+=1){var _t2403={x:J(_n548*hf(_s838*_o511/_n548-pf),c),y:J(_n548*af(_s838*_o511/_n548-pf),c),r:J(i/2*x,c)};_e1729.push(_t2403);}h.push(_e1729);}var _e1728=Array(h.length).fill(0);for(var _i1445=0;_i1445<t.length;_i1445+=1){var _s839=t[_i1445];for(var _t2404=0;_t2404<_s839.seats;_t2404+=1){var _t2405=void 0,_s840=void 0,_n549=void 0;for(var _t2406 in h){_n549=J((_e1728[_t2406]||0)/h[_t2406].length,10),(!_s840||_n549<_s840)&&(_s840=_n549);}for(var _i1446 in h){if(_n549=J((_e1728[_i1446]||0)/h[_i1446].length,10),_n549===_s840){_t2405=_i1446;break;}}h[_t2405][_e1728[_t2405]].partyIndex=_i1445,_e1728[_t2405]+=1;}}}for(var _t2407 in h){var _iterator1569=_createForOfIteratorHelper(h[_t2407]),_step1569;try{for(_iterator1569.s();!(_step1569=_iterator1569.n()).done;){var _e1730=_step1569.value;void 0===r[_e1730.partyIndex]&&(r[_e1730.partyIndex]=[]),r[_e1730.partyIndex].push(_e1730);}}catch(err){_iterator1569.e(err);}finally{_iterator1569.f();}}{var _e1731=r[0][0].r/(i/2),_n550="<svg viewBox=\"".concat(-100-_e1731/2," ").concat(-100-_e1731/2," ").concat(200+_e1731," ").concat(s+_e1731,"\">");for(var _e1732=0;_e1732<t.length;_e1732+=1){_n550+="<g style=\"fill: ".concat(t[_e1732].color,"\">");var _iterator1570=_createForOfIteratorHelper(r[_e1732]),_step1570;try{for(_iterator1570.s();!(_step1570=_iterator1570.n()).done;){var _t2408=_step1570.value;_n550+="<circle cx=\"".concat(_t2408.x,"\" cy=\"").concat(_t2408.y,"\" r=\"").concat(_t2408.r,"\"></circle>");}}catch(err){_iterator1570.e(err);}finally{_iterator1570.f();}_n550+="</g>";}_n550+="</svg>",d=Ji(_templateObject92(),_n550);}return d;}},{key:"Xs",value:function Xs(){var _iterator1571=_createForOfIteratorHelper(this["#parties-box"].querySelectorAll(".delete-button")),_step1571;try{for(_iterator1571.s();!(_step1571=_iterator1571.n()).done;){var _t2411=_step1571.value;_t2411.disabled=1===this["#parties-box"].childElementCount;}}catch(err){_iterator1571.e(err);}finally{_iterator1571.f();}{var _t2409=this["#hall-radius-slider"].value/100,_e1734=this["#seat-radius-slider"].value/100,_i1447=[];var _iterator1572=_createForOfIteratorHelper(this["#parties-box"].children),_step1572;try{for(_iterator1572.s();!(_step1572=_iterator1572.n()).done;){var _t2410=_step1572.value;_i1447.push({seats:_t2410.querySelector("x-numberinput").value,color:_t2410.querySelector("x-colorselect").value});}}catch(err){_iterator1572.e(err);}finally{_iterator1572.f();}var _s841=this.yM(_i1447,_t2409,_e1734);this["#preview"].innerHTML=_s841.innerHTML,this["#preview"].setAttribute("viewBox",_s841.getAttribute("viewBox"));}}}]);return bf;}(Jg);_defineProperty(bf,"nM",Ki(_templateObject503()));_defineProperty(bf,"oM",Ki(_templateObject504()));_defineProperty(bf,"bM",Ki(_templateObject505()));_defineProperty(bf,"_shadowStyleSheet",Qi(_templateObject506()));customElements.define("bx-parliamentchartgenerator",bf);var mf=Math.min,gf=Math.max,ff=Math.floor,wf=["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"];var vf=/*#__PURE__*/function(_Jg4){_inherits(vf,_Jg4);var _super218=_createSuper(vf);function vf(){var _this957;_classCallCheck(this,vf);_this957=_super218.call(this),_this957["#width-input"].addEventListener("changestart",function(){return _this957.cf();}),_this957["#height-input"].addEventListener("changestart",function(){return _this957.pf();}),_this957["#aspect-ratio-button"].addEventListener("toggle",function(){return _this957.nf();}),_this957["#cell-size-box"].addEventListener("changestart",function(){return _this957.kM();}),_this957["#variance-box"].addEventListener("changestart",function(){return _this957.SM();}),_this957["#seed-box"].addEventListener("changestart",function(){return _this957.Wk();}),_this957["#colors-box"].addEventListener("changestart",function(){return _this957.CM();}),_this957["#random-colors-button"].addEventListener("click",function(){return _this957._M();}),_this957["#generate-button"].addEventListener("click",function(){return _this957.rM();});return _this957;}_createClass(vf,[{key:"connectedCallback",value:function(){var _connectedCallback6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee230(){var t,e,i,s,n,o,l,_t2412;return regeneratorRuntime.wrap(function _callee230$(_context232){while(1){switch(_context232.prev=_context232.next){case 0:this.Js=Ri(this,"#app");this.tn=Ri(this,"bx-editor");_context232.t0=window.Delaunator;if(_context232.t0){_context232.next=6;break;}_context232.next=6;return tf("/node_modules/delaunator/delaunator.min.js");case 6:_context232.t1=window.chroma;if(_context232.t1){_context232.next=10;break;}_context232.next=10;return tf("/node_modules/chroma-js/chroma.min.js");case 10:t=this.Js.getConfig("bx-triangulatedsurfacegenerator:width",500),e=this.Js.getConfig("bx-triangulatedsurfacegenerator:height",400),i=this.Js.getConfig("bx-triangulatedsurfacegenerator:cellSize",.2),s=this.Js.getConfig("bx-triangulatedsurfacegenerator:variance",.75),n=this.Js.getConfig("bx-triangulatedsurfacegenerator:seed",100),o=this.Js.getConfig("bx-triangulatedsurfacegenerator:colors",wf),l=this.Js.getConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",!1);this["#width-input"].value=t,this["#height-input"].value=e,this["#aspect-ratio-button"].toggled=l,this["#aspect-ratio-icon"].name=l?"lock-on":"lock-off",this["#cell-size-slider"].value=J(100*i,2),this["#cell-size-input"].value=J(100*i,2),this["#variance-slider"].value=J(100*s,2),this["#variance-input"].value=J(100*s,2),this["#seed-slider"].value=n,this["#seed-input"].value=n;for(_t2412=0;_t2412<5;_t2412+=1){this["#colors-box"].children[_t2412].value=o[_t2412];}this.Xs();case 14:case"end":return _context232.stop();}}},_callee230,this);}));function connectedCallback(){return _connectedCallback6.apply(this,arguments);}return connectedCallback;}()},{key:"cf",value:function cf(){var _this958=this;var t,_e1735,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this958["#aspect-ratio-button"].toggled){var _t2413=_this958["#width-input"].value/i;_t2413=tt(_t2413,1,Infinity,0),_this958["#height-input"].value=_t2413;}_this958.Xs();}),this["#width-input"].addEventListener("changeend",_e1735=function e(){_this958["#width-input"].removeEventListener("change",t),_this958["#width-input"].removeEventListener("changeend",_e1735),_this958.Js.setConfig("bx-triangulatedsurfacegenerator:width",_this958["#width-input"].value),_this958.Js.setConfig("bx-triangulatedsurfacegenerator:height",_this958["#height-input"].value);});}},{key:"pf",value:function pf(){var _this959=this;var t,_e1736,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this959["#aspect-ratio-button"].toggled){var _t2414=_this959["#height-input"].value/i;_t2414=tt(_t2414,1,Infinity,0),_this959["#width-input"].value=_t2414;}_this959.Xs();}),this["#height-input"].addEventListener("changeend",_e1736=function e(){_this959["#height-input"].removeEventListener("change",t),_this959["#height-input"].removeEventListener("changeend",_e1736),_this959.Js.setConfig("bx-triangulatedsurfacegenerator:width",_this959["#width-input"].value),_this959.Js.setConfig("bx-triangulatedsurfacegenerator:height",_this959["#height-input"].value);});}},{key:"nf",value:function nf(){var t=this["#aspect-ratio-button"].toggled;this.Js.setConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"kM",value:function kM(){var _this960=this;var t,_e1737;this["#cell-size-box"].addEventListener("change",t=function t(_t2415){_t2415.target===_this960["#cell-size-slider"]?_this960["#cell-size-input"].value=_this960["#cell-size-slider"].value:_t2415.target===_this960["#cell-size-input"]&&(_this960["#cell-size-slider"].value=_this960["#cell-size-input"].value),_this960.Xs();}),this["#cell-size-box"].addEventListener("changeend",_e1737=function e(){_this960["#cell-size-box"].removeEventListener("change",t),_this960["#cell-size-box"].removeEventListener("changeend",_e1737),_this960.Js.setConfig("bx-triangulatedsurfacegenerator:cellSize",_this960["#cell-size-slider"].value/100);});}},{key:"SM",value:function SM(){var _this961=this;var t,_e1738;this["#variance-box"].addEventListener("change",t=function t(_t2416){_t2416.target===_this961["#variance-slider"]?_this961["#variance-input"].value=_this961["#variance-slider"].value:_t2416.target===_this961["#variance-input"]&&(_this961["#variance-slider"].value=_this961["#variance-input"].value),_this961.Xs();}),this["#variance-box"].addEventListener("changeend",_e1738=function e(){_this961["#variance-box"].removeEventListener("change",t),_this961["#variance-box"].removeEventListener("changeend",_e1738),_this961.Js.setConfig("bx-triangulatedsurfacegenerator:variance",_this961["#variance-slider"].value/100);});}},{key:"Wk",value:function Wk(){var _this962=this;var t,_e1739;this["#seed-box"].addEventListener("change",t=function t(_t2417){_t2417.target===_this962["#seed-slider"]?_this962["#seed-input"].value=_this962["#seed-slider"].value:_t2417.target===_this962["#seed-input"]&&(_this962["#seed-slider"].value=_this962["#seed-input"].value),_this962.Xs();}),this["#seed-box"].addEventListener("changeend",_e1739=function e(){_this962["#seed-box"].removeEventListener("change",t),_this962["#seed-box"].removeEventListener("changeend",_e1739),_this962.Js.setConfig("bx-triangulatedsurfacegenerator:seed",_this962["#seed-slider"].value);});}},{key:"CM",value:function CM(){var _this963=this;var t,_e1740;this["#colors-box"].addEventListener("change",t=function t(_t2418){_this963.Xs();}),this["#colors-box"].addEventListener("changeend",_e1740=function e(){_this963["#colors-box"].removeEventListener("change",t),_this963["#colors-box"].removeEventListener("changeend",_e1740);var i=_toConsumableArray(_this963["#colors-box"].children).map(function(t){return t.value;});_this963.Js.setConfig("bx-triangulatedsurfacegenerator:colors",i);});}},{key:"_M",value:function(){var _M3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee231(){var t,e,_t2419;return regeneratorRuntime.wrap(function _callee231$(_context233){while(1){switch(_context233.prev=_context233.next){case 0:t=il(0,R.length-1),e=R[t];for(_t2419=0;_t2419<5;_t2419+=1){this["#colors-box"].children[_t2419].value=e[_t2419];}this.Js.setConfig("bx-triangulatedsurfacegenerator:colors",e),this.Xs();case 3:case"end":return _context233.stop();}}},_callee231,this);}));function _M(){return _M3.apply(this,arguments);}return _M;}()},{key:"rM",value:function rM(){var t=this["#preview"].cloneNode(!0);t.style.shapeRendering="crispEdges",this.tn.board.undoManager.checkpoint("Generate triangle art"),this.tn.board.insertArtwork(t);}},{key:"MM",value:function MM(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:400;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:75;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:.75;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:50;s<.02*e&&(s=J(.02*e));var l=ff((e+4*s)/s),a=ff((i+4*s)/s),h=(l*s-e)/2,r=(a*s-i)/2,d=function d(t,e,i){return(t-e[0])*(i[1]-i[0])/(e[1]-e[0])+i[0];},c=function c(t,e){return mf(gf(t,e[0]),e[1]);},p=function p(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3};},u=function u(t){return c(d(t,[0,e],[0,1]),[0,1]);},x=function x(t){return c(d(t,[0,i],[0,1]),[0,1]);},b=[],m=[],g="";{var _t2420=s*n/2,_l382=new Math.seedrandom(o);for(var _n551=-h;_n551<e+h;_n551+=s){for(var _e1741=-r;_e1741<i+r;_e1741+=s){var _i1448=_n551+.5*s+(_l382()*_t2420*2-_t2420),_o512=_e1741+.5*s+(_l382()*_t2420*2-_t2420);b.push([ff(_i1448),ff(_o512)]);}}}{var _e1742=Delaunator.from(b).triangles,_i1449=chroma.scale(t).mode("lab");for(var _t2421=0;_t2421<_e1742.length;_t2421+=3){var _s842=[_e1742[_t2421],_e1742[_t2421+1],_e1742[_t2421+2]].map(function(t){return b[t];}),_n552=p(_s842),_o513=_i1449(u(_n552.x)),_l383=_i1449(x(_n552.y)),_a280=chroma.interpolate(_o513,_l383,.5,"lab").css();m.push([_a280,_s842]);}}{var _t2422="";for(var _i1450=0,_m48=m;_i1450<_m48.length;_i1450++){var _m48$_i=_slicedToArray(_m48[_i1450],2),_s843=_m48$_i[0],_m48$_i$=_slicedToArray(_m48$_i[1],3),_n553=_m48$_i$[0],_o514=_m48$_i$[1],_l384=_m48$_i$[2];var _a281=We(new DOMRect(0,0,e,i),[new DOMPoint(_n553[0],_n553[1]),new DOMPoint(_o514[0],_o514[1]),new DOMPoint(_l384[0],_l384[1])]);if(_a281.length>1){var _a282=_toArray(_a281),_e1743=_a282[0],_i1451=_a282.slice(1),_n554="M ".concat(_e1743.x," ").concat(_e1743.y);var _iterator1573=_createForOfIteratorHelper(_i1451),_step1573;try{for(_iterator1573.s();!(_step1573=_iterator1573.n()).done;){var _t2423=_step1573.value;_n554+=" L ".concat(_t2423.x," ").concat(_t2423.y);}}catch(err){_iterator1573.e(err);}finally{_iterator1573.f();}_n554+=" Z",_t2422+="<path d=\"".concat(_n554,"\" style=\"fill: ").concat(_s843,";\"></path>");}}g="\n        <svg viewBox=\"0 0 ".concat(e," ").concat(i,"\" style=\"shape-rendering: crispedges;\">\n          <g>").concat(_t2422,"</g>\n        </svg>\n      ");}return Ji(_templateObject93(),g);}},{key:"Xs",value:function(){var _Xs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee232(){var t,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee232$(_context234){while(1){switch(_context234.prev=_context234.next){case 0:t=this["#width-input"].value,e=this["#height-input"].value,i=this["#cell-size-slider"].value/100*mf(t,e),s=this["#variance-slider"].value/100,n=this["#seed-slider"].value,o=_toConsumableArray(this["#colors-box"].children).map(function(t){return t.value;}),l=this.MM(o,t,e,i,s,n);this["#preview"].innerHTML=l.innerHTML,this["#preview"].setAttribute("viewBox","0 0 ".concat(t," ").concat(e));case 2:case"end":return _context234.stop();}}},_callee232,this);}));function Xs(){return _Xs5.apply(this,arguments);}return Xs;}()}]);return vf;}(Jg);_defineProperty(vf,"nM",Ki(_templateObject507()));_defineProperty(vf,"oM",Ki(_templateObject508()));_defineProperty(vf,"_shadowStyleSheet",Qi(_templateObject509()));customElements.define("bx-triangulatedsurfacegenerator",vf);var yf=/*#__PURE__*/function(_Jg5){_inherits(yf,_Jg5);var _super219=_createSuper(yf);_createClass(yf,[{key:"options",get:function get(){return{width:this["#width-input"].value,height:this["#height-input"].value,columns:this["#columns-input"].value,rows:this["#rows-input"].value,tabSize:this["#tab-size-slider"].value,jitter:this["#jitter-slider"].value,seed:this["#seed-slider"].value,geometryPrecision:this.tn.board.geometryPrecision};}}]);function yf(){var _this964;_classCallCheck(this,yf);_this964=_super219.call(this),_this964.np=es(_this964.Xs,1e3,_assertThisInitialized(_this964)),_this964["#columns-input"].addEventListener("changestart",function(){return _this964.PM();}),_this964["#rows-input"].addEventListener("changestart",function(){return _this964.DM();}),_this964["#width-input"].addEventListener("changestart",function(){return _this964.cf();}),_this964["#height-input"].addEventListener("changestart",function(){return _this964.pf();}),_this964["#aspect-ratio-button"].addEventListener("toggle",function(){return _this964.nf();}),_this964["#tab-size-box"].addEventListener("changestart",function(){return _this964.zM();}),_this964["#jitter-box"].addEventListener("changestart",function(){return _this964.OM();}),_this964["#seed-box"].addEventListener("changestart",function(){return _this964.Wk();}),_this964["#generate-button"].addEventListener("click",function(){return _this964.rM();});return _this964;}_createClass(yf,[{key:"connectedCallback",value:function(){var _connectedCallback7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee233(){var _this965=this;var t,e,i,s,n,o,l,a;return regeneratorRuntime.wrap(function _callee233$(_context235){while(1){switch(_context235.prev=_context235.next){case 0:this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");t=this.Js.getConfig("bx-jigsawpuzzlegenerator:columns",8),e=this.Js.getConfig("bx-jigsawpuzzlegenerator:rows",8),i=this.Js.getConfig("bx-jigsawpuzzlegenerator:width",500),s=this.Js.getConfig("bx-jigsawpuzzlegenerator:height",400),n=this.Js.getConfig("bx-jigsawpuzzlegenerator:tabSize",.2),o=this.Js.getConfig("bx-jigsawpuzzlegenerator:jitter",.02),l=this.Js.getConfig("bx-jigsawpuzzlegenerator:seed",100),a=this.Js.getConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",!1);this["#columns-input"].value=t,this["#rows-input"].value=e,this["#width-input"].value=i,this["#height-input"].value=s,this["#aspect-ratio-button"].toggled=a,this["#aspect-ratio-icon"].name=a?"lock-on":"lock-off",this["#tab-size-slider"].value=J(100*n,2),this["#tab-size-input"].value=J(100*n,2),this["#jitter-slider"].value=J(100*o,2),this["#jitter-input"].value=J(100*o,2),this["#seed-slider"].value=l,this["#seed-input"].value=l,this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this965.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this965.np();});case 3:case"end":return _context235.stop();}}},_callee233,this);}));function connectedCallback(){return _connectedCallback7.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"PM",value:function PM(t){var _this966=this;var _e1744;this["#columns-input"].addEventListener("changeend",_e1744=function e(){_this966["#columns-input"].removeEventListener("changeend",_e1744),_this966.Js.setConfig("bx-jigsawpuzzlegenerator:columns",_this966["#columns-input"].value),_this966.Up();});}},{key:"DM",value:function DM(t){var _this967=this;var _e1745;this["#rows-input"].addEventListener("changeend",_e1745=function e(){_this967["#rows-input"].removeEventListener("changeend",_e1745),_this967.Js.setConfig("bx-jigsawpuzzlegenerator:rows",_this967["#rows-input"].value),_this967.Up();});}},{key:"cf",value:function cf(){var _this968=this;var t,_e1746,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this968["#aspect-ratio-button"].toggled){var _t2424=_this968["#width-input"].value/i;_t2424=tt(_t2424,1,Infinity,0),_this968["#height-input"].value=_t2424;}_this968.Up();}),this["#width-input"].addEventListener("changeend",_e1746=function e(){_this968["#width-input"].removeEventListener("change",t),_this968["#width-input"].removeEventListener("changeend",_e1746),_this968.Js.setConfig("bx-jigsawpuzzlegenerator:width",_this968["#width-input"].value),_this968.Js.setConfig("bx-jigsawpuzzlegenerator:height",_this968["#height-input"].value);});}},{key:"pf",value:function pf(){var _this969=this;var t,_e1747,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this969["#aspect-ratio-button"].toggled){var _t2425=_this969["#height-input"].value/i;_t2425=tt(_t2425,1,Infinity,0),_this969["#width-input"].value=_t2425;}_this969.Up();}),this["#height-input"].addEventListener("changeend",_e1747=function e(){_this969["#height-input"].removeEventListener("change",t),_this969["#height-input"].removeEventListener("changeend",_e1747),_this969.Js.setConfig("bx-jigsawpuzzlegenerator:width",_this969["#width-input"].value),_this969.Js.setConfig("bx-jigsawpuzzlegenerator:height",_this969["#height-input"].value);});}},{key:"nf",value:function nf(){var t=this["#aspect-ratio-button"].toggled;this.Js.setConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"zM",value:function zM(){var _this970=this;var t,_e1748;this["#tab-size-box"].addEventListener("change",t=function t(_t2426){_t2426.target===_this970["#tab-size-slider"]?_this970["#tab-size-input"].value=_this970["#tab-size-slider"].value:_t2426.target===_this970["#tab-size-input"]&&(_this970["#tab-size-slider"].value=_this970["#tab-size-input"].value),_this970.Up();}),this["#tab-size-box"].addEventListener("changeend",_e1748=function e(){_this970["#tab-size-box"].removeEventListener("change",t),_this970["#tab-size-box"].removeEventListener("changeend",_e1748),_this970.Js.setConfig("bx-jigsawpuzzlegenerator:tabSize",_this970["#tab-size-slider"].value/100);});}},{key:"OM",value:function OM(){var _this971=this;var t,_e1749;this["#jitter-box"].addEventListener("change",t=function t(_t2427){_t2427.target===_this971["#jitter-slider"]?_this971["#jitter-input"].value=_this971["#jitter-slider"].value:_t2427.target===_this971["#jitter-input"]&&(_this971["#jitter-slider"].value=_this971["#jitter-input"].value),_this971.Up();}),this["#jitter-box"].addEventListener("changeend",_e1749=function e(){_this971["#jitter-box"].removeEventListener("change",t),_this971["#jitter-box"].removeEventListener("changeend",_e1749),_this971.Js.setConfig("bx-jigsawpuzzlegenerator:jitter",_this971["#jitter-slider"].value/100);});}},{key:"Wk",value:function Wk(){var _this972=this;var t,_e1750;this["#seed-box"].addEventListener("change",t=function t(_t2428){_t2428.target===_this972["#seed-slider"]?_this972["#seed-input"].value=_this972["#seed-slider"].value:_t2428.target===_this972["#seed-input"]&&(_this972["#seed-slider"].value=_this972["#seed-input"].value),_this972.Up();}),this["#seed-box"].addEventListener("changeend",_e1750=function e(){_this972["#seed-box"].removeEventListener("change",t),_this972["#seed-box"].removeEventListener("changeend",_e1750),_this972.Js.setConfig("bx-jigsawpuzzlegenerator:seed",_this972["#seed-slider"].value);});}},{key:"rM",value:function rM(){var t=this["#preview"].cloneNode(!0);this.tn.board.undoManager.checkpoint("Jigsaw puzzle"),this.tn.board.insertArtwork(t);}},{key:"EM",value:function EM(t){var e,i,s,n,o,l,a,h,r,d=t.width,c=t.height,p=t.seed,u=t.tabSize/200,x=t.jitter/100,b=t.columns,m=t.rows,g=new Math.seedrandom(p),f=function f(t,e){return t+g()*(e-t);},w=function w(){o=f(-x,x),v();},v=function v(){var t=h;h=g()>.5,e=h==t?-o:o,i=f(-x,x),s=f(-x,x),n=f(-x,x),o=f(-x,x);},y=function y(){return r?c/m:d/b;},k=function k(){return r?d/b:c/m;},S=function S(t){return Math.round(100*(0+y()*(r?a:l)+y()*t))/100;},C=function C(t){return Math.round(100*(0+k()*(r?l:a)+k()*t*(h?-1:1)))/100;},_=function _(){return S(0);},M=function M(){return C(0);},P=function P(){return S(.2);},D=function D(){return C(e);},z=function z(){return S(.5+i+n);},O=function O(){return C(-u+s);},E=function E(){return S(.5-u+i);},T=function T(){return C(u+s);},A=function A(){return S(.5-2*u+i-n);},$=function $(){return C(3*u+s);},I=function I(){return S(.5+2*u+i-n);},L=function L(){return C(3*u+s);},B=function B(){return S(.5+u+i);},R=function R(){return C(u+s);},G=function G(){return S(.5+i+n);},U=function U(){return C(-u+s);},F=function F(){return S(.8);},N=function N(){return C(o);},j=function j(){return S(1);},V=function V(){return C(0);},H=[],W=[],Y=[];for(r=0,a=0;a<=m;++a){for(l=0,w(),H[a]=[];l<=b;++l){0===a||a===m?H[a].push([{type:"M",values:[_(),M()]},{type:"L",values:[j(),V()]}]):H[a].push([{type:"M",values:[_(),M()]},{type:"C",values:[P(),D(),z(),O(),E(),T()]},{type:"C",values:[A(),$(),I(),L(),B(),R()]},{type:"C",values:[G(),U(),F(),N(),j(),V()]}]),v();}}for(r=1,l=0;l<=b;++l){for(a=0,w(),W[l]=[];a<=m;++a){0===l||l===b?W[l].push([{type:"M",values:[M(),_()]},{type:"L",values:[V(),j()]}]):W[l].push([{type:"M",values:[M(),_()]},{type:"C",values:[D(),P(),O(),z(),T(),E()]},{type:"C",values:[$(),A(),L(),I(),R(),B()]},{type:"C",values:[U(),G(),N(),F(),V(),j()]}]),v();}}for(var _t2429=0;_t2429<b;_t2429+=1){for(var _e1751=0;_e1751<m;_e1751+=1){var _i1452=[].concat(_toConsumableArray(H[_e1751][_t2429]),_toConsumableArray(W[_t2429+1][_e1751].slice(1)),_toConsumableArray(ct(H[_e1751+1][_t2429]).slice(1)),_toConsumableArray(ct(W[_t2429][_e1751]).slice(1)),[{type:"Z"}]);Y.push(_i1452);}}return Y;}},{key:"Xs",value:function Xs(){this.Up();}},{key:"Up",value:function Up(){var t=this.EM(this.options),e="";var _iterator1574=_createForOfIteratorHelper(t),_step1574;try{for(_iterator1574.s();!(_step1574=_iterator1574.n()).done;){var _i1453=_step1574.value;e+="<path style=\"fill: white; stroke: black; stroke-width: 1px;\" d=\"".concat(nt(_i1453),"\"></path>");}}catch(err){_iterator1574.e(err);}finally{_iterator1574.f();}this["#preview"].innerHTML="<g>".concat(e,"</g>"),this["#preview"].setAttribute("viewBox","0 0 ".concat(this.options.width," ").concat(this.options.height));}}]);return yf;}(Jg);_defineProperty(yf,"nM",Ki(_templateObject510()));_defineProperty(yf,"oM",Ki(_templateObject511()));_defineProperty(yf,"_shadowStyleSheet",Qi(_templateObject512()));customElements.define("bx-jigsawpuzzlegenerator",yf);var kf=function kf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"png";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(/*#__PURE__*/function(){var _ref227=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee238(s){var _e1752,_n555,_o515,_e1753,_n556,_o516,_e1754,_n557,_o517,_e1755,_n558,_o518;return regeneratorRuntime.wrap(function _callee238$(_context240){while(1){switch(_context240.prev=_context240.next){case 0:if("png"===e){_e1752=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n555=URL.createObjectURL(_e1752),_o515=new Image();_o515.src=_n555,_o515.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee234(){var t,e,l,a,h,r,d,c,p;return regeneratorRuntime.wrap(function _callee234$(_context236){while(1){switch(_context236.prev=_context236.next){case 0:t=i.dpi||96,e=i.colors||0,l=i.background||"rgba(0, 0, 0, 0)",a=new OffscreenCanvas(_o515.naturalWidth,_o515.naturalHeight),h=a.getContext("2d");h.fillStyle=l,h.fillRect(0,0,_o515.naturalWidth,_o515.naturalHeight),h.drawImage(_o515,0,0);r=h.getImageData(0,0,a.width,a.height),d=UPNG.encode([r.data.buffer],r.width,r.height,e),c=new Uint8Array(d);c=mr(c,t);p=new Blob([c],{type:"image/png"});URL.revokeObjectURL(_n555),s(p);case 6:case"end":return _context236.stop();}}},_callee234);})),{once:!0});}else if("jpeg"===e||"jpg"===e){_e1753=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n556=URL.createObjectURL(_e1753),_o516=new Image();_o516.src=_n556,_o516.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee235(){var t,e,l,a,h;return regeneratorRuntime.wrap(function _callee235$(_context237){while(1){switch(_context237.prev=_context237.next){case 0:t=i.background||"rgb(255, 255, 255)",e=i.compression||1,l=new OffscreenCanvas(_o516.naturalWidth,_o516.naturalHeight),a=l.getContext("2d");a.fillStyle="white",a.fillRect(0,0,_o516.naturalWidth,_o516.naturalHeight),a.fillStyle=t,a.fillRect(0,0,_o516.naturalWidth,_o516.naturalHeight),a.drawImage(_o516,0,0);_context237.next=4;return l.convertToBlob({type:"image/jpeg",quality:e});case 4:h=_context237.sent;URL.revokeObjectURL(_n556),s(h);case 6:case"end":return _context237.stop();}}},_callee235);})),{once:!0});}else if("gif"===e){_e1754=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n557=URL.createObjectURL(_e1754),_o517=new Image();_o517.src=_n557,_o517.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee236(){var t,e,n,l,a,h;return regeneratorRuntime.wrap(function _callee236$(_context238){while(1){switch(_context238.prev=_context238.next){case 0:t=i.background?fo(i.background,"hex"):"#ffffff",e=i.transparent||!1,n=!1;"floyd-steinberg"===i.dithering?n="FloydSteinberg":"false-floyd-steinberg"===i.dithering?n="FalseFloydSteinberg":"stucki"===i.dithering?n="Stucki":"atkinson"===i.dithering&&(n="Atkinson");l=new OffscreenCanvas(_o517.naturalWidth,_o517.naturalHeight).getContext("2d");l.fillStyle=t,l.fillRect(0,0,_o517.naturalWidth,_o517.naturalHeight),l.drawImage(_o517,0,0);a=l.getImageData(0,0,_o517.naturalWidth,_o517.naturalHeight),h=new GIF({workers:2,quality:1,dither:n,transparent:e?parseInt("0x"+t.substring(1)):null,workerScript:"node_modules/gif.js/dist/gif.worker.js"});h.addFrame(a),h.render(),h.on("finished",function(t){s(t);});case 6:case"end":return _context238.stop();}}},_callee236);})),{once:!0});}else if("webp"===e){_e1755=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n558=URL.createObjectURL(_e1755),_o518=new Image();_o518.src=_n558,_o518.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee237(){var t,e,l,a,h;return regeneratorRuntime.wrap(function _callee237$(_context239){while(1){switch(_context239.prev=_context239.next){case 0:t=i.background||"rgba(255, 255, 255, 0)",e=i.compression||1,l=new OffscreenCanvas(_o518.naturalWidth,_o518.naturalHeight),a=l.getContext("2d");a.fillStyle=t,a.fillRect(0,0,_o518.naturalWidth,_o518.naturalHeight),a.drawImage(_o518,0,0);_context239.next=4;return l.convertToBlob({type:"image/webp",quality:e});case 4:h=_context239.sent;URL.revokeObjectURL(_n558),s(h);case 6:case"end":return _context239.stop();}}},_callee237);})),{once:!0});}case 1:case"end":return _context240.stop();}}},_callee238);}));return function(_x359){return _ref227.apply(this,arguments);};}());};var Sf=/*#__PURE__*/function(_Jg6){_inherits(Sf,_Jg6);var _super220=_createSuper(Sf);function Sf(){var _this973;_classCallCheck(this,Sf);_this973=_super220.call(this),_this973["#format-buttons"].addEventListener("toggle",function(){return _this973.TM();}),_this973["#ppu-box"].addEventListener("changestart",function(t){return _this973.AM(t);}),_this973["#colors-mode-buttons"].addEventListener("toggle",function(){return _this973.$M();}),_this973["#colors-slider"].addEventListener("changestart",function(){return _this973.IM();}),_this973["#colors-input"].addEventListener("changestart",function(){return _this973.LM();}),_this973["#compression-slider"].addEventListener("changestart",function(){return _this973.BM();}),_this973["#compression-input"].addEventListener("changestart",function(){return _this973.RM();}),_this973["#background-select"].addEventListener("changeend",function(){return _this973.GM();}),_this973["#background-popover"].addEventListener("close",function(){return _this973.UM();}),_this973["#preview-button"].addEventListener("click",function(){return _this973.FM();}),_this973["#generate-button"].addEventListener("click",function(){return _this973.rM();});return _this973;}_createClass(Sf,[{key:"connectedCallback",value:function connectedCallback(){var _this974=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.tn.board,e=this.Js.getConfig("bx-rasterizegenerator:format","png"),i=this.Js.getConfig("bx-rasterizegenerator:ppu",1),s=this.Js.getConfig("bx-rasterizegenerator:colorsMode","rgb"),n=this.Js.getConfig("bx-rasterizegenerator:colors",256),o=this.Js.getConfig("bx-rasterizegenerator:compression",1),l=this.Js.getConfig("bx-rasterizegenerator:background","rgb(255, 255, 255)");this["#format-buttons"].value=e,this["#ppu-slider"].value=i,this["#ppu-input"].value=i,this["#colors-mode-buttons"].value=s,this["#colors-slider"].value=n,this["#colors-input"].value=n,this["#compression-slider"].value=o,this["#compression-input"].value=o,this["#background-select"].value=l,this.Xs(),t.addEventListener("selectedelementschange",this.al=function(){_this974.hl();}),t.addEventListener("workspacemutation",this.rn=function(){_this974.pl();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){this.NM(),this.Xs();}},{key:"pl",value:function pl(){this.NM(),this.Xs();}},{key:"TM",value:function TM(){this.Js.setConfig("bx-rasterizegenerator:format",this["#format-buttons"].value),this.NM(),this.Xs();}},{key:"AM",value:function AM(t){var _this975=this;var e,i;this.NM(),this["#ppu-box"].addEventListener("change",e=function e(t){t.target===_this975["#ppu-slider"]?_this975["#ppu-input"].value=_this975["#ppu-slider"].value:t.target===_this975["#ppu-input"]&&(_this975["#ppu-slider"].value=_this975["#ppu-input"].value),_this975.Xs();}),this["#ppu-box"].addEventListener("changeend",i=function(_i1454){function i(){return _i1454.apply(this,arguments);}i.toString=function(){return _i1454.toString();};return i;}(function(){_this975["#ppu-box"].removeEventListener("change",e),_this975["#ppu-box"].removeEventListener("changeend",i),_this975.Js.setConfig("bx-rasterizegenerator:ppu",_this975["#ppu-slider"].value);}));}},{key:"$M",value:function $M(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Js.setConfig("bx-rasterizegenerator:colorsMode",this["#colors-mode-buttons"].value),this.NM();}},{key:"IM",value:function IM(){var _this976=this;var t,_e1756;this["#colors-slider"].addEventListener("change",t=function t(){_this976["#colors-input"].value=_this976["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1756=function e(){_this976["#colors-slider"].removeEventListener("change",t),_this976["#colors-slider"].removeEventListener("changeend",_e1756),_this976.Js.setConfig("bx-rasterizegenerator:colors",_this976["#colors-slider"].value),_this976.NM();});}},{key:"LM",value:function LM(){var _this977=this;var t,_e1757;this["#colors-input"].addEventListener("change",t=function t(){_this977["#colors-slider"].value=_this977["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1757=function e(){_this977["#colors-input"].removeEventListener("change",t),_this977["#colors-input"].removeEventListener("changeend",_e1757),_this977.Js.setConfig("bx-rasterizegenerator:colors",_this977["#colors-input"].value),_this977.NM();});}},{key:"BM",value:function BM(){var _this978=this;var t,_e1758;this["#compression-slider"].addEventListener("change",t=function t(){_this978["#compression-input"].value=_this978["#compression-slider"].value,_this978.Js.setConfig("bx-rasterizegenerator:compression",_this978["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1758=function e(){_this978["#compression-slider"].removeEventListener("change",t),_this978["#compression-slider"].removeEventListener("changeend",_e1758),_this978.NM();});}},{key:"RM",value:function RM(){var _this979=this;var t,_e1759;this["#compression-input"].addEventListener("change",t=function t(){_this979["#compression-slider"].value=_this979["#compression-input"].value,_this979.Js.setConfig("bx-rasterizegenerator:compression",_this979["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1759=function e(){_this979["#compression-input"].removeEventListener("change",t),_this979["#compression-input"].removeEventListener("changeend",_e1759),_this979.NM();});}},{key:"GM",value:function GM(){this.jM=!0;}},{key:"UM",value:function UM(){this.jM&&(this.jM=!1,this.Js.setConfig("bx-rasterizegenerator:background",this["#background-select"].value),this.NM());}},{key:"FM",value:function FM(){this.VM();}},{key:"rM",value:function(){var _rM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee239(){var t,e,i,s,n,o,l,a,h,r,d,c,_iterator1575,_step1575,_t2430;return regeneratorRuntime.wrap(function _callee239$(_context241){while(1){switch(_context241.prev=_context241.next){case 0:t=this.tn.board,e=this["#format-buttons"].value,i=this["#ppu-input"].value,s=t.extractArtworkWithSelectedElements(),n=t.vectorCanvas.getScreenCTM(),o=Ut.fromString(s.getAttribute("viewBox")).toRect(),l=Ve(o,n),a=_toConsumableArray(t.outermostSelectedElements);s.setAttribute("width",J(o.width*i,0)+"px"),s.setAttribute("height",J(o.height*i,0)+"px"),s.setAttribute("preserveAspectRatio","none");h={};"png"===e?h={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===e&&(h={background:this["#background-select"].value,compression:this["#compression-input"].value});r=Hp(s);_context241.next=7;return kf(r,e,h);case 7:d=_context241.sent;_context241.next=10;return hr(d);case 10:c=_context241.sent;t.undoManager.checkpoint("Rasterize"),t.insertBitmapIntoBBox(c,l);_iterator1575=_createForOfIteratorHelper(a);try{for(_iterator1575.s();!(_step1575=_iterator1575.n()).done;){_t2430=_step1575.value;_t2430.remove();}}catch(err){_iterator1575.e(err);}finally{_iterator1575.f();}case 14:case"end":return _context241.stop();}}},_callee239,this);}));function rM(){return _rM.apply(this,arguments);}return rM;}()},{key:"VM",value:function(){var _VM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee240(){var t,e,i,s,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee240$(_context242){while(1){switch(_context242.prev=_context242.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this["#format-buttons"].value,e=this["#ppu-input"].value,i=this.tn.board.extractArtworkWithSelectedElements(),s=J(i.viewBox.baseVal.width*e,0),n=J(i.viewBox.baseVal.height*e,0);i.setAttribute("width",s+"px"),i.setAttribute("height",n+"px"),i.setAttribute("preserveAspectRatio","none");o={};"png"===t?o={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===t&&(o={background:this["#background-select"].value,compression:this["#compression-input"].value});l=Hp(i);_context242.next=8;return kf(l,t,o);case 8:a=_context242.sent;_context242.next=11;return hr(a);case 11:h=_context242.sent;r=J(h.length);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",h),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Data size: "+pr(r),this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context242.stop();}}},_callee240,this);}));function VM(){return _VM.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var t=this.tn.board,e=null;t.outermostSelectedObjectElements.length>0&&(e=He(t.outermostSelectedObjectElements.map(function(e){var i=Wt(e,t.currentWorkspace),s=Oi(e);return Ve(s,i);}))),e&&e.width>0&&e.height>0?(this["#options-heading"].disabled=!1,this["#format-heading"].disabled=!1,this["#png-format-button"].disabled=!1,this["#jpeg-format-button"].disabled=!1,this["#ppu-heading"].disabled=!1,this["#ppu-slider"].disabled=!1,this["#ppu-input"].disabled=!1,this["#colors-heading"].disabled=!1,this["#colors-rgb-button"].disabled=!1,this["#colors-palette-button"].disabled=!1,this["#colors-slider"].disabled=!1,this["#colors-input"].disabled=!1,this["#compression-heading"].disabled=!1,this["#compression-slider"].disabled=!1,this["#compression-input"].disabled=!1,this["#background-heading"].disabled=!1,this["#background-select"].disabled=!1,this["#preview-heading"].disabled=!1,this["#preview-button"].disabled=!1,this["#generate-button"].disabled=!1):(this["#options-heading"].disabled=!0,this["#format-heading"].disabled=!0,this["#png-format-button"].disabled=!0,this["#jpeg-format-button"].disabled=!0,this["#ppu-heading"].disabled=!0,this["#ppu-slider"].disabled=!0,this["#ppu-input"].disabled=!0,this["#colors-heading"].disabled=!0,this["#colors-rgb-button"].disabled=!0,this["#colors-palette-button"].disabled=!0,this["#colors-slider"].disabled=!0,this["#colors-input"].disabled=!0,this["#compression-heading"].disabled=!0,this["#compression-slider"].disabled=!0,this["#compression-input"].disabled=!0,this["#background-heading"].disabled=!0,this["#background-select"].disabled=!0,this["#preview-heading"].disabled=!0,this["#preview-button"].disabled=!0,this["#generate-button"].disabled=!0),"png"===this["#format-buttons"].value?(this["#colors-subsection"].hidden=!1,this["#compression-subsection"].hidden=!0,this["#background-subsection"].hidden=!0,"palette"===this["#colors-mode-buttons"].value?this["#colors-box"].hidden=!1:this["#colors-box"].hidden=!0):"jpeg"===this["#format-buttons"].value&&(this["#colors-subsection"].hidden=!0,this["#compression-subsection"].hidden=!1,this["#background-subsection"].hidden=!1);}}]);return Sf;}(Jg);_defineProperty(Sf,"nM",Ki(_templateObject513()));_defineProperty(Sf,"oM",Ki(_templateObject514()));_defineProperty(Sf,"_shadowStyleSheet",Qi(_templateObject515()));customElements.define("bx-rasterizegenerator",Sf);var Cf=/*#__PURE__*/function(_HTMLElement137){_inherits(Cf,_HTMLElement137);var _super221=_createSuper(Cf);_createClass(Cf,[{key:"value",get:function get(){return Array.isArray(this._t)?_toConsumableArray(this._t):this._t;},set:function set(t){this._t=Array.isArray(t)?_toConsumableArray(t):t,this.Xs();}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Cf(){var _this980;_classCallCheck(this,Cf);_this980=_super221.call(this),_this980._t=[0,0,0,0],_this980._shadowRoot=_this980.attachShadow({mode:"closed"}),_this980._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Cf._shadowStyleSheet],_this980._shadowRoot.append(document.importNode(Cf._shadowTemplate.content,!0));var _iterator1576=_createForOfIteratorHelper(_this980._shadowRoot.querySelectorAll("[id]")),_step1576;try{for(_iterator1576.s();!(_step1576=_iterator1576.n()).done;){var _t2431=_step1576.value;_this980["#"+_t2431.id]=_t2431;}}catch(err){_iterator1576.e(err);}finally{_iterator1576.f();}_this980["#top-input"].addEventListener("changestart",function(t){return _this980.HM(t);}),_this980["#right-input"].addEventListener("changestart",function(t){return _this980.WM(t);}),_this980["#bottom-input"].addEventListener("changestart",function(t){return _this980.YM(t);}),_this980["#left-input"].addEventListener("changestart",function(t){return _this980.qM(t);}),_this980["#uniform-button"].addEventListener("toggle",function(){return _this980.XM();});return _this980;}_createClass(Cf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("suffix"===t?this.ZM():"disabled"===t&&this.Xs());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.Xs();}},{key:"HM",value:function HM(){var _this981=this;var t,_e1760,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#top-input"].addEventListener("change",t=function t(){i?(_this981._t=_this981["#top-input"].value,_this981["#left-input"].value=_this981["#top-input"].value,_this981["#right-input"].value=_this981["#top-input"].value,_this981["#bottom-input"].value=_this981["#top-input"].value):_this981._t[0]=_this981["#top-input"].value,_this981.dispatchEvent(new CustomEvent("change"));}),this["#top-input"].addEventListener("changeend",_e1760=function e(){_this981["#top-input"].removeEventListener("change",t),_this981["#top-input"].removeEventListener("changeend",_e1760),_this981.dispatchEvent(new CustomEvent("changeend"));});}},{key:"WM",value:function WM(){var _this982=this;var t,_e1761,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#right-input"].addEventListener("change",t=function t(){i?_this982._t=_this982["#top-input"].value:_this982._t[1]=_this982["#right-input"].value,_this982.dispatchEvent(new CustomEvent("change"));}),this["#right-input"].addEventListener("changeend",_e1761=function e(){_this982["#right-input"].removeEventListener("change",t),_this982["#right-input"].removeEventListener("changeend",_e1761),_this982.dispatchEvent(new CustomEvent("changeend"));});}},{key:"YM",value:function YM(){var _this983=this;var t,_e1762,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#bottom-input"].addEventListener("change",t=function t(){i?_this983._t=_this983["#bottom-input"].value:_this983._t[2]=_this983["#bottom-input"].value,_this983.dispatchEvent(new CustomEvent("change"));}),this["#bottom-input"].addEventListener("changeend",_e1762=function e(){_this983["#bottom-input"].removeEventListener("change",t),_this983["#bottom-input"].removeEventListener("changeend",_e1762),_this983.dispatchEvent(new CustomEvent("changeend"));});}},{key:"qM",value:function qM(){var _this984=this;var t,_e1763,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#left-input"].addEventListener("change",t=function t(){i?_this984._t=_this984["#left-input"].value:_this984._t[3]=_this984["#left-input"].value,_this984.dispatchEvent(new CustomEvent("change"));}),this["#left-input"].addEventListener("changeend",_e1763=function e(){_this984["#left-input"].removeEventListener("change",t),_this984["#left-input"].removeEventListener("changeend",_e1763),_this984.dispatchEvent(new CustomEvent("changeend"));});}},{key:"XM",value:function XM(){this["#uniform-button"].toggled?this.value=this["#top-input"].value:this.value=[this["#top-input"].value,this["#top-input"].value,this["#top-input"].value,this["#top-input"].value],this.dispatchEvent(new CustomEvent("changestart")),this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend"));}},{key:"ZM",value:function ZM(){this["#left-input"].suffix=this.suffix,this["#right-input"].suffix=this.suffix,this["#top-input"].suffix=this.suffix,this["#bottom-input"].suffix=this.suffix;}},{key:"Xs",value:function Xs(){if(Array.isArray(this.value)){var _this$value6=_slicedToArray(this.value,4),_t2432=_this$value6[0],_e1764=_this$value6[1],_i1455=_this$value6[2],_s844=_this$value6[3];this["#top-input"].value=_t2432,this["#top-input"].disabled=this.disabled,this["#right-input"].value=_e1764,this["#right-input"].disabled=this.disabled,this["#bottom-input"].value=_i1455,this["#bottom-input"].disabled=this.disabled,this["#left-input"].value=_s844,this["#left-input"].disabled=this.disabled,this["#uniform-button"].toggled=!1,this["#uniform-button"].disabled=this.disabled;}else this["#top-input"].value=this.value,this["#top-input"].disabled=this.disabled,this["#right-input"].value=this.value,this["#right-input"].disabled=!0,this["#bottom-input"].value=this.value,this["#bottom-input"].disabled=!0,this["#left-input"].value=this.value,this["#left-input"].disabled=!0,this["#uniform-button"].toggled=!0,this["#uniform-button"].disabled=this.disabled;}}]);return Cf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cf,"observedAttributes",["suffix","disabled"]);_defineProperty(Cf,"_shadowTemplate",Ki(_templateObject516()));_defineProperty(Cf,"_shadowStyleSheet",Qi(_templateObject517()));customElements.define("bx-edgeinput",Cf);var _f=Array.isArray;var Mf=/*#__PURE__*/function(_Jg7){_inherits(Mf,_Jg7);var _super222=_createSuper(Mf);function Mf(){var _this985;_classCallCheck(this,Mf);_this985=_super222.call(this),_this985.KM=es(_this985.Up,1e3,_assertThisInitialized(_this985)),_this985["#area-buttons"].addEventListener("toggle",function(){return _this985.QM();}),_this985["#padding-input"].addEventListener("changestart",function(){return _this985.JM();}),_this985["#origin-switch"].addEventListener("toggle",function(){return _this985.tP();}),_this985["#origin-x-input"].addEventListener("changestart",function(){return _this985.aw();}),_this985["#origin-y-input"].addEventListener("changestart",function(){return _this985.hw();}),_this985["#generate-button"].addEventListener("click",function(){return _this985.rM();});return _this985;}_createClass(Mf,[{key:"connectedCallback",value:function connectedCallback(){var _this986=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.tn.board;t.addEventListener("selectedelementschange",this.al=function(){_this986.hl();}),t.addEventListener("workspacemutation",this.rn=function(){_this986.pl();}),this.eP(!0),this.Up(),this.iP();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){"selected"===this["#area-buttons"].value&&(this.Up(),this.iP());}},{key:"pl",value:function pl(){this.eP(),this.iP(),this.KM();}},{key:"QM",value:function QM(){this.Js.setConfig("bx-resizeviewgenerator:area",this["#area-buttons"].value),this.Up(),this.iP();}},{key:"JM",value:function JM(){var _this987=this;var t,_e1765;this["#padding-input"].addEventListener("change",t=function t(){_this987.eP();}),this["#padding-input"].addEventListener("changeend",_e1765=function e(){_this987["#padding-input"].removeEventListener("change",t),_this987["#padding-input"].removeEventListener("changeend",_e1765),_this987.Up(),_this987.Js.setConfig("bx-resizeviewgenerator:padding",_this987["#padding-input"].value);});}},{key:"tP",value:function tP(){this["#origin-switch"].toggled?this.Js.setConfig("bx-resizeviewgenerator:origin",[0,0]):this.Js.setConfig("bx-resizeviewgenerator:origin",null),this.eP(),this.Up();}},{key:"aw",value:function aw(){var _this988=this;var t,_e1766;this["#origin-x-input"].addEventListener("change",t=function t(){_this988["#preview-x-td"].textContent=_this988["#origin-x-input"].value;}),this["#origin-x-input"].addEventListener("changeend",_e1766=function e(){_this988["#origin-x-input"].removeEventListener("change",t),_this988["#origin-x-input"].removeEventListener("changeend",_e1766);var i=[_this988["#origin-x-input"].value,_this988["#origin-y-input"].value];_this988.Js.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"hw",value:function hw(){var _this989=this;var t,_e1767;this["#origin-y-input"].addEventListener("change",t=function t(){_this989["#preview-y-td"].textContent=_this989["#origin-y-input"].value;}),this["#origin-y-input"].addEventListener("changeend",_e1767=function e(){_this989["#origin-y-input"].removeEventListener("change",t),_this989["#origin-y-input"].removeEventListener("changeend",_e1767);var i=[_this989["#origin-x-input"].value,_this989["#origin-y-input"].value];_this989.Js.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"rM",value:function rM(){var t=this.tn.board,e=[];if("all"===this["#area-buttons"].value){var _iterator1577=_createForOfIteratorHelper(t.currentWorkspace.children),_step1577;try{for(_iterator1577.s();!(_step1577=_iterator1577.n()).done;){var _i1456=_step1577.value;v.includes(_i1456.localName)&&e.push(_i1456);}}catch(err){_iterator1577.e(err);}finally{_iterator1577.f();}}else"selected"===this["#area-buttons"].value&&(e=t.outermostSelectedObjectElements);if(e.length>0){t.undoManager.checkpoint("Resize view");var _i1457=e.map(function(t){return Ei(t);}),_s845=Ve(He(_i1457),Yt(t.currentWorkspace).inverse()),_n559=this["#padding-input"].value;!1===_f(_n559)&&(_n559=[_n559,_n559,_n559,_n559]);var _n560=_n559,_n561=_slicedToArray(_n560,4),_o519=_n561[0],_l385=_n561[1],_a283=_n561[2],_h226=_n561[3];if(!1===this["#origin-switch"].toggled)_s845.x-=_h226,_s845.y-=_o519,_s845.width+=_h226+_l385,_s845.height+=_o519+_a283,_s845=je(_s845,t.geometryPrecision);else{var _i1458=this["#origin-x-input"].value-_s845.x+_h226,_n562=this["#origin-y-input"].value-_s845.y+_o519;_s845.x=this["#origin-x-input"].value,_s845.y=this["#origin-y-input"].value,_s845.width+=_h226+_l385,_s845.height+=_o519+_a283,_s845=je(_s845,t.geometryPrecision);var _iterator1578=_createForOfIteratorHelper(e),_step1578;try{for(_iterator1578.s();!(_step1578=_iterator1578.n()).done;){var _s846=_step1578.value;if(v.includes(_s846.localName)){var _e1768=Wt(_s846,t.vectorCanvas),_o520=_e1768.inverse(),_l386=Ht(_s846),_a284=DOMMatrix.fromMatrix(_l386);_a284.multiplySelf(_o520),_a284.translateSelf(_i1458,_n562),_a284.multiplySelf(_e1768),_s846.setAttribute("transform",_a284.toString()),va(_s846,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}}catch(err){_iterator1578.e(err);}finally{_iterator1578.f();}}if(this["#view-select"].value.startsWith("#")){t.currentWorkspace.querySelector(this["#view-select"].value).setAttribute("viewBox","".concat(_s845.x," ").concat(_s845.y," ").concat(_s845.width," ").concat(_s845.height));}else t.currentWorkspace.setAttribute("viewBox","".concat(_s845.x," ").concat(_s845.y," ").concat(_s845.width," ").concat(_s845.height));}}},{key:"eP",value:function eP(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.tn.board,i=e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===e.currentWorkspace.hasAttribute("viewBox")&&0===i.length?this["#options-heading"].disabled=!0:this["#options-heading"].disabled=!1;{var _t2433=[];e.currentWorkspace.hasAttribute("viewBox")&&_t2433.push(["default","Default view"]);var _iterator1579=_createForOfIteratorHelper(i),_step1579;try{for(_iterator1579.s();!(_step1579=_iterator1579.n()).done;){var _e1770=_step1579.value;var _i1462=_e1770.querySelector(":scope > bx-title"),_s848="#"+_e1770.id;_t2433.push([_s848,_i1462?_i1462.textContent:_s848]);}}catch(err){_iterator1579.e(err);}finally{_iterator1579.f();}{var _e1769="",_i1459=this["#view-select"].value||"default";for(var _i1460=0,_t2434=_t2433;_i1460<_t2434.length;_i1460++){var _t2434$_i=_slicedToArray(_t2434[_i1460],2),_i1461=_t2434$_i[0],_s847=_t2434$_i[1];_e1769+="<x-menuitem value=\"".concat(_i1461,"\"><x-label>").concat(_s847,"</x-label></x-menuitem>");}this["#view-select"].value=null,this["#view-menu"].innerHTML=_e1769,0===_t2433.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=null):1===_t2433.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=_t2433[0][0]):(this["#view-subsection"].hidden=!1,void 0!==_t2433.find(function(_ref232){var _ref233=_slicedToArray(_ref232,1),t=_ref233[0];return t===_i1459;})?this["#view-select"].value=_i1459:this["#view-select"].value=_t2433[0][0]);}}if(t){var _t2435=this.Js.getConfig("bx-resizeviewgenerator:area","all");this["#area-buttons"].value=_t2435;}if(null===this["#view-select"].value?(this["#area-heading"].disabled=!0,this["#all-area-button"].disabled=!0,this["#selected-area-button"].disabled=!0):(this["#area-heading"].disabled=!1,this["#all-area-button"].disabled=!1,this["#selected-area-button"].disabled=!1),t&&(this["#padding-input"].value=this.Js.getConfig("bx-resizeviewgenerator:padding",0)),null===this["#view-select"].value?(this["#padding-heading"].disabled=!0,this["#padding-input"].disabled=!0):(this["#padding-heading"].disabled=!1,this["#padding-input"].disabled=!1),t){var _t2436=this.Js.getConfig("bx-resizeviewgenerator:origin",null);this["#origin-switch"].toggled=_f(_t2436),this["#origin-x-input"].value=_f(_t2436)?_t2436[0]:0,this["#origin-y-input"].value=_f(_t2436)?_t2436[1]:0;}null===this["#view-select"].value?(this["#origin-heading"].disabled=!0,this["#origin-switch"].disabled=!0,this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0):(this["#origin-heading"].disabled=!1,this["#origin-switch"].disabled=!1,this["#origin-switch"].toggled?(this["#origin-x-label"].disabled=!1,this["#origin-x-input"].disabled=!1,this["#origin-y-label"].disabled=!1,this["#origin-y-input"].disabled=!1,null===this["#origin-x-input"].value&&(this["#origin-x-input"].value=0),null===this["#origin-y-input"].value&&(this["#origin-y-input"].value=0)):(this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-x-input"].value=null,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0,this["#origin-y-input"].value=null));}},{key:"Up",value:function(){var _Up=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee241(){var t,e,_e1771,_i1463,_iterator1580,_step1580,_i1464,_s849,_n563,_o521,_l387,_l388,_l389,_a285,_h227,_r148,_d118,_c84,_p80;return regeneratorRuntime.wrap(function _callee241$(_context243){while(1){switch(_context243.prev=_context243.next){case 0:t=this.tn.board,e=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");if(!(!1===t.currentWorkspace.hasAttribute("viewBox")&&0===e.length)){_context243.next=5;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context243.next=21;break;case 5:_e1771=[],_i1463=[];_iterator1580=_createForOfIteratorHelper(t.currentWorkspace.children);try{for(_iterator1580.s();!(_step1580=_iterator1580.n()).done;){_i1464=_step1580.value;v.includes(_i1464.localName)&&_e1771.push(_i1464);}}catch(err){_iterator1580.e(err);}finally{_iterator1580.f();}if(!("all"===this["#area-buttons"].value?_i1463=[].concat(_e1771):"selected"===this["#area-buttons"].value&&(_i1463=t.outermostSelectedObjectElements),0===_i1463.length)){_context243.next=12;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context243.next=21;break;case 12:_s849=t.extractArtworkWithElements(_e1771),_n563=_i1463.map(function(t){return Ei(t);}),_o521=He(_n563),_l387=this["#padding-input"].value;!1===_f(_l387)&&(_l387=[_l387,_l387,_l387,_l387]);_l388=_l387,_l389=_slicedToArray(_l388,4),_a285=_l389[0],_h227=_l389[1],_r148=_l389[2],_d118=_l389[3];_o521=Ve(_o521,Yt(t.currentWorkspace).inverse()),_o521=je(_o521,t.geometryPrecision),_s849.initialViewBox=new DOMRect(_o521.x,_o521.y,_o521.width,_o521.height),_o521.width+=_d118+_h227,_o521.height+=_a285+_r148,_o521.x-=_d118,_o521.y-=_a285,_o521=je(_o521,t.geometryPrecision),_s849.setAttribute("viewBox","".concat(_o521.x," ").concat(_o521.y," ").concat(_o521.width," ").concat(_o521.height)),_s849.setAttribute("width",_o521.width),_s849.setAttribute("height",_o521.height);_c84=Hp(_s849);_context243.next=19;return Yp(_c84);case 19:_p80=_context243.sent;this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1,this["#preview"].setAttribute("src",_p80),this["#origin-switch"].toggled?(this["#preview-x-td"].textContent=this["#origin-x-input"].value,this["#preview-y-td"].textContent=this["#origin-y-input"].value):(this["#preview-x-td"].textContent=_o521.x,this["#preview-y-td"].textContent=_o521.y),this["#preview-width-td"].textContent=_o521.width,this["#preview-height-td"].textContent=_o521.height;case 21:case"end":return _context243.stop();}}},_callee241,this);}));function Up(){return _Up.apply(this,arguments);}return Up;}()},{key:"iP",value:function iP(){var t=this.tn.board,e=t.outermostSelectedObjectElements,i=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===t.currentWorkspace.hasAttribute("viewBox")&&0===i.length||"selected"===this["#area-buttons"].value&&0===e.length?this["#generate-button"].disabled=!0:this["#generate-button"].disabled=!1;}}]);return Mf;}(Jg);_defineProperty(Mf,"nM",Ki(_templateObject518()));_defineProperty(Mf,"oM",Ki(_templateObject519()));_defineProperty(Mf,"_shadowStyleSheet",Qi(_templateObject520()));customElements.define("bx-resizeviewgenerator",Mf);var Pf={"default":{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},blackAndWhite:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:2,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:0,lineFilter:!1,ignoreWhite:!0},grayscale:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:7,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},posterized:{workingSize:512,blurRadius:5,blurDelta:20,numberOfColors:5,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},curvy:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.01,qtres:1,pathOmit:8,rightAngleEnhance:!1,strokeWidth:1,lineFilter:!0,ignoreWhite:!1},sharp:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:.01,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},detailed:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:64,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.5,qtres:.5,pathOmit:0,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},smoothed:{workingSize:512,blurRadius:5,blurDelta:64,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1}};var Df=/*#__PURE__*/function(_Jg8){_inherits(Df,_Jg8);var _super223=_createSuper(Df);_createClass(Df,[{key:"options",get:function get(){return{workingSize:this["#working-size-input"].value,blurRadius:this["#blur-radius-input"].value,blurDelta:this["#blur-delta-input"].value,numberOfColors:this["#number-of-colors-input"].value,minColorRatio:this["#min-color-ratio-input"].value,colorQuantCycles:this["#color-quant-cycles-input"].value,colorSampling:parseInt(this["#color-sampling-buttons"].value),ltres:this["#ltres-input"].value,qtres:this["#qtres-input"].value,pathOmit:this["#path-omit-input"].value,rightAngleEnhance:this["#right-angle-enhance-checkbox"].toggled,strokeWidth:this["#stroke-width-input"].value,lineFilter:this["#line-filter-checkbox"].toggled,ignoreWhite:this["#ignore-white-checkbox"].toggled,geometryPrecision:this.tn.board.geometryPrecision};}}]);function Df(){var _this990;_classCallCheck(this,Df);_this990=_super223.call(this),_this990["#preset-select"].addEventListener("change",function(){return _this990.sP();}),_this990["#working-size-box"].addEventListener("changestart",function(){return _this990.nP();}),_this990["#blur-radius-input"].addEventListener("changestart",function(){return _this990.oP();}),_this990["#blur-delta-input"].addEventListener("changestart",function(){return _this990.lP();}),_this990["#number-of-colors-input"].addEventListener("changestart",function(){return _this990.aP();}),_this990["#min-color-ratio-input"].addEventListener("changestart",function(){return _this990.hP();}),_this990["#color-quant-cycles-input"].addEventListener("changestart",function(){return _this990.rP();}),_this990["#color-sampling-buttons"].addEventListener("toggle",function(){return _this990.dP();}),_this990["#ltres-input"].addEventListener("changestart",function(){return _this990.cP();}),_this990["#qtres-input"].addEventListener("changestart",function(){return _this990.pP();}),_this990["#path-omit-input"].addEventListener("changestart",function(){return _this990.uP();}),_this990["#right-angle-enhance-checkbox"].addEventListener("toggle",function(){return _this990.xP();}),_this990["#stroke-width-box"].addEventListener("changestart",function(){return _this990.bP();}),_this990["#line-filter-checkbox"].addEventListener("toggle",function(){return _this990.mP();}),_this990["#ignore-white-checkbox"].addEventListener("toggle",function(){return _this990.gP();}),_this990["#preview-button"].addEventListener("click",function(){return _this990.FM();}),_this990["#generate-button"].addEventListener("click",function(){return _this990.rM();});return _this990;}_createClass(Df,[{key:"connectedCallback",value:function connectedCallback(){var _this991=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js,e=this.tn.board,i=t.getConfig("bx-vectorizegenerator:workingSize",512),s=t.getConfig("bx-vectorizegenerator:blurRadius",0),n=t.getConfig("bx-vectorizegenerator:blurDelta",20),o=t.getConfig("bx-vectorizegenerator:numberOfColors",16),l=t.getConfig("bx-vectorizegenerator:minColorRatio",0),a=t.getConfig("bx-vectorizegenerator:colorQuantCycles",3),h=t.getConfig("bx-vectorizegenerator:colorSampling",2),r=t.getConfig("bx-vectorizegenerator:ltres",1),d=t.getConfig("bx-vectorizegenerator:qtres",1),c=t.getConfig("bx-vectorizegenerator:pathOmit",8),p=t.getConfig("bx-vectorizegenerator:rightAngleEnhance",!0),u=t.getConfig("bx-vectorizegenerator:strokeWidth",1),x=t.getConfig("bx-vectorizegenerator:lineFilter",!1),b=t.getConfig("bx-vectorizegenerator:ignoreWhite",!1);this["#working-size-slider"].value=i,this["#working-size-input"].value=i,this["#blur-radius-input"].value=s,this["#blur-delta-input"].value=n,this["#number-of-colors-input"].value=o,this["#min-color-ratio-input"].value=l,this["#color-quant-cycles-input"].value=a,this["#color-sampling-buttons"].value=h+"",this["#ltres-input"].value=r,this["#qtres-input"].value=d,this["#path-omit-input"].value=c,this["#right-angle-enhance-checkbox"].toggled=p,this["#stroke-width-input"].value=u,this["#stroke-width-slider"].value=u,this["#line-filter-checkbox"].toggled=x,this["#ignore-white-checkbox"].toggled=b,e.addEventListener("selectedelementschange",this.al=function(){_this991.NM(),_this991.Xs();}),e.addEventListener("workspacemutation",this.rn=function(){_this991.NM(),_this991.Xs();}),this.Xs(),this.fP();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"sP",value:function sP(){var t=this["#preset-select"].value,e=Pf[t];if(this.NM(),e){for(var _i1465=0,_Object$entries12=Object.entries(e);_i1465<_Object$entries12.length;_i1465++){var _Object$entries12$_i=_slicedToArray(_Object$entries12[_i1465],2),_t2437=_Object$entries12$_i[0],_i1466=_Object$entries12$_i[1];this.Js.setConfig("bx-vectorizegenerator:".concat(_t2437),_i1466);}this["#working-size-slider"].value=e.workingSize,this["#working-size-input"].value=e.workingSize,this["#blur-radius-input"].value=e.blurRadius,this["#blur-delta-input"].value=e.blurDelta,this["#number-of-colors-input"].value=e.numberOfColors,this["#min-color-ratio-input"].value=e.minColorRatio,this["#color-quant-cycles-input"].value=e.colorQuantCycles,this["#color-sampling-buttons"].value=e.colorSampling+"",this["#ltres-input"].value=e.ltres,this["#qtres-input"].value=e.qtres,this["#path-omit-input"].value=e.pathOmit,this["#right-angle-enhance-checkbox"].toggled=e.rightAngleEnhance,this["#stroke-width-input"].value=e.strokeWidth,this["#stroke-width-slider"].value=e.strokeWidth,this["#line-filter-checkbox"].toggled=e.lineFilter,this["#ignore-white-checkbox"].toggled=e.ignoreWhite;}}},{key:"nP",value:function nP(){var _this992=this;var t,_e1772;this.NM(),this["#working-size-box"].addEventListener("change",t=function t(_t2438){_t2438.target===_this992["#working-size-slider"]?_this992["#working-size-input"].value=_this992["#working-size-slider"].value:_t2438.target===_this992["#working-size-input"]&&(_this992["#working-size-slider"].value=_this992["#working-size-input"].value);}),this["#working-size-box"].addEventListener("changeend",_e1772=function e(){_this992["#working-size-box"].removeEventListener("change",t),_this992["#working-size-box"].removeEventListener("changeend",_e1772),_this992.Js.setConfig("bx-vectorizegenerator:workingSize",_this992["#working-size-slider"].value),_this992.fP();});}},{key:"oP",value:function oP(){var _this993=this;this.NM(),this["#blur-radius-input"].addEventListener("changeend",function(){_this993.Js.setConfig("bx-vectorizegenerator:blurRadius",_this993["#blur-radius-input"].value),_this993.fP();},{once:!0});}},{key:"lP",value:function lP(){var _this994=this;this.NM(),this["#blur-delta-input"].addEventListener("changeend",function(){_this994.Js.setConfig("bx-vectorizegenerator:blurDelta",_this994["#blur-delta-input"].value),_this994.fP();},{once:!0});}},{key:"aP",value:function aP(){var _this995=this;this.NM(),this["#number-of-colors-input"].addEventListener("changeend",function(){_this995.Js.setConfig("bx-vectorizegenerator:numberOfColors",_this995["#number-of-colors-input"].value),_this995.fP();},{once:!0});}},{key:"hP",value:function hP(){var _this996=this;this.NM(),this["#min-color-ratio-input"].addEventListener("changeend",function(){_this996.Js.setConfig("bx-vectorizegenerator:minColorRatio",_this996["#min-color-ratio-input"].value),_this996.fP();},{once:!0});}},{key:"rP",value:function rP(){var _this997=this;this.NM(),this["#color-quant-cycles-input"].addEventListener("changeend",function(){_this997.Js.setConfig("bx-vectorizegenerator:colorQuantCycles",_this997["#color-quant-cycles-input"].value),_this997.fP();});}},{key:"dP",value:function dP(){this.NM(),this.Js.setConfig("bx-vectorizegenerator:colorSampling",this["#color-sampling-buttons"].value),this.fP();}},{key:"cP",value:function cP(){var _this998=this;this.NM(),this["#ltres-input"].addEventListener("changeend",function(){_this998.Js.setConfig("bx-vectorizegenerator:ltres",_this998["#ltres-input"].value),_this998.fP();},{once:!0});}},{key:"pP",value:function pP(){var _this999=this;this.NM(),this["#qtres-input"].addEventListener("changeend",function(){_this999.Js.setConfig("bx-vectorizegenerator:qtres",_this999["#qtres-input"].value),_this999.fP();},{once:!0});}},{key:"uP",value:function uP(){var _this1000=this;this.NM(),this["#path-omit-input"].addEventListener("changeend",function(){_this1000.Js.setConfig("bx-vectorizegenerator:pathOmit",_this1000["#path-omit-input"].value),_this1000.fP();},{once:!0});}},{key:"xP",value:function xP(){this.NM(),this.Js.setConfig("bx-vectorizegenerator:rightAngleEnhance",this["#right-angle-enhance-checkbox"].toggled),this.fP();}},{key:"bP",value:function bP(){var _this1001=this;var t,_e1773;this.NM(),this["#stroke-width-box"].addEventListener("change",t=function t(_t2439){_t2439.target===_this1001["#stroke-width-slider"]?_this1001["#stroke-width-input"].value=_this1001["#stroke-width-slider"].value:_t2439.target===_this1001["#stroke-width-input"]&&(_this1001["#stroke-width-slider"].value=_this1001["#stroke-width-input"].value);}),this["#stroke-width-box"].addEventListener("changeend",_e1773=function e(){_this1001["#stroke-width-box"].removeEventListener("change",t),_this1001["#stroke-width-box"].removeEventListener("changeend",_e1773),_this1001.Js.setConfig("bx-vectorizegenerator:strokeWidth",_this1001["#stroke-width-input"].value),_this1001.fP();});}},{key:"mP",value:function mP(){this.NM(),this.Js.setConfig("bx-vectorizegenerator:lineFilter",this["#line-filter-checkbox"].toggled),this.fP();}},{key:"gP",value:function gP(){this.NM(),this.Js.setConfig("bx-vectorizegenerator:ignoreWhite",this["#ignore-white-checkbox"].toggled),this.fP();}},{key:"FM",value:function FM(){this.VM();}},{key:"rM",value:function(){var _rM2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee242(){var t,e,i,s,n,o,l,a,h,r,d,c,p,_i1467,_arr78,_e1774,_iterator1581,_step1581,_loop44;return regeneratorRuntime.wrap(function _callee242$(_context244){while(1){switch(_context244.prev=_context244.next){case 0:e=this.tn.board;i=e.selectedElements[0];_context244.next=4;return window.createImageBitmap(i);case 4:s=_context244.sent;n=Ht(i);o=i.getBBox();_context244.next=9;return this.wP(s,this.options);case 9:l=_context244.sent;a=Ai(l);h=o.width/a.viewBox.baseVal.width;r=o.height/a.viewBox.baseVal.height;d=o.x-a.viewBox.baseVal.x*h;c=o.y-a.viewBox.baseVal.y*r;p=new DOMMatrix();if(p.multiplySelf(n),p.translateSelf(d,c),p.scaleSelf(h,r),p=Ft(p,e.transformPrecision),e.undoManager.checkpoint("Vectorize"),1===a.children.length)t=a.children[0];else{t=$i("svg:g");for(_i1467=0,_arr78=_toConsumableArray(a.children);_i1467<_arr78.length;_i1467++){_e1774=_arr78[_i1467];t.append(_e1774);}}t.setAttribute("transform",p);_iterator1581=_createForOfIteratorHelper(i.style);try{_loop44=function _loop44(){var e=_step1581.value;var s=i.style.getPropertyValue(e),n=N.find(function(t){return t.name===e;});n&&n.appliesTo.includes(t.localName)&&t.style.setProperty(e,s);};for(_iterator1581.s();!(_step1581=_iterator1581.n()).done;){_loop44();}}catch(err){_iterator1581.e(err);}finally{_iterator1581.f();}i.replaceWith(t),e.selectedElements=[t],e.selectedTextRange=null;case 21:case"end":return _context244.stop();}}},_callee242,this);}));function rM(){return _rM2.apply(this,arguments);}return rM;}()},{key:"wP",value:function wP(t,e){return new Promise(function(i){var s=new Worker("/workers/vectorize.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"VM",value:function(){var _VM2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee243(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee243$(_context245){while(1){switch(_context245.prev=_context245.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this.tn.board.selectedElements[0];_context245.next=4;return window.createImageBitmap(t);case 4:e=_context245.sent;t.getBoundingClientRect();_context245.next=8;return this.wP(e,this.options);case 8:i=_context245.sent;s=Ai(i);s.setAttribute("id","preview"),s.setAttribute("part","preview"),this["#preview"].replaceWith(s),this["#preview"]=s,this["#preview-label"].textContent="",this["#preview-label"].hidden=!0,this["#preview-section"].scrollIntoViewIfNeeded();case 11:case"end":return _context245.stop();}}},_callee243,this);}));function VM(){return _VM2.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].setAttribute("hidden",""),this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var t=null;1===this.tn.board.outermostSelectedObjectElements.length&&"image"===this.tn.board.outermostSelectedObjectElements[0].localName&&(t=this.tn.board.outermostSelectedObjectElements[0]);var e=null===t;this["#options-heading"].disabled=e,this["#preset-heading"].disabled=e,this["#preset-select"].disabled=e,this["#preprocessing-heading"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#blur-radius-heading"].disabled=e,this["#blur-radius-input"].disabled=e,this["#blur-delta-heading"].disabled=e,this["#blur-delta-input"].disabled=e,this["#color-heading"].disabled=e,this["#number-of-colors-heading"].disabled=e,this["#number-of-colors-input"].disabled=e,this["#min-color-ratio-heading"].disabled=e,this["#min-color-ratio-input"].disabled=e,this["#color-quant-cycles-heading"].disabled=e,this["#color-quant-cycles-input"].disabled=e,this["#color-sampling-heading"].disabled=e;var _iterator1582=_createForOfIteratorHelper(this["#color-sampling-buttons"].children),_step1582;try{for(_iterator1582.s();!(_step1582=_iterator1582.n()).done;){var _t2440=_step1582.value;_t2440.disabled=e;}}catch(err){_iterator1582.e(err);}finally{_iterator1582.f();}this["#tracing-heading"].disabled=e,this["#ltres-heading"].disabled=e,this["#ltres-input"].disabled=e,this["#qtres-heading"].disabled=e,this["#qtres-input"].disabled=e,this["#path-omit-heading"].disabled=e,this["#path-omit-input"].disabled=e,this["#right-angle-enhance-checkbox"].disabled=e,this["#right-angle-enhance-label"].disabled=e,this["#rendering-heading"].disabled=e,this["#stroke-width-heading"].disabled=e,this["#stroke-width-slider"].disabled=e,this["#stroke-width-input"].disabled=e,this["#line-filter-checkbox"].disabled=e,this["#ignore-white-checkbox"].disabled=e,this["#preview-heading"].disabled=e,this["#preview-button"].disabled=e,this["#generate-button"].disabled=null===t;}},{key:"fP",value:function fP(){var t=null;for(var _i1468=0,_Object$entries13=Object.entries(Pf);_i1468<_Object$entries13.length;_i1468++){var _Object$entries13$_i=_slicedToArray(_Object$entries13[_i1468],2),_e1775=_Object$entries13$_i[0],_i1469=_Object$entries13$_i[1];if(this["#working-size-input"].value===_i1469.workingSize&&this["#working-size-slider"].value===_i1469.workingSize&&this["#blur-radius-input"].value===_i1469.blurRadius&&this["#blur-delta-input"].value===_i1469.blurDelta&&this["#number-of-colors-input"].value===_i1469.numberOfColors&&this["#min-color-ratio-input"].value===_i1469.minColorRatio&&this["#color-quant-cycles-input"].value===_i1469.colorQuantCycles&&this["#color-sampling-buttons"].value===_i1469.colorSampling+""&&this["#ltres-input"].value===_i1469.ltres&&this["#qtres-input"].value===_i1469.qtres&&this["#path-omit-input"].value===_i1469.pathOmit&&this["#right-angle-enhance-checkbox"].toggled===_i1469.rightAngleEnhance&&this["#stroke-width-input"].value===_i1469.strokeWidth&&this["#line-filter-checkbox"].toggled===_i1469.lineFilter&&this["#ignore-white-checkbox"].toggled===_i1469.ignoreWhite){t=_e1775;break;}}this["#preset-select"].value=t;}}]);return Df;}(Jg);_defineProperty(Df,"nM",Ki(_templateObject521()));_defineProperty(Df,"oM",Ki(_templateObject522()));_defineProperty(Df,"_shadowStyleSheet",Qi(_templateObject523()));customElements.define("bx-vectorizegenerator",Df);var zf=/*#__PURE__*/function(_Jg9){_inherits(zf,_Jg9);var _super224=_createSuper(zf);_createClass(zf,[{key:"options",get:function get(){return{columns:this["#columns-input"].value,rows:this["#rows-input"].value,pixelSize:this["#pixel-size-input"].value/100,pixelShape:this["#pixel-shape-buttons"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.tn.board.geometryPrecision};}}]);function zf(){var _this1002;_classCallCheck(this,zf);_this1002=_super224.call(this),_this1002.np=es(_this1002.Xs,1e3,_assertThisInitialized(_this1002)),_this1002["#columns-input"].addEventListener("changestart",function(){return _this1002.PM();}),_this1002["#rows-input"].addEventListener("changestart",function(){return _this1002.DM();}),_this1002["#pixel-size-box"].addEventListener("changestart",function(){return _this1002._m();}),_this1002["#pixel-shape-buttons"].addEventListener("toggle",function(){return _this1002.vP();}),_this1002["#render-as-buttons"].addEventListener("toggle",function(){return _this1002.yP();}),_this1002["#generate-button"].addEventListener("click",function(){return _this1002.rM();});return _this1002;}_createClass(zf,[{key:"connectedCallback",value:function connectedCallback(){var _this1003=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js.getConfig("bx-pixelategenerator:columns",20),e=this.Js.getConfig("bx-pixelategenerator:rows",20),i=this.Js.getConfig("bx-pixelategenerator:pixelSize",.9),s=this.Js.getConfig("bx-pixelategenerator:pixelShape","rectangle"),n=this.Js.getConfig("bx-pixelategenerator:renderAs","paths");this["#columns-input"].value=t,this["#rows-input"].value=e,this["#pixel-size-slider"].value=J(100*i,2),this["#pixel-size-input"].value=J(100*i,2),this["#pixel-shape-buttons"].value=s,this["#render-as-buttons"].value=n,this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this1003.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this1003.np();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"PM",value:function PM(t){var _this1004=this;var e,i,s=this["#rows-input"].value/this["#columns-input"].value;this["#columns-input"].addEventListener("change",e=function e(){_this1004["#rows-input"].value=Math.ceil(_this1004["#columns-input"].value*s);}),this["#columns-input"].addEventListener("changeend",i=function(_i1470){function i(){return _i1470.apply(this,arguments);}i.toString=function(){return _i1470.toString();};return i;}(function(){_this1004["#columns-input"].removeEventListener("change",e),_this1004["#columns-input"].removeEventListener("changeend",i),_this1004.Js.setConfig("bx-pixelategenerator:columns",_this1004["#columns-input"].value),_this1004.Js.setConfig("bx-pixelategenerator:rows",_this1004["#rows-input"].value),_this1004.Xs();}));}},{key:"DM",value:function DM(t){var _this1005=this;var e,i,s=this["#columns-input"].value/this["#rows-input"].value;this["#rows-input"].addEventListener("change",e=function e(){_this1005["#columns-input"].value=Math.ceil(_this1005["#rows-input"].value*s);}),this["#rows-input"].addEventListener("changeend",i=function(_i1471){function i(){return _i1471.apply(this,arguments);}i.toString=function(){return _i1471.toString();};return i;}(function(){_this1005["#rows-input"].removeEventListener("change",e),_this1005["#rows-input"].removeEventListener("changeend",i),_this1005.Js.setConfig("bx-pixelategenerator:columns",_this1005["#columns-input"].value),_this1005.Js.setConfig("bx-pixelategenerator:rows",_this1005["#rows-input"].value),_this1005.Xs();}));}},{key:"_m",value:function _m(){var _this1006=this;var t,_e1776;this["#pixel-size-box"].addEventListener("change",t=function t(_t2441){_t2441.target===_this1006["#pixel-size-slider"]?_this1006["#pixel-size-input"].value=_this1006["#pixel-size-slider"].value:_t2441.target===_this1006["#pixel-size-input"]&&(_this1006["#pixel-size-slider"].value=_this1006["#pixel-size-input"].value);}),this["#pixel-size-box"].addEventListener("changeend",_e1776=function e(){_this1006["#pixel-size-box"].removeEventListener("change",t),_this1006["#pixel-size-box"].removeEventListener("changeend",_e1776),_this1006.Js.setConfig("bx-pixelategenerator:pixelSize",_this1006["#pixel-size-slider"].value/100),_this1006.Xs();});}},{key:"vP",value:function vP(){this.Js.setConfig("bx-pixelategenerator:pixelShape",this["#pixel-shape-buttons"].value),this.Xs();}},{key:"yP",value:function yP(){this.Js.setConfig("bx-pixelategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"rM",value:function(){var _rM3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee244(){var t,e,i,_t2442,_i1472,_s850,s,n,o,l,_iterator1583,_step1583,_loop45;return regeneratorRuntime.wrap(function _callee244$(_context246){while(1){switch(_context246.prev=_context246.next){case 0:t=this.tn.board,e=null,i=this.tn.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context246.next=7;break;}_context246.next=4;return createImageBitmap(i);case 4:e=_context246.sent;_context246.next=15;break;case 7:_t2442=this.tn.board.extractArtworkWithSelectedElements();_i1472=Hp(_t2442);_context246.next=11;return kf(_i1472,"png",{colors:0});case 11:_s850=_context246.sent;_context246.next=14;return createImageBitmap(_s850);case 14:e=_context246.sent;case 15:s=i.getBoundingClientRect();_context246.next=18;return this.kP(e,this.options);case 18:n=_context246.sent;o=Zh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Pixelate");l=t.insertArtworkIntoBBox(o,s);_iterator1583=_createForOfIteratorHelper(i.style);try{_loop45=function _loop45(){var t=_step1583.value;var e=i.style.getPropertyValue(t),s=N.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1583.s();!(_step1583=_iterator1583.n()).done;){_loop45();}}catch(err){_iterator1583.e(err);}finally{_iterator1583.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context246.stop();}}},_callee244,this);}));function rM(){return _rM3.apply(this,arguments);}return rM;}()},{key:"kP",value:function kP(t,e){return new Promise(function(i){var s=new Worker("/workers/pixelate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"Xs",value:function(){var _Xs6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee245(){var t,_e1777,_i1473,_e1778,_i1474,_s851,_e1779,_iterator1584,_step1584,_e1781,_iterator1585,_step1585,_e1782,_e1780,_i1475;return regeneratorRuntime.wrap(function _callee245$(_context247){while(1){switch(_context247.prev=_context247.next){case 0:t=null;if(!(1===this.tn.board.outermostSelectedObjectElements.length)){_context247.next=18;break;}_e1777=this.tn.board.outermostSelectedObjectElements[0],_i1473=_e1777.getBoundingClientRect();if(!(_i1473.width>=1&&_i1473.height>=1)){_context247.next=18;break;}if(!("image"===_e1777.localName)){_context247.next=10;break;}_context247.next=7;return createImageBitmap(_e1777);case 7:t=_context247.sent;_context247.next=18;break;case 10:_e1778=this.tn.board.extractArtworkWithSelectedElements();_i1474=Hp(_e1778);_context247.next=14;return kf(_i1474,"png",{colors:0});case 14:_s851=_context247.sent;_context247.next=17;return createImageBitmap(_s851);case 17:t=_context247.sent;case 18:if(this["#options-heading"].disabled=null===t,this["#columns-heading"].disabled=null===t,this["#columns-input"].disabled=null===t,this["#rows-heading"].disabled=null===t,this["#rows-input"].disabled=null===t,t){_e1779=t.height/t.width;this["#rows-input"].value=Math.floor(this["#columns-input"].value*_e1779);}this["#pixel-size-heading"].disabled=null===t,this["#pixel-size-slider"].disabled=null===t,this["#pixel-size-input"].disabled=null===t,this["#pixel-shape-heading"].disabled=null===t;_iterator1584=_createForOfIteratorHelper(this["#pixel-shape-buttons"].children);try{for(_iterator1584.s();!(_step1584=_iterator1584.n()).done;){_e1781=_step1584.value;_e1781.disabled=null===t;}}catch(err){_iterator1584.e(err);}finally{_iterator1584.f();}this["#render-as-heading"].disabled=null===t;_iterator1585=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1585.s();!(_step1585=_iterator1585.n()).done;){_e1782=_step1585.value;_e1782.disabled=null===t;}}catch(err){_iterator1585.e(err);}finally{_iterator1585.f();}if(!(null===t)){_context247.next=29;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context247.next=34;break;case 29:_context247.next=31;return this.kP(t,this.options);case 31:_e1780=_context247.sent;_i1475=Ai(_e1780);_i1475.setAttribute("id","preview"),_i1475.setAttribute("part","preview"),this["#preview"].replaceWith(_i1475),this["#preview"]=_i1475,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 34:this["#generate-button"].disabled=null===t;case 35:case"end":return _context247.stop();}}},_callee245,this);}));function Xs(){return _Xs6.apply(this,arguments);}return Xs;}()}]);return zf;}(Jg);_defineProperty(zf,"nM",Ki(_templateObject524()));_defineProperty(zf,"oM",Ki(_templateObject525()));_defineProperty(zf,"_shadowStyleSheet",Qi(_templateObject526()));customElements.define("bx-pixelategenerator",zf);var Of=/*#__PURE__*/function(_Jg10){_inherits(Of,_Jg10);var _super225=_createSuper(Of);_createClass(Of,[{key:"options",get:function get(){return{cellSize:this["#cell-size-input"].value/100,variance:this["#variance-input"].value/100,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.tn.board.geometryPrecision};}}]);function Of(){var _this1007;_classCallCheck(this,Of);_this1007=_super225.call(this),_this1007.np=es(_this1007.Xs,1e3,_assertThisInitialized(_this1007)),_this1007["#cell-size-box"].addEventListener("changestart",function(){return _this1007.kM();}),_this1007["#variance-box"].addEventListener("changestart",function(){return _this1007.SM();}),_this1007["#seed-box"].addEventListener("changestart",function(){return _this1007.Wk();}),_this1007["#render-as-buttons"].addEventListener("toggle",function(){return _this1007.yP();}),_this1007["#generate-button"].addEventListener("click",function(){return _this1007.rM();});return _this1007;}_createClass(Of,[{key:"connectedCallback",value:function connectedCallback(){var _this1008=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js.getConfig("bx-triangulategenerator:cellSize",.1),e=this.Js.getConfig("bx-triangulategenerator:variance",.75),i=this.Js.getConfig("bx-triangulategenerator:seed",100),s=this.Js.getConfig("bx-triangulategenerator:renderAs","paths");this["#cell-size-slider"].value=J(100*t,2),this["#cell-size-input"].value=J(100*t,2),this["#variance-slider"].value=J(100*e,2),this["#variance-input"].value=J(100*e,2),this["#seed-slider"].value=i,this["#seed-input"].value=i,this["#render-as-buttons"].value=s,this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this1008.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this1008.np();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"kM",value:function kM(){var _this1009=this;var t,_e1783;this["#cell-size-box"].addEventListener("change",t=function t(_t2443){_t2443.target===_this1009["#cell-size-slider"]?_this1009["#cell-size-input"].value=_this1009["#cell-size-slider"].value:_t2443.target===_this1009["#cell-size-input"]&&(_this1009["#cell-size-slider"].value=_this1009["#cell-size-input"].value);}),this["#cell-size-box"].addEventListener("changeend",_e1783=function e(){_this1009["#cell-size-box"].removeEventListener("change",t),_this1009["#cell-size-box"].removeEventListener("changeend",_e1783),_this1009.Js.setConfig("bx-triangulategenerator:cellSize",_this1009["#cell-size-slider"].value/100),_this1009.Xs();});}},{key:"SM",value:function SM(){var _this1010=this;var t,_e1784;this["#variance-box"].addEventListener("change",t=function t(_t2444){_t2444.target===_this1010["#variance-slider"]?_this1010["#variance-input"].value=_this1010["#variance-slider"].value:_t2444.target===_this1010["#variance-input"]&&(_this1010["#variance-slider"].value=_this1010["#variance-input"].value);}),this["#variance-box"].addEventListener("changeend",_e1784=function e(){_this1010["#variance-box"].removeEventListener("change",t),_this1010["#variance-box"].removeEventListener("changeend",_e1784),_this1010.Js.setConfig("bx-triangulategenerator:variance",_this1010["#variance-slider"].value/100),_this1010.Xs();});}},{key:"Wk",value:function Wk(){var _this1011=this;var t,_e1785;this["#seed-box"].addEventListener("change",t=function t(_t2445){_t2445.target===_this1011["#seed-slider"]?_this1011["#seed-input"].value=_this1011["#seed-slider"].value:_t2445.target===_this1011["#seed-input"]&&(_this1011["#seed-slider"].value=_this1011["#seed-input"].value);}),this["#seed-box"].addEventListener("changeend",_e1785=function e(){_this1011["#seed-box"].removeEventListener("change",t),_this1011["#seed-box"].removeEventListener("changeend",_e1785),_this1011.Js.setConfig("bx-triangulategenerator:seed",_this1011["#seed-slider"].value),_this1011.Xs();});}},{key:"yP",value:function yP(){this.Js.setConfig("bx-triangulategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"rM",value:function(){var _rM4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee246(){var t,e,i,_t2446,_i1476,_s852,s,n,o,l,_iterator1586,_step1586,_loop46;return regeneratorRuntime.wrap(function _callee246$(_context248){while(1){switch(_context248.prev=_context248.next){case 0:t=this.tn.board,e=null,i=this.tn.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context248.next=7;break;}_context248.next=4;return createImageBitmap(i);case 4:e=_context248.sent;_context248.next=15;break;case 7:_t2446=this.tn.board.extractArtworkWithSelectedElements();_i1476=Hp(_t2446);_context248.next=11;return kf(_i1476,"png",{colors:0});case 11:_s852=_context248.sent;_context248.next=14;return createImageBitmap(_s852);case 14:e=_context248.sent;case 15:s=i.getBoundingClientRect();_context248.next=18;return this.SP(e,this.options);case 18:n=_context248.sent;o=Zh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Triangulate");l=t.insertArtworkIntoBBox(o,s);_iterator1586=_createForOfIteratorHelper(i.style);try{_loop46=function _loop46(){var t=_step1586.value;var e=i.style.getPropertyValue(t),s=N.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1586.s();!(_step1586=_iterator1586.n()).done;){_loop46();}}catch(err){_iterator1586.e(err);}finally{_iterator1586.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context248.stop();}}},_callee246,this);}));function rM(){return _rM4.apply(this,arguments);}return rM;}()},{key:"SP",value:function SP(t,e){return new Promise(function(i){var s=new Worker("/workers/triangulate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"Xs",value:function(){var _Xs7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee247(){var t,_e1786,_i1477,_e1787,_i1478,_s853,_iterator1587,_step1587,_e1789,_e1788,_i1479;return regeneratorRuntime.wrap(function _callee247$(_context249){while(1){switch(_context249.prev=_context249.next){case 0:t=null;if(!(1===this.tn.board.outermostSelectedObjectElements.length)){_context249.next=18;break;}_e1786=this.tn.board.outermostSelectedObjectElements[0],_i1477=_e1786.getBoundingClientRect();if(!(_i1477.width>=1&&_i1477.height>=1)){_context249.next=18;break;}if(!("image"===_e1786.localName)){_context249.next=10;break;}_context249.next=7;return createImageBitmap(_e1786);case 7:t=_context249.sent;_context249.next=18;break;case 10:_e1787=this.tn.board.extractArtworkWithSelectedElements();_i1478=Hp(_e1787);_context249.next=14;return kf(_i1478,"png",{colors:0});case 14:_s853=_context249.sent;_context249.next=17;return createImageBitmap(_s853);case 17:t=_context249.sent;case 18:this["#options-heading"].disabled=null===t,this["#cell-size-heading"].disabled=null===t,this["#cell-size-slider"].disabled=null===t,this["#cell-size-input"].disabled=null===t,this["#variance-heading"].disabled=null===t,this["#variance-slider"].disabled=null===t,this["#variance-input"].disabled=null===t,this["#seed-heading"].disabled=null===t,this["#seed-slider"].disabled=null===t,this["#seed-input"].disabled=null===t,this["#render-as-heading"].disabled=null===t;_iterator1587=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1587.s();!(_step1587=_iterator1587.n()).done;){_e1789=_step1587.value;_e1789.disabled=null===t;}}catch(err){_iterator1587.e(err);}finally{_iterator1587.f();}if(!(null===t)){_context249.next=25;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context249.next=30;break;case 25:_context249.next=27;return this.SP(t,this.options);case 27:_e1788=_context249.sent;_i1479=Ai(_e1788);_i1479.setAttribute("id","preview"),_i1479.setAttribute("part","preview"),this["#preview"].replaceWith(_i1479),this["#preview"]=_i1479,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 30:this["#generate-button"].disabled=null===t;case 31:case"end":return _context249.stop();}}},_callee247,this);}));function Xs(){return _Xs7.apply(this,arguments);}return Xs;}()}]);return Of;}(Jg);_defineProperty(Of,"nM",Ki(_templateObject527()));_defineProperty(Of,"oM",Ki(_templateObject528()));_defineProperty(Of,"_shadowStyleSheet",Qi(_templateObject529()));customElements.define("bx-triangulategenerator",Of);var Ef="\xb7*+=$@#";var Tf=/*#__PURE__*/function(_Jg11){_inherits(Tf,_Jg11);var _super226=_createSuper(Tf);_createClass(Tf,[{key:"options",get:function get(){return{columns:this["#columns-input"].value,rows:this["#rows-input"].value,chars:this["#chars-input"].value.length>0?this["#chars-input"].value.split(""):Ef,charColorSource:this["#char-color-source-select"].value,charCustomColor:this["#char-custom-color-select"].value,charBackgroundColorSource:this["#char-background-color-source-select"].value,charCustomBackgroundColor:this["#char-custom-background-color-select"].value,fontSize:this["#font-size-input"].value/100,geometryPrecision:this.tn.board.geometryPrecision};}}]);function Tf(){var _this1012;_classCallCheck(this,Tf);_this1012=_super226.call(this),_this1012.np=es(_this1012.Xs,1e3,_assertThisInitialized(_this1012)),_this1012["#columns-input"].addEventListener("changestart",function(){_this1012.PM();}),_this1012["#rows-input"].addEventListener("changestart",function(){_this1012.DM();}),_this1012["#chars-input"].addEventListener("input",function(){_this1012.CP();}),_this1012["#chars-input"].addEventListener("change",function(){_this1012._P();}),_this1012["#reverse-chars-button"].addEventListener("click",function(){_this1012.MP();}),_this1012["#char-color-source-select"].addEventListener("change",function(){_this1012.PP();}),_this1012["#char-custom-color-select"].addEventListener("changeend",function(){_this1012.DP();}),_this1012["#char-background-color-source-select"].addEventListener("change",function(){_this1012.zP();}),_this1012["#char-custom-background-color-select"].addEventListener("changeend",function(){_this1012.OP();}),_this1012["#font-size-box"].addEventListener("changestart",function(){_this1012.xg();}),_this1012["#generate-button"].addEventListener("click",function(){_this1012.rM();});return _this1012;}_createClass(Tf,[{key:"connectedCallback",value:function connectedCallback(){var _this1013=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js.getConfig("bx-asciifygenerator:columns",20),e=this.Js.getConfig("bx-asciifygenerator:rows",20),i=this.Js.getConfig("bx-asciifygenerator:chars",""),s=this.Js.getConfig("bx-asciifygenerator:charColorSource","custom"),n=this.Js.getConfig("bx-asciifygenerator:charCustomColor","#ffffff"),o=this.Js.getConfig("bx-asciifygenerator:charBackgroundColorSource","sample"),l=this.Js.getConfig("bx-asciifygenerator:charCustomBackgroundColor","#000000"),a=this.Js.getConfig("bx-asciifygenerator:fontSize",1);this["#columns-input"].value=t,this["#rows-input"].value=e,this["#chars-input"].value=i,this["#char-color-source-select"].value=s,this["#char-custom-color-select"].value=n,this["#char-background-color-source-select"].value=o,this["#char-custom-background-color-select"].value=l,this["#font-size-slider"].value=J(100*a,2),this["#font-size-input"].value=J(100*a,2),this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this1013.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this1013.np();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"PM",value:function PM(t){var _this1014=this;var e,i,s=this["#rows-input"].value/this["#columns-input"].value;this["#columns-input"].addEventListener("change",e=function e(){_this1014["#rows-input"].value=Math.ceil(_this1014["#columns-input"].value*s);}),this["#columns-input"].addEventListener("changeend",i=function(_i1480){function i(){return _i1480.apply(this,arguments);}i.toString=function(){return _i1480.toString();};return i;}(function(){_this1014["#columns-input"].removeEventListener("change",e),_this1014["#columns-input"].removeEventListener("changeend",i),_this1014.Js.setConfig("bx-asciifygenerator:columns",_this1014["#columns-input"].value),_this1014.Js.setConfig("bx-asciifygenerator:rows",_this1014["#rows-input"].value),_this1014.Xs();}));}},{key:"DM",value:function DM(t){var _this1015=this;var e,i,s=this["#columns-input"].value/this["#rows-input"].value;this["#rows-input"].addEventListener("change",e=function e(){_this1015["#columns-input"].value=Math.ceil(_this1015["#rows-input"].value*s);}),this["#rows-input"].addEventListener("changeend",i=function(_i1481){function i(){return _i1481.apply(this,arguments);}i.toString=function(){return _i1481.toString();};return i;}(function(){_this1015["#rows-input"].removeEventListener("change",e),_this1015["#rows-input"].removeEventListener("changeend",i),_this1015.Js.setConfig("bx-asciifygenerator:columns",_this1015["#columns-input"].value),_this1015.Js.setConfig("bx-asciifygenerator:rows",_this1015["#rows-input"].value),_this1015.Xs();}));}},{key:"CP",value:function CP(){this.np();}},{key:"_P",value:function _P(){this.Js.setConfig("bx-asciifygenerator:chars",this["#chars-input"].value);}},{key:"MP",value:function MP(){var t=this["#chars-input"].value.split("").reverse().join("");this["#chars-input"].value=t,this.Js.setConfig("bx-asciifygenerator:chars",t),this.Xs();}},{key:"PP",value:function PP(){this.Js.setConfig("bx-asciifygenerator:charColorSource",this["#char-color-source-select"].value),this.Xs();}},{key:"DP",value:function DP(){this.Js.setConfig("bx-asciifygenerator:charCustomColor",this["#char-custom-color-select"].value),this.Xs();}},{key:"zP",value:function zP(){this.Js.setConfig("bx-asciifygenerator:charBackgroundColorSource",this["#char-background-color-source-select"].value),this.Xs();}},{key:"OP",value:function OP(){this.Js.setConfig("bx-asciifygenerator:charCustomBackgroundColor",this["#char-custom-background-color-select"].value),this.Xs();}},{key:"xg",value:function xg(){var _this1016=this;var t,_e1790;this["#font-size-box"].addEventListener("change",t=function t(_t2447){_t2447.target===_this1016["#font-size-slider"]?_this1016["#font-size-input"].value=_this1016["#font-size-slider"].value:_t2447.target===_this1016["#font-size-input"]&&(_this1016["#font-size-slider"].value=_this1016["#font-size-input"].value);}),this["#font-size-box"].addEventListener("changeend",_e1790=function e(){_this1016["#font-size-box"].removeEventListener("change",t),_this1016["#font-size-box"].removeEventListener("changeend",_e1790),_this1016.Js.setConfig("bx-asciifygenerator:fontSize",_this1016["#font-size-slider"].value/100),_this1016.Xs();});}},{key:"rM",value:function(){var _rM5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee248(){var t,e,i,_t2448,_i1482,_s854,s,n,o,l,_iterator1588,_step1588,_loop47;return regeneratorRuntime.wrap(function _callee248$(_context250){while(1){switch(_context250.prev=_context250.next){case 0:t=this.tn.board,e=null,i=this.tn.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context250.next=7;break;}_context250.next=4;return createImageBitmap(i);case 4:e=_context250.sent;_context250.next=15;break;case 7:_t2448=this.tn.board.extractArtworkWithSelectedElements();_i1482=Hp(_t2448);_context250.next=11;return kf(_i1482,"png",{colors:0});case 11:_s854=_context250.sent;_context250.next=14;return createImageBitmap(_s854);case 14:e=_context250.sent;case 15:s=i.getBoundingClientRect();_context250.next=18;return this.EP(e,this.options);case 18:n=_context250.sent;o=Zh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Asciify");l=t.insertArtworkIntoBBox(o,s);_iterator1588=_createForOfIteratorHelper(i.style);try{_loop47=function _loop47(){var t=_step1588.value;var e=i.style.getPropertyValue(t),s=N.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1588.s();!(_step1588=_iterator1588.n()).done;){_loop47();}}catch(err){_iterator1588.e(err);}finally{_iterator1588.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context250.stop();}}},_callee248,this);}));function rM(){return _rM5.apply(this,arguments);}return rM;}()},{key:"EP",value:function EP(t,e){return new Promise(function(i){var s=new Worker("/workers/asciify.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"Xs",value:function(){var _Xs8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee249(){var t,_e1791,_i1483,_e1792,_i1484,_s855,_e1793,_e1794,_i1485;return regeneratorRuntime.wrap(function _callee249$(_context251){while(1){switch(_context251.prev=_context251.next){case 0:t=null;if(!(1===this.tn.board.outermostSelectedObjectElements.length)){_context251.next=18;break;}_e1791=this.tn.board.outermostSelectedObjectElements[0],_i1483=_e1791.getBoundingClientRect();if(!(_i1483.width>=1&&_i1483.height>=1)){_context251.next=18;break;}if(!("image"===_e1791.localName)){_context251.next=10;break;}_context251.next=7;return createImageBitmap(_e1791);case 7:t=_context251.sent;_context251.next=18;break;case 10:_e1792=this.tn.board.extractArtworkWithSelectedElements();_i1484=Hp(_e1792);_context251.next=14;return kf(_i1484,"png",{colors:0});case 14:_s855=_context251.sent;_context251.next=17;return createImageBitmap(_s855);case 17:t=_context251.sent;case 18:if(this["#options-heading"].disabled=null===t,this["#columns-heading"].disabled=null===t,this["#columns-input"].disabled=null===t,this["#rows-heading"].disabled=null===t,this["#rows-input"].disabled=null===t,t){_e1793=t.height/t.width;this["#rows-input"].value=Math.floor(this["#columns-input"].value*_e1793);}if(!(null===t?(this["#chars-heading"].disabled=!0,this["#chars-input"].disabled=!0,this["#reverse-chars-button"].disabled=!0):(this["#chars-heading"].disabled=!1,this["#chars-input"].disabled=!1,this["#reverse-chars-button"].disabled=!1),null===t?(this["#char-color-heading"].disabled=!0,this["#char-color-source-select"].disabled=!0,this["#char-custom-color-select"].disabled=!0):(this["#char-color-heading"].disabled=!1,this["#char-color-source-select"].disabled=!1,this["#char-custom-color-select"].disabled="custom"!==this["#char-color-source-select"].value),null===t?(this["#char-background-color-heading"].disabled=!0,this["#char-background-color-source-select"].disabled=!0,this["#char-custom-background-color-select"].disabled=!0):(this["#char-background-color-heading"].disabled=!1,this["#char-background-color-source-select"].disabled=!1,this["#char-custom-background-color-select"].disabled="custom"!==this["#char-background-color-source-select"].value),this["#font-size-heading"].disabled=null===t,this["#font-size-slider"].disabled=null===t,this["#font-size-input"].disabled=null===t,null===t)){_context251.next=23;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context251.next=28;break;case 23:_context251.next=25;return this.EP(t,this.options);case 25:_e1794=_context251.sent;_i1485=Ai(_e1794);_i1485.setAttribute("id","preview"),_i1485.setAttribute("part","preview"),this["#preview"].replaceWith(_i1485),this["#preview"]=_i1485,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 28:this["#generate-button"].disabled=null===t;case 29:case"end":return _context251.stop();}}},_callee249,this);}));function Xs(){return _Xs8.apply(this,arguments);}return Xs;}()}]);return Tf;}(Jg);_defineProperty(Tf,"nM",Ki(_templateObject530(),Ef));_defineProperty(Tf,"oM",Ki(_templateObject531()));_defineProperty(Tf,"_shadowStyleSheet",Qi(_templateObject532()));customElements.define("bx-asciifygenerator",Tf);var Af=/*#__PURE__*/function(_Jg12){_inherits(Af,_Jg12);var _super227=_createSuper(Af);_createClass(Af,[{key:"TP",value:function TP(){var _this1018=this;return new Promise(function(t){_this1018.isConnected?t():_this1018.AP.push(t);});}},{key:"options",get:function get(){return{shapesType:this["#shapes-type-buttons"].value,shapesNumber:this["#shapes-number-input"].value,shapesAlpha:this["#shapes-alpha-input"].value,autoAdjustShapesAlpha:this["#auto-adjust-shapes-alpha-checkbox"].toggled,workingSize:this["#working-size-input"].value,shapesPerIteration:this["#shapes-per-iteration-input"].value,maxMutations:this["#max-mutations-input"].value,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,overflow:this["#overflow-buttons"].value,geometryPrecision:this.tn.board.geometryPrecision,transformPrecision:this.tn.board.transformPrecision};}}]);function Af(){var _this1017;_classCallCheck(this,Af);_this1017=_super227.call(this),_this1017.$P=null,_this1017.IP=null,_this1017.AP=[],_this1017["#shapes-type-buttons"].addEventListener("toggle",function(){return _this1017.LP();}),_this1017["#render-as-buttons"].addEventListener("toggle",function(){return _this1017.yP();}),_this1017["#overflow-buttons"].addEventListener("toggle",function(){return _this1017.BP();}),_this1017["#shapes-number-box"].addEventListener("changestart",function(){return _this1017.RP();}),_this1017["#shapes-alpha-box"].addEventListener("changestart",function(){return _this1017.GP();}),_this1017["#auto-adjust-shapes-alpha-checkbox"].addEventListener("toggle",function(){return _this1017.UP();}),_this1017["#working-size-box"].addEventListener("changestart",function(){return _this1017.nP();}),_this1017["#shapes-per-iteration-box"].addEventListener("changestart",function(){return _this1017.FP();}),_this1017["#max-mutations-box"].addEventListener("changestart",function(){return _this1017.NP();}),_this1017["#seed-box"].addEventListener("changestart",function(){return _this1017.Wk();}),_this1017["#generate-button"].addEventListener("click",function(){return _this1017.rM();});return _this1017;}_createClass(Af,[{key:"connectedCallback",value:function connectedCallback(){var _this1019=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js.getConfig("bx-primitivizegenerator:shapesType",["triangles"]),e=this.Js.getConfig("bx-primitivizegenerator:renderAs","paths"),i=this.Js.getConfig("bx-primitivizegenerator:overflow","cut"),s=this.Js.getConfig("bx-primitivizegenerator:shapesNumber",40),n=this.Js.getConfig("bx-primitivizegenerator:shapesAlpha",.7),o=this.Js.getConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",!0),l=this.Js.getConfig("bx-primitivizegenerator:workingSize",128),a=this.Js.getConfig("bx-primitivizegenerator:shapesPerIteration",200),h=this.Js.getConfig("bx-primitivizegenerator:maxMutations",16),r=this.Js.getConfig("bx-primitivizegenerator:seed",100);this["#shapes-type-buttons"].value=t,this["#render-as-buttons"].value=e,this["#overflow-buttons"].value=i,this["#shapes-number-input"].value=s,this["#shapes-number-slider"].value=s,this["#shapes-alpha-input"].value=n,this["#shapes-alpha-slider"].value=n,this["#auto-adjust-shapes-alpha-checkbox"].toggled=o,this["#working-size-slider"].value=l,this["#working-size-input"].value=l,this["#shapes-per-iteration-slider"].value=a,this["#shapes-per-iteration-input"].value=a,this["#max-mutations-slider"].value=h,this["#max-mutations-input"].value=h,this["#seed-slider"].value=r,this["#seed-input"].value=r,this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this1019.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this1019.Xs();}),this.tn.board.undoManager.addEventListener("undo",this.ya=function(){_this1019.jP();}),this.tn.board.undoManager.addEventListener("redo",this.Sa=function(){_this1019.jP();}),this.Xs();var _iterator1589=_createForOfIteratorHelper(this.AP),_step1589;try{for(_iterator1589.s();!(_step1589=_iterator1589.n()).done;){var _t2449=_step1589.value;_t2449();}}catch(err){_iterator1589.e(err);}finally{_iterator1589.f();}this.AP=[];}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn),this.tn.board.undoManager.removeEventListener("undo",this.ya),this.tn.board.undoManager.removeEventListener("redo",this.Sa),null===Ri(this,"bx-generatorspanel")&&this.jP();}},{key:"VP",value:function(){var _VP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee251(){var _this1020=this;var t,e,i,_i1486,_s856,_n564;return regeneratorRuntime.wrap(function _callee251$(_context253){while(1){switch(_context253.prev=_context253.next){case 0:null!==this.$P&&this.jP();t=this.tn.board,e=null,i=t.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context253.next=8;break;}_context253.next=5;return createImageBitmap(i);case 5:e=_context253.sent;_context253.next=16;break;case 8:_i1486=t.extractArtworkWithSelectedElements();_s856=Hp(_i1486);_context253.next=12;return kf(_s856,"png",{colors:0});case 12:_n564=_context253.sent;_context253.next=15;return createImageBitmap(_n564);case 15:e=_context253.sent;case 16:this.$P=new Worker("/workers/primitivize.js"),this.$P.postMessage([e,this.options]),this.IP=i,this["#progress-bar"].value=0,this.Xs(),this["#preview"].innerHTML="",this["#preview"].setAttribute("viewBox","0 0 ".concat(e.width," ").concat(e.height)),this["#preview-section"].scrollIntoViewIfNeeded(),this.$P.addEventListener("message",/*#__PURE__*/function(){var _ref234=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee250(e){var _e$data,s,n,_e1795,_s857,_iterator1590,_step1590,_loop48;return regeneratorRuntime.wrap(function _callee250$(_context252){while(1){switch(_context252.prev=_context252.next){case 0:_e$data=_slicedToArray(e.data,2),s=_e$data[0],n=_e$data[1];if(!n.startsWith("<svg")){_context252.next=5;break;}_this1020["#progress-bar"].value=s;_context252.next=19;break;case 5:if(!("</svg>"===n)){_context252.next=18;break;}_context252.next=8;return _this1020.TP();case 8:if(!i.isConnected){_context252.next=15;break;}_e1795=_this1020["#preview"].cloneNode(!0);_e1795.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");_s857=t.insertArtworkIntoBBox(_e1795,i.getBoundingClientRect());_iterator1590=_createForOfIteratorHelper(i.style);try{_loop48=function _loop48(){var t=_step1590.value;var e=i.style.getPropertyValue(t),n=N.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s857.style.setProperty(t,e);};for(_iterator1590.s();!(_step1590=_iterator1590.n()).done;){_loop48();}}catch(err){_iterator1590.e(err);}finally{_iterator1590.f();}t.selectedElements=[_s857],t.selectedTextRange=null,i.remove();case 15:_this1020["#preview"].innerHTML="",_this1020["#progress-bar"].value=-1,_this1020.$P.terminate(),_this1020.$P=null,_this1020.Xs();_context252.next=19;break;case 18:_this1020["#progress-bar"].value=s,_this1020["#preview"].insertAdjacentHTML("beforeend",n);case 19:case"end":return _context252.stop();}}},_callee250);}));return function(_x360){return _ref234.apply(this,arguments);};}());case 17:case"end":return _context253.stop();}}},_callee251,this);}));function VP(){return _VP.apply(this,arguments);}return VP;}()},{key:"HP",value:function HP(){if(null===this.$P)return;var t=this.tn.board,e=this.IP;if(e.isConnected){var _i1487=this["#preview"].cloneNode(!0);_i1487.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");var _s858=t.insertArtworkIntoBBox(_i1487,e.getBoundingClientRect());var _iterator1591=_createForOfIteratorHelper(e.style),_step1591;try{var _loop49=function _loop49(){var t=_step1591.value;var i=e.style.getPropertyValue(t),n=N.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s858.style.setProperty(t,i);};for(_iterator1591.s();!(_step1591=_iterator1591.n()).done;){_loop49();}}catch(err){_iterator1591.e(err);}finally{_iterator1591.f();}t.selectedElements=[_s858],t.selectedTextRange=null,e.remove();}this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.$P.terminate(),this.$P=null,this.IP=null,this.Xs();}},{key:"jP",value:function jP(){null!==this.$P&&(this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.$P.terminate(),this.$P=null,this.IP=null,this.Xs());}},{key:"LP",value:function LP(t){this.Js.setConfig("bx-primitivizegenerator:shapesType",this["#shapes-type-buttons"].value);}},{key:"yP",value:function yP(){this.Js.setConfig("bx-primitivizegenerator:renderAs",this["#render-as-buttons"].value);}},{key:"BP",value:function BP(){this.Js.setConfig("bx-primitivizegenerator:overflow",this["#overflow-buttons"].value);}},{key:"RP",value:function RP(){var _this1021=this;var t,_e1796;this["#shapes-number-box"].addEventListener("change",t=function t(_t2450){_t2450.target===_this1021["#shapes-number-slider"]?_this1021["#shapes-number-input"].value=_this1021["#shapes-number-slider"].value:_t2450.target===_this1021["#shapes-number-input"]&&(_this1021["#shapes-number-slider"].value=_this1021["#shapes-number-input"].value);}),this["#shapes-number-box"].addEventListener("changeend",_e1796=function e(){_this1021["#shapes-number-box"].removeEventListener("change",t),_this1021["#shapes-number-box"].removeEventListener("changeend",_e1796),_this1021.Js.setConfig("bx-primitivizegenerator:shapesNumber",_this1021["#shapes-number-input"].value);});}},{key:"GP",value:function GP(){var _this1022=this;var t,_e1797;this["#shapes-alpha-box"].addEventListener("change",t=function t(_t2451){_t2451.target===_this1022["#shapes-alpha-slider"]?_this1022["#shapes-alpha-input"].value=_this1022["#shapes-alpha-slider"].value:_t2451.target===_this1022["#shapes-alpha-input"]&&(_this1022["#shapes-alpha-slider"].value=_this1022["#shapes-alpha-input"].value);}),this["#shapes-alpha-box"].addEventListener("changeend",_e1797=function e(){_this1022["#shapes-alpha-box"].removeEventListener("change",t),_this1022["#shapes-alpha-box"].removeEventListener("changeend",_e1797),_this1022.Js.setConfig("bx-primitivizegenerator:shapesAlpha",_this1022["#shapes-alpha-input"].value);});}},{key:"UP",value:function UP(){this.Js.setConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",this["#auto-adjust-shapes-alpha-checkbox"].toggled);}},{key:"nP",value:function nP(){var _this1023=this;var t,_e1798;this["#working-size-box"].addEventListener("change",t=function t(_t2452){_t2452.target===_this1023["#working-size-slider"]?_this1023["#working-size-input"].value=_this1023["#working-size-slider"].value:_t2452.target===_this1023["#working-size-input"]&&(_this1023["#working-size-slider"].value=_this1023["#working-size-input"].value),_this1023.Xs();}),this["#working-size-box"].addEventListener("changeend",_e1798=function e(){_this1023["#working-size-box"].removeEventListener("change",t),_this1023["#working-size-box"].removeEventListener("changeend",_e1798),_this1023.Js.setConfig("bx-primitivizegenerator:workingSize",_this1023["#working-size-slider"].value);});}},{key:"FP",value:function FP(){var _this1024=this;var t,_e1799;this["#shapes-per-iteration-box"].addEventListener("change",t=function t(_t2453){_t2453.target===_this1024["#shapes-per-iteration-slider"]?_this1024["#shapes-per-iteration-input"].value=_this1024["#shapes-per-iteration-slider"].value:_t2453.target===_this1024["#shapes-per-iteration-input"]&&(_this1024["#shapes-per-iteration-slider"].value=_this1024["#shapes-per-iteration-input"].value),_this1024.Xs();}),this["#shapes-per-iteration-box"].addEventListener("changeend",_e1799=function e(){_this1024["#shapes-per-iteration-box"].removeEventListener("change",t),_this1024["#shapes-per-iteration-box"].removeEventListener("changeend",_e1799),_this1024.Js.setConfig("bx-primitivizegenerator:shapesPerIteration",_this1024["#shapes-per-iteration-slider"].value);});}},{key:"NP",value:function NP(){var _this1025=this;var t,_e1800;this["#max-mutations-box"].addEventListener("change",t=function t(_t2454){_t2454.target===_this1025["#max-mutations-slider"]?_this1025["#max-mutations-input"].value=_this1025["#max-mutations-slider"].value:_t2454.target===_this1025["#max-mutations-input"]&&(_this1025["#max-mutations-slider"].value=_this1025["#max-mutations-input"].value),_this1025.Xs();}),this["#max-mutations-box"].addEventListener("changeend",_e1800=function e(){_this1025["#max-mutations-box"].removeEventListener("change",t),_this1025["#max-mutations-box"].removeEventListener("changeend",_e1800),_this1025.Js.setConfig("bx-primitivizegenerator:maxMutations",_this1025["#max-mutations-slider"].value);});}},{key:"Wk",value:function Wk(){var _this1026=this;var t,_e1801;this["#seed-box"].addEventListener("change",t=function t(_t2455){_t2455.target===_this1026["#seed-slider"]?_this1026["#seed-input"].value=_this1026["#seed-slider"].value:_t2455.target===_this1026["#seed-input"]&&(_this1026["#seed-slider"].value=_this1026["#seed-input"].value),_this1026.Xs();}),this["#seed-box"].addEventListener("changeend",_e1801=function e(){_this1026["#seed-box"].removeEventListener("change",t),_this1026["#seed-box"].removeEventListener("changeend",_e1801),_this1026.Js.setConfig("bx-primitivizegenerator:seed",_this1026["#seed-slider"].value);});}},{key:"rM",value:function(){var _rM6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee252(){return regeneratorRuntime.wrap(function _callee252$(_context254){while(1){switch(_context254.prev=_context254.next){case 0:this.$P?this.HP():this.VP();case 1:case"end":return _context254.stop();}}},_callee252,this);}));function rM(){return _rM6.apply(this,arguments);}return rM;}()},{key:"Xs",value:function(){var _Xs9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee253(){var t,e,_iterator1592,_step1592,_t2456,_iterator1593,_step1593,_t2457,_iterator1594,_step1594,_t2458;return regeneratorRuntime.wrap(function _callee253$(_context255){while(1){switch(_context255.prev=_context255.next){case 0:t=null;1===this.tn.board.outermostSelectedObjectElements.length&&(t=this.tn.board.outermostSelectedObjectElements[0]);e=null===t||null!==this.$P;this["#options-heading"].disabled=e,this["#shapes-heading"].disabled=e,this["#algorithm-heading"].disabled=e,this["#rendering-heading"].disabled=e,this["#shapes-type-heading"].disabled=e;_iterator1592=_createForOfIteratorHelper(this["#shapes-type-buttons"].children);try{for(_iterator1592.s();!(_step1592=_iterator1592.n()).done;){_t2456=_step1592.value;_t2456.disabled=e;}}catch(err){_iterator1592.e(err);}finally{_iterator1592.f();}this["#shapes-number-heading"].disabled=e,this["#shapes-number-slider"].disabled=e,this["#shapes-number-input"].disabled=e,this["#shapes-alpha-heading"].disabled=e,this["#shapes-alpha-slider"].disabled=e,this["#shapes-alpha-input"].disabled=e,this["#auto-adjust-shapes-alpha-checkbox"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#shapes-per-iteration-heading"].disabled=e,this["#shapes-per-iteration-slider"].disabled=e,this["#shapes-per-iteration-input"].disabled=e,this["#max-mutations-heading"].disabled=e,this["#max-mutations-slider"].disabled=e,this["#max-mutations-input"].disabled=e,this["#seed-heading"].disabled=e,this["#seed-slider"].disabled=e,this["#seed-input"].disabled=e,this["#overflow-heading"].disabled=e;_iterator1593=_createForOfIteratorHelper(this["#overflow-buttons"].children);try{for(_iterator1593.s();!(_step1593=_iterator1593.n()).done;){_t2457=_step1593.value;_t2457.disabled=e;}}catch(err){_iterator1593.e(err);}finally{_iterator1593.f();}this["#render-as-heading"].disabled=e;_iterator1594=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1594.s();!(_step1594=_iterator1594.n()).done;){_t2458=_step1594.value;_t2458.disabled=e;}}catch(err){_iterator1594.e(err);}finally{_iterator1594.f();}this["#preview-section"].hidden=null===this.$P,this["#preview-section-hr"].hidden=null===this.$P,null===this.$P?(this["#generate-label"].textContent="Primitivize",this["#generate-button"].disabled=e):(this["#generate-label"].textContent="Stop",this["#generate-button"].disabled=!1);case 13:case"end":return _context255.stop();}}},_callee253,this);}));function Xs(){return _Xs9.apply(this,arguments);}return Xs;}()}]);return Af;}(Jg);_defineProperty(Af,"nM",Ki(_templateObject533()));_defineProperty(Af,"oM",Ki(_templateObject534()));_defineProperty(Af,"_shadowStyleSheet",Qi(_templateObject535()));customElements.define("bx-primitivizegenerator",Af);var $f=/*#__PURE__*/function(_Jg13){_inherits($f,_Jg13);var _super228=_createSuper($f);function $f(){var _this1027;_classCallCheck(this,$f);_this1027=_super228.call(this),_this1027.np=es(_this1027.Xs,1e3,_assertThisInitialized(_this1027)),_this1027["#objects-buttons"].addEventListener("toggle",function(){return _this1027.WP();}),_this1027["#prefix-buttons"].addEventListener("toggle",function(){return _this1027.YP();}),_this1027["#custom-prefix-input"].validate=function(){return _this1027.qP();},_this1027["#custom-prefix-input"].addEventListener("change",function(){return _this1027.XP();}),_this1027["#add-button"].addEventListener("click",function(){return _this1027.ZP();});return _this1027;}_createClass($f,[{key:"connectedCallback",value:function connectedCallback(){var _this1028=this;this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");var t=this.Js.getConfig("bx-adduniqueidsgenerator:objects","all"),e=this.Js.getConfig("bx-adduniqueidsgenerator:prefix","auto"),i=this.Js.getConfig("bx-adduniqueidsgenerator:customPrefix",null);this["#objects-buttons"].value=t,this["#prefix-buttons"].value=e,this["#custom-prefix-input"].value=i,this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this1028.Xs();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(){_this1028.np();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"WP",value:function WP(){this.Js.setConfig("bx-adduniqueidsgenerator:objects",this["#objects-buttons"].value),this.Xs();}},{key:"YP",value:function YP(){this.Js.setConfig("bx-adduniqueidsgenerator:prefix",this["#prefix-buttons"].value),this.Xs();}},{key:"XP",value:function XP(){this.Js.setConfig("bx-adduniqueidsgenerator:customPrefix",this["#custom-prefix-input"].value);}},{key:"ZP",value:function ZP(){this.tn.board.undoManager.checkpoint("Add unique IDs"),this["#add-button"].disabled=!0;var t=null,e=[];if("custom"===this["#prefix-buttons"].value&&(t=0===this["#custom-prefix-input"].value.length?"object-":this["#custom-prefix-input"].value),"all"===this["#objects-buttons"].value){var _iterator1595=_createForOfIteratorHelper(this.tn.board.currentWorkspace.querySelectorAll("*")),_step1595;try{for(_iterator1595.s();!(_step1595=_iterator1595.n()).done;){var _t2459=_step1595.value;v.includes(_t2459.localName)&&e.push(_t2459);}}catch(err){_iterator1595.e(err);}finally{_iterator1595.f();}}else"selected"===this["#objects-buttons"].value&&(e=_toConsumableArray(this.tn.board.selectedObjectElements));e=e.filter(function(t){return!1===t.hasAttribute("id")||""===t.getAttribute("id");});var _iterator1596=_createForOfIteratorHelper(e),_step1596;try{for(_iterator1596.s();!(_step1596=_iterator1596.n()).done;){var _i1488=_step1596.value;var _e1802=void 0;_e1802=null===t?"g"===_i1488.localName?this.tn.board.generateUniqueID("group-"):this.tn.board.generateUniqueID(_i1488.localName+"-"):this.tn.board.generateUniqueID(t),_i1488.setAttribute("id",_e1802);}}catch(err){_iterator1596.e(err);}finally{_iterator1596.f();}}},{key:"qP",value:function qP(){this["#custom-prefix-input"].value.length>0&&!1===qi(this["#custom-prefix-input"].value)?this["#custom-prefix-input"].error="Invalid prefix":this["#custom-prefix-input"].error=null;}},{key:"Xs",value:function Xs(){var t=[];if("all"===this["#objects-buttons"].value){var _iterator1597=_createForOfIteratorHelper(this.tn.board.currentWorkspace.querySelectorAll("*")),_step1597;try{for(_iterator1597.s();!(_step1597=_iterator1597.n()).done;){var _e1803=_step1597.value;v.includes(_e1803.localName)&&t.push(_e1803);}}catch(err){_iterator1597.e(err);}finally{_iterator1597.f();}}else"selected"===this["#objects-buttons"].value&&(t=_toConsumableArray(this.tn.board.selectedObjectElements));t=t.filter(function(t){return!1===t.hasAttribute("id")||""===t.getAttribute("id");}),this["#custom-prefix-input"].hidden="auto"===this["#prefix-buttons"].value,this["#add-button"].disabled=0===t.length;}}]);return $f;}(Jg);_defineProperty($f,"nM",Ki(_templateObject536()));_defineProperty($f,"oM",Ki(_templateObject537()));_defineProperty($f,"_shadowStyleSheet",Qi(_templateObject538()));customElements.define("bx-adduniqueidsgenerator",$f);var If=/*#__PURE__*/function(_HTMLElement138){_inherits(If,_HTMLElement138);var _super229=_createSuper(If);_createClass(If,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function If(){var _this1029;_classCallCheck(this,If);_this1029=_super229.call(this),_this1029._shadowRoot=_this1029.attachShadow({mode:"closed"}),_this1029._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,If._shadowStyleSheet],_this1029._shadowRoot.append(document.importNode(If._shadowTemplate.content,!0));var _iterator1598=_createForOfIteratorHelper(_this1029._shadowRoot.querySelectorAll("[id]")),_step1598;try{for(_iterator1598.s();!(_step1598=_iterator1598.n()).done;){var _t2460=_step1598.value;_this1029["#"+_t2460.id]=_t2460;}}catch(err){_iterator1598.e(err);}finally{_iterator1598.f();}_this1029["#generator-select"].addEventListener("change",function(){return _this1029.KP();});return _this1029;}_createClass(If,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}},{key:"en",value:function en(){this["#generator-select"].value=this.Js.getConfig("bx-generatorspanel:generator","bx-barcodegenerator"),this.Xs();}},{key:"sn",value:function sn(){this["#generator-select"].value=null,this.Xs();}},{key:"KP",value:function KP(){this.Js.setConfig("bx-generatorspanel:generator",this["#generator-select"].value),this.Xs();}},{key:"Xs",value:function Xs(){var t=this["#generator-select"].value;this["#main"].innerHTML=null===t?"":"<".concat(t,"></").concat(t,">");}}]);return If;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(If,"observedAttributes",["enabled"]);_defineProperty(If,"_shadowTemplate",Ki(_templateObject539()));_defineProperty(If,"_shadowStyleSheet",Qi(_templateObject540()));customElements.define("bx-generatorspanel",If);var Lf=/*#__PURE__*/function(_HTMLElement139){_inherits(Lf,_HTMLElement139);var _super230=_createSuper(Lf);_createClass(Lf,[{key:"exportable",get:function get(){return this.hasAttribute("exportable");},set:function set(t){!0===t?this.setAttribute("exportable",""):this.removeAttribute("exportable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Lf(){var _this1030;_classCallCheck(this,Lf);_this1030=_super230.call(this);var t=_this1030.constructor.QP;_this1030._shadowRoot=_this1030.attachShadow({mode:"closed"}),_this1030._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Lf._shadowStyleSheet,_this1030.constructor._shadowStyleSheet],_this1030._shadowRoot.append(document.importNode(Lf._shadowTemplate.content,!0)),t&&_this1030._shadowRoot.querySelector("#options-section").append(document.importNode(t.content,!0));var _iterator1599=_createForOfIteratorHelper(_this1030._shadowRoot.querySelectorAll("[id]")),_step1599;try{for(_iterator1599.s();!(_step1599=_iterator1599.n()).done;){var _t2461=_step1599.value;_this1030["#"+_t2461.id]=_t2461;}}catch(err){_iterator1599.e(err);}finally{_iterator1599.f();}_this1030.setAttribute("extends","bx-exportsettings");return _this1030;}_createClass(Lf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("disabled"===t?this.Xs():"exportable"===t&&this.dispatchEvent(new CustomEvent("exportablechange",{bubbles:!0})));}}]);return Lf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lf,"observedAttributes",["exportable","disabled"]);_defineProperty(Lf,"_shadowTemplate",Ki(_templateObject541()));_defineProperty(Lf,"_shadowStyleSheet",Qi(_templateObject542()));var Bf=Array.isArray;var Rf=/*#__PURE__*/function(_Lf){_inherits(Rf,_Lf);var _super231=_createSuper(Rf);_createClass(Rf,[{key:"format",get:function get(){return"png";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Bf(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"dpi",get:function get(){return this["#dpi-input"].value;}},{key:"colors",get:function get(){return"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Rf(){var _this1031;_classCallCheck(this,Rf);_this1031=_super231.call(this),_this1031["#area-buttons"].addEventListener("toggle",function(){return _this1031.QM();}),_this1031["#view-select"].addEventListener("change",function(){return _this1031.JP();}),_this1031["#width-input"].addEventListener("changestart",function(){return _this1031.cf();}),_this1031["#height-input"].addEventListener("changestart",function(){return _this1031.pf();}),_this1031["#lock-size-button"].addEventListener("toggle",function(){return _this1031.tD();}),_this1031["#margin-switch"].addEventListener("toggle",function(){return _this1031.eD();}),_this1031["#margin-input"].addEventListener("changeend",function(){return _this1031.iD();}),_this1031["#scale-input"].addEventListener("changeend",function(){return _this1031.sD();}),_this1031["#dpi-slider"].addEventListener("changestart",function(){return _this1031.nD();}),_this1031["#dpi-input"].addEventListener("changestart",function(){return _this1031.oD();}),_this1031["#colors-mode-buttons"].addEventListener("toggle",function(){return _this1031.$M();}),_this1031["#colors-slider"].addEventListener("changestart",function(){return _this1031.IM();}),_this1031["#colors-input"].addEventListener("changestart",function(){return _this1031.LM();}),_this1031["#background-select"].addEventListener("changeend",function(){return _this1031.GM();}),_this1031["#background-popover"].addEventListener("close",function(){return _this1031.UM();}),_this1031["#preview-button"].addEventListener("click",function(){return _this1031.FM();});return _this1031;}_createClass(Rf,[{key:"connectedCallback",value:function connectedCallback(){var _this1032=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board;this["#area-buttons"].value=t.getConfig("bx-pngexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-pngexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-pngexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-pngexportsettings:scale",1),this["#dpi-slider"].value=t.getConfig("bx-pngexportsettings:dpi",96),this["#dpi-input"].value=t.getConfig("bx-pngexportsettings:dpi",96),this["#colors-mode-buttons"].value=this.Js.getConfig("bx-pngexportsettings:colorsMode","rgb"),this["#colors-slider"].value=t.getConfig("bx-pngexportsettings:colors",256),this["#colors-input"].value=t.getConfig("bx-pngexportsettings:colors",256),this["#background-select"].value=t.getConfig("bx-pngexportsettings:background","rgba(255, 255, 255, 0)"),this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1032.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1032.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){this.NM(),this.Xs(),this.Js.setConfig("bx-pngexportsettings:area",this["#area-buttons"].value);}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var _t2462=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);_t2462&&(this.tn.board.selectedElements=[_t2462]);}}else this.Xs();}},{key:"cf",value:function cf(){var _this1033=this;var t,_e1804,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2463=_this1033["#width-input"].value/i;_this1033["#height-input"].value=tt(_t2463,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1804=function e(){_this1033["#width-input"].removeEventListener("change",t),_this1033["#width-input"].removeEventListener("changeend",_e1804),_this1033.NM();});}},{key:"pf",value:function pf(){var _this1034=this;var t,_e1805,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2464=i*_this1034["#height-input"].value;_this1034["#width-input"].value=tt(_t2464,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1805=function e(){_this1034["#height-input"].removeEventListener("change",t),_this1034["#height-input"].removeEventListener("changeend",_e1805),_this1034.NM();});}},{key:"tD",value:function tD(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Js.setConfig("bx-pngexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"eD",value:function eD(){var t=this["#margin-switch"].toggled?10:null;this.Js.setConfig("bx-pngexportsettings:margin",t),this["#margin-input"].value=t,this.NM(),this.Xs(!1);}},{key:"iD",value:function iD(){this.Js.setConfig("bx-pngexportsettings:margin",this["#margin-input"].value),this.NM();}},{key:"sD",value:function sD(){this.Js.setConfig("bx-pngexportsettings:scale",this["#scale-input"].value),this.NM();}},{key:"nD",value:function nD(){var _this1035=this;var t,_e1806;this["#dpi-slider"].addEventListener("change",t=function t(){_this1035["#dpi-input"].value=_this1035["#dpi-slider"].value;}),this["#dpi-slider"].addEventListener("changeend",_e1806=function e(){_this1035["#dpi-slider"].removeEventListener("change",t),_this1035["#dpi-slider"].removeEventListener("changeend",_e1806),_this1035.Js.setConfig("bx-pngexportsettings:dpi",_this1035["#dpi-slider"].value);});}},{key:"oD",value:function oD(){var _this1036=this;var t,_e1807;this["#dpi-input"].addEventListener("change",t=function t(){_this1036["#dpi-slider"].value=_this1036["#dpi-input"].value;}),this["#dpi-input"].addEventListener("changeend",_e1807=function e(){_this1036["#dpi-input"].removeEventListener("change",t),_this1036["#dpi-input"].removeEventListener("changeend",_e1807),_this1036.Js.setConfig("bx-pngexportsettings:dpi",_this1036["#dpi-input"].value);});}},{key:"$M",value:function $M(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Js.setConfig("bx-pngexportsettings:colorsMode",this["#colors-mode-buttons"].value),this.NM();}},{key:"IM",value:function IM(){var _this1037=this;var t,_e1808;this["#colors-slider"].addEventListener("change",t=function t(){_this1037["#colors-input"].value=_this1037["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1808=function e(){_this1037["#colors-slider"].removeEventListener("change",t),_this1037["#colors-slider"].removeEventListener("changeend",_e1808),_this1037.Js.setConfig("bx-pngexportsettings:colors",_this1037["#colors-slider"].value),_this1037.NM();});}},{key:"LM",value:function LM(){var _this1038=this;var t,_e1809;this["#colors-input"].addEventListener("change",t=function t(){_this1038["#colors-slider"].value=_this1038["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1809=function e(){_this1038["#colors-input"].removeEventListener("change",t),_this1038["#colors-input"].removeEventListener("changeend",_e1809),_this1038.Js.setConfig("bx-pngexportsettings:colors",_this1038["#colors-input"].value),_this1038.NM();});}},{key:"GM",value:function GM(){this.jM=!0;}},{key:"UM",value:function UM(){this.jM&&(this.jM=!1,this.Js.setConfig("bx-pngexportsettings:background",this["#background-select"].value),this.NM());}},{key:"FM",value:function FM(){this.VM();}},{key:"VM",value:function(){var _VM3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee254(){var t,_e1810,_t2465,e,i,s,_e1811,_iterator1600,_step1600,_i1489,_t2466,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee254$(_context256){while(1){switch(_context256.prev=_context256.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1810=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2465=this["#view-select"].value.substring(1);_e1810=this.tn.board.currentWorkspace.querySelector("#"+_t2465);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1810);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.tn.offscreenBoard.setArtwork(t);_e1811=new $p(t);_iterator1600=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context256.prev=6;_iterator1600.s();case 8:if((_step1600=_iterator1600.n()).done){_context256.next=15;break;}_i1489=_step1600.value;_t2466=_i1489.getAttribute("data-bx-fonts");_context256.next=13;return _e1811.unlinkFontFamily(_t2466);case 13:_context256.next=8;break;case 15:_context256.next=20;break;case 17:_context256.prev=17;_context256.t0=_context256["catch"](6);_iterator1600.e(_context256.t0);case 20:_context256.prev=20;_iterator1600.f();return _context256.finish(20);case 23:this.tn.offscreenBoard.clear();n=Hp(t);_context256.next=27;return kf(n,"png",{dpi:this["#dpi-input"].value,colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value,background:this["#background-select"].value});case 27:o=_context256.sent;_context256.next=30;return hr(o);case 30:l=_context256.sent;a=l.substring(0,l.indexOf(",")+1);h=J((l.length-a.length)*(3/4));r=pr(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context256.stop();}}},_callee254,this,[[6,17,20,23]]);}));function VM(){return _VM3.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this1039=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.tn.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=He(e.outermostSelectedObjectElements.map(function(t){var i=Wt(t,e.currentWorkspace),s=Oi(t);return Ve(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2467=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2467.length>0)if("view-tool"===this.tn.toolsDock.value){var _t2468=e.selectedElements.find(function(t){return"view"===t.localName;});_t2468&&(s=_t2468);}else{var _e1812=_t2467.find(function(t){return"#"+t.id===_this1039["#view-select"].value;});_e1812&&(s=_e1812);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ut.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2469=e.currentWorkspace.querySelector("#"+s.id);_t2469.hasAttribute("viewBox")&&(i=Ut.fromString(_t2469.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2470=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2470.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2470.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1813=["default"].concat(_toConsumableArray(_t2470.map(function(t){return"#"+t.id;}))),_i1490=["Default"].concat(_toConsumableArray(_t2470.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1813.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1813.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2471=0;_t2471<_e1813.length;_t2471+=1){var _s859=this["#view-menu"].children[_t2471];_s859.value=_e1813[_t2471],_s859.firstElementChild.textContent=_i1490[_t2471];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:J(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:J(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#dpi-heading"].disabled=null===i,this["#dpi-slider"].disabled=null===i,this["#dpi-input"].disabled=null===i,this["#colors-heading"].disabled=null===i,this["#rgb-button"].disabled=null===i,this["#palette-button"].disabled=null===i,this["#palette-button"].toggled?(this["#colors-box"].hidden=!1,this["#colors-slider"].disabled=null===i,this["#colors-input"].disabled=null===i):this["#colors-box"].hidden=!0,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Rf;}(Lf);_defineProperty(Rf,"QP",Ki(_templateObject543()));_defineProperty(Rf,"_shadowStyleSheet",Qi(_templateObject544()));customElements.define("bx-pngexportsettings",Rf);var Gf=Array.isArray;var Uf=/*#__PURE__*/function(_Lf2){_inherits(Uf,_Lf2);var _super232=_createSuper(Uf);_createClass(Uf,[{key:"format",get:function get(){return"jpeg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Gf(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Uf(){var _this1040;_classCallCheck(this,Uf);_this1040=_super232.call(this),_this1040["#area-buttons"].addEventListener("toggle",function(){return _this1040.QM();}),_this1040["#view-select"].addEventListener("change",function(){return _this1040.JP();}),_this1040["#width-input"].addEventListener("changestart",function(){return _this1040.cf();}),_this1040["#height-input"].addEventListener("changestart",function(){return _this1040.pf();}),_this1040["#lock-size-button"].addEventListener("toggle",function(){return _this1040.tD();}),_this1040["#margin-switch"].addEventListener("toggle",function(){return _this1040.eD();}),_this1040["#margin-input"].addEventListener("changeend",function(){return _this1040.iD();}),_this1040["#scale-input"].addEventListener("changeend",function(){return _this1040.sD();}),_this1040["#compression-slider"].addEventListener("changestart",function(){return _this1040.BM();}),_this1040["#compression-input"].addEventListener("changestart",function(){return _this1040.RM();}),_this1040["#background-select"].addEventListener("changeend",function(){return _this1040.GM();}),_this1040["#background-popover"].addEventListener("close",function(){return _this1040.UM();}),_this1040["#preview-button"].addEventListener("click",function(){return _this1040.FM();});return _this1040;}_createClass(Uf,[{key:"connectedCallback",value:function connectedCallback(){var _this1041=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board;this["#area-buttons"].value=t.getConfig("bx-jpegexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-jpegexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-jpegexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-jpegexportsettings:scale",1),this["#compression-slider"].value=t.getConfig("bx-jpegexportsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-jpegexportsettings:compression",1),this["#background-select"].value=t.getConfig("bx-jpegexportsettings:background","rgb(255, 255, 255)"),this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1041.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1041.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){this.NM(),this.Xs(),this.Js.setConfig("bx-jpegexportsettings:area",this["#area-buttons"].value);}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"cf",value:function cf(){var _this1042=this;var t,_e1814,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2472=_this1042["#width-input"].value/i;_this1042["#height-input"].value=tt(_t2472,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1814=function e(){_this1042["#width-input"].removeEventListener("change",t),_this1042["#width-input"].removeEventListener("changeend",_e1814),_this1042.NM();});}},{key:"pf",value:function pf(){var _this1043=this;var t,_e1815,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2473=i*_this1043["#height-input"].value;_this1043["#width-input"].value=tt(_t2473,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1815=function e(){_this1043["#height-input"].removeEventListener("change",t),_this1043["#height-input"].removeEventListener("changeend",_e1815),_this1043.NM();});}},{key:"tD",value:function tD(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Js.setConfig("bx-jpegexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"eD",value:function eD(){var t=this["#margin-switch"].toggled?10:null;this.Js.setConfig("bx-jpegexportsettings:margin",t),this["#margin-input"].value=t,this.NM(),this.Xs(!1);}},{key:"iD",value:function iD(){this.Js.setConfig("bx-jpegexportsettings:margin",this["#margin-input"].value),this.NM();}},{key:"sD",value:function sD(){this.Js.setConfig("bx-jpegexportsettings:scale",this["#scale-input"].value),this.NM();}},{key:"BM",value:function BM(){var _this1044=this;var t,_e1816;this["#compression-slider"].addEventListener("change",t=function t(){_this1044["#compression-input"].value=_this1044["#compression-slider"].value,_this1044.Js.setConfig("bx-jpegexportsettings:compression",_this1044["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1816=function e(){_this1044["#compression-slider"].removeEventListener("change",t),_this1044["#compression-slider"].removeEventListener("changeend",_e1816),_this1044.NM();});}},{key:"RM",value:function RM(){var _this1045=this;var t,_e1817;this["#compression-input"].addEventListener("change",t=function t(){_this1045["#compression-slider"].value=_this1045["#compression-input"].value,_this1045.Js.setConfig("bx-jpegexportsettings:compression",_this1045["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1817=function e(){_this1045["#compression-input"].removeEventListener("change",t),_this1045["#compression-input"].removeEventListener("changeend",_e1817),_this1045.NM();});}},{key:"GM",value:function GM(){this.jM=!0;}},{key:"UM",value:function UM(){this.jM&&(this.jM=!1,this.Js.setConfig("bx-jpegexportsettings:background",this["#background-select"].value),this.NM());}},{key:"FM",value:function FM(){this.VM();}},{key:"VM",value:function(){var _VM4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee255(){var t,_e1818,_t2474,e,i,s,_e1819,_iterator1601,_step1601,_i1491,_t2475,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee255$(_context257){while(1){switch(_context257.prev=_context257.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1818=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2474=this["#view-select"].value.substring(1);_e1818=this.tn.board.currentWorkspace.querySelector("#"+_t2474);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1818);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.tn.offscreenBoard.setArtwork(t);_e1819=new $p(t);_iterator1601=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context257.prev=6;_iterator1601.s();case 8:if((_step1601=_iterator1601.n()).done){_context257.next=15;break;}_i1491=_step1601.value;_t2475=_i1491.getAttribute("data-bx-fonts");_context257.next=13;return _e1819.unlinkFontFamily(_t2475);case 13:_context257.next=8;break;case 15:_context257.next=20;break;case 17:_context257.prev=17;_context257.t0=_context257["catch"](6);_iterator1601.e(_context257.t0);case 20:_context257.prev=20;_iterator1601.f();return _context257.finish(20);case 23:this.tn.offscreenBoard.clear();n=Hp(t);_context257.next=27;return kf(n,"jpeg",{background:this["#background-select"].value,compression:this["#compression-input"].value});case 27:o=_context257.sent;_context257.next=30;return hr(o);case 30:l=_context257.sent;a=l.substring(0,l.indexOf(",")+1);h=J((l.length-a.length)*(3/4));r=pr(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context257.stop();}}},_callee255,this,[[6,17,20,23]]);}));function VM(){return _VM4.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this1046=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.tn.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=He(e.outermostSelectedObjectElements.map(function(t){var i=Wt(t,e.currentWorkspace),s=Oi(t);return Ve(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2476=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2476.length>0)if("view-tool"===this.tn.toolsDock.value){var _t2477=e.selectedElements.find(function(t){return"view"===t.localName;});_t2477&&(s=_t2477);}else{var _e1820=_t2476.find(function(t){return"#"+t.id===_this1046["#view-select"].value;});_e1820&&(s=_e1820);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ut.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2478=e.currentWorkspace.querySelector("#"+s.id);_t2478.hasAttribute("viewBox")&&(i=Ut.fromString(_t2478.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2479=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2479.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2479.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1821=["default"].concat(_toConsumableArray(_t2479.map(function(t){return"#"+t.id;}))),_i1492=["Default"].concat(_toConsumableArray(_t2479.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1821.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1821.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2480=0;_t2480<_e1821.length;_t2480+=1){var _s860=this["#view-menu"].children[_t2480];_s860.value=_e1821[_t2480],_s860.firstElementChild.textContent=_i1492[_t2480];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:J(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:J(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Uf;}(Lf);_defineProperty(Uf,"QP",Ki(_templateObject545()));_defineProperty(Uf,"_shadowStyleSheet",Qi(_templateObject546()));customElements.define("bx-jpegexportsettings",Uf);var Ff=Array.isArray;var Nf=/*#__PURE__*/function(_Lf3){_inherits(Nf,_Lf3);var _super233=_createSuper(Nf);_createClass(Nf,[{key:"format",get:function get(){return"gif";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Ff(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"dithering",get:function get(){return this["#dithering-select"].value;}},{key:"background",get:function get(){return fo(this["#background-select"].value,"hex");}},{key:"transparent",get:function get(){return this["#transparent-checkbox"].toggled;}}]);function Nf(){var _this1047;_classCallCheck(this,Nf);_this1047=_super233.call(this),_this1047["#area-buttons"].addEventListener("toggle",function(){return _this1047.QM();}),_this1047["#view-select"].addEventListener("change",function(){return _this1047.JP();}),_this1047["#width-input"].addEventListener("changestart",function(){return _this1047.cf();}),_this1047["#height-input"].addEventListener("changestart",function(){return _this1047.pf();}),_this1047["#lock-size-button"].addEventListener("toggle",function(){return _this1047.tD();}),_this1047["#margin-switch"].addEventListener("toggle",function(){return _this1047.eD();}),_this1047["#margin-input"].addEventListener("changeend",function(){return _this1047.iD();}),_this1047["#scale-input"].addEventListener("changeend",function(){return _this1047.sD();}),_this1047["#dithering-select"].addEventListener("change",function(){return _this1047.lD();}),_this1047["#background-select"].addEventListener("changeend",function(){return _this1047.GM();}),_this1047["#background-popover"].addEventListener("close",function(){return _this1047.UM();}),_this1047["#transparent-checkbox"].addEventListener("toggle",function(){return _this1047.aD();}),_this1047["#preview-button"].addEventListener("click",function(){return _this1047.FM();});return _this1047;}_createClass(Nf,[{key:"connectedCallback",value:function connectedCallback(){var _this1048=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board;this["#area-buttons"].value=t.getConfig("bx-gifexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-gifexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-gifexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-gifexportsettings:scale",1),this["#dithering-select"].value=t.getConfig("bx-gifexportsettings:dithering","none"),this["#background-select"].value=t.getConfig("bx-gifexportsettings:background","rgb(255, 255, 255)"),this["#transparent-checkbox"].toggled=t.getConfig("bx-gifexportsettings:transparent",!0),this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1048.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1048.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){this.NM(),this.Xs(),this.Js.setConfig("bx-gifexportsettings:area",this["#area-buttons"].value);}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"cf",value:function cf(){var _this1049=this;var t,_e1822,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2481=_this1049["#width-input"].value/i;_this1049["#height-input"].value=tt(_t2481,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1822=function e(){_this1049["#width-input"].removeEventListener("change",t),_this1049["#width-input"].removeEventListener("changeend",_e1822),_this1049.NM();});}},{key:"pf",value:function pf(){var _this1050=this;var t,_e1823,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2482=i*_this1050["#height-input"].value;_this1050["#width-input"].value=tt(_t2482,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1823=function e(){_this1050["#height-input"].removeEventListener("change",t),_this1050["#height-input"].removeEventListener("changeend",_e1823),_this1050.NM();});}},{key:"tD",value:function tD(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Js.setConfig("bx-gifexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"eD",value:function eD(){var t=this["#margin-switch"].toggled?10:null;this.Js.setConfig("bx-gifexportsettings:margin",t),this["#margin-input"].value=t,this.NM(),this.Xs(!1);}},{key:"iD",value:function iD(){this.Js.setConfig("bx-gifexportsettings:margin",this["#margin-input"].value),this.NM();}},{key:"sD",value:function sD(){this.Js.setConfig("bx-gifexportsettings:scale",this["#scale-input"].value),this.NM();}},{key:"lD",value:function lD(){this.Js.setConfig("bx-gifexportsettings:dithering",this["#dithering-select"].value),this.NM();}},{key:"GM",value:function GM(){this.Js.setConfig("bx-gifexportsettings:background",this["#background-select"].value),this.jM=!0;}},{key:"UM",value:function UM(){this.jM&&(this.jM=!1,this.Js.setConfig("bx-gifexportsettings:background",this["#background-select"].value),this.NM());}},{key:"aD",value:function aD(){this.Js.setConfig("bx-gifexportsettings:transparent",this["#transparent-checkbox"].value),this.NM();}},{key:"FM",value:function FM(){this.VM();}},{key:"VM",value:function(){var _VM5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee256(){var t,_e1824,_t2483,e,i,s,_e1825,_iterator1602,_step1602,_i1493,_t2484,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee256$(_context258){while(1){switch(_context258.prev=_context258.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1824=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2483=this["#view-select"].value.substring(1);_e1824=this.tn.board.currentWorkspace.querySelector("#"+_t2483);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1824);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.tn.offscreenBoard.setArtwork(t);_e1825=new $p(t);_iterator1602=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context258.prev=6;_iterator1602.s();case 8:if((_step1602=_iterator1602.n()).done){_context258.next=15;break;}_i1493=_step1602.value;_t2484=_i1493.getAttribute("data-bx-fonts");_context258.next=13;return _e1825.unlinkFontFamily(_t2484);case 13:_context258.next=8;break;case 15:_context258.next=20;break;case 17:_context258.prev=17;_context258.t0=_context258["catch"](6);_iterator1602.e(_context258.t0);case 20:_context258.prev=20;_iterator1602.f();return _context258.finish(20);case 23:this.tn.offscreenBoard.clear();n=Hp(t);_context258.next=27;return kf(n,"gif",{background:this["#background-select"].value,dithering:this["#dithering-select"].value,transparent:this["#transparent-checkbox"].toggled});case 27:o=_context258.sent;_context258.next=30;return hr(o);case 30:l=_context258.sent;a=l.substring(0,l.indexOf(",")+1);h=J((l.length-a.length)*(3/4));r=pr(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context258.stop();}}},_callee256,this,[[6,17,20,23]]);}));function VM(){return _VM5.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this1051=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.tn.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=He(e.outermostSelectedObjectElements.map(function(t){var i=Wt(t,e.currentWorkspace),s=Oi(t);return Ve(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2485=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2485.length>0)if("view-tool"===this.tn.toolsDock.value){var _t2486=e.selectedElements.find(function(t){return"view"===t.localName;});_t2486&&(s=_t2486);}else{var _e1826=_t2485.find(function(t){return"#"+t.id===_this1051["#view-select"].value;});_e1826&&(s=_e1826);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ut.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2487=e.currentWorkspace.querySelector("#"+s.id);_t2487.hasAttribute("viewBox")&&(i=Ut.fromString(_t2487.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2488=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2488.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2488.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1827=["default"].concat(_toConsumableArray(_t2488.map(function(t){return"#"+t.id;}))),_i1494=["Default"].concat(_toConsumableArray(_t2488.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1827.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1827.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2489=0;_t2489<_e1827.length;_t2489+=1){var _s861=this["#view-menu"].children[_t2489];_s861.value=_e1827[_t2489],_s861.firstElementChild.textContent=_i1494[_t2489];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:J(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:J(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#dithering-heading"].disabled=null===i,this["#dithering-select"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#transparent-checkbox"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Nf;}(Lf);_defineProperty(Nf,"QP",Ki(_templateObject547()));_defineProperty(Nf,"_shadowStyleSheet",Qi(_templateObject548()));customElements.define("bx-gifexportsettings",Nf);var jf=Array.isArray;var Vf=/*#__PURE__*/function(_Lf4){_inherits(Vf,_Lf4);var _super234=_createSuper(Vf);_createClass(Vf,[{key:"format",get:function get(){return"webp";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===jf(t)&&(t=[t,t,t,t])),t;}},{key:"scale",get:function get(){return this["#scale-input"].value;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Vf(){var _this1052;_classCallCheck(this,Vf);_this1052=_super234.call(this),_this1052["#area-buttons"].addEventListener("toggle",function(){return _this1052.QM();}),_this1052["#view-select"].addEventListener("change",function(){return _this1052.JP();}),_this1052["#width-input"].addEventListener("changestart",function(){return _this1052.cf();}),_this1052["#height-input"].addEventListener("changestart",function(){return _this1052.pf();}),_this1052["#lock-size-button"].addEventListener("toggle",function(){return _this1052.tD();}),_this1052["#margin-switch"].addEventListener("toggle",function(){return _this1052.eD();}),_this1052["#margin-input"].addEventListener("changeend",function(){return _this1052.iD();}),_this1052["#scale-input"].addEventListener("changeend",function(){return _this1052.sD();}),_this1052["#compression-slider"].addEventListener("changestart",function(){return _this1052.BM();}),_this1052["#compression-input"].addEventListener("changestart",function(){return _this1052.RM();}),_this1052["#background-select"].addEventListener("changeend",function(){return _this1052.GM();}),_this1052["#background-popover"].addEventListener("close",function(){return _this1052.UM();}),_this1052["#preview-button"].addEventListener("click",function(){return _this1052.FM();});return _this1052;}_createClass(Vf,[{key:"connectedCallback",value:function connectedCallback(){var _this1053=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board;this["#area-buttons"].value=t.getConfig("bx-webpexportsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-webpexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-webpexportsettings:margin",null),this["#scale-input"].value=t.getConfig("bx-webpexportsettings:scale",1),this["#compression-slider"].value=t.getConfig("bx-webpexportsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-webpexportsettings:compression",1),this["#background-select"].value=t.getConfig("bx-webpexportsettings:background","rgba(255, 255, 255, 0)"),this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1053.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1053.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){this.NM(),this.Xs(),this.Js.setConfig("bx-webpexportsettings:area",this["#area-buttons"].value);}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"cf",value:function cf(){var _this1054=this;var t,_e1828,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2490=_this1054["#width-input"].value/i;_this1054["#height-input"].value=tt(_t2490,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1828=function e(){_this1054["#width-input"].removeEventListener("change",t),_this1054["#width-input"].removeEventListener("changeend",_e1828),_this1054.NM();});}},{key:"pf",value:function pf(){var _this1055=this;var t,_e1829,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2491=i*_this1055["#height-input"].value;_this1055["#width-input"].value=tt(_t2491,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1829=function e(){_this1055["#height-input"].removeEventListener("change",t),_this1055["#height-input"].removeEventListener("changeend",_e1829),_this1055.NM();});}},{key:"tD",value:function tD(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Js.setConfig("bx-webpexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"eD",value:function eD(){var t=this["#margin-switch"].toggled?10:null;this.Js.setConfig("bx-webpexportsettings:margin",t),this["#margin-input"].value=t,this.NM(),this.Xs(!1);}},{key:"sD",value:function sD(){this.Js.setConfig("bx-webpexportsettings:scale",this["#scale-input"].value),this.NM();}},{key:"iD",value:function iD(){this.Js.setConfig("bx-webpexportsettings:margin",this["#margin-input"].value),this.NM();}},{key:"RM",value:function RM(){var _this1056=this;var t,_e1830;this["#compression-input"].addEventListener("change",t=function t(){_this1056["#compression-slider"].value=_this1056["#compression-input"].value;}),this["#compression-input"].addEventListener("changeend",_e1830=function e(){_this1056["#compression-input"].removeEventListener("change",t),_this1056["#compression-input"].removeEventListener("changeend",_e1830),_this1056.Js.setConfig("bx-webpexportsettings:compression",_this1056["#compression-input"].value),_this1056.NM();});}},{key:"BM",value:function BM(){var _this1057=this;var t,_e1831;this["#compression-slider"].addEventListener("change",t=function t(){_this1057["#compression-input"].value=_this1057["#compression-slider"].value;}),this["#compression-slider"].addEventListener("changeend",_e1831=function e(){_this1057["#compression-slider"].removeEventListener("change",t),_this1057["#compression-slider"].removeEventListener("changeend",_e1831),_this1057.Js.setConfig("bx-webpexportsettings:compression",_this1057["#compression-slider"].value),_this1057.NM();});}},{key:"GM",value:function GM(){this.jM=!0;}},{key:"UM",value:function UM(){this.jM&&(this.jM=!1,this.Js.setConfig("bx-webpexportsettings:background",this["#background-select"].value),this.NM());}},{key:"FM",value:function FM(){this.VM();}},{key:"VM",value:function(){var _VM6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee257(){var t,_e1832,_t2492,e,i,s,_e1833,_iterator1603,_step1603,_i1495,_t2493,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee257$(_context259){while(1){switch(_context259.prev=_context259.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1832=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2492=this["#view-select"].value.substring(1);_e1832=this.tn.board.currentWorkspace.querySelector("#"+_t2492);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1832);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements(this.margin));e=this["#scale-input"].value,i=this["#width-input"].value*e+"px",s=this["#height-input"].value*e+"px";t.setAttribute("width",i),t.setAttribute("height",s),t.setAttribute("preserveAspectRatio","none");this.tn.offscreenBoard.setArtwork(t);_e1833=new $p(t);_iterator1603=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context259.prev=6;_iterator1603.s();case 8:if((_step1603=_iterator1603.n()).done){_context259.next=15;break;}_i1495=_step1603.value;_t2493=_i1495.getAttribute("data-bx-fonts");_context259.next=13;return _e1833.unlinkFontFamily(_t2493);case 13:_context259.next=8;break;case 15:_context259.next=20;break;case 17:_context259.prev=17;_context259.t0=_context259["catch"](6);_iterator1603.e(_context259.t0);case 20:_context259.prev=20;_iterator1603.f();return _context259.finish(20);case 23:this.tn.offscreenBoard.clear();n=Hp(t);_context259.next=27;return kf(n,"webp",{background:this["#background-select"].value,compression:this["#compression-slider"].value});case 27:o=_context259.sent;_context259.next=30;return hr(o);case 30:l=_context259.sent;a=l.substring(0,l.indexOf(",")+1);h=J((l.length-a.length)*(3/4));r=pr(h);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+r,this["#preview-section"].scrollIntoViewIfNeeded();case 35:case"end":return _context259.stop();}}},_callee257,this,[[6,17,20,23]]);}));function VM(){return _VM6.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this1058=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.tn.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=He(e.outermostSelectedObjectElements.map(function(t){var i=Wt(t,e.currentWorkspace),s=Oi(t);return Ve(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2494=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2494.length>0)if("view-tool"===this.tn.toolsDock.value){var _t2495=e.selectedElements.find(function(t){return"view"===t.localName;});_t2495&&(s=_t2495);}else{var _e1834=_t2494.find(function(t){return"#"+t.id===_this1058["#view-select"].value;});_e1834&&(s=_e1834);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Ut.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2496=e.currentWorkspace.querySelector("#"+s.id);_t2496.hasAttribute("viewBox")&&(i=Ut.fromString(_t2496.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2497=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2497.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2497.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1835=["default"].concat(_toConsumableArray(_t2497.map(function(t){return"#"+t.id;}))),_i1496=["Default"].concat(_toConsumableArray(_t2497.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1835.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1835.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2498=0;_t2498<_e1835.length;_t2498+=1){var _s862=this["#view-menu"].children[_t2498];_s862.value=_e1835[_t2498],_s862.firstElementChild.textContent=_i1496[_t2498];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:J(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:J(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#scale-heading"].disabled=null===i,this["#scale-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Vf;}(Lf);_defineProperty(Vf,"QP",Ki(_templateObject549()));_defineProperty(Vf,"_shadowStyleSheet",Qi(_templateObject550()));customElements.define("bx-webpexportsettings",Vf);var Hf=/*#__PURE__*/function(_Lf5){_inherits(Hf,_Lf5);var _super235=_createSuper(Hf);_createClass(Hf,[{key:"format",get:function get(){return"svg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$hD=this.hD(),_this$hD2=_slicedToArray(_this$hD,1),t=_this$hD2[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$hD3=this.hD(),_this$hD4=_slicedToArray(_this$hD3,1),t=_this$hD4[0];return t?t.height:0;}}]);function Hf(){var _this1059;_classCallCheck(this,Hf);_this1059=_super235.call(this),_this1059["#area-buttons"].addEventListener("toggle",function(){_this1059.QM();}),_this1059["#view-select"].addEventListener("change",function(){_this1059.JP();}),_this1059["#viewport-buttons"].addEventListener("toggle",function(){_this1059.rD();}),_this1059["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1059.dD();}),_this1059["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1059.cD();}),_this1059["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1059.pD();}),_this1059["#preview-button"].addEventListener("click",function(){_this1059.FM();});return _this1059;}_createClass(Hf,[{key:"connectedCallback",value:function connectedCallback(){var _this1060=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board,i=t.getConfig("bx-svgexportsettings:area","view-box"),s=t.getConfig("bx-svgexportsettings:viewport","responsive"),n=t.getConfig("bx-svgexportsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgexportsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgexportsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1060.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1060.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){var t=this["#area-buttons"].value;this.Js.setConfig("bx-svgexportsettings:area",t),this.NM(),this.Xs();}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"rD",value:function rD(){var t=this["#viewport-buttons"].value;this.Js.setConfig("bx-svgexportsettings:viewport",t),this.NM(),this.Xs();}},{key:"dD",value:function dD(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Js.setConfig("bx-svgexportsettings:convertTextsToPaths",t),this.NM();}},{key:"cD",value:function cD(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Js.setConfig("bx-svgexportsettings:removeEmbeddedFonts",t),this.NM();}},{key:"pD",value:function pD(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Js.setConfig("bx-svgexportsettings:removeNonStandardNamespaces",t);}},{key:"FM",value:function FM(){this.VM();}},{key:"hD",value:function hD(){var _this1061=this;var t=this.tn.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=He(t.outermostSelectedObjectElements.map(function(e){var i=Wt(e,t.currentWorkspace),s=Oi(e);return Ve(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s863=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s863.length>0)if("view-tool"===this.tn.toolsDock.value){var _e1836=t.selectedElements.find(function(t){return"view"===t.localName;});_e1836&&(i=_e1836);}else{var _t2499=_s863.find(function(t){return"#"+t.id===_this1061["#view-select"].value;});_t2499&&(i=_t2499);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ut.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s864=t.currentWorkspace.querySelector("#"+i.id);_s864.hasAttribute("viewBox")&&(e=Ut.fromString(_s864.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"uD",value:function uD(t){return new Promise(/*#__PURE__*/function(){var _ref235=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee258(t){return regeneratorRuntime.wrap(function _callee258$(_context260){while(1){switch(_context260.prev=_context260.next){case 0:t();case 1:case"end":return _context260.stop();}}},_callee258);}));return function(_x361){return _ref235.apply(this,arguments);};}());}},{key:"VM",value:function(){var _VM7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee259(){var t,_e1837,_t2500,_e1838,_this$tn$board56,_i1497,_s865,_iterator1604,_step1604,_n565,_i1498,_arr79,_e1839,_e1840,_iterator1605,_step1605,_i1499,_t2501,e,i,s,_this$hD5,_this$hD6,n;return regeneratorRuntime.wrap(function _callee259$(_context261){while(1){switch(_context261.prev=_context261.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1837=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2500=this["#view-select"].value.substring(1);_e1837=this.tn.board.currentWorkspace.querySelector("#"+_t2500);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1837);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements());if(!this["#convert-texts-to-paths-checkbox"].toggled){_context261.next=38;break;}this.tn.offscreenBoard.setArtwork(t);_context261.next=5;return ss(100);case 5:_e1838=new $p(t),_this$tn$board56=this.tn.board,_i1497=_this$tn$board56.geometryPrecision,_s865=_this$tn$board56.transformPrecision;_iterator1604=_createForOfIteratorHelper(t.querySelectorAll("text"));_context261.prev=7;_iterator1604.s();case 9:if((_step1604=_iterator1604.n()).done){_context261.next=26;break;}_n565=_step1604.value;_context261.next=13;return _e1838.canReplaceTextWithPaths(_n565);case 13:if(!_context261.sent){_context261.next=18;break;}_context261.next=16;return _e1838.replaceTextWithPaths(_n565,_i1497,_s865);case 16:_context261.next=24;break;case 18:_context261.next=20;return Zx.canReplaceTextWithPaths(_n565);case 20:_context261.t0=_context261.sent;if(!_context261.t0){_context261.next=24;break;}_context261.next=24;return Zx.replaceTextWithPaths(_n565,_i1497,_s865);case 24:_context261.next=9;break;case 26:_context261.next=31;break;case 28:_context261.prev=28;_context261.t1=_context261["catch"](7);_iterator1604.e(_context261.t1);case 31:_context261.prev=31;_iterator1604.f();return _context261.finish(31);case 34:for(_i1498=0,_arr79=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1498<_arr79.length;_i1498++){_e1839=_arr79[_i1498];_e1839.remove();}this.tn.offscreenBoard.clear();_context261.next=59;break;case 38:this.tn.offscreenBoard.setArtwork(t);_e1840=new $p(t);_iterator1605=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context261.prev=41;_iterator1605.s();case 43:if((_step1605=_iterator1605.n()).done){_context261.next=50;break;}_i1499=_step1605.value;_t2501=_i1499.getAttribute("data-bx-fonts");_context261.next=48;return _e1840.unlinkFontFamily(_t2501);case 48:_context261.next=43;break;case 50:_context261.next=55;break;case 52:_context261.prev=52;_context261.t2=_context261["catch"](41);_iterator1605.e(_context261.t2);case 55:_context261.prev=55;_iterator1605.f();return _context261.finish(55);case 58:this.tn.offscreenBoard.clear();case 59:e=Hp(t);_context261.next=62;return Yp(e);case 62:i=_context261.sent;s=pr(e.length);_this$hD5=this.hD();_this$hD6=_slicedToArray(_this$hD5,1);n=_this$hD6[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",i),this["#preview"].setAttribute("width",n.width),this["#preview"].setAttribute("height",n.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+s,this["#preview-section"].scrollIntoViewIfNeeded();case 68:case"end":return _context261.stop();}}},_callee259,this,[[7,28,31,34],[41,52,55,58]]);}));function VM(){return _VM7.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this$hD7=this.hD(),_this$hD8=_slicedToArray(_this$hD7,2),t=_this$hD8[0],e=_this$hD8[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2502=_toConsumableArray(this.tn.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2502.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2502.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1500=["default"].concat(_toConsumableArray(_t2502.map(function(t){return"#"+t.id;}))),_s866=["Default"].concat(_toConsumableArray(_t2502.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1500.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1500.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2503=0;_t2503<_i1500.length;_t2503+=1){var _e1841=this["#view-menu"].children[_t2503];_e1841.value=_i1500[_t2503],_e1841.firstElementChild.textContent=_s866[_t2503];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Hf;}(Lf);_defineProperty(Hf,"QP",Ki(_templateObject551()));_defineProperty(Hf,"_shadowStyleSheet",Qi(_templateObject552()));customElements.define("bx-svgexportsettings",Hf);var Wf=function Wf(t){var e=[];for(var _i1501=0,_s867=t.length;_i1501<_s867;_i1501+=1){e.push(t[_i1501].charCodeAt(0));}var i=new Uint8Array(e);return pako.gzip(i);},Yf=function Yf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string";try{var _i1502=null,_s868=pako.inflate(t);if("string"===e){_i1502="";for(var _t2504=0,_e1842=_s868.length;_t2504<_e1842;_t2504+=1){_i1502+=String.fromCharCode(_s868[_t2504]);}}else"blob"===e&&(_i1502=new Blob([_s868],{type:"image/svg+xml"}));return _i1502;}catch(t){return null;}};var qf=/*#__PURE__*/function(_Lf6){_inherits(qf,_Lf6);var _super236=_createSuper(qf);_createClass(qf,[{key:"format",get:function get(){return"svgz";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$hD9=this.hD(),_this$hD10=_slicedToArray(_this$hD9,1),t=_this$hD10[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$hD11=this.hD(),_this$hD12=_slicedToArray(_this$hD11,1),t=_this$hD12[0];return t?t.height:0;}}]);function qf(){var _this1062;_classCallCheck(this,qf);_this1062=_super236.call(this),_this1062["#area-buttons"].addEventListener("toggle",function(){_this1062.QM();}),_this1062["#view-select"].addEventListener("change",function(){_this1062.JP();}),_this1062["#viewport-buttons"].addEventListener("toggle",function(){_this1062.rD();}),_this1062["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1062.dD();}),_this1062["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1062.cD();}),_this1062["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1062.pD();}),_this1062["#preview-button"].addEventListener("click",function(){_this1062.FM();});return _this1062;}_createClass(qf,[{key:"connectedCallback",value:function connectedCallback(){var _this1063=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board,i=t.getConfig("bx-svgzexportsettings:area","view-box"),s=t.getConfig("bx-svgzexportsettings:viewport","responsive"),n=t.getConfig("bx-svgzexportsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgzexportsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgzexportsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1063.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1063.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){var t=this["#area-buttons"].value;this.Js.setConfig("bx-svgzexportsettings:area",t),this.NM(),this.Xs();}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"rD",value:function rD(){var t=this["#viewport-buttons"].value;this.Js.setConfig("bx-svgzexportsettings:viewport",t),this.NM(),this.Xs();}},{key:"dD",value:function dD(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Js.setConfig("bx-svgzexportsettings:convertTextsToPaths",t),this.NM();}},{key:"cD",value:function cD(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Js.setConfig("bx-svgzexportsettings:removeEmbeddedFonts",t),this.NM();}},{key:"pD",value:function pD(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Js.setConfig("bx-svgzexportsettings:removeNonStandardNamespaces",t);}},{key:"FM",value:function FM(){this.VM();}},{key:"hD",value:function hD(){var _this1064=this;var t=this.tn.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=He(t.outermostSelectedObjectElements.map(function(e){var i=Wt(e,t.currentWorkspace),s=Oi(e);return Ve(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s869=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s869.length>0)if("view-tool"===this.tn.toolsDock.value){var _e1843=t.selectedElements.find(function(t){return"view"===t.localName;});_e1843&&(i=_e1843);}else{var _t2505=_s869.find(function(t){return"#"+t.id===_this1064["#view-select"].value;});_t2505&&(i=_t2505);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ut.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s870=t.currentWorkspace.querySelector("#"+i.id);_s870.hasAttribute("viewBox")&&(e=Ut.fromString(_s870.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"VM",value:function(){var _VM8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee260(){var t,_e1844,_t2506,_e1845,_this$tn$board57,_i1503,_s871,_iterator1606,_step1606,_n566,_i1504,_arr80,_e1846,_e1847,_iterator1607,_step1607,_i1505,_t2507,e,i,s,n,_this$hD13,_this$hD14,o;return regeneratorRuntime.wrap(function _callee260$(_context262){while(1){switch(_context262.prev=_context262.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1844=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2506=this["#view-select"].value.substring(1);_e1844=this.tn.board.currentWorkspace.querySelector("#"+_t2506);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1844);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements());if(!this["#convert-texts-to-paths-checkbox"].toggled){_context262.next=38;break;}this.tn.offscreenBoard.setArtwork(t);_context262.next=5;return ss(100);case 5:_e1845=new $p(t),_this$tn$board57=this.tn.board,_i1503=_this$tn$board57.geometryPrecision,_s871=_this$tn$board57.transformPrecision;_iterator1606=_createForOfIteratorHelper(t.querySelectorAll("text"));_context262.prev=7;_iterator1606.s();case 9:if((_step1606=_iterator1606.n()).done){_context262.next=26;break;}_n566=_step1606.value;_context262.next=13;return _e1845.canReplaceTextWithPaths(_n566);case 13:if(!_context262.sent){_context262.next=18;break;}_context262.next=16;return _e1845.replaceTextWithPaths(_n566,_i1503,_s871);case 16:_context262.next=24;break;case 18:_context262.next=20;return Zx.canReplaceTextWithPaths(_n566);case 20:_context262.t0=_context262.sent;if(!_context262.t0){_context262.next=24;break;}_context262.next=24;return Zx.replaceTextWithPaths(_n566,_i1503,_s871);case 24:_context262.next=9;break;case 26:_context262.next=31;break;case 28:_context262.prev=28;_context262.t1=_context262["catch"](7);_iterator1606.e(_context262.t1);case 31:_context262.prev=31;_iterator1606.f();return _context262.finish(31);case 34:for(_i1504=0,_arr80=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1504<_arr80.length;_i1504++){_e1846=_arr80[_i1504];_e1846.remove();}this.tn.offscreenBoard.clear();_context262.next=59;break;case 38:this.tn.offscreenBoard.setArtwork(t);_e1847=new $p(t);_iterator1607=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context262.prev=41;_iterator1607.s();case 43:if((_step1607=_iterator1607.n()).done){_context262.next=50;break;}_i1505=_step1607.value;_t2507=_i1505.getAttribute("data-bx-fonts");_context262.next=48;return _e1847.unlinkFontFamily(_t2507);case 48:_context262.next=43;break;case 50:_context262.next=55;break;case 52:_context262.prev=52;_context262.t2=_context262["catch"](41);_iterator1607.e(_context262.t2);case 55:_context262.prev=55;_iterator1607.f();return _context262.finish(55);case 58:this.tn.offscreenBoard.clear();case 59:e=Hp(t);i=Wf(e);_context262.next=63;return Yp(e);case 63:s=_context262.sent;n=pr(i.length);_this$hD13=this.hD();_this$hD14=_slicedToArray(_this$hD13,1);o=_this$hD14[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 69:case"end":return _context262.stop();}}},_callee260,this,[[7,28,31,34],[41,52,55,58]]);}));function VM(){return _VM8.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this$hD15=this.hD(),_this$hD16=_slicedToArray(_this$hD15,2),t=_this$hD16[0],e=_this$hD16[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2508=_toConsumableArray(this.tn.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2508.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2508.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1506=["default"].concat(_toConsumableArray(_t2508.map(function(t){return"#"+t.id;}))),_s872=["Default"].concat(_toConsumableArray(_t2508.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1506.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1506.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2509=0;_t2509<_i1506.length;_t2509+=1){var _e1848=this["#view-menu"].children[_t2509];_e1848.value=_i1506[_t2509],_e1848.firstElementChild.textContent=_s872[_t2509];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return qf;}(Lf);_defineProperty(qf,"QP",Ki(_templateObject553()));_defineProperty(qf,"_shadowStyleSheet",Qi(_templateObject554()));customElements.define("bx-svgzexportsettings",qf);var Xf=/*#__PURE__*/function(_Lf7){_inherits(Xf,_Lf7);var _super237=_createSuper(Xf);_createClass(Xf,[{key:"format",get:function get(){return"html";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"width",get:function get(){var _this$hD17=this.hD(),_this$hD18=_slicedToArray(_this$hD17,1),t=_this$hD18[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$hD19=this.hD(),_this$hD20=_slicedToArray(_this$hD19,1),t=_this$hD20[0];return t?t.height:0;}}]);function Xf(){var _this1065;_classCallCheck(this,Xf);_this1065=_super237.call(this),_this1065["#area-buttons"].addEventListener("toggle",function(){return _this1065.QM();}),_this1065["#view-select"].addEventListener("change",function(){return _this1065.JP();}),_this1065["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1065.dD();}),_this1065["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){return _this1065.cD();}),_this1065["#preview-button"].addEventListener("click",function(){return _this1065.FM();});return _this1065;}_createClass(Xf,[{key:"connectedCallback",value:function connectedCallback(){var _this1066=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app");var t=this.Js,e=this.tn.board;this["#area-buttons"].value=t.getConfig("bx-htmlexportsettings:area","view-box"),this["#convert-texts-to-paths-checkbox"].toggled=t.getConfig("bx-htmlexportsettings:convertTextsToPaths",!1),this["#remove-embedded-fonts-checkbox"].toggled=t.getConfig("bx-htmlexportsettings:removeEmbeddedFonts",!1),this.Xs(),e.addEventListener("selectedelementschange",this.al=function(){_this1066.hl();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1066.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.tn.board;this.NM(),t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){this.NM(),this.Xs(),this.Js.setConfig("bx-htmlexportsettings:area",this["#area-buttons"].value);}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"dD",value:function dD(){this.NM(),this.Js.setConfig("bx-htmlexportsettings:convertTextsToPaths",this["#convert-texts-to-paths-checkbox"].toggled);}},{key:"cD",value:function cD(){this.NM(),this.Js.setConfig("bx-htmlexportsettings:removeEmbeddedFonts",this["#remove-embedded-fonts-checkbox"].toggled);}},{key:"FM",value:function FM(){this.VM();}},{key:"hD",value:function hD(){var _this1067=this;var t=this.tn.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=He(t.outermostSelectedObjectElements.map(function(e){var i=Wt(e,t.currentWorkspace),s=Oi(e);return Ve(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s873=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s873.length>0)if("view-tool"===this.tn.toolsDock.value){var _e1849=t.selectedElements.find(function(t){return"view"===t.localName;});_e1849&&(i=_e1849);}else{var _t2510=_s873.find(function(t){return"#"+t.id===_this1067["#view-select"].value;});_t2510&&(i=_t2510);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ut.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s874=t.currentWorkspace.querySelector("#"+i.id);_s874.hasAttribute("viewBox")&&(e=Ut.fromString(_s874.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"uD",value:function uD(t){return new Promise(/*#__PURE__*/function(){var _ref236=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee261(t){return regeneratorRuntime.wrap(function _callee261$(_context263){while(1){switch(_context263.prev=_context263.next){case 0:t();case 1:case"end":return _context263.stop();}}},_callee261);}));return function(_x362){return _ref236.apply(this,arguments);};}());}},{key:"VM",value:function(){var _VM9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee262(){var t,_e1850,_t2511,_e1851,_this$tn$board58,_i1507,_s875,_iterator1608,_step1608,_n567,_i1508,_arr81,_e1852,_e1853,_iterator1609,_step1609,_i1509,_t2512,e,i,s,n,_this$hD21,_this$hD22,o;return regeneratorRuntime.wrap(function _callee262$(_context264){while(1){switch(_context264.prev=_context264.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1850=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2511=this["#view-select"].value.substring(1);_e1850=this.tn.board.currentWorkspace.querySelector("#"+_t2511);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1850);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements());if(!this["#convert-texts-to-paths-checkbox"].toggled){_context264.next=38;break;}this.tn.offscreenBoard.setArtwork(t);_context264.next=5;return ss(100);case 5:_e1851=new $p(t),_this$tn$board58=this.tn.board,_i1507=_this$tn$board58.geometryPrecision,_s875=_this$tn$board58.transformPrecision;_iterator1608=_createForOfIteratorHelper(t.querySelectorAll("text"));_context264.prev=7;_iterator1608.s();case 9:if((_step1608=_iterator1608.n()).done){_context264.next=26;break;}_n567=_step1608.value;_context264.next=13;return _e1851.canReplaceTextWithPaths(_n567);case 13:if(!_context264.sent){_context264.next=18;break;}_context264.next=16;return _e1851.replaceTextWithPaths(_n567,_i1507,_s875);case 16:_context264.next=24;break;case 18:_context264.next=20;return Zx.canReplaceTextWithPaths(_n567);case 20:_context264.t0=_context264.sent;if(!_context264.t0){_context264.next=24;break;}_context264.next=24;return Zx.replaceTextWithPaths(_n567,_i1507,_s875);case 24:_context264.next=9;break;case 26:_context264.next=31;break;case 28:_context264.prev=28;_context264.t1=_context264["catch"](7);_iterator1608.e(_context264.t1);case 31:_context264.prev=31;_iterator1608.f();return _context264.finish(31);case 34:for(_i1508=0,_arr81=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1508<_arr81.length;_i1508++){_e1852=_arr81[_i1508];_e1852.remove();}this.tn.offscreenBoard.clear();_context264.next=59;break;case 38:this.tn.offscreenBoard.setArtwork(t);_e1853=new $p(t);_iterator1609=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context264.prev=41;_iterator1609.s();case 43:if((_step1609=_iterator1609.n()).done){_context264.next=50;break;}_i1509=_step1609.value;_t2512=_i1509.getAttribute("data-bx-fonts");_context264.next=48;return _e1853.unlinkFontFamily(_t2512);case 48:_context264.next=43;break;case 50:_context264.next=55;break;case 52:_context264.prev=52;_context264.t2=_context264["catch"](41);_iterator1609.e(_context264.t2);case 55:_context264.prev=55;_iterator1609.f();return _context264.finish(55);case 58:this.tn.offscreenBoard.clear();case 59:e=Hp(t,"xml");i=Hp(t,"html");_context264.next=63;return Yp(e);case 63:s=_context264.sent;n=pr(i.length);_this$hD21=this.hD();_this$hD22=_slicedToArray(_this$hD21,1);o=_this$hD22[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 69:case"end":return _context264.stop();}}},_callee262,this,[[7,28,31,34],[41,52,55,58]]);}));function VM(){return _VM9.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this$hD23=this.hD(),_this$hD24=_slicedToArray(_this$hD23,2),t=_this$hD24[0],e=_this$hD24[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2513=_toConsumableArray(this.tn.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2513.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2513.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1510=["default"].concat(_toConsumableArray(_t2513.map(function(t){return"#"+t.id;}))),_s876=["Default"].concat(_toConsumableArray(_t2513.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1510.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1510.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2514=0;_t2514<_i1510.length;_t2514+=1){var _e1854=this["#view-menu"].children[_t2514];_e1854.value=_i1510[_t2514],_e1854.firstElementChild.textContent=_s876[_t2514];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Xf;}(Lf);_defineProperty(Xf,"QP",Ki(_templateObject555()));_defineProperty(Xf,"_shadowStyleSheet",Qi(_templateObject556()));customElements.define("bx-htmlexportsettings",Xf);var Zf=/*#__PURE__*/function(_Lf8){_inherits(Zf,_Lf8);var _super238=_createSuper(Zf);_createClass(Zf,[{key:"format",get:function get(){return"pdf";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"widthUnit",get:function get(){return this["#width-unit-select"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"heightUnit",get:function get(){return this["#height-unit-select"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}}]);function Zf(){var _this1068;_classCallCheck(this,Zf);_this1068=_super238.call(this),_this1068["#area-buttons"].addEventListener("toggle",function(){return _this1068.QM();}),_this1068["#view-select"].addEventListener("change",function(){return _this1068.JP();}),_this1068["#width-input"].addEventListener("changestart",function(){return _this1068.cf();}),_this1068["#height-input"].addEventListener("changestart",function(){return _this1068.pf();}),_this1068["#width-unit-select"].addEventListener("change",function(){return _this1068.xD();}),_this1068["#height-unit-select"].addEventListener("change",function(){return _this1068.bD();}),_this1068["#lock-size-button"].addEventListener("toggle",function(){return _this1068.tD();}),_this1068["#background-select"].addEventListener("changeend",function(){return _this1068.GM();}),_this1068["#background-popover"].addEventListener("close",function(){return _this1068.UM();}),_this1068["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1068.dD();}),_this1068["#preview-button"].addEventListener("click",function(){return _this1068.FM();});return _this1068;}_createClass(Zf,[{key:"connectedCallback",value:function connectedCallback(){var _this1069=this;this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app"),this["#area-buttons"].value=this.Js.getConfig("bx-pdfexportsettings:area","view-box"),this["#width-unit-select"].value=this.Js.getConfig("bx-pdfexportsettings:widthUnit","cm"),this["#height-unit-select"].value=this.Js.getConfig("bx-pdfexportsettings:heightUnit","cm"),this["#lock-size-button"].toggled=this.Js.getConfig("bx-pdfexportsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#background-select"].value=this.Js.getConfig("bx-pdfexportsettings:background","rgb(255, 255, 255)"),this["#convert-texts-to-paths-checkbox"].toggled=this.Js.getConfig("bx-pdfexportsettings:convertTextsToPaths",!1),this.Xs(),this.tn.board.addEventListener("selectedelementschange",this.al=function(){_this1069.hl();}),this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this1069.pl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.NM(),this.tn.board.removeEventListener("selectedelementschange",this.al),this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"hl",value:function hl(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.NM(),this.Xs());}},{key:"pl",value:function pl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.NM(),this.Xs());}},{key:"QM",value:function QM(){this.NM(),this.Xs(),this.Js.setConfig("bx-pdfexportsettings:area",this["#area-buttons"].value);}},{key:"JP",value:function JP(){if(this.NM(),"view-tool"===this.tn.toolsDock.value){if("default"===this["#view-select"].value)this.tn.board.selectedElements=[];else{var t=this.tn.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.tn.board.selectedElements=[t]);}}else this.Xs();}},{key:"cf",value:function cf(){var _this1070=this;var t,_e1855,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2515=_this1070["#width-input"].value/i;_this1070["#height-input"].value=tt(_t2515,1,Infinity,3);}}),this["#width-input"].addEventListener("changeend",_e1855=function e(){_this1070["#width-input"].removeEventListener("change",t),_this1070["#width-input"].removeEventListener("changeend",_e1855),_this1070.NM();});}},{key:"pf",value:function pf(){var _this1071=this;var t,_e1856,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2516=i*_this1071["#height-input"].value;_this1071["#width-input"].value=tt(_t2516,1,Infinity,3);}}),this["#height-input"].addEventListener("changeend",_e1856=function e(){_this1071["#height-input"].removeEventListener("change",t),_this1071["#height-input"].removeEventListener("changeend",_e1856),_this1071.NM();});}},{key:"xD",value:function xD(){this.Js.setConfig("bx-pdfexportsettings:widthUnit",this["#width-unit-select"].value),this.NM(),"cm"===this["#width-unit-select"].value?this["#width-input"].value=J(2.54*this["#width-input"].value,3):this["#width-input"].value=J(this["#width-input"].value/2.54,3);}},{key:"bD",value:function bD(){this.Js.setConfig("bx-pdfexportsettings:heightUnit",this["#height-unit-select"].value),this.NM(),"cm"===this["#height-unit-select"].value?this["#height-input"].value=J(2.54*this["#height-input"].value,3):this["#height-input"].value=J(this["#height-input"].value/2.54,3);}},{key:"tD",value:function tD(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Js.setConfig("bx-pdfexportsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"GM",value:function GM(){this.jM=!0;}},{key:"UM",value:function UM(){this.jM&&(this.jM=!1,this.Js.setConfig("bx-pdfexportsettings:background",this["#background-select"].value),this.NM());}},{key:"dD",value:function dD(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Js.setConfig("bx-pdfexportsettings:convertTextsToPaths",t),this.NM();}},{key:"FM",value:function FM(){this.VM();}},{key:"VM",value:function(){var _VM10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee263(){var t,_e1857,_t2517,e,i,s,n,_e1858,_this$tn$board59,_i1511,_s877,_iterator1610,_step1610,_n568,_i1512,_arr82,_e1859,_e1860,_iterator1611,_step1611,_i1513,_t2518,o,l;return regeneratorRuntime.wrap(function _callee263$(_context265){while(1){switch(_context265.prev=_context265.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1857=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2517=this["#view-select"].value.substring(1);_e1857=this.tn.board.currentWorkspace.querySelector("#"+_t2517);}t=this.tn.board.extractArtworkWithViewBoxElements(_e1857);}else"selection"===this["#area-buttons"].value&&(t=this.tn.board.extractArtworkWithSelectedElements());e=this["#width-input"].value+this["#width-unit-select"].value,i=this["#height-input"].value+this["#height-unit-select"].value,s=this["#width-input"].value*("cm"===this["#width-unit-select"].value?37.7953:96),n=this["#height-input"].value*("cm"===this["#height-unit-select"].value?37.7953:96);if(!(t.setAttribute("width",e),t.setAttribute("height",i),t.setAttribute("preserveAspectRatio","none"),t.style.background=this["#background-select"].value,t.insertAdjacentHTML("beforeEnd","<style>@page {size: ".concat(e," ").concat(i,";}</style>")),this["#convert-texts-to-paths-checkbox"].toggled)){_context265.next=39;break;}this.tn.offscreenBoard.setArtwork(t);_context265.next=6;return ss(100);case 6:_e1858=new $p(t),_this$tn$board59=this.tn.board,_i1511=_this$tn$board59.geometryPrecision,_s877=_this$tn$board59.transformPrecision;_iterator1610=_createForOfIteratorHelper(t.querySelectorAll("text"));_context265.prev=8;_iterator1610.s();case 10:if((_step1610=_iterator1610.n()).done){_context265.next=27;break;}_n568=_step1610.value;_context265.next=14;return _e1858.canReplaceTextWithPaths(_n568);case 14:if(!_context265.sent){_context265.next=19;break;}_context265.next=17;return _e1858.replaceTextWithPaths(_n568,_i1511,_s877);case 17:_context265.next=25;break;case 19:_context265.next=21;return Zx.canReplaceTextWithPaths(_n568);case 21:_context265.t0=_context265.sent;if(!_context265.t0){_context265.next=25;break;}_context265.next=25;return Zx.replaceTextWithPaths(_n568,_i1511,_s877);case 25:_context265.next=10;break;case 27:_context265.next=32;break;case 29:_context265.prev=29;_context265.t1=_context265["catch"](8);_iterator1610.e(_context265.t1);case 32:_context265.prev=32;_iterator1610.f();return _context265.finish(32);case 35:for(_i1512=0,_arr82=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1512<_arr82.length;_i1512++){_e1859=_arr82[_i1512];_e1859.remove();}this.tn.offscreenBoard.clear();_context265.next=60;break;case 39:this.tn.offscreenBoard.setArtwork(t);_e1860=new $p(t);_iterator1611=_createForOfIteratorHelper(t.querySelectorAll("style[data-bx-fonts]"));_context265.prev=42;_iterator1611.s();case 44:if((_step1611=_iterator1611.n()).done){_context265.next=51;break;}_i1513=_step1611.value;_t2518=_i1513.getAttribute("data-bx-fonts");_context265.next=49;return _e1860.unlinkFontFamily(_t2518);case 49:_context265.next=44;break;case 51:_context265.next=56;break;case 53:_context265.prev=53;_context265.t2=_context265["catch"](42);_iterator1611.e(_context265.t2);case 56:_context265.prev=56;_iterator1611.f();return _context265.finish(56);case 59:this.tn.offscreenBoard.clear();case 60:o=Hp(t);_context265.next=63;return Yp(o);case 63:l=_context265.sent;this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="",this["#preview-section"].scrollIntoViewIfNeeded();case 65:case"end":return _context265.stop();}}},_callee263,this,[[8,29,32,35],[42,53,56,59]]);}));function VM(){return _VM10.apply(this,arguments);}return VM;}()},{key:"NM",value:function NM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"Xs",value:function Xs(){var _this1072=this;var t=this.tn.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=He(t.outermostSelectedObjectElements.map(function(e){var i=Wt(e,t.currentWorkspace),s=Oi(e);return Ve(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s878=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s878.length>0)if("view-tool"===this.tn.toolsDock.value){var _e1861=t.selectedElements.find(function(t){return"view"===t.localName;});_e1861&&(i=_e1861);}else{var _t2519=_s878.find(function(t){return"#"+t.id===_this1072["#view-select"].value;});_t2519&&(i=_t2519);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Ut.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s879=t.currentWorkspace.querySelector("#"+i.id);_s879.hasAttribute("viewBox")&&(e=Ut.fromString(_s879.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}this.exportable=!!e,this["#options-heading"].disabled=this.disabled,this["#area-heading"].disabled=this.disabled;var _iterator1612=_createForOfIteratorHelper(this["#area-buttons"].children),_step1612;try{for(_iterator1612.s();!(_step1612=_iterator1612.n()).done;){var _t2522=_step1612.value;_t2522.disabled=this.disabled;}}catch(err){_iterator1612.e(err);}finally{_iterator1612.f();}if("selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _e1862=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_e1862.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_e1862.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _t2520=["default"].concat(_toConsumableArray(_e1862.map(function(t){return"#"+t.id;}))),_s880=["Default"].concat(_toConsumableArray(_e1862.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_t2520.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_t2520.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _e1863=0;_e1863<_t2520.length;_e1863+=1){var _i1514=this["#view-menu"].children[_e1863];_i1514.value=_t2520[_e1863],_i1514.firstElementChild.textContent=_s880[_e1863];}"view-tool"===this.tn.toolsDock.value?this["#view-select"].value=i?"#"+i.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}{var _t2521=100,_i1515=100;null!==e&&(_t2521="cm"===this["#width-unit-select"].value?J(e.width/37.7953,3):J(e.width/96,3),_i1515="cm"===this["#height-unit-select"].value?J(e.height/37.7953,3):J(e.height/96,3)),this["#width-heading"].disabled=null===e||this.disabled,this["#width-input"].disabled=null===e||this.disabled,this["#width-input"].value=_t2521,this["#width-unit-select"].disabled=null===e||this.disabled,this["#height-heading"].disabled=null===e||this.disabled,this["#height-input"].disabled=null===e||this.disabled,this["#height-input"].value=_i1515,this["#height-unit-select"].disabled=null===e||this.disabled,this["#lock-size-button"].disabled=null===e||this.disabled;}this["#background-heading"].disabled=null===e||this.disabled,this["#background-select"].disabled=null===e||this.disabled,this["#normalize-heading"].disabled=null===e||this.disabled,this["#convert-texts-to-paths-checkbox"].disabled=null===e||this.disabled,this["#preview-heading"].disabled=null===e||this.disabled,this["#preview-button"].disabled=null===e||this.disabled;}}]);return Zf;}(Lf);_defineProperty(Zf,"QP",Ki(_templateObject557()));_defineProperty(Zf,"_shadowStyleSheet",Qi(_templateObject558()));customElements.define("bx-pdfexportsettings",Zf);var Kf=/*#__PURE__*/function(_HTMLElement140){_inherits(Kf,_HTMLElement140);var _super239=_createSuper(Kf);_createClass(Kf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Kf(){var _this1073;_classCallCheck(this,Kf);_this1073=_super239.call(this),_this1073._shadowRoot=_this1073.attachShadow({mode:"closed"}),_this1073._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Kf._shadowStyleSheet],_this1073._shadowRoot.append(document.importNode(Kf._shadowTemplate.content,!0));var _iterator1613=_createForOfIteratorHelper(_this1073._shadowRoot.querySelectorAll("[id]")),_step1613;try{for(_iterator1613.s();!(_step1613=_iterator1613.n()).done;){var t=_step1613.value;_this1073["#"+t.id]=t;}}catch(err){_iterator1613.e(err);}finally{_iterator1613.f();}_this1073["#format-select"].addEventListener("change",function(){return _this1073.Ex();}),_this1073["#main"].addEventListener("exportablechange",function(t){return _this1073.Xs();}),_this1073["#export-button"].addEventListener("click",function(t){return _this1073.mD(t);});return _this1073;}_createClass(Kf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.tn=Ri(this,"bx-editor"),this.Js=Ri(this,"#app"),this["#pdf-menu-item"].hidden=!0===this.Js.matches("bx-chromeapp");}},{key:"en",value:function en(){this["#format-select"].value=this.Js.getConfig("bx-exportpanel:format","png"),this.gD=null,this.Xs();}},{key:"sn",value:function sn(){this["#format-select"].value=null,this.gD=null,this.Xs();}},{key:"Ex",value:function Ex(){this.Js.setConfig("bx-exportpanel:format",this["#format-select"].value),this.gD=null,this.Xs();}},{key:"mD",value:function(){var _mD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee264(){var _this$Js$checkDiskWri,_this$Js$checkDiskWri2,_t2523,_i1516,_Wg3,_Wg4,_s881,t,i,s,n,_t2524,_t2525,_iterator1614,_step1614,_e1864,_i1517,_t2526,_e1865,_i$margin,_e1866,_o522,_l390,_a286,_h228,_r149,_d119,_c85,_p81,_i$margin2,_e1867,_o523,_l391,_a287,_h229,_r150,_d120,_c86,_p82,_i$margin3,_e1868,_o524,_l392,_a288,_h230,_r151,_d121,_c87,_p83,_i$margin4,_e1869,_o525,_l393,_a289,_h231,_r152,_d122,_c88,_p84,_t2527,_e1871,_t2528,_e1872,_i1518,_arr83,_arr83$_i,_e1873,_i1519,_t2529,_e1874,_i1520,_s882,_i1521,_Ve,_s883,_o527,_e1870,_o526,_t2530,_e1876,_e1875,_o528,_t2531,_e1877,_t2532,_e1878,_i1522,_t2533;return regeneratorRuntime.wrap(function _callee264$(_context266){while(1){switch(_context266.prev=_context266.next){case 0:if(!("bx-webapp"===this.Js.localName)){_context266.next=8;break;}_this$Js$checkDiskWri=this.Js.checkDiskWriteAccess(),_this$Js$checkDiskWri2=_slicedToArray(_this$Js$checkDiskWri,2),_t2523=_this$Js$checkDiskWri2[0],_i1516=_this$Js$checkDiskWri2[1],_Wg3=Wg(this.Js.userSubscription,this.Js.user),_Wg4=_slicedToArray(_Wg3,1),_s881=_Wg4[0];if(!("rejected"===_t2523)){_context266.next=4;break;}return _context266.abrupt("return",void this.Js.handleWriteAccessRejection(_i1516,"Can't export file"));case 4:if(!("pdf"===this["#format-select"].value&&(null===_s881||_s881===e))){_context266.next=6;break;}return _context266.abrupt("return",void this.Js.handleWriteAccessRejection("boxy-svg/user-not-subscribed-to-premium-plan","Can't export file"));case 6:if(!this.gD){_context266.next=8;break;}return _context266.abrupt("return",(this.gD=null,void this.Xs()));case 8:t=this["#format-select"].value,i=this["#main"].firstElementChild,s=null,n=null;if("view-box"===i.area){if(null===i.viewID)n=this.tn.board.extractArtworkWithViewBoxElements();else{_t2524=this.tn.board.currentWorkspace.querySelector("#"+i.viewID);n=this.tn.board.extractArtworkWithViewBoxElements(_t2524);}}else"selection"===i.area&&(n=this.tn.board.extractArtworkWithSelectedElements(i.margin||[0,0,0,0]));if(!["png","jpeg","gif","webp","pdf"].includes(t)){_context266.next=32;break;}this.tn.offscreenBoard.setArtwork(n);_t2525=new $p(n);_iterator1614=_createForOfIteratorHelper(n.querySelectorAll("style[data-bx-fonts]"));_context266.prev=14;_iterator1614.s();case 16:if((_step1614=_iterator1614.n()).done){_context266.next=23;break;}_e1864=_step1614.value;_i1517=_e1864.getAttribute("data-bx-fonts");_context266.next=21;return _t2525.unlinkFontFamily(_i1517);case 21:_context266.next=16;break;case 23:_context266.next=28;break;case 25:_context266.prev=25;_context266.t0=_context266["catch"](14);_iterator1614.e(_context266.t0);case 28:_context266.prev=28;_iterator1614.f();return _context266.finish(28);case 31:this.tn.offscreenBoard.clear();case 32:_t2526=null;if("view-box"===i.area){if(null===i.viewID){_t2526=this.tn.board.currentWorkspace.querySelector(":scope > bx-title");}else{_t2526=this.tn.board.currentWorkspace.querySelector("#"+i.viewID).querySelector(":scope > bx-title");}}else{_e1865=this.tn.board.outermostSelectedObjectElements;1===_e1865.length&&(_t2526=_e1865[0].querySelector(":scope > bx-title"));}_t2526&&_t2526.textContent.trim().length>0&&(s=_t2526.textContent);if(!("png"===t)){_context266.next=46;break;}_i$margin=_slicedToArray(i.margin,4),_e1866=_i$margin[0],_o522=_i$margin[1],_l390=_i$margin[2],_a286=_i$margin[3],_h228=i.scale,_r149=(i.width+_a286+_o522)*_h228,_d119=(i.height+_e1866+_l390)*_h228,_c85=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r149+"px"),n.setAttribute("height",_d119+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=40;return kf(Hp(n),"png",{dpi:i.dpi,colors:i.colors,background:i.background});case 40:_p81=_context266.sent;_context266.next=43;return ss(100);case 43:this.Js.openBitmapExportDialog(_p81,t,s,_c85);_context266.next=134;break;case 46:if(!("jpeg"===t)){_context266.next=57;break;}_i$margin2=_slicedToArray(i.margin,4),_e1867=_i$margin2[0],_o523=_i$margin2[1],_l391=_i$margin2[2],_a287=_i$margin2[3],_h229=i.scale,_r150=(i.width+_a287+_o523)*_h229,_d120=(i.height+_e1867+_l391)*_h229,_c86=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r150+"px"),n.setAttribute("height",_d120+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=51;return kf(Hp(n),"jpeg",{compression:i.compression,background:i.background});case 51:_p82=_context266.sent;_context266.next=54;return ss(100);case 54:this.Js.openBitmapExportDialog(_p82,t,s,_c86);_context266.next=134;break;case 57:if(!("gif"===t)){_context266.next=68;break;}_i$margin3=_slicedToArray(i.margin,4),_e1868=_i$margin3[0],_o524=_i$margin3[1],_l392=_i$margin3[2],_a288=_i$margin3[3],_h230=i.scale,_r151=(i.width+_a288+_o524)*_h230,_d121=(i.height+_e1868+_l392)*_h230,_c87=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r151+"px"),n.setAttribute("height",_d121+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=62;return kf(Hp(n),"gif",{background:i.background,transparent:i.transparent,dithering:i.dithering});case 62:_p83=_context266.sent;_context266.next=65;return ss(100);case 65:this.Js.openBitmapExportDialog(_p83,t,s,_c87);_context266.next=134;break;case 68:if(!("webp"===t)){_context266.next=79;break;}_i$margin4=_slicedToArray(i.margin,4),_e1869=_i$margin4[0],_o525=_i$margin4[1],_l393=_i$margin4[2],_a289=_i$margin4[3],_h231=i.scale,_r152=(i.width+_a289+_o525)*_h231,_d122=(i.height+_e1869+_l393)*_h231,_c88=1===i.scale?"":"@".concat(i.scale,"x");n.setAttribute("width",_r152+"px"),n.setAttribute("height",_d122+"px"),n.setAttribute("preserveAspectRatio","none");_context266.next=73;return kf(Hp(n),"webp",{compression:i.compression,background:i.background});case 73:_p84=_context266.sent;_context266.next=76;return ss(100);case 76:this.Js.openBitmapExportDialog(_p84,t,s,_c88);_context266.next=134;break;case 79:if(!("svg"===t||"svgz"===t)){_context266.next=95;break;}_context266.t1=i.convertTextsToPaths;if(!_context266.t1){_context266.next=84;break;}_context266.next=84;return this.uD(n);case 84:if(!i.removeEmbeddedFonts){_context266.next=87;break;}_e1871=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2527=_e1871.nextNode();){"style"===_t2527.localName&&_t2527.hasAttribute("data-bx-fonts")&&_t2527.textContent.includes("data:font/")&&_t2527.remove();}case 87:if(i.removeNonStandardNamespaces){_e1872=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2528=_e1872.nextNode();){_t2528.localName.includes("-")&&"bx-title"!==_t2528.localName&&_t2528.remove();for(_i1518=0,_arr83=_toConsumableArray(_t2528.attributes);_i1518<_arr83.length;_i1518++){_arr83$_i=_arr83[_i1518],_e1873=_arr83$_i.name,_i1519=_arr83$_i.value;_e1873.startsWith("data-bx-")&&_t2528.removeAttribute(_e1873);}}}if("responsive"===i.viewport)n.removeAttribute("width"),n.removeAttribute("height");else if("fixed"===i.viewport){_t2529=this.tn.board,_e1874=null,_i1520=_t2529.getComputedViewportWidth(),_s882=_t2529.getComputedViewportWidth();if(_i1520&&null!==_i1520.unit?_e1874=_i1520.unit:_s882&&null!==_s882.unit&&(_e1874=_s882.unit),null===_e1874)n.setAttribute("width",J(n.viewBox.baseVal.width,_t2529.geometryPrecision)),n.setAttribute("height",J(n.viewBox.baseVal.height,_t2529.geometryPrecision));else{_i1521=Zt(_t2529.currentWorkspace).multiply(Kt("px",_e1874)),_Ve=Ve(n.viewBox.baseVal,_i1521),_s883=_Ve.width,_o527=_Ve.height;n.setAttribute("width",J(_s883,_t2529.geometryPrecision)+_e1874),n.setAttribute("height",J(_o527,_t2529.geometryPrecision)+_e1874);}}_e1870=this.Js.getConfig("bx-markupsettings:indentation",2),_o526=Hp(n,"xml",_e1870);_context266.next=92;return ss(100);case 92:this.Js.openArtworkExportDialog(_o526,t,s);_context266.next=134;break;case 95:if(!("html"===t)){_context266.next=109;break;}_context266.t2=i.convertTextsToPaths;if(!_context266.t2){_context266.next=100;break;}_context266.next=100;return this.uD(n);case 100:if(!i.removeEmbeddedFonts){_context266.next=103;break;}_e1876=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2530=_e1876.nextNode();){"style"===_t2530.localName&&_t2530.hasAttribute("data-bx-fonts")&&_t2530.textContent.includes("data:font/")&&_t2530.remove();}case 103:_e1875=this.Js.getConfig("bx-markupsettings:indentation",2),_o528=Hp(n,"html",_e1875);_context266.next=106;return ss(100);case 106:this.Js.openArtworkExportDialog(_o528,t,s);_context266.next=134;break;case 109:if(!("pdf"===t)){_context266.next=134;break;}_context266.t3=i.convertTextsToPaths;if(!_context266.t3){_context266.next=114;break;}_context266.next=114;return this.uD(n);case 114:_t2531=i.width+i.widthUnit,_e1877=i.height+i.heightUnit;if(!(n.setAttribute("width",_t2531),n.setAttribute("height",_e1877),n.setAttribute("preserveAspectRatio","none"),n.style.background=i.background,n.insertAdjacentHTML("beforeEnd","\n        <style>\n          @page {\n            size: ".concat(_t2531," ").concat(_e1877,";\n          }\n          html,\n          html > body {\n            width: ").concat(_t2531,";\n            height: ").concat(_e1877,";\n            overflow: hidden;\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact !important;\n          }\n        </style>")),"bx-webapp"===this.Js.localName)){_context266.next=130;break;}_t2532=null,_e1878=null,_i1522=Symbol();this.gD=_i1522,this.Xs();_context266.prev=118;_context266.next=121;return this.Js.convertArtworkToPDF(n);case 121:_t2532=_context266.sent;_context266.next=127;break;case 124:_context266.prev=124;_context266.t4=_context266["catch"](118);_e1878=_context266.t4;case 127:this.gD===_i1522&&(this.gD=null,_e1878?console.log("Server error",_e1878):this.Js.openPDFExportDialog(_t2532,s),this.Xs());_context266.next=134;break;case 130:_t2533=Hp(n,"html");_context266.next=133;return ss(100);case 133:this.Js.openPDFExportDialog(_t2533,s);case 134:case"end":return _context266.stop();}}},_callee264,this,[[14,25,28,31],[118,124]]);}));function mD(){return _mD.apply(this,arguments);}return mD;}()},{key:"uD",value:function uD(t){var _this1074=this;return new Promise(/*#__PURE__*/function(){var _ref237=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee265(e){var i,_this1074$tn$board,s,n,_iterator1615,_step1615,_e1880,_i1523,_arr84,_e1879;return regeneratorRuntime.wrap(function _callee265$(_context267){while(1){switch(_context267.prev=_context267.next){case 0:_this1074.tn.offscreenBoard.setArtwork(t);_context267.next=3;return ss(100);case 3:i=new $p(t),_this1074$tn$board=_this1074.tn.board,s=_this1074$tn$board.geometryPrecision,n=_this1074$tn$board.transformPrecision;_iterator1615=_createForOfIteratorHelper(t.querySelectorAll("text"));_context267.prev=5;_iterator1615.s();case 7:if((_step1615=_iterator1615.n()).done){_context267.next=24;break;}_e1880=_step1615.value;_context267.next=11;return i.canReplaceTextWithPaths(_e1880);case 11:if(!_context267.sent){_context267.next=16;break;}_context267.next=14;return i.replaceTextWithPaths(_e1880,s,n);case 14:_context267.next=22;break;case 16:_context267.next=18;return Zx.canReplaceTextWithPaths(_e1880);case 18:_context267.t0=_context267.sent;if(!_context267.t0){_context267.next=22;break;}_context267.next=22;return Zx.replaceTextWithPaths(_e1880,s,n);case 22:_context267.next=7;break;case 24:_context267.next=29;break;case 26:_context267.prev=26;_context267.t1=_context267["catch"](5);_iterator1615.e(_context267.t1);case 29:_context267.prev=29;_iterator1615.f();return _context267.finish(29);case 32:for(_i1523=0,_arr84=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1523<_arr84.length;_i1523++){_e1879=_arr84[_i1523];_e1879.remove();}_this1074.tn.offscreenBoard.clear(),e();case 34:case"end":return _context267.stop();}}},_callee265,null,[[5,26,29,32]]);}));return function(_x363){return _ref237.apply(this,arguments);};}());}},{key:"Xs",value:function(){var _Xs10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee266(){var t,e;return regeneratorRuntime.wrap(function _callee266$(_context268){while(1){switch(_context268.prev=_context268.next){case 0:t=this["#format-select"].value;null===t?this["#main"].innerHTML="":null!==this["#main"].firstElementChild&&this["#main"].firstElementChild.localName==="bx-".concat(t,"exportsettings")||(this["#main"].innerHTML="<bx-".concat(t,"exportsettings></bx-").concat(t,"exportsettings>"));e=this["#main"].firstElementChild;e&&(null===this.gD?(e.disabled=!1,this["#export-label"].textContent="Export",this["#export-button"].disabled=!e.exportable,this["#progress-bar"].value=-1):(e.disabled=!0,this["#export-label"].textContent="Stop",this["#export-button"].disabled=!1,this["#progress-bar"].value=null));case 4:case"end":return _context268.stop();}}},_callee266,this);}));function Xs(){return _Xs10.apply(this,arguments);}return Xs;}()}]);return Kf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kf,"observedAttributes",["enabled"]);_defineProperty(Kf,"_shadowTemplate",Ki(_templateObject559()));_defineProperty(Kf,"_shadowStyleSheet",Qi(_templateObject560()));customElements.define("bx-exportpanel",Kf);var Qf=Symbol();var Jf=/*#__PURE__*/function(_HTMLElement141){_inherits(Jf,_HTMLElement141);var _super240=_createSuper(Jf);_createClass(Jf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Jf(){var _this1075;_classCallCheck(this,Jf);_this1075=_super240.call(this),_this1075._shadowRoot=_this1075.attachShadow({mode:"closed"}),_this1075._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Jf._shadowStyleSheet],_this1075._shadowRoot.append(document.importNode(Jf._shadowTemplate.content,!0));var _iterator1616=_createForOfIteratorHelper(_this1075._shadowRoot.querySelectorAll("[id]")),_step1616;try{for(_iterator1616.s();!(_step1616=_iterator1616.n()).done;){var t=_step1616.value;_this1075["#"+t.id]=t;}}catch(err){_iterator1616.e(err);}finally{_iterator1616.f();}_this1075["#items"].addEventListener("click",function(t){return _this1075.lp(t);}),_this1075["#undo-button"].addEventListener("click",function(){return _this1075.fD();}),_this1075["#redo-button"].addEventListener("click",function(){return _this1075.wD();}),_this1075["#clear-button"].addEventListener("click",function(){return _this1075._b();}),_this1075["#slider"].addEventListener("changestart",function(){return _this1075.vD();});return _this1075;}_createClass(Jf,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this1076=this;this.tn.board.undoManager.addEventListener("change",this.yD=function(t){_this1076.kD(t);}),this.Xs(),this.Ku();}},{key:"sn",value:function sn(){this.tn.board.undoManager.removeEventListener("change",this.yD),this["#items"].innerHTML="";}},{key:"kD",value:function kD(t){this.Xs();}},{key:"lp",value:function lp(t){var e=t.target.closest(".item"),i=this.tn.board.undoManager;if(e&&!1===e.hasAttribute("data-selected")){var _t2534=Li(e)+1;if(_t2534<i.position)for(;_t2534<i.position&&i.canUndo();){i.undo();}else if(_t2534>i.position)for(;_t2534>i.position&&i.canRedo();){i.redo();}}}},{key:"fD",value:function fD(){this.tn.board.undoManager.undo();}},{key:"wD",value:function wD(){this.tn.board.undoManager.redo();}},{key:"_b",value:function(){var _b51=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee267(){return regeneratorRuntime.wrap(function _callee267$(_context269){while(1){switch(_context269.prev=_context269.next){case 0:_context269.next=2;return this.Js.openMessageDialog({type:"question",buttons:["Clear","Cancel"],title:"Confirm",message:"Clear history",detail:"This action can't be reverted."});case 2:_context269.t0=_context269.sent;if(!(0===_context269.t0)){_context269.next=5;break;}this.tn.board.undoManager.clear();case 5:case"end":return _context269.stop();}}},_callee267,this);}));function _b(){return _b51.apply(this,arguments);}return _b;}()},{key:"vD",value:function vD(){var _this1077=this;var t,_e1881,i=this.tn.board.undoManager;this["#slider"].addEventListener("change",t=function t(){var t=_this1077["#slider"].value;if(t<i.position)for(;t<i.position&&i.canUndo();){i.undo();}else if(t>i.position)for(;t>i.position&&i.canRedo();){i.redo();}}),this["#slider"].addEventListener("changeend",_e1881=function e(){_this1077["#slider"].removeEventListener("change",t),_this1077["#slider"].removeEventListener("changeend",_e1881);});}},{key:"Ku",value:function Ku(){var t=this["#items"].querySelector(":scope > [data-selected]");t&&Gi(t);}},{key:"Xs",value:function Xs(){var t=this.tn.board.undoManager,e=t.groups.length;for(;this["#items"].childElementCount>e;){this["#items"].lastElementChild.remove();}if(this["#items"].childElementCount<e){var _t2535="";for(var _i1524=this["#items"].childElementCount;_i1524<e;_i1524+=1){_t2535+='<div class="item"></div>';}this["#items"].insertAdjacentHTML("beforeend",_t2535);}{var _i1525=t.position-1;for(var _s884=0;_s884<e;_s884+=1){var _e1882=t.groups[_s884],_n569=this["#items"].children[_s884];_n569[Qf]!==_e1882&&(_n569[Qf]=_e1882,_n569.textContent=_e1882.label),_s884===_i1525?_n569.setAttribute("data-selected",""):_n569.removeAttribute("data-selected");}}this["#undo-button"].disabled=!1===t.canUndo(),this["#redo-button"].disabled=!1===t.canRedo(),this["#clear-button"].disabled=!1===t.canUndo()&&!1===t.canRedo(),0===e?(this["#slider"].disabled=!0,this["#slider"].min=0,this["#slider"].max=1,this["#slider"].value=0):(this["#slider"].disabled=!1,this["#slider"].min=0,this["#slider"].max=e,this["#slider"].value=t.position),this["#placeholder"].hidden=this["#items"].childElementCount>0;}}]);return Jf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jf,"observedAttributes",["enabled"]);_defineProperty(Jf,"_shadowTemplate",Ki(_templateObject561()));_defineProperty(Jf,"_shadowStyleSheet",Qi(_templateObject562()));customElements.define("bx-historypanel",Jf);N.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;});var tw=function tw(t){var e=t.indexOf("="),i=-1===e?t:t.substring(0,e),s=-1===e?"":t.substring(e+1);return i=i.trim(),s=s.trim(),s.length<2||'"'!==s[0]&&"'"!==s[0]||s[0]!==s[s.length-1]?["",""]:(s=s.substr(1,s.length-2),[i,s]);},ew=Math.floor,iw=Math.ceil,sw=Number.isNaN,nw=Symbol(),ow='<span class="attribute" spellcheck="false"><span class="name"></span>="<span class="value"></span><span class="ellipsis" hidden>...</span>"</span>';var lw=/*#__PURE__*/function(_HTMLElement142){_inherits(lw,_HTMLElement142);var _super241=_createSuper(lw);_createClass(lw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedNodes",get:function get(){return this.Gh;},set:function set(t){this.Gh=t,this.SD();}},{key:"outermostSelectedNodes",get:function get(){return this.CD();}}]);function lw(){var _temp54,_this1078;_classCallCheck(this,lw);(_temp54=_this1078=_super241.call(this),_defineProperty(_assertThisInitialized(_this1078),"commands",{selectAll:{exec:function exec(){return _this1078.Dd();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this1078.Gd();}}}),_temp54),_this1078.tabIndex=1,_this1078.Gh=[],_this1078._D=[],_this1078.MD=null,_this1078.PD=!1,_this1078.DD=_this1078.DD.bind(_assertThisInitialized(_this1078)),_this1078._shadowRoot=_this1078.attachShadow({mode:"closed"}),_this1078._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,lw._shadowStyleSheet],_this1078._shadowRoot.append(document.importNode(lw._shadowTemplate.content,!0));var _iterator1617=_createForOfIteratorHelper(_this1078._shadowRoot.querySelectorAll("[id]")),_step1617;try{for(_iterator1617.s();!(_step1617=_iterator1617.n()).done;){var t=_step1617.value;_this1078["#"+t.id]=t;}}catch(err){_iterator1617.e(err);}finally{_iterator1617.f();}_this1078.addEventListener("keydown",function(t){return _this1078.Tn(t);}),_this1078["#tree"].addEventListener("dragstart",function(t){return _this1078.Sv(t);}),_this1078._shadowRoot.addEventListener("contextmenu",function(t){return _this1078.Qs(t);}),_this1078._shadowRoot.addEventListener("pointerdown",function(t){return _this1078.Rx(t);}),_this1078._shadowRoot.addEventListener("click",function(t){return _this1078.zD(t);}),_this1078._shadowRoot.addEventListener("dblclick",function(t){return _this1078.OD(t);});return _this1078;}_createClass(lw,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this1079=this;this.ED();var t=this.tn.board;t.addEventListener("selectedelementschange",this.al=function(){_this1079.TD();}),t.addEventListener("currentworkspacechange",this.ab=function(){_this1079.ED();}),t.addEventListener("workspacemutation",this.rn=function(t){_this1079.pl(t.detail);});}},{key:"sn",value:function sn(){this._D=[],this["#tree"].innerHTML="";var t=this.tn.board;t.removeEventListener("selectedelementschange",this.al),t.removeEventListener("currentworkspacechange",this.ab),t.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){var _this1080=this;var _iterator1618=_createForOfIteratorHelper(t),_step1618;try{var _loop50=function _loop50(){var e=_step1618.value;if("attributes"===e.type){_this1080._D.find(function(t){return"attributes"===t.type&&t.target===e.target&&t.attributeName===e.attributeName;})||_this1080._D.push(e);}else if("characterData"===e.type){_this1080._D.find(function(t){return"characterData"===t.type&&t.target===e.target;})||_this1080._D.push(e);}else"childList"===e.type&&_this1080._D.push(e);};for(_iterator1618.s();!(_step1618=_iterator1618.n()).done;){_loop50();}}catch(err){_iterator1618.e(err);}finally{_iterator1618.f();}requestIdleCallback(this.DD);}},{key:"DD",value:function DD(t){var _this1081=this;var _loop51=function _loop51(){var t=_this1081._D.shift(),e=_toConsumableArray(_this1081["#tree"].querySelectorAll(".item")).find(function(e){return e[nw]===t.target;});e&&("childList"===t.type?(_this1081.AD(e),_this1081.$D(e,t)):"attributes"===t.type?_this1081.ID(e,t.attributeName,!0):"characterData"===t.type&&_this1081.LD(e));};for(;t.timeRemaining()>10&&this._D.length>0;){_loop51();}this._D.length>0&&requestIdleCallback(this.DD);}},{key:"SD",value:function SD(){var _iterator1619=_createForOfIteratorHelper(this["#tree"].querySelectorAll(".item:not([hidden])")),_step1619;try{for(_iterator1619.s();!(_step1619=_iterator1619.n()).done;){var t=_step1619.value;this.selectedNodes.includes(t[nw])?t.setAttribute("data-selected",""):t.removeAttribute("data-selected");}}catch(err){_iterator1619.e(err);}finally{_iterator1619.f();}this.dispatchEvent(new CustomEvent("selectednodeschange"));}},{key:"TD",value:function TD(){var _this1082=this;if(!0===this.PD)return void(this.PD=!1);var t=this.tn.board;if(0===t.selectedElements.length)this.selectedNodes=t.currentContainer?[]:[t.currentWorkspace];else{var _iterator1620=_createForOfIteratorHelper(t.selectedElements),_step1620;try{for(_iterator1620.s();!(_step1620=_iterator1620.n()).done;){var _e1883=_step1620.value;var _i1526=[];for(var _s886=_e1883.parentElement;_s886!==t.workspaces;_s886=_s886.parentElement){"g"!==_s886.localName&&"a"!==_s886.localName||_i1526.push(_s886);}var _s885=this["#tree"];for(;_i1526.length>0;){var _t2536=_i1526.pop();var _iterator1621=_createForOfIteratorHelper(_s885.children),_step1621;try{for(_iterator1621.s();!(_step1621=_iterator1621.n()).done;){var _e1884=_step1621.value;if(_e1884[nw]===_t2536){this.Ev(_e1884),_s885=_e1884.querySelector(".subtree");break;}}}catch(err){_iterator1621.e(err);}finally{_iterator1621.f();}}}}catch(err){_iterator1620.e(err);}finally{_iterator1620.f();}this.selectedNodes=_toConsumableArray(t.selectedElements);}if(this.selectedNodes.length>0){var _t2537=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])"));var _loop52=function _loop52(_e1885){var i=_this1082.selectedNodes[_e1885],s=_t2537.find(function(t){return t[nw]===i;});if(s){_this1082.BD(s);return"break";}};for(var _e1885=this.selectedNodes.length-1;_e1885>=0;_e1885-=1){var _ret4=_loop52(_e1885);if(_ret4==="break")break;}}}},{key:"Rx",value:function Rx(t){if(!1===t.target.matches(".icon")&&!1===t.target.matches(".ellipsis")&&t.target!==this["#main"]){var _e1886;_e1886=t.target.matches("#tree, #tree .subtree")?this.RD(t.clientY):t.target.closest("#tree .item");{var _t2538=_e1886[nw],_i1527=_toConsumableArray(this.selectedNodes),_this$Js$modKeys25=this.Js.modKeys,_s887=_this$Js$modKeys25.ctrl,_n570=_this$Js$modKeys25.shift;if(_s887||_n570){if(_s887&&!_n570)_i1527=[_t2538];else if(_s887&&_n570)_i1527.includes(_t2538)?_i1527=_i1527.filter(function(e){return e!==_t2538;}):_i1527.push(_t2538);else if(!_s887&&_n570)if(0===_i1527.length)_i1527=[_t2538];else{var _t2539=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s888=_e1886,_n571=_t2539.indexOf(_s888),_o529=_i1527[_i1527.length-1],_l394=_t2539.find(function(t){return t[nw]===_o529;}),_a290=_t2539.indexOf(_l394);if(_n571<_a290){var _loop53=function _loop53(_e1887){var s=_t2539[_e1887][nw];_i1527.includes(s)&&(_i1527=_i1527.filter(function(t){return t!==s;})),_i1527.push(s);};for(var _e1887=_a290-1;_e1887>=_n571;_e1887-=1){_loop53(_e1887);}}else if(_n571>_a290){var _loop54=function _loop54(_e1888){var s=_t2539[_e1888][nw];_i1527.includes(s)&&(_i1527=_i1527.filter(function(t){return t!==s;})),_i1527.push(s);};for(var _e1888=_a290+1;_e1888<=_n571;_e1888+=1){_loop54(_e1888);}}}}else!1===_i1527.includes(_t2538)&&(_i1527=[_t2538]);this.selectedNodes=_i1527;}{var _t2540=this.tn.board,_e1889=this.selectedNodes.filter(function(e){return _t2540.isSelectableElement(e);}),_i1528=_e1889[0],_s889=null;if(_i1528)for(var _e1890=_i1528.parentElement;_e1890!==_t2540.currentWorkspace;_e1890=_e1890.parentElement){if("g"===_e1890.localName||"a"===_e1890.localName){_s889=_e1890;break;}}this.PD=!0,_t2540.currentContainer=_s889,_t2540.selectedElements=_e1889;}}}},{key:"zD",value:function zD(t){if(t.target.matches(".icon")){var _e1891=t.target.closest(".item");0===t.button&&(_e1891.hasAttribute("data-expanded")?this.Ov(_e1891):this.Ev(_e1891));}else if(t.target.matches(".ellipsis")){var _e1892=t.target.closest(".item"),_i1529=t.target.closest(".attribute").dataset.name;this.GD(_e1892,_i1529);}}},{key:"Sv",value:function Sv(t){var _this1083=this;var e,i,s,n,o=null,l=this["#tree"].querySelector(".item");if(this["#tree"].querySelector("*[contenteditable]"))return;t.dataTransfer.setDragImage($i("span"),0,0);var a=function a(t,e){var i=_this1083.RD(e),s=null;if(i){if(i.hasAttribute("data-expanded")){var _t2541=i.querySelector(".tag").getBoundingClientRect();s=e<_t2541.y+_t2541.height/2?"beforebegin":"afterbegin";}else{var _n572=i.getBoundingClientRect();for(;null===i.nextElementSibling&&t<_n572.x;){var _t2542=i.parentElement.closest(".item");if(!_t2542||_t2542===l)break;i=_t2542,_n572=i.getBoundingClientRect();}s=e<_n572.y+_n572.height/2?"beforebegin":0===i[nw].childNodes.length&&t>_n572.x+22&&_this1083.UD(_this1083.CD(),i[nw],"afterbegin")?"afterbegin":"afterend";}!1===_this1083.UD(_this1083.CD(),i[nw],s)&&(i=null,s=null);}return[i,s];};window.addEventListener("dragover",e=function e(t){if(s===t.clientX&&n===t.clientY)return;var e=t.clientX,i=t.clientY,_a291=a(e,i),_a292=_slicedToArray(_a291,2),l=_a292[0],h=_a292[1];s=e,n=i,o&&(o.removeAttribute("data-dragover"),o=null),l&&(l.setAttribute("data-dragover",h),o=l);}),window.addEventListener("dragend",i=function(_i1531){function i(_x364){return _i1531.apply(this,arguments);}i.toString=function(){return _i1531.toString();};return i;}(function(t){window.removeEventListener("dragover",e),window.removeEventListener("dragend",i),o&&o.removeAttribute("data-dragover");var s=t.clientX,n=t.clientY,_a293=a(s,n),_a294=_slicedToArray(_a293,2),l=_a294[0],h=_a294[1],r=_this1083.tn.board;if(l){r.undoManager.checkpoint("Move element(s)");{var _t2543=document.createDocumentFragment();var _iterator1622=_createForOfIteratorHelper(Ni(_this1083.CD())),_step1622;try{for(_iterator1622.s();!(_step1622=_iterator1622.n()).done;){var _e1893=_step1622.value;_t2543.append(_e1893);}}catch(err){_iterator1622.e(err);}finally{_iterator1622.f();}"beforebegin"===h?l[nw].before(_t2543):"afterend"===h?l[nw].after(_t2543):"afterbegin"===h&&(l[nw].prepend(_t2543),_this1083.Ev(l));}{var _t2544=_this1083.selectedNodes.filter(function(t){return r.isSelectableElement(t);})[0],_e1894=null;if(_t2544)for(var _i1530=_t2544.parentElement;_i1530!==r.currentWorkspace;_i1530=_i1530.parentElement){if("g"===_i1530.localName||"a"===_i1530.localName){_e1894=_i1530;break;}}_this1083.PD=!0,r.currentContainer=_e1894,r.selectedTextRange=null;}}}));}},{key:"OD",value:function OD(t){var e=t.target.closest(".item");if(e)if("element"===e.getAttribute("data-type")){if(t.target.matches(".attribute, .attribute *")){var _e1895=t.target.closest(".attribute");if(!1===_e1895.hasAttribute("disabled")){var _i1532=t.target.closest(".item"),_s890=_e1895.dataset.name;this.FD(_i1532,_s890);}}else if(t.target.matches(".tag-name, .opening-bracket, .attributes:empty + .closing-bracket")&&!1===t.target.hasAttribute("disabled")){var _e1896=t.target.closest(".item");this.ND(_e1896);}}else"text"===e.getAttribute("data-type")&&t.target.matches(".content")&&this.jD(e);}},{key:"Qs",value:function(){var _Qs2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee268(t){var e,i,_i1533,_t2545,_e1897,_i1535,_iterator1623,_step1623,_step1623$value,_e1898,_i1536,_e1899,_iterator1624,_step1624,_step1624$value,_t2546,_i1537,_iterator1625,_step1625,_e1900,_i1534;return regeneratorRuntime.wrap(function _callee268$(_context270){while(1){switch(_context270.prev=_context270.next){case 0:e=t.target.closest(".item"),i=t.target.matches("[contenteditable]");if(!(e&&"element"===e.getAttribute("data-type")&&!1===i)){_context270.next=7;break;}t.preventDefault();_context270.next=5;return this.Js.openContextMenu([{label:"Copy outer SVG",value:"copy-outer-svg"},{label:"Add Attribute",value:"add-attribute"}]);case 5:_i1533=_context270.sent;if("add-attribute"===_i1533)this.VD(e);else if("copy-outer-svg"===_i1533){_t2545=null,_e1897=!0;if(this.CD()[0].hasAttribute("data-bx-workspace")){_i1535=this.CD()[0].getAttribute("data-bx-workspace");if("master"===_i1535){_t2545=$i("svg:svg"),_t2545.innerHTML=this.CD()[0].innerHTML;_iterator1623=_createForOfIteratorHelper(this.CD()[0].attributes);try{for(_iterator1623.s();!(_step1623=_iterator1623.n()).done;){_step1623$value=_step1623.value,_e1898=_step1623$value.name,_i1536=_step1623$value.value;"data-bx-workspace"!==_e1898&&_t2545.setAttribute(_e1898,_i1536);}}catch(err){_iterator1623.e(err);}finally{_iterator1623.f();}_e1897=!1;}else{_t2545=$i("svg:svg");_e1899=$i("svg:"+_i1535);_e1899.innerHTML=this.CD()[0].innerHTML,_t2545.append(_e1899);_iterator1624=_createForOfIteratorHelper(this.CD()[0].attributes);try{for(_iterator1624.s();!(_step1624=_iterator1624.n()).done;){_step1624$value=_step1624.value,_t2546=_step1624$value.name,_i1537=_step1624$value.value;"data-bx-workspace"!==_t2546&&_e1899.setAttribute(_t2546,_i1537);}}catch(err){_iterator1624.e(err);}finally{_iterator1624.f();}}}else{_t2545=$i("svg:svg");_iterator1625=_createForOfIteratorHelper(this.CD());try{for(_iterator1625.s();!(_step1625=_iterator1625.n()).done;){_e1900=_step1625.value;_t2545.append(_e1900.cloneNode(!0));}}catch(err){_iterator1625.e(err);}finally{_iterator1625.f();}}qp(_t2545,"xml"),up(_t2545,2,_e1897?0:1);_i1534=_e1897?_t2545.innerHTML:_t2545.outerHTML;_i1534=li(_i1534,"url(&quot;","url("),_i1534=li(_i1534,"&quot;)",")"),clipboard.writeText(_i1534);}case 7:case"end":return _context270.stop();}}},_callee268,this);}));function Qs(_x365){return _Qs2.apply(this,arguments);}return Qs;}()},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);if(e.matches("Enter")){t.preventDefault(),t.stopPropagation();var _e1901=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(1===_e1901.length){var _t2547=_e1901[0];"element"===_t2547.getAttribute("data-type")?this.HD(_t2547):"text"===_t2547.getAttribute("data-type")&&this.jD(_t2547);}}else if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),this.WD();else if(e.matches("Tab")){t.preventDefault(),t.stopPropagation();var _e1902=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1902.length>0){var _t2548=[],_i1538="\n          :scope > .tag > .tag-name:not([disabled]),\n          :scope > .tag > .attributes > .attribute:not([disabled])\n        ";var _iterator1626=_createForOfIteratorHelper(_e1902),_step1626;try{for(_iterator1626.s();!(_step1626=_iterator1626.n()).done;){var _s892=_step1626.value;_t2548=[].concat(_toConsumableArray(_t2548),_toConsumableArray(_s892.querySelectorAll(_i1538)));}}catch(err){_iterator1626.e(err);}finally{_iterator1626.f();}var _s891=_t2548.find(function(t){return t.matches("[contenteditable]");}),_n573=_s891?_t2548.indexOf(_s891):-1,_o530=_t2548[_n573+1]||_t2548[0]||null;if(_o530){var _t2549=_o530.closest(".item");_o530.matches(".attribute")?this.FD(_t2549,_o530.getAttribute("data-name")):_o530.matches(".tag-name")&&this.ND(_t2549);}}}else if(e.matches("Shift","Tab")){t.preventDefault(),t.stopPropagation();var _e1903=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1903.length>0){var _t2550=[];var _iterator1627=_createForOfIteratorHelper(_e1903),_step1627;try{for(_iterator1627.s();!(_step1627=_iterator1627.n()).done;){var _i1540=_step1627.value;_t2550=[].concat(_toConsumableArray(_t2550),_toConsumableArray(_i1540.querySelectorAll(".tag-name, .attribute")));}}catch(err){_iterator1627.e(err);}finally{_iterator1627.f();}var _i1539=_t2550.find(function(t){return t.matches("[contenteditable]");}),_s893=_i1539?_t2550.indexOf(_i1539):-1,_n574=_t2550[_s893-1]||_t2550[_t2550.length-1]||null;if(_n574){var _t2551=_n574.closest(".item");_n574.matches(".attribute")?this.FD(_t2551,_n574.getAttribute("data-name")):_n574.matches(".tag-name")&&this.ND(_t2551);}}}else e.matches("ArrowLeft")?(t.stopPropagation(),this.YD()):e.matches("ArrowRight")?(t.stopPropagation(),this.qD()):e.matches("ArrowDown")?(t.stopPropagation(),this.mx(!1)):e.matches("ArrowUp")?(t.stopPropagation(),this.xx(!1)):e.matches("Shift","ArrowDown")?(t.stopPropagation(),this.mx(!0)):e.matches("Shift","ArrowUp")&&(t.stopPropagation(),this.xx(!0));}},{key:"$v",value:function $v(t,e){var i=null;return"element"===t?(i=Ki(_templateObject94(),'<div class="item" data-type="element" draggable="true"><svg class="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px"><path d="M 0 0 L 100 50 L 0 100 Z"></path></svg><div class="tag"><span class="opening-bracket">&lt</span><span class="tag-name" spellcheck="false">svg</span><span class="attributes"></span><span class="closing-bracket">&gt</span></div><div class="subtree"></div></div>'),i[nw]=e,this.AD(i),this.XD(i),this.ZD(i)):"text"===t&&(i=Ki(_templateObject95(),'<div class="item" data-type="text"><span class="content" spellcheck="false"></span></div>'),i[nw]=e,this.LD(i)),i;}},{key:"Ev",value:function Ev(t){if(!1===t.hasAttribute("data-expanded")){var _e1904=t.querySelector(".subtree");var _iterator1628=_createForOfIteratorHelper(t[nw].childNodes),_step1628;try{for(_iterator1628.s();!(_step1628=_iterator1628.n()).done;){var _i1541=_step1628.value;var _t2552=null;if(_i1541.nodeType===document.ELEMENT_NODE?_t2552="element":_i1541.nodeType===document.TEXT_NODE&&(_t2552="text"),_t2552){var _s894=this.$v(_t2552,_i1541);"text"===_t2552&&bp(_i1541.textContent)&&_s894.setAttribute("hidden",""),_e1904.append(_s894),this.selectedNodes.includes(_i1541)&&_s894.setAttribute("data-selected","");}}}catch(err){_iterator1628.e(err);}finally{_iterator1628.f();}_e1904.childElementCount>0&&t.setAttribute("data-expanded","");}}},{key:"Ov",value:function Ov(t){t.hasAttribute("data-expanded")&&(t.querySelector(".subtree").innerHTML="",t.removeAttribute("data-expanded"),this.AD(t));}},{key:"qD",value:function qD(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.Ev(t[0]);}},{key:"YD",value:function YD(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.Ov(t[0]);}},{key:"xx",value:function xx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.tn.board;if(!1===t){var _t2553=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1542=null;if(_t2553){var _e1905=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s895=_e1905.find(function(e){return e[nw]===_t2553;}),_n575=_e1905.indexOf(_s895);_e1905[_n575-1]&&(_i1542=_e1905[_n575-1]);}if(_i1542){this.BD(_i1542);var _t2554=_i1542[nw];this.selectedNodes=[_t2554];var _s896=null,_n576=[];if(e.isSelectableElement(_t2554)){for(var _i1543=_t2554.parentElement;_i1543!==e.currentWorkspace;_i1543=_i1543.parentElement){if("g"===_i1543.localName||"a"===_i1543.localName){_s896=_i1543;break;}}_n576=[_t2554];}this.PD=!0,e.currentContainer=_s896,e.selectedElements=_n576;}}else if(!0===t){var _t2555=_toConsumableArray(this.selectedNodes);if(_t2555.length>0){var _i1544=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s897=_t2555[_t2555.length-1],_n577=_i1544.find(function(t){return t[nw]===_s897;}),_o531=_i1544.indexOf(_n577);if(_o531>0)for(var _s898=_o531-1;_s898>=0;_s898-=1){var _n578=_i1544[_s898][nw];if(!1===_t2555.includes(_n578)){this.selectedNodes=[].concat(_toConsumableArray(_t2555),[_n578]),e.isSelectableElement(_n578)&&(this.PD=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n578]));break;}}}}}},{key:"mx",value:function mx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.tn.board;if(!1===t){var _t2556=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1545=null;if(_t2556){var _e1906=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s899=_e1906.find(function(e){return e[nw]===_t2556;}),_n579=_e1906.indexOf(_s899);_e1906[_n579+1]&&(_i1545=_e1906[_n579+1]);}if(_i1545){this.BD(_i1545);var _t2557=_i1545[nw];this.selectedNodes=[_t2557];var _s900=null,_n580=[];if(e.isSelectableElement(_t2557)){for(var _i1546=_t2557.parentElement;_i1546!==e.currentWorkspace;_i1546=_i1546.parentElement){if("g"===_i1546.localName||"a"===_i1546.localName){_s900=_i1546;break;}}_n580=[_t2557];}this.PD=!0,e.currentContainer=_s900,e.selectedElements=_n580;}}else if(!0===t){var _t2558=_toConsumableArray(this.selectedNodes);if(_t2558.length>0){var _i1547=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s901=_t2558[_t2558.length-1],_n581=_i1547.find(function(t){return t[nw]===_s901;}),_o532=_i1547.indexOf(_n581);if(_o532<_i1547.length-1)for(var _s902=_o532+1;_s902<_i1547.length;_s902+=1){var _n582=_i1547[_s902][nw];if(!1===_t2558.includes(_n582)){this.selectedNodes=[].concat(_toConsumableArray(_t2558),[_n582]),e.isSelectableElement(_n582)&&(this.PD=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n582]));break;}}}}}},{key:"BD",value:function BD(t){var e=this["#main"].scrollTop,i=t.getBoundingClientRect().top-this["#tree"].getBoundingClientRect().top;if(i-e<0)this["#main"].scrollTop=i;else if(t.hasAttribute("data-expanded")){var _s903=t.querySelector(".tag").getBoundingClientRect().height;i+_s903-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+_s903-this["#main"].clientHeight);}else i+t.clientHeight-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+t.clientHeight-this["#main"].clientHeight);}},{key:"WD",value:function WD(){var _this1084=this;var t=this.tn.board,e=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),i=Ni(this.CD());if(i=i.filter(function(t){return"g"!==t.localName||!t.hasAttribute("data-bx-workspace");}),i.length>0){var _loop55=function _loop55(){var t=_this1084["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[nw]);}))return"break";if(_this1084.mx(),t===_this1084["#tree"].querySelector(".item[data-selected]"))return"break";};for(t.undoManager.checkpoint("Delete");;){var _ret5=_loop55();if(_ret5==="break")break;}var _loop56=function _loop56(){var t=_this1084["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[nw]);}))return"break";if(_this1084.xx(),t===_this1084["#tree"].querySelector(".item[data-selected]"))return"break";};for(;;){var _ret6=_loop56();if(_ret6==="break")break;}var _iterator1629=_createForOfIteratorHelper(i),_step1629;try{var _loop57=function _loop57(){var t=_step1629.value;t.remove();var i=e.find(function(e){return e[nw]===t;});i&&i.remove();};for(_iterator1629.s();!(_step1629=_iterator1629.n()).done;){_loop57();}}catch(err){_iterator1629.e(err);}finally{_iterator1629.f();}}}},{key:"UD",value:function UD(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";var s=!0;if(0===t.length)s=!1;else{var _iterator1630=_createForOfIteratorHelper(t),_step1630;try{for(_iterator1630.s();!(_step1630=_iterator1630.n()).done;){var _n583=_step1630.value;if(!1===this.KD(_n583,e,i)){s=!1;break;}}}catch(err){_iterator1630.e(err);}finally{_iterator1630.f();}}return s;}},{key:"KD",value:function KD(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";if(e.parentNode===this.tn.board.workspaces)return!1;if(t.contains(e))return!1;if("beforebegin"===i){if(!1===this.QD(e.parentNode).includes(t.nodeName))return!1;if(e.previousSibling&&e.previousSibling===t)return!1;}else if("afterend"===i){if(!1===this.QD(e.parentNode).includes(t.nodeName))return!1;if(e.nextSibling&&e.nextSibling===t)return!1;}else if("afterbegin"===i){if(!1===this.QD(e).includes(t.nodeName))return!1;if(e.firstChild&&e.firstChild===t)return!1;}else if("beforeend"===i){if(!1===this.QD(e).includes(t.nodeName))return!1;if(e.lastChild&&e.lastChild===t)return!1;}return!0;}},{key:"Dd",value:function Dd(){var t=this._shadowRoot.querySelector("[contenteditable]"),e=t?t.closest(".item"):null;if(t&&e)if("element"===e.getAttribute("data-type")){if(t.matches(".tag-name")||t.matches(".attribute")){var _e1907=new Range();_e1907.selectNodeContents(t);var _i1548=window.getSelection();_i1548.removeAllRanges(),_i1548.addRange(_e1907);}}else if("text"===e.getAttribute("data-type")){var _e1908=new Range();_e1908.selectNodeContents(t);var _i1549=window.getSelection();_i1549.removeAllRanges(),_i1549.addRange(_e1908);}}},{key:"Gd",value:function Gd(){var t=window.getSelection();if(t.rangeCount>0){t.getRangeAt(0).collapse(!0);}}},{key:"jD",value:function jD(t){var _this1085=this;var e,i,s,n=t.querySelector(".content"),o=n.textContent,l=t[nw],a=this.tn.board,h=!0;n.hasAttribute("contenteditable")||(n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Dd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),n.addEventListener("keydown",e=function e(t){var e=Ja.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1085.focus()):e.matches("Escape")&&(h=!0,_this1085.focus());}),n.addEventListener("input",i=function i(){h=!1;}),n.addEventListener("blur",s=function(_s904){function s(){return _s904.apply(this,arguments);}s.toString=function(){return _s904.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1085.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),h)n.textContent=o;else{a.undoManager.checkpoint("Text content");n.textContent;l.textContent=n.textContent;}})));}},{key:"ND",value:function ND(t){var _this1086=this;var e,i,s,n=t.querySelector(".tag-name"),o=n.textContent,l=t[nw],a=this.tn.board,h=!0;if(n.hasAttribute("contenteditable"))return;n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Dd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var r=function r(t){var e=t;return"title"===t?e="bx-title":t.startsWith("bx:")&&(e=t.replace("bx:","bx-")),e;};n.addEventListener("keydown",e=function e(t){var e=Ja.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1086.focus()):e.matches("Escape")&&(h=!0,_this1086.focus());}),n.addEventListener("input",i=function i(){var t=n.textContent,e=r(t),i=!1;if(l===a.currentWorkspace)i=!0,h=!0;else{(F[l.parentElement.nodeName]||[]).includes(e)?(i=!1,h=e===r(o)):(i=!0,h=!0);}i?(n.setAttribute("data-invalid",""),n.part.add("invalid-input")):(n.removeAttribute("data-invalid"),n.part.remove("invalid-input"));}),n.addEventListener("blur",s=function(_s905){function s(){return _s905.apply(this,arguments);}s.toString=function(){return _s905.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1086.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),h)n.textContent=o;else{a.undoManager.checkpoint("Rename element");n.textContent;var _e1909=r(n.textContent),_i1550=$i("svg:".concat(_e1909));var _iterator1631=_createForOfIteratorHelper(l.attributes),_step1631;try{for(_iterator1631.s();!(_step1631=_iterator1631.n()).done;){var _step1631$value=_step1631.value,_t2560=_step1631$value.name,_e1910=_step1631$value.value;_i1550.setAttribute(_t2560,_e1910);}}catch(err){_iterator1631.e(err);}finally{_iterator1631.f();}l.replaceWith(_i1550);for(var _i1551=0,_arr85=_toConsumableArray(l.childNodes);_i1551<_arr85.length;_i1551++){var _t2559=_arr85[_i1551];F[_e1909].includes(_t2559.nodeName)&&_i1550.append(_t2559);}t[nw]=_i1550,_this1086.selectedNodes=_this1086.selectedNodes.map(function(t){return t===l?_i1550:t;}),a.selectedElements.includes(l)?(_this1086.PD=!0,a.isSelectableElement(_i1550)?a.selectedElements=a.selectedElements.map(function(t){return t===l?_i1550:t;}):a.selectedElements=a.selectedElements.filter(function(t){return t!==l;})):a.isSelectableElement(_i1550)&&(_this1086.PD=!0,a.selectedElements=[].concat(_toConsumableArray(a.selectedElements),[_i1550]));}}));}},{key:"FD",value:function FD(t,e){var _this1087=this;var i,s,n,o=this.tn.board,l=t[nw],a=!0,h=t.querySelector(".attribute[data-name=\"".concat(e,"\"]"));if(!h||h.hasAttribute("contenteditable"))return;var r=e,d=h.innerHTML;this.MD=h,this.GD(t,e),h.innerHTML=h.innerText,h.style.transition="none",h.setAttribute("contenteditable",""),h.part.add("input"),h.focus(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));{var _t2561=h.textContent.indexOf('"'),_e1911=h.textContent.lastIndexOf('"');if(_t2561>=0&&_e1911>=0&&_t2561!==_e1911){var _i1552=new Range();_i1552.setStart(h.firstChild,_t2561+1),_i1552.setEnd(h.firstChild,_e1911);var _s906=window.getSelection();_s906.removeAllRanges(),_s906.addRange(_i1552);}else this.Dd();}h.addEventListener("keydown",i=function i(t){var e=Ja.fromEvent(t);if(e.matches("Enter"))t.preventDefault(),t.stopPropagation(),_this1087.focus();else if(e.matches("Escape"))t.stopPropagation(),a=!0,_this1087.focus();else if(e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight"))t.stopPropagation();else if(e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown")){t.stopPropagation();var _i1553=_this1087._shadowRoot.getSelection();if(_i1553.rangeCount>0){var _s907=_i1553.getRangeAt(0),_n584=_s907.startOffset,_o533=_s907.startOffset;{var _t2562=h.textContent,_e1912=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(var _i1554=_s907.startOffset;_i1554<=_t2562.length&&(_o533=_i1554,!_e1912.includes(_t2562[_i1554]));_i1554+=1){;}for(var _i1555=_s907.startOffset-1;_i1555>=0&&!_e1912.includes(_t2562[_i1555]);_i1555-=1){_n584=_i1555;}}if(_n584!==_o533){var _l395=h.textContent.substring(_n584,_o533);if(!1===sw(parseFloat(_l395))){var _r153="",_d123="",_c89=/[^\d-\.]+/.exec(_l395),_p85=parseFloat(_l395);if(t.preventDefault(),_c89){var _t2563=_c89.index+_c89[0].length;_s907.startOffset>_n584+_c89.index&&_t2563<_l395.length&&_s907.startOffset!==_n584?(_r153=_l395.substring(0,_t2563),_l395=_l395.substring(_t2563)):(_d123=_l395.substring(_c89.index),_l395=_l395.substring(0,_c89.index));}e.matches("ArrowUp")?_p85=ew(_p85)+1:e.matches("ArrowDown")?_p85=iw(_p85)-1:e.matches("Shift","ArrowUp")?_p85=ew(_p85)+10:e.matches("Shift","ArrowDown")&&(_p85=iw(_p85)-10);var _u68=_r153+_p85+_d123,_x366=h.textContent;_x366=_x366.substring(0,_n584)+_u68+_x366.substring(_o533),h.textContent=_x366;var _b52=document.createRange();_b52.setStart(h.firstChild,_n584),_b52.setEnd(h.firstChild,_n584+_u68.length),_i1553.removeAllRanges(),_i1553.addRange(_b52),a=!1;}}}}}),h.addEventListener("input",s=function s(){a=!1;}),h.addEventListener("blur",n=function(_n586){function n(){return _n586.apply(this,arguments);}n.toString=function(){return _n586.toString();};return n;}(function(){h.removeEventListener("blur",n),h.removeEventListener("keydown",i),h.removeEventListener("input",s),h.removeAttribute("contenteditable"),h.part.remove("input"),h.style.transition=null,_this1087.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));var _tw=tw(h.textContent),_tw2=_slicedToArray(_tw,2),t=_tw2[0],e=_tw2[1];if(l.hasAttribute("data-bx-workspace")&&"id"===r&&("id"===t&&!1!==qi(e)||(a=!0)),a)h.innerHTML=d;else if(o.undoManager.checkpoint("Edit attribute"),h.remove(),"id"===r&&l.hasAttribute("data-bx-workspace")){var _t2564=l.getAttribute("id"),_i1556=e,_s908=document.createNodeIterator(o.workspaces,NodeFilter.SHOW_ELEMENT),_n585=null;for(l.setAttribute("id",_i1556);_n585=_s908.nextNode();){["pattern","marker","symbol"].includes(_n585.localName)&&_n585.id===_t2564&&_n585.setAttribute("id",_i1556);}}else""===t?l.removeAttribute(r):l.setAttribute(t,e);}));}},{key:"VD",value:function VD(t){var _this1088=this;var e,i,s,n=this.tn.board,o=t[nw],l=!0,a=Ki(_templateObject96(),ow);a.innerHTML=" ",a.style.transition="none",a.setAttribute("contenteditable",""),a.part.add("input"),t.querySelector(".attributes").append(a),a.focus(),this.Dd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),this.MD=a,a.addEventListener("keydown",e=function e(t){var e=Ja.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1088.focus()):e.matches("Escape")&&(l=!0,_this1088.focus());}),a.addEventListener("input",i=function i(){l=!1;}),a.addEventListener("blur",s=function(_s909){function s(){return _s909.apply(this,arguments);}s.toString=function(){return _s909.toString();};return s;}(function(){if(a.removeEventListener("blur",s),a.removeEventListener("keydown",e),a.removeEventListener("input",i),a.removeAttribute("contenteditable"),a.part.remove("input"),a.style.transition=null,_this1088.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),l)a.remove();else{n.undoManager.checkpoint("Edit attribute");var _tw3=tw(a.textContent),_tw4=_slicedToArray(_tw3,2),_t2565=_tw4[0],_e1913=_tw4[1];a.remove(),""!==_t2565&&o.setAttribute(_t2565,_e1913);}}));}},{key:"HD",value:function HD(t){if(this.MD&&t.contains(this.MD))this.FD(t,this.MD.getAttribute("data-name"));else{var _e1914=t.querySelector(".attribute");_e1914?this.FD(t,_e1914.getAttribute("data-name")):this.VD(t);}}},{key:"GD",value:function GD(t,e){var _iterator1632=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1632;try{for(_iterator1632.s();!(_step1632=_iterator1632.n()).done;){var _i1557=_step1632.value;if(_i1557.dataset.name===e){_i1557.querySelector(".value").textContent=t[nw].getAttribute(e),_i1557.querySelector(".ellipsis").hidden=!0;break;}}}catch(err){_iterator1632.e(err);}finally{_iterator1632.f();}}},{key:"ED",value:function ED(){this._D=[],this["#tree"].innerHTML="";var t=this.tn.board.currentWorkspace,e=this.$v("element",t);this["#tree"].append(e),this.TD();}},{key:"$D",value:function $D(t,e){var i=t.querySelector(".subtree"),s=_toConsumableArray(e.addedNodes),n=_toConsumableArray(e.removedNodes);for(var _i1558=0,_arr86=_toConsumableArray(i.children);_i1558<_arr86.length;_i1558++){var _t2566=_arr86[_i1558];(n.includes(_t2566[nw])||s.includes(_t2566[nw]))&&_t2566.remove();}if(0===t[nw].childNodes.length&&t.removeAttribute("data-expanded"),s.length>0&&t.hasAttribute("data-expanded")){var _t2567=document.createDocumentFragment();var _iterator1633=_createForOfIteratorHelper(s),_step1633;try{for(_iterator1633.s();!(_step1633=_iterator1633.n()).done;){var _e1915=_step1633.value;var _i1559=null;if(_e1915.nodeType===document.ELEMENT_NODE?_i1559="element":_e1915.nodeType===document.TEXT_NODE&&(_i1559="text"),_i1559){var _s910=this.$v(_i1559,_e1915);"text"===_i1559&&bp(_e1915.textContent)&&_s910.setAttribute("hidden",""),this.selectedNodes.includes(_e1915)&&_s910.setAttribute("data-selected",""),_t2567.append(_s910);}}}catch(err){_iterator1633.e(err);}finally{_iterator1633.f();}if(e.previousSibling){_toConsumableArray(i.children).find(function(t){return t[nw]===e.previousSibling;}).after(_t2567);}else if(e.nextSibling){_toConsumableArray(i.children).find(function(t){return t[nw]===e.nextSibling;}).before(_t2567);}else i.append(_t2567);}}},{key:"AD",value:function AD(t){var e=t.querySelector(".icon"),i="hidden";var _iterator1634=_createForOfIteratorHelper(t[nw].childNodes),_step1634;try{for(_iterator1634.s();!(_step1634=_iterator1634.n()).done;){var _e1916=_step1634.value;if(_e1916.nodeType===document.ELEMENT_NODE){i="visible";break;}if(_e1916.nodeType===document.TEXT_NODE&&!1===bp(_e1916.textContent)){i="visible";break;}}}catch(err){_iterator1634.e(err);}finally{_iterator1634.f();}e.style.setProperty("visibility",i);}},{key:"XD",value:function XD(t){var e=t[nw],i=e.localName,s=t.querySelector(".tag-name"),n=!1;if("g"===i){if(e.hasAttribute("data-bx-workspace")){var _t2568=e.getAttribute("data-bx-workspace");"master"===_t2568?i="svg":"pattern"===_t2568?i="pattern":"symbol"===_t2568?i="symbol":"marker"===_t2568&&(i="marker"),n=!0;}}else"bx-title"===i?i="title":i.startsWith("bx-")&&(i="bx:"+i.substring(3));s.textContent=i,n&&(s.setAttribute("disabled",""),s.previousElementSibling.setAttribute("disabled",""));}},{key:"ZD",value:function ZD(t){var e=t[nw],i=document.createDocumentFragment();var _iterator1635=_createForOfIteratorHelper(e.attributes),_step1635;try{for(_iterator1635.s();!(_step1635=_iterator1635.n()).done;){var _step1635$value=_step1635.value,_t2569=_step1635$value.name,_s911=_step1635$value.value;if("data-bx-workspace"!==_t2569){var _n587=Ki(_templateObject97(),ow),_o534=this.JD(_t2569),_l396=_s911.length-100>100;_n587.dataset.name=_t2569,_n587.querySelector(".name").textContent=_o534,_n587.querySelector(".value").textContent=_l396?_s911.substring(0,100):_s911,_n587.querySelector(".ellipsis").hidden=!_l396,e.hasAttribute("data-bx-workspace")&&("xmlns"!==_t2569&&"xmlns:bx"!==_t2569||_n587.setAttribute("disabled","")),i.append(_n587);}}}catch(err){_iterator1635.e(err);}finally{_iterator1635.f();}t.querySelector(".attributes").append(i);}},{key:"ID",value:function ID(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t[nw],n=s.getAttribute(e),o=this.JD(e);if(null===n){var _iterator1636=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1636;try{for(_iterator1636.s();!(_step1636=_iterator1636.n()).done;){var _i1560=_step1636.value;if(_i1560.dataset.name===e){_i1560.remove();break;}}}catch(err){_iterator1636.e(err);}finally{_iterator1636.f();}}else{var _l397=null,_a295=n.length-100>100;var _iterator1637=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1637;try{for(_iterator1637.s();!(_step1637=_iterator1637.n()).done;){var _i1562=_step1637.value;if(_i1562.dataset.name===e){_l397=_i1562;break;}}}catch(err){_iterator1637.e(err);}finally{_iterator1637.f();}if(null===_l397){_l397=Ki(_templateObject98(),ow),_l397.dataset.name=e,_l397.querySelector(".name").textContent=o;var _i1561=0;var _iterator1638=_createForOfIteratorHelper(s.attributes),_step1638;try{for(_iterator1638.s();!(_step1638=_iterator1638.n()).done;){var _t2570=_step1638.value;if("data-bx-workspace"!==_t2570.name){if(_t2570.name===e)break;_i1561+=1;}}}catch(err){_iterator1638.e(err);}finally{_iterator1638.f();}var _n588=t.querySelector(".attributes").children[_i1561];_n588?_n588.before(_l397):t.querySelector(".attributes").append(_l397);}_l397.querySelector(".value").textContent=_a295?n.substring(0,100):n,_l397.querySelector(".ellipsis").hidden=!_a295,i&&(_l397.setAttribute("highlighted",""),ss(500).then(function(){return _l397.removeAttribute("highlighted","");}));}1===this.selectedNodes.length&&this.selectedNodes[0]===s&&this.BD(t);}},{key:"LD",value:function LD(t){t.querySelector(".content").textContent=t[nw].textContent;}},{key:"CD",value:function CD(){var t=[];var _iterator1639=_createForOfIteratorHelper(this.selectedNodes),_step1639;try{for(_iterator1639.s();!(_step1639=_iterator1639.n()).done;){var _e1917=_step1639.value;var _i1563=!0;var _iterator1640=_createForOfIteratorHelper(this.selectedNodes),_step1640;try{for(_iterator1640.s();!(_step1640=_iterator1640.n()).done;){var _t2571=_step1640.value;if(_t2571!==_e1917&&_t2571.contains(_e1917)){_i1563=!1;break;}}}catch(err){_iterator1640.e(err);}finally{_iterator1640.f();}_i1563&&t.push(_e1917);}}catch(err){_iterator1639.e(err);}finally{_iterator1639.f();}return t;}},{key:"QD",value:function QD(t){var e;if("g"===t.localName&&t.hasAttribute("data-bx-workspace")){var _i1564=t.getAttribute("data-bx-workspace");e="master"===_i1564?F.svg:F[_i1564];}else e=F[t.nodeName]||[];return e;}},{key:"JD",value:function JD(t){var e=t;return t.startsWith("data-bx-")?e=t.replace("data-bx-","bx:"):"_href"===t&&(e="href"),e;}},{key:"RD",value:function RD(t){var e=function e(i){var _iterator1641=_createForOfIteratorHelper(i.children),_step1641;try{for(_iterator1641.s();!(_step1641=_iterator1641.n()).done;){var _s912=_step1641.value;var _i1565=_s912.getBoundingClientRect();if(t>=_i1565.y&&t<=_i1565.y+_i1565.height){if(_s912.hasAttribute("data-expanded")){var _t2572=_s912.querySelector(".subtree");return e(_t2572)||_s912;}return _s912;}}}catch(err){_iterator1641.e(err);}finally{_iterator1641.f();}return null;};return e(this["#tree"]);}}]);return lw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lw,"observedAttributes",["enabled"]);_defineProperty(lw,"_shadowTemplate",Ki(_templateObject563()));_defineProperty(lw,"_shadowStyleSheet",Qi(_templateObject564()));customElements.define("bx-dominspector",lw);var aw=Math.floor,hw=Math.ceil,rw=Number.isNaN,dw=Object.keys,cw=Symbol(),pw=Symbol(),uw=Ji(_templateObject99()),xw=function xw(t){return void 0!==N.find(function(e){return e.name===t;});},bw=function bw(t,e){return uw.style.removeProperty(t),uw.style.setProperty(t,e),""!==uw.style.getPropertyValue(t);};var mw=/*#__PURE__*/function(_HTMLElement143){_inherits(mw,_HTMLElement143);var _super242=_createSuper(mw);_createClass(mw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"target",get:function get(){return this.tz;},set:function set(t){t!==this.tz&&(this.tz=t,this.Xs());}}]);function mw(){var _this1089;_classCallCheck(this,mw);_this1089=_super242.call(this),_this1089.tz=null,_this1089.tabIndex=0,_this1089._shadowRoot=_this1089.attachShadow({mode:"closed"}),_this1089._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,mw._shadowStyleSheet],_this1089._shadowRoot.append(document.importNode(mw._shadowTemplate.content,!0));var _iterator1642=_createForOfIteratorHelper(_this1089._shadowRoot.querySelectorAll("[id]")),_step1642;try{for(_iterator1642.s();!(_step1642=_iterator1642.n()).done;){var _t2576=_step1642.value;_this1089["#"+_t2576.id]=_t2576;}}catch(err){_iterator1642.e(err);}finally{_iterator1642.f();}var t=!1,e=!1;_this1089["#cascade-items"].addEventListener("pointerdown",function(i){var s,n,o=new DOMPoint(i.clientX,i.clientY);t=!1,e=null!==_this1089["#cascade-items"].querySelector("[contenteditable]"),window.addEventListener("pointermove",s=function(_s913){function s(_x367){return _s913.apply(this,arguments);}s.toString=function(){return _s913.toString();};return s;}(function(e){var i=new DOMPoint(e.clientX,e.clientY);Ee(o,i)>=3&&(window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",n),t=!0);})),window.addEventListener("pointerup",n=function(_n589){function n(){return _n589.apply(this,arguments);}n.toString=function(){return _n589.toString();};return n;}(function(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",n);}));}),_this1089["#cascade-items"].addEventListener("click",function(i){if(!1===t&&!1===i.target.hasAttribute("contenteditable")){var _t2573=_this1089._shadowRoot.elementFromPoint(i.clientX,i.clientY);if(_t2573.getRootNode()!==_this1089._shadowRoot&&(_t2573=null),i.target.matches(".property-item .name"))_this1089.ez(i.target);else if(i.target.matches(".property-item .value"))_this1089.iz(i.target);else if(i.target.matches(".prefix")){if(!1===e){var _t2574=i.target.closest(".cascade-item");_this1089.sz(_t2574,0);}}else if(i.target.closest(".property-item")&&!1===e&&i.target.matches(".property-item, .property-div")){var _t2575=i.target.closest(".cascade-item"),_e1918=i.target.closest(".property-item"),_s914=_toConsumableArray(i.target.closest(".properties").children).indexOf(_e1918);_this1089.sz(_t2575,_s914+1);}}}),_this1089["#cascade-items"].addEventListener("focusout",function(t){var e=_this1089["#cascade-items"].querySelector("span[contenteditable]");e&&(e.removeAttribute("contenteditable"),editableSpan.part.remove("input"));}),_this1089["#resize-grippie"].addEventListener("pointerdown",function(t){return _this1089.Nu(t);});return _this1089;}_createClass(mw,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.tn=Ri(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){var _this1090=this;this.tn.board.addEventListener("workspacemutation",this.rn=function(t){_this1090.pl(t);}),this.style.width=this.Js.getConfig("bx-csscascadeinspector:width",250)+"px";}},{key:"sn",value:function sn(){this.tn.board.removeEventListener("workspacemutation",this.rn);}},{key:"pl",value:function pl(t){var _iterator1643=_createForOfIteratorHelper(t.detail),_step1643;try{for(_iterator1643.s();!(_step1643=_iterator1643.n()).done;){var _e1919=_step1643.value;if("childList"===_e1919.type&&"style"===_e1919.target.localName){this.Xs();break;}if("attributes"===_e1919.type&&_e1919.target===this.target){this.Xs();break;}}}catch(err){_iterator1643.e(err);}finally{_iterator1643.f();}}},{key:"Nu",value:function Nu(t){var _this1091=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,i,s=this.clientWidth,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e1920){n=s-(_e1920.clientX-t.clientX),n<80?n=80:n>400&&(n=400),_this1091.style.width=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",i=function(_i1566){function i(){return _i1566.apply(this,arguments);}i.toString=function(){return _i1566.toString();};return i;}(function(){_this1091["#resize-grippie"].removeEventListener("pointermove",e),_this1091["#resize-grippie"].removeEventListener("lostpointercapture",i),_this1091.Js.setConfig("bx-csscascadeinspector:width",n);}));}},{key:"ez",value:function ez(t){var _this1092=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,n,o,l=t.closest(".cascade-item"),a=t.closest(".property-item"),h=t.textContent.trim(),r=t.parentElement.querySelector(".value").textContent.trim(),d=this["#main"].scrollTop,c=Ki(_templateObject100());r.endsWith("!important")&&(r=r.substring(0,r.indexOf("!important")).trim()),a.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=l.getAttribute("data-origin"),i=t.textContent.trim();if(""===i)""===h?a.remove():u();else if(i===h||!1===xw(i))t.textContent=h;else{_this1092.tn.board.undoManager.checkpoint("Rename styling property");var _t2577=[];var _iterator1644=_createForOfIteratorHelper(l.querySelector(".properties").children),_step1644;try{for(_iterator1644.s();!(_step1644=_iterator1644.n()).done;){var _e1923=_step1644.value;var _s917=_e1923.querySelector(".name").textContent.trim(),_n591=_e1923.querySelector(".value").textContent.trim(),_o535="";_n591.endsWith("!important")&&(_o535="!important",_n591=_n591.substring(0,_n591.indexOf("!important")).trim()),!1===bw(_s917,_n591)&&(_n591="initial",_o535=""),_e1923!==a&&_s917===i||_t2577.push([_s917,_n591,_o535]);}}catch(err){_iterator1644.e(err);}finally{_iterator1644.f();}if("style-attribute"===e)_t2577=_t2577.map(function(_ref238){var _ref239=_slicedToArray(_ref238,3),t=_ref239[0],e=_ref239[1],i=_ref239[2];return"".concat(t," : ").concat(e).concat(i,";");}),_this1092.target.setAttribute("style",_t2577.join(" "));else if("style-element"===e){var _e1921=l[cw],_i1567=_e1921.parentStyleSheet.ownerNode;for(var _i1568=0,_arr87=_toConsumableArray(_e1921.style);_i1568<_arr87.length;_i1568++){var _t2578=_arr87[_i1568];_e1921.style.removeProperty(_t2578);}var _iterator1645=_createForOfIteratorHelper(_t2577),_step1645;try{for(_iterator1645.s();!(_step1645=_iterator1645.n()).done;){var _step1645$value=_slicedToArray(_step1645.value,3),_i1569=_step1645$value[0],_s915=_step1645$value[1],_n590=_step1645$value[2];_e1921.style.setProperty(_i1569,_s915,_n590);}}catch(err){_iterator1645.e(err);}finally{_iterator1645.f();}Tp(_i1567);}else if("presentation-attributes"===e){var _e1922=l[pw];var _iterator1646=_createForOfIteratorHelper(_t2577),_step1646;try{for(_iterator1646.s();!(_step1646=_iterator1646.n()).done;){var _step1646$value=_slicedToArray(_step1646.value,2),_i1570=_step1646$value[0],_s916=_step1646$value[1];_e1922.hasAttribute(_i1570)&&_e1922.removeAttribute(_i1570),_e1922.setAttribute(_i1570,_s916);}}catch(err){_iterator1646.e(err);}finally{_iterator1646.f();}}}},u=function u(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin");if(_this1092.tn.board.undoManager.checkpoint("Remove styling property"),"style-attribute"===i)_this1092.target.style.removeProperty(h);else if("style-element"===i){var _t2579=e[cw],_i1571=_t2579.parentStyleSheet.ownerNode;_t2579.style.removeProperty(h),Tp(_i1571);}else if("presentation-attributes"===i){e[pw].removeAttribute(h);}Ri(_this1092,"[tabindex]").focus();},x=function x(){var e="",i=[];var _iterator1647=_createForOfIteratorHelper(N),_step1647;try{for(_iterator1647.s();!(_step1647=_iterator1647.n()).done;){var _e1927=_step1647.value;_e1927.name.startsWith(t.textContent)&&i.push(_e1927.name);}}catch(err){_iterator1647.e(err);}finally{_iterator1647.f();}for(var _i1573=0,_i1572=i;_i1573<_i1572.length;_i1573++){var _t2580=_i1572[_i1573];e+="<div class=\"item\" ".concat(_t2580===i[0]?"data-selected":"",">").concat(_t2580,"</div>");}if(c.innerHTML=e,c.hidden=i.length<=1,c.childElementCount>0){var _e1924="below";{var _i1574=t.getBoundingClientRect(),_s918=_this1092.getBoundingClientRect();_s918.bottom-_i1574.bottom<_i1574.top-_s918.top&&(_e1924="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1924){var _e1925=t.getBoundingClientRect(),_i1575=_this1092.getBoundingClientRect(),_s919=_this1092["#main"].scrollTop;c.style.left=_e1925.left-_i1575.left-6+"px",c.style.top=_e1925.bottom-_i1575.top+_s919+6+"px";var _n592=c.getBoundingClientRect();_n592.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n592.top-6+"px"),_n592.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n592.right-3+"px");}else if("above"===_e1924){var _e1926=t.getBoundingClientRect(),_i1576=_this1092.getBoundingClientRect(),_s920=_this1092["#main"].scrollTop;c.style.left=_e1926.left-_i1576.left-6+"px",c.style.bottom=_i1576.bottom-_e1926.top-_s920+6+"px";var _n593=c.getBoundingClientRect();if(_n593.top<_i1576.top-6){var _t2581=_i1576.top-_n593.top;c.style.height=_n593.height-_t2581-6+"px";}_n593.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n593.right-3+"px");}}},b=function b(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,b();{var _e1928=new Range();_e1928.selectNodeContents(t),_e1928.collapse(!1);var _i1577=window.getSelection();_i1577.removeAllRanges(),_i1577.addRange(_e1928);}}),this["#main"].addEventListener("scroll",o=function o(){!1===c.hidden?_this1092["#main"].scrollTop=d:d=_this1092["#main"].scrollTop;}),t.addEventListener("keydown",s=/*#__PURE__*/function(){var _ref240=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee269(e){var _t2582,_i1578,_t2583,_i1579,_e1929,_e1930,_e1931,_i1580,_i1581,_s921,_n594,_o536,_a296,_iterator1648,_step1648,_t2584,_i1582,_t2585;return regeneratorRuntime.wrap(function _callee269$(_context271){while(1){switch(_context271.prev=_context271.next){case 0:if(!("ArrowUp"===e.key)){_context271.next=4;break;}if(!1===c.hidden){e.preventDefault();_t2582=c.querySelector(".item[data-selected]"),_i1578=_t2582.previousElementSibling||c.lastElementChild;_t2582.removeAttribute("data-selected"),_i1578.setAttribute("data-selected",""),_i1578.scrollIntoViewIfNeeded(),b();}_context271.next=35;break;case 4:if(!("ArrowDown"===e.key)){_context271.next=8;break;}if(!1===c.hidden){e.preventDefault();_t2583=c.querySelector(".item[data-selected]"),_i1579=_t2583.nextElementSibling||c.firstElementChild;_t2583.removeAttribute("data-selected"),_i1579.setAttribute("data-selected",""),_i1579.scrollIntoViewIfNeeded(),b();}_context271.next=35;break;case 8:if(!("Enter"===e.key)){_context271.next=13;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1929=c.querySelector(".item[data-selected]");t.textContent=_e1929?_e1929.textContent:h;}Ri(_this1092,"[tabindex]").focus();_context271.next=35;break;case 13:if(!("Tab"===e.key||":"===e.key)){_context271.next=34;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context271.next=24;break;}_e1930=c.querySelector(".item[data-selected]");_e1930&&(t.textContent=_e1930.textContent);_e1931=new Range();_e1931.selectNodeContents(t),_e1931.collapse(!1);_i1580=window.getSelection();_i1580.removeAllRanges(),_i1580.addRange(_e1931);x(),b();_context271.next=32;break;case 24:_i1581=_toConsumableArray(_this1092["#cascade-items"].children).indexOf(l),_s921=t.textContent.trim();Ri(_this1092,"[tabindex]").focus();_context271.next=28;return ss(10);case 28:_n594=_this1092["#cascade-items"].children[_i1581],_o536=_toConsumableArray(_this1092["#cascade-items"].querySelectorAll(".name, .value")),_a296=null;_iterator1648=_createForOfIteratorHelper(_n594.querySelector(".properties").children);try{for(_iterator1648.s();!(_step1648=_iterator1648.n()).done;){_t2584=_step1648.value;_i1582=_t2584.querySelector(".name");if(_i1582.textContent===_s921){_t2585=_o536.indexOf(_i1582);_a296=!1===e.shiftKey?_o536[_t2585+1]||_o536[0]:_o536[_t2585-1]||_o536[_o536.length-1];}}}catch(err){_iterator1648.e(err);}finally{_iterator1648.f();}_a296&&(_a296.matches(".name")?_this1092.ez(_a296):_a296.matches(".value")&&_this1092.iz(_a296));case 32:_context271.next=35;break;case 34:if("Escape"===e.key){e.preventDefault(),t.textContent=h,Ri(_this1092,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault(),u());case 35:case"end":return _context271.stop();}}},_callee269);}));return function s(_x368){return _ref240.apply(this,arguments);};}()),t.addEventListener("input",i=function i(e){x(),b(),function(){var e=t.textContent;t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),xw(e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}();}),t.addEventListener("blur",n=function(_n595){function n(){return _n595.apply(this,arguments);}n.toString=function(){return _n595.toString();};return n;}(function(){p(),_this1092["#main"].removeEventListener("scroll",o),t.removeEventListener("keydown",s),t.removeEventListener("blur",n),t.removeAttribute("contenteditable"),t.part.remove("input"),t.removeAttribute("data-invalid"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1092._shadowRoot.getSelection().collapse(t),_this1092.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();}));}},{key:"iz",value:function iz(t){var _this1093=this;var e,i,s,n,o=t.closest(".cascade-item"),l=t.closest(".property-item"),a=t.parentElement.querySelector(".name").textContent.trim(),h=t.textContent.trim(),r="",d=this["#main"].scrollTop,c=Ki(_templateObject101());h.endsWith("!important")&&(r="important",h=h.substring(0,h.indexOf("!important")).trim()),l.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin"),s=t.textContent.trim(),n="";if(s.endsWith("!important")&&(s=s.substring(0,s.indexOf("!important")),n="important"),!1===(s!==h||n!==r)||!1===bw(a,s))t.textContent=h,r&&(t.textContent+=" !"+r);else if(_this1093.tn.board.undoManager.checkpoint("Rename styling property"),"style-attribute"===i)_this1093.target.style.setProperty(a,s,n);else if("style-element"===i){var _t2586=e[cw],_i1583=_t2586.parentStyleSheet.ownerNode;_t2586.style.setProperty(a,s,n),Tp(_i1583);}else if("presentation-attributes"===i){e[pw].setAttribute(a,s);}},u=function u(){var e="",i=new Set();var _iterator1649=_createForOfIteratorHelper(N),_step1649;try{for(_iterator1649.s();!(_step1649=_iterator1649.n()).done;){var _e1932=_step1649.value;if(_e1932.name===a){var _iterator1651=_createForOfIteratorHelper(_e1932.values),_step1651;try{for(_iterator1651.s();!(_step1651=_iterator1651.n()).done;){var _s922=_step1651.value;if("token"===_s922.type||"token-list"===_s922.type){var _iterator1652=_createForOfIteratorHelper(_s922.tokens),_step1652;try{for(_iterator1652.s();!(_step1652=_iterator1652.n()).done;){var _e1933=_step1652.value;_e1933.startsWith(t.textContent)&&i.add(_e1933);}}catch(err){_iterator1652.e(err);}finally{_iterator1652.f();}}else if("color"===_s922.type){var _iterator1653=_createForOfIteratorHelper(dw(G)),_step1653;try{for(_iterator1653.s();!(_step1653=_iterator1653.n()).done;){var _e1934=_step1653.value;_e1934.startsWith(t.textContent)&&i.add(_e1934);}}catch(err){_iterator1653.e(err);}finally{_iterator1653.f();}}}}catch(err){_iterator1651.e(err);}finally{_iterator1651.f();}}}}catch(err){_iterator1649.e(err);}finally{_iterator1649.f();}i=_toConsumableArray(i);var _iterator1650=_createForOfIteratorHelper(i),_step1650;try{for(_iterator1650.s();!(_step1650=_iterator1650.n()).done;){var _t2587=_step1650.value;e+="<div class=\"item\" ".concat(_t2587===i[0]?"data-selected":"",">").concat(_t2587,"</div>");}}catch(err){_iterator1650.e(err);}finally{_iterator1650.f();}c.innerHTML=e,c.hidden=i.length<=1;},x=function x(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,x();{var _e1935=new Range();_e1935.selectNodeContents(t),_e1935.collapse(!1);var _i1584=window.getSelection();_i1584.removeAllRanges(),_i1584.addRange(_e1935);}}),this["#main"].addEventListener("scroll",n=function n(){!1===c.hidden?_this1093["#main"].scrollTop=d:d=_this1093["#main"].scrollTop;}),t.addEventListener("keydown",i=/*#__PURE__*/function(){var _ref241=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee270(e){var i,_t2588,_e1936,_e1937,_s923,_n596,_o537,_l398,_e1938,_i1585,_t2589,_t2590,_a297,_h232,_r154,_d124,_c90,_t2591,_p86,_u69,_x370,_e1939,_e1940,_e1941,_i1586,_t2592,_i1587,_s924,_n597,_iterator1654,_step1654,_t2593,_i1588,_t2594;return regeneratorRuntime.wrap(function _callee270$(_context272){while(1){switch(_context272.prev=_context272.next){case 0:i=Ja.fromEvent(e);if(!(i.matches("ArrowUp")||i.matches("ArrowDown")||i.matches("Shift","ArrowUp")||i.matches("Shift","ArrowDown"))){_context272.next=5;break;}if(!1===c.hidden){e.preventDefault();_t2588=c.querySelector(".item[data-selected]");if(_t2588.removeAttribute("data-selected"),"ArrowUp"===e.key){_e1936=_t2588.previousElementSibling||c.lastElementChild;_e1936.setAttribute("data-selected",""),_e1936.scrollIntoViewIfNeeded();}else if("ArrowDown"===e.key){_e1937=_t2588.nextElementSibling||c.firstElementChild;_e1937.setAttribute("data-selected",""),_e1937.scrollIntoViewIfNeeded();}x();}else{e.preventDefault(),e.stopPropagation();_s923=_this1093._shadowRoot.getSelection();if(_s923.rangeCount>0){_n596=_s923.getRangeAt(0),_o537=_n596.startOffset,_l398=_n596.startOffset;{_e1938=t.textContent,_i1585=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(_t2589=_n596.startOffset;_t2589<=_e1938.length&&(_l398=_t2589,!_i1585.includes(_e1938[_t2589]));_t2589+=1){;}for(_t2590=_n596.startOffset-1;_t2590>=0&&!_i1585.includes(_e1938[_t2590]);_t2590-=1){_o537=_t2590;}}if(_o537!==_l398){_a297=t.textContent.substring(_o537,_l398);if(!1===rw(parseFloat(_a297))){_h232="",_r154="",_d124=/[^\d-\.]+/.exec(_a297),_c90=parseFloat(_a297);if(e.preventDefault(),_d124){_t2591=_d124.index+_d124[0].length;_n596.startOffset>_o537+_d124.index&&_t2591<_a297.length&&_n596.startOffset!==_o537?(_h232=_a297.substring(0,_t2591),_a297=_a297.substring(_t2591)):(_r154=_a297.substring(_d124.index),_a297=_a297.substring(0,_d124.index));}i.matches("ArrowUp")?_c90=aw(_c90)+1:i.matches("ArrowDown")?_c90=hw(_c90)-1:i.matches("Shift","ArrowUp")?_c90=aw(_c90)+10:i.matches("Shift","ArrowDown")&&(_c90=hw(_c90)-10);_p86=_h232+_c90+_r154,_u69=t.textContent;_u69=_u69.substring(0,_o537)+_p86+_u69.substring(_l398),t.textContent=_u69;_x370=document.createRange();_x370.setStart(t.firstChild,_o537),_x370.setEnd(t.firstChild,_o537+_p86.length),_s923.removeAllRanges(),_s923.addRange(_x370);}}}}_context272.next=32;break;case 5:if(!("Enter"===e.key)){_context272.next=10;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1939=c.querySelector(".item[data-selected]");t.textContent=_e1939?_e1939.textContent:r?h+"!"+r:h;}Ri(_this1093,"[tabindex]").focus();_context272.next=32;break;case 10:if(!("Tab"===e.key)){_context272.next=31;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context272.next=21;break;}_e1940=c.querySelector(".item[data-selected]");_e1940&&(t.textContent=_e1940.textContent);_e1941=new Range();_e1941.selectNodeContents(t),_e1941.collapse(!1);_i1586=window.getSelection();_i1586.removeAllRanges(),_i1586.addRange(_e1941);u(),x();_context272.next=29;break;case 21:_t2592=_toConsumableArray(_this1093["#cascade-items"].children).indexOf(o);Ri(_this1093,"[tabindex]").focus();_context272.next=25;return ss(10);case 25:_i1587=_this1093["#cascade-items"].children[_t2592],_s924=_toConsumableArray(_this1093["#cascade-items"].querySelectorAll(".name, .value")),_n597=null;_iterator1654=_createForOfIteratorHelper(_i1587.querySelector(".properties").children);try{for(_iterator1654.s();!(_step1654=_iterator1654.n()).done;){_t2593=_step1654.value;_i1588=_t2593.querySelector(".name");if(_i1588.textContent===a){_t2594=_s924.indexOf(_i1588);_n597=!1===e.shiftKey?_s924[_t2594+2]||_s924[0]:_s924[_t2594]||_s924[_s924.length-1];}}}catch(err){_iterator1654.e(err);}finally{_iterator1654.f();}_n597&&(_n597.matches(".name")?_this1093.ez(_n597):_n597.matches(".value")&&_this1093.iz(_n597));case 29:_context272.next=32;break;case 31:if("Escape"===e.key){e.preventDefault(),t.textContent=r?h+"!"+r:h,Ri(_this1093,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault());case 32:case"end":return _context272.stop();}}},_callee270);}));return function i(_x369){return _ref241.apply(this,arguments);};}()),t.addEventListener("input",e=function e(){if(u(),x(),function(){var e=t.textContent.trim();e.endsWith("!important")&&(e=e.substring(0,e.indexOf("!important"))),t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),bw(a,e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}(),c.childElementCount>0){var _e1942="below";{var _i1589=t.getBoundingClientRect(),_s925=_this1093.getBoundingClientRect();_s925.bottom-_i1589.bottom<_i1589.top-_s925.top&&(_e1942="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1942){var _e1943=t.getBoundingClientRect(),_i1590=_this1093.getBoundingClientRect(),_s926=_this1093["#main"].scrollTop;c.style.left=_e1943.left-_i1590.left-6+"px",c.style.top=_e1943.bottom-_i1590.top+_s926+6+"px";var _n598=c.getBoundingClientRect();_n598.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n598.top-6+"px"),_n598.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n598.right-3+"px");}else if("above"===_e1942){var _e1944=t.getBoundingClientRect(),_i1591=_this1093.getBoundingClientRect(),_s927=_this1093["#main"].scrollTop;c.style.left=_e1944.left-_i1591.left-6+"px",c.style.bottom=_i1591.bottom-_e1944.top-_s927+6+"px";var _n599=c.getBoundingClientRect();if(_n599.top<_i1591.top-6){var _t2595=_i1591.top-_n599.top;c.style.height=_n599.height-_t2595-6+"px";}_n599.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n599.right-3+"px");}}}),t.addEventListener("blur",s=function(_s928){function s(){return _s928.apply(this,arguments);}s.toString=function(){return _s928.toString();};return s;}(function(){p(),_this1093["#main"].removeEventListener("scroll",n),t.removeEventListener("keydown",i),t.removeEventListener("blur",s),t.removeAttribute("contenteditable"),t.removeAttribute("data-invalid"),t.part.remove("input"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1093._shadowRoot.getSelection().collapse(t),_this1093.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();}));}},{key:"sz",value:function sz(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Ki(_templateObject102()),s=t.querySelector(".properties");e===s.childElementCount?s.append(i):s.children[e].before(i),this.ez(i.querySelector(".name"),!0);}},{key:"Xs",value:function Xs(){var _this1094=this;this.tz;var t=[];if(this["#cascade-items"].innerHTML="",this.tz){(function(){var e=_this1094.tz.closest("[data-bx-workspace]");for(var _i1592=_this1094.tz;e.contains(_i1592);_i1592=_i1592.parentElement){var _s929=_i1592!==_this1094.tz;if(_i1592.style.length>0||_i1592===_this1094.tz){var _t2596=_this1094.nz(_i1592),_e1945=Ki(_templateObject103(),_s929?"Inherited from <code>".concat(_t2596,"</code>"):"");var _iterator1655=_createForOfIteratorHelper(_i1592.style),_step1655;try{for(_iterator1655.s();!(_step1655=_iterator1655.n()).done;){var _t2597=_step1655.value;if(!_s929||!1!==Ep(_t2597)){var _s930=_i1592.style.getPropertyValue(_t2597),_n600=_i1592.style.getPropertyPriority(_t2597),_o538=Ki(_templateObject104(),_t2597,_s930+("important"===_n600?" !important":""));_e1945.children[2].append(_o538);}}}catch(err){_iterator1655.e(err);}finally{_iterator1655.f();}_this1094["#cascade-items"].append(_e1945);}{var _n601=Ap(_i1592);_n601=_n601.filter(function(t){return!t.parentStyleSheet||!1!==e.contains(t.parentStyleSheet.ownerNode);});var _iterator1656=_createForOfIteratorHelper(_n601),_step1656;try{for(_iterator1656.s();!(_step1656=_iterator1656.n()).done;){var _e1946=_step1656.value;if(!1===t.includes(_e1946)){var _n602=[];var _iterator1657=_createForOfIteratorHelper(_e1946.style),_step1657;try{for(_iterator1657.s();!(_step1657=_iterator1657.n()).done;){var _t2599=_step1657.value;if(!1===_s929||!0===Ep(_t2599)){var _i1594=_e1946.style.getPropertyValue(_t2599),_s932=_e1946.style.getPropertyPriority(_t2599);_s932="important"===_s932?" !important":"",_n602.push([_t2599,_i1594,_s932]);}}}catch(err){_iterator1657.e(err);}finally{_iterator1657.f();}if(_n602.length>0){var _o539=_this1094.nz(_i1592),_l399=Ki(_templateObject105(),_s929?"Inherited from <span>".concat(_o539,"</span>"):"",_e1946.selectorText);var _iterator1658=_createForOfIteratorHelper(_n602),_step1658;try{for(_iterator1658.s();!(_step1658=_iterator1658.n()).done;){var _step1658$value=_slicedToArray(_step1658.value,3),_t2598=_step1658$value[0],_e1947=_step1658$value[1],_i1593=_step1658$value[2];var _s931=Ki(_templateObject106(),_t2598,_e1947+("important"===_i1593?" !important":""));_l399.children[2].append(_s931);}}catch(err){_iterator1658.e(err);}finally{_iterator1658.f();}_l399[cw]=_e1946,_this1094["#cascade-items"].append(_l399),t.push(_e1946);}}}}catch(err){_iterator1656.e(err);}finally{_iterator1656.f();}}{var _t2600=[];var _iterator1659=_createForOfIteratorHelper(_i1592.attributes),_step1659;try{var _loop58=function _loop58(){var _step1659$value=_step1659.value,e=_step1659$value.name,n=_step1659$value.value;var i=N.filter(function(t){return t.presentationAttributeName===e;}),o=i.find(function(t){return t.appliesTo.includes(_this1094.tz.localName);})||i[0];o&&(!1!==_s929&&!0!==o.inheritable||_t2600.push({name:e,value:n}));};for(_iterator1659.s();!(_step1659=_iterator1659.n()).done;){_loop58();}}catch(err){_iterator1659.e(err);}finally{_iterator1659.f();}if(_t2600.length>0){var _e1948=_this1094.nz(_i1592),_n603=_s929?"Inherited from <span>".concat(_e1948,"</span>"):"",_o540="".concat(_i1592.localName,"[Presentation attributes]"),_l400=Ki(_templateObject107(),_n603,_o540);var _iterator1660=_createForOfIteratorHelper(_t2600),_step1660;try{for(_iterator1660.s();!(_step1660=_iterator1660.n()).done;){var _step1660$value=_step1660.value,_e1949=_step1660$value.name,_i1595=_step1660$value.value;var _t2601=Ki(_templateObject108(),_e1949,_i1595);_l400.children[2].append(_t2601);}}catch(err){_iterator1660.e(err);}finally{_iterator1660.f();}_l400[pw]=_i1592,_this1094["#cascade-items"].append(_l400);}}}})();}}},{key:"oz",value:function oz(t){var e,i=function i(t){return _toConsumableArray(stylesheet.cssRules);},s=[],n=i(sheet);for(;e=n.shift();){e.type===CSSRule.MEDIA_RULE?n=i().concat(n):e.type===CSSRule.STYLE_RULE&&element.matches(e.selectorText)&&s.push(e);}return s;}},{key:"nz",value:function nz(t){var e="";if(t.hasAttribute("data-bx-workspace")){var _i1596=t.getAttribute("data-bx-workspace");e+="master"===_i1596?"svg":_i1596;}else e+="g";return t.id.length>0&&(e+="#"+t.id),t.classList.length>0&&(e+="."+_toConsumableArray(t.classList).join(".")),e;}}]);return mw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mw,"observedAttributes",["enabled"]);_defineProperty(mw,"_shadowTemplate",Ki(_templateObject565()));_defineProperty(mw,"_shadowStyleSheet",Qi(_templateObject566()));customElements.define("bx-csscascadeinspector",mw);var gw=/*#__PURE__*/function(_HTMLElement144){_inherits(gw,_HTMLElement144);var _super243=_createSuper(gw);_createClass(gw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function gw(){var _this1095;_classCallCheck(this,gw);_this1095=_super243.call(this),_this1095._shadowRoot=_this1095.attachShadow({mode:"closed"}),_this1095._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,gw._shadowStyleSheet],_this1095._shadowRoot.append(document.importNode(gw._shadowTemplate.content,!0));var _iterator1661=_createForOfIteratorHelper(_this1095._shadowRoot.querySelectorAll("[id]")),_step1661;try{for(_iterator1661.s();!(_step1661=_iterator1661.n()).done;){var t=_step1661.value;_this1095["#"+t.id]=t;}}catch(err){_iterator1661.e(err);}finally{_iterator1661.f();}_this1095["#dom-inspector"].addEventListener("selectednodeschange",function(){return _this1095.lz();});return _this1095;}_createClass(gw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){this["#dom-inspector"].enabled=!0,this["#css-cascade-inspector"].enabled=!0;}},{key:"sn",value:function sn(){this["#dom-inspector"].enabled=!1,this["#css-cascade-inspector"].enabled=!1;}},{key:"lz",value:function lz(){var t=this["#dom-inspector"].selectedNodes;1===t.length&&t[0].nodeType===document.ELEMENT_NODE?this["#css-cascade-inspector"].target=t[0]:this["#css-cascade-inspector"].target=null;}}]);return gw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gw,"observedAttributes",["enabled"]);_defineProperty(gw,"_shadowTemplate",Ki(_templateObject567()));_defineProperty(gw,"_shadowStyleSheet",Qi(_templateObject568()));customElements.define("bx-elementspanel",gw);var fw=/*#__PURE__*/function(_HTMLElement145){_inherits(fw,_HTMLElement145);var _super244=_createSuper(fw);_createClass(fw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function fw(){var _this1096;_classCallCheck(this,fw);_this1096=_super244.call(this),_this1096._shadowRoot=_this1096.attachShadow({mode:"closed"}),_this1096._shadowRoot.adoptedStyleSheets=[fw._shadowStyleSheet],_this1096._shadowRoot.append(document.importNode(fw._shadowTemplate.content,!0));var _iterator1662=_createForOfIteratorHelper(_this1096._shadowRoot.querySelectorAll("[id]")),_step1662;try{for(_iterator1662.s();!(_step1662=_iterator1662.n()).done;){var t=_step1662.value;_this1096["#"+t.id]=t;}}catch(err){_iterator1662.e(err);}finally{_iterator1662.f();}return _this1096;}_createClass(fw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){}},{key:"sn",value:function sn(){}}]);return fw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fw,"observedAttributes",["enabled"]);_defineProperty(fw,"_shadowTemplate",Ki(_templateObject569()));_defineProperty(fw,"_shadowStyleSheet",Qi(_templateObject570()));customElements.define("bx-codepanel",fw);var ww=/*#__PURE__*/function(_HTMLElement146){_inherits(ww,_HTMLElement146);var _super245=_createSuper(ww);_createClass(ww,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ww(){var _this1097;_classCallCheck(this,ww);_this1097=_super245.call(this),_this1097._shadowRoot=_this1097.attachShadow({mode:"closed"}),_this1097._shadowRoot.adoptedStyleSheets=[ww._shadowStyleSheet],_this1097._shadowRoot.append(document.importNode(ww._shadowTemplate.content,!0));var _iterator1663=_createForOfIteratorHelper(_this1097._shadowRoot.querySelectorAll("[id]")),_step1663;try{for(_iterator1663.s();!(_step1663=_iterator1663.n()).done;){var t=_step1663.value;_this1097["#"+t.id]=t;}}catch(err){_iterator1663.e(err);}finally{_iterator1663.f();}return _this1097;}_createClass(ww,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){}},{key:"sn",value:function sn(){}}]);return ww;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ww,"observedAttributes",["enabled"]);_defineProperty(ww,"_shadowTemplate",Ki(_templateObject571()));_defineProperty(ww,"_shadowStyleSheet",Qi(_templateObject572()));customElements.define("bx-animationpanel",ww);var vw=Object.defineProperty;var yw=/*#__PURE__*/function(_HTMLElement147){_inherits(yw,_HTMLElement147);var _super246=_createSuper(yw);_createClass(yw,[{key:"board",get:function get(){return this._shadowRoot.querySelector("#board");}},{key:"offscreenBoard",get:function get(){return this._shadowRoot.querySelector("#offscreen-board");}},{key:"toolsDock",get:function get(){return this["#tools-dock"];}},{key:"primaryPanelsDock",get:function get(){return this["#primary-panels-dock"];}},{key:"secondaryPanelsDock",get:function get(){return this["#secondary-panels-dock"];}},{key:"colorGrabber",get:function get(){return this["#color-grabber"];}},{key:"objectGrabber",get:function get(){return this["#object-grabber"];}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function yw(){var _temp55,_this1098;_classCallCheck(this,yw);(_temp55=_this1098=_super246.call(this),_defineProperty(_assertThisInitialized(_this1098),"commands",{"import":{enabled:function enabled(){return!0;},exec:function exec(){return _this1098.az();}},"export":{enabled:function enabled(){return!0;},exec:function exec(){return _this1098.hz();}},undo:{enabled:function enabled(){return _this1098.rz();},exec:function exec(){return _this1098.dz();}},redo:{enabled:function enabled(){return _this1098.cz();},exec:function exec(){return _this1098.pz();}},copy:{enabled:function enabled(){return _this1098.Js.textInputMode||_this1098.board.selectedElements.length>0;},exec:function exec(){return _this1098.uz();}},cut:{enabled:function enabled(){return _this1098.Js.textInputMode||_this1098.board.selectedElements.length>0;},exec:function exec(){return _this1098.xz();}},paste:{exec:function exec(){return _this1098.bz();}},duplicate:{enabled:function enabled(){return _this1098.board.selectedObjectElements.length>0;},exec:function exec(){return _this1098.mz();}},"delete":{enabled:function enabled(){return _this1098.gz();},exec:function exec(){return _this1098.fz();}},selectAll:{exec:function exec(){return _this1098.Dd();}},deselectAll:{enabled:function enabled(){return _this1098.board.selectedElements.length>0;},exec:function exec(){return _this1098.Gd();}},manualGuides:{exec:function exec(){return _this1098.board.showManualGuides=!_this1098.board.showManualGuides;},toggled:function toggled(){return _this1098.board.showManualGuides;}},smartGuides:{exec:function exec(){return _this1098.board.showSmartGuides=!_this1098.board.showSmartGuides;},toggled:function toggled(){return _this1098.board.showSmartGuides;}},grid:{exec:function exec(){return _this1098.board.showGrid=!_this1098.board.showGrid;},toggled:function toggled(){return _this1098.board.showGrid;}},transparency:{exec:function exec(){return _this1098.board.showTransparency=!_this1098.board.showTransparency;},toggled:function toggled(){return _this1098.board.showTransparency;}},views:{exec:function exec(){return _this1098.board.showViews=!_this1098.board.showViews;},toggled:function toggled(){return _this1098.board.showViews;}},zoomIn:{exec:function exec(){return _this1098.board.zoomIn();}},zoomOut:{exec:function exec(){return _this1098.board.zoomOut();}},resetZoom:{enabled:function enabled(){return 100!==_this1098.board.zoom;},exec:function exec(){return _this1098.board.zoom=100;}},zoomToFitAllViews:{enabled:function enabled(){return _this1098.board.canZoomToFitAllViews();},exec:function exec(){return _this1098.board.zoomToFitAllViews();}},zoomToFitAllObjects:{enabled:function enabled(){return _this1098.board.canZoomToFitAllObjects();},exec:function exec(){return _this1098.board.zoomToFitAllObjects();}},zoomToFitSelectedObjects:{enabled:function enabled(){return _this1098.board.canZoomToFitSelectedObjects();},exec:function exec(){return _this1098.board.zoomToFitSelectedObjects("center");}},group:{enabled:function enabled(){return _this1098.wz();},exec:function exec(){return _this1098.vz();}},ungroup:{enabled:function enabled(){return _this1098.yz();},exec:function exec(){return _this1098.kz();}},clip:{enabled:function enabled(){return _this1098.Sz();},exec:function exec(){return _this1098.Cz();}},unclip:{enabled:function enabled(){return _this1098._z();},exec:function exec(){return _this1098.Mz();}},mask:{enabled:function enabled(){return _this1098.Pz();},exec:function exec(){return _this1098.Dz();}},unmask:{enabled:function enabled(){return _this1098.zz();},exec:function exec(){return _this1098.Oz();}},increaseOpacity:{enabled:function enabled(){return _this1098.Ez();},exec:function exec(){return _this1098.Tz();}},decreaseOpacity:{enabled:function enabled(){return _this1098.Az();},exec:function exec(){return _this1098.$z();}},increaseFillOpacity:{enabled:function enabled(){return _this1098.Iz();},exec:function exec(){return _this1098.Lz();}},decreaseFillOpacity:{enabled:function enabled(){return _this1098.Bz();},exec:function exec(){return _this1098.Rz();}},increaseStrokeOpacity:{enabled:function enabled(){return _this1098.Gz();},exec:function exec(){return _this1098.Uz();}},decreaseStrokeOpacity:{enabled:function enabled(){return _this1098.Fz();},exec:function exec(){return _this1098.Nz();}},raise:{enabled:function enabled(){return _this1098.jz();},exec:function exec(){return _this1098.Vz();}},raiseToFront:{enabled:function enabled(){return _this1098.jz();},exec:function exec(){return _this1098.Wz();}},lower:{enabled:function enabled(){return _this1098.Yz();},exec:function exec(){return _this1098.qz();}},lowerToBack:{enabled:function enabled(){return _this1098.Yz();},exec:function exec(){return _this1098.Xz();}},rotateClockwise:{enabled:function enabled(){return _this1098.Zz();},exec:function exec(){return _this1098.Kz(90);}},rotateCounterclockwise:{enabled:function enabled(){return _this1098.Zz();},exec:function exec(){return _this1098.Kz(-90);}},flipX:{enabled:function enabled(){return _this1098.Qz();},exec:function exec(){return _this1098.Jz("x");}},flipY:{enabled:function enabled(){return _this1098.Qz();},exec:function exec(){return _this1098.Jz("y");}},removeTransform:{enabled:function enabled(){return _this1098.tO();},exec:function exec(){return _this1098.eO();}},reduceTransform:{enabled:function enabled(){return _this1098.iO();},exec:function exec(){return _this1098.sO();}},moveOneUnitLeft:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(1,"left");}},moveOneUnitRight:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(1,"right");}},moveOneUnitUp:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(1,"up");}},moveOneUnitDown:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(1,"down");}},moveTenUnitsLeft:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(10,"left");}},moveTenUnitsRight:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(10,"right");}},moveTenUnitsUp:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(10,"up");}},moveTenUnitsDown:{enabled:function enabled(){return _this1098.nO();},exec:function exec(){return _this1098.oO(10,"down");}},grabPaintColor:{enabled:function enabled(){return _this1098.lO();},exec:function exec(){return _this1098.aO();}},reorient:{enabled:function enabled(){return _this1098.hO();},exec:function exec(){return _this1098.rO();}},reverse:{enabled:function enabled(){return _this1098.dO();},exec:function exec(){return _this1098.cO();}},shapeToPath:{enabled:function enabled(){return _this1098.pO();},exec:function exec(){return _this1098.uO();}},strokeToPath:{enabled:function enabled(){return _this1098.xO();},exec:function exec(){return _this1098.bO();}},unite:{enabled:function enabled(){return _this1098.mO("unite");},exec:function exec(){return _this1098.gO("unite");}},subtract:{enabled:function enabled(){return _this1098.mO("subtract");},exec:function exec(){return _this1098.gO("subtract");}},intersect:{enabled:function enabled(){return _this1098.mO("intersect");},exec:function exec(){return _this1098.gO("intersect");}},exclude:{enabled:function enabled(){return _this1098.mO("exclude");},exec:function exec(){return _this1098.gO("exclude");}},joinPaths:{enabled:function enabled(){return _this1098.fO();},exec:function exec(){return _this1098.wO();}},splitPath:{enabled:function enabled(){return _this1098.vO();},exec:function exec(){return _this1098.yO();}},openPath:{enabled:function enabled(){return _this1098.kO();},exec:function exec(){return _this1098.SO();}},closePath:{enabled:function enabled(){return _this1098.CO();},exec:function exec(){return _this1098._O();}},insetPath:{enabled:function enabled(){return _this1098.MO();},exec:function exec(){return _this1098.PO(-1);}},outsetPath:{enabled:function enabled(){return _this1098.MO();},exec:function exec(){return _this1098.PO(1);}},simplifyPath:{enabled:function enabled(){return _this1098.DO();},exec:function exec(){return _this1098.zO();}},complexifyPath:{enabled:function enabled(){return _this1098.OO();},exec:function exec(){return _this1098.EO();}},joinNodes:{enabled:function enabled(){return _this1098.TO();},exec:function exec(){return _this1098.AO();}},splitNode:{enabled:function enabled(){return _this1098.$O();},exec:function exec(){return _this1098.IO();}},deleteNode:{enabled:function enabled(){return _this1098.LO();},exec:function exec(){return _this1098.BO();}},breakNode:{enabled:function enabled(){return _this1098.RO();},exec:function exec(){return _this1098.GO();}},bold:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.FO();},exec:function exec(){return _this1098.NO();}},italic:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.jO();},exec:function exec(){return _this1098.VO();}},decreaseFontSize:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.HO("decrease");}},increaseFontSize:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.HO("increase");}},underline:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.WO("underline");},exec:function exec(){return _this1098.YO("underline");}},lineThrough:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.WO("line-through");},exec:function exec(){return _this1098.YO("line-through");}},overline:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.WO("overline");},exec:function exec(){return _this1098.YO("overline");}},capitalize:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.qO("capitalize");},exec:function exec(){return _this1098.XO("capitalize");}},uppercase:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.qO("uppercase");},exec:function exec(){return _this1098.XO("uppercase");}},lowercase:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.qO("lowercase");},exec:function exec(){return _this1098.XO("lowercase");}},textOnPath:{enabled:function enabled(){return _this1098.UO();},toggled:function toggled(){return _this1098.ZO();},exec:function exec(){return _this1098.KO();}},decreaseLetterSpacing:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.QO("decrease");}},increaseLetterSpacing:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.QO("increase");}},resetLetterSpacing:{enabled:function enabled(){return _this1098.JO();},exec:function exec(){return _this1098.QO("reset");}},decreaseWordSpacing:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.tE("decrease");}},increaseWordSpacing:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.tE("increase");}},resetWordSpacing:{enabled:function enabled(){return _this1098.eE();},exec:function exec(){return _this1098.tE("reset");}},decreaseLineSpacing:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.iE("decrease");}},increaseLineSpacing:{enabled:function enabled(){return _this1098.UO();},exec:function exec(){return _this1098.iE("increase");}},resetLineSpacing:{enabled:function enabled(){return _this1098.sE();},exec:function exec(){return _this1098.iE("reset");}},previousTool:{enabled:function enabled(){return _this1098.nE();},exec:function exec(){return _this1098.togglePreviousTool();}},transformTool:{exec:function exec(){return _this1098.toggleTool("transform-tool");},toggled:function toggled(){return"transform-tool"===_this1098.toolsDock.value;}},editTool:{exec:function exec(){return _this1098.toggleTool("edit-tool");},toggled:function toggled(){return"edit-tool"===_this1098.toolsDock.value;}},panTool:{exec:function exec(){return _this1098.toggleTool("pan-tool");},toggled:function toggled(){return"pan-tool"===_this1098.toolsDock.value;}},splineTool:{exec:function exec(){return _this1098.toggleTool("spline-tool");},toggled:function toggled(){return"spline-tool"===_this1098.toolsDock.value;}},freehandTool:{exec:function exec(){return _this1098.toggleTool("freehand-tool");},toggled:function toggled(){return"freehand-tool"===_this1098.toolsDock.value;}},blobTool:{exec:function exec(){return _this1098.toggleTool("blob-tool");},toggled:function toggled(){return"blob-tool"===_this1098.toolsDock.value;}},rectTool:{exec:function exec(){return _this1098.toggleTool("rect-tool");},toggled:function toggled(){return"rect-tool"===_this1098.toolsDock.value;}},ellipseTool:{exec:function exec(){return _this1098.toggleTool("ellipse-tool");},toggled:function toggled(){return"ellipse-tool"===_this1098.toolsDock.value;}},otherShapeTool:{exec:function exec(){return _this1098.toggleTool("other-shape-tool");},toggled:function toggled(){return"other-shape-tool"===_this1098.toolsDock.value;}},textTool:{exec:function exec(){return _this1098.toggleTool("text-tool");},toggled:function toggled(){return"text-tool"===_this1098.toolsDock.value;}},textPathTool:{exec:function exec(){return _this1098.toggleTool("text-path-tool");},toggled:function toggled(){return"text-path-tool"===_this1098.toolsDock.value;}},viewTool:{exec:function exec(){return _this1098.toggleTool("view-tool");},toggled:function toggled(){return"view-tool"===_this1098.toolsDock.value;}},fillPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("fill-panel");},toggled:function toggled(){return"fill-panel"===_this1098.primaryPanelsDock.value;}},strokePanel:{exec:function exec(){return _this1098.togglePrimaryPanel("stroke-panel");},toggled:function toggled(){return"stroke-panel"===_this1098.primaryPanelsDock.value;}},compositingPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("compositing-panel");},toggled:function toggled(){return"compositing-panel"===_this1098.primaryPanelsDock.value;}},typographyPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("typography-panel");},toggled:function toggled(){return"typography-panel"===_this1098.primaryPanelsDock.value;}},geometryPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("geometry-panel");},toggled:function toggled(){return"geometry-panel"===_this1098.primaryPanelsDock.value;}},metaPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("meta-panel");},toggled:function toggled(){return"meta-panel"===_this1098.primaryPanelsDock.value;}},shapePanel:{exec:function exec(){return _this1098.togglePrimaryPanel("shape-panel");},toggled:function toggled(){return"shape-panel"===_this1098.primaryPanelsDock.value;}},arrangementPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("arrangement-panel");},toggled:function toggled(){return"arrangement-panel"===_this1098.primaryPanelsDock.value;}},viewPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("view-panel");},toggled:function toggled(){return"view-panel"===_this1098.primaryPanelsDock.value;}},generatorsPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("generators-panel");},toggled:function toggled(){return"generators-panel"===_this1098.primaryPanelsDock.value;}},exportPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("export-panel");},toggled:function toggled(){return"export-panel"===_this1098.primaryPanelsDock.value;}},libraryPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("library-panel");},toggled:function toggled(){return"library-panel"===_this1098.primaryPanelsDock.value;}},defsPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("defs-panel");},toggled:function toggled(){return"defs-panel"===_this1098.primaryPanelsDock.value;}},objectsPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("objects-panel");},toggled:function toggled(){return"objects-panel"===_this1098.primaryPanelsDock.value;}},historyPanel:{exec:function exec(){return _this1098.togglePrimaryPanel("history-panel");},toggled:function toggled(){return"history-panel"===_this1098.primaryPanelsDock.value;}},elementsPanel:{exec:function exec(){return _this1098.toggleSecondaryPanel("elements-panel");},toggled:function toggled(){return"elements-panel"===_this1098.secondaryPanelsDock.value;}},codePanel:{exec:function exec(){return _this1098.toggleSecondaryPanel("code-panel");},toggled:function toggled(){return"code-panel"===_this1098.secondaryPanelsDock.value;}},animationPanel:{exec:function exec(){return _this1098.toggleSecondaryPanel("animation-panel");},toggled:function toggled(){return"animation-panel"===_this1098.secondaryPanelsDock.value;}}}),_temp55),_this1098.oE=null,_this1098.lE=null,_this1098.aE=!1,_this1098._shadowRoot=_this1098.attachShadow({mode:"closed"}),_this1098._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,yw._shadowStyleSheet],_this1098._shadowRoot.append(document.importNode(yw._shadowTemplate.content,!0));var _iterator1664=_createForOfIteratorHelper(_this1098._shadowRoot.querySelectorAll("[id]")),_step1664;try{for(_iterator1664.s();!(_step1664=_iterator1664.n()).done;){var t=_step1664.value;_this1098["#"+t.id]=t;}}catch(err){_iterator1664.e(err);}finally{_iterator1664.f();}var _loop59=function _loop59(){var t=_arr88[_i1597];vw(_assertThisInitialized(_this1098),hi(t.id),{get:function get(){return t;}});};for(var _i1597=0,_arr88=[].concat(_toConsumableArray(_this1098["#primary-panels-dock"].children),_toConsumableArray(_this1098["#secondary-panels-dock"].children));_i1597<_arr88.length;_i1597++){_loop59();}_this1098.board.undoManager.addEventListener("change",function(t){return _this1098.kD(t);}),_this1098["#tools-dock"].addEventListener("toggle",function(){return _this1098.Xs();}),_this1098["#primary-panels-dock"].addEventListener("toggle",function(){return _this1098.Xs();}),_this1098["#color-grabber"].addEventListener("blur",function(){return _this1098.focus();}),_this1098["#object-grabber"].addEventListener("blur",function(){return _this1098.focus();});return _this1098;}_createClass(yw,[{key:"connectedCallback",value:function(){var _connectedCallback8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee271(){var t,_e1950,_t2602,_iterator1665,_step1665,_e1951,_t2603,_t2604;return regeneratorRuntime.wrap(function _callee271$(_context273){while(1){switch(_context273.prev=_context273.next){case 0:if(!(this.Js=Ri(this,"#app"),this.tabIndex=0,!1===this.aE)){_context273.next=10;break;}if(!(this.aE=!0,this.Xs(),window.argv.includes("--debug"))){_context273.next=9;break;}t=window.argv.filter(function(t){return t.startsWith("--")&&t.endsWith("-panel");}),_e1950=window.argv.find(function(t){return t.startsWith("--")&&t.endsWith("-tool");});if(_e1950){_t2602=_e1950.substring(2);this.toggleTool(_t2602);}if(!(t.length>0)){_context273.next=9;break;}_context273.next=7;return ss(500);case 7:_iterator1665=_createForOfIteratorHelper(t);try{for(_iterator1665.s();!(_step1665=_iterator1665.n()).done;){_e1951=_step1665.value;_t2603=_e1951.substring(2);this.primaryPanelsDock.querySelector("#"+_t2603)?this.togglePrimaryPanel(_t2603):this.secondaryPanelsDock.querySelector("#"+_t2603)&&this.toggleSecondaryPanel(_t2603);}}catch(err){_iterator1665.e(err);}finally{_iterator1665.f();}case 9:if(window.argv.includes("--select")){_t2604=window.argv[window.argv.indexOf("--select")+1];_t2604&&(this.board.selectedElements=_toConsumableArray(this.board.currentWorkspace.querySelectorAll(_t2604)));}case 10:case"end":return _context273.stop();}}},_callee271,this);}));function connectedCallback(){return _connectedCallback8.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.removeEventListener("configchange",this.ln);}},{key:"kD",value:function kD(t){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:t.detail}));}},{key:"Xs",value:function Xs(){var t=this["#tools-dock"].value;t!==this.oE&&(this.lE=this.oE,this.oE=t),this.hE(),this.rE(),"bx-macapp"===this.Js.localName&&this.Js.updateMenubar(!0);}},{key:"hE",value:function hE(){var t=this["#tools-dock"].value;this["#board"].transformSelectContext.enabled="transform-tool"===t,this["#board"].directSelectContext.enabled="edit-tool"===t,this["#board"].panContext.enabled="pan-tool"===t,this["#board"].splineContext.enabled="spline-tool"===t,this["#board"].freehandContext.enabled="freehand-tool"===t,this["#board"].blobContext.enabled="blob-tool"===t,this["#board"].rectContext.enabled="rect-tool"===t,this["#board"].ellipseContext.enabled="ellipse-tool"===t,this["#board"].otherShapeContext.enabled="other-shape-tool"===t,this["#board"].textContext.enabled="text-tool"===t,this["#board"].textPathContext.enabled="text-path-tool"===t,this["#board"].viewContext.enabled="view-tool"===t;}},{key:"rE",value:function rE(){var t=this["#tools-dock"].value,e=this["#primary-panels-dock"].value;this["#board"].viewHud.enabled="view-tool"===t,this["#board"].rubberBandHud.enabled="transform-tool"===t||"edit-tool"===t,this["#board"].transformHud.enabled="transform-tool"===t,this["#board"].textHud.enabled="text-tool"===t,this["#board"].charHud.enabled="edit-tool"===t,this["#board"].blobHud.enabled="blob-tool"===t,this["#board"].splineHud.enabled="edit-tool"===t||("spline-tool"===t?this.Js.getConfig("bx-splinesettings:viewPathNodes",!0):"freehand-tool"===t&&this.Js.getConfig("bx-freehandsettings:viewPathNodes",!0)),"transform-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="transform"):"edit-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit"):"text-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit-text"):this["#board"].outlineHud.enabled=!1,"edit-tool"===t?(this["#board"].rectHud.enabled=!0,this["#board"].circleHud.enabled=!0,this["#board"].ellipseHud.enabled=!0,this["#board"].ringHud.enabled=!0,this["#board"].pieHud.enabled=!0,this["#board"].crescentHud.enabled=!0,this["#board"].triangleHud.enabled=!0,this["#board"].nGonHud.enabled=!0,this["#board"].starHud.enabled=!0,this["#board"].cogHud.enabled=!0,this["#board"].arrowHud.enabled=!0,this["#board"].crossHud.enabled=!0,this["#board"].spiralHud.enabled=!0):(this["#board"].rectHud.enabled=!1,this["#board"].circleHud.enabled=!1,this["#board"].ellipseHud.enabled=!1,this["#board"].ringHud.enabled=!1,this["#board"].pieHud.enabled=!1,this["#board"].crescentHud.enabled=!1,this["#board"].triangleHud.enabled=!1,this["#board"].nGonHud.enabled=!1,this["#board"].starHud.enabled=!1,this["#board"].cogHud.enabled=!1,this["#board"].arrowHud.enabled=!1,this["#board"].crossHud.enabled=!1,this["#board"].spiralHud.enabled=!1),"edit-tool"===t&&"fill-panel"===e?(this["#board"].linearGradientHud.context="fill",this["#board"].radialGradientHud.context="fill",this["#board"].patternHud.context="fill",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):"edit-tool"===t&&"stroke-panel"===e?(this["#board"].linearGradientHud.context="stroke",this["#board"].radialGradientHud.context="stroke",this["#board"].patternHud.context="stroke",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):(this["#board"].linearGradientHud.enabled=!1,this["#board"].radialGradientHud.enabled=!1,this["#board"].patternHud.enabled=!1);}},{key:"toggleTool",value:function toggleTool(t){this["#tools-dock"].value=t,this.Xs();}},{key:"togglePreviousTool",value:function togglePreviousTool(){this.lE&&this.toggleTool(this.lE);}},{key:"nE",value:function nE(){return null!==this.lE;}},{key:"togglePrimaryPanel",value:function togglePrimaryPanel(t){this["#primary-panels-dock"].value===t?this["#primary-panels-dock"].value=null:this["#primary-panels-dock"].value=t,this.Xs();}},{key:"toggleSecondaryPanel",value:function toggleSecondaryPanel(t){this["#secondary-panels-dock"].value===t?this["#secondary-panels-dock"].value=null:this["#secondary-panels-dock"].value=t,this.Xs();}},{key:"oO",value:function oO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";if(this.board.undoManager.checkpoint("Move"),0===this.board.outermostSelectedElements.length){if("view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")){var _i1598=Ut.fromString(this.board.currentWorkspace.getAttribute("viewBox"));"left"===e?_i1598.x-=t:"right"===e?_i1598.x+=t:"up"===e?_i1598.y-=t:"down"===e&&(_i1598.y+=t),this.board.currentWorkspace.setAttribute("viewBox",_i1598.toString());}}else{var _iterator1666=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1666;try{for(_iterator1666.s();!(_step1666=_iterator1666.n()).done;){var _i1599=_step1666.value;if("view"===_i1599.localName){var _s933=Ut.fromString(_i1599.getAttribute("viewBox")||"0 0 0 0");"left"===e?_s933.x-=t:"right"===e?_s933.x+=t:"up"===e?_s933.y-=t:"down"===e&&(_s933.y+=t),_i1599.setAttribute("viewBox",_s933.toString());}else if("bx-guide"===_i1599.localName){var _s934=Fp.fromString(_i1599.getAttribute("x")).value,_n604=Fp.fromString(_i1599.getAttribute("y")).value;"left"===e?_s934-=t:"right"===e?_s934+=t:"up"===e?_n604-=t:"down"===e&&(_n604+=t),_i1599.setAttribute("x",_s934),_i1599.setAttribute("y",_n604),this["#board"].manualGuidesHud.requestImmidiateUpdate();}else{var _s935=Ht(_i1599),_n605=Wt(_i1599,this.board.currentWorkspace),_o541=_n605.inverse(),_l401=new DOMMatrix();"left"===e?_l401.translateSelf(-t,0):"right"===e?_l401.translateSelf(t,0):"up"===e?_l401.translateSelf(0,-t):"down"===e&&_l401.translateSelf(0,t);var _a298=DOMMatrix.fromMatrix(_s935);_a298.multiplySelf(_o541),_a298.multiplySelf(_l401),_a298.multiplySelf(_n605),_i1599.setAttribute("transform",_a298.toString()),va(_i1599,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}}catch(err){_iterator1666.e(err);}finally{_iterator1666.f();}}}},{key:"nO",value:function nO(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"Jz",value:function Jz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";this.board.undoManager.checkpoint("Flip");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=e.map(function(t){return Ei(t);}),s=He(i);var _iterator1667=_createForOfIteratorHelper(e),_step1667;try{for(_iterator1667.s();!(_step1667=_iterator1667.n()).done;){var _i1600=_step1667.value;var _e1952=void 0,_n606=Ht(_i1600),_o542=Yt(_i1600),_l402=_o542.inverse();if("x"===t){var _t2605=2*(s.x+s.width/2);_e1952=new DOMMatrix([-1,0,0,1,_t2605,0]);}else if("y"===t){var _t2606=2*(s.y+s.height/2);_e1952=new DOMMatrix([1,0,0,-1,0,_t2606]);}var _a299=DOMMatrix.fromMatrix(_n606);_a299.multiplySelf(_l402),_a299.multiplySelf(_e1952),_a299.multiplySelf(_o542),_i1600.setAttribute("transform",_a299.toString()),va(_i1600,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1667.e(err);}finally{_iterator1667.f();}}},{key:"Qz",value:function Qz(){return this.board.selectedObjectElements.length>0;}},{key:"eO",value:function eO(){this.board.undoManager.checkpoint("Remove transform");var _iterator1668=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1668;try{for(_iterator1668.s();!(_step1668=_iterator1668.n()).done;){var t=_step1668.value;y.includes(t.localName)&&t.removeAttribute("transform");}}catch(err){_iterator1668.e(err);}finally{_iterator1668.f();}}},{key:"tO",value:function tO(){var _iterator1669=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1669;try{for(_iterator1669.s();!(_step1669=_iterator1669.n()).done;){var t=_step1669.value;if(y.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1669.e(err);}finally{_iterator1669.f();}}},{key:"sO",value:function sO(){this.board.undoManager.checkpoint("Reduce transform");var _iterator1670=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1670;try{for(_iterator1670.s();!(_step1670=_iterator1670.n()).done;){var t=_step1670.value;y.includes(t.localName)&&t.hasAttribute("transform")&&va(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1670.e(err);}finally{_iterator1670.f();}}},{key:"iO",value:function iO(){var _iterator1671=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1671;try{for(_iterator1671.s();!(_step1671=_iterator1671.n()).done;){var t=_step1671.value;if(y.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1671.e(err);}finally{_iterator1671.f();}}},{key:"Kz",value:function Kz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:90;this.board.undoManager.checkpoint("Rotate");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=ie(e);var _iterator1672=_createForOfIteratorHelper(e),_step1672;try{for(_iterator1672.s();!(_step1672=_iterator1672.n()).done;){var _s936=_step1672.value;var _e1953=Ht(_s936),_n607=Yt(_s936),_o543=_n607.inverse(),_l403=DOMMatrix.fromMatrix(_e1953);_l403.multiplySelf(_o543),_l403.translateSelf(i.x,i.y),_l403.rotateSelf(t),_l403.translateSelf(-i.x,-i.y),_l403.multiplySelf(_n607),_s936.setAttribute("transform",_l403.toString()),va(_s936,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1672.e(err);}finally{_iterator1672.f();}}},{key:"Zz",value:function Zz(){return this.board.selectedObjectElements.length>0;}},{key:"Vz",value:function Vz(){this.board.undoManager.checkpoint("Raise");var _iterator1673=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1673;try{for(_iterator1673.s();!(_step1673=_iterator1673.n()).done;){var t=_step1673.value;var _iterator1674=_createForOfIteratorHelper(Yi(t)),_step1674;try{var _loop60=function _loop60(){var e=_step1674.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(w,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1675=_createForOfIteratorHelper(e),_step1675;try{for(_iterator1675.s();!(_step1675=_iterator1675.n()).done;){var _i1601=_step1675.value;if(Wi(t,_i1601))return!0;}}catch(err){_iterator1675.e(err);}finally{_iterator1675.f();}return!1;}).find(function(t){return Li(t)>Li(e[e.length-1]);});if(t){var _iterator1676=_createForOfIteratorHelper(e.reverse()),_step1676;try{for(_iterator1676.s();!(_step1676=_iterator1676.n()).done;){var _i1602=_step1676.value;t.after(_i1602);}}catch(err){_iterator1676.e(err);}finally{_iterator1676.f();}}};for(_iterator1674.s();!(_step1674=_iterator1674.n()).done;){_loop60();}}catch(err){_iterator1674.e(err);}finally{_iterator1674.f();}}}catch(err){_iterator1673.e(err);}finally{_iterator1673.f();}}},{key:"Wz",value:function Wz(){this.board.undoManager.checkpoint("Raise to Front");var _iterator1677=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1677;try{for(_iterator1677.s();!(_step1677=_iterator1677.n()).done;){var t=_step1677.value;var _iterator1678=_createForOfIteratorHelper(Yi(t)),_step1678;try{var _loop61=function _loop61(){var e=_step1678.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(w,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1679=_createForOfIteratorHelper(e),_step1679;try{for(_iterator1679.s();!(_step1679=_iterator1679.n()).done;){var _i1603=_step1679.value;if(Wi(t,_i1603))return!0;}}catch(err){_iterator1679.e(err);}finally{_iterator1679.f();}return!1;}),i=t[t.length-1];if(i){var _iterator1680=_createForOfIteratorHelper(e.reverse()),_step1680;try{for(_iterator1680.s();!(_step1680=_iterator1680.n()).done;){var _t2607=_step1680.value;i.after(_t2607);}}catch(err){_iterator1680.e(err);}finally{_iterator1680.f();}}};for(_iterator1678.s();!(_step1678=_iterator1678.n()).done;){_loop61();}}catch(err){_iterator1678.e(err);}finally{_iterator1678.f();}}}catch(err){_iterator1677.e(err);}finally{_iterator1677.f();}}},{key:"jz",value:function jz(){var t=ji(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1681=_createForOfIteratorHelper(t),_step1681;try{for(_iterator1681.s();!(_step1681=_iterator1681.n()).done;){var _i1604=_step1681.value;var _t2608=Yi(_i1604);var _iterator1682=_createForOfIteratorHelper(_t2608),_step1682;try{var _loop62=function _loop62(){var i=_step1682.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(w,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1683=_createForOfIteratorHelper(i),_step1683;try{for(_iterator1683.s();!(_step1683=_iterator1683.n()).done;){var _s937=_step1683.value;if(_s937.transform&&(_s937[e]||(_s937[e]=Ei(_s937)),t[e]||(t[e]=Ei(t)),qe(_s937[e],t[e])))return!0;}}catch(err){_iterator1683.e(err);}finally{_iterator1683.f();}return!1;}return!1;}).find(function(t){return Li(t)>Li(i[i.length-1]);}))return{v:!0};};for(_iterator1682.s();!(_step1682=_iterator1682.n()).done;){var _ret7=_loop62();if(_typeof(_ret7)==="object")return _ret7.v;}}catch(err){_iterator1682.e(err);}finally{_iterator1682.f();}}}catch(err){_iterator1681.e(err);}finally{_iterator1681.f();}return!1;}},{key:"qz",value:function qz(){this.board.undoManager.checkpoint("Lower");var _iterator1684=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1684;try{for(_iterator1684.s();!(_step1684=_iterator1684.n()).done;){var t=_step1684.value;var _iterator1685=_createForOfIteratorHelper(Yi(t)),_step1685;try{var _loop63=function _loop63(){var e=_step1685.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(w,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1686=_createForOfIteratorHelper(e),_step1686;try{for(_iterator1686.s();!(_step1686=_iterator1686.n()).done;){var _i1605=_step1686.value;if(Wi(t,_i1605))return!0;}}catch(err){_iterator1686.e(err);}finally{_iterator1686.f();}return!1;}).reverse().find(function(t){return Li(t)<Li(e[0]);});if(t){var _iterator1687=_createForOfIteratorHelper(e),_step1687;try{for(_iterator1687.s();!(_step1687=_iterator1687.n()).done;){var _i1606=_step1687.value;t.before(_i1606);}}catch(err){_iterator1687.e(err);}finally{_iterator1687.f();}}};for(_iterator1685.s();!(_step1685=_iterator1685.n()).done;){_loop63();}}catch(err){_iterator1685.e(err);}finally{_iterator1685.f();}}}catch(err){_iterator1684.e(err);}finally{_iterator1684.f();}}},{key:"Xz",value:function Xz(){this.board.undoManager.checkpoint("Lower to Back");var _iterator1688=_createForOfIteratorHelper(ji(this.board.outermostSelectedObjectElements)),_step1688;try{for(_iterator1688.s();!(_step1688=_iterator1688.n()).done;){var t=_step1688.value;var _iterator1689=_createForOfIteratorHelper(Yi(t)),_step1689;try{var _loop64=function _loop64(){var e=_step1689.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(w,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1690=_createForOfIteratorHelper(e),_step1690;try{for(_iterator1690.s();!(_step1690=_iterator1690.n()).done;){var _i1607=_step1690.value;if(Wi(t,_i1607))return!0;}}catch(err){_iterator1690.e(err);}finally{_iterator1690.f();}return!1;})[0];if(t){var _iterator1691=_createForOfIteratorHelper(e),_step1691;try{for(_iterator1691.s();!(_step1691=_iterator1691.n()).done;){var _i1608=_step1691.value;t.before(_i1608);}}catch(err){_iterator1691.e(err);}finally{_iterator1691.f();}}};for(_iterator1689.s();!(_step1689=_iterator1689.n()).done;){_loop64();}}catch(err){_iterator1689.e(err);}finally{_iterator1689.f();}}}catch(err){_iterator1688.e(err);}finally{_iterator1688.f();}}},{key:"Yz",value:function Yz(){var t=ji(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1692=_createForOfIteratorHelper(t),_step1692;try{for(_iterator1692.s();!(_step1692=_iterator1692.n()).done;){var _i1609=_step1692.value;var _t2609=Yi(_i1609);var _iterator1693=_createForOfIteratorHelper(_t2609),_step1693;try{var _loop65=function _loop65(){var i=_step1693.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(w,["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1694=_createForOfIteratorHelper(i),_step1694;try{for(_iterator1694.s();!(_step1694=_iterator1694.n()).done;){var _s938=_step1694.value;if(_s938.transform&&(_s938[e]||(_s938[e]=Ei(_s938)),t[e]||(t[e]=Ei(t)),qe(_s938[e],t[e])))return!0;}}catch(err){_iterator1694.e(err);}finally{_iterator1694.f();}return!1;}return!1;}).find(function(t){return Li(t)<Li(i[0]);}))return{v:!0};};for(_iterator1693.s();!(_step1693=_iterator1693.n()).done;){var _ret8=_loop65();if(_typeof(_ret8)==="object")return _ret8.v;}}catch(err){_iterator1693.e(err);}finally{_iterator1693.f();}}}catch(err){_iterator1692.e(err);}finally{_iterator1692.f();}return!1;}},{key:"vz",value:function vz(){this.board.undoManager.checkpoint("Group");var t=document.createDocumentFragment(),e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=$i("svg:g");e[0].after(i),e=Ni(e);var _iterator1695=_createForOfIteratorHelper(e),_step1695;try{for(_iterator1695.s();!(_step1695=_iterator1695.n()).done;){var _s939=_step1695.value;var _e1954=Wt(_s939,i);_s939.setAttribute("transform",_e1954.toString()),t.append(_s939);}}catch(err){_iterator1695.e(err);}finally{_iterator1695.f();}i.append(t);var _iterator1696=_createForOfIteratorHelper(i.children),_step1696;try{for(_iterator1696.s();!(_step1696=_iterator1696.n()).done;){var _t2610=_step1696.value;va(_t2610,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1696.e(err);}finally{_iterator1696.f();}this.board.selectedElements=[i];}},{key:"wz",value:function wz(){return this.board.selectedObjectElements.length>0;}},{key:"kz",value:function kz(){this.board.undoManager.checkpoint("Ungroup");var t=_toConsumableArray(this.board.outermostSelectedObjectElements),e=[];var _iterator1697=_createForOfIteratorHelper(t),_step1697;try{for(_iterator1697.s();!(_step1697=_iterator1697.n()).done;){var _i1610=_step1697.value;if("g"===_i1610.localName){var _t2611=_i1610,_s940=document.createDocumentFragment();for(var _i1611=0,_arr89=_toConsumableArray(_t2611.children);_i1611<_arr89.length;_i1611++){var _i1612=_arr89[_i1611];if("bx-title"!==_i1612.localName&&"desc"!==_i1612.localName){if(this.board.isSelectableElement(_i1612)){var _s941=Wt(_i1612,_t2611.parentElement);_i1612.setAttribute("transform",_s941.toString()),va(_i1612,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision}),e.push(_i1612);}var _iterator1698=_createForOfIteratorHelper(_t2611.attributes),_step1698;try{for(_iterator1698.s();!(_step1698=_iterator1698.n()).done;){var _step1698$value=_step1698.value,_e1955=_step1698$value.name,_s942=_step1698$value.value;j.includes(_e1955)&&!1===_i1612.hasAttribute(_e1955)&&_i1612.setAttribute(_e1955,_s942);}}catch(err){_iterator1698.e(err);}finally{_iterator1698.f();}var _iterator1699=_createForOfIteratorHelper(_t2611.style),_step1699;try{for(_iterator1699.s();!(_step1699=_iterator1699.n()).done;){var _e1956=_step1699.value;var _s943=_t2611.style.getPropertyValue(_e1956);""===_i1612.style.getPropertyValue(_e1956)&&_i1612.style.setProperty(_e1956,_s943);}}catch(err){_iterator1699.e(err);}finally{_iterator1699.f();}_s940.append(_i1612);}}_t2611.before(_s940),_t2611.remove();}else e.push(_i1610);}}catch(err){_iterator1697.e(err);}finally{_iterator1697.f();}this.board.selectedElements=[].concat(e);}},{key:"yz",value:function yz(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1700=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1700;try{for(_iterator1700.s();!(_step1700=_iterator1700.n()).done;){var t=_step1700.value;if("g"===t.localName)return!0;}}catch(err){_iterator1700.e(err);}finally{_iterator1700.f();}return!1;}},{key:"Cz",value:function Cz(){this.board.undoManager.checkpoint("Clip");var _this$board$outermost=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost[0],e=_this$board$outermost.slice(1),i=V(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=$i("svg:clipPath"),i.id=this.board.generateUniqueID("clip-"),this.board.defs.append(i));var _iterator1701=_createForOfIteratorHelper(e),_step1701;try{for(_iterator1701.s();!(_step1701=_iterator1701.n()).done;){var _s944=_step1701.value;var _e1957=Wt(_s944,t);_s944.setAttribute("transform",_e1957.toString()),i.append(_s944),va(_s944,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1701.e(err);}finally{_iterator1701.f();}t.style.clipPath="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"Sz",value:function Sz(){var _this$board$outermost2=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost2[0],e=_this$board$outermost2.slice(1);if(!t||!P.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1702=_createForOfIteratorHelper(e),_step1702;try{for(_iterator1702.s();!(_step1702=_iterator1702.n()).done;){var _t2612=_step1702.value;if(!1===M.includes(_t2612.localName))return!1;}}catch(err){_iterator1702.e(err);}finally{_iterator1702.f();}return"none"===getComputedStyle(t).clipPath;}},{key:"Mz",value:function Mz(){if(!1===this._z())return;this.board.undoManager.checkpoint("Unclip");var t=[];var _iterator1703=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1703;try{for(_iterator1703.s();!(_step1703=_iterator1703.n()).done;){var _e1958=_step1703.value;var _i1613=V(_e1958),_s945=Ht(_e1958);if(_i1613){var _n608=Ht(_i1613);t.push(_e1958);for(var _i1614=0,_arr90=_toConsumableArray(_i1613.children);_i1614<_arr90.length;_i1614++){var _o544=_arr90[_i1614];if(M.includes(_o544.localName)){var _i1615=_o544,_l404=Ht(_i1615),_a300=new DOMMatrix();_a300=_a300.multiply(_s945),_a300=_a300.multiply(_n608),_a300=_a300.multiply(_l404),_i1615.setAttribute("transform",_a300.toString()),_e1958.after(_i1615),t.push(_i1615),va(_i1615,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1613.remove();}_e1958.style.setProperty("clip-path","none"),Op("clip-path",_e1958);}}catch(err){_iterator1703.e(err);}finally{_iterator1703.f();}this.board.selectedElements=t;}},{key:"_z",value:function _z(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1704=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1704;try{for(_iterator1704.s();!(_step1704=_iterator1704.n()).done;){var t=_step1704.value;if(!1===P.includes(t.localName)||null===V(t))return!1;}}catch(err){_iterator1704.e(err);}finally{_iterator1704.f();}return!0;}},{key:"Dz",value:function Dz(){this.board.undoManager.checkpoint("Mask");var _this$board$outermost3=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost3[0],e=_this$board$outermost3.slice(1),i=H(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=$i("svg:mask"),i.id=this.board.generateUniqueID("mask-"),this.board.defs.append(i));var _iterator1705=_createForOfIteratorHelper(e),_step1705;try{for(_iterator1705.s();!(_step1705=_iterator1705.n()).done;){var _s946=_step1705.value;var _e1959=Wt(_s946,t);_s946.setAttribute("transform",_e1959.toString()),i.append(_s946),va(_s946,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1705.e(err);}finally{_iterator1705.f();}t.style.mask="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"Pz",value:function Pz(){var _this$board$outermost4=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost4[0],e=_this$board$outermost4.slice(1);if(!t||!z.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1706=_createForOfIteratorHelper(e),_step1706;try{for(_iterator1706.s();!(_step1706=_iterator1706.n()).done;){var _t2613=_step1706.value;if(!1===D.includes(_t2613.localName))return!1;}}catch(err){_iterator1706.e(err);}finally{_iterator1706.f();}return"none"===getComputedStyle(t).mask;}},{key:"Oz",value:function Oz(){if(!1===this.zz())return;this.board.undoManager.checkpoint("Unmask");var t=[];var _iterator1707=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1707;try{for(_iterator1707.s();!(_step1707=_iterator1707.n()).done;){var _e1960=_step1707.value;var _i1616=H(_e1960),_s947=Ht(_e1960);if(_i1616){t.push(_e1960);for(var _i1617=0,_arr91=_toConsumableArray(_i1616.children);_i1617<_arr91.length;_i1617++){var _n609=_arr91[_i1617];if(D.includes(_n609.localName)){var _i1618=_n609,_o545=Ht(_i1618),_l405=new DOMMatrix();_l405=_l405.multiply(_s947),_l405=_l405.multiply(_o545),_i1618.setAttribute("transform",_l405.toString()),_e1960.after(_i1618),t.push(_i1618),va(_i1618,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1616.remove();}_e1960.style.setProperty("mask","none"),Op("mask",_e1960);}}catch(err){_iterator1707.e(err);}finally{_iterator1707.f();}this.board.selectedElements=t;}},{key:"zz",value:function zz(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1708=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1708;try{for(_iterator1708.s();!(_step1708=_iterator1708.n()).done;){var t=_step1708.value;if(!1===z.includes(t.localName)||null===H(t))return!1;}}catch(err){_iterator1708.e(err);}finally{_iterator1708.f();}return!0;}},{key:"Tz",value:function Tz(){var _this1099=this;var t=is(function(){return _this1099.board.undoManager.checkpoint("Increase opacity");});var _iterator1709=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1709;try{for(_iterator1709.s();!(_step1709=_iterator1709.n()).done;){var _e1961=_step1709.value;var _i1619=_e1961.computedStyleMap().get("opacity").value;_i1619<1&&(t(),_i1619=tt(_i1619+.1,0,1,2),_e1961.attributeStyleMap.set("opacity",CSS.number(_i1619)));}}catch(err){_iterator1709.e(err);}finally{_iterator1709.f();}}},{key:"Ez",value:function Ez(){var _iterator1710=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1710;try{for(_iterator1710.s();!(_step1710=_iterator1710.n()).done;){var t=_step1710.value;if(t.computedStyleMap().get("opacity").value<1)return!0;}}catch(err){_iterator1710.e(err);}finally{_iterator1710.f();}return!1;}},{key:"$z",value:function $z(){var _this1100=this;var t=is(function(){return _this1100.board.undoManager.checkpoint("Decrease opacity");});var _iterator1711=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1711;try{for(_iterator1711.s();!(_step1711=_iterator1711.n()).done;){var _e1962=_step1711.value;var _i1620=_e1962.computedStyleMap().get("opacity").value;_i1620>0&&(t(),_i1620=tt(_i1620-.1,0,1,2),_e1962.attributeStyleMap.set("opacity",CSS.number(_i1620)));}}catch(err){_iterator1711.e(err);}finally{_iterator1711.f();}}},{key:"Az",value:function Az(){var _iterator1712=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1712;try{for(_iterator1712.s();!(_step1712=_iterator1712.n()).done;){var t=_step1712.value;if(t.computedStyleMap().get("opacity").value>0)return!0;}}catch(err){_iterator1712.e(err);}finally{_iterator1712.f();}return!1;}},{key:"Lz",value:function Lz(){var _this1101=this;var t=is(function(){return _this1101.board.undoManager.checkpoint("Increase fill opacity");});var _iterator1713=_createForOfIteratorHelper(this.gb()),_step1713;try{for(_iterator1713.s();!(_step1713=_iterator1713.n()).done;){var _e1963=_step1713.value;var _i1621=_e1963.computedStyleMap().get("fill-opacity").value;_i1621<1&&(t(),_i1621=tt(_i1621+.1,0,1,2),_e1963.attributeStyleMap.set("fill-opacity",CSS.number(_i1621)));}}catch(err){_iterator1713.e(err);}finally{_iterator1713.f();}}},{key:"Iz",value:function Iz(){return this.gb().length>0;}},{key:"Rz",value:function Rz(){var _this1102=this;var t=is(function(){return _this1102.board.undoManager.checkpoint("Decrease fill opacity");});var _iterator1714=_createForOfIteratorHelper(this.gb()),_step1714;try{for(_iterator1714.s();!(_step1714=_iterator1714.n()).done;){var _e1964=_step1714.value;var _i1622=_e1964.computedStyleMap().get("fill-opacity").value;_i1622>0&&(t(),_i1622=tt(_i1622-.1,0,1,2),_e1964.attributeStyleMap.set("fill-opacity",CSS.number(_i1622)));}}catch(err){_iterator1714.e(err);}finally{_iterator1714.f();}}},{key:"Bz",value:function Bz(){return this.gb().length>0;}},{key:"Uz",value:function Uz(){var _this1103=this;var t=is(function(){return _this1103.board.undoManager.checkpoint("Increase stroke opacity");});var _iterator1715=_createForOfIteratorHelper(this.gb()),_step1715;try{for(_iterator1715.s();!(_step1715=_iterator1715.n()).done;){var _e1965=_step1715.value;var _i1623=_e1965.computedStyleMap().get("stroke-opacity").value;_i1623<1&&(t(),_i1623=tt(_i1623+.1,0,1,2),_e1965.attributeStyleMap.set("stroke-opacity",CSS.number(_i1623)));}}catch(err){_iterator1715.e(err);}finally{_iterator1715.f();}}},{key:"Gz",value:function Gz(){return this.gb().length>0;}},{key:"Nz",value:function Nz(){var _this1104=this;var t=is(function(){return _this1104.board.undoManager.checkpoint("Decrease stroke opacity");});var _iterator1716=_createForOfIteratorHelper(this.gb()),_step1716;try{for(_iterator1716.s();!(_step1716=_iterator1716.n()).done;){var _e1966=_step1716.value;var _i1624=_e1966.computedStyleMap().get("stroke-opacity").value;_i1624>0&&(t(),_i1624=tt(_i1624-.1,0,1,2),_e1966.attributeStyleMap.set("stroke-opacity",CSS.number(_i1624)));}}catch(err){_iterator1716.e(err);}finally{_iterator1716.f();}}},{key:"Fz",value:function Fz(){return this.gb().length>0;}},{key:"Dd",value:function Dd(){this.Js.textInputMode?document.execCommand("selectAll"):this.board.selectAll();}},{key:"Gd",value:function Gd(){this.board.deselectAll();}},{key:"dz",value:function dz(){this.Js.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("undo"):this.board.undoManager.undo();}},{key:"rz",value:function rz(){return!(!this.Js.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canUndo()&&!1===this.Js.isPointerDown;}},{key:"pz",value:function pz(){this.Js.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("redo"):this.board.undoManager.redo();}},{key:"cz",value:function cz(){return!(!this.Js.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canRedo()&&!1===this.Js.isPointerDown;}},{key:"az",value:function(){var _az=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee272(){var t,_e1967,_e1968,_i1625,_t2614,_e1969,_i1626;return regeneratorRuntime.wrap(function _callee272$(_context274){while(1){switch(_context274.prev=_context274.next){case 0:_context274.next=2;return this.Js.openImageImportDialog();case 2:t=_context274.sent;if(!t){_context274.next=29;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context274.next=9;break;}_e1967=Zh(t.data);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_e1967,"boardCenter");_context274.next=29;break;case 9:if(!("pdf"===t.extension||"ai"===t.extension)){_context274.next=23;break;}_e1968=null,_i1625=null;_context274.prev=11;_context274.next=14;return Bm(t.data);case 14:_e1968=_context274.sent;_context274.next=20;break;case 17:_context274.prev=17;_context274.t0=_context274["catch"](11);_i1625=_context274.t0;case 20:if(_i1625)this.Js.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_i1625.message});else{_t2614=Zh(_e1968);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_t2614,"boardCenter");}_context274.next=29;break;case 23:if(!["png","jpeg","jpg","gif","webp","avif"].includes(t.extension)){_context274.next=29;break;}_context274.next=26;return Kp(t.data);case 26:_e1969=_context274.sent;_i1626=Zh(_e1969);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_i1626,"boardCenter");case 29:case"end":return _context274.stop();}}},_callee272,this,[[11,17]]);}));function az(){return _az.apply(this,arguments);}return az;}()},{key:"hz",value:function(){var _hz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee273(){return regeneratorRuntime.wrap(function _callee273$(_context275){while(1){switch(_context275.prev=_context275.next){case 0:_context275.t0="export-panel"===this.primaryPanelsDock.value;if(!_context275.t0){_context275.next=5;break;}this.togglePrimaryPanel(null);_context275.next=5;return ss(400);case 5:this.togglePrimaryPanel("export-panel");case 6:case"end":return _context275.stop();}}},_callee273,this);}));function hz(){return _hz.apply(this,arguments);}return hz;}()},{key:"uz",value:function uz(){if(this.Js.textInputMode)document.execCommand("copy");else{this.board.collectGarbage();var t=this.board.extractArtworkWithSelectedElements(),_e1970=this.Js.getConfig("bx-markupsettings:indentation",2),_i1627=Hp(t,"html",_e1970),_s948={"text/plain":_i1627,"text/html":_i1627,"image/svg+xml":Hp(t,"xml",_e1970)};this.Js.setClipboardData(_s948);}}},{key:"bz",value:function(){var _bz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee274(){var t,_e1971,_i1628,_i1629,_i1630,_t2615,_i1631,_i1632;return regeneratorRuntime.wrap(function _callee274$(_context276){while(1){switch(_context276.prev=_context276.next){case 0:if(!this.Js.textInputMode){_context276.next=4;break;}document.execCommand("paste");_context276.next=36;break;case 4:_context276.next=6;return this.Js.getClipboardData();case 6:t=_context276.sent;if(!t){_context276.next=36;break;}_e1971=this.board.matches(":hover")?"pointer":"boardCenter";if(!(t["text/html"]&&Xp(t["text/html"]))){_context276.next=15;break;}this.board.undoManager.checkpoint("Paste");_i1628=Zh(t["text/html"]);this.board.insertArtwork(_i1628,_e1971);_context276.next=36;break;case 15:if(!(t["text/plain"]&&Xp(t["text/plain"]))){_context276.next=21;break;}this.board.undoManager.checkpoint("Paste");_i1629=Zh(t["text/plain"]);this.board.insertArtwork(_i1629,_e1971);_context276.next=36;break;case 21:if(!t["application/pdf"]){_context276.next=35;break;}_i1630=null;_context276.prev=23;_context276.next=26;return Bm(t["application/pdf"]);case 26:_i1630=_context276.sent;_context276.next=32;break;case 29:_context276.prev=29;_context276.t0=_context276["catch"](23);_i1630=null;case 32:if(_i1630){this.board.undoManager.checkpoint("Paste");_t2615=Zh(_i1630);this.board.insertArtwork(_t2615,_e1971);}_context276.next=36;break;case 35:if(t["image/png"]){this.board.undoManager.checkpoint("Paste");_i1631=t["image/png"];this.board.insertBitmap(_i1631,_e1971);}else if(t["text/plain"]){this.board.undoManager.checkpoint("Paste");_i1632=Zh("<svg><text style=\"font-size: 36; font-family: Roboto; white-space: pre;\">".concat(t["text/plain"],"</text></svg>\n          "));this.board.insertArtwork(_i1632,_e1971);}case 36:case"end":return _context276.stop();}}},_callee274,this,[[23,29]]);}));function bz(){return _bz.apply(this,arguments);}return bz;}()},{key:"xz",value:function xz(){if(this.Js.textInputMode)document.execCommand("cut");else{this.board.undoManager.checkpoint("Cut"),this.uz();var t=Ni(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1717=_createForOfIteratorHelper(t),_step1717;try{for(_iterator1717.s();!(_step1717=_iterator1717.n()).done;){var _e1972=_step1717.value;_e1972.remove();}}catch(err){_iterator1717.e(err);}finally{_iterator1717.f();}}}},{key:"fz",value:function fz(){if(this.board.undoManager.checkpoint("Delete"),0===this.board.outermostSelectedElements.length)"view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")&&this.board.currentWorkspace.removeAttribute("viewBox");else{var t=Ni(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1718=_createForOfIteratorHelper(t),_step1718;try{for(_iterator1718.s();!(_step1718=_iterator1718.n()).done;){var _e1973=_step1718.value;_e1973.remove();}}catch(err){_iterator1718.e(err);}finally{_iterator1718.f();}}}},{key:"gz",value:function gz(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"mz",value:function mz(){this.board.undoManager.checkpoint("Duplicate"),this.board.collectGarbage(),this.board.insertArtwork(this.board.extractArtworkWithSelectedElements(),"original"),this.board.transformHud.blink();}},{key:"aO",value:function(){var _aO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee275(){var t,_e1974,_i1633,_s949,_iterator1719,_step1719,_t2616,_e1975,_n610,_o546,_l406,_iterator1720,_step1720,_t2618,_iterator1721,_step1721,_t2619,_e1976,_i1635,_s950,_i1634,_l407,_t2617,_iterator1722,_step1722,_t2620;return regeneratorRuntime.wrap(function _callee275$(_context277){while(1){switch(_context277.prev=_context277.next){case 0:if(!(!1===this.colorGrabber.grabbing)){_context277.next=9;break;}t=this.board;_e1974=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops));t.selectedTextRange;_context277.next=6;return this.colorGrabber.grab();case 6:_i1633=_context277.sent;_s949=this.Js.modKeys.shift?"stroke":"fill";if(null!==_i1633)if(_e1974.length>0){this.board.undoManager.checkpoint("Paint color");_iterator1719=_createForOfIteratorHelper(_e1974);try{for(_iterator1719.s();!(_step1719=_iterator1719.n()).done;){_t2616=_step1719.value;_t2616.style.stopColor=_i1633,Op("stop-color",_t2616);}}catch(err){_iterator1719.e(err);}finally{_iterator1719.f();}}else{_e1975=this.gb();if(_e1975.length>0){this.board.undoManager.checkpoint("Paint color");_n610=_e1975.filter(function(t){return"text"===t.localName;}),_o546=t.selectedTextRange,_l406=[];_iterator1720=_createForOfIteratorHelper(_n610);try{for(_iterator1720.s();!(_step1720=_iterator1720.n()).done;){_t2618=_step1720.value;bi(_t2618,_o546);}}catch(err){_iterator1720.e(err);}finally{_iterator1720.f();}_iterator1721=_createForOfIteratorHelper(_e1975);try{for(_iterator1721.s();!(_step1721=_iterator1721.n()).done;){_t2619=_step1721.value;if("text"===_t2619.localName&&_t2619.querySelector("tspan")){_e1976=_t2619.querySelectorAll("tspan"),_i1635=gi(_o546,_t2619),_s950=_i1635.length>0&&!_o546.collapsed?_i1635:_e1976;_l406.push.apply(_l406,_toConsumableArray(_s950));}else _l406.push(_t2619);}}catch(err){_iterator1721.e(err);}finally{_iterator1721.f();}for(_i1634=0,_l407=_l406;_i1634<_l407.length;_i1634++){_t2617=_l407[_i1634];_t2617.style[_s949]=_i1633,Op(_s949,_t2617);}_iterator1722=_createForOfIteratorHelper(_n610);try{for(_iterator1722.s();!(_step1722=_iterator1722.n()).done;){_t2620=_step1722.value;mi(_t2620,_o546);}}catch(err){_iterator1722.e(err);}finally{_iterator1722.f();}}}case 9:case"end":return _context277.stop();}}},_callee275,this);}));function aO(){return _aO.apply(this,arguments);}return aO;}()},{key:"lO",value:function lO(){return this.gb().length>0;}},{key:"uO",value:function uO(){var _this1105=this;return new Promise(/*#__PURE__*/function(){var _ref242=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee276(t){var _t2621,_e1977,_i1636,_iterator1723,_step1723,_s951,_n611,_n612,_n613,_n614,_n615,_n616,_e1978,_e1979,_n617,_e1980;return regeneratorRuntime.wrap(function _callee276$(_context278){while(1){switch(_context278.prev=_context278.next){case 0:if(!_this1105.pO()){_context278.next=96;break;}_t2621=[],_e1977=_this1105.board.geometryPrecision,_i1636=is(function(){return _this1105.board.undoManager.checkpoint("Convert to path");});_iterator1723=_createForOfIteratorHelper(_this1105.board.selectedElements);_context278.prev=3;_iterator1723.s();case 5:if((_step1723=_iterator1723.n()).done){_context278.next=87;break;}_s951=_step1723.value;if(!("rect"===_s951.localName)){_context278.next=12;break;}_n611=Vh(_s951,_e1977);_i1636(),_s951.replaceWith(_n611),_t2621.push(_n611);_context278.next=85;break;case 12:if(!("circle"===_s951.localName)){_context278.next=17;break;}_n612=Hh(_s951,_e1977);_i1636(),_s951.replaceWith(_n612),_t2621.push(_n612);_context278.next=85;break;case 17:if(!("ellipse"===_s951.localName)){_context278.next=22;break;}_n613=Wh(_s951,_e1977);_i1636(),_s951.replaceWith(_n613),_t2621.push(_n613);_context278.next=85;break;case 22:if(!("line"===_s951.localName)){_context278.next=27;break;}_n614=Yh(_s951,_e1977);_i1636(),_s951.replaceWith(_n614),_t2621.push(_n614);_context278.next=85;break;case 27:if(!("polyline"===_s951.localName)){_context278.next=32;break;}_n615=qh(_s951,_e1977);_i1636(),_s951.replaceWith(_n615),_t2621.push(_n615);_context278.next=85;break;case 32:if(!("polygon"===_s951.localName)){_context278.next=37;break;}_n616=Xh(_s951,_e1977);_i1636(),_s951.replaceWith(_n616),_t2621.push(_n616);_context278.next=85;break;case 37:if(!("path"===_s951.localName)){_context278.next=41;break;}_s951.hasAttribute("data-bx-shape")?(_i1636(),_s951.removeAttribute("data-bx-shape")):_s951.hasAttribute("data-bx-spline")&&(_i1636(),_s951.removeAttribute("data-bx-spline")),_t2621.push(_s951);_context278.next=85;break;case 41:if(!("text"===_s951.localName)){_context278.next=84;break;}_context278.next=44;return _this1105.board.defsFontsManager.canReplaceTextWithPaths(_s951);case 44:_e1978=_context278.sent;if(!_e1978){_context278.next=53;break;}_i1636();_context278.next=49;return _this1105.board.defsFontsManager.replaceTextWithPaths(_s951,_this1105.board.geometryPrecision,_this1105.board.transformPrecision);case 49:_e1979=_context278.sent;_t2621=[].concat(_toConsumableArray(_t2621),_toConsumableArray(_e1979));_context278.next=82;break;case 53:_n617=void 0;_context278.prev=54;_context278.next=57;return Zx.canReplaceTextWithPaths(_s951);case 57:_e1978=_context278.sent;_context278.next=63;break;case 60:_context278.prev=60;_context278.t0=_context278["catch"](54);_n617=_context278.t0;case 63:if(!_e1978){_context278.next=71;break;}_i1636();_context278.next=67;return Zx.replaceTextWithPaths(_s951,_this1105.board.geometryPrecision,_this1105.board.transformPrecision);case 67:_e1980=_context278.sent;_t2621=[].concat(_toConsumableArray(_t2621),_toConsumableArray(_e1980));_context278.next=82;break;case 71:if(!_n617){_context278.next=78;break;}_context278.next=74;return ss(200);case 74:"NotAllowedError"===_n617.name?_this1105.Js.openMessageDialog({message:"Can't access local fonts",detail:"To perform this operation you must first give Boxy SVG permission to acccess your local fonts.",buttons:["Close"]}):"NoLocalFontAccessAPI"===_n617.name?_this1105.Js.openMessageDialog({message:"Can't convert selected text to path",detail:'Please enable <a href="https://boxy-svg.com/blog/15" target="_blank">Local Font Access API</a>.',buttons:["Close"]}):_this1105.Js.openMessageDialog({message:"Can't convert selected text to path",detail:"".concat(_n617.message," (error.name)"),buttons:["Close"]});_t2621.push(_s951);_context278.next=82;break;case 78:_context278.next=80;return ss(200);case 80:_this1105.Js.openMessageDialog({message:"Can't convert selected text to path",detail:"The font used by this text was not found in the defs or on the local machine.",buttons:["Close"]});_t2621.push(_s951);case 82:_context278.next=85;break;case 84:_t2621.push(_s951);case 85:_context278.next=5;break;case 87:_context278.next=92;break;case 89:_context278.prev=89;_context278.t1=_context278["catch"](3);_iterator1723.e(_context278.t1);case 92:_context278.prev=92;_iterator1723.f();return _context278.finish(92);case 95:_this1105.board.selectedTextRange=null,_this1105.board.selectedElements=_t2621;case 96:t();case 97:case"end":return _context278.stop();}}},_callee276,null,[[3,89,92,95],[54,60]]);}));return function(_x371){return _ref242.apply(this,arguments);};}());}},{key:"pO",value:function pO(){var t=!1;var _iterator1724=_createForOfIteratorHelper(this.board.selectedElements),_step1724;try{for(_iterator1724.s();!(_step1724=_iterator1724.n()).done;){var _e1981=_step1724.value;if("rect"===_e1981.localName||"circle"===_e1981.localName||"ellipse"===_e1981.localName||"line"===_e1981.localName||"polyline"===_e1981.localName||"polygon"===_e1981.localName||"text"===_e1981.localName)t=!0;else if("path"===_e1981.localName)if(_e1981.hasAttribute("data-bx-shape"))t=!0;else{if(!_e1981.hasAttribute("data-bx-spline")){t=!1;break;}t=!0;}}}catch(err){_iterator1724.e(err);}finally{_iterator1724.f();}return t;}},{key:"bO",value:function bO(){if(!1!==this.xO()){this.board.undoManager.checkpoint("Stroke to path");var _iterator1725=_createForOfIteratorHelper(this.board.selectedElements),_step1725;try{for(_iterator1725.s();!(_step1725=_iterator1725.n()).done;){var t=_step1725.value;if(g.includes(t.localName)){var _e1982=parseFloat(getComputedStyle(t).strokeWidth);if(_e1982>0){var _i1637=t.getPathData(),_s952=this.board.geometryPrecision,_n618=mt(_i1637,_e1982,_s952),_o547=getComputedStyle(t).stroke,_l408=$i("svg:path");_l408.setPathData(_n618),t.after(_l408),_l408.style.setProperty("fill",_o547),_l408.style.setProperty("stroke","none"),Op("fill",_l408),Op("stroke",_l408),t.hasAttribute("transform")&&_l408.setAttribute("transform",t.getAttribute("transform")),t.style.setProperty("stroke","none"),Op("stroke",t);}}}}catch(err){_iterator1725.e(err);}finally{_iterator1725.f();}}}},{key:"xO",value:function xO(){var _iterator1726=_createForOfIteratorHelper(this.board.selectedElements),_step1726;try{for(_iterator1726.s();!(_step1726=_iterator1726.n()).done;){var t=_step1726.value;if(g.includes(t.localName)){if(parseFloat(getComputedStyle(t).strokeWidth)>0)return!0;}}}catch(err){_iterator1726.e(err);}finally{_iterator1726.f();}return!1;}},{key:"SO",value:function SO(){if(!1!==this.kO()){this.board.undoManager.checkpoint("Open path");var _iterator1727=_createForOfIteratorHelper(this.board.selectedElements),_step1727;try{for(_iterator1727.s();!(_step1727=_iterator1727.n()).done;){var t=_step1727.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&pt(t);}}catch(err){_iterator1727.e(err);}finally{_iterator1727.f();}}}},{key:"kO",value:function kO(){var _iterator1728=_createForOfIteratorHelper(this.board.selectedElements),_step1728;try{for(_iterator1728.s();!(_step1728=_iterator1728.n()).done;){var t=_step1728.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&xt(t))return!0;}}catch(err){_iterator1728.e(err);}finally{_iterator1728.f();}return!1;}},{key:"_O",value:function _O(){if(!1!==this.CO()){this.board.undoManager.checkpoint("Close path");var _iterator1729=_createForOfIteratorHelper(this.board.selectedElements),_step1729;try{for(_iterator1729.s();!(_step1729=_iterator1729.n()).done;){var t=_step1729.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ut(t);}}catch(err){_iterator1729.e(err);}finally{_iterator1729.f();}}}},{key:"CO",value:function CO(){var _iterator1730=_createForOfIteratorHelper(this.board.selectedElements),_step1730;try{for(_iterator1730.s();!(_step1730=_iterator1730.n()).done;){var t=_step1730.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&bt(t))return!0;}}catch(err){_iterator1730.e(err);}finally{_iterator1730.f();}return!1;}},{key:"PO",value:function PO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!1!==this.MO()){this.board.undoManager.checkpoint("Inset path");var _iterator1731=_createForOfIteratorHelper(this.board.selectedElements),_step1731;try{for(_iterator1731.s();!(_step1731=_iterator1731.n()).done;){var _e1983=_step1731.value;if("path"===_e1983.localName&&!1===_e1983.hasAttribute("data-bx-shape")&&!1===_e1983.hasAttribute("data-bx-spline")){var _i1638=_e1983.getPathData(),_s953=gt(_i1638,t,1,this.board.geometryPrecision);_e1983.setPathData(_s953);}}}catch(err){_iterator1731.e(err);}finally{_iterator1731.f();}}}},{key:"MO",value:function MO(){var _iterator1732=_createForOfIteratorHelper(this.board.selectedElements),_step1732;try{for(_iterator1732.s();!(_step1732=_iterator1732.n()).done;){var t=_step1732.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline"))return!0;}}catch(err){_iterator1732.e(err);}finally{_iterator1732.f();}return!1;}},{key:"zO",value:function zO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.5;if(!1!==this.DO()){this.board.undoManager.checkpoint("Simplify path");var _iterator1733=_createForOfIteratorHelper(this.board.selectedElements),_step1733;try{for(_iterator1733.s();!(_step1733=_iterator1733.n()).done;){var _e1984=_step1733.value;if("path"===_e1984.localName&&!1===_e1984.hasAttribute("data-bx-shape")&&!1===_e1984.hasAttribute("data-bx-spline")){var _i1639=_e1984.getPathData(),_s954=ft(_i1639,t,this.board.geometryPrecision);_e1984.setPathData(_s954);}}}catch(err){_iterator1733.e(err);}finally{_iterator1733.f();}}}},{key:"DO",value:function DO(){var _iterator1734=_createForOfIteratorHelper(this.board.selectedElements),_step1734;try{for(_iterator1734.s();!(_step1734=_iterator1734.n()).done;){var t=_step1734.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline"))return!0;}}catch(err){_iterator1734.e(err);}finally{_iterator1734.f();}return!1;}},{key:"EO",value:function EO(){if(!1!==this.OO()){this.board.undoManager.checkpoint("Complexify path");var _iterator1735=_createForOfIteratorHelper(this.board.selectedElements),_step1735;try{for(_iterator1735.s();!(_step1735=_iterator1735.n()).done;){var t=_step1735.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline")){var _e1985=t.getPathData(),_i1640=wt(_e1985,this.board.geometryPrecision);t.setPathData(_i1640);}}}catch(err){_iterator1735.e(err);}finally{_iterator1735.f();}}}},{key:"OO",value:function OO(){var _iterator1736=_createForOfIteratorHelper(this.board.selectedElements),_step1736;try{for(_iterator1736.s();!(_step1736=_iterator1736.n()).done;){var t=_step1736.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline"))return!0;}}catch(err){_iterator1736.e(err);}finally{_iterator1736.f();}return!1;}},{key:"AO",value:function AO(){var _this1106=this;if(!1===this.TO())return;this.board.undoManager.checkpoint("Join nodes");var t=null,e=null,i=null,s=[],n=[],o=[];{var _l409=[];if(this.board.splineHud.selectedNodes[0].spline===this.board.splineHud.selectedNodes[1].spline){t=this.board.splineHud.selectedNodes[0].spline,_l409=at(t.getPathData({normalize:!0}));var _iterator1737=_createForOfIteratorHelper(this.board.splineHud.selectedNodes),_step1737;try{for(_iterator1737.s();!(_step1737=_iterator1737.n()).done;){var _t2622=_step1737.value;_l409[_t2622.index].selected=!0;}}catch(err){_iterator1737.e(err);}finally{_iterator1737.f();}}else{var _this$board$splineHud=this.board.splineHud.selectedNodes[0],_e1986=_this$board$splineHud.spline,_i1641=_this$board$splineHud.index,_this$board$splineHud2=this.board.splineHud.selectedNodes[1],_s955=_this$board$splineHud2.spline,_n619=_this$board$splineHud2.index,_o548=Wt(_s955,_e1986),_a301=at(_e1986.getPathData({normalize:!0})),_h233=at(_s955.getPathData({normalize:!0}));_h233=oe(_h233,_o548,this.board.geometryPrecision);for(var _t2623=0;_t2623<_a301.length;_t2623+=1){_a301[_t2623].selected=_t2623===_i1641;}for(var _t2624=0;_t2624<_h233.length;_t2624+=1){_h233[_t2624].selected=_t2624===_n619;}t=_e1986,_l409=[].concat(_toConsumableArray(_a301),_toConsumableArray(_h233)),_s955.remove();}var _iterator1738=_createForOfIteratorHelper(rt(_l409)),_step1738;try{for(_iterator1738.s();!(_step1738=_iterator1738.n()).done;){var _t2625=_step1738.value;var _l410=_t2625.filter(function(t){return t.selected;});2===_l410.length?(e=_t2625,n=_l410):1===_l410.length?null===e?(e=_t2625,n=_l410):(i=_t2625,o=_l410):0===_l410.length&&s.push.apply(s,_toConsumableArray(_t2625));}}catch(err){_iterator1738.e(err);}finally{_iterator1738.f();}}if(2===n.length){var _i1642=e[0],_n620=e[1],_o549=e[e.length-1],_l411=new DOMPoint(_i1642.values[0],_i1642.values[1]),_a302="C"===_o549.type?new DOMPoint(_o549.values[4],_o549.values[5]):new DOMPoint(_o549.values[0],_o549.values[1]),_h234=Te(_l411,_a302);{var _t2626=new Q(_h234.x-_i1642.values[0],_h234.y-_i1642.values[1]);_i1642.values[0]+=_t2626.x,_i1642.values[1]+=_t2626.y,"C"===_n620.type&&e.length>2&&(_n620.values[0]+=_t2626.x,_n620.values[1]+=_t2626.y);}if("C"===_o549.type){var _t2627=new Q(_h234.x-_o549.values[4],_h234.y-_o549.values[5]);_o549.values[4]+=_t2627.x,_o549.values[5]+=_t2627.y,e.length>2&&(_o549.values[2]+=_t2627.x,_o549.values[3]+=_t2627.y);}else if("L"===_o549.type){var _t2628=new Q(_h234.x-_o549.values[0],_h234.y-_o549.values[1]);_o549.values[0]+=_t2628.x,_o549.values[1]+=_t2628.y;}var _r155=[].concat(_toConsumableArray(e),[{type:"Z",values:[]}],s);_r155.forEach(function(t){return t.values=t.values.map(function(t){return J(t,_this1106.board.geometryPrecision);});}),t.setPathData(_r155),this.board.selectedElements=[t],this.board.splineHud.selectedNodes=[{spline:t,index:e.length-1}];}else if(n[0]===e[e.length-1]){o[0]===i[i.length-1]&&(i=ct(i));var _n621=e[e.length-1],_l412=i[0];if("C"===_n621.type){var _t2629=new DOMPoint(_n621.values[4],_n621.values[5]),_e1987=new DOMPoint(_l412.values[0],_l412.values[1]),_i1643=Te(_t2629,_e1987);_n621.values[4]=_i1643.x,_n621.values[5]=_i1643.y;}else{var _t2630=new DOMPoint(_n621.values[0],_n621.values[1]),_e1988=new DOMPoint(_l412.values[0],_l412.values[1]),_i1644=Te(_t2630,_e1988);_n621.values[0]=_i1644.x,_n621.values[1]=_i1644.y;}i.shift();var _a303=[].concat(_toConsumableArray(e),_toConsumableArray(i),s);_a303.forEach(function(t){return t.values=t.values.map(function(t){return J(t,_this1106.board.geometryPrecision);});}),t.setPathData(_a303),this.board.selectedElements=[t],this.board.splineHud.selectedNodes=[{spline:t,index:e.length-1}];}else if(n[0]===e[0]){o[0]===i[0]&&(i=ct(i));var _n622=e[0],_l413=i[i.length-1];if("C"===_l413.type){var _t2631=new DOMPoint(_n622.values[0],_n622.values[1]),_e1989=new DOMPoint(_l413.values[4],_l413.values[5]),_i1645=Te(_t2631,_e1989);_l413.values[4]=_i1645.x,_l413.values[5]=_i1645.y;}else{var _t2632=new DOMPoint(_n622.values[0],_n622.values[1]),_e1990=new DOMPoint(_l413.values[0],_l413.values[1]),_i1646=Te(_t2632,_e1990);_l413.values[0]=_i1646.x,_l413.values[1]=_i1646.y;}e.shift();var _a304=[].concat(_toConsumableArray(i),_toConsumableArray(e),s);_a304.forEach(function(t){return t.values=t.values.map(function(t){return J(t,_this1106.board.geometryPrecision);});}),t.setPathData(_a304),this.board.selectedElements=[t],this.board.splineHud.selectedNodes=[{spline:t,index:i.length-1}];}}},{key:"TO",value:function TO(){if(2!==this.board.splineHud.selectedNodes.length)return!1;{var _this$board$splineHud3=_slicedToArray(this.board.splineHud.selectedNodes,2),t=_this$board$splineHud3[0],_e1991=_this$board$splineHud3[1];if("path"!==t.spline.localName||"path"!==_e1991.spline.localName)return!1;for(var _i1647=0,_arr92=[t,_e1991];_i1647<_arr92.length;_i1647++){var _i1648=_arr92[_i1647];var _t2633=at(_i1648.spline.getPathData({normalize:!0}));for(var _e1992=_i1648.index+1;_e1992<_t2633.length;_e1992+=1){if("Z"===_t2633[_e1992].type)return!1;if("M"===_t2633[_e1992].type)break;}{var _e1993=!!_t2633[_i1648.index]&&"M"===_t2633[_i1648.index].type,_s956=!_t2633[_i1648.index+1]||"M"===_t2633[_i1648.index+1].type;if(!1===_e1993&&!1===_s956)return!1;}}}return!0;}},{key:"BO",value:function BO(){var _this1107=this;if(!1===this.LO())return;this.board.undoManager.checkpoint("Delete node");var t=si(this.board.splineHud.selectedNodes.map(function(t){return t.spline;}));var _iterator1739=_createForOfIteratorHelper(t),_step1739;try{var _loop66=function _loop66(){var e=_step1739.value;if("line"===e.localName){var _t2634=_this1107.board.splineHud.selectedNodes.filter(function(t){return t.spline===e;});2===_t2634.length?(e.remove(),_this1107.board.selectedElements=_this1107.board.selectedElements.filter(function(t){return t!==e;})):1===_t2634.length&&(0===_t2634[0].index?(e.setAttribute("x1",e.x2.baseVal.value),e.setAttribute("y1",e.y2.baseVal.value)):(e.setAttribute("x2",e.x1.baseVal.value),e.setAttribute("y2",e.y1.baseVal.value)));}else if("polyline"===e.localName||"polygon"===e.localName){var _t2635=_this1107.board.splineHud.selectedNodes.filter(function(t){return t.spline===e;});if(_t2635.length===e.points.length)e.remove(),_this1107.board.selectedElements=_this1107.board.selectedElements.filter(function(t){return t!==e;});else{var _i1649=_toConsumableArray(e.points);var _iterator1740=_createForOfIteratorHelper(_t2635),_step1740;try{for(_iterator1740.s();!(_step1740=_iterator1740.n()).done;){var _e1994=_step1740.value;_i1649[_e1994.index]=null;}}catch(err){_iterator1740.e(err);}finally{_iterator1740.f();}e.setAttribute("points",_i1649.filter(function(t){return null!==t;}).map(function(t){return[t.x,t.y];}).flat().join(" "));}}else if("path"===e.localName){var _t2636=at(e.getPathData({normalize:!0}));Pt(_t2636);var _i1650=_this1107.board.splineHud.selectedNodes.filter(function(t){return t.spline===e;});_i1650=_i1650.sort(function(t,e){return e.index-t.index;});var _s957=_i1650.filter(function(e){return"C"===_t2636[e.index].type;}),_n623=_i1650.filter(function(e){return"M"===_t2636[e.index].type;});if(0===_i1650.length)return"continue";var _iterator1741=_createForOfIteratorHelper(_s957),_step1741;try{var _loop67=function _loop67(){var e=_step1741.value;var i=_t2636[e.index],s=_t2636[e.index+1]||null,n=_t2636[e.index-1]||null;if(null===s)_t2636=_t2636.filter(function(t){return t!==i;});else if("M"===s.type)_t2636=_t2636.filter(function(t){return t!==i;});else if("Z"===s.type){var _e1995=kt(i,_t2636),_s958=_e1995[0],_o550=_e1995[1];_t2636=_t2636.filter(function(t){return t!==i;}),"M"===n.type?(_s958.values[0]=n.values[0],_s958.values[1]=n.values[1]):"C"===n.type&&(_s958.values[0]=n.values[4],_s958.values[1]=n.values[5]),"C"===_o550.type&&(_o550.values[0]=i.values[0],_o550.values[1]=i.values[1]);}else"C"===s.type&&(_t2636=_t2636.filter(function(t){return t!==i;}),s.values[0]=i.values[0],s.values[1]=i.values[1]);};for(_iterator1741.s();!(_step1741=_iterator1741.n()).done;){_loop67();}}catch(err){_iterator1741.e(err);}finally{_iterator1741.f();}var _iterator1742=_createForOfIteratorHelper(_n623),_step1742;try{for(_iterator1742.s();!(_step1742=_iterator1742.n()).done;){var _e1996=_step1742.value;var _i1651=_t2636[_e1996.index],_s959=kt(_i1651,_t2636);if(_s959.length>1){(function(){var e=_s959[0],i=_s959[1];_t2636=_t2636.filter(function(t){return t!==i;}),"C"===i.type&&(e.values[0]=i.values[4],e.values[1]=i.values[5]);})();}}}catch(err){_iterator1742.e(err);}finally{_iterator1742.f();}var _iterator1743=_createForOfIteratorHelper(rt(_t2636)),_step1743;try{for(_iterator1743.s();!(_step1743=_iterator1743.n()).done;){var _e1997=_step1743.value;var _i1652=_e1997.filter(function(t){return"C"===t.type;}),_s960="Z"===_e1997[_e1997.length-1].type?2:1;if(_i1652.length<_s960){var _iterator1745=_createForOfIteratorHelper(_e1997),_step1745;try{var _loop68=function _loop68(){var i=_step1745.value;_t2636=_t2636.filter(function(t){return t!==i;});};for(_iterator1745.s();!(_step1745=_iterator1745.n()).done;){_loop68();}}catch(err){_iterator1745.e(err);}finally{_iterator1745.f();}}}}catch(err){_iterator1743.e(err);}finally{_iterator1743.f();}Dt(_t2636);var _iterator1744=_createForOfIteratorHelper(_t2636),_step1744;try{for(_iterator1744.s();!(_step1744=_iterator1744.n()).done;){var _e1998=_step1744.value;_e1998.values=_e1998.values.map(function(t){return J(t,_this1107.board.geometryPrecision);});}}catch(err){_iterator1744.e(err);}finally{_iterator1744.f();}e.setPathData(_t2636),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator1739.s();!(_step1739=_iterator1739.n()).done;){var _ret9=_loop66();if(_ret9==="continue")continue;}}catch(err){_iterator1739.e(err);}finally{_iterator1739.f();}this.board.splineHud.selectedNodes=[];}},{key:"LO",value:function LO(){return this.board.splineHud.selectedNodes.length>0;}},{key:"IO",value:function IO(){var _this1108=this;if(!1===this.$O())return;this.board.undoManager.checkpoint("Split node");var t=si(this.board.splineHud.selectedNodes.map(function(t){return t.spline;})).filter(function(t){return"path"===t.localName;}),e=[];var _iterator1746=_createForOfIteratorHelper(t),_step1746;try{for(_iterator1746.s();!(_step1746=_iterator1746.n()).done;){var _i1653=_step1746.value;var _t2637=at(_i1653.getPathData({normalize:!0})),_s961=[];var _iterator1747=_createForOfIteratorHelper(this.board.splineHud.selectedNodes),_step1747;try{for(_iterator1747.s();!(_step1747=_iterator1747.n()).done;){var _e1999=_step1747.value;_e1999.spline===_i1653&&(_t2637[_e1999.index].select=!0,_t2637[_e1999.index].split=!0);}}catch(err){_iterator1747.e(err);}finally{_iterator1747.f();}var _iterator1748=_createForOfIteratorHelper(rt(_t2637)),_step1748;try{for(_iterator1748.s();!(_step1748=_iterator1748.n()).done;){var _e2000=_step1748.value;if(void 0===_e2000.find(function(t){return t.split;}))_s961.push.apply(_s961,_toConsumableArray(_e2000));else{var _t2639=_e2000[0],_i1654=[];if("Z"!==_e2000[_e2000.length-1].type)for(var _t2640=0;_t2640<_e2000.length;_t2640+=1){var _s962=_e2000[_t2640],_n625=_e2000[_t2640+1]||null;_i1654.push(_s962),!0===_s962.split&&_n625&&("C"===_s962.type?_i1654.push({type:"M",values:[_s962.values[4],_s962.values[5]]}):"L"===_s962.type&&_i1654.push({type:"M",values:[_s962.values[0],_s962.values[1]]}));}else{{var _i1655=[];for(var _s963=0;_s963<_e2000.length;_s963+=1){var _n626=_e2000[_s963];if(_n626.split){"L"===_n626.type?_i1655.push({type:"M",values:[_n626.values[0],_n626.values[1]],select:!0}):"C"===_n626.type&&_i1655.push({type:"M",values:[_n626.values[4],_n626.values[5]],select:!0});for(var _n627=_s963+1;_n627<_e2000.length;_n627+=1){var _s964=_e2000[_n627];"Z"===_s964.type?_i1655.push({type:"L",values:[_t2639.values[0],_t2639.values[1]]}):_i1655.push(_s964);}for(var _t2641=0;_t2641<=_s963;_t2641+=1){var _s965=_e2000[_t2641];"M"!==_s965.type&&_i1655.push(_s965);}break;}}_e2000=_i1655;}for(var _t2642=0;_t2642<_e2000.length;_t2642+=1){var _s966=_e2000[_t2642],_n628=_e2000[_t2642+1]||null;!0===_s966.split?(_i1654.push(_s966),_n628?"C"===_s966.type?_i1654.push({type:"M",values:[_s966.values[4],_s966.values[5]]}):"L"===_s966.type&&_i1654.push({type:"M",values:[_s966.values[0],_s966.values[1]]}):_s966.select=!1):_i1654.push(_s966);}}_s961.push.apply(_s961,_i1654);}}}catch(err){_iterator1748.e(err);}finally{_iterator1748.f();}for(var _t2638=0;_t2638<_s961.length;_t2638+=1){var _n624=_s961[_t2638];_n624.values=_n624.values.map(function(t){return J(t,_this1108.board.geometryPrecision);}),_n624.select&&e.push({spline:_i1653,index:_t2638});}_i1653.setPathData(_s961);}}catch(err){_iterator1746.e(err);}finally{_iterator1746.f();}this.board.splineHud.selectedNodes=e;}},{key:"$O",value:function $O(){var t=si(this.board.splineHud.selectedNodes.map(function(t){return t.spline;}));var _iterator1749=_createForOfIteratorHelper(t),_step1749;try{for(_iterator1749.s();!(_step1749=_iterator1749.n()).done;){var _e2001=_step1749.value;if("path"===_e2001.localName){var _t2643=at(_e2001.getPathData({normalize:!0}));var _iterator1750=_createForOfIteratorHelper(this.board.splineHud.selectedNodes),_step1750;try{for(_iterator1750.s();!(_step1750=_iterator1750.n()).done;){var _i1656=_step1750.value;if(_i1656.spline===_e2001){var _e2002=_t2643[_i1656.index],_s967=_t2643[_i1656.index+1];if("M"!==_e2002.type&&_s967&&"M"!==_s967.type)return!0;}}}catch(err){_iterator1750.e(err);}finally{_iterator1750.f();}}}}catch(err){_iterator1749.e(err);}finally{_iterator1749.f();}return!1;}},{key:"GO",value:function GO(){var _this1109=this;if(!1===this.RO())return;this.board.undoManager.checkpoint("Break node");var t=si(this.board.splineHud.selectedNodes.map(function(t){return t.spline;})).filter(function(t){return"path"===t.localName;}),e=[];var _iterator1751=_createForOfIteratorHelper(t),_step1751;try{for(_iterator1751.s();!(_step1751=_iterator1751.n()).done;){var _i1657=_step1751.value;var _t2644=at(_i1657.getPathData({normalize:!0})),_s968=[];var _iterator1752=_createForOfIteratorHelper(this.board.splineHud.selectedNodes),_step1752;try{for(_iterator1752.s();!(_step1752=_iterator1752.n()).done;){var _e2003=_step1752.value;_e2003.spline===_i1657&&(_t2644[_e2003.index].select=!0,_t2644[_e2003.index]["break"]=!0);}}catch(err){_iterator1752.e(err);}finally{_iterator1752.f();}var _iterator1753=_createForOfIteratorHelper(rt(_t2644)),_step1753;try{for(_iterator1753.s();!(_step1753=_iterator1753.n()).done;){var _e2004=_step1753.value;if(0===_e2004.filter(function(t){return t.select;}).length)_s968.push.apply(_s968,_toConsumableArray(_e2004));else{var _t2646=_e2004[0],_i1658=[];if("Z"!==_e2004[_e2004.length-1].type)for(var _t2647=0;_t2647<_e2004.length;_t2647+=1){var _s969=_e2004[_t2647],_n630=(_e2004[_t2647-1],_e2004[_t2647+1]||null),_o551=_e2004[_t2647+2]||null;_i1658.push(_s969),!0===_s969["break"]&&("M"===_s969.type?("C"===_n630.type?_i1658.push({type:"M",values:[_n630.values[4],_n630.values[5]]}):"L"===_n630.type&&_i1658.push({type:"M",values:[_n630.values[0],_n630.values[1]]}),_t2647+=1):"C"!==_s969.type&&"L"!==_s969.type||(_o551&&("C"===_n630.type?_i1658.push({type:"M",values:[_n630.values[4],_n630.values[5]],select:!0}):"L"===_n630.type&&_i1658.push({type:"M",values:[_n630.values[0],_n630.values[1]],select:!0})),_t2647+=1));}else for(var _s970=0;_s970<_e2004.length;_s970+=1){var _n631=_e2004[_s970];if(_n631["break"]){var _o552=_e2004[_s970+1];_e2004[_s970-1];if(_o552["break"]){"L"===_o552.type?_i1658.push({type:"M",values:[_o552.values[0],_o552.values[1]],select:!0}):"C"===_o552.type&&_i1658.push({type:"M",values:[_o552.values[4],_o552.values[5]],select:!0});for(var _n632=_s970+2;_n632<_e2004.length;_n632+=1){_e2004[_n632-1];var _s971=_e2004[_n632];if("Z"===_s971.type){var _e2005=_i1658[_i1658.length-1];"L"===_e2005.type?_e2005.values[0]===_t2646.values[0]&&_e2005.values[1]===_t2646.values[1]||_i1658.push({type:"L",values:[_t2646.values[0],_t2646.values[1]]}):"C"===_e2005.type&&(_e2005.values[4]===_t2646.values[0]&&_e2005.values[5]===_t2646.values[1]||_i1658.push({type:"L",values:[_t2646.values[0],_t2646.values[1]]}));}else _s971.select=!1,_i1658.push(_s971);}for(var _t2648=0;_t2648<=_s970;_t2648+=1){var _n633=_e2004[_t2648];_n633.select=_t2648===_s970,"M"!==_n633.type&&_i1658.push(_n633);}}else{"L"===_n631.type?_i1658.push({type:"M",values:[_n631.values[0],_n631.values[1]],select:!0}):"C"===_n631.type&&_i1658.push({type:"M",values:[_n631.values[4],_n631.values[5]],select:!0});for(var _t2649=_s970+1;_t2649<_e2004.length;_t2649+=1){var _n634=_e2004[_t2649];"Z"!==_n634.type&&(_n634.select=_s970===_e2004.length-2,_i1658.push(_n634));}_i1658[_i1658.length-1].select=!0;}break;}}_s968.push.apply(_s968,_i1658);}}}catch(err){_iterator1753.e(err);}finally{_iterator1753.f();}for(var _t2645=0;_t2645<_s968.length;_t2645+=1){var _n629=_s968[_t2645];_n629.values=_n629.values.map(function(t){return J(t,_this1109.board.geometryPrecision);}),_n629.select&&e.push({spline:_i1657,index:_t2645});}_i1657.setPathData(_s968);}}catch(err){_iterator1751.e(err);}finally{_iterator1751.f();}this.board.splineHud.selectedNodes=e;}},{key:"RO",value:function RO(){var t=si(this.board.splineHud.selectedNodes.map(function(t){return t.spline;})).filter(function(t){return"path"===t.localName;}),e=!1;var _iterator1754=_createForOfIteratorHelper(t),_step1754;try{for(_iterator1754.s();!(_step1754=_iterator1754.n()).done;){var _i1659=_step1754.value;var _t2650=at(_i1659.getPathData({normalize:!0}));var _iterator1755=_createForOfIteratorHelper(this.board.splineHud.selectedNodes),_step1755;try{for(_iterator1755.s();!(_step1755=_iterator1755.n()).done;){var _e2006=_step1755.value;_e2006.spline===_i1659&&(_t2650[_e2006.index].selected=!0);}}catch(err){_iterator1755.e(err);}finally{_iterator1755.f();}var _iterator1756=_createForOfIteratorHelper(rt(_t2650)),_step1756;try{for(_iterator1756.s();!(_step1756=_iterator1756.n()).done;){var _i1660=_step1756.value;var _t2651=_i1660.filter(function(t){return t.selected;});if(2===_t2651.length){var _t2652=null,_s972=null,_n635="Z"===_i1660[_i1660.length-1].type;for(var _e2007=0;_e2007<_i1660.length;_e2007+=1){_i1660[_e2007].selected&&(null===_t2652?_t2652=_e2007:_s972=_e2007);}if(_t2652===_s972-1){e=!0;continue;}if(_n635&&1===_t2652&&_s972===_i1660.length-2){e=!0;continue;}return!1;}if(0!==_t2651.length)return!1;}}catch(err){_iterator1756.e(err);}finally{_iterator1756.f();}}}catch(err){_iterator1754.e(err);}finally{_iterator1754.f();}return e;}},{key:"cO",value:function cO(){if(!1!==this.dO()){this.board.undoManager.checkpoint("Reverse");var _iterator1757=_createForOfIteratorHelper(this.board.selectedElements),_step1757;try{for(_iterator1757.s();!(_step1757=_iterator1757.n()).done;){var t=_step1757.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline")&&dt(t);}}catch(err){_iterator1757.e(err);}finally{_iterator1757.f();}}}},{key:"dO",value:function dO(){var _iterator1758=_createForOfIteratorHelper(this.board.selectedElements),_step1758;try{for(_iterator1758.s();!(_step1758=_iterator1758.n()).done;){var t=_step1758.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline"))return!0;}}catch(err){_iterator1758.e(err);}finally{_iterator1758.f();}return!1;}},{key:"rO",value:function rO(){if(!1!==this.hO()){this.board.undoManager.checkpoint("Reorient");var _iterator1759=_createForOfIteratorHelper(this.board.selectedElements),_step1759;try{for(_iterator1759.s();!(_step1759=_iterator1759.n()).done;){var t=_step1759.value;"path"===t.localName?t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape")&&va(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}):["line","polygon","polyline","circle"].includes(t.localName)&&va(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1759.e(err);}finally{_iterator1759.f();}}}},{key:"hO",value:function hO(){var _iterator1760=_createForOfIteratorHelper(this.board.selectedElements),_step1760;try{for(_iterator1760.s();!(_step1760=_iterator1760.n()).done;){var t=_step1760.value;if("path"===t.localName){if(t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape"))return!0;}else if(["line","polygon","polyline","circle"].includes(t.localName))return t.hasAttribute("transform");}}catch(err){_iterator1760.e(err);}finally{_iterator1760.f();}return!1;}},{key:"wO",value:function wO(){if(!1===this.fO())return;this.board.undoManager.checkpoint("Join paths");var _this$board$selectedE=_toArray(this.board.selectedElements),t=_this$board$selectedE[0],e=_this$board$selectedE.slice(1),i=[];var _iterator1761=_createForOfIteratorHelper(this.board.selectedElements),_step1761;try{for(_iterator1761.s();!(_step1761=_iterator1761.n()).done;){var _e2008=_step1761.value;var _s973=void 0;"rect"===_e2008.localName?_s973=Vh(_e2008,this.board.geometryPrecision):"circle"===_e2008.localName?_s973=Hh(_e2008):"ellipse"===_e2008.localName?_s973=Wh(_e2008):"line"===_e2008.localName?_s973=Yh(_e2008):"polyline"===_e2008.localName?_s973=qh(_e2008):"polygon"===_e2008.localName?_s973=Xh(_e2008):"path"===_e2008.localName&&(_s973=_e2008.cloneNode(),_s973.removeAttribute("data-bx-shape"),_s973.removeAttribute("data-bx-spline"));var _n636=Wt(_e2008,t.parentElement).toString();_s973.setAttribute("transform",_n636),_s973.setPathData(_s973.getPathData({normalize:!0})),va(_s973,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}),i.push(_s973);}}catch(err){_iterator1761.e(err);}finally{_iterator1761.f();}var s=i[0],n=i.slice(1),o=s.getPathData();var _iterator1762=_createForOfIteratorHelper(n),_step1762;try{for(_iterator1762.s();!(_step1762=_iterator1762.n()).done;){var _t2653=_step1762.value;var _e2009=_t2653.getPathData();o=[].concat(_toConsumableArray(o),_toConsumableArray(_e2009));}}catch(err){_iterator1762.e(err);}finally{_iterator1762.f();}s.setPathData(o),t.replaceWith(s);var _iterator1763=_createForOfIteratorHelper(e),_step1763;try{for(_iterator1763.s();!(_step1763=_iterator1763.n()).done;){var _t2654=_step1763.value;_t2654.remove();}}catch(err){_iterator1763.e(err);}finally{_iterator1763.f();}this.board.selectedElements=[s];}},{key:"fO",value:function fO(){if(this.board.selectedElements.length<2)return!1;var t=["rect","circle","ellipse","line","polygon","polyline","path"];var _iterator1764=_createForOfIteratorHelper(this.board.selectedElements),_step1764;try{for(_iterator1764.s();!(_step1764=_iterator1764.n()).done;){var _e2010=_step1764.value;if(!1===t.includes(_e2010.localName))return!1;}}catch(err){_iterator1764.e(err);}finally{_iterator1764.f();}return!0;}},{key:"yO",value:function yO(){if(!1===this.vO())return;this.board.undoManager.checkpoint("Break Apart");var _this$board$selectedE2=_toArray(this.board.selectedElements),t=_this$board$selectedE2[0],e=_this$board$selectedE2.slice(1),i=[];var _iterator1765=_createForOfIteratorHelper(this.board.selectedElements),_step1765;try{for(_iterator1765.s();!(_step1765=_iterator1765.n()).done;){var _t2655=_step1765.value;if("path"===_t2655.localName){var _e2011=at(_t2655.getPathData({normalize:!0})),_s974=rt(_e2011);if(_s974.length>1){var _s975=_toArray(_s974),_e2012=_s975[0],_n637=_s975.slice(1),_o553=_t2655;_o553.setPathData(_e2012),i.push(_o553);var _iterator1766=_createForOfIteratorHelper(_n637),_step1766;try{for(_iterator1766.s();!(_step1766=_iterator1766.n()).done;){var _t2656=_step1766.value;var _e2013=_o553.cloneNode();_e2013.setPathData(_t2656),_o553.after(_e2013),i.push(_e2013);for(var _i1661=0,_arr93=["fill","stroke"];_i1661<_arr93.length;_i1661++){var _t2657=_arr93[_i1661];var _i1662=Jo(_e2013,_t2657);if(_i1662)if("linearGradient"===_i1662.localName||"radialGradient"===_i1662.localName){var _s976=_i1662,_n638=ko(_s976);if(_n638){var _i1663=_s976.cloneNode();_i1663.id=this.board.generateUniqueID("gradient-"),_i1663.setAttribute("href","#"+_n638.id),_s976.after(_i1663),_e2013.style.setProperty(_t2657,"url(\"#".concat(_i1663.id,"\")"));}else{var _i1664=_s976.cloneNode(!0);_i1664.id=this.board.generateUniqueID("gradient-"),_s976.after(_i1664),_e2013.style.setProperty(_t2657,"url(\"#".concat(_i1664.id,"\")"));}}else if("pattern"===_i1662.localName){var _s977=_i1662;if(_s977.hasAttribute("href")){var _i1665=Vo(_s977),_n639=_s977.cloneNode();_n639.id=this.board.generateUniqueID(_i1665.id+"-"),_s977.after(_n639),_e2013.style.setProperty(_t2657,"url(\"#".concat(_n639.id,"\")"));}else{var _i1666=$i("svg:pattern");_i1666.id=this.board.generateUniqueID(_s977.id+"-"),_i1666.setAttribute("href","#"+_s977.id),_s977.after(_i1666),_e2013.style.setProperty(_t2657,"url(\"#".concat(_i1666.id,"\")"));}}}}}catch(err){_iterator1766.e(err);}finally{_iterator1766.f();}}else i.push(_t2655);}else i.push(_t2655);}}catch(err){_iterator1765.e(err);}finally{_iterator1765.f();}this.board.selectedElements=i;}},{key:"vO",value:function vO(){var _iterator1767=_createForOfIteratorHelper(this.board.selectedElements),_step1767;try{for(_iterator1767.s();!(_step1767=_iterator1767.n()).done;){var t=_step1767.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&!1===t.hasAttribute("data-bx-spline")){var _e2014=at(t.getPathData({normalize:!0}));if(rt(_e2014).length>1)return!0;}}}catch(err){_iterator1767.e(err);}finally{_iterator1767.f();}return!1;}},{key:"gO",value:function(){var _gO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee277(t){var _this$board,e,i,_this$board$outermost5,_i1667,_s978,_n640,_o554,_l414,_a305,_h235,_e2015,_n641,_l415,_t2658,_l416,_r156,_d125,_c91,_p87,_s979,_n642,_this$board$outermost6,_s980,_n643,_o555,_iterator1768,_step1768,_t2659,_n644,_l418,_l417,_a306,_iterator1769,_step1769,_i1668,_s981,_n645,_o556,_iterator1770,_step1770,_t2660;return regeneratorRuntime.wrap(function _callee277$(_context279){while(1){switch(_context279.prev=_context279.next){case 0:if(!(!1===this.mO(t))){_context279.next=2;break;}return _context279.abrupt("return");case 2:this.board.undoManager.checkpoint(ai(t));_this$board=this.board,e=_this$board.geometryPrecision,i=_this$board.transformPrecision;if(!("image"===this.board.outermostSelectedElements[0].localName)){_context279.next=29;break;}_this$board$outermost5=_slicedToArray(this.board.outermostSelectedElements,2),_i1667=_this$board$outermost5[0],_s978=_this$board$outermost5[1],_n640=document.createElement("canvas"),_o554=_n640.getContext("2d"),_l414=new Image();_l414.setAttribute("src",_i1667.getAttribute("href"));_context279.next=9;return new Promise(function(t){return _l414.onload=t;});case 9:_a305=_l414.naturalWidth/_i1667.width.baseVal.value,_h235=_l414.naturalHeight/_i1667.height.baseVal.value;_n640.width=_l414.naturalWidth,_n640.height=_l414.naturalHeight,_o554.imageSmoothingEnabled=!1,_o554.drawImage(_l414,0,0,_l414.naturalWidth,_l414.naturalHeight);_e2015=new DOMMatrix();_e2015=_e2015.scale(_a305,_h235),_e2015=_e2015.translate(-_i1667.x.baseVal.value,-_i1667.y.baseVal.value),_e2015=_e2015.multiply(Wt(_s978,_i1667));_n641=_s978.getPathData({normalize:!0});_n641=oe(_n641,_e2015),_n641.forEach(function(t){return t.values=t.values.map(function(t){return J(t,0);});});_l415=new Path2D(nt(_n641));"subtract"===t?_o554.globalCompositeOperation="destination-out":"intersect"===t&&(_o554.globalCompositeOperation="destination-in"),_o554.imageSmoothingEnabled=!1,_o554.fillStyle="black",_o554.fill(_l415);_t2658=ur(_n640);_l416=_o554.getImageData(0,0,_n640.width,_n640.height);_r156=UPNG.encode([_l416.data.buffer],_l416.width,_l416.height,0);_d125=new Uint8Array(_r156);_c91=new Blob([_d125],{type:"image/png"});_context279.next=24;return hr(_c91);case 24:_p87=_context279.sent;if(_i1667.setAttribute("href",_p87),_i1667.setAttribute("width",_n640.width/_a305),_i1667.setAttribute("height",_n640.height/_h235),_t2658){_s979=_i1667.x.baseVal.value+_t2658.x/_a305,_n642=_i1667.y.baseVal.value+_t2658.y/_h235;_i1667.setAttribute("x",J(_s979,e)),_i1667.setAttribute("y",J(_n642,e));}_s978.remove(),this.board.selectedElements=[_i1667],_i1667.parentElement===this.board.currentWorkspace?this.board.currentContainer=null:this.board.currentContainer=_i1667.parentElement;_context279.next=39;break;case 29:_this$board$outermost6=_toArray(this.board.outermostSelectedElements),_s980=_this$board$outermost6[0],_n643=_this$board$outermost6.slice(1),_o555=[];_iterator1768=_createForOfIteratorHelper(this.board.outermostSelectedElements);try{for(_iterator1768.s();!(_step1768=_iterator1768.n()).done;){_t2659=_step1768.value;_n644=void 0;"rect"===_t2659.localName?_n644=Vh(_t2659,this.board.geometryPrecision):"circle"===_t2659.localName?_n644=Hh(_t2659):"ellipse"===_t2659.localName?_n644=Wh(_t2659):"line"===_t2659.localName?_n644=Yh(_t2659):"polyline"===_t2659.localName?_n644=qh(_t2659):"polygon"===_t2659.localName?_n644=Xh(_t2659):"path"===_t2659.localName&&(_n644=_t2659.cloneNode(),_n644.hasAttribute("data-bx-shape")?_n644.removeAttribute("data-bx-shape"):_n644.hasAttribute("data-bx-shape")&&_n644.removeAttribute("data-bx-spline"));_l418=Wt(_t2659,_s980.parentElement).toString();_n644.setAttribute("transform",_l418),_n644.setPathData(_n644.getPathData({normalize:!0})),va(_n644,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_o555.push(_n644);}}catch(err){_iterator1768.e(err);}finally{_iterator1768.f();}_l417=_o555[0],_a306=_o555.slice(1);_iterator1769=_createForOfIteratorHelper(_a306);try{for(_iterator1769.s();!(_step1769=_iterator1769.n()).done;){_i1668=_step1769.value;_s981=_l417.getPathData(),_n645=_i1668.getPathData(),_o556=[];"unite"===t?_o556=gr(_s981,_n645,e):"subtract"===t?_o556=fr(_s981,_n645,e):"intersect"===t?_o556=wr(_s981,_n645,e):"exclude"===t&&(_o556=vr(_s981,_n645,e)),_l417.setPathData(_o556);}}catch(err){_iterator1769.e(err);}finally{_iterator1769.f();}_l417.hasAttribute("d")?(_s980.replaceWith(_l417),_l417.removeAttribute("data-bx-origin")):_s980.remove();_iterator1770=_createForOfIteratorHelper(_n643);try{for(_iterator1770.s();!(_step1770=_iterator1770.n()).done;){_t2660=_step1770.value;_t2660.remove();}}catch(err){_iterator1770.e(err);}finally{_iterator1770.f();}_l417.hasAttribute("d")?this.board.selectedElements=[_l417]:this.board.selectedElements=[];case 39:case"end":return _context279.stop();}}},_callee277,this);}));function gO(_x372){return _gO.apply(this,arguments);}return gO;}()},{key:"mO",value:function mO(t){return this.dE(t)||this.cE(t);}},{key:"dE",value:function dE(t){if(this.board.outermostSelectedElements.length<2)return!1;var _iterator1771=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1771;try{for(_iterator1771.s();!(_step1771=_iterator1771.n()).done;){var _t2661=_step1771.value;if(!1===g.includes(_t2661.localName))return!1;}}catch(err){_iterator1771.e(err);}finally{_iterator1771.f();}return!0;}},{key:"cE",value:function cE(t){var _this$board$outermost7=_toArray(this.board.outermostSelectedElements),e=_this$board$outermost7[0],i=_this$board$outermost7.slice(1);return("subtract"===t||"intersect"===t)&&!(!e||"image"!==e.localName)&&1===i.length&&!1!==g.includes(i[0].localName);}},{key:"NO",value:function NO(){this.board.undoManager.checkpoint("Bold");var t=this.board.selectedTextRange,e=this.Vd(),_this$Vd=this.Vd(!0),_this$Vd2=_slicedToArray(_this$Vd,1),i=_this$Vd2[0],s=i[0],n=Rh(getComputedStyle(s).getPropertyValue("font-weight")),o="400"===Uh(n,["400","700"])?"700":"400";var _iterator1772=_createForOfIteratorHelper(e),_step1772;try{for(_iterator1772.s();!(_step1772=_iterator1772.n()).done;){var _i1669=_step1772.value;bi(_i1669,t);var _e2016=_i1669.querySelectorAll("tspan"),_s982=gi(t,_i1669),_n646=_s982.length>0&&!t.collapsed?_s982:_e2016;var _iterator1773=_createForOfIteratorHelper(_n646),_step1773;try{for(_iterator1773.s();!(_step1773=_iterator1773.n()).done;){var _t2662=_step1773.value;_t2662.style.setProperty("font-weight",o);}}catch(err){_iterator1773.e(err);}finally{_iterator1773.f();}mi(_i1669,t);}}catch(err){_iterator1772.e(err);}finally{_iterator1772.f();}}},{key:"FO",value:function FO(){var _this$Vd3=this.Vd(!0),_this$Vd4=_slicedToArray(_this$Vd3,1),t=_this$Vd4[0];if(t.length>0){var _e2017=t[0],_i1670=Rh(getComputedStyle(_e2017).getPropertyValue("font-weight"));return"700"===Uh(_i1670,["400","700"]);}return!1;}},{key:"VO",value:function VO(){this.board.undoManager.checkpoint("Italic");var t=this.board.selectedTextRange,e=this.Vd(),_this$Vd5=this.Vd(!0),_this$Vd6=_slicedToArray(_this$Vd5,1),i=_this$Vd6[0],s="normal"===i[0].computedStyleMap().get("font-style").value?"italic":"normal";var _iterator1774=_createForOfIteratorHelper(e),_step1774;try{for(_iterator1774.s();!(_step1774=_iterator1774.n()).done;){var _i1671=_step1774.value;bi(_i1671,t);var _e2018=_i1671.querySelectorAll("tspan"),_n647=gi(t,_i1671),_o557=_n647.length>0&&!t.collapsed?_n647:_e2018;var _iterator1775=_createForOfIteratorHelper(_o557),_step1775;try{for(_iterator1775.s();!(_step1775=_iterator1775.n()).done;){var _t2663=_step1775.value;_t2663.attributeStyleMap.set("font-style",s);}}catch(err){_iterator1775.e(err);}finally{_iterator1775.f();}mi(_i1671,t);}}catch(err){_iterator1774.e(err);}finally{_iterator1774.f();}}},{key:"jO",value:function jO(){var _this$Vd7=this.Vd(!0),_this$Vd8=_slicedToArray(_this$Vd7,1),t=_this$Vd8[0];if(t.length>0){var _e2019=t[0].computedStyleMap().get("font-style").value;return"italic"===_e2019||"oblique"===_e2019;}return!1;}},{key:"YO",value:function YO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"underline";this.board.undoManager.checkpoint("Text decoration");var e=this.board.selectedTextRange,i=this.Vd(),_this$Vd9=this.Vd(!0),_this$Vd10=_slicedToArray(_this$Vd9,2),s=_this$Vd10[0],n=_this$Vd10[1];var _iterator1776=_createForOfIteratorHelper(i),_step1776;try{for(_iterator1776.s();!(_step1776=_iterator1776.n()).done;){var _s983=_step1776.value;bi(_s983,e);var _i1672=[];if(e&&_s983.contains(e.commonAncestorContainer)){var _t2664=_s983.querySelectorAll("tspan"),_n648=gi(e,_s983),_o558=e.collapsed?_t2664:_n648;_i1672.push.apply(_i1672,_toConsumableArray(_o558));}else _i1672.push(_s983);for(var _i1674=0,_i1673=_i1672;_i1674<_i1673.length;_i1674++){var _e2020=_i1673[_i1674];var _i1675=getComputedStyle(_e2020).getPropertyValue("text-decoration"),_s984=_i1675.includes("underline"),_n649=_i1675.includes("line-through"),_o559=_i1675.includes("overline");"underline"===t?_s984=!_s984:"line-through"===t?_n649=!_n649:"overline"===t&&(_o559=!_o559);var _l419=[];_s984&&_l419.push("underline"),_n649&&_l419.push("line-through"),_o559&&_l419.push("overline"),0===_l419.length?_e2020.style.removeProperty("text-decoration"):_e2020.style.setProperty("text-decoration",_l419.join(" "));}mi(_s983,e);}}catch(err){_iterator1776.e(err);}finally{_iterator1776.f();}}},{key:"WO",value:function WO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"underline";var _this$Vd11=this.Vd(!0),_this$Vd12=_slicedToArray(_this$Vd11,2),e=_this$Vd12[0],i=_this$Vd12[1],_i1676=_slicedToArray(i,1),s=_i1676[0];if(s){return getComputedStyle(s).getPropertyValue("text-decoration").includes(t);}return!1;}},{key:"XO",value:function XO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"capitalize";this.board.undoManager.checkpoint("Text transform");var e=this.Vd(),i=this.board.selectedTextRange,s=this.qO(t);var _iterator1777=_createForOfIteratorHelper(e),_step1777;try{for(_iterator1777.s();!(_step1777=_iterator1777.n()).done;){var _n650=_step1777.value;bi(_n650,i);var _e2021=_n650.querySelectorAll("tspan"),_o560=gi(i,_n650),_l420=_o560.length>0&&!i.collapsed?_o560:_e2021;var _iterator1778=_createForOfIteratorHelper(_l420),_step1778;try{for(_iterator1778.s();!(_step1778=_iterator1778.n()).done;){var _e2022=_step1778.value;_e2022.attributeStyleMap.set("text-transform",s?"none":t);}}catch(err){_iterator1778.e(err);}finally{_iterator1778.f();}mi(_n650,i);}}catch(err){_iterator1777.e(err);}finally{_iterator1777.f();}}},{key:"qO",value:function qO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"capitalize";var _this$Vd13=this.Vd(!0),_this$Vd14=_slicedToArray(_this$Vd13,1),e=_this$Vd14[0],_e2023=_slicedToArray(e,1),i=_e2023[0];if(i){return i.computedStyleMap().get("text-transform").value===t;}return!1;}},{key:"KO",value:function(){var _KO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee278(){var _this1110=this;var t,e,_i1677,_s985,_n651,_n652,_t2665,_e2024,_t2666,_iterator1779,_step1779,_e2025,_i1678,_s986,_n653,_o561,_l421,_a307,_h236,_r157,_d126,_t2667,_s987,_t2668,_n654,_o562,_t2669,_i1679,_o563,_l422,_a308,_h237,_c92,_Vl22,_p88;return regeneratorRuntime.wrap(function _callee278$(_context280){while(1){switch(_context280.prev=_context280.next){case 0:t=!1,e=is(function(){return _this1110.board.undoManager.checkpoint("Put text on path");});if(!(2===this.board.outermostSelectedElements.length)){_context280.next=20;break;}_i1677=this.board.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_s985=this.board.outermostSelectedElements.find(function(t){return g.includes(t.localName);});if(!(_i1677&&_s985)){_context280.next=20;break;}if(!(null!==_i1677.querySelector("textPath"))){_context280.next=8;break;}t=!1;_context280.next=20;break;case 8:if(!("path"===_s985.localName)){_context280.next=12;break;}t=!0;_context280.next=20;break;case 12:_n651=Vi(_s985).toLowerCase();_context280.next=15;return this.Js.openMessageDialog({message:"Convert ".concat(_n651," to path?"),detail:"This shape must be converted to path before you put a text on it.",buttons:["Convert","Cancel"]});case 15:_context280.t0=_context280.sent;if(!(0!==_context280.t0)){_context280.next=18;break;}return _context280.abrupt("return");case 18:_n652=jh(_s985,this.board.geometryPrecision);e(),_s985.replaceWith(_n652),this.board.selectedElements=[_i1677,_n652],t=!0;case 20:if(!(e(),t)){_context280.next=25;break;}_t2665=this.board.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_e2024=this.board.outermostSelectedElements.find(function(t){return"path"===t.localName;});!1===_e2024.hasAttribute("id")&&_e2024.setAttribute("id",this.board.generateUniqueID("path-")),_t2665.removeAttribute("transform"),_t2665.innerHTML="<textPath href=\"#".concat(_e2024.id,"\">").concat(_t2665.innerHTML,"</textPath>");_context280.next=60;break;case 25:_t2666=this.ZO();_iterator1779=_createForOfIteratorHelper(this.Vd());_context280.prev=27;_iterator1779.s();case 29:if((_step1779=_iterator1779.n()).done){_context280.next=52;break;}_e2025=_step1779.value;_i1678=_e2025.querySelector("textPath");_s986=getComputedStyle(_e2025);_n653=parseFloat(_s986.fontSize);_o561=Lh.fromString(_s986.fontFamily).items[0];_l421=Rh(_s986.fontWeight);_a307=_s986.fontStyle;_context280.next=39;return this.board.defsFontsManager.getMatchedFontFace(_o561,_l421,_a307);case 39:_h236=_context280.sent;if(!_h236){_context280.next=46;break;}_context280.next=43;return this.board.defsFontsManager.getFontFaceBaseline(_h236);case 43:_context280.t1=_context280.sent;_context280.next=47;break;case 46:_context280.t1=1;case 47:_r157=_context280.t1;_d126=Oi(_e2025);if(_t2666){if(_i1678){_t2667=_i1678.href.baseVal.trim(),_s987=_t2667.length>1?_t2667.substring(1):null;if(null!==_s987){_t2668=this.board.workspaces.querySelector("#"+CSS.escape(_s987)),_n654=_d126.x,_o562=_d126.y+_d126.height*_r157;_t2668.remove(),_e2025.innerHTML=_i1678.innerHTML,_e2025.setAttribute("x",_n654),_e2025.setAttribute("y",_o562);}}}else if(!_i1678){_t2669=Ht(_e2025),_i1679=new DOMPoint(_d126.x,_d126.y+_d126.height*_r157),_o563=new DOMPoint(_d126.x+_d126.width/2,_d126.y),_l422=new DOMPoint(_d126.x+_d126.width,_d126.y+_d126.height*_r157);_i1679=_i1679.matrixTransform(_t2669),_o563=_o563.matrixTransform(_t2669),_l422=_l422.matrixTransform(_t2669);_a308="M ".concat(_i1679.x," ").concat(_i1679.y," Q ").concat(_o563.x," ").concat(_o563.y," ").concat(_l422.x," ").concat(_l422.y),_h237=this.board.generateUniqueID("text-path-"),_c92=Ji(_templateObject109(),_h237,_a308);this.board.maybeCreateDefsForMasterWorkspace(),this.board.defs.append(_c92),"start"!==_s986.textAnchor&&(_e2025.style.setProperty("text-anchor","start"),Op("text-anchor",_e2025)),_e2025.innerHTML="<textPath href=\"#".concat(_h237,"\">").concat(_e2025.innerHTML,"</textPath>");_Vl22=Vl(_t2669),_p88=_Vl22.scaleY;_e2025.style.fontSize=J(_n653*_p88,2),_e2025.removeAttribute("transform"),_e2025.removeAttribute("x"),_e2025.removeAttribute("y");}case 50:_context280.next=29;break;case 52:_context280.next=57;break;case 54:_context280.prev=54;_context280.t2=_context280["catch"](27);_iterator1779.e(_context280.t2);case 57:_context280.prev=57;_iterator1779.f();return _context280.finish(57);case 60:this.board.selectedElements=_toConsumableArray(this.board.selectedElements);case 61:case"end":return _context280.stop();}}},_callee278,this,[[27,54,57,60]]);}));function KO(){return _KO.apply(this,arguments);}return KO;}()},{key:"ZO",value:function ZO(){var t=this.Vd();return 0!==t.length&&null!==t[0].querySelector("textPath");}},{key:"HO",value:function HO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"increase";this.board.undoManager.checkpoint("Font size");var e=this.Vd(),i=this.board.selectedTextRange;var _iterator1780=_createForOfIteratorHelper(e),_step1780;try{for(_iterator1780.s();!(_step1780=_iterator1780.n()).done;){var _s988=_step1780.value;bi(_s988,i);var _e2026=_s988.querySelectorAll("tspan"),_n655=gi(i,_s988),_o564=_n655.length>0&&!i.collapsed?_n655:_e2026;var _iterator1781=_createForOfIteratorHelper(_o564.length>0?_o564:_e2026),_step1781;try{for(_iterator1781.s();!(_step1781=_iterator1781.n()).done;){var _i1680=_step1781.value;var _e2027=_i1680.computedStyleMap().get("font-size").value;"decrease"===t?_i1680.attributeStyleMap.set("font-size",CSS.px(_e2027-1)):"increase"===t&&_i1680.attributeStyleMap.set("font-size",CSS.px(_e2027+1));}}catch(err){_iterator1781.e(err);}finally{_iterator1781.f();}mi(_s988,i);}}catch(err){_iterator1780.e(err);}finally{_iterator1780.f();}}},{key:"QO",value:function QO(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"increase";this.board.undoManager.checkpoint("Letter spacing");var e=this.Vd(),i=this.board.selectedTextRange;var _iterator1782=_createForOfIteratorHelper(e),_step1782;try{for(_iterator1782.s();!(_step1782=_iterator1782.n()).done;){var _s989=_step1782.value;bi(_s989,i);var _e2028=_s989.querySelectorAll("tspan"),_n656=gi(i,_s989),_o565=_n656.length>0&&!i.collapsed?_n656:_e2028;var _iterator1783=_createForOfIteratorHelper(_o565.length>0?_o565:_e2028),_step1783;try{for(_iterator1783.s();!(_step1783=_iterator1783.n()).done;){var _i1681=_step1783.value;var _e2029=_i1681.computedStyleMap().get("letter-spacing"),_s990=_e2029 instanceof CSSNumericValue?_e2029.value:0;"decrease"===t?_i1681.style.setProperty("letter-spacing",CSS.px(_s990-1)):"increase"===t?_i1681.style.setProperty("letter-spacing",CSS.px(_s990+1)):"reset"===t&&_i1681.style.setProperty("letter-spacing",CSS.px(0));}}catch(err){_iterator1783.e(err);}finally{_iterator1783.f();}mi(_s989,this.board.selectedTextRange);}}catch(err){_iterator1782.e(err);}finally{_iterator1782.f();}}},{key:"tE",value:function tE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"increase";this.board.undoManager.checkpoint("Word spacing");var e=this.Vd(),i=this.board.selectedTextRange;var _iterator1784=_createForOfIteratorHelper(e),_step1784;try{for(_iterator1784.s();!(_step1784=_iterator1784.n()).done;){var _s991=_step1784.value;bi(_s991,i);var _e2030=_s991.querySelectorAll("tspan"),_n657=gi(i,_s991),_o566=_n657.length>0&&!i.collapsed?_n657:_e2030;var _iterator1785=_createForOfIteratorHelper(_o566.length>0?_o566:_e2030),_step1785;try{for(_iterator1785.s();!(_step1785=_iterator1785.n()).done;){var _i1682=_step1785.value;var _e2031=_i1682.computedStyleMap().get("word-spacing"),_s992=_e2031 instanceof CSSNumericValue?_e2031.value:0;"decrease"===t?_i1682.style.setProperty("word-spacing",CSS.px(_s992-1)):"increase"===t?_i1682.style.setProperty("word-spacing",CSS.px(_s992+1)):"reset"===t&&_i1682.style.setProperty("word-spacing",CSS.px(0));}}catch(err){_iterator1785.e(err);}finally{_iterator1785.f();}mi(_s991,this.board.selectedTextRange);}}catch(err){_iterator1784.e(err);}finally{_iterator1784.f();}}},{key:"iE",value:function iE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"increase";this.board.undoManager.checkpoint("Line spacing");var e=this.Vd();e.filter(function(t){return Ci(t);});var _iterator1786=_createForOfIteratorHelper(e),_step1786;try{for(_iterator1786.s();!(_step1786=_iterator1786.n()).done;){var _i1683=_step1786.value;var _iterator1787=_createForOfIteratorHelper(_i1683.querySelectorAll("tspan")),_step1787;try{for(_iterator1787.s();!(_step1787=_iterator1787.n()).done;){var _e2032=_step1787.value;if(Si(_e2032)){var _i1684=_e2032.dy.baseVal[0].valueInSpecifiedUnits;"decrease"===t?_e2032.setAttribute("dy",J(_i1684-.1,this.board.geometryPrecision)+"em"):"increase"===t?_e2032.setAttribute("dy",J(_i1684+.1,this.board.geometryPrecision)+"em"):"reset"===t&&_e2032.setAttribute("dy","1em");}}}catch(err){_iterator1787.e(err);}finally{_iterator1787.f();}}}catch(err){_iterator1786.e(err);}finally{_iterator1786.f();}}},{key:"JO",value:function JO(){var _this$Vd15=this.Vd(!0),_this$Vd16=_slicedToArray(_this$Vd15,1),t=_this$Vd16[0],e=t.map(function(t){return t.computedStyleMap().get("letter-spacing");}).map(function(t){return t instanceof CSSNumericValue?t.value:0;});return e.length>0&&!1===ni(e,0);}},{key:"eE",value:function eE(){var _this$Vd17=this.Vd(!0),_this$Vd18=_slicedToArray(_this$Vd17,1),t=_this$Vd18[0],e=t.map(function(t){return t.computedStyleMap().get("word-spacing");}).map(function(t){return t instanceof CSSNumericValue?t.value:0;});return e.length>0&&!1===ni(e,0);}},{key:"sE",value:function sE(){var t=this.Vd(),e=(t.filter(function(t){return Ci(t);}),[]);var _iterator1788=_createForOfIteratorHelper(t),_step1788;try{for(_iterator1788.s();!(_step1788=_iterator1788.n()).done;){var _i1685=_step1788.value;var _iterator1789=_createForOfIteratorHelper(_i1685.querySelectorAll("tspan")),_step1789;try{for(_iterator1789.s();!(_step1789=_iterator1789.n()).done;){var _t2670=_step1789.value;Si(_t2670)&&e.push(_t2670.dy.baseVal[0].valueInSpecifiedUnits);}}catch(err){_iterator1789.e(err);}finally{_iterator1789.f();}}}catch(err){_iterator1788.e(err);}finally{_iterator1788.f();}return e.length>0&&!1===ni(e,1);}},{key:"UO",value:function UO(){return null!==this.board.selectedTextRange||void 0!==this.board.selectedElements.find(function(t){return"text"===t.localName;});}},{key:"Vd",value:function Vd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[],i=function i(t){var _iterator1790=_createForOfIteratorHelper(t),_step1790;try{for(_iterator1790.s();!(_step1790=_iterator1790.n()).done;){var _s993=_step1790.value;"text"===_s993.localName?e.push(_s993):"g"!==_s993.localName&&"a"!==_s993.localName||i(_s993.children);}}catch(err){_iterator1790.e(err);}finally{_iterator1790.f();}};if(i(this.board.outermostSelectedElements),!1===t)return e;{var _t2671=[],_i1686=[],_s994=this.board.selectedTextRange;for(var _i1687=0,_e2033=e;_i1687<_e2033.length;_i1687++){var _n658=_e2033[_i1687];var _e2034=wi(_n658);if(_s994&&_s994.intersectsNode(_n658)){"backward"===_s994.direction&&_e2034.reverse();var _iterator1791=_createForOfIteratorHelper(_e2034),_step1791;try{for(_iterator1791.s();!(_step1791=_iterator1791.n()).done;){var _n659=_step1791.value;if(_s994.intersectsNode(_n659)){var _e2035=_n659.closest("tspan, text");_t2671.includes(_n659.parentElement)||_t2671.push(_n659.parentElement),_i1686.includes(_e2035)||_i1686.push(_e2035);}}}catch(err){_iterator1791.e(err);}finally{_iterator1791.f();}}else{var _iterator1792=_createForOfIteratorHelper(_e2034),_step1792;try{for(_iterator1792.s();!(_step1792=_iterator1792.n()).done;){var _i1688=_step1792.value;_t2671.includes(_i1688.parentElement)||_t2671.push(_i1688.parentElement);}}catch(err){_iterator1792.e(err);}finally{_iterator1792.f();}_i1686.push(_n658);}}return[_t2671,_i1686];}}},{key:"gb",value:function gb(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1793=_createForOfIteratorHelper(s),_step1793;try{for(_iterator1793.s();!(_step1793=_iterator1793.n()).done;){var _n660=_step1793.value;t.includes(_n660.localName)?e.push(_n660):"g"!==_n660.localName&&"a"!==_n660.localName||i(_n660.children);}}catch(err){_iterator1793.e(err);}finally{_iterator1793.f();}};return i(this.board.outermostSelectedElements),e;}}]);return yw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yw,"_shadowTemplate",Ki(_templateObject573()));_defineProperty(yw,"_shadowStyleSheet",Qi(_templateObject574()));customElements.define("bx-editor",yw);var kw=/*#__PURE__*/function(_HTMLElement148){_inherits(kw,_HTMLElement148);var _super247=_createSuper(kw);_createClass(kw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function kw(){var _this1111;_classCallCheck(this,kw);_this1111=_super247.call(this),_this1111._shadowRoot=_this1111.attachShadow({mode:"closed"}),_this1111._shadowRoot.append(document.importNode(_this1111.constructor._shadowTemplate.content,!0)),_this1111._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,kw._shadowStyleSheet,_this1111.constructor._shadowStyleSheet];var _iterator1794=_createForOfIteratorHelper(_this1111._shadowRoot.querySelectorAll("[id]")),_step1794;try{for(_iterator1794.s();!(_step1794=_iterator1794.n()).done;){var t=_step1794.value;_this1111["#"+t.id]=t;}}catch(err){_iterator1794.e(err);}finally{_iterator1794.f();}_this1111.setAttribute("extends","bx-appsettings");return _this1111;}_createClass(kw,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.en():this.sn());}},{key:"en",value:function en(){}},{key:"sn",value:function sn(){}}]);return kw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kw,"observedAttributes",["enabled"]);_defineProperty(kw,"_shadowStyleSheet",Qi(_templateObject575()));var Sw=/*#__PURE__*/function(_kw){_inherits(Sw,_kw);var _super248=_createSuper(Sw);function Sw(){var _this1112;_classCallCheck(this,Sw);_this1112=_super248.call(this),_this1112["#hardware-acceleration-checkbox"].addEventListener("toggle",function(){_this1112.Js.hardwareAcceleration=_this1112["#hardware-acceleration-checkbox"].toggled;}),_this1112["#recent-files-select"].addEventListener("change",function(){var t=parseInt(_this1112["#recent-files-select"].value);_this1112.Js.setConfig("bx-generalsettings:maxRecentFiles",t),_this1112.Js.clearExcessiveRecentFiles&&_this1112.Js.clearExcessiveRecentFiles(t);});return _this1112;}_createClass(Sw,[{key:"en",value:function en(){this.Xs();}},{key:"Xs",value:function(){var _Xs11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee279(){var t,e,i;return regeneratorRuntime.wrap(function _callee279$(_context281){while(1){switch(_context281.prev=_context281.next){case 0:_context281.next=2;return this.Js.hardwareAcceleration;case 2:t=_context281.sent;e=this.Js.getConfig("bx-generalsettings:maxRecentFiles",5);i=this.Js.matches("bx-webapp, bx-portalapp");this["#hardware-acceleration-section"].hidden=i,this["#hardware-acceleration-checkbox"].toggled=t,this["#recent-files-section"].hidden=!i,this["#recent-files-select"].value=e+"",this["#hr-1"].hidden=this["#hardware-acceleration-section"].hidden||this["#recent-files-section"].hidden;case 6:case"end":return _context281.stop();}}},_callee279,this);}));function Xs(){return _Xs11.apply(this,arguments);}return Xs;}()}]);return Sw;}(kw);_defineProperty(Sw,"_shadowTemplate",Ki(_templateObject576()));_defineProperty(Sw,"_shadowStyleSheet",Qi(_templateObject577()));customElements.define("bx-generalsettings",Sw);var Cw=/*#__PURE__*/function(_kw2){_inherits(Cw,_kw2);var _super249=_createSuper(Cw);function Cw(){var _this1113;_classCallCheck(this,Cw);_this1113=_super249.call(this),_this1113["#theme-select"].addEventListener("change",function(){return _this1113.pE();}),_this1113["#color-scheme-select"].addEventListener("change",function(){return _this1113.uE();}),_this1113["#accent-color-preset-select"].addEventListener("change",function(t){return _this1113.xE(t);}),_this1113["#accent-color-select"].addEventListener("changestart",function(t){return _this1113.bE(t);}),_this1113["#widgets-size-select"].addEventListener("change",function(){return _this1113.mE();}),_this1113["#show-install-button-checkbox"].addEventListener("toggle",function(){_this1113.Js.setConfig("bx-uisettings:showInstallButton",_this1113["#show-install-button-checkbox"].toggled);}),_this1113["#show-cloud-button-checkbox"].addEventListener("toggle",function(){_this1113.Js.setConfig("bx-uisettings:showCloudButton",_this1113["#show-cloud-button-checkbox"].toggled);}),_this1113["#show-dock-tooltips-checkbox"].addEventListener("toggle",function(){_this1113.Js.setConfig("bx-uisettings:showDockTooltips",_this1113["#show-dock-tooltips-checkbox"].toggled);}),_this1113["#limit-scrollable-area-checkbox"].addEventListener("toggle",function(){_this1113.Js.setConfig("bx-uisettings:limitScrollableArea",_this1113["#limit-scrollable-area-checkbox"].toggled);}),_this1113["#show-view-outline-above-objects-checkbox"].addEventListener("toggle",function(){_this1113.Js.setConfig("bx-uisettings:showViewOutlineAboveObjects",_this1113["#show-view-outline-above-objects-checkbox"].toggled);});return _this1113;}_createClass(Cw,[{key:"en",value:function(){var _en4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee280(){var _this1114=this;return regeneratorRuntime.wrap(function _callee280$(_context282){while(1){switch(_context282.prev=_context282.next){case 0:_context282.next=2;return Gs.whenThemeReady;case 2:this.Xs();this.gE=window.matchMedia("(prefers-color-scheme: dark)");this.Js.addEventListener("userchange",this.X_=function(){return _this1114.Xs();});this.Js.addEventListener("installedchange",this.fE=function(){return _this1114.Xs();});this.gE.addEventListener("change",this.wE=function(){return _this1114.Xs();});Gs.addEventListener("themechange",this.vE=function(){return _this1114.Xs();});Gs.addEventListener("accentcolorchange",this.yE=function(){return _this1114.Xs();});case 9:case"end":return _context282.stop();}}},_callee280,this);}));function en(){return _en4.apply(this,arguments);}return en;}()},{key:"sn",value:function sn(){this.Js.removeEventListener("userchange",this.X_),this.Js.removeEventListener("installedchange",this.fE),this.gE.removeEventListener("change",this.wE),Gs.removeEventListener("themechange",this.vE),Gs.removeEventListener("accentcolorchange",this.yE);}},{key:"pE",value:function pE(){this.Js.setConfig("bx-uisettings:theme",this["#theme-select"].value);}},{key:"uE",value:function uE(){var t=this["#color-scheme-select"].value;"bx-macapp"===this.Js.localName?this.Js.setColorScheme(t):this.Js.setConfig("bx-uisettings:colorScheme",t),this.Xs();}},{key:"xE",value:function xE(){"custom"===this["#accent-color-preset-select"].value?(this.Js.setConfig("bx-uisettings:accentColor",this["#accent-color-select"].value),this["#accent-color-select"].click()):"auto"===this["#accent-color-preset-select"].value?this.Js.setConfig("bx-uisettings:accentColor","auto"):this.Js.setConfig("bx-uisettings:accentColor",this["#accent-color-preset-select"].value);}},{key:"bE",value:function bE(){var _this1115=this;var t,_e2036;this["#accent-color-preset-select"].value="custom",this["#accent-color-select"].addEventListener("change",t=ts(function(){_this1115.Js.setConfig("bx-uisettings:accentColor",_this1115["#accent-color-select"].value);},150)),this["#accent-color-select"].addEventListener("changeend",_e2036=function e(){_this1115["#accent-color-select"].removeEventListener("change",t),_this1115["#accent-color-select"].removeEventListener("changeend",_e2036);});}},{key:"mE",value:function mE(){this.Js.setConfig("bx-uisettings:widgetsSize",this["#widgets-size-select"].value);}},{key:"Xs",value:function(){var _Xs12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee281(){var _e2037,_i1689,_t2672,_e2038,_t2673,_t2674,_t2675,_e2039,_t2676,_i1690,_arr94,_e2040,_i1691,_e2041,_i1692,_e2042,_i1693,_s995,_i1694,_t2677,_e2043,_Wg5,_Wg6,_t2678,_t2679,_t2680,_e2044;return regeneratorRuntime.wrap(function _callee281$(_context283){while(1){switch(_context283.prev=_context283.next){case 0:if("bx-macapp"===this.Js.localName)this["#theme-section"].hidden=!0;else if("bx-linuxapp"===this.Js.localName)this["#theme-section"].hidden=!0;else if("bx-chromeapp"===this.Js.localName)this["#theme-section"].hidden=!0;else if("bx-webapp"===this.Js.localName||"bx-portalapp"===this.Js.localName){_e2037=this.Js.getConfig("bx-uisettings:theme","auto"),_i1689=null;"cupertino"===_e2037&&!1===t&&(_e2037="auto"),_i1689=navigator.platform.startsWith("Mac")?"cupertino":navigator.platform.startsWith("Win")?"fluent":navigator.platform.startsWith("Linux")?(navigator.userAgent.includes("CrOS")||navigator.userAgent.includes("Android"),"vanilla"):"vanilla",this["#auto-theme-label"].textContent="Auto ("+ai(_i1689)+")",this["#cupertino-theme-select-item"].hidden=!1===t,this["#theme-select"].value=_e2037;}if(!("bx-macapp"===this.Js.localName)){_context283.next=14;break;}_context283.next=4;return this.Js.getColorScheme();case 4:_t2672=_context283.sent;_e2038="Auto";if(!("auto"===_t2672)){_context283.next=11;break;}_context283.next=9;return this.Js.getColorScheme(!0);case 9:_t2673=_context283.sent;_e2038+=" ("+ai(_t2673)+")";case 11:this["#auto-color-scheme-label"].textContent=_e2038,this["#color-scheme-select"].value=_t2672;_context283.next=15;break;case 14:if("bx-linuxapp"===this.Js.localName){_t2674=this.Js.getConfig("bx-uisettings:colorScheme","light");this["#color-scheme-menu"].children[0].hidden=!0,this["#color-scheme-menu"].children[1].hidden=!0,this["#color-scheme-select"].value=_t2674;}else if("bx-chromeapp"===this.Js.localName||"bx-webapp"===this.Js.localName||"bx-portalapp"===this.Js.localName){_t2675=this.Js.getConfig("bx-uisettings:colorScheme","auto"),_e2039=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this["#auto-color-scheme-label"].textContent="Auto ("+ai(_e2039)+")",this["#color-scheme-select"].value=_t2675;}case 15:_t2676=Gs.presetAccentColors;for(_i1690=0,_arr94=_toConsumableArray(this["#accent-color-preset-menu"].querySelectorAll("x-swatch"));_i1690<_arr94.length;_i1690++){_e2040=_arr94[_i1690];_i1691=_e2040.parentElement;_e2040.value=_t2676[_i1691.value];}if("bx-macapp"===this.Js.localName)this["#accent-color-subsection"].hidden=!0;else if("bx-linuxapp"===this.Js.localName||"bx-chromeapp"===this.Js.localName){_e2041=this.Js.getConfig("bx-uisettings:accentColor","blue"),_i1692=!!_t2676[_e2041];this["#accent-color-preset-menu"].children[0].hidden=!0,this["#accent-color-preset-menu"].children[1].hidden=!0,this["#accent-color-preset-select"].value=_i1692?_e2041:"custom",this["#accent-color-select"].value=_i1692?_t2676[_e2041]:_e2041;}else if("bx-webapp"===this.Js.localName||"bx-portalapp"===this.Js.localName){_e2042=this.Js.getConfig("bx-uisettings:accentColor","auto"),_i1693=this.Js.getSystemAccentColorName(),_s995=_t2676[_i1693];if(this["#auto-accent-color-preset-label"].textContent="Auto ("+ai(_i1693)+")",this["#auto-accent-color-preset-swatch"].value=_s995,"auto"===_e2042)this["#accent-color-preset-select"].value="auto",this["#accent-color-select"].value=_s995;else{_i1694=!!_t2676[_e2042];this["#accent-color-preset-select"].value=_i1694?_e2042:"custom",this["#accent-color-select"].value=_i1694?_t2676[_e2042]:_e2042;}}if("bx-macapp"===this.Js.localName)this["#widgets-size-subsection"].hidden=!0;else{_t2677=this.Js.getConfig("bx-uisettings:widgetsSize","auto"),_e2043=null;_e2043=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large",this["#auto-widgets-size-label"].textContent="Auto ("+ai(_e2043)+")",this["#widgets-size-select"].value=_t2677;}if(this["#size-section"].hidden=this["#widgets-size-subsection"].hidden,"bx-macapp"===this.Js.localName||"bx-linuxapp"===this.Js.localName||"bx-chromeapp"===this.Js.localName)this["#menubar-section"].hidden=!0;else if("bx-webapp"===this.Js.localName||"bx-portalapp"===this.Js.localName){_Wg5=Wg(this.Js.userSubscription,this.Js.user),_Wg6=_slicedToArray(_Wg5,1),_t2678=_Wg6[0];this["#show-install-button-checkbox"].hidden=!0===this.Js.isInstalled,this["#show-install-button-checkbox"].toggled=this.Js.getConfig("bx-uisettings:showInstallButton",!0),this["#show-cloud-button-checkbox"].hidden=null===_t2678||_t2678===e,this["#show-cloud-button-checkbox"].toggled=this.Js.getConfig("bx-uisettings:showCloudButton",!0);}_t2679=this.Js.getConfig("bx-uisettings:showDockTooltips",!0);this["#show-dock-tooltips-checkbox"].toggled=_t2679;_t2680=this.Js.getConfig("bx-uisettings:limitScrollableArea",!1),_e2044=this.Js.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1);this["#limit-scrollable-area-checkbox"].toggled=_t2680,this["#show-view-outline-above-objects-checkbox"].toggled=_e2044;case 24:case"end":return _context283.stop();}}},_callee281,this);}));function Xs(){return _Xs12.apply(this,arguments);}return Xs;}()}]);return Cw;}(kw);_defineProperty(Cw,"_shadowTemplate",Ki(_templateObject578()));_defineProperty(Cw,"_shadowStyleSheet",Qi(_templateObject579()));customElements.define("bx-uisettings",Cw);var _w=/*#__PURE__*/function(_kw3){_inherits(_w,_kw3);var _super250=_createSuper(_w);function _w(){var _this1116;_classCallCheck(this,_w);_this1116=_super250.call(this),_this1116["#geometry-precision-slider"].addEventListener("changeend",function(){_this1116.Js.setConfig("bx-markupsettings:geometryPrecision",_this1116["#geometry-precision-slider"].value);}),_this1116["#transform-precision-slider"].addEventListener("changeend",function(){_this1116.Js.setConfig("bx-markupsettings:transformPrecision",_this1116["#transform-precision-slider"].value);}),_this1116["#indentation-slider"].addEventListener("changeend",function(){_this1116.Js.setConfig("bx-markupsettings:indentation",_this1116["#indentation-slider"].value);});return _this1116;}_createClass(_w,[{key:"en",value:function en(){this.Xs();}},{key:"Xs",value:function Xs(){var t=this.Js.getConfig("bx-markupsettings:geometryPrecision",3),e=this.Js.getConfig("bx-markupsettings:transformPrecision",6),i=this.Js.getConfig("bx-markupsettings:indentation",2);this["#geometry-precision-slider"].value=t,this["#transform-precision-slider"].value=e,this["#indentation-slider"].value=i;}}]);return _w;}(kw);_defineProperty(_w,"_shadowTemplate",Ki(_templateObject580()));customElements.define("bx-markupsettings",_w);var Mw=/*#__PURE__*/function(_kw4){_inherits(Mw,_kw4);var _super251=_createSuper(Mw);function Mw(){var _this1117;_classCallCheck(this,Mw);_this1117=_super251.call(this),_this1117["#defs-section"].addEventListener("toggle",function(t){_this1117.kE(t);});return _this1117;}_createClass(Mw,[{key:"en",value:function en(){this.Xs();}},{key:"kE",value:function kE(t){this.Js.setConfig("bx-garbagecollectorsettings:collectOptions",{colors:this["#colors-buttons"].value,gradients:this["#gradients-buttons"].value,patterns:this["#patterns-buttons"].value,markers:this["#markers-buttons"].value,symbols:this["#symbols-buttons"].value,filters:this["#filters-buttons"].value,fonts:this["#fonts-buttons"].value});}},{key:"Xs",value:function Xs(){var t=this.Js.getConfig("bx-garbagecollectorsettings:collectOptions",Bp);this["#colors-buttons"].value=t.colors,this["#gradients-buttons"].value=t.gradients,this["#patterns-buttons"].value=t.patterns,this["#markers-buttons"].value=t.markers,this["#symbols-buttons"].value=t.symbols,this["#filters-buttons"].value=t.filters,this["#fonts-buttons"].value=t.fonts;}}]);return Mw;}(kw);_defineProperty(Mw,"_shadowTemplate",Ki(_templateObject581()));_defineProperty(Mw,"_shadowStyleSheet",Qi(_templateObject582()));customElements.define("bx-garbagecollectorsettings",Mw);var Pw=Symbol(),Dw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"];var zw=/*#__PURE__*/function(_HTMLElement149){_inherits(zw,_HTMLElement149);var _super252=_createSuper(zw);_createClass(zw,[{key:"value",get:function get(){return this.SE;},set:function set(t){this.SE=t,!0===this.CE&&this.Xs();}}]);function zw(){var _this1118;_classCallCheck(this,zw);_this1118=_super252.call(this),_this1118.SE={},_this1118.CE=!1,_this1118._shadowRoot=_this1118.attachShadow({mode:"closed"}),_this1118._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,zw._shadowStyleSheet],_this1118._shadowRoot.append(document.importNode(zw._shadowTemplate.content,!0));var _iterator1795=_createForOfIteratorHelper(_this1118._shadowRoot.querySelectorAll("[id]")),_step1795;try{for(_iterator1795.s();!(_step1795=_iterator1795.n()).done;){var _t2681=_step1795.value;_this1118["#"+_t2681.id]=_t2681;}}catch(err){_iterator1795.e(err);}finally{_iterator1795.f();}_this1118._shadowRoot.addEventListener("keydown",function(t){return _this1118.Tn(t);}),_this1118["#items"].addEventListener("blur",function(){return _this1118._E();}),_this1118["#items"].addEventListener("click",function(t){return _this1118.lp(t);}),_this1118["#items"].addEventListener("scroll",function(){return _this1118.Hv();}),_this1118["#filter-input"].addEventListener("input",function(){return _this1118.ME();}),_this1118["#filter-buttons"].addEventListener("toggle",function(){return _this1118.PE();}),_this1118["#filter-buttons"].addEventListener("click",function(){return _this1118["#items"].focus();});return _this1118;}_createClass(zw,[{key:"connectedCallback",value:function connectedCallback(){var _this1119=this;this.Js=Ri(this,"#app"),this.CE=!0,this.Xs(),Gs.addEventListener("sizechange",this.dp=function(){_this1119.DE();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.dp);}},{key:"_E",value:function _E(){var t=this["#items"].querySelector(".item[data-editable]");t&&(t.removeAttribute("data-editable"),this.zE(t));}},{key:"lp",value:function lp(t){var e=t.target.closest(".reset-button"),i=t.target.closest(".item");if(e)this["do"](t);else if(i)this.Dv(t);else{var _iterator1796=_createForOfIteratorHelper(this["#items"].children),_step1796;try{for(_iterator1796.s();!(_step1796=_iterator1796.n()).done;){var _t2682=_step1796.value;_t2682.hasAttribute("data-editable")&&(_t2682.removeAttribute("data-editable"),this.zE(_t2682));}}catch(err){_iterator1796.e(err);}finally{_iterator1796.f();}}}},{key:"Dv",value:function Dv(t){var e=t.target.closest(".item");if(2===t.detail)!1===e.hasAttribute("data-editable")&&(e.setAttribute("data-editable",""),this.zE(e));else{var _iterator1797=_createForOfIteratorHelper(this["#items"].children),_step1797;try{for(_iterator1797.s();!(_step1797=_iterator1797.n()).done;){var _t2683=_step1797.value;_t2683===e?_t2683.setAttribute("data-selected",""):_t2683.removeAttribute("data-selected"),_t2683.hasAttribute("data-editable")&&(_t2683.removeAttribute("data-editable"),this.zE(_t2683));}}catch(err){_iterator1797.e(err);}finally{_iterator1797.f();}}}},{key:"Hv",value:function Hv(){}},{key:"do",value:function _do(t){var e=t.target.closest(".reset-button").closest(".item"),i=e[Pw].commandID;delete this.SE[i],this.dispatchEvent(new CustomEvent("change")),this.zE(e),this.OE();}},{key:"PE",value:function PE(){this["#filter-input"].value="",this.ME();}},{key:"Tn",value:function Tn(t){var e=Ja.fromEvent(t);if(t.target===this["#items"]){var _i1695=this["#items"].querySelector(".item[data-editable]");if(_i1695){if(t.preventDefault(),t.stopPropagation(),e.matches("Backspace")||e.matches("Delete")||e.matches("Escape")||e.matches("Enter")||e.matches("Space"))_i1695.removeAttribute("data-editable"),this.zE(_i1695);else if(e.key&&!1===Dw.includes(e.toString())){var _i1695$Pw=_i1695[Pw],_t2684=_i1695$Pw.commandID,_s996=_i1695$Pw.defaultShortcut,_n661=this.SE[_t2684]||null;_n661&&e.toString()===_n661?(_i1695.removeAttribute("data-editable"),this.zE(_i1695)):_s996&&e.toString()===_s996?(delete this.SE[_t2684],this.dispatchEvent(new CustomEvent("change")),_i1695.removeAttribute("data-editable"),this.zE(_i1695),this.OE()):(this.SE[_t2684]=e.toString(),this.dispatchEvent(new CustomEvent("change")),_i1695.removeAttribute("data-editable"),this.zE(_i1695),this.OE());}}else if(e.matches("ArrowUp"))t.preventDefault(),this.xx();else if(e.matches("ArrowDown"))t.preventDefault(),this.mx();else if(e.matches("Enter")){t.preventDefault();var _e2045=this["#items"].querySelector(".item[data-selected]:not([hidden])");_e2045.setAttribute("data-editable",""),this.zE(_e2045);}else if(e.matches("Backspace")||e.matches("Delete")){var _e2046=this["#items"].querySelector(".item[data-selected]:not([hidden])"),_e2046$Pw=_e2046[Pw],_i1696=_e2046$Pw.commandID,_s997=_e2046$Pw.defaultShortcut;void 0!==this.SE[_i1696]?(t.preventDefault(),delete this.SE[_i1696],this.dispatchEvent(new CustomEvent("change")),this.zE(_e2046),this.OE()):null!==_s997&&(t.preventDefault(),this.SE[_i1696]=null,this.dispatchEvent(new CustomEvent("change")),this.zE(_e2046),this.OE());}}}},{key:"$v",value:function $v(t){var e=Ki(_templateObject110(),'\n  <div class="item">\n    <div class="command-label"></div>\n    <div class="shortcut-label"></div>\n\n    <x-button class="button reset-button" title="Reset to default shortcut" skin="recessed" toggled condensed>\n      <x-label>Reset</x-label>\n    </x-button>\n  </div>\n');return e[Pw]=t,this.zE(e),e;}},{key:"xx",value:function xx(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i-1];if(s){s.scrollIntoViewIfNeeded();var _iterator1798=_createForOfIteratorHelper(this["#items"].children),_step1798;try{for(_iterator1798.s();!(_step1798=_iterator1798.n()).done;){var _t2685=_step1798.value;_t2685===s?_t2685.setAttribute("data-selected",""):_t2685.removeAttribute("data-selected");}}catch(err){_iterator1798.e(err);}finally{_iterator1798.f();}}}},{key:"mx",value:function mx(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i+1];if(s){s.scrollIntoViewIfNeeded();var _iterator1799=_createForOfIteratorHelper(this["#items"].children),_step1799;try{for(_iterator1799.s();!(_step1799=_iterator1799.n()).done;){var _t2686=_step1799.value;_t2686===s?_t2686.setAttribute("data-selected",""):_t2686.removeAttribute("data-selected");}}catch(err){_iterator1799.e(err);}finally{_iterator1799.f();}}}},{key:"Xs",value:function(){var _Xs13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee282(){var _t2687,_iterator1800,_step1800,_e2047,_t2688,_iterator1801,_step1801,_t2689;return regeneratorRuntime.wrap(function _callee282$(_context284){while(1){switch(_context284.prev=_context284.next){case 0:if(!(0===this["#items"].childElementCount)){_context284.next=9;break;}_context284.next=3;return this.Js.getShortcutsEditorModel();case 3:_t2687=_context284.sent;this["#items"].innerHTML="";_iterator1800=_createForOfIteratorHelper(_t2687);try{for(_iterator1800.s();!(_step1800=_iterator1800.n()).done;){_e2047=_step1800.value;_t2688=this.$v(_e2047);this["#items"].append(_t2688);}}catch(err){_iterator1800.e(err);}finally{_iterator1800.f();}_context284.next=11;break;case 9:_iterator1801=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1801.s();!(_step1801=_iterator1801.n()).done;){_t2689=_step1801.value;this.zE(_t2689);}}catch(err){_iterator1801.e(err);}finally{_iterator1801.f();}case 11:this.DE(),this.OE();case 12:case"end":return _context284.stop();}}},_callee282,this);}));function Xs(){return _Xs13.apply(this,arguments);}return Xs;}()},{key:"zE",value:function zE(t){var _t$Pw=t[Pw],e=_t$Pw.commandID,i=_t$Pw.label,s=_t$Pw.defaultShortcut,n=this.SE[e];n||null===n?t.setAttribute("data-user-shortcut",""):t.removeAttribute("data-user-shortcut");t.querySelector(".command-label").textContent=i;{var _e2048=t.querySelector(".shortcut-label");t.hasAttribute("data-editable")?_e2048.textContent="Press new shortcut":n?_e2048.textContent=Ja.fromString(n).toDisplayString():null===n?_e2048.textContent="":void 0===n&&(_e2048.textContent=s?Ja.fromString(s).toDisplayString():"");}t.querySelector(".reset-button").hidden=void 0===n;}},{key:"OE",value:function OE(){var t=0;var _iterator1802=_createForOfIteratorHelper(this["#items"].children),_step1802;try{for(_iterator1802.s();!(_step1802=_iterator1802.n()).done;){var _e2049=_step1802.value;var _e2049$Pw=_e2049[Pw],_i1697=_e2049$Pw.commandID,_s998=_e2049$Pw.defaultShortcut,_n662=this.SE[_i1697]||_s998,_o567=!1;if(_n662){var _iterator1803=_createForOfIteratorHelper(this["#items"].children),_step1803;try{for(_iterator1803.s();!(_step1803=_iterator1803.n()).done;){var _t2690=_step1803.value;if(_t2690!==_e2049){var _e2050=this.SE[_t2690[Pw].commandID]||_t2690[Pw].defaultShortcut;if(_e2050&&_e2050===_n662){_o567=!0;break;}}}}catch(err){_iterator1803.e(err);}finally{_iterator1803.f();}}_o567?(_e2049.setAttribute("data-conflicting",""),t+=1):_e2049.removeAttribute("data-conflicting");}}catch(err){_iterator1802.e(err);}finally{_iterator1802.f();}this["#conflicting-items-counter"].textContent=t>0?"(".concat(t,")"):"";}},{key:"DE",value:function DE(){this["#items"].setAttribute("data-size",Gs.size);}},{key:"ME",value:function ME(){var t=this["#filter-input"].value.trim().toLowerCase();var _iterator1804=_createForOfIteratorHelper(this["#items"].querySelectorAll(".command-label")),_step1804;try{for(_iterator1804.s();!(_step1804=_iterator1804.n()).done;){var _e2051=_step1804.value;var _i1698=_e2051.closest(".item"),_s999=!1;if(t.length>0){_s999=-1===_e2051.textContent.trim().toLowerCase().indexOf(t);}else _s999=!1;_s999||("custom"===this["#filter-buttons"].value?!1===_i1698.hasAttribute("data-user-shortcut")&&(_s999=!0):"conflicting"===this["#filter-buttons"].value&&!1===_i1698.hasAttribute("data-conflicting")&&(_s999=!0)),_i1698.hidden=_s999;}}catch(err){_iterator1804.e(err);}finally{_iterator1804.f();}}}]);return zw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zw,"_shadowTemplate",Ki(_templateObject583()));_defineProperty(zw,"_shadowStyleSheet",Qi(_templateObject584()));customElements.define("bx-shortcutseditor",zw);var Ow=/*#__PURE__*/function(_kw5){_inherits(Ow,_kw5);var _super253=_createSuper(Ow);function Ow(){var _this1120;_classCallCheck(this,Ow);_this1120=_super253.call(this),_this1120["#tabs"].addEventListener("change",function(){return _this1120.EE();}),_this1120["#shortcuts-editor"].addEventListener("change",function(){return _this1120.TE();}),_this1120["#space-modifier-radios"].addEventListener("toggle",function(){return _this1120.AE();});return _this1120;}_createClass(Ow,[{key:"en",value:function en(){var t=this.Js.getConfig("bx-keyboardsettings:userShortcuts",{}),e=this.Js.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");this["#shortcuts-editor"].value=t,this["#space-modifier-radios"].value=e;}},{key:"EE",value:function EE(){this["#shortcuts-view"].hidden="shortcuts"!==this["#tabs"].value,this["#modifiers-view"].hidden="modifiers"!==this["#tabs"].value;}},{key:"TE",value:function TE(){this.Js.setConfig("bx-keyboardsettings:userShortcuts",this["#shortcuts-editor"].value);}},{key:"AE",value:function AE(){this.Js.setConfig("bx-keyboardsettings:spaceKeyMode",this["#space-modifier-radios"].value);}}]);return Ow;}(kw);_defineProperty(Ow,"_shadowTemplate",Ki(_templateObject585()));_defineProperty(Ow,"_shadowStyleSheet",Qi(_templateObject586()));customElements.define("bx-keyboardsettings",Ow);var Ew=Math.ceil,Tw=Math.floor;var Aw=/*#__PURE__*/function(_HTMLElement150){_inherits(Aw,_HTMLElement150);var _super254=_createSuper(Aw);_createClass(Aw,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"random";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"transparent",get:function get(){return this.hasAttribute("transparent");},set:function set(t){t?this.setAttribute("transparent",""):this.removeAttribute("transparent");}}],[{key:"reloadInstances",value:function reloadInstances(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator1805=_createForOfIteratorHelper(Aw.IE),_step1805;try{for(_iterator1805.s();!(_step1805=_iterator1805.n()).done;){var _e2052=_step1805.value;_e2052.value===t&&_e2052.reload();}}catch(err){_iterator1805.e(err);}finally{_iterator1805.f();}}}]);function Aw(){var _this1121;_classCallCheck(this,Aw);_this1121=_super254.call(this),_this1121._shadowRoot=_this1121.attachShadow({mode:"closed"}),_this1121._shadowRoot.adoptedStyleSheets=[Aw._shadowStyleSheet],_this1121._shadowRoot.append(document.importNode(Aw._shadowTemplate.content,!0));var _iterator1806=_createForOfIteratorHelper(_this1121._shadowRoot.querySelectorAll("[id]")),_step1806;try{for(_iterator1806.s();!(_step1806=_iterator1806.n()).done;){var _t2691=_step1806.value;_this1121["#"+_t2691.id]=_t2691;}}catch(err){_iterator1806.e(err);}finally{_iterator1806.f();}return _this1121;}_createClass(Aw,[{key:"connectedCallback",value:function connectedCallback(){Aw.IE.add(this),"quick-preferences-avatar"!==this.id&&this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Aw.IE["delete"](this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&this._shadowRoot&&("type"===t||"value"===t)&&this.Xs();}},{key:"reload",value:function reload(){"custom"===this.type&&(this["#img"].src="",this.Xs());}},{key:"Xs",value:function Xs(){if("custom"===this.type)null===this.value?(this["#img"].src="",this["#img"].hidden=!0):(this["#img"].src=Vg("/avatars/".concat(this.value,".png")),this["#img"].hidden=!1);else if("random"===this.type)if(null===this.value)this["#img"].src="",this["#img"].hidden=!0;else{if(void 0===Aw.$E[this.value]){var _t2692=function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:i/2;var n=il(50,100,0,t)/100,o=i*e+2*s,l=R[il(0,R.length-1,0,t)],a='<?xml version="1.0" encoding="utf-8"?>\n';a+="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"".concat(o,"px\" height=\"").concat(o,"px\" viewBox=\"0 0 ").concat(o," ").concat(o,"\">");var h=function h(t,e,n){a+="<rect x=\"".concat(s+t*i,"\" y=\"").concat(s+e*i,"\" width=\"").concat(i,"\" height=\"").concat(i,"\" style=\"fill: ").concat(n,";\"/>");};a+="<rect width=\"".concat(o,"\" height=\"").concat(o,"\" style=\"fill: ").concat(l[0],"; opacity: 0.2;\"/>");for(var _i1700=0;_i1700<Ew(e/2);_i1700++){for(var _s1000=0;_s1000<e;_s1000++){if(il(0,1,10,t+_i1700*_s1000)<n){var _n663=l[il(0,l.length-1,0,t+_i1700*_s1000)];h(_i1700,_s1000,_n663),_i1700<Tw(e/2)&&h(e-1-_i1700,_s1000,_n663);}}}return a+="</svg>",a;}(this.value),_e2053=new Blob([_t2692],{type:"image/svg+xml;charset=utf-8"}),_i1699=URL.createObjectURL(_e2053);Aw.$E[this.value]=_i1699;}this["#img"].src=Aw.$E[this.value],this["#img"].hidden=!1;}}}]);return Aw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Aw,"observedAttributes",["type","value"]);_defineProperty(Aw,"_shadowTemplate",Ki(_templateObject587()));_defineProperty(Aw,"$E",{});_defineProperty(Aw,"IE",new Set());_defineProperty(Aw,"_shadowStyleSheet",Qi(_templateObject588()));customElements.define("bx-avatar",Aw);var $w=/*#__PURE__*/function(_kw6){_inherits($w,_kw6);var _super255=_createSuper($w);function $w(){var _this1122;_classCallCheck(this,$w);_this1122=_super255.call(this),_this1122["#avatar-edit-button"].addEventListener("click",function(){return _this1122.LE();}),_this1122["#name-input"].addEventListener("input",function(){return _this1122.BE();}),_this1122["#name-input"].addEventListener("keydown",function(t){return _this1122.RE(t);}),_this1122["#name-change-button"].addEventListener("click",function(){return _this1122.GE();}),_this1122["#website-input"].addEventListener("input",function(){return _this1122.UE();}),_this1122["#website-input"].addEventListener("keydown",function(t){return _this1122.FE(t);}),_this1122["#website-change-button"].addEventListener("click",function(){return _this1122.NE();}),_this1122["#bio-editor"].addEventListener("input",function(){return _this1122.jE();}),_this1122["#bio-change-button"].addEventListener("click",function(){return _this1122.VE();});return _this1122;}_createClass($w,[{key:"en",value:function en(){var _this1123=this;this.Js.addEventListener("userprofilechange",this.HE=function(){return _this1123.Xs();}),this.Xs();}},{key:"sn",value:function sn(){this.Js.removeEventListener("userprofilechange",this.HE);}},{key:"LE",value:function LE(){"standalone"===this.Js.displayMode?window.open("/app/avatar","_blank","noopener,menubar=no,toolbar=no,location=no,status=no"):window.open("/app/avatar","_blank","noopener");}},{key:"BE",value:function BE(){var t=this.Js.userProfile.name,e=this["#name-input"].value.trim();t===e||""===e?(this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1):(this["#name-change-button"].disabled=!1,this["#name-change-button"].toggled=!0);}},{key:"RE",value:function RE(t){"Enter"===t.code&&!1===this["#name-change-button"].disabled&&this["#name-change-button"].click();}},{key:"GE",value:function(){var _GE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee283(){var t,e,i;return regeneratorRuntime.wrap(function _callee283$(_context285){while(1){switch(_context285.prev=_context285.next){case 0:firebase.functions();e=this.Js.user,i=this["#name-input"].value.trim();this["#name-input"].disabled=!0,this["#name-change-button"].disabled=!0,this["#name-throbber"].hidden=!1;_context285.prev=3;_context285.next=6;return this.Js.callCloudFunction("editUser",{userUID:e.uid,name:i});case 6:_context285.next=11;break;case 8:_context285.prev=8;_context285.t0=_context285["catch"](3);t=_context285.t0;case 11:t?(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!1,this["#name-throbber"].hidden=!0,"name-taken"===t.details?this["#name-input"].error="This name is already taken.":"auth/invalid-display-name"===t.details?this["#name-input"].error="Invalid name.":this.Js.openMessageDialog({message:"Failed to change user name",detail:jg(t),buttons:["OK"]})):(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1,this["#name-throbber"].hidden=!0);case 12:case"end":return _context285.stop();}}},_callee283,this,[[3,8]]);}));function GE(){return _GE.apply(this,arguments);}return GE;}()},{key:"UE",value:function UE(){this.Js.userProfile.websiteURL===this["#website-input"].value.trim()?(this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1):(this["#website-change-button"].disabled=!1,this["#website-change-button"].toggled=!0);}},{key:"FE",value:function FE(t){"Enter"===t.code&&!1===this["#website-change-button"].disabled&&this["#website-change-button"].click();}},{key:"NE",value:function(){var _NE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee284(){var t,e,i;return regeneratorRuntime.wrap(function _callee284$(_context286){while(1){switch(_context286.prev=_context286.next){case 0:firebase.functions();e=this.Js.user,i=this["#website-input"].value.trim();this["#website-input"].disabled=!0,this["#website-input"].error=null,this["#website-change-button"].disabled=!0,this["#website-throbber"].hidden=!1;_context286.prev=3;_context286.next=6;return this.Js.callCloudFunction("editUser",{userUID:e.uid,websiteURL:i});case 6:_context286.next=11;break;case 8:_context286.prev=8;_context286.t0=_context286["catch"](3);t=_context286.t0;case 11:t?(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!1,this["#website-throbber"].hidden=!0,"invalid-url"===t.details?this["#website-input"].error="This URL is not valid.":this.Js.openMessageDialog({message:"Failed to change user website",detail:jg(t),buttons:["OK"]})):(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1,this["#website-throbber"].hidden=!0);case 12:case"end":return _context286.stop();}}},_callee284,this,[[3,8]]);}));function NE(){return _NE.apply(this,arguments);}return NE;}()},{key:"jE",value:function jE(){this.Js.userProfile.bio===this["#bio-editor"].value.trim()?(this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1):(this["#bio-change-button"].disabled=!1,this["#bio-change-button"].toggled=!0);}},{key:"VE",value:function(){var _VE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee285(){var t,e,i;return regeneratorRuntime.wrap(function _callee285$(_context287){while(1){switch(_context287.prev=_context287.next){case 0:firebase.functions();e=this.Js.user,i=this["#bio-editor"].value.trim();this["#bio-editor"].disabled=!0,this["#bio-change-button"].disabled=!0,this["#bio-throbber"].hidden=!1;_context287.prev=3;_context287.next=6;return this.Js.callCloudFunction("editUser",{userUID:e.uid,bio:i});case 6:_context287.next=11;break;case 8:_context287.prev=8;_context287.t0=_context287["catch"](3);t=_context287.t0;case 11:t?(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!1,this["#bio-throbber"].hidden=!0,"invalid-url"===t.details?this["#bio-editor"].error="This URL is not valid.":this.Js.openMessageDialog({message:"Failed to change user bio",detail:jg(t),buttons:["OK"]})):(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1,this["#bio-throbber"].hidden=!0);case 12:case"end":return _context287.stop();}}},_callee285,this,[[3,8]]);}));function VE(){return _VE.apply(this,arguments);}return VE;}()},{key:"Xs",value:function(){var _Xs14=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee286(){var t,_e2054,_i1701,_s1001;return regeneratorRuntime.wrap(function _callee286$(_context288){while(1){switch(_context288.prev=_context288.next){case 0:t=this.Js.userProfile;if(t){_e2054=t.name,_i1701=t.bio,_s1001=t.websiteURL;this["#avatar"].type=this.Js.userProfile.avatar||"random",this["#avatar"].value=this.Js.user.uid,this["#name-input"].value=_e2054,this["#name-change-button"].toggled=!1,this["#name-change-button"].disabled=!0,this["#website-input"].value=_s1001,this["#website-change-button"].toggled=!1,this["#website-change-button"].disabled=!0,this["#bio-editor"].value=_i1701,this["#bio-change-button"].toggled=!1,this["#bio-change-button"].disabled=!0;}else this["#avatar"].value="",this["#name-input"].value="",this["#website-input"].value="",this["#bio-editor"].value="";case 2:case"end":return _context288.stop();}}},_callee286,this);}));function Xs(){return _Xs14.apply(this,arguments);}return Xs;}()}]);return $w;}(kw);_defineProperty($w,"_shadowTemplate",Ki(_templateObject589()));_defineProperty($w,"_shadowStyleSheet",Qi(_templateObject590()));customElements.define("bx-profilesettings",$w);var Iw=/*#__PURE__*/function(_HTMLElement151){_inherits(Iw,_HTMLElement151);var _super256=_createSuper(Iw);_createClass(Iw,[{key:"value",get:function get(){return _toConsumableArray(this._t);},set:function set(t){this._t=_toConsumableArray(t),this._t.length>this.limit&&(this._t.length=this.limit),this.Xs();}},{key:"limit",get:function get(){return this.WE;},set:function set(t){this.WE=t,this._t.length>this.limit&&(this._t.length=this.limit),this.Xs();}},{key:"editing",get:function get(){return null!==this["#table"].querySelector("tr[data-editing]");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Iw(){var _this1124;_classCallCheck(this,Iw);_this1124=_super256.call(this),_this1124._t=[],_this1124.WE=10,_this1124._shadowRoot=_this1124.attachShadow({mode:"closed",delegatesFocus:!1}),_this1124._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Iw._shadowStyleSheet],_this1124._shadowRoot.append(document.importNode(Iw._shadowTemplate.content,!0));var _iterator1807=_createForOfIteratorHelper(_this1124._shadowRoot.querySelectorAll("[id]")),_step1807;try{for(_iterator1807.s();!(_step1807=_iterator1807.n()).done;){var _t2693=_step1807.value;_this1124["#"+_t2693.id]=_t2693;}}catch(err){_iterator1807.e(err);}finally{_iterator1807.f();}_this1124._shadowRoot.addEventListener("pointerdown",function(t){return _this1124.Oo(t);}),_this1124._shadowRoot.addEventListener("click",function(t){return _this1124.Kc(t);}),_this1124.addEventListener("keydown",function(t){return _this1124.Tn(t);});return _this1124;}_createClass(Iw,[{key:"connectedCallback",value:function connectedCallback(){var _this1125=this;this.tabIndex=0,Gs.addEventListener("sizechange",this.dp=function(){_this1125.ju();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.dp);}},{key:"Oo",value:function Oo(t){if(this.disabled)return;var e=t.target.closest("tr"),i=t.target.closest("x-input");if(e&&!i&&this["#tbody"].childElementCount>1){this.Av();var _iterator1808=_createForOfIteratorHelper(this["#tbody"].children),_step1808;try{for(_iterator1808.s();!(_step1808=_iterator1808.n()).done;){var _t2694=_step1808.value;if(_t2694===e){_t2694.setAttribute("data-selected","");var _iterator1809=_createForOfIteratorHelper(_t2694.children),_step1809;try{for(_iterator1809.s();!(_step1809=_iterator1809.n()).done;){var _e2055=_step1809.value;_e2055.part.add("selected-cell");}}catch(err){_iterator1809.e(err);}finally{_iterator1809.f();}}else{_t2694.removeAttribute("data-selected");var _iterator1810=_createForOfIteratorHelper(_t2694.children),_step1810;try{for(_iterator1810.s();!(_step1810=_iterator1810.n()).done;){var _e2056=_step1810.value;_e2056.part.remove("selected-cell");}}catch(err){_iterator1810.e(err);}finally{_iterator1810.f();}}}}catch(err){_iterator1808.e(err);}finally{_iterator1808.f();}}}},{key:"Kc",value:function Kc(t){if(this.disabled)return;var e=t.target.closest("tr");e&&2===t.detail&&!1===e.hasAttribute("data-editing")&&!1===e.hasAttribute("data-disabled")&&this.YE(e);}},{key:"Tn",value:function Tn(t){this.disabled||("Enter"===t.key?!0===this.editing?(this.Av(),this.focus()):this.YE():"Escape"===t.key?!0===this.editing&&(t.preventDefault(),this.Av(),this.focus()):"Backspace"===t.key?!1===this.editing&&(t.preventDefault(),this.qE()):"ArrowUp"===t.key?!1===this.editing&&this.XE():"ArrowDown"===t.key&&!1===this.editing&&this.ZE());}},{key:"YE",value:function YE(t){var _this1126=this;var e=this["#table"].querySelector("tr[data-selected]");if(e&&!1===e.hasAttribute("data-disabled")){e.setAttribute("data-editing",""),e.scrollIntoViewIfNeeded();var _iterator1811=_createForOfIteratorHelper(e.children),_step1811;try{for(_iterator1811.s();!(_step1811=_iterator1811.n()).done;){var _t2696=_step1811.value;_t2696.part.add("selected-cell");}}catch(err){_iterator1811.e(err);}finally{_iterator1811.f();}var _t2695=e.querySelector(".label"),_i1702=Ki(_templateObject111(),_t2695.textContent);_t2695.after(_i1702),_t2695.hidden=!0,_i1702.selectAll(),_i1702.addEventListener("focusout",function(){_this1126.Av();}),_i1702.validate=function(){var t=null,e=_i1702.value.trim();var s;e.length>0&&!1===(s=e,new RegExp("[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(s))&&(t=""),_i1702.error=t;};}}},{key:"Av",value:function Av(){var t=this["#table"].querySelector("tr[data-editing]");if(t){var _e2057=Li(t),_i1703=t.querySelector(".label"),_s1002=t.querySelector(".input");if(t.removeAttribute("data-editing"),_i1703.hidden=!1,_s1002.remove(),null===_s1002.error){var _n664=_i1703.textContent,_o568=_s1002.value.trim().toLowerCase();if(_n664!==_o568){var _s1003=null;if(""!==_o568){var _iterator1812=_createForOfIteratorHelper(this["#tbody"].children),_step1812;try{for(_iterator1812.s();!(_step1812=_iterator1812.n()).done;){var _e2058=_step1812.value;if(_e2058!==t){if(_e2058.querySelector(".label").textContent===_o568){_s1003=_e2058;break;}}}}catch(err){_iterator1812.e(err);}finally{_iterator1812.f();}}_s1003?(""!==_n664&&(_i1703.textContent="",this._t[_e2057]="",this.dispatchEvent(new CustomEvent("change"))),this.KE(_s1003)):(_i1703.textContent=_o568,this._t[_e2057]=""===_o568?null:_o568,this.dispatchEvent(new CustomEvent("change")));}}}}},{key:"KE",value:function KE(t){var e=this["#table"].querySelector("tr[data-selected]");if(e&&e!==t){e.removeAttribute("data-selected");var _iterator1813=_createForOfIteratorHelper(e.children),_step1813;try{for(_iterator1813.s();!(_step1813=_iterator1813.n()).done;){var _t2697=_step1813.value;_t2697.part.remove("selected-cell");}}catch(err){_iterator1813.e(err);}finally{_iterator1813.f();}}t.setAttribute("data-selected","");var _iterator1814=_createForOfIteratorHelper(t.children),_step1814;try{for(_iterator1814.s();!(_step1814=_iterator1814.n()).done;){var _e2059=_step1814.value;_e2059.part.add("selected-cell");}}catch(err){_iterator1814.e(err);}finally{_iterator1814.f();}t.scrollIntoViewIfNeeded();}},{key:"XE",value:function XE(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e2060=t.previousElementSibling;if(_e2060){t.removeAttribute("data-selected");var _iterator1815=_createForOfIteratorHelper(t.children),_step1815;try{for(_iterator1815.s();!(_step1815=_iterator1815.n()).done;){var _e2061=_step1815.value;_e2061.part.remove("selected-cell");}}catch(err){_iterator1815.e(err);}finally{_iterator1815.f();}_e2060.setAttribute("data-selected","");var _iterator1816=_createForOfIteratorHelper(_e2060.children),_step1816;try{for(_iterator1816.s();!(_step1816=_iterator1816.n()).done;){var _t2698=_step1816.value;_t2698.part.add("selected-cell");}}catch(err){_iterator1816.e(err);}finally{_iterator1816.f();}_e2060.scrollIntoViewIfNeeded();}}}},{key:"ZE",value:function ZE(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e2062=t.nextElementSibling;if(_e2062){t.removeAttribute("data-selected");var _iterator1817=_createForOfIteratorHelper(t.children),_step1817;try{for(_iterator1817.s();!(_step1817=_iterator1817.n()).done;){var _e2063=_step1817.value;_e2063.part.remove("selected-cell");}}catch(err){_iterator1817.e(err);}finally{_iterator1817.f();}_e2062.setAttribute("data-selected","");var _iterator1818=_createForOfIteratorHelper(_e2062.children),_step1818;try{for(_iterator1818.s();!(_step1818=_iterator1818.n()).done;){var _t2699=_step1818.value;_t2699.part.add("selected-cell");}}catch(err){_iterator1818.e(err);}finally{_iterator1818.f();}_e2062.scrollIntoViewIfNeeded();}}}},{key:"qE",value:function qE(){var t=this["#table"].querySelector("tr[data-selected]"),e=Li(t),i=t.querySelector(".label");if(t){var _t2700="";i.textContent!==_t2700&&(i.textContent=_t2700,this._t[e]=null,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Xs",value:function Xs(){var t="";for(var _e2064=1;_e2064<=this.WE;_e2064+=1){var _i1704=this._t[_e2064-1];t+="\n        <tr class=\"row\" ".concat(1===_e2064?"data-disabled":"",">\n          <td class=\"index-cell\" part=\"cell index-cell\">").concat(_e2064,"</td>\n          <td class=\"value-cell\" part=\"cell value-cell\">\n            <div class=\"label\">").concat(null==_i1704?"":this._t[_e2064-1],"</div>\n          </td>\n        </tr>\n      ");}this["#tbody"].innerHTML=t,this.ju();}},{key:"ju",value:function ju(){this["#table"].setAttribute("data-size",Gs.size);}}]);return Iw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Iw,"_shadowTemplate",Ki(_templateObject591()));_defineProperty(Iw,"_shadowStyleSheet",Qi(_templateObject592()));customElements.define("bx-userseditor",Iw);var Lw=/*#__PURE__*/function(_kw7){_inherits(Lw,_kw7);var _super257=_createSuper(Lw);function Lw(){var _this1127;_classCallCheck(this,Lw);_this1127=_super257.call(this),_this1127["#email-input"].addEventListener("input",function(){return _this1127.QE();}),_this1127["#email-input"].addEventListener("keydown",function(t){return _this1127.JE(t);}),_this1127["#email-change-button"].addEventListener("click",function(){return _this1127.tT();}),_this1127["#email-verify-button"].addEventListener("click",function(){return _this1127.eT();}),_this1127["#password-input"].addEventListener("input",function(){return _this1127.iT();}),_this1127["#password-input"].addEventListener("keydown",function(t){return _this1127.sT(t);}),_this1127["#password-change-button"].addEventListener("click",function(){return _this1127.nT();}),_this1127["#subscription-anchor"].addEventListener("click",function(t){return _this1127.oT(t);}),_this1127["#users-editor"].addEventListener("change",function(){return _this1127.lT();}),_this1127["#users-change-button"].addEventListener("click",function(){return _this1127.aT();});return _this1127;}_createClass(Lw,[{key:"en",value:function en(){var _this1128=this;this.Xs(),this.Js.addEventListener("userchange",this.X_=function(){return _this1128.Xs();});}},{key:"sn",value:function sn(){this.Js.removeEventListener("userchange",this.X_);}},{key:"QE",value:function QE(){this.Js.user.email!==this["#email-input"].value.trim()&&null===this["#email-input"].error?(this["#email-change-button"].disabled=!1,this["#email-change-button"].toggled=!0):(this["#email-change-button"].disabled=!0,this["#email-change-button"].toggled=!1);}},{key:"JE",value:function JE(t){"Enter"===t.code&&this["#email-change-button"].click();}},{key:"tT",value:function(){var _tT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee287(){var _t2701,_e2065,_i1705,_s1004,_n665;return regeneratorRuntime.wrap(function _callee287$(_context289){while(1){switch(_context289.prev=_context289.next){case 0:if(!(this["#email-input"].validate(),null===this["#email-input"].error)){_context289.next=25;break;}this["#email-input"].disabled=!0,this["#email-change-button"].disabled=!0,this["#email-throbber"].hidden=!1;_t2701=this.Js.user,_e2065=_t2701.uid,_i1705=this["#email-input"].value.trim(),_s1004=_t2701.email,_n665=null;_context289.prev=3;_context289.next=6;return _t2701.updateEmail(_i1705);case 6:_context289.next=11;break;case 8:_context289.prev=8;_context289.t0=_context289["catch"](3);_n665=_context289.t0;case 11:if(!(_n665&&"auth/requires-recent-login"===_n665.code)){_context289.next=24;break;}_context289.next=14;return this.Js.openPasswordConfirmDialog();case 14:if(!_context289.sent){_context289.next=24;break;}_n665=null;_context289.prev=16;_context289.next=19;return _t2701.updateEmail(_i1705);case 19:_context289.next=24;break;case 21:_context289.prev=21;_context289.t1=_context289["catch"](16);_n665=_context289.t1;case 24:this["#email-input"].disabled=!1,this["#email-change-button"].disabled=!1,this["#email-throbber"].hidden=!0,_n665?"auth/invalid-email"===_n665.code?this["#email-input"].error="Invalid e-mail":"auth/email-already-in-use"===_n665.code?this["#email-input"].error="This email address is already registered":this.Js.openMessageDialog({message:"Error",detail:"".concat(_n665.message," (").concat(_n665.code,")"),buttons:["OK"]}):(this.Js.callCloudFunction("editUser",{userUID:_e2065,email:_i1705,oldEmail:_s1004}),_t2701.sendEmailVerification(),this.hT());case 25:case"end":return _context289.stop();}}},_callee287,this,[[3,8],[16,21]]);}));function tT(){return _tT.apply(this,arguments);}return tT;}()},{key:"eT",value:function(){var _eT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee288(){return regeneratorRuntime.wrap(function _callee288$(_context290){while(1){switch(_context290.prev=_context290.next){case 0:_context290.next=2;return this.Js.openMessageDialog({message:"Verify your email address",detail:"Please follow the link in the confirmation email we have sent you to verify your email address.",buttons:["OK","Rensend"]});case 2:_context290.t0=_context290.sent;_context290.t1=1===_context290.t0;if(!_context290.t1){_context290.next=6;break;}firebase.auth().currentUser.sendEmailVerification();case 6:case"end":return _context290.stop();}}},_callee288,this);}));function eT(){return _eT.apply(this,arguments);}return eT;}()},{key:"iT",value:function iT(){this["#password-input"].value.length>0?(this["#password-change-button"].disabled=!1,this["#password-change-button"].toggled=!0):(this["#password-change-button"].disabled=!0,this["#password-change-button"].toggled=!1);}},{key:"sT",value:function sT(t){"Enter"===t.code&&this["#password-change-button"].click();}},{key:"nT",value:function(){var _nT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee289(){var _t2702,_e2066,_i1706;return regeneratorRuntime.wrap(function _callee289$(_context291){while(1){switch(_context291.prev=_context291.next){case 0:if(!(this["#password-input"].validate(),null===this["#password-input"].error)){_context291.next=25;break;}this["#password-input"].disabled=!0,this["#password-change-button"].disabled=!0,this["#password-throbber"].hidden=!1;_t2702=this.Js.user,_e2066=this["#password-input"].value.trim(),_i1706=null;_context291.prev=3;_context291.next=6;return _t2702.updatePassword(_e2066);case 6:_context291.next=11;break;case 8:_context291.prev=8;_context291.t0=_context291["catch"](3);_i1706=_context291.t0;case 11:if(!(_i1706&&"auth/requires-recent-login"===_i1706.code)){_context291.next=24;break;}_context291.next=14;return this.Js.openPasswordConfirmDialog();case 14:if(!_context291.sent){_context291.next=24;break;}_i1706=null;_context291.prev=16;_context291.next=19;return _t2702.updatePassword(_e2066);case 19:_context291.next=24;break;case 21:_context291.prev=21;_context291.t1=_context291["catch"](16);_i1706=_context291.t1;case 24:this["#password-input"].disabled=!1,this["#password-change-button"].disabled=!1,this["#password-throbber"].hidden=!0,_i1706?"auth/requires-recent-login"===_i1706.code||("auth/weak-password"===_i1706.code?this["#password-input"].error="The password must be 6 characters long or more":this.Js.openMessageDialog({message:"Error",detail:"".concat(_i1706.message," (").concat(_i1706.code,")"),buttons:["OK"]})):this.rT();case 25:case"end":return _context291.stop();}}},_callee289,this,[[3,8],[16,21]]);}));function nT(){return _nT.apply(this,arguments);}return nT;}()},{key:"oT",value:function oT(t){t.preventDefault(),this.Js.navigate(zg(location.href,"dialog","preferences\u2192subscription"),!0);}},{key:"lT",value:function(){var _lT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee290(){return regeneratorRuntime.wrap(function _callee290$(_context292){while(1){switch(_context292.prev=_context292.next){case 0:this["#users-change-button"].disabled=!1;case 1:case"end":return _context292.stop();}}},_callee290,this);}));function lT(){return _lT.apply(this,arguments);}return lT;}()},{key:"aT",value:function(){var _aT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee291(){var t,_this$UsersEditor$v,e,i,s;return regeneratorRuntime.wrap(function _callee291$(_context293){while(1){switch(_context293.prev=_context293.next){case 0:this["#users-editor"].disabled=!0,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!1;t=this.Js.user,_this$UsersEditor$v=_toArray(this["#users-editor"].value),e=_this$UsersEditor$v[0],i=_this$UsersEditor$v.slice(1),s=null;_context293.next=4;return ss(4e3);case 4:_context293.prev=4;_context293.next=7;return this.Js.callCloudFunction("setOrgUsers",{orgLeaderUID:t.uid,orgUsers:i});case 7:_context293.next=12;break;case 9:_context293.prev=9;_context293.t0=_context293["catch"](4);s=_context293.t0;case 12:_context293.next=14;return ss(4e3);case 14:if(!s){_context293.next=22;break;}this["#users-editor"].disabled=!1;this["#users-change-button"].disabled=!1;this["#users-change-throbber"].hidden=!0;_context293.next=20;return this.Js.openMessageDialog({message:"Failed to change users",detail:jg(s),buttons:["OK"]});case 20:_context293.next=23;break;case 22:this["#users-editor"].disabled=!1,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!0;case 23:case"end":return _context293.stop();}}},_callee291,this,[[4,9]]);}));function aT(){return _aT.apply(this,arguments);}return aT;}()},{key:"Xs",value:function Xs(){this.hT(),this.rT(),this.dT();}},{key:"hT",value:function hT(){var t=this.Js.user,e=this.Js.userSubscription;t?(this["#email-section"].hidden=!1,this["#email-input"].value=t.email,this["#email-input"].error=null,this["#email-verify-button"].disabled=t.emailVerified,this["#email-change-button"].toggled=!1,this["#email-change-button"].disabled=!0,null===e||"deleted"===e.status||void 0===e.status?this["#email-input"].disabled=!1:this["#email-input"].disabled=!0):this["#email-section"].hidden=!0;}},{key:"rT",value:function rT(){this.Js.user?(this["#password-section"].hidden=!1,this["#password-input"].value="",this["#password-input"].error=null,this["#password-change-button"].toggled=!1,this["#password-change-button"].disabled=!0):this["#password-section"].hidden=!0;}},{key:"dT",value:function dT(){var t=this.Js.user,e=this.Js.userSubscription,_Wg7=Wg(e,t),_Wg8=_slicedToArray(_Wg7,2),i=_Wg8[0],s=_Wg8[1];if(s)this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;else if(t){var _i1707=[];e&&e.orgUsers&&(_i1707=e.orgUsers),this["#users-section"].hidden=!1,this["#users-section"].previousElementSibling.hidden=!1,this["#users-editor"].limit=e&&void 0!==e.quantity?e.quantity:1,this["#users-editor"].value=[t.email].concat(_toConsumableArray(_i1707)),this["#users-change-button"].disabled=!0;}else this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;}}]);return Lw;}(kw);_defineProperty(Lw,"_shadowTemplate",Ki(_templateObject593()));_defineProperty(Lw,"_shadowStyleSheet",Qi(_templateObject594()));customElements.define("bx-authsettings",Lw);var Bw=/*#__PURE__*/function(_HTMLElement152){_inherits(Bw,_HTMLElement152);var _super258=_createSuper(Bw);_createClass(Bw,[{key:"planID",get:function get(){return this.hasAttribute("planid")?this.getAttribute("planid"):null;},set:function set(t){null===t?this.removeAttribute("planid"):this.setAttribute("planid",t);}},{key:"quantity",get:function get(){return this.hasAttribute("quantity")?parseInt(this.getAttribute("quantity")):1;},set:function set(t){null===t?this.removeAttribute("quantity"):this.setAttribute("quantity",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Bw(){var _this1129;_classCallCheck(this,Bw);_this1129=_super258.call(this),_this1129._shadowRoot=_this1129.attachShadow({mode:"closed"}),_this1129._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Bw._shadowStyleSheet],_this1129._shadowRoot.append(document.importNode(Bw._shadowTemplate.content,!0));var _iterator1819=_createForOfIteratorHelper(_this1129._shadowRoot.querySelectorAll("[id]")),_step1819;try{for(_iterator1819.s();!(_step1819=_iterator1819.n()).done;){var _t2703=_step1819.value;_this1129["#"+_t2703.id]=_t2703;}}catch(err){_iterator1819.e(err);}finally{_iterator1819.f();}_this1129._shadowRoot.addEventListener("click",function(t){return _this1129.Kc(t);}),_this1129["#quantity-input"].addEventListener("change",function(t){return _this1129.cT(t);}),_this1129["#quantity-input"].addEventListener("changeend",function(t){return _this1129.pT(t);}),_this1129["#billing-select"].addEventListener("change",function(){return _this1129.uT();});return _this1129;}_createClass(Bw,[{key:"connectedCallback",value:function connectedCallback(){var _this1130=this;this.Js=Ri(this,"#app"),this.Xs(),Gs.addEventListener("sizechange",this.dp=function(){_this1130.xT();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Gs.removeEventListener("sizechange",this.dp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("planid"===t||"quantity"===t||"disabled"===t)&&this.Xs();}},{key:"Kc",value:function Kc(t){var n=t.target.closest("a"),o=t.target.closest("td");if(n)t.preventDefault(),this.Js.navigate(n.href,!0);else if(o&&o.cellIndex>0&&o.closest("thead, tbody")){var _t2704;1===o.cellIndex?_t2704=e:2===o.cellIndex&&("monthly"===this["#billing-select"].value?_t2704=s:"yearly"===this["#billing-select"].value&&(_t2704=i)),_t2704!==this.planID&&(this.planID=_t2704,this.dispatchEvent(new CustomEvent("change")));}}},{key:"cT",value:function cT(t){var _Hg=Hg(this.planID,this["#quantity-input"].value),_Hg2=_slicedToArray(_Hg,2),e=_Hg2[0],i=_Hg2[1];this["#discount-span"].textContent=i,this["#price-span"].textContent=e;}},{key:"pT",value:function pT(t){this.quantity=this["#quantity-input"].value,this.dispatchEvent(new CustomEvent("change"));}},{key:"uT",value:function uT(){"yearly"===this["#billing-select"].value?(this.planID=i,this.dispatchEvent(new CustomEvent("change"))):"monthly"===this["#billing-select"].value&&(this.planID=s,this.dispatchEvent(new CustomEvent("change")));}},{key:"Xs",value:function Xs(){this.bT(),this.xT();}},{key:"bT",value:function bT(){var _Hg3=Hg(this.planID,this.quantity),_Hg4=_slicedToArray(_Hg3,2),t=_Hg4[0],n=_Hg4[1];if(this["#standard-plan-radio"].disabled=this.disabled,this["#premium-plan-radio"].disabled=this.disabled,this["#standard-plan-radio"].toggled=this.planID===e,this["#premium-plan-radio"].toggled=this.planID===s||this.planID===i,this["#cloud-button"].disabled=this.planID===e,this.disabled?(this["#quantity-help-button"].collapse(),this["#quantity-help-button"].disabled=!0):this["#quantity-help-button"].disabled=!1,null===this.planID?(this["#quantity-input"].disabled=!0,this["#quantity-input"].value=1):(this["#quantity-input"].disabled=this.disabled,this["#quantity-input"].value=this.quantity),this.disabled?(this["#discount-help-button"].collapse(),this["#discount-help-button"].disabled=!0):this["#discount-help-button"].disabled=!1,this["#discount-span"].textContent=n,null===this.planID?this["#billing-select"].disabled=!0:this.planID===e?(this["#billing-select"].disabled=!0,this["#billing-select"].value="yearly"):this.planID!==s&&this.planID!==i||(this["#billing-select"].disabled=!1,this["#billing-select"].value=this.planID===s?"monthly":"yearly"),this.disabled?(this["#price-help-button"].collapse(),this["#price-help-button"].disabled=!0):this["#price-help-button"].disabled=!1,this["#price-span"].textContent=t,null===this.planID){var _iterator1820=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1820;try{for(_iterator1820.s();!(_step1820=_iterator1820.n()).done;){var _t2705=_step1820.value;_t2705.part.remove("selected-cell");}}catch(err){_iterator1820.e(err);}finally{_iterator1820.f();}var _iterator1821=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1821;try{for(_iterator1821.s();!(_step1821=_iterator1821.n()).done;){var _t2706=_step1821.value;_t2706.part.remove("selected-cell");}}catch(err){_iterator1821.e(err);}finally{_iterator1821.f();}this["#quantity-td"].part.remove("selected-cell"),this["#discount-td"].part.remove("selected-cell"),this["#billing-td"].part.remove("selected-cell"),this["#price-td"].part.remove("selected-cell");}else if(this.planID===e){var _iterator1822=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1822;try{for(_iterator1822.s();!(_step1822=_iterator1822.n()).done;){var _t2707=_step1822.value;1===_t2707.cellIndex?_t2707.part.add("selected-cell"):_t2707.part.remove("selected-cell");}}catch(err){_iterator1822.e(err);}finally{_iterator1822.f();}var _iterator1823=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1823;try{for(_iterator1823.s();!(_step1823=_iterator1823.n()).done;){var _t2708=_step1823.value;1===_t2708.cellIndex?_t2708.part.add("selected-cell"):_t2708.part.remove("selected-cell");}}catch(err){_iterator1823.e(err);}finally{_iterator1823.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}else if(this.planID===s||this.planID===i){var _iterator1824=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1824;try{for(_iterator1824.s();!(_step1824=_iterator1824.n()).done;){var _t2709=_step1824.value;2===_t2709.cellIndex?_t2709.part.add("selected-cell"):_t2709.part.remove("selected-cell");}}catch(err){_iterator1824.e(err);}finally{_iterator1824.f();}var _iterator1825=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1825;try{for(_iterator1825.s();!(_step1825=_iterator1825.n()).done;){var _t2710=_step1825.value;2===_t2710.cellIndex?_t2710.part.add("selected-cell"):_t2710.part.remove("selected-cell");}}catch(err){_iterator1825.e(err);}finally{_iterator1825.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}}},{key:"xT",value:function xT(){this["#table"].setAttribute("data-size",Gs.size);}}]);return Bw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bw,"observedAttributes",["planid","quantity","disabled"]);_defineProperty(Bw,"_shadowTemplate",Ki(_templateObject595()));_defineProperty(Bw,"_shadowStyleSheet",Qi(_templateObject596()));customElements.define("bx-planselectblock",Bw);var Rw=/*#__PURE__*/function(_kw8){_inherits(Rw,_kw8);var _super259=_createSuper(Rw);function Rw(){var _this1131;_classCallCheck(this,Rw);_this1131=_super259.call(this),_this1131["#plan-select-block"].addEventListener("change",function(){return _this1131.mT();}),_this1131["#billing-button"].addEventListener("click",function(){return _this1131.gT();}),_this1131["#cancel-button"].addEventListener("click",function(){return _this1131.fT();}),_this1131["#subscribe-button"].addEventListener("click",function(){return _this1131.wT();});return _this1131;}_createClass(Rw,[{key:"en",value:function en(){var _this1132=this;this.Js.addEventListener("usersubscriptionchange",this.vT=function(){_this1132.Xs();}),this.Xs();}},{key:"sn",value:function sn(){this["#plan-select-block"].disabled=!0,this.Js.removeEventListener("usersubscriptionchange",this.vT);}},{key:"mT",value:function mT(){this.yT();}},{key:"gT",value:function gT(){window.open(this["#billing-button"].value);}},{key:"fT",value:function fT(){window.open(this["#cancel-button"].value);}},{key:"wT",value:function(){var _wT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee292(){var t,e,i,s,_n666,_t2711;return regeneratorRuntime.wrap(function _callee292$(_context294){while(1){switch(_context294.prev=_context294.next){case 0:t=this.Js.user,e=this.Js.userSubscription,i=this["#plan-select-block"].planID,s=this["#plan-select-block"].quantity;if(!(null===e||"deleted"===e.status||"past_due"===e.status&&null!==e.cancellationEffectiveDate)){_context294.next=5;break;}this.Js.navigate(zg(location.href,"dialog","checkout\u2192".concat(i,"\xD7").concat(s)));_context294.next=27;break;case 5:if(!("active"===e.status)){_context294.next=27;break;}_context294.next=8;return this.Js.openPasswordConfirmDialog();case 8:if(!_context294.sent){_context294.next=27;break;}this["#main"].hidden=!0,this["#progress-bar"].hidden=!1,this.Js.lockInput();_n666=null;_context294.prev=11;_context294.next=14;return this.Js.callCloudFunction("changeUserSubscriptionPlan",{userUID:t.uid,subscriptionID:e.subscriptionID,planID:i,quantity:s});case 14:_context294.next=19;break;case 16:_context294.prev=16;_context294.t0=_context294["catch"](11);_n666=_context294.t0;case 19:if(!(this["#main"].hidden=!1,this["#progress-bar"].hidden=!0,this.Js.unlockInput(),_n666)){_context294.next=24;break;}_context294.next=22;return this.Js.openMessageDialog({message:"Failed to change the current plan",detail:jg(_n666),buttons:["OK"]});case 22:_context294.next=27;break;case 24:_t2711=this.kT(i,s);_context294.next=27;return this.Js.openMessageDialog({message:"Changed the current plan",detail:"Your new plan is: ".concat(_t2711,"."),buttons:["OK"]});case 27:case"end":return _context294.stop();}}},_callee292,this,[[11,16]]);}));function wT(){return _wT.apply(this,arguments);}return wT;}()},{key:"kT",value:function kT(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o,l;return l=1===n?"1 user":"".concat(n," users"),t===e?o="Standard (yearly billing, ".concat(l,")"):t===s?o="Premium (monthly billing, ".concat(l,")"):t===i&&(o="Premium (yearly billing, ".concat(l,")")),o;}},{key:"Xs",value:function Xs(){this.ST(),this.CT(),this.yT();}},{key:"ST",value:function ST(){var t=this.Js.user;if(null===t)this["#info-section"].hidden=!0;else{this["#info-section"].hidden=!1;var _i1708=this.Js.userSubscription,_Wg9=Wg(_i1708,t),_Wg10=_slicedToArray(_Wg9,3),_s1005=_Wg10[0],_n667=_Wg10[1],_o569=_Wg10[2];if(null===_i1708){if(this["#subscription-plan-span"].textContent="Standard",_o569){var _e2067=moment().to(moment(t.metadata.creationTime).add(15,"days"),!0);this["#subscription-status-span"].textContent="Trial (".concat(_e2067," remaining)");}else this["#subscription-status-span"].textContent="Canceled (trial period expired)";}else if(!0===_n667)this["#subscription-plan-span"].textContent=_s1005===e?"Standard":"Premium",this["#subscription-status-span"].textContent="Active (contact your organization admin to make changes)";else{this["#subscription-plan-span"].textContent=this.kT(_s1005,_i1708.quantity);var _t2712=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"});if("active"===_i1708.status){var _e2068=_t2712.format(new Date(_i1708.nextBillDate));this["#subscription-status-span"].textContent="Active (next payment due on ".concat(_e2068,")");}else if("deleted"===_i1708.status){var _e2069=_t2712.format(new Date(_i1708.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e2069,")");}else if("past_due"===_i1708.status)if(null===_i1708.cancellationEffectiveDate)this["#subscription-status-span"].textContent="Past due (please update your billing information)";else{var _e2070=_t2712.format(new Date(_i1708.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e2070,")");}}}}},{key:"CT",value:function CT(){var t=this.Js.user;if(null===t)this["#plan-section"].hidden=!0;else{var _i1709=this.Js.userSubscription,_Wg11=Wg(_i1709,t),_Wg12=_slicedToArray(_Wg11,2),_s1006=_Wg12[0],_n668=_Wg12[1];this["#plan-section"].hidden=!1,this["#plan-select-block"].disabled=_n668,this["#plan-select-block"].planID=_s1006||e,this["#plan-select-block"].quantity=_n668?1:_i1709?_i1709.quantity:1;}}},{key:"yT",value:function yT(){var t=this.Js.user;if(null===t)this["#buttons-section"].hidden=!0;else{this["#buttons-section"].hidden=!1;var _e2071=this.Js.userSubscription,_Wg13=Wg(_e2071,t),_Wg14=_slicedToArray(_Wg13,2),_i1710=_Wg14[0],_s1007=_Wg14[1];_s1007?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Subscribe"):null===_e2071||"deleted"===_e2071.status?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"):"active"===_e2071.status?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e2071.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e2071.cancelURL,this["#subscribe-button"].disabled=this["#plan-select-block"].planID===_e2071.subscriptionPlanID&&this["#plan-select-block"].quantity===_e2071.quantity,this["#subscribe-button-label"].textContent="Change plan"):"past_due"===_e2071.status&&(null===_e2071.cancellationEffectiveDate?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e2071.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e2071.cancelURL,this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Change plan"):(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"));}}}]);return Rw;}(kw);_defineProperty(Rw,"_shadowTemplate",Ki(_templateObject597()));_defineProperty(Rw,"_shadowStyleSheet",Qi(_templateObject598()));customElements.define("bx-subscriptionsettings",Rw);var Gw=/*#__PURE__*/function(_kw9){_inherits(Gw,_kw9);var _super260=_createSuper(Gw);function Gw(){var _this1133;_classCallCheck(this,Gw);_this1133=_super260.call(this),_this1133["#password-input"].addEventListener("input",function(){return _this1133.Xs();}),_this1133["#delete-account-button"].addEventListener("click",function(){return _this1133._T();});return _this1133;}_createClass(Gw,[{key:"en",value:function en(){var _this1134=this;this.MT=firebase.auth().onAuthStateChanged(function(t){return _this1134.Xs();}),this.Xs();}},{key:"sn",value:function sn(){this.MT();}},{key:"Xs",value:function Xs(){0===this["#password-input"].value.length?(this["#delete-account-button"].disabled=!0,this["#delete-account-button"].toggled=!1,this["#delete-account-button"].part.remove("delete-button")):(this["#delete-account-button"].disabled=!1,this["#delete-account-button"].toggled=!0,this["#delete-account-button"].part.add("delete-button"));}},{key:"_T",value:function(){var _T2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee293(){var _t2713,_e2072,_i1711,_s1008,_t2714,_e2073,_t2715;return regeneratorRuntime.wrap(function _callee293$(_context295){while(1){switch(_context295.prev=_context295.next){case 0:this["#default-view"].hidden=!0,this["#progress-view"].hidden=!1,this.Js.lockInput();this["#progress-label"].textContent="Validating password\u2026";_t2713=this.Js.user,_e2072=this["#password-input"].value,_i1711=firebase.auth.EmailAuthProvider.credential(_t2713.email,_e2072),_s1008=null;_context295.prev=3;_context295.next=6;return _t2713.reauthenticateWithCredential(_i1711);case 6:_context295.next=11;break;case 8:_context295.prev=8;_context295.t0=_context295["catch"](3);_s1008=_context295.t0;case 11:if(!_s1008){_context295.next=23;break;}this["#default-view"].hidden=!1;this["#progress-view"].hidden=!0;this.Js.unlockInput();if(!("auth/wrong-password"===_s1008.code)){_context295.next=19;break;}_context295.t1=(this["#password-input"].error="Wrong password",this["#delete-account-button"].disabled=!0);_context295.next=22;break;case 19:_context295.next=21;return this.Js.openMessageDialog({message:"Error",detail:"".concat(_s1008.message," (").concat(_s1008.code,")"),buttons:["OK"]});case 21:_context295.t1=_context295.sent;case 22:return _context295.abrupt("return",void _context295.t1);case 23:this["#progress-label"].textContent="Deleting account\u2026";_t2714=this.Js.user,_e2073=null;_context295.prev=25;_context295.next=28;return this.Js.callCloudFunction("deleteUser",_t2714.uid);case 28:_context295.next=33;break;case 30:_context295.prev=30;_context295.t2=_context295["catch"](25);_e2073=_context295.t2;case 33:if(!_e2073){_context295.next=35;break;}return _context295.abrupt("return",(this["#default-view"].hidden=!1,this["#progress-view"].hidden=!0,this.Js.unlockInput(),void this.Js.openMessageDialog({message:"Failed to delete user account",detail:jg(_e2073),buttons:["OK"]})));case 35:this["#progress-label"].textContent="Logging out\u2026";_context295.next=38;return ss(1e3);case 38:_context295.next=40;return firebase.auth().signOut();case 40:this.Js.unlockInput();_t2715=Ri(this,"dialog");_t2715&&_t2715.close();case 43:case"end":return _context295.stop();}}},_callee293,this,[[3,8],[25,30]]);}));function _T(){return _T2.apply(this,arguments);}return _T;}()}]);return Gw;}(kw);_defineProperty(Gw,"_shadowTemplate",Ki(_templateObject599()));_defineProperty(Gw,"_shadowStyleSheet",Qi(_templateObject600()));customElements.define("bx-deleteaccountsettings",Gw);var Uw=/*#__PURE__*/function(_HTMLElement153){_inherits(Uw,_HTMLElement153);var _super261=_createSuper(Uw);_createClass(Uw,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"general";},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}}]);function Uw(){var _temp56,_this1135;_classCallCheck(this,Uw);(_temp56=_this1135=_super261.call(this),_defineProperty(_assertThisInitialized(_this1135),"commands",{copy:{exec:function exec(){return document.execCommand("copy");}},cut:{exec:function exec(){return document.execCommand("cut");}},paste:{exec:function exec(){return document.execCommand("paste");}},selectAll:{exec:function exec(){return document.execCommand("selectAll");}},undo:{exec:function exec(){return document.execCommand("undo");}},redo:{exec:function exec(){return document.execCommand("redo");}}}),_temp56),_this1135._shadowRoot=_this1135.attachShadow({mode:"closed"}),_this1135._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Uw._shadowStyleSheet],_this1135._shadowRoot.append(document.importNode(Uw._shadowTemplate.content,!0));var _iterator1826=_createForOfIteratorHelper(_this1135._shadowRoot.querySelectorAll("[id]")),_step1826;try{for(_iterator1826.s();!(_step1826=_iterator1826.n()).done;){var _t2716=_step1826.value;_this1135["#"+_t2716.id]=_t2716;}}catch(err){_iterator1826.e(err);}finally{_iterator1826.f();}_this1135.setAttribute("tabindex","0"),_this1135["#sidebar-buttons"].addEventListener("toggle",function(){_this1135.value=_this1135["#sidebar-buttons"].value,_this1135.dispatchEvent(new CustomEvent("valuechange"));}),_this1135["#logout-button"].addEventListener("click",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee294(){return regeneratorRuntime.wrap(function _callee294$(_context296){while(1){switch(_context296.prev=_context296.next){case 0:_context296.next=2;return firebase.auth().signOut();case 2:_this1135.PT&&_this1135.PT.close();case 3:case"end":return _context296.stop();}}},_callee294);}))),_this1135.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1135.PT&&_this1135.PT.close();});return _this1135;}_createClass(Uw,[{key:"connectedCallback",value:function connectedCallback(){var _this1136=this;this.Js=Ri(this,"#app"),this.PT=Ri(this,"dialog"),this.Js.addEventListener("userchange",this.X_=function(){_this1136.Xs();}),this.Xs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.removeEventListener("userchange",this.X_);var _iterator1827=_createForOfIteratorHelper(this["#main"].children),_step1827;try{for(_iterator1827.s();!(_step1827=_iterator1827.n()).done;){var _t2717=_step1827.value;_t2717.enabled=!1;}}catch(err){_iterator1827.e(err);}finally{_iterator1827.f();}}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.Ix();}},{key:"Ix",value:function Ix(){this.isConnected&&this.Xs();}},{key:"Xs",value:function Xs(){var t=void 0!==this.Js.user&&null!==this.Js.user,e=this.value;["profile","auth","subscription","delete-account"].includes(e)&&!1===t&&(e="general"),this["#sidebar-buttons"].value=e,this["#profile-button"].hidden=!1===t,this["#auth-button"].hidden=!1===t,this["#subscription-button"].hidden=!1===t,this["#delete-account-button"].hidden=!1===t,this["#logout-button"].hidden=!1===t,this["#sidebar-separator-1"].hidden=!1===t,this["#sidebar-separator-2"].hidden=!1===t;var _iterator1828=_createForOfIteratorHelper(this["#main"].children),_step1828;try{for(_iterator1828.s();!(_step1828=_iterator1828.n()).done;){var _t2718=_step1828.value;_t2718.enabled=_t2718.getAttribute("data-name")===e;}}catch(err){_iterator1828.e(err);}finally{_iterator1828.f();}}}]);return Uw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Uw,"observedAttributes",["value"]);_defineProperty(Uw,"_shadowTemplate",Ki(_templateObject601()));_defineProperty(Uw,"_shadowStyleSheet",Qi(_templateObject602()));customElements.define("bx-preferences",Uw);var Fw=/*#__PURE__*/function(_HTMLElement154){_inherits(Fw,_HTMLElement154);var _super262=_createSuper(Fw);_createClass(Fw,[{key:"version",get:function get(){return this.hasAttribute("version")?this.getAttribute("version"):"1.0.0";},set:function set(t){this.setAttribute("version",t);}}]);function Fw(){var _temp57,_this1137;_classCallCheck(this,Fw);(_temp57=_this1137=_super262.call(this),_defineProperty(_assertThisInitialized(_this1137),"commands",{}),_defineProperty(_assertThisInitialized(_this1137),"Vv",0),_temp57),_this1137._shadowRoot=_this1137.attachShadow({mode:"closed"}),_this1137._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Fw._shadowStyleSheet],_this1137._shadowRoot.append(document.importNode(Fw._shadowTemplate.content,!0));var _iterator1829=_createForOfIteratorHelper(_this1137._shadowRoot.querySelectorAll("[id]")),_step1829;try{for(_iterator1829.s();!(_step1829=_iterator1829.n()).done;){var _t2719=_step1829.value;_this1137["#"+_t2719.id]=_t2719;}}catch(err){_iterator1829.e(err);}finally{_iterator1829.f();}_this1137.setAttribute("tabindex","0"),_this1137["#main"].addEventListener("scroll",function(){return _this1137.Rc();}),_this1137.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1137.PT&&_this1137.PT.close();});return _this1137;}_createClass(Fw,[{key:"connectedCallback",value:function(){var _connectedCallback9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee295(){var _iterator1830,_step1830,_t2720;return regeneratorRuntime.wrap(function _callee295$(_context297){while(1){switch(_context297.prev=_context297.next){case 0:this.Js=Ri(this,"#app");this.PT=Ri(this,"dialog");_context297.t0=null===this["#main"].firstElementChild;if(!_context297.t0){_context297.next=9;break;}_context297.next=6;return fetch("/templates/about.tpl");case 6:_context297.next=8;return _context297.sent.text();case 8:this["#main"].innerHTML=_context297.sent;case 9:if(!("bx-chromeapp"===this.Js.localName)){_context297.next=12;break;}_iterator1830=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[rel="noopener"]'));try{for(_iterator1830.s();!(_step1830=_iterator1830.n()).done;){_t2720=_step1830.value;_t2720.removeAttribute("rel");}}catch(err){_iterator1830.e(err);}finally{_iterator1830.f();}case 12:this["#main"].scrollTop=this.Vv;case 13:case"end":return _context297.stop();}}},_callee295,this);}));function connectedCallback(){return _connectedCallback9.apply(this,arguments);}return connectedCallback;}()},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"version"===t&&(this["#version"].textContent="Version ".concat(this.version));}},{key:"Rc",value:function Rc(){this.Vv=this["#main"].scrollTop;}}]);return Fw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fw,"observedAttributes",["version"]);_defineProperty(Fw,"_shadowTemplate",Ki(_templateObject603(),new Date().getFullYear()));_defineProperty(Fw,"_shadowStyleSheet",Qi(_templateObject604()));customElements.define("bx-about",Fw);var Nw=/*#__PURE__*/function(_HTMLElement155){_inherits(Nw,_HTMLElement155);var _super263=_createSuper(Nw);_createClass(Nw,[{key:"throbber",get:function get(){return this.hasAttribute("throbber");},set:function set(t){t?this.setAttribute("throbber",""):this.removeAttribute("throbber");}},{key:"dirty",get:function get(){return this.DT;}}]);function Nw(){var _this1138;_classCallCheck(this,Nw);_this1138=_super263.call(this),_this1138.zT=!1,_this1138.DT=!1;var t=_this1138.constructor.OT,e=_this1138.constructor.nM,i=_this1138.constructor.oM;_this1138._shadowRoot=_this1138.attachShadow({mode:"closed"}),_this1138._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,Nw._shadowStyleSheet,_this1138.constructor._shadowStyleSheet],_this1138._shadowRoot.append(document.importNode(Nw._shadowTemplate.content,!0)),t&&_this1138._shadowRoot.querySelector("#header").append(document.importNode(t.content,!0)),e&&_this1138._shadowRoot.querySelector("#main").append(document.importNode(e.content,!0)),i&&_this1138._shadowRoot.querySelector("#footer").append(document.importNode(i.content,!0));var _iterator1831=_createForOfIteratorHelper(_this1138._shadowRoot.querySelectorAll("[id]")),_step1831;try{for(_iterator1831.s();!(_step1831=_iterator1831.n()).done;){var _t2721=_step1831.value;_this1138["#"+_t2721.id]=_t2721;}}catch(err){_iterator1831.e(err);}finally{_iterator1831.f();}_this1138.setAttribute("extends","bx-form"),_this1138.setAttribute("tabindex","0"),_this1138.addEventListener("keydown",function(t){return _this1138.Tn(t);});return _this1138;}_createClass(Nw,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ri(this,"#app"),this.PT=Ri(this,"dialog");}},{key:"disconnectedCallback",value:function disconnectedCallback(){}},{key:"blinkFooter",value:function blinkFooter(){var _this1139=this;return new Promise(/*#__PURE__*/function(){var _ref244=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee296(t){return regeneratorRuntime.wrap(function _callee296$(_context298){while(1){switch(_context298.prev=_context298.next){case 0:_context298.t0=!1===_this1139.zT;if(!_context298.t0){_context298.next=14;break;}_this1139.zT=!0;_this1139.setAttribute("blink","");_context298.next=6;return ss(200);case 6:_this1139.removeAttribute("blink","");_context298.next=9;return ss(200);case 9:_this1139.setAttribute("blink","");_context298.next=12;return ss(200);case 12:_this1139.removeAttribute("blink","");_this1139.zT=!1;case 14:t();case 15:case"end":return _context298.stop();}}},_callee296);}));return function(_x373){return _ref244.apply(this,arguments);};}());}},{key:"clear",value:function clear(){this.DT=!1;}},{key:"Tn",value:function Tn(t){if(t.stopPropagation(),"Escape"===t.code&&t.preventDefault(),!1===this.throbber&&this.matches(":focus"))if("Escape"===t.code)this.dirty?this.blinkFooter():this["#cancel-button"]?this["#cancel-button"].click():this.PT&&this.PT.close();else if("Enter"===t.code||"Space"===t.code){var _e2074=this["#footer"].querySelector("x-button[toggled]");_e2074&&!1===_e2074.disabled&&t.target!==_e2074&&_e2074.click();}}}]);return Nw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nw,"_shadowTemplate",Ki(_templateObject605()));_defineProperty(Nw,"_shadowStyleSheet",Qi(_templateObject606()));var jw=/*#__PURE__*/function(_Nw){_inherits(jw,_Nw);var _super264=_createSuper(jw);function jw(){var _this1140;_classCallCheck(this,jw);_this1140=_super264.call(this),_this1140["#ok-button"].addEventListener("click",function(){return _this1140.PT.close();});return _this1140;}return jw;}(Nw);_defineProperty(jw,"nM",Ki(_templateObject607()));_defineProperty(jw,"oM",Ki(_templateObject608()));_defineProperty(jw,"_shadowStyleSheet",Qi(_templateObject609()));customElements.define("bx-chromeinstallform",jw);var Vw=/*#__PURE__*/function(_Nw2){_inherits(Vw,_Nw2);var _super265=_createSuper(Vw);function Vw(){_classCallCheck(this,Vw);return _super265.apply(this,arguments);}return Vw;}(Nw);_defineProperty(Vw,"nM",Ki(_templateObject610()));_defineProperty(Vw,"_shadowStyleSheet",Qi(_templateObject611()));customElements.define("bx-chromesigninform",Vw);var Hw=/*#__PURE__*/function(_Nw3){_inherits(Hw,_Nw3);var _super266=_createSuper(Hw);function Hw(){var _this1141;_classCallCheck(this,Hw);_this1141=_super266.call(this),_this1141["#close-button"].addEventListener("click",function(){return chrome.app.window.current().close();});return _this1141;}return Hw;}(Nw);_defineProperty(Hw,"nM",Ki(_templateObject612()));_defineProperty(Hw,"oM",Ki(_templateObject613()));_defineProperty(Hw,"_shadowStyleSheet",Qi(_templateObject614()));customElements.define("bx-chrometrialform",Hw);var Ww=/*#__PURE__*/function(_Nw4){_inherits(Ww,_Nw4);var _super267=_createSuper(Ww);function Ww(t){var _this1142;_classCallCheck(this,Ww);if(_this1142=_super267.call(this),t.message&&(_this1142["#message"].innerHTML=ci(t.message)),t.detail){var _e2075=t.detail.startsWith("<p")?t.detail:"<p>".concat(t.detail,"</p>");_this1142["#detail"].innerHTML=ci(_e2075);}if(t.buttons){var _e2076="";for(var _i1712=t.buttons.length-1;_i1712>=0;_i1712-=1){_e2076+="\n          <x-button value=\"".concat(_i1712,"\" ").concat(0===_i1712?"toggled":"",">\n            <x-label>").concat(t.buttons[_i1712],"</x-label>\n          </x-button>\n        ");}_this1142["#footer"].innerHTML=_e2076;}_this1142["#detail"].addEventListener("click",function(t){"a"===t.target.localName&&_this1142.ET(t);}),_this1142["#footer"].addEventListener("click",function(t){return _this1142.TT(t);});return _possibleConstructorReturn(_this1142);}_createClass(Ww,[{key:"ET",value:function ET(t){t.preventDefault(),window.open(t.target.href);}},{key:"TT",value:function TT(t){var e=t.target.closest("x-button");e&&this.dispatchEvent(new CustomEvent("submit",{detail:parseInt(e.value)}));}}]);return Ww;}(Nw);_defineProperty(Ww,"nM",Ki(_templateObject615()));_defineProperty(Ww,"_shadowStyleSheet",Qi(_templateObject616()));customElements.define("bx-messageform",Ww);var Yw=[{postscriptName:"Ahem",family:"Ahem",style:"Regular",fullName:"Ahem Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Arimo-Regular",family:"Arimo",style:"Regular",fullName:"Arimo Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Arimo-Bold",family:"Arimo",style:"Bold",fullName:"Arimo Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Arimo-Italic",family:"Arimo",style:"Italic",fullName:"Arimo Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Arimo-BoldItalic",family:"Arimo",style:"Bold Italic",fullName:"Arimo Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"Cousine-Regular",family:"Cousine",style:"Regular",fullName:"Cousine Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Cousine-Bold",family:"Cousine",style:"Bold",fullName:"Cousine Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Cousine-Italic",family:"Cousine",style:"Italic",fullName:"Cousine Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Cousine-BoldItalic",family:"Cousine",style:"Bold Italic",fullName:"Cousine Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"DejaVuSans",family:"DejaVu Sans",style:"Regular",fullName:"DejaVu Sans Regular",italic:!1,weight:400,stretch:1},{postscriptName:"DejaVuSans-Bold",family:"DejaVu Sans",style:"Bold",fullName:"DejaVu Sans Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Garuda",family:"Garuda",style:"Regular",fullName:"Garuda Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Gelasio-Regular",family:"Gelasio",style:"Regular",fullName:"Gelasio Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Gelasio-Bold",family:"Gelasio",style:"Bold",fullName:"Gelasio Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Gelasio-Italic",family:"Gelasio",style:"Italic",fullName:"Gelasio Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Gelasio-BoldItalic",family:"Gelasio",style:"Bold Italic",fullName:"Gelasio Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"Lohit-Devanagari",family:"Lohit Devanagari",style:"Regular",fullName:"Lohit Devanagari Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Lohit-Gurmukhi",family:"Lohit Gurmukhi",style:"Regular",fullName:"Lohit Gurmukhi Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Lohit-Tamil",family:"Lohit Tamil",style:"Regular",fullName:"Lohit Tamil Regular",italic:!1,weight:400,stretch:1},{postscriptName:"NotoSansKhmer-Regular",family:"Noto Sans Khmer",style:"Regular",fullName:"Noto Sans Khmer Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Tinos-Regular",family:"Tinos",style:"Regular",fullName:"Tinos Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Tinos-Bold",family:"Tinos",style:"Bold",fullName:"Tinos Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Tinos-Italic",family:"Tinos",style:"Italic",fullName:"Tinos Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Tinos-BoldItalic",family:"Tinos",style:"Bold Italic",fullName:"Tinos Bold Italic",italic:!0,weight:700,stretch:1},{postscriptName:"muktinarrow",family:"Mukti Narrow",style:"Regular",fullName:"Mukti Narrow Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Roboto-Regular",family:"Roboto",style:"Regular",fullName:"Roboto Regular",italic:!1,weight:400,stretch:1},{postscriptName:"Roboto-Bold",family:"Roboto",style:"Bold",fullName:"Roboto Bold",italic:!1,weight:700,stretch:1},{postscriptName:"Roboto-Italic",family:"Roboto",style:"Italic",fullName:"Roboto Italic",italic:!0,weight:400,stretch:1},{postscriptName:"Roboto-BoldItalic",family:"Roboto",style:"Bold Italic",fullName:"Roboto Bold Italic",italic:!0,weight:700,stretch:1}],qw=function qw(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/plain";return new Promise(/*#__PURE__*/function(){var _ref245=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee297(s,n){var o;return regeneratorRuntime.wrap(function _callee297$(_context299){while(1){switch(_context299.prev=_context299.next){case 0:_context299.next=2;return Jw(t);case 2:o=_context299.sent;o?o.createWriter(function(t){var _o570,_l423,a=e instanceof Blob?e:new Blob([e],{type:i}),h="write";t.addEventListener("writeend",_o570=function o(e){"write"===h?(h="truncate",t.truncate(a.size)):"truncate"===h&&(t.removeEventListener("writeend",_o570),t.removeEventListener("error",_l423),s());}),t.addEventListener("error",_l423=function l(e){t.removeEventListener("writeend",_o570),t.removeEventListener("error",_l423),n("READ_ONLY");}),t.write(a);},function(t){n("NOT_FOUND");}):n("READ_ONLY");case 4:case"end":return _context299.stop();}}},_callee297);}));return function(_x374,_x375){return _ref245.apply(this,arguments);};}());},Xw=function Xw(t){return new Promise(function(e,i){chrome.fileSystem.chooseEntry(t,function(s){chrome.runtime.lastError?"User cancelled"===chrome.runtime.lastError.message?e(!0===t.acceptsMultiple?[]:null):i(chrome.runtime.lastError.message):e(s);});});},Zw=function Zw(t){return new Promise(function(e){chrome.fileSystem.restoreEntry(t,function(t){t?t.file(function(){return e(t);},function(){return e(null);}):e(null);});});},Kw=/*#__PURE__*/function(){var _ref246=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee299(t,e){return regeneratorRuntime.wrap(function _callee299$(_context301){while(1){switch(_context301.prev=_context301.next){case 0:return _context301.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref247=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee298(i){return regeneratorRuntime.wrap(function _callee298$(_context300){while(1){switch(_context300.prev=_context300.next){case 0:_context300.t0=i;_context300.next=3;return Qw(t);case 3:_context300.t1=_context300.sent;_context300.next=6;return Qw(e);case 6:_context300.t2=_context300.sent;_context300.t3=_context300.t1===_context300.t2;(0,_context300.t0)(_context300.t3);case 9:case"end":return _context300.stop();}}},_callee298);}));return function(_x378){return _ref247.apply(this,arguments);};}()));case 1:case"end":return _context301.stop();}}},_callee299);}));return function Kw(_x376,_x377){return _ref246.apply(this,arguments);};}(),Qw=function Qw(t){return new Promise(function(e){chrome.fileSystem.getDisplayPath(t,function(t){e(t);});});},Jw=function Jw(t){return new Promise(function(e){chrome.fileSystem.isWritableEntry(t,function(i){i?e(t):chrome.fileSystem.getWritableEntry(t,function(t){chrome.runtime.lastError?e(null):e(t);});});});},tv=Math.pow,ev=Math.sqrt,iv=Object.entries,sv=Symbol(),nv=Symbol(),ov=Symbol(),lv=Symbol(),av=Symbol();var hv=/*#__PURE__*/function(_HTMLElement156){_inherits(hv,_HTMLElement156);var _super268=_createSuper(hv);_createClass(hv,[{key:"currentTab",get:function get(){return this["#tabs"].querySelector("x-doctab[selected]");}},{key:"currentEditorTab",get:function get(){var t=this.currentTab;return t&&"editor"===t[sv]?t:null;}},{key:"currentEditor",get:function get(){return this.currentEditorTab?this.currentEditorTab[nv]:null;}},{key:"currentView",get:function get(){return this.currentTab?this.currentTab[nv]:null;}},{key:"textInputMode",get:function get(){return this.AT;}},{key:"modKeys",get:function get(){var _this$$T=this.$T,t=_this$$T.ctrl,e=_this$$T.alt,i=_this$$T.meta,s=_this$$T.shift;return{ctrl:t,alt:e,meta:i,shift:s};}},{key:"pointerClientPoint",get:function get(){return new DOMPoint(this.IT,this.LT);}},{key:"pointerPressure",get:function get(){return this.BT;}},{key:"pointers",get:function get(){return _toConsumableArray(this.RT);}},{key:"pointerClickCount",get:function get(){return this.GT;}},{key:"isPointerDown",get:function get(){return this.UT;}},{key:"hardwareAcceleration",get:function get(){return new Promise(function(t){return t(!0);});},set:function set(t){}}]);function hv(){var _temp58,_this1143;_classCallCheck(this,hv);(_temp58=_this1143=_super268.call(this),_defineProperty(_assertThisInitialized(_this1143),"commands",{"new":{exec:function exec(){return _this1143.FT();}},newFromSelected:{enabled:function enabled(){return _this1143.NT();},exec:function exec(){return _this1143.jT();}},newFromClipboard:{exec:function exec(){return _this1143.VT();}},open:{exec:function exec(){return _this1143.HT();}},clearRecent:{exec:function exec(){return _this1143.WT();}},save:{exec:function exec(){return _this1143.YT();}},saveAs:{exec:function exec(){return _this1143.qT();}},reloadFromDisk:{enabled:function enabled(){return _this1143.currentEditorTab&&null!==_this1143.currentEditorTab[ov];},exec:function exec(){return _this1143.XT();}},close:{exec:function exec(){return _this1143.ZT(_this1143.currentTab);}},quit:{exec:function exec(){return _this1143.KT();}},preferences:{exec:function exec(){return _this1143.QT();}},minimize:{exec:function exec(){return _this1143.JT();}},maximize:{exec:function exec(){return _this1143.tA();}},previousTab:{exec:function exec(){return _this1143.eA();}},nextTab:{exec:function exec(){return _this1143.iA();}},moveTabLeft:{exec:function exec(){return _this1143["#tabs"].moveSelectedTabLeft();}},moveTabRight:{exec:function exec(){return _this1143["#tabs"].moveSelectedTabRight();}},about:{exec:function exec(){return _this1143.sA();}}}),_temp58),_this1143.$T={ctrl:!1,alt:!1,meta:!1,shift:!1},_this1143.AT=!1,_this1143.RT=new Set(),_this1143.IT=0,_this1143.LT=0,_this1143.BT=0,_this1143.GT=0,_this1143.UT=!1,_this1143.nA=[],_this1143.oA=0,_this1143.lA={},_this1143.aA={},_this1143.hA={},_this1143.rA=null,window.algolia=algoliasearch("501AW1B8SF","8e5b1516b6b9453144a8623f77b6cad3"),_this1143.dA().then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee300(){var _iterator1832,_step1832,_t2724,_t2722;return regeneratorRuntime.wrap(function _callee300$(_context302){while(1){switch(_context302.prev=_context302.next){case 0:_this1143._shadowRoot=_this1143.attachShadow({mode:"closed"}),_this1143._shadowRoot.adoptedStyleSheets=[Gs.themeStyleSheet,hv._shadowStyleSheet],_this1143._shadowRoot.append(document.importNode(hv._shadowTemplate.content,!0));_iterator1832=_createForOfIteratorHelper(_this1143._shadowRoot.querySelectorAll("[id]"));try{for(_iterator1832.s();!(_step1832=_iterator1832.n()).done;){_t2724=_step1832.value;_this1143["#"+_t2724.id]=_t2724;}}catch(err){_iterator1832.e(err);}finally{_iterator1832.f();}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return _this1143.cA();});window.addEventListener("message",function(t){return _this1143.pA(t);});window.addEventListener("keydown",function(t){return _this1143.Tn(t);});window.addEventListener("keyup",function(t){return _this1143.$n(t);});window.addEventListener("focus",function(t){return _this1143.uA(t);});window.addEventListener("blur",function(t){return _this1143.xA(t);});window.addEventListener("pointerdown",function(t){return _this1143.Oo(t);},!0);window.addEventListener("pointermove",function(t){return _this1143.Wd(t);});window.addEventListener("pointerup",function(t){return _this1143.ba(t);});window.addEventListener("pointercancel",function(t){return _this1143.bA(t);});_this1143.addEventListener("configchange",function(t){return _this1143.an(t);});_this1143.addEventListener("textinputmodestart",function(){return _this1143.AT=!0;});_this1143.addEventListener("textinputmodeend",function(){return _this1143.AT=!1;});_this1143._shadowRoot.addEventListener("dragover",function(t){return _this1143.mA(t);});_this1143._shadowRoot.addEventListener("drop",function(t){return _this1143.gA(t);});_this1143["#titlebar-buttons"].addEventListener("click",function(t){return _this1143.fA(t);});_this1143["#menubar"].addEventListener("click",function(t){return _this1143.wA(t);});_this1143["#menubar"].addEventListener("toggle",function(t){return _this1143.vA(t);});_this1143["#menubar"].addEventListener("open",function(t){return _this1143.yA(t);});_this1143["#menubar"].addEventListener("close",function(t){return _this1143.kA(t);});_this1143["#tabs"].addEventListener("open",function(t){return _this1143.SA(t);});_this1143["#tabs"].addEventListener("close",function(t){return _this1143.CA(t);});_this1143["#tabs"].addEventListener("select",function(t){return _this1143._A(t);});_this1143["#main"].addEventListener("change",function(t){return _this1143.MA(t);});_this1143.addMessageListener("openTabs",function(t){return _this1143.PA(t);});_context302.next=30;return _this1143.DA();case 30:_this1143.zA();_this1143.OA();_this1143.postMessage("ready",null,function(t){return _this1143.EA(t);});_t2722=_this1143.getConfig("license",null);if(!("FULL"===_t2722)){_context302.next=38;break;}_t2722="FULL";_context302.next=44;break;case 38:_this1143["#sign-in-dialog"].showModal();_context302.next=41;return new Promise(function(t){chrome.identity.getAuthToken({interactive:!0},function(e){if(chrome.runtime.lastError)console.log("chrome.identity.getAuthToken() failed, assuming trial license",chrome.runtime.lastError),t("FREE_TRIAL");else{var _i1713=new XMLHttpRequest();_i1713.open("GET","https://www.googleapis.com/chromewebstore/v1.1/userlicenses/"+chrome.runtime.id),_i1713.setRequestHeader("Authorization","Bearer ".concat(e)),_i1713.send(),_i1713.onerror=function(e){console.log("xhr.open() failed, assuming trial license",e),t("FREE_TRIAL");},_i1713.onload=function(){if(200!==_i1713.status)console.log("XHR response with status code ".concat(_i1713.status,", assuming trial license")),t("FREE_TRIAL");else{var _e2077="FREE_TRIAL",_s1009=_i1713.response,_n669=JSON.parse(_s1009);if("FULL"===_n669.accessLevel)_e2077="FULL";else if("FREE_TRIAL"===_n669.accessLevel){var _t2723=1502367014252,_i1714=Date.now(),_s1010=parseInt(_n669.createdTime,10);_e2077=(_i1714-_s1010)/1e3/60/60/24<=7?"FREE_TRIAL":_s1010<_t2723?"FULL":"FREE_TRIAL_EXPIRED";}else _e2077="NONE";t(_e2077);}};}});});case 41:_t2722=_context302.sent;_this1143["#sign-in-dialog"].close();_this1143.setConfig("license",_t2722);case 44:"FREE_TRIAL_EXPIRED"===_t2722?_this1143["#trial-dialog"].showModal():!1===navigator.userAgent.includes("CrOS")&&_this1143["#install-dialog"].showModal();case 45:case"end":return _context302.stop();}}},_callee300);})));return _this1143;}_createClass(hv,[{key:"postMessage",value:function(){var _postMessage=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee301(t){var e,i,s,_args303=arguments;return regeneratorRuntime.wrap(function _callee301$(_context303){while(1){switch(_context303.prev=_context303.next){case 0:e=_args303.length>1&&_args303[1]!==undefined?_args303[1]:null;i=_args303.length>2&&_args303[2]!==undefined?_args303[2]:null;s={channel:"request",id:this.oA++,name:t,arg:e};i&&(this.aA[s.id]=i);_context303.t0=this.rA;if(_context303.t0){_context303.next=9;break;}_context303.next=8;return new Promise(function(t){chrome.runtime.getBackgroundPage(function(e){return t(e);});});case 8:this.rA=_context303.sent;case 9:this.rA.postMessage(s,"*");case 10:case"end":return _context303.stop();}}},_callee301,this);}));function postMessage(_x379){return _postMessage.apply(this,arguments);}return postMessage;}()},{key:"addMessageListener",value:function addMessageListener(t,e){this.lA[t]||(this.lA[t]=[]),this.lA[t].push(e);}},{key:"removeMessageListener",value:function removeMessageListener(t,e){this.lA[t]&&(this.lA[t]=this.lA[t].filter(function(t){return t!==e;}));}},{key:"getConfig",value:function getConfig(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=e;var s;return void 0!==this.hA[t]&&(this.hA[t]instanceof Object?(s=this.hA[t],i=JSON.parse(JSON.stringify(s))):i=this.hA[t]),i;}},{key:"setConfig",value:function setConfig(t,e){var i="!"===t[0]?"local":"sync";null===e?(delete this.hA[t],chrome.storage[i].remove(t)):(this.hA[t]=e,chrome.storage[i].set(_defineProperty({},t,e))),this.dispatchEvent(new CustomEvent("configchange",{detail:{key:t,value:e}}));}},{key:"clearConfig",value:function clearConfig(){var t=this.hA;this.hA={schema:3},chrome.storage.local.clear(),chrome.storage.sync.clear();var _iterator1833=_createForOfIteratorHelper(iv(t)),_step1833;try{for(_iterator1833.s();!(_step1833=_iterator1833.n()).done;){var _step1833$value=_slicedToArray(_step1833.value,2),_e2078=_step1833$value[0],_i1715=_step1833$value[1];this.dispatchEvent(new CustomEvent("configchange",{detail:{key:_e2078,value:null}}));}}catch(err){_iterator1833.e(err);}finally{_iterator1833.f();}}},{key:"dA",value:function dA(){var _this1144=this;return new Promise(function(t){var e={};chrome.storage.local.get(null,function(i){chrome.storage.sync.get(null,function(s){var _iterator1834=_createForOfIteratorHelper(iv(i)),_step1834;try{for(_iterator1834.s();!(_step1834=_iterator1834.n()).done;){var _step1834$value=_slicedToArray(_step1834.value,2),_t2725=_step1834$value[0],_s1011=_step1834$value[1];e[_t2725]=_s1011;}}catch(err){_iterator1834.e(err);}finally{_iterator1834.f();}var _iterator1835=_createForOfIteratorHelper(iv(s)),_step1835;try{for(_iterator1835.s();!(_step1835=_iterator1835.n()).done;){var _step1835$value=_slicedToArray(_step1835.value,2),_t2726=_step1835$value[0],_i1716=_step1835$value[1];e[_t2726]=_i1716;}}catch(err){_iterator1835.e(err);}finally{_iterator1835.f();}_this1144.hA=e,function(t){"yellowgreen"===t.getConfig("bx-uisettings:accentColor")&&t.setConfig("bx-uisettings:accentColor","green"),null!==t.getConfig("bx-shortcutssettings:userShortcuts")&&(t.setConfig("bx-keyboardsettings:userShortcuts",t.getConfig("bx-shortcutssettings:userShortcuts")),t.setConfig("bx-shortcutssettings:userShortcuts",null)),null!==t.getConfig("bx-shortcutssettings:spaceKeyMode")&&(t.setConfig("bx-keyboardsettings:spaceKeyMode",t.getConfig("bx-shortcutssettings:spaceKeyMode")),t.setConfig("bx-shortcutssettings:spaceKeyMode",null)),"photos-library-browser"===t.getConfig("bx-librarypanel:currentBrowserID")&&t.setConfig("bx-librarypanel:currentBrowserID","bitmaps-library-browser"),["pixabay.com","wikimedia.org"].includes(t.getConfig("bx-vectorslibrarybrowser:provider"))&&t.setConfig("bx-vectorslibrarybrowser:provider",null),null!==t.getConfig("bx-blobsettings:mode")&&(t.setConfig("bx-blobsettings:drawingMode","erase"===t.getConfig("bx-blobsettings:mode")?"erase":"create"),t.setConfig("bx-blobsettings:mode",null));}(_this1144),t();});});});}},{key:"getClipboardData",value:function getClipboardData(){return new Promise(function(t){document.addEventListener("paste",function(e){var i=Array.prototype.slice.call(e.clipboardData.items,0),s={},n=0;i?i.forEach(/*#__PURE__*/function(){var _ref249=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee303(e){var o,l;return regeneratorRuntime.wrap(function _callee303$(_context305){while(1){switch(_context305.prev=_context305.next){case 0:o=e.type;_context305.next=3;return function(t){return new Promise(/*#__PURE__*/function(){var _ref250=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee302(e){var _i1717,_t2727;return regeneratorRuntime.wrap(function _callee302$(_context304){while(1){switch(_context304.prev=_context304.next){case 0:if(!["image/png","image/jpeg","image/gif","image/webp","image/avif"].includes(t.type)){_context304.next=12;break;}_i1717=t.getAsFile();if(!_i1717){_context304.next=9;break;}_context304.next=5;return ar(_i1717,"dataURL");case 5:_t2727=_context304.sent;e("data:"!==_t2727?_t2727:null);_context304.next=10;break;case 9:e(null);case 10:_context304.next=13;break;case 12:["text/plain","text/html","image/svg+xml"].includes(t.type)?t.getAsString(function(t){return e(t);}):(console.warn("Clipboard contains data with unsupported mime-type:",t.type),e(null));case 13:case"end":return _context304.stop();}}},_callee302);}));return function(_x381){return _ref250.apply(this,arguments);};}());}(e);case 3:l=_context305.sent;l&&(s[o]=l),n+=1,n===i.length&&t(s);case 5:case"end":return _context305.stop();}}},_callee303);}));return function(_x380){return _ref249.apply(this,arguments);};}()):t(s);},{once:!0}),document.execCommand("paste");});}},{key:"setClipboardData",value:function setClipboardData(t){return new Promise(function(e){var i;document.addEventListener("copy",i=/*#__PURE__*/function(){var _ref251=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee304(s){return regeneratorRuntime.wrap(function _callee304$(_context306){while(1){switch(_context306.prev=_context306.next){case 0:document.removeEventListener("copy",i),s.preventDefault(),s.clipboardData.items.clear(),t["text/plain"]&&s.clipboardData.items.add(t["text/plain"],"text/plain"),t["text/html"]&&s.clipboardData.items.add(t["text/html"],"text/html"),e();case 1:case"end":return _context306.stop();}}},_callee304);}));return function i(_x382){return _ref251.apply(this,arguments);};}()),document.execCommand("copy");});}},{key:"getLocalFontsMetadata",value:function getLocalFontsMetadata(){return new Promise(/*#__PURE__*/function(){var _ref252=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee305(t){return regeneratorRuntime.wrap(function _callee305$(_context307){while(1){switch(_context307.prev=_context307.next){case 0:t(Yw);case 1:case"end":return _context307.stop();}}},_callee305);}));return function(_x383){return _ref252.apply(this,arguments);};}());}},{key:"openArtworkExportDialog",value:function openArtworkExportDialog(t,e){var _this1145=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref253=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee306(s){var n,o,l,a,_t2728;return regeneratorRuntime.wrap(function _callee306$(_context308){while(1){switch(_context308.prev=_context308.next){case 0:n=null,o=null,l=null,a=null;if(null===i){_t2728=_this1145.currentEditorTab.querySelector("x-label").textContent;_t2728.endsWith(".svg")?i=_t2728.substring(0,_t2728.length-4):_t2728.endsWith(".svgz")&&(i=_t2728.substring(0,_t2728.length-5));}"svg"===e?(o="SVG",l="image/svg+xml",a=["svg"]):"svgz"===e?(o="SVGZ",l="image/svg+xml",a=["svgz"]):"html"===e&&(o="HTML",l="text/html",a=["html"]);_context308.prev=3;_context308.next=6;return Xw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:a,mimeTypes:[l]}]});case 6:n=_context308.sent;_context308.next=19;break;case 9:_context308.prev=9;_context308.t0=_context308["catch"](3);n=null;_context308.next=14;return _this1145.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context308.t1=_context308.sent;_context308.t2=1===_context308.t1;if(!_context308.t2){_context308.next=19;break;}_context308.next=19;return _this1145.openArtworkExportDialog(t,e,i);case 19:if(!n){_context308.next=46;break;}_context308.prev=20;if(!("svg"===e)){_context308.next=26;break;}_context308.next=24;return qw(n,t,"image/svg+xml;charset=utf-8");case 24:_context308.next=35;break;case 26:if(!("svgz"===e)){_context308.next=31;break;}_context308.next=29;return qw(n,Wf(t),"image/svg+xml;charset=utf-8");case 29:_context308.next=35;break;case 31:_context308.t3="html"===e;if(!_context308.t3){_context308.next=35;break;}_context308.next=35;return qw(n,t,"text/html;charset=utf-8");case 35:_context308.next=46;break;case 37:_context308.prev=37;_context308.t4=_context308["catch"](20);_context308.next=41;return _this1145.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 41:_context308.t5=_context308.sent;_context308.t6=1===_context308.t5;if(!_context308.t6){_context308.next=46;break;}_context308.next=46;return _this1145.openArtworkExportDialog(t,e,i);case 46:s();case 47:case"end":return _context308.stop();}}},_callee306,null,[[3,9],[20,37]]);}));return function(_x384){return _ref253.apply(this,arguments);};}());}},{key:"openBitmapExportDialog",value:function openBitmapExportDialog(t,e){var _this1146=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"";return new Promise(/*#__PURE__*/function(){var _ref254=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee307(n){var o,l,a,h,_t2729;return regeneratorRuntime.wrap(function _callee307$(_context309){while(1){switch(_context309.prev=_context309.next){case 0:o=null,l=null,a=null,h=null;if(null===i){_t2729=_this1146.currentEditorTab.querySelector("x-label").textContent;_t2729.endsWith(".svg")?i=_t2729.substring(0,_t2729.length-4):_t2729.endsWith(".svgz")&&(i=_t2729.substring(0,_t2729.length-5));}"png"===e?(l="PNG",a="image/png",h=["png"]):"jpeg"===e||"jpg"===e?(l="JPEG",a="image/jpeg",h=["jpg","jpeg"]):"gif"===e?(l="GIF",a="image/gif",h=["gif"]):"webp"===e?(l="WebP",a="image/webp",h=["webp"]):"avif"===e&&(l="AVIF",a="image/avif",h=["avif"]);_context309.prev=3;_context309.next=6;return Xw({type:"saveFile",suggestedName:"".concat(i).concat(s,".").concat(e),acceptsAllTypes:!1,accepts:[{description:l,extensions:h,mimeTypes:[a]}]});case 6:o=_context309.sent;_context309.next=19;break;case 9:_context309.prev=9;_context309.t0=_context309["catch"](3);o=null;_context309.next=14;return _this1146.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context309.t1=_context309.sent;_context309.t2=1===_context309.t1;if(!_context309.t2){_context309.next=19;break;}_context309.next=19;return _this1146.openBitmapExportDialog(t,e,i,s);case 19:if(!o){_context309.next=34;break;}_context309.prev=20;_context309.next=23;return qw(o,t);case 23:_context309.next=34;break;case 25:_context309.prev=25;_context309.t3=_context309["catch"](20);_context309.next=29;return _this1146.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 29:_context309.t4=_context309.sent;_context309.t5=1===_context309.t4;if(!_context309.t5){_context309.next=34;break;}_context309.next=34;return _this1146.openBitmapExportDialog(t,e,i,s);case 34:n();case 35:case"end":return _context309.stop();}}},_callee307,null,[[3,9],[20,25]]);}));return function(_x385){return _ref254.apply(this,arguments);};}());}},{key:"openLocalFontsImportDialog",value:function openLocalFontsImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref255=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee308(t){var e,i,_iterator1836,_step1836,_t2730,_e2079,_s1012,_n670,_o571;return regeneratorRuntime.wrap(function _callee308$(_context310){while(1){switch(_context310.prev=_context310.next){case 0:_context310.prev=0;_context310.next=3;return Xw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["woff","woff2","ttf","otf"]},{description:"WOFF",extensions:["woff"]},{description:"WOFF2",extensions:["woff2"]},{description:"TTF",extensions:["ttf"]},{description:"OTF",extensions:["otf"]}]});case 3:e=_context310.sent;_context310.next=9;break;case 6:_context310.prev=6;_context310.t0=_context310["catch"](0);return _context310.abrupt("return",void t());case 9:i=[];_iterator1836=_createForOfIteratorHelper(e);_context310.prev=11;_iterator1836.s();case 13:if((_step1836=_iterator1836.n()).done){_context310.next=24;break;}_t2730=_step1836.value;_e2079=cr(_t2730);_s1012=rr(_t2730).toLowerCase();_n670=_t2730.fullPath;_context310.next=20;return lr(_t2730,"dataURL");case 20:_o571=_context310.sent;_o571=_o571.substring(_o571.indexOf("base64")+7),_o571="data:application/font-".concat(_s1012,";charset=utf-8;base64,").concat(_o571),i.push({baseName:_e2079,extension:_s1012,path:_n670,data:_o571});case 22:_context310.next=13;break;case 24:_context310.next=29;break;case 26:_context310.prev=26;_context310.t1=_context310["catch"](11);_iterator1836.e(_context310.t1);case 29:_context310.prev=29;_iterator1836.f();return _context310.finish(29);case 32:t(i);case 33:case"end":return _context310.stop();}}},_callee308,null,[[0,6],[11,26,29,32]]);}));return function(_x386){return _ref255.apply(this,arguments);};}());}},{key:"openImageImportDialog",value:function openImageImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref256=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee309(t){var e,_i1718,_s1013,_n671,_o572;return regeneratorRuntime.wrap(function _callee309$(_context311){while(1){switch(_context311.prev=_context311.next){case 0:_context311.prev=0;_context311.next=3;return Xw({type:"openFile",acceptsMultiple:!1,acceptsAllTypes:!1,accepts:[{description:"Images",extensions:["png","jpg","jpeg","gif","webp","avif","svg","svgz","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context311.sent;_context311.next=9;break;case 6:_context311.prev=6;_context311.t0=_context311["catch"](0);return _context311.abrupt("return",void t());case 9:if(!e){_context311.next=31;break;}_i1718=cr(e),_s1013=rr(e).toLowerCase(),_n671=e.fullPath,_o572=null;if(!("svg"===_s1013||"svgz"===_s1013)){_context311.next=17;break;}_context311.next=14;return lr(e,"text");case 14:_context311.t1=_context311.sent;_context311.next=27;break;case 17:if(!("pdf"===_s1013||"ai"===_s1013)){_context311.next=23;break;}_context311.next=20;return lr(e,"arrayBuffer");case 20:_context311.t2=_context311.sent;_context311.next=26;break;case 23:_context311.next=25;return lr(e,"dataURL");case 25:_context311.t2=_context311.sent;case 26:_context311.t1=_context311.t2;case 27:_o572=_context311.t1;t({baseName:_i1718,extension:_s1013,path:_n671,data:_o572});_context311.next=32;break;case 31:t(null);case 32:case"end":return _context311.stop();}}},_callee309,null,[[0,6]]);}));return function(_x387){return _ref256.apply(this,arguments);};}());}},{key:"openMessageDialog",value:function openMessageDialog(t){var _this1147=this;return new Promise(function(e){var i,s,n=Ki(_templateObject112()),o=new Ww(t);n.append(o),_this1147["#dialogs"].append(n),n.showModal(),n.addEventListener("close",s=function(_s1014){function s(_x388){return _s1014.apply(this,arguments);}s.toString=function(){return _s1014.toString();};return s;}(function(t){n.removeEventListener("close",s),o.removeEventListener("submit",i),_this1147.TA(t),e(-1);})),o.addEventListener("submit",i=/*#__PURE__*/function(){var _ref257=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee310(t){return regeneratorRuntime.wrap(function _callee310$(_context312){while(1){switch(_context312.prev=_context312.next){case 0:n.removeEventListener("close",s);o.removeEventListener("submit",i);_context312.next=4;return n.close();case 4:e(t.detail);case 5:case"end":return _context312.stop();}}},_callee310);}));return function i(_x389){return _ref257.apply(this,arguments);};}());});}},{key:"openNotification",value:function openNotification(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Sample notification";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2e3;this["#notification"].innerHTML=t,this["#notification"].timeout=e,this["#notification"].opened=!0;}},{key:"openContextMenu",value:function openContextMenu(){var _this1148=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(function(e){var i,s,n="",o=null,l=_this1148.IT,a=_this1148.LT;null===t&&(t=[{value:"command:undo",label:"Undo"},{value:"command:redo",label:"Redo"},{type:"separator"},{value:"command:cut",label:"Cut"},{value:"command:copy",label:"Copy"},{value:"command:paste",label:"Paste"},{type:"separator"},{value:"command:selectAll",label:"Select All"}]);var _iterator1837=_createForOfIteratorHelper(t),_step1837;try{for(_iterator1837.s();!(_step1837=_iterator1837.n()).done;){var _e2080=_step1837.value;if("separator"===_e2080.type)n+="<hr/>";else{var _t2732=_e2080.toggled?"toggled":"",_i1719=_e2080.disabled?"disabled":"";n+="\n            <x-menuitem value=\"".concat(_e2080.value,"\" ").concat(_t2732," ").concat(_i1719,">\n              <x-label>").concat(_e2080.label,"</x-label>\n            </x-menuitem>\n          ");}}}catch(err){_iterator1837.e(err);}finally{_iterator1837.f();}_this1148["#context-menu"].innerHTML="<x-menu>"+n+"</x-menu>",_this1148["#context-menu"].open(l,a),_this1148["#context-menu"].addEventListener("click",i=function i(t){var e=t.target.closest("x-menuitem");if(o=e.value,null!==e.value&&e.value.startsWith("command:")){var _e$value$split=e.value.split(":"),_e$value$split2=_slicedToArray(_e$value$split,2),_t2731=_e$value$split2[1];_this1148.execCommand(_t2731);}}),_this1148["#context-menu"].addEventListener("close",s=function(_s1015){function s(){return _s1015.apply(this,arguments);}s.toString=function(){return _s1015.toString();};return s;}(function(){_this1148["#context-menu"].removeEventListener("click",i),_this1148["#context-menu"].removeEventListener("close",s),e(o);}));});}},{key:"EA",value:function(){var _EA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee311(t){return regeneratorRuntime.wrap(function _callee311$(_context313){while(1){switch(_context313.prev=_context313.next){case 0:_context313.next=2;return this.PA(t);case 2:_context313.t0=_context313.sent.length;_context313.t1=0===_context313.t0;if(!_context313.t1){_context313.next=6;break;}this.FT();case 6:case"end":return _context313.stop();}}},_callee311,this);}));function EA(_x390){return _EA.apply(this,arguments);}return EA;}()},{key:"pA",value:function pA(t){var e=t.source,_t$data=t.data,i=_t$data.channel,s=_t$data.id,n=_t$data.name,o=_t$data.arg;"request"===i?this.lA[n]&&this.lA[n].forEach(function(t){t(o,function(t){var i={channel:"response",id:s,name:n,arg:t};e.postMessage(i,"*");});}):"response"===i&&this.aA[s]&&(this.aA[s](o),delete this.aA[s]);}},{key:"Tn",value:function Tn(t){if(this["#sign-in-dialog"].open||this["#install-dialog"].open||this["#trial-dialog"].open)return t.preventDefault(),void t.stopImmediatePropagation();var e=Ja.fromEvent(t);e.ctrl===this.$T.ctrl&&e.alt===this.$T.alt&&e.meta===this.$T.meta&&e.shift===this.$T.shift||(this.$T={ctrl:e.ctrl,alt:e.alt,meta:e.meta,shift:e.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),e.matches("Escape")?!1===t.defaultPrevented&&this.execCommand("transformTool"):!1===this.textInputMode&&(e.matches("Backspace")||e.matches("Delete")?this.execCommand("delete"):e.matches("ArrowDown")?this.execCommand("moveOneUnitDown"):e.matches("ArrowUp")?this.execCommand("moveOneUnitUp"):e.matches("ArrowLeft")?this.execCommand("moveOneUnitLeft"):e.matches("ArrowRight")?this.execCommand("moveOneUnitRight"):e.matches("Shift","ArrowDown")?this.execCommand("moveTenUnitsDown"):e.matches("Shift","ArrowUp")?this.execCommand("moveTenUnitsUp"):e.matches("Shift","ArrowLeft")?this.execCommand("moveTenUnitsLeft"):e.matches("Shift","ArrowRight")&&this.execCommand("moveTenUnitsRight"));{var _i1720=!1;this.textInputMode?(e.ctrl||e.alt||e.meta)&&(_i1720=this.AA(e)):_i1720=this.AA(e),_i1720&&t.preventDefault();}}},{key:"$n",value:function $n(t){var _Ja$fromEvent=Ja.fromEvent(t),e=_Ja$fromEvent.ctrl,i=_Ja$fromEvent.alt,s=_Ja$fromEvent.meta,n=_Ja$fromEvent.shift;e===this.$T.ctrl&&i===this.$T.alt&&s===this.$T.meta&&n===this.$T.shift||(this.$T={ctrl:e,alt:i,meta:s,shift:n},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"uA",value:function uA(e){var _this1149=this;window.addEventListener("pointermove",function(e){var i=e.getModifierState("Control"),s=e.getModifierState("Alt"),n=e.getModifierState("Meta"),o=e.getModifierState("Shift"),l=t?n:i,a=s,h=t?i:n,r=o;_this1149.$T.ctrl===l&&_this1149.$T.alt===a&&_this1149.$T.meta===h&&_this1149.$T.shift===r||(_this1149.$T={ctrl:l,alt:a,meta:h,shift:r},_this1149.dispatchEvent(new CustomEvent("modkeyschange")));},{once:!0});}},{key:"xA",value:function xA(t){var _this$$T2=this.$T,e=_this$$T2.ctrl,i=_this$$T2.alt,s=_this$$T2.meta,n=_this$$T2.shift;(e||i||s||n)&&(this.$T={ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"Oo",value:function Oo(t){this.UT=!0,this.IT=t.clientX,this.LT=t.clientY,!1===this.RT.has(t.pointerId)&&(this.RT.add(t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _Ja$fromEvent2=Ja.fromEvent(t),e=_Ja$fromEvent2.ctrl,_i1721=_Ja$fromEvent2.alt,_s1016=_Ja$fromEvent2.meta,_n672=_Ja$fromEvent2.shift;e===this.$T.ctrl&&_i1721===this.$T.alt&&_s1016===this.$T.meta&&_n672===this.$T.shift||(this.$T={ctrl:e,alt:_i1721,meta:_s1016,shift:_n672},this.dispatchEvent(new CustomEvent("modkeyschange")));}{var _e2081=1,_i1722=null;for(this.nA.push(t);this.nA.length>8;){this.nA.shift();}var _iterator1838=_createForOfIteratorHelper(this.nA),_step1838;try{for(_iterator1838.s();!(_step1838=_iterator1838.n()).done;){var _t2733=_step1838.value;if(_i1722)if("pen"===_t2733.pointerType){ev(tv(_t2733.clientX-_i1722.clientX,2)+tv(_t2733.clientY-_i1722.clientY,2))<3&&_t2733.timeStamp-_i1722.timeStamp<600?_e2081+=1:_e2081=1;}else _t2733.clientX===_i1722.clientX&&_t2733.clientY===_i1722.clientY&&_t2733.timeStamp-_i1722.timeStamp<600?_e2081+=1:_e2081=1;_i1722=_t2733;}}catch(err){_iterator1838.e(err);}finally{_iterator1838.f();}this.GT=_e2081;}}},{key:"Wd",value:function Wd(t){this.IT=t.clientX,this.LT=t.clientY,this.BT=t.pressure;{var _Ja$fromEvent3=Ja.fromEvent(t),e=_Ja$fromEvent3.ctrl,_i1723=_Ja$fromEvent3.alt,_s1017=_Ja$fromEvent3.meta,_n673=_Ja$fromEvent3.shift;e===this.$T.ctrl&&_i1723===this.$T.alt&&_s1017===this.$T.meta&&_n673===this.$T.shift||(this.$T={ctrl:e,alt:_i1723,meta:_s1017,shift:_n673},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"ba",value:function ba(t){this.UT=!1,!0===this.RT.has(t.pointerId)&&(this.RT["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _Ja$fromEvent4=Ja.fromEvent(t),e=_Ja$fromEvent4.ctrl,_i1724=_Ja$fromEvent4.alt,_s1018=_Ja$fromEvent4.meta,_n674=_Ja$fromEvent4.shift;e===this.$T.ctrl&&_i1724===this.$T.alt&&_s1018===this.$T.meta&&_n674===this.$T.shift||(this.$T={ctrl:e,alt:_i1724,meta:_s1018,shift:_n674},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"bA",value:function bA(t){!0===this.RT.has(t.pointerId)&&(this.RT["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));}},{key:"mA",value:function mA(t){this.IT=t.clientX,this.LT=t.clientY,t.preventDefault(),t.dataTransfer.dropEffect="copy";}},{key:"gA",value:function(){var _gA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee312(t){var e,_i1725,_s1019,_iterator1839,_step1839,_e2082,_t2736,_o573,_e2083,_s1020,_e2084,_s1021,_n675,_e2085,_s1022,_l424,_t2737,_e2086,_iterator1840,_step1840,_t2734,_iterator1841,_step1841,_t2735,_e2087,_iterator1842,_step1842,_i1726,_t2739,_s1023,_t2738;return regeneratorRuntime.wrap(function _callee312$(_context314){while(1){switch(_context314.prev=_context314.next){case 0:if(!(this.IT=t.clientX,this.LT=t.clientY,t.preventDefault(),"bx-editor"===t.target.localName)){_context314.next=61;break;}e=t.target,_i1725=[],_s1019=[];_iterator1839=_createForOfIteratorHelper(t.dataTransfer.items);_context314.prev=3;_iterator1839.s();case 5:if((_step1839=_iterator1839.n()).done){_context314.next=50;break;}_e2082=_step1839.value;_t2736=_e2082.webkitGetAsEntry(),_o573=rr(_t2736).toLowerCase();if(!("svg"===_o573)){_context314.next=16;break;}_context314.next=11;return lr(_t2736,"text");case 11:_e2083=_context314.sent;_s1020=Zh(_e2083);_i1725.push(_s1020);_context314.next=48;break;case 16:if(!("svgz"===_o573)){_context314.next=25;break;}_context314.next=19;return lr(_t2736,"arrayBuffer");case 19:_e2084=_context314.sent;_s1021=Yf(_e2084);_n675=Zh(_s1021);_i1725.push(_n675);_context314.next=48;break;case 25:if(!("pdf"===_o573||"ai"===_o573)){_context314.next=43;break;}_context314.next=28;return lr(_t2736,"arrayBuffer");case 28:_e2085=_context314.sent;_s1022=null;_l424=null;_context314.prev=31;_context314.next=34;return Bm(_e2085);case 34:_s1022=_context314.sent;_context314.next=40;break;case 37:_context314.prev=37;_context314.t0=_context314["catch"](31);_l424=_context314.t0;case 40:if(_l424)this.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_o573?n:_l424.message});else{_t2737=Zh(_s1022);_i1725.push(_t2737);}_context314.next=48;break;case 43:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_o573)){_context314.next=48;break;}_context314.next=46;return lr(_t2736,"dataURL");case 46:_e2086=_context314.sent;_s1019.push(_e2086);case 48:_context314.next=5;break;case 50:_context314.next=55;break;case 52:_context314.prev=52;_context314.t1=_context314["catch"](3);_iterator1839.e(_context314.t1);case 55:_context314.prev=55;_iterator1839.f();return _context314.finish(55);case 58:if(_i1725.length>0||_s1019.length>0){e.board.undoManager.checkpoint("Insert files");_iterator1840=_createForOfIteratorHelper(_i1725);try{for(_iterator1840.s();!(_step1840=_iterator1840.n()).done;){_t2734=_step1840.value;e.board.insertArtwork(_t2734,"pointer");}}catch(err){_iterator1840.e(err);}finally{_iterator1840.f();}_iterator1841=_createForOfIteratorHelper(_s1019);try{for(_iterator1841.s();!(_step1841=_iterator1841.n()).done;){_t2735=_step1841.value;e.board.insertBitmap(_t2735,"pointer");}}catch(err){_iterator1841.e(err);}finally{_iterator1841.f();}}_context314.next=65;break;case 61:_e2087=[];_iterator1842=_createForOfIteratorHelper(t.dataTransfer.items);try{for(_iterator1842.s();!(_step1842=_iterator1842.n()).done;){_i1726=_step1842.value;_t2739=_i1726.webkitGetAsEntry(),_s1023=rr(_t2739).toLowerCase();["svg","svgz","pdf","ai","png","jpeg","jpg","gif","webp","avif"].includes(_s1023)&&_e2087.push(_t2739);}}catch(err){_iterator1842.e(err);}finally{_iterator1842.f();}if(_e2087.length>0){_t2738=_e2087.map(function(t){return{type:"editor",selected:!1,entry:t};});_t2738[_t2738.length-1].selected=!0,this.$A(_t2738);}case 65:case"end":return _context314.stop();}}},_callee312,this,[[3,52,55,58],[31,37]]);}));function gA(_x391){return _gA.apply(this,arguments);}return gA;}()},{key:"an",value:function an(t){var _t$detail23=t.detail,e=_t$detail23.key,i=_t$detail23.value;"bx-keyboardsettings:userShortcuts"===e?this.OA():"bx-uisettings:colorScheme"===e?this.DA():"bx-uisettings:accentColor"===e?this.IA():"bx-uisettings:widgetsSize"===e&&this.zA();}},{key:"cA",value:function cA(){this.DA();}},{key:"fA",value:function fA(t){var e=t.target.closest("x-button");"minimize-button"===e.id?this.execCommand("minimize"):"maximize-button"===e.id?this.execCommand("maximize"):"close-button"===e.id&&this.execCommand("quit");}},{key:"wA",value:function(){var _wA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee313(t){var e,_t2740,_i1727,_t2741,_i1728;return regeneratorRuntime.wrap(function _callee313$(_context315){while(1){switch(_context315.prev=_context315.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context315.next=18;break;}if(!t.isTrusted){_context315.next=7;break;}_context315.next=5;return ss(500);case 5:_context315.next=8;break;case 7:if(!e.closest("[expanded]")){_t2740=null;for(_i1727=e;_i1727!==this["#menubar"];_i1727=_i1727.parentElement){"x-menuitem"===_i1727.localName&&(_t2740=_i1727);}_t2740.style.background="var(--accent-color)",_t2740.style.color="white",ss(150).then(function(){_t2740.style.background=null,_t2740.style.color=null;});}case 8:if(!e.value){_context315.next=12;break;}this.execCommand(e.value);_context315.next=18;break;case 12:if(!(e.id&&e.id.startsWith("open-recent-"))){_context315.next=18;break;}_t2741=e.id.substring(12);_context315.next=16;return Zw(_t2741);case 16:_i1728=_context315.sent;_i1728&&(this.FT(_i1728,!0),this.LA([_i1728]));case 18:case"end":return _context315.stop();}}},_callee313,this);}));function wA(_x392){return _wA.apply(this,arguments);}return wA;}()},{key:"vA",value:function vA(t){t.preventDefault();}},{key:"SA",value:function SA(t){t.preventDefault(),this.FT();}},{key:"CA",value:function CA(t){t.preventDefault();var e=t.target;this.ZT(e);}},{key:"_A",value:function _A(t){this.BA(this.currentTab);}},{key:"MA",value:function MA(t){var e=t.target,i=t.detail,s=_toConsumableArray(this["#tabs"].children).find(function(t){return t[nv]===e;}),n=s[av];"increment"===i?s[av]+=1:"decrement"===i&&(s[av]-=1),0!==n!=(0!==s[av])&&(s.edited=0!==s[av]);}},{key:"yA",value:function yA(t){var e=t.target;this.RA(e),this["#menubar"].setAttribute("data-expaneded","");}},{key:"kA",value:function(){var _kA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee314(t){return regeneratorRuntime.wrap(function _callee314$(_context316){while(1){switch(_context316.prev=_context316.next){case 0:_context316.next=2;return ss(500);case 2:null===this["#menubar"].querySelector("x-menu[opened]")&&(this.currentView.focus(),this["#menubar"].removeAttribute("data-expaneded"));case 3:case"end":return _context316.stop();}}},_callee314,this);}));function kA(_x393){return _kA.apply(this,arguments);}return kA;}()},{key:"$A",value:function $A(t){var _this1150=this;return new Promise(/*#__PURE__*/function(){var _ref258=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee315(e){var i,_iterator1843,_step1843,_e2089,_t2743,_t2744,_t2745,_t2742,_e2088;return regeneratorRuntime.wrap(function _callee315$(_context317){while(1){switch(_context317.prev=_context317.next){case 0:i=[];_iterator1843=_createForOfIteratorHelper(t);_context317.prev=2;_iterator1843.s();case 4:if((_step1843=_iterator1843.n()).done){_context317.next=23;break;}_e2089=_step1843.value;if(!("about"===_e2089.type)){_context317.next=11;break;}_t2743=_this1150.sA(!1);_e2089.selected&&(_t2743.selected=!0),i.push(_t2743);_context317.next=21;break;case 11:if(!("preferences"===_e2089.type)){_context317.next=16;break;}_t2744=_this1150.QT(!1);_e2089.selected&&(_t2744.selected=!0),i.push(_t2744);_context317.next=21;break;case 16:if(!("editor"===_e2089.type)){_context317.next=21;break;}_context317.next=19;return _this1150.FT(_e2089.entry,!1);case 19:_t2745=_context317.sent;_e2089.selected&&(_t2745.selected=!0),i.push(_t2745);case 21:_context317.next=4;break;case 23:_context317.next=28;break;case 25:_context317.prev=25;_context317.t0=_context317["catch"](2);_iterator1843.e(_context317.t0);case 28:_context317.prev=28;_iterator1843.f();return _context317.finish(28);case 31:if(i.length>0){_t2742=i.find(function(t){return t.selected;}),_e2088=i[i.length-1];_this1150.BA(_t2742||_e2088);}e(i);case 33:case"end":return _context317.stop();}}},_callee315,null,[[2,25,28,31]]);}));return function(_x394){return _ref258.apply(this,arguments);};}());}},{key:"sA",value:function sA(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1844=_createForOfIteratorHelper(this["#tabs"].children),_step1844;try{for(_iterator1844.s();!(_step1844=_iterator1844.n()).done;){var _t2746=_step1844.value;if("about"===_t2746[sv]){e=_t2746;break;}}}catch(err){_iterator1844.e(err);}finally{_iterator1844.f();}return null===e&&(e=Ki(_templateObject113()),e[sv]="about",e[nv]=null,e[lv]=function(){var t=Ki(_templateObject114());return e[nv]=t,t.version=chrome.runtime.getManifest().version,t;},this["#tabs"].openTab(e,!1)),t&&this.BA(e),e;}},{key:"QT",value:function QT(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1845=_createForOfIteratorHelper(this["#tabs"].children),_step1845;try{for(_iterator1845.s();!(_step1845=_iterator1845.n()).done;){var _t2747=_step1845.value;if("preferences"===_t2747[sv]){e=_t2747;break;}}}catch(err){_iterator1845.e(err);}finally{_iterator1845.f();}return null===e&&(e=Ki(_templateObject115()),e[sv]="preferences",e[nv]=null,e[lv]=function(){var t=Ki(_templateObject116());return e[nv]=t,t;},this["#tabs"].openTab(e,!1)),t&&this.BA(e),e;}},{key:"FT",value:function FT(){var _this1151=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref259=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee317(i){var s,_iterator1846,_step1846,_e2090,_e2091,_i1729,_o574,_s1024;return regeneratorRuntime.wrap(function _callee317$(_context319){while(1){switch(_context319.prev=_context319.next){case 0:s=null;if(!t){_context319.next=25;break;}_iterator1846=_createForOfIteratorHelper(_this1151["#tabs"].children);_context319.prev=3;_iterator1846.s();case 5:if((_step1846=_iterator1846.n()).done){_context319.next=17;break;}_e2090=_step1846.value;_context319.t0=!!_e2090[ov];if(!_context319.t0){_context319.next=12;break;}_context319.next=11;return Kw(_e2090[ov],t);case 11:_context319.t0=_context319.sent;case 12:if(!_context319.t0){_context319.next=15;break;}s=_e2090;return _context319.abrupt("break",17);case 15:_context319.next=5;break;case 17:_context319.next=22;break;case 19:_context319.prev=19;_context319.t1=_context319["catch"](3);_iterator1846.e(_context319.t1);case 22:_context319.prev=22;_iterator1846.f();return _context319.finish(22);case 25:if(!(null===s)){_context319.next=37;break;}if(t){_s1024=cr(t);_i1729=rr(t).toLowerCase(),["svg","svgz"].includes(_i1729)?(_e2091=_s1024+"."+_i1729,_o574=0):(_e2091=_s1024+".svg",_o574=1);}else _e2091="Untitled",_i1729="svg",_o574=0;s=Ki(_templateObject117(),_e2091,_e2091);s[sv]="editor";s[ov]=t;s[nv]=null;s[av]=_o574;s.edited=0!==s[av];s[lv]=function(){var e=Ki(_templateObject118());return s[nv]=e,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee316(){var _i1730,_s1025,_i1731,_s1026,_n676,_s1027,_o575,_l425,_t2748,_i1732,_s1028,_n677;return regeneratorRuntime.wrap(function _callee316$(_context318){while(1){switch(_context318.prev=_context318.next){case 0:if(!t){_context318.next=47;break;}if(!("svg"===_i1729)){_context318.next=9;break;}_context318.next=4;return lr(t,"text");case 4:_i1730=_context318.sent;_s1025=Zh(_i1730);e.board.setArtwork(_s1025);_context318.next=45;break;case 9:if(!("svgz"===_i1729)){_context318.next=18;break;}_context318.next=12;return lr(t,"arrayBuffer");case 12:_i1731=_context318.sent;_s1026=Yf(_i1731);_n676=Zh(_s1026);e.board.setArtwork(_n676);_context318.next=45;break;case 18:if(!("pdf"===_i1729||"ai"===_i1729)){_context318.next=36;break;}_context318.next=21;return lr(t,"arrayBuffer");case 21:_s1027=_context318.sent;_o575=null;_l425=null;_context318.prev=24;_context318.next=27;return Bm(_s1027);case 27:_o575=_context318.sent;_context318.next=33;break;case 30:_context318.prev=30;_context318.t0=_context318["catch"](24);_l425=_context318.t0;case 33:if(_l425)e.board.setDefaultArtwork(),_this1151.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_i1729?n:_l425.message});else{_t2748=Zh(_o575);e.board.setArtwork(_t2748);}_context318.next=45;break;case 36:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_i1729)){_context318.next=45;break;}_context318.next=39;return lr(t,"dataURL");case 39:_i1732=_context318.sent;_context318.next=42;return Kp(_i1732);case 42:_s1028=_context318.sent;_n677=Zh(_s1028);e.board.setArtwork(_n677);case 45:_context318.next=48;break;case 47:e.board.setDefaultArtwork();case 48:case"end":return _context318.stop();}}},_callee316,null,[[24,30]]);}))(),e;};_this1151["#tabs"].openTab(s,!1);_context319.next=37;return ns;case 37:_context319.t2=e;if(!_context319.t2){_context319.next=44;break;}_context319.t3=null===t;if(!_context319.t3){_context319.next=43;break;}_context319.next=43;return ss(100);case 43:_this1151.BA(s);case 44:i(s);case 45:case"end":return _context319.stop();}}},_callee317,null,[[3,19,22,25]]);}));return function(_x395){return _ref259.apply(this,arguments);};}());}},{key:"jT",value:function jT(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(this.NT()){this.currentEditor.board.collectGarbage();var e=this.currentEditor.board.extractArtworkWithSelectedElements(),_i1733=Hp(e,"xml"),_s1029=Ki(_templateObject119());_s1029[sv]="editor",_s1029[ov]=null,_s1029[nv]=null,_s1029[av]=1,_s1029.edited=!0,_s1029[lv]=function(){var t=Ki(_templateObject120());return t.board.setArtwork(Zh(_i1733)),_s1029[nv]=t,t;},this["#tabs"].openTab(_s1029),t&&this.BA(_s1029);}}},{key:"NT",value:function NT(){return null!==this.currentEditor&&this.currentEditor.board.selectedObjectElements.length>0;}},{key:"VT",value:function(){var _VT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee318(){var _t2749,e,_i1734,_yield$xr4,_s1030,_n678,_i1735,_yield$xr5,_s1031,_n679,_t2750;return regeneratorRuntime.wrap(function _callee318$(_context320){while(1){switch(_context320.prev=_context320.next){case 0:if(!this.currentEditor){_context320.next=46;break;}_context320.next=3;return this.getClipboardData();case 3:_t2749=_context320.sent;if(!_t2749){_context320.next=46;break;}e=null;if(!(_t2749["text/html"]&&Xp(_t2749["text/html"]))){_context320.next=10;break;}e=_t2749["text/html"];_context320.next=32;break;case 10:if(!(_t2749["text/plain"]&&Xp(_t2749["text/plain"]))){_context320.next=14;break;}e=_t2749["text/plain"];_context320.next=32;break;case 14:if(!_t2749["image/png"]){_context320.next=24;break;}_i1734=_t2749["image/png"];_context320.next=18;return xr(_i1734);case 18:_yield$xr4=_context320.sent;_s1030=_yield$xr4.width;_n678=_yield$xr4.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1030," ").concat(_n678,"\">\n              <image href=\"").concat(_i1734,"\"></image>\n            </svg>");_context320.next=32;break;case 24:if(!_t2749["image/avif"]){_context320.next=32;break;}_i1735=_t2749["image/avif"];_context320.next=28;return xr(_i1735);case 28:_yield$xr5=_context320.sent;_s1031=_yield$xr5.width;_n679=_yield$xr5.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1031," ").concat(_n679,"\">\n              <image href=\"").concat(_i1735,"\"></image>\n            </svg>");case 32:if(!e){_context320.next=45;break;}_t2750=Ki(_templateObject121());_t2750[sv]="editor";_t2750[ov]=null;_t2750[nv]=null;_t2750[av]=1;_t2750.edited=!0;_t2750[lv]=function(){var i=Ki(_templateObject122());return i.board.setArtwork(Zh(e)),_t2750[nv]=i,i;};_context320.next=42;return this["#tabs"].openTab(_t2750);case 42:this.BA(_t2750);_context320.next=46;break;case 45:this.openMessageDialog({buttons:["OK"],message:"Can't create file",detail:"The current contents of the clipboard can't be used to create a new file."});case 46:case"end":return _context320.stop();}}},_callee318,this);}));function VT(){return _VT.apply(this,arguments);}return VT;}()},{key:"openEditorTabWithArtworkFromLibrary",value:function openEditorTabWithArtworkFromLibrary(t){var _this1152=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref261=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee319(i){var s;return regeneratorRuntime.wrap(function _callee319$(_context321){while(1){switch(_context321.prev=_context321.next){case 0:s=Ki(_templateObject123());s[sv]="editor";s[ov]=null;s[nv]=null;s[av]=1;s.edited=!0;s[lv]=function(){var e=Ki(_templateObject124());return e.board.setArtwork(Zh(t)),s[nv]=e,e;};_this1152["#tabs"].openTab(s);_context321.t0=e;if(!_context321.t0){_context321.next=13;break;}_context321.next=12;return ss(200);case 12:_this1152.BA(s);case 13:i();case 14:case"end":return _context321.stop();}}},_callee319);}));return function(_x396){return _ref261.apply(this,arguments);};}());}},{key:"HT",value:function HT(){var _this1153=this;return new Promise(/*#__PURE__*/function(){var _ref262=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee320(t){var e,_t2751;return regeneratorRuntime.wrap(function _callee320$(_context322){while(1){switch(_context322.prev=_context322.next){case 0:_context322.prev=0;_context322.next=3;return Xw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["svg","svgz","png","jpg","jpeg","gif","webp","avif","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context322.sent;_context322.next=9;break;case 6:_context322.prev=6;_context322.t0=_context322["catch"](0);return _context322.abrupt("return",void t());case 9:if(!(e.length>0)){_context322.next=15;break;}_t2751=e.map(function(t){return{type:"editor",entry:t,selected:!1};});_t2751[_t2751.length-1].selected=!0;_this1153.$A(_t2751);_context322.next=15;return _this1153.LA(e);case 15:t();case 16:case"end":return _context322.stop();}}},_callee320,null,[[0,6]]);}));return function(_x397){return _ref262.apply(this,arguments);};}());}},{key:"PA",value:function PA(t){var _this1154=this;return new Promise(/*#__PURE__*/function(){var _ref263=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee321(e){var i,_iterator1847,_step1847,_e2092,_t2752,s;return regeneratorRuntime.wrap(function _callee321$(_context323){while(1){switch(_context323.prev=_context323.next){case 0:i=[];_iterator1847=_createForOfIteratorHelper(t);_context323.prev=2;_iterator1847.s();case 4:if((_step1847=_iterator1847.n()).done){_context323.next=12;break;}_e2092=_step1847.value;_context323.next=8;return Zw(_e2092);case 8:_t2752=_context323.sent;_t2752&&i.push(_t2752);case 10:_context323.next=4;break;case 12:_context323.next=17;break;case 14:_context323.prev=14;_context323.t0=_context323["catch"](2);_iterator1847.e(_context323.t0);case 17:_context323.prev=17;_iterator1847.f();return _context323.finish(17);case 20:s=i.map(function(t){return{type:"editor",entry:t,selected:!1};});s.length>0&&(s[s.length-1].selected=!0);_context323.t1=e;_context323.next=25;return _this1154.$A(s);case 25:_context323.t2=_context323.sent;(0,_context323.t1)(_context323.t2);case 27:case"end":return _context323.stop();}}},_callee321,null,[[2,14,17,20]]);}));return function(_x398){return _ref263.apply(this,arguments);};}());}},{key:"BA",value:function(){var _BA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee322(t){var e,_iterator1848,_step1848,_i1737,i,s,_i1736,_arr95,_t2753;return regeneratorRuntime.wrap(function _callee322$(_context324){while(1){switch(_context324.prev=_context324.next){case 0:e=_toConsumableArray(this["#tabs"].children);_iterator1848=_createForOfIteratorHelper(e);try{for(_iterator1848.s();!(_step1848=_iterator1848.n()).done;){_i1737=_step1848.value;_i1737.selected=_i1737===t;}}catch(err){_iterator1848.e(err);}finally{_iterator1848.f();}i=t[nv]?t[nv]:t[lv](),s=Symbol();this.GA=s;i.hidden=!0;_context324.t0=!1===this["#main"].contains(i);if(!_context324.t0){_context324.next=11;break;}this["#main"].append(i);_context324.next=11;return ss(100);case 11:_context324.next=13;return ns;case 13:if(!(this.GA===s)){_context324.next=16;break;}i.hidden=!1,i.focus();for(_i1736=0,_arr95=_toConsumableArray(this["#main"].children);_i1736<_arr95.length;_i1736++){_t2753=_arr95[_i1736];_t2753!==i&&(_t2753.remove(),_t2753.hidden=!0);}case 16:case"end":return _context324.stop();}}},_callee322,this);}));function BA(_x399){return _BA.apply(this,arguments);}return BA;}()},{key:"eA",value:function eA(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectPreviousTab();e&&t&&this.BA(e);}},{key:"iA",value:function iA(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectNextTab();e&&t&&this.BA(e);}},{key:"YT",value:function YT(){var _this1155=this;return new Promise(/*#__PURE__*/function(){var _ref264=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee323(t){var e;return regeneratorRuntime.wrap(function _callee323$(_context325){while(1){switch(_context325.prev=_context325.next){case 0:e=!1;_context325.t0=_this1155.currentEditorTab;if(!_context325.t0){_context325.next=6;break;}_context325.next=5;return _this1155.UA(_this1155.currentEditorTab);case 5:e=_context325.sent;case 6:t(e);case 7:case"end":return _context325.stop();}}},_callee323);}));return function(_x400){return _ref264.apply(this,arguments);};}());}},{key:"qT",value:function qT(){var _this1156=this;return new Promise(/*#__PURE__*/function(){var _ref265=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee324(t){var e;return regeneratorRuntime.wrap(function _callee324$(_context326){while(1){switch(_context326.prev=_context326.next){case 0:e=!1;_context326.t0=_this1156.currentEditorTab;if(!_context326.t0){_context326.next=6;break;}_context326.next=5;return _this1156.FA(_this1156.currentEditorTab);case 5:e=_context326.sent;case 6:t(e);case 7:case"end":return _context326.stop();}}},_callee324);}));return function(_x401){return _ref265.apply(this,arguments);};}());}},{key:"UA",value:function UA(t){var _this1157=this;return new Promise(/*#__PURE__*/function(){var _ref266=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee325(e){var i,_s1032,_n680,_o576,_l426,_t2754,_t2755,_e2093;return regeneratorRuntime.wrap(function _callee325$(_context327){while(1){switch(_context327.prev=_context327.next){case 0:i=t[ov];if(!(null===i)){_context327.next=9;break;}_context327.t0=e;_context327.next=5;return _this1157.FA(t);case 5:_context327.t1=_context327.sent;(0,_context327.t0)(_context327.t1);_context327.next=69;break;case 9:if(!t.edited){_context327.next=68;break;}_s1032=rr(i).toLowerCase(),_n680=_this1157.getConfig("bx-markupsettings:indentation",2);if(!["png","jpg","jpeg","gif","webp","avif","pdf","ai"].includes(_s1032)){_context327.next=15;break;}e(_this1157.FA(t));_context327.next=66;break;case 15:if(!["svg","svgz"].includes(_s1032)){_context327.next=65;break;}_o576=t[nv].board.extractArtwork(),_l426=null;if(!("svg"===_s1032)){_context327.next=29;break;}_t2754=Hp(_o576,"xml",_n680);_context327.prev=19;_context327.next=22;return qw(i,_t2754,"image/svg+xml;charset=utf-8");case 22:_context327.next=27;break;case 24:_context327.prev=24;_context327.t2=_context327["catch"](19);_l426=_context327.t2;case 27:_context327.next=39;break;case 29:if(!("svgz"===_s1032)){_context327.next=39;break;}_t2755=Hp(_o576,"xml",_n680),_e2093=Wf(_t2755);_context327.prev=31;_context327.next=34;return qw(i,_e2093,"image/svg+xml;charset=utf-8");case 34:_context327.next=39;break;case 36:_context327.prev=36;_context327.t3=_context327["catch"](31);_l426=_context327.t3;case 39:if(!_l426){_context327.next=62;break;}if(!("READ_ONLY"===_l426)){_context327.next=55;break;}_context327.next=43;return _this1157.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"The file \"".concat(i.name,"\" is read-only.")});case 43:_context327.t4=_context327.sent;if(!(1===_context327.t4)){_context327.next=52;break;}_context327.t5=e;_context327.next=48;return _this1157.qT();case 48:_context327.t6=_context327.sent;(0,_context327.t5)(_context327.t6);_context327.next=53;break;case 52:e(!1);case 53:_context327.next=60;break;case 55:_context327.t7=e;_context327.next=58;return _this1157.qT();case 58:_context327.t8=_context327.sent;(0,_context327.t7)(_context327.t8);case 60:_context327.next=63;break;case 62:t[av]=0,t.edited=!1,e(!0);case 63:_context327.next=66;break;case 65:e(!1);case 66:_context327.next=69;break;case 68:e(!1);case 69:case"end":return _context327.stop();}}},_callee325,null,[[19,24],[31,36]]);}));return function(_x402){return _ref266.apply(this,arguments);};}());}},{key:"FA",value:function FA(t){var _this1158=this;return new Promise(/*#__PURE__*/function(){var _ref267=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee326(e){var i,_s1033,_n681,_o577,_l427,_t2756,_e2094,_t2757;return regeneratorRuntime.wrap(function _callee326$(_context328){while(1){switch(_context328.prev=_context328.next){case 0:i=null;_context328.prev=1;_context328.next=4;return Xw({type:"saveFile",suggestedName:t[ov]?cr(t[ov]):"Untitled.svg",acceptsAllTypes:!1,accepts:[{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]}]});case 4:i=_context328.sent;_context328.next=22;break;case 7:_context328.prev=7;_context328.t0=_context328["catch"](1);_context328.next=11;return _this1158.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Selected directory is read-only."});case 11:_context328.t1=_context328.sent;if(!(1===_context328.t1)){_context328.next=20;break;}_context328.t2=e;_context328.next=16;return _this1158.qT();case 16:_context328.t3=_context328.sent;(0,_context328.t2)(_context328.t3);_context328.next=21;break;case 20:e(!1);case 21:return _context328.abrupt("return");case 22:if(!(null===i)){_context328.next=26;break;}e(!1);_context328.next=72;break;case 26:_s1033=t[nv].board.extractArtwork(),_n681=rr(i).toLowerCase(),_o577=_this1158.getConfig("bx-markupsettings:indentation",2),_l427=null;if(!("svgz"===_n681)){_context328.next=39;break;}_t2756=Hp(_s1033,"xml",_o577),_e2094=Wf(_t2756);_context328.prev=29;_context328.next=32;return qw(i,_e2094,"image/svg+xml;charset=utf-8");case 32:_context328.next=37;break;case 34:_context328.prev=34;_context328.t4=_context328["catch"](29);_l427=_context328.t4;case 37:_context328.next=48;break;case 39:_t2757=Hp(_s1033,"xml",_o577);_context328.prev=40;_context328.next=43;return qw(i,_t2757,"image/svg+xml;charset=utf-8");case 43:_context328.next=48;break;case 45:_context328.prev=45;_context328.t5=_context328["catch"](40);_l427=_context328.t5;case 48:if(!_l427){_context328.next=71;break;}if(!("READ_ONLY"===_l427)){_context328.next=64;break;}_context328.next=52;return _this1158.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Chosen location is read-only."});case 52:_context328.t6=_context328.sent;if(!(1===_context328.t6)){_context328.next=61;break;}_context328.t7=e;_context328.next=57;return _this1158.qT();case 57:_context328.t8=_context328.sent;(0,_context328.t7)(_context328.t8);_context328.next=62;break;case 61:e(!1);case 62:_context328.next=69;break;case 64:_context328.t9=e;_context328.next=67;return _this1158.qT();case 67:_context328.t10=_context328.sent;(0,_context328.t9)(_context328.t10);case 69:_context328.next=72;break;case 71:t[ov]=i,t[av]=0,t.edited=!1,t.title=i.name,t.querySelector("x-label").textContent=i.name,_this1158.LA([i]),e(!0);case 72:case"end":return _context328.stop();}}},_callee326,null,[[1,7],[29,34],[40,45]]);}));return function(_x403){return _ref267.apply(this,arguments);};}());}},{key:"ZT",value:function ZT(t){var _this1159=this;return new Promise(/*#__PURE__*/function(){var _ref268=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee327(e){var _i1738,_s1034,i,s;return regeneratorRuntime.wrap(function _callee327$(_context329){while(1){switch(_context329.prev=_context329.next){case 0:if(!t.edited){_context329.next=16;break;}_i1738="Do you want to save the changes you made to ".concat(t[ov]?"\"".concat(t[ov].name,"\""):"untitled"," file?");_context329.next=4;return _this1159.openMessageDialog({type:"question",buttons:["Save","Cancel","Don't Save"],title:"Confirm",message:_i1738,detail:"Your changes will be lost if you don't save them."});case 4:_s1034=_context329.sent;if(!(0===_s1034)){_context329.next=14;break;}_context329.t0=!1;_context329.next=9;return _this1159.UA(t);case 9:_context329.t1=_context329.sent;if(!(_context329.t0===_context329.t1)){_context329.next=12;break;}return _context329.abrupt("return",void e(!1));case 12:_context329.next=16;break;case 14:if(!(1===_s1034||-1===_s1034)){_context329.next=16;break;}return _context329.abrupt("return",void e(!1));case 16:i=t[nv],s=t.selected;_this1159["#tabs"].closeTab(t,!1),s&&_this1159.currentTab&&_this1159.BA(_this1159.currentTab),i&&(1===_this1159["#main"].childElementCount?i.remove():ss(3e3).then(function(){i.remove();})),e(!0);case 18:case"end":return _context329.stop();}}},_callee327);}));return function(_x404){return _ref268.apply(this,arguments);};}());}},{key:"NA",value:function NA(){var _this1160=this;return new Promise(/*#__PURE__*/function(){var _ref269=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee328(t){var e,_iterator1849,_step1849,_i1739;return regeneratorRuntime.wrap(function _callee328$(_context330){while(1){switch(_context330.prev=_context330.next){case 0:e=_toConsumableArray(_this1160["#tabs"].children);_iterator1849=_createForOfIteratorHelper(e);_context330.prev=2;_iterator1849.s();case 4:if((_step1849=_iterator1849.n()).done){_context330.next=18;break;}_i1739=_step1849.value;_context330.t0=_i1739!==e[0];if(!_context330.t0){_context330.next=10;break;}_context330.next=10;return ss(1e3);case 10:_context330.t1=!1;_context330.next=13;return _this1160.ZT(_i1739);case 13:_context330.t2=_context330.sent;if(!(_context330.t1===_context330.t2)){_context330.next=16;break;}return _context330.abrupt("return",void t(!1));case 16:_context330.next=4;break;case 18:_context330.next=23;break;case 20:_context330.prev=20;_context330.t3=_context330["catch"](2);_iterator1849.e(_context330.t3);case 23:_context330.prev=23;_iterator1849.f();return _context330.finish(23);case 26:t(!0);case 27:case"end":return _context330.stop();}}},_callee328,null,[[2,20,23,26]]);}));return function(_x405){return _ref269.apply(this,arguments);};}());}},{key:"XT",value:function(){var _XT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee329(){var _t2758,e,_i1740,_s1035,_n682,_o578,_e2095,_l428;return regeneratorRuntime.wrap(function _callee329$(_context331){while(1){switch(_context331.prev=_context331.next){case 0:if(!(this.currentEditor&&this.currentTab[ov])){_context331.next=14;break;}e=this.currentEditor.board,_i1740=e.currentWorkspace===e.masterWorkspace?e.getZoomArea():null,_s1035=this.currentEditor,_n682=this.currentTab,_o578=this.currentTab[ov];if(!("svgz"===rr(_o578).toLowerCase())){_context331.next=9;break;}_context331.next=5;return lr(_o578,"arrayBuffer");case 5:_e2095=_context331.sent;_t2758=Yf(_e2095);_context331.next=12;break;case 9:_context331.next=11;return lr(_o578,"text");case 11:_t2758=_context331.sent;case 12:_l428=Zh(_t2758);_s1035.board.setArtwork(_l428),_n682[av]=0,_n682.edited=!1,_i1740&&e.addEventListener("currentworkspacechange",function(){e.zoomToArea(_i1740,"top-left",0);},{once:!0});case 14:case"end":return _context331.stop();}}},_callee329,this);}));function XT(){return _XT.apply(this,arguments);}return XT;}()},{key:"jA",value:function jA(){var t=[];var _iterator1850=_createForOfIteratorHelper(this["#tabs"].getTabsByScreenIndex()),_step1850;try{for(_iterator1850.s();!(_step1850=_iterator1850.n()).done;){var e=_step1850.value;var _i1741={type:e[sv],path:e[$path],selected:e.selected};t.push(_i1741);}}catch(err){_iterator1850.e(err);}finally{_iterator1850.f();}return t;}},{key:"KT",value:function(){var _KT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee330(){return regeneratorRuntime.wrap(function _callee330$(_context332){while(1){switch(_context332.prev=_context332.next){case 0:_context332.next=2;return this.NA();case 2:_context332.t0=_context332.sent;if(!_context332.t0){_context332.next=5;break;}chrome.app.window.current().close();case 5:case"end":return _context332.stop();}}},_callee330,this);}));function KT(){return _KT.apply(this,arguments);}return KT;}()},{key:"isPointOverNewTabDropArea",value:function isPointOverNewTabDropArea(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return i.getRootNode()!==this._shadowRoot&&(i=null),i&&i.closest("#header");}},{key:"openDevTools",value:function openDevTools(){this.postMessage("openDevTools",null);}},{key:"tA",value:function tA(){chrome.app.window.current().isMaximized()?chrome.app.window.current().restore():chrome.app.window.current().maximize();}},{key:"JT",value:function JT(){chrome.app.window.current().minimize();}},{key:"LA",value:function LA(t){var _this1161=this;return new Promise(/*#__PURE__*/function(){var _ref270=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee332(e){return regeneratorRuntime.wrap(function _callee332$(_context335){while(1){switch(_context335.prev=_context335.next){case 0:if(!(0===t.length)){_context335.next=4;break;}e();_context335.next=5;break;case 4:return _context335.delegateYield(/*#__PURE__*/regeneratorRuntime.mark(function _callee331(){var i,s,_iterator1851,_step1851,_t2759,_e2096,_t2760,_iterator1852,_step1852,_loop69,n;return regeneratorRuntime.wrap(function _callee331$(_context334){while(1){switch(_context334.prev=_context334.next){case 0:i=[],s=Symbol();_context334.t0=_createForOfIteratorHelper;_context334.next=4;return _this1161.VA();case 4:_context334.t1=_context334.sent;_iterator1851=(0,_context334.t0)(_context334.t1);_context334.prev=6;_iterator1851.s();case 8:if((_step1851=_iterator1851.n()).done){_context334.next=20;break;}_t2759=_step1851.value;_context334.next=12;return Zw(_t2759);case 12:_e2096=_context334.sent;if(!_e2096){_context334.next=18;break;}_context334.next=16;return Qw(_e2096);case 16:_t2760=_context334.sent;_e2096[s]=_t2760,i.push(_e2096);case 18:_context334.next=8;break;case 20:_context334.next=25;break;case 22:_context334.prev=22;_context334.t2=_context334["catch"](6);_iterator1851.e(_context334.t2);case 25:_context334.prev=25;_iterator1851.f();return _context334.finish(25);case 28:_iterator1852=_createForOfIteratorHelper(t);_context334.prev=29;_loop69=/*#__PURE__*/regeneratorRuntime.mark(function _loop69(){var e,t;return regeneratorRuntime.wrap(function _loop69$(_context333){while(1){switch(_context333.prev=_context333.next){case 0:e=_step1852.value;t=rr(e).toLowerCase();_context333.t0="svg"!==t&&"svgz"!==t&&"html"!==t;if(_context333.t0){_context333.next=9;break;}_context333.next=6;return Qw(e);case 6:e[s]=_context333.sent;i=i.filter(function(t){return t[s]!==e[s];});i.push(e);case 9:case"end":return _context333.stop();}}},_loop69);});_iterator1852.s();case 32:if((_step1852=_iterator1852.n()).done){_context334.next=36;break;}return _context334.delegateYield(_loop69(),"t3",34);case 34:_context334.next=32;break;case 36:_context334.next=41;break;case 38:_context334.prev=38;_context334.t4=_context334["catch"](29);_iterator1852.e(_context334.t4);case 41:_context334.prev=41;_iterator1852.f();return _context334.finish(41);case 44:for(;i.length>10;){i.shift();}n=i.map(function(t){return chrome.fileSystem.retainEntry(t);});_this1161.setConfig("!bx-chromeapp:retainedRecentEntries",n),e();case 47:case"end":return _context334.stop();}}},_callee331,null,[[6,22,25,28],[29,38,41,44]]);})(),"t0",5);case 5:case"end":return _context335.stop();}}},_callee332);}));return function(_x406){return _ref270.apply(this,arguments);};}());}},{key:"VA",value:function VA(){var _this1162=this;return new Promise(/*#__PURE__*/function(){var _ref271=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee333(t){return regeneratorRuntime.wrap(function _callee333$(_context336){while(1){switch(_context336.prev=_context336.next){case 0:t(_this1162.getConfig("!bx-chromeapp:retainedRecentEntries",[]));case 1:case"end":return _context336.stop();}}},_callee333);}));return function(_x407){return _ref271.apply(this,arguments);};}());}},{key:"WT",value:function WT(){this.setConfig("!bx-chromeapp:retainedRecentEntries",null);}},{key:"execCommand",value:function execCommand(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1742=e;_i1742;_i1742=_i1742.parentNode||_i1742.host){if(_i1742.commands&&_i1742.commands[t]){var _e2097=_i1742.commands[t];if(_e2097){var _t2761=!_e2097.enabled||_e2097.enabled();if(!0===_t2761){_e2097.exec();break;}if(!1===_t2761)break;if(null===_t2761)continue;}}}}},{key:"isCommandEnabled",value:function isCommandEnabled(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1743=e;_i1743;_i1743=_i1743.parentNode||_i1743.host){if(_i1743.commands&&_i1743.commands[t]){var _e2098=_i1743.commands[t];if(_e2098){if(!_e2098.enabled||_e2098.enabled())return!0;break;}}}return!1;}},{key:"getShortcutsEditorModel",value:function getShortcutsEditorModel(){return new Promise(/*#__PURE__*/function(){var _ref272=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee334(t){var e,i,s,_iterator1853,_step1853,_t2762,_i1744,_e2099,_t2763,_iterator1854,_step1854,_s1036,_t2764,_n683,_o579,_l429;return regeneratorRuntime.wrap(function _callee334$(_context337){while(1){switch(_context337.prev=_context337.next){case 0:e=[];_context337.next=3;return fetch("/templates/chrome-app-menu.tpl");case 3:_context337.next=5;return _context337.sent.text();case 5:i=_context337.sent;s=new DOMParser().parseFromString(i,"text/html");_iterator1853=_createForOfIteratorHelper(s.querySelectorAll("x-menu"));try{for(_iterator1853.s();!(_step1853=_iterator1853.n()).done;){_t2762=_step1853.value;_i1744=[];for(_e2099=_t2762.closest("x-menuitem");_e2099;_e2099=_e2099.parentNode.closest("x-menuitem")){_t2763=_e2099.querySelector(":scope > x-label");_t2763&&_i1744.unshift(_t2763.textContent);}_iterator1854=_createForOfIteratorHelper(_t2762.children);try{for(_iterator1854.s();!(_step1854=_iterator1854.n()).done;){_s1036=_step1854.value;if("x-menuitem"===_s1036.localName){_t2764=_s1036.getAttribute("value");if(null!==_t2764&&!1===_t2764.startsWith("disk:")){_n683=_s1036.querySelector(":scope > x-label"),_o579=_s1036.querySelector(":scope > x-shortcut.default-shortcut"),_l429={commandID:_t2764,label:[].concat(_i1744,[_n683.textContent]).join(" \u2023 "),defaultShortcut:null};_o579&&_o579.hasAttribute("value")&&(_l429.defaultShortcut=_o579.getAttribute("value")),e.push(_l429);}}}}catch(err){_iterator1854.e(err);}finally{_iterator1854.f();}}}catch(err){_iterator1853.e(err);}finally{_iterator1853.f();}t(e);case 10:case"end":return _context337.stop();}}},_callee334);}));return function(_x408){return _ref272.apply(this,arguments);};}());}},{key:"AA",value:function AA(t){var e=!1;if(null!==t.key){var _i1745=t.toString(),_s1037=null,_n684=this["#menubar"].querySelector("x-shortcut.user-shortcut[value=\"".concat(_i1745,"\"]"));if(_n684)_s1037=_n684.closest("x-menuitem");else{var _t2765=this["#menubar"].querySelector("x-shortcut.default-shortcut[value=\"".concat(_i1745,"\"]"));_t2765&&null===_t2765.nextElementSibling.normalKey&&(_s1037=_t2765.closest("x-menuitem"));}if(_s1037){var _t2766=_s1037.value;this.isCommandEnabled(_t2766)&&(_s1037.click(),e=!0);}}return e;}},{key:"DA",value:function DA(){var _this1163=this;return new Promise(/*#__PURE__*/function(){var _ref273=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee335(t){var e;return regeneratorRuntime.wrap(function _callee335$(_context338){while(1){switch(_context338.prev=_context338.next){case 0:e=_this1163.getConfig("bx-uisettings:colorScheme","auto");"auto"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Gs.theme="light"===e?"/themes/vanilla.css":"/themes/vanilla-dark.css";_context338.next=5;return Gs.whenThemeReady;case 5:_context338.next=7;return _this1163.IA();case 7:t();case 8:case"end":return _context338.stop();}}},_callee335);}));return function(_x409){return _ref273.apply(this,arguments);};}());}},{key:"IA",value:function IA(){Gs.accentColor=this.getConfig("bx-uisettings:accentColor","blue");}},{key:"zA",value:function zA(){var t=this.getConfig("bx-uisettings:widgetsSize","auto");"auto"===t&&(t=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large"),Gs.size=t;}},{key:"OA",value:function(){var _OA=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee336(){var _iterator1855,_step1855,_t2767,_iterator1856,_step1856,_t2768;return regeneratorRuntime.wrap(function _callee336$(_context339){while(1){switch(_context339.prev=_context339.next){case 0:if(!(null===this["#menubar"].firstElementChild)){_context339.next=8;break;}_context339.next=3;return fetch("/templates/chrome-app-menu.tpl");case 3:_context339.next=5;return _context339.sent.text();case 5:this["#menubar"].innerHTML=_context339.sent;_iterator1855=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("[id]"));try{for(_iterator1855.s();!(_step1855=_iterator1855.n()).done;){_t2767=_step1855.value;this["#"+_t2767.id]=_t2767;}}catch(err){_iterator1855.e(err);}finally{_iterator1855.f();}case 8:_iterator1856=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("x-menu"));try{for(_iterator1856.s();!(_step1856=_iterator1856.n()).done;){_t2768=_step1856.value;this.RA(_t2768);}}catch(err){_iterator1856.e(err);}finally{_iterator1856.f();}case 10:case"end":return _context339.stop();}}},_callee336,this);}));function OA(){return _OA.apply(this,arguments);}return OA;}()},{key:"RA",value:function RA(t){if(t===this["#open-recent-menu"])return;var e=this.getConfig("bx-keyboardsettings:userShortcuts",{}),i=_toConsumableArray(t.children).filter(function(t){return"x-menuitem"===t.localName;});var _iterator1857=_createForOfIteratorHelper(i),_step1857;try{for(_iterator1857.s();!(_step1857=_iterator1857.n()).done;){var _t2769=_step1857.value;var _i1746=_t2769.value&&!1===_t2769.value.startsWith("open-recent")?_t2769.value:null;if(_i1746&&(_t2769.disabled=!1===this.isCommandEnabled(_i1746)),_i1746)if("manualGuides"===_i1746)_t2769.toggled=null!==this.currentEditor&&this.currentEditor.board.showManualGuides;else if("smartGuides"===_i1746)_t2769.toggled=null!==this.currentEditor&&this.currentEditor.board.showSmartGuides;else if("grid"===_i1746)_t2769.toggled=null!==this.currentEditor&&this.currentEditor.board.showGrid;else if("transparency"===_i1746)_t2769.toggled=null!==this.currentEditor&&this.currentEditor.board.showTransparency;else if("views"===_i1746)_t2769.toggled=null!==this.currentEditor&&this.currentEditor.board.showViews;else if(_i1746.endsWith("Tool")){var _e2100=this.currentEditor?hi(this.currentEditor.toolsDock.value||""):"";_t2769.toggled=_e2100===_i1746;}else if(_i1746.endsWith("Panel")){var _e2101=null;this.currentEditor&&(_e2101="elementsPanel"===_i1746||"codePanel"===_i1746||"animationPanel"===_i1746?this.currentEditor.secondaryPanelsDock:this.currentEditor.primaryPanelsDock);var _s1038=_e2101?hi(_e2101.value||""):"";_t2769.toggled=_s1038===_i1746;}else"maximize"===_i1746&&(_t2769.toggled=chrome.app.window.current().isMaximized());if(_i1746){var _s1039=_t2769.querySelector(":scope > x-shortcut.default-shortcut"),_n685=_t2769.querySelector(":scope > x-shortcut.user-shortcut");void 0!==e[_i1746]?(_s1039.hidden=!0,_n685.hidden=!1,_n685.setAttribute("value",e[_i1746])):(_s1039.hidden=!1,_n685.hidden=!0,_n685.removeAttribute("value"));}"open-recent-menu-item"===_t2769.id&&this.HA();}}catch(err){_iterator1857.e(err);}finally{_iterator1857.f();}}},{key:"HA",value:function HA(){var _this1164=this;return new Promise(/*#__PURE__*/function(){var _ref274=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee337(t){var e,i,_iterator1858,_step1858,_t2770,_e2102;return regeneratorRuntime.wrap(function _callee337$(_context340){while(1){switch(_context340.prev=_context340.next){case 0:_context340.next=2;return _this1164.VA();case 2:e=_context340.sent;i="";_iterator1858=_createForOfIteratorHelper(e);_context340.prev=5;_iterator1858.s();case 7:if((_step1858=_iterator1858.n()).done){_context340.next=15;break;}_t2770=_step1858.value;_context340.next=11;return Zw(_t2770);case 11:_e2102=_context340.sent;_e2102&&(i+="\n            <x-menuitem id=\"open-recent-".concat(_t2770,"\">\n              <x-label>").concat(_e2102.name,"</x-label>\n            </x-menuitem>\n          "));case 13:_context340.next=7;break;case 15:_context340.next=20;break;case 17:_context340.prev=17;_context340.t0=_context340["catch"](5);_iterator1858.e(_context340.t0);case 20:_context340.prev=20;_iterator1858.f();return _context340.finish(20);case 23:""===i?(_this1164["#open-recent-menu"].innerHTML=i,_this1164["#open-recent-menu-item"].disabled=!0):(i+='\n          <hr/>\n\n          <x-menuitem value="clearRecent">\n            <x-label>Clear Recent</x-label>\n          </x-menuitem>\n        ',_this1164["#open-recent-menu"].innerHTML=i,_this1164["#open-recent-menu-item"].disabled=!1),t();case 24:case"end":return _context340.stop();}}},_callee337,null,[[5,17,20,23]]);}));return function(_x410){return _ref274.apply(this,arguments);};}());}}]);return hv;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hv,"_shadowTemplate",Ki(_templateObject617()));_defineProperty(hv,"_shadowStyleSheet",Qi(_templateObject618()));customElements.define("bx-chromeapp",hv);}();