var runtime = (function (exports) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  function define(obj, key, value) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
    return obj[key];
  }
  try {
    // IE 8 has a broken Object.defineProperty that only works on DOM objects.
    define({}, "");
  } catch (err) {
    define = function(obj, key, value) {
      return obj[key] = value;
    };
  }

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  exports.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunction.displayName = define(
    GeneratorFunctionPrototype,
    toStringTagSymbol,
    "GeneratorFunction"
  );

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      define(prototype, method, function(arg) {
        return this._invoke(method, arg);
      });
    });
  }

  exports.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  exports.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      define(genFun, toStringTagSymbol, "GeneratorFunction");
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  exports.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator, PromiseImpl) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return PromiseImpl.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return PromiseImpl.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new PromiseImpl(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  exports.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {
    if (PromiseImpl === void 0) PromiseImpl = Promise;

    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList),
      PromiseImpl
    );

    return exports.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        // Note: ["return"] must be used for ES3 parsing compatibility.
        if (delegate.iterator["return"]) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  define(Gp, toStringTagSymbol, "Generator");

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  exports.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  exports.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };

  // Regardless of whether this script is executing as a CommonJS module
  // or not, return the runtime object so that we can declare the variable
  // regeneratorRuntime in the outer scope, which allows this module to be
  // injected easily by `bin/regenerator --include-runtime script.js`.
  return exports;

}(
  // If this script is executing as a CommonJS module, use module.exports
  // as the regeneratorRuntime namespace. Otherwise create a new empty
  // object. Either way, the resulting object will be used to initialize
  // the regeneratorRuntime variable at the top of this file.
  typeof module === "object" ? module.exports : {}
));

try {
  regeneratorRuntime = runtime;
} catch (accidentalStrictMode) {
  // This module should not be running in strict mode, so the above
  // assignment should always work unless something is misconfigured. Just
  // in case runtime.js accidentally runs in strict mode, we can escape
  // strict mode using a global Function call. This could conceivably fail
  // if a Content Security Policy forbids using Function, but in that case
  // the proper solution is to fix the accidental strict mode problem. If
  // you've misconfigured your bundler to force strict mode and applied a
  // CSP to forbid Function, and you're not willing to fix either of those
  // problems, please detail your unique predicament in a GitHub issue.
  Function("r", "regeneratorRuntime = r")(runtime);
}

"use strict";function _templateObject593(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;box-sizing:border-box;display:flex;flex-flow:column}#header{border-bottom-width:1px;border-bottom-style:solid;-webkit-app-region:drag}#menubar{border:none;width:auto}#menubar[data-expaneded]{z-index:9999}#menubar[data-expaneded] *{z-index:99999}#menubar x-menuitem{-webkit-app-region:no-drag!important}#menubar x-shortcut[hidden]{display:none}#titlebar-buttons{margin-left:auto;-webkit-app-region:no-drag!important}#tabs{width:auto;height:30px;padding-top:5px;outline:0}#tabs[disabled]{opacity:.5;pointer-events:none}#tabs x-doctab:focus{box-shadow:none}#main{flex:1;width:100%;position:relative}#main>*{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1}#main>:not(:defined),#main>[hidden]{contain:strict;visibility:visible;opacity:0;z-index:-100;touch-action:none}#sign-in-dialog::backdrop{pointer-events:none}#trial-dialog::backdrop{pointer-events:none}"]);_templateObject593=function _templateObject593(){return data;};return data;}function _templateObject592(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><x-box><x-menubar id=\"menubar\"></x-menubar><x-buttons id=\"titlebar-buttons\" tracking=\"-1\"><x-button id=\"minimize-button\" skin=\"titlebar\"><x-icon name=\"minimize-window\"></x-icon></x-button><x-button id=\"maximize-button\" skin=\"titlebar\"><x-icon name=\"maximize-window\"></x-icon></x-button><x-button id=\"close-button\" skin=\"titlebar\"><x-icon name=\"close-window\"></x-icon></x-button></x-buttons></x-box><x-doctabs id=\"tabs\"></x-doctabs></header><div id=\"main\"></div><div id=\"dialogs\"><dialog id=\"install-dialog\"><bx-chromeinstallform></bx-chromeinstallform></dialog><dialog id=\"sign-in-dialog\"><bx-chromesigninform></bx-chromesigninform></dialog><dialog id=\"trial-dialog\"><bx-chrometrialform></bx-chrometrialform></dialog></div><x-notification id=\"notification\" timeout=\"800\"></x-notification><x-contextmenu id=\"context-menu\" disabled=\"disabled\"></x-contextmenu></template>"]);_templateObject592=function _templateObject592(){return data;};return data;}function _templateObject591(){var data=_taggedTemplateLiteral([":host{width:480px}"]);_templateObject591=function _templateObject591(){return data;};return data;}function _templateObject590(){var data=_taggedTemplateLiteral(["<template><h2 id=\"message\"></h2><div id=\"detail\"></div></template>"]);_templateObject590=function _templateObject590(){return data;};return data;}function _templateObject589(){var data=_taggedTemplateLiteral([":host{width:370px}"]);_templateObject589=function _templateObject589(){return data;};return data;}function _templateObject588(){var data=_taggedTemplateLiteral(["<template><x-button id=\"close-button\" toggled><x-label>Close</x-label></x-button></template>"]);_templateObject588=function _templateObject588(){return data;};return data;}function _templateObject587(){var data=_taggedTemplateLiteral(["<template><h2>Trial period ended</h2><p>To purchase the app please visit <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject587=function _templateObject587(){return data;};return data;}function _templateObject586(){var data=_taggedTemplateLiteral([":host{width:400px}#progressbar{margin:14px 0 10px 0}"]);_templateObject586=function _templateObject586(){return data;};return data;}function _templateObject585(){var data=_taggedTemplateLiteral(["<template><h3>Validating license</h3><x-progressbar id=\"progressbar\"></x-progressbar><p>Please sign in to Chrome to continue.</p></template>"]);_templateObject585=function _templateObject585(){return data;};return data;}function _templateObject584(){var data=_taggedTemplateLiteral([":host{width:440px}#ok-button{width:100%;height:39px}#ok-button:hover{filter:brightness(.9)}"]);_templateObject584=function _templateObject584(){return data;};return data;}function _templateObject583(){var data=_taggedTemplateLiteral(["<template><x-button id=\"ok-button\" toggled><x-label>OK</x-label></x-button></template>"]);_templateObject583=function _templateObject583(){return data;};return data;}function _templateObject582(){var data=_taggedTemplateLiteral(["<template><h2>Warning</h2><p>Chrome Web Store version of Boxy SVG is optimized for <strong>Chrome OS</strong> and it will stop working on other operating systems in June 2021.</p><p>To continue using the app on <strong>Windows</strong>, <strong>macOS</strong> or <strong>Linux</strong>, please follow the download links provided on <a href=\"https://boxy-svg.com\" target=\"_blank\">the project website</a>.</p></template>"]);_templateObject582=function _templateObject582(){return data;};return data;}function _templateObject581(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:relative;width:100%}:host(:focus){outline:0}:host([hidden]){display:none}#form-view{display:flex;flex-flow:column;width:100%;height:100%}:host([throbber]) #form-view{display:block;visibility:hidden}#header{border-bottom:1px solid transparent}#header:empty{display:none}#main{flex:1;box-sizing:border-box;width:100%;padding:20px;position:relative;overflow:auto}h2{margin:0 0 12px 0}h3:first-child{margin-top:0}p{font-size:13px}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:10px 20px;border-top:1px solid transparent}#footer:empty{display:none}#footer x-button+x-button{margin-left:8px}#footer x-button:first-child{margin-left:auto}#throbber-view{display:none;flex-flow:column;position:absolute;top:0;left:0;width:100%;height:100%;padding:0 20px;align-items:center;justify-content:center;box-sizing:border-box}:host([throbber]) #throbber-view{display:flex}"]);_templateObject581=function _templateObject581(){return data;};return data;}function _templateObject580(){var data=_taggedTemplateLiteral(["<template><div id=\"form-view\"><header id=\"header\" part=\"header\"></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></div><div id=\"throbber-view\"><x-throbber id=\"throbber\"></x-throbber></div></template>"]);_templateObject580=function _templateObject580(){return data;};return data;}function _templateObject579(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;contain:strict}:host(:focus){outline:0}*{margin:0;padding:0;box-sizing:border-box}#container{width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;position:relative;position:relative;overflow:hidden;text-align:center;font-size:10px;user-select:none}#container a{color:var(--text-color);text-decoration:none}#container a:hover{cursor:pointer;text-decoration:underline}#logo{margin:14px 0 2px}#app-name{font-size:16px;font-weight:700;margin-bottom:2px;cursor:text;width:100%;user-select:text}#version{font-size:12px;margin:0 0 12px 0;cursor:text;width:100%;user-select:text}#main{width:300px;height:135px;overflow:auto;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;font-size:12px;padding-left:7px;padding-bottom:8px;flex:1;cursor:text;user-select:text}:host-context(bx-chromeapp) #main{border-left-width:1px;border-left-style:solid;border-right-width:1px;border-right-style:solid}#main h3{font-weight:700;margin:20px 0 6px 0;font-size:12px;text-transform:uppercase;opacity:.8}#main h3:first-child{margin-top:15px}#main li,#main ul{margin:0;padding:0}#main dt,#main dt a{font-weight:600}#main dd{margin-bottom:9px}#main #frameworks li:not(:last-child),#main #libraries li:not(:last-child){margin-bottom:3px}#copyright{width:100%;margin:10px 0 11px 0;font-size:11px;cursor:text;user-select:text}"]);_templateObject579=function _templateObject579(){return data;};return data;}function _templateObject578(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header part=\"header\"><img id=\"logo\" src=\"/images/logos/logo-full.svg\" width=\"80px\" height=\"80px\"><h1 id=\"app-name\">Boxy SVG</h1><h2 id=\"version\">Version 0.0.0</h2></header><main id=\"main\" part=\"main\"></main><footer part=\"footer\"><h2 id=\"copyright\">\xA9 2012-"," <a href=\"http://foksa.name/\">Jaros\u0142aw Foksa</a></h2></footer></div></template>"]);_templateObject578=function _templateObject578(){return data;};return data;}function _templateObject577(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#container{width:100%;height:100%}#titlebar{position:absolute;top:0;left:0;width:100%;height:28px;display:none}:host-context(bx-macapp) #titlebar{display:block;-webkit-app-region:drag}#sidebar{display:flex;flex-flow:column;height:100%;border-right:1px solid transparent;padding-top:10px;box-sizing:border-box}:host-context(bx-macapp) #sidebar{padding-top:28px}#sidebar-separator-2{margin:auto 0 0 0}#sidebar-buttons x-button x-icon{margin:0}#sidebar-buttons x-button x-label{margin-left:12px}@media all and (max-width:770px){#sidebar-buttons x-button x-label{display:none}}#sidebar #logout-button{margin:10px;width:calc(100% - 20px)}@media all and (max-width:770px){#sidebar #logout-button x-icon{margin:0}#sidebar #logout-button x-label{display:none}}#main{width:100%;height:100%;padding:30px 30px;box-sizing:border-box;overflow:auto}"]);_templateObject577=function _templateObject577(){return data;};return data;}function _templateObject576(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\"><sidebar id=\"sidebar\" part=\"sidebar\"><x-buttons id=\"sidebar-buttons\" tracking=\"1\" vertical><x-button skin=\"nav\" value=\"general\" toggled><x-icon name=\"prefs-general\"></x-icon><x-label>General</x-label></x-button><x-button skin=\"nav\" value=\"ui\"><x-icon name=\"prefs-ui\"></x-icon><x-label>UI</x-label></x-button><x-button skin=\"nav\" value=\"markup\"><x-icon name=\"prefs-markup\"></x-icon><x-label>Markup</x-label></x-button><x-button skin=\"nav\" value=\"garbage-collector\"><x-icon name=\"prefs-garbage-collector\"></x-icon><x-label>Garbage Collector</x-label></x-button><x-button skin=\"nav\" value=\"keyboard\"><x-icon name=\"prefs-keyboard\"></x-icon><x-label>Keyboard</x-label></x-button><hr id=\"sidebar-separator-1\"><x-button skin=\"nav\" value=\"profile\" id=\"profile-button\"><x-icon name=\"prefs-profile\"></x-icon><x-label>Public profile</x-label></x-button><x-button skin=\"nav\" value=\"auth\" id=\"auth-button\"><x-icon name=\"prefs-auth\"></x-icon><x-label>Authentication</x-label></x-button><x-button skin=\"nav\" value=\"subscription\" id=\"subscription-button\"><x-icon name=\"prefs-subscription\"></x-icon><x-label>Subscription</x-label></x-button><x-button skin=\"nav\" value=\"delete-account\" id=\"delete-account-button\"><x-icon name=\"prefs-delete-account\"></x-icon><x-label>Delete account</x-label></x-button></x-buttons><hr id=\"sidebar-separator-2\"><x-button id=\"logout-button\" title=\"Log out\" condensed><x-icon name=\"logout\"></x-icon><x-label>Log out</x-label></x-button></sidebar><main id=\"main\"><bx-generalsettings id=\"general-settings\" data-name=\"general\"></bx-generalsettings><bx-uisettings id=\"ui-settings\" data-name=\"ui\"></bx-uisettings><bx-markupsettings id=\"markup-settings\" data-name=\"markup\"></bx-markupsettings><bx-garbagecollectorsettings id=\"garbage-collector-settings\" data-name=\"garbage-collector\"></bx-garbagecollectorsettings><bx-keyboardsettings id=\"keyboard-settings\" data-name=\"keyboard\"></bx-keyboardsettings><bx-profilesettings id=\"profile-settings\" data-name=\"profile\"></bx-profilesettings><bx-authsettings id=\"auth-settings\" data-name=\"auth\"></bx-authsettings><bx-subscriptionsettings id=\"subscription-settings\" data-name=\"subscription\"></bx-subscriptionsettings><bx-deleteaccountsettings id=\"delete-account-settings\" data-name=\"delete-account\"></bx-deleteaccountsettings></main></x-box><div id=\"titlebar\"></div></template>"]);_templateObject576=function _templateObject576(){return data;};return data;}function _templateObject575(){var data=_taggedTemplateLiteral(["#default-view{width:100%;height:100%}#password-input{flex:1;max-width:none;margin-right:8px}#progress-view{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:30px}#progress-view[hidden]{display:none}#progress-label{margin-top:14px}"]);_templateObject575=function _templateObject575(){return data;};return data;}function _templateObject574(){var data=_taggedTemplateLiteral(["<template><h2>Delete account</h2><div id=\"default-view\"><section id=\"delete-account-section\"><h3>Warning</h3><p>Once you delete your account, <strong>there is no going back</strong>. All your files will be removed from boxy-svg.com servers. Your paid subscription will be canceled if you have one.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">Enter your password</x-label></x-input><x-button id=\"delete-account-button\" disabled=\"disabled\"><x-label>Delete account</x-label></x-button></x-box></section></div><div id=\"progress-view\" hidden><x-progressbar id=\"progress-bar\"></x-progressbar><x-label id=\"progress-label\">Connecting to server...</x-label></div></template>"]);_templateObject574=function _templateObject574(){return data;};return data;}function _templateObject573(){var data=_taggedTemplateLiteral(["#info-section>p{line-height:1.4;margin:3px}#plan-section{margin:18px 0 26px 0}#plan-select-block{margin-top:10px}#subscription-buttons{margin-top:10px}#subscription-buttons>x-button{flex:1;min-width:fit-content;margin-left:10px}#subscription-buttons>x-button:first-child{margin-left:0}#progress-bar{margin-top:30px}"]);_templateObject573=function _templateObject573(){return data;};return data;}function _templateObject572(){var data=_taggedTemplateLiteral(["<template><h2>Subscription</h2><main id=\"main\"><section id=\"info-section\"><p><strong>Current plan:</strong> <span id=\"subscription-plan-span\">Fetching\u2026</span></p><p><strong>Status:</strong> <span id=\"subscription-status-span\">Fetching\u2026</span></p></section><section id=\"plan-section\"><bx-planselectblock id=\"plan-select-block\"></bx-planselectblock></section><section id=\"buttons-section\"><x-box id=\"subscription-buttons\"><x-button id=\"billing-button\" condensed disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label>Update billing\u2026</x-label></x-button><x-button id=\"cancel-button\" condensed disabled=\"disabled\"><x-icon name=\"cancel\"></x-icon><x-label>Cancel subscription\u2026</x-label></x-button><x-button id=\"subscribe-button\" condensed toggled disabled=\"disabled\"><x-icon name=\"credit-card\"></x-icon><x-label id=\"subscribe-button-label\">Subscribe</x-label></x-button></x-box></section></main><x-progressbar id=\"progress-bar\" hidden></x-progressbar></template>"]);_templateObject572=function _templateObject572(){return data;};return data;}function _templateObject571(){var data=_taggedTemplateLiteral([":host{display:block}:host([disabled]){opacity:.5;pointer-events:none;user-select:none}table{width:100%;border-collapse:collapse;font-size:13px;overflow:visible}table tr{height:35px;border-radius:inherit}table[data-size=large] tr{height:38px}table td{padding:0 10px;box-sizing:border-box}table p:first-child{margin-top:0}table p:last-child{margin-bottom:0}thead{border-radius:inherit}thead td:nth-child(2){padding:0}thead td:nth-child(3){padding:0;border-top-right-radius:inherit}thead td x-radio{margin:0 auto}thead td x-radio x-label{font-weight:700;font-size:15px}tbody x-icon[part=no-icon],tbody x-icon[part=yes-icon]{margin:0 auto}tbody #cloud-button{width:100%;height:100%}tbody #cloud-button[disabled]{opacity:1}tbody #cloud-button::part(arrow){display:none}tbody #cloud-button x-icon{width:17px;height:17px}tbody #cloud-button[computedsize=large] x-icon{width:21px;height:21px}tbody #cloud-button x-popover{width:300px;user-select:none}tbody #cloud-button x-popover p{margin:0}tfoot td:nth-child(2){padding:0}tfoot .help-button{margin-left:auto}tfoot .help-button::part(arrow){display:none}tfoot x-popover p:not(:first-child){margin-top:8px}tfoot x-popover ul{margin:8px 0 0 5px;padding:0;list-style:none}tfoot x-popover li{position:relative;margin:0;padding-left:13px}tfoot x-popover li:before{position:absolute;left:0;content:\"\u2022\";font-weight:700}#quantity-td{position:relative}#quantity-help-button x-popover{width:345px}#quantity-input{position:absolute;top:0;left:0;width:100%;height:100%;max-width:none;padding-left:4px;background:0 0;border:none}#quantity-input[disabled]{background:0 0;opacity:1}#quantity-input[disabled] x-stepper{visibility:hidden}#discount-td{padding:0 10px}#discount-help-button x-popover{width:280px}#billing-td{position:relative}#billing-select{position:absolute;top:0;left:0;width:100%;height:100%;background:0 0;border:none;text-align:start}#billing-select[disabled]{opacity:1}#billing-select[disabled]::before{display:none}#billing-select[disabled]::part(arrow){display:none}#price-td{font-weight:700;padding:0 10px}#price-help-button x-popover{width:305px}"]);_templateObject571=function _templateObject571(){return data;};return data;}function _templateObject570(){var data=_taggedTemplateLiteral(["<template><table id=\"table\"><thead id=\"table-head\"><tr><td>Plan</td><td><x-radios><x-radio id=\"standard-plan-radio\" size=\"small\"><x-label>Standard</x-label></x-radio></x-radios></td><td><x-radios><x-radio id=\"premium-plan-radio\" size=\"small\"><x-label>Premium</x-label></x-radio></x-radios></td></tr></thead><tbody id=\"table-body\"><tr><td>Use online as a web app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Install and use offline as a desktop app</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save SVG files to your disk</td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Save and host SVG files in the cloud</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-button skin=\"flat\" id=\"cloud-button\"><x-icon part=\"yes-icon\" name=\"feature-supported-asterisk\"></x-icon><x-popover modal><main><p>You can keep up to 10 GB of data in the cloud for free. Unlimited storage space can be purchased separately.</p></main></x-popover></x-button></td></tr><tr><td>Export SVG files to PDF</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr><tr><td>Sync app preferences between devices</td><td><x-icon name=\"feature-unsupported\" part=\"no-icon\"></x-icon></td><td><x-icon name=\"feature-supported\" part=\"yes-icon\"></x-icon></td></tr></tbody><tfoot id=\"table-foot\"><tr><td><x-box><span>Users</span><x-button id=\"quantity-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Number of users belonging to your organization that should be able to use the app simultaneously.</p><p>You can freely assign and unassign licenses to users at any time by entering their email addresses in <a id=\"auth-anchor\" href=\"?dialog=preferences\u2192auth\">\"Preferences \u2192 Authentication\"</a>.</p></main></x-popover></x-button></x-box></td><td id=\"quantity-td\" colspan=\"2\"><x-numberinput id=\"quantity-input\" value=\"1\" min=\"1\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></td></tr><tr><td><x-box><span>Volume discount</span><x-button id=\"discount-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>A discount is granted when you purchase a subscription for many users:</p><ul><li>10% discount - for 10 or more users</li><li>20% discount - for 30 or more users</li><li>30% discount - for 100 or more users</li></ul></main></x-popover></x-button></x-box></td><td id=\"discount-td\" colspan=\"2\"><span id=\"discount-span\">None</span></td></tr><tr><td>Billing</td><td id=\"billing-td\" colspan=\"2\"><x-select id=\"billing-select\" disabled=\"disabled\"><x-menu><x-menuitem value=\"monthly\"><x-label>Monthly</x-label></x-menuitem><x-menuitem value=\"yearly\" toggled><x-label>Yearly</x-label></x-menuitem></x-menu></x-select></td></tr><tr><td><x-box><span>Price</span><x-button id=\"price-help-button\" class=\"help-button\" skin=\"circular\" size=\"small\"><x-icon name=\"help\"></x-icon><x-popover modal><main><p>Depending on your current tax residence, an additional VAT or sales tax might be applied.</p><p>When changing an existing subscription plan, the total amount due will be prorated.</p></main></x-popover></x-button></x-box></td><td id=\"price-td\" colspan=\"2\"><span id=\"price-span\">9.99</span> USD</td></tr></tfoot></table></template>"]);_templateObject570=function _templateObject570(){return data;};return data;}function _templateObject569(){var data=_taggedTemplateLiteral(["#email-section>x-box{margin-top:4px}#email-input{flex:1;max-width:none}#email-change-button,#email-verify-button{margin-left:6px}#email-throbber{width:24px;height:24px;margin-left:6px}#password-section>x-box{margin-top:4px}#password-input{flex:1;max-width:none;margin-right:6px}#password-change-button{width:143px}#password-throbber{width:24px;height:24px;margin-left:6px}#users-change-box{margin-top:8px;width:100%}#users-change-button{flex:1}#users-change-throbber{margin-left:8px}"]);_templateObject569=function _templateObject569(){return data;};return data;}function _templateObject568(){var data=_taggedTemplateLiteral(["<template><h2>Authentication</h2><section id=\"email-section\"><h3>E-mail</h3><p>E-mail address used for password recovery and communication with Boxy SVG team.</p><x-box><x-input id=\"email-input\" type=\"email\"></x-input><x-button id=\"email-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-button id=\"email-verify-button\"><x-label>Verify</x-label></x-button><x-throbber id=\"email-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"password-section\"><h3>Password</h3><p>The password used to sign into Boxy SVG.</p><x-box><x-input id=\"password-input\" type=\"password\"><x-label id=\"password-placeholder\">\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022</x-label></x-input><x-button id=\"password-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"password-throbber\" hidden></x-throbber></x-box></section><hr><section id=\"users-section\" hidden><h3>Users</h3><p>Enter email addresses of the users belonging to your organization. To increase the allowed number of users please adjust your <a id=\"subscription-anchor\" href=\"?dialog=preferences\u2192subscription\">subscription plan</a>.</p><bx-userseditor id=\"users-editor\"></bx-userseditor><x-box id=\"users-change-box\"><x-button id=\"users-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button><x-throbber id=\"users-change-throbber\" hidden></x-throbber></x-box></section></template>"]);_templateObject568=function _templateObject568(){return data;};return data;}function _templateObject567(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;max-height:182px;overflow:hidden;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#main{width:100%;overflow-y:auto}#table{width:100%;display:block;table-layout:auto;overflow:auto;border-collapse:collapse;user-select:none;border:none;box-shadow:none}#table tr{height:30px;box-sizing:border-box}#table[data-size=small] tr{height:24px}#table[data-size=large] tr{height:34px}#table td{border-width:1px;border-style:solid}#table td:first-child{border-left:none}#table td:last-child{border-right:none}#table tr:first-child td{border-top:none}#table tr:last-child td{border-bottom:none}#table td.index-cell{width:auto;padding:0 6px;box-sizing:border-box;text-align:end;font-size:12px}#table td.value-cell{width:100%;padding:0 6px}#table td.value-cell .label{width:100%;padding:0 2px;box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:12px}#table tr[data-disabled] td.value-cell .label{opacity:.6}#table td.value-cell .input{width:100%;max-width:none;height:100%;border:none;font-size:12px;padding:2px 0;color:var(--text-color)}#table td.value-cell .input::part(input){padding:0 2px}#table td.value-cell .input:focus{outline:0}"]);_templateObject567=function _templateObject567(){return data;};return data;}function _templateObject566(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><table id=\"table\"><tbody id=\"tbody\"></tbody></table></main></template>"]);_templateObject566=function _templateObject566(){return data;};return data;}function _templateObject565(){var data=_taggedTemplateLiteral(["#avatar{width:120px;height:120px}#avatar-edit-button{width:120px;margin-top:8px}#name-section{position:relative}#name-section>x-box{margin-top:4px}#name-input{flex:1;max-width:none;margin-right:6px;position:relative}#name-throbber{position:absolute;top:2px;right:0}#website-section{position:relative}#website-section>x-box{margin-top:4px}#website-input{flex:1;max-width:none;margin-right:6px;position:relative}#website-throbber{position:absolute;top:2px;right:0}#bio-section{position:relative}#bio-section>x-box{margin-top:4px}#bio-editor{flex:1;max-width:none;height:46px;min-height:0}#bio-change-button{height:46px;margin-left:6px}#bio-throbber{position:absolute;top:2px;right:0}"]);_templateObject565=function _templateObject565(){return data;};return data;}function _templateObject564(){var data=_taggedTemplateLiteral(["<template><h2>Public profile</h2><section id=\"avatar-section\"><h3>Avatar</h3><p>Image to be shown next to your posts.</p><bx-avatar id=\"avatar\" part=\"avatar\" transparent></bx-avatar><x-button id=\"avatar-edit-button\" toggled><x-label>Edit</x-label></x-button></section><hr><section id=\"name-section\"><h3 id=\"name-heading\">Name</h3><p>Your real name or a nick name.</p><x-throbber id=\"name-throbber\" hidden></x-throbber><x-box><x-input id=\"name-input\"></x-input><x-button id=\"name-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"website-section\"><h3 id=\"website-heading\">Website</h3><p>URL to your personal or company website.</p><x-throbber id=\"website-throbber\" hidden></x-throbber><x-box><x-input id=\"website-input\" type=\"url\"></x-input><x-button id=\"website-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section><hr><section id=\"bio-section\"><h3 id=\"bio-heading\">Bio</h3><p>Write one or two sentences about yourself.</p><x-throbber id=\"bio-throbber\" hidden></x-throbber><x-box><x-texteditor id=\"bio-editor\" maxlength=\"300\"></x-texteditor><x-button id=\"bio-change-button\" disabled=\"disabled\"><x-label>Change</x-label></x-button></x-box></section></template>"]);_templateObject564=function _templateObject564(){return data;};return data;}function _templateObject563(){var data=_taggedTemplateLiteral([":host{display:block;width:28px;height:28px;box-sizing:border-box;border-width:1px;border-style:solid;user-select:none}:host([transparent]){background:var(--checkboard-background)}:host([hidden]){display:none}img{width:100%;height:100%;-webkit-user-drag:none}"]);_templateObject563=function _templateObject563(){return data;};return data;}function _templateObject562(){var data=_taggedTemplateLiteral(["<template><img id=\"img\"></template>"]);_templateObject562=function _templateObject562(){return data;};return data;}function _templateObject561(){var data=_taggedTemplateLiteral([":host{width:100%;height:100%;outline:0}#main{display:flex;flex-flow:column;height:100%}#tabs{width:100%}#tabs>x-tab{flex:1}#views{display:flex;flex-flow:column;flex:1;height:100%;min-height:0;margin-top:16px}#views .view{width:100%;height:100%}"]);_templateObject561=function _templateObject561(){return data;};return data;}function _templateObject560(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><h2>Keyboard</h2><x-tabs id=\"tabs\" centered><x-tab value=\"shortcuts\" selected=\"selected\"><x-label>Shortcuts</x-label></x-tab><x-tab value=\"modifiers\"><x-label>Modifier keys</x-label></x-tab></x-tabs><div id=\"views\"><div id=\"shortcuts-view\" class=\"view\"><bx-shortcutseditor id=\"shortcuts-editor\"></bx-shortcutseditor></div><div id=\"modifiers-view\" class=\"view\" hidden><section id=\"space-modifier-section\"><h3>Space key</h3><x-radios id=\"space-modifier-radios\"><x-radio value=\"togglePreviousTool\" toggled><x-label>Toggle previous tool</x-label></x-radio><x-radio value=\"pan\"><x-label>Pan the canvas</x-label></x-radio></x-radios></section></div></div></main></template>"]);_templateObject560=function _templateObject560(){return data;};return data;}function _templateObject559(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;border-width:1px;border-style:solid;outline:0;flex-flow:column;flex:1;height:100%}#header{display:flex;align-items:center;min-height:30px;border-bottom-width:1px;border-bottom-style:solid;font-size:14px;font-weight:500}#header div:first-child{min-width:50%;margin-left:10px}#header div:last-child{margin-left:5px}#items{overflow:auto;height:100%;outline:0}.item{display:flex;width:100%;height:30px;align-items:center;font-size:13px;user-select:none;box-sizing:border-box;border:2px solid transparent;color:var(--text-color)}#items[data-size=small] .item{height:24px}#items[data-size=large] .item{height:34px}.item[data-conflicting]{color:var(--error-color)}.item[data-selected]{background:var(--accent-color);color:#fff}.item[data-selected][data-conflicting]{background:var(--error-color)}.item[data-user-shortcut]{font-weight:900}.item[hidden]{display:none}.item .command-label{min-width:50%;padding:8px 10px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item .shortcut-label{width:100%}.item[data-editable] .shortcut-label{padding:2px 8px;background:#fff;color:var(--dark-accent-color);font-size:12px;line-height:1;font-size:11px;font-weight:500;text-transform:uppercase}.item[data-editable][data-conflicting] .shortcut-label{color:var(--error-color)}.item .reset-button{margin:0 4px;padding:3px 7px;min-width:fit-content}.item .reset-button[hidden]{display:block;visibility:hidden}.item[data-editable] .reset-button{visibility:hidden}#footer{width:100%;padding:7px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #filter-buttons{margin-left:10px}"]);_templateObject559=function _templateObject559(){return data;};return data;}function _templateObject558(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><div>Command</div><div>Shortcut</div></header><main id=\"items\" tabindex=\"0\"></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter symbols\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-buttons id=\"filter-buttons\" tracking=\"1\"><x-button skin=\"recessed\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button skin=\"recessed\" value=\"custom\"><x-label>Custom</x-label></x-button><x-button skin=\"recessed\" value=\"conflicting\"><x-label>Conflicting <span id=\"conflicting-items-counter\"></span></x-label></x-button></x-buttons></x-box></footer></template>"]);_templateObject558=function _templateObject558(){return data;};return data;}function _templateObject557(){var data=_taggedTemplateLiteral(["#defs-section x-box>x-icon{width:26px;height:26px;overflow:visible}#defs-section x-box>x-icon[computedsize=small]{width:22px;height:22px}#defs-section x-box>x-icon[computedsize=large]{width:30px;height:30px}#defs-section x-box>x-label{width:80px;margin-left:8px}#defs-section x-box+x-box{margin-top:10px}#defs-section x-buttons{flex:1}#defs-section x-buttons>x-button{flex:1}"]);_templateObject557=function _templateObject557(){return data;};return data;}function _templateObject556(){var data=_taggedTemplateLiteral(["<template><h2>Garbage Collector</h2><section id=\"defs-section\"><h3 id=\"intro\">Auto-remove unused defs</h3><x-box><x-icon name=\"defs-colors\"></x-icon><x-label>Colors</x-label><x-buttons id=\"colors-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-gradients\"></x-icon><x-label>Gradients</x-label><x-buttons id=\"gradients-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-patterns\"></x-icon><x-label>Patterns</x-label><x-buttons id=\"patterns-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-markers\"></x-icon><x-label>Markers</x-label><x-buttons id=\"markers-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-symbols\"></x-icon><x-label>Symbols</x-label><x-buttons id=\"symbols-buttons\" tracking=\"1\"><x-button value=\"unpinned\"><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\" toggled><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-filters\"></x-icon><x-label>Filters</x-label><x-buttons id=\"filters-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box><x-box><x-icon name=\"defs-fonts\"></x-icon><x-label>Fonts</x-label><x-buttons id=\"fonts-buttons\" tracking=\"1\"><x-button value=\"unpinned\" toggled><x-label>Unpinned</x-label></x-button><x-button value=\"all\"><x-label>All</x-label></x-button><x-button value=\"none\"><x-label>None</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject556=function _templateObject556(){return data;};return data;}function _templateObject555(){var data=_taggedTemplateLiteral(["<template><h2>Markup</h2><section id=\"geometry-precision-section\"><h3>Geometry precision</h3><p>Precision, in number of decimal places, to be used by attributes defining shape geometry such as <code>x</code>, <code>y</code>, <code>width</code>, <code>height</code>, <code>r</code> or <code>d</code>.</p><x-slider id=\"geometry-precision-slider\" value=\"3\" min=\"0\" max=\"6\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label></x-slider></section><hr><section id=\"transform-precision-section\"><h3>Transform precision</h3><p>Precision, in number of decimal places, to be used by <code>transform</code> attribute.</p><x-slider id=\"transform-precision-slider\" value=\"6\" min=\"5\" max=\"12\" step=\"1\"><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label><x-label value=\"9\">9</x-label><x-label value=\"10\">10</x-label><x-label value=\"11\">11</x-label><x-label value=\"12\">12</x-label></x-slider></section><hr><section id=\"indentation-section\"><h3>Indentation</h3><p>Number of spaces used to indent SVG code.</p><x-slider id=\"indentation-slider\" value=\"2\" min=\"0\" max=\"8\" step=\"1\"><x-label value=\"0\">0</x-label><x-label value=\"1\">1</x-label><x-label value=\"2\">2</x-label><x-label value=\"3\">3</x-label><x-label value=\"4\">4</x-label><x-label value=\"5\">5</x-label><x-label value=\"6\">6</x-label><x-label value=\"7\">7</x-label><x-label value=\"8\">8</x-label></x-slider></section></template>"]);_templateObject555=function _templateObject555(){return data;};return data;}function _templateObject554(){var data=_taggedTemplateLiteral(["#theme-select{width:100%}#colors-section section{margin-top:10px}#accent-color-box{margin-top:4px}#accent-color-preset-select{flex:1}#accent-color-select{margin-left:6px}#color-scheme-select{width:100%}#widgets-size-select{width:100%}"]);_templateObject554=function _templateObject554(){return data;};return data;}function _templateObject553(){var data=_taggedTemplateLiteral(["<template><h2>UI</h2><section id=\"theme-section\"><h3>Theme</h3><x-select id=\"theme-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-theme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"cupertino\" id=\"cupertino-theme-select-item\"><x-label>Cupertino</x-label></x-menuitem><x-menuitem value=\"fluent\"><x-label>Fluent</x-label></x-menuitem><x-menuitem value=\"vanilla\"><x-label>Vanilla</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"colors-section\"><h3>Colors</h3><section id=\"color-scheme-subsection\"><h4>Color scheme</h4><x-select id=\"color-scheme-select\"><x-menu id=\"color-scheme-menu\"><x-menuitem value=\"auto\"><x-label id=\"auto-color-scheme-label\"></x-label></x-menuitem><hr><x-menuitem value=\"light\"><x-label>Light</x-label></x-menuitem><x-menuitem value=\"dark\"><x-label>Dark</x-label></x-menuitem></x-menu></x-select></section><section id=\"accent-color-subsection\"><h4>Accent color</h4><x-box id=\"accent-color-box\"><x-select id=\"accent-color-preset-select\"><x-menu id=\"accent-color-preset-menu\"><x-menuitem value=\"auto\" toggled><x-swatch id=\"auto-accent-color-preset-swatch\"></x-swatch><x-label id=\"auto-accent-color-preset-label\"></x-label></x-menuitem><hr><x-menuitem value=\"blue\"><x-swatch></x-swatch><x-label>Blue</x-label></x-menuitem><x-menuitem value=\"purple\"><x-swatch></x-swatch><x-label>Purple</x-label></x-menuitem><x-menuitem value=\"pink\"><x-swatch></x-swatch><x-label>Pink</x-label></x-menuitem><x-menuitem value=\"red\"><x-swatch></x-swatch><x-label>Red</x-label></x-menuitem><x-menuitem value=\"orange\"><x-swatch></x-swatch><x-label>Orange</x-label></x-menuitem><x-menuitem value=\"yellow\"><x-swatch></x-swatch><x-label>Yellow</x-label></x-menuitem><x-menuitem value=\"green\"><x-swatch></x-swatch><x-label>Green</x-label></x-menuitem><x-menuitem value=\"graphite\"><x-swatch></x-swatch><x-label>Graphite</x-label></x-menuitem><hr><x-menuitem value=\"custom\"><x-icon name=\"color-wheel\"></x-icon><x-label>Other</x-label></x-menuitem></x-menu></x-select><x-colorselect id=\"accent-color-select\"><x-popover modal><x-wheelcolorpicker></x-wheelcolorpicker></x-popover></x-colorselect></x-box></section></section><hr><section id=\"size-section\"><h3>Size</h3><section id=\"widgets-size-subsection\"><h4>Widgets size</h4><x-select id=\"widgets-size-select\"><x-menu><x-menuitem value=\"auto\" toggled><x-label id=\"auto-widgets-size-label\"></x-label></x-menuitem><hr><x-menuitem value=\"medium\" toggled><x-label>Medium</x-label></x-menuitem><x-menuitem value=\"large\"><x-label>Large</x-label></x-menuitem></x-menu></x-select></section></section><hr><section id=\"menubar-section\"><h3>Menubar</h3><x-checkbox id=\"show-install-button-checkbox\"><x-label>Show \"Install\" button</x-label></x-checkbox><x-checkbox id=\"show-cloud-button-checkbox\"><x-label>Show \"Cloud\" button</x-label></x-checkbox><x-checkbox id=\"show-profile-button-checkbox\"><x-label>Show \"Public profile\" button</x-label></x-checkbox></section><hr><section id=\"docks-section\"><h3>Docks</h3><x-checkbox id=\"show-dock-tooltips-checkbox\"><x-label>Show tooltips</x-label></x-checkbox></section><hr><section id=\"canvas-section\"><h3>Canvas</h3><x-checkbox id=\"limit-scrollable-area-checkbox\"><x-label>Limit scrollable area</x-label></x-checkbox><x-checkbox id=\"show-view-outline-above-objects-checkbox\"><x-label>Show view outline above objects</x-label></x-checkbox></section></template>"]);_templateObject553=function _templateObject553(){return data;};return data;}function _templateObject552(){var data=_taggedTemplateLiteral(["#hardware-acceleration-checkbox{margin-top:10px}#recent-files-select{width:100%}"]);_templateObject552=function _templateObject552(){return data;};return data;}function _templateObject551(){var data=_taggedTemplateLiteral(["<template><h2>General</h2><section id=\"hardware-acceleration-section\"><h3>Hardware acceleration</h3><p>You should disable hardware acceleration if you are running the app inside a virtual machine or on older hardware and you observe graphical glitches such as flickering or disappearing widgets. <strong>Requires app restart.</strong></p><x-checkbox id=\"hardware-acceleration-checkbox\" toggled><x-label>Hardware acceleration</x-label></x-checkbox></section><hr id=\"hr-1\" hidden><section id=\"recent-files-section\" hidden><h3>Recent files</h3><p>Limit the number of files shown by \"File -> Open Recent\" menu.</p><x-select id=\"recent-files-select\"><x-menu id=\"recent-files-menu\"><x-menuitem value=\"5\"><x-label>5</x-label></x-menuitem><x-menuitem value=\"10\"><x-label>10</x-label></x-menuitem><x-menuitem value=\"15\"><x-label>15</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>20</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>30</x-label></x-menuitem><x-menuitem value=\"20\"><x-label>50</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject551=function _templateObject551(){return data;};return data;}function _templateObject550(){var data=_taggedTemplateLiteral([":host{display:none;width:100%}:host([enabled]){display:block}h2:first-child{margin-top:0}p{font-size:13px;line-height:1.4;margin:5px 0 8px 0}section+hr{margin:20px 0}section[hidden]+hr{display:none}"]);_templateObject550=function _templateObject550(){return data;};return data;}function _templateObject549(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host(:focus){outline:0}#main{display:flex;width:100%;height:100%}#board{flex:1}#breadcrumb{position:absolute;top:5px;left:44px}#breadcrumb[computedsize=large]{left:50px}"]);_templateObject549=function _templateObject549(){return data;};return data;}function _templateObject548(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><bx-toolsdock id=\"tools-dock\"></bx-toolsdock><bx-board id=\"board\"></bx-board><bx-offscreenboard id=\"offscreen-board\"></bx-offscreenboard><bx-primarypanelsdock id=\"primary-panels-dock\"><bx-fillpanel id=\"fill-panel\" name=\"Fill\"></bx-fillpanel><bx-strokepanel id=\"stroke-panel\" name=\"Stroke\"></bx-strokepanel><bx-compositingpanel id=\"compositing-panel\" name=\"Compositing\"></bx-compositingpanel><bx-typographypanel id=\"typography-panel\" name=\"Typography\"></bx-typographypanel><bx-geometrypanel id=\"geometry-panel\" name=\"Geometry\"></bx-geometrypanel><bx-metapanel id=\"meta-panel\" name=\"Meta\"></bx-metapanel><bx-shapepanel id=\"shape-panel\" name=\"Shape\"></bx-shapepanel><bx-arrangementpanel id=\"arrangement-panel\" name=\"Arrangement\"></bx-arrangementpanel><bx-objectspanel id=\"objects-panel\" name=\"Objects\"></bx-objectspanel><bx-defspanel id=\"defs-panel\" name=\"Defs\"></bx-defspanel><bx-librarypanel id=\"library-panel\" name=\"Library\"></bx-librarypanel><bx-generatorspanel id=\"generators-panel\" name=\"Generators\"></bx-generatorspanel><bx-exportpanel id=\"export-panel\" name=\"Export\"></bx-exportpanel><bx-historypanel id=\"history-panel\" name=\"History\"></bx-historypanel></bx-primarypanelsdock><bx-secondarypanelsdock id=\"secondary-panels-dock\"><bx-elementspanel id=\"elements-panel\" name=\"Elements\"></bx-elementspanel><bx-codepanel id=\"code-panel\" name=\"Code\" hidden></bx-codepanel><bx-animationpanel id=\"animation-panel\" name=\"Animation\" hidden></bx-animationpanel></bx-secondarypanelsdock><bx-editorbreadcrumb id=\"breadcrumb\"></bx-editorbreadcrumb></main><bx-colorgrabber id=\"color-grabber\"></bx-colorgrabber><bx-objectgrabber id=\"object-grabber\"></bx-objectgrabber></template>"]);_templateObject548=function _templateObject548(){return data;};return data;}function _templateObject547(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject547=function _templateObject547(){return data;};return data;}function _templateObject546(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject546=function _templateObject546(){return data;};return data;}function _templateObject545(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#main{width:100%;height:100%;padding:20px}"]);_templateObject545=function _templateObject545(){return data;};return data;}function _templateObject544(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-label>This feature is coming soon</x-label></main></template>"]);_templateObject544=function _templateObject544(){return data;};return data;}function _templateObject543(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%}:host([enabled]){display:block}#container{display:flex;width:100%;height:100%}#main{flex:1}"]);_templateObject543=function _templateObject543(){return data;};return data;}function _templateObject542(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\"><bx-dominspector id=\"dom-inspector\"></bx-dominspector></main><aside id=\"sidebar\"><bx-csscascadeinspector id=\"css-cascade-inspector\"></bx-csscascadeinspector></aside></div></template>"]);_templateObject542=function _templateObject542(){return data;};return data;}function _templateObject541(){var data=_taggedTemplateLiteral([":host{position:relative;display:block;width:240px;height:100%;outline:0;border-left-width:1px;border-left-style:solid;contain:size layout style;--property-name-color:rgb(200, 0, 0);--property-value-color:currentColor}#main{position:relative;display:flex;flex-flow:column;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#cascade-view{flex:1;padding:8px}#cascade-items{font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word;user-select:text}.cascade-item .heading{display:block;margin:8px 0 2px 0;padding:1px 4px;user-select:none;font-family:BlinkMacSystemFont,Roboto,\"Helvetica Neue\",\"Lucida Grande\",Arial,sans-serif;font-size:11px;font-weight:500}.cascade-item .heading:empty{display:none}.cascade-item .heading code{font-size:inherit;padding:0 4px;display:inline-block}.cascade-item .selector[disabled]{opacity:.65}.cascade-item .property-item{display:flex;align-items:center}.cascade-item .checkbox{margin:0 5px 0 1px;width:13px;height:13px;visibility:hidden}.cascade-item .property-item .name{color:var(--property-name-color);cursor:text;line-height:12px}.cascade-item .property-item .value{color:var(--property-value-color);cursor:text}#autocompletion-list{position:fixed;border-width:1px;border-style:solid;white-space:pre;overflow:auto;z-index:999999}#autocompletion-list .item{padding:2px 4px}#autocompletion-list .item:hover{background:var(--selection-background-color)}#autocompletion-list .item[data-selected]{background:var(--accent-color);color:#fff}span[contenteditable]{display:inline-block;text-overflow:clip;user-select:text;-webkit-user-modify:read-write-plaintext-only}span[contenteditable]:empty:not([ghost]){padding:0 1px 0 2px}span[contenteditable]::after{content:attr(ghost);opacity:.5}#resize-grippie{position:absolute;top:0;left:0;width:5px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject541=function _templateObject541(){return data;};return data;}function _templateObject540(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"cascade-view\"><div id=\"cascade-items\"></div></div><div id=\"computed-view\"></div></main><div id=\"resize-grippie\"></div></template>"]);_templateObject540=function _templateObject540(){return data;};return data;}function _templateObject539(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;outline:0;contain:size layout style;--bracket-color:#881280;--tag-color:#881280;--attribute-color:#a894a6;--attribute-name-color:#994500;--attribute-value-color:#1919a7;--highlight-color:#bb38b2}#main{position:relative;width:100%;height:100%;overflow:auto;will-change:scroll-position;touch-action:none}#tree{padding:1px 0;font-size:12px;line-height:16px;font-family:\"Roboto Mono\",Menlo,monospace;word-wrap:break-word}.item{position:relative;margin-left:22px;z-index:2;color:var(--text-color)}.item[data-selected]{color:#fff}.item[data-dragover]{z-index:3}.item[hidden]{display:none}span[contenteditable]{text-overflow:clip;min-width:.5ex;-webkit-user-select:text;-webkit-user-modify:read-write-plaintext-only}.item[data-type=text]{word-break:break-all}.item[data-type=text][data-selected]>.content::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=text][data-dragover=afterend]::after,.item[data-type=text][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--light-accent-color);pointer-events:none}.item[data-type=element]>.icon{fill:currentColor;vertical-align:middle;padding:3px;position:absolute;top:2px;left:-19px;transform:rotate(0);z-index:2}.item[data-type=element][data-expanded]>.icon{transform:rotate(90deg)}.item[data-type=element]>.icon>path{pointer-events:none}.item[data-type=element]>.tag{position:relative;border-top:1px solid transparent;border-bottom:1px solid transparent}.item[data-type=element]>.tag>.closing-bracket,.item[data-type=element]>.tag>.opening-bracket{color:var(--bracket-color)}.item[data-type=element][data-selected]>.tag>.closing-bracket,.item[data-type=element][data-selected]>.tag>.opening-bracket{color:inherit;opacity:.5}.item[data-type=element]>.tag>.opening-bracket[disabled]{opacity:.45}.item[data-type=element]>.tag>.tag-name{color:var(--tag-color)}.item[data-type=element][data-selected]>.tag>.tag-name{color:inherit}.item[data-type=element]>.tag>.tag-name[disabled]{opacity:.45}.item[data-type=element]>.tag .attributes{line-height:1}.item[data-type=element]>.tag .attribute{transition:background .25s;margin-left:6px;color:var(--attribute-color)}.item[data-type=element][data-selected]>.tag .attribute{color:rgba(255,255,255,.7)}.item[data-type=element]>.tag .attribute[highlighted]{background:var(--highlight-color)}.item[data-type=element]>.tag .attribute[disabled]{font-weight:700;opacity:.45}.item[data-type=element]>.tag .attribute .name{color:var(--attribute-name-color)}.item[data-type=element][data-selected]>.tag .attribute .name{color:inherit}.item[data-type=element]>.tag .attribute .value{color:var(--attribute-value-color)}.item[data-type=element][data-selected]>.tag .attribute .value{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis{padding-left:4px;text-decoration:underline;letter-spacing:-2px;cursor:pointer}.item[data-type=element][data-selected]>.tag .attribute .ellipsis{color:#fff}.item[data-type=element]>.tag .attribute .ellipsis:hover{text-decoration:none}.item[data-type=element]>.tag .attribute[highlighted] *{color:#fff}.item[data-type=element][data-selected]>.tag::before{content:\"\";background:var(--accent-color);outline:1px solid var(--accent-color);position:absolute;top:0;left:0;margin-left:-600px;width:calc(100% + 600px);height:100%;z-index:-1}.item[data-type=element][data-dragover=afterbegin]>.subtree::before,.item[data-type=element][data-dragover=beforeend]>.subtree::after{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none;margin-left:22px}.item[data-type=element][data-dragover=afterend]::after,.item[data-type=element][data-dragover=beforebegin]::before{display:block;content:\"\";width:100%;outline:1px solid var(--accent-color);pointer-events:none}"]);_templateObject539=function _templateObject539(){return data;};return data;}function _templateObject538(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"tree\"></div></main></template>"]);_templateObject538=function _templateObject538(){return data;};return data;}function _templateObject537(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;width:100%;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0}#items .item{padding:3px 20px;font-size:13px}#items .item[data-selected]{color:#fff;background:var(--accent-color)}#placeholder{padding:10px 20px 0;opacity:.6;box-sizing:border-box;font-size:12px}#footer{width:100%;padding:13px 20px 14px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer x-buttons{width:100%}#footer x-buttons x-button{flex:1}#footer #slider{margin-top:10px}"]);_templateObject537=function _templateObject537(){return data;};return data;}function _templateObject536(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">History</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No history items.</div></main><footer id=\"footer\" part=\"footer\"><x-buttons><x-button id=\"undo-button\" condensed disabled=\"disabled\"><x-icon name=\"undo\"></x-icon><x-label>Undo</x-label></x-button><x-button id=\"redo-button\" condensed disabled=\"disabled\"><x-icon name=\"redo\"></x-icon><x-label>Redo</x-label></x-button><x-button id=\"clear-button\" condensed disabled=\"disabled\"><x-icon name=\"clear\"></x-icon><x-label>Clear</x-label></x-button></x-buttons><x-slider id=\"slider\"></x-slider></footer></template>"]);_templateObject536=function _templateObject536(){return data;};return data;}function _templateObject535(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #format-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}#footer{padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer #export-button{width:100%}#footer #progress-bar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject535=function _templateObject535(){return data;};return data;}function _templateObject534(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Export</h2><x-select id=\"format-select\"><x-menu><x-menuitem value=\"png\" toggled><x-label>PNG</x-label></x-menuitem><x-menuitem value=\"jpeg\"><x-label>JPEG</x-label></x-menuitem><x-menuitem value=\"gif\"><x-label>GIF</x-label></x-menuitem><x-menuitem value=\"webp\"><x-label>WebP</x-label></x-menuitem><hr><x-menuitem value=\"svg\"><x-label>SVG</x-label></x-menuitem><x-menuitem value=\"svgz\"><x-label>SVGZ</x-label></x-menuitem><x-menuitem value=\"html\"><x-label>HTML</x-label></x-menuitem><x-menuitem value=\"pdf\" id=\"pdf-menu-item\"><x-label>PDF</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"><x-button id=\"export-button\" size=\"larger\" disabled=\"disabled\"><x-icon name=\"export-panel\"></x-icon><x-label id=\"export-label\">Export</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></footer></template>"]);_templateObject534=function _templateObject534(){return data;};return data;}function _templateObject533(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:18px}#height-input,#width-input{width:100%}#height-box,#width-box{flex:1}#height-unit-select,#width-unit-select{margin-top:5px;width:100%}#lock-size-button{align-self:center;margin:20px 0 0 0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#background-subsection{margin-top:18px}#background-select x-popover{--align:right}#normalize-subsection{margin-top:18px}"]);_templateObject533=function _templateObject533(){return data;};return data;}function _templateObject532(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4 id=\"area-heading\">Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"width-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"0.001\" condensed><x-stepper></x-stepper></x-numberinput><x-select id=\"height-unit-select\"><x-menu><x-menuitem value=\"cm\" toggled><x-label>cm</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>in</x-label></x-menuitem></x-menu></x-select></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox></section></template>"]);_templateObject532=function _templateObject532(){return data;};return data;}function _templateObject531(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#normalize-subsection{margin-top:18px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject531=function _templateObject531(){return data;};return data;}function _templateObject530(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox></section></template>"]);_templateObject530=function _templateObject530(){return data;};return data;}function _templateObject529(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}#normalize-subsection>x-checkbox{margin-top:6px}"]);_templateObject529=function _templateObject529(){return data;};return data;}function _templateObject528(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject528=function _templateObject528(){return data;};return data;}function _templateObject527(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#viewport-subsection{margin-top:16px}#viewport-buttons{width:100%}#viewport-buttons x-button{flex:1}#normalize-subsection{margin-top:16px}"]);_templateObject527=function _templateObject527(){return data;};return data;}function _templateObject526(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"viewport-subsection\"><h4 id=\"viewport-heading\">Viewport</h4><x-buttons id=\"viewport-buttons\" tracking=\"1\"><x-button id=\"responsive-viewport-button\" value=\"responsive\" toggled><x-label>Responsive</x-label></x-button><x-button id=\"fixed-viewport-button\" value=\"fixed\"><x-label>Fixed</x-label></x-button></x-buttons></section><section id=\"normalize-subsection\"><h4 id=\"normalize-heading\">Normalize</h4><x-checkbox id=\"convert-texts-to-paths-checkbox\"><x-label>Convert texts to paths</x-label></x-checkbox><x-checkbox id=\"remove-embedded-fonts-checkbox\"><x-label>Remove embedded fonts</x-label></x-checkbox><x-checkbox id=\"remove-non-standard-namespaces-checkbox\"><x-label>Remove non-standard namespaces</x-label></x-checkbox></section></template>"]);_templateObject526=function _templateObject526(){return data;};return data;}function _templateObject525(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject525=function _templateObject525(){return data;};return data;}function _templateObject524(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject524=function _templateObject524(){return data;};return data;}function _templateObject523(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#dithering-subsection{margin-top:16px}#dithering-select{width:100%}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}#background-subsection>x-checkbox{margin-top:7px}"]);_templateObject523=function _templateObject523(){return data;};return data;}function _templateObject522(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"dithering-subsection\"><h4 id=\"dithering-heading\">Dithering</h4><x-select id=\"dithering-select\"><x-menu><x-menuitem value=\"none\" toggled><x-label>None</x-label></x-menuitem><x-menuitem value=\"floyd-steinberg\"><x-label>Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"false-floyd-steinberg\"><x-label>False Floyd\u2013Steinberg</x-label></x-menuitem><x-menuitem value=\"stucki\"><x-label>Stucki</x-label></x-menuitem><x-menuitem value=\"atkinson\"><x-label>Atkinson</x-label></x-menuitem></x-menu></x-select></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect><x-checkbox id=\"transparent-checkbox\"><x-label>Treat this color as transparency</x-label></x-checkbox></section></template>"]);_templateObject522=function _templateObject522(){return data;};return data;}function _templateObject521(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#compression-subsection{margin-top:16px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject521=function _templateObject521(){return data;};return data;}function _templateObject520(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject520=function _templateObject520(){return data;};return data;}function _templateObject519(){var data=_taggedTemplateLiteral(["#area-buttons{width:100%}#area-buttons x-button{flex:1}#view-subsection{margin-top:16px}#view-select{width:100%}#size-subsection{display:flex;margin-top:16px}#height-box,#width-box{flex:1}#height-input,#width-input{width:100%}#lock-size-button{align-self:flex-end;margin:0}#lock-size-icon{width:18px;height:18px;min-width:18px;margin:0 6px;color:#8c8c8c}#margin-subsection{margin-top:16px}#margin-box{display:flex;margin-top:14px}#margin-heading{flex:1;margin:0}#margin-switch{margin:0}#margin-input{width:240px;margin:0 auto -10px auto}#dpi-subsection{margin-top:16px}#dpi-subsection x-box{width:100%}#dpi-heading{margin-bottom:0}#dpi-slider{flex:1}#dpi-input{width:60px;margin-left:10px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#background-subsection{margin-top:16px}#background-select x-popover{--align:right}"]);_templateObject519=function _templateObject519(){return data;};return data;}function _templateObject518(){var data=_taggedTemplateLiteral(["<template><section id=\"area-subsection\"><h4>Area</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button value=\"view-box\" toggled><x-label>View</x-label></x-button><x-button value=\"selection\"><x-label>Selection</x-label></x-button></x-buttons></section><section id=\"view-subsection\" hidden><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"lock-size-button\" togglable skin=\"flat\"><x-icon id=\"lock-size-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"100\" min=\"1\" suffix=\" px\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"margin-subsection\"><x-box id=\"margin-heading-box\"><h4 id=\"margin-heading\">Margin</h4><x-switch id=\"margin-switch\" size=\"smaller\"></x-switch></x-box><bx-edgeinput id=\"margin-input\" suffix=\" px\" hidden></bx-edgeinput></section><section id=\"dpi-subsection\"><h4 id=\"dpi-heading\">DPI</h4><x-box><x-slider id=\"dpi-slider\" value=\"96\" min=\"1\" max=\"400\" step=\"1\"></x-slider><x-numberinput id=\"dpi-input\" value=\"96\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></template>"]);_templateObject518=function _templateObject518(){return data;};return data;}function _templateObject517(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}h3:first-child,h4:first-child{margin-top:0}#options-section{padding:16px 20px 16px 20px}#preview-section{padding:16px 20px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;user-select:none;background:var(--checkboard-background);border-width:1px;border-style:solid}#preview[hidden]{display:none}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject517=function _templateObject517(){return data;};return data;}function _templateObject516(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject516=function _templateObject516(){return data;};return data;}function _templateObject515(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#header #generator-select{width:100%;margin-top:12px}#main{flex:1;overflow:auto}"]);_templateObject515=function _templateObject515(){return data;};return data;}function _templateObject514(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Generators</h2><x-select id=\"generator-select\"><x-menu><x-menuitem value=\"bx-barcodegenerator\"><x-label>Barcode</x-label></x-menuitem><x-menuitem value=\"bx-qrcodegenerator\"><x-label>QR code</x-label></x-menuitem><hr><x-menuitem value=\"bx-parliamentchartgenerator\"><x-label>Parliament chart</x-label></x-menuitem><x-menuitem value=\"bx-triangulatedsurfacegenerator\"><x-label>Triangulated surface</x-label></x-menuitem><x-menuitem value=\"bx-jigsawpuzzlegenerator\"><x-label>Jigsaw puzzle</x-label></x-menuitem><hr><x-menuitem value=\"bx-rasterizegenerator\"><x-label>Rasterize</x-label></x-menuitem><x-menuitem value=\"bx-vectorizegenerator\"><x-label>Vectorize</x-label></x-menuitem><hr><x-menuitem value=\"bx-pixelategenerator\"><x-label>Pixelate</x-label></x-menuitem><x-menuitem value=\"bx-triangulategenerator\"><x-label>Triangulate</x-label></x-menuitem><x-menuitem value=\"bx-primitivizegenerator\"><x-label>Primitivize</x-label></x-menuitem><hr><x-menuitem value=\"bx-resizeviewgenerator\"><x-label>Resize view to fit objects</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"></main></template>"]);_templateObject514=function _templateObject514(){return data;};return data;}function _templateObject513(){var data=_taggedTemplateLiteral(["section section{display:flex;flex-flow:column}#shapes-type-buttons{width:100%}#shapes-type-buttons x-button{flex:1}#shapes-number-subsection{margin-top:8px}#shapes-number-subsection x-box{width:100%}#shapes-number-heading{margin-bottom:0}#shapes-number-slider{flex:1}#shapes-number-input{margin-left:10px;width:60px}#shapes-alpha-subsection x-box{width:100%}#shapes-alpha-heading{margin-bottom:0}#shapes-alpha-slider{flex:1}#shapes-alpha-input{margin-left:10px;width:60px}#auto-adjust-shapes-alpha-box{margin-top:2px}#auto-adjust-shapes-alpha-box x-label{font-size:12px}#working-size-subsection h5{margin-bottom:0}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#shapes-per-iteration-subsection h5{margin-bottom:0}#shapes-per-iteration-slider{flex:1}#shapes-per-iteration-input{margin-left:10px;width:60px}#max-mutations-subsection h5{margin-bottom:0}#max-mutations-slider{flex:1}#max-mutations-input{margin-left:10px;width:60px}#seed-subsection h5{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#overflow-subsection{margin-top:8px}#overflow-buttons{width:100%}#overflow-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject513=function _templateObject513(){return data;};return data;}function _templateObject512(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label id=\"generate-label\">Primitivize</x-label></x-button><x-progressbar id=\"progress-bar\" value=\"-1\"></x-progressbar></template>"]);_templateObject512=function _templateObject512(){return data;};return data;}function _templateObject511(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"shapes-section\"><h4 id=\"shapes-heading\">Shapes</h4><section id=\"shapes-type-subsection\"><h5 id=\"shapes-type-heading\">Type</h5><x-buttons id=\"shapes-type-buttons\" tracking=\"3\"><x-button value=\"triangles\" condensed><x-label>Triangles</x-label></x-button><x-button value=\"rectangles\" condensed><x-label>Rectangles</x-label></x-button></x-buttons></section><section id=\"shapes-number-subsection\"><h5 id=\"shapes-number-heading\">Number</h5><x-box id=\"shapes-number-box\"><x-slider id=\"shapes-number-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shapes-number-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-alpha-subsection\"><h5 id=\"shapes-alpha-heading\">Alpha</h5><x-box id=\"shapes-alpha-box\"><x-slider id=\"shapes-alpha-slider\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shapes-alpha-input\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"auto-adjust-shapes-alpha-box\"><x-checkbox id=\"auto-adjust-shapes-alpha-checkbox\"><x-label>Auto-adjust alpha</x-label></x-checkbox></x-box></section></section><hr><section id=\"algorithm-subsection\"><h4 id=\"algorithm-heading\">Algorithm</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"1000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shapes-per-iteration-subsection\"><h5 id=\"shapes-per-iteration-heading\">Shapes per iteration</h5><x-box id=\"shapes-per-iteration-box\"><x-slider id=\"shapes-per-iteration-slider\" min=\"1\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"shapes-per-iteration-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"max-mutations-subsection\"><h5 id=\"max-mutations-heading\">Max mutations</h5><x-box id=\"max-mutations-box\"><x-slider id=\"max-mutations-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"max-mutations-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h5 id=\"seed-heading\">Seed</h5><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><section id=\"render-as-subsection\"><h5 id=\"render-as-heading\">Render as</h5><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section><section id=\"overflow-subsection\"><h5 id=\"overflow-heading\">Overflow</h5><x-buttons id=\"overflow-buttons\" tracking=\"1\"><x-button value=\"cut\" condensed><x-label>Cut</x-label></x-button><x-button value=\"visible\" condensed><x-label>Visible</x-label></x-button></x-buttons></section></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\"></svg></section></template>"]);_templateObject511=function _templateObject511(){return data;};return data;}function _templateObject510(){var data=_taggedTemplateLiteral(["#cell-size-subsection{display:flex;flex-flow:column}#cell-size-subsection h4{margin-bottom:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#render-as-subsection{margin-top:10px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject510=function _templateObject510(){return data;};return data;}function _templateObject509(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Triangulate</x-label></x-button></template>"]);_templateObject509=function _templateObject509(){return data;};return data;}function _templateObject508(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" min=\"2\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"polygons\" condensed><x-label>Polygons</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject508=function _templateObject508(){return data;};return data;}function _templateObject507(){var data=_taggedTemplateLiteral(["#grid-subsection{margin-top:14px}#grid-subsection h4{margin-top:0}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#pixel-size-subsection{margin-top:14px}#pixel-size-heading{margin:0}#pixel-size-slider{flex:1}#pixel-size-input{margin-left:10px;width:60px}#pixel-shape-subsection{margin-top:10px}#pixel-shape-buttons{width:100%}#pixel-shape-buttons x-button{flex:1}#render-as-subsection{margin-top:14px}#render-as-buttons{width:100%}#render-as-buttons x-button{flex:1}#preview{height:160px}"]);_templateObject507=function _templateObject507(){return data;};return data;}function _templateObject506(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Pixelate</x-label></x-button></template>"]);_templateObject506=function _templateObject506(){return data;};return data;}function _templateObject505(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"pixel-size-subsection\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"pixel-shape-subsection\" vertical><h4 id=\"pixel-shape-heading\">Pixel shape</h4><x-buttons id=\"pixel-shape-buttons\" tracking=\"1\"><x-button value=\"rectangle\" condensed><x-label>Rectangle</x-label></x-button><x-button value=\"ellipse\" condensed><x-label>Ellipse</x-label></x-button></x-buttons></section><section id=\"render-as-subsection\"><h4 id=\"render-as-heading\">Render as</h4><x-buttons id=\"render-as-buttons\" tracking=\"1\"><x-button value=\"paths\" condensed><x-label>Paths</x-label></x-button><x-button value=\"shapes\" condensed><x-label>Shapes</x-label></x-button></x-buttons></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject505=function _templateObject505(){return data;};return data;}function _templateObject504(){var data=_taggedTemplateLiteral(["#preset-select{width:100%}#working-size-subsection{display:flex;flex-flow:column}#working-size-subsection h5{margin-bottom:0}#working-size-box{width:100%}#working-size-slider{flex:1}#working-size-input{margin-left:10px;width:60px}#blur-subsection{display:flex;margin-top:4px}#blur-radius-box{flex:1;margin-right:4px}#blur-radius-input{width:100%}#blur-delta-box{flex:1;margin-left:4px}#blur-delta-input{width:100%}#number-of-colors-box{flex:1}#number-of-colors-input{width:100%}#min-color-ratio-box{flex:1;margin:0 8px}#min-color-ratio-input{width:100%}#color-quant-cycles-box{flex:1}#color-quant-cycles-input{width:100%}#color-sampling-box{margin-top:8px}#color-sampling-buttons{width:100%}#color-sampling-buttons x-button{flex:1}#ltres-box{flex:1}#ltres-input{width:100%}#qtres-box{flex:1;margin:0 8px}#qtres-input{width:100%}#path-omit-box{flex:1}#path-omit-input{width:100%}#right-angle-enhance-checkbox{margin-top:6px}#right-angle-enhance-checkbox x-label{font-size:12px}#stroke-width-box x-box{width:100%}#stroke-width-heading{margin-bottom:0}#stroke-width-slider{flex:1}#stroke-width-input{margin-left:10px;width:60px}#line-filter-checkbox{margin-top:6px}#line-filter-checkbox x-label{font-size:12px}#ignore-white-checkbox{margin-top:6px}#ignore-white-checkbox x-label{font-size:12px}#preview{height:160px}#preview-label{text-align:center;font-weight:600;font-size:12px;opacity:.7}"]);_templateObject504=function _templateObject504(){return data;};return data;}function _templateObject503(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Vectorize</x-label></x-button></template>"]);_templateObject503=function _templateObject503(){return data;};return data;}function _templateObject502(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"preset-subsection\"><h4 id=\"preset-heading\">Preset</h4><x-select id=\"preset-select\"><x-menu><x-menuitem value=\"default\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"blackAndWhite\"><x-label>Black and white</x-label></x-menuitem><x-menuitem value=\"grayscale\"><x-label>Grayscale</x-label></x-menuitem><x-menuitem value=\"posterized\"><x-label>Posterized</x-label></x-menuitem><x-menuitem value=\"curvy\"><x-label>Curvy</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"detailed\"><x-label>Detailed</x-label></x-menuitem><x-menuitem value=\"smoothed\"><x-label>Smoothed</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"preprocessing-subsection\"><h4 id=\"preprocessing-heading\">Preprocessing</h4><section id=\"working-size-subsection\"><h5 id=\"working-size-heading\">Working size</h5><x-box id=\"working-size-box\"><x-slider id=\"working-size-slider\" min=\"10\" max=\"1000\" step=\"1\"></x-slider><x-numberinput id=\"working-size-input\" min=\"10\" max=\"2000\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-subsection\"><x-box id=\"blur-radius-box\" vertical><h5 id=\"blur-radius-heading\">Blur radius</h5><x-numberinput id=\"blur-radius-input\" min=\"0\" step=\"1\" title=\"Blur radius\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"blur-delta-box\" vertical><h5 id=\"blur-delta-heading\">Blur delta</h5><x-numberinput id=\"blur-delta-input\" min=\"0\" step=\"1\" condensed title=\"RGBA delta treshold for selective Gaussian blur preprocessing\"><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"color-subsection\"><h4 id=\"color-heading\">Color quantization</h4><x-box><x-box id=\"number-of-colors-box\" vertical><h5 id=\"number-of-colors-heading\">Colors</h5><x-numberinput id=\"number-of-colors-input\" min=\"1\" step=\"1\" title=\"Number of colors to use\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"min-color-ratio-box\" vertical><h5 id=\"min-color-ratio-heading\">Min ratio</h5><x-numberinput id=\"min-color-ratio-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will randomize a color if fewer pixels than TOTAL PIXELS * MIN RATIO has it\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"color-quant-cycles-box\" vertical><h5 id=\"color-quant-cycles-heading\">Cycles</h5><x-numberinput id=\"color-quant-cycles-input\" min=\"0\" step=\"1\" condensed title=\"Color quantization will be repeated this many times\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"color-sampling-box\" vertical><h5 id=\"color-sampling-heading\">Sampling</h5><x-buttons id=\"color-sampling-buttons\" tracking=\"1\"><x-button value=\"2\" condensed><x-label>Deterministic</x-label></x-button><x-button value=\"1\" condensed><x-label>Random</x-label></x-button><x-button value=\"0\" condensed><x-label>None</x-label></x-button></x-buttons></x-box></section><hr><section id=\"tracing-subsection\"><h4 id=\"tracing-heading\">Tracing</h4><x-box><x-box id=\"ltres-box\" vertical><h5 id=\"ltres-heading\">L treshold</h5><x-numberinput id=\"ltres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for straight lines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"qtres-box\" vertical><h5 id=\"qtres-heading\">Q treshold</h5><x-numberinput id=\"qtres-input\" min=\"0\" max=\"10\" step=\"1\" condensed title=\"Error treshold for quadratic splines\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"path-omit-box\" vertical><h5 id=\"path-omit-heading\">Path omit</h5><x-numberinput id=\"path-omit-input\" min=\"0\" step=\"1\" condensed title=\"Edge node paths shorter than this will be discarded for noise reduction\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"right-angle-enhance-checkbox\"><x-label id=\"right-angle-enhance-label\">Enhance right angle corners</x-label></x-checkbox></section><hr><section id=\"rendering-subsection\"><h4 id=\"rendering-heading\">SVG rendering</h4><x-box id=\"stroke-width-box\" vertical><h5 id=\"stroke-width-heading\">Stroke width</h5><x-box><x-slider id=\"stroke-width-slider\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"stroke-width-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"line-filter-checkbox\"><x-label>Enable line filter for noise reduction</x-label></x-checkbox><x-checkbox id=\"ignore-white-checkbox\"><x-label>Ignore white</x-label></x-checkbox></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\" hidden></svg><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject502=function _templateObject502(){return data;};return data;}function _templateObject501(){var data=_taggedTemplateLiteral(["#view-select{width:100%}#area-subsection{margin-top:14px}#area-buttons{width:100%}#area-buttons x-button{flex:1}#padding-subsection{margin-top:14px}#padding-heading{margin:0}#padding-input{width:240px;margin:0 auto}#origin-subsection{margin-top:14px}#origin-heading{margin:0;flex:1}#origin-switch{margin:0}#origin-box{display:flex;margin-top:14px}#origin-x-box{flex:1;margin-right:6px}#origin-y-box{flex:1;margin-left:6px}#origin-x-input,#origin-y-input{width:100%;margin-top:4px}#origin-x-label,#origin-y-label{font-size:12px}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%;background-image:none}#preview-table{width:100%;margin-top:14px;font-size:12px}#preview-table td:first-child{text-align:end;font-weight:700}#preview-table td:last-child{width:50%}"]);_templateObject501=function _templateObject501(){return data;};return data;}function _templateObject500(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Resize</x-label></x-button></template>"]);_templateObject500=function _templateObject500(){return data;};return data;}function _templateObject499(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"view-subsection\"><h4 id=\"view-heading\">View</h4><x-select id=\"view-select\"><x-menu id=\"view-menu\"></x-menu></x-select></section><section id=\"area-subsection\"><h4 id=\"area-heading\">Objects</h4><x-buttons id=\"area-buttons\" tracking=\"1\"><x-button id=\"all-area-button\" value=\"all\" toggled><x-label>All</x-label></x-button><x-button id=\"selected-area-button\" value=\"selected\"><x-label>Selected</x-label></x-button></x-buttons></section><section id=\"padding-subsection\"><h4 id=\"padding-heading\">Padding</h4><bx-edgeinput id=\"padding-input\"></bx-edgeinput></section><section id=\"origin-subsection\"><x-box id=\"origin-heading-box\"><h4 id=\"origin-heading\">Origin</h4><x-switch id=\"origin-switch\" size=\"smaller\"></x-switch></x-box><x-box id=\"origin-box\"><x-box id=\"origin-x-box\" vertical><x-label id=\"origin-x-label\">X</x-label><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><x-label id=\"origin-y-label\">Y</x-label><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper><x-label>Auto</x-label></x-numberinput></x-box></x-box></section></section><hr id=\"preview-section-hr\"><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><image id=\"preview\" part=\"preview\"></image><table id=\"preview-table\"><tr><td>X:</td><td id=\"preview-x-td\">0</td></tr><tr><td>Y:</td><td id=\"preview-y-td\">0</td></tr><tr><td>Width:</td><td id=\"preview-width-td\">100</td></tr><tr><td>Height:</td><td id=\"preview-height-td\">100</td></tr></table></section></template>"]);_templateObject499=function _templateObject499(){return data;};return data;}function _templateObject498(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box}:host([hidden]){display:none}#main{display:flex;flex-flow:column;align-items:center;justify-content:center;margin-top:2px}x-box{width:100%;margin:10px 0;justify-content:space-between}x-button{width:72px}x-numberinput{width:72px}"]);_templateObject498=function _templateObject498(){return data;};return data;}function _templateObject497(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><x-numberinput id=\"top-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-box><x-numberinput id=\"left-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput><x-button id=\"uniform-button\" condensed togglable><x-label>Uniform</x-label></x-button><x-numberinput id=\"right-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-numberinput id=\"bottom-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></main></template>"]);_templateObject497=function _templateObject497(){return data;};return data;}function _templateObject496(){var data=_taggedTemplateLiteral(["#format-buttons{width:100%}#format-buttons x-button{flex:1}#ppu-subsection{margin-top:14px}#ppu-subsection x-box{width:100%}#ppu-heading{margin-bottom:0}#ppu-slider{flex:1}#ppu-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-mode-buttons{width:100%}#colors-mode-buttons x-button{flex:1}#colors-box{margin-top:6px}#colors-box[hidden]{display:none}#colors-slider{flex:1}#colors-input{margin-left:10px;width:60px}#compression-subsection{margin-top:10px}#compression-subsection x-box{width:100%}#compression-heading{margin-bottom:0}#compression-slider{flex:1}#compression-input{margin-left:10px;width:60px}#background-subsection{margin-top:10px}#background-select x-popover{--align:right}#preview{display:block;margin:0 auto;width:auto;height:auto;max-height:140px;max-width:100%}#preview-label{margin-top:7px;text-align:center;font-weight:500;font-size:12px;opacity:.7}"]);_templateObject496=function _templateObject496(){return data;};return data;}function _templateObject495(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Rasterize</x-label></x-button></template>"]);_templateObject495=function _templateObject495(){return data;};return data;}function _templateObject494(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4 id=\"format-heading\">Format</h4><x-buttons id=\"format-buttons\" tracking=\"1\"><x-button id=\"png-format-button\" value=\"png\" toggled><x-label>PNG</x-label></x-button><x-button id=\"jpeg-format-button\" value=\"jpeg\"><x-label>JPEG</x-label></x-button></x-buttons></section><section id=\"ppu-subsection\"><h4 id=\"ppu-heading\">Pixels per unit</h4><x-box id=\"ppu-box\"><x-slider id=\"ppu-slider\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\"></x-slider><x-numberinput id=\"ppu-input\" value=\"1\" min=\"0.1\" max=\"5\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-buttons id=\"colors-mode-buttons\" tracking=\"1\"><x-button id=\"colors-rgb-button\" value=\"rgb\" toggled><x-label>RGB</x-label></x-button><x-button id=\"colors-palette-button\" value=\"palette\"><x-label>Palette</x-label></x-button></x-buttons><x-box id=\"colors-box\" hidden><x-slider id=\"colors-slider\" value=\"256\" min=\"3\" max=\"256\" step=\"1\"></x-slider><x-numberinput id=\"colors-input\" value=\"256\" min=\"3\" max=\"256\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"compression-subsection\"><h4 id=\"compression-heading\">Compression</h4><x-box><x-slider id=\"compression-slider\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"compression-input\" value=\"1\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"background-subsection\"><h4 id=\"background-heading\">Background</h4><x-colorselect id=\"background-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"background-popover\" modal><bx-colorpicker id=\"background-picker\"></bx-colorpicker></x-popover></x-colorselect></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><x-button id=\"preview-button\"><x-label>Generate</x-label></x-button><image id=\"preview\" part=\"preview\" hidden></image><x-label id=\"preview-label\" hidden></x-label></section></template>"]);_templateObject494=function _templateObject494(){return data;};return data;}function _templateObject493(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#grid-subsection{margin-top:14px}#columns-box{flex:1;margin-right:4px}#columns-input{width:100%}#rows-box{flex:1;margin-left:4px}#rows-input{width:100%}#tab-size-subsection{margin-top:14px}#tab-size-subsection h4{margin:0}#tab-size-slider{flex:1}#tab-size-input{width:60px;margin-left:10px}#jitter-subsection{margin-top:10px}#jitter-subsection h4{margin:0}#jitter-slider{flex:1}#jitter-input{width:60px;margin-left:10px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#preview{height:160px}"]);_templateObject493=function _templateObject493(){return data;};return data;}function _templateObject492(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject492=function _templateObject492(){return data;};return data;}function _templateObject491(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"500\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"grid-subsection\"><x-box><x-box id=\"columns-box\" vertical><h4 id=\"columns-heading\">Columns</h4><x-numberinput id=\"columns-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"rows-box\" vertical><h4 id=\"rows-heading\">Rows</h4><x-numberinput id=\"rows-input\" value=\"1\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"tab-size-subsection\"><h4 id=\"tab-size-heading\">Tab size</h4><x-box id=\"tab-size-box\"><x-slider id=\"tab-size-slider\" value=\"10\" min=\"10\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"tab-size-input\" value=\"10\" min=\"10\" max=\"30\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"jitter-subsection\"><h4 id=\"jitter-heading\">Jitter</h4><x-box id=\"jitter-box\"><x-slider id=\"jitter-slider\" value=\"0\" min=\"0\" max=\"15\" step=\"1\"></x-slider><x-numberinput id=\"jitter-input\" value=\"0\" min=\"0\" max=\"15\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject491=function _templateObject491(){return data;};return data;}function _templateObject490(){var data=_taggedTemplateLiteral(["#size-subsection{display:flex}#size-subsection x-numberinput{width:100%}#size-subsection #height-box,#size-subsection #width-box{flex:1}#size-subsection #height-heading,#size-subsection #width-heading{margin-top:0}#size-subsection #aspect-ratio-button{align-self:flex-end;margin:0}#size-subsection #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px;color:#8c8c8c}#cell-size-subsection{margin-top:14px}#cell-size-subsection h4{margin:0}#cell-size-slider{flex:1}#cell-size-input{margin-left:10px;width:60px}#variance-subsection{margin-top:10px}#variance-subsection h4{margin:0}#variance-slider{flex:1}#variance-input{margin-left:10px;width:60px}#seed-subsection{margin-top:10px}#seed-subsection h4{margin:0}#seed-slider{flex:1}#seed-input{margin-left:10px;width:60px}#colors-subsection{margin-top:10px}#colors-subsection h4{margin:0}#colors-box{margin-top:7px}#colors-subsection x-colorselect{flex:1;margin:0 3px}#colors-subsection x-colorselect:first-child{margin-left:0}#colors-subsection x-colorselect:last-child{margin-right:0}#colors-subsection x-popover{--align:left}#random-colors-button{width:100%;margin-top:7px}#preview{height:160px;shape-rendering:crispEdges}"]);_templateObject490=function _templateObject490(){return data;};return data;}function _templateObject489(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject489=function _templateObject489(){return data;};return data;}function _templateObject488(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"size-subsection\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"600\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-on\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"400\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cell-size-subsection\"><h4 id=\"cell-size-heading\">Cell size</h4><x-box id=\"cell-size-box\"><x-slider id=\"cell-size-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"cell-size-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"variance-subsection\"><h4 id=\"variance-heading\">Variance</h4><x-box id=\"variance-box\"><x-slider id=\"variance-slider\" value=\"10\" min=\"2\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"variance-input\" value=\"10\" min=\"2\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-subsection\"><h4 id=\"seed-heading\">Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"100\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"100\" min=\"0\" max=\"200\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"colors-subsection\"><h4 id=\"colors-heading\">Colors</h4><x-box id=\"colors-box\"><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-colorselect value=\"rgba(255, 255, 255, 1)\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect></x-box><x-button id=\"random-colors-button\" condensed><x-label>Generate random colors</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject488=function _templateObject488(){return data;};return data;}function _templateObject487(){var data=_taggedTemplateLiteral(["#hall-radius-subsection h4{margin:0}#hall-radius-slider{flex:1}#hall-radius-input{width:60px;margin-left:10px}#seat-radius-subsection{margin-top:10px}#seat-radius-subsection h4{margin:0}#seat-radius-slider{flex:1}#seat-radius-input{width:60px;margin-left:10px}#parties-subsection{margin-top:10px}#parties-box .party-box{width:100%}#parties-box .party-box+.party-box{margin-top:8px}#parties-box x-popover{--align:left}#parties-box x-numberinput{flex:1;margin:0 8px}#parties-box x-icon{width:12px;height:12px}#add-party-button{width:100%;margin-top:8px}#add-party-button x-icon{width:11px;height:11px}#preview{height:160px}"]);_templateObject487=function _templateObject487(){return data;};return data;}function _templateObject486(){var data=_taggedTemplateLiteral(["<template><x-box class=\"party-box\"><x-colorselect value=\"#4b4ba7\"><x-popover modal><bx-colorpicker></bx-colorpicker></x-popover></x-colorselect><x-numberinput value=\"10\" min=\"1\" suffix=\" seat(s)\" condensed><x-stepper></x-stepper></x-numberinput><x-button class=\"delete-button\" condensed><x-icon name=\"trash\"></x-icon></x-button></x-box></template>"]);_templateObject486=function _templateObject486(){return data;};return data;}function _templateObject485(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject485=function _templateObject485(){return data;};return data;}function _templateObject484(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"hall-radius-subsection\"><h4 id=\"hall-radius-heading\">Hall radius</h4><x-box id=\"hall-radius-box\"><x-slider id=\"hall-radius-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hall-radius-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seat-radius-subsection\"><h4 id=\"seat-radius-heading\">Seat radius</h4><x-box id=\"seat-radius-box\"><x-slider id=\"seat-radius-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seat-radius-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"parties-subsection\"><h4>Parties</h4><x-box id=\"parties-box\" vertical></x-box><x-button id=\"add-party-button\"><x-icon name=\"plus\"></x-icon><x-label>Add</x-label></x-button></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject484=function _templateObject484(){return data;};return data;}function _templateObject483(){var data=_taggedTemplateLiteral(["#mode-select{width:100%}#charset-subsection{margin-top:14px}#charset-select{width:100%}#error-correction-subsection{margin-top:14px}#error-correction-buttons{width:100%}#error-correction-buttons x-button{flex:1}#value-subsection{margin-top:14px}#value-input{max-width:none}"]);_templateObject483=function _templateObject483(){return data;};return data;}function _templateObject482(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject482=function _templateObject482(){return data;};return data;}function _templateObject481(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"mode-subsection\"><h4>Mode</h4><x-select id=\"mode-select\"><x-menu><x-menuitem value=\"Byte\"><x-label>Byte</x-label></x-menuitem><x-menuitem value=\"Alphanumeric\"><x-label>Alphanumeric</x-label></x-menuitem><x-menuitem value=\"Numeric\"><x-label>Numeric</x-label></x-menuitem><x-menuitem value=\"Kanji\"><x-label>Kanji</x-label></x-menuitem></x-menu></x-select></section><section id=\"charset-subsection\"><h4>Charset</h4><x-select id=\"charset-select\"><x-menu><x-menuitem value=\"default\"><x-label>ISO 8859-1</x-label></x-menuitem><x-menuitem value=\"UTF-8\"><x-label>UTF-8</x-label></x-menuitem><x-menuitem value=\"SJIS\"><x-label>SJIS</x-label></x-menuitem></x-menu></x-select></section><section id=\"error-correction-subsection\"><h4>Error correction</h4><x-buttons id=\"error-correction-buttons\" tracking=\"1\"><x-button value=\"L\"><x-label>7%</x-label></x-button><x-button value=\"M\"><x-label>15%</x-label></x-button><x-button value=\"Q\"><x-label>25%</x-label></x-button><x-button value=\"H\"><x-label>30%</x-label></x-button></x-buttons></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" validation=\"instant\"></x-input></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject481=function _templateObject481(){return data;};return data;}function _templateObject480(){var data=_taggedTemplateLiteral(["#format-select{width:100%}#value-subsection{margin-top:14px}#value-input{max-width:none}#display-value-box{margin-top:8px}#label-subsection{margin-top:14px}#label-header{display:flex;align-items:center}#label-heading{margin:0;flex:1}#label-position-box{margin-top:8px}#label-position-label{font-size:11px;font-weight:500;margin:0 0 4px 0}#label-position-buttons{width:100%}#label-position-buttons x-button{flex:1}"]);_templateObject480=function _templateObject480(){return data;};return data;}function _templateObject479(){var data=_taggedTemplateLiteral(["<template><x-button id=\"generate-button\" size=\"larger\"><x-icon name=\"generators-panel\"></x-icon><x-label>Generate</x-label></x-button></template>"]);_templateObject479=function _templateObject479(){return data;};return data;}function _templateObject478(){var data=_taggedTemplateLiteral(["<template><section id=\"options-section\"><h3 id=\"options-heading\">Options</h3><section id=\"format-subsection\"><h4>Format</h4><x-select id=\"format-select\"><x-menu><x-menuitem value=\"CODE128\" toggled><x-label>CODE 128</x-label></x-menuitem><x-menuitem value=\"CODE39\"><x-label>CODE 39</x-label></x-menuitem><hr><x-menuitem value=\"EAN2\"><x-label>EAN-2</x-label></x-menuitem><x-menuitem value=\"EAN5\"><x-label>EAN-5</x-label></x-menuitem><x-menuitem value=\"EAN8\"><x-label>EAN-8</x-label></x-menuitem><x-menuitem value=\"EAN13\"><x-label>EAN-13</x-label></x-menuitem><x-menuitem value=\"UPC\"><x-label>UPC</x-label></x-menuitem><hr><x-menuitem value=\"MSI\"><x-label>MSI</x-label></x-menuitem><x-menuitem value=\"MSI10\"><x-label>MSI10</x-label></x-menuitem><x-menuitem value=\"MSI11\"><x-label>MSI11</x-label></x-menuitem><x-menuitem value=\"MSI1010\"><x-label>MSI1010</x-label></x-menuitem><x-menuitem value=\"MSI1110\"><x-label>MSI1110</x-label></x-menuitem><hr><x-menuitem value=\"codabar\"><x-label>Codabar</x-label></x-menuitem><x-menuitem value=\"pharmacode\"><x-label>Pharmacode</x-label></x-menuitem><x-menuitem value=\"ITF14\"><x-label>ITF14</x-label></x-menuitem></x-menu></x-select></section><section id=\"value-subsection\"><h4>Value</h4><x-input id=\"value-input\" value=\"9999\" validation=\"instant\"></x-input></section><section id=\"label-subsection\"><header id=\"label-header\"><h4 id=\"label-heading\">Label</h4><x-switch id=\"label-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"label-position-box\" vertical><x-label id=\"label-position-label\">Position</x-label><x-buttons id=\"label-position-buttons\" tracking=\"1\"><x-button id=\"label-position-left-button\" value=\"left\" condensed><x-label>Left</x-label></x-button><x-button id=\"label-position-center-button\" value=\"center\" condensed toggled><x-label>Center</x-label></x-button><x-button id=\"label-position-right-button\" value=\"right\" condensed><x-label>Right</x-label></x-button><x-button id=\"label-position-inset-button\" value=\"inset\" condensed><x-label>Inset</x-label></x-button></x-buttons></x-box></section></section><hr><section id=\"preview-section\"><h3 id=\"preview-heading\">Preview</h3><svg id=\"preview\" part=\"preview\" preserveAspectRatio=\"xMidYMid\"></svg></section></template>"]);_templateObject478=function _templateObject478(){return data;};return data;}function _templateObject477(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%}:host(:focus){outline:0}:host([hidden]){display:none}h3:first-child{margin-top:0}section>hr{margin:14px 0}#main{flex:1;box-sizing:border-box;width:100%;overflow:auto}#options-section{padding:16px 20px}#preview-section{padding:16px 20px}#preview{width:100%;height:100px;user-select:none;border-width:1px;border-style:solid}#preview[hidden]{display:none}#footer{display:flex;z-index:0;min-height:fit-content;justify-content:flex-end;padding:15px 20px 15px 20px;border-top-width:1px;border-top-style:solid}#footer:empty{display:none}#footer x-button{width:100%}#footer x-progressbar{position:absolute;bottom:0;left:0;width:100%;border-radius:0;box-shadow:none;background:0 0;height:4px}"]);_templateObject477=function _templateObject477(){return data;};return data;}function _templateObject476(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"></main><footer id=\"footer\" part=\"footer\"></footer></template>"]);_templateObject476=function _templateObject476(){return data;};return data;}function _templateObject475(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#main{display:flex;width:100%;height:100%;min-height:100px;flex:1}#main>*{flex:1}"]);_templateObject475=function _templateObject475(){return data;};return data;}function _templateObject474(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Library</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button skin=\"flat\" value=\"colors-library-browser\"><x-icon name=\"library-colors\"></x-icon></x-button><x-button skin=\"flat\" value=\"gradients-library-browser\"><x-icon name=\"library-gradients\"></x-icon></x-button><x-button skin=\"flat\" value=\"fonts-library-browser\"><x-icon name=\"library-fonts\"></x-icon></x-button><x-button skin=\"flat\" value=\"bitmaps-library-browser\"><x-icon name=\"library-bitmaps\"></x-icon></x-button><x-button skin=\"flat\" value=\"vectors-library-browser\"><x-icon name=\"library-vectors\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorslibrarybrowser id=\"colors-library-browser\"></bx-colorslibrarybrowser><bx-gradientslibrarybrowser id=\"gradients-library-browser\"></bx-gradientslibrarybrowser><bx-fontslibrarybrowser id=\"fonts-library-browser\"></bx-fontslibrarybrowser><bx-bitmapslibrarybrowser id=\"bitmaps-library-browser\"></bx-bitmapslibrarybrowser><bx-vectorslibrarybrowser id=\"vectors-library-browser\"></bx-vectorslibrarybrowser></main></template>"]);_templateObject474=function _templateObject474(){return data;};return data;}function _templateObject473(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);position:relative;touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:230px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-license-label,#meta-name-label,#meta-user-label{font-size:13px;font-weight:700}#meta-license-value,#meta-name-value,#meta-user-value{font-size:13px;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject473=function _templateObject473(){return data;};return data;}function _templateObject472(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Vectors</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"cloud\" id=\"cloud-provider-select-item\"><x-icon name=\"cloud\"></x-icon><x-label>Cloud</x-label></x-menuitem><hr id=\"cloud-provider-select-separator\"><x-menuitem value=\"pixabay\" toggled><x-icon name=\"pixabay\"></x-icon><x-label>Pixabay</x-label></x-menuitem><x-menuitem value=\"wikimedia\"><x-icon name=\"wikimedia\"></x-icon><x-label>Wikimedia</x-label></x-menuitem><hr><x-menuitem value=\"fluent-icons\"><x-icon name=\"fluent-design\"></x-icon><x-label>Fluent Icons</x-label></x-menuitem><x-menuitem value=\"material-icons\"><x-icon name=\"material-design\"></x-icon><x-label>Material Icons</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-name\"><span id=\"meta-name-label\">Name</span>: <span id=\"meta-name-value\"></span></div><div id=\"meta-user\"><span id=\"meta-user-label\"></span>: <span id=\"meta-user-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject472=function _templateObject472(){return data;};return data;}function _templateObject471(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}#category-select{width:100%}"]);_templateObject471=function _templateObject471(){return data;};return data;}function _templateObject470(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem><x-menuitem value=\"outlined\"><x-label>Outlined</x-label></x-menuitem><x-menuitem value=\"round\"><x-label>Rounded</x-label></x-menuitem><x-menuitem value=\"sharp\"><x-label>Sharp</x-label></x-menuitem><x-menuitem value=\"two-tone\"><x-label>Two Tone</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"action\"><x-label>Action</x-label></x-menuitem><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"av\"><x-label>Audio & Video</x-label></x-menuitem><x-menuitem value=\"communication\"><x-label>Communication</x-label></x-menuitem><x-menuitem value=\"content\"><x-label>Content</x-label></x-menuitem><x-menuitem value=\"device\"><x-label>Device</x-label></x-menuitem><x-menuitem value=\"editor\"><x-label>Editor</x-label></x-menuitem><x-menuitem value=\"file\"><x-label>File</x-label></x-menuitem><x-menuitem value=\"hardware\"><x-label>Hardware</x-label></x-menuitem><x-menuitem value=\"home\"><x-label>Home</x-label></x-menuitem><x-menuitem value=\"image\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"maps\"><x-label>Maps</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"notification\"><x-label>Notification</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"social\"><x-label>Social</x-label></x-menuitem><x-menuitem value=\"toggle\"><x-label>Toggle</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject470=function _templateObject470(){return data;};return data;}function _templateObject469(){var data=_taggedTemplateLiteral(["#variant-select{width:100%}"]);_templateObject469=function _templateObject469(){return data;};return data;}function _templateObject468(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"variant-section\"><h4>Variant</h4><x-select id=\"variant-select\"><x-menu><x-menuitem value=\"all\"><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"regular\"><x-label>Regular</x-label></x-menuitem><x-menuitem value=\"filled\"><x-label>Filled</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject468=function _templateObject468(){return data;};return data;}function _templateObject467(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject467=function _templateObject467(){return data;};return data;}function _templateObject466(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}#orientation-select{width:100%}#category-select{width:100%}"]);_templateObject466=function _templateObject466(){return data;};return data;}function _templateObject465(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select></section><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject465=function _templateObject465(){return data;};return data;}function _templateObject464(){var data=_taggedTemplateLiteral([":host{width:235px}#scope-buttons{width:100%}#scope-buttons>x-button{flex:1}"]);_templateObject464=function _templateObject464(){return data;};return data;}function _templateObject463(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"scope-section\"><h4>Scope</h4><x-buttons id=\"scope-buttons\" tracking=\"1\"><x-button value=\"personal\" toggled><x-label>Personal</x-label></x-button><x-button value=\"org\"><x-label>Organization</x-label></x-button></x-buttons></section></main></template>"]);_templateObject463=function _templateObject463(){return data;};return data;}function _templateObject462(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;display:grid;grid-column-gap:14px;grid-row-gap:14px;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:110px;height:90px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:nth-child(2n){margin-right:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#items .item img{display:block;touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:220px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-license{margin-top:2px}#meta-license-label,#meta-user-label{font-weight:700;font-size:13px}#meta-license-value,#meta-user-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject462=function _templateObject462(){return data;};return data;}function _templateObject461(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Bitmaps</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"pexels\"><x-icon name=\"pexels\"></x-icon><x-label>Pexels</x-label></x-menuitem><x-menuitem value=\"pixabay\" toggled><x-icon name=\"pixabay\"></x-icon><x-label>Pixabay</x-label></x-menuitem><x-menuitem value=\"unsplash\" id=\"unsplash-menu-item\"><x-icon name=\"unsplash\"></x-icon><x-label>Unsplash</x-label></x-menuitem><x-menuitem value=\"wikimedia\"><x-icon name=\"wikimedia\"></x-icon><x-label>Wikimedia</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-user\"><span id=\"meta-user-label\"></span>: <span id=\"meta-user-value\"></span></div><div id=\"meta-license\"><span id=\"meta-license-label\">License: </span><span id=\"meta-license-value\"><a id=\"meta-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject461=function _templateObject461(){return data;};return data;}function _templateObject460(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject460=function _templateObject460(){return data;};return data;}function _templateObject459(){var data=_taggedTemplateLiteral(["#quality-select{width:100%}#orientation-select{width:100%}"]);_templateObject459=function _templateObject459(){return data;};return data;}function _templateObject458(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"960\"><x-label>960px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject458=function _templateObject458(){return data;};return data;}function _templateObject457(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}#quality-select{width:100%}#orientation-select{width:100%}#category-select{width:100%}"]);_templateObject457=function _templateObject457(){return data;};return data;}function _templateObject456(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\" toggled><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr><x-menuitem value=\"animals\"><x-label>Animals</x-label></x-menuitem><x-menuitem value=\"backgrounds\"><x-label>Backgrounds</x-label></x-menuitem><x-menuitem value=\"buildings\"><x-label>Buildings</x-label></x-menuitem><x-menuitem value=\"business\"><x-label>Business</x-label></x-menuitem><x-menuitem value=\"computer\"><x-label>Computer</x-label></x-menuitem><x-menuitem value=\"education\"><x-label>Education</x-label></x-menuitem><x-menuitem value=\"fashion\"><x-label>Fashion</x-label></x-menuitem><x-menuitem value=\"feelings\"><x-label>Feelings</x-label></x-menuitem><x-menuitem value=\"food\"><x-label>Food</x-label></x-menuitem><x-menuitem value=\"health\"><x-label>Health</x-label></x-menuitem><x-menuitem value=\"industry\"><x-label>Industry</x-label></x-menuitem><x-menuitem value=\"music\"><x-label>Music</x-label></x-menuitem><x-menuitem value=\"nature\"><x-label>Nature</x-label></x-menuitem><x-menuitem value=\"people\"><x-label>People</x-label></x-menuitem><x-menuitem value=\"science\"><x-label>Science</x-label></x-menuitem><x-menuitem value=\"religion\"><x-label>Religion</x-label></x-menuitem><x-menuitem value=\"places\"><x-label>Places</x-label></x-menuitem><x-menuitem value=\"sports\"><x-label>Sports</x-label></x-menuitem><x-menuitem value=\"transportation\"><x-label>Transportation</x-label></x-menuitem><x-menuitem value=\"travel\"><x-label>Travel</x-label></x-menuitem></x-menu></x-select></section><section id=\"editors-choice-section\"><x-checkbox id=\"editors-choice-checkbox\"><x-label>Editor's Choice</x-label></x-checkbox></section></main></template>"]);_templateObject456=function _templateObject456(){return data;};return data;}function _templateObject455(){var data=_taggedTemplateLiteral(["#quality-select{width:100%}#orientation-select{width:100%}"]);_templateObject455=function _templateObject455(){return data;};return data;}function _templateObject454(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"quality-section\"><h4>Quality</h4><x-select id=\"quality-select\"><x-menu><x-menuitem value=\"180\"><x-label>180px</x-label></x-menuitem><x-menuitem value=\"340\"><x-label>340px</x-label></x-menuitem><x-menuitem value=\"640\" toggled><x-label>640px</x-label></x-menuitem><x-menuitem value=\"960\"><x-label>960px</x-label></x-menuitem><x-menuitem value=\"1280\"><x-label>1280px</x-label></x-menuitem><x-menuitem value=\"1920\"><x-label>1920px</x-label></x-menuitem></x-menu></x-select></section><section id=\"orientation-section\"><h4>Orientation</h4><x-select id=\"orientation-select\"><x-menu><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><x-menuitem value=\"horizontal\"><x-label>Horizontal</x-label></x-menuitem><x-menuitem value=\"vertical\"><x-label>Vertical</x-label></x-menuitem></x-menu></x-select></section></main></template>"]);_templateObject454=function _templateObject454(){return data;};return data;}function _templateObject453(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;height:100%;flex:1;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;outline:0;contain:strict}#items>.item{position:relative;display:flex;align-items:center;box-sizing:border-box;padding:3px 20px;opacity:.75;overflow:hidden;background:0 0;touch-action:pan-y}#items>.item[data-selected]{background:var(--accent-color);opacity:1}#items>.item[hidden]{display:none}#items>.item img{touch-action:none;pointer-events:none;user-drag:none;-webkit-user-drag:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#item-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#item-popover[opened]{display:flex}#item-popover>main{box-sizing:border-box;padding:5px 13px}#item-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#item-popover #item-category,#item-popover #item-license,#item-popover #item-subsets,#item-popover #item-weights{margin-top:2px}#item-popover #item-category-label,#item-popover #item-family-label,#item-popover #item-license-label,#item-popover #item-subsets-label,#item-popover #item-weights-label{font-weight:700;font-size:13px}#item-popover #item-category-value,#item-popover #item-family-value,#item-popover #item-license-value,#item-popover #item-subsets-value,#item-popover #item-weights-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#item-popover #item-google-fonts-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#item-popover #item-google-fonts-button{width:100%}#item-popover #add-to-defs-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}#settings-popover{width:200px}#settings-popover h4{margin-top:0}#sort-select{width:100%}#subset-section{margin-top:12px}#subset-select{width:100%}#category-section{margin-top:12px}#category-select{width:100%}"]);_templateObject453=function _templateObject453(){return data;};return data;}function _templateObject452(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"google-fonts\" toggled><x-icon name=\"google-fonts\"></x-icon><x-label>Google Fonts</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><div id=\"placeholder\" hidden></div><x-popover id=\"item-popover\"><main><div id=\"item-family\"><span id=\"item-family-label\">Family: </span><span id=\"item-family-value\"></span></div><div id=\"item-weights\"><span id=\"item-weights-label\">Weights: </span><span id=\"item-weights-value\"></span></div><div id=\"item-subsets\"><span id=\"item-subsets-label\">Subsets: </span><span id=\"item-subsets-value\"></span></div><div id=\"item-category\"><span id=\"item-category-label\">Category: </span><span id=\"item-category-value\"></span></div><div id=\"item-license\"><span id=\"item-license-label\">License: </span><span id=\"item-license-value\"><a id=\"item-license-anchor\" target=\"_blank\"></a></span></div></main><footer part=\"footer\"><a id=\"item-google-fonts-anchor\" target=\"_blank\"><x-button id=\"item-google-fonts-button\"><x-label>View on Google Fonts</x-label></x-button></a><x-button id=\"add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal><main><section id=\"sort-section\"><h4>Sort</h4><x-select id=\"sort-select\"><x-menu id=\"sort-menu\"><x-menuitem value=\"alphabetical\" toggled><x-label>Alphabetical</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popular</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Latest</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"category-section\"><h4>Category</h4><x-select id=\"category-select\"><x-menu id=\"category-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section><section id=\"subset-section\"><h4>Subset</h4><x-select id=\"subset-select\"><x-menu id=\"subset-menu\"><x-menuitem value=\"all\" toggled><x-label>All</x-label></x-menuitem><hr></x-menu></x-select></section></main></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject452=function _templateObject452(){return data;};return data;}function _templateObject451(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-name-label{font-weight:700;font-size:13px}#meta-name-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-tags-label{font-weight:700;font-size:13px}#meta-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject451=function _templateObject451(){return data;};return data;}function _templateObject450(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"ui-gradients\" toggled><x-icon name=\"ui-gradients\"></x-icon><x-label>uiGradients</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-name\"><span id=\"meta-name-label\">Name:</span> <span id=\"meta-name-value\"></span></div><div id=\"meta-tags\"><span id=\"meta-tags-label\">Tags:</span> <span id=\"meta-tags-value\"></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed hidden><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject450=function _templateObject450(){return data;};return data;}function _templateObject449(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{width:100%;height:100%}#header{display:flex;width:100%;min-height:34px;padding:0 20px;align-items:center;box-sizing:border-box;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid}#header h2{flex:1;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#provider-select{font-size:13px;height:25px;min-width:150px}#provider-select x-label{font-size:13px}#main{flex:1;width:100%;height:100%;overflow:auto;position:relative}#items{width:100%;padding:14px 20px;box-sizing:border-box;flex:1;outline:0}#items .item{position:relative;display:flex;align-items:center;justify-content:center;width:100%;height:34px;margin-top:8px;border-width:1px;border-style:solid;background:var(--checkboard-background);touch-action:pan-y}#items .item:first-child{margin-top:0}#items .item[data-selected]{outline:2px solid var(--accent-color);border-color:var(--accent-color)}#throbber{position:absolute;top:50%;left:50%;margin:-15px 0 0 -15px}#throbber[hidden]{display:none}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#placeholder[hidden]{display:none}#meta-popover{flex-flow:column;width:240px;min-height:80px;--align:left}#meta-popover>main{box-sizing:border-box;padding:5px 13px}#meta-popover>footer{padding:0 11px 10px;border-top-width:1px;border-top-style:solid}#meta-tags-label{font-weight:700;font-size:13px}#meta-tags-value{margin-top:3px;font-size:13px;line-height:1.15;word-wrap:break-word}#meta-provider-anchor{display:block;margin-top:8px;cursor:default;text-decoration:none}#meta-provider-button{width:100%}#meta-add-to-defs-button{width:100%;margin-top:8px}#meta-add-to-canvas-button{width:100%;margin-top:8px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#search-input{width:100%;max-width:none}#settings-button{min-width:fit-content;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#settings-button>x-icon{width:13px;height:13px}"]);_templateObject449=function _templateObject449(){return data;};return data;}function _templateObject448(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2><x-select id=\"provider-select\" size=\"small\"><x-menu><x-menuitem value=\"color-hunt\" toggled><x-icon name=\"color-hunt\"></x-icon><x-label>Color Hunt</x-label></x-menuitem></x-menu></x-select></header><main id=\"main\" part=\"main\"><div id=\"items\" tabindex=\"0\"></div><x-throbber id=\"throbber\" hidden></x-throbber><div id=\"placeholder\" hidden></div><x-popover id=\"meta-popover\"><main><div id=\"meta-tags\"><span id=\"meta-tags-label\">Tags:</span> <span id=\"meta-tags-value\"></span></div></main><footer part=\"footer\"><a id=\"meta-provider-anchor\" target=\"_blank\"><x-button id=\"meta-provider-button\"><x-label id=\"meta-provider-label\"></x-label></x-button></a><x-button id=\"meta-add-to-defs-button\" toggled><x-label>Add to Defs</x-label></x-button><x-button id=\"meta-add-to-canvas-button\" toggled><x-label>Add to Canvas</x-label></x-button></footer></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Search</x-label></x-input><x-button id=\"settings-button\" condensed><x-icon name=\"prefs-general\"></x-icon><x-popover id=\"settings-popover\" modal></x-popover></x-button></x-box></footer></x-box></template>"]);_templateObject448=function _templateObject448(){return data;};return data;}function _templateObject447(){var data=_taggedTemplateLiteral(["#sort-buttons{width:100%}#sort-buttons>x-button{flex:1}"]);_templateObject447=function _templateObject447(){return data;};return data;}function _templateObject446(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"sort-section\"><h4>Sort</h4><x-buttons id=\"sort-buttons\" tracking=\"1\"><x-button value=\"popular\"><x-label>Popular</x-label></x-button><x-button value=\"latest\"><x-label>Latest</x-label></x-button></x-buttons></section></main></template>"]);_templateObject446=function _templateObject446(){return data;};return data;}function _templateObject445(){var data=_taggedTemplateLiteral([":host{display:block;padding:10px;width:175px;box-sizing:border-box}h4{margin-top:0}#main>section{margin-top:12px}#main>section:first-child,#main>section[hidden]+section{margin-top:0}"]);_templateObject445=function _templateObject445(){return data;};return data;}function _templateObject444(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;flex-flow:column}#header{padding:16px 20px}#header h2{margin:0;line-height:1}#buttons{margin-top:10px}#buttons #markers-button{overflow:visible}#buttons #markers-button x-icon{overflow:visible}#main{display:flex;width:100%;height:100%;min-height:38px;flex:1}#main>*{flex:1}"]);_templateObject444=function _templateObject444(){return data;};return data;}function _templateObject443(){var data=_taggedTemplateLiteral(["<template><header id=\"header\" part=\"header\"><h2 id=\"panel-heading\">Defs</h2><x-buttons id=\"buttons\" tracking=\"1\"><x-button id=\"colors-button\" skin=\"flat\" value=\"colors-browser\"><x-icon name=\"defs-colors\"></x-icon></x-button><x-button id=\"gradients-button\" skin=\"flat\" value=\"gradients-browser\"><x-icon name=\"defs-gradients\"></x-icon></x-button><x-button id=\"patterns-button\" skin=\"flat\" value=\"patterns-browser\"><x-icon name=\"defs-patterns\"></x-icon></x-button><x-button id=\"markers-button\" skin=\"flat\" value=\"markers-browser\"><x-icon name=\"defs-markers\"></x-icon></x-button><x-button id=\"symbols-button\" skin=\"flat\" value=\"symbols-browser\"><x-icon name=\"defs-symbols\"></x-icon></x-button><x-button id=\"filters-button\" skin=\"flat\" value=\"filters-browser\"><x-icon name=\"defs-filters\"></x-icon></x-button><x-button id=\"fonts-button\" skin=\"flat\" value=\"fonts-browser\"><x-icon name=\"defs-fonts\"></x-icon></x-button></x-buttons></header><main id=\"main\"><bx-colorsbrowser id=\"colors-browser\"></bx-colorsbrowser><bx-gradientsbrowser id=\"gradients-browser\"></bx-gradientsbrowser><bx-patternsbrowser id=\"patterns-browser\"></bx-patternsbrowser><bx-markersbrowser id=\"markers-browser\"></bx-markersbrowser><bx-symbolsbrowser id=\"symbols-browser\"></bx-symbolsbrowser><bx-filtersbrowser id=\"filters-browser\"></bx-filtersbrowser><bx-fontsbrowser id=\"fonts-browser\"></bx-fontsbrowser></main></template>"]);_templateObject443=function _templateObject443(){return data;};return data;}function _templateObject442(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.family-item{width:100%;position:relative;z-index:0}.family-item>.background{position:absolute;top:0;left:0;width:100%;height:38px;z-index:-1}.family-item[data-selected]>.background{background:var(--accent-color)}.family-item>.main{position:relative;z-index:1;display:flex;height:38px;align-items:center;box-sizing:border-box;padding-right:10px}.family-item>.main>.label{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:24px;font-weight:400}.family-item[data-selected]>.main>.label{color:#fff}.family-item[data-family-name-edited] .counter-button{display:none}.family-item .pin-button{margin-left:6px}.family-item .pin-button[toggled]{color:currentColor}.family-item[data-family-name-edited] .pin-button{display:none}.family-item .pin-button x-icon{width:16px;height:16px;opacity:.2}.family-item .pin-button[toggled] x-icon{opacity:.7}.font-items-outer{overflow:hidden}.font-items{transform-origin:0 0}.font-items[hidden]{display:none}.font-item{padding:0 28px 0 42px}.font-item[data-selected]{background:var(--accent-color);color:#fff}.family-item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;font-size:13px}.family-item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.family-item x-input x-label[hidden]{display:none}.family-item>.main>.arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center}.family-item[data-selected]>.main>.arrow-button{color:#fff}.family-item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.family-item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.family-item path{fill:currentColor}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject442=function _templateObject442(){return data;};return data;}function _templateObject441(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Fonts</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No fonts found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"add-button\" title=\"New font\"><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-from-disk\" id=\"add-from-disk-menu-item\"><x-label>Add Fonts from Disk\u2026</x-label></x-menuitem><x-menuitem value=\"add-from-library\" id=\"add-from-library-menu-item\"><x-label>Add Fonts from Library\u2026</x-label></x-menuitem></x-menu><x-icon name=\"plus\"></x-icon></x-button></x-box></footer></x-box></template>"]);_templateObject441=function _templateObject441(){return data;};return data;}function _templateObject440(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#filter-inspector-popover{width:600px;height:400px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject440=function _templateObject440(){return data;};return data;}function _templateObject439(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Filters</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No filters found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"filter-inspector-popover\"><bx-filterinspector id=\"filter-inspector\"></bx-filterinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New filter\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-filter\"><x-label>Add Filter</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject439=function _templateObject439(){return data;};return data;}function _templateObject438(){var data=_taggedTemplateLiteral([":host{display:flex;width:100%;height:100%;outline:0;contain:size layout style;--edge-color:#696869;--node-background-color:#d0d0d0;--node-foreground-color:#949494}#main{position:relative;box-sizing:border-box;overflow:hidden;flex:1}#graph-backdrop{fill:none;stroke:none}#graph-nodes .node{color:var(--node-foreground-color);transition:.2s transform linear}#graph-nodes .node[data-highlighted],#graph-nodes .node[data-selected]{color:var(--dark-accent-color)}#graph-nodes .node[data-disabled]{opacity:.5}#graph-nodes .node .background{fill:var(--node-background-color);stroke:currentColor;stroke-width:2px}#graph-nodes .node[data-highlighted] .background,#graph-nodes .node[data-selected] .background{fill:var(--accent-color)}#graph-nodes .node x-icon{width:100%;height:100%;color:currentColor}#graph-edges .edge-inline{fill:none;stroke:var(--edge-color);stroke-width:2px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#edge-marker);transition:.2s d linear}#graph-edges .edge[data-selected] .edge-inline{stroke:var(--accent-color);stroke-width:3px;marker-end:url(#selected-edge-marker)}#graph-edges .edge[data-disabled]{opacity:.3}#graph-edges .edge-outline{fill:none;stroke:transparent;stroke-width:12px;stroke-linejoin:round;stroke-miterlimit:10}#edge-marker{fill:var(--edge-color)}#selected-edge-marker{fill:var(--accent-color)}#graph-edges .label-text{font-size:11px;font-weight:700;display:none;color:#fff;background:var(--edge-color);font-family:inherit;text-align:center;vertical-align:middle;border-radius:12px;transition:.2s x linear,.2s y linear}#graph-edges .edge[data-selected] .label-text{background:var(--accent-color);display:initial}#graph-edges .edge[data-labeled] .label-text{display:initial}#graph-ghost-edge{fill:none;stroke:var(--accent-color);stroke-width:3px;stroke-linejoin:round;stroke-miterlimit:10;marker-end:url(#selected-edge-marker);pointer-events:none}#canvas-buttons{position:absolute;right:10px;bottom:10px}#zoom-button{border-radius:0;padding:0 10px}#zoom-button>x-icon{width:12px;height:12px}#add-primitive-button{border-radius:0;padding:0 10px}#add-primitive-button::part(arrow){display:none}#add-primitive-button>x-icon{width:12px;height:12px}#add-primitive-button>x-menu{--align:end}#sidebar{display:flex;flex-flow:column;width:220px;height:100%;min-width:220px;max-width:400px;box-sizing:border-box;border-left-width:1px;border-left-style:solid;position:relative}#sidebar-header{padding:10px;box-sizing:border-box;border-bottom-width:1px;border-bottom-style:solid}#sidebar-header>h2{margin:0;padding:0;font-size:21px}#sidebar-content{overflow:auto}#sidebar-content>p{padding:0 10px;font-size:13px}#sidebar-resize-grippie{position:absolute;top:0;left:-3px;width:6px;height:100%;z-index:9;background:0 0;cursor:col-resize}"]);_templateObject438=function _templateObject438(){return data;};return data;}function _templateObject437(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><svg id=\"canvas\" width=\"1440px\" height=\"900px\" viewBox=\"0 0 1440 900\" preserveAspectRatio=\"none\"><defs><marker id=\"edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker><marker id=\"selected-edge-marker\" viewBox=\"0 0 100 100\" orient=\"auto\" refX=\"100\" refY=\"50\" markerUnits=\"userSpaceOnUse\" markerWidth=\"12\" markerHeight=\"12\"><path d=\"M 100 50 L 0 0 L 0 100 L 100 50 Z\"></path></marker></defs><g id=\"graph-group\"><rect id=\"graph-backdrop\"></rect><g id=\"graph-edges\"></g><g id=\"graph-nodes\"></g></g></svg><x-buttons id=\"canvas-buttons\"><x-button id=\"zoom-button\" title=\"Zoom to fit all primitives\" condensed><x-icon name=\"zoom\"></x-icon></x-button><x-button id=\"add-primitive-button\" title=\"Add primitive\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-primitive-menu\" title=\"\"><x-menuitem value=\"SourceGraphic\" id=\"source-graphic-menu-item\"><x-icon name=\"filter-source-graphic\"></x-icon><x-label>Source Graphic</x-label></x-menuitem><x-menuitem value=\"SourceAlpha\" id=\"source-alpha-menu-item\"><x-icon name=\"filter-source-alpha\"></x-icon><x-label>Source Alpha</x-label></x-menuitem><hr><x-menuitem value=\"feBlend\"><x-icon name=\"filter-blend\"></x-icon><x-label>Blend</x-label></x-menuitem><x-menuitem value=\"feComposite\"><x-icon name=\"filter-composite\"></x-icon><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"feMerge\"><x-icon name=\"filter-merge\"></x-icon><x-label>Merge</x-label></x-menuitem><hr><x-menuitem value=\"feFlood\"><x-icon name=\"filter-flood\"></x-icon><x-label>Flood</x-label></x-menuitem><x-menuitem value=\"feImage\"><x-icon name=\"filter-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"feTile\"><x-icon name=\"filter-tile\"></x-icon><x-label>Tile</x-label></x-menuitem><x-menuitem value=\"feTurbulence\"><x-icon name=\"filter-turbulence\"></x-icon><x-label>Turbulence</x-label></x-menuitem><hr><x-menuitem value=\"feColorMatrix\"><x-icon name=\"filter-color-matrix\"></x-icon><x-label>Color Matrix</x-label></x-menuitem><x-menuitem value=\"feComponentTransfer\"><x-icon name=\"filter-component-transfer\"></x-icon><x-label>Component Transfer</x-label></x-menuitem><hr><x-menuitem value=\"feConvolveMatrix\"><x-icon name=\"filter-convolve-matrix\"></x-icon><x-label>Convolve Matrix</x-label></x-menuitem><x-menuitem value=\"feDisplacementMap\"><x-icon name=\"filter-displacement-map\"></x-icon><x-label>Displacement Map</x-label></x-menuitem><x-menuitem value=\"feGaussianBlur\"><x-icon name=\"filter-gaussian-blur\"></x-icon><x-label>Gaussian Blur</x-label></x-menuitem><x-menuitem value=\"feMorphology\"><x-icon name=\"filter-morphology\"></x-icon><x-label>Morphology</x-label></x-menuitem><x-menuitem value=\"feDropShadow\"><x-icon name=\"filter-drop-shadow\"></x-icon><x-label>Drop Shadow</x-label></x-menuitem><x-menuitem value=\"feOffset\"><x-icon name=\"filter-offset\"></x-icon><x-label>Offset</x-label></x-menuitem><hr><x-menuitem value=\"feSpecularLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Specular Lighting</x-label></x-menuitem><x-menuitem value=\"feDiffuseLighting\"><x-icon name=\"filter-lighting\"></x-icon><x-label>Diffuse Lighting</x-label></x-menuitem></x-menu></x-button></x-buttons></main><aside id=\"sidebar\" part=\"sidebar\"><div id=\"sidebar-header\" part=\"sidebar-header\"><h2 id=\"sidebar-heading\"></h2></div><div id=\"sidebar-content\"></div><div id=\"sidebar-resize-grippie\"></div></aside></template>"]);_templateObject437=function _templateObject437(){return data;};return data;}function _templateObject436(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}"]);_templateObject436=function _templateObject436(){return data;};return data;}function _templateObject435(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Diffuse constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject435=function _templateObject435(){return data;};return data;}function _templateObject434(){var data=_taggedTemplateLiteral(["#constant-section h4{margin-bottom:0}#constant-slider{flex:1}#constant-input{margin-left:6px;width:54px}#exponent-section h4{margin-bottom:0}#exponent-slider{flex:1}#exponent-input{margin-left:6px;width:54px}"]);_templateObject434=function _templateObject434(){return data;};return data;}function _templateObject433(){var data=_taggedTemplateLiteral(["<template><section id=\"constant-section\"><h4>Specular constant</h4><x-box id=\"constant-box\"><x-slider id=\"constant-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"constant-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"exponent-section\"><h4>Specular exponent</h4><x-box id=\"exponent-box\"><x-slider id=\"exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject433=function _templateObject433(){return data;};return data;}function _templateObject432(){var data=_taggedTemplateLiteral(["#surface-scale-section h4{margin-bottom:0}#surface-scale-slider{flex:1}#surface-scale-input{margin-left:6px;width:54px}#color-select x-popover{--align:right}#source-type-buttons{width:100%}#source-type-buttons x-button{flex:1}#source-position-subsection x-numberinput{width:100%}#source-position-x-box,#source-position-y-box,#source-position-z-box{flex:1}#source-position-y-box{margin:0 4px}#source-target-subsection x-numberinput{width:100%}#source-target-x-box,#source-target-y-box,#source-target-z-box{flex:1}#source-target-y-box{margin:0 4px}#source-cone-subsection h5{margin-bottom:0}#source-cone-slider{flex:1}#source-cone-input{margin-left:6px;width:54px}#source-exponent-subsection h5{margin-bottom:0}#source-exponent-slider{flex:1}#source-exponent-input{margin-left:6px;width:54px}#source-azimuth-subsection h5{margin-bottom:0}#source-azimuth-slider{flex:1}#source-azimuth-input{margin-left:6px;width:54px}#source-elevation-subsection h5{margin-bottom:0}#source-elevation-slider{flex:1}#source-elevation-input{margin-left:6px;width:54px}"]);_templateObject432=function _templateObject432(){return data;};return data;}function _templateObject431(){var data=_taggedTemplateLiteral(["<template><section id=\"surface-scale-section\"><h4>Surface scale</h4><x-box id=\"surface-scale-box\"><x-slider id=\"surface-scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"surface-scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><hr><section id=\"source-section\"><h4>Light source</h4><section id=\"source-type-subsection\"><h5>Type</h5><x-buttons id=\"source-type-buttons\" tracking=\"1\"><x-button value=\"fePointLight\" toggled><x-label>Point</x-label></x-button><x-button value=\"feSpotLight\"><x-label>Spot</x-label></x-button><x-button value=\"feDistantLight\"><x-label>Distant</x-label></x-button></x-buttons></section><section id=\"source-position-subsection\"><x-box><x-box id=\"source-position-x-box\" vertical><h5>X</h5><x-numberinput id=\"source-position-x-input\" value=\"0\" data-name=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-y-box\" vertical><h5>Y</h5><x-numberinput id=\"source-position-y-input\" value=\"0\" data-name=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-position-z-box\" vertical><h5>Z</h5><x-numberinput id=\"source-position-z-input\" value=\"0\" data-name=\"z\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-target-subsection\"><x-box><x-box id=\"source-target-x-box\" vertical><h5>Target X</h5><x-numberinput id=\"source-target-x-input\" value=\"0\" data-name=\"pointsAtX\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-y-box\" vertical><h5>Target Y</h5><x-numberinput id=\"source-target-y-input\" value=\"0\" data-name=\"pointsAtY\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-target-z-box\" vertical><h5>Target Z</h5><x-numberinput id=\"source-target-z-input\" value=\"0\" data-name=\"pointsAtZ\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"source-cone-subsection\"><h5>Limiting cone angle</h5><x-box id=\"source-cone-box\"><x-slider id=\"source-cone-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-cone-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-exponent-subsection\"><h5>Specular exponent</h5><x-box id=\"source-exponent-box\"><x-slider id=\"source-exponent-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"source-exponent-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-azimuth-subsection\"><h5>Azimuth</h5><x-box id=\"source-azimuth-box\"><x-slider id=\"source-azimuth-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"source-azimuth-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"source-elevation-subsection\"><h5>Elevation</h5><x-box id=\"source-elevation-box\"><x-slider id=\"source-elevation-slider\" value=\"0\" min=\"0\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"source-elevation-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section></template>"]);_templateObject431=function _templateObject431(){return data;};return data;}function _templateObject430(){var data=_taggedTemplateLiteral(["#delta-section x-label{margin-bottom:3px;font-size:12px}#delta-section x-numberinput{width:100%}#delta-section #x-box,#delta-section #y-box{flex:1}#delta-section #x-box{margin-right:7px}#delta-section #y-box{margin-left:7px}"]);_templateObject430=function _templateObject430(){return data;};return data;}function _templateObject429(){var data=_taggedTemplateLiteral(["<template><section id=\"delta-section\"><h4>Delta</h4><x-box><x-box id=\"x-box\" vertical><x-label>X</x-label><x-numberinput id=\"x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject429=function _templateObject429(){return data;};return data;}function _templateObject428(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#offset-section x-label{margin-bottom:3px;font-size:12px}#offset-section x-numberinput{width:100%}#offset-x-box,#offset-y-box{flex:1}#offset-x-box{margin-right:13px}#offset-y-box{margin-left:13px}#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject428=function _templateObject428(){return data;};return data;}function _templateObject427(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"offset-section\"><h4>Offset</h4><x-box><x-box id=\"offset-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"offset-x-input\" value=\"0\" data-name=\"dx\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"offset-y-input\" value=\"0\" data-name=\"dy\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject427=function _templateObject427(){return data;};return data;}function _templateObject426(){var data=_taggedTemplateLiteral(["#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section x-label{margin-bottom:3px;font-size:12px}#radius-section x-numberinput{width:100%}#radius-x-box,#radius-y-box{flex:1}#radius-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-lock-button[toggled]{opacity:.9}#radius-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject426=function _templateObject426(){return data;};return data;}function _templateObject425(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4>Radius</h4><x-box><x-box id=\"radius-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"radius-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"radius-lock-button\" togglable skin=\"flat\"><x-icon id=\"radius-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"radius-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"radius-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject425=function _templateObject425(){return data;};return data;}function _templateObject424(){var data=_taggedTemplateLiteral(["#deviation-section x-label{margin-bottom:3px;font-size:12px}#deviation-section x-numberinput{width:100%}#deviation-x-box,#deviation-y-box{flex:1}#deviation-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#deviation-lock-button[toggled]{opacity:.9}#deviation-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject424=function _templateObject424(){return data;};return data;}function _templateObject423(){var data=_taggedTemplateLiteral(["<template><section id=\"deviation-section\"><h4>Standard deviation</h4><x-box><x-box id=\"deviation-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"deviation-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"deviation-lock-button\" togglable skin=\"flat\"><x-icon id=\"deviation-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"deviation-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"deviation-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject423=function _templateObject423(){return data;};return data;}function _templateObject422(){var data=_taggedTemplateLiteral(["#scale-section h4{margin-bottom:0}#scale-slider{flex:1}#scale-input{margin-left:6px;width:54px}#x-channel-buttons{width:100%}#x-channel-buttons x-button{flex:1}#y-channel-buttons{width:100%}#y-channel-buttons x-button{flex:1}"]);_templateObject422=function _templateObject422(){return data;};return data;}function _templateObject421(){var data=_taggedTemplateLiteral(["<template><section id=\"scale-section\"><h4>Scale</h4><x-box id=\"scale-box\"><x-slider id=\"scale-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"scale-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"x-channel-section\"><h4>X channel</h4><x-buttons id=\"x-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section><section id=\"y-channel-section\"><h4>Y channel</h4><x-buttons id=\"y-channel-buttons\" tracking=\"1\"><x-button value=\"R\"><x-label>R</x-label></x-button><x-button value=\"G\"><x-label>G</x-label></x-button><x-button value=\"B\"><x-label>B</x-label></x-button><x-button value=\"A\" toggled><x-label>A</x-label></x-button></x-buttons></section></template>"]);_templateObject421=function _templateObject421(){return data;};return data;}function _templateObject420(){var data=_taggedTemplateLiteral(["#kernel-values-table{display:block;margin-top:8px;--order-x:3;--order-y:3}#kernel-values-table .row-box{margin-top:-1px}#kernel-values-table .row-box:first-child{margin-top:0}#kernel-values-table x-numberinput{margin-left:-1px;text-align:center;min-width:calc(100% / var(--order-x));flex:1}#kernel-values-table x-numberinput:first-child{margin-left:0}#kernel-values-table x-numberinput[data-target=true]{background:#f5f4ce}#kernel-buttons-box{margin-top:5px}#kernel-buttons-box x-icon{width:13px;height:13px;opacity:.8}#kernel-column-buttons{margin-left:auto}#target-section x-label{margin-bottom:3px;font-size:12px}#target-section x-numberinput{width:100%}#target-x-box,#target-y-box{flex:1}#target-x-box{margin-right:7px}#target-y-box{margin-left:7px}#divisor-section h4{margin-bottom:0}#divisor-switch{margin:0}#divisor-box{margin-top:6px}#divisor-slider{flex:1}#divisor-input{margin-left:6px;width:54px}#bias-section h4{margin-bottom:0}#bias-slider{flex:1}#bias-input{margin-left:6px;width:54px}#edge-mode-buttons{width:100%}#edge-mode-buttons x-button{flex:1}#preserve-section x-checkbox{margin:5px 0}"]);_templateObject420=function _templateObject420(){return data;};return data;}function _templateObject419(){var data=_taggedTemplateLiteral(["<template><section id=\"kernel-section\"><h4>Kernel</h4><div id=\"kernel-values-table\"></div><x-box id=\"kernel-buttons-box\"><x-buttons id=\"kernel-row-buttons\"><x-button id=\"kernel-remove-row-button\" value=\"row-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-up\"></x-icon></x-button><x-button id=\"kernel-add-row-button\" value=\"row-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-down\"></x-icon></x-button></x-buttons><x-buttons id=\"kernel-column-buttons\"><x-button id=\"kernel-remove-column-button\" value=\"column-remove\" skin=\"mini-bordered\"><x-icon name=\"chevron-left\"></x-icon></x-button><x-button id=\"kernel-add-column-button\" value=\"column-add\" skin=\"mini-bordered\"><x-icon name=\"chevron-right\"></x-icon></x-button></x-buttons></x-box></section><section id=\"target-section\"><h4>Target</h4><x-box id=\"target-box\"><x-box id=\"target-x-box\" vertical><x-label id=\"target-x-label\">X</x-label><x-numberinput id=\"target-x-input\" data-name=\"targetX\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><x-label id=\"target-y-label\">Y</x-label><x-numberinput id=\"target-y-input\" data-name=\"targetY\" value=\"1\" min=\"0\" max=\"","\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"divisor-section\"><x-box><h4 id=\"divisor-heading\">Divisor</h4><x-switch id=\"divisor-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"divisor-box\"><x-slider id=\"divisor-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"divisor-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"bias-section\"><h4>Bias</h4><x-box id=\"bias-box\"><x-slider id=\"bias-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"bias-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"edge-mode-section\"><h4>Edge mode</h4><x-buttons id=\"edge-mode-buttons\" tracking=\"1\"><x-button value=\"duplicate\" condensed toggled><x-label>Duplicate</x-label></x-button><x-button value=\"wrap\" condensed><x-label>Wrap</x-label></x-button><x-button value=\"none\" condensed><x-label>None</x-label></x-button></x-buttons></section><section id=\"preserve-section\"><h4>Preserve</h4><x-checkbox id=\"preserve-alpha-checkbox\" toggled><x-label>Alpha</x-label></x-checkbox></section></template>"]);_templateObject419=function _templateObject419(){return data;};return data;}function _templateObject418(){var data=_taggedTemplateLiteral(["#component-buttons{width:100%;margin-top:8px}#component-buttons x-button{flex:1}#type-select{width:100%}#linear-slope-section h4{margin-bottom:0}#linear-slope-slider{flex:1}#linear-slope-input{margin-left:6px;width:54px}#linear-intercept-section h4{margin-bottom:0}#linear-intercept-slider{flex:1}#linear-intercept-input{margin-left:6px;width:54px}#gamma-amplitude-section h4{margin-bottom:0}#gamma-amplitude-slider{flex:1}#gamma-amplitude-input{margin-left:6px;width:54px}#gamma-exponent-section h4{margin-bottom:0}#gamma-exponent-slider{flex:1}#gamma-exponent-input{margin-left:6px;width:54px}#gamma-offset-section h4{margin-bottom:0}#gamma-offset-slider{flex:1}#gamma-offset-input{margin-left:6px;width:54px}#table-values-box{margin-top:1px;flex-wrap:wrap}#table-values-section x-numberinput{margin-top:-1px;margin-left:-1px;width:auto;min-width:calc(20% + 1px);text-align:center}"]);_templateObject418=function _templateObject418(){return data;};return data;}function _templateObject417(){var data=_taggedTemplateLiteral(["<template><section id=\"component-section\"><h4>Component</h4><x-buttons id=\"component-buttons\" tracking=\"1\"><x-button value=\"feFuncR\" condensed toggled><x-label>Red</x-label></x-button><x-button value=\"feFuncG\" condensed><x-label>Green</x-label></x-button><x-button value=\"feFuncB\" condensed><x-label>Blue</x-label></x-button><x-button value=\"feFuncA\" condensed><x-label>Alpha</x-label></x-button></x-buttons></section><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"identity\" toggled><x-label>Identity</x-label></x-menuitem><x-menuitem value=\"linear\"><x-label>Linear</x-label></x-menuitem><x-menuitem value=\"gamma\"><x-label>Gamma</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"discrete\"><x-label>Discrete table</x-label></x-menuitem></x-menu></x-select></section><section id=\"linear-slope-section\" hidden><h4>Slope</h4><x-box id=\"linear-slope-box\"><x-slider id=\"linear-slope-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-slope-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"linear-intercept-section\" hidden><h4>Intercept</h4><x-box id=\"linear-intercept-box\"><x-slider id=\"linear-intercept-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"linear-intercept-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-amplitude-section\" hidden><h4>Amplitude</h4><x-box id=\"gamma-amplitude-box\"><x-slider id=\"gamma-amplitude-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-amplitude-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-exponent-section\" hidden><h4>Exponent</h4><x-box id=\"gamma-exponent-box\"><x-slider id=\"gamma-exponent-slider\" value=\"1\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-exponent-input\" value=\"1\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"gamma-offset-section\" hidden><h4>Offset</h4><x-box id=\"gamma-offset-box\"><x-slider id=\"gamma-offset-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"gamma-offset-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"table-values-section\" hidden><h4>Values</h4><x-box id=\"table-values-box\"><x-numberinput value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput><x-numberinput min=\"0\" max=\"1\" step=\"0.01\" condensed></x-numberinput></x-box></section></template>"]);_templateObject417=function _templateObject417(){return data;};return data;}function _templateObject416(){var data=_taggedTemplateLiteral(["#type-select{width:100%}#matrix-values-section .row-box{margin-top:-1px}#matrix-values-section .row-box:first-child{margin-top:0}#matrix-values-section x-numberinput{min-width:calc(100%/5);margin-left:-1px;text-align:center}#matrix-values-section x-numberinput:first-child{margin-left:0}#saturate-value-section h4{margin-bottom:0}#saturate-value-section x-box{width:100%}#saturate-value-section x-slider{flex:1}#saturate-value-section x-numberinput{width:60px;margin-left:10px}#hue-rotate-value-section h4{margin-bottom:0}#hue-rotate-value-section x-box{width:100%}#hue-rotate-value-section x-slider{flex:1}#hue-rotate-value-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject416=function _templateObject416(){return data;};return data;}function _templateObject415(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-select id=\"type-select\"><x-menu><x-menuitem value=\"matrix\" toggled><x-label>Matrix</x-label></x-menuitem><x-menuitem value=\"saturate\"><x-label>Saturate</x-label></x-menuitem><x-menuitem value=\"hueRotate\"><x-label>Hue rotate</x-label></x-menuitem><x-menuitem value=\"luminanceToAlpha\"><x-label>Luminance to alpha</x-label></x-menuitem></x-menu></x-select></section><section id=\"matrix-values-section\"><h4>Values</h4><x-box class=\"row-box\"><x-numberinput id=\"matrix-0-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-1-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-2-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-3-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-4-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-5-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-6-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-7-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-8-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-9-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-10-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-11-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-12-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-13-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-14-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-15-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-16-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-17-input\" value=\"0\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-18-input\" value=\"1\" step=\"0.01\"></x-numberinput><x-numberinput id=\"matrix-19-input\" value=\"0\" step=\"0.01\"></x-numberinput></x-box><x-box class=\"row-box\"><x-numberinput id=\"matrix-20-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-21-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-22-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-23-input\" value=\"0\" step=\"0.01\" disabled=\"disabled\"></x-numberinput><x-numberinput id=\"matrix-24-input\" value=\"1\" step=\"0.01\" disabled=\"disabled\"></x-numberinput></x-box></section><section id=\"saturate-value-section\"><h4>Value</h4><x-box id=\"saturate-value-box\"><x-slider id=\"saturate-value-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturate-value-input\" value=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hue-rotate-value-section\"><h4 id=\"hue-rotate-value-heading\">Value</h4><x-box id=\"hue-rotate-value-box\"><x-slider id=\"hue-rotate-value-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"hue-rotate-value-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject415=function _templateObject415(){return data;};return data;}function _templateObject414(){var data=_taggedTemplateLiteral(["#type-buttons{width:100%}#type-buttons x-button{flex:1}#frequency-section #frequency-value-box x-label{margin-bottom:3px;font-size:12px}#frequency-section #frequency-value-box x-numberinput{width:100%}#frequency-x-box,#frequency-y-box{flex:1}#frequency-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#frequency-lock-button[toggled]{opacity:.9}#frequency-lock-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#frequency-stitch-checkbox{margin-top:8px}#frequency-stitch-checkbox x-label{font-size:12px}#octaves-section h4{margin-bottom:0}#octaves-slider{flex:1}#octaves-input{margin-left:6px;width:54px}#seed-section h4{margin-bottom:0}#seed-slider{flex:1}#seed-input{margin-left:6px;width:54px}"]);_templateObject414=function _templateObject414(){return data;};return data;}function _templateObject413(){var data=_taggedTemplateLiteral(["<template><section id=\"type-section\"><h4>Type</h4><x-buttons id=\"type-buttons\" tracking=\"1\"><x-button value=\"turbulence\" toggled><x-label>Turbulence</x-label></x-button><x-button value=\"fractalNoise\"><x-label>Noise</x-label></x-button></x-buttons></section><section id=\"frequency-section\"><h4>Base frequency</h4><x-box id=\"frequency-value-box\"><x-box id=\"frequency-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"frequency-x-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"frequency-lock-button\" togglable skin=\"flat\"><x-icon id=\"frequency-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"frequency-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"frequency-y-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-checkbox id=\"frequency-stitch-checkbox\"><x-label>Stitch tiles</x-label></x-checkbox></section><section id=\"octaves-section\"><h4>Number of octaves</h4><x-box id=\"octaves-box\"><x-slider id=\"octaves-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"octaves-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"seed-section\"><h4>Seed</h4><x-box id=\"seed-box\"><x-slider id=\"seed-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"seed-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject413=function _templateObject413(){return data;};return data;}function _templateObject412(){var data=_taggedTemplateLiteral(["#source-thumbnail{width:54px;height:54px;min-width:54px;margin-right:8px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#source-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none;visibility:hidden}#source-thumbnail-img[src]{visibility:visible}#source-column-right{flex:1}#source-href-input{max-width:none}#source-import-button{margin-top:8px;width:100%}"]);_templateObject412=function _templateObject412(){return data;};return data;}function _templateObject411(){var data=_taggedTemplateLiteral(["<template><section id=\"source-section\"><h4>Source</h4><x-box><div id=\"source-thumbnail\" part=\"thumbnail\" class=\"left\"><img id=\"source-thumbnail-img\"></div><div id=\"source-column-right\"><x-input id=\"source-href-input\"><x-label>Href</x-label></x-input><x-button id=\"source-import-button\" toggled><x-label>Import from Disk</x-label></x-button></div></x-box></section></template>"]);_templateObject411=function _templateObject411(){return data;};return data;}function _templateObject410(){var data=_taggedTemplateLiteral(["#color-select x-popover{--align:right}#opacity-section h4{margin-bottom:0}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}"]);_templateObject410=function _templateObject410(){return data;};return data;}function _templateObject409(){var data=_taggedTemplateLiteral(["<template><section id=\"color-section\"><h4>Color</h4><x-colorselect id=\"color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section><section id=\"opacity-section\"><h4>Opacity</h4><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject409=function _templateObject409(){return data;};return data;}function _templateObject408(){var data=_taggedTemplateLiteral(["#operator-select{width:100%}#parameters-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#parameters-section x-numberinput{width:100%}#parameters-section #k1-box,#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{flex:1;min-width:0}#parameters-section #k2-box,#parameters-section #k3-box,#parameters-section #k4-box{margin-left:4px}"]);_templateObject408=function _templateObject408(){return data;};return data;}function _templateObject407(){var data=_taggedTemplateLiteral(["<template><section id=\"operator-section\"><h4>Operator</h4><x-select id=\"operator-select\"><x-menu><x-menuitem value=\"over\" toggled><x-label>Over</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>In</x-label></x-menuitem><x-menuitem value=\"atop\"><x-label>Atop</x-label></x-menuitem><x-menuitem value=\"out\"><x-label>Out</x-label></x-menuitem><x-menuitem value=\"xor\"><x-label>Xor</x-label></x-menuitem><x-menuitem value=\"arithmetic\"><x-label>Arithmetic</x-label></x-menuitem></x-menu></x-select></section><section id=\"parameters-section\" hidden><h4 id=\"parameters-heading\">Parameters</h4><x-box id=\"parameters-box\"><x-box id=\"k1-box\" vertical><x-label id=\"k1-heading\">k1</x-label><x-numberinput id=\"k1-input\" value=\"0\" step=\"0.1\" data-parameter=\"k1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k2-box\" vertical><x-label id=\"k2-heading\">k2</x-label><x-numberinput id=\"k2-input\" value=\"0\" step=\"0.1\" data-parameter=\"k2\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k3-box\" vertical><x-label id=\"k3-heading\">k3</x-label><x-numberinput id=\"k3-input\" value=\"0\" step=\"0.1\" data-parameter=\"k3\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"k4-box\" vertical><x-label id=\"k4-heading\">k4</x-label><x-numberinput id=\"k4-input\" value=\"0\" step=\"0.1\" data-parameter=\"k4\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject407=function _templateObject407(){return data;};return data;}function _templateObject406(){var data=_taggedTemplateLiteral(["#blend-mode-select{width:100%}"]);_templateObject406=function _templateObject406(){return data;};return data;}function _templateObject405(){var data=_taggedTemplateLiteral(["<template><section id=\"blend-mode-section\"><h4>Blend Mode</h4><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\"><x-label>Normal</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"darken\" toggled><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem></x-menu></x-select></section></template>"]);_templateObject405=function _templateObject405(){return data;};return data;}function _templateObject404(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main h5{margin:0 0 4px 0;font-size:12px;font-weight:400}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>section>section+section{margin-top:14px}#main>hr{margin:14px 0}#main>hr:first-child{display:none}#subregion-section{position:relative}#subregion-section>x-box{justify-content:space-between}#subregion-section>x-box:not(:first-child){margin-top:8px}#subregion-section>x-box>x-box{width:calc(50% - 13px)}#subregion-section x-box>x-box>x-numberinput{width:100%}#subregion-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#subregion-lock-button[toggled]{opacity:.9}#subregion-lock-button x-icon{width:18px;height:18px}"]);_templateObject404=function _templateObject404(){return data;};return data;}function _templateObject403(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><hr><section id=\"subregion-section\"><h4>Subregion</h4><x-box><x-box id=\"subregion-x-box\" vertical><h5>X</h5><x-numberinput id=\"subregion-x-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"subregion-y-box\" vertical><h5>Y</h5><x-numberinput id=\"subregion-y-input\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"subregion-width-box\" vertical><h5>Width</h5><x-numberinput id=\"subregion-width-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"subregion-lock-button\" togglable skin=\"flat\"><x-icon id=\"subregion-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"subregion-height-box\" vertical><h5>Height</h5><x-numberinput id=\"subregion-height-input\" min=\"0\" condensed><x-label>Auto</x-label><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject403=function _templateObject403(){return data;};return data;}function _templateObject402(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#slot-buttons{width:100%}#slot-buttons>x-button{flex:1}"]);_templateObject402=function _templateObject402(){return data;};return data;}function _templateObject401(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"slot-section\"><h4>Input slot</h4><x-buttons id=\"slot-buttons\" tracking=\"1\"><x-button value=\"1\" condensed toggled><x-label>1</x-label></x-button><x-button value=\"2\" condensed><x-label>2</x-label></x-button><x-button value=\"3\" condensed><x-label>3</x-label></x-button></x-buttons></section></main></template>"]);_templateObject401=function _templateObject401(){return data;};return data;}function _templateObject400(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#main{padding:10px 0;box-sizing:border-box}#main>section{padding:0 10px}#main>section+section{margin-top:14px}#main>hr{margin:14px 0}#filter-units-select{width:100%}#primitive-units-select{width:100%}#region-section{position:relative}#region-section>x-box{justify-content:space-between}#region-section>x-box:not(:first-child){margin-top:8px}#region-section>x-box>x-box{width:calc(50% - 13px)}#region-section>x-box>x-box>x-label{margin-bottom:3px;font-size:12px}#region-section x-box>x-box>x-numberinput{width:100%}#region-lock-button{position:absolute;left:50%;bottom:0;transform:translateX(-50%);color:currentColor;opacity:.5}#region-lock-button[toggled]{opacity:.9}#region-lock-button x-icon{width:18px;height:18px}"]);_templateObject400=function _templateObject400(){return data;};return data;}function _templateObject399(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"filter-units-section\"><h4>Filter units</h4><x-select id=\"filter-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><section id=\"primitive-units-section\"><h4>Primitive units</h4><x-select id=\"primitive-units-select\"><x-menu><x-menuitem value=\"objectBoundingBox\" toggled><x-label>Object bounding box</x-label></x-menuitem><x-menuitem value=\"userSpaceOnUse\"><x-label>User space on use</x-label></x-menuitem></x-menu></x-select></section><hr><section id=\"region-section\"><h4>Region</h4><x-box><x-box id=\"region-x-box\" vertical><x-label>X</x-label><x-numberinput id=\"region-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"region-y-box\" vertical><x-label>Y</x-label><x-numberinput id=\"region-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box><x-box id=\"region-width-box\" vertical><x-label>Width</x-label><x-numberinput id=\"region-width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"region-lock-button\" togglable skin=\"flat\"><x-icon id=\"region-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"region-height-box\" vertical><x-label>Height</x-label><x-numberinput id=\"region-height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></main></template>"]);_templateObject399=function _templateObject399(){return data;};return data;}function _templateObject398(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject398=function _templateObject398(){return data;};return data;}function _templateObject397(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Symbols</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No symbols found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New symbol\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-symbol\"><x-label>Add Symbol</x-label></x-menuitem><x-menuitem value=\"add-symbol-from-objects\" id=\"add-symbol-from-objects-menu-item\"><x-label>Add Symbol from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject397=function _templateObject397(){return data;};return data;}function _templateObject396(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject396=function _templateObject396(){return data;};return data;}function _templateObject395(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Markers</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"New marker\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-marker\"><x-label>Add Marker</x-label></x-menuitem><x-menuitem value=\"add-marker-from-objects\" id=\"add-marker-from-objects-menu-item\"><x-label>Add Marker from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject395=function _templateObject395(){return data;};return data;}function _templateObject394(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:28px;height:28px;min-width:28px;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#mirror-svg{width:0;height:0;display:block}"]);_templateObject394=function _templateObject394(){return data;};return data;}function _templateObject393(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Patterns</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No patterns found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Pattern\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-pattern\"><x-label>Add Pattern</x-label></x-menuitem><x-menuitem value=\"add-pattern-from-objects\" id=\"add-pattern-from-objects-menu-item\"><x-label>Add Pattern from Selected Objects</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box><svg id=\"mirror-svg\"></svg></template>"]);_templateObject393=function _templateObject393(){return data;};return data;}function _templateObject392(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:#d20f0f}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#gradient-inspector-popover{width:250px;--align:left}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject392=function _templateObject392(){return data;};return data;}function _templateObject391(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Gradients</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"gradient-inspector-popover\"><bx-gradientinspector id=\"gradient-inspector\"></bx-gradientinspector></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add gradient\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-gradient\"><x-label>Add Gradient</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-fill\" id=\"add-gradient-from-fill-menu-item\"><x-label>Add Gradient from Selected Object Fill</x-label></x-menuitem><x-menuitem value=\"add-gradient-from-stroke\" id=\"add-gradient-from-stroke-menu-item\"><x-label>Add Gradient from Selected Object Stroke</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject391=function _templateObject391(){return data;};return data;}function _templateObject390(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;padding:16px;outline:0;box-sizing:border-box}h4{margin:17px 0 9px 0}#main{width:100%;height:100%;display:flex;flex-flow:column}#gradient-section h4{margin-top:0}#gradient-slider{position:relative;width:100%;height:40px;border-width:1px;border-style:solid;touch-action:pan-y;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;background:var(--checkboard-background);--marker-width:18px}#left-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;left:0;background:#000}#right-gradient-slider-edge{width:calc(var(--marker-width)/ 2);height:100%;position:absolute;top:0;right:0;background:#000}#gradient-slider #track{width:100%;height:100%;position:relative;display:flex;align-items:center}#gradient-slider #markers{position:absolute;top:-3px;left:0;width:100%;height:calc(100% + 6px)}#gradient-slider .marker{position:absolute;left:0;width:var(--marker-width);height:100%;box-sizing:border-box;background:rgba(0,0,0,.2);border:3px solid #fff;box-shadow:0 0 1px #000;transform:translateX(-50%)}#gradient-slider .marker[data-selected]{border:3px solid #93d2ff}#gradient-slider[data-dragging] .marker{transition:height .1s ease,top .1s ease}#stop-color-picker{width:100%}#stop-offset-section h4{margin-bottom:2px}#stop-offset-section x-box{width:100%}#stop-offset-slider{flex:1}#stop-offset-input{margin-left:6px;width:58px}#placeholder-section{flex:1;display:flex;align-items:center;justify-content:center;margin-top:16px}#placeholder-section[hidden]{display:none}#placeholder-section x-label{opacity:.6;box-sizing:border-box;font-size:13px}"]);_templateObject390=function _templateObject390(){return data;};return data;}function _templateObject389(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"gradient-section\"><h4>Gradient</h4><div id=\"gradient-slider\" part=\"gradient-slider\"><div id=\"left-gradient-slider-edge\"></div><div id=\"right-gradient-slider-edge\"></div><div id=\"track\"><div id=\"markers\"></div></div></div></section><section id=\"stop-color-section\"><h4>Stop color</h4><bx-colorpicker id=\"stop-color-picker\" type=\"rect\" format=\"hex\" alphaslider formatselect></bx-colorpicker></section><section id=\"stop-offset-section\"><h4>Stop offset</h4><x-box><x-slider id=\"stop-offset-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-offset-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"placeholder-section\"><x-label>No gradient stops selected</x-label></section></main></template>"]);_templateObject389=function _templateObject389(){return data;};return data;}function _templateObject388(){var data=_taggedTemplateLiteral([":host{display:none;width:100%;height:100%;outline:0}:host([enabled]){display:block}#container{height:100%}#header{display:flex;width:100%;min-height:28px;padding:0 20px;align-items:center;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;box-sizing:border-box}#header h2{width:100%;margin:0;padding:0;font-size:14px;font-weight:700;line-height:1}#main{position:relative;width:100%;height:100%;overflow:hidden}#placeholder{position:absolute;top:10px;padding:0 20px;opacity:.6;box-sizing:border-box;font-size:12px}#items{width:100%;height:100%;box-sizing:border-box;overflow:auto}.item{width:100%;height:38px;padding:2px 20px;display:flex;align-items:center;box-sizing:border-box}.item[data-selected]{background:var(--accent-color)}.item[data-invalid]{background:var(--error-color)}.item[hidden]{display:none}.item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;border-width:1px;border-style:solid;-webkit-user-drag:none}.item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}.item .label{flex:1;margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}.item[data-selected] .label{color:#fff}.item .label[data-custom]{font-weight:700}.item[data-label-edited] .counter-button{display:none}.item .pin-button{margin-left:6px}.item .pin-button[toggled]{color:currentColor}.item[data-label-edited] .pin-button{display:none}.item .pin-button x-icon{width:16px;height:16px;opacity:.2}.item .pin-button[toggled] x-icon{opacity:.7}.item x-input{width:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:5px;color:var(--error-color);z-index:100;pointer-events:none}.item x-input x-label[hidden]{display:none}#drop-indicator{position:absolute;z-index:100;top:23px;width:100%;height:2px;margin-left:12px;display:flex;align-items:center;color:var(--dark-accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-indicator[hidden]{display:none}#drop-indicator-circle{box-sizing:border-box;width:8px;height:8px;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}#color-picker-popover{width:220px;--align:left}#color-picker-popover>main{box-sizing:border-box;padding:13px 16px 16px 16px}#color-picker-popover h4{margin-top:0}#color-picker-popover #color-picker{width:100%}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #search-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}"]);_templateObject388=function _templateObject388(){return data;};return data;}function _templateObject387(){var data=_taggedTemplateLiteral(["<template><x-box id=\"container\" vertical><header id=\"header\" part=\"header\"><h2>Colors</h2></header><main id=\"main\" part=\"main\"><div id=\"items\"></div><div id=\"placeholder\" hidden>No colors found.</div><div id=\"drop-indicator\" hidden><div id=\"drop-indicator-circle\"></div></div><x-popover id=\"color-picker-popover\"><main><h4>Color</h4><bx-colorpicker id=\"color-picker\" value=\"#ffffff\" alphaslider></bx-colorpicker></main></x-popover></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"search-input\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" title=\"Add Color\"><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\" title=\"\"><x-menuitem value=\"add-color\"><x-label>Add Color</x-label></x-menuitem><x-menuitem value=\"add-color-from-fill\" id=\"add-color-from-fill-menu-item\"><x-label>Add Colors from Selected Objects Fill</x-label></x-menuitem><x-menuitem value=\"add-color-from-stroke\" id=\"add-color-from-stroke-menu-item\"><x-label>Add Colors from Selected Objects Stroke</x-label></x-menuitem><hr><x-menuitem value=\"add-color-from-library\" id=\"add-color-from-library\"><x-label>Add Colors from Library\u2026</x-label></x-menuitem></x-menu></x-button></x-box></footer></x-box></template>"]);_templateObject387=function _templateObject387(){return data;};return data;}function _templateObject386(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#header{padding:16px 20px;border-bottom-width:1px;border-bottom-style:solid}#header h2{margin:0;line-height:1}#main{flex:1;overflow:auto}"]);_templateObject386=function _templateObject386(){return data;};return data;}function _templateObject385(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><header id=\"header\" part=\"header\"><h2>Objects</h2></header><main id=\"main\"><bx-objectsbrowser id=\"objects-browser\"></bx-objectsbrowser></main></div></template>"]);_templateObject385=function _templateObject385(){return data;};return data;}function _templateObject384(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}#main{flex:1;padding:4px 0;overflow:auto;box-sizing:border-box;outline:0;position:relative}#drop-marker{position:absolute;z-index:100;top:23px;width:100%;height:2px;display:flex;align-items:center;color:var(--accent-color);background:currentColor;box-shadow:0 0 0 1px rgba(255,255,255,.7);pointer-events:none}#drop-marker[hidden]{display:none}#drop-marker #drop-marker-circle{width:8px;height:8px;box-sizing:border-box;border:2px solid currentColor;background:#fff;border-radius:99px;box-shadow:0 0 0 1px rgba(255,255,255,.7)}.item{position:relative}.item>.background{position:absolute;z-index:0;top:0;left:0;width:100%;height:20px}.item[data-selected]>.background{background:var(--accent-color)}.item[data-invalid]>.background{background:var(--error-color)}.item>.main{position:relative;z-index:1;padding:0 0 0 24px;display:flex;align-items:center}.item[data-selected]>.main{color:#fff}.item>.children-outer{overflow:hidden}.item>.children-outer .children{transform-origin:0 0}.item .action-buttons{margin-left:auto;display:flex}.item x-input{height:100%;outline:0;border:none;max-width:none;flex:1;margin-left:5px;font-size:13px;color:var(--text-color)}.item x-input[error]::before{position:absolute;text-align:right;right:4px;top:1px;color:var(--error-color);z-index:100;pointer-events:none}.item use{fill:currentColor}.item>.main .label{margin-left:10px;font-size:13px;white-space:pre;overflow:hidden;text-overflow:ellipsis}.item>.main .label[data-custom]{font-weight:700}.item>.main .object-icon{width:15px;height:15px;min-width:15px}.item .arrow-button{width:27px;min-width:27px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none}.item[data-expandable]>.main .arrow-button{visibility:visible;pointer-events:all}.item>.main .arrow-icon{width:10px;height:10px;min-width:10px;transition:.2s transform ease-in-out;transform:rotate(-90deg)}.item[data-expanded]>.main .arrow-icon{transform:rotate(0)}.item .lock-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3}.item>.main:hover .lock-button{visibility:visible;pointer-events:all}.item[data-locked]>.main .lock-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .lock-icon{width:15px;height:15px;min-width:15px}.item .visibility-button{width:20px;height:20px;display:flex;align-items:center;justify-content:center;visibility:hidden;pointer-events:none;opacity:.3;padding-right:4px}.item>.main:hover .visibility-button{visibility:visible;pointer-events:all}.item[data-hidden]>.main .visibility-button{visibility:visible;pointer-events:all;opacity:1}.item>.main .visibility-icon{width:15px;height:15px;min-width:15px}#footer{width:100%;padding:10px 20px 10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer #filter-input{width:100%;max-width:none}#footer #developer-mode-button{padding:2px 10px;min-width:fit-content;margin-left:-1px;border-radius:0;z-index:1}#footer #developer-mode-button x-icon{width:11px;height:11px}#footer #add-button{min-width:fit-content;padding:2px 10px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0;z-index:1}#footer #add-button>x-icon{width:11px;height:11px}#footer #add-button::part(arrow){display:none}#footer #add-menu h3{padding:5px 0 5px 8px;margin:0;font-size:11px;text-transform:uppercase}"]);_templateObject384=function _templateObject384(){return data;};return data;}function _templateObject383(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\" tabindex=\"0\"><div id=\"items\"></div><div id=\"drop-marker\" hidden><div id=\"drop-marker-circle\"></div></div><x-contextmenu id=\"context-menu\" disabled=\"disabled\"><x-menu><x-menuitem id=\"group-menu-item\" value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem id=\"ungroup-menu-item\" value=\"ungroup\"><x-label>Ungroup</x-label></x-menuitem><x-menuitem id=\"enter-group-menu-item\" value=\"enterGroup\"><x-label>Enter group</x-label></x-menuitem></x-menu></x-contextmenu></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button><x-button id=\"add-button\" condensed><x-icon name=\"plus\"></x-icon><x-menu id=\"add-menu\"><h3>Add object</h3><x-menuitem value=\"g\"><x-icon name=\"object-group\"></x-icon><x-label>Group</x-label></x-menuitem><x-menuitem value=\"a\"><x-icon name=\"object-link\"></x-icon><x-label>Link</x-label></x-menuitem><x-menuitem value=\"image\"><x-icon name=\"object-image\"></x-icon><x-label>Image</x-label></x-menuitem><x-menuitem value=\"path\"><x-icon name=\"object-path\"></x-icon><x-label>Path</x-label></x-menuitem><x-menuitem value=\"text\"><x-icon name=\"object-text\"></x-icon><x-label>Text</x-label></x-menuitem><x-menuitem value=\"rect\"><x-icon name=\"object-rect\"></x-icon><x-label>Rectangle</x-label></x-menuitem><x-menuitem value=\"circle\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Circle</x-label></x-menuitem><x-menuitem value=\"ellipse\"><x-icon name=\"object-ellipse\"></x-icon><x-label>Ellipse</x-label></x-menuitem><x-menuitem value=\"ring\"><x-icon name=\"object-ring\"></x-icon><x-label>Ring</x-label></x-menuitem><x-menuitem value=\"pie\"><x-icon name=\"object-pie\"></x-icon><x-label>Pie</x-label></x-menuitem><x-menuitem value=\"crescent\"><x-icon name=\"object-crescent\"></x-icon><x-label>Crescent</x-label></x-menuitem><x-menuitem value=\"triangle\"><x-icon name=\"object-triangle\"></x-icon><x-label>Triangle</x-label></x-menuitem><x-menuitem value=\"n-gon\"><x-icon name=\"object-n-gon\"></x-icon><x-label>N-gon</x-label></x-menuitem><x-menuitem value=\"star\"><x-icon name=\"object-star\"></x-icon><x-label>Star</x-label></x-menuitem><x-menuitem value=\"cog\"><x-icon name=\"object-cog\"></x-icon><x-label>Cog</x-label></x-menuitem><x-menuitem value=\"cross\"><x-icon name=\"object-cross\"></x-icon><x-label>Cross</x-label></x-menuitem><x-menuitem value=\"spiral\"><x-icon name=\"object-spiral\"></x-icon><x-label>Spiral</x-label></x-menuitem><x-menuitem value=\"line\"><x-icon name=\"object-line\"></x-icon><x-label>Line</x-label></x-menuitem><x-menuitem value=\"polyline\"><x-icon name=\"object-polyline\"></x-icon><x-label>Polyline</x-label></x-menuitem><x-menuitem value=\"polygon\"><x-icon name=\"object-polygon\"></x-icon><x-label>Polygon</x-label></x-menuitem></x-menu></x-button></x-box></footer></div></template>"]);_templateObject383=function _templateObject383(){return data;};return data;}function _templateObject382(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#align-section{padding:10px 20px 18px 20px}#move-buttons{width:110px;align-items:center}#move-buttons>x-box{width:100%;justify-content:space-between}#move-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#move-buttons x-icon{width:24px;height:24px}#move-buttons[data-side=outside] x-icon{transform:rotate(180deg)}#move-buttons #arrange-bottom-button{margin:0}#center-buttons,#stretch-buttons{margin-left:26px}#center-buttons x-button,#stretch-buttons x-button{width:36px;height:36px;margin:0 0 5px 0;padding:0}#center-buttons x-button:last-child,#stretch-buttons x-button:last-child{margin-bottom:0}#center-buttons x-icon,#stretch-buttons x-icon{width:24px;height:24px}#align-options-subsection{margin-top:14px}#align-options-subsection h4{margin-bottom:6px}#align-options-subsection x-select{flex:1}#align-options-subsection x-button{margin-left:8px;padding:2px 9px}#align-options-subsection x-button x-icon{width:15px;height:15px}#transform-section{padding:16px 20px 18px 20px}#transform-section x-button{height:30px;margin-right:11px;flex:1}#transform-section x-button:last-child{margin-right:0}#transform-section x-button x-icon{width:17px;height:17px}#transform-section #flip-buttons,#transform-section #transform-buttons{margin-top:11px}#order-section{padding:16px 20px 18px 20px}#order-section #order-buttons-2{margin-top:11px}#order-section x-button{height:30px;margin-right:11px;flex:1}#order-section x-button:last-child{margin-right:0}#order-section x-button x-icon{width:17px;height:17px}#group-section{padding:16px 20px 18px 20px}#group-section x-button{height:30px;margin-right:11px;flex:1}#group-section x-button:last-child{margin-right:0}#group-section x-button x-icon{width:17px;height:17px}#distribute-section{padding:16px 20px 18px 20px}#distance-buttons{flex:1}#distance-buttons x-button{width:100%}#distance-input{margin-left:6px;width:53px}#distribute-actions-subsection{margin-top:14px}#distribute-buttons-box{width:100%;justify-content:space-between}#distribute-buttons-box x-button{height:30px;flex:1;margin-right:11px}#distribute-buttons-box x-button:last-child{margin-right:0}#distribute-buttons-box x-button x-icon{width:22px;height:22px}"]);_templateObject382=function _templateObject382(){return data;};return data;}function _templateObject381(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Arrangement</h2><section id=\"align-section\"><h3 id=\"align-section-heading\">Align</h3><section id=\"align-actions-subsection\"><x-box id=\"align-buttons\"><x-box id=\"move-buttons\" vertical data-side=\"inside\"><x-button id=\"arrange-top-button\" value=\"move-top-inside\" condensed><x-icon name=\"align-top\"></x-icon></x-button><x-box><x-button id=\"arrange-left-button\" value=\"move-left-inside\" condensed><x-icon name=\"align-left\"></x-icon></x-button><x-button id=\"arrange-right-button\" value=\"move-right-inside\" condensed><x-icon name=\"align-right\"></x-icon></x-button></x-box><x-button id=\"arrange-bottom-button\" value=\"move-bottom-inside\" condensed><x-icon name=\"align-bottom\"></x-icon></x-button></x-box><x-box id=\"center-buttons\" vertical><x-button id=\"center-button\" value=\"center\" condensed><x-icon name=\"center\"></x-icon></x-button><x-button id=\"center-horizontally-button\" value=\"horizontal-center\" condensed><x-icon name=\"center-horizontally\"></x-icon></x-button><x-button id=\"center-vertically-button\" value=\"vertical-center\" condensed><x-icon name=\"center-vertically\"></x-icon></x-button></x-box><x-box id=\"stretch-buttons\" vertical><x-button id=\"stretch-button\" value=\"stretch\" condensed><x-icon name=\"stretch\"></x-icon></x-button><x-button id=\"stretch-horizontally-button\" value=\"horizontal-stretch\" condensed><x-icon name=\"stretch-horizontally\"></x-icon></x-button><x-button id=\"stretch-vertically-button\" value=\"vertical-stretch\" condensed><x-icon name=\"stretch-vertically\"></x-icon></x-button></x-box></x-box></section><section id=\"align-options-subsection\"><h4 id=\"align-options-heading\">Relative to</h4><x-box><x-select id=\"align-to-select\"><x-menu><x-menuitem value=\"default-view\" toggled><x-label>Default view</x-label></x-menuitem><x-menuitem value=\"nearest-view\" toggled><x-label>Nearest view</x-label></x-menuitem><x-menuitem value=\"first-selected\" toggled><x-label>First selected</x-label></x-menuitem><x-menuitem value=\"last-selected\" toggled><x-label>Last selected</x-label></x-menuitem><x-menuitem value=\"selection\" toggled><x-label>Selection</x-label></x-menuitem></x-menu></x-select><x-button id=\"align-as-group-button\" title=\"Treat selection as group\" condensed togglable><x-icon name=\"group\"></x-icon></x-button></x-box></section></section><hr><section id=\"transform-section\"><h3 id=\"transform-heading\">Transform</h3><x-box id=\"rotate-buttons\"><x-button id=\"rotate-counterclockwise-button\" value=\"rotateCounterclockwise\"><x-icon name=\"rotate-counterclockwise\"></x-icon><x-label>-90\xB0</x-label></x-button><x-button id=\"rotate-clockwise-button\" value=\"rotateClockwise\"><x-icon name=\"rotate-clockwise\"></x-icon><x-label>+90\xB0</x-label></x-button></x-box><x-box id=\"flip-buttons\"><x-button id=\"flip-horizontally-button\" value=\"flipX\"><x-icon name=\"flip-x\"></x-icon><x-label>Flip X</x-label></x-button><x-button id=\"flip-vertically-button\" value=\"flipY\"><x-icon name=\"flip-y\"></x-icon><x-label>Flip Y</x-label></x-button></x-box><x-box id=\"transform-buttons\"><x-button id=\"remove-transform-button\" value=\"removeTransform\"><x-icon name=\"trash\"></x-icon><x-label>Remove</x-label></x-button><x-button id=\"reduce-transform-button\" value=\"reduceTransform\"><x-icon name=\"reduce-transform\"></x-icon><x-label>Reduce</x-label></x-button></x-box></section><hr><section id=\"order-section\"><h3 id=\"order-section-heading\">Z-order</h3><x-box id=\"order-buttons-1\"><x-button id=\"raise-button\" value=\"raise\"><x-icon name=\"raise\"></x-icon><x-label>Raise</x-label></x-button><x-button id=\"lower-button\" value=\"lower\"><x-icon name=\"lower\"></x-icon><x-label>Lower</x-label></x-button></x-box><x-box id=\"order-buttons-2\"><x-button id=\"front-button\" value=\"raiseToFront\"><x-icon name=\"raise-to-front\"></x-icon><x-label>Front</x-label></x-button><x-button id=\"back-button\" value=\"lowerToBack\"><x-icon name=\"lower-to-back\"></x-icon><x-label>Back</x-label></x-button></x-box></section><hr><section id=\"group-section\"><h3 id=\"group-section-heading\">Group</h3><x-box id=\"group-buttons\"><x-button id=\"group-button\" value=\"group\"><x-icon name=\"group\"></x-icon><x-label>Group</x-label></x-button><x-button id=\"ungroup-button\" value=\"ungroup\"><x-icon name=\"ungroup\"></x-icon><x-label>Ungroup</x-label></x-button></x-box></section><hr><section id=\"distribute-section\"><h3 id=\"distribute-heading\">Distribute</h3><section id=\"distribute-distance-subsection\"><h4 id=\"distribute-distance-heading\">Distance</h4><x-box><x-buttons id=\"distance-buttons\" tracking=\"1\"><x-button id=\"auto-distance-button\" value=\"auto\" condensed><x-label>Auto</x-label></x-button><x-button id=\"manual-distance-button\" value=\"manual\" condensed><x-label>Manual</x-label></x-button></x-buttons><x-numberinput id=\"distance-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"distribute-actions-subsection\"><h4 id=\"distribute-actions-heading\">Actions</h4><x-box id=\"distribute-buttons-box\"><x-button id=\"distribute-horizontally-button\" value=\"horizontal\" title=\"Distribute horizontaly\" condensed><x-icon name=\"distribute-horizontally\"></x-icon></x-button><x-button id=\"distribute-vertically-button\" value=\"vertical\" title=\"Distribute vertically\" condensed><x-icon name=\"distribute-vertically\"></x-icon></x-button><x-button id=\"distribute-centers-horizontally-button\" value=\"centers-horizontal\" title=\"Distribute centers horizontally\" condensed><x-icon name=\"distribute-centers-horizontally\"></x-icon></x-button><x-button id=\"distribute-centers-vertically-button\" value=\"centers-vertical\" title=\"Distribute centers vertically\" condensed><x-icon name=\"distribute-centers-vertically\"></x-icon></x-button></x-box></section></section></template>"]);_templateObject381=function _templateObject381(){return data;};return data;}function _templateObject380(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}x-button{width:100%;height:30px}#general-section{padding:10px 20px 20px 20px}#general-section>x-box{margin-top:8px}#general-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#reorient-button x-icon{width:20px;height:20px}#reverse-button x-icon{width:20px;height:20px}#convert-section{padding:10px 20px 20px 20px}#stroke-to-path-button{margin-top:10px}#boolops-section{padding:15px 20px 20px 20px}#boolop-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#boolop-buttons x-button x-icon{width:20px;height:20px;margin-right:8px}#path-section{padding:15px 20px 20px 20px}#path-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#path-buttons #close-path-button x-icon,#path-buttons #join-paths-button x-icon,#path-buttons #open-path-button x-icon,#path-buttons #split-path-button x-icon{width:30px;height:30px;margin-right:8px}#node-section{padding:15px 20px 20px 20px}#node-buttons{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:10px;grid-row-gap:10px}#node-section x-button x-icon{width:28px;height:28px;margin-right:8px}"]);_templateObject380=function _templateObject380(){return data;};return data;}function _templateObject379(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Shape</h2><section id=\"general-section\"><x-box id=\"general-buttons\"><x-button id=\"reorient-button\"><x-icon name=\"reorient\"></x-icon><x-label>Reorient</x-label></x-button><x-button id=\"reverse-button\"><x-icon name=\"reverse\"></x-icon><x-label>Reverse</x-label></x-button></x-box></section><hr><section id=\"convert-section\"><h3 id=\"convert-section-heading\">Convert</h3><x-button id=\"shape-to-path-button\"><x-icon name=\"shape-to-path\"></x-icon><x-label>Shape to Path</x-label></x-button><x-button id=\"stroke-to-path-button\"><x-icon name=\"stroke-to-path\"></x-icon><x-label>Stroke to Path</x-label></x-button></section><hr><section id=\"boolops-section\"><h3 id=\"boolops-section-heading\">Boolops</h3><x-box id=\"boolop-buttons\" vertical><x-button id=\"unite-button\"><x-icon name=\"boolop-unite\"></x-icon><x-label>Unite</x-label></x-button><x-button id=\"intersect-button\"><x-icon name=\"boolop-intersect\"></x-icon><x-label>Intersect</x-label></x-button><x-button id=\"subtract-button\"><x-icon name=\"boolop-subtract\"></x-icon><x-label>Subtract</x-label></x-button><x-button id=\"exclude-button\"><x-icon name=\"boolop-exclude\"></x-icon><x-label>Exclude</x-label></x-button></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-box id=\"path-buttons\"><x-button id=\"join-paths-button\"><x-icon name=\"compound-path-join\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-path-button\"><x-icon name=\"compound-path-split\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"open-path-button\"><x-icon name=\"open-path\"></x-icon><x-label>Open</x-label></x-button><x-button id=\"close-path-button\"><x-icon name=\"close-path\"></x-icon><x-label>Close</x-label></x-button><x-button id=\"inset-path-button\"><x-icon name=\"inset-path\"></x-icon><x-label>Inset</x-label></x-button><x-button id=\"outset-path-button\"><x-icon name=\"outset-path\"></x-icon><x-label>Outset</x-label></x-button><x-button id=\"simplify-path-button\"><x-icon name=\"simplify-path\"></x-icon><x-label>Simplify</x-label></x-button><x-button id=\"complexify-path-button\" condensed><x-icon name=\"complexify-path\"></x-icon><x-label>Complexify</x-label></x-button></x-box></section><hr><section id=\"node-section\"><h3 id=\"node-section-heading\">Node</h3><x-box id=\"node-buttons\"><x-button id=\"join-nodes-button\"><x-icon name=\"join-nodes\"></x-icon><x-label>Join</x-label></x-button><x-button id=\"split-node-button\"><x-icon name=\"split-node\"></x-icon><x-label>Split</x-label></x-button><x-button id=\"delete-node-button\"><x-icon name=\"delete-node\"></x-icon><x-label>Delete</x-label></x-button><x-button id=\"break-node-button\"><x-icon name=\"break-node\"></x-icon><x-label>Break</x-label></x-button></x-box></section></template>"]);_templateObject379=function _templateObject379(){return data;};return data;}function _templateObject378(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#accessibility-section{padding:10px 20px 20px 20px}#title-section{padding:10px 20px 20px 20px}#title-heading{margin-bottom:4px}#title-input{width:100%;max-width:none}#desc-box{margin-top:14px}#desc-heading{margin-bottom:4px}#desc-editor{width:100%;height:120px;max-width:none}#language-box{margin-top:14px}#language-heading{margin-bottom:4px}#language-select{width:100%}#role-box{margin-top:14px}#role-heading{margin-bottom:4px}#role-select{width:100%}#tab-index-box{margin-top:14px}#tab-index-heading{margin-bottom:0}#tab-index-box>x-box{width:100%}#tab-index-slider{flex:1;--track-tint-color:transparent}#tab-index-input{width:50px;margin-left:12px}#link-section{padding:15px 20px 20px 20px}#link-button{border-top-right-radius:0;border-bottom-right-radius:0;z-index:1}#link-button x-icon{width:14px;height:14px}#link-input{flex:1;margin-left:-1px;max-width:none}#link-input[error]{z-index:2}#link-target-checkbox{margin-top:8px}#scripting-section{padding:15px 20px 20px 20px}#id-box{margin-top:8px}#id-heading{margin-bottom:4px}#id-input{width:100%;max-width:none}#classes-box{margin-top:20px}#classes-heading{margin-bottom:4px}#classes-input{width:100%}"]);_templateObject378=function _templateObject378(){return data;};return data;}function _templateObject377(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Meta</h2><section id=\"accessibility-section\"><h3 id=\"accessibility-heading\">Accessibility</h3><x-box id=\"title-box\" vertical><h4 id=\"title-heading\">Title</h4><x-input id=\"title-input\" spellcheck></x-input></x-box><x-box id=\"desc-box\" vertical><h4 id=\"desc-heading\">Description</h4><x-texteditor id=\"desc-editor\" spellcheck></x-texteditor></x-box><x-box id=\"language-box\" vertical><h4 id=\"language-heading\">Language</h4><x-select id=\"language-select\"><x-menu id=\"language-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"af\"><x-label>Afrikaans</x-label></x-menuitem><x-menuitem value=\"sq\"><x-label>Albanian</x-label></x-menuitem><x-menuitem value=\"ar\"><x-label>Arabic</x-label></x-menuitem><x-menuitem value=\"hy\"><x-label>Armenian</x-label></x-menuitem><x-menuitem value=\"az\"><x-label>Azeri</x-label></x-menuitem><x-menuitem value=\"eu\"><x-label>Basque</x-label></x-menuitem><x-menuitem value=\"be\"><x-label>Belarusian</x-label></x-menuitem><x-menuitem value=\"bg\"><x-label>Bulgarian</x-label></x-menuitem><x-menuitem value=\"ca\"><x-label>Catalan</x-label></x-menuitem><x-menuitem value=\"zh\"><x-label>Chinese</x-label></x-menuitem><x-menuitem value=\"hr\"><x-label>Croatian</x-label></x-menuitem><x-menuitem value=\"cs\"><x-label>Czech</x-label></x-menuitem><x-menuitem value=\"da\"><x-label>Danish</x-label></x-menuitem><x-menuitem value=\"nl\"><x-label>Dutch</x-label></x-menuitem><x-menuitem value=\"en\"><x-label>English</x-label></x-menuitem><x-menuitem value=\"et\"><x-label>Estonian</x-label></x-menuitem><x-menuitem value=\"fa\"><x-label>Farsi</x-label></x-menuitem><x-menuitem value=\"fi\"><x-label>Finnish</x-label></x-menuitem><x-menuitem value=\"fr\"><x-label>French</x-label></x-menuitem><x-menuitem value=\"gl\"><x-label>Galician</x-label></x-menuitem><x-menuitem value=\"de\"><x-label>German</x-label></x-menuitem><x-menuitem value=\"ka\"><x-label>Georgian</x-label></x-menuitem><x-menuitem value=\"el\"><x-label>Greek</x-label></x-menuitem><x-menuitem value=\"he\"><x-label>Hebrew</x-label></x-menuitem><x-menuitem value=\"hi\"><x-label>Hindi</x-label></x-menuitem><x-menuitem value=\"hu\"><x-label>Hungarian</x-label></x-menuitem><x-menuitem value=\"is\"><x-label>Icelandic</x-label></x-menuitem><x-menuitem value=\"id\"><x-label>Indonesian</x-label></x-menuitem><x-menuitem value=\"it\"><x-label>Italian</x-label></x-menuitem><x-menuitem value=\"ja\"><x-label>Japanese</x-label></x-menuitem><x-menuitem value=\"kk\"><x-label>Kazakh</x-label></x-menuitem><x-menuitem value=\"ko\"><x-label>Korean</x-label></x-menuitem><x-menuitem value=\"lv\"><x-label>Latvian</x-label></x-menuitem><x-menuitem value=\"lt\"><x-label>Lithuanian</x-label></x-menuitem><x-menuitem value=\"mt\"><x-label>Maltese</x-label></x-menuitem><x-menuitem value=\"mn\"><x-label>Mongolian</x-label></x-menuitem><x-menuitem value=\"nb\"><x-label>Norwegian</x-label></x-menuitem><x-menuitem value=\"pl\"><x-label>Polish</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Portuguese</x-label></x-menuitem><x-menuitem value=\"ro\"><x-label>Romanian</x-label></x-menuitem><x-menuitem value=\"ru\"><x-label>Russian</x-label></x-menuitem><x-menuitem value=\"sk\"><x-label>Slovak</x-label></x-menuitem><x-menuitem value=\"sl\"><x-label>Slovenian</x-label></x-menuitem><x-menuitem value=\"es\"><x-label>Spanish</x-label></x-menuitem><x-menuitem value=\"sv\"><x-label>Swedish</x-label></x-menuitem><x-menuitem value=\"th\"><x-label>Thai</x-label></x-menuitem><x-menuitem value=\"tr\"><x-label>Turkish</x-label></x-menuitem><x-menuitem value=\"uk\"><x-label>Ukrainian</x-label></x-menuitem><x-menuitem value=\"ur\"><x-label>Urdu</x-label></x-menuitem><x-menuitem value=\"uz\"><x-label>Uzbek</x-label></x-menuitem><x-menuitem value=\"vi\"><x-label>Vietnamese</x-label></x-menuitem><x-menuitem value=\"cy\"><x-label>Welsh</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"role-box\" vertical><h4 id=\"role-heading\">Role</h4><x-select id=\"role-select\"><x-menu id=\"role-menu\"><x-menuitem value=\"\" toggled><x-label>Default</x-label></x-menuitem><hr><x-menuitem value=\"alert\"><x-label>Alert</x-label></x-menuitem><x-menuitem value=\"alertdialog\"><x-label>Alert Dialog</x-label></x-menuitem><x-menuitem value=\"application\"><x-label>Application</x-label></x-menuitem><x-menuitem value=\"article\"><x-label>Article</x-label></x-menuitem><x-menuitem value=\"banner\"><x-label>Banner</x-label></x-menuitem><x-menuitem value=\"button\"><x-label>Button</x-label></x-menuitem><x-menuitem value=\"cell\"><x-label>Cell</x-label></x-menuitem><x-menuitem value=\"checkbox\"><x-label>Checkbox</x-label></x-menuitem><x-menuitem value=\"columnheader\"><x-label>Column header</x-label></x-menuitem><x-menuitem value=\"combobox\"><x-label>Combobox</x-label></x-menuitem><x-menuitem value=\"command\"><x-label>Command</x-label></x-menuitem><x-menuitem value=\"complementary\"><x-label>Complementary</x-label></x-menuitem><x-menuitem value=\"composite\"><x-label>Composite</x-label></x-menuitem><x-menuitem value=\"contentinfo\"><x-label>Content info</x-label></x-menuitem><x-menuitem value=\"definition\"><x-label>Definition</x-label></x-menuitem><x-menuitem value=\"dialog\"><x-label>Dialog</x-label></x-menuitem><x-menuitem value=\"directory\"><x-label>Directory</x-label></x-menuitem><x-menuitem value=\"document\"><x-label>Document</x-label></x-menuitem><x-menuitem value=\"feed\"><x-label>Feed</x-label></x-menuitem><x-menuitem value=\"figure\"><x-label>Figure</x-label></x-menuitem><x-menuitem value=\"form\"><x-label>Form</x-label></x-menuitem><x-menuitem value=\"graphics-document\"><x-label>Graphics document</x-label></x-menuitem><x-menuitem value=\"graphics-object\"><x-label>Graphics object</x-label></x-menuitem><x-menuitem value=\"graphics-symbol\"><x-label>Graphics symbol</x-label></x-menuitem><x-menuitem value=\"grid\"><x-label>Grid</x-label></x-menuitem><x-menuitem value=\"gridcell\"><x-label>Gridcell</x-label></x-menuitem><x-menuitem value=\"group\"><x-label>Group</x-label></x-menuitem><x-menuitem value=\"heading\"><x-label>Heading</x-label></x-menuitem><x-menuitem value=\"img\"><x-label>Image</x-label></x-menuitem><x-menuitem value=\"input\"><x-label>Input</x-label></x-menuitem><x-menuitem value=\"landmark\"><x-label>Landmark</x-label></x-menuitem><x-menuitem value=\"link\"><x-label>Link</x-label></x-menuitem><x-menuitem value=\"list\"><x-label>List</x-label></x-menuitem><x-menuitem value=\"listbox\"><x-label>Listbox</x-label></x-menuitem><x-menuitem value=\"listitem\"><x-label>List item</x-label></x-menuitem><x-menuitem value=\"log\"><x-label>Log</x-label></x-menuitem><x-menuitem value=\"main\"><x-label>Main</x-label></x-menuitem><x-menuitem value=\"marquee\"><x-label>Marquee</x-label></x-menuitem><x-menuitem value=\"math\"><x-label>Math</x-label></x-menuitem><x-menuitem value=\"menu\"><x-label>Menu</x-label></x-menuitem><x-menuitem value=\"menubar\"><x-label>Menubar</x-label></x-menuitem><x-menuitem value=\"menuitem\"><x-label>Menu item</x-label></x-menuitem><x-menuitem value=\"menuitemcheckbox\"><x-label>Menu item (checkbox)</x-label></x-menuitem><x-menuitem value=\"menuitemradio\"><x-label>Menu item (radio)</x-label></x-menuitem><x-menuitem value=\"navigation\"><x-label>Navigation</x-label></x-menuitem><x-menuitem value=\"none\"><x-label>None</x-label></x-menuitem><x-menuitem value=\"note\"><x-label>Note</x-label></x-menuitem><x-menuitem value=\"option\"><x-label>Option</x-label></x-menuitem><x-menuitem value=\"presentation\"><x-label>Presentation</x-label></x-menuitem><x-menuitem value=\"progressbar\"><x-label>Progressbar</x-label></x-menuitem><x-menuitem value=\"radio\"><x-label>Radio</x-label></x-menuitem><x-menuitem value=\"radiogroup\"><x-label>Radio group</x-label></x-menuitem><x-menuitem value=\"range\"><x-label>Range</x-label></x-menuitem><x-menuitem value=\"region\"><x-label>Region</x-label></x-menuitem><x-menuitem value=\"roletype\"><x-label>Role type</x-label></x-menuitem><x-menuitem value=\"row\"><x-label>Row</x-label></x-menuitem><x-menuitem value=\"rowgroup\"><x-label>Row group</x-label></x-menuitem><x-menuitem value=\"rowheader\"><x-label>Row header</x-label></x-menuitem><x-menuitem value=\"scrollbar\"><x-label>Scrollbar</x-label></x-menuitem><x-menuitem value=\"search\"><x-label>Search</x-label></x-menuitem><x-menuitem value=\"searchbox\"><x-label>Searchbox</x-label></x-menuitem><x-menuitem value=\"section\"><x-label>Section</x-label></x-menuitem><x-menuitem value=\"sectionhead\"><x-label>Section head</x-label></x-menuitem><x-menuitem value=\"select\"><x-label>Select</x-label></x-menuitem><x-menuitem value=\"separator\"><x-label>Separator</x-label></x-menuitem><x-menuitem value=\"slider\"><x-label>Slider</x-label></x-menuitem><x-menuitem value=\"spinbutton\"><x-label>Spin button</x-label></x-menuitem><x-menuitem value=\"status\"><x-label>Status</x-label></x-menuitem><x-menuitem value=\"structure\"><x-label>Structure</x-label></x-menuitem><x-menuitem value=\"switch\"><x-label>Switch</x-label></x-menuitem><x-menuitem value=\"tab\"><x-label>Tab</x-label></x-menuitem><x-menuitem value=\"table\"><x-label>Table</x-label></x-menuitem><x-menuitem value=\"tablist\"><x-label>Tab list</x-label></x-menuitem><x-menuitem value=\"tabpanel\"><x-label>Tab panel</x-label></x-menuitem><x-menuitem value=\"term\"><x-label>Term</x-label></x-menuitem><x-menuitem value=\"textbox\"><x-label>Textbox</x-label></x-menuitem><x-menuitem value=\"timer\"><x-label>Timer</x-label></x-menuitem><x-menuitem value=\"toolbar\"><x-label>Toolbar</x-label></x-menuitem><x-menuitem value=\"tooltip\"><x-label>Tooltip</x-label></x-menuitem><x-menuitem value=\"tree\"><x-label>Tree</x-label></x-menuitem><x-menuitem value=\"treegrid\"><x-label>Tree grid</x-label></x-menuitem><x-menuitem value=\"treeitem\"><x-label>Tree item</x-label></x-menuitem><x-menuitem value=\"widget\"><x-label>Widget</x-label></x-menuitem><x-menuitem value=\"window\"><x-label>Window</x-label></x-menuitem></x-menu></x-select></x-box><x-box id=\"tab-index-box\" vertical><h4 id=\"tab-index-heading\">Tab index</h4><x-box><x-slider id=\"tab-index-slider\" value=\"-1\" min=\"-1\" max=\"20\"></x-slider><x-numberinput id=\"tab-index-input\" value=\"-1\" step=\"1\" precision=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"link-section\"><h3 id=\"link-section-heading\">Link</h3><x-box id=\"link-box\"><x-button id=\"link-button\" value=\"link\" togglable><x-icon name=\"link\"></x-icon><x-label>Link</x-label></x-button><x-input id=\"link-input\"><x-label>URL</x-label></x-input></x-box><x-checkbox id=\"link-target-checkbox\"><x-label>Open in a new tab</x-label></x-checkbox></section><hr><section id=\"scripting-section\"><h3 id=\"scripting-heading\">Scripting</h3><x-box id=\"id-box\" vertical><h4 id=\"id-heading\">ID</h4><x-input id=\"id-input\" validation=\"instant\"></x-input></x-box><x-box id=\"classes-box\" vertical><h4 id=\"classes-heading\">Classes</h4><x-tagsinput id=\"classes-input\" delimiter=\" \"></x-tagsinput></x-box></section></template>"]);_templateObject377=function _templateObject377(){return data;};return data;}function _templateObject376(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}#container{display:flex;flex-flow:column;width:100%;height:100%}h2{margin:16px 20px -8px 20px}[hidden]{display:none}#main{flex:1;overflow:auto;outline:0;position:relative}#footer{display:flex;align-items:center;width:100%;padding:10px 20px;box-sizing:border-box;border-top-width:1px;border-top-style:solid}#footer[hidden]{display:none}#space-buttons{width:100%;max-width:none}#space-buttons>x-button{flex:1}"]);_templateObject376=function _templateObject376(){return data;};return data;}function _templateObject375(){var data=_taggedTemplateLiteral(["<template><div id=\"container\"><main id=\"main\" part=\"main\"><h2 id=\"panel-heading\">Geometry</h2><div id=\"inspectors\"><bx-circlegeometryinspector></bx-circlegeometryinspector><hr><bx-ellipsegeometryinspector></bx-ellipsegeometryinspector><hr><bx-coggeometryinspector></bx-coggeometryinspector><hr><bx-crossgeometryinspector></bx-crossgeometryinspector><hr><bx-piegeometryinspector></bx-piegeometryinspector><hr><bx-ringgeometryinspector></bx-ringgeometryinspector><hr><bx-rectgeometryinspector></bx-rectgeometryinspector><hr><bx-crescentgeometryinspector></bx-crescentgeometryinspector><hr><bx-trianglegeometryinspector></bx-trianglegeometryinspector><hr><bx-ngongeometryinspector></bx-ngongeometryinspector><hr><bx-spiralgeometryinspector></bx-spiralgeometryinspector><hr><bx-stargeometryinspector></bx-stargeometryinspector><hr><bx-arrowgeometryinspector></bx-arrowgeometryinspector><hr><bx-nodegeometryinspector></bx-nodegeometryinspector><hr><bx-imagegeometryinspector></bx-imagegeometryinspector><hr><bx-linegeometryinspector></bx-linegeometryinspector><hr><bx-chargeometryinspector></bx-chargeometryinspector><hr><bx-objectgeometryinspector></bx-objectgeometryinspector><hr><bx-guidegeometryinspector></bx-guidegeometryinspector><hr><bx-gridgeometryinspector></bx-gridgeometryinspector><hr><bx-svggeometryinspector></bx-svggeometryinspector><hr><bx-symbolgeometryinspector></bx-symbolgeometryinspector><hr><bx-patterngeometryinspector></bx-patterngeometryinspector><hr><bx-markergeometryinspector></bx-markergeometryinspector><hr><bx-viewgeometryinspector></bx-viewgeometryinspector></div></main><footer id=\"footer\" part=\"footer\"><x-buttons id=\"space-buttons\" tracking=\"1\"><x-button value=\"canvas\" condensed toggled><x-label>Canvas space</x-label></x-button><x-button value=\"viewport\" condensed><x-label>Viewport space</x-label></x-button></x-buttons></footer></div></template>"]);_templateObject375=function _templateObject375(){return data;};return data;}function _templateObject374(){var data=_taggedTemplateLiteral(["#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject374=function _templateObject374(){return data;};return data;}function _templateObject373(){var data=_taggedTemplateLiteral(["<template><h3>View</h3><section id=\"viewbox-section\"><h4 id=\"viewbox-heading\">View box</h4><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject373=function _templateObject373(){return data;};return data;}function _templateObject372(){var data=_taggedTemplateLiteral(["#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-slider{flex:1}#shift-section x-numberinput{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section>x-box{width:100%}#corner-section x-slider{flex:1}#corner-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject372=function _templateObject372(){return data;};return data;}function _templateObject371(){var data=_taggedTemplateLiteral(["<template><h3>Triangle</h3><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"0.5\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject371=function _templateObject371(){return data;};return data;}function _templateObject370(){var data=_taggedTemplateLiteral(["#arch-section{margin-top:14px}#arch-section h4{margin-bottom:0}#arch-section x-box{width:100%}#arch-section x-slider{flex:1}#arch-section x-numberinput{width:80px;margin-left:10px}#hollow-section{margin-top:14px}#hollow-section h4{margin-bottom:0}#hollow-section>x-box{width:100%}#hollow-section x-slider{flex:1}#hollow-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject370=function _templateObject370(){return data;};return data;}function _templateObject369(){var data=_taggedTemplateLiteral(["<template><h3>Crescent</h3><section id=\"arch-section\"><h4 id=\"arch-heading\">Arch</h4><x-box><x-slider id=\"arch-slider\" value=\"0\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" value=\"0\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-section\"><h4 id=\"hollow-heading\">Hollow</h4><x-box><x-slider id=\"hollow-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject369=function _templateObject369(){return data;};return data;}function _templateObject368(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject368=function _templateObject368(){return data;};return data;}function _templateObject367(){var data=_taggedTemplateLiteral(["<template><h3>Symbol</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject367=function _templateObject367(){return data;};return data;}function _templateObject366(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{display:block;flex:1;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject366=function _templateObject366(){return data;};return data;}function _templateObject365(){var data=_taggedTemplateLiteral(["<template><h3>SVG</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"px\" toggled><x-label>Pixels (px)</x-label></x-menuitem><x-menuitem value=\"cm\"><x-label>Centimeters (cm)</x-label></x-menuitem><x-menuitem value=\"mm\"><x-label>Millimeters (mm)</x-label></x-menuitem><x-menuitem value=\"in\"><x-label>Inches (in)</x-label></x-menuitem><x-menuitem value=\"pt\"><x-label>Points (pt)</x-label></x-menuitem><x-menuitem value=\"pc\"><x-label>Picas (pc)</x-label></x-menuitem><x-menuitem value=\"q\"><x-label>Quarter-millimeters (Q)</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject365=function _templateObject365(){return data;};return data;}function _templateObject364(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section x-slider{flex:1}#arms-section x-numberinput{width:54px;margin-left:10px}#depth-section{margin-top:14px}#depth-section h4{margin-bottom:0}#depth-section x-box{width:100%}#depth-section x-slider{flex:1}#depth-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject364=function _templateObject364(){return data;};return data;}function _templateObject363(){var data=_taggedTemplateLiteral(["<template><h3>Star</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"depth-section\"><h4 id=\"depth-heading\">Depth</h4><x-box><x-slider id=\"depth-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"depth-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject363=function _templateObject363(){return data;};return data;}function _templateObject362(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#angle-section{display:flex;justify-content:space-between;margin-top:14px}#angle-section x-box{width:calc(50% - 13px)}#angle-section x-numberinput{width:100%}"]);_templateObject362=function _templateObject362(){return data;};return data;}function _templateObject361(){var data=_taggedTemplateLiteral(["<template><h3>Spiral</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-section\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject361=function _templateObject361(){return data;};return data;}function _templateObject360(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#r1-section{display:flex;margin-top:14px}#r1-section x-numberinput{width:100%}#r1-section x-box{flex:1}#r1-section #r1-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r1-section #r1-aspect-ratio-button[toggled]{opacity:.9}#r1-section #r1-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#r2-section{display:flex;margin-top:14px}#r2-section x-numberinput{width:100%}#r2-section x-box{flex:1}#r2-section #r2-aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#r2-section #r2-aspect-ratio-button[toggled]{opacity:.9}#r2-section #r2-aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject360=function _templateObject360(){return data;};return data;}function _templateObject359(){var data=_taggedTemplateLiteral(["<template><h3>Ring</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r1-section\"><x-box id=\"r1x-box\" vertical><h4 id=\"r1x-heading\">Inner radius X</h4><x-numberinput id=\"r1x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r1-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r1-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r1y-box\" vertical><h4 id=\"r1y-heading\">Inner radius Y</h4><x-numberinput id=\"r1y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-section\"><x-box id=\"r2x-box\" vertical><h4 id=\"r2x-heading\">Outer radius X</h4><x-numberinput id=\"r2x-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"r2-aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"r2-aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"r2y-box\" vertical><h4 id=\"r2y-heading\">Outer radius Y</h4><x-numberinput id=\"r2y-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject359=function _templateObject359(){return data;};return data;}function _templateObject358(){var data=_taggedTemplateLiteral(["#corner-radius-section x-label{margin:0 0 5px 0;font-size:11px;font-weight:500}#corner-radius-section x-numberinput{width:100%}#corner-radius-section #r12-box{justify-content:space-between}#corner-radius-section #r43-box{margin-top:12px;justify-content:space-between}#corner-radius-section #r1-box,#corner-radius-section #r4-box{flex:1;margin-right:13px}#corner-radius-section #r2-box,#corner-radius-section #r3-box{flex:1;margin-left:13px}"]);_templateObject358=function _templateObject358(){return data;};return data;}function _templateObject357(){var data=_taggedTemplateLiteral(["<template><h3>Rectangle</h3><section id=\"corner-radius-section\"><h4 id=\"corner-radius-heading\">Corner radius</h4><x-box id=\"r12-box\"><x-box id=\"r1-box\" vertical><x-label id=\"r1-heading\">Top left</x-label><x-numberinput id=\"r1-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><x-label id=\"r2-heading\">Top right</x-label><x-numberinput id=\"r2-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"r43-box\"><x-box id=\"r4-box\" vertical><x-label id=\"r4-heading\">Bottom left</x-label><x-numberinput id=\"r4-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><x-label id=\"r3-heading\">Bottom right</x-label><x-numberinput id=\"r3-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject357=function _templateObject357(){return data;};return data;}function _templateObject356(){var data=_taggedTemplateLiteral(["#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(50% - 13px)}#radius-section x-numberinput{width:100%}#start-angle-section{margin-top:14px}#start-angle-section h4{margin-bottom:0}#start-angle-section x-box{width:100%}#start-angle-section x-slider{flex:1}#start-angle-section x-numberinput{margin-left:10px;width:80px}#end-angle-section{margin-top:14px}#end-angle-section h4{margin-bottom:0}#end-angle-section x-box{width:100%}#end-angle-section x-slider{flex:1}#end-angle-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject356=function _templateObject356(){return data;};return data;}function _templateObject355(){var data=_taggedTemplateLiteral(["<template><h3>Pie</h3><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Inner radius</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Outer radius</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"start-angle-section\"><h4 id=\"start-angle-heading\">Start angle</h4><x-box><x-slider id=\"start-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-angle-section\"><h4 id=\"end-angle-heading\">End angle</h4><x-box><x-slider id=\"end-angle-slider\" value=\"0\" min=\"0\" max=\"360\" step=\"1\"></x-slider><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" max=\"360\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject355=function _templateObject355(){return data;};return data;}function _templateObject354(){var data=_taggedTemplateLiteral(["#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}"]);_templateObject354=function _templateObject354(){return data;};return data;}function _templateObject353(){var data=_taggedTemplateLiteral(["<template><h3>Pattern</h3><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" data-property=\"x\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" data-property=\"y\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"width\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" data-property=\"height\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section></template>"]);_templateObject353=function _templateObject353(){return data;};return data;}function _templateObject352(){var data=_taggedTemplateLiteral(["#position-section{display:flex;margin-top:14px}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#origin-section{display:flex;margin-top:14px}#origin-section x-numberinput{width:100%}#origin-section #origin-x-box{flex:1;margin-right:13px}#origin-section #origin-y-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-slider{flex:1}#rotation-input{margin-left:10px;width:80px}#rotation-section>x-box{width:100%}"]);_templateObject352=function _templateObject352(){return data;};return data;}function _templateObject351(){var data=_taggedTemplateLiteral(["<template><h3>Object</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"origin-section\"><x-box id=\"origin-x-box\" vertical><h4 id=\"origin-x-heading\">Origin X</h4><x-numberinput id=\"origin-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"origin-y-box\" vertical><h4 id=\"origin-y-heading\">Origin Y</h4><x-numberinput id=\"origin-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject351=function _templateObject351(){return data;};return data;}function _templateObject350(){var data=_taggedTemplateLiteral(["section{margin-top:14px;display:flex}section[hidden]{display:none}#node-point-section x-numberinput{width:100%}#node-point-section #x-box{flex:1;margin-right:13px}#node-point-section #y-box{flex:1;margin-left:13px}#control-point-1-section x-numberinput{width:100%}#control-point-1-section #x1-box{flex:1;margin-right:13px}#control-point-1-section #y1-box{flex:1;margin-left:13px}#control-point-2-section x-numberinput{width:100%}#control-point-2-section #x2-box{flex:1;margin-right:13px}#control-point-2-section #y2-box{flex:1;margin-left:13px}"]);_templateObject350=function _templateObject350(){return data;};return data;}function _templateObject349(){var data=_taggedTemplateLiteral(["<template><h3>Node</h3><section id=\"node-point-section\"><x-box id=\"x-box\" vertical><h4 id=\"x-heading\">X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4 id=\"y-heading\">Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-1-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">X1</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Y1</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"control-point-2-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">X2</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">Y2</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject349=function _templateObject349(){return data;};return data;}function _templateObject348(){var data=_taggedTemplateLiteral(["#arms-section{margin-top:14px}#arms-section h4{margin-bottom:0}#arms-section x-box{width:100%}#arms-section #arms-slider{flex:1}#arms-section #arms-input{width:54px;margin-left:10px}#corner-section{margin-top:14px}#corner-section h4{margin-bottom:0}#corner-section x-box{width:100%}#corner-section #corner-slider{flex:1}#corner-section #corner-input{width:54px;margin-left:10px}"]);_templateObject348=function _templateObject348(){return data;};return data;}function _templateObject347(){var data=_taggedTemplateLiteral(["<template><h3>N-gon</h3><section id=\"arms-section\"><h4 id=\"arms-heading\">Arms</h4><x-box><x-slider id=\"arms-slider\" value=\"5\" min=\"5\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" value=\"5\" min=\"5\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-section\"><h4 id=\"corner-heading\">Corner</h4><x-box><x-slider id=\"corner-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject347=function _templateObject347(){return data;};return data;}function _templateObject346(){var data=_taggedTemplateLiteral(["#viewport-header{display:flex;align-items:center}#viewport-size-box{width:100%}#viewport-box{margin-top:2px}#viewport-box x-numberinput{width:100%}#viewport-height-box,#viewport-width-box{display:block;width:calc(50% - 14px)}#viewport-height-label,#viewport-units-label,#viewport-width-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewport-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewport-lock-button[toggled]{opacity:.9}#viewport-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#viewport-height-input,#viewport-width-input{width:100%;flex:1}#viewport-units-box{width:100%;margin-top:6px}#viewport-units-select{width:100%}#viewbox-section{margin-top:20px}#viewbox-header{display:flex;align-items:center}#viewbox-heading{flex:1;margin:0}#viewbox-box{margin-top:7px;justify-content:space-between}#viewbox-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#viewbox-box x-numberinput{width:56px}#viewbox-position-box{width:100%}#viewbox-position-box x-numberinput{width:100%}#viewbox-position-box #viewbox-x-box{flex:1;margin-right:13px}#viewbox-position-box #viewbox-y-box{flex:1;margin-left:13px}#viewbox-size-box{width:100%;margin-top:6px}#viewbox-size-box x-numberinput{width:100%}#viewbox-size-box #viewbox-height-box,#viewbox-size-box #viewbox-width-box{flex:1}#viewbox-lock-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#viewbox-lock-button[toggled]{opacity:.9}#viewbox-lock-icon{width:18px;height:18px;min-width:18px;margin:0 4px}#preserve-aspect-ratio-section{margin-top:20px}#preserve-aspect-ratio-header{display:flex;align-items:center;margin-bottom:12px}#preserve-aspect-ratio-heading{flex:1;margin:0}#preserve-aspect-ratio-box{justify-content:space-between}#meet-or-slice-buttons{flex:1;margin-left:20px}#meet-or-slice-buttons x-button{flex:1}#ref-section{margin-top:20px}#ref-section-heading{margin-bottom:7px}#ref-box x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#ref-box x-numberinput{width:100%}#ref-box #ref-x-box{flex:1;margin-right:13px}#ref-box #ref-y-box{flex:1;margin-left:13px}#orient-section{margin-top:20px}#orient-heading-box{margin-bottom:8px}#orient-heading{flex:1;margin:0}#orient-input{margin-left:12px;min-width:60px}"]);_templateObject346=function _templateObject346(){return data;};return data;}function _templateObject345(){var data=_taggedTemplateLiteral(["<template><h3>Marker</h3><section id=\"viewport-section\"><header id=\"viewport-header\"><h4 id=\"viewport-heading\">Viewport</h4></header><x-box id=\"viewport-box\" vertical><x-box id=\"viewport-size-box\"><x-box id=\"viewport-width-box\" vertical><x-label id=\"viewport-width-label\">Width</x-label><x-numberinput id=\"viewport-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewport-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewport-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewport-height-box\" vertical><x-label id=\"viewport-height-label\">Height</x-label><x-numberinput id=\"viewport-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewport-units-box\" vertical><x-label id=\"viewport-units-label\">Units</x-label><x-select id=\"viewport-units-select\"><x-menu><x-menuitem value=\"userSpaceOnUse\" toggled><x-label>User</x-label></x-menuitem><x-menuitem value=\"strokeWidth\"><x-label>Stroke width</x-label></x-menuitem></x-menu></x-select></x-box></x-box></section><section id=\"viewbox-section\"><header id=\"viewbox-header\"><h4 id=\"viewbox-heading\">View box</h4><x-switch id=\"viewbox-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"viewbox-box\" vertical><x-box id=\"viewbox-position-box\"><x-box id=\"viewbox-x-box\" vertical><x-label id=\"viewbox-x-label\">X</x-label><x-numberinput id=\"viewbox-x-input\" value=\"0\" step=\"1\" condensed data-property=\"x\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"viewbox-y-box\" vertical><x-label id=\"viewbox-y-label\">Y</x-label><x-numberinput id=\"viewbox-y-input\" value=\"0\" step=\"1\" condensed data-property=\"y\"><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"viewbox-size-box\"><x-box id=\"viewbox-width-box\" vertical><x-label id=\"viewbox-width-label\">Width</x-label><x-numberinput id=\"viewbox-width-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"width\"><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"viewbox-lock-button\" togglable skin=\"flat\"><x-icon id=\"viewbox-lock-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"viewbox-height-box\" vertical><x-label id=\"viewbox-height-label\">Height</x-label><x-numberinput id=\"viewbox-height-input\" value=\"0\" min=\"0\" step=\"1\" condensed data-property=\"height\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></x-box></section><section id=\"preserve-aspect-ratio-section\"><header id=\"preserve-aspect-ratio-header\"><h4 id=\"preserve-aspect-ratio-heading\">Preserve aspect ratio</h4><x-switch id=\"preserve-aspect-ratio-switch\" size=\"smaller\" toggled></x-switch></header><x-box id=\"preserve-aspect-ratio-box\"><bx-alignbuttons id=\"align-buttons\" value=\"xMidYMid\"></bx-alignbuttons><x-buttons id=\"meet-or-slice-buttons\" tracking=\"1\"><x-button id=\"meet-button\" value=\"meet\" toggled><x-label>Meet</x-label></x-button><x-button id=\"slice-button\" value=\"slice\"><x-label>Slice</x-label></x-button></x-buttons></x-box></section><section id=\"ref-section\"><h4 id=\"ref-section-heading\">Reference point</h4><x-box id=\"ref-box\"><x-box id=\"ref-x-box\" vertical><x-label id=\"ref-x-heading\">X</x-label><x-numberinput id=\"ref-x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"ref-y-box\" vertical><x-label id=\"ref-y-heading\">Y</x-label><x-numberinput id=\"ref-y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><section id=\"orient-section\"><x-box id=\"orient-heading-box\"><h4 id=\"orient-heading\">Orient</h4><x-switch id=\"orient-switch\" size=\"smaller\" toggled></x-switch></x-box><x-box id=\"orient-box\"><x-slider id=\"orient-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"orient-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject345=function _templateObject345(){return data;};return data;}function _templateObject344(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:80px;height:80px;box-sizing:border-box;border-width:1px;border-style:solid}:host([disabled]){opacity:.5;pointer-events:none}:host(:focus){outline:0}#buttons{width:100%;height:100%}#buttons .button{position:absolute;width:22px;height:22px;min-height:22px;padding:0}.button[value=xMinYMin]{left:-1px;top:-1px}.button[value=xMidYMin]{top:-1px;left:50%;transform:translate(-50%,0)}.button[value=xMaxYMin]{top:-1px;right:-1px}.button[value=xMinYMid]{top:50%;left:-1px;transform:translate(0,-50%)}.button[value=xMidYMid]{top:50%;left:50%;transform:translate(-50%,-50%)}.button[value=xMaxYMid]{top:50%;right:-1px;transform:translate(0,-50%)}.button[value=xMinYMax]{left:-1px;bottom:-1px}.button[value=xMidYMax]{left:50%;bottom:-1px;transform:translate(-50%,0)}.button[value=xMaxYMax]{right:-1px;bottom:-1px}"]);_templateObject344=function _templateObject344(){return data;};return data;}function _templateObject343(){var data=_taggedTemplateLiteral(["<template><div id=\"buttons\"><x-button class=\"button\" part=\"button\" value=\"xMinYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMin\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMid\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMinYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMidYMax\"></x-button><x-button class=\"button\" part=\"button\" value=\"xMaxYMax\"></x-button></div></template>"]);_templateObject343=function _templateObject343(){return data;};return data;}function _templateObject342(){var data=_taggedTemplateLiteral(["#start-point-section{display:flex;margin-top:14px}#start-point-section x-numberinput{width:100%}#start-point-section #x1-box{flex:1;margin-right:13px}#start-point-section #y1-box{flex:1;margin-left:13px}#end-point-section{display:flex;margin-top:14px}#end-point-section x-numberinput{width:100%}#end-point-section #x2-box{flex:1;margin-right:13px}#end-point-section #y2-box{flex:1;margin-left:13px}#length-section{margin-top:14px}#length-section x-numberinput{width:100%}"]);_templateObject342=function _templateObject342(){return data;};return data;}function _templateObject341(){var data=_taggedTemplateLiteral(["<template><h3>Line</h3><section id=\"start-point-section\"><x-box id=\"x1-box\" vertical><h4 id=\"x1-heading\">Start X</h4><x-numberinput id=\"x1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y1-box\" vertical><h4 id=\"y1-heading\">Start Y</h4><x-numberinput id=\"y1-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"end-point-section\"><x-box id=\"x2-box\" vertical><h4 id=\"x2-heading\">End X</h4><x-numberinput id=\"x2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y2-box\" vertical><h4 id=\"y2-heading\">End Y</h4><x-numberinput id=\"y2-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"length-section\"><h4 id=\"length-heading\">Length</h4><x-numberinput id=\"length-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject341=function _templateObject341(){return data;};return data;}function _templateObject340(){var data=_taggedTemplateLiteral(["#natural-size-section x-label{margin:0 0 5px 2px;font-size:11px;font-weight:500}#natural-size-section x-numberinput{width:100%}#natural-size-section #natural-size-box{justify-content:space-between}#natural-size-section #natural-width-box{flex:1;margin-right:13px}#natural-size-section #natural-height-box{flex:1;margin-left:13px}"]);_templateObject340=function _templateObject340(){return data;};return data;}function _templateObject339(){var data=_taggedTemplateLiteral(["<template><h3>Image</h3><section id=\"natural-size-section\"><h4 id=\"natural-size-heading\">Natural size</h4><x-box id=\"natural-size-box\"><x-box id=\"natural-width-box\" vertical><x-label id=\"natural-width-heading\">Width</x-label><x-numberinput id=\"natural-width-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"natural-height-box\" vertical><x-label id=\"natural-height-heading\">Height</x-label><x-numberinput id=\"natural-height-input\" value=\"0\" min=\"0\" condensed disabled=\"disabled\"><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject339=function _templateObject339(){return data;};return data;}function _templateObject338(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}"]);_templateObject338=function _templateObject338(){return data;};return data;}function _templateObject337(){var data=_taggedTemplateLiteral(["<template><h3>Guide</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"orientation-section\"><h4>Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section></template>"]);_templateObject337=function _templateObject337(){return data;};return data;}function _templateObject336(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #x-box{flex:1;margin-right:13px}#position-section #y-box{flex:1;margin-left:13px}#size-section{display:flex;margin-top:14px}#size-section x-numberinput{width:100%}#size-section #height-box,#size-section #width-box{flex:1}#aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#aspect-ratio-button[toggled]{opacity:.9}#aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject336=function _templateObject336(){return data;};return data;}function _templateObject335(){var data=_taggedTemplateLiteral(["<template><h3>Grid</h3><section id=\"position-section\"><x-box id=\"x-box\" vertical><h4>X</h4><x-numberinput id=\"x-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"y-box\" vertical><h4>Y</h4><x-numberinput id=\"y-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"size-section\"><x-box id=\"width-box\" vertical><h4 id=\"width-heading\">Width</h4><x-numberinput id=\"width-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"height-box\" vertical><h4 id=\"height-heading\">Height</h4><x-numberinput id=\"height-input\" value=\"1\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject335=function _templateObject335(){return data;};return data;}function _templateObject334(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;margin-top:14px}#radius-section x-numberinput{width:100%}#radius-section #rx-box,#radius-section #ry-box{flex:1}#radius-section #aspect-ratio-button{margin:0;align-self:flex-end;color:currentColor;opacity:.5}#radius-section #aspect-ratio-button[toggled]{opacity:.9}#radius-section #aspect-ratio-button x-icon{width:18px;height:18px;min-width:18px;margin:0 4px}"]);_templateObject334=function _templateObject334(){return data;};return data;}function _templateObject333(){var data=_taggedTemplateLiteral(["<template><h3>Ellipse</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"rx-box\" vertical><h4 id=\"rx-heading\">Radius X</h4><x-numberinput id=\"rx-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-button id=\"aspect-ratio-button\" togglable skin=\"flat\"><x-icon id=\"aspect-ratio-icon\" name=\"lock-off\"></x-icon></x-button><x-box id=\"ry-box\" vertical><h4 id=\"ry-heading\">Radius Y</h4><x-numberinput id=\"ry-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject333=function _templateObject333(){return data;};return data;}function _templateObject332(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#arm-thickness-section{display:flex;margin-top:14px}#arm-thickness-section x-numberinput{width:100%}#arm-thickness-section #horizontal-arm-thickness-box{flex:1;margin-right:13px}#arm-thickness-section #vertical-arm-thickness-box{flex:1;margin-left:13px}#shift-section{margin-top:14px}#shift-section h4{margin-bottom:0}#shift-section x-box{width:100%}#shift-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject332=function _templateObject332(){return data;};return data;}function _templateObject331(){var data=_taggedTemplateLiteral(["<template><h3>Cross</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arm-thickness-section\"><x-box id=\"horizontal-arm-thickness-box\" vertical><h4 id=\"horizontal-arm-thickness-heading\">Arm 1 thickness</h4><x-numberinput id=\"horizontal-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"vertical-arm-thickness-box\" vertical><h4 id=\"vertical-arm-thickness-heading\">Arm 2 thickness</h4><x-numberinput id=\"vertical-arm-thickness-input\" value=\"0\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-section\"><h4 id=\"shift-heading\">Shift</h4><x-box><x-slider id=\"shift-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject331=function _templateObject331(){return data;};return data;}function _templateObject330(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{display:flex;justify-content:space-between;margin-top:14px}#radius-section x-box{width:calc(33.3333% - 3px)}#radius-section x-numberinput{width:100%}#splay-section{margin-top:14px}#splay-section h4{margin-bottom:0}#splay-section x-box{width:100%}#splay-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}#teeth-section{margin-top:14px}#teeth-section h4{margin-bottom:0}#teeth-section x-box{width:100%}#teeth-section x-numberinput{flex:0;width:80px;min-width:80px;margin-left:10px}"]);_templateObject330=function _templateObject330(){return data;};return data;}function _templateObject329(){var data=_taggedTemplateLiteral(["<template><h3>Cog</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><x-box id=\"r1-box\" vertical><h4 id=\"r1-heading\">Radius 1</h4><x-numberinput id=\"r1-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r2-box\" vertical><h4 id=\"r2-heading\">Radius 2</h4><x-numberinput id=\"r2-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"r3-box\" vertical><h4 id=\"r3-heading\">Radius 3</h4><x-numberinput id=\"r3-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-section\"><h4 id=\"splay-heading\">Splay</h4><x-box><x-slider id=\"splay-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" value=\"0\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-section\"><h4 id=\"teeth-heading\">Teeth</h4><x-box><x-slider id=\"teeth-slider\" value=\"5\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" value=\"5\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject329=function _templateObject329(){return data;};return data;}function _templateObject328(){var data=_taggedTemplateLiteral(["#center-point-section{display:flex;margin-top:14px}#center-point-section x-numberinput{width:100%}#center-point-section #cx-box{flex:1;margin-right:13px}#center-point-section #cy-box{flex:1;margin-left:13px}#radius-section{margin-top:14px}#radius-input{width:100%}"]);_templateObject328=function _templateObject328(){return data;};return data;}function _templateObject327(){var data=_taggedTemplateLiteral(["<template><h3>Circle</h3><section id=\"center-point-section\"><x-box id=\"cx-box\" vertical><h4 id=\"cx-heading\">Center X</h4><x-numberinput id=\"cx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"cy-box\" vertical><h4 id=\"cy-heading\">Center Y</h4><x-numberinput id=\"cy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-numberinput id=\"radius-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></section></template>"]);_templateObject327=function _templateObject327(){return data;};return data;}function _templateObject326(){var data=_taggedTemplateLiteral(["#position-section{margin-top:14px;display:flex}#position-section x-numberinput{width:100%}#position-section #dx-box{flex:1;margin-right:13px}#position-section #dy-box{flex:1;margin-left:13px}#rotation-section{margin-top:14px}#rotation-section h4{margin-bottom:0}#rotation-section x-box{width:100%}#rotation-section x-slider{flex:1}#rotation-section x-numberinput{margin-left:10px;width:80px}"]);_templateObject326=function _templateObject326(){return data;};return data;}function _templateObject325(){var data=_taggedTemplateLiteral(["<template><h3>Character</h3><section id=\"position-section\"><x-box id=\"dx-box\" vertical><h4 id=\"dx-heading\">Delta X</h4><x-numberinput id=\"dx-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"dy-box\" vertical><h4 id=\"dy-heading\">Delta Y</h4><x-numberinput id=\"dy-input\" value=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"rotation-section\"><h4 id=\"rotation-heading\">Rotation</h4><x-box id=\"rotation-box\"><x-slider id=\"rotation-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"rotation-input\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject325=function _templateObject325(){return data;};return data;}function _templateObject324(){var data=_taggedTemplateLiteral(["#base-thickness-section{margin-top:6px}#base-thickness-section h4{margin-bottom:0}#base-thickness-section x-box{width:100%}#base-thickness-section x-slider{flex:1}#base-thickness-section x-numberinput{width:80px;margin-left:10px}#head-thickness-section{margin-top:14px}#head-thickness-section h4{margin-bottom:0}#head-thickness-section x-box{width:100%}#head-thickness-section x-slider{flex:1}#head-thickness-section x-numberinput{width:80px;margin-left:10px}#head-length-section{margin-top:14px}#head-length-section h4{margin-bottom:0}#head-length-section x-box{width:100%}#head-length-section x-slider{flex:1}#head-length-section x-numberinput{width:80px;margin-left:10px}#head-inset-section{margin-top:14px}#head-inset-section h4{margin-bottom:0}#head-inset-section x-box{width:100%}#head-inset-section x-slider{flex:1}#head-inset-section x-numberinput{width:80px;margin-left:10px}"]);_templateObject324=function _templateObject324(){return data;};return data;}function _templateObject323(){var data=_taggedTemplateLiteral(["<template><h3>Arrow</h3><section id=\"base-thickness-section\"><h4>Base thickness</h4><x-box><x-slider id=\"base-thickness-slider\"></x-slider><x-numberinput id=\"base-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-section\"><h4>Head thickness</h4><x-box><x-slider id=\"head-thickness-slider\"></x-slider><x-numberinput id=\"head-thickness-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-section\"><h4>Head length</h4><x-box><x-slider id=\"head-length-slider\"></x-slider><x-numberinput id=\"head-length-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-section\"><h4>Head inset</h4><x-box><x-slider id=\"head-inset-slider\"></x-slider><x-numberinput id=\"head-inset-input\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></template>"]);_templateObject323=function _templateObject323(){return data;};return data;}function _templateObject322(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;padding:18px 20px;box-sizing:border-box}:host([hidden]){display:none}h3{margin:0 0 14px 0}h4{margin-top:0}x-numberinput{max-width:none}x-switch{margin:0}"]);_templateObject322=function _templateObject322(){return data;};return data;}function _templateObject321(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}#font-section{padding:10px 20px 20px 20px}#font-family-subsection{margin-bottom:15px}#font-family-popover{padding:0;height:100%;width:240px}#font-family-button{width:100%}#font-family-label{flex:1;font-size:20px;line-height:20px;text-align:start}#font-face-subsection{margin-bottom:15px}#font-face-box{width:100%}#font-weight-select{width:100%;min-width:10px}#font-style-button{min-width:fit-content;height:26px;font-style:italic;margin:0 0 0 8px}#font-size-box{width:100%}#font-size-slider{flex:1}#font-size-input{margin-left:6px;width:54px}#text-section x-button x-icon{width:20px;height:20px}#text-anchor-box{margin-top:14px}#text-anchor-buttons{width:100%}#text-anchor-buttons x-button{flex:1}#text-anchor-buttons x-button x-label{font-size:12px}#text-decoration-buttons{width:100%}#text-decoration-buttons x-button{padding:0 7px;height:28px;flex:1}#text-decoration-buttons x-label{font-weight:600;font-size:12px;text-align:center}#underline-button x-label{text-decoration:underline}#overline-button x-label{text-decoration:overline;line-height:1.3}#line-through-button x-label{text-decoration:line-through}#text-transform-box{width:100%;margin-top:14px}#text-transform-buttons{width:100%}#text-transform-buttons x-button{padding:0 5px;height:28px;flex:1}#text-transform-buttons x-label{font-weight:600;font-size:12px;text-align:center}#text-on-path-button{width:100%;text-align:center;height:28px}#path-start-offset-box{margin-top:14px}#path-start-offset-heading{margin-bottom:0}#path-start-offset-inner-box{width:100%}#path-start-offset-slider{flex:1}#path-start-offset-input{margin-left:6px;width:54px}#letter-spacing-box{margin-bottom:6px}#letter-spacing-heading{margin-bottom:0}#letter-spacing-inner-box{width:100%}#letter-spacing-slider{flex:1}#letter-spacing-input{margin-left:6px;width:54px}#word-spacing-box{margin-bottom:6px}#word-spacing-heading{margin-bottom:0}#word-spacing-inner-box{width:100%}#word-spacing-slider{flex:1}#word-spacing-input{margin-left:6px;width:54px}#line-spacing-heading{margin-bottom:0}#line-spacing-inner-box{width:100%}#line-spacing-slider{flex:1}#line-spacing-input{margin-left:6px;width:54px}"]);_templateObject321=function _templateObject321(){return data;};return data;}function _templateObject320(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Typography</h2><section id=\"font-section\"><h3 id=\"font-section-heading\">Font</h3><x-box id=\"font-family-subsection\" vertical><h4 id=\"font-family-heading\">Family</h4><x-button id=\"font-family-button\" size=\"larger\"><x-label id=\"font-family-label\">Arial</x-label><x-popover id=\"font-family-popover\" modal><bx-fontfamilypicker id=\"font-family-picker\"></bx-fontfamilypicker></x-popover></x-button></x-box><x-box id=\"font-face-subsection\" vertical><h4 id=\"font-face-heading\">Face</h4><x-box id=\"font-face-box\"><x-select id=\"font-weight-select\"><x-menu id=\"font-weight-menu\"><x-menuitem value=\"100\"><x-label>100 - Thin</x-label></x-menuitem><x-menuitem value=\"200\"><x-label>200 - Extra-Light</x-label></x-menuitem><x-menuitem value=\"300\"><x-label>300 - Light</x-label></x-menuitem><x-menuitem value=\"400\" selected=\"true\"><x-label>400 - Normal</x-label></x-menuitem><x-menuitem value=\"500\"><x-label>500 - Medium</x-label></x-menuitem><x-menuitem value=\"600\"><x-label>600 - Semi-Bold</x-label></x-menuitem><x-menuitem value=\"700\"><x-label>700 - Bold</x-label></x-menuitem><x-menuitem value=\"800\"><x-label>800 - Extra-Bold</x-label></x-menuitem><x-menuitem value=\"900\"><x-label>900 - Ultra-Bold</x-label></x-menuitem></x-menu></x-select><x-button id=\"font-style-button\" condensed togglable><x-label>Italic</x-label></x-button></x-box></x-box><x-box id=\"font-size-subsection\" vertical><h4 id=\"font-size-heading\">Size</h4><x-box id=\"font-size-box\"><x-slider id=\"font-size-slider\" value=\"13\" min=\"1\" max=\"150\" step=\"1\"></x-slider><x-numberinput id=\"font-size-input\" value=\"13\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"text-section\"><h3 id=\"text-section-heading\">Text</h3><x-box id=\"text-decoration-box\" vertical><h4 id=\"text-decoration-heading\">Decoration</h4><x-buttons id=\"text-decoration-buttons\" tracking=\"2\"><x-button id=\"underline-button\" value=\"underline\"><x-label>Underline</x-label></x-button><x-button id=\"line-through-button\" value=\"line-through\"><x-label>Line-through</x-label></x-button><x-button id=\"overline-button\" value=\"overline\"><x-label>Overline</x-label></x-button></x-buttons></x-box><x-box id=\"text-transform-box\" vertical><h4 id=\"text-transform-heading\">Transform</h4><x-buttons id=\"text-transform-buttons\" tracking=\"0\"><x-button id=\"capitalize-button\" value=\"capitalize\"><x-label>Capitalize</x-label></x-button><x-button id=\"uppercase-button\" value=\"uppercase\"><x-label>UPPERCASE</x-label></x-button><x-button id=\"lowercase-button\" value=\"lowercase\"><x-label>lowercase</x-label></x-button></x-buttons></x-box><x-box id=\"text-anchor-box\" vertical><h4 id=\"text-anchor-heading\">Anchor</h4><x-buttons id=\"text-anchor-buttons\" tracking=\"1\"><x-button id=\"start-text-anchor-button\" value=\"start\" toggled><x-label>Start</x-label></x-button><x-button id=\"middle-text-anchor-button\" value=\"middle\"><x-label>Middle</x-label></x-button><x-button id=\"end-text-anchor-button\" value=\"end\"><x-label>End</x-label></x-button></x-buttons></x-box></section><hr><section id=\"path-section\"><h3 id=\"path-section-heading\">Path</h3><x-button id=\"text-on-path-button\" togglable><x-label>Text on path</x-label></x-button><x-box id=\"path-start-offset-box\" vertical><h4 id=\"path-start-offset-heading\">Start offset</h4><x-box id=\"path-start-offset-inner-box\"><x-slider id=\"path-start-offset-slider\" value=\"0\" min=\"-500\" max=\"500\" step=\"1\"></x-slider><x-numberinput id=\"path-start-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"spacing-section\"><h3 id=\"spacing-section-heading\">Spacing</h3><x-box id=\"letter-spacing-box\" vertical><h4 id=\"letter-spacing-heading\">Letter</h4><x-box id=\"letter-spacing-inner-box\"><x-slider id=\"letter-spacing-slider\" value=\"0\" min=\"-20\" max=\"20\" step=\"0.1\"></x-slider><x-numberinput id=\"letter-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"word-spacing-box\" vertical><h4 id=\"word-spacing-heading\">Word</h4><x-box id=\"word-spacing-inner-box\"><x-slider id=\"word-spacing-slider\" value=\"0\" min=\"-100\" max=\"100\" step=\"0.1\"></x-slider><x-numberinput id=\"word-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box><x-box id=\"line-spacing-box\" vertical><h4 id=\"line-spacing-heading\">Line</h4><x-box id=\"line-spacing-inner-box\"><x-slider id=\"line-spacing-slider\" value=\"0\" min=\"-3\" max=\"3\" step=\"0.1\"></x-slider><x-numberinput id=\"line-spacing-input\" value=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section></template>"]);_templateObject320=function _templateObject320(){return data;};return data;}function _templateObject319(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;width:100%;height:100%;box-sizing:border-box}:host(:focus){outline:0}#main{display:flex;flex-flow:column;height:100%;width:100%}h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items{width:100%;flex:1;overflow:auto;contain:strict;box-sizing:border-box}#embedded-items-heading{border-top:none}#embedded-items .item{padding:3px 6px;height:28px;display:flex;align-items:center;box-sizing:border-box}#embedded-items .item[data-selected]{color:#fff;background:var(--accent-color)}#embedded-items .item[hidden]{display:none}#embedded-items .item .label{overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:20px}#embedded-items-placeholder{padding:5px 7px;font-size:12px;opacity:.6}#google-fonts-items .item{height:25px;overflow:hidden;display:block;box-sizing:border-box;padding:0 6px;opacity:.75;background:0 0;-webkit-user-drag:none}#google-fonts-items .item[hidden]{display:none}#google-fonts-items .item[data-selected]{background:var(--accent-color);opacity:1}#google-fonts-items-placeholder{padding:5px 7px;font-size:12px;opacity:.6}#footer{padding:5px;border-top-width:1px;border-top-style:solid}#filter-input{flex:1;max-width:none;border-top-right-radius:0;border-bottom-right-radius:0}#sort-select{width:104px;margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}#footer #manage-button{width:100%;margin-top:5px;flex:1}#footer #manage-button x-icon{width:14px;height:14px}"]);_templateObject319=function _templateObject319(){return data;};return data;}function _templateObject318(){var data=_taggedTemplateLiteral(["<template><main id=\"main\" part=\"main\"><div id=\"items\"><div id=\"embedded-items-container\"><h4 id=\"embedded-items-heading\" part=\"heading\">Embedded fonts</h4><div id=\"embedded-items\"></div><div id=\"embedded-items-placeholder\" hidden>No families found.</div></div><div id=\"google-fonts-items-contaner\"><h4 id=\"google-fonts-items-heading\" part=\"heading\">Google fonts</h4><div id=\"google-fonts-items\"></div><div id=\"google-fonts-items-placeholder\" hidden>No families found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-box><x-input id=\"filter-input\" placeholder=\"Filter\" type=\"search\"><x-icon name=\"search\"></x-icon><x-label>Filter</x-label></x-input><x-select id=\"sort-select\"><x-menu><x-menuitem value=\"alphabetical\" toggled><x-label>Name</x-label></x-menuitem><x-menuitem value=\"popularity\"><x-label>Popularity</x-label></x-menuitem><x-menuitem value=\"date\"><x-label>Date</x-label></x-menuitem><x-menuitem value=\"trending\"><x-label>Trending</x-label></x-menuitem></x-menu></x-select></x-box><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button></footer></template>"]);_templateObject318=function _templateObject318(){return data;};return data;}function _templateObject317(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}section{padding:15px 20px}section[hidden]+hr{display:none}#filter-section{padding:10px 20px 15px}#filter-select{width:100%}#filter-settings-wrapper:not(:empty){margin-top:14px}#filter-convert-button{width:100%;margin-top:14px}#filter-edit-button{width:100%;margin-top:14px}#blend-mode-select{width:100%}#isolation-checkbox{margin-top:10px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#cover-buttons>x-button{flex:1}#cover-buttons>x-button:last-child{margin-left:8px}"]);_templateObject317=function _templateObject317(){return data;};return data;}function _templateObject316(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Compositing</h2><section id=\"filter-section\"><h3 id=\"filter-section-heading\">Filter</h3><bx-filterselect id=\"filter-select\"></bx-filterselect><div id=\"filter-settings-wrapper\"></div><x-button id=\"filter-convert-button\"><x-label>Convert to custom filter</x-label></x-button><x-button id=\"filter-edit-button\"><x-label>Edit custom filter\u2026</x-label></x-button></section><hr><section id=\"blend-mode-section\"><h3 id=\"blend-mode-section-heading\">Blend mode</h3><x-select id=\"blend-mode-select\"><x-menu><x-menuitem value=\"normal\" toggled><x-label>Normal</x-label></x-menuitem><hr><x-menuitem value=\"darken\"><x-label>Darken</x-label></x-menuitem><x-menuitem value=\"multiply\"><x-label>Multiply</x-label></x-menuitem><x-menuitem value=\"color-burn\"><x-label>Color Burn</x-label></x-menuitem><hr><x-menuitem value=\"lighten\"><x-label>Lighten</x-label></x-menuitem><x-menuitem value=\"screen\"><x-label>Screen</x-label></x-menuitem><x-menuitem value=\"color-dodge\"><x-label>Color Dodge</x-label></x-menuitem><hr><x-menuitem value=\"overlay\"><x-label>Overlay</x-label></x-menuitem><x-menuitem value=\"soft-light\"><x-label>Soft Light</x-label></x-menuitem><x-menuitem value=\"hard-light\"><x-label>Hard Light</x-label></x-menuitem><hr><x-menuitem value=\"difference\"><x-label>Difference</x-label></x-menuitem><x-menuitem value=\"exclusion\"><x-label>Exclusion</x-label></x-menuitem><hr><x-menuitem value=\"hue\"><x-label>Hue</x-label></x-menuitem><x-menuitem value=\"saturation\"><x-label>Saturation</x-label></x-menuitem></x-menu></x-select><x-checkbox id=\"isolation-checkbox\"><x-label id=\"isolation-label\">Isolate</x-label></x-checkbox></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box id=\"opacity-box\"><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"cover-section\"><h3 id=\"cover-section-heading\">Cover</h3><x-box id=\"cover-buttons\"><x-button id=\"clip-button\" togglable><x-icon name=\"object-clip\"></x-icon><x-label>Clip</x-label></x-button><x-button id=\"mask-button\" togglable><x-icon name=\"object-mask\"></x-icon><x-label>Mask</x-label></x-button></x-box></section></template>"]);_templateObject316=function _templateObject316(){return data;};return data;}function _templateObject315(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#colors-section{margin-top:14px;display:flex}#colors-section>x-box{flex:1}#colors-section>x-box:first-child{margin-right:7px}#colors-section>x-box:last-child{margin-left:7px}#colors-section x-colorselect{width:100%}#colors-section x-popover{--align:right}#gamma-section{margin-top:14px}#gamma-section h4{margin-bottom:0}#gamma-section x-box{width:100%}#gamma-section x-slider{flex:1}#gamma-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject315=function _templateObject315(){return data;};return data;}function _templateObject314(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"colors-section\"><x-box id=\"shadows-color-box\" vertical><h4 id=\"shadows-color-heading\">Shadows color</h4><x-colorselect id=\"shadows-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"shadows-color-popover\" modal><bx-colorpicker id=\"shadows-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box><x-box id=\"highlights-color-box\" vertical><h4 id=\"highlights-color-heading\">Highlights color</h4><x-colorselect id=\"highlights-color-select\" value=\"rgb(255, 255, 255)\"><x-popover id=\"highlights-color-popover\" modal><bx-colorpicker id=\"highlights-color-picker\"></bx-colorpicker></x-popover></x-colorselect></x-box></section><section id=\"gamma-section\"><h4 id=\"gamma-heading\">Gamma correction</h4><x-box id=\"gamma-box\"><x-slider id=\"gamma-slider\" value=\"0\" min=\"0\" max=\"4\" step=\"0.1\"></x-slider><x-numberinput id=\"gamma-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject314=function _templateObject314(){return data;};return data;}function _templateObject313(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#channels-section{margin-top:14px}#channels-buttons{width:100%}#channels-buttons x-button{flex:1}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#saturation-section{margin-top:14px}#saturation-section h4{margin-bottom:0}#saturation-section x-box{width:100%}#saturation-section x-slider{flex:1}#saturation-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject313=function _templateObject313(){return data;};return data;}function _templateObject312(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"channels-section\"><h4 id=\"channels-heading\">Channels</h4><x-buttons id=\"channels-buttons\" tracking=\"2\"><x-button value=\"r\" toggled><x-label>Red</x-label></x-button><x-button value=\"g\"><x-label>Green</x-label></x-button><x-button value=\"b\"><x-label>Blue</x-label></x-button></x-buttons></section><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"5\" min=\"1\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"5\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"saturation-section\"><h4 id=\"saturation-heading\">Saturation</h4><x-box id=\"saturation-box\"><x-slider id=\"saturation-slider\" value=\"0.9\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"saturation-input\" value=\"0.9\" min=\"0\" max=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject312=function _templateObject312(){return data;};return data;}function _templateObject311(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject311=function _templateObject311(){return data;};return data;}function _templateObject310(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject310=function _templateObject310(){return data;};return data;}function _templateObject309(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject309=function _templateObject309(){return data;};return data;}function _templateObject308(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject308=function _templateObject308(){return data;};return data;}function _templateObject307(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject307=function _templateObject307(){return data;};return data;}function _templateObject306(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject306=function _templateObject306(){return data;};return data;}function _templateObject305(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#angle-section{margin-top:14px}#angle-section h4{margin-bottom:0}#angle-section x-box{width:100%}#angle-section x-slider{flex:1}#angle-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject305=function _templateObject305(){return data;};return data;}function _templateObject304(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"angle-section\"><h4 id=\"angle-heading\">Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject304=function _templateObject304(){return data;};return data;}function _templateObject303(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:60px;margin-left:10px}"]);_templateObject303=function _templateObject303(){return data;};return data;}function _templateObject302(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject302=function _templateObject302(){return data;};return data;}function _templateObject301(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject301=function _templateObject301(){return data;};return data;}function _templateObject300(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject300=function _templateObject300(){return data;};return data;}function _templateObject299(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject299=function _templateObject299(){return data;};return data;}function _templateObject298(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject298=function _templateObject298(){return data;};return data;}function _templateObject297(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#balance-section{margin-top:14px}#balance-section h4{margin-bottom:0}#balance-section x-box{width:100%}#balance-section x-slider{flex:1}#balance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject297=function _templateObject297(){return data;};return data;}function _templateObject296(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"balance-section\"><h4 id=\"balance-heading\">Balance</h4><x-box id=\"balance-box\"><x-slider id=\"balance-slider\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"balance-input\" value=\"0\" min=\"-1\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject296=function _templateObject296(){return data;};return data;}function _templateObject295(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#operator-section{margin-top:14px}#operator-buttons{width:100%}#operator-buttons x-button{flex:1}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject295=function _templateObject295(){return data;};return data;}function _templateObject294(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"operator-section\"><h4 id=\"operator-heading\">Operator</h4><x-buttons id=\"operator-buttons\" tracking=\"1\"><x-button value=\"dilate\"><x-label>Dilate</x-label></x-button><x-button value=\"erode\" toggled><x-label>Erode</x-label></x-button></x-buttons></section><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject294=function _templateObject294(){return data;};return data;}function _templateObject293(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#pixel-size-section{margin-top:14px}#pixel-size-section h4{margin-bottom:0}#pixel-size-section x-box{width:100%}#pixel-size-section x-slider{flex:1}#pixel-size-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject293=function _templateObject293(){return data;};return data;}function _templateObject292(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"pixel-size-section\"><h4 id=\"pixel-size-heading\">Pixel size</h4><x-box id=\"pixel-size-box\"><x-slider id=\"pixel-size-slider\" value=\"10\" min=\"1\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"pixel-size-input\" value=\"10\" min=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject292=function _templateObject292(){return data;};return data;}function _templateObject291(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#amount-section{margin-top:14px}#amount-section h4{margin-bottom:0}#amount-section x-box{width:100%}#amount-section x-slider{flex:1}#amount-section x-numberinput{width:54px;margin-left:10px}#frequency-section{margin-top:14px}#frequency-section h4{margin-bottom:0}#frequency-section x-box{width:100%}#frequency-section x-slider{flex:1}#frequency-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject291=function _templateObject291(){return data;};return data;}function _templateObject290(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"amount-section\"><h4 id=\"amount-heading\">Amount</h4><x-box id=\"amount-box\"><x-slider id=\"amount-slider\" value=\"0\" min=\"0\" max=\"200\" step=\"1\"></x-slider><x-numberinput id=\"amount-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"frequency-section\"><h4 id=\"frequency-heading\">Frequency</h4><x-box id=\"frequency-box\"><x-slider id=\"frequency-slider\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"frequency-input\" value=\"0\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject290=function _templateObject290(){return data;};return data;}function _templateObject289(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#orientation-section{margin-top:14px}#orientation-buttons{width:100%}#orientation-buttons x-button{flex:1}#distance-section{margin-top:14px}#distance-section h4{margin-bottom:0}#distance-section x-box{width:100%}#distance-section x-slider{flex:1}#distance-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject289=function _templateObject289(){return data;};return data;}function _templateObject288(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"orientation-section\"><h4 id=\"orientation-heading\">Orientation</h4><x-buttons id=\"orientation-buttons\" tracking=\"1\"><x-button value=\"horizontal\" toggled><x-label>Horizontal</x-label></x-button><x-button value=\"vertical\"><x-label>Vertical</x-label></x-button></x-buttons></section><section id=\"distance-section\"><h4 id=\"distance-heading\">Distance</h4><x-box id=\"distance-box\"><x-slider id=\"distance-slider\" value=\"10\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"distance-input\" value=\"10\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject288=function _templateObject288(){return data;};return data;}function _templateObject287(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#radius-section{margin-top:14px}#radius-section h4{margin-bottom:0}#radius-section x-box{width:100%}#radius-section x-slider{flex:1}#radius-section x-numberinput{width:54px;margin-left:10px}"]);_templateObject287=function _templateObject287(){return data;};return data;}function _templateObject286(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"radius-section\"><h4 id=\"radius-heading\">Radius</h4><x-box id=\"radius-box\"><x-slider id=\"radius-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"0.1\"></x-slider><x-numberinput id=\"radius-input\" value=\"0\" min=\"0\" step=\"0.1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></main></template>"]);_templateObject286=function _templateObject286(){return data;};return data;}function _templateObject285(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#width-section{margin-top:14px}#width-section h4{margin-bottom:0}#width-section x-box{width:100%}#width-section x-slider{flex:1}#width-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject285=function _templateObject285(){return data;};return data;}function _templateObject284(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"width-section\"><h4 id=\"width-heading\">Width</h4><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"0\" min=\"0\" max=\"10\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject284=function _templateObject284(){return data;};return data;}function _templateObject283(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#target-section{display:flex;margin-top:14px}#target-section x-box{width:100%}#target-section x-box:first-child{margin-right:8px}#target-section x-box:last-child{margin-left:8px}#target-section x-numberinput{width:100%}#cone-angle-section{margin-top:14px}#cone-angle-section h4{margin-bottom:0}#cone-angle-section x-box{width:100%}#cone-angle-section x-slider{flex:1}#cone-angle-section x-numberinput{width:54px;margin-left:10px}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject283=function _templateObject283(){return data;};return data;}function _templateObject282(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"target-section\"><x-box id=\"target-x-box\" vertical><h4 id=\"target-x-heading\">Target X</h4><x-numberinput id=\"target-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-y-box\" vertical><h4 id=\"target-y-heading\">Target Y</h4><x-numberinput id=\"target-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"target-z-box\" vertical><h4 id=\"target-z-heading\">Target Z</h4><x-numberinput id=\"target-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"cone-angle-section\"><h4 id=\"cone-angle-heading\">Cone angle</h4><x-box id=\"cone-angle-box\"><x-slider id=\"cone-angle-slider\" value=\"0\" min=\"1\" max=\"90\" step=\"1\"></x-slider><x-numberinput id=\"cone-angle-input\" value=\"0\" min=\"1\" max=\"90\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject282=function _templateObject282(){return data;};return data;}function _templateObject281(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#source-section{display:flex;margin-top:14px}#source-section x-box{width:100%}#source-section x-box:first-child{margin-right:8px}#source-section x-box:last-child{margin-left:8px}#source-section x-numberinput{width:100%}#specular-exponent-section{margin-top:14px}#specular-exponent-section h4{margin-bottom:0}#specular-exponent-section x-box{width:100%}#specular-exponent-section x-slider{flex:1}#specular-exponent-section x-numberinput{width:54px;margin-left:10px}#specular-constant-section{margin-top:14px}#specular-constant-section h4{margin-bottom:0}#specular-constant-section x-box{width:100%}#specular-constant-section x-slider{flex:1}#specular-constant-section x-numberinput{width:54px;margin-left:10px}#diffuse-constant-section{margin-top:14px}#diffuse-constant-section h4{margin-bottom:0}#diffuse-constant-section x-box{width:100%}#diffuse-constant-section x-slider{flex:1}#diffuse-constant-section x-numberinput{width:54px;margin-left:10px}#ambient-constant-section{margin-top:14px}#ambient-constant-section h4{margin-bottom:0}#ambient-constant-section x-box{width:100%}#ambient-constant-section x-slider{flex:1}#ambient-constant-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select{width:100%}"]);_templateObject281=function _templateObject281(){return data;};return data;}function _templateObject280(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"source-section\"><x-box id=\"source-x-box\" vertical><h4 id=\"source-x-heading\">Source X</h4><x-numberinput id=\"source-x-input\" data-param=\"x\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-y-box\" vertical><h4 id=\"source-y-heading\">Source Y</h4><x-numberinput id=\"source-y-input\" data-param=\"y\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"source-z-box\" vertical><h4 id=\"source-z-heading\">Source Z</h4><x-numberinput id=\"source-z-input\" data-param=\"z\" value=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-exponent-section\"><h4 id=\"specular-exponent-heading\">Surface shininess</h4><x-box id=\"specular-exponent-box\"><x-slider id=\"specular-exponent-slider\" value=\"1\" min=\"1\" max=\"128\" step=\"1\"></x-slider><x-numberinput id=\"specular-exponent-input\" value=\"1\" min=\"1\" max=\"128\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"specular-constant-section\"><h4 id=\"specular-constant-heading\">Specular light</h4><x-box id=\"specular-constant-box\"><x-slider id=\"specular-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"specular-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"diffuse-constant-section\"><h4 id=\"diffuse-constant-heading\">Diffuse light</h4><x-box id=\"diffuse-constant-box\"><x-slider id=\"diffuse-constant-slider\" value=\"1\" min=\"0.01\" max=\"2\" step=\"0.01\"></x-slider><x-numberinput id=\"diffuse-constant-input\" value=\"1\" min=\"0.01\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"ambient-constant-section\"><h4 id=\"ambient-constant-heading\">Ambient light</h4><x-box id=\"ambient-constant-box\"><x-slider id=\"ambient-constant-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"ambient-constant-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"#ffffff\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\"></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject280=function _templateObject280(){return data;};return data;}function _templateObject279(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#choke-section{margin-top:14px}#choke-section h4{margin-bottom:0}#choke-section x-box{width:100%}#choke-section x-slider{flex:1}#choke-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject279=function _templateObject279(){return data;};return data;}function _templateObject278(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"choke-section\"><h4 id=\"choke-heading\">Choke</h4><x-box id=\"choke-box\"><x-slider id=\"choke-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"choke-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject278=function _templateObject278(){return data;};return data;}function _templateObject277(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host([hidden]){display:none}#offset-section{display:flex;margin-top:14px}#offset-section x-box{width:100%}#offset-section x-box:first-child{margin-right:8px}#offset-section x-box:last-child{margin-left:8px}#offset-section x-numberinput{width:100%}#blur-radius-section{margin-top:14px}#blur-radius-section h4{margin-bottom:0}#blur-radius-section x-box{width:100%}#blur-radius-section x-slider{flex:1}#blur-radius-section x-numberinput{width:54px;margin-left:10px}#spread-section{margin-top:14px}#spread-section h4{margin-bottom:0}#spread-section x-box{width:100%}#spread-section x-slider{flex:1}#spread-section x-numberinput{width:54px;margin-left:10px}#color-section{margin-top:10px}#color-select x-popover{--align:right}"]);_templateObject277=function _templateObject277(){return data;};return data;}function _templateObject276(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><section id=\"offset-section\"><x-box id=\"offset-x-box\" vertical><h4 id=\"offset-x-heading\">Offset X</h4><x-numberinput id=\"offset-x-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"offset-y-box\" vertical><h4 id=\"offset-y-heading\">Offset Y</h4><x-numberinput id=\"offset-y-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"blur-radius-section\"><h4 id=\"blur-radius-heading\">Blur radius</h4><x-box id=\"blur-radius-box\"><x-slider id=\"blur-radius-slider\" value=\"0\" min=\"0\" max=\"20\" step=\"1\"></x-slider><x-numberinput id=\"blur-radius-input\" value=\"0\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-section\"><h4 id=\"spread-heading\">Spread</h4><x-box id=\"spread-box\"><x-slider id=\"spread-slider\" value=\"0\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"spread-input\" value=\"0\" min=\"0\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"color-section\"><h4 id=\"color-heading\">Color</h4><x-colorselect id=\"color-select\" value=\"rgba(255, 255, 255, 0)\"><x-popover id=\"color-popover\" modal><bx-colorpicker id=\"color-picker\" alphaslider></bx-colorpicker></x-popover></x-colorselect></section></main></template>"]);_templateObject276=function _templateObject276(){return data;};return data;}function _templateObject275(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#expand-button{width:100%;padding:0 10px;justify-content:start}#expand-button>x-box{flex:1}#expand-button-thumbnail{width:27px;height:27px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#expand-button-thumbnail[hidden]{display:none}:host([mixed]) #expand-button-thumbnail{opacity:.7}#expand-button-thumbnail-img{display:block;width:100%;height:100%;pointer-events:none}#expand-button-label{text-align:start;margin-left:7px}:host([mixed]) #expand-button-label{opacity:.7}#popover{flex-flow:column;width:240px;min-height:79px}#popover[open]{display:flex}#popover>#main{display:flex;flex-flow:column;padding:0;box-sizing:border-box}#items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#items .placeholder{padding:9px 10px;opacity:.6;box-sizing:border-box;font-size:12px}#items h4{margin:0;padding:5px;border-top-width:1px;border-top-style:solid;border-bottom-width:1px;border-bottom-style:solid;text-transform:uppercase;font-size:11px;line-height:1}#items .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#items .item[data-selected]{background:var(--accent-color)}#items .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#items .item .thumbnail img{display:block;width:100%;height:100%;pointer-events:none}#items .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#items .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;min-height:fit-content;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{margin-left:4px}#footer #developer-mode-button x-icon{width:11px;height:11px}#custom-filters-mirror,#preset-filters-mirror{width:0;height:0;display:block}"]);_templateObject275=function _templateObject275(){return data;};return data;}function _templateObject274(){var data=_taggedTemplateLiteral(["<template><x-button id=\"expand-button\" size=\"larger\" disabled=\"disabled\"><x-box><div id=\"expand-button-thumbnail\" part=\"thumbnail\"><img id=\"expand-button-thumbnail-img\" src=\"","\"></div><x-label id=\"expand-button-label\">None</x-label></x-box><x-popover id=\"popover\" modal><main id=\"main\"><div id=\"items\"><div id=\"none-item\" class=\"item\" data-value=\"none\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">None</div></div><div id=\"preset-items-container\"><h4 id=\"preset-items-heading\" part=\"heading\">Preset filters</h4><div id=\"preset-items\"><div class=\"item\" data-value=\"drop-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"inner-shadow\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"point-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"spot-light\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"outline\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"gaussian-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"motion-blur\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"warp\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"pixelete\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"morphology\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><hr><div class=\"item\" data-value=\"black-and-white\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"grayscale\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"sepia\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"saturate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"hue-rotate\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"invert\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"brightness\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"contrast\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"posterize\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"duotone\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div><div class=\"item\" data-value=\"x-ray\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"","\"></div><div class=\"label\">","</div></div></div></div><div id=\"custom-items-container\"><h4 id=\"custom-items-heading\" part=\"heading\">Custom filters</h4><div id=\"custom-items\"></div><div id=\"custom-items-placeholder\" class=\"placeholder\" hidden>No filters found.</div></div></div></main><footer id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" condensed title=\"Show IDs\" togglable><x-icon name=\"hash\"></x-icon></x-button></footer></x-popover></x-button><svg id=\"custom-filters-mirror\"></svg> <svg id=\"preset-filters-mirror\"></svg></template>"]);_templateObject274=function _templateObject274(){return data;};return data;}function _templateObject273(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:15px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#width-section{padding:15px 20px 17px 20px}#width-slider{flex:1}#width-input{margin-left:6px;width:54px}#non-scaling-stroke-checkbox{margin-top:5px}#line-section{padding:15px 20px 17px 20px}#line-cap-join-subsection{display:flex}#line-join-box{margin-left:38px}#miter-limit-subsection{margin-top:24px}#miter-limit-box h4{margin-bottom:2px}#miter-limit-box{width:100%}#miter-limit-slider{flex:1}#miter-limit-input{margin-left:6px;width:54px}#dash-section{padding:15px 20px 20px 20px}#dash-array-select{width:100%;margin-bottom:10px}#dash-array-inputs{width:100%}#dash-array-inputs>x-box{width:40px;margin-left:-1px;flex:1}#dash-array-inputs>x-box:first-child{margin-left:0}#dash-array-inputs x-numberinput{width:100%;text-align:center;--inner-padding:0 3px}#dash-array-inputs x-label{align-self:center;margin-right:4px;font-weight:900;opacity:.9}#dash-array-inputs x-label[disabled]{opacity:.4}#dash-array-inputs x-label.gap{opacity:.2}#dash-array-inputs x-label.gap[disabled]{opacity:.1}#dash-offset-box{margin-top:16px}#dash-offset-box h4{margin-bottom:2px}#dash-offset-inner-box{width:100%}#dash-offset-slider{flex:1}#dash-offset-input{margin-left:6px;width:54px}#marker-section{padding:15px 20px 20px 20px}#markers-box{justify-content:space-between}#markers-box>x-box{width:calc(33% - 4px)}"]);_templateObject273=function _templateObject273(){return data;};return data;}function _templateObject272(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Stroke</h2><section id=\"paint-section\"><bx-paintinspector id=\"stroke-paint-inspector\" context=\"stroke\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"width-section\"><h3 id=\"width-section-heading\">Width</h3><x-box id=\"width-box\"><x-slider id=\"width-slider\" value=\"1\" min=\"0\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"width-input\" value=\"1\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-checkbox id=\"non-scaling-stroke-checkbox\"><x-label>Non-scaling stroke</x-label></x-checkbox></section><hr><section id=\"line-section\"><h3 id=\"line-section-heading\">Line</h3><section id=\"line-cap-join-subsection\"><x-box id=\"line-cap-box\" vertical><h4 id=\"line-cap-box-heading\">Cap</h4><x-buttons id=\"line-cap-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"butt-line-cap-button\" value=\"butt\" title=\"Butt cap\" skin=\"flat\"><x-icon name=\"cap-butt\"></x-icon></x-button><x-button id=\"round-line-cap-button\" value=\"round\" title=\"Round cap\" skin=\"flat\"><x-icon name=\"cap-round\"></x-icon></x-button><x-button id=\"square-line-cap-button\" value=\"square\" title=\"Square cap\" skin=\"flat\"><x-icon name=\"cap-square\"></x-icon></x-button></x-buttons></x-box><x-box id=\"line-join-box\" vertical><h4 id=\"line-join-box-heading\">Join</h4><x-buttons id=\"line-join-buttons\" class=\"buttons\" tracking=\"1\"><x-button id=\"miter-line-join-button\" value=\"miter\" title=\"Miter join\" skin=\"flat\"><x-icon name=\"join-miter\"></x-icon></x-button><x-button id=\"round-line-join-button\" value=\"round\" title=\"Round join\" skin=\"flat\"><x-icon name=\"join-round\"></x-icon></x-button><x-button id=\"bevel-line-join-button\" value=\"bevel\" title=\"Bevel join\" skin=\"flat\"><x-icon name=\"join-bevel\"></x-icon></x-button></x-buttons></x-box></section><section id=\"miter-limit-subsection\"><h4 id=\"miter-limit-heading\">Miter limit</h4><x-box id=\"miter-limit-box\"><x-slider id=\"miter-limit-slider\" value=\"1\" min=\"1\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"miter-limit-input\" value=\"1\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dash-section\"><h3 id=\"dash-section-heading\">Dash</h3><x-box id=\"dash-array-box\" vertical><h4 id=\"dash-array-box-heading\">Array</h4><x-select id=\"dash-array-select\"><x-menu>","</x-menu></x-select><x-box id=\"dash-array-inputs\"><x-box vertical><x-numberinput id=\"dash-1-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-2-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-3-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-4-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-5-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label>\u2014</x-label></x-box><x-box vertical><x-numberinput id=\"dash-6-input\" value=\"0\" min=\"0\" step=\"1\" condensed></x-numberinput><x-label class=\"gap\">\u2014</x-label></x-box></x-box></x-box><x-box id=\"dash-offset-box\" vertical><h4 id=\"dash-offset-heading\">Offset</h4><x-box id=\"dash-offset-inner-box\"><x-slider id=\"dash-offset-slider\" value=\"0\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"dash-offset-input\" value=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></x-box></section><hr><section id=\"marker-section\"><h3 id=\"marker-section-heading\">Marker</h3><x-box id=\"markers-box\"><x-box vertical><h4 id=\"marker-start-heading\">Start</h4><bx-markerselect id=\"marker-start-select\" class=\"marker-select\" data-position=\"start\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-mid-heading\">Mid</h4><bx-markerselect id=\"marker-mid-select\" class=\"marker-select\" data-position=\"mid\"></bx-markerselect></x-box><x-box vertical><h4 id=\"marker-end-heading\">End</h4><bx-markerselect id=\"marker-end-select\" class=\"marker-select\" data-position=\"end\"></bx-markerselect></x-box></x-box></section></template>"]);_templateObject272=function _templateObject272(){return data;};return data;}function _templateObject271(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;pointer-events:none;opacity:.5}:host([enabled]){pointer-events:initial;opacity:1}:host([hidden]){display:none}:host(:focus){outline:0}#button{width:100%;padding:2px 8px;justify-content:start}#button-thumbnail{width:20px;height:20px;min-width:20px;margin:0 auto;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{visibility:hidden}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:200px;flex-flow:column}#popover #items{width:100%;height:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;padding:4px;border-top-width:1px;border-top-style:solid}#footer>x-button{flex:1}#footer>x-button+x-button{margin-left:3px}#placeholder{padding:10px;opacity:.6;box-sizing:border-box;font-size:12px}"]);_templateObject271=function _templateObject271(){return data;};return data;}function _templateObject270(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\"><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" hidden><use id=\"button-thumbnail-use\" width=\"100%\" height=\"100%\"></use></svg><x-popover id=\"popover\" modal><div id=\"items\"></div><div id=\"placeholder\" hidden>No markers defined.</div><div id=\"footer\" part=\"footer\"><x-button id=\"clear-button\" condensed><x-label>Clear</x-label></x-button><x-button id=\"manage-button\" condensed><x-label>Manage\u2026</x-label></x-button></div></x-popover></x-button></template>"]);_templateObject270=function _templateObject270(){return data;};return data;}function _templateObject269(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:auto}h2{margin:16px 20px 0 20px}h3{margin-top:0}#paint-section{padding:0 20px 20px 20px}#opacity-section{padding:14px 20px 20px 20px}#opacity-slider{flex:1}#opacity-input{margin-left:6px;width:54px}#rule-section{padding:10px 20px 20px 20px}"]);_templateObject269=function _templateObject269(){return data;};return data;}function _templateObject268(){var data=_taggedTemplateLiteral(["<template><h2 id=\"panel-heading\">Fill</h2><section id=\"paint-section\"><bx-paintinspector id=\"fill-paint-inspector\" context=\"fill\"></bx-paintinspector></section><hr><section id=\"opacity-section\"><h3 id=\"opacity-section-heading\">Opacity</h3><x-box><x-slider id=\"opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"rule-section\"><h3 id=\"rule-section-heading\">Rule</h3><x-buttons id=\"rule-buttons\" tracking=\"1\"><x-button id=\"non-zero-rule-button\" value=\"nonzero\" title=\"Non-zero\" skin=\"flat\" toggled><x-icon name=\"fill-rule-non-zero\"></x-icon></x-button><x-button id=\"even-odd-rule-button\" value=\"evenodd\" title=\"Even-odd\" skin=\"flat\"><x-icon name=\"fill-rule-even-odd\"></x-icon></x-button></x-buttons></section></template>"]);_templateObject268=function _templateObject268(){return data;};return data;}function _templateObject267(){var data=_taggedTemplateLiteral([":host{display:block}#color-select-section{margin-top:20px}#color-unlink-button{width:100%;margin-top:14px}#color-unlink-button x-icon{width:14px;height:14px}#gradient-select-section{margin-top:20px}#gradient-unlink-button{width:100%;margin-top:14px}#gradient-unlink-button x-icon{width:14px;height:14px}#pattern-select-section{margin-top:20px}#color-section{position:relative;margin-top:20px}#color-section-heading{flex:1}#color-section-heading[hidden]{display:block;visibility:hidden}#color-picker-type-buttons x-button{min-height:0;margin-left:6px;border-radius:0}#color-picker-type-buttons x-button x-icon{width:18px;height:18px}#color-picker-type-buttons x-button[computedsize=small] x-icon{width:16px;height:16px}#color-section #color-picker{width:100%;margin-top:4px}#color-section #color-picker-hint{margin:4px 0 0 0;font-size:12px;font-weight:500;line-height:1;opacity:.8}#color-section #color-picker-hint span{text-decoration:underline}#color-section #color-picker-hint span:hover{cursor:pointer}#stop-opacity-section{margin-top:20px}#stop-opacity-section-heading{margin-bottom:0}#stop-opacity-slider{flex:1}#stop-opacity-input{margin-left:6px;width:54px}#spread-method-section{margin-top:20px}#spread-method-buttons{width:100%}#spread-method-buttons x-button{flex:1}#paint-order-section{margin-top:20px}"]);_templateObject267=function _templateObject267(){return data;};return data;}function _templateObject266(){var data=_taggedTemplateLiteral(["<template><h3 id=\"section-heading\">Paint</h3><section id=\"paint-type-section\"><h4 id=\"paint-type-heading\">Type</h4><x-buttons id=\"paint-type-buttons\" tracking=\"1\"><x-button value=\"solid\" title=\"Solid Color\" skin=\"flat\"><x-icon name=\"paint-solid\"></x-icon></x-button><x-button value=\"linear-gradient\" title=\"Linear Gradient\" skin=\"flat\"><x-icon name=\"paint-linear-gradient\"></x-icon></x-button><x-button value=\"radial-gradient\" title=\"Radial Gradient\" skin=\"flat\"><x-icon name=\"paint-radial-gradient\"></x-icon></x-button><x-button value=\"pattern\" title=\"Pattern\" skin=\"flat\"><x-icon name=\"paint-pattern\"></x-icon></x-button><x-button value=\"none\" title=\"None\" skin=\"flat\"><x-icon name=\"paint-none\"></x-icon></x-button><x-button id=\"inherit-paint-button\" value=\"inherit\" title=\"Inherit\" skin=\"flat\" hidden><x-icon name=\"paint-inherit\"></x-icon></x-button></x-buttons></section><section id=\"color-select-section\" hidden><h4>Color</h4><bx-colorselect id=\"color-select\"></bx-colorselect><x-button id=\"color-unlink-button\"><x-label>Convert to ad hoc color</x-label></x-button></section><section id=\"gradient-select-section\" hidden><h4>Gradient</h4><bx-gradientselect id=\"gradient-select\"></bx-gradientselect><x-button id=\"gradient-unlink-button\"><x-label>Convert to ad hoc gradient</x-label></x-button></section><section id=\"pattern-select-section\" hidden><h4>Pattern</h4><bx-patternselect id=\"pattern-select\"></bx-patternselect></section><section id=\"color-section\" hidden><x-box><h4 id=\"color-section-heading\">Color</h4><x-buttons id=\"color-picker-type-buttons\" tracking=\"1\"><x-button value=\"rect\" skin=\"flat\" size=\"smaller\" toggled><x-icon name=\"color-picker-rect\"></x-icon></x-button><x-button value=\"wheel\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-wheel\"></x-icon></x-button><x-button value=\"bars\" skin=\"flat\" size=\"smaller\"><x-icon name=\"color-picker-bars\"></x-icon></x-button></x-buttons></x-box><bx-colorpicker id=\"color-picker\" alphaslider formatselect></bx-colorpicker><p id=\"color-picker-hint\">Select stop to recolor with <span id=\"edit-tool-span\">Edit Tool</span>.</p></section><section id=\"stop-opacity-section\" hidden><h4 id=\"stop-opacity-section-heading\">Stop opacity</h4><x-box><x-slider id=\"stop-opacity-slider\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"stop-opacity-input\" value=\"1\" min=\"0\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"spread-method-section\" hidden><h4>Spread</h4><x-buttons id=\"spread-method-buttons\" tracking=\"1\"><x-button id=\"pad-spread-method-button\" value=\"pad\"><x-label>Pad</x-label></x-button><x-button id=\"repeat-spread-method-button\" value=\"repeat\"><x-label>Repeat</x-label></x-button><x-button id=\"reflect-spread-method-button\" value=\"reflect\"><x-label>Reflect</x-label></x-button></x-buttons></section><section id=\"paint-order-section\" hidden><h4 id=\"paint-order-heading\">Order</h4><bx-paintorderswitch id=\"paint-order-switch\" context=\"fill\"></bx-paintorderswitch></section></template>"]);_templateObject266=function _templateObject266(){return data;};return data;}function _templateObject265(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;width:100%;height:32px;padding:1px;border-width:1px;border-style:solid;touch-action:pan-y}:host(:focus){outline:0}:host([computedsize=large]){height:38px}#thumbs{width:100%;height:100%;position:relative}.thumb{width:33.333%;height:100%;padding:0 10px;position:absolute;display:flex;flex:1;justify-content:center;align-items:center;box-sizing:border-box;z-index:0;color:#fff;font-size:11px}#thumbs[data-animate] .thumb{transition:left .2s ease-in-out,background .2s ease-in-out}.thumb[data-socket=\"1\"]{left:0}.thumb[data-socket=\"2\"]{left:33.333%}.thumb[data-socket=\"3\"]{left:66.666%}.thumb[data-dragged]{z-index:1}.thumb[data-toggled]{font-weight:700}"]);_templateObject265=function _templateObject265(){return data;};return data;}function _templateObject264(){var data=_taggedTemplateLiteral(["<template><x-box id=\"thumbs\"><div id=\"fill-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"fill\" data-socket=\"1\">Fill</div><div id=\"stroke-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"stroke\" data-socket=\"2\">Stroke</div><div id=\"markers-thumb\" class=\"thumb\" part=\"thumb\" data-value=\"markers\" data-socket=\"3\">Markers</div></x-box></template>"]);_templateObject264=function _templateObject264(){return data;};return data;}function _templateObject263(){var data=_taggedTemplateLiteral([":host{display:block;width:250px;box-sizing:border-box}:host([hidden]){display:none}#main{width:100%;height:100%}#main>*{width:100%}#wheel-picker{--wheel-max-width:234px}#format-select{margin-left:4px;min-width:73px;display:none}:host([formatselect]) #format-select{display:block}x-box{margin-top:15px}#input{max-width:none;flex:1}#grab-button{margin:0 0 0 5px}#grab-button[computedsize=large]{min-width:38px}#grab-button x-icon{width:14px;height:14px}#grab-button[computedsize=large] x-icon{width:16px;height:16px}"]);_templateObject263=function _templateObject263(){return data;};return data;}function _templateObject262(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"pickers\"><x-rectcolorpicker id=\"rect-picker\"></x-rectcolorpicker><x-wheelcolorpicker id=\"wheel-picker\" hidden></x-wheelcolorpicker><x-barscolorpicker id=\"bars-picker\" hidden></x-barscolorpicker></div><x-box><x-input id=\"input\" type=\"color\"></x-input><x-select id=\"format-select\" condensed><x-menu><x-menuitem value=\"hex\" toggled><x-label>Hex</x-label></x-menuitem><x-menuitem value=\"rgb\"><x-label>RGB</x-label></x-menuitem><x-menuitem value=\"rgba\"><x-label>RGBA</x-label></x-menuitem><x-menuitem value=\"hsl\"><x-label>HSL</x-label></x-menuitem><x-menuitem value=\"hsla\"><x-label>HSLA</x-label></x-menuitem></x-menu></x-select><x-button id=\"grab-button\" condensed togglable><x-icon name=\"grab-color\"></x-icon></x-button></x-box></main></template>"]);_templateObject262=function _templateObject262(){return data;};return data;}function _templateObject261(){var data=_taggedTemplateLiteral([":host{display:block;margin:0 0 15px 0;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:26px;height:26px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:44px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:28px;height:28px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}#mirror{width:0;height:0;display:block}"]);_templateObject261=function _templateObject261(){return data;};return data;}function _templateObject260(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><svg id=\"button-thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\" hidden><rect width=\"50\" height=\"50\"></rect></svg><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button><svg id=\"mirror\"></svg></template>"]);_templateObject260=function _templateObject260(){return data;};return data;}function _templateObject259(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject259=function _templateObject259(){return data;};return data;}function _templateObject258(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No gradients found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject258=function _templateObject258(){return data;};return data;}function _templateObject257(){var data=_taggedTemplateLiteral([":host{display:block;width:100%}:host(:focus){outline:0}#button{width:100%;padding:0 10px;justify-content:start}#button>x-box{flex:1}#button-thumbnail{width:46px;height:22px;margin-right:7px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#button-thumbnail[hidden]{display:none}:host([mixed]) #button-thumbnail{opacity:.7}#button-thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#button-label{text-align:start}:host([mixed]) #button-label{opacity:.7}#popover{width:240px;min-height:79px}#popover>main{display:flex;flex-flow:column;padding:0;position:relative}#placeholder{position:absolute;top:10px;padding:0 10px;opacity:.6;box-sizing:border-box;font-size:12px}#popover #items{flex:1;width:100%;box-sizing:border-box;overflow:auto}#popover .item{width:100%;height:38px;padding:0 10px;display:flex;align-items:center;box-sizing:border-box}#popover .item[data-selected]{background:var(--accent-color)}#popover .item .thumbnail{width:55px;height:24px;min-width:28px;overflow:hidden;background:var(--checkboard-background);border-width:1px;border-style:solid;-webkit-user-drag:none}#popover .item .thumbnail-inner{display:block;width:100%;height:100%;pointer-events:none}#popover .item .label{margin-left:7px;overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:13px;font-weight:400}#popover .item[data-selected] .label{color:#fff}#footer{display:flex;justify-content:flex-end;padding:4px;border-top-width:1px;border-top-style:solid}#footer #manage-button{flex:1;margin-right:4px;padding:2px 13px}#footer #manage-button x-icon{width:14px;height:14px}#footer #developer-mode-button{padding:2px 8px}#footer #developer-mode-button x-icon{width:11px;height:11px}"]);_templateObject257=function _templateObject257(){return data;};return data;}function _templateObject256(){var data=_taggedTemplateLiteral(["<template><x-button id=\"button\" size=\"larger\"><x-box><div id=\"button-thumbnail\" part=\"thumbnail\"><div id=\"button-thumbnail-inner\"></div></div><x-label id=\"button-label\"></x-label></x-box><x-popover id=\"popover\" modal><main><div id=\"placeholder\" hidden>No colors found.</div><div id=\"items\"></div><div id=\"footer\" part=\"footer\"><x-button id=\"manage-button\" condensed><x-icon name=\"defs-panel\"></x-icon><x-label>Manage\u2026</x-label></x-button><x-button id=\"developer-mode-button\" title=\"Show IDs\" title=\"Show IDs\" condensed togglable><x-icon name=\"hash\"></x-icon></x-button></div></main></x-popover></x-button></template>"]);_templateObject256=function _templateObject256(){return data;};return data;}function _templateObject255(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column;position:absolute;width:calc(100% - 76px);height:250px;bottom:-1px;left:38px;transition:transform .2s cubic-bezier(.4,0,.2,1);transform:translateY(100%);will-change:transform}:host([value]){transform:translateY(0)}::slotted(:not([enabled])){display:none}#main{width:100%;height:100%;display:flex;justify-content:center}#buttons{position:absolute;top:-21px;height:20px;z-index:1}#buttons x-button{padding:0 12px;min-height:23px;border-bottom-left-radius:0;border-bottom-right-radius:0}#panels{width:100%;height:100%;box-sizing:border-box}#resize-grippie{display:none;position:absolute;width:100%;height:14px;background:0 0;top:-13px;left:0;cursor:row-resize;touch-action:none}:host([value]) #resize-grippie{display:block}"]);_templateObject255=function _templateObject255(){return data;};return data;}function _templateObject254(){var data=_taggedTemplateLiteral(["<template><div id=\"main\"><div id=\"resize-grippie\"></div><x-buttons id=\"buttons\" tracking=\"0\"></x-buttons><div id=\"panels\"><slot></slot></div></div></template>"]);_templateObject254=function _templateObject254(){return data;};return data;}function _templateObject253(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;box-sizing:border-box;z-index:1;will-change:transform}::slotted(:not([enabled])){display:none}#buttons{position:relative;width:fit-content;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;left:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#main{position:absolute;top:0;height:100%;transform:translateX(9999px);transition:transform .2s cubic-bezier(.4,0,.2,1);background:inherit;border-left:1px solid var(--border-color);z-index:-1;will-change:transform}:host([value]) #main{transform:translateX(0)!important;z-index:2}:host([animating]) #main{contain:strict;z-index:-1}#panels{height:100%}#resize-grippie{display:none;position:absolute;width:10px;height:100%;background:0 0;top:0;left:-5px;cursor:col-resize;z-index:2;touch-action:pan-y}:host([value]) #resize-grippie{display:block}"]);_templateObject253=function _templateObject253(){return data;};return data;}function _templateObject252(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"0\" vertical></x-buttons><div id=\"main\"><div id=\"resize-grippie\"></div><div id=\"panels\"><slot></slot></div></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject252=function _templateObject252(){return data;};return data;}function _templateObject251(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box}#buttons{position:relative;margin-top:-1px;display:flex;align-items:flex-start;justify-content:flex-start;box-sizing:border-box;background:inherit;overflow:auto}#buttons::before{content:\"\";position:absolute;bottom:0;right:0;width:1px;height:100%;background:var(--border-color);display:block}#buttons::-webkit-scrollbar{display:none}#buttons #cog-tool-button>x-icon{width:19px;height:19px}x-popover{--align:right}:host-context(bx-macapp) #transform-tool-popover{margin-top:-4px}"]);_templateObject251=function _templateObject251(){return data;};return data;}function _templateObject250(){var data=_taggedTemplateLiteral(["<template><x-buttons id=\"buttons\" part=\"buttons\" tracking=\"1\" vertical><x-button id=\"transform-tool-button\" skin=\"dock\" value=\"transform-tool\" data-tooltip=\"Transform\" toggled><x-icon name=\"transform-tool\"></x-icon></x-button><x-button id=\"edit-tool-button\" skin=\"dock\" value=\"edit-tool\" data-tooltip=\"Edit\"><x-icon name=\"edit-tool\"></x-icon></x-button><x-button id=\"pan-tool-button\" skin=\"dock\" value=\"pan-tool\" data-tooltip=\"Pan\"><x-icon name=\"pan-tool\"></x-icon></x-button><x-button id=\"quad-bezier-tool-button\" skin=\"dock\" value=\"quad-bezier-tool\" data-tooltip=\"Quad Bezier\"><x-icon name=\"quad-bezier-tool\"></x-icon></x-button><x-button id=\"cubic-bezier-tool-button\" skin=\"dock\" value=\"cubic-bezier-tool\" data-tooltip=\"Cubic Bezier\"><x-icon name=\"cubic-bezier-tool\"></x-icon></x-button><x-button id=\"arc-tool-button\" skin=\"dock\" value=\"arc-tool\" data-tooltip=\"Arc\"><x-icon name=\"arc-tool\"></x-icon></x-button><x-button id=\"freehand-tool-button\" skin=\"dock\" value=\"freehand-tool\" data-tooltip=\"Freehand\"><x-icon name=\"freehand-tool\"></x-icon></x-button><x-button id=\"blob-tool-button\" skin=\"dock\" value=\"blob-tool\" data-tooltip=\"Blob\"><x-icon name=\"blob-tool\"></x-icon></x-button><x-button id=\"text-tool-button\" skin=\"dock\" value=\"text-tool\" data-tooltip=\"Text\"><x-icon name=\"text-tool\"></x-icon></x-button><x-button id=\"text-path-tool-button\" skin=\"dock\" value=\"text-path-tool\" data-tooltip=\"Text path\"><x-icon name=\"text-path-tool\"></x-icon></x-button><x-button id=\"view-tool-button\" skin=\"dock\" value=\"view-tool\" data-tooltip=\"View\"><x-icon name=\"view-tool\"></x-icon></x-button><x-button id=\"rect-tool-button\" skin=\"dock\" value=\"rect-tool\" data-tooltip=\"Rectangle\"><x-icon name=\"rect-tool\"></x-icon></x-button><x-button id=\"circle-tool-button\" skin=\"dock\" value=\"circle-tool\" data-tooltip=\"Circle\"><x-icon name=\"circle-tool\"></x-icon></x-button><x-button id=\"ellipse-tool-button\" skin=\"dock\" value=\"ellipse-tool\" data-tooltip=\"Ellipse\"><x-icon name=\"ellipse-tool\"></x-icon></x-button><x-button id=\"ring-tool-button\" skin=\"dock\" value=\"ring-tool\" data-tooltip=\"Ring\"><x-icon name=\"ring-tool\"></x-icon></x-button><x-button id=\"pie-tool-button\" skin=\"dock\" value=\"pie-tool\" data-tooltip=\"Pie\"><x-icon name=\"pie-tool\"></x-icon></x-button><x-button id=\"crescent-tool-button\" skin=\"dock\" value=\"crescent-tool\" data-tooltip=\"Crescent\"><x-icon name=\"crescent-tool\"></x-icon></x-button><x-button id=\"triangle-tool-button\" skin=\"dock\" value=\"triangle-tool\" data-tooltip=\"Triangle\"><x-icon name=\"triangle-tool\"></x-icon></x-button><x-button id=\"n-gon-tool-button\" skin=\"dock\" value=\"n-gon-tool\" data-tooltip=\"N-gon\"><x-icon name=\"n-gon-tool\"></x-icon></x-button><x-button id=\"star-tool-button\" skin=\"dock\" value=\"star-tool\" data-tooltip=\"Star\"><x-icon name=\"star-tool\"></x-icon></x-button><x-button id=\"cog-tool-button\" skin=\"dock\" value=\"cog-tool\" data-tooltip=\"Cog\"><x-icon name=\"cog-tool\"></x-icon></x-button><x-button id=\"arrow-tool-button\" skin=\"dock\" value=\"arrow-tool\" data-tooltip=\"Arrow\"><x-icon name=\"arrow-tool\"></x-icon></x-button><x-button id=\"cross-tool-button\" skin=\"dock\" value=\"cross-tool\" data-tooltip=\"Cross\"><x-icon name=\"cross-tool\"></x-icon></x-button><x-button id=\"spiral-tool-button\" skin=\"dock\" value=\"spiral-tool\" data-tooltip=\"Spiral\"><x-icon name=\"spiral-tool\"></x-icon></x-button><x-button id=\"line-tool-button\" skin=\"dock\" value=\"line-tool\" data-tooltip=\"Line\"><x-icon name=\"line-tool\"></x-icon></x-button><x-button id=\"polyline-tool-button\" skin=\"dock\" value=\"polyline-tool\" data-tooltip=\"Polyline\"><x-icon name=\"polyline-tool\"></x-icon></x-button><x-button id=\"polygon-tool-button\" skin=\"dock\" value=\"polygon-tool\" data-tooltip=\"Polygon\"><x-icon name=\"polygon-tool\"></x-icon></x-button></x-buttons><div id=\"popovers\"><x-popover id=\"transform-tool-popover\"><bx-transformsettings></bx-transformsettings></x-popover><x-popover id=\"edit-tool-popover\"><bx-editsettings></bx-editsettings></x-popover><x-popover id=\"quad-bezier-tool-popover\"><bx-quadbeziersettings></bx-quadbeziersettings></x-popover><x-popover id=\"cubic-bezier-tool-popover\"><bx-cubicbeziersettings></bx-cubicbeziersettings></x-popover><x-popover id=\"arc-tool-popover\"><bx-arcsettings></bx-arcsettings></x-popover><x-popover id=\"freehand-tool-popover\"><bx-freehandsettings></bx-freehandsettings></x-popover><x-popover id=\"blob-tool-popover\"><bx-blobsettings></bx-blobsettings></x-popover><x-popover id=\"text-tool-popover\"><bx-textsettings></bx-textsettings></x-popover><x-popover id=\"text-path-tool-popover\"><bx-textpathsettings></bx-textpathsettings></x-popover><x-popover id=\"view-tool-popover\"><bx-viewsettings></bx-viewsettings></x-popover><x-popover id=\"rect-tool-popover\"><bx-rectsettings></bx-rectsettings></x-popover><x-popover id=\"circle-tool-popover\"><bx-circlesettings></bx-circlesettings></x-popover><x-popover id=\"ellipse-tool-popover\"><bx-ellipsesettings></bx-ellipsesettings></x-popover><x-popover id=\"ring-tool-popover\"><bx-ringsettings></bx-ringsettings></x-popover><x-popover id=\"pie-tool-popover\"><bx-piesettings></bx-piesettings></x-popover><x-popover id=\"crescent-tool-popover\"><bx-crescentsettings></bx-crescentsettings></x-popover><x-popover id=\"triangle-tool-popover\"><bx-trianglesettings></bx-trianglesettings></x-popover><x-popover id=\"n-gon-tool-popover\"><bx-ngonsettings></bx-ngonsettings></x-popover><x-popover id=\"star-tool-popover\"><bx-starsettings></bx-starsettings></x-popover><x-popover id=\"cog-tool-popover\"><bx-cogsettings></bx-cogsettings></x-popover><x-popover id=\"arrow-tool-popover\"><bx-arrowsettings></bx-arrowsettings></x-popover><x-popover id=\"cross-tool-popover\"><bx-crosssettings></bx-crosssettings></x-popover><x-popover id=\"spiral-tool-popover\"><bx-spiralsettings></bx-spiralsettings></x-popover><x-popover id=\"line-tool-popover\"><bx-linesettings></bx-linesettings></x-popover><x-popover id=\"polyline-tool-popover\"><bx-polylinesettings></bx-polylinesettings></x-popover><x-popover id=\"polygon-tool-popover\"><bx-polygonsettings></bx-polygonsettings></x-popover></div><bx-tooltip id=\"tooltip\" hidden></bx-tooltip></template>"]);_templateObject250=function _templateObject250(){return data;};return data;}function _templateObject249(){var data=_taggedTemplateLiteral(["<template><h2>Polygon</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject249=function _templateObject249(){return data;};return data;}function _templateObject248(){var data=_taggedTemplateLiteral(["<template><h2>Polyline</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject248=function _templateObject248(){return data;};return data;}function _templateObject247(){var data=_taggedTemplateLiteral(["<template><h2>Line</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject247=function _templateObject247(){return data;};return data;}function _templateObject246(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}#angle-subsection{display:flex;justify-content:space-between;margin-top:14px}#angle-subsection x-box{width:calc(50% - 5px)}#angle-subsection x-numberinput{width:100%}"]);_templateObject246=function _templateObject246(){return data;};return data;}function _templateObject245(){var data=_taggedTemplateLiteral(["<template><h2>Spiral</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"start-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"end-angle-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><x-box id=\"start-angle-box\" vertical><h4 id=\"start-angle-heading\">Start angle</h4><x-numberinput id=\"start-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box><x-box id=\"end-angle-box\" vertical><h4 id=\"end-angle-heading\">End angle</h4><x-numberinput id=\"end-angle-input\" value=\"0\" min=\"0\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"outline-shape\"></bx-stylepicker></section></template>"]);_templateObject245=function _templateObject245(){return data;};return data;}function _templateObject244(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#thickness-subsection{margin-top:6px}#thickness-subsection h4{margin-bottom:0}#thickness-box{width:100%}#thickness-input{margin-left:10px;width:100px}#shift-subsection{margin-top:14px}#shift-subsection h4{margin-bottom:0}#shift-box{width:100%}#shift-input{margin-left:10px;width:100px}"]);_templateObject244=function _templateObject244(){return data;};return data;}function _templateObject243(){var data=_taggedTemplateLiteral(["<template><h2>Cross</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"thickness-subsection\"><h4>Arm thickness</h4><x-box id=\"thickness-box\"><x-slider id=\"thickness-slider\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"thickness-input\" min=\"1\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-100\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-100\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject243=function _templateObject243(){return data;};return data;}function _templateObject242(){var data=_taggedTemplateLiteral(["#base-thickness-subsection{margin-top:6px}#base-thickness-subsection h4{margin-bottom:0}#base-thickness-box{width:100%}#base-thickness-input{margin-left:10px;width:100px}#head-thickness-subsection{margin-top:14px}#head-thickness-subsection h4{margin-bottom:0}#head-thickness-box{width:100%}#head-thickness-input{margin-left:10px;width:100px}#head-length-subsection{margin-top:14px}#head-length-subsection h4{margin-bottom:0}#head-length-box{width:100%}#head-length-input{margin-left:10px;width:100px}#head-inset-subsection{margin-top:14px}#head-inset-subsection h4{margin-bottom:0}#head-inset-box{width:100%}#head-inset-input{margin-left:10px;width:100px}"]);_templateObject242=function _templateObject242(){return data;};return data;}function _templateObject241(){var data=_taggedTemplateLiteral(["<template><h2>Arrow</h2><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"base-thickness-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-size-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"head-inset-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"base-thickness-subsection\"><h4>Base thickness</h4><x-box id=\"base-thickness-box\"><x-slider id=\"base-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"base-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-thickness-subsection\"><h4>Head thickness</h4><x-box id=\"head-thickness-box\"><x-slider id=\"head-thickness-slider\" min=\"1\" max=\"60\" step=\"1\"></x-slider><x-numberinput id=\"head-thickness-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-length-subsection\"><h4>Head length</h4><x-box id=\"head-length-box\"><x-slider id=\"head-length-slider\" min=\"1\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-length-input\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"head-inset-subsection\"><h4>Head inset</h4><x-box id=\"head-inset-box\"><x-slider id=\"head-inset-slider\" min=\"0\" max=\"136\" step=\"1\"></x-slider><x-numberinput id=\"head-inset-input\" min=\"0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject241=function _templateObject241(){return data;};return data;}function _templateObject240(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r2-subsection,#r3-subsection,#splay-subsection,#teeth-subsection{margin-top:14px}#r1-subsection h4,#r2-subsection h4,#r3-subsection h4,#splay-subsection h4,#teeth-subsection h4{margin-bottom:0}#r1-subsection x-box,#r2-subsection x-box,#r3-subsection x-box,#splay-subsection x-box,#teeth-subsection x-box{width:100%}#r1-subsection x-numberinput,#r2-subsection x-numberinput,#r3-subsection x-numberinput,#splay-subsection x-numberinput,#teeth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject240=function _templateObject240(){return data;};return data;}function _templateObject239(){var data=_taggedTemplateLiteral(["<template><h2>Cog</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"splay-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r2-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"r3-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Radius 1</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r2-subsection\"><h4>Radius 2</h4><x-box id=\"r2-box\"><x-slider id=\"r2-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r2-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"r3-subsection\"><h4>Radius 3</h4><x-box id=\"r3-box\"><x-slider id=\"r3-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r3-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"splay-subsection\"><h4>Splay</h4><x-box id=\"splay-box\"><x-slider id=\"splay-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"splay-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"teeth-subsection\"><h4>Teeth</h4><x-box id=\"teeth-box\"><x-slider id=\"teeth-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"teeth-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject239=function _templateObject239(){return data;};return data;}function _templateObject238(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#depth-subsection{margin-top:6px}#arms-subsection{margin-top:14px}#arms-subsection h4,#depth-subsection h4{margin-bottom:0}#arms-subsection x-box,#depth-subsection x-box{width:100%}#arms-subsection x-numberinput,#depth-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject238=function _templateObject238(){return data;};return data;}function _templateObject237(){var data=_taggedTemplateLiteral(["<template><h2>Star</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"depth-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"depth-subsection\"><h4>Depth</h4><x-box id=\"depth-box\"><x-slider id=\"depth-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"depth-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject237=function _templateObject237(){return data;};return data;}function _templateObject236(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arms-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#arms-subsection h4,#corner-subsection h4{margin-bottom:0}#arms-subsection x-box,#corner-subsection x-box{width:100%}#arms-subsection x-numberinput,#corner-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject236=function _templateObject236(){return data;};return data;}function _templateObject235(){var data=_taggedTemplateLiteral(["<template><h2>N-gon</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arms-subsection\"><h4>Arms</h4><x-box id=\"arms-box\"><x-slider id=\"arms-slider\" min=\"3\" max=\"25\" step=\"1\"></x-slider><x-numberinput id=\"arms-input\" min=\"3\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject235=function _templateObject235(){return data;};return data;}function _templateObject234(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#shift-subsection{margin-top:6px}#corner-subsection{margin-top:14px}#corner-subsection h4,#shift-subsection h4{margin-bottom:0}#corner-subsection x-box,#shift-subsection x-box{width:100%}#corner-subsection x-numberinput,#shift-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject234=function _templateObject234(){return data;};return data;}function _templateObject233(){var data=_taggedTemplateLiteral(["<template><h2>Triangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"corner-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"shift-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"shift-subsection\"><h4>Shift</h4><x-box id=\"shift-box\"><x-slider id=\"shift-slider\" min=\"-50\" max=\"50\" step=\"1\"></x-slider><x-numberinput id=\"shift-input\" min=\"-50\" max=\"50\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"corner-subsection\"><h4>Corner</h4><x-box id=\"corner-box\"><x-slider id=\"corner-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"corner-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject233=function _templateObject233(){return data;};return data;}function _templateObject232(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#arch-subsection{margin-top:6px}#hollow-subsection{margin-top:14px}#arch-subsection h4,#hollow-subsection h4{margin-bottom:0}#arch-subsection x-box,#hollow-subsection x-box{width:100%}#arch-subsection x-numberinput,#hollow-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject232=function _templateObject232(){return data;};return data;}function _templateObject231(){var data=_taggedTemplateLiteral(["<template><h2>Crescent</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"arch-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle><circle id=\"hollow-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"arch-subsection\"><h4>Arch</h4><x-box id=\"arch-box\"><x-slider id=\"arch-slider\" min=\"1\" max=\"359\" step=\"1\"></x-slider><x-numberinput id=\"arch-input\" min=\"1\" max=\"359\" step=\"1\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"hollow-subsection\"><h4>Hollow</h4><x-box id=\"hollow-box\"><x-slider id=\"hollow-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"hollow-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject231=function _templateObject231(){return data;};return data;}function _templateObject230(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject230=function _templateObject230(){return data;};return data;}function _templateObject229(){var data=_taggedTemplateLiteral(["<template><h2>Pie</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject229=function _templateObject229(){return data;};return data;}function _templateObject228(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{height:25px;flex:1}#r1-subsection{margin-top:6px}#r1-subsection h4{margin-bottom:0}#r1-subsection x-box{width:100%}#r1-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject228=function _templateObject228(){return data;};return data;}function _templateObject227(){var data=_taggedTemplateLiteral(["<template><h2>Ring</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\"><x-label>Planar</x-label></x-button><x-button value=\"polar\"><x-label>Polar</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><path id=\"geometry-preview-shape\" class=\"shape\"></path><circle id=\"r1-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r1-subsection\"><h4>Inner radius</h4><x-box id=\"r1-box\"><x-slider id=\"r1-slider\" min=\"0\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"r1-input\" min=\"0\" max=\"100\" step=\"1\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject227=function _templateObject227(){return data;};return data;}function _templateObject226(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}"]);_templateObject226=function _templateObject226(){return data;};return data;}function _templateObject225(){var data=_taggedTemplateLiteral(["<template><h2>Ellipse</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject225=function _templateObject225(){return data;};return data;}function _templateObject224(){var data=_taggedTemplateLiteral(["<template><h2>Circle</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject224=function _templateObject224(){return data;};return data;}function _templateObject223(){var data=_taggedTemplateLiteral(["#drawing-mode-buttons{width:100%;margin:4px 0 0 0}#drawing-mode-buttons x-button{min-width:fit-content;height:25px;flex:1}#r-subsection{margin-top:6px}#r-subsection h4{margin-bottom:0}#r-subsection x-box{width:100%}#r-subsection x-numberinput{width:100px;margin-left:10px}"]);_templateObject223=function _templateObject223(){return data;};return data;}function _templateObject222(){var data=_taggedTemplateLiteral(["<template><h2>Rectangle</h2><section id=\"drawing-mode-section\"><h3>Drawing mode</h3><x-buttons id=\"drawing-mode-buttons\" tracking=\"1\"><x-button value=\"planar\" condensed><x-label>Planar</x-label></x-button><x-button value=\"polar\" condensed><x-label>Polar</x-label></x-button><x-button value=\"3-point\" condensed><x-label>3-Point</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 146 70\"><line class=\"grid-line\" x1=\"-100%\" y1=\"50%\" x2=\"200%\" y2=\"50%\"></line><line class=\"grid-line\" x1=\"50%\" y1=\"-100%\" x2=\"50%\" y2=\"200%\"></line><rect id=\"geometry-preview-shape\" class=\"shape\"></rect><circle id=\"r-grippie\" class=\"grippie\" cx=\"0\" cy=\"0\" r=\"3\"></circle></svg><section id=\"r-subsection\"><h4>Corner radius</h4><x-box id=\"r-box\"><x-slider id=\"r-slider\" min=\"0\" max=\"30\" step=\"1\"></x-slider><x-numberinput id=\"r-input\" min=\"0\" step=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject222=function _templateObject222(){return data;};return data;}function _templateObject221(){var data=_taggedTemplateLiteral(["<template><h2>View</h2><section id=\"options-section\"><h3>Options</h3><x-checkbox id=\"move-objects-checkbox\"><x-label>Move objects with view</x-label></x-checkbox><x-checkbox id=\"show-ids-checkbox\"><x-label>Show IDs</x-label></x-checkbox></section></template>"]);_templateObject221=function _templateObject221(){return data;};return data;}function _templateObject220(){var data=_taggedTemplateLiteral(["#smoothing-input{width:80px;margin-left:8px}"]);_templateObject220=function _templateObject220(){return data;};return data;}function _templateObject219(){var data=_taggedTemplateLiteral(["<template><h2>Freehand</h2><section id=\"smoothing-section\"><h3>Smoothing</h3><x-box><x-slider id=\"smoothing-slider\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\"></x-slider><x-numberinput id=\"smoothing-input\" value=\"0.5\" min=\"0.01\" max=\"1\" step=\"0.01\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject219=function _templateObject219(){return data;};return data;}function _templateObject218(){var data=_taggedTemplateLiteral(["<template><h2>Arc</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject218=function _templateObject218(){return data;};return data;}function _templateObject217(){var data=_taggedTemplateLiteral(["<template><h2>Cubic Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject217=function _templateObject217(){return data;};return data;}function _templateObject216(){var data=_taggedTemplateLiteral(["<template><h2>Quad Bezier</h2><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"path\"></bx-stylepicker></section></template>"]);_templateObject216=function _templateObject216(){return data;};return data;}function _templateObject215(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}"]);_templateObject215=function _templateObject215(){return data;};return data;}function _templateObject214(){var data=_taggedTemplateLiteral(["<template><h2>Edit</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section></template>"]);_templateObject214=function _templateObject214(){return data;};return data;}function _templateObject213(){var data=_taggedTemplateLiteral(["#selection-shape-buttons{width:100%;margin:4px 0 0 0}#selection-shape-buttons x-button{height:25px;flex:1}#selection-mode-buttons{width:100%;margin:4px 0 0 0}#selection-mode-buttons x-button{height:25px;flex:1}"]);_templateObject213=function _templateObject213(){return data;};return data;}function _templateObject212(){var data=_taggedTemplateLiteral(["<template><h2>Transform</h2><section id=\"selection-shape-section\"><h3>Selection shape</h3><x-buttons id=\"selection-shape-buttons\" tracking=\"1\"><x-button value=\"rect\" condensed toggled><x-label>Rectangle</x-label></x-button><x-button value=\"polygon\" condensed><x-label>Polygon</x-label></x-button></x-buttons></section><hr><section id=\"selection-mode-section\"><h3>Selection mode</h3><x-buttons id=\"selection-mode-buttons\" tracking=\"1\"><x-button value=\"contain\" condensed toggled><x-label>Contain</x-label></x-button><x-button value=\"intersect\" condensed><x-label>Intersect</x-label></x-button></x-buttons></section><hr><section id=\"transform-preserve-section\"><h3>Preserve</h3><x-checkbox id=\"preserve-stroke-width-checkbox\" toggled><x-label>Stroke width</x-label></x-checkbox><x-checkbox id=\"preserve-rect-radii-checkbox\" toggled><x-label>Rectangle radii</x-label></x-checkbox><x-checkbox id=\"preserve-rotation-checkbox\" toggled><x-label>Rotation</x-label></x-checkbox><x-checkbox id=\"preserve-aspect-ratio-checkbox\"><x-label>Aspect ratio</x-label></x-checkbox></section></template>"]);_templateObject212=function _templateObject212(){return data;};return data;}function _templateObject211(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:fit-content;height:27px;contain:style layout;box-sizing:border-box}:host([computedsize=large]){height:34px}#items{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.item{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:fit-content;height:100%;padding:0 8px;position:relative;border-width:1px;border-style:solid}.item:not(:first-child){margin-left:-1px}.item:focus{z-index:1}.item .inner{display:flex;align-items:center;justify-content:center;height:100%;box-sizing:border-box}.item .icon{width:15px;height:15px;fill:currentColor}.item .label{font-size:11px;margin-left:5px}"]);_templateObject211=function _templateObject211(){return data;};return data;}function _templateObject210(){var data=_taggedTemplateLiteral(["<template><div id=\"items\"></div></template>"]);_templateObject210=function _templateObject210(){return data;};return data;}function _templateObject209(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}"]);_templateObject209=function _templateObject209(){return data;};return data;}function _templateObject208(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><bx-tooltip id=\"tooltip\">Move cursor over object</bx-tooltip></main></template>"]);_templateObject208=function _templateObject208(){return data;};return data;}function _templateObject207(){var data=_taggedTemplateLiteral([":host{position:absolute;z-index:99999;padding:5px 7px;font-size:12px;line-height:1;pointer-events:none;border-width:1px;border-style:solid}:host([hidden]){display:none}"]);_templateObject207=function _templateObject207(){return data;};return data;}function _templateObject206(){var data=_taggedTemplateLiteral(["<template><slot></slot></template>"]);_templateObject206=function _templateObject206(){return data;};return data;}function _templateObject205(){var data=_taggedTemplateLiteral([":host{position:fixed;width:0;height:0;top:0;left:0;z-index:99999999;background:rgba(0,0,0,0)}:host([grabbing]){width:100%;height:100%;background:rgba(0,0,0,.1)}#main{display:none}:host([grabbing]) #main{display:block}#overlay{position:fixed;width:100%;height:100%;top:0;left:0;opacity:0;cursor:crosshair!important}#lens{width:100px;height:100px;position:fixed;top:-200px;left:-200px;background:#fff;border:4px solid #333;box-shadow:2px 6px 20px rgba(0,0,0,.3);border-radius:100px;overflow:hidden}#lens-inner{position:relative;width:100%;height:100%}#lens #tooltip{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-flow:column;align-items:center;justify-content:center;visibility:hidden}#lens[offscreen] #tooltip{visibility:visible}#lens #tooltip p{color:rgba(0,0,0,.7);line-height:1;padding:0;margin:0}#lens #grid{width:100px;height:100px;background:#d4d4d4}#lens[offscreen] #grid{display:none}#grid #center-rect{stroke:red;stroke-width:1.5}#lens[offscreen] #grid #center-rect{stroke-width:0}"]);_templateObject205=function _templateObject205(){return data;};return data;}function _templateObject204(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"overlay\"></div><div id=\"lens\" part=\"lens\"><div id=\"lens-inner\"><svg id=\"grid\"></svg><div id=\"tooltip\"><p>Move</p><p>cursor</p><p>over</p><p>canvas</p></div></div></div></main></template>"]);_templateObject204=function _templateObject204(){return data;};return data;}function _templateObject203(){var data=_taggedTemplateLiteral([":host{position:fixed;right:0;bottom:0;width:0;height:0;opacity:0;contain:strict}"]);_templateObject203=function _templateObject203(){return data;};return data;}function _templateObject202(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"></main></template>"]);_templateObject202=function _templateObject202(){return data;};return data;}function _templateObject201(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;height:100%;overflow:hidden;outline:0;contain:strict;position:relative;--canvas-background-color:gray}#vector-layer{touch-action:none}#workspaces{font-family:sans-serif;user-select:none}#workspaces>[data-bx-workspace]:not(:last-child){display:none!important}#workspaces :focus{outline:0}#workspaces>#whitespace{opacity:0}#vector-canvas>#background-rect{fill:var(--canvas-background-color);pointer-events:none}#vector-canvas[data-transparent]>#background-rect{fill:transparent}#vector-canvas>#background-outlines{pointer-events:none;display:none}#vector-canvas[data-outlines]>#background-outlines{display:inline}#vector-canvas>#background-outlines rect{fill:#fff;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-outlines=above]>#background-outlines rect{stroke:none}#vector-canvas[data-transparent]>#background-outlines rect{fill:none;stroke:rgba(0,0,0,.3)}#vector-canvas>#foreground-outlines{display:none;pointer-events:none}#vector-canvas[data-outlines=above]>#foreground-outlines{display:inline}#vector-canvas>#foreground-outlines rect{fill:none;stroke:rgba(0,0,0,.2);vector-effect:non-scaling-stroke}#vector-canvas[data-transparent] #foreground-outlines rect{stroke:rgba(0,0,0,.3)}#huds>*{display:none;contain:layout style paint}#huds>[drawing],#huds>[enabled]{display:initial}#pixel-canvas{pointer-events:none;position:absolute;opacity:.4;top:0;left:0;width:100%;height:100%}"]);_templateObject201=function _templateObject201(){return data;};return data;}function _templateObject200(){var data=_taggedTemplateLiteral(["<template><svg id=\"vector-layer\" preserveAspectRatio=\"none\"><filter id=\"grippie-shadow\" width=\"100\" height=\"100\"><feGaussianBlur id=\"grippie-fe-blur\" in=\"SourceAlpha\" result=\"blur-out\" stdDeviation=\"1\"/><feOffset id=\"grippie-fe-offset\" in=\"blur-out\" result=\"the-shadow\" dx=\"1\" dy=\"1\"/><feBlend in=\"SourceGraphic\" in2=\"the-shadow\" mode=\"normal\"/></filter><g id=\"vector-canvas\" transform=\"translate(0, 0)\"><rect id=\"background-rect\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g id=\"background-outlines\"></g><g id=\"workspaces\"><rect id=\"whitespace\" x=\"-1000000\" y=\"-1000000\" width=\"2000000\" height=\"2000000\"></rect><g data-bx-workspace=\"master\"></g></g><g id=\"foreground-outlines\"></g><g id=\"huds\"></g></g></svg><div id=\"pixel-layer\"><canvas id=\"pixel-canvas\" hidden></canvas></div><bx-rulers id=\"rulers\" disabled=\"disabled\"></bx-rulers><div id=\"contexts\"><bx-transformselectcontext id=\"transform-select-context\"></bx-transformselectcontext><bx-directselectcontext id=\"direct-select-context\"></bx-directselectcontext><bx-pancontext id=\"pan-context\"></bx-pancontext><bx-textcontext id=\"text-context\"></bx-textcontext><bx-textpathcontext id=\"text-path-context\"></bx-textpathcontext><bx-cubicbeziercontext id=\"cubic-bezier-context\"></bx-cubicbeziercontext><bx-quadbeziercontext id=\"quad-bezier-context\"></bx-quadbeziercontext><bx-arccontext id=\"arc-context\"></bx-arccontext><bx-shapecontext id=\"shape-context\"></bx-shapecontext><bx-freehandcontext id=\"freehand-context\"></bx-freehandcontext><bx-blobcontext id=\"blob-context\"></bx-blobcontext><bx-linecontext id=\"line-context\"></bx-linecontext><bx-polylinecontext id=\"polyline-context\"></bx-polylinecontext><bx-polygoncontext id=\"polygon-context\"></bx-polygoncontext><bx-viewcontext id=\"view-context\"></bx-viewcontext></div></template>"]);_templateObject200=function _templateObject200(){return data;};return data;}function _templateObject199(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}#font-size-dynamics-section{margin-top:10px}#font-size-dynamics-param-select{flex:1}#font-size-dynamics-variance-input{width:54px;margin-left:6px}#glyph-rotation-dynamics-section{margin-top:10px}#glyph-rotation-dynamics-param-select{flex:1}#glyph-rotation-dynamics-variance-input{width:54px;margin-left:6px}#opacity-dynamics-section{margin-top:10px}#opacity-dynamics-param-select{flex:1}#opacity-dynamics-variance-input{width:54px;margin-left:6px}"]);_templateObject199=function _templateObject199(){return data;};return data;}function _templateObject198(){var data=_taggedTemplateLiteral(["<template><h2>Text path</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"font-size-dynamics-section\"><h4>Font size</h4><x-box><x-select id=\"font-size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"font-size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"glyph-rotation-dynamics-section\"><h4>Glyph roration</h4><x-box><x-select id=\"glyph-rotation-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"glyph-rotation-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"opacity-dynamics-section\"><h4>Opacity</h4><x-box><x-select id=\"opacity-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"opacity-dynamics-variance-input\" value=\"0\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject198=function _templateObject198(){return data;};return data;}function _templateObject197(){var data=_taggedTemplateLiteral(["#content-editor{width:100%;height:61px;min-height:61px}"]);_templateObject197=function _templateObject197(){return data;};return data;}function _templateObject196(){var data=_taggedTemplateLiteral(["<template><h2>Text</h2><section id=\"content-section\"><h3>Content</h3><x-texteditor id=\"content-editor\"><x-label>","</x-label></x-texteditor></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\" type=\"text\"></bx-stylepicker></section></template>"]);_templateObject196=function _templateObject196(){return data;};return data;}function _templateObject195(){var data=_taggedTemplateLiteral(["#mode-buttons{width:100%;margin:4px 0 0 0}#mode-buttons x-button{height:25px;flex:1}#size-subsection{margin-top:4px}#size-subsection h4{margin:0}#size-box{width:100%}#size-input{margin-left:10px;width:100px}#roundness-subsection{margin-top:7px}#roundness-subsection h4{margin:0}#roundness-box{width:100%}#roundness-input{margin-left:10px;width:100px}#angle-subsection{margin-top:7px}#angle-subsection h4{margin:0}#angle-box{width:100%}#angle-input{margin-left:10px;width:100px}#size-dynamics-section{margin-top:10px}#size-dynamics-param-select{flex:1}#size-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#roundness-dynamics-section{margin-top:10px}#roundness-dynamics-param-select{flex:1}#roundness-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}#angle-dynamics-section{margin-top:10px}#angle-dynamics-param-select{flex:1}#angle-dynamics-variance-input{width:54px;min-width:54px;margin-left:6px}"]);_templateObject195=function _templateObject195(){return data;};return data;}function _templateObject194(){var data=_taggedTemplateLiteral(["<template><h2>Blob</h2><section id=\"mode-section\"><h3>Mode</h3><x-buttons id=\"mode-buttons\" tracking=\"1\"><x-button value=\"draw\"><x-label>Draw</x-label></x-button><x-button value=\"erase\"><x-label>Erase</x-label></x-button></x-buttons></section><hr><section id=\"geometry-section\"><h3>Geometry</h3><svg id=\"geometry-preview\" part=\"geometry-preview\" viewBox=\"0 0 100 100\"><line class=\"grid-line\" x1=\"10\" y1=\"50\" x2=\"90\" y2=\"50\"></line><line class=\"grid-line\" x1=\"50\" y1=\"10\" x2=\"50\" y2=\"90\"></line><ellipse id=\"geometry-preview-shape\" class=\"shape\" cx=\"50\" cy=\"50\" rx=\"35\" ry=\"35\"></ellipse><circle id=\"geometry-preview-grippie\" class=\"grippie\" cx=\"50\" cy=\"50\" r=\"5\"></circle></svg><section id=\"size-subsection\"><h4>Size</h4><x-box id=\"size-box\"><x-slider id=\"size-slider\" value=\"30\" min=\"1\" max=\"40\" step=\"1\"></x-slider><x-numberinput id=\"size-input\" value=\"30\" min=\"1\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-subsection\"><h4>Roundness</h4><x-box id=\"roundness-box\"><x-slider id=\"roundness-slider\" value=\"100\" min=\"1\" max=\"100\" step=\"1\"></x-slider><x-numberinput id=\"roundness-input\" value=\"100\" min=\"1\" max=\"100\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-subsection\"><h4>Angle</h4><x-box id=\"angle-box\"><x-slider id=\"angle-slider\" value=\"0\" min=\"-180\" max=\"180\" step=\"1\"></x-slider><x-numberinput id=\"angle-input\" value=\"0\" min=\"-180\" max=\"180\" suffix=\"\xB0\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"dynamics-section\"><h3>Dynamics</h3><section id=\"size-dynamics-section\"><h4>Size</h4><x-box><x-select id=\"size-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"size-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"roundness-dynamics-section\"><h4>Roundness</h4><x-box><x-select id=\"roundness-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"roundness-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section><section id=\"angle-dynamics-section\"><h4>Angle</h4><x-box><x-select id=\"angle-dynamics-param-select\"><x-menu>","</x-menu></x-select><x-numberinput id=\"angle-dynamics-variance-input\" value=\"50\" min=\"0\" max=\"200\" suffix=\"%\" condensed><x-stepper></x-stepper></x-numberinput></x-box></section></section><hr><section id=\"style-section\"><h3>Style</h3><bx-stylepicker id=\"style-picker\"></bx-stylepicker></section></template>"]);_templateObject194=function _templateObject194(){return data;};return data;}function _templateObject193(){var data=_taggedTemplateLiteral([":host{display:block;width:220px;box-sizing:border-box;overflow:auto}h2{margin:14px 0 0;padding:0 14px}h3:first-child{margin-top:0}section{padding:12px 14px}section section{padding:0}#geometry-preview{width:100%;height:70px;border-width:1px;border-style:solid;box-sizing:border-box}#geometry-preview .grid-line{stroke:currentColor;opacity:.2;vector-effect:non-scaling-stroke}#geometry-preview .shape{transform-origin:50% 50%;fill:none;stroke:currentColor;stroke-width:1px;vector-effect:non-scaling-stroke}#geometry-preview .grippie{fill:currentColor}"]);_templateObject193=function _templateObject193(){return data;};return data;}function _templateObject192(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;box-sizing:border-box}#main{display:flex;align-items:center;justify-content:flex-start}#thumbnail{width:70px;height:70px;box-sizing:border-box;border-width:1px;border-style:solid;-webkit-user-drag:none}#buttons{flex:1;margin-left:8px}#buttons x-button{width:100%}#buttons x-button:first-child{margin-bottom:6px}"]);_templateObject192=function _templateObject192(){return data;};return data;}function _templateObject191(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><svg id=\"thumbnail\" part=\"thumbnail\" viewBox=\"0 0 100 100\"><rect id=\"thumbnail-rect\" x=\"15\" y=\"15\" width=\"70\" height=\"70\"></rect></svg><x-box vertical id=\"buttons\"><x-button id=\"grab-button\" size=\"medium\" togglable><x-icon name=\"grab-color\"></x-icon><x-label>Grab</x-label></x-button><x-button id=\"reset-button\" size=\"medium\"><x-icon name=\"reset\"></x-icon><x-label>Reset</x-label></x-button></x-box></main></template>"]);_templateObject191=function _templateObject191(){return data;};return data;}function _templateObject190(){var data=_taggedTemplateLiteral([":host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;--size:14px}:host([enabled]){display:block}main{position:relative;width:100%;height:100%}#corner-ruler{pointer-events:all;position:absolute;left:0;top:0;width:var(--size);height:var(--size);box-sizing:border-box;border-width:0 1px 1px 0;border-style:none solid solid none}#horizontal-ruler,#vertical-ruler{pointer-events:all;position:relative;box-sizing:border-box;touch-action:pinch-zoom}#horizontal-ruler{position:absolute;top:0;width:100%;height:var(--size);border-width:0 0 1px 0;border-style:none none solid none}#vertical-ruler{position:absolute;top:0;width:var(--size);height:100%;border-width:0 1px 0 0;border-style:none solid none none;writing-mode:vertical-lr}#horizontal-ruler>div,#vertical-ruler>div{position:absolute;font-size:9px;box-sizing:border-box;pointer-events:none;user-select:none}#horizontal-ruler>div{width:0;height:100%;top:0;left:0;padding:0 0 0 3px;border-width:0 0 0 1px;border-style:none none none solid}#vertical-ruler>div{width:100%;height:0;top:0;left:0;padding:3px 0 0 0;border-width:1px 0 0 0;border-style:solid none none none}"]);_templateObject190=function _templateObject190(){return data;};return data;}function _templateObject189(){var data=_taggedTemplateLiteral(["<template><main id=\"main\"><div id=\"horizontal-ruler\" class=\"ruler\" part=\"ruler horizontal-ruler\" data-type=\"horizontal\"></div><div id=\"vertical-ruler\" class=\"ruler\" part=\"ruler vertical-ruler\" data-type=\"vertical\"></div><div id=\"corner-ruler\" class=\"ruler\" part=\"ruler corner-ruler\" data-type=\"corner\"></div></main></template>"]);_templateObject189=function _templateObject189(){return data;};return data;}function _templateObject188(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none;--wheel-max-width:none}:host([hidden]){display:none}#huesat-slider{display:flex;position:relative;width:100%;max-width:var(--wheel-max-width);margin:0 auto;height:auto;touch-action:pinch-zoom}#huesat-image{width:100%;height:100%;border-radius:999px;pointer-events:none}#huesat-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#value-slider{width:100%;height:30px;margin-top:10px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #value-slider{height:24px}:host([computedsize=large]) #value-slider{height:35px}#value-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#value-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject188=function _templateObject188(){return data;};return data;}function _templateObject187(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"huesat-slider\">\n          <img id=\"huesat-image\"></img>\n          <div id=\"huesat-marker\"></div>\n        </div>\n\n        <div id=\"value-slider\">\n          <div id=\"value-slider-track\">\n            <div id=\"value-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject187=function _templateObject187(){return data;};return data;}function _templateObject186(){var data=_taggedTemplateLiteral([":host{display:block;width:30px;height:30px;box-sizing:border-box}:host([hidden]){display:none}:host([type=ring]){color:#4285f4}:host([type=spin]){color:#404040}svg{color:inherit;width:100%;height:100%}svg[data-type=ring] ellipse{fill:none;stroke:currentColor;stroke-linecap:round;stroke-dasharray:10,1000;animation:ring-dash-animation 2s cubic-bezier(.8,.25,.25,.9) infinite,ring-rotate-animation 2s linear infinite;transform-origin:center}@keyframes ring-rotate-animation{to{transform:rotate(360deg)}}@keyframes ring-dash-animation{50%{stroke-dasharray:200;stroke-dashoffset:0}100%{stroke-dasharray:245;stroke-dashoffset:-260}}svg[data-type=spin] rect{x:46.5px;y:40px;width:7px;height:22px;rx:5px;ry:5px;fill:currentColor;animation-name:spin-animation;animation-duration:1s;animation-timing-function:linear;animation-iteration-count:infinite;animation-delay:0s}svg[data-type=spin] rect:nth-child(1){animation-delay:calc(1s *  1/12)}svg[data-type=spin] rect:nth-child(2){animation-delay:calc(1s *  2/12)}svg[data-type=spin] rect:nth-child(3){animation-delay:calc(1s *  3/12)}svg[data-type=spin] rect:nth-child(4){animation-delay:calc(1s *  4/12)}svg[data-type=spin] rect:nth-child(5){animation-delay:calc(1s *  5/12)}svg[data-type=spin] rect:nth-child(6){animation-delay:calc(1s *  6/12)}svg[data-type=spin] rect:nth-child(7){animation-delay:calc(1s *  7/12)}svg[data-type=spin] rect:nth-child(8){animation-delay:calc(1s *  8/12)}svg[data-type=spin] rect:nth-child(9){animation-delay:calc(1s *  9/12)}svg[data-type=spin] rect:nth-child(10){animation-delay:calc(1s * 10/12)}svg[data-type=spin] rect:nth-child(11){animation-delay:calc(1s * 11/12)}svg[data-type=spin] rect:nth-child(12){animation-delay:calc(1s * 12/12)}@keyframes spin-animation{0%{opacity:1}100%{opacity:0}}"]);_templateObject186=function _templateObject186(){return data;};return data;}function _templateObject185(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"spin\" viewBox=\"0 0 100 100\">\n        <rect transform=\"rotate(  0 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 30 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 60 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate( 90 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(120 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(150 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(180 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(210 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(240 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(270 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(300 50 50) translate(0 -38)\"></rect>\n        <rect transform=\"rotate(330 50 50) translate(0 -38)\"></rect>\n      </svg>\n    </template>\n  "]);_templateObject185=function _templateObject185(){return data;};return data;}function _templateObject184(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg data-type=\"ring\" viewBox=\"0 0 100 100\">\n        <ellipse ry=\"40\" rx=\"40\" cy=\"50\" cx=\"50\" stroke-width=\"10\"/>\n      </svg>\n    </template>\n  "]);_templateObject184=function _templateObject184(){return data;};return data;}function _templateObject183(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:100%;min-height:100px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}::-webkit-scrollbar{max-width:6px;max-height:6px;background:0 0}::-webkit-scrollbar-track{border-radius:25px}::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:25px}::-webkit-scrollbar-corner{display:none}#main{display:flex;flex-flow:column;height:100%;min-height:inherit;max-height:inherit;overflow-y:auto}#editor{flex:1;padding:2px 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;overflow:auto}:host([error])::before{position:absolute;left:0;bottom:-20px;box-sizing:border-box;font-family:inherit;font-size:11px;line-height:1.2;white-space:pre;content:attr(error) \" \"}"]);_templateObject183=function _templateObject183(){return data;};return data;}function _templateObject182(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n      </main>\n    </template>\n  "]);_templateObject182=function _templateObject182(){return data;};return data;}function _templateObject181(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;min-height:29px;border:1px solid #bfbfbf;font-size:12px}:host(:focus){z-index:10}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{width:100%;height:100%;cursor:text}#tags{display:flex;flex-wrap:wrap}:host([mixed]) #tags{opacity:.7}#input{align-items:center;justify-content:flex-start;height:25px;margin:2px;padding:0 3px 0 6px;box-sizing:border-box;line-height:25px;color:inherit;outline:0;white-space:pre;cursor:text;user-select:text;pointer-events:none}#input[contenteditable]:focus{flex-grow:1;pointer-events:all}#suggestions-popover{width:200px;max-height:200px;padding:4px;box-sizing:border-box}#suggestions-popover #suggested-tags{flex:1;overflow:auto}#suggestions-popover x-tag{display:block;margin:4px 0 0 0}#suggestions-popover x-tag:first-child{margin-top:0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject181=function _templateObject181(){return data;};return data;}function _templateObject180(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tags\">\n          <slot></slot>\n          <span id=\"input\" part=\"input\" spellcheck=\"false\" tabindex=\"0\"></span>\n        </div>\n      </main>\n\n      <x-popover id=\"suggestions-popover\" part=\"suggestions\">\n        <div id=\"suggested-tags\"></div>\n      </x-popover>\n    </template>\n  "]);_templateObject180=function _templateObject180(){return data;};return data;}function _templateObject179(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([hidden]){display:none}"]);_templateObject179=function _templateObject179(){return data;};return data;}function _templateObject178(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject178=function _templateObject178(){return data;};return data;}function _templateObject177(){var data=_taggedTemplateLiteral([":host{display:inline-block;height:25px;box-sizing:border-box;overflow:hidden;color:var(--text-color);border-width:1px;border-style:solid}:host([toggled]){background:gray;color:#fff;outline:0}:host([disabled]){opacity:.5}:host([hidden]){display:none}:host(:focus){outline:0}#container{width:100%;height:100%;display:flex;align-items:center;justify-content:center}#scope{height:100%;padding:0 6px;display:none;align-items:center;justify-content:center;border-right-width:1px;border-right-style:solid}:host([scoped]) #scope{display:flex}#main{height:100%;padding:0 6px;display:flex;align-items:center;justify-content:center}#remove-button{display:none;opacity:.8;width:12px;height:12px;vertical-align:middle;margin-left:4px;d:path(\"M 25 16 L 50 41 L 75 16 L 84 25 L 59 50 L 84 75 L 75 84 L 50 59 L 25 84 L 16 75 L 41 50 L 16 25 Z\");fill:currentColor;color:inherit}:host([removable]) #remove-button{display:block}#remove-button:hover{background:rgba(0,0,0,.1);opacity:1}#remove-button path{d:inherit;fill:inherit;pointer-events:none}"]);_templateObject177=function _templateObject177(){return data;};return data;}function _templateObject176(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"container\">\n        <div id=\"scope\" part=\"scope\">\n          <slot id=\"scope-slot\" name=\"scope\"></slot>\n        </div>\n\n        <main id=\"main\" part=\"main\">\n          <slot></slot>\n\n          <svg id=\"remove-button\" part=\"remove-button\" viewBox=\"0 0 100 100\">\n            <path id=\"remove-button-path\"></path>\n          </svg>\n        </main>\n      </div>\n    </template>\n  "]);_templateObject176=function _templateObject176(){return data;};return data;}function _templateObject175(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;margin:0 auto;width:fit-content;max-width:100%;box-sizing:border-box;justify-content:center}::slotted(x-tab){flex:0}"]);_templateObject175=function _templateObject175(){return data;};return data;}function _templateObject174(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject174=function _templateObject174(){return data;};return data;}function _templateObject173(){var data=_taggedTemplateLiteral([":host{position:relative;display:flex;align-items:center;justify-content:center;min-height:30px;padding:2px 12px;box-sizing:border-box;cursor:default;user-select:none;box-sizing:border-box;font-size:14px;--trigger-effect:none}:host(:focus){z-index:10;outline:0}#content{display:inherit;flex-flow:inherit;align-items:inherit;z-index:100}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;overflow:hidden;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;width:100%;height:0;background:var(--accent-color);position:absolute;bottom:0;left:0}:host([selected]) #selection-indicator{display:block}"]);_templateObject173=function _templateObject173(){return data;};return data;}function _templateObject172(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n      <div id=\"content\">\n        <slot></slot>\n      </div>\n    </template>\n  "]);_templateObject172=function _templateObject172(){return data;};return data;}function _templateObject171(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;margin:2px 0}:host([disabled]){opacity:.4;pointer-events:none}#main{display:flex;align-items:center}#indicator{position:relative;width:34px;height:15px;display:flex;align-items:center}#indicator-track{display:flex;align-items:center;width:100%;height:65%;background:currentColor;border-radius:999px}#indicator-thumb{position:absolute;left:0;width:16px;height:16px;background:currentColor;border-radius:999px;transition:left .2s cubic-bezier(.4, 0, .2, 1)}:host([toggled]) #indicator-thumb{left:calc(100% - 16px)}:host([mixed]) #indicator-thumb{left:calc(50% - 16px / 2)}#description{flex:1}"]);_templateObject171=function _templateObject171(){return data;};return data;}function _templateObject170(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-track\" part=\"indicator-track\">\n            <div id=\"indicator-thumb\" part=\"indicator-thumb\"></div>\n          </div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject170=function _templateObject170(){return data;};return data;}function _templateObject169(){var data=_taggedTemplateLiteral([":host{display:block;width:18px;height:18px;cursor:default;box-sizing:border-box;overflow:hidden}#preview{width:100%;height:100%;position:relative}"]);_templateObject169=function _templateObject169(){return data;};return data;}function _templateObject168(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"preview\"></div>\n    </template>\n  "]);_templateObject168=function _templateObject168(){return data;};return data;}function _templateObject167(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:column-reverse;align-items:center;justify-content:center;box-sizing:border-box;height:100%;width:fit-content;color:rgba(0,0,0,.6)}:host(:hover){cursor:default}:host([disabled=\"\"]){opacity:.5;pointer-events:none}.button{display:flex;align-items:center;justify-content:center;width:100%;height:100%;user-select:none;box-sizing:border-box;color:inherit;border-left:none}.button[data-pressed]{color:#fff;background:rgba(0,0,0,.3)}:host([disabled=decrement]) #decrement-button,:host([disabled=increment]) #increment-button{opacity:.3;pointer-events:none}#increment-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 69 L 50 43 L 76 69 L 69 76 L 50 58 L 31 76 L 24 69 Z\" )}#decrement-arrow{width:11px;height:11px;pointer-events:none;d:path(\"M 24 32 L 50 58 L 76 32 L 69 25 L 50 44 L 31 25 L 24 32 Z\" )}#decrement-arrow-path,#increment-arrow-path{d:inherit;fill:currentColor}"]);_templateObject167=function _templateObject167(){return data;};return data;}function _templateObject166(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"decrement-button\" part=\"decrement-button\" class=\"button\">\n        <svg id=\"decrement-arrow\" part=\"decrement-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"decrement-arrow-path\"></path>\n        </svg>\n      </div>\n\n      <div id=\"increment-button\" part=\"increment-button\" class=\"button\">\n        <svg id=\"increment-arrow\" part=\"increment-arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n          <path id=\"increment-arrow-path\"></path>\n        </svg>\n      </div>\n    </template>\n  "]);_templateObject166=function _templateObject166(){return data;};return data;}function _templateObject165(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;position:relative;box-sizing:border-box;touch-action:pan-y}:host(:focus){outline:0}:host(:hover){cursor:default}:host([disabled]){pointer-events:none;opacity:.4}:host([vertical]){width:fit-content;height:200px}#main{display:flex;flex-flow:column;width:100%;height:100%}:host([vertical]) #main{flex-flow:row}#tracks-and-thumbs{position:relative;width:100%;height:100%}#range-track{position:absolute;width:0%;height:3px;background:#000;top:50%;transform:translateY(-50%)}:host([vertical]) #range-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#groove-track{position:absolute;width:100%;height:3px;background:gray;border-radius:10px;top:50%;transform:translateY(-50%)}:host([vertical]) #groove-track{width:3px;height:100%;top:initial;left:50%;transform:translateX(-50%)}#buffer-track{position:absolute;width:0%;height:3px;background:red;top:50%;transform:translateY(-50%)}:host([vertical]) #buffer-track{width:3px;height:0%;top:initial;left:50%;transform:translateX(-50%)}#thumbs{position:relative;width:calc(100% - var(--computed-thumb-width));height:100%;margin:0 auto}:host([vertical]) #thumbs{height:calc(100% - var(--computed-thumb-height));width:100%;margin:auto 0}#thumbs .thumb{position:absolute;top:0;left:0;width:20px;height:20px;margin-left:calc(var(--computed-thumb-width)/ -2);box-sizing:border-box;background:gray;border:1px solid rgba(0,0,0,.2)}:host([vertical]) #thumbs .thumb{margin-left:0}#thumbs .thumb:first-child{position:relative}#thumbs .thumb:focus{outline:0;z-index:2}#ticks{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #ticks{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}#ticks:empty{display:none}#ticks .tick{position:absolute;left:0;top:0;width:1px;height:5px;background:rgba(0,0,0,.4)}:host([vertical]) #ticks .tick{width:5px;height:1px;left:0;top:0}#ticks .tick:first-child{position:relative}#labels{position:relative;width:calc(100% - var(--computed-thumb-width));margin:0 calc(var(--computed-thumb-width)/ 2)}:host([vertical]) #labels{width:initial;height:calc(100% - var(--computed-thumb-height));margin:calc(var(--computed-thumb-height)/ 2) 0}:host(:empty) #labels{display:none}::slotted(x-label){display:inline-block;top:0;position:absolute;vertical-align:top;transform:translateX(-50%);white-space:nowrap}:host([vertical]) ::slotted(x-label){top:initial;left:4px;transform:translateY(-50%)}"]);_templateObject165=function _templateObject165(){return data;};return data;}function _templateObject164(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"tracks-and-thumbs\">\n          <div id=\"groove-track\" part=\"track groove-track\"></div>\n          <div id=\"buffer-track\" part=\"track buffer-track\"></div>\n          <div id=\"range-track\" part=\"track range-track\"></div>\n          <div id=\"thumbs\">\n            <div id=\"start-thumb\" class=\"thumb\" part=\"thumb start-thumb\" data-value=\"start\" tabindex=\"0\"></div>\n            <div id=\"end-thumb\" class=\"thumb\" part=\"thumb end-thumb\" data-value=\"end\" tabindex=\"0\"></div>\n          </div>\n        </div>\n\n        <div id=\"ticks\"></div>\n\n        <div id=\"labels\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject164=function _templateObject164(){return data;};return data;}function _templateObject163(){var data=_taggedTemplateLiteral([":host{display:inline-block;box-sizing:border-box;font-size:14px;line-height:1}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}"]);_templateObject163=function _templateObject163(){return data;};return data;}function _templateObject162(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\"></main>\n    </template>\n  "]);_templateObject162=function _templateObject162(){return data;};return data;}function _templateObject161(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;height:32px;padding:0 0 0 9px;max-width:100%;box-sizing:border-box;position:relative;outline:0;font-size:14px;user-select:none}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}:host(:hover){cursor:default}#button{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;flex:1;width:100%;height:100%}:host([mixed]) #button>*{opacity:.7}#button>x-label{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}#button>#arrow-container{margin:0 0 0 auto;z-index:999}#button>#arrow-container #arrow{display:flex;width:13px;height:13px;min-width:13px;margin:0 2px 0 11px;color:currentColor;d:path(\"M 25 41 L 50 16 L 75 41 L 83 34 L 50 1 L 17 34 Z M 17 66 L 50 100 L 83 66 L 75 59 L 50 84 L 25 59 Z\")}#button>#arrow-container #arrow path{fill:currentColor;d:inherit}"]);_templateObject161=function _templateObject161(){return data;};return data;}function _templateObject160(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"button\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n      </div>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject160=function _templateObject160(){return data;};return data;}function _templateObject159(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);margin-bottom:14px;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background:red}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#satlight-slider{width:100%;height:174px;border-radius:2px;position:relative;touch-action:pinch-zoom}#satlight-marker{position:absolute;top:0;left:0;width:var(--marker-size);height:var(--marker-size);transform:translate(calc(var(--marker-size)/ -2),calc(var(--marker-size)/ -2));box-sizing:border-box;background:rgba(0,0,0,.3);border:3px solid #fff;border-radius:999px;box-shadow:0 0 3px #000;--marker-size:20px}#alpha-slider{position:relative;display:none;width:100%;height:30px;margin-top:14px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject159=function _templateObject159(){return data;};return data;}function _templateObject158(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"satlight-slider\">\n          <div id=\"satlight-marker\"></div>\n        </div>\n\n        <div id=\"alpha-slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject158=function _templateObject158(){return data;};return data;}function _templateObject157(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;width:fit-content}:host(:focus){outline:0}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}#main{display:flex;align-items:center}#indicator{position:relative;border:3px solid #000;width:19px;height:19px;border-radius:99px;display:flex;align-items:center;justify-content:center}#indicator-dot{width:100%;height:100%;background:currentColor;border-radius:99px;transform:scale(0)}:host([mixed][toggled]) #indicator-dot{height:33%;border-radius:0}:host([toggled]) #indicator-dot{transform:scale(.5)}#description{flex:1}"]);_templateObject157=function _templateObject157(){return data;};return data;}function _templateObject156(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"indicator-dot\" part=\"indicator-dot\"></div>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject156=function _templateObject156(){return data;};return data;}function _templateObject155(){var data=_taggedTemplateLiteral([":host{display:block;box-sizing:border-box;height:8px;width:100%;position:relative;contain:strict;overflow:hidden;background:#acece6;cursor:default}:host([hidden]){display:none}#indeterminate-bars{width:100%;height:100%}#determinate-bar{position:absolute;top:0;left:0;bottom:0;width:0%;height:100%;background:#3b99fb;box-shadow:0 0 0 1px #3385db;transition:width .4s ease-in-out;will-change:left,right}:host([value=\"-1\"]) #determinate-bar{visibility:hidden}#primary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}#secondary-indeterminate-bar{position:absolute;top:0;left:0;bottom:0;height:100%;background:#3b99fb;will-change:left,right}"]);_templateObject155=function _templateObject155(){return data;};return data;}function _templateObject154(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"determinate-bar\" part=\"bar\"></div>\n\n      <div id=\"indeterminate-bars\">\n        <div id=\"primary-indeterminate-bar\" part=\"bar\"></div>\n        <div id=\"secondary-indeterminate-bar\" part=\"bar\"></div>\n      </div>\n    </template>\n  "]);_templateObject154=function _templateObject154(){return data;};return data;}function _templateObject153(){var data=_taggedTemplateLiteral([":host{position:fixed;display:none;top:0;left:0;min-height:30px;z-index:1001;box-sizing:border-box;background:#fff;-webkit-app-region:no-drag;--align:bottom;--arrow-size:20px;--open-transition:900 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host(:focus){outline:0}:host([animating]),:host([opened]){display:flex}#arrow{position:fixed;box-sizing:border-box;content:\"\"}#arrow[data-align=bottom],#arrow[data-align=top]{width:var(--arrow-size);height:calc(var(--arrow-size) * .6);transform:translate(-50%,0)}#arrow[data-align=left],#arrow[data-align=right]{width:calc(var(--arrow-size) * .6);height:var(--arrow-size);transform:translate(0,-50%)}#arrow path{stroke-width:1;vector-effect:non-scaling-stroke}#arrow[data-align=bottom] path{d:path(\"M 0 100, L 50 0, L 100 100\")}#arrow[data-align=top] path{d:path(\"M 0 0, L 50 100, L 100 0\")}#arrow[data-align=left] path{d:path(\"M 0 0, L 100 50, L 00 100\")}#arrow[data-align=right] path{d:path(\"M 100 0, L 0 50, L 100 100\")}"]);_templateObject153=function _templateObject153(){return data;};return data;}function _templateObject152(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n      <slot></slot>\n    </template>\n  "]);_templateObject152=function _templateObject152(){return data;};return data;}function _templateObject151(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;font-size:12.5px}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;height:100%}#editor-container{display:flex;align-items:center;width:100%;height:100%;padding:0 6px;box-sizing:border-box;overflow:hidden}#editor{width:100%;overflow:auto;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;line-height:10;white-space:nowrap}#editor::-webkit-scrollbar{display:none}#editor::before{content:attr(data-prefix);pointer-events:none}#editor::after{content:attr(data-suffix);pointer-events:none}:host(:focus) #editor::after,:host(:focus) #editor::before,:host([empty]) #editor::after,:host([empty]) #editor::before{content:\"\"}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject151=function _templateObject151(){return data;};return data;}function _templateObject150(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"editor-container\">\n          <div id=\"editor\" contenteditable=\"plaintext-only\" spellcheck=\"false\"></div>\n        </div>\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject150=function _templateObject150(){return data;};return data;}function _templateObject149(){var data=_taggedTemplateLiteral([":host{display:none;position:fixed;min-width:15px;min-height:15px;bottom:15px;left:50%;transform:translateX(-50%);padding:5px 12px;box-sizing:border-box;color:rgba(255,255,255,.9);background:#434343;z-index:9999;font-size:12px;user-select:text;transition:transform .15s cubic-bezier(.4, 0, .2, 1)}:host([animating]),:host([opened]){display:block}:host(:focus){outline:0}"]);_templateObject149=function _templateObject149(){return data;};return data;}function _templateObject148(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject148=function _templateObject148(){return data;};return data;}function _templateObject147(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;position:relative;padding:0 12px 0 23px;min-height:28px;box-sizing:border-box;cursor:default;user-select:none;--trigger-effect:blink}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.6}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}#ripples{position:absolute;z-index:0;top:0;left:0;width:100%;height:100%;pointer-events:none;contain:strict;overflow:hidden}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.1;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}#checkmark{display:none;transition:transform .2s cubic-bezier(.4, 0, .2, 1);align-self:center;width:18px;height:18px;margin:0 2px 0 -20px;d:path(\"M 44 61 L 29 47 L 21 55 L 46 79 L 79 27 L 70 21 L 44 61 Z\");color:inherit}:host([togglable]) #checkmark{display:flex;transform:scale(0);transform-origin:50% 50%}:host([toggled]) #checkmark{display:flex;transform:scale(1)}#checkmark path{d:inherit;fill:currentColor}#arrow{display:flex;width:16px;height:16px;transform:scale(1.1);align-self:center;margin-left:8px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");opacity:1;color:inherit}#arrow[hidden]{display:none}#arrow path{d:inherit;fill:currentColor}"]);_templateObject147=function _templateObject147(){return data;};return data;}function _templateObject146(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n\n      <svg id=\"checkmark\" part=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path></path>\n      </svg>\n\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" hidden>\n        <path></path>\n      </svg>\n    </template>\n  "]);_templateObject146=function _templateObject146(){return data;};return data;}function _templateObject145(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:30px;padding:0 6px;box-sizing:border-box}:host([disabled]){pointer-events:none;opacity:.6}:host([hidden]){display:none}#backdrop{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1000;pointer-events:none;touch-action:none}#backdrop[hidden]{display:none}#backdrop path{fill:red;fill-rule:evenodd;opacity:0;pointer-events:all}"]);_templateObject145=function _templateObject145(){return data;};return data;}function _templateObject144(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"backdrop\" hidden>\n        <path id=\"backdrop-path\"></path>\n      </svg>\n\n      <slot></slot>\n    </template>\n  "]);_templateObject144=function _templateObject144(){return data;};return data;}function _templateObject143(){var data=_taggedTemplateLiteral([":host{display:none;top:0;left:0;width:fit-content;padding:4px 0;z-index:1001;box-sizing:border-box;background:#fff;cursor:default;overflow:auto;flex-direction:column;-webkit-app-region:no-drag;--align:start;--scrollbar-background:rgba(0, 0, 0, 0.2);--scrollbar-width:6px;--open-transition:100 transform cubic-bezier(0.4, 0, 0.2, 1);--close-transition:200 opacity cubic-bezier(0.4, 0, 0.2, 1)}:host([animating]),:host([opened]){display:flex}:host(:focus){outline:0}:host-context([debug]):host(:focus){outline:2px solid red}::-webkit-scrollbar{max-width:var(--scrollbar-width);background:0 0}::-webkit-scrollbar-thumb{background-color:var(--scrollbar-background)}::-webkit-scrollbar-corner{display:none}"]);_templateObject143=function _templateObject143(){return data;};return data;}function _templateObject142(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot id=\"slot\"></slot>\n    </template>\n  "]);_templateObject142=function _templateObject142(){return data;};return data;}function _templateObject141(){var data=_taggedTemplateLiteral([":host{display:block;line-height:1.2;user-select:none;box-sizing:border-box}:host([disabled]){opacity:.5}:host([hidden]){display:none}slot{text-decoration:inherit}"]);_templateObject141=function _templateObject141(){return data;};return data;}function _templateObject140(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject140=function _templateObject140(){return data;};return data;}function _templateObject139(){var data=_taggedTemplateLiteral([":host{display:block;position:relative;max-width:160px;height:32px;box-sizing:border-box;background:#fff;font-size:12.5px}:host(:focus){z-index:10}:host(:hover){cursor:text}:host([mixed]){color:rgba(0,0,0,.7)}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}::selection{color:var(--selection-color);background-color:var(--selection-background-color)}:host([error]) ::selection{color:#fff;background-color:#d50000}#main{display:flex;align-items:center;width:100%;height:100%}#input{width:100%;height:100%;padding:0 6px;box-sizing:border-box;color:inherit;background:0 0;border:none;outline:0;font-family:inherit;font-size:inherit;font-weight:inherit;text-align:inherit;cursor:inherit}#input:-webkit-autofill{z-index:1}#input:-internal-autofill-previewed,#input:-internal-autofill-selected{-webkit-box-shadow:var(--autofill-background-color) 0 0 0 30px inset}:host(:not(:focus)) ::selection{color:inherit;background:0 0}:host([error])::before{position:absolute;left:0;top:35px;white-space:pre;content:attr(error);font-size:11px;line-height:1.2;pointer-events:none}"]);_templateObject139=function _templateObject139(){return data;};return data;}function _templateObject138(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <slot></slot>\n        <input id=\"input\" spellcheck=\"false\" part=\"input\"></input>\n      </main>\n    </template>\n  "]);_templateObject138=function _templateObject138(){return data;};return data;}function _templateObject137(){var data=_taggedTemplateLiteral([":host{display:block;color:currentColor;display:flex;align-items:center;justify-content:center;width:17px;height:17px}:host([disabled]){opacity:.5}:host([hidden]){display:none}#svg{width:100%;height:100%;fill:currentColor;stroke:none;overflow:inherit;pointer-events:none}"]);_templateObject137=function _templateObject137(){return data;};return data;}function _templateObject136(){var data=_taggedTemplateLiteral(["\n    <template>\n      <svg id=\"svg\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\" width=\"0px\" height=\"0px\"></svg>\n    </template>\n  "]);_templateObject136=function _templateObject136(){return data;};return data;}function _templateObject135(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;width:100%;height:32px;position:relative}:host(:focus){outline:0}:host([disabled]){opacity:.5;pointer-events:none}#open-button{display:flex;align-items:center;justify-content:center;width:18px;height:18px;margin:0 4px;order:9999;color:inherit;d:path(\"M 79 54 L 54 54 L 54 79 L 46 79 L 46 54 L 21 54 L 21 46 L 46 46 L 46 21 L 54 21 L 54 46 L 79 46 L 79 54 Z\");-webkit-app-region:no-drag}#open-button-path{d:inherit;fill:currentColor}"]);_templateObject135=function _templateObject135(){return data;};return data;}function _templateObject134(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n\n      <svg id=\"open-button\" part=\"open-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"open-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject134=function _templateObject134(){return data;};return data;}function _templateObject133(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;position:relative;width:100%;height:100%;min-width:1px;max-width:220px;padding:0 18px;flex:1 0 0;transition-property:max-width,padding,order;transition-duration:.15s;transition-timing-function:cubic-bezier(0.4,0.0,0.2,1);cursor:default;user-select:none;touch-action:pan-y;box-sizing:border-box;will-change:max-width;z-index:0;-webkit-app-region:no-drag;--trigger-effect:none}:host(:focus){outline:0}:host([closing]){pointer-events:none}:host([selected]){z-index:1}:host([disabled]){pointer-events:none;opacity:.5}#close-button{display:flex;align-items:center;justify-content:center;position:static;left:0;right:initial;width:18px;height:18px;margin:0 0 0 auto;opacity:.8;padding:1px;d:path(\"M 74 31 L 69 26 L 50 45 L 31 26 L 26 31 L 45 50 L 26 69 L 31 74 L 50 55 L 69 74 L 74 69 L 55 50 Z\")}:host([edited]) #close-button{d:path(\"M 68 50 C 68 60 60 68 50 68 C 40 68 32 60 32 50 C 32 40 40 32 50 32 C 60 32 68 40 68 50 Z\")}#close-button:hover{background:rgba(0,0,0,.08);opacity:1}#close-button-path{pointer-events:none;d:inherit;fill:currentColor}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden;z-index:-1;contain:strict}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;will-change:opacity,transform;pointer-events:none}#selection-indicator{display:none;position:absolute;bottom:0;left:0;width:100%;height:0;pointer-events:none}:host([selected]) #selection-indicator{display:block}:host([animatingindicator]) #selection-indicator{display:block}"]);_templateObject133=function _templateObject133(){return data;};return data;}function _templateObject132(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <div id=\"selection-indicator\" part=\"selection-indicator\"></div>\n\n      <slot></slot>\n\n      <svg id=\"close-button\" part=\"close-button\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"close-button-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject132=function _templateObject132(){return data;};return data;}function _templateObject131(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;width:0;height:0;z-index:1001}"]);_templateObject131=function _templateObject131(){return data;};return data;}function _templateObject130(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject130=function _templateObject130(){return data;};return data;}function _templateObject129(){var data=_taggedTemplateLiteral([":host{display:block;width:32px;height:32px;box-sizing:border-box;position:relative;overflow:hidden;background-color:#fff;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([hidden]){display:none}:host([disabled]){pointer-events:none;opacity:.4}::slotted(x-popover){width:190px;height:auto;padding:12px 12px}#input{display:flex;width:100%;height:100%;box-sizing:border-box;border:none;background:0 0;padding:0;opacity:0;-webkit-appearance:none}#input::-webkit-color-swatch-wrapper{padding:0}#input::-webkit-color-swatch{border:none}"]);_templateObject129=function _templateObject129(){return data;};return data;}function _templateObject128(){var data=_taggedTemplateLiteral(["\n    <template>\n      <input tabindex=\"-1\" id=\"input\" type=\"color\" value=\"#ffffff\">\n      <slot></slot>\n    </template>\n  "]);_templateObject128=function _templateObject128(){return data;};return data;}function _templateObject127(){var data=_taggedTemplateLiteral([":host{display:block;width:fit-content;--trigger-effect:none}:host([disabled]){opacity:.4;pointer-events:none}:host([hidden]){display:none}:host(:focus){outline:0}#main{display:flex;align-items:center}#indicator{position:relative;width:19px;height:19px;box-sizing:border-box;border:2px solid currentColor;d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 L 0 0 Z M 95 23 L 86 13 L 37 66 L 13.6 41 L 4.5 51 L 37 85 L 95 23 Z\")}:host([mixed]) #indicator{d:path(\"M 0 0 L 100 0 L 100 100 L 0 100 Z M 87 42.6 L 13 42.6 L 13 57.4 L 87 57.4 Z\")}#checkmark{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;d:inherit;transition-property:opacity;transition-timing-function:inherit;transition-duration:inherit}:host([mixed]) #checkmark{opacity:1}:host([toggled]) #checkmark{opacity:1}#checkmark path{fill:currentColor;d:inherit}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}#ripples .ripple{position:absolute;top:0;left:0;width:100%;height:100%;background:currentColor;opacity:.15;z-index:-1;will-change:opacity,transform;border-radius:999px;transform:scale(2.6)}#description{flex:1}"]);_templateObject127=function _templateObject127(){return data;};return data;}function _templateObject126(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"indicator\" part=\"indicator\">\n          <div id=\"ripples\"></div>\n\n          <svg id=\"checkmark\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n            <path></path>\n          </svg>\n        </div>\n\n        <div id=\"description\">\n          <slot></slot>\n        </div>\n      </main>\n    </template>\n  "]);_templateObject126=function _templateObject126(){return data;};return data;}function _templateObject125(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;min-width:20px;min-height:48px;box-sizing:border-box;margin:30px 0}:host([hidden]){display:none}"]);_templateObject125=function _templateObject125(){return data;};return data;}function _templateObject124(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject124=function _templateObject124(){return data;};return data;}function _templateObject123(){var data=_taggedTemplateLiteral([":host{display:flex;flex-flow:row;align-items:center;justify-content:flex-start;box-sizing:border-box;width:fit-content}:host([hidden]){display:none}"]);_templateObject123=function _templateObject123(){return data;};return data;}function _templateObject122(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject122=function _templateObject122(){return data;};return data;}function _templateObject121(){var data=_taggedTemplateLiteral([":host{display:flex;align-items:center;justify-content:center;width:fit-content;height:fit-content;min-height:32px;padding:2px 14px;box-sizing:border-box;opacity:1;position:relative;overflow:hidden;--trigger-effect:none}:host(:focus){outline:0}:host(:focus:not(:active)){z-index:1}:host([mixed]){opacity:.75}:host([disabled]){pointer-events:none;opacity:.5}:host([hidden]){display:none}#arrow{color:currentColor;width:8px;height:8px;min-width:8px;margin:0 0 0 4px;d:path(\"M 11.7 19.9 L 49.8 57.9 L 87.9 19.9 L 99.7 31.6 L 49.8 81.4 L -0.0 31.6 Z\")}#arrow path{fill:currentColor;d:inherit}#arrow[hidden]{display:none}#ripples{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;border-radius:inherit}#ripples .ripple{position:absolute;top:0;left:0;width:200px;height:200px;background:currentColor;opacity:.2;border-radius:999px;transform:none;transition:all .8s cubic-bezier(.4, 0, .2, 1);will-change:opacity,transform;pointer-events:none}"]);_templateObject121=function _templateObject121(){return data;};return data;}function _templateObject120(){var data=_taggedTemplateLiteral(["\n    <template>\n      <div id=\"ripples\"></div>\n      <slot></slot>\n\n      <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\">\n        <path id=\"arrow-path\"></path>\n      </svg>\n    </template>\n  "]);_templateObject120=function _templateObject120(){return data;};return data;}function _templateObject119(){var data=_taggedTemplateLiteral([":host{display:flex;box-sizing:border-box;align-items:center;justify-content:flex-start}:host([vertical]){flex-flow:column;align-items:flex-start;justify-content:center}:host([hidden]){display:none}"]);_templateObject119=function _templateObject119(){return data;};return data;}function _templateObject118(){var data=_taggedTemplateLiteral(["\n    <template>\n      <slot></slot>\n    </template>\n  "]);_templateObject118=function _templateObject118(){return data;};return data;}function _templateObject117(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;user-select:none}:host([hidden]){display:none}#hue-slider{width:100%;height:30px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;background:red;--marker-width:18px}:host([computedsize=small]) #hue-slider{height:24px}:host([computedsize=large]) #hue-slider{height:35px}#hue-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center;background:linear-gradient(to right,red,#ff0,#0f0,#0ff,#00f,#f0f,red)}#hue-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#saturation-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #saturation-slider{height:24px}:host([computedsize=large]) #saturation-slider{height:35px}#saturation-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#saturation-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#lightness-slider{width:100%;height:30px;margin-top:20px;padding:0 calc(var(--marker-width)/ 2);box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px}:host([computedsize=small]) #lightness-slider{height:24px}:host([computedsize=large]) #lightness-slider{height:35px}#lightness-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#lightness-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}#alpha-slider{display:none;width:100%;height:30px;margin-top:20px;margin-bottom:8px;padding:0 calc(var(--marker-width)/ 2);position:relative;box-sizing:border-box;border-radius:2px;touch-action:pan-y;--marker-width:18px;background-size:10px 10px;background-position:0 0,0 5px,5px -5px,-5px 0;background-image:linear-gradient(45deg,#d6d6d6 25%,transparent 25%),linear-gradient(-45deg,#d6d6d6 25%,transparent 25%),linear-gradient(45deg,transparent 75%,#d6d6d6 75%),linear-gradient(-45deg,transparent 75%,#d6d6d6 75%)}:host([alphaslider]) #alpha-slider{display:block}:host([computedsize=small]) #alpha-slider{height:24px}:host([computedsize=large]) #alpha-slider{height:35px}#alpha-slider-gradient{position:absolute;top:0;left:0;width:100%;height:100%}#alpha-slider-track{width:100%;height:100%;position:relative;display:flex;align-items:center}#alpha-slider-marker{position:absolute;left:0;background:rgba(0,0,0,.2);box-shadow:0 0 3px #000;box-sizing:border-box;transform:translateX(calc((var(--marker-width)/ 2) * -1));border:3px solid #fff;width:var(--marker-width);height:calc(100% + 6px);position:absolute}"]);_templateObject117=function _templateObject117(){return data;};return data;}function _templateObject116(){var data=_taggedTemplateLiteral(["\n    <template>\n      <x-box vertical>\n        <div id=\"hue-slider\" part=\"slider\">\n          <div id=\"hue-slider-track\">\n            <div id=\"hue-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"saturation-slider\" part=\"slider\">\n          <div id=\"saturation-slider-track\">\n            <div id=\"saturation-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"lightness-slider\" part=\"slider\">\n          <div id=\"lightness-slider-track\">\n            <div id=\"lightness-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n\n        <div id=\"alpha-slider\" part=\"slider\">\n          <div id=\"alpha-slider-gradient\"></div>\n          <div id=\"alpha-slider-track\">\n            <div id=\"alpha-slider-marker\" part=\"marker\"></div>\n          </div>\n        </div>\n      </x-box>\n    </template>\n  "]);_templateObject116=function _templateObject116(){return data;};return data;}function _templateObject115(){var data=_taggedTemplateLiteral([":host{display:block;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:1000;touch-action:none;will-change:opacity;cursor:default;background:rgba(0,0,0,.5)}:host([hidden]){display:none}"]);_templateObject115=function _templateObject115(){return data;};return data;}function _templateObject114(){var data=_taggedTemplateLiteral([":host{display:block;width:100%;margin:8px 0;box-sizing:border-box}:host([animating]){overflow:hidden}#main{position:relative;width:100%;height:100%}#arrow-container{position:absolute;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:flex-start;pointer-events:none}#arrow{display:flex;width:16px;height:16px;d:path(\"M 26 20 L 26 80 L 74 50 Z\");transform:rotate(0);transition:transform .25s cubic-bezier(.4, 0, .2, 1);color:currentColor}#arrow:focus{background:0 0;outline:0}:host([expanded]) #arrow{transform:rotate(90deg)}#arrow path{fill:currentColor;d:inherit}"]);_templateObject114=function _templateObject114(){return data;};return data;}function _templateObject113(){var data=_taggedTemplateLiteral(["\n    <template>\n      <main id=\"main\">\n        <div id=\"arrow-container\">\n          <svg id=\"arrow\" part=\"arrow\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"none\" tabindex=\"1\">\n            <path></path>\n          </svg>\n        </div>\n\n        <slot></slot>\n      </main>\n    </template>\n  "]);_templateObject113=function _templateObject113(){return data;};return data;}function _templateObject112(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject112=function _templateObject112(){return data;};return data;}function _templateObject111(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject111=function _templateObject111(){return data;};return data;}function _templateObject110(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject110=function _templateObject110(){return data;};return data;}function _templateObject109(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject109=function _templateObject109(){return data;};return data;}function _templateObject108(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject108=function _templateObject108(){return data;};return data;}function _templateObject107(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Untitled\"><x-label>Untitled</x-label></x-doctab>"]);_templateObject107=function _templateObject107(){return data;};return data;}function _templateObject106(){var data=_taggedTemplateLiteral(["<bx-editor></bx-editor>"]);_templateObject106=function _templateObject106(){return data;};return data;}function _templateObject105(){var data=_taggedTemplateLiteral(["<x-doctab title=\"","\"><x-label>","</x-label></x-doctab>"]);_templateObject105=function _templateObject105(){return data;};return data;}function _templateObject104(){var data=_taggedTemplateLiteral(["<bx-preferences></bx-preferences>"]);_templateObject104=function _templateObject104(){return data;};return data;}function _templateObject103(){var data=_taggedTemplateLiteral(["<x-doctab title=\"Preferences\" value=\"preferences\"><x-label>Preferences</x-label></x-doctab>"]);_templateObject103=function _templateObject103(){return data;};return data;}function _templateObject102(){var data=_taggedTemplateLiteral(["<bx-about></bx-about>"]);_templateObject102=function _templateObject102(){return data;};return data;}function _templateObject101(){var data=_taggedTemplateLiteral(["<x-doctab title=\"About\" value=\"about\"><x-label>About</x-label></x-doctab>"]);_templateObject101=function _templateObject101(){return data;};return data;}function _templateObject100(){var data=_taggedTemplateLiteral(["<dialog id=\"message-dialog\" data-param=\"message\"></dialog>"]);_templateObject100=function _templateObject100(){return data;};return data;}function _templateObject99(){var data=_taggedTemplateLiteral(["<x-input class=\"input\" part=\"input\" value=\"","\" validation=\"instant\"></x-input>"]);_templateObject99=function _templateObject99(){return data;};return data;}function _templateObject98(){var data=_taggedTemplateLiteral(["",""]);_templateObject98=function _templateObject98(){return data;};return data;}function _templateObject97(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject97=function _templateObject97(){return data;};return data;}function _templateObject96(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"presentation-attributes\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject96=function _templateObject96(){return data;};return data;}function _templateObject95(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject95=function _templateObject95(){return data;};return data;}function _templateObject94(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-element\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\">","</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject94=function _templateObject94(){return data;};return data;}function _templateObject93(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\">","</span>: <span class=\"value\">","</span>;</div></div>"]);_templateObject93=function _templateObject93(){return data;};return data;}function _templateObject92(){var data=_taggedTemplateLiteral(["<div class=\"cascade-item\" data-origin=\"style-attribute\"><div class=\"heading\" part=\"heading\">","</div><div class=\"prefix\"><span class=\"selector\" disabled=\"disabled\">element.style</span> {</div><div class=\"properties\"></div><div class=\"sufix\">}</div></div>"]);_templateObject92=function _templateObject92(){return data;};return data;}function _templateObject91(){var data=_taggedTemplateLiteral(["<div class=\"property-item\"><x-checkbox class=\"checkbox\" toggled></x-checkbox><div class=\"property-div\"><span class=\"name\"></span>: <span class=\"value\">initial</span>;</div></div>"]);_templateObject91=function _templateObject91(){return data;};return data;}function _templateObject90(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject90=function _templateObject90(){return data;};return data;}function _templateObject89(){var data=_taggedTemplateLiteral(["<div id=\"autocompletion-list\" part=\"autocompletion-list\" hidden></div>"]);_templateObject89=function _templateObject89(){return data;};return data;}function _templateObject88(){var data=_taggedTemplateLiteral(["<g>"]);_templateObject88=function _templateObject88(){return data;};return data;}function _templateObject87(){var data=_taggedTemplateLiteral(["",""]);_templateObject87=function _templateObject87(){return data;};return data;}function _templateObject86(){var data=_taggedTemplateLiteral(["",""]);_templateObject86=function _templateObject86(){return data;};return data;}function _templateObject85(){var data=_taggedTemplateLiteral(["",""]);_templateObject85=function _templateObject85(){return data;};return data;}function _templateObject84(){var data=_taggedTemplateLiteral(["",""]);_templateObject84=function _templateObject84(){return data;};return data;}function _templateObject83(){var data=_taggedTemplateLiteral(["",""]);_templateObject83=function _templateObject83(){return data;};return data;}function _templateObject82(){var data=_taggedTemplateLiteral(["",""]);_templateObject82=function _templateObject82(){return data;};return data;}function _templateObject81(){var data=_taggedTemplateLiteral(["",""]);_templateObject81=function _templateObject81(){return data;};return data;}function _templateObject80(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject80=function _templateObject80(){return data;};return data;}function _templateObject79(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img loading=\"lazy\" style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject79=function _templateObject79(){return data;};return data;}function _templateObject78(){var data=_taggedTemplateLiteral(["<img id=\"ghost\"></img>"]);_templateObject78=function _templateObject78(){return data;};return data;}function _templateObject77(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><img loading=\"lazy\" style=\"width: ","px; height: ","px;\" src=\"","\"></div>"]);_templateObject77=function _templateObject77(){return data;};return data;}function _templateObject76(){var data=_taggedTemplateLiteral(["",""]);_templateObject76=function _templateObject76(){return data;};return data;}function _templateObject75(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject75=function _templateObject75(){return data;};return data;}function _templateObject74(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" style=\"background: ",";\"></div>"]);_templateObject74=function _templateObject74(){return data;};return data;}function _templateObject73(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject73=function _templateObject73(){return data;};return data;}function _templateObject72(){var data=_taggedTemplateLiteral(["",""]);_templateObject72=function _templateObject72(){return data;};return data;}function _templateObject71(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject71=function _templateObject71(){return data;};return data;}function _templateObject70(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\" style=\"background: ",";\"></div>"]);_templateObject70=function _templateObject70(){return data;};return data;}function _templateObject69(){var data=_taggedTemplateLiteral(["<div id=\"ghost\"></div>"]);_templateObject69=function _templateObject69(){return data;};return data;}function _templateObject68(){var data=_taggedTemplateLiteral(["<div class=\"font-item item\"><div class=\"label\" style=\"","\">","</div></div>"]);_templateObject68=function _templateObject68(){return data;};return data;}function _templateObject67(){var data=_taggedTemplateLiteral(["<div class=\"family-item item\" data-family=\"","\"><div class=\"background\"></div><div class=\"main\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><path d=\"M 0.736 20.259 L 49.999 87.816 L 99.264 20.259 Z\"/></svg></div><div class=\"label\" style=\"font-family: '","'\">","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin font family (prevent garbage collector from auto-removing the family when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div><div class=\"font-items-outer\"><div class=\"font-items\" hidden></div></div></div>"]);_templateObject67=function _templateObject67(){return data;};return data;}function _templateObject66(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>Family name</x-label></x-input>"]);_templateObject66=function _templateObject66(){return data;};return data;}function _templateObject65(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><img src=\"/images/logos/logo-full.svg\" style=\"filter: url(#",")\"></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin filter (prevent garbage collector from auto-removing the filter when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject65=function _templateObject65(){return data;};return data;}function _templateObject64(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject64=function _templateObject64(){return data;};return data;}function _templateObject63(){var data=_taggedTemplateLiteral(["\n            <g class=\"edge\">\n              <path class=\"edge-outline\"></path>\n              <path class=\"edge-inline\"></path>\n              <foreignObject\n                class=\"label-text\"\n                width=\"","\"\n                height=\"","\"\n                style=\"line-height: ","px;\">\n              </foreignObject>\n            </g>\n          "]);_templateObject63=function _templateObject63(){return data;};return data;}function _templateObject62(){var data=_taggedTemplateLiteral(["\n            <g class=\"node\" data-name=\"","\">\n              <rect class=\"background\" width=\"40\" height=\"40\"></rect>\n              <foreignObject x=\"7\" y=\"7\" width=\"26\" height=\"26\">\n                <x-icon name=\"","\"></x-icon>\n              </foreignObject>\n            </g>\n          "]);_templateObject62=function _templateObject62(){return data;};return data;}function _templateObject61(){var data=_taggedTemplateLiteral(["<path id=\"graph-ghost-edge\"></path>"]);_templateObject61=function _templateObject61(){return data;};return data;}function _templateObject60(){var data=_taggedTemplateLiteral(["\n            <g transform=\"translate(0 ",")\">\n              <title>Page ","</title>\n            </g>\n          "]);_templateObject60=function _templateObject60(){return data;};return data;}function _templateObject59(){var data=_taggedTemplateLiteral(["<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"></svg>"]);_templateObject59=function _templateObject59(){return data;};return data;}function _templateObject58(){var data=_taggedTemplateLiteral(["<x-button value=\"","\" condensed toggled><x-label>","</x-label></x-button>"]);_templateObject58=function _templateObject58(){return data;};return data;}function _templateObject57(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin symbol (prevent garbage collector from auto-removing the symbol when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject57=function _templateObject57(){return data;};return data;}function _templateObject56(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject56=function _templateObject56(){return data;};return data;}function _templateObject55(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ",">","</svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin marker (prevent garbage collector from auto-removing the marker when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject55=function _templateObject55(){return data;};return data;}function _templateObject54(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject54=function _templateObject54(){return data;};return data;}function _templateObject53(){var data=_taggedTemplateLiteral(["<div class=\"item\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin pattern (prevent garbage collector from auto-removing the pattern when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject53=function _templateObject53(){return data;};return data;}function _templateObject52(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject52=function _templateObject52(){return data;};return data;}function _templateObject51(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin gradient (prevent garbage collector from auto-removing the gradient when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject51=function _templateObject51(){return data;};return data;}function _templateObject50(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject50=function _templateObject50(){return data;};return data;}function _templateObject49(){var data=_taggedTemplateLiteral(["<div class=\"item\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div><x-button class=\"counter-button\" skin=\"recessed\" title=\"Users count\" toggled hidden><x-label>0</x-label></x-button><x-button class=\"pin-button\" title=\"Pin color (prevent garbage collector from auto-removing the color when it is no longer used)\" skin=\"flat\" toggled togglable><x-icon name=\"pin\"></x-icon></x-button></div>"]);_templateObject49=function _templateObject49(){return data;};return data;}function _templateObject48(){var data=_taggedTemplateLiteral(["\n        <linearGradient id=\"","\">\n          <stop style=\"stop-color: ",";\"></stop>\n        </linearGradient>\n      "]);_templateObject48=function _templateObject48(){return data;};return data;}function _templateObject47(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label hidden>","</x-label></x-input>"]);_templateObject47=function _templateObject47(){return data;};return data;}function _templateObject46(){var data=_taggedTemplateLiteral(["",""]);_templateObject46=function _templateObject46(){return data;};return data;}function _templateObject45(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-depth=\"","\"><div class=\"background\"></div><div class=\"main\" style=\"padding-left: ","px;\"><div class=\"arrow-button\"><svg class=\"arrow-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#arrow\" width=\"100%\" height=\"100%\"></use></svg></div><svg class=\"object-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#","\" width=\"100%\" height=\"100%\"></use></svg><div class=\"label\"></div><div class=\"action-buttons\"><div class=\"lock-button\"><svg class=\"lock-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#lock-on\" width=\"100%\" height=\"100%\"></use></svg></div><div class=\"visibility-button\"><svg class=\"visibility-icon\" preserveAspectRatio=\"none\" viewBox=\"0 0 100 100\"><use href=\"#visibility-hidden\" width=\"100%\" height=\"100%\"></use></svg></div></div></div><div class=\"children-outer\"><div class=\"children\"></div></div></div>"]);_templateObject45=function _templateObject45(){return data;};return data;}function _templateObject44(){var data=_taggedTemplateLiteral(["<x-input value=\"","\" validation=\"instant\"><x-label>","</x-label></x-input>"]);_templateObject44=function _templateObject44(){return data;};return data;}function _templateObject43(){var data=_taggedTemplateLiteral(["<path style=\"fill: none; stroke: black;\"></path>"]);_templateObject43=function _templateObject43(){return data;};return data;}function _templateObject42(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject42=function _templateObject42(){return data;};return data;}function _templateObject41(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject41=function _templateObject41(){return data;};return data;}function _templateObject40(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject40=function _templateObject40(){return data;};return data;}function _templateObject39(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject39=function _templateObject39(){return data;};return data;}function _templateObject38(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject38=function _templateObject38(){return data;};return data;}function _templateObject37(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject37=function _templateObject37(){return data;};return data;}function _templateObject36(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject36=function _templateObject36(){return data;};return data;}function _templateObject35(){var data=_taggedTemplateLiteral(["<path></path>"]);_templateObject35=function _templateObject35(){return data;};return data;}function _templateObject34(){var data=_taggedTemplateLiteral(["\n            <text x=\"","\" y=\"","\" style=\"font-size: 20px;\">Enter your text here</text>\n          "]);_templateObject34=function _templateObject34(){return data;};return data;}function _templateObject33(){var data=_taggedTemplateLiteral(["\n            <path\n              style=\"fill: none; stroke: black;\"\n              d=\"M "," "," C "," "," "," ","   "," ","\">\n            </path>\n          "]);_templateObject33=function _templateObject33(){return data;};return data;}function _templateObject32(){var data=_taggedTemplateLiteral(["\n            <polygon\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polygon>\n          "]);_templateObject32=function _templateObject32(){return data;};return data;}function _templateObject31(){var data=_taggedTemplateLiteral(["\n            <polyline\n              style=\"stroke: black;\"\n              points=\""," "," "," ","\">\n            </polyline>\n          "]);_templateObject31=function _templateObject31(){return data;};return data;}function _templateObject30(){var data=_taggedTemplateLiteral(["\n            <line\n              style=\"stroke: black;\"\n              x1=\"","\"\n              y1=\"","\"\n              x2=\"","\"\n              y2=\"","\">\n            </line>\n          "]);_templateObject30=function _templateObject30(){return data;};return data;}function _templateObject29(){var data=_taggedTemplateLiteral(["\n            <ellipse\n              cx=\"","\"\n              cy=\"","\"\n              rx=\"50\"\n              ry=\"50\">\n            </ellipse>\n          "]);_templateObject29=function _templateObject29(){return data;};return data;}function _templateObject28(){var data=_taggedTemplateLiteral(["\n            <circle\n              cx=\"","\"\n              cy=\"","\"\n              r=\"50\">\n            </circle>\n          "]);_templateObject28=function _templateObject28(){return data;};return data;}function _templateObject27(){var data=_taggedTemplateLiteral(["\n            <rect\n              x=\"","\"\n              y=\"","\"\n              width=\"","\"\n              height=\"","\">\n            </rect>\n          "]);_templateObject27=function _templateObject27(){return data;};return data;}function _templateObject26(){var data=_taggedTemplateLiteral(["\n            <image\n              x=\"","\"\n              y=\"","\"\n              width=\"100\"\n              height=\"100\"\n              href=\"","\">\n            </image>\n          "]);_templateObject26=function _templateObject26(){return data;};return data;}function _templateObject25(){var data=_taggedTemplateLiteral(["<a></a>"]);_templateObject25=function _templateObject25(){return data;};return data;}function _templateObject24(){var data=_taggedTemplateLiteral(["<g></g>"]);_templateObject24=function _templateObject24(){return data;};return data;}function _templateObject23(){var data=_taggedTemplateLiteral(["<path id=\"","\" d=\"","\"></path>"]);_templateObject23=function _templateObject23(){return data;};return data;}function _templateObject22(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-family=\"","\"><img src=\"","\" part=\"thumbnail\"></div>"]);_templateObject22=function _templateObject22(){return data;};return data;}function _templateObject21(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-family=\"","\"><div class=\"label\" style=\"font-family: '","'\">","</div></div>"]);_templateObject21=function _templateObject21(){return data;};return data;}function _templateObject20(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"#","\"><div class=\"thumbnail\"><img src=\"","\" style=\"filter: url(#",");\"></div><div class=\"label\">#","</div></div>"]);_templateObject20=function _templateObject20(){return data;};return data;}function _templateObject19(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"none\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" style=\"fill: url(#",")\"></rect></svg><div class=\"label\">#","</div></div>"]);_templateObject19=function _templateObject19(){return data;};return data;}function _templateObject18(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject18=function _templateObject18(){return data;};return data;}function _templateObject17(){var data=_taggedTemplateLiteral(["<div class=\"item\" data-value=\"","\"><div class=\"thumbnail\" part=\"thumbnail\"><div class=\"thumbnail-inner\" style=\"background: ",";\"></div></div><div class=\"label\">#","</div></div>"]);_templateObject17=function _templateObject17(){return data;};return data;}function _templateObject16(){var data=_taggedTemplateLiteral(["<div class=\"item\" part=\"item\"><div class=\"inner\"><x-icon class=\"icon\" name=\"","\"></x-icon><div class=\"label\">","</div></div></div>"]);_templateObject16=function _templateObject16(){return data;};return data;}function _templateObject15(){var data=_taggedTemplateLiteral(["<bx-grid x=\"0\" y=\"0\" width=\"100\" height=\"100\"></bx-grid>"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral(["<defs></defs>"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"marker\">","</g>"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"pattern\">","</g>"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"symbol\">","</g>"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral(["<g data-bx-workspace=\"master\"></g>"]);_templateObject10=function _templateObject10(){return data;};return data;}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get;}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver);}return desc.value;};}return _get(target,property,receiver||target);}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break;}return object;}function _templateObject9(){var data=_taggedTemplateLiteral(["<tspan x=\"","\" dy=\"","em\">","</tspan>"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral(["<line class=\"repr\" x1=\"","\" y1=\"","\" x2=\"","\" y2=\"","\"></line>"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral(["<bx-guide x=\"","\" y=\"","\" angle=\"","\"></bx-guide>"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral(["\n      <g class=\"repr\" transform=\"translate(",", ",") rotate(",")\" data-selected>\n        <line class=\"outer-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <line class=\"inner-line\" x1=\"0\" y1=\"","\" x2=\"0\" y2=\"","\"></line>\n        <circle class=\"grippie\" cx=\"0\" cy=\"0\" r=\"","\"></rect>\n      </g>\n    "]);_templateObject6=function _templateObject6(){return data;};return data;}function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}function _templateObject5(){var data=_taggedTemplateLiteral(["",""]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral(["\n            <x-tag class=\"tag\" value=\"","\" removable>\n              <x-label slot=\"scope\">","</x-label>\n              <x-label>","</x-label>\n            </x-tag>\n          "]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral(["<x-doctab><x-label>Untitled</x-label></x-doctab>"]);_templateObject2=function _templateObject2(){return data;};return data;}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map():undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function");}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper);}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor);}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class);};return _wrapNativeSuper(Class);}function _construct(Parent,args,Class){if(_isNativeReflectConstruct()){_construct=Reflect.construct;}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor();if(Class)_setPrototypeOf(instance,Class.prototype);return instance;};}return _construct.apply(null,arguments);}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _templateObject(){var data=_taggedTemplateLiteral(["",""]);_templateObject=function _templateObject(){return data;};return data;}function _taggedTemplateLiteral(strings,raw){if(!raw){raw=strings.slice(0);}return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}));}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{Promise.resolve(value).then(_next,_throw);}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value);}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err);}_next(undefined);});};}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toArray(arr){return _arrayWithHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableRest();}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_unsupportedIterableToArray(arr,i)||_nonIterableRest();}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArrayLimit(arr,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(arr)))return;var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _createForOfIteratorHelper(o,allowArrayLike){var it;if(typeof Symbol==="undefined"||o[Symbol.iterator]==null){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length==="number"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e2026){throw _e2026;},f:F};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=o[Symbol.iterator]();},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2027){didErr=true;err=_e2027;},f:function f(){try{if(!normalCompletion&&it["return"]!=null)it["return"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}!function(){"use strict";var _temp2,_temp3;SVGUseElement.prototype.getBBox=function(){var t=SVGGraphicsElement.prototype.getBBox.call(this);return t.x+=this.x.baseVal.value,t.y+=this.y.baseVal.value,t;};var t=["iPhone","iPad"].includes(navigator.platform)||navigator.platform.startsWith("Mac"),e=(navigator.userAgent.toLowerCase().indexOf("android"),"596389"),i="650791",s="522135",n='This is an Adobe\xae Illustrator\xae file that was saved without PDF content. To import this file in other applications, it should be re-saved from Adobe Illustrator with the "Create PDF Compatible File" option turned on.',o="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",l={bx:"https://boxy-svg.com",html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/"},a=["px","cm","mm","in","pt","pc","q"],h={px:1,"in":96,cm:96/2.54,mm:96/2.54/10,q:96/2.54/40,pt:96/72,pc:16};var r=["em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","q","in","pc","pt","px"];var d=["none","xMinYMin","xMidYMin","xMaxYMin","xMinYMid","xMidYMid","xMaxYMid","xMinYMax","xMidYMax","xMaxYMax"],c=[[-3,-3],[-2,-3],[-1,-3],[0,-3],[1,-3],[2,-3],[3,-3],[-3,-2],[-2,-2],[-1,-2],[0,-2],[1,-2],[2,-2],[3,-2],[-3,-1],[-2,-1],[-1,-1],[0,-1],[1,-1],[2,-1],[3,-1],[-3,0],[-2,0],[-1,0],[0,0],[1,0],[2,0],[3,0],[-3,1],[-2,1],[-1,1],[0,1],[1,1],[2,1],[3,1],[-3,2],[-2,2],[-1,2],[0,2],[1,2],[2,2],[3,2],[-3,3],[-2,3],[-1,3],[0,3],[1,3],[2,3],[3,3]],p=["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong"],u={"drop-shadow":"Drop Shadow","inner-shadow":"Inner Shadow","point-light":"Point Light","spot-light":"Spot Light",outline:"Outline","gaussian-blur":"Gaussian Blur","motion-blur":"Motion Blur",warp:"Warp",pixelete:"Pixelete",morphology:"Morphology","black-and-white":"Black and White",grayscale:"Grayscale",sepia:"Sepia",saturate:"Saturate","hue-rotate":"Hue Rotate",invert:"Invert",brightness:"Brightness",contrast:"Contrast",posterize:"Posterize",duotone:"Duotone","x-ray":"X-ray"},x=["circle","ellipse","line","path","polygon","polyline","rect"],b=["text","textPath","tspan"],m=[].concat(x,b,["image"]),g=[].concat(x,["image","text","g","a","svg","use"]),f=[].concat(m,["svg","g","a","use"]),w=[].concat(x,b),v=["solidcolor","linearGradient","radialGradient","pattern"],y=["desc","bx-title"],k=["svg","g","defs","symbol","use"],S=[].concat(x,["text","use"]),_=[].concat(m,["clipPath","a","g"]),C=[].concat(m,["a","g"]),M=[].concat(m,["a","g"]),P=["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence"],D=["rect","circle","ellipse","line","path","polygon","polyline","image","text","tspan","use","svg","a","g"],z=["path","line","polyline","polygon"],O={fill:"#d8d8d8"},E={fill:"none",stroke:"black","stroke-width":"1px"},T={fill:"#333333","font-size":"28px","font-family":"Roboto Slab"},A={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"},$=["direction","dominant-baseline","font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","text-anchor","text-decoration","text-rendering","unicode-bidi","word-spacing","writing-mode"],I=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"],L=[["#264653","#2a9d8f","#e9c46a","#f4a261","#e76f51"],["#e63946","#f1faee","#a8dadc","#457b9d","#1d3557"],["#ffcdb2","#ffb4a2","#e5989b","#b5838d","#6d6875"],["#000000","#14213d","#fca311","#e5e5e5","#ffffff"],["#003049","#d62828","#f77f00","#fcbf49","#eae2b7"],["#f4f1de","#e07a5f","#3d405b","#81b29a","#f2cc8f"],["#606c38","#283618","#fefae0","#dda15e","#bc6c25"],["#006d77","#83c5be","#edf6f9","#ffddd2","#e29578"],["#ef476f","#ffd166","#06d6a0","#118ab2","#073b4c"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d90429"],["#ffb5a7","#fcd5ce","#f8edeb","#f9dcc4","#fec89a"],["#ffbe0b","#fb5607","#ff006e","#8338ec","#3a86ff"],["#f6bd60","#f7ede2","#f5cac3","#84a59d","#f28482"],["#8ecae6","#219ebc","#023047","#ffb703","#fb8500"],["#d8e2dc","#ffe5d9","#ffcad4","#f4acb7","#9d8189"],["#3d5a80","#98c1d9","#e0fbfc","#ee6c4d","#293241"],["#22223b","#4a4e69","#9a8c98","#c9ada7","#f2e9e4"],["#05668d","#028090","#00a896","#02c39a","#f0f3bd"],["#8e9aaf","#cbc0d3","#efd3d7","#feeafa","#dee2ff"],["#cdb4db","#ffc8dd","#ffafcc","#bde0fe","#a2d2ff"],["#011627","#fdfffc","#2ec4b6","#e71d36","#ff9f1c"],["#1a535c","#4ecdc4","#f7fff7","#ff6b6b","#ffe66d"],["#ffa69e","#faf3dd","#b8f2e6","#aed9e0","#5e6472"],["#ccd5ae","#e9edc9","#fefae0","#faedcd","#d4a373"],["#335c67","#fff3b0","#e09f3e","#9e2a2b","#540b0e"],["#cad2c5","#84a98c","#52796f","#354f52","#2f3e46"],["#355070","#6d597a","#b56576","#e56b6f","#eaac8b"],["#ff9f1c","#ffbf69","#ffffff","#cbf3f0","#2ec4b6"],["#5f0f40","#9a031e","#fb8b24","#e36414","#0f4c5c"],["#f08080","#f4978e","#f8ad9d","#fbc4ab","#ffdab9"],["#555b6e","#89b0ae","#bee3db","#faf9f9","#ffd6ba"],["#0081a7","#00afb9","#fdfcdc","#fed9b7","#f07167"],["#f72585","#7209b7","#3a0ca3","#4361ee","#4cc9f0"],["#03045e","#0077b6","#00b4d8","#90e0ef","#caf0f8"],["#463f3a","#8a817c","#bcb8b1","#f4f3ee","#e0afa0"],["#353535","#3c6e71","#ffffff","#d9d9d9","#284b63"],["#ecf8f8","#eee4e1","#e7d8c9","#e6beae","#b2967d"],["#283d3b","#197278","#edddd4","#c44536","#772e25"],["#d4e09b","#f6f4d2","#cbdfbd","#f19c79","#a44a3f"],["#cfdbd5","#e8eddf","#f5cb5c","#242423","#333533"],["#7bdff2","#b2f7ef","#eff7f6","#f7d6e0","#f2b5d4"],["#50514f","#f25f5c","#ffe066","#247ba0","#70c1b3"],["#9c89b8","#f0a6ca","#efc3e6","#f0e6ef","#b8bedd"],["#588b8b","#ffffff","#ffd5c2","#f28f3b","#c8553d"],["#c9cba3","#ffe1a8","#e26d5c","#723d46","#472d30"],["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"],["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93"],["#ffffff","#84dcc6","#a5ffd6","#ffa69e","#ff686b"],["#0b132b","#1c2541","#3a506b","#5bc0be","#6fffe9"],["#390099","#9e0059","#ff0054","#ff5400","#ffbd00"],["#f7b267","#f79d65","#f4845f","#f27059","#f25c54"],["#00296b","#003f88","#00509d","#fdc500","#ffd500"],["#6f1d1b","#bb9457","#432818","#99582a","#ffe6a7"],["#70d6ff","#ff70a6","#ff9770","#ffd670","#e9ff70"],["#fe938c","#e6b89c","#ead2ac","#9cafb7","#4281a4"],["#dad7cd","#a3b18a","#588157","#3a5a40","#344e41"],["#fffcf2","#ccc5b9","#403d39","#252422","#eb5e28"],["#ffffff","#00171f","#003459","#007ea7","#00a8e8"],["#233d4d","#fe7f2d","#fcca46","#a1c181","#619b8a"],["#0d3b66","#faf0ca","#f4d35e","#ee964b","#f95738"],["#ff99c8","#fcf6bd","#d0f4de","#a9def9","#e4c1f9"],["#4f000b","#720026","#ce4257","#ff7f51","#ff9b54"],["#001427","#708d81","#f4d58d","#bf0603","#8d0801"],["#eee2df","#eed7c5","#c89f9c","#c97c5d","#b36a5e"],["#220901","#621708","#941b0c","#bc3908","#f6aa1c"],["#0d1b2a","#1b263b","#415a77","#778da9","#e0e1dd"],["#f7d1cd","#e8c2ca","#d1b3c4","#b392ac","#735d78"],["#6b9080","#a4c3b2","#cce3de","#eaf4f4","#f6fff8"],["#386641","#6a994e","#a7c957","#f2e8cf","#bc4749"],["#ffac81","#ff928b","#fec3a6","#efe9ae","#cdeac0"],["#540d6e","#ee4266","#ffd23f","#3bceac","#0ead69"],["#ecc8af","#e7ad99","#ce796b","#c18c5d","#495867"],["#16697a","#489fb5","#82c0cc","#ede7e3","#ffa62b"],["#ed6a5a","#f4f1bb","#9bc1bc","#5ca4a9","#e6ebe0"],["#64a6bd","#90a8c3","#ada7c9","#d7b9d5","#f4cae0"],["#565264","#706677","#a6808c","#ccb7ae","#d6cfcb"],["#2d3142","#bfc0c0","#ffffff","#ef8354","#4f5d75"],["#495867","#577399","#bdd5ea","#f7f7ff","#fe5f55"],["#2d3142","#4f5d75","#bfc0c0","#ffffff","#ef8354"],["#177e89","#084c61","#db3a34","#ffc857","#323031"],["#f9dbbd","#ffa5ab","#da627d","#a53860","#450920"],["#227c9d","#17c3b2","#ffcb77","#fef9ef","#fe6d73"],["#114b5f","#1a936f","#88d498","#c6dabf","#f3e9d2"],["#9381ff","#b8b8ff","#f8f7ff","#ffeedd","#ffd8be"],["#ffbc42","#d81159","#8f2d56","#218380","#73d2de"],["#bee9e8","#62b6cb","#1b4965","#cae9ff","#5fa8d3"],["#3d348b","#7678ed","#f7b801","#f18701","#f35b04"],["#07beb8","#3dccc7","#68d8d6","#9ceaef","#c4fff9"],["#dcdcdd","#c5c3c6","#46494c","#4c5c68","#1985a1"],["#fdc5f5","#f7aef8","#b388eb","#8093f1","#72ddf7"],["#bce784","#5dd39e","#348aa7","#525174","#513b56"],["#001524","#15616d","#ffecd1","#ff7d00","#78290f"],["#231942","#5e548e","#9f86c0","#be95c4","#e0b1cb"],["#461220","#8c2f39","#b23a48","#fcb9b2","#fed0bb"],["#f9c80e","#f86624","#ea3546","#662e9b","#43bccd"],["#c9e4ca","#87bba2","#55828b","#3b6064","#364958"],["#0a0908","#22333b","#eae0d5","#c6ac8f","#5e503f"],["#132a13","#31572c","#4f772d","#90a955","#ecf39e"],["#edeec9","#dde7c7","#bfd8bd","#98c9a3","#77bfa3"],["#0c0f0a","#ff206e","#fbff12","#41ead4","#ffffff"],["#f0ead2","#dde5b6","#adc178","#a98467","#6c584c"],["#d0b8ac","#f3d8c7","#efe5dc","#fbfefb","#ffffff"],["#cc5803","#e2711d","#ff9505","#ffb627","#ffc971"],["#edafb8","#f7e1d7","#dedbd2","#b0c4b1","#4a5759"],["#ee6055","#60d394","#aaf683","#ffd97d","#ff9b85"],["#5bc0eb","#fde74c","#9bc53d","#e55934","#fa7921"],["#3c1642","#086375","#1dd3b0","#affc41","#b2ff9e"],["#e0fbfc","#c2dfe3","#9db4c0","#5c6b73","#253237"],["#90f1ef","#ffd6e0","#ffef9f","#c1fba4","#7bf1a8"],["#ef6351","#f38375","#f7a399","#fbc3bc","#ffe3e0"],["#000814","#001d3d","#003566","#ffc300","#ffd60a"],["#2c6e49","#4c956c","#fefee3","#ffc9b9","#d68c45"],["#484a47","#5c6d70","#a37774","#e88873","#e0ac9d"],["#edae49","#d1495b","#00798c","#30638e","#003d5b"],["#202c39","#283845","#b8b08d","#f2d492","#f29559"],["#0b3954","#087e8b","#bfd7ea","#ff5a5f","#c81d25"],["#e7ecef","#274c77","#6096ba","#a3cef1","#8b8c89"],["#ff6700","#ebebeb","#c0c0c0","#3a6ea5","#004e98"],["#083d77","#ebebd3","#f4d35e","#ee964b","#f95738"],["#250902","#38040e","#640d14","#800e13","#ad2831"],["#dd6e42","#e8dab2","#4f6d7a","#c0d6df","#eaeaea"],["#fbfbf2","#e5e6e4","#cfd2cd","#a6a2a2","#847577"],["#ffc09f","#ffee93","#fcf5c7","#a0ced9","#adf7b6"],["#a3a380","#d6ce93","#efebce","#d8a48f","#bb8588"],["#00a6fb","#0582ca","#006494","#003554","#051923"],["#cebebe","#ece2d0","#d5b9b2","#a26769","#6d2e46"],["#2b2d42","#8d99ae","#edf2f4","#ef233c","#d80032"],["#780116","#f7b538","#db7c26","#d8572a","#c32f27"],["#ff6b35","#f7c59f","#efefd0","#004e89","#1a659e"],["#d7263d","#f46036","#2e294e","#1b998b","#c5d86d"],["#8cb369","#f4e285","#f4a259","#5b8e7d","#bc4b51"],["#d3f8e2","#e4c1f9","#f694c1","#ede7b1","#a9def9"],["#006ba6","#0496ff","#ffbc42","#d81159","#8f2d56"],["#ffd6ff","#e7c6ff","#c8b6ff","#b8c0ff","#bbd0ff"],["#55dde0","#33658a","#2f4858","#f6ae2d","#f26419"],["#002642","#840032","#e59500","#e5dada","#02040f"],["#585123","#eec170","#f2a65a","#f58549","#772f1a"],["#e8d6cb","#d0ada7","#ad6a6c","#5d2e46","#b58db6"],["#011627","#f71735","#41ead4","#fdfffc","#ff9f1c"],["#cc8b86","#f9eae1","#7d4f50","#d1be9c","#aa998f"],["#7a6c5d","#2a3d45","#ddc9b4","#bcac9b","#c17c74"],["#0a1128","#001f54","#034078","#1282a2","#fefcfb"],["#ffffff","#ffcad4","#b0d0d3","#c08497","#f7af9d"],["#d88c9a","#f2d0a9","#f1e3d3","#99c1b9","#8e7dbe"],["#05668d","#427aa1","#ebf2fa","#679436","#a5be00"],["#2f4858","#33658a","#86bbd8","#f6ae2d","#f26419"],["#f8ffe5","#06d6a0","#1b9aaa","#ef476f","#ffc43d"],["#25ced1","#ffffff","#fceade","#ff8a5b","#ea526f"],["#6f2dbd","#a663cc","#b298dc","#b8d0eb","#b9faf8"],["#031d44","#04395e","#70a288","#dab785","#d5896f"],["#1a1423","#372549","#774c60","#b75d69","#eacdc2"],["#f79256","#fbd1a2","#7dcfb6","#00b2ca","#1d4e89"],["#223843","#eff1f3","#dbd3d8","#d8b4a0","#d77a61"],["#114b5f","#028090","#e4fde1","#456990","#f45b69"],["#160f29","#246a73","#368f8b","#f3dfc1","#ddbea8"],["#06aed5","#086788","#f0c808","#fff1d0","#dd1c1a"],["#f3e9dc","#c08552","#5e3023","#895737","#dab49d"],["#b0d0d3","#c08497","#f7af9d","#f7e3af","#f3eec3"],["#b09e99","#fee9e1","#fad4c0","#64b6ac","#c0fdfb"],["#292f36","#4ecdc4","#f7fff7","#ff6b6b","#ffe66d"],["#0d1321","#1d2d44","#3e5c76","#748cab","#f0ebd8"],["#1f2041","#4b3f72","#ffc857","#119da4","#19647e"],["#f2d7ee","#d3bcc0","#a5668b","#69306d","#0e103d"],["#a4243b","#d8c99b","#d8973c","#bd632f","#273e47"],["#ff5e5b","#d8d8d8","#ffffea","#00cecb","#ffed66"],["#2364aa","#3da5d9","#73bfb8","#fec601","#ea7317"],["#f6511d","#ffb400","#00a6ed","#7fb800","#0d2c54"],["#efc7c2","#ffe5d4","#bfd3c1","#68a691","#694f5d"],["#022b3a","#1f7a8c","#bfdbf7","#e1e5f2","#ffffff"],["#11151c","#212d40","#364156","#7d4e57","#d66853"],["#000000","#2f4550","#586f7c","#b8dbd9","#f4f4f9"],["#586ba4","#324376","#f5dd90","#f68e5f","#f76c5e"],["#26547c","#ef476f","#ffd166","#06d6a0","#fffcf9"],["#033f63","#28666e","#7c9885","#b5b682","#fedc97"],["#ea8c55","#c75146","#ad2e24","#81171b","#540804"],["#809bce","#95b8d1","#b8e0d2","#d6eadf","#eac4d5"],["#01161e","#124559","#598392","#aec3b0","#eff6e0"],["#533747","#5f506b","#6a6b83","#76949f","#86bbbd"],["#b8d8ba","#d9dbbc","#fcddbc","#ef959d","#69585f"],["#666a86","#788aa3","#92b6b1","#b2c9ab","#e8ddb5"],["#faa275","#ff8c61","#ce6a85","#985277","#5c374c"],["#faf3dd","#c8d5b9","#8fc0a9","#68b0ab","#4a7c59"],["#004e64","#00a5cf","#9fffcb","#25a18e","#7ae582"],["#133c55","#386fa4","#59a5d8","#84d2f6","#91e5f6"],["#432371","#714674","#9f6976","#cc8b79","#faae7b"],["#ddd8c4","#a3c9a8","#84b59f","#69a297","#50808e"],["#d8dbe2","#a9bcd0","#58a4b0","#373f51","#1b1b1e"],["#ddfff7","#93e1d8","#ffa69e","#aa4465","#462255"],["#042a2b","#5eb1bf","#cdedf6","#ef7b45","#d84727"],["#33658a","#86bbd8","#2f4858","#f6ae2d","#f26419"]],B={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},R={100:["100","200","300","400","500","600","700","800","900"],200:["200","100","300","400","500","600","700","800","900"],300:["300","200","100","400","500","600","700","800","900"],400:["400","500","300","200","100","600","700","800","900"],500:["500","400","300","200","100","600","700","800","900"],600:["600","700","800","900","500","400","300","200","100"],700:["700","800","900","600","500","400","300","200","100"],800:["800","900","700","600","500","400","300","200","100"],900:["900","800","700","600","500","400","300","200","100"]},G={a:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view","#text"]),"bx-title":["#text"],circle:[].concat(y,v,["clipPath","marker","mask","script","style"]),clipPath:[].concat(y,x,["text","use","script","style"]),defs:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view","bx-grid","bx-guide"]),desc:["#text"],ellipse:[].concat(y,v,["clipPath","marker","mask","script","style"]),feBlend:[].concat(y,["script","style"]),feColorMatrix:[].concat(y,["script","style"]),feComponentTransfer:[].concat(y,["feFuncA","feFuncB","feFuncG","feFuncR","script","style"]),feComposite:[].concat(y,["script","style"]),feConvolveMatrix:[].concat(y,["script","style"]),feDiffuseLighting:[].concat(y,["feDistantLight","fePointLight","feSpotLight","script","style"]),feDisplacementMap:[].concat(y,["script","style"]),feDistantLight:[].concat(y,["script","style"]),feDropShadow:[].concat(y,["script","style"]),feFlood:[].concat(y,["script","style"]),feFuncR:[].concat(y,["script","style"]),feFuncG:[].concat(y,["script","style"]),feFuncB:[].concat(y,["script","style"]),feFuncA:[].concat(y,["script","style"]),feGaussianBlur:[].concat(y,["script","style"]),feImage:[].concat(y,["script","style"]),feMerge:[].concat(y,["feMergeNode","script","style"]),feMergeNode:[].concat(y,["script","style"]),feMorphology:[].concat(y,["script","style"]),feOffset:[].concat(y,["script","style"]),fePointLight:[].concat(y,["script","style"]),feSpecularLighting:[].concat(y,["feDistantLight","fePointLight","feSpotLight","script","style"]),feSpotLight:[].concat(y,["script","style"]),feTile:[].concat(y,["script","style"]),feTurbulence:[].concat(y,["script","style"]),filter:[].concat(P,y,["script","style"]),g:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),image:[].concat(y,["clipPath","mask","script","style"]),line:[].concat(y,v,["clipPath","marker","mask","script","style"]),linearGradient:[].concat(y,["script","stop","style"]),marker:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),mask:[].concat(y,x,k,v,["a","clipPath","filter","image","marker","mask","script","style","text","view","text"]),path:[].concat(y,v,["clipPath","marker","mask","script","style"]),pattern:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),polygon:[].concat(y,v,["clipPath","marker","mask","script","style"]),polyline:[].concat(y,v,["clipPath","marker","mask","script","style"]),radialGradient:[].concat(y,["script","stop","style"]),rect:[].concat(y,v,["clipPath","marker","mask","script","style"]),script:["#text"],solidcolor:[].concat(y,["script","style"]),stop:[].concat(y,["script","style"]),style:["#text"],svg:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),symbol:[].concat(y,v,x,k,["a","clipPath","filter","image","marker","mask","script","style","text","view"]),text:[].concat(y,v,["a","clipPath","marker","mask","script","style","tspan","textPath","#text"]),textPath:[].concat(y,v,["a","clipPath","marker","mask","script","style","tspan","#text"]),tspan:[].concat(y,v,["a","script","style","tspan","#text"]),use:[].concat(y,v,["clipPath","mask","script","style"]),view:[].concat(y,["script","style"])},F=[{name:"alignment-baseline",presentationAttributeName:"alignment-baseline",initialValue:"baseline",values:[{type:"token",tokens:["baseline","text-bottom","alphabetic","ideographic","middle","central","mathematical","text-top","bottom","center","top","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"baseline-shift",presentationAttributeName:"baseline-shift",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["sub","super","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!1},{name:"clip-path",presentationAttributeName:"clip-path",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["fill-box","stroke-box","view-box","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"clip-rule",presentationAttributeName:"clip-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(m,["use"]),animatable:!1,inheritable:!0},{name:"color",presentationAttributeName:"color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!0,inheritable:!0},{name:"color-interpolation",presentationAttributeName:"color-interpolation",initialValue:"sRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"color-interpolation-filters",presentationAttributeName:"color-interpolation-filters",initialValue:"linearRGB",values:[{type:"token",tokens:["auto","sRGB","linearRGB","inherit","initial","unset"]}],appliesTo:[].concat(P),animatable:!1,inheritable:!0},{name:"color-rendering",presentationAttributeName:"color-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","linearGradient","radialGradient"]),animatable:!0,inheritable:!0},{name:"cursor",presentationAttributeName:"cursor",initialValue:"auto",values:[{type:"url"},{type:"token",tokens:["context-menu","help","pointer","progress","wait ","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","grab","grabbing","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out ","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),animatable:!1,inheritable:!0},{name:"direction",initialValue:"ltr",values:[{type:"token",tokens:["ltr","rtl","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],presentationAttributeName:"direction",animatable:!1,inheritable:!0},{name:"display",presentationAttributeName:"display",initialValue:"inline",values:[{type:"token",tokens:["none","inline","block","inherit","initial","unset"]}],appliesTo:[].concat(m,["textPath","tspan","svg","g","a","use"]),animatable:!1,inheritable:!1},{name:"dominant-baseline",presentationAttributeName:"dominant-baseline",initialValue:"auto",values:[{type:"token",tokens:["auto","use-script","no-change","reset-size","ideographic","alphabetic","hanging","mathematical","central","middle","text-after-edge","text-before-edge","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"fill",presentationAttributeName:"fill",initialValue:"#000",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"fill-opacity",presentationAttributeName:"fill-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"fill-rule",presentationAttributeName:"fill-rule",initialValue:"nonzero",values:[{type:"token",tokens:["nonzero","evenodd","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"filter",presentationAttributeName:"filter",initialValue:"none",values:[{type:"filter-function-list"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(m,["textPath","tspan","g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"flood-color",presentationAttributeName:"flood-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"flood-opacity",presentationAttributeName:"flood-opacity",initialValue:"1",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["feFlood"],animatable:!0,inheritable:!1},{name:"font",presentationAttributeName:"font",initialValue:null,values:[{type:"font"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-family",presentationAttributeName:"font-family",initialValue:null,values:[{type:"font-family"},{type:"token",tokens:["cursive","fantasy","monospace","sans-serif","serif","system-ui","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-size",presentationAttributeName:"font-size",initialValue:"medium",values:[{type:"token",tokens:["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller","inherit","initial","unset"]},{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-stretch",presentationAttributeName:"font-stretch",initialValue:"normal",values:[{type:"token",tokens:["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-style",presentationAttributeName:"font-style",initialValue:"normal",values:[{type:"token",tokens:["normal","italic","oblique","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-variant",presentationAttributeName:"font-variant",initialValue:"normal",values:[{type:"token",tokens:["normal","small-caps","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"font-weight",presentationAttributeName:"font-weight",initialValue:"normal",values:[{type:"token",tokens:["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"image-rendering",presentationAttributeName:"image-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeQuality","inherit","initial","unset"]}],appliesTo:["image"],animatable:!0,inheritable:!0},{name:"isolation",presentationAttributeName:null,initialValue:"auto",values:[{type:"token",tokens:["isolate","auto","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"letter-spacing",presentationAttributeName:"letter-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"lighting-color",presentationAttributeName:"lighting-color",initialValue:"#fff",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["feDiffuseLighting","feSpecularLighting"],animatable:!0,inheritable:!1},{name:"line-height",presentationAttributeName:"line-height",initialValue:"normal",values:[{type:"number",min:0},{type:"percentage",min:0},{type:"length",min:0},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath","text a"],animatable:!0,inheritable:!0},{name:"marker",presentationAttributeName:"marker",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-start",presentationAttributeName:"marker-start",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-mid",presentationAttributeName:"marker-mid",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"marker-end",presentationAttributeName:"marker-end",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"mask",presentationAttributeName:"mask",initialValue:"none",values:[{type:"url"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(m,["g","a","svg","use"]),animatable:!0,inheritable:!1},{name:"mix-blend-mode",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!1,inheritable:!1},{name:"opacity",presentationAttributeName:"opacity",initialValue:"1",values:[{type:"number"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use","symbol","marker","textPath","tspan"]),animatable:!0,inheritable:!1},{name:"overflow",presentationAttributeName:"overflow",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","scroll","auto","inherit","initial","unset"]}],appliesTo:["svg","symbol","pattern","marker","image"],inheritable:!1,animatable:!0},{name:"paint-order",presentationAttributeName:null,initialValue:"normal",values:[{type:"token",tokens:["normal"]},{type:"token-list",tokens:["fill","stroke","markers"]}],appliesTo:[].concat(w),inheritable:!0,animatable:!0},{name:"pointer-events",presentationAttributeName:"pointer-events",initialValue:"auto",values:[{type:"token",tokens:["bounding-box","visiblePainted","visibleFill","visibleStroke","visible","painted","fill","stroke","all","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["svg","g","a","use"]),inheritable:!0,animatable:!0},{name:"shape-rendering",presentationAttributeName:"shape-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","crispEdges","geometricPrecision","inherit","initial","unset"]}],appliesTo:[].concat(x),animatable:!0,inheritable:!0},{name:"stop-color",presentationAttributeName:"stop-color",initialValue:"#000",values:[{type:"color"},{type:"token",tokens:["currentColor","inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stop-opacity",presentationAttributeName:"stop-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:["stop"],animatable:!0,inheritable:!1},{name:"stroke",presentationAttributeName:"stroke",initialValue:"none",values:[{type:"color"},{type:"url"},{type:"token",tokens:["none","currentColor","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-dasharray",presentationAttributeName:"stroke-dasharray",initialValue:"none",values:[{type:"dasharray"},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-dashoffset",presentationAttributeName:"stroke-dashoffset",initialValue:"0",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-linecap",presentationAttributeName:"stroke-linecap",initialValue:"butt",values:[{type:"token",tokens:["butt","round","square","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-linejoin",presentationAttributeName:"stroke-linejoin",initialValue:"miter",values:[{type:"token",tokens:["miter","round","bevel","inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-miterlimit",presentationAttributeName:"stroke-miterlimit",initialValue:"4",values:[{type:"number",min:1},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-opacity",presentationAttributeName:"stroke-opacity",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"stroke-width",presentationAttributeName:"stroke-width",initialValue:"1",values:[{type:"number"},{type:"percentage"},{type:"length"},{type:"token",tokens:["inherit","initial","unset"]}],appliesTo:[].concat(w),animatable:!0,inheritable:!0},{name:"text-anchor",presentationAttributeName:"text-anchor",initialValue:"start",values:[{type:"token",tokens:["start","middle","end","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"text-decoration",presentationAttributeName:"text-decoration",initialValue:"none",values:[{type:"token-list",tokens:["underline","overline","line-through"]},{type:"token",tokens:["none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!1},{name:"text-rendering",presentationAttributeName:"text-rendering",initialValue:"auto",values:[{type:"token",tokens:["auto","optimizeSpeed","optimizeLegibility","geometricPrecision","inherit","initial","unset"]}],appliesTo:["text"],animatable:!0,inheritable:!0},{name:"text-transform",presentationAttributeName:null,initialValue:"none",values:[{type:"token",tokens:["capitalize","uppercase","lowercase","none","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!0},{name:"unicode-bidi",presentationAttributeName:"unicode-bidi",initialValue:"normal",values:[{type:"token",tokens:["normal","embed","bidi-override","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!1,inheritable:!1},{name:"vector-effect",presentationAttributeName:"vector-effect",initialValue:"none",values:[{type:"token",tokens:["non-scaling-stroke","none","inherit","initial","unset"]}],appliesTo:[].concat(m,["use"]),animatable:!0,inheritable:!1},{name:"visibility",presentationAttributeName:"visibility",initialValue:"visible",values:[{type:"token",tokens:["visible","hidden","inherit","initial","unset"]}],appliesTo:[].concat(m,["text","textPath","tspan"]),animatable:!0,inheritable:!0},{name:"word-spacing",presentationAttributeName:"word-spacing",initialValue:"normal",values:[{type:"number"},{type:"length"},{type:"token",tokens:["normal","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"white-space",presentationAttributeName:"white-space",initialValue:"normal",values:[{type:"token",tokens:["normal","pre","nowrap","pre-wrap","pre-line","inherit","initial","unset"]}],appliesTo:["text","textPath","tspan"],animatable:!0,inheritable:!0},{name:"writing-mode",presentationAttributeName:"writing-mode",initialValue:"horizontal-tb",values:[{type:"token",tokens:["horizontal-tb","vertical-lr","vertical-rl","inherit","initial","unset"]}],appliesTo:["text","tspan","textPath"],animatable:!1,inheritable:!0}],U=F.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;}),N=function N(t){var e=null;if(_.includes(t.localName)){var _i2=getComputedStyle(t).clipPath;if(_i2){var _s2=_i2.substring(6,_i2.length-2),_n2=Ti(t).querySelector("#"+CSS.escape(_s2))||null;_n2&&"clipPath"===_n2.localName&&(e=_n2);}}return e;},V=function V(t){var e=null;if(M.includes(t.localName)){var _i3=getComputedStyle(t).mask;if(_i3){var _s3=_i3.substring(6,_i3.length-2),_n3=Ti(t).querySelector("#"+CSS.escape(_s3))||null;_n3&&"mask"===_n3.localName&&(e=_n3);}}return e;},j=Number.isFinite,H=Number.isNaN,Y=Number.parseFloat,W=function W(t){return!H(t)&&"number"==typeof t;},q=Math.sqrt;var X="Invalid argument passed to Vector contstructor";var Z=/*#__PURE__*/function(){function Z(){_classCallCheck(this,Z);for(var _len=arguments.length,t=new Array(_len),_key=0;_key<_len;_key++){t[_key]=arguments[_key];}if(0===t.length)this.x=0,this.y=0;else if(1===t.length){if(!W(t[0].x)||!W(t[0].y))throw new Error(X);this.x=t[0].x,this.y=t[0].y;}else{if(2!==t.length)throw new Error(X);if(W(t[0])&&W(t[1]))this.x=t[0],this.y=t[1];else{if(!(t[0]instanceof DOMPoint&&t[1]instanceof DOMPoint))throw new Error(X);{var _e2=t[0],_i4=t[1];this.x=_i4.x-_e2.x,this.y=_i4.y-_e2.y;}}}}_createClass(Z,[{key:"getNormalVector",value:function getNormalVector(){return new Z(-this.y,this.x);}},{key:"getOppositeVector",value:function getOppositeVector(){return new Z(-this.x,-this.y);}},{key:"negate",value:function negate(){return this.multiply(-1);}},{key:"multiply",value:function multiply(t){return new Z(this.x*t,this.y*t);}},{key:"multiplySelf",value:function multiplySelf(t){return this.x=this.x*t,this.y=this.y*t,this;}},{key:"divide",value:function divide(t){return new Z(this.x/t,this.y/t);}},{key:"divideSelf",value:function divideSelf(t){return this.x=this.x/t,this.y=this.y/t,this;}},{key:"normalize",value:function normalize(){return 0===this.length?new Z(this):new Z(this.x/this.length,this.y/this.length);}},{key:"scale",value:function scale(t){return 0===this.length?new Z(this):(t/=this.length,new Z(this.x*t,this.y*t));}},{key:"transformPoint",value:function transformPoint(t){return new DOMPoint(t.x+this.x,t.y+this.y);}},{key:"transformRect",value:function transformRect(t){return new DOMRect(t.x+this.x,t.y+this.y,t.width,t.height);}},{key:"matrixTransform",value:function matrixTransform(t){var e=new DOMPoint(0,0).matrixTransform(t),i=new DOMPoint(this.x,this.y).matrixTransform(t);return new Z(e,i);}},{key:"toString",value:function toString(){return"(".concat(this.x,", ").concat(this.y,")");}},{key:"length",get:function get(){return q(this.x*this.x+this.y*this.y);},set:function set(t){0!==this.length&&(t/=this.length,this.x=this.x*t,this.y=this.y*t);}}],[{key:"fromVector",value:function fromVector(t){return new Z(t.x,t.y);}}]);return Z;}();var K=function K(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=Math.pow(10,e);return Math.round((t+Number.EPSILON)*i)/i;},Q=function Q(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=K(t,s)),t<e?t=e:t>i&&(t=i),t;},J=function J(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return e?t.every(function(e,i){return 0===i||t[i-1]<=e;}):t.every(function(e,i){return 0===i||t[i-1]<e;});},tt=Math.pow,et=document.createElementNS("http://www.w3.org/2000/svg","path"),it=function it(t){return et.setPathData(t),et.getAttribute("d");},st=function st(t){return et.setAttribute("d",t),et.getPathData();},nt=function nt(t){return et.setPathData(t),et.getPathData({normalize:!0});},ot=function ot(t){if(!t.find(function(t){return"C"===t.type||"L"===t.type;}))return[];var e=[],i=null,s=0,n=0,o=0,l=0;var _iterator=_createForOfIteratorHelper(t),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _a2=_step.value;if("M"===_a2.type)"M"===i&&e.pop(),e.push(_a2),s=_a2.values[0],n=_a2.values[1],o=_a2.values[0],l=_a2.values[1];else if("L"===_a2.type){if("Z"===i)e.push({type:"M",values:[o,l]});else if(_a2.values[0]===s&&_a2.values[1]===n)continue;e.push(_a2),s=_a2.values[0],n=_a2.values[1];}else"C"===_a2.type?("Z"===i&&e.push({type:"M",values:[o,l]}),e.push(_a2),s=_a2.values[4],n=_a2.values[5]):"Z"===_a2.type&&(s===o&&n===l||e.push({type:"L",values:[o,l]}),e.push(_a2),s=o,n=l);i=_a2.type;}}catch(err){_iterator.e(err);}finally{_iterator.f();}return e;},lt=function lt(t){return t.map(function(t){return{type:t.type,values:_toConsumableArray(t.values)};});},at=function at(t){var e=[],i=[];var _iterator2=_createForOfIteratorHelper(t),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _s4=_step2.value;"C"===_s4.type||"L"===_s4.type?i.push(_s4):"M"===_s4.type?(i.length>0&&(e.push(i),i=[]),i.push(_s4)):"Z"===_s4.type&&(i.push(_s4),e.push(i),i=[]);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}return i.length>0&&e.push(i),e;},ht=function ht(t){var e=ot(t.getPathData({normalize:!0})),i=at(e);var _iterator3=_createForOfIteratorHelper(i),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _t2=_step3.value;var _e3=rt(_t2);_t2.length=0,_t2.push.apply(_t2,_toConsumableArray(_e3));}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}i.reverse(),e=[];var _iterator4=_createForOfIteratorHelper(i),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _t3=_step4.value;var _iterator5=_createForOfIteratorHelper(_t3),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var _i5=_step5.value;e.push(_i5);}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}t.setPathData(e);},rt=function rt(t){var e=(t=lt(t))[0],i=[],s=null;for(var _e4=1;_e4<t.length;_e4+=1){var _n4=t[_e4];"Z"===_n4.type?s=_n4:i.push(_n4);}var n=e.values[0],o=e.values[1];"C"===i[i.length-1].type?(e.values[0]=i[i.length-1].values[4],e.values[1]=i[i.length-1].values[5]):(e.values[0]=i[i.length-1].values[0],e.values[1]=i[i.length-1].values[1]);for(var _i7=0,_i6=i;_i7<_i6.length;_i7++){var _t4=_i6[_i7];if("L"===_t4.type){var _t4$values=_slicedToArray(_t4.values,2),_e5=_t4$values[0],_i8=_t4$values[1];_t4.values=[n,o],n=_e5,o=_i8;}else if("C"===_t4.type){var _t4$values2=_slicedToArray(_t4.values,6),_e6=_t4$values2[0],_i9=_t4$values2[1],_s5=_t4$values2[2],_l2=_t4$values2[3],_a3=_t4$values2[4],_h2=_t4$values2[5];_t4.values=[_s5,_l2,_e6,_i9,n,o],n=_a3,o=_h2;}}i.reverse();var l=[];l.push(e);for(var _i11=0,_i10=i;_i11<_i10.length;_i11++){var _t5=_i10[_i11];l.push(_t5);}return s&&l.push(s),l;},dt=function dt(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator6=_createForOfIteratorHelper(at(e)),_step6;try{for(_iterator6.s();!(_step6=_iterator6.n()).done;){var _t6=_step6.value;"Z"===_t6[_t6.length-1].type&&_t6.pop();var _iterator7=_createForOfIteratorHelper(_t6),_step7;try{for(_iterator7.s();!(_step7=_iterator7.n()).done;){var _e7=_step7.value;i.push(_e7);}}catch(err){_iterator7.e(err);}finally{_iterator7.f();}}}catch(err){_iterator6.e(err);}finally{_iterator6.f();}t.setPathData(i);},ct=function ct(t){var e=t.getPathData({normalize:!0}),i=[];var _iterator8=_createForOfIteratorHelper(at(e)),_step8;try{for(_iterator8.s();!(_step8=_iterator8.n()).done;){var _t7=_step8.value;if(_t7.length>1){"Z"!==_t7[_t7.length-1].type&&_t7.push({type:"Z",values:[]});}var _iterator9=_createForOfIteratorHelper(_t7),_step9;try{for(_iterator9.s();!(_step9=_iterator9.n()).done;){var _e8=_step9.value;i.push(_e8);}}catch(err){_iterator9.e(err);}finally{_iterator9.f();}}}catch(err){_iterator8.e(err);}finally{_iterator8.f();}t.setPathData(i);},pt=function pt(t){var e=t.getPathData({normalize:!0});var _iterator10=_createForOfIteratorHelper(at(e)),_step10;try{for(_iterator10.s();!(_step10=_iterator10.n()).done;){var _t8=_step10.value;if("Z"===_t8[_t8.length-1].type)return!0;}}catch(err){_iterator10.e(err);}finally{_iterator10.f();}return!1;},ut=function ut(t){var e=t.getPathData({normalize:!0});var _iterator11=_createForOfIteratorHelper(at(e)),_step11;try{for(_iterator11.s();!(_step11=_iterator11.n()).done;){var _t9=_step11.value;if(_t9.length>1){if("Z"!==_t9[_t9.length-1].type)return!0;}}}catch(err){_iterator11.e(err);}finally{_iterator11.f();}return!1;},xt=function xt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=it(ot(nt(t))),n=((s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s)).offsetStroke(e/2),o=[];if(n){var _t10=n.exportSVG().getAttribute("d");o=st(_t10),o=nt(o);var _iterator12=_createForOfIteratorHelper(o),_step12;try{for(_iterator12.s();!(_step12=_iterator12.n()).done;){var _t11=_step12.value;_t11.values=_t11.values.map(function(t){return K(t,i);});}}catch(err){_iterator12.e(err);}finally{_iterator12.f();}}return o;},bt=function bt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=it(ot(nt(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);for(var _t12=1;_t12<=i;_t12+=1){o=o.offset(e);}var l=st(o.exportSVG().getAttribute("d"));l=nt(l);var _iterator13=_createForOfIteratorHelper(l),_step13;try{for(_iterator13.s();!(_step13=_iterator13.n()).done;){var _t13=_step13.value;_t13.values=_t13.values.map(function(t){return K(t,s);});}}catch(err){_iterator13.e(err);}finally{_iterator13.f();}return l;},mt=function mt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2.5;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:10;var s=it(ot(nt(t))),n=(s.match(/M/g)||[]).length>1?new paper.CompoundPath(s):new paper.Path(s);n.simplify(e);var o=st(n.exportSVG().getAttribute("d"));o=nt(o);var _iterator14=_createForOfIteratorHelper(o),_step14;try{for(_iterator14.s();!(_step14=_iterator14.n()).done;){var _t14=_step14.value;_t14.values=_t14.values.map(function(t){return K(t,i);});}}catch(err){_iterator14.e(err);}finally{_iterator14.f();}return o;},gt=function gt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;var i=it(ot(nt(t))),s=(i.match(/M/g)||[]).length>1?new paper.CompoundPath(i):new paper.Path(i);for(var _i12=0,_arr2=_toConsumableArray(s.curves);_i12<_arr2.length;_i12++){var _t15=_arr2[_i12];_t15.divideAt(new paper.CurveLocation(_t15,.5));}t=st(s.exportSVG().getAttribute("d")),t=nt(t);var _iterator15=_createForOfIteratorHelper(t),_step15;try{for(_iterator15.s();!(_step15=_iterator15.n()).done;){var _i13=_step15.value;_i13.values=_i13.values.map(function(t){return K(t,e);});}}catch(err){_iterator15.e(err);}finally{_iterator15.f();}return t;},ft=function ft(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"catmull-rom";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.4;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;var n=it(ot(nt(t))),o=(n.match(/M/g)||[]).length>1?new paper.CompoundPath(n):new paper.Path(n);o.smooth({type:e,factor:i});var l=st(o.exportSVG().getAttribute("d"));l=nt(l);var _iterator16=_createForOfIteratorHelper(l),_step16;try{for(_iterator16.s();!(_step16=_iterator16.n()).done;){var _t16=_step16.value;_t16.values=_t16.values.map(function(t){return K(t,s);});}}catch(err){_iterator16.e(err);}finally{_iterator16.f();}return l;},wt=function wt(t,e){var i=t.getTotalLength(),s=i/t.getPathData().length*.125,n=null,o=null,l=Infinity,a=function a(t){return tt(t.x-e.x,2)+tt(t.y-e.y,2);};for(var _e9=0;_e9<=i;_e9+=s){var _i14=DOMPoint.fromPoint(t.getPointAtLength(_e9)),_s6=a(_i14);_s6<l&&(n=_i14,o=_e9,l=_s6);}for(s*=.5;s>.5;){var _e10=o-s,_h3=DOMPoint.fromPoint(t.getPointAtLength(_e10)),_r2=a(_h3);if(_e10>=0&&_r2<l)n=_h3,o=_e10,l=_r2;else{var _e11=o+s,_h4=DOMPoint.fromPoint(t.getPointAtLength(_e11)),_r3=a(_h4);_e11<=i&&_r3<l?(n=_h4,o=_e11,l=_r3):s*=.5;}}return[n,o,l];},vt=function vt(t,e){var i=[],s=[];var _iterator17=_createForOfIteratorHelper(e),_step17;try{for(_iterator17.s();!(_step17=_iterator17.n()).done;){var _t17=_step17.value;"C"===_t17.type||"L"===_t17.type?s.push(_t17):"M"===_t17.type?(s.length>0&&(i.push(s),s=[]),s.push(_t17)):"Z"===_t17.type&&(s.push(_t17),i.push(s),s=[]);}}catch(err){_iterator17.e(err);}finally{_iterator17.f();}return s.length>0&&i.push(s),i.find(function(e){return e.includes(t);})||null;},yt=function yt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;var s="sharp";if(t&&e&&"C"===t.type&&"C"===e.type){var _n5=new DOMPoint(t.values[4],t.values[5]),_o2=new DOMPoint(e.values[0],e.values[1]),_l3=new DOMPoint(t.values[2],t.values[3]);if(!1===Me(_n5,_o2)&&!1===Me(_n5,_l3)&&!0===De(_o2,_n5,_l3,i)){var _t18=new Z(_n5,_o2),_e12=new Z(_n5,_l3);s=K(_t18.length,2)===K(_e12.length,2)?"symmetric-smooth":"smooth";}}return s;},kt=function kt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(e.values[4],e.values[5]),n=new DOMPoint(t.values[0],t.values[1]),o=new DOMPoint(e.values[2],e.values[3]),l=new Z(s,n),a=new Z(s,o),h=l.getOppositeVector();!1===i&&(h.length=a.length),e.values[2]=s.x+h.x,e.values[3]=s.y+h.y;},St=function St(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=new DOMPoint(t.values[4],t.values[5]),n=new DOMPoint(t.values[2],t.values[3]),o=new DOMPoint(e.values[0],e.values[1]),l=new Z(s,n),a=new Z(s,o),h=l.getOppositeVector();!1===i&&(h.length=a.length),e.values[0]=s.x+h.x,e.values[1]=s.y+h.y;},_t=function _t(t,e,i){var s;"M"===t.type||"L"===t.type?s=new DOMPoint(t.values[0],t.values[1]):"C"===t.type&&(s=new DOMPoint(t.values[4],t.values[5]));var n=new DOMPoint(i.values[4],i.values[5]),o=new DOMPoint(e.values[4],e.values[5]),l=new Z(o,s),a=new Z(o,n),h=l.length/a.length,r=new Z(h*a.x-l.x,h*a.y-l.y).normalize();e.values[2]=o.x+-r.x*(l.length/3),e.values[3]=o.y+-r.y*(l.length/3),i.values[0]=o.x+r.x*(a.length/3),i.values[1]=o.y+r.y*(a.length/3);},Ct=function Ct(t){var e=null;var _iterator18=_createForOfIteratorHelper(t),_step18;try{for(_iterator18.s();!(_step18=_iterator18.n()).done;){var _i15=_step18.value;if("L"===_i15.type){var _i15$values=_slicedToArray(_i15.values,2),_t19=_i15$values[0],_s7=_i15$values[1],_n6="C"===e.type?e.values[4]:e.values[0],_o3="C"===e.type?e.values[5]:e.values[1];_i15.type="C",_i15.values=[_n6,_o3,_t19,_s7,_t19,_s7];}e=_i15;}}catch(err){_iterator18.e(err);}finally{_iterator18.f();}},Mt=function Mt(t){var e=null;var _iterator19=_createForOfIteratorHelper(t),_step19;try{for(_iterator19.s();!(_step19=_iterator19.n()).done;){var _i16=_step19.value;if("C"===_i16.type){var _i16$values=_slicedToArray(_i16.values,6),_t20=_i16$values[0],_s8=_i16$values[1],_n7=_i16$values[2],_o4=_i16$values[3],_l4=_i16$values[4],_a4=_i16$values[5],_h5="C"===e.type?e.values[4]:e.values[0],_r4="C"===e.type?e.values[5]:e.values[1];_t20===_h5&&_s8===_r4&&_n7===_l4&&_o4===_a4&&(_i16.type="L",_i16.values=[_l4,_a4]);}e=_i16;}}catch(err){_iterator19.e(err);}finally{_iterator19.f();}},Pt=function Pt(t,e){var i=vt(t,e);return"Z"===i[i.length-1].type;},Dt=function Dt(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i;if((t.match(/M/g)||[]).length>1){if(i=new paper.CompoundPath(t),e){var _iterator20=_createForOfIteratorHelper(i.children),_step20;try{for(_iterator20.s();!(_step20=_iterator20.n()).done;){var _t21=_step20.value;_t21.closed||_t21.closePath();}}catch(err){_iterator20.e(err);}finally{_iterator20.f();}}}else i=new paper.Path(t),e&&(i.closed||i.closePath());return i;};var zt=/*#__PURE__*/function(){function zt(t){_classCallCheck(this,zt);this._=t,this.currentToken=null,this.position=0;}_createClass(zt,[{key:"read",value:function read(){var t=this._[this.position];return this.currentToken=t,"EOF"===t.tokenType||(this.position+=1),t;}},{key:"reset",value:function reset(t){this.position=t;}}]);return zt;}();var _window=window,Ot=_window.tokenize,Et=_window.EOFToken;var Tt=/*#__PURE__*/function(){_createClass(Tt,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"unit",get:function get(){return this._e;},set:function set(t){this._e=t;}},{key:"isAbsolute",get:function get(){return a.includes(this.unit);}},{key:"type",get:function get(){return"<length>";}}]);function Tt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"px";_classCallCheck(this,Tt);this._t=t,this._e=e;}_createClass(Tt,[{key:"toString",value:function toString(){return this.value+this.unit;}},{key:"toLength",value:function toLength(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"px";var e=this.unit,i=t;if(e===i)return new Tt(this.value,this.unit);if(!1===a.includes(e)||!1===a.includes(i))throw new DOMException("Can't convert relative <length> units.","OperationError");{this.value;var _t22=null,_s9=null;return"px"===e?_s9=this.value:"cm"===e?_s9=this._t*(96/2.54):"mm"===e?_s9=this._t*(96/2.54/10):"in"===e?_s9=96*this._t:"pt"===e?_s9=this._t*(96/72):"pc"===e?_s9=16*this._t:"q"===e&&(_s9=this._t*(96/2.54/40)),"px"===i?_t22=_s9:"cm"===i?_t22=_s9/(96/2.54):"mm"===i?_t22=_s9/(96/2.54/10):"in"===i?_t22=_s9/96:"pt"===i?_t22=_s9/(96/72):"pc"===i?_t22=_s9/16:"q"===i&&(_t22=_s9/(96/2.54/40)),new Tt(_t22,i);}}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Ot(t)),[new Et()]),s=new zt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"DIMENSION"===s.currentToken.tokenType){var _s$currentToken=s.currentToken,_t23=_s$currentToken.value,_i17=_s$currentToken.unit;if(!1===r.includes(_i17)){if(e)throw new DOMException("Unknown unit identifier \"".concat(_i17,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Tt(_t23,_i17);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException("Expected DIMENSION token.","SyntaxError");return null;}}]);return Tt;}();var _window2=window,At=_window2.tokenize,$t=_window2.EOFToken;var It=/*#__PURE__*/function(){_createClass(It,[{key:"align",get:function get(){return this._i;},set:function set(t){this._i=t;}},{key:"meetOrSlice",get:function get(){return this._s;},set:function set(t){this._s=t;}},{key:"type",get:function get(){return"<preserve-aspect-ratio>";}}]);function It(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"xMidYMid";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"meet";_classCallCheck(this,It);this._i=t,this._s=e;}_createClass(It,[{key:"toString",value:function toString(){return"meet"===this.meetOrSlice?"".concat(this.align):"".concat(this.align," ").concat(this.meetOrSlice);}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(At(t)),[new $t()]),s=new zt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _t24=s.currentToken.value;if(!1===d.includes(_t24)){if(e)throw new DOMException("Unknown align value \"".concat(_t24,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new It(_t24,"meet");if("IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected IDENT token.","SyntaxError");return null;}{var _i18=s.currentToken.value;if("meet"!==_i18&&"slice"!==_i18){if(e)throw new DOMException("Unknown meetOrSlice value \"".concat(_i18,"\"."),"SyntaxError");return null;}if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new It(_t24,_i18);}}}}]);return It;}();var _window3=window,Lt=_window3.tokenize,Bt=_window3.EOFToken;var Rt=/*#__PURE__*/function(){_createClass(Rt,[{key:"type",get:function get(){return"<view-box>";}},{key:"x",get:function get(){return this.Bs;},set:function set(t){this.Bs=t;}},{key:"y",get:function get(){return this.Gs;},set:function set(t){this.Gs=t;}},{key:"width",get:function get(){return this.Fs;},set:function set(t){this.Fs=t;}},{key:"height",get:function get(){return this.Us;},set:function set(t){this.Us=t;}}]);function Rt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Rt);this.x=t,this.y=e,this.width=i,this.height=s;}_createClass(Rt,[{key:"toString",value:function toString(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height);}},{key:"toRect",value:function toRect(){return new DOMRect(this.x,this.y,this.width,this.height);}}],[{key:"fromRect",value:function fromRect(t){return new Rt(t.x,t.y,t.width,t.height);}},{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,n,o,l=[].concat(_toConsumableArray(Lt(t)),[new Bt()]),a=new zt(l);if(a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"NUMBER"!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(i=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"NUMBER"!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(s=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),!("NUMBER"===a.currentToken.tokenType&&a.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(n=a.currentToken.value,a.read(),"WHITESPACE"!==a.currentToken.tokenType&&","!==a.currentToken.tokenType){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if("WHITESPACE"===a.currentToken.tokenType&&a.read(),","===a.currentToken.tokenType&&a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),!("NUMBER"===a.currentToken.tokenType&&a.currentToken.value>=0)){if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}if(o=a.currentToken.value,a.read(),"WHITESPACE"===a.currentToken.tokenType&&a.read(),"EOF"===a.currentToken.tokenType)return new Rt(i,s,n,o);if(e)throw new DOMException("Unexpected ".concat(a.currentToken.tokenType," token."),"SyntaxError");return null;}}]);return Rt;}();var Gt=function Gt(t,e){return t.is2D?new DOMMatrix([K(t.a,e),K(t.b,e),K(t.c,e),K(t.d,e),K(t.e,e),K(t.f,e)]):new DOMMatrix([K(t.m11,e),K(t.m12,e),K(t.m13,e),K(t.m14,e),K(t.m21,e),K(t.m22,e),K(t.m23,e),K(t.m24,e),K(t.m31,e),K(t.m32,e),K(t.m33,e),K(t.m34,e),K(t.m41,e),K(t.m42,e),K(t.m43,e),K(t.m44,e)]);},Ft=Math.abs,Ut=Math.tan,Nt=Number.parseFloat,Vt=function Vt(t){var e=null;return e="linearGradient"===t.localName||"radialGradient"===t.localName?t.gradientTransform.baseVal.consolidate():"pattern"===t.localName?t.patternTransform.baseVal.consolidate():t.transform.baseVal.consolidate(),e?DOMMatrix.fromMatrix(e.matrix):new DOMMatrix();},jt=function jt(t,e){var i=e.getScreenCTM().inverse().multiply(t.getScreenCTM());return DOMMatrix.fromMatrix(i);},Ht=function Ht(t){var e=t.getScreenCTM();return DOMMatrix.fromMatrix(e);},Yt=function Yt(t,e,i,s,n,o){var l=function l(t){return t[0][0]*(t[1][1]*t[2][2]-t[1][2]*t[2][1])-t[0][1]*(t[1][0]*t[2][2]-t[1][2]*t[2][0])+t[0][2]*(t[1][0]*t[2][1]-t[1][1]*t[2][0]);},a=l([[t.x,t.y,1],[e.x,e.y,1],[i.x,i.y,1]]),h=l([[s.x,t.y,1],[n.x,e.y,1],[o.x,i.y,1]]),r=l([[s.y,t.y,1],[n.y,e.y,1],[o.y,i.y,1]]),d=l([[t.x,s.x,1],[e.x,n.x,1],[i.x,o.x,1]]),c=l([[t.x,s.y,1],[e.x,n.y,1],[i.x,o.y,1]]),p=l([[t.x,t.y,s.x],[e.x,e.y,n.x],[i.x,i.y,o.x]]),u=l([[t.x,t.y,s.y],[e.x,e.y,n.y],[i.x,i.y,o.y]]);return 0===a?new DOMMatrix([1,0,0,1,0,0]):new DOMMatrix([h/a,r/a,d/a,c/a,p/a,u/a]);},Wt=function Wt(t,e){var i=new DOMPoint(t.x,t.y),s=new DOMPoint(t.x+t.width,t.y),n=new DOMPoint(t.x,t.y+t.height),o=new DOMPoint(e.x,e.y),l=new DOMPoint(e.x+e.width,e.y),a=new DOMPoint(e.x,e.y+e.height);return Yt(i,s,n,o,l,a);},qt=function qt(t){var e=new DOMMatrix(),i=null;if(t.hasAttribute("viewBox")&&(i=Rt.fromString(t.getAttribute("viewBox"))),i){var _s10=Tt.fromString(t.style.width||t.getAttribute("width")||""),_n8=Tt.fromString(t.style.height||t.getAttribute("height")||"");if(_s10&&_n8&&h[_s10.unit]&&h[_n8.unit]){var _o5=It.fromString(t.getAttribute("preserveAspectRatio")||"xMidYMid meet");_s10.value*=h[_s10.unit],_n8.value*=h[_n8.unit];var _l5=_s10.value/i.width,_a5=_n8.value/i.height;"none"!==_o5.align&&"meet"===_o5.meetOrSlice?_l5>_a5?_l5=_a5:_a5>_l5&&(_a5=_l5):"none"!==_o5.align&&"slice"===_o5.meetOrSlice&&(_l5<_a5?_l5=_a5:_a5<_l5&&(_a5=_l5));var _r5=0-i.x*_l5,_d2=0-i.y*_a5;_o5.align.includes("xMid")&&(_r5+=(_s10.value-i.width*_l5)/2),_o5.align.includes("xMax")&&(_r5+=_s10.value-i.width*_l5),_o5.align.includes("YMid")&&(_d2+=(_n8.value-i.height*_a5)/2),_o5.align.includes("YMax")&&(_d2+=_n8.value-i.height*_a5),e.translateSelf(_r5,_d2),e.scaleSelf(_l5,_a5);}}return e;},Xt=function Xt(t,e){var i=new DOMMatrix();if(""===t&&(t="px"),""===e&&(e="px"),t!==e){var _s11=1;if("px"===t)_s11=1;else if("cm"===t)_s11=96/2.54*1;else if("mm"===t)_s11=96/2.54/10*1;else if("in"===t)_s11=96;else if("pt"===t)_s11=96/72*1;else if("pc"===t)_s11=16;else{if("q"!==t)throw new Error("Can't transform relative units.","OperationError");_s11=96/2.54/40*1;}if("px"===e)_s11/=1;else if("cm"===e)_s11/=96/2.54;else if("mm"===e)_s11/=96/2.54/10;else if("in"===e)_s11/=96;else if("pt"===e)_s11/=96/72;else if("pc"===e)_s11/=16;else{if("q"!==e)throw new Error("Can't transform relative units.","OperationError");_s11/=96/2.54/40;}i.scaleSelf(_s11,_s11);}return i;},Zt=function Zt(t){var e,i;if(t.hasAttribute("data-bx-origin")){var _s12=t.getAttribute("data-bx-origin").split(" ");e=Nt(_s12[0]),i=Nt(_s12[1]);}else e=.5,i=.5;return new DOMPoint(e,i);},Kt=function Kt(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;var s=K(e.x,i),n=K(e.y,i);t.setAttribute("data-bx-origin","".concat(s," ").concat(n));},Qt=function Qt(t){var e=Pi(t),i=Zt(t);return ae(i,e);},Jt=function Jt(t){var e=Ht(t);return Qt(t).matrixTransform(e);},te=function te(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t.map(function(t){return Jt(t);}),s=i[0],n=!0;var _iterator21=_createForOfIteratorHelper(i),_step21;try{for(_iterator21.s();!(_step21=_iterator21.n()).done;){var _t25=_step21.value;if(ze(_t25,s)>3){n=!1;break;}}}catch(err){_iterator21.e(err);}finally{_iterator21.f();}var o=null;if(n){if(e){var _e13=t.map(function(t){return Di(t);}),_s13=Ve(_e13);o=new DOMPoint((i[0].x-_s13.x)/_s13.width,(i[0].y-_s13.y)/_s13.height);}else o=i[0];}else if(e)o=new DOMPoint(.5,.5);else{var _e14=t.map(function(t){return Di(t);}),_i19=Ve(_e14);o=new DOMPoint(_i19.x+_i19.width/2,_i19.y+_i19.height/2);}return o;},ee=function ee(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=0;if(f.includes(t.localName)){Ht(t).inverse();null===e&&(e=Qt(t));var _s14=e.matrixTransform(Ht(t)),_n9=(Pi(t),_s14),_o6=new DOMPoint(_s14.x-100,_s14.y),_l6=new DOMPoint(e.x-100,e.y).matrixTransform(Ht(t));i=Le(_n9,_o6,_l6);}return i;},ie=function ie(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var n=ee(t),o=Vt(t),l=Ht(t),a=l.inverse();null===s&&(s=Qt(t));var h=s.matrixTransform(l),r=DOMMatrix.fromMatrix(o);r.multiplySelf(a),r.translateSelf(h.x,h.y),r.rotateSelf(-n+e),r.translateSelf(-h.x,-h.y),r.multiplySelf(l),null!==i&&(r=Gt(r,i)),!1===r.isIdentity?t.setAttribute("transform",r.toString()):t.removeAttribute("transform");},se=function se(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;var s=nt(t);var _iterator22=_createForOfIteratorHelper(s),_step22;try{for(_iterator22.s();!(_step22=_iterator22.n()).done;){var _t26=_step22.value;if("M"===_t26.type||"L"===_t26.type){var _i20=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e);_t26.values=[_i20.x,_i20.y];}else if("C"===_t26.type){var _i21=new DOMPoint(_t26.values[0],_t26.values[1]).matrixTransform(e),_s15=new DOMPoint(_t26.values[2],_t26.values[3]).matrixTransform(e),_n10=new DOMPoint(_t26.values[4],_t26.values[5]).matrixTransform(e);_t26.values=[_i21.x,_i21.y,_s15.x,_s15.y,_n10.x,_n10.y];}_t26.values=_t26.values.map(function(t){return K(t,i);});}}catch(err){_iterator22.e(err);}finally{_iterator22.f();}return s;},ne=function ne(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var o=DOMMatrix.fromMatrix(t),l=Fe(e),a=Fe(i),h=new DOMMatrix();return h=oe(h,Ut(l),Ut(a)),o=le(o,s,n),o.multiplySelf(h),o=le(o,-s,-n),o;},oe=function oe(t,e,i){var s=DOMMatrix.fromMatrix(t),n=s.a,o=s.b;return s.a+=i*s.c,s.b+=i*s.d,s.c+=e*n,s.d+=e*o,s;},le=function le(t,e,i){var s=DOMMatrix.fromMatrix(t);return s.e=s.e+e*s.a+i*s.c,s.f=s.f+e*s.b+i*s.d,s;},ae=function ae(t,e){return new DOMPoint(e.x+t.x*e.width,e.y+t.y*e.height);},he=function he(t,e){return new DOMPoint(0===e.width?0:(t.x-e.x)/e.width,0===e.height?0:(t.y-e.y)/e.height);},re=Math.atan2,de=function de(t,e){return t.x*e.x+t.y*e.y;},ce=function ce(t,e){return new Z(t.x-e.x,t.y-e.y);},pe=function pe(t,e){return new Z(t.x+e.x,t.y+e.y);},ue=function ue(t,e){return Ge(re(e.y,e.x)-re(t.y,t.x));},xe=Math.sin,be=Math.cos,me=Math.acos,ge=Math.atan2,fe=Math.abs,we=Math.sqrt,ve=Math.pow,ye=Math.PI,ke=Math.min,Se=Math.max,_e=Number.isNaN,Ce=document.createElementNS("http://www.w3.org/2000/svg","svg"),Me=function Me(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?K(t.x,i)===K(e.x,i)&&K(t.y,i)===K(e.y,i):t.x===e.x&&t.y===e.y;},Pe=function Pe(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMPoint(K(t.x,e),K(t.y,e),K(t.z,e),K(t.w,e));},De=function De(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;if(0===s){return 0===(t.x*(e.y-i.y)+e.x*(i.y-t.y)+i.x*(t.y-e.y))/2;}{var _n11=new Z(t,e),_o7=new Z(e,i),_l7=de(_n11,_o7),_a6=me(_l7/(_n11.length*_o7.length));if(_e(_a6))return!0;return Ge(_a6)<s;}},ze=function ze(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,we(i+s);},Oe=function Oe(t,e){var i=(t.x+e.x)/2,s=(t.y+e.y)/2;return new DOMPoint(i,s);},Ee=function Ee(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n,o=new DOMPoint(0,0),l=new DOMPoint(t.x,t.y),a=new DOMPoint(e.x,e.y),h=i,r=new Z(o,l),d=new Z(l,a),c=new Z(l,h),p=de(c,d),u=de(d,d);n=0!==u?p/u:0,!1===s&&(n<0?n=0:n>1&&(n=1));var x=pe(r,d.multiply(n));return[new DOMPoint(x.x,x.y),n];},Te=function Te(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.5;var s=e.x-t.x,n=e.y-t.y;return new DOMPoint(t.x+i*s,t.y+i*n);},Ae=function Ae(t){var e=Ce.createSVGPoint();return e.x=t.x,e.y=t.y,e;},$e=function $e(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var s=new DOMPoint(t.x,t.y-1e3),n=Le(t,s,e),o=[];for(var _t27=-180;_t27<=180;_t27+=i){o.push(_t27);}var l=Infinity;for(var _i22=0,_o8=o;_i22<_o8.length;_i22++){var _t28=_o8[_i22];var _e15=_t28-n;fe(_e15)<fe(l)&&(l=_e15);}n+=l;var a=Fe(n-90),h=ze(t,e),r=new Z(be(a),xe(a));return r.length=h,[new DOMPoint(t.x+r.x,t.y+r.y),n];},Ie=function Ie(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:90;var s=new DOMPoint(t.x,t.y-1e3),n=Le(t,s,e);n+=i-n;var o=Fe(n-90),l=ze(t,e),a=new Z(be(o),xe(o));return a.length=l,new DOMPoint(t.x+a.x,t.y+a.y);},Le=function Le(t,e,i){var s=new Z(t,e),n=new Z(t,i),o=ge(n.y,n.x)-ge(s.y,s.x);return Be(Ge(o));},Be=function Be(t){for(;t<-180;){t+=360;}for(;t>180;){t-=360;}return t;},Re=function Re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:15;var i=Be(t),s=[];for(var _t29=-180;_t29<=180;_t29+=e){s.push(_t29);}return s.reduce(function(t,e){return fe(e-i)<fe(t-i)?e:t;});},Ge=function Ge(t){return t*(180/ye);},Fe=function Fe(t){return ye*t/180;},Ue=function Ue(t,e){return new DOMRect(K(t.x,e),K(t.y,e),K(t.width,e),K(t.height,e));},Ne=function Ne(t,e){var i=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)].map(function(t){return t.matrixTransform(e);}),s=i.map(function(t){return t.x;}),n=i.map(function(t){return t.y;}),o=ke.apply(void 0,_toConsumableArray(s)),l=ke.apply(void 0,_toConsumableArray(n)),a=Se.apply(void 0,_toConsumableArray(s)),h=Se.apply(void 0,_toConsumableArray(n));return new DOMRect(o,l,a-o,h-l);},Ve=function Ve(t){if(0===t.length)return new DOMRect(0,0,0,0);if(1===t.length){var _e16=t[0];return new DOMRect(_e16.x,_e16.y,_e16.width,_e16.height);}{var _e17=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.x;}))),_i23=Math.min.apply(Math,_toConsumableArray(t.map(function(t){return t.y;}))),_s16=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.x+t.width;}))),_n12=Math.max.apply(Math,_toConsumableArray(t.map(function(t){return t.y+t.height;})));return new DOMRect(_e17,_i23,_s16-_e17,_n12-_i23);}},je=function je(t,e){var i,s=function s(t,e,i,_s17){return 8&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.height-t.y)/(e.y-t.y),_s17.height):4&i?new DOMPoint(t.x+(e.x-t.x)*(_s17.y-t.y)/(e.y-t.y),_s17.y):2&i?new DOMPoint(_s17.width,t.y+(e.y-t.y)*(_s17.width-t.x)/(e.x-t.x)):1&i?new DOMPoint(_s17.x,t.y+(e.y-t.y)*(_s17.x-t.x)/(e.x-t.x)):null;},n=function n(t,e){var i=0;return t.x<e.x?i|=1:t.x>e.width&&(i|=2),t.y<e.y?i|=4:t.y>e.height&&(i|=8),i;};for(var _o9=1;_o9<=8;_o9*=2){var _l8=e[e.length-1],_a7=!(n(_l8,t)&_o9);i=[];for(var _h6=0;_h6<e.length;_h6++){var _r6=e[_h6],_d3=!(n(_r6,t)&_o9);_d3!==_a7&&i.push(s(_l8,_r6,_o9,t)),_d3&&i.push(_r6),_l8=_r6,_a7=_d3;}if(!(e=i).length)break;}return i;},He=function He(t,e){return e.x>=t.x&&e.y>=t.y&&e.x+e.width<=t.x+t.width&&e.y+e.height<=t.y+t.height;},Ye=function Ye(t,e){return t.left<=e.right&&e.left<=t.right&&t.top<=e.bottom&&e.top<=t.bottom;},We=function We(t,e){var _iterator23=_createForOfIteratorHelper(t),_step23;try{for(_iterator23.s();!(_step23=_iterator23.n()).done;){var _i25=_step23.value;if(Ye(e,_i25))return _i25;}}catch(err){_iterator23.e(err);}finally{_iterator23.f();}{var _i24=new DOMPoint(e.x+e.width/2,e.y+e.height/2),_s18=Infinity,_n13=null;var _iterator24=_createForOfIteratorHelper(t),_step24;try{for(_iterator24.s();!(_step24=_iterator24.n()).done;){var _e18=_step24.value;var _t30=new DOMPoint(_e18.x+_e18.width/2,_e18.y+_e18.height/2),_o10=ze(_i24,_t30);_o10<_s18&&(_s18=_o10,_n13=_e18);}}catch(err){_iterator24.e(err);}finally{_iterator24.f();}return _n13;}},qe=function qe(t,e,i){var s=new Z(e,t);return s.length=i,s.transformPoint(e);},Xe=function Xe(t,e,i){return Ze(t,e,new DOMPoint(i.x,i.y),new DOMPoint(i.right,i.y))||Ze(t,e,new DOMPoint(i.right,i.y),new DOMPoint(i.right,i.bottom))||Ze(t,e,new DOMPoint(i.right,i.bottom),new DOMPoint(i.x,i.bottom))||Ze(t,e,new DOMPoint(i.x,i.bottom),new DOMPoint(i.x,i.y));},Ze=function Ze(t,e,i,s){var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1e-7;var o=Qe(t,e,i,s);return!!o&&o.x+n>=ke(i.x,s.x)&&o.x-n<=Se(i.x,s.x)&&o.y+n>=ke(i.y,s.y)&&o.y-n<=Se(i.y,s.y);},Ke=function Ke(t,e){var i=e.y-t.y,s=t.x-e.x;return[i,s,i*t.x+s*t.y];},Qe=function Qe(t,e,i,s){var _Ke=Ke(t,e),_Ke2=_slicedToArray(_Ke,3),n=_Ke2[0],o=_Ke2[1],l=_Ke2[2],_Ke3=Ke(i,s),_Ke4=_slicedToArray(_Ke3,3),a=_Ke4[0],h=_Ke4[1],r=_Ke4[2],d=n*h-a*o,c=null;return 0!==d&&(c=new DOMPoint((h*l-o*r)/d,(n*r-a*l)/d)),c;},Je=function Je(t,e){var i=e.x,s=e.y,n=!1;for(var _e19=0,_o11=t.length-1;_e19<t.length;_o11=_e19++){var _l9=t[_e19].x,_a8=t[_e19].y,_h7=t[_o11].x,_r7=t[_o11].y;_a8>s!=_r7>s&&i<(_h7-_l9)*(s-_a8)/(_r7-_a8)+_l9&&(n=!n);}return n;},ti=function ti(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i)for(var s in t){if(t[s]!==e[s])return!1;}else{for(var n=0;n<t.length;n+=1){if(!e.includes(t[n]))return!1;}for(n=0;n<e.length;n+=1){if(!t.includes(e[n]))return!1;}}return!0;},ei=function ei(t){return _toConsumableArray(new Set(t));},ii=function ii(t,e){if(0===t.length)return!1;for(var i=0;i<t.length;i+=1){if(t[i]!==e)return!1;}return!0;},si=function si(t,e){return JSON.stringify(t)===JSON.stringify(e);},ni=function ni(t,e,i){return t.split(e).join(i);},oi=function oi(t){return t.replace(/(^|[\s-])(\w)/g,function(t,e,i){return e+i.toUpperCase();});},li=function li(t){return t.replace(/(\-[a-z])/g,function(t){return t.toUpperCase().replace("-","");});},ai=function ai(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase();});},hi=function hi(t){var e=document.createElement("div");return e.appendChild(document.createTextNode(t)),e.innerHTML;},ri=function ri(t){return DOMPurify.sanitize(t,{ALLOWED_TAGS:["p","h3","h4","ul","ol","li","blockquote","figure","figcaption","pre","code","img","hr","br","a","strong","em","del","u","code","mark","#text"],ALLOWED_ATTR:["alt","data-language","data-type","hidden","href","rel","spellcheck","start","src","style","title"],ALLOW_DATA_ATTR:!1});},di=function di(t){var e="\xE0\xE1\xE4\xE2\xE3\xE5\xE8\xE9\xEB\xEA\xEC\xED\xEF\xEE\xF2\xF3\xF6\xF4\xF9\xFA\xFC\xFB\xF1\xE7\xDF\xFF\u0153\xE6\u0155\u015B\u0144\u1E55\u1E83\u01F5\u01F9\u1E3F\u01D8\u1E8D\u017A\u1E27\xB7/_,:;",i=new RegExp(e.split("").join("|"),"g");return t.toString().toLowerCase().replace(/\s+/g,"-").replace(i,function(t){return"aaaaaaeeeeiiiioooouuuuncsyoarsnpwgnmuxzh------".charAt(e.indexOf(t));}).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");},ci=Object.keys,pi="\u200B",ui=function ui(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=mi(t),s=e&&t.contains(e.commonAncestorContainer),n=s?_i(e.startContainer,e.startOffset)[1]:-1,o=s?_i(e.endContainer,e.endOffset)[1]:-1;if(s&&n!==o){var _t31=[];var _iterator25=_createForOfIteratorHelper(i.childItems),_step25;try{for(_iterator25.s();!(_step25=_iterator25.n()).done;){var _e20=_step25.value;var _i26=null;if(n>=_e20.startOffset&&o<=_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]:n>=_e20.startOffset&&n<_e20.endOffset?_i26=[_e20.textContent.slice(0,n-_e20.startOffset),_e20.textContent.slice(n-_e20.startOffset)]:o>_e20.startOffset&&o<=_e20.endOffset&&(_i26=[_e20.textContent.slice(0,o-_e20.startOffset),_e20.textContent.slice(o-_e20.startOffset)]),null===_i26)_t31.push(_e20);else{var _s19=_e20.startOffset,_n14=0;var _iterator26=_createForOfIteratorHelper(_i26),_step26;try{for(_iterator26.s();!(_step26=_iterator26.n()).done;){var _o12=_step26.value;if(_o12.length>0){var _i27={textContent:_o12,href:_e20.href,inheritableProperties:_e20.inheritableProperties,nonInheritableProperties:_e20.nonInheritableProperties,startOffset:_s19,endOffset:_s19+_o12.length,x:[],y:[],dx:[],dy:[],rotate:[]};for(var _t32=0;_t32<_o12.length;_t32+=1){_i27.x.push(_e20.x[_n14]),_i27.y.push(_e20.y[_n14]),_i27.dx.push(_e20.dx[_n14]),_i27.dy.push(_e20.dy[_n14]),_i27.rotate.push(_e20.rotate[_n14]),_n14+=1;}_t31.push(_i27),_s19+=_o12.length;}}}catch(err){_iterator26.e(err);}finally{_iterator26.f();}}}}catch(err){_iterator25.e(err);}finally{_iterator25.f();}i.childItems=_t31;}t.removeAttribute("x"),t.removeAttribute("y"),t.removeAttribute("dx"),t.removeAttribute("dy"),t.removeAttribute("rotate"),t.removeAttribute("style");var _iterator27=_createForOfIteratorHelper(U),_step27;try{for(_iterator27.s();!(_step27=_iterator27.n()).done;){var _e30=_step27.value;t.hasAttribute(_e30)&&t.removeAttribute(_e30);}}catch(err){_iterator27.e(err);}finally{_iterator27.f();}{var _e21=getComputedStyle(t);var _iterator28=_createForOfIteratorHelper(ci(i.rootItem.inheritableProperties)),_step28;try{for(_iterator28.s();!(_step28=_iterator28.n()).done;){var _s20=_step28.value;_e21.getPropertyValue(_s20)!==i.rootItem.inheritableProperties[_s20]&&t.style.setProperty(_s20,i.rootItem.inheritableProperties[_s20]);}}catch(err){_iterator28.e(err);}finally{_iterator28.f();}var _iterator29=_createForOfIteratorHelper(ci(i.rootItem.nonInheritableProperties)),_step29;try{for(_iterator29.s();!(_step29=_iterator29.n()).done;){var _s21=_step29.value;_e21.getPropertyValue(_s21)!==i.rootItem.nonInheritableProperties[_s21]&&t.style.setProperty(_s21,i.rootItem.nonInheritableProperties[_s21]);}}catch(err){_iterator29.e(err);}finally{_iterator29.f();}}{var _e22=t.querySelector("textPath")||t;for(var _i28=0,_arr3=_toConsumableArray(_e22.childNodes);_i28<_arr3.length;_i28++){var _t33=_arr3[_i28];"tspan"!==_t33.nodeName&&"a"!==_t33.nodeName&&"#text"!==_t33.nodeName||_t33.remove();}if(i.childItems.length>0){var _iterator30=_createForOfIteratorHelper(i.childItems),_step30;try{for(_iterator30.s();!(_step30=_iterator30.n()).done;){var _t34=_step30.value;var _i29=Ei("svg:tspan");if(_e22.append(_i29),_t34.href){var _e23=Ei("svg:a");_e23.setAttribute("_href",_t34.href),_e23.textContent=_t34.textContent,_i29.append(_e23);}else _i29.textContent=_t34.textContent;{var _e24=getComputedStyle(_i29);var _iterator31=_createForOfIteratorHelper(ci(_t34.inheritableProperties)),_step31;try{for(_iterator31.s();!(_step31=_iterator31.n()).done;){var _s22=_step31.value;_e24.getPropertyValue(_s22)!==_t34.inheritableProperties[_s22]&&_i29.style.setProperty(_s22,_t34.inheritableProperties[_s22]);}}catch(err){_iterator31.e(err);}finally{_iterator31.f();}var _iterator32=_createForOfIteratorHelper(ci(_t34.nonInheritableProperties)),_step32;try{for(_iterator32.s();!(_step32=_iterator32.n()).done;){var _s23=_step32.value;_e24.getPropertyValue(_s23)!==_t34.nonInheritableProperties[_s23]&&_i29.style.setProperty(_s23,_t34.nonInheritableProperties[_s23]);}}catch(err){_iterator32.e(err);}finally{_iterator32.f();}}{var _e25=_t34.x.filter(function(t){return"auto"!==t;});_e25.length>0&&_i29.setAttribute("x",_e25.join(" "));}{var _e26=_t34.y.filter(function(t){return"auto"!==t;});_e26.length>0&&_i29.setAttribute("y",_e26.join(" "));}{var _e27=_toConsumableArray(_t34.dx);for(var _t35=_e27.length-1;_t35>=0&&"0"===_e27[_t35];_t35-=1){_e27.pop();}_e27.length>0&&_i29.setAttribute("dx",_e27.join(" "));}{var _e28=_toConsumableArray(_t34.dy);for(var _t36=_e28.length-1;_t36>=0&&"0"===_e28[_t36];_t36-=1){_e28.pop();}_e28.length>0&&_i29.setAttribute("dy",_e28.join(" "));}{var _e29=_toConsumableArray(_t34.rotate);for(var _t37=_e29.length-1;_t37>=0&&_e29[_t37]===_e29[_t37-1];_t37-=1){_e29.pop();}1===_e29.length&&"0"===_e29[0]&&(_e29=[]),_e29.length>0&&_i29.setAttribute("rotate",_e29.join(" "));}}}catch(err){_iterator30.e(err);}finally{_iterator30.f();}}}if(s){var _i30=0,_s24=null;var _iterator33=_createForOfIteratorHelper(gi(t)),_step33;try{for(_iterator33.s();!(_step33=_iterator33.n()).done;){var _l10=_step33.value;for(var _t38=0;_t38<=_l10.textContent.length;_t38+=1,_i30+=1){_i30===n&&e.setStart(_l10,_t38),_i30===o&&(0===_t38&&_s24?e.setEnd(_s24,_s24.textContent.length):e.setEnd(_l10,_t38));}_i30-=1,_s24=_l10;}}catch(err){_iterator33.e(err);}finally{_iterator33.f();}}},xi=function xi(t,e){var i=e&&t.contains(e.commonAncestorContainer),s=i?_i(e.startContainer,e.startOffset)[1]:-1,n=i?_i(e.endContainer,e.endOffset)[1]:-1;{ui(t,null);var _e31=t.querySelector("textPath")||t,_i31=_e31.querySelectorAll("tspan"),_s25=1===_i31.length?_i31[0]:null;if(_s25&&0===_s25.style.length){var _iterator34=_createForOfIteratorHelper(_s25.childNodes),_step34;try{for(_iterator34.s();!(_step34=_iterator34.n()).done;){var _t39=_step34.value;_e31.append(_t39);}}catch(err){_iterator34.e(err);}finally{_iterator34.f();}for(var _i32=0,_arr4=["x","y","dx","dy","rotate"];_i32<_arr4.length;_i32++){var _e32=_arr4[_i32];_s25.hasAttribute(_e32)&&t.setAttribute(_e32,_s25.getAttribute(_e32));}_s25.remove();}}if(i){var _i33=0,_o13=null;var _iterator35=_createForOfIteratorHelper(gi(t)),_step35;try{for(_iterator35.s();!(_step35=_iterator35.n()).done;){var _l11=_step35.value;for(var _t40=0;_t40<=_l11.textContent.length;_t40+=1,_i33+=1){_i33===s&&e.setStart(_l11,_t40),_i33===n&&(0===_t40&&_o13?e.setEnd(_o13,_o13.textContent.length):e.setEnd(_l11,_t40));}_i33-=1,_o13=_l11;}}catch(err){_iterator35.e(err);}finally{_iterator35.f();}}},bi=function bi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;null===e&&(e=t.commonAncestorContainer.closest("text"));var i=(e.querySelector("textPath")||e).querySelectorAll("tspan"),s=[];if(i.length>0){if(t){var _iterator36=_createForOfIteratorHelper(i),_step36;try{for(_iterator36.s();!(_step36=_iterator36.n()).done;){var _e33=_step36.value;t.intersectsNode(_e33)&&s.push(_e33);}}catch(err){_iterator36.e(err);}finally{_iterator36.f();}}if(s.length>0){var _e34="backward"===t.direction?s[s.length-1]:s[0],_i34=s.filter(function(t){return t!==_e34;});s=[_e34].concat(_toConsumableArray(_i34));}}return s;},mi=window.getTextModel=function(t){var e={rootItem:null,childItems:[]};{var _vi=vi(t),_vi2=_slicedToArray(_vi,2),_i35=_vi2[0],_s26=_vi2[1],_n15={inheritableProperties:_i35,nonInheritableProperties:_s26};e.rootItem=_n15;}{var _i36=0;var _iterator37=_createForOfIteratorHelper(gi(t)),_step37;try{for(_iterator37.s();!(_step37=_iterator37.n()).done;){var _s27=_step37.value;var _n16={textContent:_s27.textContent,href:null,inheritableProperties:{},nonInheritableProperties:{},isLineBreak:!1,x:[],y:[],dx:[],dy:[],rotate:[],startOffset:_i36,endOffset:_i36+_s27.length};if(_i36+=_s27.length,_s27.textContent===pi&&(_n16.isLineBreak=!0),!1===_n16.isLineBreak)for(var _e35=_s27.parentNode;_e35!==t;_e35=_e35.parentNode){if("a"===_e35.localName&&_e35.hasAttribute("_href")){_n16.href=_e35.getAttribute("_href");break;}}if(!1===_n16.isLineBreak){var _e36=_s27.closest("tspan, text"),_vi3=vi(_e36),_vi4=_slicedToArray(_vi3,2),_i37=_vi4[0],_o14=_vi4[1];_n16.inheritableProperties=_i37,_e36!==t&&(_n16.nonInheritableProperties=_o14);}{var _e37=[],_i38=[],_o15=[],_l12=[],_a9=[];for(var _n17=_s27.parentNode;t.contains(_n17);_n17=_n17.parentNode){if("tspan"===_n17.localName||"text"===_n17.localName){var _t41=0;var _iterator38=_createForOfIteratorHelper(gi(_n17)),_step38;try{for(_iterator38.s();!(_step38=_iterator38.n()).done;){var _e42=_step38.value;if(_e42===_s27)break;_t41+=_e42.length;}}catch(err){_iterator38.e(err);}finally{_iterator38.f();}for(var _i39=_t41,_o16=0;_n17.x.baseVal.length,_o16<_s27.length;_i39+=1,_o16+=1){void 0===_e37[_o16]&&void 0!==_n17.x.baseVal[_i39]&&(_e37[_o16]=_n17.x.baseVal[_i39].valueAsString);}for(var _e38=_t41,_o17=0;_n17.y.baseVal.length,_o17<_s27.length;_e38+=1,_o17+=1){void 0===_i38[_o17]&&void 0!==_n17.y.baseVal[_e38]&&(_i38[_o17]=_n17.y.baseVal[_e38].valueAsString);}for(var _e39=_t41,_i40=0;_n17.dx.baseVal.length,_i40<_s27.length;_e39+=1,_i40+=1){void 0===_o15[_i40]&&void 0!==_n17.dx.baseVal[_e39]&&(_o15[_i40]=_n17.dx.baseVal[_e39].valueAsString);}for(var _e40=_t41,_i41=0;_n17.dy.baseVal.length,_i41<_s27.length;_e40+=1,_i41+=1){void 0===_l12[_i41]&&void 0!==_n17.dy.baseVal[_e40]&&(_l12[_i41]=_n17.dy.baseVal[_e40].valueAsString);}for(var _e41=_t41,_i42=0;_n17.rotate.baseVal.length,_i42<_s27.length;_e41+=1,_i42+=1){void 0===_a9[_i42]&&void 0!==_n17.rotate.baseVal[_e41]&&(_a9[_i42]="".concat(_n17.rotate.baseVal[_e41].value));}}}var _h8="0";for(var _t42=0;_t42<_s27.length;_t42+=1){void 0===_e37[_t42]&&(_e37[_t42]="auto"),void 0===_i38[_t42]&&(_i38[_t42]="auto"),void 0===_o15[_t42]&&(_o15[_t42]="0"),void 0===_l12[_t42]&&(_l12[_t42]="0"),void 0===_a9[_t42]&&(_a9[_t42]=_h8),_h8=_a9[_t42];}_n16.x=_e37,_n16.y=_i38,_n16.dx=_o15,_n16.dy=_l12,_n16.rotate=_a9;}e.childItems.push(_n16);}}catch(err){_iterator37.e(err);}finally{_iterator37.f();}}var _iterator39=_createForOfIteratorHelper(e.childItems),_step39;try{for(_iterator39.s();!(_step39=_iterator39.n()).done;){var _t47=_step39.value;var _iterator44=_createForOfIteratorHelper(ci(_t47.inheritableProperties)),_step44;try{for(_iterator44.s();!(_step44=_iterator44.n()).done;){var _i46=_step44.value;e.rootItem.inheritableProperties[_i46]===_t47.inheritableProperties[_i46]&&delete _t47.inheritableProperties[_i46];}}catch(err){_iterator44.e(err);}finally{_iterator44.f();}}}catch(err){_iterator39.e(err);}finally{_iterator39.f();}{var _t43=e.childItems.filter(function(t){return!t.isLineBreak;});if(_t43.length>0){var _t44=_toArray(_t43),_i43=_t44[0],_s28=_t44.slice(1);var _iterator40=_createForOfIteratorHelper(ci(_i43.inheritableProperties)),_step40;try{for(_iterator40.s();!(_step40=_iterator40.n()).done;){var _t45=_step40.value;var _n18=!0;var _iterator41=_createForOfIteratorHelper(_s28),_step41;try{for(_iterator41.s();!(_step41=_iterator41.n()).done;){var _e43=_step41.value;_e43.inheritableProperties[_t45]!==_i43.inheritableProperties[_t45]&&(_n18=!1);}}catch(err){_iterator41.e(err);}finally{_iterator41.f();}if(_n18){e.rootItem.inheritableProperties[_t45]=_i43.inheritableProperties[_t45];var _iterator42=_createForOfIteratorHelper(e.childItems),_step42;try{for(_iterator42.s();!(_step42=_iterator42.n()).done;){var _i44=_step42.value;delete _i44.inheritableProperties[_t45];}}catch(err){_iterator42.e(err);}finally{_iterator42.f();}}}}catch(err){_iterator40.e(err);}finally{_iterator40.f();}}}if(e.childItems.length>1){var _t46=[],_i45=null;var _iterator43=_createForOfIteratorHelper(e.childItems),_step43;try{for(_iterator43.s();!(_step43=_iterator43.n()).done;){var _i45$x,_i45$y,_i45$dx,_i45$dy,_i45$rotate;var _s29=_step43.value;_i45&&_i45.href===_s29.href&&si(_i45.nonInheritableProperties,_s29.nonInheritableProperties)&&si(_i45.inheritableProperties,_s29.inheritableProperties)&&(!1===_i45.x.includes("auto")||0===_s29.x.length||ii(_s29.x,"auto"))&&(!1===_i45.y.includes("auto")||0===_s29.y.length||ii(_s29.y,"auto"))&&!1===_i45.isLineBreak&&!1===_s29.isLineBreak?(_i45.textContent+=_s29.textContent,(_i45$x=_i45.x).push.apply(_i45$x,_toConsumableArray(_s29.x)),(_i45$y=_i45.y).push.apply(_i45$y,_toConsumableArray(_s29.y)),(_i45$dx=_i45.dx).push.apply(_i45$dx,_toConsumableArray(_s29.dx)),(_i45$dy=_i45.dy).push.apply(_i45$dy,_toConsumableArray(_s29.dy)),(_i45$rotate=_i45.rotate).push.apply(_i45$rotate,_toConsumableArray(_s29.rotate)),_i45.endOffset=_s29.endOffset):(_t46.push(_s29),_i45=_s29);}}catch(err){_iterator43.e(err);}finally{_iterator43.f();}e.childItems=_t46;}return e;},gi=function gi(t){var e=[];if(t.closest("text")){var _i47=[],_s30=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;_s30.nextNode();){_i47.push(_s30.currentNode);}for(var _i49=0,_i48=_i47;_i49<_i48.length;_i49++){var _t48=_i48[_i49];var _i50=_t48.parentElement;if("text"===_i50.localName||"tspan"===_i50.localName||"textPath"===_i50.localName)_i50.getNumberOfChars()>0&&e.push(_t48);else if("a"===_i50.localName){var _s31=_i50.getBBox();0===_s31.x&&0===_s31.y&&0===_s31.width&&0===_s31.height||e.push(_t48);}}}return e;},fi=function fi(t){var e=gi(t),i=[];var _iterator45=_createForOfIteratorHelper(e),_step45;try{for(_iterator45.s();!(_step45=_iterator45.n()).done;){var _t49=_step45.value;var _e44=_t49.closest("*"),_s32=getComputedStyle(_e44).textTransform,_n19=_t49.textContent;"uppercase"===_s32?_n19=_n19.toUpperCase():"lowercase"===_s32?_n19=_n19.toLowerCase():"capitalize"===_s32&&(_n19=oi(_n19)),i.push.apply(i,_toConsumableArray(_n19.split("")));}}catch(err){_iterator45.e(err);}finally{_iterator45.f();}return i;},wi=function wi(t){var e=gi(t),i=0,s=0;for(var _s33=e[0].parentElement;t.contains(_s33);_s33=_s33.parentElement){if(("tspan"===_s33.localName||"text"===_s33.localName)&&_s33.x.baseVal.length>0){i=_s33.x.baseVal[0].value;break;}}for(var _i51=e[0].parentElement;t.contains(_i51);_i51=_i51.parentElement){if(("tspan"===_i51.localName||"text"===_i51.localName)&&_i51.y.baseVal.length>0){s=_i51.y.baseVal[0].value;break;}}return new DOMPoint(i,s);},vi=function vi(t){var e=getComputedStyle(t),i={},s={};var _iterator46=_createForOfIteratorHelper(F),_step46;try{for(_iterator46.s();!(_step46=_iterator46.n()).done;){var _t50=_step46.value;if(_t50.appliesTo.includes("text")||_t50.appliesTo.includes("tspan")||_t50.appliesTo.includes("textPath")){if("font"===_t50.name||"display"===_t50.name)continue;!0===_t50.inheritable?i[_t50.name]=e.getPropertyValue(_t50.name):!1===_t50.inheritable&&(s[_t50.name]=e.getPropertyValue(_t50.name));}}}catch(err){_iterator46.e(err);}finally{_iterator46.f();}return[i,s];},yi=function yi(t){return"tspan"===t.localName&&t.textContent===pi;},ki=function ki(t){if("text"===t.localName){var _iterator47=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step47;try{for(_iterator47.s();!(_step47=_iterator47.n()).done;){var _e45=_step47.value;if(yi(_e45))return!0;}}catch(err){_iterator47.e(err);}finally{_iterator47.f();}}return!1;},Si=function Si(t){var e=0;var _iterator48=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step48;try{for(_iterator48.s();!(_step48=_iterator48.n()).done;){var _i52=_step48.value;if(yi(_i52)&&_i52.dy.baseVal.length>0&&_i52.dy.baseVal[0].unitType===SVGLength.SVG_LENGTHTYPE_EMS){var _t51=_i52.dy.baseVal[0].valueInSpecifiedUnits;e=K(_t51-1,2);break;}}}catch(err){_iterator48.e(err);}finally{_iterator48.f();}return e;},_i=function _i(t,e){var i=t.closest("text"),s=0,n=-1;var _iterator49=_createForOfIteratorHelper(gi(i)),_step49;try{for(_iterator49.s();!(_step49=_iterator49.n()).done;){var _o18=_step49.value;if(_o18===t){n=s+e;break;}s+=_o18.length;}}catch(err){_iterator49.e(err);}finally{_iterator49.f();}return[i,n];},Ci=function Ci(t,e){var i=null,s=null,n=0,o=0;var _iterator50=_createForOfIteratorHelper(gi(t)),_step50;try{for(_iterator50.s();!(_step50=_iterator50.n()).done;){var _l13=_step50.value;for(var _t52=0;_t52<=_l13.textContent.length;_t52+=1,o+=1){o===e&&(0===_t52&&i?(s=i,n=i.textContent.length):(s=_l13,n=_t52));}o-=1,i=_l13;}}catch(err){_iterator50.e(err);}finally{_iterator50.f();}return[s,n];},Mi=function Mi(t){var e={x:[],y:[],dx:[],dy:[],rotate:[]};var _iterator51=_createForOfIteratorHelper(gi(t)),_step51;try{for(_iterator51.s();!(_step51=_iterator51.n()).done;){var _e$x,_e$y,_e$dx,_e$dy,_e$rotate;var _i53=_step51.value;var _s34=[],_n20=[],_o19=[],_l14=[],_a10=[];for(var _e46=_i53.parentNode;t.contains(_e46);_e46=_e46.parentNode){if("tspan"===_e46.localName||"text"===_e46.localName){var _t53=0;var _iterator52=_createForOfIteratorHelper(gi(_e46)),_step52;try{for(_iterator52.s();!(_step52=_iterator52.n()).done;){var _s39=_step52.value;if(_s39===_i53)break;_t53+=_s39.length;}}catch(err){_iterator52.e(err);}finally{_iterator52.f();}for(var _n21=_t53,_o20=0;_e46.x.baseVal.length,_o20<_i53.length;_n21+=1,_o20+=1){void 0===_s34[_o20]&&void 0!==_e46.x.baseVal[_n21]&&(_s34[_o20]=_e46.x.baseVal[_n21].value);}for(var _s35=_t53,_o21=0;_e46.y.baseVal.length,_o21<_i53.length;_s35+=1,_o21+=1){void 0===_n20[_o21]&&void 0!==_e46.y.baseVal[_s35]&&(_n20[_o21]=_e46.y.baseVal[_s35].value);}for(var _s36=_t53,_n22=0;_e46.dx.baseVal.length,_n22<_i53.length;_s36+=1,_n22+=1){void 0===_o19[_n22]&&void 0!==_e46.dx.baseVal[_s36]&&(_o19[_n22]=_e46.dx.baseVal[_s36].value);}for(var _s37=_t53,_n23=0;_e46.dy.baseVal.length,_n23<_i53.length;_s37+=1,_n23+=1){void 0===_l14[_n23]&&void 0!==_e46.dy.baseVal[_s37]&&(_l14[_n23]=_e46.dy.baseVal[_s37].value);}for(var _s38=_t53,_n24=0;_e46.rotate.baseVal.length,_n24<_i53.length;_s38+=1,_n24+=1){void 0===_a10[_n24]&&void 0!==_e46.rotate.baseVal[_s38]&&(_a10[_n24]=_e46.rotate.baseVal[_s38].value);}}}{var _t54=0;for(var _e47=0;_e47<_i53.length;_e47+=1){void 0===_s34[_e47]&&(_s34[_e47]="auto"),void 0===_n20[_e47]&&(_n20[_e47]="auto"),void 0===_o19[_e47]&&(_o19[_e47]=0),void 0===_l14[_e47]&&(_l14[_e47]=0),void 0===_a10[_e47]&&(_a10[_e47]=_t54),_t54=_a10[_e47];}}(_e$x=e.x).push.apply(_e$x,_s34),(_e$y=e.y).push.apply(_e$y,_n20),(_e$dx=e.dx).push.apply(_e$dx,_o19),(_e$dy=e.dy).push.apply(_e$dy,_l14),(_e$rotate=e.rotate).push.apply(_e$rotate,_a10);}}catch(err){_iterator51.e(err);}finally{_iterator51.f();}return e;},Pi=function Pi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=new DOMRect(0,0,0,0),s=e?N(t):null;if(s){i=function(t,e){var i=Math.max(t.left,e.left),s=Math.min(t.right,e.right),n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom);return new DOMRect(i,n,s-i,o-n);}(Pi(t,!1),Ne(DOMRect.fromRect(s.getBBox()),Vt(s)));}else if("tspan"===t.localName){var _e48=gi(t),_s40=document.createRange();if(_e48.length>0&&(_s40.setStart(_e48[0],0),_s40.setEnd(_e48[_e48.length-1],_e48[_e48.length-1].length)),!1===_s40.collapsed){var _t55=_s40.startContainer.closest("text"),_i54=_i(_s40.startContainer,_s40.startOffset),_i55=_slicedToArray(_i54,2),_e49=_i55[1],_i56=_i(_s40.endContainer,_s40.endOffset),_i57=_slicedToArray(_i56,2),_n25=_i57[1],_o22=[];for(var _i58=_e49;_i58<_n25;_i58+=1){var _e50=_t55.getExtentOfChar(_i58);_o22.push(_e50);}i=Ve(_o22);}}else i="use"===t.localName?new DOMRect(0,0,t.width.baseVal.value,t.height.baseVal.value):DOMRect.fromRect(t.getBBox());return i;},Di=function Di(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=Ht(t),s=Pi(t,e);return Ne(s,i);},zi=Number.parseInt,Oi=function Oi(t){var e=document.createDocumentFragment(),i=document.createElementNS(l.svg,"svg");for(i.innerHTML=t;i.firstChild;){e.append(i.firstChild);}return e.childElementCount>1?e:1===e.childElementCount?e.children[0]:null;},Ei=function Ei(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i59=_slicedToArray(i,1),_t56=_i59[0];s=document.createElement(_t56,e);}else if(2===i.length){var _i60=_slicedToArray(i,2),_t57=_i60[0],_n26=_i60[1];"svg"===_t57&&(s=document.createElementNS(l.svg,_n26,e));}return s;},Ti=function Ti(t){var e="svg"===t.localName?t:null;for(var _i61=t.ownerSVGElement;_i61;_i61=_i61.ownerSVGElement){e=_i61;}return e;},Ai=function Ai(t){for(var _e51 in t.parentElement.children){if(t.parentElement.children[_e51]===t)return zi(_e51);}},$i=function $i(t,e){if(t.localName!==e.localName)return!1;if(t.namespaceURI!==e.namespaceURI)return!1;if(t.textContent!==e.textContent)return!1;if(t.children.length!==e.children.length)return!1;if(t.attributes.length!==e.attributes.length)return!1;var _iterator53=_createForOfIteratorHelper(t.attributes),_step53;try{for(_iterator53.s();!(_step53=_iterator53.n()).done;){var _i63=_step53.value;if("style"===_i63.name){if(t.style.cssText!==e.style.cssText)return!1;}else if(t.getAttribute(_i63.name)!==e.getAttribute(_i63.name))return!1;}}catch(err){_iterator53.e(err);}finally{_iterator53.f();}for(var _i62=0;_i62<t.children.length;_i62+=1){if(!1===$i(t.children[_i62],e.children[_i62]))return!1;}return!0;},Ii=function Ii(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Ii(t.getRootNode().host,e):s;},Li=function Li(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s=function s(t,e){return{x:t,y:e,translate:function translate(i,n){return s(t+i,e+n);}};},n=function n(t,e){return{start:t,length:e,end:t+e};},o=function o(t,i){return!1===e||i.start<t.end&&t.start<i.end?Math.max(t.end-i.length,Math.min(i.start,t.start)):(t.start+t.end-i.length)/2;},l=function l(t,e){for(;t;){e=e.translate(t.offsetLeft,t.offsetTop),t=t.offsetParent;}return e;},a=l(t,s(0,0)),h=s(t.offsetWidth,t.offsetHeight),r=t.parentNode;for(;r instanceof HTMLElement;){i=l(r,s(r.clientLeft,r.clientTop)),r.scrollLeft=o(n(a.x-i.x,h.x),n(r.scrollLeft,r.clientWidth)),r.scrollTop=o(n(a.y-i.y,h.y),n(r.scrollTop,r.clientHeight)),a=a.translate(-r.scrollLeft,-r.scrollTop),r=r.parentNode;}},Bi=function Bi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[];var _iterator54=_createForOfIteratorHelper(t),_step54;try{for(_iterator54.s();!(_step54=_iterator54.n()).done;){var _s41=_step54.value;if("g"===_s41.localName||"a"===_s41.localName){var _t58=_toConsumableArray(_s41.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Bi(_t58,e)));}else if(m.includes(_s41.localName)&&(i.push(_s41),"text"===_s41.localName&&e)){var _t59=_toConsumableArray(_s41.children);i=[].concat(_toConsumableArray(i),_toConsumableArray(Bi(_t59,e)));}}}catch(err){_iterator54.e(err);}finally{_iterator54.f();}return i;},Ri=function Ri(t,e){for(;t=t.parentNode;){if(t.contains&&t.contains(e))return t;}return null;},Gi=function Gi(t){var e=[];var _iterator55=_createForOfIteratorHelper(t),_step55;try{for(_iterator55.s();!(_step55=_iterator55.n()).done;){var _i64=_step55.value;e.push(_i64);}}catch(err){_iterator55.e(err);}finally{_iterator55.f();}return e.sort(function(t,e){return 3-(6&t.compareDocumentPosition(e));}),e;},Fi=function Fi(t){var e=[];t=Gi(t);var _iterator56=_createForOfIteratorHelper(t),_step56;try{for(_iterator56.s();!(_step56=_iterator56.n()).done;){var _i65=_step56.value;if(_i65===t[0])e.push([_i65]);else{var _t60=!1;var _iterator57=_createForOfIteratorHelper(e),_step57;try{for(_iterator57.s();!(_step57=_iterator57.n()).done;){var _s42=_step57.value;_i65.parentElement===_s42[0].parentElement&&(_s42.push(_i65),_t60=!0);}}catch(err){_iterator57.e(err);}finally{_iterator57.f();}!1===_t60&&e.push([_i65]);}}}catch(err){_iterator56.e(err);}finally{_iterator56.f();}return e;},Ui=function Ui(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"designer";var i=null;if("developer"===e)"rect"===t.localName?i="<rect>":"circle"===t.localName?i="<circle>":"ellipse"===t.localName?i="<ellipse>":"line"===t.localName?i="<line>":"polyline"===t.localName?i="<polyline>":"polygon"===t.localName?i="<polygon>":"text"===t.localName?i="<text>":"image"===t.localName?i="<image>":"use"===t.localName?i="<use>":"svg"===t.localName?i="<svg>":"a"===t.localName?i="<a>":"g"===t.localName?i="master"===t.getAttribute("data-bx-workspace")?"<svg>":"symbol"===t.getAttribute("data-bx-workspace")?"<symbol>":"pattern"===t.getAttribute("data-bx-workspace")?"<pattern>":"marker"===t.getAttribute("data-bx-workspace")?"<marker>":"<g>":"path"===t.localName?i="<path>":"clipPath"===t.localName?i="<clipPath>":"mask"===t.localName?i="<mask>":"view"===t.localName?i="<view>":"bx-guide"===t.localName&&(i="<bx:guide>");else if("designer"===e)if("rect"===t.localName)i="Rectangle";else if("circle"===t.localName)i="Circle";else if("ellipse"===t.localName)i="Ellipse";else if("line"===t.localName)i="Line";else if("polyline"===t.localName)i="Polyline";else if("polygon"===t.localName)i="Polygon";else if("text"===t.localName)i="Text";else if("image"===t.localName)i="Image";else if("use"===t.localName)i="Symbol instance";else if("svg"===t.localName)i="SVG";else if("a"===t.localName)i="Link";else if("g"===t.localName)i="master"===t.getAttribute("data-bx-workspace")?"SVG":"symbol"===t.getAttribute("data-bx-workspace")?"Symbol":"pattern"===t.getAttribute("data-bx-workspace")?"Pattern":"marker"===t.getAttribute("data-bx-workspace")?"Marker":"Group";else if("path"===t.localName){var _e52=t.getAttribute("data-bx-shape");if(_e52){var _t61=_e52.substring(0,_e52.indexOf(" "));i="rect"===_t61?"Rectangle":oi(_t61);}else i="Path";}else"clipPath"===t.localName?i="Clip":"mask"===t.localName?i="Mask":"view"===t.localName?i="View":"bx-guide"===t.localName&&(i="Guide");return i;},Ni=function Ni(t){var e=null;if("rect"===t.localName)e="object-rect";else if("circle"===t.localName)e="object-circle";else if("ellipse"===t.localName)e="object-ellipse";else if("line"===t.localName)e="object-line";else if("polyline"===t.localName)e="object-polyline";else if("polygon"===t.localName)e="object-polygon";else if("text"===t.localName)e="object-text";else if("image"===t.localName)e="object-image";else if("a"===t.localName)e="object-link";else if("use"===t.localName)e="object-symbol";else if("svg"===t.localName)e="object-svg";else if("g"===t.localName)e="master"===t.getAttribute("data-bx-workspace")?"object-svg":"symbol"===t.getAttribute("data-bx-workspace")?"object-symbol":"pattern"===t.getAttribute("data-bx-workspace")?"object-pattern":"marker"===t.getAttribute("data-bx-workspace")?"object-marker":"object-group";else if("path"===t.localName){var _i66=t.getAttribute("data-bx-shape");e=_i66?"object-"+_i66.substring(0,_i66.indexOf(" ")):"object-path";}else"clipPath"===t.localName?e="object-clip":"mask"===t.localName?e="object-mask":"view"===t.localName?e="object-view":"bx-guide"===t.localName&&(e="object-guide");return e;},Vi=function Vi(t,e){if(!t.transform||!e.transform)return!1;var i=Di(t),s=Di(e);return Ye(i,s);},ji=function ji(t){var e=[],i=[];var _iterator58=_createForOfIteratorHelper(t),_step58;try{var _loop=function _loop(){var s=_step58.value;var n=[],o=function o(e){var _iterator60=_createForOfIteratorHelper(t),_step60;try{for(_iterator60.s();!(_step60=_iterator60.n()).done;){var _s43=_step60.value;var _t62=!n.includes(_s43)&&!i.includes(_s43);_s43!==e&&_t62&&Vi(_s43,e)&&(n.push(_s43),i.push(_s43),o(_s43));}}catch(err){_iterator60.e(err);}finally{_iterator60.f();}};o(s),n.length>0&&e.push(Gi(n));};for(_iterator58.s();!(_step58=_iterator58.n()).done;){_loop();}}catch(err){_iterator58.e(err);}finally{_iterator58.f();}var _iterator59=_createForOfIteratorHelper(t),_step59;try{for(_iterator59.s();!(_step59=_iterator59.n()).done;){var _s44=_step59.value;i.includes(_s44)||e.push([_s44]);}}catch(err){_iterator59.e(err);}finally{_iterator59.f();}return e;},Hi=function Hi(t){if(0===t.length)return!1;for(var _e53=0;_e53<t.length;_e53+=1){var _i67=t.charCodeAt(_e53);if(!1===(_i67>=65&&_i67<=90||_i67>=97&&_i67<=122)){if(0===_e53)return!1;if(!1===(_i67>=48&&_i67<=57||45===_i67||46===_i67||95===_i67))return!1;}}return!0;},Yi=function Yi(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"element-";var i=document;for(var _e54=t.parentNode;_e54;_e54=_e54.parentNode){if(_e54.nodeType===Node.DOCUMENT_FRAGMENT_NODE||_e54.nodeType===Node.DOCUMENT_NODE){i=_e54;break;}}for(var _t63=0;_t63<Infinity;_t63+=1){var _s45=e+_t63;if(!i.querySelector("#".concat(_s45)))return _s45;}},Wi=document.createElement("template"),qi=function qi(t){var i=[];for(var _len2=arguments.length,e=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){e[_key2-1]=arguments[_key2];}for(var _s46=0;_s46<t.length;_s46+=1){i.push(t[_s46]),void 0!==e[_s46]&&i.push(e[_s46]);}var s=i.join("");Wi.innerHTML=s;var n=document.importNode(Wi.content,!0);return 1===n.children.length?n.firstElementChild:n;},Xi=function Xi(t){var i=[];for(var _len3=arguments.length,e=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){e[_key3-1]=arguments[_key3];}for(var _s47=0;_s47<t.length;_s47+=1){i.push(t[_s47]),void 0!==e[_s47]&&i.push(e[_s47]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},Zi=function Zi(t){var i=[];for(var _len4=arguments.length,e=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){e[_key4-1]=arguments[_key4];}for(var _s48=0;_s48<t.length;_s48+=1){i.push(t[_s48]),void 0!==e[_s48]&&i.push(e[_s48]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Wi.innerHTML=s;var n=document.importNode(Wi.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i68=0,_arr5=_toConsumableArray(o.childNodes);_i68<_arr5.length;_i68++){var _t64=_arr5[_i68];n.appendChild(_t64);}return o.remove(),n;},Ki=function Ki(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,a=function a(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len5=arguments.length,h=new Array(_len5),_key5=0;_key5<_len5;_key5++){h[_key5]=arguments[_key5];}return s=h,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(a,d)),o;};},Qi=function Qi(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len6=arguments.length,l=new Array(_len6),_key6=0;_key6<_len6;_key6++){l[_key6]=arguments[_key6];}var a=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),a&&(o=t.apply(i,l)),o;};},Ji=function Ji(t,e){var i,s=!1;return function(){return s||(s=!0,i=t.apply(e||this,arguments),t=null),i;};},ts=function ts(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},es=new Promise(function(t){requestIdleCallback(t);});var is=/*#__PURE__*/function(){function is(t){_classCallCheck(this,is);this.text=t,this.cursor=0,this.line=1,this.column=1,this.t={cursor:0,line:1,column:1};}_createClass(is,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s49=0;_s49<t;_s49+=1){var _t65=this.text[i+_s49];if(void 0===_t65)break;e+=_t65,this.cursor+=1,"\n"===_t65?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i69=0;_i69<t;_i69+=1){var _t66=this.text[this.cursor+_i69];if(void 0===_t66)break;e+=_t66;}return""===e?null:e;}},{key:"eatSpaces",value:function eatSpaces(){var t="";for(;" "===this.peek();){t+=this.read();}return t;}},{key:"eatWhitespace",value:function eatWhitespace(){var t="";for(;" "===this.peek()||"\n"===this.peek();){t+=this.read();}return t;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.t={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$t=this.t,t=_this$t.cursor,e=_this$t.line,i=_this$t.column;this.cursor=t,this.line=e,this.column=i;}}]);return is;}();var ss=Math.max,ns=Math.pow,os=Math.sqrt,ls=Math.PI,as=function as(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=ns(10,e);return Math.round(t*i)/i;},hs=function hs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return new DOMRect(as(t.x,e),as(t.y,e),as(t.width,e),as(t.height,e));},rs=function rs(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Infinity;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;return null!==s&&(t=as(t,s)),t<e?t=e:t>i&&(t=i),t;},ds=function ds(t){if(isFinite(t)){var _e55=1,_i70=0;for(;Math.round(t*_e55)/_e55!==t;){_e55*=10,_i70+=1;}return _i70;}return 0;},cs=function cs(t,e){var i=e.x-t.x;i*=i;var s=e.y-t.y;return s*=s,os(i+s);},ps=function ps(t){return ls*t/180;},us=Math.min,xs=Math.max,bs=Math.floor,ms=Math.pow,gs=Math.atan2,fs=Math.PI,ws=Math.sqrt,vs=function vs(t,e,i){var s,n,o,l=xs(t/=255,e/=255,i/=255),a=us(t,e,i);if(s=n=o=(l+a)/2,l===a)s=n=0;else{var _h9=l-a;if(n=o>.5?_h9/(2-l-a):_h9/(l+a),l===t){var _t67;_t67=e<i?6:0,s=(e-i)/_h9+_t67;}else l===e?s=(i-t)/_h9+2:l===i&&(s=(t-e)/_h9+4);}return s=rs(s/6*360,0,360,0),n=rs(100*n,0,100,1),o=rs(100*o,0,100,1),[s,n,o];},ys=function ys(t,e,i){var s,n,o;if(t/=360,i/=100,0==(e/=100))s=n=o=i;else{var _l15,_a11,_h10=function _h10(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l15=i<.5?i*(1+e):i+e-i*e,_a11=2*i-_l15,s=_h10(_a11,_l15,t+1/3),n=_h10(_a11,_l15,t),o=_h10(_a11,_l15,t-1/3);}return s=rs(255*s,0,255,0),n=rs(255*n,0,255,0),o=rs(255*o,0,255,0),[s,n,o];},ks=function ks(t,e,i){e/=100,i/=100;var s=bs(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),a=i*(1-(1-n)*e),h=0,r=0,d=0;return s%6==0?(h=i,r=a,d=o):s%6==1?(h=l,r=i,d=o):s%6==2?(h=o,r=i,d=a):s%6==3?(h=o,r=l,d=i):s%6==4?(h=a,r=o,d=i):s%6==5&&(h=i,r=o,d=l),h*=255,r*=255,d*=255,[h,r,d];},Ss=function Ss(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t68,_t69,_ys,_ys2,_ks,_ks2;var _n27,_o23,_l16,_a12;if("rgba"===e?(_t68=t,_t69=_slicedToArray(_t68,4),_n27=_t69[0],_o23=_t69[1],_l16=_t69[2],_a12=_t69[3],_t68):"hsla"===e?((_ys=ys.apply(void 0,_toConsumableArray(t)),_ys2=_slicedToArray(_ys,3),_n27=_ys2[0],_o23=_ys2[1],_l16=_ys2[2],_ys),_a12=t[3]):"hsva"===e&&((_ks=ks.apply(void 0,_toConsumableArray(t)),_ks2=_slicedToArray(_ks,3),_n27=_ks2[0],_o23=_ks2[1],_l16=_ks2[2],_ks),_a12=t[3]),"rgb%"===i||"rgba%"===i?(_n27=rs(_n27/255*100,0,100,1),_o23=rs(_o23/255*100,0,100,1),_l16=rs(_l16/255*100,0,100,1),_a12=rs(_a12,0,1,2)):(_n27=rs(_n27,0,255,0),_o23=rs(_o23,0,255,0),_l16=rs(_l16,0,255,0),_a12=rs(_a12,0,1,2)),"rgb"===i)s="rgb(".concat(_n27,", ").concat(_o23,", ").concat(_l16,")");else if("rgba"===i)s="rgba(".concat(_n27,", ").concat(_o23,", ").concat(_l16,", ").concat(_a12,")");else if("rgb%"===i)s="rgb(".concat(_n27,"%, ").concat(_o23,"%, ").concat(_l16,"%)");else if("rgba%"===i)s="rgb(".concat(_n27,"%, ").concat(_o23,"%, ").concat(_l16,"%, ").concat(_a12,")");else if("hex"===i){var _t70=_n27.toString(16),_e56=_o23.toString(16),_i71=_l16.toString(16);1===_t70.length&&(_t70="0"+_t70),1===_e56.length&&(_e56="0"+_e56),1===_i71.length&&(_i71="0"+_i71),s="#"+_t70+_e56+_i71;}}else if("hsl"===i||"hsla"===i){var _t71,_t72,_ref,_ref2,_vs,_vs2;var _n28,_o24,_l17,_a13;"hsla"===e?(_t71=t,_t72=_slicedToArray(_t71,4),_n28=_t72[0],_o24=_t72[1],_l17=_t72[2],_a13=_t72[3],_t71):"hsva"===e?((_ref=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*xs(0,us(1,o)),n=100*xs(0,us(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref2=_slicedToArray(_ref,3),_n28=_ref2[0],_o24=_ref2[1],_l17=_ref2[2],_ref),_a13=t[3]):"rgba"===e&&((_vs=vs.apply(void 0,_toConsumableArray(t)),_vs2=_slicedToArray(_vs,3),_n28=_vs2[0],_o24=_vs2[1],_l17=_vs2[2],_vs),_a13=t[3]),_n28=rs(_n28,0,360,0),_o24=rs(_o24,0,100,1),_l17=rs(_l17,0,100,1),_a13=rs(_a13,0,1,2),"hsl"===i?s="hsl(".concat(_n28,", ").concat(_o24,"%, ").concat(_l17,"%)"):"hsla"===i&&(s="hsla(".concat(_n28,", ").concat(_o24,"%, ").concat(_l17,"%, ").concat(_a13,")"));}return s;},_s=function _s(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=new zs().parse(t,i);return Ss(s,i,e);},Cs=function Cs(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator61=_createForOfIteratorHelper(t),_step61;try{for(_iterator61.s();!(_step61=_iterator61.n()).done;){var _i72=_step61.value;if(!e.includes(_i72))return!1;}}catch(err){_iterator61.e(err);}finally{_iterator61.f();}return!0;},Ms=function Ms(){return new Promise(function(t){if(Ms.url)t(Ms.url);else if(Ms.callbacks)Ms.callbacks.push(t);else{Ms.callbacks=[t];var _e57=300,_i73=document.createElement("canvas"),_s50=_i73.getContext("2d"),_n29=_s50.createImageData(_e57,_e57),_o25=_n29.data,_l18=_e57/2,_a14=0;_i73.width=_e57,_i73.height=_e57;for(var _t73=0;_t73<_e57;_t73++){for(var _i74=0;_i74<_e57;_i74++){var _e58=_i74-_l18,_s51=_t73-_l18,_n30=ms(_e58,2)+ms(_s51,2),_h11=(gs(_s51,_e58)+fs)/(2*fs)*360,_r8=ws(_n30)/_l18*100,_ks3=ks(_h11,_r8,100),_ks4=_slicedToArray(_ks3,3),_d4=_ks4[0],_c2=_ks4[1],_p2=_ks4[2],_u2=_n30>ms(_l18,2)?0:255;_o25[_a14++]=_d4,_o25[_a14++]=_c2,_o25[_a14++]=_p2,_o25[_a14++]=_u2;}}_s50.putImageData(_n29,0,0),_i73.toBlob(function(t){Ms.url=URL.createObjectURL(t);var _iterator62=_createForOfIteratorHelper(Ms.callbacks),_step62;try{for(_iterator62.s();!(_step62=_iterator62.n()).done;){var _t74=_step62.value;_t74(Ms.url);}}catch(err){_iterator62.e(err);}finally{_iterator62.f();}});}});},Ps=Number.parseFloat,Ds=Number.parseInt;var zs=/*#__PURE__*/function(){function zs(){_classCallCheck(this,zs);}_createClass(zs,[{key:"parse",value:function parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=this.h(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[Ps(i[1].text),Ps(i[3].text),Ps(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[Ps(i[1].text)/100*255,Ps(i[3].text)/100*255,Ps(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Ps(i[1].text),Ps(i[3].text),Ps(i[5].text),Ps(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[Ps(i[1].text)/100*255,Ps(i[3].text)/100*255,Ps(i[5].text)/100*255,Ps(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[Ps(i[1].text),Ps(i[3].text),Ps(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[Ps(i[1].text),Ps(i[3].text),Ps(i[5].text),Ps(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t75,_e59,_n31,_o26=i[0].text.substring(1);3===_o26.length?(_t75=_o26[0]+_o26[0],_e59=_o26[1]+_o26[1],_n31=_o26[2]+_o26[2]):(_t75=_o26[0]+_o26[1],_e59=_o26[2]+_o26[3],_n31=_o26[4]+_o26[5]),s=[Ds(_t75,16),Ds(_e59,16),Ds(_n31,16),1];}else zs.i[t]&&(s=[zs.i[t][0],zs.i[t][1],zs.i[t][2],1]);if(s){var _s52=s,_s53=_slicedToArray(_s52,4),_t76=_s53[0],_i75=_s53[1],_n32=_s53[2],_o27=_s53[3];if(_t76=rs(_t76,0,255,0),_i75=rs(_i75,0,255,0),_n32=rs(_n32,0,255,0),_o27=rs(_o27,0,1,2),"hsla"===e){var _vs3=vs(_t76,_i75,_n32),_vs4=_slicedToArray(_vs3,3),_e60=_vs4[0],_s54=_vs4[1],_l19=_vs4[2];return[_e60,_s54,_l19,_o27];}if("hsva"===e){var _ref3=function(t,e,i){var s=xs(t/=255,e/=255,i/=255),n=us(t,e,i),o=0,l=0,a=s,h=s-n;return l=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,l*=100,a*=100,[o,l,a];}(_t76,_i75,_n32),_ref4=_slicedToArray(_ref3,3),_e61=_ref4[0],_s55=_ref4[1],_l20=_ref4[2];return[_e61,_s55,_l20,_o27];}return[_t76,_i75,_n32,_o27];}if(n){var _n33=n,_n34=_slicedToArray(_n33,4),_t77=_n34[0],_i76=_n34[1],_s56=_n34[2],_o28=_n34[3];if(_t77=rs(_t77,0,360,0),_i76=rs(_i76,0,100,1),_s56=rs(_s56,0,100,1),_o28=rs(_o28,0,1,2),"hsla"===e)return[_t77,_i76,_s56,_o28];if("hsva"===e){var _ref5=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*xs(0,us(1,s)),n=100*xs(0,us(1,n)),[o,s,n];}(_t77,_i76,_s56),_ref6=_slicedToArray(_ref5,3),_e62=_ref6[0],_n35=_ref6[1],_l21=_ref6[2];return[_e62,_n35,_l21,_o28];}{var _ys3=ys(_t77,_i76,_s56),_ys4=_slicedToArray(_ys3,3),_e63=_ys4[0],_n36=_ys4[1],_l22=_ys4[2];return[_e63,_n36,_l22,_o28];}}throw new Error("Invalid color string: \"".concat(t,"\""));}},{key:"h",value:function h(t){var e=[],i=new is(t.toLowerCase());var _loop2=function _loop2(){var t=i.read();(function(){if("r"===t||"h"===t){var _s57=t;if(t+i.peek(3)==="rgb("?_s57+=i.read(3):t+i.peek(4)==="rgba("?_s57+=i.read(4):t+i.peek(3)==="hsl("?_s57+=i.read(3):t+i.peek(4)==="hsla("&&(_s57+=i.read(4)),_s57!==t)return void e.push({type:"FUNCTION",text:_s57});}if("#"===t){if(Cs(t+i.peek(6))){var _s58=t+i.read(6);return void e.push({type:"HEX",text:_s58});}if(Cs(t+i.peek(3))){var _s59=t+i.read(3);return void e.push({type:"HEX",text:_s59});}}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s60=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s60+=i.read();}"%"===i.peek()?(_s60+=i.read(),e.push({type:"PERCENTAGE",text:_s60})):e.push({type:"NUM",text:_s60});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop2();}return e;}}]);return zs;}();_defineProperty(zs,"i",{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]});var Os=document.createElement("template"),Es=function Es(t){var i=[];for(var _len7=arguments.length,e=new Array(_len7>1?_len7-1:0),_key7=1;_key7<_len7;_key7++){e[_key7-1]=arguments[_key7];}for(var _s61=0;_s61<t.length;_s61+=1){i.push(t[_s61]),void 0!==e[_s61]&&i.push(e[_s61]);}var s=i.join("");Os.innerHTML=s;var n=document.importNode(Os.content,!0);return 1===n.children.length?n.firstElementChild:n;},Ts=function Ts(t){var i=[];for(var _len8=arguments.length,e=new Array(_len8>1?_len8-1:0),_key8=1;_key8<_len8;_key8++){e[_key8-1]=arguments[_key8];}for(var _s62=0;_s62<t.length;_s62+=1){i.push(t[_s62]),void 0!==e[_s62]&&i.push(e[_s62]);}var s=i.join(""),n=new CSSStyleSheet();return n.replaceSync(s),n;},As=function As(t){var i=[];for(var _len9=arguments.length,e=new Array(_len9>1?_len9-1:0),_key9=1;_key9<_len9;_key9++){e[_key9-1]=arguments[_key9];}for(var _s63=0;_s63<t.length;_s63+=1){i.push(t[_s63]),void 0!==e[_s63]&&i.push(e[_s63]);}var s="<svg id=\"x-stub\" xmlns=\"http://www.w3.org/2000/svg\">".concat(i.join(""),"</svg>");Os.innerHTML=s;var n=document.importNode(Os.content,!0),o=n.querySelector("svg#x-stub");if(1===o.children.length)return o.firstElementChild;for(var _i77=0,_arr6=_toConsumableArray(o.childNodes);_i77<_arr6.length;_i77++){var _t78=_arr6[_i77];n.appendChild(_t78);}return o.remove(),n;},$s={},Is=function Is(t){return new Promise(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee(e){var _i78,_iterator63,_step63,_e64;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!$s[t]){_context.next=4;break;}$s[t].iconset?e($s[t].iconset):$s[t].callbacks.push(e);_context.next=18;break;case 4:$s[t]={callbacks:[e],iconset:null};_i78=null;_context.prev=6;_context.next=9;return fetch(t);case 9:_context.next=11;return _context.sent.text();case 11:_i78=_context.sent;_context.next=17;break;case 14:_context.prev=14;_context.t0=_context["catch"](6);_i78=null;case 17:if(_i78){$s[t].iconset=As(_templateObject(),_i78);_iterator63=_createForOfIteratorHelper($s[t].callbacks);try{for(_iterator63.s();!(_step63=_iterator63.n()).done;){_e64=_step63.value;_e64($s[t].iconset);}}catch(err){_iterator63.e(err);}finally{_iterator63.f();}}else console.error("Xel failed to fetch the iconset: ".concat(t));case 18:case"end":return _context.stop();}}},_callee,null,[[6,14]]);}));return function(_x2){return _ref7.apply(this,arguments);};}());};var Ls=new(_temp2=/*#__PURE__*/function(_ref8){_inherits(_temp2,_ref8);var _super=_createSuper(_temp2);_createClass(_temp2,[{key:"theme",get:function get(){return this.l;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-theme"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-theme"),document.head.append(e)),e.setAttribute("content",t);}},{key:"accentColor",get:function get(){return this.u;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-accent-color"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-accent-color"),document.head.append(e)),e.setAttribute("content",t);}},{key:"size",get:function get(){return this.p;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-size"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-size"),document.head.append(e)),e.setAttribute("content",t);}},{key:"iconset",get:function get(){return this.m;},set:function set(t){var e=document.head.querySelector(':scope > meta[name="xel-iconset"]');e||(e=document.createElement("meta"),e.setAttribute("name","xel-iconset"),document.head.append(e)),e.setAttribute("content",t);}},{key:"whenThemeReady",get:function get(){var _this2=this;return new Promise(function(t){null===_this2.g?t():_this2.g.push(t);});}},{key:"whenIconsetReady",get:function get(){var _this3=this;return new Promise(function(t){null===_this3.v?t():_this3.v.push(t);});}},{key:"themeStyleSheet",get:function get(){return this.k;}},{key:"iconsetElement",get:function get(){return this.Ns;}},{key:"presetAccentColors",get:function get(){var t={};var _iterator64=_createForOfIteratorHelper(this.k.cssRules),_step64;try{for(_iterator64.s();!(_step64=_iterator64.n()).done;){var _e65=_step64.value;if(1===_e65.type&&"body"===_e65.selectorText&&_e65.styleMap.has("--preset-accent-colors")){var _i79=_e65.styleMap.get("--preset-accent-colors");if(_i79&&_i79[0]){var _e66=_i79[0].split(",").map(function(t){return t.trim();}).map(function(t){return t.split(" ");});t=Object.fromEntries(_e66);}break;}}}catch(err){_iterator64.e(err);}finally{_iterator64.f();}return t;}}]);function _temp2(){var _temp,_this;_classCallCheck(this,_temp2);(_temp=_this=_super.call(this),_defineProperty(_assertThisInitialized(_this),"l",null),_defineProperty(_assertThisInitialized(_this),"u",null),_defineProperty(_assertThisInitialized(_this),"p",null),_defineProperty(_assertThisInitialized(_this),"m",null),_defineProperty(_assertThisInitialized(_this),"k",new CSSStyleSheet()),_defineProperty(_assertThisInitialized(_this),"Ns",null),_defineProperty(_assertThisInitialized(_this),"g",[]),_defineProperty(_assertThisInitialized(_this),"v",[]),_temp),document.adoptedStyleSheets=[_this.k];var _this$C=_this.C(),t=_this$C.theme,e=_this$C.accentColor,i=_this$C.size,s=_this$C.iconset;_this.l=t,_this.u=e,_this.p=i,_this.m=s,null!==_this.l&&_this.S(_this.l),null!==_this.m&&_this.A(_this.m),new MutationObserver(function(t){return _this.L(t);}).observe(document.head,{attributes:!0,subtree:!0});return _this;}_createClass(_temp2,[{key:"L",value:function L(t){var _this4=this;var e=this.l,i=this.u,s=this.p,n=this.m,_this$C2=this.C(),o=_this$C2.theme,l=_this$C2.accentColor,a=_this$C2.size,h=_this$C2.iconset;this.l=o,this.u=l,this.p=a,this.m=h,this.l!==e&&this.S(this.l).then(function(){_this4.dispatchEvent(new CustomEvent("themechange"));}),this.u!==i&&(this.T(),this.dispatchEvent(new CustomEvent("accentcolorchange"))),this.p!==s&&this.dispatchEvent(new CustomEvent("sizechange")),this.m!==n&&this.A(this.m).then(function(){_this4.dispatchEvent(new CustomEvent("iconsetchange"));});}},{key:"M",value:function M(t){var _this5=this;return new Promise(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee2(e){var i,s,_iterator65,_step65,_step65$value,_t79,_e67,_i80;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(t);case 2:i=_context2.sent;_context2.next=5;return i.text();case 5:s=_context2.sent;_iterator65=_createForOfIteratorHelper(_this5.D(s));_context2.prev=7;_iterator65.s();case 9:if((_step65=_iterator65.n()).done){_context2.next=17;break;}_step65$value=_slicedToArray(_step65.value,2),_t79=_step65$value[0],_e67=_step65$value[1];_context2.next=13;return _this5.M(_t79);case 13:_i80=_context2.sent;s=s.replace(_e67,_i80);case 15:_context2.next=9;break;case 17:_context2.next=22;break;case 19:_context2.prev=19;_context2.t0=_context2["catch"](7);_iterator65.e(_context2.t0);case 22:_context2.prev=22;_iterator65.f();return _context2.finish(22);case 25:e(s);case 26:case"end":return _context2.stop();}}},_callee2,null,[[7,19,22,25]]);}));return function(_x3){return _ref9.apply(this,arguments);};}());}},{key:"S",value:function S(t){var _this6=this;return new Promise(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee3(e){var i,_iterator66,_step66,_t80;return regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:null===_this6.g&&(_this6.g=[]);_context3.next=3;return _this6.M(t);case 3:i=_context3.sent;_context3.next=6;return _this6.k.replace(i);case 6:_this6.T();_this6.$();if(!(null!==_this6.g)){_context3.next=12;break;}_iterator66=_createForOfIteratorHelper(_this6.g);try{for(_iterator66.s();!(_step66=_iterator66.n()).done;){_t80=_step66.value;_t80();}}catch(err){_iterator66.e(err);}finally{_iterator66.f();}_this6.g=null;case 12:e();case 13:case"end":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref10.apply(this,arguments);};}());}},{key:"A",value:function A(t){var _this7=this;return new Promise(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee4(e){var i,_iterator67,_step67,_t81;return regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:null===_this7.v&&(_this7.v=[]);_context4.next=3;return Is(t);case 3:i=_context4.sent;_this7.Ns=i;_iterator67=_createForOfIteratorHelper(_this7.v);try{for(_iterator67.s();!(_step67=_iterator67.n()).done;){_t81=_step67.value;_t81();}}catch(err){_iterator67.e(err);}finally{_iterator67.f();}_this7.v=null,e();case 8:case"end":return _context4.stop();}}},_callee4);}));return function(_x5){return _ref11.apply(this,arguments);};}());}},{key:"$",value:function(){var _$=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee5(){var t,e;return regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.whenThemeReady;case 2:t=document.head.querySelector('meta[name="theme-color"]'),e=getComputedStyle(document.body).getPropertyValue("--titlebar-color").trim()||"auto";"auto"===e?t&&t.remove():(null===t&&(t=document.createElement("meta"),t.setAttribute("name","theme-color"),document.head.append(t)),t.setAttribute("content",e));case 4:case"end":return _context5.stop();}}},_callee5,this);}));function $(){return _$.apply(this,arguments);}return $;}()},{key:"T",value:function(){var _T=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee6(){var t,_zs$parse,_zs$parse2,e,i,s,n,o;return regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.whenThemeReady;case 2:t=this.u||this.presetAccentColors.blue;this.presetAccentColors[t]&&(t=this.presetAccentColors[t]);_zs$parse=new zs().parse(t,"hsla"),_zs$parse2=_slicedToArray(_zs$parse,4),e=_zs$parse2[0],i=_zs$parse2[1],s=_zs$parse2[2],n=_zs$parse2[3],o=_toConsumableArray(this.k.cssRules).reverse().find(function(t){return 1===t.type&&"body"===t.selectorText;});o.styleMap.set("--accent-color-h",e),o.styleMap.set("--accent-color-s","".concat(i,"%")),o.styleMap.set("--accent-color-l","".concat(s,"%")),o.styleMap.set("--accent-color-a",n);case 6:case"end":return _context6.stop();}}},_callee6,this);}));function T(){return _T.apply(this,arguments);}return T;}()},{key:"C",value:function C(){var t=document.head.querySelector(':scope > meta[name="xel-theme"]'),e=document.head.querySelector(':scope > meta[name="xel-accent-color"]'),i=document.head.querySelector(':scope > meta[name="xel-size"]'),s=document.head.querySelector(':scope > meta[name="xel-iconset"]');return{theme:t&&""!==t.content?t.content:null,accentColor:e&&""!==e.content?e.content:null,size:i&&""!==i.content?i.content:null,iconset:s&&""!==s.content?s.content:null};}},{key:"D",value:function D(t){var e=[],i=-1;for(;;){var _s64=t.indexOf("@import",i);if(!(_s64>-1))break;{var _n37=t.indexOf(";",_s64),_o29=0,_l23=t.indexOf(".css",_s64)+".css".length,_a15=t.indexOf("'",_s64),_h12=t.indexOf('"',_s64);if(_a15>_s64&&_a15<_n37)_o29=_a15+1;else if(_h12>_s64&&_h12<_n37)_o29=_h12+1;else{var _e68=t.indexOf("url(",_s64);_e68>_s64&&_e68<_n37&&(_o29=_e68+"url(".length);}var _r9=t.substring(_o29,_l23);e.push([_r9,t.substring(_s64,_n37+1)]),i=_l23;}}return e;}}]);return _temp2;}((_temp3=/*#__PURE__*/function(){function _temp3(){_classCallCheck(this,_temp3);_defineProperty(this,"o",{});}_createClass(_temp3,[{key:"addEventListener",value:function addEventListener(t,e){this.o||(this.o={});var i=this.o[t];i||(this.o[t]=i=[]),i.push(e),i.length>1e4&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.o&&this.o[t]){for(var i=[],s=0;s<this.o[t].length;s+=1){this.o[t][s]!==e&&i.push(this.o[t][s]);}this.o[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.o)return;var e=this.o[t.type];if(!e)return;var i=null;for(var _s65=e.length-1;_s65>=0;_s65-=1){var _n38=void 0,_o30=e[_s65];try{_n38=_o30.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n38)break;}if(i)throw i;}}]);return _temp3;}(),_temp3)),_temp2)();if(!1===MouseEvent.prototype.hasOwnProperty("pointerType")&&Object.defineProperty(MouseEvent.prototype,"pointerType",{get:function get(){return this.sourceCapabilities.firesTouchEvents?"touch":"mouse";}}),Element.prototype.setPointerCapture){var _t82=Element.prototype.setPointerCapture;Element.prototype.setPointerCapture=function(e){var _this8=this;_t82.call(this,e);var i=getComputedStyle(this).cursor,s=[];for(var _t83=this.parentNode||this.host;_t83&&_t83!==document;_t83=_t83.parentNode||_t83.host){if(_t83.nodeType===document.DOCUMENT_FRAGMENT_NODE){var _e69=document.createElementNS(_t83.host.namespaceURI,"style");_e69.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t83.append(_e69),s.push(_e69);}else if(_t83.nodeType===document.DOCUMENT_NODE){var _e70=document.createElement("style");_e70.textContent="* { cursor: ".concat(i," !important; user-select: none !important; }"),_t83.head.append(_e70),s.push(_e70);}}var n=function n(){window.removeEventListener("pointerup",n,!0),_this8.removeEventListener("lostpointercapture",n);var _iterator68=_createForOfIteratorHelper(s),_step68;try{for(_iterator68.s();!(_step68=_iterator68.n()).done;){var _t84=_step68.value;_t84.remove();}}catch(err){_iterator68.e(err);}finally{_iterator68.f();}};window.addEventListener("pointerup",n,!0),this.addEventListener("lostpointercapture",n);};}Object.defineProperty(Animation.prototype,"finished",{get:function get(){var _this9=this;return new Promise(function(t){"finished"===_this9.playState?t():_this9.addEventListener("finish",function(){return t();},{once:!0});});}}),Object.defineProperty(HTMLHeadingElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Object.defineProperty(HTMLParagraphElement.prototype,"disabled",{enumerable:!1,configurable:!1,get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}),Node.prototype.append||(Node.prototype.append=function(t){this.appendChild(t);}),Node.prototype.prepend||(Node.prototype.prepend=function(t){this.insertBefore(t,this.firstElementChild);}),Node.prototype.before||(Node.prototype.before=function(t){this.parentElement.insertBefore(t,this);}),Node.prototype.after||(Node.prototype.after=function(t){this.parentElement.insertBefore(t,this.nextElementSibling);}),Node.prototype.closest||(Node.prototype.closest=function(t){return this.parentNode?this.parentNode.closest(t):null;}),Node.prototype.replaceWith||(Node.prototype.replaceWith=function(t){this.parentNode.replaceChild(t,this);});var Bs=HTMLDialogElement.prototype.showModal,Rs=HTMLDialogElement.prototype.close,Gs=[],Fs={get open(){return this.hasAttribute("open");},showModal:function showModal(){var _arguments=arguments,_this10=this;return new Promise(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee7(t){var _t86,_t87,_t88,_e71,_i81,_s66,_t89,_t90,_e72,_i83,_t91,_e73,_i85,_s67,_n39;return regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(!(!0!==_this10.open&&!1!==_this10.isConnected)){_context7.next=25;break;}_context7.t0=_this10.P;if(!_context7.t0){_context7.next=5;break;}_context7.next=5;return _this10.P.finished;case 5:_context7.t1=_this10.R;if(!_context7.t1){_context7.next=9;break;}_context7.next=9;return _this10.R.finished;case 9:Bs.apply(_this10,_arguments);document.body.style.overflow="hidden",Gs.push(_this10),_this10.addEventListener("close",_t86=function _t85(e){e.target===_this10&&(_this10.removeEventListener("close",_t86),Gs=Gs.filter(function(t){return t!==_this10;}),0===Gs.length&&(document.body.style.overflow=null));});_t87=_this10.querySelector("[autofocus]");_t87?_t87.focus():_this10.focus();if(!1===_this10.hasAttribute("hidden")){_t88=getComputedStyle(_this10),_e71=_t88.getPropertyValue("transition-property"),_i81=1e3*parseFloat(_t88.getPropertyValue("transition-duration")),_s66=_t88.getPropertyValue("transition-timing-function");if("transform"===_e71){_t89=_this10.getBoundingClientRect();"0px"===getComputedStyle(_this10).left&&"0px"!==getComputedStyle(_this10).right?_this10.P=_this10.animate({transform:["translateX(-".concat(_t89.right,"px)"),"translateX(0px)"]},{duration:_i81,easing:_s66}):"0px"===getComputedStyle(_this10).right&&"0px"!==getComputedStyle(_this10).left?_this10.P=_this10.animate({transform:["translateX(".concat(_t89.width,"px)"),"translateX(0px)"]},{duration:_i81,easing:_s66}):_this10.P=_this10.animate({transform:["translateY(-".concat(_t89.bottom,"px)"),"translateY(0px)"]},{duration:_i81,easing:_s66});}}_this10.addEventListener("keydown",_t90=function _t90(t){"Escape"===t.key&&t.preventDefault();}),document.addEventListener("keydown",_e72=function _e72(t){"Escape"===t.key&&t.target===document.body&&t.preventDefault();}),_this10.addEventListener("close",_i83=function _i82(s){s.target===_this10&&(_this10.removeEventListener("close",_i83),_this10.removeEventListener("keydown",_t90),document.removeEventListener("keydown",_e72));});_s67=!0,_n39=function _n39(t){var e=_this10.getBoundingClientRect();return t.clientX>=e.x&&t.clientX<=e.x+e.width&&t.clientY>=e.y&&t.clientY<=e.y+e.height;};_this10.addEventListener("pointerdown",_t91=function _t91(t){_s67=!1===_n39(t);}),_this10.addEventListener("click",_e73=function _e73(t){!0===t.isTrusted&&!1===t.defaultPrevented&&!0===_s67&&!1===_n39(t)&&!0===_this10.hasAttribute("open")&&(_this10.close(),_this10.dispatchEvent(new CustomEvent("userclose")));}),_this10.addEventListener("close",_i85=function _i84(s){s.target===_this10&&(_this10.removeEventListener("pointerdown",_t91),_this10.removeEventListener("click",_e73),_this10.removeEventListener("close",_i85));});_context7.t2=_this10.P;if(!_context7.t2){_context7.next=22;break;}_context7.next=21;return _this10.P.finished;case 21:_this10.P=null;case 22:t();_context7.next=26;break;case 25:t();case 26:case"end":return _context7.stop();}}},_callee7);}));return function(_x6){return _ref12.apply(this,arguments);};}());},close:function close(){var _arguments2=arguments,_this11=this;return new Promise(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee8(t){var _t92,_e74,_i86,_s68,_n40,_t93;return regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.t0=_this11.P;if(!_context8.t0){_context8.next=4;break;}_context8.next=4;return _this11.P.finished;case 4:_context8.t1=_this11.R;if(!_context8.t1){_context8.next=8;break;}_context8.next=8;return _this11.R.finished;case 8:if(!(!1===_this11.hasAttribute("hidden"))){_context8.next=16;break;}_t92=getComputedStyle(_this11),_e74=_t92.getPropertyValue("transition-property"),_i86=_t92.getPropertyValue("transition-duration")||"0s",_s68=1e3*parseFloat(_i86),_n40=_t92.getPropertyValue("transition-timing-function")||"ease";if(!("transform"===_e74)){_context8.next=16;break;}_t93=_this11.getBoundingClientRect();"0px"===getComputedStyle(_this11).left&&"0px"!==getComputedStyle(_this11).right?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(-".concat(_t93.right,"px)")]},{duration:_s68,easing:_n40}):"0px"===getComputedStyle(_this11).right&&"0px"!==getComputedStyle(_this11).left?_this11.R=_this11.animate({transform:["translateX(0px)","translateX(".concat(_t93.width,"px)")]},{duration:_s68,easing:_n40}):_this11.R=_this11.animate({transform:["translateY(0px)","translateY(-".concat(_t93.bottom+50,"px)")]},{duration:_s68,easing:_n40});_context8.next=15;return _this11.R.finished;case 15:_this11.R=null;case 16:_this11.hasAttribute("open")&&Rs.apply(_this11,_arguments2),t();case 17:case"end":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref13.apply(this,arguments);};}());}};for(var _i87=0,_Object$entries=Object.entries(Object.getOwnPropertyDescriptors(Fs));_i87<_Object$entries.length;_i87++){var _Object$entries$_i=_slicedToArray(_Object$entries[_i87],2),_t94=_Object$entries$_i[0],_e75=_Object$entries$_i[1];Object.defineProperty(HTMLDialogElement.prototype,_t94,_e75);}var Us=/*#__PURE__*/function(_HTMLElement){_inherits(Us,_HTMLElement);var _super2=_createSuper(Us);_createClass(Us,[{key:"expanded",get:function get(){return this.hasAttribute("expanded");},set:function set(t){t?this.setAttribute("expanded",""):this.removeAttribute("expanded");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Us(){var _temp4,_this12;_classCallCheck(this,Us);(_temp4=_this12=_super2.call(this),_defineProperty(_assertThisInitialized(_this12),"I",{}),_defineProperty(_assertThisInitialized(_this12),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this12),"O",null),_defineProperty(_assertThisInitialized(_this12),"B",null),_defineProperty(_assertThisInitialized(_this12),"H",null),_temp4),_this12._shadowRoot=_this12.attachShadow({mode:"closed"}),_this12._shadowRoot.adoptedStyleSheets=[Us._shadowStyleSheet],_this12._shadowRoot.append(document.importNode(Us._shadowTemplate.content,!0));var _iterator69=_createForOfIteratorHelper(_this12._shadowRoot.querySelectorAll("[id]")),_step69;try{for(_iterator69.s();!(_step69=_iterator69.n()).done;){var _t95=_step69.value;_this12.I[_t95.id]=_t95;}}catch(err){_iterator69.e(err);}finally{_iterator69.f();}_this12.O=new ResizeObserver(function(){return _this12.F();}),_this12.addEventListener("click",function(t){return _this12.N(t);}),_this12.I.arrow.addEventListener("keydown",function(t){return _this12.q(t);});return _this12;}_createClass(Us,[{key:"connectedCallback",value:function connectedCallback(){var _this13=this;this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this13.U();}),this.O.observe(this);}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B),this.O.unobserve(this);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("expanded"===t?this.F():"size"===t&&this.U());}},{key:"expand",value:function expand(){var _this14=this;return new Promise(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee9(t){var _t96,_e76,_i88;return regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!(!1===_this14.expanded)){_context9.next=10;break;}_t96=_this14.getBoundingClientRect();_this14.H&&_this14.H.finish(),_this14.expanded=!0,_this14.removeAttribute("animating");_e76=_this14.getBoundingClientRect();_this14.setAttribute("animating","");_i88=_this14.animate({height:[_t96.height+"px",_e76.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this14.H=_i88;_context9.next=9;return _i88.finished;case 9:_this14.H===_i88&&_this14.removeAttribute("animating");case 10:t();case 11:case"end":return _context9.stop();}}},_callee9);}));return function(_x8){return _ref14.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this15=this;return new Promise(/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee10(t){var _t97,_e77,_i89;return regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(!(!0===_this15.expanded)){_context10.next=10;break;}_t97=_this15.getBoundingClientRect();_this15.H&&_this15.H.finish(),_this15.expanded=!1,_this15.removeAttribute("animating");_e77=_this15.getBoundingClientRect();_this15.setAttribute("animating","");_i89=_this15.animate({height:[_t97.height+"px",_e77.height+"px"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_this15.H=_i89;_context10.next=9;return _i89.finished;case 9:_this15.H===_i89&&_this15.removeAttribute("animating");case 10:t();case 11:case"end":return _context10.stop();}}},_callee10);}));return function(_x9){return _ref15.apply(this,arguments);};}());}},{key:"F",value:function F(){var t=this.querySelector(":scope > header");this.I["arrow-container"].style.height=t?t.getBoundingClientRect().height+"px":null;}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"q",value:function q(t){"Enter"===t.key&&this.querySelector("header").click();}},{key:"N",value:function N(t){var e=this.querySelector("header"),i=t.target.closest("[tabindex]");e.contains(t.target)&&!1===this.contains(i)&&(this.expanded?(this.collapse(),this.dispatchEvent(new CustomEvent("collapse"))):(this.expand(),this.dispatchEvent(new CustomEvent("expand"))));}}]);return Us;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Us,"observedAttributes",["expanded","size"]);_defineProperty(Us,"_shadowTemplate",Es(_templateObject113()));_defineProperty(Us,"_shadowStyleSheet",Ts(_templateObject114()));customElements.define("x-accordion",Us);var Ns=/*#__PURE__*/function(_HTMLElement2){_inherits(Ns,_HTMLElement2);var _super3=_createSuper(Ns);_createClass(Ns,[{key:"ownerElement",get:function get(){return this.j?this.j:document.body.firstElementChild;},set:function set(t){this.j=t;}}]);function Ns(){var _temp5,_this16;_classCallCheck(this,Ns);(_temp5=_this16=_super3.call(this),_defineProperty(_assertThisInitialized(_this16),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this16),"j",null),_temp5),_this16._shadowRoot=_this16.attachShadow({mode:"closed"}),_this16._shadowRoot.adoptedStyleSheets=[Ns._shadowStyleSheet],_this16.addEventListener("pointerdown",function(t){return t.preventDefault();});return _this16;}_createClass(Ns,[{key:"connectedCallback",value:function connectedCallback(){this.addEventListener("wheel",this.K=function(t){return t.preventDefault();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.removeEventListener("wheel",this.K);}},{key:"show",value:function show(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.title="",this.style.top="0px",this.style.left="0px",this.ownerElement.before(this),this.hidden=!1;var e=this.getBoundingClientRect(),i=0,s=0;0===e.top&&0===e.left||(i=-e.top,s=-e.left);{var _t98=parseFloat(getComputedStyle(this.ownerElement).zIndex);this.style.zIndex=_t98-1;}if(this.style.top=i+"px",this.style.left=s+"px",t)return this.animate({opacity:["0","1"]},{duration:100,easing:"ease-out"}).finished;}},{key:"hide",value:function hide(){var _this17=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(t){var _t99=this.animate({opacity:["1","0"]},{duration:100,easing:"ease-in"});return _t99.finished.then(function(){_this17.remove();}),_t99.finished;}this.remove();}}]);return Ns;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ns,"_shadowStyleSheet",Ts(_templateObject115()));customElements.define("x-backdrop",Ns);var Vs=/*#__PURE__*/function(_HTMLElement3){_inherits(Vs,_HTMLElement3);var _super4=_createSuper(Vs);_createClass(Vs,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Vs(){var _temp6,_this18;_classCallCheck(this,Vs);(_temp6=_this18=_super4.call(this),_defineProperty(_assertThisInitialized(_this18),"X",0),_defineProperty(_assertThisInitialized(_this18),"V",0),_defineProperty(_assertThisInitialized(_this18),"Z",80),_defineProperty(_assertThisInitialized(_this18),"G",1),_defineProperty(_assertThisInitialized(_this18),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this18),"I",{}),_defineProperty(_assertThisInitialized(_this18),"B",null),_defineProperty(_assertThisInitialized(_this18),"Y",!1),_defineProperty(_assertThisInitialized(_this18),"W",!1),_defineProperty(_assertThisInitialized(_this18),"J",!1),_defineProperty(_assertThisInitialized(_this18),"tt",!1),_temp6),_this18._shadowRoot=_this18.attachShadow({mode:"closed"}),_this18._shadowRoot.adoptedStyleSheets=[Vs._shadowStyleSheet],_this18._shadowRoot.append(document.importNode(Vs._shadowTemplate.content,!0));var _iterator70=_createForOfIteratorHelper(_this18._shadowRoot.querySelectorAll("[id]")),_step70;try{for(_iterator70.s();!(_step70=_iterator70.n()).done;){var _t100=_step70.value;_this18.I[_t100.id]=_t100;}}catch(err){_iterator70.e(err);}finally{_iterator70.f();}_this18.I["hue-slider"].addEventListener("pointerdown",function(t){_this18.et(t);}),_this18.I["saturation-slider"].addEventListener("pointerdown",function(t){_this18.it(t);}),_this18.I["lightness-slider"].addEventListener("pointerdown",function(t){_this18.st(t);}),_this18.I["alpha-slider"].addEventListener("pointerdown",function(t){_this18.ht(t);});return _this18;}_createClass(Vs,[{key:"connectedCallback",value:function connectedCallback(){var _this19=this;this.nt(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this19.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.rt(),this.dt(),this.ut(),this.ct(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=rs(this.X,0,360,0)/360*100+"%";}},{key:"rt",value:function rt(){this.I["saturation-slider-marker"].style.left=rs(this.V,0,100,2)+"%";}},{key:"ut",value:function ut(){this.I["lightness-slider-marker"].style.left=rs(this.Z,0,100,2)+"%";}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=rs(100*(1-this.G),0,100,2)+"%";}},{key:"dt",value:function dt(){var t=this.X;this.I["saturation-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", 0%, 50%), hsl(").concat(t,", 100%, 50%)\n    )");}},{key:"ct",value:function ct(){var t=this.X,e=this.V;this.I["lightness-slider"].style.background="linear-gradient(\n      to right, hsl(".concat(t,", ").concat(e,"%, 0%), hsl(").concat(t,", ").concat(e,"%, 50%), hsl(").concat(t,", ").concat(e,"%, 100%)\n    )");}},{key:"gt",value:function gt(){var t=this.X,e=this.V,i=this.Z;this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, 1), hsla(").concat(t,", ").concat(e,"%, ").concat(i,"%, 0))\n    ");}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.W&&!1===this.J&&!1===this.tt){var _zs$parse3=new zs().parse(this.value,"hsla"),_zs$parse4=_slicedToArray(_zs$parse3,4),_t101=_zs$parse4[0],_e78=_zs$parse4[1],_i90=_zs$parse4[2],_s69=_zs$parse4[3];this.X=_t101,this.V=_e78,this.Z=_i90,this.G=_s69,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"et",value:function et(t){var _this20=this;if(1!==t.buttons)return;var e,_i91,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=rs(e,0,360,0),e!==_this20.X&&(_this20.X=e,_this20.value=Ss([_this20.X,_this20.V,_this20.Z,_this20.G],"hsla","hsla"),_this20.at(),_this20.dt(),_this20.ct(),_this20.gt(),_this20.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i91=function i(){_this20.I["hue-slider"].removeEventListener("pointermove",e),_this20.I["hue-slider"].removeEventListener("lostpointercapture",_i91),_this20.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this20.Y=!1;});}},{key:"it",value:function it(t){var _this21=this;if(1!==t.buttons)return;var e,_i92,s=this.I["saturation-slider-track"].getBoundingClientRect();this.W=!0,this.I["saturation-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=rs(e,0,100,0),e!==_this21.V&&(_this21.V=e,_this21.value=Ss([_this21.X,_this21.V,_this21.Z,_this21.G],"hsla","hsla"),_this21.rt(),_this21.dt(),_this21.ct(),_this21.gt(),_this21.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["saturation-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["saturation-slider"].addEventListener("lostpointercapture",_i92=function i(){_this21.I["saturation-slider"].removeEventListener("pointermove",e),_this21.I["saturation-slider"].removeEventListener("lostpointercapture",_i92),_this21.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this21.W=!1;});}},{key:"st",value:function st(t){var _this22=this;if(1!==t.buttons)return;var e,_i93,s=this.I["lightness-slider-track"].getBoundingClientRect();this.J=!0,this.I["lightness-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*100;e=rs(e,0,100,0),e!==_this22.Z&&(_this22.Z=e,_this22.value=Ss([_this22.X,_this22.V,_this22.Z,_this22.G],"hsla","hsla"),_this22.ut(),_this22.dt(),_this22.ct(),_this22.gt(),_this22.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["lightness-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["lightness-slider"].addEventListener("lostpointercapture",_i93=function i(){_this22.I["lightness-slider"].removeEventListener("pointermove",e),_this22.I["lightness-slider"].removeEventListener("lostpointercapture",_i93),_this22.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this22.J=!1;});}},{key:"ht",value:function ht(t){var _this23=this;if(1!==t.buttons)return;var e,_i94,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=rs(e,0,1,2),e!==_this23.G&&(_this23.G=e,_this23.value=Ss([_this23.X,_this23.V,_this23.Z,_this23.G],"hsla","hsla"),_this23.bt(),_this23.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i94=function i(){_this23.I["alpha-slider"].removeEventListener("pointermove",e),_this23.I["alpha-slider"].removeEventListener("lostpointercapture",_i94),_this23.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this23.tt=!1;});}}]);return Vs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vs,"observedAttributes",["value","size"]);_defineProperty(Vs,"_shadowTemplate",Es(_templateObject116()));_defineProperty(Vs,"_shadowStyleSheet",Ts(_templateObject117()));customElements.define("x-barscolorpicker",Vs);var js=/*#__PURE__*/function(_HTMLElement4){_inherits(js,_HTMLElement4);var _super5=_createSuper(js);_createClass(js,[{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}}]);function js(){var _temp7,_this24;_classCallCheck(this,js);(_temp7=_this24=_super5.call(this),_defineProperty(_assertThisInitialized(_this24),"_shadowRoot",null),_temp7),_this24._shadowRoot=_this24.attachShadow({mode:"closed"}),_this24._shadowRoot.adoptedStyleSheets=[js._shadowStyleSheet],_this24._shadowRoot.append(document.importNode(js._shadowTemplate.content,!0));return _this24;}return js;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(js,"_shadowTemplate",Es(_templateObject118()));_defineProperty(js,"_shadowStyleSheet",Ts(_templateObject119()));customElements.define("x-box",js);var Hs=function Hs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=t.split(":"),s=null;if(1===i.length){var _i95=_slicedToArray(i,1),_t102=_i95[0];s=null===e?document.createElement(_t102):document.createElement(_t102,e);}else if(2===i.length){var _i96=_slicedToArray(i,2),_t103=_i96[0],_e79=_i96[1];"svg"===_t103&&(s=document.createElementNS("http://www.w3.org/2000/svg",_e79));}return s;},Ys=function Ys(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t.closest(e);return i&&!s&&t.getRootNode().host?Ys(t.getRootNode().host,e):s;},Ws=function Ws(t){return new Promise(function(e,i){setTimeout(function(){return e();},t);});},qs=function qs(){return Date.now();},Xs=function Xs(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var i=arguments.length>2?arguments[2]:undefined;var s=null,n=null,o=null,l=0,a=function a(){l=new Date(),n=null,o=t.apply(i,s);};return function(){var r=new Date(),d=e-(r-l);for(var _len10=arguments.length,h=new Array(_len10),_key10=0;_key10<_len10;_key10++){h[_key10]=arguments[_key10];}return s=h,d<=0?(clearTimeout(n),n=null,l=r,o=t.apply(i,s)):n||(n=setTimeout(a,d)),o;};},Zs=function Zs(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!1;var n=null,o=null;return function(){for(var _len11=arguments.length,l=new Array(_len11),_key11=0;_key11<_len11;_key11++){l[_key11]=arguments[_key11];}var a=s&&!n;return clearTimeout(n),n=setTimeout(function(){n=null,s||(o=t.apply(i,l));},e),a&&(o=t.apply(i,l)),o;};},Ks=Math.max;var Qs=/*#__PURE__*/function(_HTMLElement5){_inherits(Qs,_HTMLElement5);var _super6=_createSuper(Qs);_createClass(Qs,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"skin",get:function get(){return this.hasAttribute("skin")?this.getAttribute("skin"):null;},set:function set(t){null===t?this.removeAttribute("skin"):this.setAttribute("skin",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"expanded",get:function get(){return this.hasAttribute("expanded");}},{key:"expandable",get:function get(){return this.xt()||this.ft();}},{key:"ownerButtons",get:function get(){if(this.parentElement){if("x-buttons"===this.parentElement.localName)return this.parentElement;if("x-box"===this.parentElement.localName&&this.parentElement.parentElement&&"x-buttons"===this.parentElement.parentElement.localName)return this.parentElement.parentElement;}return null;}}]);function Qs(){var _temp8,_this25;_classCallCheck(this,Qs);(_temp8=_this25=_super6.call(this),_defineProperty(_assertThisInitialized(_this25),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this25),"I",{}),_defineProperty(_assertThisInitialized(_this25),"wt",!1),_defineProperty(_assertThisInitialized(_this25),"vt",null),_defineProperty(_assertThisInitialized(_this25),"yt",0),_defineProperty(_assertThisInitialized(_this25),"B",null),_temp8),_this25._shadowRoot=_this25.attachShadow({mode:"closed"}),_this25._shadowRoot.adoptedStyleSheets=[Qs._shadowStyleSheet],_this25._shadowRoot.append(document.importNode(Qs._shadowTemplate.content,!0));var _iterator71=_createForOfIteratorHelper(_this25._shadowRoot.querySelectorAll("[id]")),_step71;try{for(_iterator71.s();!(_step71=_iterator71.n()).done;){var _t104=_step71.value;_this25.I[_t104.id]=_t104;}}catch(err){_iterator71.e(err);}finally{_iterator71.f();}_this25.addEventListener("pointerdown",function(t){return _this25.zt(t);}),_this25.addEventListener("click",function(t){return _this25.N(t);}),_this25.addEventListener("keydown",function(t){return _this25.kt(t);}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee11(){return regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return customElements.whenDefined("x-backdrop");case 2:_this25.I.backdrop=Hs("x-backdrop");_this25.I.backdrop.style.background="rgba(0, 0, 0, 0)";case 4:case"end":return _context11.stop();}}},_callee11);}))();return _this25;}_createClass(Qs,[{key:"connectedCallback",value:function connectedCallback(){var _this26=this;this.parentElement&&"a"===this.parentElement.localName&&-1!==this.parentElement.tabIndex&&(this.parentElement.tabIndex=-1),this.Vs(),this.Ct(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this26.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"expand",value:function expand(){var _this27=this;return new Promise(/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee12(t){return regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(!_this27.xt()){_context12.next=5;break;}_context12.next=3;return _this27.St();case 3:_context12.next=9;break;case 5:_context12.t0=_this27.ft();if(!_context12.t0){_context12.next=9;break;}_context12.next=9;return _this27.Et();case 9:t();case 10:case"end":return _context12.stop();}}},_callee12);}));return function(_x10){return _ref17.apply(this,arguments);};}());}},{key:"collapse",value:function collapse(){var _this28=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref18=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee13(e){return regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(!_this28.At()){_context13.next=5;break;}_context13.next=3;return _this28.Lt(t);case 3:_context13.next=9;break;case 5:_context13.t0=_this28.Tt();if(!_context13.t0){_context13.next=9;break;}_context13.next=9;return _this28.Mt(t);case 9:e();case 10:case"end":return _context13.stop();}}},_callee13);}));return function(_x11){return _ref18.apply(this,arguments);};}());}},{key:"St",value:function St(){var _this29=this;return new Promise(/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee14(t){var _t105;return regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(!_this29.xt()){_context14.next=9;break;}_t105=_this29.querySelector(":scope > x-menu");_this29.wt=_this29.matches(":focus");_this29.setAttribute("expanded","");_this29.I.backdrop.ownerElement=_t105;_this29.I.backdrop.show(!1);_context14.next=8;return _t105.openNextToElement(_this29,"vertical",3);case 8:_t105.focus();case 9:t();case 10:case"end":return _context14.stop();}}},_callee14);}));return function(_x12){return _ref19.apply(this,arguments);};}());}},{key:"Lt",value:function Lt(){var _this30=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref20=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee15(e){var _e80,_t106;return regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(!_this30.At()){_context15.next=17;break;}_e80=_this30.querySelector(":scope > x-menu");_e80.setAttribute("closing","");_context15.next=5;return t;case 5:_context15.next=7;return _e80.close();case 7:_this30.I.backdrop.hide(!1);_this30.removeAttribute("expanded");_this30.replaceWith(_this30);if(!_this30.wt){_context15.next=14;break;}_this30.focus();_context15.next=16;break;case 14:_t106=Ys(_this30.parentNode,"[tabindex]");_t106&&_t106.focus();case 16:_e80.removeAttribute("closing");case 17:e();case 18:case"end":return _context15.stop();}}},_callee15);}));return function(_x13){return _ref20.apply(this,arguments);};}());}},{key:"xt",value:function xt(){var t=!1;if(!1===this.disabled){var _e81=this.querySelector(":scope > x-menu");_e81&&!1===_e81.hasAttribute("opened")&&!1===_e81.hasAttribute("closing")&&null!==_e81.querySelector("x-menuitem")&&(t=!0);}return t;}},{key:"At",value:function At(){var t=!1;if(!1===this.disabled){var _e82=this.querySelector(":scope > x-menu");_e82&&_e82.opened&&(t=!0);}return t;}},{key:"Et",value:function Et(){var _this31=this;return new Promise(/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee16(t){var _t107;return regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(!_this31.ft()){_context16.next=6;break;}_t107=_this31.querySelector(":scope > x-popover");_this31.wt=_this31.matches(":focus");_this31.setAttribute("expanded","");_context16.next=6;return _t107.open(_this31);case 6:t();case 7:case"end":return _context16.stop();}}},_callee16);}));return function(_x14){return _ref21.apply(this,arguments);};}());}},{key:"Mt",value:function Mt(){var _this32=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(/*#__PURE__*/function(){var _ref22=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee17(e){var _e83,_t108;return regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(!_this32.Tt()){_context17.next=16;break;}_e83=_this32.querySelector(":scope > x-popover");_e83.setAttribute("closing","");_context17.next=5;return t;case 5:_context17.next=7;return _e83.close();case 7:_this32.removeAttribute("expanded");_e83.modal&&_this32.replaceWith(_this32);if(!_this32.wt){_context17.next=13;break;}_this32.focus();_context17.next=15;break;case 13:_t108=Ys(_this32.parentNode,"[tabindex]");_t108&&_t108.focus();case 15:_e83.removeAttribute("closing");case 16:e();case 17:case"end":return _context17.stop();}}},_callee17);}));return function(_x15){return _ref22.apply(this,arguments);};}());}},{key:"ft",value:function ft(){var t=!1;if(!1===this.disabled){var _e84=this.querySelector(":scope > x-popover");_e84&&!1===_e84.hasAttribute("opened")&&(t=!0);}return t;}},{key:"Tt",value:function Tt(){var t=!1;if(!1===this.disabled){var _e85=this.querySelector(":scope > x-popover");_e85&&_e85.opened&&(t=!0);}return t;}},{key:"Dt",value:function Dt(){var _this33=this;return new Promise(function(t){_this33.$t()&&_this33.querySelector(":scope > dialog").showModal(),t();});}},{key:"$t",value:function $t(){var t=!1;if(!1===this.disabled){var _e86=this.querySelector(":scope > dialog");_e86&&!1===_e86.hasAttribute("open")&&!1===_e86.hasAttribute("closing")&&(t=!0);}return t;}},{key:"Pt",value:function Pt(){var _this34=this;return new Promise(function(t){_this34.Rt()&&(_this34.querySelector(":scope > x-notification").opened=!0),t();});}},{key:"Rt",value:function Rt(){var t=!1;if(!1===this.disabled){var _e87=this.querySelector(":scope > x-notification");!_e87||_e87.hasAttribute("opened")||_e87.hasAttribute("closing")||(t=!0);}return t;}},{key:"Vs",value:function Vs(){var t=this.querySelector(":scope > x-menu, :scope > x-popover");this.I.arrow.style.display=t?null:"none";}},{key:"Ct",value:function Ct(){this.setAttribute("role","button"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(this.vt=t,t.target===this.I.backdrop)this.It(t);else{if(e&&e.contains(t.target))return;if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ot(t);}}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-menu[opened]"),i=this.querySelector(":scope > x-popover[opened]"),s=this.querySelector(":scope > dialog[open]"),n=this.querySelector(":scope > x-notification[opened]");if(t.target!==this.I.backdrop)if(e&&e.contains(t.target))!1===e.hasAttribute("closing")&&t.target.closest("x-menuitem")&&this.Bt(t);else{if(i&&i.contains(t.target))return;if(s&&s.contains(t.target))return;if(n&&n.contains(t.target))return;this.Ht(t);}}},{key:"It",value:function It(t){this.collapse();}},{key:"Ot",value:function(){var _Ot=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee20(t){var _this35=this;var _t109,_t110,_e88,_i97,_e89,_e90,_i98,_s70,_n41,_o31,_l24,_t112,_a16,_h13,_t113,_t114,_e91,_i99,_s71,_n42,_o32,_l25,_a17;return regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:if(!(1===t.buttons)){_context20.next=49;break;}if(!this.querySelector(":scope > dialog[open]")){_context20.next=5;break;}t.preventDefault();_context20.next=47;break;case 5:if(!(!1!==this.contains(t.target))){_context20.next=47;break;}if(this.setPointerCapture(t.pointerId),t.preventDefault(),!1===this.matches(":focus")){_t109=Ys(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t109?_t109.focus():_this35.blur();},{once:!0});}if(!1===this.xt()&&!1===this.ft()&&!1===this.Tt()){_t110=Date.now(),_e88=!0,_i97=parseInt(getComputedStyle(this).getPropertyValue("--min-pressed-time")||"150ms");this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee18(){var s;return regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_e88=!1;s=Date.now()-_t110;_context18.t0=s<_i97;if(!_context18.t0){_context18.next=6;break;}_context18.next=6;return Ws(_i97-s);case 6:_this35.removeAttribute("pressed");case 7:case"end":return _context18.stop();}}},_callee18);})),{once:!0}),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee19(){var _t111;return regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(!_this35.ownerButtons){_context19.next=19;break;}if(!(0===_this35.ownerButtons.tracking||2===_this35.ownerButtons.tracking)){_context19.next=6;break;}_context19.next=4;return Ws(10);case 4:_context19.next=17;break;case 6:if(!(1!==_this35.ownerButtons.tracking||!1!==_this35.toggled&&!_this35.mixed)){_context19.next=15;break;}if(!(3===_this35.ownerButtons.tracking)){_context19.next=13;break;}_t111=_toConsumableArray(_this35.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});_context19.t0=!1===_this35.toggled||_t111.length>1;if(!_context19.t0){_context19.next=13;break;}_context19.next=13;return Ws(10);case 13:_context19.next=17;break;case 15:_context19.next=17;return Ws(10);case 17:_context19.next=23;break;case 19:_context19.t1=_this35.togglable;if(!_context19.t1){_context19.next=23;break;}_context19.next=23;return Ws(10);case 23:_e88&&_this35.setAttribute("pressed","");case 24:case"end":return _context19.stop();}}},_callee19);}))();}this.xt()?"touch"!==t.pointerType&&this.St():this.ft()?"touch"!==t.pointerType&&this.Et():this.Tt()&&this.Mt();_e89=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_e89)){_context20.next=27;break;}_e90=this.I.ripples.getBoundingClientRect(),_i98=1.5*Ks(_e90.width,_e90.height),_s70=t.clientY-_e90.y-_i98/2,_n41=t.clientX-_e90.x-_i98/2,_o31=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_l24=!0;if(!1===this.expandable)if(this.ownerButtons){if(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking)_l24=!1;else if(1===this.ownerButtons.tracking&&!1===this.toggled)_l24=!1;else if(3===this.ownerButtons.tracking){_t112=_toConsumableArray(this.ownerButtons.querySelectorAll(":scope > x-button, :scope > x-box > x-button")).filter(function(t){return t.toggled;});(!1===this.toggled||_t112.length>1)&&(_l24=!1);}}else this.togglable&&(_l24=!1);_a16=Hs("div");_a16.setAttribute("part","ripple"),_a16.setAttribute("class","ripple pointer-down-ripple"),_a16.setAttribute("style","width: ".concat(_i98,"px; height: ").concat(_i98,"px; top: ").concat(_s70,"px; left: ").concat(_n41,"px;")),this.I.ripples.append(_a16),this.I.ripples.style.contain="strict";_h13=_a16.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=18;return _o31;case 18:if(!_l24){_context20.next=24;break;}_context20.next=21;return _h13.finished;case 21:_t113=_a16.animate({opacity:[getComputedStyle(_a16).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=24;return _t113.finished;case 24:_a16.remove();_context20.next=47;break;case 27:if(!("unbounded-ripple"===_e89)){_context20.next=47;break;}_t114=this.I.ripples.getBoundingClientRect(),_e91=1.25*_t114.height,_i99=_t114.y+_t114.height/2-_t114.y-_e91/2,_s71=_t114.x+_t114.width/2-_t114.x-_e91/2,_n42=new Promise(function(t){return _this35.addEventListener("lostpointercapture",t,{once:!0});}),_o32=Hs("div");_o32.setAttribute("part","ripple");_o32.setAttribute("class","ripple pointer-down-ripple");_o32.setAttribute("style","width: ".concat(_e91,"px; height: ").concat(_e91,"px; top: ").concat(_i99,"px; left: ").concat(_s71,"px;"));this.I.ripples.append(_o32);this.I.ripples.style.contain="none";_o32.hidden=!0;_context20.next=37;return Ws(20);case 37:_o32.hidden=!1;_l25=_o32.animate({transform:["scale(0)","scale(1)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=41;return _n42;case 41:_context20.next=43;return _l25.finished;case 43:_a17=_o32.animate({opacity:[getComputedStyle(_o32).opacity||"0","0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context20.next=46;return _a17.finished;case 46:_o32.remove();case 47:_context20.next=50;break;case 49:t.preventDefault();case 50:case"end":return _context20.stop();}}},_callee20,this);}));function Ot(_x16){return _Ot.apply(this,arguments);}return Ot;}()},{key:"Ht",value:function(){var _Ht=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee21(t){var e,_t115,_t116,_e92,_i100,_s72,_n43,_o33,_l26,_t117,_t118,_e93,_i101,_s73,_n44;return regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:e=this.querySelector(":scope > x-menu, :scope > x-popover");if(!e){_context21.next=5;break;}if(!e.hasAttribute("closing")){_context21.next=4;break;}return _context21.abrupt("return");case 4:e.focus();case 5:if(!(!1===this.Tt()&&(this.$t()?this.Dt():this.Rt()&&this.Pt()),this.vt&&"touch"===this.vt.pointerType&&(this.xt()?this.St():this.ft()&&this.Et()),this.togglable&&!1===t.defaultPrevented&&(this.removeAttribute("pressed"),this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"))),null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context21.next=34;break;}_t115=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t115)){_context21.next=22;break;}_t116=this.I.ripples.getBoundingClientRect(),_e92=1.5*Ks(_t116.width,_t116.height),_i100=_t116.y+_t116.height/2-_t116.y-_e92/2,_s72=_t116.x+_t116.width/2-_t116.x-_e92/2,_n43=!0;this.ownerButtons?(0===this.ownerButtons.tracking||2===this.ownerButtons.tracking||3===this.ownerButtons.tracking||1===this.ownerButtons.tracking&&!0===this.toggled)&&(_n43=!1):this.togglable&&(_n43=!1);_o33=Hs("div");_o33.setAttribute("part","ripple"),_o33.setAttribute("class","ripple click-ripple"),_o33.setAttribute("style","width: ".concat(_e92,"px; height: ").concat(_e92,"px; top: ").concat(_i100,"px; left: ").concat(_s72,"px;")),this.I.ripples.append(_o33),this.I.ripples.style.contain="strict";_l26=_o33.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});if(!_n43){_context21.next=19;break;}_context21.next=16;return _l26.finished;case 16:_t117=_o33.animate({opacity:[getComputedStyle(_o33).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context21.next=19;return _t117.finished;case 19:_o33.remove();_context21.next=34;break;case 22:if(!("unbounded-ripple"===_t115)){_context21.next=34;break;}_t118=this.I.ripples.getBoundingClientRect(),_e93=1.35*_t118.height,_i101=_t118.y+_t118.height/2-_t118.y-_e93/2,_s73=_t118.x+_t118.width/2-_t118.x-_e93/2,_n44=Hs("div");_n44.setAttribute("part","ripple");_n44.setAttribute("class","ripple");_n44.setAttribute("style","width: ".concat(_e93,"px; height: ").concat(_e93,"px; top: ").concat(_i101,"px; left: ").concat(_s73,"px;"));this.I.ripples.append(_n44);this.I.ripples.style.contain="none";_context21.next=31;return _n44.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 31:_context21.next=33;return _n44.animate({opacity:[getComputedStyle(_n44).opacity||"0","0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 33:_n44.remove();case 34:case"end":return _context21.stop();}}},_callee21,this);}));function Ht(_x17){return _Ht.apply(this,arguments);}return Ht;}()},{key:"Bt",value:function Bt(t){var e=t.target.closest("x-menuitem");this.querySelector(":scope > x-menu").hasAttribute("closing")||this.collapse(e.whenTriggerEnd);}},{key:"kt",value:function kt(t){var _this36=this;!1===t.defaultPrevented&&("Enter"===t.code||"Space"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):this.$t()?(t.preventDefault(),this.Dt()):this.Rt()?(t.preventDefault(),this.Pt()):this.matches(":focus")&&(this.Tt()?this.Mt():this.At()?this.Lt():(t.preventDefault(),this.click())):"ArrowDown"===t.code?this.xt()?(this.querySelector(":scope > x-menu"),t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusFirstMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"ArrowUp"===t.code?this.xt()?(t.preventDefault(),this.St().then(function(){return _this36.querySelector(":scope > x-menu").focusLastMenuItem();})):this.ft()?(t.preventDefault(),this.Et()):(t.preventDefault(),this.click()):"Escape"===t.code&&(this.At()||this.Tt())&&(t.preventDefault(),this.collapse()));}}]);return Qs;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qs,"observedAttributes",["disabled","size"]);_defineProperty(Qs,"_shadowTemplate",Es(_templateObject120()));_defineProperty(Qs,"_shadowStyleSheet",Ts(_templateObject121()));customElements.define("x-button",Qs);var Js=Array.isArray;var tn=/*#__PURE__*/function(_HTMLElement6){_inherits(tn,_HTMLElement6);var _super7=_createSuper(tn);_createClass(tn,[{key:"tracking",get:function get(){return this.hasAttribute("tracking")?parseInt(this.getAttribute("tracking")):-1;},set:function set(t){this.setAttribute("tracking",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){!0===t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"value",get:function get(){if(2===this.tracking||3===this.tracking)return this.Ft().filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!=t;});if(1===this.tracking||0===this.tracking){var _t119=this.Ft().find(function(t){return t.toggled;});return _t119&&void 0!==_t119.value?_t119.value:null;}return-1===this.tracking?null:void 0;},set:function set(t){if(2===this.tracking||3===this.tracking){var _e94=this.Ft();if(Js(t)){var _iterator72=_createForOfIteratorHelper(_e94),_step72;try{for(_iterator72.s();!(_step72=_iterator72.n()).done;){var _i102=_step72.value;_i102.toggled=t.includes(_i102.value);}}catch(err){_iterator72.e(err);}finally{_iterator72.f();}}else{var _iterator73=_createForOfIteratorHelper(_e94),_step73;try{for(_iterator73.s();!(_step73=_iterator73.n()).done;){var _i103=_step73.value;_i103.toggled=_i103.value===t;}}catch(err){_iterator73.e(err);}finally{_iterator73.f();}}}else if(1===this.tracking||0===this.tracking){var _e95=this.Ft(),_i104=_e95.find(function(e){return e.value===t;});var _iterator74=_createForOfIteratorHelper(_e95),_step74;try{for(_iterator74.s();!(_step74=_iterator74.n()).done;){var _t120=_step74.value;_t120.toggled=_t120===_i104;}}catch(err){_iterator74.e(err);}finally{_iterator74.f();}}}}]);function tn(){var _temp9,_this37;_classCallCheck(this,tn);(_temp9=_this37=_super7.call(this),_defineProperty(_assertThisInitialized(_this37),"_shadowRoot",null),_temp9),_this37._shadowRoot=_this37.attachShadow({mode:"closed"}),_this37._shadowRoot.adoptedStyleSheets=[tn._shadowStyleSheet],_this37._shadowRoot.append(document.importNode(tn._shadowTemplate.content,!0)),_this37.addEventListener("click",function(t){return _this37.N(t);},!0),_this37.addEventListener("keydown",function(t){return _this37.kt(t);});return _this37;}_createClass(tn,[{key:"connectedCallback",value:function connectedCallback(){var _iterator75=_createForOfIteratorHelper(this.children),_step75;try{for(_iterator75.s();!(_step75=_iterator75.n()).done;){var _t121=_step75.value;if("x-button"===_t121.localName){"none"!==getComputedStyle(_t121).boxShadow?this.setAttribute("hasboxshadow",""):this.removeAttribute("hasboxshadow");break;}}}catch(err){_iterator75.e(err);}finally{_iterator75.f();}}},{key:"Ft",value:function Ft(){return _toConsumableArray(this.querySelectorAll(":scope > x-button, :scope > x-box > x-button"));}},{key:"N",value:function N(t){if(0!==t.button)return;var e=t.target.closest("x-button");if(e&&!1===e.disabled&&!1===e.expandable){var _t122=this.Ft().filter(function(t){return t!==e;});if(0===this.tracking){e.mixed||(e.toggled=!e.toggled),e.mixed=!1;var _iterator76=_createForOfIteratorHelper(_t122),_step76;try{for(_iterator76.s();!(_step76=_iterator76.n()).done;){var _e96=_step76.value;_e96.toggled=!1,_e96.mixed=!1;}}catch(err){_iterator76.e(err);}finally{_iterator76.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}else if(1===this.tracking){if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1;var _iterator77=_createForOfIteratorHelper(_t122),_step77;try{for(_iterator77.s();!(_step77=_iterator77.n()).done;){var _e97=_step77.value;_e97.toggled=!1,_e97.mixed=!1;}}catch(err){_iterator77.e(err);}finally{_iterator77.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}else if(2===this.tracking)e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));else if(3===this.tracking){var _i105=_t122.filter(function(t){return!0===t.toggled;});(!1===e.toggled||_i105.length>0)&&(e.mixed?e.mixed=!1:e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e})));}}}},{key:"kt",value:function kt(t){var e=t.key;if("ArrowRight"===e){var _t123=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t123&&(_t123.nextElementSibling?_t123.nextElementSibling.focus():_t123!==_t123.parentElement.firstElementChild&&_t123.parentElement.firstElementChild.focus());}else if("ArrowLeft"===e){var _t124=_toConsumableArray(this.children).find(function(t){return t.matches(":focus");});_t124&&(_t124.previousElementSibling?_t124.previousElementSibling.focus():_t124!==_t124.parentElement.lastElementChild&&_t124.parentElement.lastElementChild.focus());}}}]);return tn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tn,"_shadowTemplate",Es(_templateObject122()));_defineProperty(tn,"_shadowStyleSheet",Ts(_templateObject123()));customElements.define("x-buttons",tn);var en=/*#__PURE__*/function(_HTMLElement7){_inherits(en,_HTMLElement7);var _super8=_createSuper(en);function en(){var _temp10,_this38;_classCallCheck(this,en);(_temp10=_this38=_super8.call(this),_defineProperty(_assertThisInitialized(_this38),"_shadowRoot",null),_temp10),_this38._shadowRoot=_this38.attachShadow({mode:"closed"}),_this38._shadowRoot.adoptedStyleSheets=[en._shadowStyleSheet],_this38._shadowRoot.append(document.importNode(en._shadowTemplate.content,!0));return _this38;}return en;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(en,"_shadowTemplate",Es(_templateObject124()));_defineProperty(en,"_shadowStyleSheet",Ts(_templateObject125()));customElements.define("x-card",en);var sn=/*#__PURE__*/function(_HTMLElement8){_inherits(sn,_HTMLElement8);var _super9=_createSuper(sn);_createClass(sn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function sn(){var _temp11,_this39;_classCallCheck(this,sn);(_temp11=_this39=_super9.call(this),_defineProperty(_assertThisInitialized(_this39),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this39),"I",{}),_defineProperty(_assertThisInitialized(_this39),"yt",0),_defineProperty(_assertThisInitialized(_this39),"B",null),_temp11),_this39._shadowRoot=_this39.attachShadow({mode:"closed"}),_this39._shadowRoot.adoptedStyleSheets=[sn._shadowStyleSheet],_this39._shadowRoot.append(document.importNode(sn._shadowTemplate.content,!0));var _iterator78=_createForOfIteratorHelper(_this39._shadowRoot.querySelectorAll("[id]")),_step78;try{for(_iterator78.s();!(_step78=_iterator78.n()).done;){var _t125=_step78.value;_this39.I[_t125.id]=_t125;}}catch(err){_iterator78.e(err);}finally{_iterator78.f();}_this39.addEventListener("pointerdown",function(t){return _this39.zt(t);}),_this39.addEventListener("click",function(t){return _this39.N(t);}),_this39.addEventListener("keydown",function(t){return _this39.kt(t);});return _this39;}_createClass(sn,[{key:"connectedCallback",value:function connectedCallback(){var _this40=this;Ls.addEventListener("sizechange",this.B=function(){return _this40.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-toggled",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e98=Ys(this.parentNode,"[tabindex]");_e98&&_e98.focus();}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e99=Hs("div");_e99.setAttribute("class","ripple pointer-down-ripple"),this.I.ripples.append(_e99);var _i106=_e99.animate({transform:["scale(0)","scale(2.6)"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee22(){var t;return regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return _i106.finished;case 2:t=_e99.animate({opacity:[getComputedStyle(_e99).opacity,"0"]},{duration:200,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context22.next=5;return t.finished;case 5:_e99.remove();case 6:case"end":return _context22.stop();}}},_callee22);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee23(t){var _t126;return regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(!(this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})),null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context23.next=9;break;}_t126=Hs("div");_t126.setAttribute("class","ripple");this.I.ripples.append(_t126);_context23.next=6;return _t126.animate({transform:["scale(0)","scale(2.6)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 6:_context23.next=8;return _t126.animate({opacity:[getComputedStyle(_t126).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"}).finished;case 8:_t126.remove();case 9:case"end":return _context23.stop();}}},_callee23,this);}));function N(_x18){return _N.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return sn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(sn,"_shadowTemplate",Es(_templateObject126()));_defineProperty(sn,"_shadowStyleSheet",Ts(_templateObject127()));customElements.define("x-checkbox",sn);var nn=/*#__PURE__*/function(_HTMLElement9){_inherits(nn,_HTMLElement9);var _super10=_createSuper(nn);_createClass(nn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#ffffff";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function nn(){var _temp12,_this41;_classCallCheck(this,nn);(_temp12=_this41=_super10.call(this),_defineProperty(_assertThisInitialized(_this41),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this41),"I",{}),_defineProperty(_assertThisInitialized(_this41),"Ut",!1),_defineProperty(_assertThisInitialized(_this41),"wt",!1),_defineProperty(_assertThisInitialized(_this41),"B",null),_defineProperty(_assertThisInitialized(_this41),"yt",0),_defineProperty(_assertThisInitialized(_this41),"Gt",Zs(function(){_this41.Ut&&(_this41.Ut=!1,_this41.value=_this41.I.input.value,_this41.dispatchEvent(new CustomEvent("changeend")));},400)),_temp12),_this41._shadowRoot=_this41.attachShadow({mode:"closed"}),_this41._shadowRoot.adoptedStyleSheets=[nn._shadowStyleSheet],_this41._shadowRoot.append(document.importNode(nn._shadowTemplate.content,!0));var _iterator79=_createForOfIteratorHelper(_this41._shadowRoot.querySelectorAll("[id]")),_step79;try{for(_iterator79.s();!(_step79=_iterator79.n()).done;){var _t127=_step79.value;_this41.I[_t127.id]=_t127;}}catch(err){_iterator79.e(err);}finally{_iterator79.f();}_this41.addEventListener("click",function(t){return _this41.N(t);}),_this41.addEventListener("keydown",function(t){return _this41.kt(t);}),_this41.addEventListener("pointerdown",function(t){return _this41.zt(t);}),_this41.addEventListener("change",function(t){return _this41.jt(t);}),_this41.I.input.addEventListener("change",function(t){return _this41.Kt(t);});return _this41;}_createClass(nn,[{key:"connectedCallback",value:function connectedCallback(){var _this42=this;var t=this.querySelector("x-wheelcolorpicker, x-rectcolorpicker, x-barscolorpicker");t&&t.setAttribute("value",_s(this.value,"rgba")),this.Ct(),this.U(),this.Xt(),Ls.addEventListener("sizechange",this.B=function(){return _this42.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"Vt",value:function(){var _Vt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee24(){var _t128;return regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(!(!1===this.hasAttribute("expanded"))){_context24.next=9;break;}_t128=this.querySelector("x-popover");_context24.t0=_t128;if(!_context24.t0){_context24.next=9;break;}this.wt=this.matches(":focus");this.setAttribute("expanded","");_context24.next=8;return _t128.open(this);case 8:_t128.focus();case 9:case"end":return _context24.stop();}}},_callee24,this);}));function Vt(){return _Vt.apply(this,arguments);}return Vt;}()},{key:"Zt",value:function(){var _Zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee25(){var t,_t129,_t130,_args25=arguments;return regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:t=_args25.length>0&&_args25[0]!==undefined?_args25[0]:null;if(!this.hasAttribute("expanded")){_context25.next=15;break;}_t129=this.querySelector("x-popover");if(!_t129){_context25.next=15;break;}_t129.setAttribute("closing","");_context25.next=7;return _t129.close();case 7:this.removeAttribute("expanded");if(!this.wt){_context25.next=12;break;}this.focus();_context25.next=14;break;case 12:_t130=Ys(this.parentNode,"[tabindex]");_t130&&_t130.focus();case 14:_t129.removeAttribute("closing");case 15:case"end":return _context25.stop();}}},_callee25,this);}));function Zt(){return _Zt.apply(this,arguments);}return Zt;}()},{key:"Xt",value:function Xt(){var _zs$parse5=new zs().parse(this.value,"rgba"),_zs$parse6=_slicedToArray(_zs$parse5,4),t=_zs$parse6[0],e=_zs$parse6[1],i=_zs$parse6[2],s=_zs$parse6[3];this.I.input.value=Ss([t,e,i,s],"rgba","hex"),this.I.input.style.opacity=s;}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.Ut||this.Xt();var t=_toConsumableArray(this.querySelectorAll("*")).find(function(t){return t.localName.endsWith("colorpicker");});t&&t.getAttribute("value")!==this.getAttribute("value")&&t.setAttribute("value",this.getAttribute("value"));}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"jt",value:function jt(t){t.target!==this&&(this.value=_s(t.target.value,"rgba"),this.Xt());}},{key:"Kt",value:function Kt(){!1===this.Ut&&(this.Ut=!0,this.dispatchEvent(new CustomEvent("changestart"))),this.value=this.I.input.value,this.dispatchEvent(new CustomEvent("change")),this.Gt();}},{key:"zt",value:function zt(t){t.target===this&&t.preventDefault();}},{key:"N",value:function N(t){var e=this.querySelector(":scope > x-popover");e&&(e.opened?(!1===e.modal&&t.target===this||!0===e.modal&&"x-backdrop"===t.target.localName)&&(t.preventDefault(),this.Zt()):(t.preventDefault(),this.Vt()));}},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e100=this.querySelector("x-popover");t.preventDefault(),t.stopPropagation(),_e100?this.hasAttribute("expanded")?this.Zt():this.Vt():this.I.input.click();}else"Escape"===t.code?this.querySelector("x-popover")&&this.hasAttribute("expanded")&&(t.preventDefault(),this.Zt()):"Tab"===t.code&&this.hasAttribute("expanded")&&t.preventDefault();}}]);return nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nn,"observedAttributes",["value","disabled","size"]);_defineProperty(nn,"_shadowTemplate",Es(_templateObject128()));_defineProperty(nn,"_shadowStyleSheet",Ts(_templateObject129()));customElements.define("x-colorselect",nn);var on=/*#__PURE__*/function(_HTMLElement10){_inherits(on,_HTMLElement10);var _super11=_createSuper(on);_createClass(on,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function on(){var _temp13,_this43;_classCallCheck(this,on);(_temp13=_this43=_super11.call(this),_defineProperty(_assertThisInitialized(_this43),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this43),"I",{}),_defineProperty(_assertThisInitialized(_this43),"Yt",null),_defineProperty(_assertThisInitialized(_this43),"Wt",null),_defineProperty(_assertThisInitialized(_this43),"Jt",null),_temp13),_this43._shadowRoot=_this43.attachShadow({mode:"closed"}),_this43._shadowRoot.adoptedStyleSheets=[on._shadowStyleSheet],_this43._shadowRoot.append(document.importNode(on._shadowTemplate.content,!0)),_this43.I.backdrop=Hs("x-backdrop"),_this43.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this43.I.backdrop.addEventListener("contextmenu",function(t){return _this43.Qt(t);}),_this43.I.backdrop.addEventListener("pointerdown",function(t){return _this43.It(t);}),_this43.addEventListener("blur",function(t){return _this43.te();}),_this43.addEventListener("keydown",function(t){return _this43.kt(t);},!0),_this43.addEventListener("click",function(t){return _this43.N(t);});return _this43;}_createClass(on,[{key:"connectedCallback",value:function connectedCallback(){var _this44=this;this.Yt=this.parentElement||this.parentNode.host,window.addEventListener("blur",this.Wt=function(){_this44.te();}),this.Yt.addEventListener("contextmenu",this.Jt=function(t){_this44.ee(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("blur",this.Wt),this.Yt.removeEventListener("contextmenu",this.Jt),this.Yt=null;}},{key:"open",value:function open(t,e){var i=this.querySelector("x-menu");!1===i.opened&&(i.openAtPoint(t,e),this.I.backdrop.ownerElement=i,this.I.backdrop.show(!1),i.focus());}},{key:"close",value:function close(){var _this45=this;return new Promise(/*#__PURE__*/function(){var _ref26=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee26(t){var e,_t131;return regeneratorRuntime.wrap(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:e=_this45.querySelector("x-menu");if(!(e&&!0===e.opened)){_context26.next=7;break;}_context26.next=4;return e.close();case 4:_this45.I.backdrop.hide(!1);_t131=Ys(_this45.parentNode,"[tabindex]");_t131&&_t131.focus();case 7:t();case 8:case"end":return _context26.stop();}}},_callee26);}));return function(_x19){return _ref26.apply(this,arguments);};}());}},{key:"te",value:function te(){this.close();}},{key:"ee",value:function ee(t){!1===this.disabled&&(t.preventDefault(),this.open(t.clientX,t.clientY));}},{key:"Qt",value:function Qt(t){t.preventDefault(),t.stopImmediatePropagation(),this.close().then(function(){var e=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=document.elementFromPoint(t,e);if(i&&s)for(;;){var _i107=s.shadowRoot||s._shadowRoot;if(!_i107)break;{var _n45=_i107.elementFromPoint(t,e);if(_n45.getRootNode()!==_i107&&(_n45=null),!_n45||_n45===s)break;s=_n45;}}return s;}(t.clientX,t.clientY,!0),i=new MouseEvent(t.type,t);e.dispatchEvent(i);});}},{key:"It",value:function It(t){1===t.buttons&&(t.preventDefault(),t.stopImmediatePropagation(),this.close());}},{key:"N",value:function(){var _N2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee27(t){var e,_t132;return regeneratorRuntime.wrap(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:e=t.target.closest("x-menuitem");if(!(e&&!1===e.disabled)){_context27.next=13;break;}_t132=e.querySelector("x-menu");if(!_t132){_context27.next=7;break;}_t132.opened?_t132.close():_t132.openNextToElement(e,"horizontal");_context27.next=13;break;case 7:this.setAttribute("closing","");_context27.next=10;return e.whenTriggerEnd;case 10:_context27.next=12;return this.close();case 12:this.removeAttribute("closing");case 13:case"end":return _context27.stop();}}},_callee27,this);}));function N(_x20){return _N2.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Escape"===t.key?this.querySelector("x-menu").opened&&(t.preventDefault(),this.close()):"Tab"===t.key&&(t.preventDefault(),t.stopPropagation(),this.querySelector("x-menu").focusNextMenuItem());}}]);return on;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(on,"_shadowTemplate",Es(_templateObject130()));_defineProperty(on,"_shadowStyleSheet",Ts(_templateObject131()));customElements.define("x-contextmenu",on);var ln=Math.max;var an=/*#__PURE__*/function(_HTMLElement11){_inherits(an,_HTMLElement11);var _super12=_createSuper(an);_createClass(an,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"edited",get:function get(){return this.hasAttribute("edited");},set:function set(t){t?this.setAttribute("edited",""):this.removeAttribute("edited");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"ownerTabs",get:function get(){return this.closest("x-doctabs");}}]);function an(){var _temp14,_this46;_classCallCheck(this,an);(_temp14=_this46=_super12.call(this),_defineProperty(_assertThisInitialized(_this46),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this46),"I",{}),_defineProperty(_assertThisInitialized(_this46),"B",null),_temp14),_this46._shadowRoot=_this46.attachShadow({mode:"closed"}),_this46._shadowRoot.adoptedStyleSheets=[an._shadowStyleSheet],_this46._shadowRoot.append(document.importNode(an._shadowTemplate.content,!0));var _iterator80=_createForOfIteratorHelper(_this46._shadowRoot.querySelectorAll("[id]")),_step80;try{for(_iterator80.s();!(_step80=_iterator80.n()).done;){var _t133=_step80.value;_this46.I[_t133.id]=_t133;}}catch(err){_iterator80.e(err);}finally{_iterator80.f();}_this46.addEventListener("pointerdown",function(t){return _this46.zt(t);}),_this46.addEventListener("click",function(t){return _this46.N(t);}),_this46.I["close-button"].addEventListener("pointerdown",function(t){return _this46.ie(t);}),_this46.I["close-button"].addEventListener("click",function(t){return _this46.se(t);});return _this46;}_createClass(an,[{key:"connectedCallback",value:function connectedCallback(){var _this47=this;this.Ct(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this47.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U());}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this48=this;return new Promise(/*#__PURE__*/function(){var _ref27=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee28(e){var _e101,_i108,_s74;return regeneratorRuntime.wrap(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:if(!("0px"!==_this48.I["selection-indicator"].style.height)){_context28.next=7;break;}_e101=_this48.getBoundingClientRect(),_i108=t.getBoundingClientRect();_this48.setAttribute("animatingindicator","");_s74=_this48.I["selection-indicator"].animate([{left:"0px",width:_e101.width+"px"},{left:_i108.left-_e101.left+"px",width:_i108.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context28.next=6;return _s74.finished;case 6:_this48.removeAttribute("animatingindicator");case 7:e();case 8:case"end":return _context28.stop();}}},_callee28);}));return function(_x21){return _ref27.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("tabindex",this.selected?"0":"-1"),this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function zt(t){var _this49=this;if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e102=Ys(this.parentNode,"[tabindex]");_e102&&_e102.focus();}{var _e103=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref28=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee29(t){var _t134,_i109;return regeneratorRuntime.wrap(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:if(!(!0===_this49.selected)){_context29.next=6;break;}_t134=Date.now()-_e103,_i109=100;_context29.t0=_t134<_i109;if(!_context29.t0){_context29.next=6;break;}_context29.next=6;return Ws(_i109-_t134);case 6:_this49.removeAttribute("pressed");case 7:case"end":return _context29.stop();}}},_callee29);}));return function(_x22){return _ref28.apply(this,arguments);};}(),{once:!0});}if("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim()){var _e104=this.I.ripples.getBoundingClientRect(),_i110=1.5*ln(_e104.width,_e104.height),_s75=t.clientY-_e104.y-_i110/2,_n46=t.clientX-_e104.x-_i110/2,_o34=Hs("div");_o34.setAttribute("class","ripple pointer-down-ripple"),_o34.setAttribute("style","width: ".concat(_i110,"px; height: ").concat(_i110,"px; top: ").concat(_s75,"px; left: ").concat(_n46,"px;")),this.I.ripples.append(_o34);var _l27=_o34.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.ownerTabs.setPointerCapture(t.pointerId),this.ownerTabs.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee30(){var t,e;return regeneratorRuntime.wrap(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:_context30.next=2;return _l27.finished;case 2:t=getComputedStyle(_o34).opacity,e=_o34.animate({opacity:[t,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context30.next=5;return e.finished;case 5:_o34.remove();case 6:case"end":return _context30.stop();}}},_callee30);})),{once:!0});}}else t.preventDefault();}},{key:"N",value:function(){var _N3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee31(t){var _t135,_e105,_i111,_s76,_n47,_o35,_l28,_a18;return regeneratorRuntime.wrap(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:if(!(0===t.button&&null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context31.next=10;break;}_t135=this.I.ripples.getBoundingClientRect(),_e105=1.5*ln(_t135.width,_t135.height),_i111=_t135.y+_t135.height/2-_t135.y-_e105/2,_s76=_t135.x+_t135.width/2-_t135.x-_e105/2,_n47=Hs("div");_n47.setAttribute("class","ripple click-ripple"),_n47.setAttribute("style","width: ".concat(_e105,"px; height: ").concat(_e105,"px; top: ").concat(_i111,"px; left: ").concat(_s76,"px;")),this.I.ripples.append(_n47);_o35=_n47.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=6;return _o35.finished;case 6:_l28=getComputedStyle(_n47).opacity,_a18=_n47.animate({opacity:[_l28,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context31.next=9;return _a18.finished;case 9:_n47.remove();case 10:case"end":return _context31.stop();}}},_callee31,this);}));function N(_x23){return _N3.apply(this,arguments);}return N;}()},{key:"ie",value:function ie(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e106=Ys(this.parentNode,"[tabindex]");_e106&&_e106.focus();}t.stopPropagation();}}},{key:"se",value:function se(t){if(0!==t.button)return;t.stopPropagation();var e=new CustomEvent("close",{bubbles:!0,cancelable:!0,detail:this});this.dispatchEvent(e),!1===e.defaultPrevented&&this.ownerTabs.closeTab(this);}}]);return an;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(an,"observedAttributes",["selected","disabled","size"]);_defineProperty(an,"_shadowTemplate",Es(_templateObject132()));_defineProperty(an,"_shadowStyleSheet",Ts(_templateObject133()));customElements.define("x-doctab",an);var hn=Number.parseInt;var rn=/*#__PURE__*/function(_HTMLElement12){_inherits(rn,_HTMLElement12);var _super13=_createSuper(rn);_createClass(rn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"maxTabs",get:function get(){return this.hasAttribute("maxtabs")?hn(this.getAttribute("maxtabs")):20;},set:function set(t){this.setAttribute("maxtabs",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function rn(){var _temp15,_this50;_classCallCheck(this,rn);(_temp15=_this50=_super13.call(this),_defineProperty(_assertThisInitialized(_this50),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this50),"I",{}),_defineProperty(_assertThisInitialized(_this50),"B",null),_defineProperty(_assertThisInitialized(_this50),"he",!1),_defineProperty(_assertThisInitialized(_this50),"ne",!1),_temp15),_this50._shadowRoot=_this50.attachShadow({mode:"closed",delegatesFocus:!1}),_this50._shadowRoot.adoptedStyleSheets=[rn._shadowStyleSheet],_this50._shadowRoot.append(document.importNode(rn._shadowTemplate.content,!0));var _iterator81=_createForOfIteratorHelper(_this50._shadowRoot.querySelectorAll("[id]")),_step81;try{for(_iterator81.s();!(_step81=_iterator81.n()).done;){var _t136=_step81.value;_this50.I[_t136.id]=_t136;}}catch(err){_iterator81.e(err);}finally{_iterator81.f();}_this50.addEventListener("pointerdown",function(t){return _this50.zt(t);}),_this50.addEventListener("keydown",function(t){return _this50.kt(t);}),_this50.I["open-button"].addEventListener("click",function(t){return _this50.oe(t);});return _this50;}_createClass(rn,[{key:"connectedCallback",value:function connectedCallback(){var _this51=this;this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this51.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"size"===t&&this.U();}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"openTab",value:function openTab(t){var _this52=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref30=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee32(i,s){var _s77,_iterator82,_step82,_t137,_e107;return regeneratorRuntime.wrap(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(!(_this52.querySelectorAll("x-doctab").length>=_this52.maxTabs)){_context32.next=4;break;}s("Can't open more than ".concat(_this52.maxTabs," tabs."));_context32.next=24;break;case 4:_s77=0;_iterator82=_createForOfIteratorHelper(_this52.children);try{for(_iterator82.s();!(_step82=_iterator82.n()).done;){_t137=_step82.value;_e107=hn(_t137.style.order);!Number.isNaN(_e107)&&_e107>_s77&&(_s77=_e107);}}catch(err){_iterator82.e(err);}finally{_iterator82.f();}t.style.order=_s77;if(!(!1===e)){_context32.next=12;break;}t.style.transition="none",t.style.maxWidth=null,t.style.padding=null,_this52.append(t),i(t);_context32.next=24;break;case 12:_context32.t0=!0===e;if(!_context32.t0){_context32.next=24;break;}t.style.transition=null;t.style.maxWidth="0px";t.style.padding="0px";t.setAttribute("opening","");_this52.append(t);_context32.next=21;return Ws(30);case 21:t.addEventListener("transitionend",function(){t.removeAttribute("opening"),i(t);},{once:!0});t.style.maxWidth=null;t.style.padding=null;case 24:case"end":return _context32.stop();}}},_callee32);}));return function(_x24,_x25){return _ref30.apply(this,arguments);};}());}},{key:"closeTab",value:function closeTab(t){var _this53=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref31=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee33(i){var s,n,o,_iterator83,_step83,_t138,_e108,_i112,_t139,_iterator84,_step84,_t140;return regeneratorRuntime.wrap(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:s=_this53.getTabsByScreenIndex().filter(function(t){return!1===t.hasAttribute("closing");}),n=t.getBoundingClientRect().width,o=_this53.le(t);if(t.setAttribute("closing",""),o<s.length-1){_iterator83=_createForOfIteratorHelper(_this53.children);try{for(_iterator83.s();!(_step83=_iterator83.n()).done;){_t138=_step83.value;!1===_t138.hasAttribute("closing")&&(_t138.style.transition="none",_t138.style.maxWidth=n+"px");}}catch(err){_iterator83.e(err);}finally{_iterator83.f();}}if(t.style.transition=e?null:"none",t.style.maxWidth="0px",t.style.pointerEvents="none",_this53.he=!0,t.selected){_e108=s[s.indexOf(t)-1],_i112=s[s.indexOf(t)+1];t.selected=!1,_i112?_i112.selected=!0:_e108&&(_e108.selected=!0);}if(t.matches(":focus")){_t139=_this53.querySelector("x-doctab[selected]");_t139?_t139.focus():_this53.focus();}t.style.maxWidth="0px";t.style.padding="0px";_context33.t0=e;if(!_context33.t0){_context33.next=10;break;}_context33.next=10;return Ws(150);case 10:t.remove();_this53.he=!1;t.removeAttribute("closing");i();if(_this53.ne){_context33.next=21;break;}_this53.ne=!0;_context33.next=18;return _this53.ae(3);case 18:_this53.ne=!1;_iterator84=_createForOfIteratorHelper(_this53.children);try{for(_iterator84.s();!(_step84=_iterator84.n()).done;){_t140=_step84.value;_t140.style.transition=null,_t140.style.maxWidth=null,_t140.style.order=_this53.le(_t140);}}catch(err){_iterator84.e(err);}finally{_iterator84.f();}case 21:case"end":return _context33.stop();}}},_callee33);}));return function(_x26){return _ref31.apply(this,arguments);};}());}},{key:"selectPreviousTab",value:function selectPreviousTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab"),e=this.re(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectNextTab",value:function selectNextTab(){this.getTabsByScreenIndex();var t=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type"),e=this.de(t);return t&&e?(this.selectTab(e),e):null;}},{key:"selectTab",value:function selectTab(t){var e=this.querySelector("x-doctab[selected]")||this.querySelector("x-doctab:last-of-type");e&&(e.tabIndex=-1,e.selected=!1),t.tabIndex=0,t.selected=!0;}},{key:"moveSelectedTabLeft",value:function moveSelectedTabLeft(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator85=_createForOfIteratorHelper(this.children),_step85;try{for(_iterator85.s();!(_step85=_iterator85.n()).done;){var _t141=_step85.value;_t141.style.order=this.le(_t141);}}catch(err){_iterator85.e(err);}finally{_iterator85.f();}if(0===hn(t.style.order)){var _iterator86=_createForOfIteratorHelper(this.children),_step86;try{for(_iterator86.s();!(_step86=_iterator86.n()).done;){var _e109=_step86.value;_e109.style.order=_e109===t?this.childElementCount-1:hn(_e109.style.order)-1;}}catch(err){_iterator86.e(err);}finally{_iterator86.f();}}else{var _i113=this.ue(e-1);_i113.style.order=hn(_i113.style.order)+1,t.style.order=hn(t.style.order)-1;}}},{key:"moveSelectedTabRight",value:function moveSelectedTabRight(){var t=this.querySelector("x-doctab[selected]"),e=this.le(t);var _iterator87=_createForOfIteratorHelper(this.children),_step87;try{for(_iterator87.s();!(_step87=_iterator87.n()).done;){var _t142=_step87.value;_t142.style.order=this.le(_t142);}}catch(err){_iterator87.e(err);}finally{_iterator87.f();}if(hn(t.style.order)===this.childElementCount-1){var _iterator88=_createForOfIteratorHelper(this.children),_step88;try{for(_iterator88.s();!(_step88=_iterator88.n()).done;){var _e110=_step88.value;_e110.style.order=_e110===t?0:hn(_e110.style.order)+1;}}catch(err){_iterator88.e(err);}finally{_iterator88.f();}}else{var _i114=this.ue(e+1);_i114.style.order=hn(_i114.style.order)-1,t.style.order=hn(t.style.order)+1;}}},{key:"ae",value:function ae(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;return new Promise(function(e){var i,s,n,o=null,l=function l(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerout",s),window.removeEventListener("blur",n);};window.addEventListener("pointermove",i=function i(_i115){if(null===o)o={x:_i115.clientX,y:_i115.clientY};else{var _s78={x:_i115.clientX,y:_i115.clientY};cs(o,_s78)>=t&&(l(),e());}}),window.addEventListener("pointerout",s=function s(t){null===t.toElement&&(l(),e());}),window.addEventListener("blur",n=function n(){l(),e();});});}},{key:"getTabsByScreenIndex",value:function getTabsByScreenIndex(){var t=Symbol();var _iterator89=_createForOfIteratorHelper(this.children),_step89;try{for(_iterator89.s();!(_step89=_iterator89.n()).done;){var _e111=_step89.value;_e111[t]=this.le(_e111);}}catch(err){_iterator89.e(err);}finally{_iterator89.f();}return _toConsumableArray(this.children).sort(function(e,i){return e[t]>i[t];});}},{key:"le",value:function le(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 0;{var _t143=e.width/2;for(var _s79=1;_s79<this.maxTabs;_s79+=1){if(e.left-i.left>=_t143&&e.left-i.left<_t143+e.width)return _s79>this.childElementCount-1?this.childElementCount-1:_s79;_t143+=e.width;}}}},{key:"ue",value:function ue(t){var _iterator90=_createForOfIteratorHelper(this.children),_step90;try{for(_iterator90.s();!(_step90=_iterator90.n()).done;){var _e112=_step90.value;if(this.le(_e112)===t)return _e112;}}catch(err){_iterator90.e(err);}finally{_iterator90.f();}return null;}},{key:"re",value:function re(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t144=n-1;_t144>=0;_t144-=1){var _i116=s[_t144];if(!e||!_i116.disabled){o=_i116;break;}}if(i&&null===o)for(var _t145=s.length-1;_t145>n;_t145-=1){var _i117=s[_t145];if(!e||!_i117.disabled){o=_i117;break;}}return o;}},{key:"de",value:function de(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.getTabsByScreenIndex(),n=s.indexOf(t),o=null;for(var _t146=n+1;_t146<s.length;_t146+=1){var _i118=s[_t146];if(!e||!_i118.disabled){o=_i118;break;}}if(i&&null===o)for(var _t147=0;_t147<n;_t147+=1){var _i119=s[_t147];if(!e||!_i119.disabled){o=_i119;break;}}return o;}},{key:"zt",value:function zt(t){1===t.buttons&&!this.he&&t.target.closest("x-doctab")&&this.ce(t);}},{key:"ce",value:function(){var _ce=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee34(t){var _this54=this;var _e113,_i120,s,n,o;return regeneratorRuntime.wrap(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:if(!(!1===t.isPrimary)){_context34.next=2;break;}return _context34.abrupt("return");case 2:s=t.target.closest("x-doctab"),n=this.querySelector("x-doctab[selected]");n!==s&&(n?n.animateSelectionIndicator(s).then(function(){_this54.selectTab(s),_this54.dispatchEvent(new CustomEvent("select",{detail:s}));}):(this.selectTab(s),this.dispatchEvent(new CustomEvent("select",{detail:s})))),this.setPointerCapture(t.pointerId);o=new DOMPoint(t.clientX,t.clientY);this.addEventListener("pointermove",_e113=function e(n){var l=new DOMPoint(n.clientX,n.clientY),a=n.timeStamp-t.timeStamp,h=cs(o,l)>3||a>80;n.isPrimary&&h&&(_this54.removeEventListener("pointermove",_e113),_this54.removeEventListener("lostpointercapture",_i120),_this54.pe(t,s));}),this.addEventListener("lostpointercapture",_i120=function i(){_this54.removeEventListener("pointermove",_e113),_this54.removeEventListener("lostpointercapture",_i120);});case 6:case"end":return _context34.stop();}}},_callee34,this);}));function ce(_x27){return _ce.apply(this,arguments);}return ce;}()},{key:"pe",value:function pe(t,e){var _this55=this;var i=e.getBoundingClientRect(),s=this.getBoundingClientRect(),n=Symbol(),o=Symbol(),l=Symbol();e.style.zIndex=999,this.I["open-button"].style.setProperty("opacity","0","important");var _iterator91=_createForOfIteratorHelper(this.children),_step91;try{for(_iterator91.s();!(_step91=_iterator91.n()).done;){var _t152=_step91.value;var _i121=this.le(_t152);_t152[o]=_i121,_t152[n]=_i121,_t152[l]=_t152.getBoundingClientRect().left-s.left,_t152!==e&&(_t152.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)");}}catch(err){_iterator91.e(err);}finally{_iterator91.f();}var a=function a(t,s){if(s>t+1)for(var _e114=t;_e114<s;_e114+=1){a(_e114,_e114+1);}else if(s<t-1)for(var _e115=t;_e115>s;_e115-=1){a(_e115,_e115-1);}else{var _iterator92=_createForOfIteratorHelper(_this55.children),_step92;try{for(_iterator92.s();!(_step92=_iterator92.n()).done;){var _n48=_step92.value;if(_n48!==e){_n48[o]===s&&(_n48[o]=t);var _e116=-_n48[l];for(var _t148=0;_t148<_n48[o];_t148+=1){_e116+=i.width;}_n48.style.transform=0===_e116?null:"translate("+_e116+"px)";}}}catch(err){_iterator92.e(err);}finally{_iterator92.f();}}},h=function h(n){if(n.isPrimary){var _h14=n.clientX-t.clientX;_h14+e[l]<=0?_h14=-e[l]:_h14+e[l]+i.width>s.width&&(_h14=s.width-e[l]-i.width),e.style.transform="translate("+_h14+"px)";var _r10=_this55.le(e);if(_r10!==e[o]){var _t149=e[o];e[o]=_r10,a(_t149,e[o]);}}},r=/*#__PURE__*/function(){var _ref32=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee35(t){var s,_t150,_iterator93,_step93,_t151;return regeneratorRuntime.wrap(function _callee35$(_context35){while(1){switch(_context35.prev=_context35.next){case 0:_this55.removeEventListener("pointermove",h),_this55.removeEventListener("lostpointercapture",r);s=-e[l];for(_t150=0;_t150<e[o];_t150+=1){s+=i.width;}e.style.transition="transform 0.15s cubic-bezier(0.4, 0, 0.2, 1)";e.style.transform="translate("+s+"px)";e[n]!==e[o]&&_this55.dispatchEvent(new CustomEvent("rearrange"));_context35.next=8;return Ws(150);case 8:e.style.zIndex=null;_this55.I["open-button"].style.opacity=null;_iterator93=_createForOfIteratorHelper(_this55.children);try{for(_iterator93.s();!(_step93=_iterator93.n()).done;){_t151=_step93.value;_t151.style.transition="none",_t151.style.transform="translate(0px, 0px)",_t151.style.order=_t151[o];}}catch(err){_iterator93.e(err);}finally{_iterator93.f();}case 12:case"end":return _context35.stop();}}},_callee35);}));return function r(_x28){return _ref32.apply(this,arguments);};}();this.addEventListener("pointermove",h),this.addEventListener("lostpointercapture",r);}},{key:"oe",value:function oe(t){if(0===t.button){var _t153=new CustomEvent("open",{cancelable:!0});if(this.dispatchEvent(_t153),!1===_t153.defaultPrevented){var _t154=Es(_templateObject2());_t154.style.order=this.childElementCount,this.openTab(_t154),this.selectTab(_t154);}}}},{key:"kt",value:function kt(t){var _this56=this;if(!(t.ctrlKey||t.altKey||t.metaKey||t.shiftKey))if("Enter"===t.code||"Space"===t.code){var _e117=this.querySelector('x-doctab[tabindex="0"]'),_i122=this.querySelector("x-doctab[selected]");t.preventDefault(),_e117.click(),_e117!==_i122&&(_i122?_i122.animateSelectionIndicator(_e117).then(function(){_this56.selectTab(_e117),_this56.dispatchEvent(new CustomEvent("select",{detail:_e117}));}):(this.selectTab(_e117),this.dispatchEvent(new CustomEvent("select",{detail:_e117}))));}else if("ArrowLeft"===t.code){this.getTabsByScreenIndex();var _e118=this.querySelector('x-doctab[tabindex="0"]'),_i123=this.re(_e118);_i123&&(t.preventDefault(),_e118.tabIndex=-1,_i123.tabIndex=0,_i123.focus());}else if("ArrowRight"===t.code){this.getTabsByScreenIndex();var _e119=this.querySelector('x-doctab[tabindex="0"]'),_i124=this.de(_e119);_i124&&(t.preventDefault(),_e119.tabIndex=-1,_i124.tabIndex=0,_i124.focus());}}}]);return rn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rn,"observedAttributes",["size"]);_defineProperty(rn,"_shadowTemplate",Es(_templateObject134()));_defineProperty(rn,"_shadowStyleSheet",Ts(_templateObject135()));customElements.define("x-doctabs",rn);var dn=/*#__PURE__*/function(_HTMLElement13){_inherits(dn,_HTMLElement13);var _super14=_createSuper(dn);_createClass(dn,[{key:"name",get:function get(){return this.hasAttribute("name")?this.getAttribute("name"):"";},set:function set(t){this.setAttribute("name",t);}},{key:"iconset",get:function get(){return!1===this.hasAttribute("iconset")||""===this.getAttribute("iconset").trim()?null:this.getAttribute("iconset");},set:function set(t){null===t||""===t.trim()?this.removeAttribute("iconset"):this.setAttribute("iconset",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function dn(){var _temp16,_this57;_classCallCheck(this,dn);(_temp16=_this57=_super14.call(this),_defineProperty(_assertThisInitialized(_this57),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this57),"I",{}),_defineProperty(_assertThisInitialized(_this57),"me",null),_defineProperty(_assertThisInitialized(_this57),"B",null),_temp16),_this57._shadowRoot=_this57.attachShadow({mode:"closed"}),_this57._shadowRoot.adoptedStyleSheets=[dn._shadowStyleSheet],_this57._shadowRoot.append(document.importNode(dn._shadowTemplate.content,!0));var _iterator94=_createForOfIteratorHelper(_this57._shadowRoot.querySelectorAll("[id]")),_step94;try{for(_iterator94.s();!(_step94=_iterator94.n()).done;){var _t155=_step94.value;_this57.I[_t155.id]=_t155;}}catch(err){_iterator94.e(err);}finally{_iterator94.f();}return _this57;}_createClass(dn,[{key:"connectedCallback",value:function connectedCallback(){var _this58=this;Ls.addEventListener("iconsetchange",this.me=function(){_this58.nt();}),Ls.addEventListener("sizechange",this.B=function(){_this58.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("iconsetchange",this.me),Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("name"===t||"iconset"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function(){var _nt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee36(){var _t156,_e120;return regeneratorRuntime.wrap(function _callee36$(_context36){while(1){switch(_context36.prev=_context36.next){case 0:if(!(""===this.name)){_context36.next=4;break;}this.I.svg.innerHTML="";_context36.next=16;break;case 4:_t156=null;if(!this.iconset){_context36.next=12;break;}_context36.next=8;return Is(this.iconset);case 8:_e120=_context36.sent;_e120&&(_t156=_e120.querySelector("#"+CSS.escape(this.name)));_context36.next=15;break;case 12:_context36.next=14;return Ls.whenIconsetReady;case 14:_t156=Ls.iconsetElement.querySelector("#"+CSS.escape(this.name));case 15:_t156?(this.I.svg.setAttribute("viewBox",_t156.getAttribute("viewBox")),this.I.svg.innerHTML=_t156.innerHTML):this.I.svg.innerHTML="";case 16:case"end":return _context36.stop();}}},_callee36,this);}));function nt(){return _nt.apply(this,arguments);}return nt;}()},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dn,"observedAttributes",["name","iconset","size"]);_defineProperty(dn,"_shadowTemplate",Es(_templateObject136()));_defineProperty(dn,"_shadowStyleSheet",Ts(_templateObject137()));customElements.define("x-icon",dn);var cn=/*#__PURE__*/function(_HTMLElement14){_inherits(cn,_HTMLElement14);var _super15=_createSuper(cn);_createClass(cn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"text";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.I.input.value;},set:function set(t){this.I.input.value!==t&&(this.matches(":focus")?(this.I.input.selectionStart=0,this.I.input.selectionEnd=this.I.input.value.length,document.execCommand("insertText",!1,t)):this.I.input.value=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be());}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"readOnly",get:function get(){return this.hasAttribute("readonly");},set:function set(t){!0===t?this.setAttribute("readonly",t):this.removeAttribute("readonly");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function cn(){var _temp17,_this59;_classCallCheck(this,cn);(_temp17=_this59=_super15.call(this),_defineProperty(_assertThisInitialized(_this59),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this59),"I",{}),_defineProperty(_assertThisInitialized(_this59),"yt",0),_defineProperty(_assertThisInitialized(_this59),"B",null),_temp17),_this59._shadowRoot=_this59.attachShadow({mode:"closed",delegatesFocus:!0}),_this59._shadowRoot.adoptedStyleSheets=[cn._shadowStyleSheet],_this59._shadowRoot.append(document.importNode(cn._shadowTemplate.content,!0));var _iterator95=_createForOfIteratorHelper(_this59._shadowRoot.querySelectorAll("[id]")),_step95;try{for(_iterator95.s();!(_step95=_iterator95.n()).done;){var _t157=_step95.value;_this59.I[_t157.id]=_t157;}}catch(err){_iterator95.e(err);}finally{_iterator95.f();}_this59.addEventListener("focusin",function(t){return _this59.ge(t);}),_this59.addEventListener("focusout",function(t){return _this59.xe(t);}),_this59.addEventListener("keydown",function(t){return _this59.kt(t);}),_this59.I.input.addEventListener("change",function(t){return _this59.Kt(t);}),_this59.I.input.addEventListener("input",function(t){return _this59.fe(t);}),_this59.I.input.addEventListener("search",function(t){return _this59.we(t);});return _this59;}_createClass(cn,[{key:"connectedCallback",value:function connectedCallback(){var _this60=this;this.Ct(),this.U(),this.be(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),Ls.addEventListener("sizechange",this.B=function(){return _this60.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"type"===t?this.ve():"value"===t?this.ot():"spellcheck"===t?this.ye():"maxlength"===t?this.ze():"readonly"===t?this.ke():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.Ce();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":"email"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid e-mail address":"url"===this.type&&!1===this.I.input.validity.valid?this.error="Invalid URL":"color"===this.type&&!1===function(t){try{new zs().parse(t);}catch(t){return!1;}return!0;}(this.I.input.value)?this.error="Invalid color":this.error=null;}},{key:"selectAll",value:function selectAll(){this.I.input.select();}},{key:"clear",value:function clear(){this.value="",this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("aria-readonly",this.readOnly),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ve",value:function ve(){"color"===this.type?this.I.input.type="text":this.I.input.type=this.type;}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&this.selectAll();}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"ze",value:function ze(){this.I.input.maxLength=this.maxLength;}},{key:"ke",value:function ke(){this.I.input.readOnly=this.readOnly,this.Ct();}},{key:"qt",value:function qt(){this.I.input.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"Ce",value:function Ce(){this.U();}},{key:"ge",value:function ge(){this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),"auto"===this.validation&&this.validate();}},{key:"kt",value:function kt(t){"Enter"===t.key&&(document.execCommand("selectAll"),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate());}},{key:"fe",value:function fe(t){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),t.stopPropagation(),this.be(),this.dispatchEvent(new CustomEvent("input",{bubbles:!0}));}},{key:"Kt",value:function Kt(){"search"!==this.type&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"we",value:function we(){this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}]);return cn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cn,"observedAttributes",["type","value","spellcheck","maxlength","readonly","disabled","validation","size"]);_defineProperty(cn,"_shadowTemplate",Es(_templateObject138()));_defineProperty(cn,"_shadowStyleSheet",Ts(_templateObject139()));customElements.define("x-input",cn);var pn=/*#__PURE__*/function(_HTMLElement15){_inherits(pn,_HTMLElement15);var _super16=_createSuper(pn);_createClass(pn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function pn(){var _temp18,_this61;_classCallCheck(this,pn);(_temp18=_this61=_super16.call(this),_defineProperty(_assertThisInitialized(_this61),"_shadowRoot",null),_temp18),_this61._shadowRoot=_this61.attachShadow({mode:"closed"}),_this61._shadowRoot.adoptedStyleSheets=[pn._shadowStyleSheet],_this61._shadowRoot.append(document.importNode(pn._shadowTemplate.content,!0));return _this61;}return pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pn,"_shadowTemplate",Es(_templateObject140()));_defineProperty(pn,"_shadowStyleSheet",Ts(_templateObject141()));customElements.define("x-label",pn);var un=Math.abs;var xn=/*#__PURE__*/function(_HTMLElement16){_inherits(xn,_HTMLElement16);var _super17=_createSuper(xn);_createClass(xn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}}]);function xn(){var _temp19,_this62;_classCallCheck(this,xn);(_temp19=_this62=_super17.call(this),_defineProperty(_assertThisInitialized(_this62),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this62),"I",{}),_defineProperty(_assertThisInitialized(_this62),"Se",[]),_defineProperty(_assertThisInitialized(_this62),"Ee",null),_defineProperty(_assertThisInitialized(_this62),"Ae",null),_defineProperty(_assertThisInitialized(_this62),"Le",0),_defineProperty(_assertThisInitialized(_this62),"Te",0),_defineProperty(_assertThisInitialized(_this62),"Me",!1),_defineProperty(_assertThisInitialized(_this62),"De",!1),_defineProperty(_assertThisInitialized(_this62),"$e",null),_temp19),_this62._shadowRoot=_this62.attachShadow({mode:"closed"}),_this62._shadowRoot.adoptedStyleSheets=[xn._shadowStyleSheet],_this62._shadowRoot.append(document.importNode(xn._shadowTemplate.content,!0));var _iterator96=_createForOfIteratorHelper(_this62._shadowRoot.querySelectorAll("[id]")),_step96;try{for(_iterator96.s();!(_step96=_iterator96.n()).done;){var _t158=_step96.value;_this62.I[_t158.id]=_t158;}}catch(err){_iterator96.e(err);}finally{_iterator96.f();}_this62.addEventListener("pointerdown",function(t){return _this62.zt(t);}),_this62.addEventListener("pointerover",function(t){return _this62.Pe(t);}),_this62.addEventListener("pointerout",function(t){return _this62.Re(t);}),_this62.addEventListener("pointermove",function(t){return _this62.Ie(t);}),_this62.addEventListener("keydown",function(t){return _this62.kt(t);}),_this62.addEventListener("wheel",function(t){return _this62.Oe(t);},{passive:!1}),_this62.addEventListener("scroll",function(t){return _this62.Be(t);},{passive:!0});return _this62;}_createClass(xn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","menu"),this.setAttribute("aria-hidden",!this.opened),this.setAttribute("tabindex","0");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"opened"===t&&this.He();}},{key:"openOverElement",value:function openOverElement(t,e){var _this63=this;return new Promise(/*#__PURE__*/function(){var _ref33=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee37(i){var s,_i125,_n49,_o36,_l29,_a19,_h15,_t159,_e121,_t160,_e122,_t161,_this63$Ne,_this63$Ne2,_e123,_i126,_s80,_t162,_e124;return regeneratorRuntime.wrap(function _callee37$(_context37){while(1){switch(_context37.prev=_context37.next){case 0:s=_this63.querySelectorAll(":scope > x-menuitem");if(!(s.length>0)){_context37.next=12;break;}_this63.Me=!0,_this63.$e=qs(),_this63.Fe(),_this63.setAttribute("opened","");_i125=_toConsumableArray(s).find(function(t){return t.contains(e);})||s[0],_n49=_this63.getBoundingClientRect(),_o36=t.getBoundingClientRect(),_l29=e.getBoundingClientRect(),_a19=0,_h15=0;if(_i125.focus(),0===_n49.top&&0===_n49.left||(_a19=-_n49.left,_h15=-_n49.top),_this63.style.left=_o36.x-(_l29.x-_n49.x)+_a19+"px",_this63.style.top=_o36.y-(_l29.y-_n49.y)+_h15+"px",_n49=_this63.getBoundingClientRect(),_n49.left<7&&(_this63.style.left=7+_a19+"px",_n49=_this63.getBoundingClientRect()),7-_n49.top>0&&(_this63.style.height=_n49.bottom-7+"px",_this63.style.top=7+_h15+"px",_this63.scrollTop=9999,_n49=_this63.getBoundingClientRect()),_n49.bottom+7>window.innerHeight){_t159=_n49.bottom-window.innerHeight,_e121=_n49.height-_t159-7;_this63.style.height=_e121+"px";}if(_n49.right+7>window.innerWidth){_t160=_n49.right-window.innerWidth,_e122=_n49.width-_t160-7;_this63.style.width="".concat(_e122,"px");}_t161=getComputedStyle(_this63).getPropertyValue("--open-transition"),_this63$Ne=_this63.Ne(_t161),_this63$Ne2=_slicedToArray(_this63$Ne,3),_e123=_this63$Ne2[0],_i126=_this63$Ne2[1],_s80=_this63$Ne2[2];if(!("transform"===_e123)){_context37.next=11;break;}_t162=_this63.getBoundingClientRect(),_e124=_o36.y+_o36.height/2-_t162.top;_context37.next=11;return _this63.animate({transform:["scaleY(0)","scaleY(1)"],transformOrigin:["0 ".concat(_e124,"px"),"0 ".concat(_e124,"px")]},{duration:_i126,easing:_s80}).finished;case 11:_this63.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this63})),_this63.Te=_h15;case 12:i();case 13:case"end":return _context37.stop();}}},_callee37);}));return function(_x29){return _ref33.apply(this,arguments);};}());}},{key:"openOverLabel",value:function openOverLabel(t){var _this64=this;return new Promise(/*#__PURE__*/function(){var _ref34=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee38(e){var i,_e125,_s81;return regeneratorRuntime.wrap(function _callee38$(_context38){while(1){switch(_context38.prev=_context38.next){case 0:i=_this64.querySelectorAll(":scope > x-menuitem");if(!(i.length>0)){_context38.next=8;break;}_this64.Fe(),_this64.setAttribute("opened",""),_this64.Me=!0,_this64.$e=qs();_e125=_toConsumableArray(i).find(function(e){var i=e.querySelector("x-label");return!(!i||i.textContent!==t.textContent);});_e125||(_e125=i[0]);_s81=_e125.querySelector("x-label");_context38.next=8;return _this64.openOverElement(t,_s81);case 8:e();case 9:case"end":return _context38.stop();}}},_callee38);}));return function(_x30){return _ref34.apply(this,arguments);};}());}},{key:"openNextToElement",value:function openNextToElement(t){var _this65=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"horizontal";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return new Promise(/*#__PURE__*/function(){var _ref35=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee39(s){var n,o,l,a,h,_t163,_t164,_e126,_t165,_e127,_e128,_this65$Ne,_this65$Ne2,_i127,_s82,_n50,_e129,_t166,_t167,_t168,_t169,_t170,_t171,_this65$Ne3,_this65$Ne4,_i128,_s83,_n51;return regeneratorRuntime.wrap(function _callee39$(_context39){while(1){switch(_context39.prev=_context39.next){case 0:_this65.Me=!1,_this65.$e=qs(),_this65.Fe(),_this65.setAttribute("opened",""),_this65.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this65})),"x-menuitem"===t.localName&&t.setAttribute("expanded","");n=getComputedStyle(_this65).getPropertyValue("--align").trim(),o=t.getBoundingClientRect(),l=_this65.getBoundingClientRect(),a=0,h=0;if(!(0===l.top&&0===l.left||(a=-l.left,h=-l.top),"horizontal"===e)){_context39.next=18;break;}_this65.style.top=o.top+h+"px",_this65.style.left=o.left+o.width+i+a+"px";_t163="right";_t164=_this65.getBoundingClientRect();_t164.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t164.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");_e126=_this65.getBoundingClientRect();_e126.left+_e126.width+7>window.innerWidth&&(o.left>_e126.width+7?(_this65.style.left=o.left-_e126.width+a+"px",_t163="left"):o.left>window.innerWidth-(o.left+o.width)?(_this65.style.left=7+a+"px",_t163="left"):(_this65.style.left=window.innerWidth-_e126.width-7+a+"px",_t163="right"));_t165=_this65.getBoundingClientRect();if(_t165.top+_t165.height+7>window.innerHeight){_e127=_t165.top+_t165.height+7-window.innerHeight;_this65.style.top=_t165.top-_e127+h+"px";}_e128=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne=_this65.Ne(_e128),_this65$Ne2=_slicedToArray(_this65$Ne,3),_i127=_this65$Ne2[0],_s82=_this65$Ne2[1],_n50=_this65$Ne2[2];_context39.t0="transform"===_i127;if(!_context39.t0){_context39.next=16;break;}_context39.next=16;return _this65.animate({transform:["scale(0, 0)","scale(1, 1)"],transformOrigin:["left"===_t163?"100% 0":"0 0","left"===_t163?"100% 0":"0 0"]},{duration:_s82,easing:_n50}).finished;case 16:_context39.next=30;break;case 18:if(!("vertical"===e)){_context39.next=30;break;}_this65.style.top=o.top+o.height+i+h+"px",_this65.style.left="0px";_e129="bottom";_t166=_this65.getBoundingClientRect();_t166.width>window.innerWidth-10&&(_this65.style.width=window.innerWidth-10+"px"),_t166.height>window.innerHeight-10&&(_this65.style.height=window.innerHeight-10+"px");if(t.parentElement&&"x-menubar"===t.parentElement.localName){_t167=_this65.getBoundingClientRect();_t167.top+_t167.height+7>window.innerHeight&&(_this65.style.height=window.innerHeight-(o.top+o.height)-10+"px");}else{_t168=_this65.getBoundingClientRect();_t168.top+_t168.height+7>window.innerHeight&&(o.top>_t168.height+7?(_this65.style.top=o.top-_t168.height-i+h+"px",_e129="top"):o.top>window.innerHeight-(o.top+o.height)?(_this65.style.top=7+h+"px",_e129="top"):(_this65.style.top=window.innerHeight-_t168.height-7+h+"px",_e129="bottom"));}if("start"===n){_this65.style.left=o.left+a+"px";{_t169=_this65.getBoundingClientRect();_t169.left+_t169.width+7>window.innerWidth&&(_this65.style.left=o.left+o.width-_t169.width+a+"px");}_this65.getBoundingClientRect().left<7&&(_this65.style.left=7+a+"px");}else if("end"===n){_this65.style.left=o.left+o.width-l.width+a+"px",_this65.getBoundingClientRect().left<7&&(_this65.style.left=o.left+a+"px");{_t170=_this65.getBoundingClientRect();_t170.left+_t170.width+7>window.innerWidth&&(_this65.style.left=window.innerWidth-7+a+"px");}}_t171=getComputedStyle(_this65).getPropertyValue("--open-transition"),_this65$Ne3=_this65.Ne(_t171),_this65$Ne4=_slicedToArray(_this65$Ne3,3),_i128=_this65$Ne4[0],_s83=_this65$Ne4[1],_n51=_this65$Ne4[2];_context39.t1="transform"===_i128;if(!_context39.t1){_context39.next=30;break;}_context39.next=30;return _this65.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["top"===_e129?"0 100%":"0 0","top"===_e129?"0 100%":"0 0"]},{duration:_s83,easing:_n51}).finished;case 30:_this65.Te=h,s();case 31:case"end":return _context39.stop();}}},_callee39);}));return function(_x31){return _ref35.apply(this,arguments);};}());}},{key:"openAtPoint",value:function openAtPoint(t,e){var _this66=this;return new Promise(/*#__PURE__*/function(){var _ref36=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee40(i){var s,n,o,_t172,_this66$Ne,_this66$Ne2,_e130,_i129,_s84;return regeneratorRuntime.wrap(function _callee40$(_context40){while(1){switch(_context40.prev=_context40.next){case 0:_this66.Me=!1,_this66.$e=qs(),_this66.Fe(),_this66.setAttribute("opened",""),_this66.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this66}));s=_this66.getBoundingClientRect(),n=0,o=0;0===s.top&&0===s.left||(n=-s.left,o=-s.top),_this66.style.left=t+n+"px",_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.right+7>window.innerWidth&&(t-=s.width,_this66.style.left=t+n+"px",s=_this66.getBoundingClientRect()),s.bottom+7>window.innerHeight&&(e=e+window.innerHeight-(s.top+s.height)-7,_this66.style.top=e+o+"px",s=_this66.getBoundingClientRect(),s.top<7&&(e=7,_this66.style.top=e+o+"px",_this66.style.height=window.innerHeight-7-7+"px"));_t172=getComputedStyle(_this66).getPropertyValue("--open-transition"),_this66$Ne=_this66.Ne(_t172),_this66$Ne2=_slicedToArray(_this66$Ne,3),_e130=_this66$Ne2[0],_i129=_this66$Ne2[1],_s84=_this66$Ne2[2];_context40.t0="transform"===_e130;if(!_context40.t0){_context40.next=8;break;}_context40.next=8;return _this66.animate({transform:["scale(0)","scale(1)"],transformOrigin:["0 0","0 0"]},{duration:80,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"}).finished;case 8:_this66.Te=o,i();case 9:case"end":return _context40.stop();}}},_callee40);}));return function(_x32){return _ref36.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this67=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref37=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee41(e){var _e131,_t173,_this67$Ne,_this67$Ne2,_e132,_i130,_s85,_iterator97,_step97,_t174,_e133;return regeneratorRuntime.wrap(function _callee41$(_context41){while(1){switch(_context41.prev=_context41.next){case 0:if(!_this67.opened){_context41.next=13;break;}_this67.removeAttribute("opened"),_this67.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this67}));_e131=_this67.closest("x-menuitem");if(!(_e131&&_e131.removeAttribute("expanded"),t)){_context41.next=11;break;}_this67.setAttribute("animating","");_t173=getComputedStyle(_this67).getPropertyValue("--close-transition"),_this67$Ne=_this67.Ne(_t173),_this67$Ne2=_slicedToArray(_this67$Ne,3),_e132=_this67$Ne2[0],_i130=_this67$Ne2[1],_s85=_this67$Ne2[2];_context41.t0="opacity"===_e132;if(!_context41.t0){_context41.next=10;break;}_context41.next=10;return _this67.animate({opacity:["1","0"]},{duration:_i130,easing:_s85}).finished;case 10:_this67.removeAttribute("animating");case 11:_iterator97=_createForOfIteratorHelper(_this67.querySelectorAll(":scope > x-menuitem"));try{for(_iterator97.s();!(_step97=_iterator97.n()).done;){_t174=_step97.value;_e133=_t174.querySelector("x-menu[opened]");_e133&&_e133.close();}}catch(err){_iterator97.e(err);}finally{_iterator97.f();}case 13:e();case 14:case"end":return _context41.stop();}}},_callee41);}));return function(_x33){return _ref37.apply(this,arguments);};}());}},{key:"focusNextMenuItem",value:function focusNextMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e134=null;for(var _i131=t.nextElementSibling;_i131;_i131=_i131.nextElementSibling){if("x-menuitem"===_i131.localName&&!1===_i131.disabled&&!1===_i131.hidden){_e134=_i131;break;}}if(null===_e134&&null!=t.parentElement){var _iterator98=_createForOfIteratorHelper(t.parentElement.children),_step98;try{for(_iterator98.s();!(_step98=_iterator98.n()).done;){var _i132=_step98.value;if("x-menuitem"===_i132.localName&&!1===_i132.disabled&&!1===_i132.hidden){_e134=_i132;break;}}}catch(err){_iterator98.e(err);}finally{_iterator98.f();}}if(_e134){_e134.focus();var _i133=t.querySelector("x-menu");_i133&&_i133.close();}}else this.focusFirstMenuItem();}},{key:"focusPreviousMenuItem",value:function focusPreviousMenuItem(){var t=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(t){var _e135=null;for(var _i134=t.previousElementSibling;_i134;_i134=_i134.previousElementSibling){if("x-menuitem"===_i134.localName&&!1===_i134.disabled&&!1===_i134.hidden){_e135=_i134;break;}}if(null===_e135&&null!=t.parentElement){var _iterator99=_createForOfIteratorHelper(_toConsumableArray(t.parentElement.children).reverse()),_step99;try{for(_iterator99.s();!(_step99=_iterator99.n()).done;){var _i135=_step99.value;if("x-menuitem"===_i135.localName&&!1===_i135.disabled&&!1===_i135.hidden){_e135=_i135;break;}}}catch(err){_iterator99.e(err);}finally{_iterator99.f();}}if(_e135){_e135.focus();var _i136=t.querySelector("x-menu");_i136&&_i136.close();}}else this.focusLastMenuItem();}},{key:"focusFirstMenuItem",value:function focusFirstMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])")[0]||null;t&&t.focus();}},{key:"focusLastMenuItem",value:function focusLastMenuItem(){var t=this.querySelectorAll("x-menuitem:not([disabled]):not([hidden])"),e=t.length>0?t[t.length-1]:null;e&&e.focus();}},{key:"qe",value:function qe(t){var _this68=this;var e=0;{var _t175=this.Se[this.Se.length-1],_i137=this.Se[0];if(this.querySelector("x-menu[opened]")&&_t175){_i137||(_i137=_t175);var _s86=this.getBoundingClientRect(),_n52={x:_s86.left,y:_s86.top-75},_o37={x:_s86.left+_s86.width,y:_n52.y},_l30={x:_s86.left,y:_s86.top+_s86.height+75},_a20={x:_s86.left+_s86.width,y:_l30.y},_h16=!0;if((_i137.x<_s86.left||_i137.x>_a20.x||_i137.y<_s86.top||_i137.y>_a20.y)&&(_h16=!1),this.Ae&&_t175.x===this.Ae.x&&_t175.y===this.Ae.y&&(_h16=!1),_h16){var _s87,_n53;_s87=_o37,_n53=_a20;var _l31=function _l31(t,e){return(e.y-t.y)/(e.x-t.x);},_h17=_l31(_t175,_s87),_r11=_l31(_t175,_n53),_d5=_l31(_i137,_s87),_c3=_l31(_i137,_n53);_h17<_d5&&_r11>_c3?(this.Ae=_t175,e=300):this.Ae=null;}}}e>0?this.Ee=setTimeout(function(){_this68.qe(t);},e):t();}},{key:"Ue",value:function Ue(){this.Ee&&(clearTimeout(this.Ee),this.Ee=null);}},{key:"Fe",value:function Fe(){this.style.position="fixed",this.style.top="0px",this.style.left="0px",this.style.width=null,this.style.height=null,this.style.minWidth=null,this.style.maxWidth=null;}},{key:"je",value:function je(){return this.matches("*[closing], *[closing] x-menu");}},{key:"Ne",value:function Ne(t){var _t$trim$split=t.trim().split(" "),_t$trim$split2=_toArray(_t$trim$split),e=_t$trim$split2[0],i=_t$trim$split2[1],s=_t$trim$split2.slice(2);return[i,parseFloat(e),s.join(" ")];}},{key:"He",value:function He(){this.setAttribute("aria-hidden",!this.opened);}},{key:"zt",value:function zt(t){var _this69=this;if(t.target!==this&&"hr"!==t.target.localName||t.stopPropagation(),"touch"===t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e136=t.target.closest("x-menuitem");_e136&&!1===_e136.disabled&&_e136.closest("x-menu")===this?!1===_e136.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee42(){var t,_e137,i,s,_iterator100,_step100,_t176,_e138;return regeneratorRuntime.wrap(function _callee42$(_context42){while(1){switch(_context42.prev=_context42.next){case 0:t=_this69.querySelector(":scope > x-menuitem:focus");if(t){_e137=t.querySelector("x-menu");_e137&&_e137.close();}_e136.closest("x-menu");i=_e136.querySelector("x-menu"),s=_toConsumableArray(_this69.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e136;});_context42.t0=i;if(!_context42.t0){_context42.next=9;break;}_context42.next=8;return Ws(60);case 8:_e136.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e136,"horizontal");case 9:_iterator100=_createForOfIteratorHelper(s);try{for(_iterator100.s();!(_step100=_iterator100.n()).done;){_t176=_step100.value;_e138=_t176.querySelector("x-menu");_e138&&_e138.close();}}catch(err){_iterator100.e(err);}finally{_iterator100.f();}case 11:case"end":return _context42.stop();}}},_callee42);}))):this.qe(function(){_this69.focus();});}}}},{key:"Pe",value:function Pe(t){var _this70=this;if(!this.je()&&"touch"!==t.pointerType&&t.target.closest("x-menu")===this){!1===this.De&&this.Ke();{var _e139=t.target.closest("x-menuitem");_e139&&!1===_e139.disabled&&_e139.closest("x-menu")===this?!1===_e139.matches(":focus")&&this.qe(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee43(){var t,_e140,i,s,_iterator101,_step101,_t177,_e141;return regeneratorRuntime.wrap(function _callee43$(_context43){while(1){switch(_context43.prev=_context43.next){case 0:t=_this70.querySelector(":scope > x-menuitem:focus");if(t){_e140=t.querySelector("x-menu");_e140&&_e140.close();}_e139.focus(),_e139.closest("x-menu");i=_e139.querySelector("x-menu"),s=_toConsumableArray(_this70.querySelectorAll(":scope > x-menuitem")).filter(function(t){return t!==_e139;});_context43.t0=i;if(!_context43.t0){_context43.next=9;break;}_context43.next=8;return Ws(60);case 8:_e139.matches(":focus")&&!1===i.opened&&i.openNextToElement(_e139,"horizontal");case 9:_iterator101=_createForOfIteratorHelper(s);try{for(_iterator101.s();!(_step101=_iterator101.n()).done;){_t177=_step101.value;_e141=_t177.querySelector("x-menu");_e141&&_e141.close();}}catch(err){_iterator101.e(err);}finally{_iterator101.f();}case 11:case"end":return _context43.stop();}}},_callee43);}))):this.qe(function(){_this70.focus();});}}}},{key:"Re",value:function Re(t){t.relatedTarget&&Ys(t.relatedTarget,"x-menu")===this||!0===this.De&&this.Xe();}},{key:"Ke",value:function Ke(){this.je()||(this.De=!0,this.Ue());}},{key:"Xe",value:function Xe(){this.je()||(this.De=!1,this.Ue(),this.focus());}},{key:"Ie",value:function Ie(t){this.Se.push({x:t.clientX,y:t.clientY}),this.Se.length>3&&this.Se.shift();}},{key:"Oe",value:function Oe(t){t.target.closest("x-menu")===this?(t.preventDefault(),this.scrollTop=this.scrollTop+t.deltaY,this.De=!0):this.De=!1;}},{key:"Be",value:function Be(){if(this.Me){var _t178=this.scrollTop-this.Le;if(this.Le=this.scrollTop,qs()-this.$e>100){var _e142=this.getBoundingClientRect();_t178<0?_e142.bottom+un(_t178)<=window.innerHeight-7?this.style.height=_e142.height+un(_t178)+"px":this.style.height=window.innerHeight-14+"px":_t178>0&&(_e142.top-_t178>=7?(this.style.top=this.Te+_e142.top-_t178+"px",this.style.height=_e142.height+_t178+"px",this.scrollTop=0,this.Le=0):(this.style.top=7+this.Te+"px",this.style.height=window.innerHeight-14+"px"));}}}},{key:"kt",value:function kt(t){if(this.je())t.preventDefault(),t.stopPropagation();else if("ArrowUp"===t.key)t.preventDefault(),t.stopPropagation(),this.focusPreviousMenuItem();else if("ArrowDown"===t.key)t.preventDefault(),t.stopPropagation(),this.focusNextMenuItem();else if("ArrowRight"===t.code||"Enter"===t.code||"Space"===t.code){var _e143=this.querySelector("x-menuitem:focus");if(_e143){var _i138=_e143.querySelector("x-menu");if(_i138){t.preventDefault(),t.stopPropagation(),!1===_i138.opened&&_i138.openNextToElement(_e143,"horizontal");var _s88=_i138.querySelector("x-menuitem:not([disabled]):not([hidden])");_s88&&_s88.focus();}}}else if("ArrowLeft"===t.code){var _e144=this.querySelector("x-menuitem:focus");if(_e144){var _i139=_e144.closest("x-menu").closest("x-menuitem");_i139&&_i139.closest("x-menu")&&(t.preventDefault(),t.stopPropagation(),_i139.focus(),this.close());}}}}]);return xn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xn,"observedAttributes",["opened"]);_defineProperty(xn,"_shadowTemplate",Es(_templateObject142()));_defineProperty(xn,"_shadowStyleSheet",Ts(_templateObject143()));customElements.define("x-menu",xn);var bn=/*#__PURE__*/function(_HTMLElement17){_inherits(bn,_HTMLElement17);var _super18=_createSuper(bn);_createClass(bn,[{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function bn(){var _temp20,_this71;_classCallCheck(this,bn);(_temp20=_this71=_super18.call(this),_defineProperty(_assertThisInitialized(_this71),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this71),"I",{}),_defineProperty(_assertThisInitialized(_this71),"Ve",!1),_defineProperty(_assertThisInitialized(_this71),"Ze",null),_defineProperty(_assertThisInitialized(_this71),"B",null),_temp20),_this71._shadowRoot=_this71.attachShadow({mode:"closed"}),_this71._shadowRoot.adoptedStyleSheets=[bn._shadowStyleSheet],_this71._shadowRoot.append(document.importNode(bn._shadowTemplate.content,!0));var _iterator102=_createForOfIteratorHelper(_this71._shadowRoot.querySelectorAll("[id]")),_step102;try{for(_iterator102.s();!(_step102=_iterator102.n()).done;){var _t179=_step102.value;_this71.I[_t179.id]=_t179;}}catch(err){_iterator102.e(err);}finally{_iterator102.f();}_this71.addEventListener("focusout",function(t){return _this71.xe(t);}),_this71._shadowRoot.addEventListener("pointerover",function(t){return _this71.Ge(t);}),_this71._shadowRoot.addEventListener("click",function(t){return _this71.Ye(t);}),_this71._shadowRoot.addEventListener("wheel",function(t){return _this71.We(t);}),_this71._shadowRoot.addEventListener("keydown",function(t){return _this71.Je(t);});return _this71;}_createClass(bn,[{key:"connectedCallback",value:function connectedCallback(){var _this72=this;this.setAttribute("role","menubar"),this.setAttribute("aria-disabled",this.disabled),this.U(),Ls.addEventListener("sizechange",this.B=function(){_this72.U();}),window.addEventListener("orientationchange",this.Ze=function(){_this72.Qe();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B),window.removeEventListener("orientationchange",this.Ze);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ti",value:function ti(t){var e=t.querySelector(":scope > x-menu");if(e&&!1===e.opened){t.focus(),this.Ve=!0,this.style.touchAction="none";{e.openNextToElement(t,"vertical");var _i140=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem > x-menu")).filter(function(t){return t!==e;});var _iterator103=_createForOfIteratorHelper(_i140),_step103;try{for(_iterator103.s();!(_step103=_iterator103.n()).done;){var _t180=_step103.value;_t180&&_t180.close(!1);}}catch(err){_iterator103.e(err);}finally{_iterator103.f();}}{var _this$getBoundingClie=this.getBoundingClientRect(),_t181=_this$getBoundingClie.x,_e145=_this$getBoundingClie.y,_i141=_this$getBoundingClie.width,_s89=_this$getBoundingClie.height;this.I["backdrop-path"].setAttribute("d","\n          M 0 0\n          L ".concat(window.innerWidth," 0\n          L ").concat(window.innerWidth," ").concat(window.innerHeight,"\n          L 0 ").concat(window.innerHeight,"\n          L 0 0\n          M ").concat(_t181," ").concat(_e145,"\n          L ").concat(_t181+_i141," ").concat(_e145,"\n          L ").concat(_t181+_i141," ").concat(_e145+_s89,"\n          L ").concat(_t181," ").concat(_e145+_s89,"\n        ")),this.I.backdrop.removeAttribute("hidden");}}}},{key:"ei",value:function ei(){var _this73=this;return new Promise(/*#__PURE__*/function(){var _ref40=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee44(t){var _t182,_iterator104,_step104,_e146,e;return regeneratorRuntime.wrap(function _callee44$(_context44){while(1){switch(_context44.prev=_context44.next){case 0:_this73.Ve=!1,_this73.style.touchAction=null,_this73.I.backdrop.setAttribute("hidden",""),_this73.I["backdrop-path"].setAttribute("d","");_t182=_this73.querySelectorAll(":scope > x-menuitem > x-menu[opened]");_iterator104=_createForOfIteratorHelper(_t182);_context44.prev=3;_iterator104.s();case 5:if((_step104=_iterator104.n()).done){_context44.next=11;break;}_e146=_step104.value;_context44.next=9;return _e146.close(!0);case 9:_context44.next=5;break;case 11:_context44.next=16;break;case 13:_context44.prev=13;_context44.t0=_context44["catch"](3);_iterator104.e(_context44.t0);case 16:_context44.prev=16;_iterator104.f();return _context44.finish(16);case 19:e=_this73.querySelector("x-menuitem:focus");e&&e.blur(),t();case 21:case"end":return _context44.stop();}}},_callee44,null,[[3,13,16,19]]);}));return function(_x34){return _ref40.apply(this,arguments);};}());}},{key:"ii",value:function ii(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(t.length>1&&e){var _i142=t.indexOf(e),_s90=t[_i142-1]||t[t.length-1];this.ti(_s90);}}},{key:"si",value:function si(){var t=_toConsumableArray(this.querySelectorAll(":scope > x-menuitem:not([disabled])")),e=this.querySelector(":focus").closest("x-menubar > x-menuitem");if(e&&t.length>1){var _i143=t.indexOf(e),_s91=t[_i143+1]||t[0];this.ti(_s91);}}},{key:"qt",value:function qt(){this.setAttribute("aria-disabled",this.disabled);}},{key:"xe",value:function xe(t){null!==t.relatedTarget&&!1!==this.contains(t.relatedTarget)||this.ei();}},{key:"Qe",value:function Qe(){this.ei();}},{key:"We",value:function We(t){var e=this.querySelector("x-menu[opened]");e&&!1===e.contains(t.target)&&t.preventDefault();}},{key:"Ye",value:function(){var _Ye=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee45(t){var e,i,_t183;return regeneratorRuntime.wrap(function _callee45$(_context45){while(1){switch(_context45.prev=_context45.next){case 0:if(!this.hasAttribute("closing")){_context45.next=2;break;}return _context45.abrupt("return");case 2:e=t.target.closest("x-menuitem"),i=t.target.closest("x-menu");if(!(!e||!1!==e.disabled||i&&!i.contains(e))){_context45.next=7;break;}t.target===this.I["backdrop-path"]&&(this.ei(),t.preventDefault(),t.stopPropagation());_context45.next=22;break;case 7:_t183=e.querySelector("x-menu");if(!(e.parentElement===this)){_context45.next=12;break;}_t183&&(_t183.opened?this.ei():this.ti(e));_context45.next=22;break;case 12:if(!_t183){_context45.next=16;break;}_t183.opened&&!1===_t183.opened&&_t183.openNextToElement(e,"horizontal");_context45.next=22;break;case 16:this.setAttribute("closing","");_context45.next=19;return e.whenTriggerEnd;case 19:_context45.next=21;return this.ei();case 21:this.removeAttribute("closing");case 22:case"end":return _context45.stop();}}},_callee45,this);}));function Ye(_x35){return _Ye.apply(this,arguments);}return Ye;}()},{key:"Ge",value:function Ge(t){if(this.hasAttribute("closing"))return;var e=t.target.closest("x-menuitem");null===t.target.closest("x-menu")&&e&&e.parentElement===this&&this.Ve&&"touch"!==t.pointerType&&(!1===e.hasAttribute("expanded")?this.ti(e):e.focus());}},{key:"Je",value:function Je(t){if(this.hasAttribute("closing"))t.stopPropagation(),t.preventDefault();else if("Enter"===t.code||"Space"===t.code){var _e147=this.querySelector(":scope > x-menuitem:focus");_e147&&(t.preventDefault(),_e147.click());}else if("Escape"===t.code)this.Ve&&(t.preventDefault(),this.ei());else if("Tab"===t.code){var _t184=this.querySelector(":scope > x-menuitem:focus, :scope > x-menuitem[expanded]");if(_t184){_t184.focus();var _e148=_t184.querySelector(":scope > x-menu");_e148&&(_e148.tabIndex=-1,_e148.close().then(function(){_e148.tabIndex=-1;}));}}else if("ArrowRight"===t.code)this.si();else if("ArrowLeft"===t.code)this.ii();else if("ArrowDown"===t.code){var _e149=this.querySelector("x-menuitem:focus > x-menu");_e149&&(t.preventDefault(),_e149.focusFirstMenuItem());}else if("ArrowUp"===t.code){var _e150=this.querySelector("x-menuitem:focus > x-menu");_e150&&(t.preventDefault(),_e150.focusLastMenuItem());}}}]);return bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bn,"observedAttributes",["disabled","size"]);_defineProperty(bn,"_shadowTemplate",Es(_templateObject144()));_defineProperty(bn,"_shadowStyleSheet",Ts(_templateObject145()));customElements.define("x-menubar",bn);var mn=Math.max;var gn=/*#__PURE__*/function(_HTMLElement18){_inherits(gn,_HTMLElement18);var _super19=_createSuper(gn);_createClass(gn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){this.value!==t&&(null===t?this.removeAttribute("value"):this.setAttribute("value",t));}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"togglable",get:function get(){return this.hasAttribute("togglable");},set:function set(t){t?this.setAttribute("togglable",""):this.removeAttribute("togglable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"whenTriggerEnd",get:function get(){var _this75=this;return new Promise(function(t){0===_this75.I.ripples.childElementCount&&!1===_this75.hi?t():_this75.ni.push(t);});}}]);function gn(){var _temp21,_this74;_classCallCheck(this,gn);(_temp21=_this74=_super19.call(this),_defineProperty(_assertThisInitialized(_this74),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this74),"I",{}),_defineProperty(_assertThisInitialized(_this74),"yt",0),_defineProperty(_assertThisInitialized(_this74),"hi",!1),_defineProperty(_assertThisInitialized(_this74),"ni",[]),_defineProperty(_assertThisInitialized(_this74),"oi",!1),_defineProperty(_assertThisInitialized(_this74),"B",null),_defineProperty(_assertThisInitialized(_this74),"li",new MutationObserver(function(){return _this74.ai();})),_temp21),_this74._shadowRoot=_this74.attachShadow({mode:"closed"}),_this74._shadowRoot.adoptedStyleSheets=[gn._shadowStyleSheet],_this74._shadowRoot.append(document.importNode(gn._shadowTemplate.content,!0)),_this74.addEventListener("pointerdown",function(t){return _this74.zt(t);}),_this74.addEventListener("click",function(t){return _this74.N(t);}),_this74.addEventListener("keydown",function(t){return _this74.kt(t);});var _iterator105=_createForOfIteratorHelper(_this74._shadowRoot.querySelectorAll("[id]")),_step105;try{for(_iterator105.s();!(_step105=_iterator105.n()).done;){var _t185=_step105.value;_this74.I[_t185.id]=_t185;}}catch(err){_iterator105.e(err);}finally{_iterator105.f();}return _this74;}_createClass(gn,[{key:"connectedCallback",value:function connectedCallback(){var _this76=this;this.ai(),this.Ct(),this.U(),this.li.observe(this,{childList:!0,attributes:!1,characterData:!1,subtree:!1}),Ls.addEventListener("sizechange",this.B=function(){return _this76.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.li.disconnect(),Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"ai",value:function ai(){"x-menubar"===this.parentElement.localName?this.I.arrow.setAttribute("hidden",""):this.querySelector("x-menu")?this.I.arrow.removeAttribute("hidden"):this.I.arrow.setAttribute("hidden","");}},{key:"Ct",value:function Ct(){this.setAttribute("role","menuitem"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee47(t){var _this77=this;var _e151,_i144,_e152,_i145,_s92,_n54,_o38,_l32,_a21,_h18,_iterator106,_step106,_t186;return regeneratorRuntime.wrap(function _callee47$(_context47){while(1){switch(_context47.prev=_context47.next){case 0:if(!(this.oi=this.matches(":focus"),1!==t.buttons)){_context47.next=2;break;}return _context47.abrupt("return",!1);case 2:if(!this.matches("[closing] x-menuitem")){_context47.next=4;break;}return _context47.abrupt("return",(t.preventDefault(),void t.stopPropagation()));case 4:if(!(t.target.closest("x-menuitem")===this)){_context47.next=23;break;}this.setPointerCapture(t.pointerId);_e151=Date.now(),_i144=!0;this.addEventListener("lostpointercapture",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee46(){var s,n;return regeneratorRuntime.wrap(function _callee46$(_context46){while(1){switch(_context46.prev=_context46.next){case 0:_i144=!1;s=Date.now()-_e151,n="touch"===t.pointerType?600:150;_context46.t0=s<n;if(!_context46.t0){_context46.next=6;break;}_context46.next=6;return Ws(n-s);case 6:_this77.removeAttribute("pressed");case 7:case"end":return _context46.stop();}}},_callee46);})),{once:!0}),_i144&&this.setAttribute("pressed","");if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context47.next=23;break;}_e152=this.I.ripples.getBoundingClientRect(),_i145=1.5*mn(_e152.width,_e152.height),_s92=t.clientY-_e152.y-_i145/2,_n54=t.clientX-_e152.x-_i145/2,_o38=new Promise(function(t){return _this77.addEventListener("lostpointercapture",t,{once:!0});}),_l32=Hs("div");_l32.setAttribute("part","ripple"),_l32.setAttribute("class","ripple pointer-down-ripple"),_l32.setAttribute("style","width: ".concat(_i145,"px; height: ").concat(_i145,"px; top: ").concat(_s92,"px; left: ").concat(_n54,"px;")),this.I.ripples.append(_l32),this.setPointerCapture(t.pointerId);_a21=_l32.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=14;return _o38;case 14:_context47.next=16;return _a21.finished;case 16:_h18=_l32.animate({opacity:[getComputedStyle(_l32).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context47.next=19;return _h18.finished;case 19:_l32.remove();if(!(0===this.I.ripples.childElementCount)){_context47.next=23;break;}_iterator106=_createForOfIteratorHelper(this.ni);try{for(_iterator106.s();!(_step106=_iterator106.n()).done;){_t186=_step106.value;_t186();}}catch(err){_iterator106.e(err);}finally{_iterator106.f();}case 23:case"end":return _context47.stop();}}},_callee47,this);}));function zt(_x36){return _zt.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee48(t){var _t187,_t188,_t189,_e153,_i146,_s93,_n55,_o39,_l33,_iterator107,_step107,_t190,_iterator108,_step108,_t191,_iterator109,_step109,_t192;return regeneratorRuntime.wrap(function _callee48$(_context48){while(1){switch(_context48.prev=_context48.next){case 0:if(t.button>0||t.target.closest("x-menuitem")!==this||t.target.closest("x-menu")!==this.closest("x-menu")||this.matches("[closing] x-menuitem")){_context48.next=50;break;}if(this.togglable){_t187=new CustomEvent("toggle",{bubbles:!0,cancelable:!0});this.dispatchEvent(_t187),!1===_t187.defaultPrevented&&(this.toggled=!this.toggled);}if(this.querySelector(":scope > x-menu")){_context48.next=50;break;}_t188=getComputedStyle(this).getPropertyValue("--trigger-effect").trim();if(!("ripple"===_t188)){_context48.next=21;break;}if(!(null===this.I.ripples.querySelector(".pointer-down-ripple"))){_context48.next=19;break;}_t189=this.I.ripples.getBoundingClientRect(),_e153=1.5*mn(_t189.width,_t189.height),_i146=_t189.y+_t189.height/2-_t189.y-_e153/2,_s93=_t189.x+_t189.width/2-_t189.x-_e153/2,_n55=Hs("div");_n55.setAttribute("part","ripple"),_n55.setAttribute("class","ripple click-ripple"),_n55.setAttribute("style","width: ".concat(_e153,"px; height: ").concat(_e153,"px; top: ").concat(_i146,"px; left: ").concat(_s93,"px;")),this.I.ripples.append(_n55);_o39=_n55.animate({transform:["scale3d(0, 0, 0)","none"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=11;return _o39.finished;case 11:_l33=_n55.animate({opacity:[getComputedStyle(_n55).opacity,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context48.next=14;return _l33.finished;case 14:_n55.remove();if(!(0===this.I.ripples.childElementCount)){_context48.next=19;break;}_iterator107=_createForOfIteratorHelper(this.ni);try{for(_iterator107.s();!(_step107=_iterator107.n()).done;){_t190=_step107.value;_t190();}}catch(err){_iterator107.e(err);}finally{_iterator107.f();}this.ni=[];case 19:_context48.next=50;break;case 21:if(!("blink"===_t188)){_context48.next=43;break;}this.hi=!0;if(!this.oi){_context48.next=32;break;}this.parentElement.focus();_context48.next=27;return Ws(150);case 27:this.focus();_context48.next=30;return Ws(150);case 30:_context48.next=38;break;case 32:this.focus();_context48.next=35;return Ws(150);case 35:this.parentElement.focus();_context48.next=38;return Ws(150);case 38:_iterator108=_createForOfIteratorHelper(this.ni);try{for(_iterator108.s();!(_step108=_iterator108.n()).done;){_t191=_step108.value;_t191();}}catch(err){_iterator108.e(err);}finally{_iterator108.f();}this.ni=[],this.hi=!1;_context48.next=50;break;case 43:if(!("none"===_t188)){_context48.next=50;break;}this.hi=!0;_context48.next=47;return Ws(150);case 47:_iterator109=_createForOfIteratorHelper(this.ni);try{for(_iterator109.s();!(_step109=_iterator109.n()).done;){_t192=_step109.value;_t192();}}catch(err){_iterator109.e(err);}finally{_iterator109.f();}this.ni=[],this.hi=!1;case 50:case"end":return _context48.stop();}}},_callee48,this);}));function N(_x37){return _N4.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.querySelector("x-menu")||(t.stopPropagation(),this.click()));}}]);return gn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gn,"observedAttributes",["disabled","size"]);_defineProperty(gn,"_shadowTemplate",Es(_templateObject146()));_defineProperty(gn,"_shadowStyleSheet",Ts(_templateObject147()));customElements.define("x-menuitem",gn);var fn=/*#__PURE__*/function(_HTMLElement19){_inherits(fn,_HTMLElement19);var _super20=_createSuper(fn);_createClass(fn,[{key:"opened",get:function get(){return this.hasAttribute("opened");},set:function set(t){!0===t?this.setAttribute("opened",""):this.removeAttribute("opened"),this.ri=0;}},{key:"timeout",get:function get(){return this.hasAttribute("timeout")?parseFloat(this.getAttribute("timeout")):0;},set:function set(t){this.setAttribute("timeout",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function fn(){var _temp22,_this78;_classCallCheck(this,fn);(_temp22=_this78=_super20.call(this),_defineProperty(_assertThisInitialized(_this78),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this78),"ri",0),_defineProperty(_assertThisInitialized(_this78),"di",null),_defineProperty(_assertThisInitialized(_this78),"B",null),_defineProperty(_assertThisInitialized(_this78),"ui",null),_temp22),_this78._shadowRoot=_this78.attachShadow({mode:"closed"}),_this78._shadowRoot.adoptedStyleSheets=[fn._shadowStyleSheet],_this78._shadowRoot.append(document.importNode(fn._shadowTemplate.content,!0));return _this78;}_createClass(fn,[{key:"connectedCallback",value:function connectedCallback(){var _this79=this;this.setAttribute("tabindex","0"),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this79.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("opened"===t?this.opened?this.ci():this.pi():"size"===t&&this.U());}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ci",value:function ci(){var _this80=this;if(this.isConnected){var _t193=0-this.getBoundingClientRect().height-10+"px",_e154=getComputedStyle(this).bottom;this.animate({bottom:[_t193,_e154]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});}{this.ri=0,this.di=setInterval(function(){_this80.ri+=100,_this80.timeout>0&&_this80.ri>_this80.timeout&&(_this80.opened=!1);},100);var _t194=qs();window.addEventListener("pointerdown",this.ui=function(e){var i=qs(),s=_this80.getBoundingClientRect();i-_t194>10&&!1===function(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height;}(s,new DOMPoint(e.clientX,e.clientY))&&(_this80.opened=!1);},!0);}}},{key:"pi",value:function(){var _pi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee49(){var _t195,_e155,_i147;return regeneratorRuntime.wrap(function _callee49$(_context49){while(1){switch(_context49.prev=_context49.next){case 0:if(!(clearInterval(this.di),this.isConnected)){_context49.next=6;break;}this.setAttribute("animating","");_t195=getComputedStyle(this).bottom,_e155=0-this.getBoundingClientRect().height-10+"px",_i147=this.animate({bottom:[_t195,_e155]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context49.next=5;return _i147.finished;case 5:this.removeAttribute("animating");case 6:window.removeEventListener("pointerdown",this.ui,!0);case 7:case"end":return _context49.stop();}}},_callee49,this);}));function pi(){return _pi.apply(this,arguments);}return pi;}()}]);return fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fn,"observedAttributes",["opened","size"]);_defineProperty(fn,"_shadowTemplate",Es(_templateObject148()));_defineProperty(fn,"_shadowStyleSheet",Ts(_templateObject149()));customElements.define("x-notification",fn);var wn=Number.isFinite,vn=Number.isNaN,yn=Number.parseFloat,kn=Number.isFinite;var Sn=["0","1","2","3","4","5","6","7","8","9","-","+",",","."];var _n=/*#__PURE__*/function(_HTMLElement20){_inherits(_n,_HTMLElement20);var _super21=_createSuper(_n);_createClass(_n,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):-Infinity;},set:function set(t){kn(t)?this.setAttribute("min",t):this.removeAttribute("min");}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):Infinity;},set:function set(t){kn(t)?this.setAttribute("max",t):this.removeAttribute("max");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"precision",get:function get(){return this.hasAttribute("precision")?parseFloat(this.getAttribute("precision")):20;},set:function set(t){this.setAttribute("precision",t);}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"prefix",get:function get(){return this.hasAttribute("prefix")?this.getAttribute("prefix"):"";},set:function set(t){this.setAttribute("prefix",t);}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"condensed",get:function get(){return this.hasAttribute("condensed");},set:function set(t){t?this.setAttribute("condensed",""):this.removeAttribute("condensed");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function _n(){var _temp23,_this81;_classCallCheck(this,_n);(_temp23=_this81=_super21.call(this),_defineProperty(_assertThisInitialized(_this81),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this81),"I",{}),_defineProperty(_assertThisInitialized(_this81),"yt",0),_defineProperty(_assertThisInitialized(_this81),"B",null),_defineProperty(_assertThisInitialized(_this81),"mi",!1),_defineProperty(_assertThisInitialized(_this81),"bi",!1),_defineProperty(_assertThisInitialized(_this81),"gi",!1),_defineProperty(_assertThisInitialized(_this81),"xi",!1),_defineProperty(_assertThisInitialized(_this81),"fi",!1),_defineProperty(_assertThisInitialized(_this81),"wi",!1),_defineProperty(_assertThisInitialized(_this81),"Pi",Zs(function(){!_this81.bi||_this81.gi||_this81.xi||_this81.fi||(_this81.bi=!1,_this81.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));},500)),_temp23),_this81._shadowRoot=_this81.attachShadow({mode:"closed",delegatesFocus:!0}),_this81._shadowRoot.adoptedStyleSheets=[_n._shadowStyleSheet],_this81._shadowRoot.append(document.importNode(_n._shadowTemplate.content,!0));var _iterator110=_createForOfIteratorHelper(_this81._shadowRoot.querySelectorAll("[id]")),_step110;try{for(_iterator110.s();!(_step110=_iterator110.n()).done;){var _t196=_step110.value;_this81.I[_t196.id]=_t196;}}catch(err){_iterator110.e(err);}finally{_iterator110.f();}_this81._shadowRoot.addEventListener("pointerdown",function(t){return _this81.vi(t);}),_this81._shadowRoot.addEventListener("wheel",function(t){return _this81.Oe(t);}),_this81.I.editor.addEventListener("paste",function(t){return _this81.yi(t);}),_this81.I.editor.addEventListener("input",function(t){return _this81.zi(t);}),_this81.addEventListener("pointerdown",function(t){return _this81.zt(t);}),_this81.addEventListener("keydown",function(t){return _this81.kt(t);}),_this81.addEventListener("keyup",function(t){return _this81.ki(t);}),_this81.addEventListener("keypress",function(t){return _this81.Hs(t);}),_this81.addEventListener("incrementstart",function(t){return _this81.Ci(t);}),_this81.addEventListener("decrementstart",function(t){return _this81.Si(t);}),_this81.addEventListener("focusin",function(t){return _this81.ge(t);}),_this81.addEventListener("focusout",function(t){return _this81.xe(t);});return _this81;}_createClass(_n,[{key:"connectedCallback",value:function connectedCallback(){var _this82=this;this.Ct(),this.U(),this.nt(),Ls.addEventListener("sizechange",this.B=function(){return _this82.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"min"===t?this.Ei():"max"===t?this.Ai():"prefix"===t?this.Li():"suffix"===t?this.Ti():"disabled"===t?this.qt():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value<this.min?this.error="Value is too low":this.value>this.max?this.error="Value is too high":this.required&&null===this.value?this.error="This field is required":this.error=null;}},{key:"Mi",value:function Mi(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i+=t?10*this.step:this.step,i=rs(i,this.min,this.max,ds(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"Di",value:function Di(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.value,i=this.value;i-=t?10*this.step:this.step,i=rs(i,this.min,this.max,ds(this.step)),e!==i&&(this.value=i),this.matches(":focus")&&document.execCommand("selectAll"),this.validate(),this.be();}},{key:"$i",value:function $i(){this.bi||(this.bi=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));}},{key:"Ri",value:function Ri(){var t=this.I.editor.textContent,e=""===t.trim()?null:parseFloat(t),i=rs(e,this.min,this.max);i!==this.value?(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=i,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))):e!==this.value&&(this.value=i),this.validate();}},{key:"nt",value:function nt(){this.wi&&this.validate(),this.Ii(),this.be(),this.Oi();}},{key:"Ii",value:function Ii(){this.hasAttribute("value")?this.I.editor.textContent=this.getAttribute("value").trim():this.I.editor.textContent="";}},{key:"be",value:function be(){var t=null;if(this.matches(":focus")){var _e156=this.I.editor.textContent;t=""===_e156.trim()?null:parseFloat(_e156);}else t=this.value;null===t?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Oi",value:function Oi(){var t=this.querySelector("x-stepper");if(t){var _e157=this.value>this.min,_i148=this.value<this.max;!0===_i148&&!0===_e157?t.removeAttribute("disabled"):!1===_i148&&!1===_e157?t.setAttribute("disabled",""):!1===_i148?t.setAttribute("disabled","increment"):!1===_e157&&t.setAttribute("disabled","decrement");}}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.nt();}},{key:"Ei",value:function Ei(){this.Oi();}},{key:"Ai",value:function Ai(){this.Oi();}},{key:"Li",value:function Li(){this.I.editor.setAttribute("data-prefix",this.prefix);}},{key:"Ti",value:function Ti(){this.I.editor.setAttribute("data-suffix",this.suffix);}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.wi=!0,document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this._shadowRoot.getSelection().collapse(this.I.main),this.I.editor.scrollLeft=0,this.Ri(),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));}},{key:"zi",value:function zi(){this.error=null,this.be(),this.Oi();}},{key:"Oe",value:function Oe(t){this.matches(":focus")&&(t.preventDefault(),this.$i(),t.wheelDeltaX>0||t.wheelDeltaY>0?(this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))):(this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0}))),this.Pi());}},{key:"N",value:function N(t){t.preventDefault();}},{key:"zt",value:function zt(t){"x-stepper"===t.target.localName&&t.preventDefault();}},{key:"vi",value:function vi(t){var _this83=this;if(1===t.buttons&&!1!==t.isPrimary){if(t.target===this.I.editor&&!1===this.I.editor.matches(":focus")){t.preventDefault();var _e158,_i151,_s94=this.value,_n56=t.clientX,_o40=new DOMPoint(t.clientX,t.clientY);this.style.cursor="col-resize",this.I.editor.setPointerCapture(t.pointerId),this.I.editor.addEventListener("pointermove",_e158=function _e158(e){var i=new DOMPoint(e.clientX,e.clientY),l=e.timeStamp-t.timeStamp,a=e.clientX!==_n56,h=cs(_o40,i)>3||l>80;if(_n56=e.clientX,a&&h&&e.isPrimary){!1===_this83.mi&&(_this83.mi=!0,_this83.bi=!0,_this83.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})));var _i150=e.clientX-t.clientX,_n57=_s94+_i150*_this83.step;_n57=rs(_n57,_this83.min,_this83.max,ds(_this83.step)),_this83.value=_n57,_this83.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}}),this.I.editor.addEventListener("lostpointercapture",_i151=function _i149(){_this83.I.editor.removeEventListener("pointermove",_e158),_this83.I.editor.removeEventListener("lostpointercapture",_i151),_this83.style.cursor=null,!0===_this83.mi?(_this83.mi=!1,_this83.bi=!1,_this83.dispatchEvent(new CustomEvent("changeend",{detail:_this83.value!==_s94,bubbles:!0}))):(_this83.I.editor.focus(),document.execCommand("selectAll"));});}}else t.preventDefault();}},{key:"Ci",value:function Ci(t){var _this84=this;var e,_i152;this.matches(":focus")&&this.Ri(),this.fi=!0,this.addEventListener("increment",e=function e(t){_this84.$i(),_this84.Mi(t.detail.shiftKey),_this84.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this84.Pi(),_this84.nt();}),this.addEventListener("incrementend",_i152=function i(t){_this84.fi=!1,_this84.removeEventListener("increment",e),_this84.removeEventListener("incrementend",_i152);});}},{key:"Si",value:function Si(t){var _this85=this;var e,_i153;this.matches(":focus")&&this.Ri(),this.fi=!0,this.addEventListener("decrement",e=function e(t){_this85.$i(),_this85.Di(t.detail.shiftKey),_this85.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this85.Pi(),_this85.nt();}),this.addEventListener("decrementend",_i153=function i(t){_this85.fi=!1,_this85.removeEventListener("decrement",e),_this85.removeEventListener("decrementend",_i153);});}},{key:"kt",value:function kt(t){"ArrowDown"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Di(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"ArrowUp"===t.code?(t.preventDefault(),this.gi=!0,this.$i(),this.Mi(t.shiftKey),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.Pi(),this.nt()):"Backspace"===t.code?this.xi=!0:"Enter"===t.code&&(this.Ri(),document.execCommand("selectAll"));}},{key:"ki",value:function ki(t){"ArrowDown"===t.code||"ArrowUp"===t.code?(this.gi=!1,this.Pi()):"Backspace"===t.code&&(this.xi=!1);}},{key:"Hs",value:function Hs(t){!1===Sn.includes(t.key)&&t.preventDefault();}},{key:"yi",value:function(){var _yi=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee50(t){var e;return regeneratorRuntime.wrap(function _callee50$(_context50){while(1){switch(_context50.prev=_context50.next){case 0:t.preventDefault();e=t.clipboardData.getData("text/plain").trim();_context50.t0=function(t){var e=yn(t);return!1===vn(e)&&wn(e);}(e);if(!_context50.t0){_context50.next=7;break;}_context50.next=6;return Ws(1);case 6:document.execCommand("insertText",!1,e);case 7:case"end":return _context50.stop();}}},_callee50);}));function yi(_x38){return _yi.apply(this,arguments);}return yi;}()}]);return _n;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_n,"observedAttributes",["value","min","max","prefix","suffix","disabled","size"]);_defineProperty(_n,"_shadowTemplate",Es(_templateObject150()));_defineProperty(_n,"_shadowStyleSheet",Ts(_templateObject151()));customElements.define("x-numberinput",_n);var Cn=/*#__PURE__*/function(_HTMLElement21){_inherits(Cn,_HTMLElement21);var _super22=_createSuper(Cn);_createClass(Cn,[{key:"opened",get:function get(){return this.hasAttribute("opened");}},{key:"modal",get:function get(){return this.hasAttribute("modal");},set:function set(t){t?this.setAttribute("modal",""):this.removeAttribute("modal");}}]);function Cn(){var _temp24,_this86;_classCallCheck(this,Cn);(_temp24=_this86=_super22.call(this),_defineProperty(_assertThisInitialized(_this86),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this86),"I",{}),_defineProperty(_assertThisInitialized(_this86),"Bi",null),_defineProperty(_assertThisInitialized(_this86),"Hi",null),_temp24),_this86._shadowRoot=_this86.attachShadow({mode:"closed"}),_this86._shadowRoot.adoptedStyleSheets=[Cn._shadowStyleSheet],_this86._shadowRoot.append(document.importNode(Cn._shadowTemplate.content,!0));var _iterator111=_createForOfIteratorHelper(_this86._shadowRoot.querySelectorAll("[id]")),_step111;try{for(_iterator111.s();!(_step111=_iterator111.n()).done;){var _t197=_step111.value;_this86.I[_t197.id]=_t197;}}catch(err){_iterator111.e(err);}finally{_iterator111.f();}_this86.I.backdrop=Hs("x-backdrop"),_this86.I.backdrop.style.background="rgba(0, 0, 0, 0)",_this86.I.backdrop.ownerElement=_assertThisInitialized(_this86),_this86.I.backdrop.addEventListener("click",function(t){t.preventDefault();}),_this86.I.backdrop.addEventListener("pointerdown",function(t){_this86.hasAttribute("animating")&&t.stopPropagation();});return _this86;}_createClass(Cn,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=-1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"modal"===t&&(this.modal&&this.opened?this.I.backdrop.show():this.I.backdrop.hide());}},{key:"open",value:function open(t){var _this87=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref42=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee51(i){var _t198,_this87$Ne,_this87$Ne2,_e159,_i154,_s95;return regeneratorRuntime.wrap(function _callee51$(_context51){while(1){switch(_context51.prev=_context51.next){case 0:if(!(!1===_this87.opened)){_context51.next=8;break;}if(!(_this87.modal&&_this87.I.backdrop.show(!1),_this87.setAttribute("opened",""),_this87.Fi(),_this87.Ni(t),_this87.Bi=function(t){var e=function e(t){return t&&t!==document.body?function(t){var e=getComputedStyle(t,null);return /(auto|scroll)/.test(e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x"));}(t)?t:e(t.parentElement||t.parentNode.host):document.body;};return e(t);}(_this87),_this87.Bi&&_this87.Bi.addEventListener("scroll",_this87.Hi=function(){_this87.close();},{once:!0}),e)){_context51.next=7;break;}_t198=getComputedStyle(_this87).getPropertyValue("--open-transition"),_this87$Ne=_this87.Ne(_t198),_this87$Ne2=_slicedToArray(_this87$Ne,3),_e159=_this87$Ne2[0],_i154=_this87$Ne2[1],_s95=_this87$Ne2[2];_context51.t0="transform"===_e159;if(!_context51.t0){_context51.next=7;break;}_context51.next=7;return _this87.animate({transform:["scale(1, 0)","scale(1, 1)"],transformOrigin:["0 0","0 0"]},{duration:_i154,easing:_s95}).finished;case 7:_this87.dispatchEvent(new CustomEvent("open",{bubbles:!0,detail:_this87}));case 8:i();case 9:case"end":return _context51.stop();}}},_callee51);}));return function(_x39){return _ref42.apply(this,arguments);};}());}},{key:"close",value:function close(){var _this88=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref43=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee52(e){var _t199,_this88$Ne,_this88$Ne2,_e160,_i155,_s96;return regeneratorRuntime.wrap(function _callee52$(_context52){while(1){switch(_context52.prev=_context52.next){case 0:if(!(!0===_this88.opened&&(_this88.removeAttribute("opened"),_this88.I.backdrop.hide(),_this88.dispatchEvent(new CustomEvent("close",{bubbles:!0,detail:_this88})),_this88.Bi.removeEventListener("scroll",_this88.Hi),t))){_context52.next=8;break;}_t199=getComputedStyle(_this88).getPropertyValue("--close-transition"),_this88$Ne=_this88.Ne(_t199),_this88$Ne2=_slicedToArray(_this88$Ne,3),_e160=_this88$Ne2[0],_i155=_this88$Ne2[1],_s96=_this88$Ne2[2];_this88.setAttribute("animating","");_context52.t0="opacity"===_e160;if(!_context52.t0){_context52.next=7;break;}_context52.next=7;return _this88.animate({opacity:["1","0"]},{duration:_i155,easing:_s96}).finished;case 7:_this88.removeAttribute("animating");case 8:e();case 9:case"end":return _context52.stop();}}},_callee52);}));return function(_x40){return _ref43.apply(this,arguments);};}());}},{key:"Ni",value:function Ni(t){var _this89=this;var e=getComputedStyle(this).getPropertyValue("--align").trim(),i=parseInt(getComputedStyle(this).borderWidth),s=0,n=0,o=null;this.style.maxWidth=null,this.style.maxHeight=null,this.style.left="0px",this.style.top="0px";{var _e161=hs(this.getBoundingClientRect());0===_e161.top&&0===_e161.left||(s=-_e161.left,n=-_e161.top),o=t instanceof DOMPoint?new DOMRect(t.x,t.y,0,0):t instanceof DOMRect?t:t instanceof Element?t.getBoundingClientRect():new DOMRect();}if("bottom"===e||"top"===e){var _t200=function _t200(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","bottom");var e=hs(_this89.getBoundingClientRect()),s=hs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.bottom+2+i+"px",_this89.style.top=n+o.bottom+2+s.height+"px",e=hs(_this89.getBoundingClientRect()),l=e.bottom+8-window.innerHeight,t&&l>0){var _t201=e.height-l;l=0,_this89.style.maxHeight=_t201+"px";}return l;},_l34=function _l34(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null,_this89.I.arrow.setAttribute("data-align","top");var e=hs(_this89.getBoundingClientRect()),s=hs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.top=n+o.top-2-i-s.height+"px",_this89.style.top=n+o.top-2-s.height-e.height+"px",e=hs(_this89.getBoundingClientRect()),l=-(e.top-8),t&&l>0){var _t202=e.height-l;l=0,_this89.style.maxHeight=_t202+"px",_this89.style.top=n+o.top-2-s.height-_t202+"px";}return l;},_a22=function _a22(){_this89.style.maxWidth=null;var t=hs(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+o.left+o.width/2-t.width/2+"px",t=hs(_this89.getBoundingClientRect()),e=-(t.left-8),i=t.right+8-window.innerWidth,[e,i];},_h19=function _h19(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=hs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+window.innerWidth-8-e.width+"px",e=hs(_this89.getBoundingClientRect()),i=-(e.left-8),t&&i>0){var _t203=e.width-i;i=0,_this89.style.maxWidth=_t203+"px",_this89.style.left=s+window.innerWidth-8-_t203+"px";}return i;},_r12=function _r12(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null;var e=hs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.left=s+o.left+o.width/2+"px",_this89.style.left=s+8+"px",e=hs(_this89.getBoundingClientRect()),i=e.right+8-window.innerWidth,t&&i>0){var _t204=e.width-i;i=0,_this89.style.maxWidth=_t204+"px";}return i;};if("bottom"===e){var _e162=_t200();if(_e162>0){var _i156=_l34();_i156>0&&(_i156>_e162?_t200(!0):_l34(!0));}}else if("top"===e){var _e163=_l34();if(_e163>0){var _i157=_t200();_i157>0&&(_i157>_e163?_l34(!0):_t200(!0));}}{var _a23=_a22(),_a24=_slicedToArray(_a23,2),_t205=_a24[0],_e164=_a24[1];_e164>0?(_t205=_h19(),_t205>0&&_h19(!0)):_t205>0&&(_e164=_r12(),_e164>0&&_r12(!0));}}else if("right"===e||"left"===e){var _t206=function _t206(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","right");var e=hs(_this89.getBoundingClientRect()),n=hs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.right+2+i+"px",_this89.style.left=s+o.right+2+n.width+"px",e=hs(_this89.getBoundingClientRect()),l=e.right+8-window.innerWidth,t&&l>0){var _t207=e.width-l;l=0,_this89.style.maxWidth=_t207+"px";}return l;},_l35=function _l35(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxWidth=null,_this89.I.arrow.setAttribute("data-align","left");var e=hs(_this89.getBoundingClientRect()),n=hs(_this89.I.arrow.getBoundingClientRect()),l=0;if(_this89.I.arrow.style.left=s+o.left-2-i-n.width+"px",_this89.style.left=s+o.left-2-n.width-e.width+"px",e=hs(_this89.getBoundingClientRect()),l=-(e.left-8),t&&l>0){var _t208=e.width-l;l=0,_this89.style.maxWidth=_t208+"px",_this89.style.left=s+o.left-2-n.width-_t208+"px";}return l;},_a25=function _a25(){_this89.style.maxHeight=null;var t=hs(_this89.getBoundingClientRect()),e=0,i=0;return _this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+o.top+o.height/2-t.height/2+"px",t=hs(_this89.getBoundingClientRect()),e=-(t.top-8),i=t.bottom+8-window.innerHeight,[e,i];},_h20=function _h20(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=hs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+window.innerHeight-8-e.height+"px",e=hs(_this89.getBoundingClientRect()),i=-(e.top-8),t&&i>0){var _t209=e.height-i;i=0,_this89.style.maxHeight=_t209+"px",_this89.style.top=n+window.innerHeight-8-_t209+"px";}return i;},_r13=function _r13(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;_this89.style.maxHeight=null;var e=hs(_this89.getBoundingClientRect()),i=0;if(_this89.I.arrow.style.top=n+o.top+o.height/2+"px",_this89.style.top=n+8+"px",e=hs(_this89.getBoundingClientRect()),i=e.bottom+8-window.innerHeight,t&&i>0){var _t210=e.height-i;i=0,_this89.style.maxHeight=_t210+"px";}return i;};if("right"===e){var _e165=_t206();if(_e165>0){var _i158=_l35();_i158>0&&(_i158>_e165?_t206(!0):_l35(!0));}}else if("left"===e){var _e166=_l35();if(_e166>0){var _i159=_t206();_i159>0&&(_i159>_e166?_l35(!0):_t206(!0));}}{var _a26=_a25(),_a27=_slicedToArray(_a26,2),_t211=_a27[0],_e167=_a27[1];_e167>0?(_t211=_h20(),_t211>0&&_h20(!0)):_t211>0&&(_e167=_r13(),_e167>0&&_r13(!0));}}}},{key:"Fi",value:function Fi(){{var _getComputedStyle=getComputedStyle(this),_t212=_getComputedStyle.backgroundColor,_e168=_getComputedStyle.borderColor,_i160=_getComputedStyle.borderWidth;this.I["arrow-path"].style.fill=_t212,this.I["arrow-path"].style.stroke=_e168,this.I["arrow-path"].style.strokeWidth=_i160;}}},{key:"Ne",value:function Ne(t){var _t$trim$split3=t.trim().split(" "),_t$trim$split4=_toArray(_t$trim$split3),e=_t$trim$split4[0],i=_t$trim$split4[1],s=_t$trim$split4.slice(2);return[i,parseFloat(e),s.join(" ")];}}]);return Cn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cn,"observedAttributes",["modal"]);_defineProperty(Cn,"_shadowTemplate",Es(_templateObject152()));_defineProperty(Cn,"_shadowStyleSheet",Ts(_templateObject153()));customElements.define("x-popover",Cn);var Mn=/*#__PURE__*/function(_HTMLElement22){_inherits(Mn,_HTMLElement22);var _super23=_createSuper(Mn);_createClass(Mn,[{key:"value",get:function get(){return this.hasAttribute("value")?parseFloat(this.getAttribute("value")):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):1;},set:function set(t){this.setAttribute("max",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Mn(){var _temp25,_this90;_classCallCheck(this,Mn);(_temp25=_this90=_super23.call(this),_defineProperty(_assertThisInitialized(_this90),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this90),"I",{}),_defineProperty(_assertThisInitialized(_this90),"qi",null),_defineProperty(_assertThisInitialized(_this90),"B",null),_temp25),_this90._shadowRoot=_this90.attachShadow({mode:"closed"}),_this90._shadowRoot.adoptedStyleSheets=[Mn._shadowStyleSheet],_this90._shadowRoot.append(document.importNode(Mn._shadowTemplate.content,!0));var _iterator112=_createForOfIteratorHelper(_this90._shadowRoot.querySelectorAll("[id]")),_step112;try{for(_iterator112.s();!(_step112=_iterator112.n()).done;){var _t213=_step112.value;_this90.I[_t213.id]=_t213;}}catch(err){_iterator112.e(err);}finally{_iterator112.f();}return _this90;}_createClass(Mn,[{key:"connectedCallback",value:function connectedCallback(){var _this91=this;Ls.addEventListener("sizechange",this.B=function(){return _this91.U();}),this.nt(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t||"disabled"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){if(null===this.value||-1===this.value||this.disabled?this.I["determinate-bar"].style.width="0%":this.I["determinate-bar"].style.width=this.value/this.max*100+"%",null!==this.value||this.disabled){if(this.qi){var _iterator113=_createForOfIteratorHelper(this.qi),_step113;try{for(_iterator113.s();!(_step113=_iterator113.n()).done;){var _t214=_step113.value;_t214.cancel();}}catch(err){_iterator113.e(err);}finally{_iterator113.f();}this.qi=null;}}else this.qi||(this.qi=[this.I["primary-indeterminate-bar"].animate([{left:"-35%",right:"100%",offset:0},{left:"100%",right:"-90%",offset:.6},{left:"100%",right:"-90%",offset:1}],{duration:2e3,easing:"ease-in-out",iterations:Infinity}),this.I["secondary-indeterminate-bar"].animate([{left:"-100%",right:"100%",offset:0},{left:"110%",right:"-30%",offset:.8},{left:"110%",right:"-30%",offset:1}],{duration:2e3,delay:1e3,easing:"ease-in-out",iterations:Infinity})]);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Mn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Mn,"observedAttributes",["value","max","disabled","size"]);_defineProperty(Mn,"_shadowTemplate",Es(_templateObject154()));_defineProperty(Mn,"_shadowStyleSheet",Ts(_templateObject155()));customElements.define("x-progressbar",Mn);var Pn=/*#__PURE__*/function(_HTMLElement23){_inherits(Pn,_HTMLElement23);var _super24=_createSuper(Pn);_createClass(Pn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Pn(){var _temp26,_this92;_classCallCheck(this,Pn);(_temp26=_this92=_super24.call(this),_defineProperty(_assertThisInitialized(_this92),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this92),"I",{}),_defineProperty(_assertThisInitialized(_this92),"yt",0),_defineProperty(_assertThisInitialized(_this92),"B",null),_temp26),_this92._shadowRoot=_this92.attachShadow({mode:"closed"}),_this92._shadowRoot.adoptedStyleSheets=[Pn._shadowStyleSheet],_this92._shadowRoot.append(document.importNode(Pn._shadowTemplate.content,!0));var _iterator114=_createForOfIteratorHelper(_this92._shadowRoot.querySelectorAll("[id]")),_step114;try{for(_iterator114.s();!(_step114=_iterator114.n()).done;){var _t215=_step114.value;_this92.I[_t215.id]=_t215;}}catch(err){_iterator114.e(err);}finally{_iterator114.f();}_this92.addEventListener("click",function(t){return _this92.N(t);}),_this92.addEventListener("pointerdown",function(t){return _this92.zt(t);}),_this92.addEventListener("keydown",function(t){return _this92.kt(t);});return _this92;}_createClass(Pn,[{key:"connectedCallback",value:function connectedCallback(){var _this93=this;Ls.addEventListener("sizechange",this.B=function(){return _this93.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","radio"),this.setAttribute("aria-checked",this.toggled),this.setAttribute("aria-disabled",this.disabled),this.closest("x-radios")||(this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0));}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"N",value:function N(t){this.closest("x-radios")||(this.toggled&&this.mixed?this.mixed=!1:(this.mixed=!1,this.toggled=!this.toggled),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0})));}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e169=Ys(this.parentNode,"[tabindex]");_e169&&_e169.focus();}}},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return Pn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(Pn,"_shadowTemplate",Es(_templateObject156()));_defineProperty(Pn,"_shadowStyleSheet",Ts(_templateObject157()));customElements.define("x-radio",Pn);var Dn=/*#__PURE__*/function(_HTMLElement24){_inherits(Dn,_HTMLElement24);var _super25=_createSuper(Dn);_createClass(Dn,[{key:"value",get:function get(){var t=this.querySelector("x-radio[toggled]");return t?t.value:null;},set:function set(t){var _iterator115=_createForOfIteratorHelper(this.querySelectorAll("x-radio")),_step115;try{for(_iterator115.s();!(_step115=_iterator115.n()).done;){var _e170=_step115.value;_e170.toggled=_e170.value===t&&null!==t;}}catch(err){_iterator115.e(err);}finally{_iterator115.f();}}}]);function Dn(){var _temp27,_this94;_classCallCheck(this,Dn);(_temp27=_this94=_super25.call(this),_defineProperty(_assertThisInitialized(_this94),"_shadowRoot",null),_temp27),_this94._shadowRoot=_this94.attachShadow({mode:"closed"}),_this94._shadowRoot.innerHTML="<slot></slot>",_this94.addEventListener("click",function(t){return _this94.N(t);},!0),_this94.addEventListener("keydown",function(t){return _this94.kt(t);});return _this94;}_createClass(Dn,[{key:"connectedCallback",value:function connectedCallback(){var _this95=this;this.setAttribute("role","radiogroup");var t=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this95;}),e=t.find(function(t){return t.toggled&&!t.disabled;})||t.find(function(t){return!t.disabled;});var _iterator116=_createForOfIteratorHelper(t),_step116;try{for(_iterator116.s();!(_step116=_iterator116.n()).done;){var _i161=_step116.value;_i161.setAttribute("tabindex",_i161===e?"0 ":"-1"),_i161.setAttribute("aria-checked",_i161===e);}}catch(err){_iterator116.e(err);}finally{_iterator116.f();}}},{key:"N",value:function N(t){var _this96=this;var e=t.target.closest("x-radio");if(e&&!e.toggled&&!e.disabled&&0===t.button){var _t216=_toConsumableArray(this.querySelectorAll("x-radio")).filter(function(t){return t.closest("x-radios")===_this96&&t!==e;});if(!1===e.toggled||!0===e.mixed){e.toggled=!0,e.mixed=!1,e.tabIndex=0;var _iterator117=_createForOfIteratorHelper(_t216),_step117;try{for(_iterator117.s();!(_step117=_iterator117.n()).done;){var _e171=_step117.value;_e171.toggled=!1,_e171.tabIndex=-1;}}catch(err){_iterator117.e(err);}finally{_iterator117.f();}this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0,detail:e}));}}}},{key:"kt",value:function kt(t){var _this97=this;var e=t.key;if("ArrowDown"===e||"ArrowRight"===e){var _e172=_toConsumableArray(this.querySelectorAll("x-radio")),_i162=_e172.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s97=_e172.find(function(t){return t.matches(":focus");});if(_s97){var _e173=_i162.indexOf(_s97),_n58=_i162.length>1?_i162[_e173+1]||_i162[0]:null;_n58&&(t.preventDefault(),_n58.focus(),_n58.tabIndex=0,_s97.tabIndex=-1);}}else if("ArrowUp"===e||"ArrowLeft"===e){var _e174=_toConsumableArray(this.querySelectorAll("x-radio")),_i163=_e174.filter(function(t){return!1===t.disabled&&t.closest("x-radios")===_this97;}),_s98=_e174.find(function(t){return t.matches(":focus");});if(_s98){var _e175=_i163.indexOf(_s98),_n59=_i163[_i163.length-1],_o41=_i163.length>1?_i163[_e175-1]||_n59:null;_o41&&(t.preventDefault(),_o41.focus(),_o41.tabIndex=0,_s98.tabIndex=-1);}}}}]);return Dn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));customElements.define("x-radios",Dn);var zn=/*#__PURE__*/function(_HTMLElement25){_inherits(zn,_HTMLElement25);var _super26=_createSuper(zn);_createClass(zn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function zn(){var _temp28,_this98;_classCallCheck(this,zn);(_temp28=_this98=_super26.call(this),_defineProperty(_assertThisInitialized(_this98),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this98),"I",{}),_defineProperty(_assertThisInitialized(_this98),"B",null),_defineProperty(_assertThisInitialized(_this98),"X",0),_defineProperty(_assertThisInitialized(_this98),"V",0),_defineProperty(_assertThisInitialized(_this98),"Ui",100),_defineProperty(_assertThisInitialized(_this98),"G",1),_defineProperty(_assertThisInitialized(_this98),"Y",!1),_defineProperty(_assertThisInitialized(_this98),"ji",!1),_defineProperty(_assertThisInitialized(_this98),"tt",!1),_temp28),_this98._shadowRoot=_this98.attachShadow({mode:"closed"}),_this98._shadowRoot.adoptedStyleSheets=[zn._shadowStyleSheet],_this98._shadowRoot.append(document.importNode(zn._shadowTemplate.content,!0));var _iterator118=_createForOfIteratorHelper(_this98._shadowRoot.querySelectorAll("[id]")),_step118;try{for(_iterator118.s();!(_step118=_iterator118.n()).done;){var _t217=_step118.value;_this98.I[_t217.id]=_t217;}}catch(err){_iterator118.e(err);}finally{_iterator118.f();}_this98.I["hue-slider"].addEventListener("pointerdown",function(t){return _this98.et(t);}),_this98.I["satlight-slider"].addEventListener("pointerdown",function(t){return _this98.Ki(t);}),_this98.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this98.ht(t);});return _this98;}_createClass(zn,[{key:"connectedCallback",value:function connectedCallback(){var _this99=this;this.nt(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this99.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.at(),this.Xi(),this.Vi(),this.bt(),this.gt();}},{key:"at",value:function at(){this.I["hue-slider-marker"].style.left=rs(this.X,0,360,0)/360*100+"%";}},{key:"Xi",value:function Xi(){var t=this.V/100*100,e=100-this.Ui/100*100;this.I["satlight-marker"].style.left="".concat(t,"%"),this.I["satlight-marker"].style.top="".concat(e,"%");}},{key:"Vi",value:function Vi(){var t=Ss([this.X,100,50,1],"hsla","hex");this.I["satlight-slider"].style.background="linear-gradient(to bottom, rgba(0,0,0,0), rgba(0,0,0,1)), linear-gradient(to left, rgba(255,255,255,0), rgba(255,255,255,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=rs(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _ks$map=ks(this.X,this.V,this.Ui).map(function(t){return as(t,0);}),_ks$map2=_slicedToArray(_ks$map,3),t=_ks$map2[0],e=_ks$map2[1],i=_ks$map2[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Y&&!1===this.ji&&!1===this.tt){var _zs$parse7=new zs().parse(this.value,"hsva"),_zs$parse8=_slicedToArray(_zs$parse7,4),_t218=_zs$parse8[0],_e176=_zs$parse8[1],_i164=_zs$parse8[2],_s99=_zs$parse8[3];this.X=_t218,this.V=_e176,this.Ui=_i164,this.G=_s99,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"Ki",value:function Ki(t){var _this100=this;if(1!==t.buttons)return;var e,_i165,s=this.I["satlight-slider"].getBoundingClientRect();this.ji=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["satlight-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=(t-s.left)/s.width*100,n=(e-s.top)/s.height*100;i=rs(i,0,100,2),n=rs(n,0,100,2),_this100.V=i,_this100.Ui=100-n,_this100.value=Ss([_this100.X,_this100.V,_this100.Ui,_this100.G],"hsva","hsla"),_this100.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this100.Xi(),_this100.Vi(),_this100.gt();};n(t.clientX,t.clientY),this.I["satlight-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["satlight-slider"].addEventListener("lostpointercapture",_i165=function i(t){_this100.I["satlight-slider"].removeEventListener("pointermove",e),_this100.I["satlight-slider"].removeEventListener("lostpointercapture",_i165),_this100.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this100.ji=!1;});}},{key:"et",value:function et(t){var _this101=this;if(1!==t.buttons)return;var e,_i166,s=this.I["hue-slider-track"].getBoundingClientRect();this.Y=!0,this.I["hue-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=(t-s.x)/s.width*360;e=rs(e,0,360,0),e!==_this101.X&&(_this101.X=e,_this101.value=Ss([_this101.X,_this101.V,_this101.Ui,_this101.G],"hsva","hsla"),_this101.at(),_this101.Vi(),_this101.Xi(),_this101.gt(),_this101.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["hue-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["hue-slider"].addEventListener("lostpointercapture",_i166=function i(){_this101.I["hue-slider"].removeEventListener("pointermove",e),_this101.I["hue-slider"].removeEventListener("lostpointercapture",_i166),_this101.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this101.Y=!1;});}},{key:"ht",value:function ht(t){var _this102=this;if(1!==t.buttons)return;var e,_i167,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=rs(e,0,1,2),e!==_this102.G&&(_this102.G=e,_this102.value=Ss([_this102.X,_this102.V,_this102.Ui,_this102.G],"hsva","hsla"),_this102.bt(),_this102.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i167=function i(){_this102.I["alpha-slider"].removeEventListener("pointermove",e),_this102.I["alpha-slider"].removeEventListener("lostpointercapture",_i167),_this102.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this102.tt=!1;});}}]);return zn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zn,"observedAttributes",["value","size"]);_defineProperty(zn,"_shadowTemplate",Es(_templateObject158()));_defineProperty(zn,"_shadowStyleSheet",Ts(_templateObject159()));customElements.define("x-rectcolorpicker",zn);var On=Symbol();var En=/*#__PURE__*/function(_HTMLElement26){_inherits(En,_HTMLElement26);var _super27=_createSuper(En);_createClass(En,[{key:"value",get:function get(){var t=this.querySelector("x-menuitem[toggled]");return t?t.value:null;},set:function set(t){var _iterator119=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem")),_step119;try{for(_iterator119.s();!(_step119=_iterator119.n()).done;){var _e177=_step119.value;_e177.toggled=_e177.value===t&&null!==t;}}catch(err){_iterator119.e(err);}finally{_iterator119.f();}}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function En(){var _temp29,_this103;_classCallCheck(this,En);(_temp29=_this103=_super27.call(this),_defineProperty(_assertThisInitialized(_this103),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this103),"I",{}),_defineProperty(_assertThisInitialized(_this103),"yt",0),_defineProperty(_assertThisInitialized(_this103),"wt",!1),_defineProperty(_assertThisInitialized(_this103),"Zi",null),_defineProperty(_assertThisInitialized(_this103),"Gi",null),_defineProperty(_assertThisInitialized(_this103),"B",null),_defineProperty(_assertThisInitialized(_this103),"Yi",new MutationObserver(function(t){return _this103.Wi(t);})),_defineProperty(_assertThisInitialized(_this103),"O",new ResizeObserver(function(){return _this103.Ji();})),_defineProperty(_assertThisInitialized(_this103),"os",Xs(_this103.es,300,_assertThisInitialized(_this103))),_temp29),_this103._shadowRoot=_this103.attachShadow({mode:"closed"}),_this103._shadowRoot.adoptedStyleSheets=[En._shadowStyleSheet],_this103._shadowRoot.append(document.importNode(En._shadowTemplate.content,!0));var _iterator120=_createForOfIteratorHelper(_this103._shadowRoot.querySelectorAll("[id]")),_step120;try{for(_iterator120.s();!(_step120=_iterator120.n()).done;){var _t219=_step120.value;_this103.I[_t219.id]=_t219;}}catch(err){_iterator120.e(err);}finally{_iterator120.f();}_this103.I.backdrop=Hs("x-backdrop"),_this103.I.backdrop.style.opacity="0",_this103.I.backdrop.ownerElement=_assertThisInitialized(_this103),_this103.I.backdrop.addEventListener("click",function(t){return _this103.Qi(t);}),_this103.addEventListener("pointerdown",function(t){return _this103.zt(t);}),_this103.addEventListener("toggle",function(t){return _this103.ts(t);}),_this103.addEventListener("click",function(t){return _this103.N(t);}),_this103.addEventListener("keydown",function(t){return _this103.kt(t);});return _this103;}_createClass(En,[{key:"connectedCallback",value:function connectedCallback(){var _this104=this;this.Yi.observe(this,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this.O.observe(this),this.es(),this.Ct(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this104.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Yi.disconnect(),this.O.disconnect(),Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"Vt",value:function Vt(){var _this105=this;if(!1===this.ss())return;this.wt=this.matches(":focus"),this.I.backdrop.show(!1),window.addEventListener("resize",this.Zi=function(){_this105.Zt();}),window.addEventListener("blur",this.Gi=function(){_this105.Zt();});var t=this.querySelector(":scope > x-menu");{var _e178=null;var _iterator121=_createForOfIteratorHelper(t.querySelectorAll("x-menuitem")),_step121;try{for(_iterator121.s();!(_step121=_iterator121.n()).done;){var _i168=_step121.value;_i168.togglable=!0,_i168.toggled&&(null===_e178?_e178=_i168:_i168.toggled=!1);}}catch(err){_iterator121.e(err);}finally{_iterator121.f();}}if(t.querySelector("x-menuitem[toggled]")){var _e179=this.I.button.querySelector("x-label")||this.I.button.firstElementChild,_i169=_e179[On];t.openOverElement(_e179,_i169);}else{var _e180=t.querySelector("x-menuitem").firstElementChild;t.openOverElement(this.I.button,_e180);}{var _e181=t.getBoundingClientRect(),_i170=this.I.button.getBoundingClientRect(),_s100=parseFloat(getComputedStyle(this).paddingRight);_e181.right-_s100<_i170.right&&(t.style.minWidth=_i170.right-_e181.left+_s100+"px");}{var _t220=this.getBoundingClientRect();_t220.right+7>window.innerWidth&&(this.style.maxWidth=window.innerWidth-_t220.left-7+"px");}}},{key:"Zt",value:function(){var _Zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee53(){var t,e,_t221,_args53=arguments;return regeneratorRuntime.wrap(function _callee53$(_context53){while(1){switch(_context53.prev=_context53.next){case 0:t=_args53.length>0&&_args53[0]!==undefined?_args53[0]:null;if(!(!1===this.hs())){_context53.next=3;break;}return _context53.abrupt("return");case 3:e=this.querySelector(":scope > x-menu");e.setAttribute("closing","");_context53.next=7;return t;case 7:this.I.backdrop.hide(!1);if(!this.wt){_context53.next=12;break;}this.focus();_context53.next=14;break;case 12:_t221=Ys(this.parentNode,"[tabindex]");_t221&&_t221.focus();case 14:window.removeEventListener("resize",this.Zi);window.removeEventListener("blur",this.Gi);_context53.next=18;return e.close();case 18:e.removeAttribute("closing");case 19:case"end":return _context53.stop();}}},_callee53,this);}));function Zt(){return _Zt2.apply(this,arguments);}return Zt;}()},{key:"ss",value:function ss(){if(this.disabled)return!1;{var _t222=this.querySelector(":scope > x-menu"),_e182=_t222.querySelector("x-menuitem");return null!==_t222&&!1===_t222.opened&&!1===_t222.hasAttribute("closing")&&null!==_e182;}}},{key:"hs",value:function hs(){if(this.disabled)return!1;{var _t223=this.querySelector(":scope > x-menu");return _t223.querySelector("x-menuitem"),null!==_t223&&!0===_t223.opened&&!1===_t223.hasAttribute("closing");}}},{key:"es",value:function es(){var t=this.querySelector(":scope > x-menu x-menuitem[toggled]");if(this.I.button.innerHTML="",t){var _iterator122=_createForOfIteratorHelper(t.children),_step122;try{for(_iterator122.s();!(_step122=_iterator122.n()).done;){var _e183=_step122.value;var _t224=_e183.cloneNode(!0);_t224[On]=_e183,_t224.removeAttribute("id"),_t224.removeAttribute("style"),this.I.button.append(_t224);}}catch(err){_iterator122.e(err);}finally{_iterator122.f();}this.ns();}this.I.button.append(this.I["arrow-container"]);}},{key:"ns",value:function ns(){var _iterator123=_createForOfIteratorHelper(this.I.button.children),_step123;try{for(_iterator123.s();!(_step123=_iterator123.n()).done;){var _t225=_step123.value;if(_t225!==this.I["arrow-container"]){var _getComputedStyle2=getComputedStyle(_t225[On]),_e184=_getComputedStyle2.width,_i171=_getComputedStyle2.height,_s101=_getComputedStyle2.margin,_n60=_getComputedStyle2.padding,_o42=_getComputedStyle2.border,_l36=_getComputedStyle2.borderRadius;["x-icon","x-swatch","img","svg"].includes(_t225[On].localName)&&(_t225.style.width=_e184,_t225.style.height=_i171,_t225.style.minWidth=_e184,_t225.style.borderRadius=_l36),_t225.style.margin=_s101,_t225.style.padding=_n60,_t225.style.border=_o42;}}}catch(err){_iterator123.e(err);}finally{_iterator123.f();}}},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);{this.setAttribute("role","button");var _t226=this.querySelector(":scope > x-menu");if(_t226){_t226.setAttribute("role","listbox");var _iterator124=_createForOfIteratorHelper(_t226.querySelectorAll("x-menuitem")),_step124;try{for(_iterator124.s();!(_step124=_iterator124.n()).done;){var _e185=_step124.value;_e185.setAttribute("role","option");}}catch(err){_iterator124.e(err);}finally{_iterator124.f();}}}}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Wi",value:function Wi(t){var _iterator125=_createForOfIteratorHelper(t),_step125;try{for(_iterator125.s();!(_step125=_iterator125.n()).done;){var _e186=_step125.value;"attributes"===_e186.type&&"x-menuitem"===_e186.target.localName&&"toggled"===_e186.attributeName&&this.os();}}catch(err){_iterator125.e(err);}finally{_iterator125.f();}}},{key:"Ji",value:function Ji(){this.ns();}},{key:"zt",value:function zt(t){t.target.closest("x-menu")||!1!==this.matches(":focus")||t.preventDefault();}},{key:"N",value:function(){var _N5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee54(t){var _e187,_t227,_i172,_iterator126,_step126,_t228;return regeneratorRuntime.wrap(function _callee54$(_context54){while(1){switch(_context54.prev=_context54.next){case 0:if(!(0===t.button)){_context54.next=14;break;}if(!this.ss()){_context54.next=5;break;}this.Vt();_context54.next=14;break;case 5:if(!this.hs()){_context54.next=14;break;}_e187=t.target.closest("x-menuitem");if(!_e187){_context54.next=14;break;}_t227=this.value,_i172=_e187.value;_iterator126=_createForOfIteratorHelper(this.querySelectorAll("x-menuitem"));try{for(_iterator126.s();!(_step126=_iterator126.n()).done;){_t228=_step126.value;_t228.toggled=_t228===_e187;}}catch(err){_iterator126.e(err);}finally{_iterator126.f();}_context54.next=13;return this.Zt(_e187.whenTriggerEnd);case 13:(_t227!==_i172||this.mixed)&&(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:{oldValue:_t227,newValue:_i172}})));case 14:case"end":return _context54.stop();}}},_callee54,this);}));function N(_x41){return _N5.apply(this,arguments);}return N;}()},{key:"ts",value:function ts(t){t.preventDefault();}},{key:"Qi",value:function Qi(t){this.Zt();}},{key:"kt",value:function kt(t){!1===t.defaultPrevented&&(this.querySelector(":scope > x-menu"),"Enter"===t.key||"Space"===t.key||"ArrowUp"===t.key||"ArrowDown"===t.key?this.ss()&&(t.preventDefault(),this.Vt()):"Escape"===t.key&&this.hs()&&(t.preventDefault(),this.Zt()));}}]);return En;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(En,"observedAttributes",["disabled","size"]);_defineProperty(En,"_shadowTemplate",Es(_templateObject160()));_defineProperty(En,"_shadowStyleSheet",Ts(_templateObject161()));customElements.define("x-select",En);var Tn=navigator.platform.startsWith("Mac")||["iPhone","iPad"].includes(navigator.platform),An=["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Symbol","SymbolLock"];var $n=/*#__PURE__*/function(_HTMLElement27){_inherits($n,_HTMLElement27);var _super28=_createSuper($n);_createClass($n,[{key:"value",get:function get(){var t=[];if(this.hasAttribute("value")){var _e188=this.getAttribute("value").replace("++","+PLUS").split("+");_e188=_e188.map(function(t){return t.trim().replace("PLUS","+");}).filter(function(t){return""!==t;}),t=_e188;}return t;},set:function set(t){this.setAttribute("value",t.join("+"));}},{key:"modKeys",get:function get(){return this.value.filter(function(t){return An.includes(t);});}},{key:"normalKey",get:function get(){var t=this.value.find(function(t){return!1===An.includes(t);});return void 0===t?null:t;}}]);function $n(){var _temp30,_this106;_classCallCheck(this,$n);(_temp30=_this106=_super28.call(this),_defineProperty(_assertThisInitialized(_this106),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this106),"I",{}),_temp30),_this106._shadowRoot=_this106.attachShadow({mode:"closed"}),_this106._shadowRoot.adoptedStyleSheets=[$n._shadowStyleSheet],_this106._shadowRoot.append(document.importNode($n._shadowTemplate.content,!0));var _iterator127=_createForOfIteratorHelper(_this106._shadowRoot.querySelectorAll("[id]")),_step127;try{for(_iterator127.s();!(_step127=_iterator127.n()).done;){var _t229=_step127.value;_this106.I[_t229.id]=_t229;}}catch(err){_iterator127.e(err);}finally{_iterator127.f();}return _this106;}_createClass($n,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t&&this.nt();}},{key:"nt",value:function nt(){var t="";this.value;var e=this.modKeys,i=this.normalKey;if(Tn){e.includes("Meta")&&(t+="^"),e.includes("Alt")&&(t+="\u2325"),e.includes("Shift")&&(t+="\u21E7"),e.includes("Control")&&(t+="\u2318"),e.includes("Symbol")&&(t+="\u263A");var _s102={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326"};void 0!==i&&(t+=_s102[i]||i);}else{var _s103=[];e.includes("Control")&&_s103.push("Ctrl"),e.includes("Alt")&&_s103.push("Alt"),e.includes("Meta")&&_s103.push("Meta"),e.includes("Shift")&&_s103.push("Shift"),e.includes("Symbol")&&_s103.push("Symbol");var _n61={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==i&&_s103.push(_n61[i]||i),t=_s103.join("+");}this.I.main.textContent=t;}}]);return $n;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($n,"observedAttributes",["value"]);_defineProperty($n,"_shadowTemplate",Es(_templateObject162()));_defineProperty($n,"_shadowStyleSheet",Ts(_templateObject163()));customElements.define("x-shortcut",$n);var In=function In(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(t.length!==e.length)return!1;if(i){for(var _i173 in t){if(t[_i173]!==e[_i173])return!1;}}else{for(var _i174=0;_i174<t.length;_i174+=1){if(!e.includes(t[_i174]))return!1;}for(var _i175=0;_i175<e.length;_i175+=1){if(!t.includes(e[_i175]))return!1;}}return!0;},Ln=function Ln(t,e){return as(as(t/e)*e,ds(e));};var Bn=/*#__PURE__*/function(_HTMLElement28){_inherits(Bn,_HTMLElement28);var _super29=_createSuper(Bn);_createClass(Bn,[{key:"min",get:function get(){return this.hasAttribute("min")?parseFloat(this.getAttribute("min")):0;},set:function set(t){this.setAttribute("min",t);}},{key:"max",get:function get(){return this.hasAttribute("max")?parseFloat(this.getAttribute("max")):100;},set:function set(t){this.setAttribute("max",t);}},{key:"value",get:function get(){if(this.hasAttribute("value")){var _t230=this.getAttribute("value").split(/[ ,]+/);return _t230.length>=2?_t230.map(function(t){return parseFloat(t);}).slice(0,2):parseFloat(_t230[0]);}return this.max>=this.min?this.min+(this.max-this.min)/2:this.min;},set:function set(t){var _this108=this;Array.isArray(t)?((t=t.map(function(t){return rs(t,_this108.min,_this108.max);})).length=2,this.setAttribute("value",t.join(" "))):(t=rs(t,this.min,this.max),this.setAttribute("value",t));}},{key:"buffer",get:function get(){if(this.hasAttribute("buffer")){var _t231=this.getAttribute("buffer").split(/[ ,]+/);return _t231.length>=2?_t231.map(function(t){return parseFloat(t);}).slice(0,2):[0,parseFloat(_t231[0])];}return[0,0];},set:function set(t){var _this109=this;(t=t.map(function(t){return rs(t,_this109.min,_this109.max);})).length=2,this.setAttribute("buffer",t.join(" "));}},{key:"step",get:function get(){return this.hasAttribute("step")?parseFloat(this.getAttribute("step")):1;},set:function set(t){this.setAttribute("step",t);}},{key:"vertical",get:function get(){return this.hasAttribute("vertical");},set:function set(t){t?this.setAttribute("vertical",""):this.removeAttribute("vertical");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}},{key:"dragging",get:function get(){return this.getAttribute("dragging");}}]);function Bn(){var _temp31,_this107;_classCallCheck(this,Bn);(_temp31=_this107=_super29.call(this),_defineProperty(_assertThisInitialized(_this107),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this107),"I",{}),_defineProperty(_assertThisInitialized(_this107),"yt",0),_defineProperty(_assertThisInitialized(_this107),"B",null),_defineProperty(_assertThisInitialized(_this107),"Yi",new MutationObserver(function(t){return _this107.Wi(t);})),_defineProperty(_assertThisInitialized(_this107),"ls",new ResizeObserver(function(){return _this107.rs();})),_defineProperty(_assertThisInitialized(_this107),"bs",Xs(_this107.cs,500,_assertThisInitialized(_this107))),_temp31),_this107._shadowRoot=_this107.attachShadow({mode:"closed",delegatesFocus:!0}),_this107._shadowRoot.adoptedStyleSheets=[Bn._shadowStyleSheet],_this107._shadowRoot.append(document.importNode(Bn._shadowTemplate.content,!0));var _iterator128=_createForOfIteratorHelper(_this107._shadowRoot.querySelectorAll("[id]")),_step128;try{for(_iterator128.s();!(_step128=_iterator128.n()).done;){var _t232=_step128.value;_this107.I[_t232.id]=_t232;}}catch(err){_iterator128.e(err);}finally{_iterator128.f();}_this107._shadowRoot.addEventListener("pointerdown",function(t){return _this107.vi(t);}),_this107.addEventListener("pointerdown",function(t){return _this107.zt(t);}),_this107.addEventListener("keydown",function(t){return _this107.kt(t);});return _this107;}_createClass(Bn,[{key:"connectedCallback",value:function connectedCallback(){var _this110=this;this.setAttribute("value",this.value),Ls.addEventListener("sizechange",this.B=function(){return _this110.U();}),this.ls.observe(this.I["start-thumb"]),this.Yi.observe(this,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"],characterData:!1}),this.ds(),this.us(),this.cs(),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B),this.ls.unobserve(this.I["start-thumb"]),this.Yi.disconnect();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"buffer"===t?this.ps():"min"===t?this.Ei():"max"===t?this.Ai():"size"===t&&this.lt());}},{key:"ot",value:function ot(){this.ds(),this.us();}},{key:"ps",value:function ps(){this.ds();}},{key:"Ei",value:function Ei(){this.ds(),this.us(),this.cs();}},{key:"Ai",value:function Ai(){this.ds(),this.us(),this.cs();}},{key:"lt",value:function lt(){this.U();}},{key:"Wi",value:function Wi(t){var _iterator129=_createForOfIteratorHelper(t),_step129;try{for(_iterator129.s();!(_step129=_iterator129.n()).done;){var _e189=_step129.value;if("attributes"===_e189.type&&_e189.target===this)return;this.bs();}}catch(err){_iterator129.e(err);}finally{_iterator129.f();}}},{key:"rs",value:function rs(){var t=this.I["start-thumb"].getBoundingClientRect();this.I.main.style.setProperty("--computed-thumb-width",t.width+"px"),this.I.main.style.setProperty("--computed-thumb-height",t.height+"px");}},{key:"zt",value:function zt(t){if(!1===this.matches(":focus")){t.preventDefault();var _e190=Ys(this.parentNode,"[tabindex]");_e190&&_e190.focus();}}},{key:"vi",value:function vi(t){var _this111=this;if(1!==t.buttons||!1===t.isPrimary)return;var e,_i177,s=null,_this$I$startThumb$g=this.I["start-thumb"].getBoundingClientRect(),n=_this$I$startThumb$g.width,o=_this$I$startThumb$g.height,l=this.I.main.getBoundingClientRect(),a=!1;if(t.target.matches(".thumb"))s=t.target;else if(!0===this.I["end-thumb"].hidden)s=this.I["start-thumb"];else{var _e191=this.I["start-thumb"].getBoundingClientRect(),_i176=this.I["end-thumb"].getBoundingClientRect(),_n62=new DOMPoint(_e191.x+_e191.width/2,_e191.y+_e191.height/2),_o43=new DOMPoint(_i176.x+_i176.width/2,_i176.y+_i176.height/2),_l37=new DOMPoint(t.clientX,t.clientY),_a28=cs(_l37,_n62),_h21=cs(_l37,_o43);s=_a28<=_h21?this.I["start-thumb"]:this.I["end-thumb"];}var h=function h(t,e){var i=0;if(_this111.vertical){var _t233=l.y+l.height-o/2-e;_t233=rs(_t233,0,l.height-o),i=_t233/(l.height-o)*(_this111.max-_this111.min)+_this111.min;}else{var _e192=t-(l.x+n/2);_e192=rs(_e192,0,l.width-n),i=_e192/(l.width-n)*(_this111.max-_this111.min)+_this111.min;}if(i=Ln(i,_this111.step),Array.isArray(_this111.value)){var _this111$value=_slicedToArray(_this111.value,2),_t234=_this111$value[0],_e193=_this111$value[1];s===_this111.I["start-thumb"]?(i>=_e193&&(i=_e193),i!==_t234&&(_this111.value=[i,_e193],!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})))):s===_this111.I["end-thumb"]&&(i<=_t234&&(i=_t234),i!==_e193&&(_this111.value=[_t234,i],!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0}))));}else _this111.value!==i&&(_this111.value=i,!1===a&&(a=!0,_this111.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}))),_this111.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};s.setPointerCapture(t.pointerId),this.setAttribute("dragging",s.dataset.value),h(t.clientX,t.clientY);var _iterator130=_createForOfIteratorHelper(this.I.thumbs.children),_step130;try{for(_iterator130.s();!(_step130=_iterator130.n()).done;){var _t235=_step130.value;_t235.style.zIndex=_t235===s?"1":"0";}}catch(err){_iterator130.e(err);}finally{_iterator130.f();}s.addEventListener("pointermove",e=function e(t){t.isPrimary&&h(t.clientX,t.clientY);}),s.addEventListener("lostpointercapture",_i177=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i177),_this111.removeAttribute("dragging"),a&&_this111.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));});}},{key:"kt",value:function kt(t){if("ArrowLeft"===t.code||"ArrowDown"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e194=this.value;if(Array.isArray(this.value)){var _this$value=_slicedToArray(this.value,2),_i178=_this$value[0],_s104=_this$value[1];this._shadowRoot.activeElement===this.I["start-thumb"]?t.shiftKey?_i178-=10*this.step:_i178-=this.step:this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s104-=10*this.step:_s104-=this.step,_s104<=_i178&&(_s104=_i178)),this.value=[_i178,_s104],!1===In(_e194,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value-=10*this.step:this.value-=this.step,_e194!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}else if("ArrowRight"===t.code||"ArrowUp"===t.code){t.preventDefault(),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var _e195=this.value;if(Array.isArray(this.value)){var _this$value2=_slicedToArray(this.value,2),_i179=_this$value2[0],_s105=_this$value2[1];this._shadowRoot.activeElement===this.I["start-thumb"]?(t.shiftKey?_i179+=10*this.step:_i179+=this.step,_i179>=_s105&&(_i179=_s105)):this._shadowRoot.activeElement===this.I["end-thumb"]&&(t.shiftKey?_s105+=10*this.step:_s105+=this.step),this.value=[_i179,_s105],!1===In(_e195,this.value)&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}else t.shiftKey?this.value+=10*this.step:this.value+=this.step,_e195!==this.value&&this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}}},{key:"us",value:function us(){if(Array.isArray(this.value)){var _this$value3=_slicedToArray(this.value,2),_t236=_this$value3[0],_e196=_this$value3[1];{var _e197=(_t236-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_e197+"%",this.I["start-thumb"].hidden=!1):(this.I["start-thumb"].style.left=_e197+"%",this.I["start-thumb"].hidden=!1);}{var _t237=(_e196-this.min)/(this.max-this.min)*100;this.vertical?(this.I["end-thumb"].style.top=100-_t237+"%",this.I["end-thumb"].hidden=!1):(this.I["end-thumb"].style.left=_t237+"%",this.I["end-thumb"].hidden=!1);}}else{var _t238=(this.value-this.min)/(this.max-this.min)*100;this.vertical?(this.I["start-thumb"].style.top=100-_t238+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0):(this.I["start-thumb"].style.left=_t238+"%",this.I["start-thumb"].hidden=!1,this.I["end-thumb"].hidden=!0);}}},{key:"ds",value:function ds(){if(Array.isArray(this.value)){var _this$value4=_slicedToArray(this.value,2),_t239=_this$value4[0],_e198=_this$value4[1],_i180=(_t239-this.min)/(this.max-this.min)*100,_s106=(_e198-this.min)/(this.max-this.min)*100;this.vertical?(this.I["range-track"].style.bottom="".concat(_i180,"%"),this.I["range-track"].style.height=_s106-_i180+"%"):(this.I["range-track"].style.left="".concat(_i180,"%"),this.I["range-track"].style.width=_s106-_i180+"%");}else{var _t240=(this.value-this.min)/(this.max-this.min)*100,_e199=((this.min>0?this.min:0)-this.min)/(this.max-this.min)*100;this.vertical?_t240>=_e199?(this.I["range-track"].style.bottom="".concat(_e199,"%"),this.I["range-track"].style.height=_t240-_e199+"%"):(this.I["range-track"].style.bottom="".concat(_t240,"%"),this.I["range-track"].style.height=_e199-_t240+"%"):_t240>=_e199?(this.I["range-track"].style.left="".concat(_e199,"%"),this.I["range-track"].style.width=_t240-_e199+"%"):(this.I["range-track"].style.left="".concat(_t240,"%"),this.I["range-track"].style.width=_e199-_t240+"%");}{var _this$buffer=_slicedToArray(this.buffer,2),_t241=_this$buffer[0],_e200=_this$buffer[1],_i181=(_t241-this.min)/(this.max-this.min)*100,_s107=(_e200-this.min)/(this.max-this.min)*100;this.vertical?(this.I["buffer-track"].style.bottom=_i181+"%",this.I["buffer-track"].style.height=_s107-_i181+"%"):(this.I["buffer-track"].style.left=_i181+"%",this.I["buffer-track"].style.width=_s107-_i181+"%");}}},{key:"cs",value:function(){var _cs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee55(){var _iterator131,_step131,_t242;return regeneratorRuntime.wrap(function _callee55$(_context55){while(1){switch(_context55.prev=_context55.next){case 0:_context55.next=2;return customElements.whenDefined("x-label");case 2:this.I.ticks.innerHTML="";_iterator131=_createForOfIteratorHelper(this.querySelectorAll(":scope > x-label"));try{for(_iterator131.s();!(_step131=_iterator131.n()).done;){_t242=_step131.value;this.vertical?_t242.style.top=100-(_t242.value-this.min)/(this.max-this.min)*100+"%":_t242.style.left=(_t242.value-this.min)/(this.max-this.min)*100+"%",_t242===this.firstElementChild?_t242.style.position="relative":_t242.style.position=null,this.vertical?this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"top: ".concat(_t242.style.top,"\"></div>")):this.I.ticks.insertAdjacentHTML("beforeend","<div class=\"tick\" part=\"tick\" style=\"left: ".concat(_t242.style.left,"\"></div>"));}}catch(err){_iterator131.e(err);}finally{_iterator131.f();}case 5:case"end":return _context55.stop();}}},_callee55,this);}));function cs(){return _cs.apply(this,arguments);}return cs;}()},{key:"Ct",value:function Ct(){this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Bn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bn,"observedAttributes",["value","buffer","min","max","size"]);_defineProperty(Bn,"_shadowTemplate",Es(_templateObject164()));_defineProperty(Bn,"_shadowStyleSheet",Ts(_templateObject165()));customElements.define("x-slider",Bn);var Rn=/*#__PURE__*/function(_HTMLElement29){_inherits(Rn,_HTMLElement29);var _super30=_createSuper(Rn);_createClass(Rn,[{key:"disabled",get:function get(){return!!this.hasAttribute("disabled")&&("increment"===this.getAttribute("disabled")?"increment":"decrement"!==this.getAttribute("disabled")||"decrement");},set:function set(t){!0===t?this.setAttribute("disabled",""):!1===t?this.removeAttribute("disabled"):this.setAttribute("disabled",t);}}]);function Rn(){var _temp32,_this112;_classCallCheck(this,Rn);(_temp32=_this112=_super30.call(this),_defineProperty(_assertThisInitialized(_this112),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this112),"I",{}),_defineProperty(_assertThisInitialized(_this112),"gs",null),_temp32),_this112._shadowRoot=_this112.attachShadow({mode:"closed"}),_this112._shadowRoot.adoptedStyleSheets=[Rn._shadowStyleSheet],_this112._shadowRoot.append(document.importNode(Rn._shadowTemplate.content,!0));var _iterator132=_createForOfIteratorHelper(_this112._shadowRoot.querySelectorAll("[id]")),_step132;try{for(_iterator132.s();!(_step132=_iterator132.n()).done;){var _t243=_step132.value;_this112.I[_t243.id]=_t243;}}catch(err){_iterator132.e(err);}finally{_iterator132.f();}_this112._shadowRoot.addEventListener("pointerdown",function(t){return _this112.zt(t);});return _this112;}_createClass(Rn,[{key:"connectedCallback",value:function connectedCallback(){"x-numberinput"===this.parentElement.localName&&(this.gs=this.parentElement,this.gs.setAttribute("hasstepper",""));}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.gs&&(null===this.gs.querySelector(":scope > x-stepper")&&this.gs.removeAttribute("hasstepper",""),this.gs=null);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"disabled"===t&&this.qt();}},{key:"qt",value:function qt(){this.hasAttribute("disabled")&&(this.removeAttribute("pressed"),this.I["increment-button"].removeAttribute("data-pressed"),this.I["decrement-button"].removeAttribute("data-pressed"));}},{key:"zt",value:function zt(t){var _this113=this;var e=t.target.closest(".button"),i=null;if(e===this.I["increment-button"]?i="increment":e===this.I["decrement-button"]&&(i="decrement"),1===t.buttons&&null!==i){{var _s108=Date.now();e.setAttribute("data-pressed",""),this.setAttribute("pressed",i),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref44=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee56(t){var i;return regeneratorRuntime.wrap(function _callee56$(_context56){while(1){switch(_context56.prev=_context56.next){case 0:i=Date.now()-_s108;_context56.t0=i<100;if(!_context56.t0){_context56.next=5;break;}_context56.next=5;return Ws(100-i);case 5:e.removeAttribute("data-pressed");_this113.removeAttribute("pressed");case 7:case"end":return _context56.stop();}}},_callee56);}));return function(_x42){return _ref44.apply(this,arguments);};}(),{once:!0});}{var _e201=null,_s109=Date.now(),_n63=t.shiftKey;this.dispatchEvent(new CustomEvent(i+"start",{bubbles:!0})),this.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n63}})),this.addEventListener("lostpointercapture",function(t){clearInterval(_e201),_this113.dispatchEvent(new CustomEvent(i+"end",{bubbles:!0}));},{once:!0}),_e201=setInterval(function(){Date.now()-_s109>500&&_this113.dispatchEvent(new CustomEvent(i,{bubbles:!0,detail:{shiftKey:_n63}}));},100);}}}}]);return Rn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rn,"observedAttributes",["disabled"]);_defineProperty(Rn,"_shadowTemplate",Es(_templateObject166()));_defineProperty(Rn,"_shadowStyleSheet",Ts(_templateObject167()));customElements.define("x-stepper",Rn);var Gn=/*#__PURE__*/function(_HTMLElement30){_inherits(Gn,_HTMLElement30);var _super31=_createSuper(Gn);_createClass(Gn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"white";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Gn(){var _temp33,_this114;_classCallCheck(this,Gn);(_temp33=_this114=_super31.call(this),_defineProperty(_assertThisInitialized(_this114),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this114),"I",{}),_defineProperty(_assertThisInitialized(_this114),"B",null),_temp33),_this114._shadowRoot=_this114.attachShadow({mode:"closed"}),_this114._shadowRoot.adoptedStyleSheets=[Gn._shadowStyleSheet],_this114._shadowRoot.append(document.importNode(Gn._shadowTemplate.content,!0));var _iterator133=_createForOfIteratorHelper(_this114._shadowRoot.querySelectorAll("[id]")),_step133;try{for(_iterator133.s();!(_step133=_iterator133.n()).done;){var _t244=_step133.value;_this114.I[_t244.id]=_t244;}}catch(err){_iterator133.e(err);}finally{_iterator133.f();}return _this114;}_createClass(Gn,[{key:"connectedCallback",value:function connectedCallback(){var _this115=this;this.xs(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this115.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.xs():"size"===t&&this.U();}},{key:"xs",value:function xs(){this.I.preview.style.background=this.value;}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Gn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Gn,"observedAttributes",["value","size"]);_defineProperty(Gn,"_shadowTemplate",Es(_templateObject168()));_defineProperty(Gn,"_shadowStyleSheet",Ts(_templateObject169()));customElements.define("x-swatch",Gn);var Fn=/*#__PURE__*/function(_HTMLElement31){_inherits(Fn,_HTMLElement31);var _super32=_createSuper(Fn);_createClass(Fn,[{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Fn(){var _temp34,_this116;_classCallCheck(this,Fn);(_temp34=_this116=_super32.call(this),_defineProperty(_assertThisInitialized(_this116),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this116),"I",{}),_defineProperty(_assertThisInitialized(_this116),"yt",0),_defineProperty(_assertThisInitialized(_this116),"B",null),_temp34),_this116._shadowRoot=_this116.attachShadow({mode:"closed"}),_this116._shadowRoot.adoptedStyleSheets=[Fn._shadowStyleSheet],_this116._shadowRoot.append(document.importNode(Fn._shadowTemplate.content,!0));var _iterator134=_createForOfIteratorHelper(_this116._shadowRoot.querySelectorAll("[id]")),_step134;try{for(_iterator134.s();!(_step134=_iterator134.n()).done;){var _t245=_step134.value;_this116.I[_t245.id]=_t245;}}catch(err){_iterator134.e(err);}finally{_iterator134.f();}_this116.addEventListener("pointerdown",function(t){return _this116.zt(t);}),_this116.addEventListener("click",function(t){return _this116.N(t);}),_this116.addEventListener("keydown",function(t){return _this116.kt(t);});return _this116;}_createClass(Fn,[{key:"connectedCallback",value:function connectedCallback(){var _this117=this;Ls.addEventListener("sizechange",this.B=function(){return _this117.U();}),this.Ct(),this.U();}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"toggled"===t?this.Nt():"disabled"===t?this.qt():"size"===t&&this.U();}},{key:"Ct",value:function Ct(){this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Nt",value:function Nt(){this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled);}},{key:"qt",value:function qt(){this.Ct();}},{key:"zt",value:function zt(t){if(1===t.buttons){if(!1===this.matches(":focus")){t.preventDefault();var _e202=Ys(this.parentNode,"[tabindex]");_e202&&_e202.focus();}}else t.preventDefault();}},{key:"N",value:function(){var _N6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee57(t){return regeneratorRuntime.wrap(function _callee57$(_context57){while(1){switch(_context57.prev=_context57.next){case 0:this.mixed?this.mixed=!1:this.toggled=!this.toggled,this.dispatchEvent(new CustomEvent("toggle"));case 1:case"end":return _context57.stop();}}},_callee57,this);}));function N(_x43){return _N6.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){"Enter"!==t.code&&"Space"!==t.code||(t.preventDefault(),this.click());}}]);return Fn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fn,"observedAttributes",["toggled","disabled","size"]);_defineProperty(Fn,"_shadowTemplate",Es(_templateObject170()));_defineProperty(Fn,"_shadowStyleSheet",Ts(_templateObject171()));customElements.define("x-switch",Fn);var Un=Math.max;var Nn=/*#__PURE__*/function(_HTMLElement32){_inherits(Nn,_HTMLElement32);var _super33=_createSuper(Nn);_createClass(Nn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"";},set:function set(t){this.setAttribute("value",t);}},{key:"selected",get:function get(){return this.hasAttribute("selected");},set:function set(t){t?this.setAttribute("selected",""):this.removeAttribute("selected");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Nn(){var _temp35,_this118;_classCallCheck(this,Nn);(_temp35=_this118=_super33.call(this),_defineProperty(_assertThisInitialized(_this118),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this118),"I",{}),_defineProperty(_assertThisInitialized(_this118),"B",null),_temp35),_this118._shadowRoot=_this118.attachShadow({mode:"closed"}),_this118._shadowRoot.adoptedStyleSheets=[Nn._shadowStyleSheet],_this118._shadowRoot.append(document.importNode(Nn._shadowTemplate.content,!0));var _iterator135=_createForOfIteratorHelper(_this118._shadowRoot.querySelectorAll("[id]")),_step135;try{for(_iterator135.s();!(_step135=_iterator135.n()).done;){var _t246=_step135.value;_this118.I[_t246.id]=_t246;}}catch(err){_iterator135.e(err);}finally{_iterator135.f();}_this118.addEventListener("pointerdown",function(t){return _this118.zt(t);}),_this118.addEventListener("click",function(t){return _this118.N(t);});return _this118;}_createClass(Nn,[{key:"connectedCallback",value:function connectedCallback(){var _this119=this;this.Ct(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this119.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"selected"===t||"disabled"===t?this.Ct():"size"===t&&this.U();}},{key:"animateSelectionIndicator",value:function animateSelectionIndicator(t){var _this120=this;return new Promise(/*#__PURE__*/function(){var _ref45=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee58(e){var _e203,_i182,_s110;return regeneratorRuntime.wrap(function _callee58$(_context58){while(1){switch(_context58.prev=_context58.next){case 0:if(!("0px"!==_this120.I["selection-indicator"].style.height)){_context58.next=4;break;}_e203=_this120.getBoundingClientRect(),_i182=t.getBoundingClientRect(),_s110=_this120.I["selection-indicator"].animate([{left:"0px",width:_e203.width+"px"},{left:_i182.left-_e203.left+"px",width:_i182.width+"px"}],{duration:100,iterations:1,delay:0,easing:"cubic-bezier(0.4, 0.0, 0.2, 1)"});_context58.next=4;return _s110.finished;case 4:e();case 5:case"end":return _context58.stop();}}},_callee58);}));return function(_x44){return _ref45.apply(this,arguments);};}());}},{key:"Ct",value:function Ct(){this.setAttribute("role","tab"),this.setAttribute("aria-selected",this.selected),this.setAttribute("aria-disabled",this.disabled),this.setAttribute("tabindex",this.selected?"0":"-1");}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"zt",value:function(){var _zt2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee60(t){var _this121=this;var _e204,_e205,_e206,_i184,_s111,_n64,_o44,_l38,_a29,_h22,_r14;return regeneratorRuntime.wrap(function _callee60$(_context60){while(1){switch(_context60.prev=_context60.next){case 0:if(!1===this.matches(":focus")){t.preventDefault();_e204=Ys(this.parentNode,"[tabindex]");_e204&&_e204.focus();}if(!(1===t.buttons)){_context60.next=24;break;}_e205=Date.now();this.setAttribute("pressed",""),this.setPointerCapture(t.pointerId),this.addEventListener("lostpointercapture",/*#__PURE__*/function(){var _ref46=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee59(t){var _t247,_i183;return regeneratorRuntime.wrap(function _callee59$(_context59){while(1){switch(_context59.prev=_context59.next){case 0:if(!(!0===_this121.selected)){_context59.next=6;break;}_t247=Date.now()-_e205,_i183=100;_context59.t0=_t247<_i183;if(!_context59.t0){_context59.next=6;break;}_context59.next=6;return Ws(_i183-_t247);case 6:_this121.removeAttribute("pressed");case 7:case"end":return _context59.stop();}}},_callee59);}));return function(_x46){return _ref46.apply(this,arguments);};}(),{once:!0});if(!("ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context60.next=24;break;}_e206=this.I.ripples.getBoundingClientRect(),_i184=1.5*Un(_e206.width,_e206.height),_s111=t.clientY-_e206.y-_i184/2,_n64=t.clientX-_e206.x-_i184/2,_o44=new Promise(function(t){return _this121.addEventListener("lostpointercapture",t,{once:!0});}),_l38=Hs("div");_l38.setAttribute("part","ripple");_l38.setAttribute("class","ripple pointer-down-ripple");_l38.setAttribute("style","width: ".concat(_i184,"px; height: ").concat(_i184,"px; top: ").concat(_s111,"px; left: ").concat(_n64,"px;"));this.I.ripples.append(_l38);this.setPointerCapture(t.pointerId);_l38.hidden=!0;_context60.next=14;return Ws(10);case 14:_l38.hidden=!1;_a29=_l38.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=18;return _o44;case 18:_context60.next=20;return _a29.finished;case 20:_h22=getComputedStyle(_l38).opacity,_r14=_l38.animate({opacity:[_h22,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context60.next=23;return _r14.finished;case 23:_l38.remove();case 24:case"end":return _context60.stop();}}},_callee60,this);}));function zt(_x45){return _zt2.apply(this,arguments);}return zt;}()},{key:"N",value:function(){var _N7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee61(t){var _t248,_e207,_i185,_s112,_n65,_o45,_l39,_a30;return regeneratorRuntime.wrap(function _callee61$(_context61){while(1){switch(_context61.prev=_context61.next){case 0:if(!(null===this.I.ripples.querySelector(".pointer-down-ripple")&&"ripple"===getComputedStyle(this).getPropertyValue("--trigger-effect").trim())){_context61.next=10;break;}_t248=this.I.ripples.getBoundingClientRect(),_e207=1.5*Un(_t248.width,_t248.height),_i185=_t248.y+_t248.height/2-_t248.y-_e207/2,_s112=_t248.x+_t248.width/2-_t248.x-_e207/2,_n65=Hs("div");_n65.setAttribute("part","ripple"),_n65.setAttribute("class","ripple click-ripple"),_n65.setAttribute("style","width: ".concat(_e207,"px; height: ").concat(_e207,"px; top: ").concat(_i185,"px; left: ").concat(_s112,"px;")),this.I.ripples.append(_n65);_o45=_n65.animate({transform:["scale(0)","scale(1)"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=6;return _o45.finished;case 6:_l39=getComputedStyle(_n65).opacity,_a30=_n65.animate({opacity:[_l39,"0"]},{duration:300,easing:"cubic-bezier(0.4, 0, 0.2, 1)"});_context61.next=9;return _a30.finished;case 9:_n65.remove();case 10:case"end":return _context61.stop();}}},_callee61,this);}));function N(_x47){return _N7.apply(this,arguments);}return N;}()}]);return Nn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nn,"observedAttributes",["selected","disabled","size"]);_defineProperty(Nn,"_shadowTemplate",Es(_templateObject172()));_defineProperty(Nn,"_shadowStyleSheet",Ts(_templateObject173()));customElements.define("x-tab",Nn);var Vn=/*#__PURE__*/function(_HTMLElement33){_inherits(Vn,_HTMLElement33);var _super34=_createSuper(Vn);_createClass(Vn,[{key:"value",get:function get(){var t=this.querySelector("x-tab[selected]");return t?t.value:null;},set:function set(t){var e=_toConsumableArray(this.querySelectorAll("x-tab")),i=null===t?null:e.find(function(e){return e.value===t;});var _iterator136=_createForOfIteratorHelper(e),_step136;try{for(_iterator136.s();!(_step136=_iterator136.n()).done;){var _t249=_step136.value;_t249.selected=_t249===i;}}catch(err){_iterator136.e(err);}finally{_iterator136.f();}}}]);function Vn(){var _temp36,_this122;_classCallCheck(this,Vn);(_temp36=_this122=_super34.call(this),_defineProperty(_assertThisInitialized(_this122),"_shadowRoot",null),_temp36),_this122._shadowRoot=_this122.attachShadow({mode:"closed"}),_this122._shadowRoot.adoptedStyleSheets=[Vn._shadowStyleSheet],_this122._shadowRoot.append(document.importNode(Vn._shadowTemplate.content,!0)),_this122.addEventListener("click",function(t){return _this122.N(t);}),_this122.addEventListener("keydown",function(t){return _this122.kt(t);});return _this122;}_createClass(Vn,[{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("role","tablist");}},{key:"N",value:function(){var _N8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee62(t){var _e208,_i186,_s113,_iterator137,_step137,_t250;return regeneratorRuntime.wrap(function _callee62$(_context62){while(1){switch(_context62.prev=_context62.next){case 0:if(!(0===t.button&&t.target.closest("x-tab"))){_context62.next=10;break;}_e208=this.querySelectorAll("x-tab"),_i186=t.target.closest("x-tab"),_s113=this.querySelector("x-tab[selected]");if(!(_i186!==_s113)){_context62.next=10;break;}_context62.t0=_s113;if(!_context62.t0){_context62.next=7;break;}_context62.next=7;return _s113.animateSelectionIndicator(_i186);case 7:_iterator137=_createForOfIteratorHelper(_e208);try{for(_iterator137.s();!(_step137=_iterator137.n()).done;){_t250=_step137.value;_t250.selected=_t250===_i186;}}catch(err){_iterator137.e(err);}finally{_iterator137.f();}this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));case 10:case"end":return _context62.stop();}}},_callee62,this);}));function N(_x48){return _N8.apply(this,arguments);}return N;}()},{key:"kt",value:function kt(t){if("Enter"===t.code||"Space"===t.code){var _e209=t.target;_e209.querySelector("x-label"),t.preventDefault(),_e209.click();}else if("ArrowLeft"===t.code){var _e210=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i187=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i187&&_e210.length>0){var _t251=_e210.indexOf(_i187),_s114=_e210[_t251-1]||_e210[_e210.length-1];_i187.tabIndex=-1,_s114.tabIndex=0,_s114.focus();}}else if("ArrowRight"===t.code){var _e211=_toConsumableArray(this.querySelectorAll("x-tab:not([disabled])")),_i188=this.querySelector('x-tab[tabindex="0"]');if(t.target,t.preventDefault(),_i188&&_e211.length>0){var _t252=_e211.indexOf(_i188),_s115=_e211[_t252+1]||_e211[0];_i188.tabIndex=-1,_s115.tabIndex=0,_s115.focus();}}}}]);return Vn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vn,"_shadowTemplate",Es(_templateObject174()));_defineProperty(Vn,"_shadowStyleSheet",Ts(_templateObject175()));customElements.define("x-tabs",Vn);var jn=/*#__PURE__*/function(_HTMLElement34){_inherits(jn,_HTMLElement34);var _super35=_createSuper(jn);_createClass(jn,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):null;},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"removable",get:function get(){return this.hasAttribute("removable");},set:function set(t){t?this.setAttribute("removable",""):this.removeAttribute("removable");}},{key:"toggled",get:function get(){return this.hasAttribute("toggled");},set:function set(t){t?this.setAttribute("toggled",""):this.removeAttribute("toggled");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function jn(){var _temp37,_this123;_classCallCheck(this,jn);(_temp37=_this123=_super35.call(this),_defineProperty(_assertThisInitialized(_this123),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this123),"I",{}),_defineProperty(_assertThisInitialized(_this123),"B",null),_temp37),_this123._shadowRoot=_this123.attachShadow({mode:"closed"}),_this123._shadowRoot.adoptedStyleSheets=[jn._shadowStyleSheet],_this123._shadowRoot.append(document.importNode(jn._shadowTemplate.content,!0));var _iterator138=_createForOfIteratorHelper(_this123._shadowRoot.querySelectorAll("[id]")),_step138;try{for(_iterator138.s();!(_step138=_iterator138.n()).done;){var _t253=_step138.value;_this123.I[_t253.id]=_t253;}}catch(err){_iterator138.e(err);}finally{_iterator138.f();}_this123.I["scope-slot"].addEventListener("slotchange",function(){return _this123.fs();}),_this123.I["remove-button"].addEventListener("click",function(t){return _this123.ws(t);});return _this123;}_createClass(jn,[{key:"connectedCallback",value:function connectedCallback(){var _this124=this;this.U(),this.fs(),Ls.addEventListener("sizechange",this.B=function(){return _this124.U();}),this.closest("x-tags")?(this.tabIndex=0,this.removable=!1):this.closest("x-tagsinput")?(this.toggled=!1,this.tabIndex=0,this.removable=!0):this.removable=!1;}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.U();}},{key:"ws",value:function ws(t){0===t.buttons&&this.dispatchEvent(new CustomEvent("remove",{bubbles:!0}));}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"fs",value:function fs(){0===this.I["scope-slot"].assignedElements().length?this.removeAttribute("scoped"):this.setAttribute("scoped","");}}]);return jn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jn,"observedAttributes",["disabled","size"]);_defineProperty(jn,"_shadowTemplate",Es(_templateObject176()));_defineProperty(jn,"_shadowStyleSheet",Ts(_templateObject177()));customElements.define("x-tag",jn);var Hn=/*#__PURE__*/function(_HTMLElement35){_inherits(Hn,_HTMLElement35);var _super36=_createSuper(Hn);_createClass(Hn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).filter(function(t){return t.toggled;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});},set:function set(t){var e=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});var _iterator139=_createForOfIteratorHelper(e),_step139;try{for(_iterator139.s();!(_step139=_iterator139.n()).done;){var _i189=_step139.value;_i189.toggled=t.includes(_i189.value);}}catch(err){_iterator139.e(err);}finally{_iterator139.f();}}}]);function Hn(){var _temp38,_this125;_classCallCheck(this,Hn);(_temp38=_this125=_super36.call(this),_defineProperty(_assertThisInitialized(_this125),"_shadowRoot",null),_temp38),_this125._shadowRoot=_this125.attachShadow({mode:"closed"}),_this125._shadowRoot.adoptedStyleSheets=[Hn._shadowStyleSheet],_this125._shadowRoot.append(document.importNode(Hn._shadowTemplate.content,!0)),_this125.addEventListener("pointerdown",function(t){return _this125.zt(t);}),_this125.addEventListener("click",function(t){return _this125.N(t);}),_this125.addEventListener("keydown",function(t){return _this125.kt(t);});return _this125;}_createClass(Hn,[{key:"zt",value:function zt(t){var _this126=this;if(1===t.buttons){if(t.preventDefault(),!1===this.matches(":focus")){var _t254=Ys(this.parentNode,"*[tabindex]:not(a)");this.addEventListener("lostpointercapture",function(){_t254?_t254.focus():_this126.blur();},{once:!0});}}else t.preventDefault();}},{key:"N",value:function N(t){var e=t.target.closest("x-tag");e&&!1===t.defaultPrevented&&(e.toggled=!e.toggled,this.dispatchEvent(new CustomEvent("toggle",{detail:e})));}},{key:"kt",value:function kt(t){if(!1===t.defaultPrevented)if("Enter"===t.code||"Space"===t.code){var _e212=this.querySelector("x-tag:focus");_e212&&(t.preventDefault(),_e212.click());}else if("ArrowRight"===t.key){var _t255=this.querySelector("x-tag:focus");_t255&&(_t255.nextElementSibling?_t255.nextElementSibling.focus():_t255!==_t255.parentElement.firstElementChild&&_t255.parentElement.firstElementChild.focus());}else if("ArrowLeft"===t.key){var _t256=this.querySelector("x-tag:focus");_t256&&(_t256.previousElementSibling?_t256.previousElementSibling.focus():_t256!==_t256.parentElement.lastElementChild&&_t256.parentElement.lastElementChild.focus());}}}]);return Hn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hn,"_shadowTemplate",Es(_templateObject178()));_defineProperty(Hn,"_shadowStyleSheet",Ts(_templateObject179()));customElements.define("x-tags",Hn);var Yn=/*#__PURE__*/function(_HTMLElement36){_inherits(Yn,_HTMLElement36);var _super37=_createSuper(Yn);_createClass(Yn,[{key:"value",get:function get(){return _toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).map(function(t){return t.value;}).filter(function(t){return null!==t;});}},{key:"delimiter",get:function get(){return this.hasAttribute("delimiter")?this.getAttribute("delimiter"):",";},set:function set(t){this.setAttribute("delimiter",t);}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"suggestions",get:function get(){return this.hasAttribute("suggestions");},set:function set(t){t?this.setAttribute("suggestions",""):this.removeAttribute("suggestions");}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Yn(){var _temp39,_this127;_classCallCheck(this,Yn);(_temp39=_this127=_super37.call(this),_defineProperty(_assertThisInitialized(_this127),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this127),"I",{}),_defineProperty(_assertThisInitialized(_this127),"yt",0),_defineProperty(_assertThisInitialized(_this127),"B",null),_temp39),_this127._shadowRoot=_this127.attachShadow({mode:"closed",delegatesFocus:!0}),_this127._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Yn._shadowStyleSheet],_this127._shadowRoot.append(document.importNode(Yn._shadowTemplate.content,!0));var _iterator140=_createForOfIteratorHelper(_this127._shadowRoot.querySelectorAll("[id]")),_step140;try{for(_iterator140.s();!(_step140=_iterator140.n()).done;){var _t257=_step140.value;_this127.I[_t257.id]=_t257;}}catch(err){_iterator140.e(err);}finally{_iterator140.f();}_this127.addEventListener("focusout",function(t){return _this127.matches(":focus-within")?null:_this127.te(t);}),_this127.I.input.addEventListener("focusin",function(t){return _this127.vs(t);}),_this127.I.input.addEventListener("focusout",function(t){return _this127.ys(t);}),_this127._shadowRoot.addEventListener("pointerdown",function(t){return _this127.vi(t);}),_this127._shadowRoot.addEventListener("remove",function(t){return _this127.ws(t);}),_this127._shadowRoot.addEventListener("keydown",function(t){return _this127.kt(t);}),_this127.I.input.addEventListener("input",function(t){return _this127.fe(t);});return _this127;}_createClass(Yn,[{key:"connectedCallback",value:function connectedCallback(){var _this128=this;this.zs(),this.Ct(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this128.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("spellcheck"===t?this.ye():"disabled"===t?this.qt():"size"===t&&this.lt());}},{key:"clear",value:function clear(){var t=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;});if(t.length>0){var _iterator141=_createForOfIteratorHelper(t),_step141;try{for(_iterator141.s();!(_step141=_iterator141.n()).done;){var _e213=_step141.value;_e213.remove(),this.dispatchEvent(new CustomEvent("remove",{detail:_e213}));}}catch(err){_iterator141.e(err);}finally{_iterator141.f();}this.error=null,this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("change"));}}},{key:"getSuggestions",value:function getSuggestions(t){return[];}},{key:"Ys",value:function Ys(){var t=new Range();t.selectNodeContents(this.I.input);var e=t.getBoundingClientRect();return 0===e.x&&0===e.width&&(e=this.I.input.getBoundingClientRect(),e.width=20),e;}},{key:"Cs",value:function Cs(){var t=this.I.input.textContent.trim();if(this.I.input.textContent="",t.length>0&&!1===this.value.includes(t)){var _e214;if(t.includes(":")){var _t$split$map=t.split(":").map(function(t){return t.trim();}),_t$split$map2=_slicedToArray(_t$split$map,2),_i190=_t$split$map2[0],_s116=_t$split$map2[1];_e214=Es(_templateObject3(),t,_i190,_s116);}else _e214=Es(_templateObject4(),t,t);this.append(_e214),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("add",{detail:_e214})),this.dispatchEvent(new CustomEvent("change"));}}},{key:"vi",value:function vi(t){if(t.target===this.I.main||t.target===this.I.tags)t.preventDefault(),this.I.input.setAttribute("contenteditable",""),this.Ss();else if(t.target===this.I.input)this.I.input.setAttribute("contenteditable",""),this.ks();else if(t.target.closest("x-popover")){t.preventDefault();var _e215=t.target.closest("x-tag");_e215&&(this.I.input.textContent="",this.I["suggestions-popover"].close(),this.append(_e215),this.dispatchEvent(new CustomEvent("add",{detail:_e215})),this.dispatchEvent(new CustomEvent("change")));}else t.target.closest("x-tag")&&(this.I.input.focus(),this.Cs());}},{key:"ws",value:function ws(t){t.stopPropagation();var e=t.target;e.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:e})),this.dispatchEvent(new CustomEvent("change"));}},{key:"ye",value:function ye(){this.I.input.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.Ct();}},{key:"lt",value:function lt(){this.U();}},{key:"te",value:function te(){this.required&&0===_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}).length&&(this.error="This field is required");}},{key:"vs",value:function(){var _vs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee63(){return regeneratorRuntime.wrap(function _callee63$(_context63){while(1){switch(_context63.prev=_context63.next){case 0:this.I.input.setAttribute("contenteditable","");this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));_context63.next=4;return Ws(10);case 4:this.I.input.matches(":focus")&&(this.Ss(),this.ks());case 5:case"end":return _context63.stop();}}},_callee63,this);}));function vs(){return _vs5.apply(this,arguments);}return vs;}()},{key:"ys",value:function ys(){this.Cs(),this.I.input.removeAttribute("contenteditable"),this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this.hasAttribute("error")&&(this.I.input.textContent="",this.removeAttribute("error")),this.I["suggestions-popover"].close();}},{key:"fe",value:function fe(t){this.I.input.textContent.includes(this.delimiter)&&this.Cs(),this.zs(),this.hasAttribute("error")&&this.removeAttribute("error"),this.dispatchEvent(new CustomEvent("input")),this.ks(t.inputType);}},{key:"kt",value:function kt(t){if("Enter"===t.key)t.target===this.I.input&&(t.preventDefault(),this.Cs());else if("Backspace"===t.key){if(t.target===this.I.input){if(0===this.I.input.textContent.length){var _t258=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_e216=_t258[_t258.length-1]||null;_e216&&(_e216.remove(),this.ks(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_e216})),this.dispatchEvent(new CustomEvent("change")));}}else if("x-tag"===t.target.localName){var _e217=_toConsumableArray(this.children).filter(function(t){return"x-tag"===t.localName;}),_i191=t.target,_s117=_e217.indexOf(_i191),_n66=_e217[_s117+1]||null,_o46=_e217[_s117-1]||null;_n66?_n66.focus():_o46?_o46.focus():this.I.input.focus(),_i191.remove(),this.zs(),this.dispatchEvent(new CustomEvent("remove",{detail:_i191})),this.dispatchEvent(new CustomEvent("change"));}}else if("ArrowDown"===t.key){if(this.I["suggestions-popover"].opened){var _e218=_toConsumableArray(this.I["suggested-tags"].children);if(_e218.length>1){t.preventDefault();var _i192=null;{var _t259=_e218.find(function(t){return t.toggled;});if(_t259){_t259.toggled=!1;var _s118=_e218.indexOf(_t259);_i192=_e218[_s118+1]||_e218[0];}else _i192=_e218[0];}_i192.toggled=!0,_i192.scrollIntoViewIfNeeded();{var _t260=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e219=_i192.querySelector("x-label").textContent;this.I.input.textContent=_e219,this.Ss(_t260,_e219.length);}}}}else if("ArrowUp"===t.key&&this.I["suggestions-popover"].opened){var _e220=_toConsumableArray(this.I["suggested-tags"].children);if(_e220.length>1){t.preventDefault();var _i193=null;{var _t261=_e220.find(function(t){return t.toggled;});if(_t261){_t261.toggled=!1;var _s119=_e220.indexOf(_t261);_i193=_e220[_s119-1]||_e220[_e220.length-1];}else _i193=_e220[_e220.length-1];}_i193.toggled=!0,_i193.scrollIntoViewIfNeeded();{var _t262=this._shadowRoot.getSelection().getRangeAt(0).startOffset,_e221=_i193.querySelector("x-label").textContent;this.I.input.textContent=_e221,this.Ss(_t262,_e221.length);}}}}},{key:"nt",value:function nt(){this.zs();}},{key:"zs",value:function zs(){var t=this.querySelector(":scope > x-label");t&&(t.hidden=this.value.length>0||this.I.input.textContent.length>0);}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"Ss",value:function Ss(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.I.input.textContent.length;var i=new Range();0===t&&e===this.I.input.textContent.length?i.selectNodeContents(this.I.input):(i.setStart(this.I.input.firstChild,t),i.setEnd(this.I.input.firstChild,e));var s=window.getSelection();s.removeAllRanges(),s.addRange(i);}},{key:"ks",value:function ks(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"insertText";if(this.suggestions){var _e222=this.I.input.textContent,_i194=this._shadowRoot.getSelection().getRangeAt(0);!1===_i194.collapsed&&(_e222=_e222.substring(0,_i194.startOffset));var _s120=this.getSuggestions(_e222);if(_s120.length>0&&"deleteContentBackward"!==t){var _t263=this.I.input.textContent,_e223=_s120[0].querySelector("x-label").textContent,_i195=this.I.input.firstChild;_i195&&(_i195.textContent=_e223,this.Ss(_t263.length,_e223.length));}if(0===_s120.length)this.I["suggested-tags"].innerHTML="",!0===this.I["suggestions-popover"].opened&&this.I["suggestions-popover"].close();else{var _this$I$suggestedTag;var _i196=this.Ys();this.I["suggested-tags"].innerHTML="",(_this$I$suggestedTag=this.I["suggested-tags"]).append.apply(_this$I$suggestedTag,_toConsumableArray(_s120)),"deleteContentBackward"!==t&&_e222.length>0&&(_s120[0].toggled=!0),!1===this.I["suggestions-popover"].opened||this.I["suggestions-popover"].close(!1),this.I["suggestions-popover"].open(_i196),this.I["suggested-tags"].scrollTop=0;}}}}]);return Yn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yn,"observedAttributes",["spellcheck","disabled","size"]);_defineProperty(Yn,"_shadowTemplate",Es(_templateObject180()));_defineProperty(Yn,"_shadowStyleSheet",Ts(_templateObject181()));customElements.define("x-tagsinput",Yn);var Wn=/*#__PURE__*/function(_HTMLElement37){_inherits(Wn,_HTMLElement37);var _super38=_createSuper(Wn);_createClass(Wn,[{key:"value",get:function get(){return this.I.editor.textContent;},set:function set(t){this.I.editor.textContent=t,"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),this.be();}},{key:"spellcheck",get:function get(){return this.hasAttribute("spellcheck");},set:function set(t){t?this.setAttribute("spellcheck",""):this.removeAttribute("spellcheck");}},{key:"minLength",get:function get(){return this.hasAttribute("minlength")?parseInt(this.getAttribute("minlength")):0;},set:function set(t){this.setAttribute("minlength",t);}},{key:"maxLength",get:function get(){return this.hasAttribute("maxlength")?parseInt(this.getAttribute("maxlength")):Infinity;},set:function set(t){this.setAttribute("maxlength",t);}},{key:"required",get:function get(){return this.hasAttribute("required");},set:function set(t){t?this.setAttribute("required",""):this.removeAttribute("required");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"validation",get:function get(){return this.hasAttribute("validation")?this.getAttribute("validation"):"auto";},set:function set(t){this.setAttribute("validation",t);}},{key:"error",get:function get(){return this.getAttribute("error");},set:function set(t){null===t?this.removeAttribute("error"):this.setAttribute("error",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Wn(){var _temp40,_this129;_classCallCheck(this,Wn);(_temp40=_this129=_super38.call(this),_defineProperty(_assertThisInitialized(_this129),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this129),"I",{}),_defineProperty(_assertThisInitialized(_this129),"yt",0),_defineProperty(_assertThisInitialized(_this129),"B",null),_temp40),_this129._shadowRoot=_this129.attachShadow({mode:"closed",delegatesFocus:!0}),_this129._shadowRoot.adoptedStyleSheets=[Wn._shadowStyleSheet],_this129._shadowRoot.append(document.importNode(Wn._shadowTemplate.content,!0));var _iterator142=_createForOfIteratorHelper(_this129._shadowRoot.querySelectorAll("[id]")),_step142;try{for(_iterator142.s();!(_step142=_iterator142.n()).done;){var _t264=_step142.value;_this129.I[_t264.id]=_t264;}}catch(err){_iterator142.e(err);}finally{_iterator142.f();}_this129.addEventListener("focusin",function(t){return _this129.ge(t);}),_this129.addEventListener("focusout",function(t){return _this129.xe(t);}),_this129.I.editor.addEventListener("click",function(t){return _this129.Es(t);}),_this129.I.editor.addEventListener("input",function(t){return _this129.zi(t);});return _this129;}_createClass(Wn,[{key:"connectedCallback",value:function connectedCallback(){var _this130=this;this.be(),this.Ct(),this.U(),"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate(),Ls.addEventListener("sizechange",this.B=function(){return _this130.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"value"===t?this.ot():"spellcheck"===t?this.ye():"disabled"===t?this.qt():"validation"===t?this.js():"size"===t&&this.lt();}},{key:"validate",value:function validate(){this.value.length<this.minLength?this.error="Entered text is too short":this.value.length>this.maxLength?this.error="Entered text is too long":this.required&&0===this.value.length?this.error="This field is required":this.error=null;}},{key:"be",value:function be(){0===this.value.length?this.setAttribute("empty",""):this.removeAttribute("empty");}},{key:"Ct",value:function Ct(){this.setAttribute("role","input"),this.setAttribute("aria-disabled",this.disabled),this.disabled?(this.yt=this.tabIndex>0?this.tabIndex:0,this.tabIndex=-1):(this.tabIndex<0&&(this.tabIndex=this.yt>0?this.yt:0),this.yt=0);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){this.value=this.hasAttribute("value")?this.getAttribute("value"):"",this.matches(":focus")&&document.execCommand("selectAll");}},{key:"ye",value:function ye(){this.I.editor.spellcheck=this.spellcheck;}},{key:"qt",value:function qt(){this.I.editor.disabled=this.disabled,this.Ct();}},{key:"js",value:function js(){"instant"===this.validation?this.validate():"auto"!==this.validation&&"manual"!==this.validation||null!==this.error&&this.validate();}},{key:"lt",value:function lt(){this.U();}},{key:"ge",value:function ge(){this.As=this.value,this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));}},{key:"xe",value:function xe(){this.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),this._shadowRoot.getSelection().collapse(this.I.main),"auto"===this.validation&&this.validate(),null!==this.error||this.value===this.As&&!this.mixed||(this.mixed=!1,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})));}},{key:"Es",value:function Es(t){t.detail>=4&&document.execCommand("selectAll");}},{key:"zi",value:function zi(t){this.dispatchEvent(new CustomEvent("input",{bubbles:!0})),this.be(),("instant"===this.validation||"auto"===this.validation&&null!==this.error)&&this.validate();}}]);return Wn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wn,"observedAttributes",["value","spellcheck","disabled","validation","size"]);_defineProperty(Wn,"_shadowTemplate",Es(_templateObject182()));_defineProperty(Wn,"_shadowStyleSheet",Ts(_templateObject183()));customElements.define("x-texteditor",Wn);var qn=/*#__PURE__*/function(_HTMLElement38){_inherits(qn,_HTMLElement38);var _super39=_createSuper(qn);_createClass(qn,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"ring";},set:function set(t){this.setAttribute("type",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function qn(){var _temp41,_this131;_classCallCheck(this,qn);(_temp41=_this131=_super39.call(this),_defineProperty(_assertThisInitialized(_this131),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this131),"B",null),_temp41),_this131._shadowRoot=_this131.attachShadow({mode:"closed"}),_this131._shadowRoot.adoptedStyleSheets=[qn._shadowStyleSheet];return _this131;}_createClass(qn,[{key:"connectedCallback",value:function connectedCallback(){var _this132=this;this.nt(),this.U(),Ls.addEventListener("sizechange",this.B=function(){return _this132.U();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.nt():"size"===t&&this.U());}},{key:"nt",value:function nt(){var t=this._shadowRoot.firstElementChild,e="ring"===this.type?qn.Ls:qn.Ts;null===t?this._shadowRoot.append(document.importNode(e.content,!0)):t.dataset.type!==this.type&&t.replaceWith(document.importNode(e.content,!0)),!1===this.hasAttribute("type")&&this.setAttribute("type",this.type);}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return qn;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qn,"observedAttributes",["type","size"]);_defineProperty(qn,"Ls",Es(_templateObject184()));_defineProperty(qn,"Ts",Es(_templateObject185()));_defineProperty(qn,"_shadowStyleSheet",Ts(_templateObject186()));customElements.define("x-throbber",qn);var Xn=Math.PI,Zn=Math.sqrt,Kn=Math.atan2,Qn=Math.sin,Jn=Math.cos,to=Math.pow;var eo=/*#__PURE__*/function(_HTMLElement39){_inherits(eo,_HTMLElement39);var _super40=_createSuper(eo);_createClass(eo,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"hsla(0, 0%, 100%, 1)";},set:function set(t){this.setAttribute("value",t);}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function eo(){var _temp42,_this133;_classCallCheck(this,eo);(_temp42=_this133=_super40.call(this),_defineProperty(_assertThisInitialized(_this133),"_shadowRoot",null),_defineProperty(_assertThisInitialized(_this133),"I",{}),_defineProperty(_assertThisInitialized(_this133),"B",null),_defineProperty(_assertThisInitialized(_this133),"X",0),_defineProperty(_assertThisInitialized(_this133),"V",0),_defineProperty(_assertThisInitialized(_this133),"Ui",100),_defineProperty(_assertThisInitialized(_this133),"G",1),_defineProperty(_assertThisInitialized(_this133),"Ms",!1),_defineProperty(_assertThisInitialized(_this133),"Ds",!1),_defineProperty(_assertThisInitialized(_this133),"tt",!1),_temp42),_this133._shadowRoot=_this133.attachShadow({mode:"closed"}),_this133._shadowRoot.adoptedStyleSheets=[eo._shadowStyleSheet],_this133._shadowRoot.append(document.importNode(eo._shadowTemplate.content,!0));var _iterator143=_createForOfIteratorHelper(_this133._shadowRoot.querySelectorAll("[id]")),_step143;try{for(_iterator143.s();!(_step143=_iterator143.n()).done;){var _t265=_step143.value;_this133.I[_t265.id]=_t265;}}catch(err){_iterator143.e(err);}finally{_iterator143.f();}_this133.I["huesat-slider"].addEventListener("pointerdown",function(t){return _this133.$s(t);}),_this133.I["value-slider"].addEventListener("pointerdown",function(t){return _this133.Ps(t);}),_this133.I["alpha-slider"].addEventListener("pointerdown",function(t){return _this133.ht(t);});return _this133;}_createClass(eo,[{key:"connectedCallback",value:function(){var _connectedCallback=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee64(){var _this134=this;return regeneratorRuntime.wrap(function _callee64$(_context64){while(1){switch(_context64.prev=_context64.next){case 0:this.nt();this.U();_context64.t0=""===this.I["huesat-image"].src;if(!_context64.t0){_context64.next=7;break;}_context64.next=6;return Ms();case 6:this.I["huesat-image"].src=_context64.sent;case 7:Ls.addEventListener("sizechange",this.B=function(){return _this134.U();});case 8:case"end":return _context64.stop();}}},_callee64,this);}));function connectedCallback(){return _connectedCallback.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.B);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.ot():"size"===t&&this.lt());}},{key:"nt",value:function nt(){this.Rs(),this.Is(),this.Os(),this.bt(),this.gt();}},{key:"Rs",value:function Rs(){var t=this.X,e=this.V,i=100,s=ps(t),n=e/100*i/2,o=(i-(50+n*Jn(s)))/i*100,l=(50-n*Qn(s))/i*100;this.I["huesat-marker"].style.left=o+"%",this.I["huesat-marker"].style.top=l+"%";}},{key:"Is",value:function Is(){this.I["value-slider-marker"].style.left=100-rs(this.Ui,0,100,2)+"%";}},{key:"Os",value:function Os(){var t=Ss([this.X,this.V,100,1],"hsva","hex");this.I["value-slider"].style.background="linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,1)), ".concat(t);}},{key:"bt",value:function bt(){this.I["alpha-slider-marker"].style.left=rs(100*(1-this.G),0,100,2)+"%";}},{key:"gt",value:function gt(){var _ks$map3=ks(this.X,this.V,this.Ui).map(function(t){return as(t,0);}),_ks$map4=_slicedToArray(_ks$map3,3),t=_ks$map4[0],e=_ks$map4[1],i=_ks$map4[2];this.I["alpha-slider-gradient"].style.background="\n      linear-gradient(to right, rgba(".concat(t,", ").concat(e,", ").concat(i,", 1), rgba(").concat(t,", ").concat(e,", ").concat(i,", 0))\n    ");}},{key:"U",value:function U(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"ot",value:function ot(){if(!1===this.Ms&&!1===this.Ds&&!1===this.tt){var _zs$parse9=new zs().parse(this.value,"hsva"),_zs$parse10=_slicedToArray(_zs$parse9,4),_t266=_zs$parse10[0],_e224=_zs$parse10[1],_i197=_zs$parse10[2],_s121=_zs$parse10[3];this.X=_t266,this.V=_e224,this.Ui=_i197,this.G=_s121,this.nt();}}},{key:"lt",value:function lt(){this.U();}},{key:"$s",value:function $s(t){var _this135=this;if(1!==t.buttons)return;var e,_i198,s=this.I["huesat-slider"].getBoundingClientRect();this.Ms=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.I["huesat-slider"].style.cursor="default",this.I["huesat-slider"].setPointerCapture(t.pointerId);var n=function n(t,e){var i=s.width/2,n=t-s.left-i,o=e-s.top-i,l=to(n,2)+to(o,2),a=Kn(o,n);l>to(i,2)&&(n=i*Jn(a),o=i*Qn(a),l=to(n,2)+to(o,2),a=Kn(o,n)),_this135.X=as((a+Xn)/(2*Xn)*360,3),_this135.V=as(Zn(l)/i*100,3),_this135.value=Ss([_this135.X,_this135.V,_this135.Ui,_this135.G],"hsva","hsla"),_this135.dispatchEvent(new CustomEvent("change",{bubbles:!0})),_this135.Rs(),_this135.Os(),_this135.gt();};n(t.clientX,t.clientY),this.I["huesat-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX,t.clientY);}),this.I["huesat-slider"].addEventListener("lostpointercapture",_i198=function i(t){_this135.I["huesat-slider"].removeEventListener("pointermove",e),_this135.I["huesat-slider"].removeEventListener("lostpointercapture",_i198),_this135.I["huesat-slider"].style.cursor=null,_this135.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this135.Ms=!1;});}},{key:"Ps",value:function Ps(t){var _this136=this;if(1!==t.buttons)return;var e,_i199,s=this.I["value-slider-track"].getBoundingClientRect();this.Ds=!0,this.I["value-slider"].style.cursor="default",this.I["value-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=100-(t-s.x)/s.width*100;e=rs(e,0,100,2),e!==_this136.Ui&&(_this136.Ui=e,_this136.value=Ss([_this136.X,_this136.V,_this136.Ui,_this136.G],"hsva","hsla"),_this136.Is(),_this136.gt(),_this136.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["value-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["value-slider"].addEventListener("lostpointercapture",_i199=function i(){_this136.I["value-slider"].removeEventListener("pointermove",e),_this136.I["value-slider"].removeEventListener("lostpointercapture",_i199),_this136.I["value-slider"].style.cursor=null,_this136.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this136.Ds=!1;});}},{key:"ht",value:function ht(t){var _this137=this;if(1!==t.buttons)return;var e,_i200,s=this.I["alpha-slider-track"].getBoundingClientRect();this.tt=!0,this.I["alpha-slider"].style.cursor="default",this.I["alpha-slider"].setPointerCapture(t.pointerId),this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));var n=function n(t){var e=1-(t-s.x)/s.width;e=rs(e,0,1,2),e!==_this137.G&&(_this137.G=e,_this137.value=Ss([_this137.X,_this137.V,_this137.Ui,_this137.G],"hsva","hsla"),_this137.bt(),_this137.dispatchEvent(new CustomEvent("change",{bubbles:!0})));};n(t.clientX),this.I["alpha-slider"].addEventListener("pointermove",e=function e(t){n(t.clientX);}),this.I["alpha-slider"].addEventListener("lostpointercapture",_i200=function i(){_this137.I["alpha-slider"].removeEventListener("pointermove",e),_this137.I["alpha-slider"].removeEventListener("lostpointercapture",_i200),_this137.I["alpha-slider"].style.cursor=null,_this137.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})),_this137.tt=!1;});}}]);return eo;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(eo,"observedAttributes",["value","size"]);_defineProperty(eo,"_shadowTemplate",Es(_templateObject187()));_defineProperty(eo,"_shadowStyleSheet",Ts(_templateObject188()));customElements.define("x-wheelcolorpicker",eo);var io=/*#__PURE__*/function(_HTMLElement40){_inherits(io,_HTMLElement40);var _super41=_createSuper(io);_createClass(io,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function io(){var _this138;_classCallCheck(this,io);_this138=_super41.call(this),_this138.Ws=Ki(_this138.qs,20,_assertThisInitialized(_this138)),_this138.Xs=Ki(_this138.qs,500,_assertThisInitialized(_this138)),_this138.Zs=[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4],_this138._shadowRoot=_this138.attachShadow({mode:"closed"}),_this138._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,io._shadowStyleSheet],_this138._shadowRoot.append(document.importNode(io._shadowTemplate.content,!0));var _iterator144=_createForOfIteratorHelper(_this138._shadowRoot.querySelectorAll("[id]")),_step144;try{for(_iterator144.s();!(_step144=_iterator144.n()).done;){var _t267=_step144.value;_this138["#"+_t267.id]=_t267;}}catch(err){_iterator144.e(err);}finally{_iterator144.f();}_this138.addEventListener("contextmenu",function(t){return _this138.Ks(t);});return _this138;}_createClass(io,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(!0===this.enabled?this.tn():this.sn());}},{key:"getRulerTypeFromPoint",value:function getRulerTypeFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);i.getRootNode()!==this._shadowRoot&&(i=null);var s=i?i.closest(".ruler"):null;return s?s.getAttribute("data-type"):null;}},{key:"tn",value:function tn(){var _this139=this;window.addEventListener("resize",this.nn=function(){_this139.Ws();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this139.an(t.detail);}),this.Js.board.addEventListener("zoomchange",this.hn=function(){_this139.Ws();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this139.Xs();}),this.dn=this.Qs.getConfig("bx-rulers:space","canvas"),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("zoomchange",this.hn),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"an",value:function an(_ref47){var t=_ref47.key,e=_ref47.value;"bx-rulers:space"===t&&(this.dn=e,this.qs());}},{key:"Ks",value:function(){var _Ks=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee65(t){var e,i,s,n;return regeneratorRuntime.wrap(function _callee65$(_context65){while(1){switch(_context65.prev=_context65.next){case 0:t.preventDefault();i=this.Js.board.getComputedViewportWidth(),s=this.Js.board.getComputedViewportHeight();e=null===i&&null===s?[{label:"Canvas space",value:"canvas",toggled:!0},{label:"Viewport space",value:"viewport",disabled:!0}]:[{label:"Canvas space",value:"canvas",toggled:"canvas"===this.dn},{label:"Viewport space",value:"viewport",toggled:"viewport"===this.dn}];_context65.next=5;return this.Qs.openContextMenu(e);case 5:n=_context65.sent;null!==n&&this.Qs.setConfig("bx-rulers:space",n);case 7:case"end":return _context65.stop();}}},_callee65,this);}));function Ks(_x49){return _Ks.apply(this,arguments);}return Ks;}()},{key:"qs",value:function qs(){var t=this.Js.board,e=t.scale,i=this.dn,s=0,n=0,o=0,l=0;{var _e225=Ht(t.vectorCanvas);if(0!==_e225.a*_e225.d-_e225.b*_e225.c){var _i201=Ne(t.getBoundingClientRect(),_e225.inverse());s=_i201.x,n=_i201.y;}}if("viewport"===i&&(o=t.getComputedViewportWidth(),l=t.getComputedViewportHeight(),null===o&&null===l&&(i="canvas")),"canvas"===i){var _t268=1;{var _i202=50/e;if(e>0==!1)return;for(var _e226=0;_e226<this.Zs.length;_e226+=1){var _s122=this.Zs[_e226];if(_t268=_s122,_i202<=_s122)break;}}{var _i203=[],_n67=this.clientWidth;this["#horizontal-ruler"].hidden=!1;for(var _o47=K(s,0);_o47<Infinity;_o47+=1){if(_t268>=1&&_o47%_t268==0){var _t269=(_o47-s)*e;if(_t269>_n67)break;_i203.push([_t269,_o47]);}}for(;this["#horizontal-ruler"].children.length<_i203.length;){var _t270=Ei("div");_t270.part.add("tick"),this["#horizontal-ruler"].append(_t270);}for(var _t271=0;_t271<_i203.length;_t271+=1){var _i203$_t=_slicedToArray(_i203[_t271],2),_e227=_i203$_t[0],_s123=_i203$_t[1],_n68=this["#horizontal-ruler"].children[_t271];_n68.style.display=null,_n68.style.transform="translateX(".concat(_e227,"px)"),_n68.textContent=_s123;}for(var _t272=_i203.length;_t272<this["#horizontal-ruler"].children.length;_t272+=1){this["#horizontal-ruler"].children[_t272].style.display="none";}}{var _i204=[],_s124=this.clientHeight;this["#vertical-ruler"].hidden=!1;for(var _o48=K(n,0);_o48<Infinity;_o48+=1){if(_o48%_t268==0){var _t273=(_o48-n)*e;if(_t273>_s124)break;_i204.push([_t273,_o48]);}}for(;this["#vertical-ruler"].children.length<_i204.length;){var _t274=Ei("div");_t274.part.add("tick"),this["#vertical-ruler"].append(_t274);}for(var _t275=0;_t275<_i204.length;_t275+=1){var _i204$_t=_slicedToArray(_i204[_t275],2),_e228=_i204$_t[0],_s125=_i204$_t[1],_n69=this["#vertical-ruler"].children[_t275];_n69.style.display=null,_n69.style.transform="translateY(".concat(_e228,"px)"),_n69.textContent=_s125;}for(var _t276=_i204.length;_t276<this["#vertical-ruler"].children.length;_t276+=1){this["#vertical-ruler"].children[_t276].style.display="none";}}}else if("viewport"===i){var _i205=null;if(_i205=t.currentWorkspace.hasAttribute("viewBox")?Rt.fromString(t.currentWorkspace.getAttribute("viewBox")).toRect():new DOMRect(0,0,null===o?0:o.toLength("px").value,null===l?0:l.toLength("px").value),null===o)this["#horizontal-ruler"].hidden=!0;else{this["#horizontal-ruler"].hidden=!1;var _t277=1,_n70=_i205.width/o.value;{var _i206=50/e/_n70;for(var _e229=0;_e229<this.Zs.length;_e229+=1){var _s126=this.Zs[_e229];if(_t277=_s126,_i206<=_s126)break;}}var _l40=[],_a31=this.clientWidth;for(var _i207=K(s/_n70,0);_i207<Infinity;_i207+=1){if(_t277>=1&&_i207%_t277==0){var _t278=(_i207*_n70-s)*e;if(_t278>_a31)break;_l40.push([_t278,_i207+o.unit]);}}for(;this["#horizontal-ruler"].children.length<_l40.length;){var _t279=Ei("div");_t279.part.add("tick"),this["#horizontal-ruler"].append(_t279);}for(var _t280=0;_t280<_l40.length;_t280+=1){var _l40$_t=_slicedToArray(_l40[_t280],2),_e230=_l40$_t[0],_i208=_l40$_t[1],_s127=this["#horizontal-ruler"].children[_t280];_s127.style.display=null,_s127.style.transform="translateX(".concat(_e230,"px)"),_s127.textContent=_i208;}for(var _t281=_l40.length;_t281<this["#horizontal-ruler"].children.length;_t281+=1){this["#horizontal-ruler"].children[_t281].style.display="none";}}if(null===l)this["#vertical-ruler"].hidden=!0;else{this["#vertical-ruler"].hidden=!1;var _t282=1,_s128=_i205.height/l.value;{var _i209=50/e/_s128;for(var _e231=0;_e231<this.Zs.length;_e231+=1){var _s129=this.Zs[_e231];if(_t282=_s129,_i209<=_s129)break;}}var _o49=[],_a32=this.clientHeight;for(var _i210=K(n/_s128,0);_i210<Infinity;_i210+=1){if(_t282>=1&&_i210%_t282==0){var _t283=(_i210*_s128-n)*e;if(_t283>_a32)break;_o49.push([_t283,_i210+l.unit]);}}for(;this["#vertical-ruler"].children.length<_o49.length;){var _t284=Ei("div");_t284.part.add("tick"),this["#vertical-ruler"].append(_t284);}for(var _t285=0;_t285<_o49.length;_t285+=1){var _o49$_t=_slicedToArray(_o49[_t285],2),_e232=_o49$_t[0],_i211=_o49$_t[1],_s130=this["#vertical-ruler"].children[_t285];_s130.style.display=null,_s130.style.transform="translateY(".concat(_e232,"px)"),_s130.textContent=_i211;}for(var _t286=_o49.length;_t286<this["#vertical-ruler"].children.length;_t286+=1){this["#vertical-ruler"].children[_t286].style.display="none";}}}}}]);return io;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(io,"observedAttributes",["enabled"]);_defineProperty(io,"_shadowTemplate",qi(_templateObject189()));_defineProperty(io,"_shadowStyleSheet",Xi(_templateObject190()));customElements.define("bx-rulers",io);var so=/*#__PURE__*/function(){function so(){_classCallCheck(this,so);this.cn=!1,this.pn=!1,this.un=!1,this.xn=!1,this.bn=null;for(var _len12=arguments.length,t=new Array(_len12),_key12=0;_key12<_len12;_key12++){t[_key12]=arguments[_key12];}for(var _i212=0,_t287=t;_i212<_t287.length;_i212++){var _e233=_t287[_i212];"Control"===_e233?this.ctrl=!0:"Alt"===_e233?this.alt=!0:"Shift"===_e233?this.shift=!0:"Meta"===_e233?this.meta=!0:this.key=_e233;}}_createClass(so,[{key:"matches",value:function matches(){var e=!1,i=!1,s=!1,n=!1,o=null;for(var _len13=arguments.length,t=new Array(_len13),_key13=0;_key13<_len13;_key13++){t[_key13]=arguments[_key13];}for(var _i213=0,_t288=t;_i213<_t288.length;_i213++){var _l41=_t288[_i213];"Control"===_l41?e=!0:"Alt"===_l41?i=!0:"Shift"===_l41?s=!0:"Meta"===_l41?n=!0:o=_l41;}return e===this.ctrl&&i===this.alt&&n===this.meta&&s===this.shift&&o===this.key;}},{key:"includes",value:function includes(t){return"Control"===t?this.ctrl:"Alt"===t?this.alt:"Shift"===t?this.shift:"Meta"===t?this.meta:this.key===t;}},{key:"compare",value:function compare(t){return this.ctrl===t.ctrl&&this.alt===t.alt&&this.shift===t.shift&&this.meta===t.meta&&this.key===t.key;}},{key:"isVoid",value:function isVoid(){return!1===this.ctrl&&!1===this.alt&&!1===this.shift&&!1===this.meta&&null===this.key;}},{key:"toDisplayString",value:function toDisplayString(){var e="";if(t){this.meta&&(e+="^"),this.alt&&(e+="\u2325"),this.shift&&(e+="\u21E7"),this.ctrl&&(e+="\u2318");var _t289={ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Backspace:"\u2326",Tab:"\u21E5"};null!==this.key&&(e+=_t289[this.key]||this.key);}else{var _t290=[];this.ctrl&&_t290.push("Ctrl"),this.alt&&_t290.push("Alt"),this.shift&&_t290.push("Shift"),this.meta&&_t290.push("Meta");var _i214={ArrowUp:"Up",ArrowDown:"Down",ArrowLeft:"Left",ArrowRight:"Right"};null!==this.key&&_t290.push(_i214[this.key]||this.key),e=_t290.join("+");}return e;}},{key:"toJSON",value:function toJSON(){return this.toString();}},{key:"toElement",value:function toElement(){var t=Ei("x-shortcut"),e=[];return this.ctrl&&e.push("Control"),this.alt&&e.push("Alt"),this.shift&&e.push("Shift"),this.meta&&e.push("Meta"),null!==this.key&&e.push(key),t.value=e,t;}},{key:"toString",value:function toString(){var t=[];return this.ctrl&&t.push("Control"),this.alt&&t.push("Alt"),this.shift&&t.push("Shift"),this.meta&&t.push("Meta"),null!==this.key&&t.push(this.key),t.join("+");}},{key:"ctrl",get:function get(){return this.cn;},set:function set(t){this.cn=t;}},{key:"alt",get:function get(){return this.pn;},set:function set(t){this.pn=t;}},{key:"shift",get:function get(){return this.un;},set:function set(t){this.un=t;}},{key:"meta",get:function get(){return this.xn;},set:function set(t){this.xn=t;}},{key:"key",get:function get(){return this.bn;},set:function set(t){this.bn=t;}}],[{key:"fromEvent",value:function fromEvent(e){var i=new so();if(i.ctrl=t?e.metaKey:e.ctrlKey,i.alt=e.altKey,i.shift=e.shiftKey,i.meta=t?e.ctrlKey:e.metaKey,i.key=null,e instanceof KeyboardEvent){var _t291=e.key;" "===_t291&&(_t291="Space"),_t291&&"Control"!==_t291&&"Alt"!==_t291&&"Shift"!==_t291&&"Meta"!==_t291&&(1===_t291.length?i.key=_t291.toUpperCase():i.key=_t291);}return i;}},{key:"fromElement",value:function fromElement(t){var e=new so();return e.ctrl=t.modKeys.includes("Control"),e.alt=t.modKeys.includes("Alt"),e.shift=t.modKeys.includes("Shift"),e.meta=t.modKeys.includes("Meta"),e.key=t.normalKey,e;}},{key:"fromString",value:function fromString(t){return _construct(so,_toConsumableArray(t.split("+").filter(function(t){return""!==t;})));}}]);return so;}();var _window4=window,no=_window4.tokenize,oo=_window4.EOFToken;var lo=/*#__PURE__*/function(){_createClass(lo,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<url>";}}]);function lo(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";_classCallCheck(this,lo);this._t=t;}_createClass(lo,[{key:"toString",value:function toString(){return"url(".concat(this.value,")");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(no(t)),[new oo()]),s=new zt(i);if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"URL"===s.currentToken.tokenType){var _t292=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new lo(_t292);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if("FUNCTION"===s.currentToken.tokenType&&"url"===s.currentToken.value){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"===s.currentToken.tokenType){var _t293=s.currentToken.value;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),")"===s.currentToken.tokenType){if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new lo(_t293.trim());if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}if(e)throw new DOMException('Expected ")" token.',"SyntaxError");return null;}if(e)throw new DOMException("Expected STRING token.","SyntaxError");return null;}if(e)throw new DOMException("Expected URL or FUNCTION token.","SyntaxError");return null;}}]);return lo;}();var ao=/*#__PURE__*/function(){function ao(t){_classCallCheck(this,ao);this.text=t,this.cursor=0,this.line=1,this.column=1,this.mn={cursor:0,line:1,column:1};}_createClass(ao,[{key:"read",value:function read(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="",i=this.cursor;for(var _s131=0;_s131<t;_s131+=1){var _t294=this.text[i+_s131];if(void 0===_t294)break;e+=_t294,this.cursor+=1,"\n"===_t294?(this.line+=1,this.column=1):this.column+=1;}return""===e?null:e;}},{key:"peek",value:function peek(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e="";for(var _i215=0;_i215<t;_i215+=1){var _t295=this.text[this.cursor+_i215];if(void 0===_t295)break;e+=_t295;}return""===e?null:e;}},{key:"storePosition",value:function storePosition(){var t=this.cursor,e=this.line,i=this.column;this.mn={cursor:t,line:e,column:i};}},{key:"restorePosition",value:function restorePosition(){var _this$mn=this.mn,t=_this$mn.cursor,e=_this$mn.line,i=_this$mn.column;this.cursor=t,this.line=e,this.column=i;}}]);return ao;}();var ho=Math.min,ro=Math.max,co=Math.floor,po=Number.parseFloat,uo=Number.parseInt,xo=function xo(t,e,i){var s,n,o,l=ro(t/=255,e/=255,i/=255),a=ho(t,e,i);if(s=n=o=(l+a)/2,l===a)s=n=0;else{var _h23=l-a;if(n=o>.5?_h23/(2-l-a):_h23/(l+a),l===t){var _t296;_t296=e<i?6:0,s=(e-i)/_h23+_t296;}else l===e?s=(i-t)/_h23+2:l===i&&(s=(t-e)/_h23+4);}return s=Q(s/6*360,0,360,0),n=Q(100*n,0,100,1),o=Q(100*o,0,100,1),[s,n,o];},bo=function bo(t,e,i){var s,n,o;if(t/=360,i/=100,0===(e/=100))s=n=o=i;else{var _l42,_a33,_h24=function _h24(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t;};_l42=i<.5?i*(1+e):i+e-i*e,_a33=2*i-_l42,s=_h24(_a33,_l42,t+1/3),n=_h24(_a33,_l42,t),o=_h24(_a33,_l42,t-1/3);}return s=Q(255*s,0,255,0),n=Q(255*n,0,255,0),o=Q(255*o,0,255,0),[s,n,o];},mo=function mo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";t=t.trim();var i=fo(t),s=null,n=null;if(7===i.length&&"rgb("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&")"===i[6].text)s=[po(i[1].text),po(i[3].text),po(i[5].text),1];else if(7===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)s=[po(i[1].text)/100*255,po(i[3].text)/100*255,po(i[5].text)/100*255,1];else if(9===i.length&&"rgba("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"NUM"===i[3].type&&","===i[4].text&&"NUM"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[po(i[1].text),po(i[3].text),po(i[5].text),po(i[7].text)];else if(9===i.length&&"rgb("===i[0].text&&"PERCENTAGE"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)s=[po(i[1].text)/100*255,po(i[3].text)/100*255,po(i[5].text)/100*255,po(i[7].text)];else if(7===i.length&&"hsl("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&")"===i[6].text)n=[po(i[1].text),po(i[3].text),po(i[5].text),1];else if(9===i.length&&"hsla("===i[0].text&&"NUM"===i[1].type&&","===i[2].text&&"PERCENTAGE"===i[3].type&&","===i[4].text&&"PERCENTAGE"===i[5].type&&","===i[6].text&&"NUM"===i[7].type&&")"===i[8].text)n=[po(i[1].text),po(i[3].text),po(i[5].text),po(i[7].text)];else if("HEX"===i[0].type&&void 0===i[1]){var _t297,_e234,_n71,_o50=i[0].text.substring(1);3===_o50.length?(_t297=_o50[0]+_o50[0],_e234=_o50[1]+_o50[1],_n71=_o50[2]+_o50[2]):(_t297=_o50[0]+_o50[1],_e234=_o50[2]+_o50[3],_n71=_o50[4]+_o50[5]),s=[uo(_t297,16),uo(_e234,16),uo(_n71,16),1];}else B[t]&&(s=[B[t][0],B[t][1],B[t][2],1]);if(s){var _s132=s,_s133=_slicedToArray(_s132,4),_t298=_s133[0],_i216=_s133[1],_n72=_s133[2],_o51=_s133[3];if(_t298=Q(_t298,0,255,0),_i216=Q(_i216,0,255,0),_n72=Q(_n72,0,255,0),_o51=Q(_o51,0,1,2),"hsla"===e){var _xo=xo(_t298,_i216,_n72),_xo2=_slicedToArray(_xo,3),_e235=_xo2[0],_s134=_xo2[1],_l43=_xo2[2];return[_e235,_s134,_l43,_o51];}if("hsva"===e){var _ref48=function(t,e,i){var s=ro(t/=255,e/=255,i/=255),n=ho(t,e,i),o=0,l=0,a=s,h=s-n;return l=0===s?0:h/s,s===n?o=0:(s===t?o=(e-i)/h+(e<i?6:0):s===e?o=(i-t)/h+2:s===i&&(o=(t-e)/h+4),o/=6),o*=360,l*=100,a*=100,[o,l,a];}(_t298,_i216,_n72),_ref49=_slicedToArray(_ref48,3),_e236=_ref49[0],_s135=_ref49[1],_l44=_ref49[2];return[_e236,_s135,_l44,_o51];}return[_t298,_i216,_n72,_o51];}if(n){var _n73=n,_n74=_slicedToArray(_n73,4),_t299=_n74[0],_i217=_n74[1],_s136=_n74[2],_o52=_n74[3];if(_t299=Q(_t299,0,360,0),_i217=Q(_i217,0,100,1),_s136=Q(_s136,0,100,1),_o52=Q(_o52,0,1,2),"hsla"===e)return[_t299,_i217,_s136,_o52];if("hsva"===e){var _ref50=function(t,e,i){e/=100;var s,n,o=t/=360;return s=(i=i/100*2)+(e*=i<=1?i:2-i)==0?0:2*e/(i+e),n=(i+e)/2,o*=360,s=100*ro(0,ho(1,s)),n=100*ro(0,ho(1,n)),[o,s,n];}(_t299,_i217,_s136),_ref51=_slicedToArray(_ref50,3),_e237=_ref51[0],_n75=_ref51[1],_l45=_ref51[2];return[_e237,_n75,_l45,_o52];}{var _bo=bo(_t299,_i217,_s136),_bo2=_slicedToArray(_bo,3),_e238=_bo2[0],_n76=_bo2[1],_l46=_bo2[2];return[_e238,_n76,_l46,_o52];}}throw new Error("Invalid color string: \"".concat(t,"\""));},go=function go(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"rgba";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"hex";var s=null;if(["rgb","rgba","rgb%","rgba%","hex"].includes(i)){var _t300,_t301,_bo3,_bo4,_ref52,_ref53;var _n77,_o53,_l47,_a34;if("rgba"===e?(_t300=t,_t301=_slicedToArray(_t300,4),_n77=_t301[0],_o53=_t301[1],_l47=_t301[2],_a34=_t301[3],_t300):"hsla"===e?((_bo3=bo.apply(void 0,_toConsumableArray(t)),_bo4=_slicedToArray(_bo3,3),_n77=_bo4[0],_o53=_bo4[1],_l47=_bo4[2],_bo3),_a34=t[3]):"hsva"===e&&((_ref52=function(t,e,i){e/=100,i/=100;var s=co(6*(t/=360)),n=6*t-s,o=i*(1-e),l=i*(1-n*e),a=i*(1-(1-n)*e),h=0,r=0,d=0;return s%6==0?(h=i,r=a,d=o):s%6==1?(h=l,r=i,d=o):s%6==2?(h=o,r=i,d=a):s%6==3?(h=o,r=l,d=i):s%6==4?(h=a,r=o,d=i):s%6==5&&(h=i,r=o,d=l),h*=255,r*=255,d*=255,[h,r,d];}.apply(void 0,_toConsumableArray(t)),_ref53=_slicedToArray(_ref52,3),_n77=_ref53[0],_o53=_ref53[1],_l47=_ref53[2],_ref52),_a34=t[3]),"rgb%"===i||"rgba%"===i?(_n77=Q(_n77/255*100,0,100,1),_o53=Q(_o53/255*100,0,100,1),_l47=Q(_l47/255*100,0,100,1),_a34=Q(_a34,0,1,2)):(_n77=Q(_n77,0,255,0),_o53=Q(_o53,0,255,0),_l47=Q(_l47,0,255,0),_a34=Q(_a34,0,1,2)),"rgb"===i)s="rgb(".concat(_n77,", ").concat(_o53,", ").concat(_l47,")");else if("rgba"===i)s="rgba(".concat(_n77,", ").concat(_o53,", ").concat(_l47,", ").concat(_a34,")");else if("rgb%"===i)s="rgb(".concat(_n77,"%, ").concat(_o53,"%, ").concat(_l47,"%)");else if("rgba%"===i)s="rgb(".concat(_n77,"%, ").concat(_o53,"%, ").concat(_l47,"%, ").concat(_a34,")");else if("hex"===i){var _t302=_n77.toString(16),_e239=_o53.toString(16),_i218=_l47.toString(16);1===_t302.length&&(_t302="0"+_t302),1===_e239.length&&(_e239="0"+_e239),1===_i218.length&&(_i218="0"+_i218),s="#"+_t302+_e239+_i218;}}else if("hsl"===i||"hsla"===i){var _t303,_t304,_ref54,_ref55,_xo3,_xo4;var _n78,_o54,_l48,_a35;"hsla"===e?(_t303=t,_t304=_slicedToArray(_t303,4),_n78=_t304[0],_o54=_t304[1],_l48=_t304[2],_a35=_t304[3],_t303):"hsva"===e?((_ref54=function(t,e,i){var s=t/=360,n=(2-(e/=100))*(i/=100),o=e*i;return n<=1?0===n?o=0:o/=n:2===n?o=0:o/=2-n,n/=2,s*=360,o=100*ro(0,ho(1,o)),n=100*ro(0,ho(1,n)),[s,o,n];}.apply(void 0,_toConsumableArray(t)),_ref55=_slicedToArray(_ref54,3),_n78=_ref55[0],_o54=_ref55[1],_l48=_ref55[2],_ref54),_a35=t[3]):"rgba"===e&&((_xo3=xo.apply(void 0,_toConsumableArray(t)),_xo4=_slicedToArray(_xo3,3),_n78=_xo4[0],_o54=_xo4[1],_l48=_xo4[2],_xo3),_a35=t[3]),_n78=Q(_n78,0,360,0),_o54=Q(_o54,0,100,1),_l48=Q(_l48,0,100,1),_a35=Q(_a35,0,1,2),"hsl"===i?s="hsl(".concat(_n78,", ").concat(_o54,"%, ").concat(_l48,"%)"):"hsla"===i&&(s="hsla(".concat(_n78,", ").concat(_o54,"%, ").concat(_l48,"%, ").concat(_a35,")"));}return s;},fo=function fo(t){var e=[],i=new ao(t.toLowerCase());var _loop3=function _loop3(){var t=i.read();(function(){if("r"===t||"h"===t){var _s137=t;if(t+i.peek(3)==="rgb("?_s137+=i.read(3):t+i.peek(4)==="rgba("?_s137+=i.read(4):t+i.peek(3)==="hsl("?_s137+=i.read(3):t+i.peek(4)==="hsla("&&(_s137+=i.read(4)),_s137!==t)return void e.push({type:"FUNCTION",text:_s137});}if("#"===t){if(vo(t+i.peek(6))){var _s138=t+i.read(6);return void e.push({type:"HEX",text:_s138});}if(vo(t+i.peek(3)))return text=t+i.read(3),void e.push({type:"HEX",text:text});}if(["0","1","2","3","4","5","6","7","8","9",".","-"].includes(t)){var _s139=t;for(;["0","1","2","3","4","5","6","7","8","9","."].includes(i.peek());){_s139+=i.read();}"%"===i.peek()?(_s139+=i.read(),e.push({type:"PERCENTAGE",text:_s139})):e.push({type:"NUM",text:_s139});}else /\u0009|\u000a|\u000c|\u000d|\u0020/.test(t)||e.push({type:"CHAR",text:t});})();};for(;null!==i.peek();){_loop3();}return e;},wo=function wo(t,e){var i=e.startsWith("hsl")?"hsla":"rgba",s=mo(t,i);return go(s,i,e);},vo=function vo(t){if("#"!==(t=t.toLowerCase())[0])return!1;if(4!==t.length&&7!==t.length)return!1;t=t.substring(1);var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];var _iterator145=_createForOfIteratorHelper(t),_step145;try{for(_iterator145.s();!(_step145=_iterator145.n()).done;){var _i219=_step145.value;if(!e.includes(_i219))return!1;}}catch(err){_iterator145.e(err);}finally{_iterator145.f();}return!0;},yo=function yo(t){try{mo(t);}catch(t){return!1;}return!0;},ko=function ko(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Ti(t));var _n79=e.querySelector(s.href.baseVal);if(!_n79||"linearGradient"!==_n79.localName&&"radialGradient"!==_n79.localName||_n79===t||!1!==i.includes(_n79))break;i.push(_n79),s=_n79;}return i;},So=function So(t){var _iterator146=_createForOfIteratorHelper(ko(t)),_step146;try{for(_iterator146.s();!(_step146=_iterator146.n()).done;){var _e240=_step146.value;if(Do(_e240))return _e240;}}catch(err){_iterator146.e(err);}finally{_iterator146.f();}return null;},_o=function _o(t){return Do(t)?t:So(t);},Co=function Co(t){return Po(t)?t:function(t){var _iterator147=_createForOfIteratorHelper(ko(t)),_step147;try{for(_iterator147.s();!(_step147=_iterator147.n()).done;){var _e241=_step147.value;if(Po(_e241))return _e241;}}catch(err){_iterator147.e(err);}finally{_iterator147.f();}return null;}(t);},Mo=function Mo(t){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _e242=_toConsumableArray(t.querySelectorAll(":scope > stop"));return 1===_e242.length&&!1===_e242[0].hasAttribute("offset");}return!1;},Po=function Po(t){return null!==t.querySelector(":scope > stop")||!1===t.hasAttribute("href");},Do=function Do(t){var e=[];"linearGradient"===t.localName?e=["x1","y1","x2","y2","href","gradientUnits","gradientTransform","href"]:"radialGradient"===t.localName&&(e=["cx","cy","r","fx","fy","fr","href","gradientUnits","gradientTransform","href"]);for(var _i220=0,_e243=e;_i220<_e243.length;_i220++){var _i221=_e243[_i220];if(t.hasAttribute(_i221))return!1;}return!0!==Mo(t);},zo=function zo(t){var e=[t].concat(_toConsumableArray(ko(t))),i={};{var _t305=null;var _iterator148=_createForOfIteratorHelper(e),_step148;try{for(_iterator148.s();!(_step148=_iterator148.n()).done;){var _i222=_step148.value;if(_i222.hasAttribute("gradientUnits")){_t305=_i222.gradientUnits.baseVal;break;}}}catch(err){_iterator148.e(err);}finally{_iterator148.f();}null===_t305&&(_t305=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.gradientUnits=_t305;}{var _t306=null;var _iterator149=_createForOfIteratorHelper(e),_step149;try{for(_iterator149.s();!(_step149=_iterator149.n()).done;){var _i223=_step149.value;if(_i223.hasAttribute("gradientTransform")){_t306=DOMMatrix.fromMatrix(_i223.gradientTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator149.e(err);}finally{_iterator149.f();}null===_t306&&(_t306=new DOMMatrix()),i.gradientTransform=_t306;}{var _t307=null;var _iterator150=_createForOfIteratorHelper(e),_step150;try{for(_iterator150.s();!(_step150=_iterator150.n()).done;){var _i224=_step150.value;if(_i224.hasAttribute("spreadMethod")){_t307=_i224.spreadMethod.baseVal;break;}}}catch(err){_iterator150.e(err);}finally{_iterator150.f();}null===_t307&&(_t307=SVGGradientElement.SVG_SPREADMETHOD_PAD),i.spreadMethod=_t307;}if("linearGradient"===t.localName)for(var _i225=0,_arr7=["x1","y1","x2","y2"];_i225<_arr7.length;_i225++){var _t308=_arr7[_i225];var _s140=null;var _iterator151=_createForOfIteratorHelper(e),_step151;try{for(_iterator151.s();!(_step151=_iterator151.n()).done;){var _i226=_step151.value;if("linearGradient"===_i226.localName&&_i226.hasAttribute(_t308)){_s140={value:_i226[_t308].baseVal.value,valueInSpecifiedUnits:_i226[_t308].baseVal.valueInSpecifiedUnits,valueAsString:_i226[_t308].baseVal.valueAsString,unitType:_i226[_t308].baseVal.unitType};break;}}}catch(err){_iterator151.e(err);}finally{_iterator151.f();}null===_s140&&("x1"===_t308||"y1"===_t308||"y2"===_t308?_s140={value:0,valueInSpecifiedUnits:0,valueAsString:"0%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}:"x2"===_t308&&(_s140={value:screen.width,valueInSpecifiedUnits:100,valueAsString:"100%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE})),i[_t308]=_s140;}else if("radialGradient"===t.localName){for(var _i227=0,_arr8=["cx","cy","r"];_i227<_arr8.length;_i227++){var _t309=_arr8[_i227];var _s141=null;var _iterator152=_createForOfIteratorHelper(e),_step152;try{for(_iterator152.s();!(_step152=_iterator152.n()).done;){var _i228=_step152.value;if("radialGradient"===_i228.localName&&_i228.hasAttribute(_t309)){_s141={value:_i228[_t309].baseVal.value,valueInSpecifiedUnits:_i228[_t309].baseVal.valueInSpecifiedUnits,valueAsString:_i228[_t309].baseVal.valueAsString,unitType:_i228[_t309].baseVal.unitType};break;}}}catch(err){_iterator152.e(err);}finally{_iterator152.f();}null===_s141&&(_s141={value:screen.width/2,valueInSpecifiedUnits:50,valueAsString:"50%",unitType:SVGLength.SVG_LENGTHTYPE_PERCENTAGE}),i[_t309]=_s141;}for(var _i229=0,_arr9=["fx","fy","fr"];_i229<_arr9.length;_i229++){var _t310=_arr9[_i229];var _s142=null;var _iterator153=_createForOfIteratorHelper(e),_step153;try{for(_iterator153.s();!(_step153=_iterator153.n()).done;){var _i230=_step153.value;if("radialGradient"===_i230.localName&&_i230.hasAttribute(_t310)){_s142={value:_i230[_t310].baseVal.value,valueInSpecifiedUnits:_i230[_t310].baseVal.valueInSpecifiedUnits,valueAsString:_i230[_t310].baseVal.valueAsString,unitType:_i230[_t310].baseVal.unitType};break;}}}catch(err){_iterator153.e(err);}finally{_iterator153.f();}null===_s142&&("fx"===_t310?_s142={value:i.cx.value,valueInSpecifiedUnits:i.cx.valueInSpecifiedUnits,valueAsString:i.cx.valueAsString,unitType:i.cx.unitType}:"fy"===_t310?_s142={value:i.cy.value,valueInSpecifiedUnits:i.cy.valueInSpecifiedUnits,valueAsString:i.cy.valueAsString,unitType:i.cy.unitType}:"fr"===_t310&&(_s142={value:i.r.value,valueInSpecifiedUnits:i.r.valueInSpecifiedUnits,valueAsString:i.r.valueAsString,unitType:i.r.unitType})),i[_t310]=_s142;}}return i;},Oo=function Oo(t){var e=[];for(var _i231=0,_arr10=[t].concat(_toConsumableArray(ko(t)));_i231<_arr10.length;_i231++){var _i232=_arr10[_i231];var _t311=Ao(_i232);if(_t311.length>0){e=_t311;break;}}return e;},Eo=function Eo(t,e){var i=null;if(t.hasAttribute(e))i=t.getAttribute(e);else{var _s143=ko(t);var _iterator154=_createForOfIteratorHelper(_s143),_step154;try{for(_iterator154.s();!(_step154=_iterator154.n()).done;){var _t312=_step154.value;if(_t312.hasAttribute(e)){i=_t312.getAttribute(e);break;}}}catch(err){_iterator154.e(err);}finally{_iterator154.f();}}return i;},To=function To(t,e){var i=Ei("canvas"),s=100;i.width=s,i.height=10;var n=i.getContext("2d");n.clearRect(0,0,s,10);var o=n.createLinearGradient(0,0,s,0);var _iterator155=_createForOfIteratorHelper(Oo(t)),_step155;try{for(_iterator155.s();!(_step155=_iterator155.n()).done;){var _e244=_step155.value;o.addColorStop(_e244.offset.baseVal,_e244.style.getPropertyValue("stop-color")||"#000");}}catch(err){_iterator155.e(err);}finally{_iterator155.f();}n.fillStyle=o,n.fillRect(0,0,s,10);var l=n.getImageData(e*s,0,1,1).data;return"rgb(".concat(l[0],", ").concat(l[1],", ").concat(l[2],")");},Ao=function Ao(t){var e=[];var _iterator156=_createForOfIteratorHelper(t.children),_step156;try{for(_iterator156.s();!(_step156=_iterator156.n()).done;){var _i233=_step156.value;"stop"===_i233.localName&&e.push(_i233);}}catch(err){_iterator156.e(err);}finally{_iterator156.f();}return e;},$o=function $o(t){var _getComputedStyle3=getComputedStyle(t),e=_getComputedStyle3.stopColor,i=_getComputedStyle3.stopOpacity,_mo=mo(e,"rgba"),_mo2=_slicedToArray(_mo,4),s=_mo2[0],n=_mo2[1],o=_mo2[2],l=_mo2[3];return l*=parseFloat(i),"rgba(".concat(s,", ").concat(n,", ").concat(o,", ").concat(l,")");},Io=function Io(t){var e=null;if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i234=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i234.length&&!1===_i234[0].hasAttribute("offset")&&(e=getComputedStyle(_i234[0]).stopColor);}return e;},Lo=function Lo(t,e){if("linearGradient"===t.localName&&!1===t.hasAttribute("href")){var _i235=_toConsumableArray(t.querySelectorAll(":scope > stop"));1===_i235.length&&!1===_i235[0].hasAttribute("offset")&&(_i235[0].style.stopColor=e);}},Bo=function Bo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t313=_toArray(t),_e245=_t313[0],_i236=_t313.slice(1),_s144=Symbol(),_n80=Symbol(),_o55=Symbol();var _iterator157=_createForOfIteratorHelper(t),_step157;try{for(_iterator157.s();!(_step157=_iterator157.n()).done;){var _e247=_step157.value;_e247[_s144]=Oo(_e247),!1===_e247.isConnected&&console.warn("compareGradientsResolvedStops() might return incorrect results for disconnected gradients.");}}catch(err){_iterator157.e(err);}finally{_iterator157.f();}var _iterator158=_createForOfIteratorHelper(_i236),_step158;try{for(_iterator158.s();!(_step158=_iterator158.n()).done;){var _t315=_step158.value;if(_t315[_s144].length!==_e245[_s144].length)return!1;}}catch(err){_iterator158.e(err);}finally{_iterator158.f();}var _iterator159=_createForOfIteratorHelper(t),_step159;try{for(_iterator159.s();!(_step159=_iterator159.n()).done;){var _e248=_step159.value;var _iterator161=_createForOfIteratorHelper(_e248[_s144]),_step161;try{for(_iterator161.s();!(_step161=_iterator161.n()).done;){var _t316=_step161.value;var _getComputedStyle4=getComputedStyle(_t316),_e249=_getComputedStyle4.stopColor,_i238=_getComputedStyle4.stopOpacity;_t316[_n80]=_e249,_t316[_o55]=_i238;}}catch(err){_iterator161.e(err);}finally{_iterator161.f();}}}catch(err){_iterator159.e(err);}finally{_iterator159.f();}for(var _t314=0;_t314<_e245[_s144].length;_t314+=1){var _l49=_e245[_s144][_t314];var _iterator160=_createForOfIteratorHelper(_i236),_step160;try{for(_iterator160.s();!(_step160=_iterator160.n()).done;){var _e246=_step160.value;var _i237=_e246[_s144][_t314];if(_i237.offset.baseVal!==_l49.offset.baseVal)return!1;if(_i237[_n80]!==_l49[_n80])return!1;if(_i237[_o55]!==_l49[_o55])return!1;}}catch(err){_iterator160.e(err);}finally{_iterator160.f();}}return!0;}},_SVGUnitTypes=SVGUnitTypes,Ro=_SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,Go=_SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,Fo=function Fo(t){var e=null,i=[],s=t;for(;s&&""!==s.href.baseVal;){null===e&&(e=Ti(t));var _n81=e.querySelector(s.href.baseVal);if(!_n81||"pattern"!==_n81.localName||_n81===t||!1!==i.includes(_n81))break;i.push(_n81),s=_n81;}return i;},Uo=function Uo(t){return Vo(t)?t:function(t){var e=Fo(t),i=null;var _iterator162=_createForOfIteratorHelper(e),_step162;try{for(_iterator162.s();!(_step162=_iterator162.n()).done;){var _t317=_step162.value;Vo(_t317)&&(i=_t317);}}catch(err){_iterator162.e(err);}finally{_iterator162.f();}return i;}(t);},No=function No(t){var e=null;if(""!==t.href.baseVal){var _i239=Ti(t).querySelector(t.href.baseVal);_i239&&_i239!==t&&"pattern"===_i239.localName&&(e=_i239);}return e;},Vo=function Vo(t){return!1===t.hasAttribute("href")||!0===jo(t);},jo=function jo(t){var _iterator163=_createForOfIteratorHelper(t.children),_step163;try{for(_iterator163.s();!(_step163=_iterator163.n()).done;){var _e250=_step163.value;if("title"!==_e250.localName&&"desc"!==_e250.localName&&"metadata"!==_e250.localName)return!0;}}catch(err){_iterator163.e(err);}finally{_iterator163.f();}return!1;},Ho=function Ho(t){var e=[];for(var _i240=0,_arr11=[t].concat(_toConsumableArray(Fo(t)));_i240<_arr11.length;_i240++){var _i241=_arr11[_i240];if(jo(_i241)){e=_toConsumableArray(_i241.children);break;}}return e;},Yo=function Yo(t){var e=[t].concat(_toConsumableArray(Fo(t))),i={};{var _t318=null;var _iterator164=_createForOfIteratorHelper(e),_step164;try{for(_iterator164.s();!(_step164=_iterator164.n()).done;){var _i242=_step164.value;if(_i242.hasAttribute("patternUnits")){_t318=_i242.patternUnits.baseVal;break;}}}catch(err){_iterator164.e(err);}finally{_iterator164.f();}null===_t318&&(_t318=SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX),i.patternUnits=_t318;}{var _t319=null;var _iterator165=_createForOfIteratorHelper(e),_step165;try{for(_iterator165.s();!(_step165=_iterator165.n()).done;){var _i243=_step165.value;if(_i243.hasAttribute("patternContentUnits")){_t319=_i243.patternContentUnits.baseVal;break;}}}catch(err){_iterator165.e(err);}finally{_iterator165.f();}null===_t319&&(_t319=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE),i.patternContentUnits=_t319;}{var _t320=null;var _iterator166=_createForOfIteratorHelper(e),_step166;try{for(_iterator166.s();!(_step166=_iterator166.n()).done;){var _i244=_step166.value;if(_i244.hasAttribute("patternTransform")){_t320=DOMMatrix.fromMatrix(_i244.patternTransform.baseVal.consolidate().matrix);break;}}}catch(err){_iterator166.e(err);}finally{_iterator166.f();}null===_t320&&(_t320=new DOMMatrix()),i.patternTransform=_t320;}{var _t321=null;var _iterator167=_createForOfIteratorHelper(e),_step167;try{for(_iterator167.s();!(_step167=_iterator167.n()).done;){var _i245=_step167.value;if(_i245.hasAttribute("viewBox")){_t321=DOMRect.fromRect(_i245.viewBox.baseVal);break;}}}catch(err){_iterator167.e(err);}finally{_iterator167.f();}null===_t321&&(_t321=new DOMRect()),i.viewBox=_t321;}{var _t322=null;var _iterator168=_createForOfIteratorHelper(e),_step168;try{for(_iterator168.s();!(_step168=_iterator168.n()).done;){var _i246=_step168.value;if(_i246.hasAttribute("preserveAspectRatio")){_t322=_i246.preserveAspectRatio.baseVal;break;}}}catch(err){_iterator168.e(err);}finally{_iterator168.f();}null===_t322&&(_t322={align:SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID,meetOrSlice:SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET}),i.preserveAspectRatio=_t322;}for(var _i247=0,_arr12=["x","y","width","height"];_i247<_arr12.length;_i247++){var _t323=_arr12[_i247];var _s145=null;var _iterator169=_createForOfIteratorHelper(e),_step169;try{for(_iterator169.s();!(_step169=_iterator169.n()).done;){var _i248=_step169.value;if(_i248.hasAttribute(_t323)){_s145={value:_i248[_t323].baseVal.value,valueInSpecifiedUnits:_i248[_t323].baseVal.valueInSpecifiedUnits,valueAsString:_i248[_t323].baseVal.valueAsString,unitType:_i248[_t323].baseVal.unitType};break;}}}catch(err){_iterator169.e(err);}finally{_iterator169.f();}null===_s145&&(_s145={value:0,valueInSpecifiedUnits:0,valueAsString:"0",unitType:SVGLength.SVG_LENGTHTYPE_NUMBER}),i[_t323]=_s145;}return i;},Wo=function Wo(t){var e=Ti(t),i=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _getComputedStyle5=getComputedStyle(s),_e251=_getComputedStyle5.fill,_i249=_getComputedStyle5.stroke;for(var _i250=0,_arr13=[_e251,_i249];_i250<_arr13.length;_i250++){var _o56=_arr13[_i250];if(_o56.startsWith('url("#')){_o56.substring(6,_o56.length-2)===t.id&&!1===n.includes(s)&&n.push(s);}}}}return n;},qo=function qo(t){if(0===t.length)return!1;if(1===t.length)return!0;{var _t324=_toArray(t),_e252=_t324[0],_i251=_t324.slice(1),_s146=Symbol();var _iterator170=_createForOfIteratorHelper(t),_step170;try{for(_iterator170.s();!(_step170=_iterator170.n()).done;){var _e253=_step170.value;_e253[_s146]=Ho(_e253);}}catch(err){_iterator170.e(err);}finally{_iterator170.f();}var _iterator171=_createForOfIteratorHelper(_i251),_step171;try{for(_iterator171.s();!(_step171=_iterator171.n()).done;){var _t325=_step171.value;if(!1===ti(_t325[_s146],_e252[_s146],!0))return!1;}}catch(err){_iterator171.e(err);}finally{_iterator171.f();}return!0;}},Xo=function Xo(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var s,n,o,l,a,h,r=Yo(t),d=Pi(e);if(r.patternUnits===Go)s=new DOMPoint(r.x.value,r.y.value),n=new DOMPoint(r.x.value+r.width.value,r.y.value),o=new DOMPoint(r.x.value+r.width.value,r.y.value+r.height.value),l=new DOMPoint(d.x+d.width/2-r.width.value/2,d.y+d.height/2-r.height.value/2),a=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2-r.height.value/2),h=new DOMPoint(d.x+d.width/2+r.width.value/2,d.y+d.height/2+r.height.value/2);else if(r.patternUnits===Ro){var _t326=r.x.valueInSpecifiedUnits,_e254=r.y.valueInSpecifiedUnits,_i252=r.width.valueInSpecifiedUnits,_c4=r.height.valueInSpecifiedUnits;r.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t326/=100),r.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e254/=100),r.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i252/=100),r.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c4/=100);var _p3=new DOMPoint(_t326,_e254),_u3=new DOMPoint(_t326+_i252,_e254),_x50=new DOMPoint(_t326+_i252,_e254+_c4);s=new DOMPoint(d.x+_p3.x*d.width,d.y+_p3.y*d.height),n=new DOMPoint(d.x+_u3.x*d.width,d.y+_u3.y*d.height),o=new DOMPoint(d.x+_x50.x*d.width,d.y+_x50.y*d.height),l=new DOMPoint(d.x+d.width/2-d.width*_i252/2,d.y+d.height/2-d.height*_c4/2),a=new DOMPoint(d.x+d.width/2+d.width*_i252/2,d.y+d.height/2-d.height*_c4/2),h=new DOMPoint(d.x+d.width/2+d.width*_i252/2,d.y+d.height/2+d.height*_c4/2);}var c=Yt(s,n,o,l,a,h);null!==i&&(c=Gt(c,i)),t.setAttribute("patternTransform",c.toString());},Zo=function Zo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i="none";if("inherit"===t.style.getPropertyValue(e))i="inherit";else{var _s147=getComputedStyle(t).getPropertyValue(e);if(yo(_s147))i="solid";else{var _e255=lo.fromString(_s147);if(_e255){var _s148=Ti(t).querySelector(_e255.value),_n82=_s148?_s148.localName:null;"linearGradient"===_n82&&Mo(_s148)?i="solid":"linearGradient"!==_n82&&"radialGradient"!==_n82&&"pattern"!==_n82||(i=_n82);}}}return i;},Ko=function Ko(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=null,s=getComputedStyle(t).getPropertyValue(e),n=lo.fromString(s);if(n){var _e256=Ti(t).querySelector(n.value);_e256&&v.includes(_e256.localName)&&(i=_e256);}return i;},Qo=function Qo(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"fill";var i=[],s=[];var _iterator172=_createForOfIteratorHelper(t),_step172;try{for(_iterator172.s();!(_step172=_iterator172.n()).done;){var _n84=_step172.value;var _t327=getComputedStyle(_n84).getPropertyValue(e),_o57=Ko(_n84);i.push(_t327),s.push(_o57);}}catch(err){_iterator172.e(err);}finally{_iterator172.f();}if(i.legth<=1)return!1;if(ii(i,i[0]))return!1;{var _e257=s.filter(function(t){return t&&"linearGradient"===t.localName;}),_i253=s.filter(function(t){return t&&"radialGradient"===t.localName;}),_n83=s.filter(function(t){return t&&"pattern"===t.localName;});return(_e257.length!==t.length||!Bo(_e257))&&(_i253.length!==t.length||!Bo(_i253))&&(_n83.length!==t.length||!qo(_n83));}},Jo=function Jo(t,e){var i=lo.fromString(e);if(i){var _e258=t.querySelector(i.value);if(_e258)return _e258;}return null;},tl=["text","textPath","tspan"],el=["fill","fill-opacity","fill-rule","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","paint-order","vector-effect"],il=["opacity","mix-blend-mode","isolation"],sl=["font-family","font-size","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","text-decoration","text-transform"],nl=function nl(t){var e=[];return w.includes(t.localName)&&e.push.apply(e,el),m.includes(t.localName)&&e.push.apply(e,il),tl.includes(t.localName)&&e.push.apply(e,sl),e;},ol=function ol(t,e){var i=getComputedStyle(t),s=nl(t);!1===t.isConnected&&console.warn("setAppearance() called with a disconnected element.");var _iterator173=_createForOfIteratorHelper(s),_step173;try{for(_iterator173.s();!(_step173=_iterator173.n()).done;){var _n85=_step173.value;var _s149=e[_n85];if(void 0===_s149)t.style[_n85]=null,t.removeAttribute(_n85);else if("fill"===_n85||"stroke"===_n85){if(_s149.startsWith("<linearGradient")||_s149.startsWith("<radialGradient")){var _e259=Ti(t),_i254=_e259.querySelector("defs"),_o58=Zi(_templateObject5(),_s149);_o58.id=Yi(_e259,"gradient-"),(_i254||_e259).append(_o58),t.style[_n85]="url(#".concat(_o58.id,")");}else i[_n85]!==_s149&&(t.style[_n85]=_s149);}else i[_n85]!==_s149&&(t.style[_n85]=_s149);}}catch(err){_iterator173.e(err);}finally{_iterator173.f();}},ll={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var al=/*#__PURE__*/function(_HTMLElement41){_inherits(al,_HTMLElement41);var _super42=_createSuper(al);_createClass(al,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function al(){var _this140;_classCallCheck(this,al);_this140=_super42.call(this),_this140.gn=null,_this140.fn=!1;return _this140;}_createClass(al,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this141=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this141.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this141.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this141._n(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.gn=null,this.fn=!1,t.pathHud.passive=!1,t.cubicBezierSegHud.hide(),t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn);}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);this.gn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.gn=null,this.fn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.cubicBezierSegHud.hide());}},{key:"kn",value:function kn(t){var _this142=this;var e,_i255,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i255=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i255);var o=n<4;_this142.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.gn){if(e){i.undoManager.checkpoint("Draw path segment");var _e260=t.clientX,_s150=t.clientY,_n86=i.currentContainer||i.currentWorkspace,_o59=this.Qs.getConfig("bx-cubicbeziersettings:style")||ll,_l50=Ei("svg:path");_n86.append(_l50),ol(_l50,_o59);var _a36=Ht(_l50).inverse(),_DOMPoint$matrixTrans=new DOMPoint(_e260,_s150).matrixTransform(_a36),_h25=_DOMPoint$matrixTrans.x,_r15=_DOMPoint$matrixTrans.y,_d6=[{type:"M",values:[_h25,_r15]}];for(var _i256=0,_d7=_d6;_i256<_d7.length;_i256++){var _t328=_d7[_i256];_t328.values=_t328.values.map(function(t){return K(t,i.geometryPrecision);});}_l50.setPathData(_d6),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l50]),this.fn=!1,this.gn=_l50,i.pathHud.passive=!0,i.cubicBezierSegHud.show(_l50,"end");}}else if(this.gn)if(!1===this.fn){var _t329=_toConsumableArray(this.gn.getPathData({normalize:!0}));_t329.length>1&&i.undoManager.checkpoint("Draw path segment"),i.cubicBezierSegHud.curved?_t329.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_t329.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]});var _iterator174=_createForOfIteratorHelper(_t329),_step174;try{for(_iterator174.s();!(_step174=_iterator174.n()).done;){var _e261=_step174.value;_e261.values=_e261.values.map(function(t){return K(t,i.geometryPrecision);});}}catch(err){_iterator174.e(err);}finally{_iterator174.f();}this.gn.setPathData(_t329);}else{i.undoManager.checkpoint("Draw path segment");var _t330=this.gn.getPathData({normalize:!0}),_e262=[];_e262.push({type:"M",values:[i.cubicBezierSegHud.startPoint.x,i.cubicBezierSegHud.startPoint.y]}),i.cubicBezierSegHud.curved?_e262.push({type:"C",values:[i.cubicBezierSegHud.controlPoint1.x,i.cubicBezierSegHud.controlPoint1.y,i.cubicBezierSegHud.controlPoint2.x,i.cubicBezierSegHud.controlPoint2.y,i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}):_e262.push({type:"L",values:[i.cubicBezierSegHud.endPoint.x,i.cubicBezierSegHud.endPoint.y]}),_e262.push.apply(_e262,_toConsumableArray(_t330.slice(1)));for(var _i257=0,_e263=_e262;_i257<_e263.length;_i257++){var _t331=_e263[_i257];_t331.values=_t331.values.map(function(t){return K(t,i.geometryPrecision);});}this.gn.setPathData(_e262);}}},{key:"_n",value:function _n(t,e,i){var s=!1,n=this.Js.board;if(this.gn)if(e===this.gn){if("start"===t||"end"===t){var _e264=this.gn,_i258=_e264.getPathData({normalize:!0}),_o60=_i258[0],_l51=_i258[_i258.length-1];if(!1===this.fn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t332=_toConsumableArray(_i258);n.cubicBezierSegHud.curved?_t332.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o60.values[0],_o60.values[1]]}):_t332.push({type:"L",values:[_o60.values[0],_o60.values[1]]}),_t332.push({type:"Z",values:[]});var _iterator175=_createForOfIteratorHelper(_t332),_step175;try{for(_iterator175.s();!(_step175=_iterator175.n()).done;){var _e265=_step175.value;_e265.values=_e265.values.map(function(t){return K(t,n.geometryPrecision);});}}catch(err){_iterator175.e(err);}finally{_iterator175.f();}_e264.setPathData(_t332);}else if(this.fn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t333=[];_t333.push({type:"M",values:["C"===_l51.type?_l51.values[4]:_l51.values[0],"C"===_l51.type?_l51.values[5]:_l51.values[1]]}),n.cubicBezierSegHud.curved?_t333.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_o60.values[0],_o60.values[1]]}):_t333.push({type:"L",values:[_o60.values[0],_o60.values[1]]}),_t333.push.apply(_t333,_toConsumableArray(_i258.slice(1))),_t333.push({type:"Z",values:[]});for(var _i259=0,_t334=_t333;_i259<_t334.length;_i259++){var _e266=_t334[_i259];_e266.values=_e266.values.map(function(t){return K(t,n.geometryPrecision);});}_e264.setPathData(_t333);}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i260=e,_o61=this.gn,_l52=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i260.id),"\"]")),_a37=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o61.id),"\"]")),_h26=_o61.getPathData({normalize:!0});if(_h26.length>1){var _e267;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.fn&&"end"===t||!0===this.fn&&"start"===t)&&ht(_i260),_a37&&_l52?(_e267=jt(_l52.closest("text"),_a37.closest("text")),_e267.multiplySelf(Vt(_o61)),_e267.multiplySelf(Vt(_i260))):_a37&&!_l52?(_e267=jt(_i260,_a37.closest("text")),_e267.multiplySelf(Vt(_o61))):!_a37&&_l52?(_e267=jt(_l52.closest("text"),_o61),_e267.multiplySelf(Vt(_i260))):_e267=jt(_i260,_o61),!1===this.fn){var _t335=_toConsumableArray(_h26),_s151=se(_i260.getPathData({normalize:!0}),_e267),_l53=_s151[0];n.cubicBezierSegHud.curved?_t335.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l53.values[0],_l53.values[1]]}):_t335.push({type:"L",values:[_l53.values[0],_l53.values[1]]}),_t335.push.apply(_t335,_toConsumableArray(_s151.slice(1)));var _iterator176=_createForOfIteratorHelper(_t335),_step176;try{for(_iterator176.s();!(_step176=_iterator176.n()).done;){var _e268=_step176.value;_e268.values=_e268.values.map(function(t){return K(t,n.geometryPrecision);});}}catch(err){_iterator176.e(err);}finally{_iterator176.f();}_o61.setPathData(_t335),_i260.setPathData([]),_i260.remove();}else if(!0===this.fn){var _t336=[],_s152=se(_i260.getPathData({normalize:!0}),_e267),_l54=_h26[0];_t336.push.apply(_t336,_toConsumableArray(_s152)),n.cubicBezierSegHud.curved?_t336.push({type:"C",values:[n.cubicBezierSegHud.controlPoint1.x,n.cubicBezierSegHud.controlPoint1.y,n.cubicBezierSegHud.controlPoint2.x,n.cubicBezierSegHud.controlPoint2.y,_l54.values[0],_l54.values[1]]}):_t336.push({type:"L",values:[_l54.values[0],_l54.values[1]]}),_t336.push.apply(_t336,_toConsumableArray(_h26.slice(1)));for(var _i261=0,_t337=_t336;_i261<_t337.length;_i261++){var _e269=_t337[_i261];_e269.values=_e269.values.map(function(t){return K(t,n.geometryPrecision);});}_o61.setPathData(_t336),_i260.setPathData([]),_i260.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i260;}),s=!0;}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.cubicBezierSegHud.hide();}if(!1===s&&null===this.gn&&!0===i)if("start"===t){var _t338=this.Mn(e);this.gn=e,this.fn=!0,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"start",_t338);}else if("end"===t){var _t339=this.Mn(e);this.gn=e,this.fn=!1,n.pathHud.passive=!0,n.cubicBezierSegHud.show(e,"end",_t339);}}},{key:"Mn",value:function Mn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator177=_createForOfIteratorHelper(e),_step177;try{for(_iterator177.s();!(_step177=_iterator177.n()).done;){var _i262=_step177.value;if(_i262.href.baseVal==="#"+t.id)return _i262;}}catch(err){_iterator177.e(err);}finally{_iterator177.f();}}return null;}}]);return al;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(al,"observedAttributes",["enabled"]);customElements.define("bx-cubicbeziercontext",al);var hl=function hl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=t+Math.random()*(e-t);return K(s,i);},rl=function rl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"hex";var i=2166136261;for(var _e270=0,_s153=t.length;_e270<_s153;_e270+=1){i^=t.charCodeAt(_e270),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);}return i>>>=0,"hex"===e&&(i=("0000000"+i.toString(16)).substr(-8)),i;},dl=Math.sin,cl=Math.cos,pl=Math.tan,ul=Math.PI;var xl={rect:1,ring:1,pie:1,crescent:1,triangle:1,"n-gon":1,star:1,cog:1,arrow:1,cross:1,spiral:1};var bl=function bl(t){var e=null;if(t.hasAttribute("data-bx-shape")){var _i263=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_i263.length>=3){var _t340=_i263[0],_s154=_i263.slice(1,_i263.length-1),_n87=_i263[_i263.length-1];if(_n87.includes("@")){var _n87$split=_n87.split("@"),_n87$split2=_slicedToArray(_n87$split,2),_i264=_n87$split2[0],_o62=_n87$split2[1];_s154=_s154.map(function(t){return parseFloat(t);}),e={type:_t340,values:_s154};}}}return e;},_ml=function ml(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:9;var s=fl(e,i);if(s){t.setPathData(s);var _n88=e.values.map(function(t){return K(t,i);}),_o63=t.getAttribute("d"),_l55="".concat(e.type," ").concat(_n88.join(" ")," ").concat(xl[e.type]);_l55+="@"+rl("".concat(_o63," / ").concat(_l55)).toString(32),t.setAttribute("data-bx-shape",_l55);}},gl=function gl(t){var e=!1;if(t.hasAttribute("data-bx-shape")){var _i265=t.getAttribute("d"),_s155=t.getAttribute("data-bx-shape").trim().split(/[\s+,]+/);if(_s155.length>=3){var _t341=_s155[0],_n89=_s155.slice(1,_s155.length-1),_o64=_s155[_s155.length-1];if(_o64.includes("@")){var _o64$split=_o64.split("@"),_o64$split2=_slicedToArray(_o64$split,2),_s156=_o64$split2[0],_l56=_o64$split2[1];_l56===rl("".concat(_i265," / ").concat(_t341," ").concat(_n89.join(" ")," ").concat(_s156)).toString(32)&&(e=!0);}}}return e;},fl=function fl(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.type?i=wl(t,e):"ring"===t.type?i=vl(t,e):"pie"===t.type?i=yl(t,e):"crescent"===t.type?i=kl(t,e):"triangle"===t.type?i=Sl(t,e):"n-gon"===t.type?i=_l(t,e):"star"===t.type?i=Cl(t,e):"cog"===t.type?i=Ml(t,e):"arrow"===t.type?i=Pl(t,e):"cross"===t.type?i=Dl(t,e):"spiral"===t.type&&(i=zl(t,e)),i;},wl=function wl(t,e){var _t$values=_slicedToArray(t.values,12),i=_t$values[0],s=_t$values[1],n=_t$values[2],o=_t$values[3],l=_t$values[4],a=_t$values[5],h=_t$values[6],r=_t$values[7],d=_t$values[8],c=_t$values[9],p=_t$values[10],u=_t$values[11];void 0===d&&(d=l),void 0===c&&(c=a),void 0===p&&(p=h),void 0===u&&(u=r),l=l>n/2?n/2:l,a=a>n/2?n/2:a,h=h>n/2?n/2:h,r=r>n/2?n/2:r,d=d>o/2?o/2:d,c=c>o/2?o/2:c,p=p>o/2?o/2:p,u=u>o/2?o/2:u;var x=[{type:"M",values:[i+l,s]},{type:"H",values:[i+n-a]},{type:"A",values:[a,c,0,0,1,i+n,s+c]},{type:"V",values:[s+o-p]},{type:"A",values:[h,p,0,0,1,i+n-h,s+o]},{type:"H",values:[i+r]},{type:"A",values:[r,u,0,0,1,i,s+o-u]},{type:"V",values:[s+d]},{type:"A",values:[l,d,0,0,1,i+l,s]},{type:"Z",values:[]}];x=x.filter(function(t){return"A"!==t.type||0!==t.values[0]&&0!==t.values[1];});var _iterator178=_createForOfIteratorHelper(x),_step178;try{for(_iterator178.s();!(_step178=_iterator178.n()).done;){var _t342=_step178.value;_t342.values=_t342.values.map(function(t){return K(t,e);});}}catch(err){_iterator178.e(err);}finally{_iterator178.f();}return x;},vl=function vl(t,e){var _t$values2=_slicedToArray(t.values,6),i=_t$values2[0],s=_t$values2[1],n=_t$values2[2],o=_t$values2[3],l=_t$values2[4],a=_t$values2[5],h=[{type:"M",values:[i,s]},{type:"m",values:[-l,0]},{type:"a",values:[l,a,0,1,0,2*l,0]},{type:"a",values:[l,a,0,1,0,-2*l,0]},{type:"Z",values:[]},{type:"M",values:[i,s]},{type:"m",values:[-n,0]},{type:"a",values:[n,o,0,0,1,2*n,0]},{type:"a",values:[n,o,0,0,1,-2*n,0]},{type:"Z",values:[]}];for(var _i266=0,_h27=h;_i266<_h27.length;_i266++){var _t343=_h27[_i266];_t343.values=_t343.values.map(function(t){return K(t,e);});}return h;},yl=function yl(t,e){var _t$values3=_slicedToArray(t.values,6),i=_t$values3[0],s=_t$values3[1],n=_t$values3[2],o=_t$values3[3],l=_t$values3[4],a=_t$values3[5],h=Fe(l),r=Fe(a),d=a-l,c=d>=180||d>=-180&&d<=0?1:0,p=[{type:"M",values:[i+o*dl(h),s+o*-cl(h)]},{type:"A",values:[o,o,0,c,1,i+o*dl(r),s+o*-cl(r)]},{type:"L",values:[i+n*dl(r),s+n*-cl(r)]}];if(n>0){var _t344=i+n*dl(h),_e271=s+n*-cl(h);p.push({type:"A",values:[n,n,0,c,0,_t344,_e271]});}p.push({type:"Z",values:[]});for(var _i267=0,_p4=p;_i267<_p4.length;_i267++){var _t345=_p4[_i267];_t345.values=_t345.values.map(function(t){return K(t,e);});}return p;},kl=function kl(t,e){var _t$values4=_slicedToArray(t.values,5),i=_t$values4[0],s=_t$values4[1],n=_t$values4[2],o=_t$values4[3],l=_t$values4[4],a=Be(90-o/2),h=Fe(a),r=Be(a+o),d=Fe(r),c=r-a,p=c>=180||c>=-180&&c<=0?1:0,u=new DOMPoint(i+n*dl(h),s+n*-cl(h)),x=new DOMPoint(i+n*dl(d),s+n*-cl(d)),b=new DOMPoint(i-n+2*n*l,s),m=[];m.push({type:"M",values:[u.x,u.y]}),m.push({type:"A",values:[n,n,0,p,1,x.x,x.y]}),!0===De(u,x,b)?m.push({type:"L",values:[u.x,u.y]}):m.push(function(t,e,i){if(!0===De(t,e,i))throw new Error("Given points are colinear");{var _s157=ze(e,i),_n90=ze(i,t),_o65=ze(t,e),_l57=me((_s157*_s157+_n90*_n90-_o65*_o65)/(2*_s157*_n90)),_a38=_s157*_n90*_o65/4/(.5*_s157*_n90*xe(_l57));return{type:"A",values:[_a38,_a38,0,+(ye/2>_l57),+((e.x-t.x)*(i.y-t.y)-(e.y-t.y)*(i.x-t.x)<0),e.x,e.y]};}}(x,u,b)),m.push({type:"Z",values:[]});for(var _i268=0,_m2=m;_i268<_m2.length;_i268++){var _t346=_m2[_i268];_t346.values=_t346.values.map(function(t){return K(t,e);});}return m;},Sl=function Sl(t,e){var _t$values5=_slicedToArray(t.values,6),i=_t$values5[0],s=_t$values5[1],n=_t$values5[2],o=_t$values5[3],l=_t$values5[4],a=_t$values5[5],h=[];if(0===a)h.push({type:"M",values:[i+n*l,s]}),h.push({type:"L",values:[i+n,s+o]}),h.push({type:"L",values:[i,s+o]}),h.push({type:"L",values:[i+n*l,s]});else{var _t347=[{x:i+n*l,y:s},{x:i+n,y:s+o},{x:i,y:s+o}];for(var _e272=0;_e272<_t347.length;_e272+=1){var _i269=_t347[_e272],_s158=_t347[_e272+1]||_t347[0],_n91=_t347[_e272-1]||_t347[_t347.length-1],_o66={x:_i269.x+(_n91.x-_i269.x)*a,y:_i269.y+(_n91.y-_i269.y)*a},_l58={x:_i269.x+(_s158.x-_i269.x)*a,y:_i269.y+(_s158.y-_i269.y)*a},_r16={x:_i269.x,y:_i269.y};h.push({type:0===_e272?"M":"L",values:[_o66.x,_o66.y]}),h.push({type:"Q",values:[_r16.x,_r16.y,_l58.x,_l58.y]});}}h.push({type:"Z",values:[]});for(var _i270=0,_h28=h;_i270<_h28.length;_i270++){var _t348=_h28[_i270];_t348.values=_t348.values.map(function(t){return K(t,e);});}return h;},_l=function _l(t,e){var _t$values6=_slicedToArray(t.values,6),i=_t$values6[0],s=_t$values6[1],n=_t$values6[2],o=_t$values6[3],l=_t$values6[4],a=_t$values6[5],h=[];if(0===a)for(var _t349=0;_t349<l;_t349+=1){var _e273=2*ul*(_t349/l)-ul/2,_a39=n*cl(_e273)+i,_r17=o*dl(_e273)+s;0===_t349?h.push({type:"M",values:[_a39,_r17]}):h.push({type:"L",values:[_a39,_r17]});}else{var _t350=[];for(var _e274=0;_e274<l;_e274+=1){var _a40=2*ul*(_e274/l)-ul/2;_t350.push({x:n*cl(_a40)+i,y:o*dl(_a40)+s});}for(var _e275=0;_e275<_t350.length;_e275+=1){var _i271=_t350[_e275],_s159=_t350[_e275+1]||_t350[0],_n92=_t350[_e275-1]||_t350[_t350.length-1],_o67={x:_i271.x+(_n92.x-_i271.x)*a,y:_i271.y+(_n92.y-_i271.y)*a},_l59={x:_i271.x+(_s159.x-_i271.x)*a,y:_i271.y+(_s159.y-_i271.y)*a},_r18={x:_i271.x,y:_i271.y};h.push({type:0===_e275?"M":"L",values:[_o67.x,_o67.y]}),h.push({type:"Q",values:[_r18.x,_r18.y,_l59.x,_l59.y]});}}h.push({type:"Z",values:[]});for(var _i272=0,_h29=h;_i272<_h29.length;_i272++){var _t351=_h29[_i272];_t351.values=_t351.values.map(function(t){return K(t,e);});}return h;},Cl=function Cl(t,e){var _t$values7=_slicedToArray(t.values,6),i=_t$values7[0],s=_t$values7[1],n=_t$values7[2],o=_t$values7[3],l=_t$values7[4],a=_t$values7[5],h=[];for(var _t352=0;_t352<a;_t352+=1){var _e276=2*ul*(_t352/a)-ul/2,_r19=n*cl(_e276)+i,_d8=o*dl(_e276)+s;0===_t352?h.push({type:"M",values:[_r19,_d8]}):h.push({type:"L",values:[_r19,_d8]}),_e276=2*ul*(_t352/a)+ul/a-ul/2,_r19=l*n*cl(_e276)+i,_d8=l*o*dl(_e276)+s,h.push({type:"L",values:[_r19,_d8]});}h.push({type:"Z",values:[]});for(var _i273=0,_h30=h;_i273<_h30.length;_i273++){var _t353=_h30[_i273];_t353.values=_t353.values.map(function(t){return K(t,e);});}return h;},Ml=function Ml(t,e){var _t$values8=_slicedToArray(t.values,7),i=_t$values8[0],s=_t$values8[1],n=_t$values8[2],o=_t$values8[3],l=_t$values8[4],a=_t$values8[5],h=_t$values8[6],r=360/h,d=r/4,c=pl(Fe(d-a*d))*l,p=[];for(var _t354=0;_t354<h;_t354+=1){var _e277=r*_t354-90,_n93=_e277+d+a*d,_h31=_e277+r-d-a*d,_u4=Fe(_e277),_x51=Fe(_n93),_b2=Fe(_h31);p.push({type:0===_t354?"M":"L",values:[i+l*cl(_u4)+dl(_u4)*c,s+l*dl(_u4)-cl(_u4)*c]}),p.push({type:"L",values:[i+l*cl(_u4)-dl(_u4)*c,s+l*dl(_u4)+cl(_u4)*c]}),p.push({type:"L",values:[i+o*cl(_x51),s+o*dl(_x51)]}),p.push({type:"A",values:[o,o,0,0,1,i+o*cl(_b2),s+o*dl(_b2)]});}p.push({type:"Z",values:[]}),p.push({type:"M",values:[i,s-n]}),p.push({type:"A",values:[n,n,0,0,0,i,s+n]}),p.push({type:"A",values:[n,n,0,0,0,i,s-n]});for(var _i274=0,_p5=p;_i274<_p5.length;_i274++){var _t355=_p5[_i274];_t355.values=_t355.values.map(function(t){return K(t,e);});}return p;},Pl=function Pl(t,e){var _t$values9=_slicedToArray(t.values,7),i=_t$values9[0],s=_t$values9[1],n=_t$values9[2],o=_t$values9[3],l=_t$values9[4],a=_t$values9[5],h=_t$values9[6];a>n&&(a=n),h<0?h=0:h>a&&(h=a);var r=[{type:"M",values:[i,s+o/2-l/2]},{type:"H",values:[i+n-a+h]},{type:"L",values:[i+n-a,s]},{type:"L",values:[i+n,s+o/2]},{type:"L",values:[i+n-a,s+o]},{type:"L",values:[i+n-a+h,s+o/2+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o/2-l/2]},{type:"Z",values:[]}];for(var _i275=0,_r20=r;_i275<_r20.length;_i275++){var _t356=_r20[_i275];_t356.values=_t356.values.map(function(t){return K(t,e);});}return r;},Dl=function Dl(t,e){var _t$values10=_slicedToArray(t.values,7),i=_t$values10[0],s=_t$values10[1],n=_t$values10[2],o=_t$values10[3],l=_t$values10[4],a=_t$values10[5],h=_t$values10[6],r=[{type:"M",values:[i+n/2-a/2,s]},{type:"H",values:[i+n/2+a/2]},{type:"V",values:[s+o*h-l/2]},{type:"H",values:[i+n]},{type:"V",values:[s+o*h+l/2]},{type:"H",values:[i+n/2+a/2]},{type:"V",values:[s+o]},{type:"H",values:[i+n/2-a/2]},{type:"V",values:[s+o*h+l/2]},{type:"H",values:[i]},{type:"V",values:[s+o*h-l/2]},{type:"H",values:[i+n/2-a/2]},{type:"Z",values:[]}];for(var _i276=0,_r21=r;_i276<_r21.length;_i276++){var _t357=_r21[_i276];_t357.values=_t357.values.map(function(t){return K(t,e);});}return r;},zl=function zl(t,e){var _t$values11=_slicedToArray(t.values,6),i=_t$values11[0],s=_t$values11[1],n=_t$values11[2],o=_t$values11[3],l=_t$values11[4],a=_t$values11[5],h=30;l<0&&(l=0),a<l+1&&(a=l+1),a-l<h&&(h=a-l),n>=o&&(n=o-.01);var r=n,d=(o-n)/(a/360)/Math.PI/2,c=l*Math.PI/180,p=c,u=a*Math.PI/180,x=h*Math.PI/180,b=r+d*c,m=r+d*p,g=[],f={x:i+m*Math.cos(p),y:s+m*Math.sin(p)},w=(d*Math.sin(c)+(r+d*p)*Math.cos(c))/(d*Math.cos(c)-(r+d*p)*Math.sin(c)),v=w;g.push({type:"M",values:[f.x,f.y]});do{c+x+x>u&&(x=u-p),c=p,p+=x,b=m,m=r+d*p,f.x=i+m*Math.cos(p),f.y=s+m*Math.sin(p);var _t358=r+d*p;w=v,v=(d*Math.sin(p)+_t358*Math.cos(p))/(d*Math.cos(p)-_t358*Math.sin(p));var _e278=-(w*b*Math.cos(c)-b*Math.sin(c)),_n94=(-(v*m*Math.cos(p)-m*Math.sin(p))-_e278)/(w-v),_o68={x:_n94,y:w*_n94+_e278};_o68.x+=i,_o68.y+=s,g.push({type:"Q",values:[_o68.x,_o68.y,f.x,f.y]});}while(c+x<u);{var _t359=new DOMMatrix().translateSelf(i,s).rotateSelf(-90).translateSelf(-i,-s);for(var _i277=0,_g2=g;_i277<_g2.length;_i277++){var _e279=_g2[_i277];if("M"===_e279.type){var _e279$values=_slicedToArray(_e279.values,2),_i278=_e279$values[0],_s160=_e279$values[1],_n95=new DOMPoint(_i278,_s160).matrixTransform(_t359);_e279.values=[_n95.x,_n95.y];}else if("Q"===_e279.type){var _e279$values2=_slicedToArray(_e279.values,4),_i279=_e279$values2[0],_s161=_e279$values2[1],_n96=_e279$values2[2],_o69=_e279$values2[3],_l60=new DOMPoint(_i279,_s161).matrixTransform(_t359),_a41=new DOMPoint(_n96,_o69).matrixTransform(_t359);_e279.values=[_l60.x,_l60.y,_a41.x,_a41.y];}}}for(var _i280=0,_g3=g;_i280<_g3.length;_i280++){var _t360=_g3[_i280];_t360.values=_t360.values.map(function(t){return K(t,e);});}return g;},Ol=function Ol(t,e,i,s,n,o){var l=2*ul*(t/o)-ul/2,a=s*cl(l)+e,h=n*dl(l)+i;return new DOMPoint(a,h);},El=function El(t,e,i,s,n,o,l){var a,h=ul*(t/l)-ul/2;return a=t%2==0?new DOMPoint(s*cl(h)+e,n*dl(h)+i):new DOMPoint(o*s*cl(h)+e,o*n*dl(h)+i),a;},Tl=function Tl(t,e,i,s,n,o,l){var a={};{var _h32=Qe(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o+l,e+s/2-n/2+100),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));a.minBaseThickness=1,a.maxBaseThickness=2*(e+s/2-_h32.y),a.maxBaseThickness=Q(a.maxBaseThickness,1,s);}{var _h33=Qe(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i-o,e+100));a.minHeadThickness=2*(e+s/2-_h33.y),a.maxHeadThickness=Infinity;}{var _h34=new Z(new DOMPoint(t+i-o+l,e+s/2-n/2),new DOMPoint(t+i-o,e)),_r22=Qe(new DOMPoint(t+i,e+s/2),new DOMPoint(t+i+_h34.x,e+s/2+_h34.y),new DOMPoint(0,e+s/2-s/2),new DOMPoint(100,e+s/2-s/2));a.minHeadLength=_r22?t+i-_r22.x:0,a.maxHeadLength=i,a.minHeadLength<1&&(a.minHeadLength=1);}{var _l61=Qe(new DOMPoint(0,e+s/2-n/2),new DOMPoint(100,e+s/2-n/2),new DOMPoint(t+i-o,e),new DOMPoint(t+i,e+s/2));a.minHeadInset=0,a.maxHeadInset=_l61.x-(t+i-o);}return a;},Al=function Al(t,e,i,s,n,o,l){var a={minHorizontalArmThickness:1};return a.maxHorizontalArmThickness=Math.min(s*l*2,2*(s-s*l)),a.minShift=n/2/s,a.maxShift=(s-n/2)/s,a;},$l=function $l(t,e,i,s,n,o){var l,a;n<0&&(n=0),o<n+1&&(o=n+1),i>=s&&(i=s-.01);{var _a42=(s-i)/(o/360),_h35=n*Math.PI/180,_r23=i+_a42/Math.PI/2*_h35,_d9=new DOMMatrix().translateSelf(t,e).rotateSelf(-90).translateSelf(-t,-e);l=new DOMPoint(t+_r23*Math.cos(_h35),e+_r23*Math.sin(_h35)),l=l.matrixTransform(_d9);}{var _i281=new DOMMatrix().translateSelf(t,e).rotateSelf(o).translateSelf(-t,-e);a=new DOMPoint(t,e-s).matrixTransform(_i281);}return[l,a];},Il=Math.abs,Ll=Math.sqrt,Bl=Math.asin,Rl=Math.sin,Gl=Math.cos,Fl=Math.tan,Ul=Math.atan2;var Nl=function Nl(t){var e={},i=[[t.a,t.b,0,0],[t.c,t.d,0,0],[0,0,1,0],[t.e,t.f,0,1]];if(0==i[3][3])return null;for(var _t361=0;_t361<4;_t361++){for(var _e280=0;_e280<4;_e280++){i[_t361][_e280]/=i[3][3];}}var s=[];for(var _t362=0;_t362<4;_t362++){s[_t362]=[];for(var _e281=0;_e281<4;_e281++){s[_t362][_e281]=i[_t362][_e281];}}for(var _t363=0;_t363<3;_t363++){s[_t363][3]=0;}if(s[3][3]=1,0==Hl(s))return null;if(0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){var _t364=[0,0,0,0];_t364[0]=i[0][3],_t364[1]=i[1][3],_t364[2]=i[2][3],_t364[3]=i[3][3];var _n97=Yl(s),_o70=Wl(_n97),_l62=ql(_t364,_o70);e.perspectiveX=_l62[0],e.perspectiveY=_l62[1],e.perspectiveZ=_l62[2],e.perspectiveW=_l62[3],i[0][3]=i[1][3]=i[2][3]=0,i[3][3]=1;}else e.perspectiveX=0,e.perspectiveY=0,e.perspectiveZ=0,e.perspectiveW=1;e.translateX=i[3][0],i[3][0]=0,e.translateY=i[3][1],i[3][1]=0,e.translateZ=i[3][2],i[3][2]=0;var n=[[],[],[]],o=[0,0,0];for(var _t365=0;_t365<3;_t365++){n[_t365][0]=i[_t365][0],n[_t365][1]=i[_t365][1],n[_t365][2]=i[_t365][2];}if(e.scaleX=Xl(n[0]),Zl(n[0],1),e.skewXY=Kl(n[0],n[1]),Ql(n[1],n[0],n[1],1,-e.skewXY),e.scaleY=Xl(n[1]),Zl(n[1],1),e.skewXY/=e.scaleY,e.skewXZ=Kl(n[0],n[2]),Ql(n[2],n[0],n[2],1,-e.skewXZ),e.skewYZ=Kl(n[1],n[2]),Ql(n[2],n[1],n[2],1,-e.skewYZ),e.scaleZ=Xl(n[2]),Zl(n[2],1),e.skewXZ/=e.scaleZ,e.skewYZ/=e.scaleZ,Jl(n[1],n[2],o),Kl(n[0],o)<0){e.scaleX*=-1,e.scaleY*=-1,e.scaleZ*=-1;for(var _t366=0;_t366<3;_t366++){n[_t366][0]*=-1,n[_t366][1]*=-1,n[_t366][2]*=-1;}}var l=0,a=Bl(-n[0][2]),h=0;return 0!==Gl(a)?(l=Ul(n[1][2],n[2][2]),h=Ul(n[0][1],n[0][0])):l=Ul(-n[2][0],n[1][1]),e.rotateX=Ge(l),e.rotateY=Ge(a),e.rotateZ=Ge(h),e;},Vl=function Vl(t,e,i,s){return t*s-e*i;},jl=function jl(t,e,i,s,n,o,l,a,h){return t*Vl(n,o,a,h)-s*Vl(e,i,a,h)+l*Vl(e,i,n,o);},Hl=function Hl(t){var e=t[0][0],i=t[0][1],s=t[0][2],n=t[0][3],o=t[1][0],l=t[1][1],a=t[1][2],h=t[1][3],r=t[2][0],d=t[2][1],c=t[2][2],p=t[2][3],u=t[3][0],x=t[3][1],b=t[3][2],m=t[3][3];return e*jl(l,d,x,a,c,b,h,p,m)-i*jl(o,r,u,a,c,b,h,p,m)+s*jl(o,r,u,l,d,x,h,p,m)-n*jl(o,r,u,l,d,x,a,c,b);},Yl=function Yl(t){var e=function(t){var e=[[],[],[],[]],i=t[0][0],s=t[0][1],n=t[0][2],o=t[0][3],l=t[1][0],a=t[1][1],h=t[1][2],r=t[1][3],d=t[2][0],c=t[2][1],p=t[2][2],u=t[2][3],x=t[3][0],b=t[3][1],m=t[3][2],g=t[3][3];e[0][0]=jl(a,c,b,h,p,m,r,u,g),e[1][0]=-jl(l,d,x,h,p,m,r,u,g),e[2][0]=jl(l,d,x,a,c,b,r,u,g),e[3][0]=-jl(l,d,x,a,c,b,h,p,m),e[0][1]=-jl(s,c,b,n,p,m,o,u,g),e[1][1]=jl(i,d,x,n,p,m,o,u,g),e[2][1]=-jl(i,d,x,s,c,b,o,u,g),e[3][1]=jl(i,d,x,s,c,b,n,p,m),e[0][2]=jl(s,a,b,n,h,m,o,r,g),e[1][2]=-jl(i,l,x,n,h,m,o,r,g),e[2][2]=jl(i,l,x,s,a,b,o,r,g),e[3][2]=-jl(i,l,x,s,a,b,n,h,m),e[0][3]=-jl(s,a,c,n,h,p,o,r,u),e[1][3]=jl(i,l,d,n,h,p,o,r,u),e[2][3]=-jl(i,l,d,s,a,c,o,r,u),e[3][3]=jl(i,l,d,s,a,c,n,h,p);}(t),i=Hl(t);if(Il(i)<1e-8)return!1;for(var _t367=0;_t367<4;_t367++){for(var _s162=0;_s162<4;_s162++){e[_t367][_s162]=e[_t367][_s162]/i;}}return e;},Wl=function Wl(t){var e=[[],[],[],[]];for(var _i282=0;_i282<4;_i282++){for(var _s163=0;_s163<4;_s163++){e[_i282][_s163]=t[_s163][_i282];}}return e;},ql=function ql(t,e){var i=[];return i[0]=t[0]*e[0][0]+t[1]*e[1][0]+t[2]*e[2][0]+t[3]*e[3][0],i[1]=t[0]*e[0][1]+t[1]*e[1][1]+t[2]*e[2][1]+t[3]*e[3][1],i[2]=t[0]*e[0][2]+t[1]*e[1][2]+t[2]*e[2][2]+t[3]*e[3][2],i[3]=t[0]*e[0][3]+t[1]*e[1][3]+t[2]*e[2][3]+t[3]*e[3][3],i;},Xl=function Xl(t){return Ll(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);},Zl=function Zl(t,e){var i=Xl(t);if(0!=i){var _s164=e/i;t[0]*=_s164,t[1]*=_s164,t[2]*=_s164;}},Kl=function Kl(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2];},Ql=function Ql(t,e,i,s,n){i[0]=s*t[0]+n*e[0],i[1]=s*t[1]+n*e[1],i[2]=s*t[2]+n*e[2];},Jl=function Jl(t,e,i){i[0]=t[1]*e[2]-t[2]*e[1],i[1]=t[2]*e[0]-t[0]*e[2],i[2]=t[0]*e[1]-t[1]*e[0];},ta=Math.abs,ea=Math.min,ia=Math.max,sa=Number.parseFloat;var _SVGUnitTypes2=SVGUnitTypes,na=_SVGUnitTypes2.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX,oa=_SVGUnitTypes2.SVG_UNIT_TYPE_USERSPACEONUSE;var la=Symbol(),aa=Symbol(),ha=Symbol(),ra=Symbol(),da=Symbol(),ca=Symbol(),pa=Symbol(),ua=Symbol(),xa=Symbol(),ba=Symbol(),ma=Symbol(),ga=Symbol(),fa=function fa(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!1===t.hasAttribute("transform"))return;void 0===e.geometryPrecision&&(e.geometryPrecision=3),void 0===e.transformPrecision&&(e.transformPrecision=3),void 0===e.preserveStrokeWidth&&(e.preserveStrokeWidth=!0),void 0===e.preserveRectRadii&&(e.preserveRectRadii=!0),void 0===e.preserveRotation&&(e.preserveRotation=!0),void 0===e.transformDirection&&(e.transformDirection="bottom-right");var i=t.localName;if("g"===i)wa(t,e);else if("a"===i)va(t,e);else if("rect"===i)ya(t,e);else if("circle"===i)ka(t,e);else if("ellipse"===i)Sa(t,e);else if("text"===i)Fa(t,e);else if("image"===i)Ga(t,e);else if("line"===i)_a(t,e);else if("polyline"===i)Ca(t,e);else if("polygon"===i)Ca(t,e);else if("use"===i)Ma(t,e);else if("path"===i)if(t.hasAttribute("data-bx-shape")){var _bl=bl(t),_i283=_bl.type;"rect"===_i283?Oa(t,e):"ring"===_i283?Aa(t,e):"pie"===_i283?$a(t,e):"crescent"===_i283?Da(t,e):"triangle"===_i283?za(t,e):"n-gon"===_i283?Ea(t,e):"star"===_i283?Ta(t,e):"cog"===_i283?Ia(t,e):"arrow"===_i283?La(t,e):"cross"===_i283?Ba(t,e):"spiral"===_i283?Ra(t,e):Pa(t,e);}else Pa(t,e);},wa=function wa(t,_ref56){var e=_ref56.transformPrecision;var i=Gt(Vt(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},va=function va(t,_ref57){var e=_ref57.transformPrecision;var i=Gt(Vt(t),e);i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",i.toString());},ya=function ya(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Nl=Nl(i),_l63=_Nl.scaleX,_a43=_Nl.scaleY,_h36=t.x.baseVal.value,_r24=t.y.baseVal.value,_d10=t.width.baseVal.value,_c5=t.height.baseVal.value,_p6=t.rx.baseVal.value,_u5=t.ry.baseVal.value,_x52=new DOMPoint(_h36,_r24).matrixTransform(i),_b3=new DOMPoint(_h36+_d10,_r24).matrixTransform(i),_m3=new DOMPoint(_h36,_r24+_c5).matrixTransform(i);_h36*=_l63,_r24*=_a43,_d10*=ta(_l63),_c5*=ta(_a43),!1===o&&(_p6*=ta(_l63),_u5*=ta(_a43));var _g4=new DOMPoint(_h36,_r24),_f2=new DOMPoint(_h36+_d10,_r24),_w2=new DOMPoint(_h36,_r24+_c5),_v=Yt(_g4,_f2,_w2,_x52,_b3,_m3);_v=Gt(_v,n),1===ta(_v.a)&&0===_v.b&&0===_v.c&&1===ta(_v.d)&&(_h36=1===_v.a?_h36+_v.e:_h36-_v.e,_r24=1===_v.d?_r24+_v.f:_r24-_v.f,_v.e=0,_v.f=0),Ua(t);for(var _i284=0,_arr14=[["x",_h36],["y",_r24],["width",_d10],["height",_c5],["rx",_p6],["ry",_u5]];_i284<_arr14.length;_i284++){var _arr14$_i=_slicedToArray(_arr14[_i284],2),_e282=_arr14$_i[0],_i285=_arr14$_i[1];_i285=K(_i285,s),0===_i285?t.removeAttribute(_e282):t.setAttribute(_e282,_i285);}_v.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n).toString());},ka=function ka(t,e){var i=Vt(t),_Nl2=Nl(i),s=_Nl2.scaleX,n=_Nl2.scaleY,o=e.geometryPrecision,l=e.transformPrecision,a=e.preserveRotation;if(i.is2D&&K(s,o)===K(n,o)){if(!1===a){var _s165=new DOMPoint(t.cx.baseVal.value,t.cy.baseVal.value),_n98=new DOMPoint(t.cx.baseVal.value+t.r.baseVal.value,t.cy.baseVal.value),_l64=_s165.matrixTransform(i),_a44=_n98.matrixTransform(i),_h37=new Z(_l64,_a44).length;Ua(t),t.setAttribute("cx",K(_l64.x,o)),t.setAttribute("cy",K(_l64.y,o)),t.setAttribute("r",K(_h37,o)),t.removeAttribute("transform"),Na(t,e);}else{var _n99=s,_a45=t.cx.baseVal.value,_h38=t.cy.baseVal.value,_r25=t.r.baseVal.value,_d11=new DOMPoint(_a45,_h38).matrixTransform(i),_c6=new DOMPoint(_a45+_r25,_h38).matrixTransform(i),_p7=new DOMPoint(_a45,_h38+_r25).matrixTransform(i);_r25*=ta(_n99);var _u6=new DOMPoint(_a45,_h38),_x53=new DOMPoint(_a45+_r25,_h38),_b4=new DOMPoint(_a45,_h38+_r25),_m4=Yt(_u6,_x53,_b4,_d11,_c6,_p7);_m4=Gt(_m4,l),1===ta(_m4.a)&&0===_m4.b&&0===_m4.c&&1===ta(_m4.d)&&(0===_m4.e&&0===_m4.f||(_a45=1===_m4.a?_a45+_m4.e:_a45-_m4.e,_h38=1===_m4.d?_h38+_m4.f:_h38-_m4.f,_r25=new Z(new DOMPoint(_a45,_h38),new DOMPoint(_a45+_r25,_h38)).length,_m4.e=0,_m4.f=0)),Ua(t),_m4.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_m4.toString());for(var _i286=0,_arr15=[["cx",_a45],["cy",_h38],["r",_r25]];_i286<_arr15.length;_i286++){var _arr15$_i=_slicedToArray(_arr15[_i286],2),_e283=_arr15$_i[0],_i287=_arr15$_i[1];_i287=K(_i287,o),0===_i287?t.removeAttribute(_e283):t.setAttribute(_e283,_i287);}Na(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,l).toString());},Sa=function Sa(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Nl3=Nl(i),_o71=_Nl3.scaleX,_l65=_Nl3.scaleY,_a46=t.cx.baseVal.value,_h39=t.cy.baseVal.value,_r26=t.rx.baseVal.value,_d12=t.ry.baseVal.value,_c7=new DOMPoint(_a46,_h39).matrixTransform(i),_p8=new DOMPoint(_a46+_r26,_h39).matrixTransform(i),_u7=new DOMPoint(_a46,_h39+_d12).matrixTransform(i);_r26*=ta(_o71),_d12*=ta(_l65);var _x54=new DOMPoint(_a46,_h39),_b5=new DOMPoint(_a46+_r26,_h39),_m5=new DOMPoint(_a46,_h39+_d12),_g5=Yt(_x54,_b5,_m5,_c7,_p8,_u7);_g5=Gt(_g5,n),1===ta(_g5.a)&&0===_g5.b&&0===_g5.c&&1===ta(_g5.d)&&(0===_g5.e&&0===_g5.f||(_a46=1===_g5.a?_a46+_g5.e:_a46-_g5.e,_h39=1===_g5.d?_h39+_g5.f:_h39-_g5.f,_r26=new Z(new DOMPoint(_a46,_h39),new DOMPoint(_a46+_r26,_h39)).length,_d12=new Z(new DOMPoint(_a46,_h39),new DOMPoint(_a46,_h39+_d12)).length,_g5.e=0,_g5.f=0)),Ua(t),_g5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g5.toString());for(var _i288=0,_arr16=[["cx",_a46],["cy",_h39],["rx",_r26],["ry",_d12]];_i288<_arr16.length;_i288++){var _arr16$_i=_slicedToArray(_arr16[_i288],2),_e284=_arr16$_i[0],_i289=_arr16$_i[1];_i289=K(_i289,s),0===_i289?t.removeAttribute(_e284):t.setAttribute(_e284,_i289);}Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},_a=function _a(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i290=ee(t);Ua(t),ie(t,ee(t.parentElement));var _o72=Vt(t),_l66=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_a47=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_h40=_l66.matrixTransform(_o72),_r27=_a47.matrixTransform(_o72);t.setAttribute("x1",K(_h40.x,s)),t.setAttribute("y1",K(_h40.y,s)),t.setAttribute("x2",K(_r27.x,s)),t.setAttribute("y2",K(_r27.y,s)),t.removeAttribute("transform"),ie(t,_i290,n),Na(t,e);}else{var _i291=Jt(t),_n100=Vt(t),_o73=new DOMPoint(t.x1.baseVal.value,t.y1.baseVal.value),_l67=new DOMPoint(t.x2.baseVal.value,t.y2.baseVal.value),_a48=_o73.matrixTransform(_n100),_h41=_l67.matrixTransform(_n100);if(Ua(t),t.setAttribute("x1",K(_a48.x,s)),t.setAttribute("y1",K(_a48.y,s)),t.setAttribute("x2",K(_h41.x,s)),t.setAttribute("y2",K(_h41.y,s)),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e285=Pi(t),_n101=Ht(t).inverse(),_o74=_i291.matrixTransform(_n101),_l68=he(_o74,_e285),_a49=K(_l68.x,s),_h42=K(_l68.y,s);t.setAttribute("data-bx-origin","".concat(_a49," ").concat(_h42));}Na(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Ca=function Ca(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i292=ee(t);Ua(t),ie(t,ee(t.parentElement));var _o75=Vt(t),_l69=[];var _iterator179=_createForOfIteratorHelper(t.points),_step179;try{for(_iterator179.s();!(_step179=_iterator179.n()).done;){var _e286=_step179.value;var _DOMPoint$fromPoint$m=DOMPoint.fromPoint(_e286).matrixTransform(_o75),_t368=_DOMPoint$fromPoint$m.x,_i293=_DOMPoint$fromPoint$m.y;_l69.push(K(_t368,s),K(_i293,s));}}catch(err){_iterator179.e(err);}finally{_iterator179.f();}t.setAttribute("points",_l69.join(" ")),t.removeAttribute("transform"),ie(t,_i292,n),Na(t,e);}else{var _n102=Jt(t),_o76=[];var _iterator180=_createForOfIteratorHelper(t.points),_step180;try{for(_iterator180.s();!(_step180=_iterator180.n()).done;){var _e288=_step180.value;var _DOMPoint$fromPoint$m2=DOMPoint.fromPoint(_e288).matrixTransform(i),_t369=_DOMPoint$fromPoint$m2.x,_n103=_DOMPoint$fromPoint$m2.y;_o76.push(K(_t369,s),K(_n103,s));}}catch(err){_iterator180.e(err);}finally{_iterator180.f();}if(Ua(t),t.setAttribute("points",_o76.join(" ")),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e287=Pi(t),_i294=Ht(t).inverse(),_o77=_n102.matrixTransform(_i294),_l70=he(_o77,_e287),_a50=K(_l70.x,s),_h43=K(_l70.y,s);t.setAttribute("data-bx-origin","".concat(_a50," ").concat(_h43));}Na(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Ma=function Ma(t,e){var i=e.transformPrecision;if(t.hasAttribute("transform")){var _e289=Vt(t);_e289=Gt(_e289,i),_e289.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e289.toString());}},Pa=function Pa(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRotation;if(i.is2D){if(o){var _i295=ee(t);Ua(t),ie(t,ee(t.parentElement));var _o78=Vt(t),_l71=t.getPathData(),_a51=se(_l71,_o78,s);t.setPathData(_a51),t.removeAttribute("transform"),ie(t,_i295,n),Na(t,e);}else{var _n104=Jt(t),_o79=t.getPathData(),_l72=se(_o79,i,s);if(Ua(t),t.setPathData(_l72),t.removeAttribute("transform"),t.hasAttribute("data-bx-origin")){var _e290=Pi(t),_i296=Ht(t).inverse(),_o80=_n104.matrixTransform(_i296),_l73=he(_o80,_e290),_a52=K(_l73.x,s),_h44=K(_l73.y,s);t.setAttribute("data-bx-origin","".concat(_a52," ").concat(_h44));}Na(t,e);}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Da=function Da(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Nl4=Nl(i),_o81=_Nl4.scaleX,_l74=_Nl4.scaleY;if(_o81===_l74){var _bl$values=_slicedToArray(bl(t).values,5),_l75=_bl$values[0],_a53=_bl$values[1],_h45=_bl$values[2],_r28=_bl$values[3],_d13=_bl$values[4],_c8=new DOMPoint(_l75,_a53).matrixTransform(i),_p9=new DOMPoint(_l75+_h45,_a53).matrixTransform(i),_u8=new DOMPoint(_l75,_a53+_h45).matrixTransform(i);_h45*=ta(_o81);var _x55=new DOMPoint(_l75,_a53),_b6=new DOMPoint(_l75+_h45,_a53),_m6=new DOMPoint(_l75,_a53+_h45),_g6=Yt(_x55,_b6,_m6,_c8,_p9,_u8);_g6=Gt(_g6,n),1===ta(_g6.a)&&0===_g6.b&&0===_g6.c&&1===ta(_g6.d)&&(0===_g6.e&&0===_g6.f||(_l75=1===_g6.a?_l75+_g6.e:_l75-_g6.e,_a53=1===_g6.d?_a53+_g6.f:_a53-_g6.f,_g6.e=0,_g6.f=0));var _f3=[_l75,_a53,_h45,_r28,_d13];_f3=_f3.map(function(t){return K(t,s);}),Ua(t),_ml(t,{type:"crescent",values:_f3},s),_g6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g6.toString()),Na(t,e);}else t.setAttribute("transform",Gt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},za=function za(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Nl5=Nl(i),_o82=_Nl5.scaleX,_l76=_Nl5.scaleY,_bl$values2=_slicedToArray(bl(t).values,6),_a54=_bl$values2[0],_h46=_bl$values2[1],_r29=_bl$values2[2],_d14=_bl$values2[3],_c9=_bl$values2[4],_p10=_bl$values2[5],_u9=new DOMPoint(_a54,_h46).matrixTransform(i),_x56=new DOMPoint(_a54+_r29,_h46).matrixTransform(i),_b7=new DOMPoint(_a54,_h46+_d14).matrixTransform(i);_a54*=_o82,_h46*=_l76,_r29*=ta(_o82),_d14*=ta(_l76);var _m7=new DOMPoint(_a54,_h46),_g7=new DOMPoint(_a54+_r29,_h46),_f4=new DOMPoint(_a54,_h46+_d14),_w3=Yt(_m7,_g7,_f4,_u9,_x56,_b7);_w3=Gt(_w3,n),1===ta(_w3.a)&&0===_w3.b&&0===_w3.c&&1===ta(_w3.d)&&(0===_w3.e&&0===_w3.f||(_a54=1===_w3.a?_a54+_w3.e:_a54-_w3.e,_h46=1===_w3.d?_h46+_w3.f:_h46-_w3.f,_w3.e=0,_w3.f=0));var _v2={type:"triangle",values:[_a54,_h46,_r29,_d14,_c9,_p10].map(function(t){return K(t,s);})};Ua(t),_ml(t,_v2,s),_w3.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w3.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Oa=function Oa(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision,o=e.preserveRectRadii;if(i.is2D){var _Nl6=Nl(i),_l77=_Nl6.scaleX,_a55=_Nl6.scaleY,_bl$values3=_slicedToArray(bl(t).values,12),_h47=_bl$values3[0],_r30=_bl$values3[1],_d15=_bl$values3[2],_c10=_bl$values3[3],_p11=_bl$values3[4],_u10=_bl$values3[5],_x57=_bl$values3[6],_b8=_bl$values3[7],_m8=_bl$values3[8],_g8=_bl$values3[9],_f5=_bl$values3[10],_w4=_bl$values3[11],_v3=new DOMPoint(_h47,_r30).matrixTransform(i),_y=new DOMPoint(_h47+_d15,_r30).matrixTransform(i),_k=new DOMPoint(_h47,_r30+_c10).matrixTransform(i);void 0===_m8&&(_m8=_p11),void 0===_g8&&(_g8=_u10),void 0===_f5&&(_f5=_x57),void 0===_w4&&(_w4=_b8),_h47*=_l77,_r30*=_a55,_d15*=ta(_l77),_c10*=ta(_a55),!1===o&&(_p11*=ta(_l77),_u10*=ta(_l77),_x57*=ta(_l77),_b8*=ta(_l77),_m8*=ta(_a55),_g8*=ta(_a55),_f5*=ta(_a55),_w4*=ta(_a55));var _S,_2=new DOMPoint(_h47,_r30),_C=new DOMPoint(_h47+_d15,_r30),_M=new DOMPoint(_h47,_r30+_c10),_P=Yt(_2,_C,_M,_v3,_y,_k);_P=Gt(_P,n),1===ta(_P.a)&&0===_P.b&&0===_P.c&&1===ta(_P.d)&&(0===_P.e&&0===_P.f||(_h47=1===_P.a?_h47+_P.e:_h47-_P.e,_r30=1===_P.d?_r30+_P.f:_r30-_P.f,_P.e=0,_P.f=0)),_S=_p11===_m8&&_u10===_g8&&_x57===_f5&&_b8===_w4?[_h47,_r30,_d15,_c10,_p11,_u10,_x57,_b8]:[_h47,_r30,_d15,_c10,_p11,_u10,_x57,_b8,_m8,_g8,_f5,_w4],_S=_S.map(function(t){return K(t,s);}),Ua(t),_ml(t,{type:"rect",values:_S},s),_P.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_P.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Ea=function Ea(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Nl7=Nl(i),_o83=_Nl7.scaleX,_l78=_Nl7.scaleY,_bl$values4=_slicedToArray(bl(t).values,6),_a56=_bl$values4[0],_h48=_bl$values4[1],_r31=_bl$values4[2],_d16=_bl$values4[3],_c11=_bl$values4[4],_p12=_bl$values4[5],_u11=new DOMPoint(_a56,_h48).matrixTransform(i),_x58=new DOMPoint(_a56+_r31,_h48).matrixTransform(i),_b9=new DOMPoint(_a56,_h48+_d16).matrixTransform(i);_r31*=ta(_o83),_d16*=ta(_l78);var _m9=new DOMPoint(_a56,_h48),_g9=new DOMPoint(_a56+_r31,_h48),_f6=new DOMPoint(_a56,_h48+_d16),_w5=Yt(_m9,_g9,_f6,_u11,_x58,_b9);_w5=Gt(_w5,n),1===ta(_w5.a)&&0===_w5.b&&0===_w5.c&&1===ta(_w5.d)&&(0===_w5.e&&0===_w5.f||(_a56=1===_w5.a?_a56+_w5.e:_a56-_w5.e,_h48=1===_w5.d?_h48+_w5.f:_h48-_w5.f,_w5.e=0,_w5.f=0));var _v4=[_a56,_h48,_r31,_d16,_c11,_p12];_v4=_v4.map(function(t){return K(t,s);}),Ua(t),_ml(t,{type:"n-gon",values:_v4},s),_w5.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w5.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Ta=function Ta(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Nl8=Nl(i),_o84=_Nl8.scaleX,_l79=_Nl8.scaleY,_bl$values5=_slicedToArray(bl(t).values,6),_a57=_bl$values5[0],_h49=_bl$values5[1],_r32=_bl$values5[2],_d17=_bl$values5[3],_c12=_bl$values5[4],_p13=_bl$values5[5],_u12=new DOMPoint(_a57,_h49).matrixTransform(i),_x59=new DOMPoint(_a57+_r32,_h49).matrixTransform(i),_b10=new DOMPoint(_a57,_h49+_d17).matrixTransform(i);_r32*=ta(_o84),_d17*=ta(_l79);var _m10=new DOMPoint(_a57,_h49),_g10=new DOMPoint(_a57+_r32,_h49),_f7=new DOMPoint(_a57,_h49+_d17),_w6=Yt(_m10,_g10,_f7,_u12,_x59,_b10);_w6=Gt(_w6,n),1===ta(_w6.a)&&0===_w6.b&&0===_w6.c&&1===ta(_w6.d)&&(0===_w6.e&&0===_w6.f||(_a57=1===_w6.a?_a57+_w6.e:_a57-_w6.e,_h49=1===_w6.d?_h49+_w6.f:_h49-_w6.f,_w6.e=0,_w6.f=0));var _v5=[_a57,_h49,_r32,_d17,_c12,_p13].map(function(t){return K(t,s);});Ua(t),_ml(t,{type:"star",values:_v5},s),_w6.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w6.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Aa=function Aa(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _bl$values6=_slicedToArray(bl(t).values,6),_o85=_bl$values6[0],_l80=_bl$values6[1],_a58=_bl$values6[2],_h50=_bl$values6[3],_r33=_bl$values6[4],_d18=_bl$values6[5],_Nl9=Nl(i),_c13=_Nl9.scaleX,_p14=_Nl9.scaleY,_u13=new DOMPoint(_o85,_l80).matrixTransform(i),_x60=new DOMPoint(_o85+_r33,_l80).matrixTransform(i),_b11=new DOMPoint(_o85,_l80+_d18).matrixTransform(i);_a58*=ta(_c13),_h50*=ta(_p14),_r33*=ta(_c13),_d18*=ta(_p14);var _m11=new DOMPoint(_o85,_l80),_g11=new DOMPoint(_o85+_r33,_l80),_f8=new DOMPoint(_o85,_l80+_d18),_w7=Yt(_m11,_g11,_f8,_u13,_x60,_b11);_w7=Gt(_w7,n),1===ta(_w7.a)&&0===_w7.b&&0===_w7.c&&1===ta(_w7.d)&&(0===_w7.e&&0===_w7.f||(_o85=1===_w7.a?_o85+_w7.e:_o85-_w7.e,_l80=1===_w7.d?_l80+_w7.f:_l80-_w7.f,_w7.e=0,_w7.f=0));var _v6=[_o85,_l80,_a58,_h50,_r33,_d18].map(function(t){return K(t,s);});Ua(t),_ml(t,{type:"ring",values:_v6},s),_w7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_w7.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},$a=function $a(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Ia=function Ia(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},La=function La(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Nl10=Nl(i),_o86=_Nl10.scaleX,_l81=_Nl10.scaleY,_bl$values7=_slicedToArray(bl(t).values,7),_a59=_bl$values7[0],_h51=_bl$values7[1],_r34=_bl$values7[2],_d19=_bl$values7[3],_c14=_bl$values7[4],_p15=_bl$values7[5],_u14=_bl$values7[6],_x61=new DOMPoint(_a59,_h51).matrixTransform(i),_b12=new DOMPoint(_a59+_r34,_h51).matrixTransform(i),_m12=new DOMPoint(_a59,_h51+_d19).matrixTransform(i);_a59*=_o86,_h51*=_l81,_r34*=ta(_o86),_d19*=ta(_l81),_p15*=ta(_o86),_u14*=ta(_o86),_c14*=ta(_l81);var _g12=new DOMPoint(_a59,_h51),_f9=new DOMPoint(_a59+_r34,_h51),_w8=new DOMPoint(_a59,_h51+_d19),_v7=Yt(_g12,_f9,_w8,_x61,_b12,_m12);_v7=Gt(_v7,n),1===ta(_v7.a)&&0===_v7.b&&0===_v7.c&&1===ta(_v7.d)&&(_a59=1===_v7.a?_a59+_v7.e:_a59-_v7.e,_h51=1===_v7.d?_h51+_v7.f:_h51-_v7.f,_v7.e=0,_v7.f=0),Ua(t),_ml(t,{type:"arrow",values:[_a59,_h51,_r34,_d19,_c14,_p15,_u14]},s),_v7.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v7.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n).toString());},Ba=function Ba(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){var _Nl11=Nl(i),_o87=_Nl11.scaleX,_l82=_Nl11.scaleY,_bl$values8=_slicedToArray(bl(t).values,7),_a60=_bl$values8[0],_h52=_bl$values8[1],_r35=_bl$values8[2],_d20=_bl$values8[3],_c15=_bl$values8[4],_p16=_bl$values8[5],_u15=_bl$values8[6],_x62=new DOMPoint(_a60,_h52).matrixTransform(i),_b13=new DOMPoint(_a60+_r35,_h52).matrixTransform(i),_m13=new DOMPoint(_a60,_h52+_d20).matrixTransform(i);_a60*=_o87,_h52*=_l82,_r35*=ta(_o87),_d20*=ta(_l82),_c15*=ta(_l82),_p16*=ta(_o87);var _g13=new DOMPoint(_a60,_h52),_f10=new DOMPoint(_a60+_r35,_h52),_w9=new DOMPoint(_a60,_h52+_d20),_v8=Yt(_g13,_f10,_w9,_x62,_b13,_m13);_v8=Gt(_v8,n),1===ta(_v8.a)&&0===_v8.b&&0===_v8.c&&1===ta(_v8.d)&&(_a60=1===_v8.a?_a60+_v8.e:_a60-_v8.e,_h52=1===_v8.d?_h52+_v8.f:_h52-_v8.f,_v8.e=0,_v8.f=0),Ua(t),_ml(t,{type:"cross",values:[_a60,_h52,_r35,_d20,_c15,_p16,_u15]},s),_v8.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_v8.toString()),Na(t,e);}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n).toString());},Ra=function Ra(t,e){var i=Vt(t),s=e.geometryPrecision,n=e.transformPrecision;if(i.is2D){if(i.isIdentity)t.removeAttribute("transform");else{var _Nl12=Nl(i),_o88=_Nl12.scaleX,_l83=_Nl12.scaleY;if(_o88===_l83){var _bl$values9=_slicedToArray(bl(t).values,6),_l84=_bl$values9[0],_a61=_bl$values9[1],_h53=_bl$values9[2],_r36=_bl$values9[3],_d21=_bl$values9[4],_c16=_bl$values9[5],_p17=new DOMPoint(_l84,_a61).matrixTransform(i),_u16=new DOMPoint(_l84+_r36,_a61).matrixTransform(i),_x63=new DOMPoint(_l84,_a61+_r36).matrixTransform(i);_h53*=ta(_o88),_r36*=ta(_o88);var _b14=new DOMPoint(_l84,_a61),_m14=new DOMPoint(_l84+_r36,_a61),_g14=new DOMPoint(_l84,_a61+_r36),_f11=Yt(_b14,_m14,_g14,_p17,_u16,_x63);_f11=Gt(_f11,n),1===ta(_f11.a)&&0===_f11.b&&0===_f11.c&&1===ta(_f11.d)&&(0===_f11.e&&0===_f11.f||(_l84=1===_f11.a?_l84+_f11.e:_l84-_f11.e,_a61=1===_f11.d?_a61+_f11.f:_a61-_f11.f,_f11.e=0,_f11.f=0));var _w10=[_l84,_a61,_h53,_r36,_d21,_c16];_w10=_w10.map(function(t){return K(t,s);}),Ua(t),_ml(t,{type:"spiral",values:_w10},s),_f11.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_f11.toString()),Na(t,e);}else t.setAttribute("transform",Gt(i,n));}}else i.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(i,n));},Ga=function Ga(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=Vt(t),_Nl13=Nl(n),o=_Nl13.scaleX,l=_Nl13.scaleY;if(!n.is2D||o!==l&&"none"!==t.getAttribute("preserveAspectRatio"))n.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(n,s));else{var _a62=t.x.baseVal.value,_h54=t.y.baseVal.value,_r37=t.width.baseVal.value,_d22=t.height.baseVal.value,_c17=new DOMPoint(_a62,_h54).matrixTransform(n),_p18=new DOMPoint(_a62+_r37,_h54).matrixTransform(n),_u17=new DOMPoint(_a62,_h54+_d22).matrixTransform(n);_a62*=o,_h54*=l,_r37*=ta(o),_d22*=ta(l);var _x64=new DOMPoint(_a62,_h54),_b15=new DOMPoint(_a62+_r37,_h54),_m15=new DOMPoint(_a62,_h54+_d22),_g15=Yt(_x64,_b15,_m15,_c17,_p18,_u17);_g15=Gt(_g15,s),1===ta(_g15.a)&&0===_g15.b&&0===_g15.c&&1===ta(_g15.d)&&(0===_g15.e&&0===_g15.f||(_a62=1===_g15.a?_a62+_g15.e:_a62-_g15.e,_h54=1===_g15.d?_h54+_g15.f:_h54-_g15.f,_g15.e=0,_g15.f=0)),Ua(t);for(var _i297=0,_arr17=[["x",_a62],["y",_h54],["width",_r37],["height",_d22]];_i297<_arr17.length;_i297++){var _arr17$_i=_slicedToArray(_arr17[_i297],2),_e291=_arr17$_i[0],_s166=_arr17$_i[1];_s166=K(_s166,i),0===_s166?t.removeAttribute(_e291):t.setAttribute(_e291,_s166);}_g15.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_g15.toString()),Na(t,e);}},Fa=function Fa(t,e){var i=e.geometryPrecision,s=e.transformPrecision,n=_toConsumableArray(t.children).find(function(t){return"textPath"===t.localName;}),o=null;if(n){o=Ti(n).querySelector(n.href.baseVal);}if(o){var _e292=Gt(Vt(t),s);_e292.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",_e292.toString());}else{var _n105=Vt(t),_Nl14=Nl(_n105),_o89=_Nl14.scaleX,_l85=_Nl14.scaleY;if(_n105.is2D&&_o89===_l85&&!1===ki(t)){(function(){var _ref58=function(t){var e=0,i=0,s=0,n=0,o=gi(t)[0]||null;if(o){var _l86=[];for(var _e293=o.parentElement;_e293!==t;_e293=_e293.parentElement){"tspan"!==_e293.localName&&"textPath"!==_e293.localName||_l86.push(_e293);}_l86.push(t),_l86.reverse();for(var _i298=0,_l87=_l86;_i298<_l87.length;_i298++){var _t370=_l87[_i298];_t370.x.baseVal.length>0&&(e=_t370.x.baseVal[0].value),_t370.y.baseVal.length>0&&(i=_t370.y.baseVal[0].value),_t370.dx.baseVal.length>0&&(s=_t370.dx.baseVal[0].value),_t370.dy.baseVal.length>0&&(n=_t370.dy.baseVal[0].value);}}return[e+s,i+n];}(t),_ref59=_slicedToArray(_ref58,2),a=_ref59[0],h=_ref59[1],r=Pi(t).width,d=Pi(t).height,c=new DOMPoint(a,h).matrixTransform(_n105),p=new DOMPoint(a+r,h).matrixTransform(_n105),u=new DOMPoint(a,h+d).matrixTransform(_n105),x=a*_o89,b=h*_l85,m=r*ta(_o89),g=d*ta(_l85),f=new DOMPoint(x,b),w=new DOMPoint(x+m,b),v=new DOMPoint(x,b+g),y=Yt(f,w,v,c,p,u);y=Gt(y,s),1===ta(y.a)&&0===y.b&&0===y.c&&1===ta(y.d)&&(0===y.e&&0===y.f||(x=1===y.a?x+y.e:x-y.e,b=1===y.d?b+y.f:b-y.f,y.e=0,y.f=0)),Ua(t);var _iterator181=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step181;try{for(_iterator181.s();!(_step181=_iterator181.n()).done;){var _e297=_step181.value;Ua(_e297);}}catch(err){_iterator181.e(err);}finally{_iterator181.f();}var k=x-a,S=b-h,_=_toConsumableArray(t.x.baseVal).map(function(t){return K(t.value+k,i);}),C=_toConsumableArray(t.y.baseVal).map(function(t){return K(t.value+S,i);});if(x=K(x,i),b=K(b,i),_.length>0)t.setAttribute("x",_.join(" "));else{var _e294=K(k,i);0===_e294?t.removeAttribute("x"):t.setAttribute("x",_e294);}if(C.length>0)t.setAttribute("y",C.join(" "));else{var _e295=K(S,i);0===_e295?t.removeAttribute("y"):t.setAttribute("y",_e295);}var _iterator182=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step182;try{for(_iterator182.s();!(_step182=_iterator182.n()).done;){var _e298=_step182.value;var _t372=_toConsumableArray(_e298.x.baseVal).map(function(t){return K(t.value+k,i);}),_s168=_toConsumableArray(_e298.y.baseVal).map(function(t){return K(t.value+S,i);});_t372.length>0&&_e298.setAttribute("x",_t372.join(" ")),_s168.length>0&&_e298.setAttribute("y",_s168.join(" "));}}catch(err){_iterator182.e(err);}finally{_iterator182.f();}if(y.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",y.toString()),Na(t,e),0===t.querySelectorAll("tspan").length){var _e296=getComputedStyle(t).getPropertyValue("font-size");_e296=sa(_e296),_e296=K(_e296*_l85,1),t.style.setProperty("font-size",_e296);}else{var _iterator183=_createForOfIteratorHelper(t.querySelectorAll("tspan")),_step183;try{for(_iterator183.s();!(_step183=_iterator183.n()).done;){var _i299=_step183.value;var _t371=getComputedStyle(_i299).getPropertyValue("font-size");_t371=sa(_t371),_t371=K(_t371*_l85,1),_i299.style.setProperty("font-size",_t371);var _s167=getComputedStyle(_i299).getPropertyValue("word-spacing");_s167=sa(_s167),_s167=K(_s167*_l85,2),_i299.style.setProperty("word-spacing",_s167);var _n106=getComputedStyle(_i299).getPropertyValue("letter-spacing");_n106=sa(_n106),_n106=K(_n106*_l85,2),_i299.style.setProperty("letter-spacing",_n106),Na(_i299,e);}}catch(err){_iterator183.e(err);}finally{_iterator183.f();}}})();}else _n105.isIdentity?t.removeAttribute("transform"):t.setAttribute("transform",Gt(_n105,s));}},Ua=function Ua(t){var e=Ht(t);if((_.includes(t.localName)||M.includes(t.localName))&&(N(t)||V(t))&&(t[la]=Pi(t,!1)),w.includes(t.localName)){var _i300=[Ko(t,"fill"),Ko(t,"stroke")],_s169=_i300.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_n107=_i300.filter(function(t){return t&&"pattern"===t.localName;}),_Nl15=Nl(Vt(t)),_o90=_Nl15.scaleX,_l88=_Nl15.scaleY;t[aa]=_o90,t[ha]=_l88;var _iterator184=_createForOfIteratorHelper(_s169),_step184;try{for(_iterator184.s();!(_step184=_iterator184.n()).done;){var _t373=_step184.value;var _i301=zo(_t373);if(_i301.gradientUnits===oa)if("linearGradient"===_t373.localName){var _s170=new DOMPoint(_i301.x1.value,_i301.y1.value),_n108=new DOMPoint(_i301.x2.value,_i301.y2.value),_o91=new Z(_s170,_n108).getNormalVector().transformPoint(_s170),_l89=_s170.matrixTransform(_i301.gradientTransform),_a63=_n108.matrixTransform(_i301.gradientTransform),_h55=_o91.matrixTransform(_i301.gradientTransform);_t373[ra]=_l89.matrixTransform(e),_t373[da]=_a63.matrixTransform(e),_t373[ca]=_h55.matrixTransform(e);}else if("radialGradient"===_t373.localName){var _s171=new DOMPoint(_i301.cx.value,_i301.cy.value),_n109=new DOMPoint(_i301.cx.value+_i301.r.value,_i301.cy.value),_o92=new DOMPoint(_i301.cx.value,_i301.cy.value-_i301.r.value),_l90=_s171.matrixTransform(_i301.gradientTransform),_a64=_n109.matrixTransform(_i301.gradientTransform),_h56=_o92.matrixTransform(_i301.gradientTransform);_t373[pa]=_l90.matrixTransform(e),_t373[ua]=_a64.matrixTransform(e),_t373[xa]=_h56.matrixTransform(e);}}}catch(err){_iterator184.e(err);}finally{_iterator184.f();}var _iterator185=_createForOfIteratorHelper(_n107),_step185;try{for(_iterator185.s();!(_step185=_iterator185.n()).done;){var _i302=_step185.value;var _s172=Yo(_i302);if(_s172.patternUnits===oa){var _t374=new DOMPoint(_s172.x.value,_s172.y.value),_n110=new DOMPoint(_s172.x.value+_s172.width.value,_s172.y.value),_o93=new DOMPoint(_s172.x.value+_s172.width.value,_s172.y.value+_s172.height.value),_l91=_t374.matrixTransform(_s172.patternTransform),_a65=_n110.matrixTransform(_s172.patternTransform),_h57=_o93.matrixTransform(_s172.patternTransform);_i302[ba]=_l91.matrixTransform(e),_i302[ma]=_a65.matrixTransform(e),_i302[ga]=_h57.matrixTransform(e);}else if(_s172.patternUnits===na){var _e299=Ht(t),_n111=Pi(t),_o94=_s172.x.valueInSpecifiedUnits,_l92=_s172.y.valueInSpecifiedUnits,_a66=_s172.width.valueInSpecifiedUnits,_h58=_s172.height.valueInSpecifiedUnits;_s172.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o94/=100),_s172.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l92/=100),_s172.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a66/=100),_s172.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_h58/=100);var _r38=new DOMPoint(_o94,_l92),_d23=new DOMPoint(_o94+_a66,_l92),_c18=new DOMPoint(_o94+_a66,_l92+_h58),_p19=new DOMPoint(_n111.x+_r38.x*_n111.width,_n111.y+_r38.y*_n111.height),_u18=new DOMPoint(_n111.x+_d23.x*_n111.width,_n111.y+_d23.y*_n111.height),_x65=new DOMPoint(_n111.x+_c18.x*_n111.width,_n111.y+_c18.y*_n111.height),_b16=_p19.matrixTransform(_s172.patternTransform),_m16=_u18.matrixTransform(_s172.patternTransform),_g16=_x65.matrixTransform(_s172.patternTransform),_f12=_b16.matrixTransform(_e299),_w11=_m16.matrixTransform(_e299),_v9=_g16.matrixTransform(_e299);_i302[ba]=_f12,_i302[ma]=_w11,_i302[ga]=_v9;}}}catch(err){_iterator185.e(err);}finally{_iterator185.f();}}},Na=function Na(t,e){var i=Ht(t).inverse(),s=e.geometryPrecision,n=e.preserveStrokeWidth,o=e.transformPrecision,l=e.transformDirection;if(_.includes(t.localName)){var _i303=getComputedStyle(t).clipPath,_s173=_i303&&"none"!==_i303?_i303.substring(6,_i303.length-2):"",_n112=_s173?Ti(t).querySelector("#"+CSS.escape(_s173)):null;if(_n112){var _i304=t[la],_s174=Pi(t,!1),_o95=Wt(_i304,_s174);_o95=_o95.multiply(Vt(_n112));var _iterator186=_createForOfIteratorHelper(_n112.children),_step186;try{for(_iterator186.s();!(_step186=_iterator186.n()).done;){var _t375=_step186.value;S.includes(_t375.localName)&&(_t375.setAttribute("transform",_o95.multiply(Vt(_t375)).toString()),fa(_t375,e));}}catch(err){_iterator186.e(err);}finally{_iterator186.f();}_n112.removeAttribute("transform");}}if(M.includes(t.localName)){var _i305=getComputedStyle(t).mask,_s175=_i305&&"none"!==_i305?_i305.substring(6,_i305.length-2):"",_n113=_s175?Ti(t).querySelector("#"+CSS.escape(_s175)):null;if(_n113){var _i306=t[la],_s176=Pi(t,!1),_o96=Wt(_i306,_s176);var _iterator187=_createForOfIteratorHelper(_n113.children),_step187;try{for(_iterator187.s();!(_step187=_iterator187.n()).done;){var _t376=_step187.value;C.includes(_t376.localName)&&(_t376.setAttribute("transform",_o96.multiply(Vt(_t376)).toString()),fa(_t376,e));}}catch(err){_iterator187.e(err);}finally{_iterator187.f();}_n113.removeAttribute("transform");}}if(w.includes(t.localName)){var _e300=[Ko(t,"fill"),Ko(t,"stroke")],_a67=_e300.filter(function(t){return t&&t.localName.endsWith("Gradient");}),_h59=_e300.filter(function(t){return t&&"pattern"===t.localName;});if(!1===n){var _e301=t[aa],_i307=t[ha],_n114=getComputedStyle(t).getPropertyValue("stroke-width");_n114=sa(_n114),_n114*="left"===l||"right"===l?ta(_e301):"top"===l||"bottom"===l?ta(_i307):(ta(_e301)+ta(_i307))/2,_n114=K(_n114,s),t.style.setProperty("stroke-width",_n114);}var _iterator188=_createForOfIteratorHelper(_a67),_step188;try{for(_iterator188.s();!(_step188=_iterator188.n()).done;){var _t377=_step188.value;var _e302=zo(_t377);if(_e302.gradientUnits===oa){var _s177=void 0;if("linearGradient"===_t377.localName){var _n115=new DOMPoint(_e302.x1.value,_e302.y1.value),_o97=new DOMPoint(_e302.x2.value,_e302.y2.value),_l93=new Z(_n115,_o97).getNormalVector().transformPoint(_n115);_s177=Yt(_n115,_o97,_l93,_t377[ra].matrixTransform(i),_t377[da].matrixTransform(i),_t377[ca].matrixTransform(i));}else if("radialGradient"===_t377.localName){var _n116=new DOMPoint(_e302.cx.value,_e302.cy.value),_o98=new DOMPoint(_e302.cx.value+_e302.r.value,_e302.cy.value),_l94=new DOMPoint(_e302.cx.value,_e302.cy.value-_e302.r.value);_s177=Yt(_n116,_o98,_l94,_t377[pa].matrixTransform(i),_t377[ua].matrixTransform(i),_t377[xa].matrixTransform(i));}_s177=Gt(_s177,o),_t377.setAttribute("gradientTransform",_s177.toString());}}}catch(err){_iterator188.e(err);}finally{_iterator188.f();}var _iterator189=_createForOfIteratorHelper(_h59),_step189;try{for(_iterator189.s();!(_step189=_iterator189.n()).done;){var _e303=_step189.value;var _s178=Yo(_e303),_n117=(_e303.hasAttribute("href")&&No(_e303),Wo(_e303)),_l95=_e303[ba],_a68=_e303[ma],_h60=_e303[ga];if(_n117.length>1){var _i308=void 0;{var _t378=Ti(_e303),_s179="";for(var _i309=0;_i309<Infinity&&(_s179=_e303.id+"-"+_i309,_t378.querySelector("#".concat(_s179)));_i309+=1){;}_i308=Ei("svg:pattern"),_i308.setAttribute("id",_s179),_i308.setAttribute("href","#"+_e303.id),_e303.after(_i308);}for(var _i310=0,_arr18=["fill","stroke"];_i310<_arr18.length;_i310++){var _s180=_arr18[_i310];t.style.getPropertyValue(_s180)==="url(\"#".concat(_e303.id,"\")")&&t.style.setProperty(_s180,"url(\"#".concat(_i308.id,"\")"));}_e303=_i308;}if(_s178.patternUnits===oa){var _t379=new DOMPoint(_s178.x.value,_s178.y.value),_n118=new DOMPoint(_s178.x.value+_s178.width.value,_s178.y.value),_r39=new DOMPoint(_s178.x.value+_s178.width.value,_s178.y.value+_s178.height.value),_d24=Yt(_t379,_n118,_r39,_l95.matrixTransform(i),_a68.matrixTransform(i),_h60.matrixTransform(i)),_c19=Gt(_d24,o);_e303.setAttribute("patternTransform",_c19.toString());}else if(_s178.patternUnits===na){var _n119=Pi(t),_r40=_s178.x.valueInSpecifiedUnits,_d25=_s178.y.valueInSpecifiedUnits,_c20=_s178.width.valueInSpecifiedUnits,_p20=_s178.height.valueInSpecifiedUnits;_s178.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_r40/=100),_s178.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d25/=100),_s178.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c20/=100),_s178.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p20/=100);var _u19=new DOMPoint(_r40,_d25),_x66=new DOMPoint(_r40+_c20,_d25),_b17=new DOMPoint(_r40+_c20,_d25+_p20),_m17=new DOMPoint(_n119.x+_u19.x*_n119.width,_n119.y+_u19.y*_n119.height),_g17=new DOMPoint(_n119.x+_x66.x*_n119.width,_n119.y+_x66.y*_n119.height),_f13=new DOMPoint(_n119.x+_b17.x*_n119.width,_n119.y+_b17.y*_n119.height),_w12=_l95.matrixTransform(i),_v10=_a68.matrixTransform(i),_y2=_h60.matrixTransform(i),_k2=_w12.matrixTransform(_s178.patternTransform.inverse()),_S2=_v10.matrixTransform(_s178.patternTransform.inverse()),_3=_y2.matrixTransform(_s178.patternTransform.inverse()),_C2=Yt(_m17,_g17,_f13,_k2,_S2,_3),_M2=_s178.patternTransform.multiply(_C2);_M2=Gt(_M2,o),_e303.setAttribute("patternTransform",_M2.toString());}}}catch(err){_iterator189.e(err);}finally{_iterator189.f();}}},Va=Math.abs;var ja=/*#__PURE__*/function(_HTMLElement42){_inherits(ja,_HTMLElement42);var _super43=_createSuper(ja);function ja(){_classCallCheck(this,ja);return _super43.apply(this,arguments);}_createClass(ja,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this143=this;this.Pn.style.cursor=null,this.Pn.workspaces.addEventListener("contextmenu",this.Dn=function(t){_this143.zn(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this143.kn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("contextmenu",this.Dn),this.Pn.workspaces.removeEventListener("pointerdown",this.On);}},{key:"zn",value:function zn(t){}},{key:"kn",value:function kn(t){var _this144=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e304,_i311,s=t.target,n=new DOMPoint(t.clientX,t.clientY);this.En=!1,window.addEventListener("pointermove",_e304=function e(i){var s=new DOMPoint(i.clientX,i.clientY);if(i.pointerId!==t.pointerId||_this144.Qs.pointers.length>1||ze(n,s)<3)return;window.removeEventListener("pointermove",_e304),_this144.En=!0;var o=new Z(i.clientX-t.clientX,i.clientY-t.clientY),l=Va(o.x)>Va(o.y)?"horizontal":"vertical";_this144.Tn(t,i,l);}),window.addEventListener("pointerup",_i311=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e304),window.removeEventListener("pointerup",_i311);var l=new DOMPoint(o.clientX,o.clientY);ze(n,l)<3&&_this144.Cn(s,o);});}},{key:"Cn",value:function Cn(t,e){if(0!==e.button||this.En)return;var i=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);if(i.length>0){var _t380=i[i.length-1];2===this.Qs.pointerClickCount?this.Js.toggleTool("transform-tool"):this.Pn.isSelectableElement(_t380)&&this.An(_t380);}else this.$n(e);}},{key:"An",value:function An(t){var e=this.Pn,_this$Qs$modKeys=this.Qs.modKeys,i=_this$Qs$modKeys.ctrl,s=_this$Qs$modKeys.alt,n=_this$Qs$modKeys.shift,o=this.In(t),l=e.selectedElements.includes(t);var _iterator190=_createForOfIteratorHelper(o),_step190;try{for(_iterator190.s();!(_step190=_iterator190.n()).done;){var _t382=_step190.value;e.selectedElements.includes(_t382)&&(l=!0);}}catch(err){_iterator190.e(err);}finally{_iterator190.f();}if(!1===n){var _i312=null;for(var _s181=t.parentElement;_s181!==e.currentWorkspace;_s181=_s181.parentElement){if("g"===_s181.localName||"a"===_s181.localName){_i312=_s181;break;}}e.currentContainer=_i312,e.selectedElements=[t];}else if(!0===n){var _i313=e.currentContainer,_s182=e.selectedElements;if(_s182=_s182.includes(t)?_s182.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s182),[t]),0===_s182.length)_i313=null;else for(var _t381=_s182[0].parentElement;_t381!==e.currentWorkspace;_t381=_t381.parentElement){if("g"===_t381.localName||"a"===_t381.localName){_i313=_t381;break;}}e.currentContainer=_i313,e.selectedElements=_s182;}}},{key:"$n",value:function $n(t){if(0!==t.button)return;var _this$Qs$modKeys2=this.Qs.modKeys,e=_this$Qs$modKeys2.ctrl,i=_this$Qs$modKeys2.shift;e||i||(this.Pn.currentContainer=null,this.Pn.selectedElements=[]);}},{key:"Tn",value:function(){var _Tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee66(t,e,i){var s,n,o,_t383,_t384;return regeneratorRuntime.wrap(function _callee66$(_context66){while(1){switch(_context66.prev=_context66.next){case 0:s=t.clientX,n=t.clientY,o=this.Qs.getConfig("bx-editsettings:selectionShape","rect");if(!(this.Qs.modKeys.ctrl&&("polygon"===o?o="rect":"rect"===o&&(o="polygon")),"rect"===o)){_context66.next=8;break;}_context66.next=4;return this.Pn.rubberBandHud.grabSelection(s,n,"rect");case 4:_t383=_context66.sent;this.Pn.pathHud.rubberBandSelectionCallback(_t383);_context66.next=13;break;case 8:if(!("polygon"===o)){_context66.next=13;break;}_context66.next=11;return this.Pn.rubberBandHud.grabSelection(s,n,"polygon");case 11:_t384=_context66.sent;this.Pn.pathHud.rubberBandSelectionCallback(_t384);case 13:case"end":return _context66.stop();}}},_callee66,this);}));function Tn(_x67,_x68,_x69){return _Tn.apply(this,arguments);}return Tn;}()},{key:"In",value:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){"g"!==(t=t.parentElement).localName&&"a"!==t.localName||e.unshift(t);}return e;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return ja;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ja,"observedAttributes",["enabled"]);customElements.define("bx-directselectcontext",ja);var Ha=/*#__PURE__*/function(_HTMLElement43){_inherits(Ha,_HTMLElement43);var _super44=_createSuper(Ha);function Ha(){_classCallCheck(this,Ha);return _super44.apply(this,arguments);}_createClass(Ha,[{key:"connectedCallback",value:function connectedCallback(){this.Ln=!1,this.Bn=!1,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this145=this;this.Pn.style.cursor="-webkit-grab",this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this145.kn(t);}),window.addEventListener("keydown",this.wn=function(t){return _this145.vn(t);}),window.addEventListener("keyup",this.Rn=function(t){return _this145.Gn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("pointerdown",this.On),this.Qs.removeEventListener("pointerschange",this.Fn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),window.removeEventListener("keydown",this.wn),window.removeEventListener("keyup",this.Rn);}},{key:"kn",value:function kn(t){var _this146=this;if(0!==t.button||!1===t.isPrimary||this.Qs.pointers.length>1)return;this.Pn.style.cursor="-webkit-grabbing",this.Bn=!0;var e=new DOMPoint(t.clientX,t.clientY),i=e;window.addEventListener("pointermove",this.Un=function(s){if(s.pointerId!==t.pointerId)return;var n=new DOMPoint(s.clientX,s.clientY),o=s.timeStamp-t.timeStamp;if(ze(e,n)>=3||o>80){var _t385=new Z(i,n);!1===_this146.Ln&&_this146.Pn.Vn(_t385.x,_t385.y),i=n;}}),window.addEventListener("pointerup",this.Nn=function(e){e.pointerId===t.pointerId&&(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Nn),_this146.Qs.removeEventListener("pointerschange",_this146.Fn),_this146.Bn=!1,!1===_this146.Ln&&(_this146.Pn.style.cursor="-webkit-grab"));}),this.Qs.addEventListener("pointerschange",this.Fn=function(){1===_this146.Qs.pointers.length&&!1!==_this146.Qs.pointers.has(t.pointerId)||(window.removeEventListener("pointermove",_this146.Un),window.removeEventListener("pointerup",_this146.Nn),_this146.Qs.removeEventListener("pointerschange",_this146.Fn),_this146.Bn=!1,!1===_this146.Ln&&(_this146.Pn.style.cursor="-webkit-grab"));});}},{key:"vn",value:function vn(t){if("Space"===t.code){"pan"===this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool")&&(this.Ln=!0,this.Pn.style.cursor="-webkit-grabbing");}}},{key:"Gn",value:function Gn(t){"Space"===t.code&&(this.Ln=!1,!1===this.Bn&&(this.Pn.style.cursor="-webkit-grab"));}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Ha;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ha,"observedAttributes",["enabled"]);customElements.define("bx-pancontext",Ha);var Ya=Math.abs,Wa=Math.floor,qa=Math.max,Xa=function Xa(t,e){var i=ce(new Z(t[1]),new Z(t[0])),s=ce(new Z(t[t.length-3]),new Z(t[t.length-2]));return i=i.normalize(),s=s.normalize(),Za(t,0,t.length-1,i,s,e);},Za=function Za(t,e,i,s,n,o){if(i-e==1){var _o99=t[e],_l96=t[i],_a69=ze(_o99,_l96)/3,_h61=new Z(_o99),_r41=new Z(_l96),_d26=pe(_h61,s.scale(_a69)),_c21=pe(_r41,n.scale(_a69));return[[_o99,new DOMPoint(_d26.x,_d26.y),new DOMPoint(_c21.x,_c21.y),_l96]];}var l,a=Qa(t,e,i),h=qa(o,o*o);for(var _r42=0;_r42<=4;_r42+=1){var _r43=Ka(t,e,i,a,s,n),_ih=ih(t,e,i,_r43,a),_ih2=_slicedToArray(_ih,2),_d27=_ih2[0],_c22=_ih2[1];if(_d27<o)return[_r43];if(l=_c22,_d27>=h)break;Ja(t,e,i,a,_r43),h=_d27;}var r=ce(new Z(t[l-1]),new Z(t[l])),d=ce(new Z(t[l]),new Z(t[l+1])),c=pe(r,d).multiply(.5).normalize(),p=Za(t,e,l,s,c,o),u=Za(t,l,i,c.multiply(-1),n,o);return p.concat(u);},Ka=function Ka(t,e,i,s,n,o){var l=t[e],a=t[i],h=new Z(l),r=new Z(a),d=[[0,0],[0,0]],c=[0,0],p=i-e+1;for(var _i314=0;_i314<p;_i314+=1){var _l97=s[_i314],_a70=1-_l97,_p21=3*_l97*_a70,_u20=_a70*_a70*_a70,_x70=_p21*_a70,_b18=_p21*_l97,_m18=_l97*_l97*_l97,_g18=n.scale(_x70),_f14=o.scale(_b18);d[0][0]+=de(_g18,_g18),d[0][1]+=de(_g18,_f14),d[1][0]=d[0][1],d[1][1]+=de(_f14,_f14);var _w13=new Z(t[e+_i314]);_w13=ce(_w13,h.multiply(_u20+_x70)),_w13=ce(_w13,r.multiply(_b18+_m18)),c[0]+=de(_g18,_w13),c[1]+=de(_f14,_w13);}var u,x,b=d[0][0]*d[1][1]-d[1][0]*d[0][1],m=1e-6;if(Ya(b)>m){var _t386=d[0][0]*c[1]-d[1][0]*c[0];u=(c[0]*d[1][1]-c[1]*d[0][1])/b,x=_t386/b;}else{var _t387=d[0][0]+d[0][1],_e305=d[1][0]+d[1][1];u=x=Ya(_t387)>m?c[0]/_t387:Ya(_e305)>m?c[1]/_e305:0;}var g=ze(a,l);m*=g,(u<m||x<m)&&(u=x=g/3);var f=pe(h,n.scale(u)),w=pe(r,o.scale(x));return[l,new DOMPoint(f.x,f.y),new DOMPoint(w.x,w.y),a];},Qa=function Qa(t,e,i){var s=[0];for(var _n120=e+1;_n120<=i;_n120+=1){s[_n120-e]=s[_n120-e-1]+ze(t[_n120],t[_n120-1]);}for(var _t388=1,_n121=i-e;_t388<=_n121;_t388+=1){s[_t388]/=s[i-e];}return s;},Ja=function Ja(t,e,i,s,n){var o=[];for(var _l98=e;_l98<=i;_l98+=1){o[_l98-e]=th(n,t[_l98],s[_l98-e]);}return o;},th=function th(t,e,i){var s=[],n=[];for(var _e306=0;_e306<=2;_e306+=1){var _i315=ce(new Z(t[_e306+1]),new Z(t[_e306]));s[_e306]=_i315.multiply(3);}for(var _t389=0;_t389<=1;_t389++){var _e307=ce(s[_t389+1],s[_t389]);n[_t389]=_e307.multiply(2);}var o=eh(3,t,i),l=eh(2,s,i),a=eh(1,n,i),h=ce(o,new Z(e)),r=de(l,l)+de(h,a);return Ya(r)<1e-6?i:i-de(h,l)/r;},eh=function eh(t,e,i){var s=e.map(function(t){return new Z(t);});for(var n=1;n<=t;n+=1){for(var o=0;o<=t-n;o+=1){s[o]=pe(s[o].multiply(1-i),s[o+1].multiply(i));}}return s[0];},ih=function ih(t,e,i,s,n){var o=Wa((i-e+1)/2),l=0;for(var _a71=e+1;_a71<i;_a71++){var _i316=ce(eh(3,s,n[_a71-e]),new Z(t[_a71])).length;_i316>=l&&(l=_i316,o=_a71);}return[l,o];},sh={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var nh=/*#__PURE__*/function(_HTMLElement44){_inherits(nh,_HTMLElement44);var _super45=_createSuper(nh);_createClass(nh,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nh(){_classCallCheck(this,nh);return _super45.call(this);}_createClass(nh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function(){var _tn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee67(){var _this147=this;return regeneratorRuntime.wrap(function _callee67$(_context67){while(1){switch(_context67.prev=_context67.next){case 0:this.jn=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),this.Pn.pathHud.passive=!0,this.Pn.style.cursor="crosshair",this.Qs.addEventListener("configchange",this.ln=function(t){_this147.an(t.detail);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this147.kn(t);}),this.Pn.pathHud.addEventListener("pointerdown",this.Hn=function(t){_this147.Yn(t);});case 1:case"end":return _context67.stop();}}},_callee67,this);}));function tn(){return _tn.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Pn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.ln),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.pathHud.removeEventListener("pointerdown",this.Hn),this.Pn.freehandHud.hide();}},{key:"an",value:function an(_ref60){var t=_ref60.key,e=_ref60.value;"bx-freehandsettings:smoothing"===t&&null!==e&&(this.jn=e);}},{key:"Yn",value:function Yn(t){var _this148=this;var e=this.Pn,i=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY);if(i){var _s183,_n124,_o100=i.index,_l99=i.path,_a72=at(_l99.getPathData());{var _t390=-1;var _iterator191=_createForOfIteratorHelper(_a72),_step191;try{for(_iterator191.s();!(_step191=_iterator191.n()).done;){var _e308=_step191.value;var _iterator192=_createForOfIteratorHelper(_e308),_step192;try{for(_iterator192.s();!(_step192=_iterator192.n()).done;){var _n123=_step192.value;if(_t390+=1,_t390===i.index){_s183=_e308;break;}}}catch(err){_iterator192.e(err);}finally{_iterator192.f();}}}catch(err){_iterator191.e(err);}finally{_iterator191.f();}}e.freehandHud.show(_l99,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_n124=function _n122(t){e.removeEventListener("pointerup",_n124);var h=e.freehandHud.points,r=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),d=r?r.index:null,c=r?r.path:null,p=null,u=null,x=!1;if(c){p=c===_l99?_a72:at(c.getPathData());{var _t391=-1;var _iterator193=_createForOfIteratorHelper(p),_step193;try{for(_iterator193.s();!(_step193=_iterator193.n()).done;){var _e309=_step193.value;var _iterator194=_createForOfIteratorHelper(_e309),_step194;try{for(_iterator194.s();!(_step194=_iterator194.n()).done;){var _i317=_step194.value;if(_t391+=1,_t391===r.index){u=_e309;break;}}}catch(err){_iterator194.e(err);}finally{_iterator194.f();}}}catch(err){_iterator193.e(err);}finally{_iterator193.f();}}c===_l99&&d===_o100&&(x=!0);}if(h.length>0&&!1===x)if(_this148.Pn.undoManager.checkpoint("Add path segments"),r){var _ref61;if(_s183===u){if("start"===i.position){var _s184;var _t393=rt(_s183);_s183.length=0,(_s184=_s183).push.apply(_s184,_toConsumableArray(_t393));}if(1===h.length||2===h.length)_s183.push({type:"L",values:[h[h.length-1].x,h[h.length-1].y]});else if(h.length>=3){var _iterator195=_createForOfIteratorHelper(Xa(h,6*_this148.jn/e.scale)),_step195;try{for(_iterator195.s();!(_step195=_iterator195.n()).done;){var _t394=_step195.value;_s183.push({type:"C",values:[_t394[1].x,_t394[1].y,_t394[2].x,_t394[2].y,_t394[3].x,_t394[3].y]});}}catch(err){_iterator195.e(err);}finally{_iterator195.f();}}_s183.push({type:"Z",values:[]});}else{var _s186;if("start"===i.position){var _s185;var _t396=rt(_s183);_s183.length=0,(_s185=_s183).push.apply(_s185,_toConsumableArray(_t396));}var _t395=se(u,jt(c,_l99));if("end"===r.position&&(_t395=rt(_t395)),1===h.length||2===h.length)_s183.push({type:"L",values:[h[h.length-1].x,h[h.length-1].y]});else if(h.length>=3){var _iterator196=_createForOfIteratorHelper(Xa(h,6*_this148.jn/e.scale)),_step196;try{for(_iterator196.s();!(_step196=_iterator196.n()).done;){var _t397=_step196.value;_s183.push({type:"C",values:[_t397[1].x,_t397[1].y,_t397[2].x,_t397[2].y,_t397[3].x,_t397[3].y]});}}catch(err){_iterator196.e(err);}finally{_iterator196.f();}}(_s186=_s183).push.apply(_s186,_toConsumableArray(_t395.slice(1))),u.length=0;}var _iterator197=_createForOfIteratorHelper(_s183),_step197;try{for(_iterator197.s();!(_step197=_iterator197.n()).done;){var _t399=_step197.value;_t399.values=_t399.values.map(function(t){return K(t,e.geometryPrecision);});}}catch(err){_iterator197.e(err);}finally{_iterator197.f();}var _t392=(_ref61=[]).concat.apply(_ref61,_toConsumableArray(_a72));if(_l99.setPathData(_t392),c!==_l99){var _ref62;var _t398=(_ref62=[]).concat.apply(_ref62,_toConsumableArray(p));c.setPathData(_t398),0===_t398.length&&(c.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==c;}));}}else{var _ref63;if("start"===i.position){var _s187;var _t401=rt(_s183);_s183.length=0,(_s187=_s183).push.apply(_s187,_toConsumableArray(_t401));}if(1===h.length||2===h.length)_s183.push({type:"L",values:[h[h.length-1].x,h[h.length-1].y]});else if(h.length>=3){var _iterator198=_createForOfIteratorHelper(Xa(h,6*_this148.jn/e.scale)),_step198;try{for(_iterator198.s();!(_step198=_iterator198.n()).done;){var _t402=_step198.value;_s183.push({type:"C",values:[_t402[1].x,_t402[1].y,_t402[2].x,_t402[2].y,_t402[3].x,_t402[3].y]});}}catch(err){_iterator198.e(err);}finally{_iterator198.f();}}var _iterator199=_createForOfIteratorHelper(_s183),_step199;try{for(_iterator199.s();!(_step199=_iterator199.n()).done;){var _t403=_step199.value;_t403.values=_t403.values.map(function(t){return K(t,e.geometryPrecision);});}}catch(err){_iterator199.e(err);}finally{_iterator199.f();}var _t400=(_ref63=[]).concat.apply(_ref63,_toConsumableArray(_a72));_l99.setPathData(_t400);}e.freehandHud.clear(),e.freehandHud.hide();});}}},{key:"kn",value:function kn(t){var _this149=this;if(1!==t.buttons)return;var _e310,_i318,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e310=function e(i){var n=new DOMPoint(i.clientX,i.clientY);ze(s,n)<3||(window.removeEventListener("pointermove",_e310),_this149.Tn(t));}),window.addEventListener("pointerup",_i318=function i(t){window.removeEventListener("pointermove",_e310),window.removeEventListener("pointerup",_i318);});}},{key:"Tn",value:function Tn(t){var _this150=this;var e=this.Pn,i=e.currentContainer||e.currentWorkspace,s=this.Qs.getConfig("bx-freehandsettings:style",sh);e.undoManager.checkpoint("Freehand path");var n=Ei("svg:path");n.style.stroke="black",n.style.fill="none",i.append(n);var _o101,l=Ht(n).inverse(),a=t.clientX,h=t.clientY,_DOMPoint$matrixTrans2=new DOMPoint(a,h).matrixTransform(l),r=_DOMPoint$matrixTrans2.x,d=_DOMPoint$matrixTrans2.y,c=[{type:"M",values:[r,d]}];n.setPathData(c),ol(n,s),e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[n]),e.freehandHud.show(n,new DOMPoint(t.clientX,t.clientY)),e.setPointerCapture(t.pointerId),e.addEventListener("pointerup",_o101=function o(t){e.removeEventListener("pointerup",_o101);var i=e.freehandHud.points,s=e.pathHud.getNodeGrippieDescriptor(t.clientX,t.clientY),l=s?s.path:null,a=null,h=null;if(i.length>0)if(null===l){n.getAttribute("d");if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _t404=Xa(i,6*_this150.jn/e.scale);var _iterator200=_createForOfIteratorHelper(_t404),_step200;try{for(_iterator200.s();!(_step200=_iterator200.n()).done;){var _e311=_step200.value;c.push({type:"C",values:[_e311[1].x,_e311[1].y,_e311[2].x,_e311[2].y,_e311[3].x,_e311[3].y]});}}catch(err){_iterator200.e(err);}finally{_iterator200.f();}}n.setPathData(c),e.freehandHud.clear(),e.freehandHud.hide();}else{var _ref64;{var _t406=jt(l,n);l.setAttribute("transform",_t406.toString()),fa(l,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision,preserveRotation:!1});}{a=at(l.getPathData());var _t407=-1;var _iterator201=_createForOfIteratorHelper(a),_step201;try{for(_iterator201.s();!(_step201=_iterator201.n()).done;){var _e312=_step201.value;var _iterator202=_createForOfIteratorHelper(_e312),_step202;try{for(_iterator202.s();!(_step202=_iterator202.n()).done;){var _i319=_step202.value;if(_t407+=1,_t407===s.index){h=_e312;break;}}}catch(err){_iterator202.e(err);}finally{_iterator202.f();}}}catch(err){_iterator201.e(err);}finally{_iterator201.f();}}if("end"===s.position){var _h62;var _t408=rt(h);h.length=0,(_h62=h).push.apply(_h62,_toConsumableArray(_t408));}if(1===i.length||2===i.length)c.push({type:"L",values:[i[i.length-1].x,i[i.length-1].y]});else if(i.length>=3){var _iterator203=_createForOfIteratorHelper(Xa(i,6*_this150.jn/e.scale)),_step203;try{for(_iterator203.s();!(_step203=_iterator203.n()).done;){var _t409=_step203.value;c.push({type:"C",values:[_t409[1].x,_t409[1].y,_t409[2].x,_t409[2].y,_t409[3].x,_t409[3].y]});}}catch(err){_iterator203.e(err);}finally{_iterator203.f();}}c.push.apply(c,_toConsumableArray(h.slice(1))),h.length=0;var _iterator204=_createForOfIteratorHelper(c),_step204;try{for(_iterator204.s();!(_step204=_iterator204.n()).done;){var _t410=_step204.value;_t410.values=_t410.values.map(function(t){return K(t,e.geometryPrecision);});}}catch(err){_iterator204.e(err);}finally{_iterator204.f();}n.setPathData(c);var _t405=(_ref64=[]).concat.apply(_ref64,_toConsumableArray(a));l.setPathData(_t405),0===_t405.length&&(l.remove(),e.selectedElements=e.selectedElements.filter(function(t){return t!==l;}));}e.freehandHud.clear(),e.freehandHud.hide();});}}]);return nh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nh,"observedAttributes",["enabled"]);customElements.define("bx-freehandcontext",nh);var oh=/*#__PURE__*/function(_HTMLElement45){_inherits(oh,_HTMLElement45);var _super46=_createSuper(oh);_createClass(oh,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t,this.qs();}},{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"shape";},set:function set(t){this.setAttribute("type",t);}}]);function oh(){var _this151;_classCallCheck(this,oh);_this151=_super46.call(this),_this151._t=null,_this151._shadowRoot=_this151.attachShadow({mode:"closed"}),_this151._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,oh._shadowStyleSheet],_this151._shadowRoot.append(document.importNode(oh._shadowTemplate.content,!0));var _iterator205=_createForOfIteratorHelper(_this151._shadowRoot.querySelectorAll("[id]")),_step205;try{for(_iterator205.s();!(_step205=_iterator205.n()).done;){var _t411=_step205.value;_this151["#"+_t411.id]=_t411;}}catch(err){_iterator205.e(err);}finally{_iterator205.f();}_this151["#grab-button"].addEventListener("toggle",function(){return _this151.Wn();}),_this151["#reset-button"].addEventListener("click",function(){return _this151.qn();});return _this151;}_createClass(oh,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.qs();}},{key:"Wn",value:function(){var _Wn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee68(){var t;return regeneratorRuntime.wrap(function _callee68$(_context68){while(1){switch(_context68.prev=_context68.next){case 0:_context68.next=2;return this.Js.objectGrabber.grab();case 2:t=_context68.sent;this["#grab-button"].toggled=!1,t&&(this._t=function(t){var e={},i=getComputedStyle(t),s=nl(t);!1===t.isConnected&&console.warn("getAppearance() called with a disconnected element.");var _iterator206=_createForOfIteratorHelper(s),_step206;try{for(_iterator206.s();!(_step206=_iterator206.n()).done;){var _n125=_step206.value;if("fill"===_n125||"stroke"===_n125){var _s188=Ko(t,_n125);if(_s188){var _t412=_s188.localName;if("linearGradient"===_t412||"radialGradient"===_t412){var _i320="";var _iterator207=_createForOfIteratorHelper(Oo(_s188)),_step207;try{for(_iterator207.s();!(_step207=_iterator207.n()).done;){var _t413=_step207.value;var _e313=_t413.offset.baseVal,_s189=getComputedStyle(_t413).stopColor,_n126=getComputedStyle(_t413).stopOpacity,_o102="stop-color: ".concat(_s189,";");"1"!==_n126&&(_o102+=" stop-opacity: ".concat(_n126)),_i320+="<stop offset=\"".concat(_e313,"\" style=\"").concat(_o102,"\"></stop>");}}catch(err){_iterator207.e(err);}finally{_iterator207.f();}"linearGradient"===_t412?e[_n125]="<linearGradient x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">".concat(_i320,"</linearGradient>"):"radialGradient"===_t412&&(e[_n125]="<radialGradient r=\"0.8\">".concat(_i320,"</radialGradient>"));}else"pattern"===_t412&&(e[_n125]="black");}else e[_n125]=i[_n125];}else"font-family"===_n125&&i[_n125].startsWith('"')&&i[_n125].endsWith('"')?e[_n125]=i[_n125].slice(1,-1):e[_n125]=i[_n125];}}catch(err){_iterator206.e(err);}finally{_iterator206.f();}return e;}(t),this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs());case 4:case"end":return _context68.stop();}}},_callee68,this);}));function Wn(){return _Wn.apply(this,arguments);}return Wn;}()},{key:"qn",value:function qn(){this._t=null,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.qs();}},{key:"qs",value:function qs(){if(this["#reset-button"].disabled=null===this.value,null===this.value){var _t414;"text"===this.type?_t414=T:"shape"===this.type?_t414=O:"outline-shape"===this.type?_t414=E:"path"===this.type&&(_t414=A),ol(this["#thumbnail-rect"],_t414);}else ol(this["#thumbnail-rect"],this.value);}}]);return oh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(oh,"_shadowTemplate",qi(_templateObject191()));_defineProperty(oh,"_shadowStyleSheet",Xi(_templateObject192()));customElements.define("bx-stylepicker",oh);var lh=/*#__PURE__*/function(_HTMLElement46){_inherits(lh,_HTMLElement46);var _super47=_createSuper(lh);_createClass(lh,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lh(){var _this152;_classCallCheck(this,lh);_this152=_super47.call(this),_this152._shadowRoot=_this152.attachShadow({mode:"closed"}),_this152._shadowRoot.append(document.importNode(_this152.constructor._shadowTemplate.content,!0)),_this152._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,lh._shadowStyleSheet,_this152.constructor._shadowStyleSheet];var _iterator208=_createForOfIteratorHelper(_this152._shadowRoot.querySelectorAll("[id]")),_step208;try{for(_iterator208.s();!(_step208=_iterator208.n()).done;){var _t415=_step208.value;_this152["#"+_t415.id]=_t415;}}catch(err){_iterator208.e(err);}finally{_iterator208.f();}_this152.setAttribute("extends","bx-toolsettings");return _this152;}_createClass(lh,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return lh;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lh,"observedAttributes",["enabled"]);_defineProperty(lh,"_shadowStyleSheet",Xi(_templateObject193()));var ah={size:{param:"pressure",variance:.5}},hh={fill:"rgb(166, 209, 48)",stroke:"rgb(129, 151, 57)","stroke-width":"2px"},rh='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n';var dh=/*#__PURE__*/function(_lh){_inherits(dh,_lh);var _super48=_createSuper(dh);function dh(){var _this153;_classCallCheck(this,dh);_this153=_super48.call(this),_this153["#mode-buttons"].addEventListener("toggle",function(){return _this153.Xn();}),_this153["#geometry-preview"].addEventListener("pointerdown",function(t){return _this153.Zn(t);}),_this153["#size-box"].addEventListener("changestart",function(){return _this153.Kn();}),_this153["#roundness-box"].addEventListener("changestart",function(){return _this153.Qn();}),_this153["#angle-box"].addEventListener("changestart",function(){return _this153.Jn();}),_this153["#size-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#roundness-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#roundness-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#angle-dynamics-param-select"].addEventListener("change",function(t){return _this153.eo(t);}),_this153["#angle-dynamics-variance-input"].addEventListener("changeend",function(t){return _this153.eo(t);}),_this153["#style-picker"].addEventListener("change",function(){return _this153.io();});return _this153;}_createClass(dh,[{key:"tn",value:function tn(){var _this154=this;this.so(),this.no(),this.Qs.addEventListener("configchange",this.ln=function(t){_this154.an(t);});}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln);}},{key:"an",value:function an(t){var _t$detail=t.detail,e=_t$detail.key,i=_t$detail.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||(this.so(),this.no());}},{key:"Xn",value:function Xn(){this.Qs.setConfig("bx-blobsettings:mode",this["#mode-buttons"].value);}},{key:"Zn",value:function Zn(t){var _this155=this;if(1!==t.buttons)return;var e,_i322,s=Ht(this["#geometry-preview"]).inverse(),n=new DOMPoint(50,50),o=this["#size-slider"].value,l=this["#roundness-slider"].value,a=this["#angle-slider"].value;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);if(t.shiftKey)o=ze(n,e)/(_this155["#roundness-slider"].value/100),o=Q(o,1,40,0);else{var _t416=_this155["#size-slider"].value,_i321=ze(n,e);l=_i321/_t416*100,l=Q(l,1,100,0);}a=Le(n,new DOMPoint(50,0),e),a=Q(a,-180,180,0),_this155["#size-slider"].value=o,_this155["#size-input"].value=o,_this155["#roundness-slider"].value=l,_this155["#roundness-input"].value=l,_this155["#angle-slider"].value=a,_this155["#angle-input"].value=a,_this155.no();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i322=function i(){_this155["#geometry-preview"].removeEventListener("pointermove",e),_this155["#geometry-preview"].removeEventListener("lostpointercapture",_i322),_this155.Qs.setConfig("bx-blobsettings:size",o),_this155.Qs.setConfig("bx-blobsettings:roundness",l),_this155.Qs.setConfig("bx-blobsettings:angle",a);});}},{key:"Kn",value:function Kn(){var _this156=this;var t,_e314;this["#size-box"].addEventListener("change",t=function t(_t417){_t417.target===_this156["#size-slider"]?_this156["#size-input"].value=_this156["#size-slider"].value:_t417.target===_this156["#size-input"]&&(_this156["#size-slider"].value=_this156["#size-input"].value),_this156.no();}),this["#size-box"].addEventListener("changeend",_e314=function e(){_this156["#size-box"].removeEventListener("change",t),_this156["#size-box"].removeEventListener("changeend",_e314),_this156.Qs.setConfig("bx-blobsettings:size",_this156["#size-input"].value);});}},{key:"Qn",value:function Qn(){var _this157=this;var t,_e315;this["#roundness-box"].addEventListener("change",t=function t(_t418){_t418.target===_this157["#roundness-slider"]?_this157["#roundness-input"].value=_this157["#roundness-slider"].value:_t418.target===_this157["#roundness-input"]&&(_this157["#roundness-slider"].value=_this157["#roundness-input"].value),_this157.no();}),this["#roundness-box"].addEventListener("changeend",_e315=function e(){_this157["#roundness-box"].removeEventListener("change",t),_this157["#roundness-box"].removeEventListener("changeend",_e315),_this157.Qs.setConfig("bx-blobsettings:roundness",_this157["#roundness-slider"].value);});}},{key:"Jn",value:function Jn(){var _this158=this;var t,_e316;this["#angle-box"].addEventListener("change",t=function t(_t419){_t419.target===_this158["#angle-slider"]?_this158["#angle-input"].value=_this158["#angle-slider"].value:_t419.target===_this158["#angle-input"]&&(_this158["#angle-slider"].value=_this158["#angle-input"].value),_this158.no();}),this["#angle-box"].addEventListener("changeend",_e316=function e(){_this158["#angle-box"].removeEventListener("change",t),_this158["#angle-box"].removeEventListener("changeend",_e316),_this158.Qs.setConfig("bx-blobsettings:angle",_this158["#angle-slider"].value);});}},{key:"eo",value:function eo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#size-dynamics-param-select"].value&&(e.size={param:this["#size-dynamics-param-select"].value,variance:this["#size-dynamics-variance-input"].value/100}),"none"!==this["#roundness-dynamics-param-select"].value&&(e.roundness={param:this["#roundness-dynamics-param-select"].value,variance:this["#roundness-dynamics-variance-input"].value/100}),"none"!==this["#angle-dynamics-param-select"].value&&(e.angle={param:this["#angle-dynamics-param-select"].value,variance:this["#angle-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-blobsettings:dynamics",e),this.so();}},{key:"io",value:function io(){this.Qs.setConfig("bx-blobsettings:style",this["#style-picker"].value);}},{key:"so",value:function so(){var t=this.Qs.getConfig("bx-blobsettings:mode","draw"),e=this.Qs.getConfig("bx-blobsettings:size",30),i=this.Qs.getConfig("bx-blobsettings:roundness",100),s=this.Qs.getConfig("bx-blobsettings:angle",0),n=this.Qs.getConfig("bx-blobsettings:dynamics",ah),o=this.Qs.getConfig("bx-blobsettings:style",hh);this["#mode-buttons"].value=t,this["#size-slider"].value=e,this["#size-input"].value=e,this["#roundness-slider"].value=i,this["#roundness-input"].value=i,this["#angle-slider"].value=s,this["#angle-input"].value=s,n.size?(this["#size-dynamics-param-select"].value=n.size.param,this["#size-dynamics-variance-input"].value=K(100*n.size.variance,0),this["#size-dynamics-variance-input"].disabled=!1):(this["#size-dynamics-param-select"].value="none",this["#size-dynamics-variance-input"].value=0,this["#size-dynamics-variance-input"].disabled=!0),n.roundness?(this["#roundness-dynamics-param-select"].value=n.roundness.param,this["#roundness-dynamics-variance-input"].value=K(100*n.roundness.variance,0),this["#roundness-dynamics-variance-input"].disabled=!1):(this["#roundness-dynamics-param-select"].value="none",this["#roundness-dynamics-variance-input"].value=0,this["#roundness-dynamics-variance-input"].disabled=!0),n.angle?(this["#angle-dynamics-param-select"].value=n.angle.param,this["#angle-dynamics-variance-input"].value=K(100*n.angle.variance,0),this["#angle-dynamics-variance-input"].disabled=!1):(this["#angle-dynamics-param-select"].value="none",this["#angle-dynamics-variance-input"].value=0,this["#angle-dynamics-variance-input"].disabled=!0),this["#style-picker"].value=o;}},{key:"no",value:function no(){var t=this["#size-slider"].value,e=this["#roundness-slider"].value/100*t,i=this["#angle-slider"].value,s=new DOMMatrix().translate(50,50).rotate(i).translate(-50,-50),n=new DOMPoint(50,50-e).matrixTransform(s);this["#geometry-preview-shape"].style.rx="".concat(t),this["#geometry-preview-shape"].style.ry="".concat(e),this["#geometry-preview-shape"].style.transform="rotate(".concat(i,"deg)"),this["#geometry-preview-grippie"].style.cx=n.x,this["#geometry-preview-grippie"].style.cy=n.y;}}]);return dh;}(lh);_defineProperty(dh,"_shadowTemplate",qi(_templateObject194(),rh,rh,rh));_defineProperty(dh,"_shadowStyleSheet",Xi(_templateObject195()));customElements.define("bx-blobsettings",dh);var ch=function ch(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=null;return"rect"===t.localName?i=ph(t,e):"circle"===t.localName?i=uh(t,e):"ellipse"===t.localName?i=xh(t,e):"line"===t.localName?i=bh(t,e):"polyline"===t.localName?i=mh(t,e):"polygon"===t.localName&&(i=gh(t,e)),i;},ph=function ph(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ei("svg:path"),s=t.getPathData();var _iterator209=_createForOfIteratorHelper(s),_step209;try{for(_iterator209.s();!(_step209=_iterator209.n()).done;){var _t420=_step209.value;_t420.values=_t420.values.map(function(t){return K(t,e);});}}catch(err){_iterator209.e(err);}finally{_iterator209.f();}i.setPathData(s);var _iterator210=_createForOfIteratorHelper(t.attributes),_step210;try{for(_iterator210.s();!(_step210=_iterator210.n()).done;){var _e317=_step210.value;!1===["x","y","width","height","rx","ry"].includes(_e317.name)&&i.setAttribute(_e317.name,_e317.value);}}catch(err){_iterator210.e(err);}finally{_iterator210.f();}return i.innerHTML=t.innerHTML,i;},uh=function uh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ei("svg:path"),s=t.getPathData();var _iterator211=_createForOfIteratorHelper(s),_step211;try{for(_iterator211.s();!(_step211=_iterator211.n()).done;){var _t421=_step211.value;_t421.values=_t421.values.map(function(t){return K(t,e);});}}catch(err){_iterator211.e(err);}finally{_iterator211.f();}i.setPathData(s);var _iterator212=_createForOfIteratorHelper(t.attributes),_step212;try{for(_iterator212.s();!(_step212=_iterator212.n()).done;){var _e318=_step212.value;["cx","cy","r"].includes(_e318.name)||i.setAttribute(_e318.name,_e318.value);}}catch(err){_iterator212.e(err);}finally{_iterator212.f();}return i.innerHTML=t.innerHTML,i;},xh=function xh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ei("svg:path"),s=t.getPathData();var _iterator213=_createForOfIteratorHelper(s),_step213;try{for(_iterator213.s();!(_step213=_iterator213.n()).done;){var _t422=_step213.value;_t422.values=_t422.values.map(function(t){return K(t,e);});}}catch(err){_iterator213.e(err);}finally{_iterator213.f();}i.setPathData(s);var _iterator214=_createForOfIteratorHelper(t.attributes),_step214;try{for(_iterator214.s();!(_step214=_iterator214.n()).done;){var _e319=_step214.value;["cx","cy","rx","ry"].includes(_e319.name)||i.setAttribute(_e319.name,_e319.value);}}catch(err){_iterator214.e(err);}finally{_iterator214.f();}return i.innerHTML=t.innerHTML,i;},bh=function bh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ei("svg:path"),s=t.getPathData();var _iterator215=_createForOfIteratorHelper(s),_step215;try{for(_iterator215.s();!(_step215=_iterator215.n()).done;){var _t423=_step215.value;_t423.values=_t423.values.map(function(t){return K(t,e);});}}catch(err){_iterator215.e(err);}finally{_iterator215.f();}i.setPathData(s);var _iterator216=_createForOfIteratorHelper(t.attributes),_step216;try{for(_iterator216.s();!(_step216=_iterator216.n()).done;){var _e320=_step216.value;["x1","y1","x2","y2"].includes(_e320.name)||i.setAttribute(_e320.name,_e320.value);}}catch(err){_iterator216.e(err);}finally{_iterator216.f();}return i.innerHTML=t.innerHTML,i;},mh=function mh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ei("svg:path"),s=t.getPathData();var _iterator217=_createForOfIteratorHelper(s),_step217;try{for(_iterator217.s();!(_step217=_iterator217.n()).done;){var _t424=_step217.value;_t424.values=_t424.values.map(function(t){return K(t,e);});}}catch(err){_iterator217.e(err);}finally{_iterator217.f();}i.setPathData(s);var _iterator218=_createForOfIteratorHelper(t.attributes),_step218;try{for(_iterator218.s();!(_step218=_iterator218.n()).done;){var _e321=_step218.value;"points"!==_e321.name&&i.setAttribute(_e321.name,_e321.value);}}catch(err){_iterator218.e(err);}finally{_iterator218.f();}return i.innerHTML=t.innerHTML,i;},gh=function gh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:6;var i=Ei("svg:path"),s=t.getPathData();var _iterator219=_createForOfIteratorHelper(s),_step219;try{for(_iterator219.s();!(_step219=_iterator219.n()).done;){var _t425=_step219.value;_t425.values=_t425.values.map(function(t){return K(t,e);});}}catch(err){_iterator219.e(err);}finally{_iterator219.f();}i.setPathData(t.getPathData());var _iterator220=_createForOfIteratorHelper(t.attributes),_step220;try{for(_iterator220.s();!(_step220=_iterator220.n()).done;){var _e322=_step220.value;"points"!==_e322.name&&i.setAttribute(_e322.name,_e322.value);}}catch(err){_iterator220.e(err);}finally{_iterator220.f();}return i.innerHTML=t.innerHTML,i;},fh=function fh(t){for(var _e323=t;_e323;_e323=_e323.parentNode){if(_e323 instanceof ShadowRoot||_e323===window.document)return _e323;}},wh=function wh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;vh(t);var s="",n={text:!0,textPath:!0,tspan:!0,title:!0,desc:!0};for(var _t426=0;_t426<e;_t426+=1){s+=" ";}var o=function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(!n[t.localName]){var _iterator221=_createForOfIteratorHelper(t.children),_step221;try{for(_iterator221.s();!(_step221=_iterator221.n()).done;){var _i323=_step221.value;var _n127=t.firstChild===_i323,_l100=t.lastChild===_i323;if(!0===_n127){var _t427=document.createTextNode("\n");_i323.parentNode.insertBefore(_t427,_i323);}var _a73="";for(var _t428=0;_t428<e;_t428+=1){_a73+=s;}var _h63=document.createTextNode(_a73);if(t.insertBefore(_h63,_i323),!0===_l100){var _i324=document.createTextNode("\n");t.appendChild(_i324);var _n128="";for(var _t429=0;_t429<e-1;_t429+=1){_n128+=s;}var _o103=document.createTextNode(_n128);t.appendChild(_o103);}else{var _e324=document.createTextNode("\n");t.insertBefore(_e324,_i323.nextSibling);}_i323.childElementCount>0&&o(_i323,e+1);}}catch(err){_iterator221.e(err);}finally{_iterator221.f();}}};o(t,i);},vh=function vh(t){var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null),s={text:!0,textPath:!0,tspan:!0};for(;e=i.nextNode();){s[e.parentElement.localName]||yh(e.textContent)&&e.remove();}},yh=function yh(t){return!/[^\t\n\r ]/.test(t);},kh=function kh(t){var e={},i=getComputedStyle(t);e.width=i.getPropertyValue("width");var _iterator222=_createForOfIteratorHelper(i),_step222;try{for(_iterator222.s();!(_step222=_iterator222.n()).done;){var _t430=_step222.value;var _s190=i.getPropertyValue(_t430);e[_t430]=_s190;}}catch(err){_iterator222.e(err);}finally{_iterator222.f();}return e;},Sh=function Sh(t,e){{var _i325=F.find(function(e){return e.name===t;}).presentationAttributeName||null;_i325&&e.hasAttribute(_i325)&&(""===e.style.getPropertyValue(t)&&e.style.setProperty(t,e.getAttribute(_i325)),e.removeAttribute(_i325));}{var _i326=e.style.getPropertyValue(t);if(""!==_i326&&"inherit"!==_i326){var _s191=getComputedStyle(e).getPropertyValue(t);e.style.removeProperty(t),_s191!==getComputedStyle(e).getPropertyValue(t)&&e.style.setProperty(t,_i326);}}},_h=function _h(t){var e=F.find(function(e){return e.name===t;});return!!e&&e.inheritable;},Ch=function Ch(t){var e="",i=t.sheet.rules[0];var _iterator223=_createForOfIteratorHelper(t.sheet.rules),_step223;try{for(_iterator223.s();!(_step223=_iterator223.n()).done;){var _s192=_step223.value;_s192!==i&&(e+="\n"),e+=_s192.cssText;}}catch(err){_iterator223.e(err);}finally{_iterator223.f();}t.textContent!==e&&(t.textContent=e);},Mh=function Mh(t){var e,i=function i(t){var e,i,s=[0,0,0],n=t.split(" "),o=/[\w-]+/g,l=/#[\w-]+/g,a=/\.[\w-]+/g,h=/\[[^\]]+\]/g,r=/\:(?!not)[\w-]+(\(.*\))?/g,d=/\:\:?(after|before|first-letter|first-line|selection)/g,c=function c(t,e){var i=t.match(e);return i?i.length:0;};for(;e=n.shift(),"string"==typeof e;){i=c(e,d),s[2]+=i,i&&(e=e.replace(d,"")),i=c(e,r),s[1]+=i,i&&(e=e.replace(r,"")),i=c(e,h),s[1]+=i,i&&(e=e.replace(h,"")),i=c(e,l),s[0]+=i,i&&(e=e.replace(l,"")),i=c(e,a),s[1]+=i,i&&(e=e.replace(a,"")),s[2]+=c(e,o);}return parseInt(s.join(""),10);},s=function s(t,e){var s,n,o=e.split(","),l=0;for(;s=o.shift();){t.matches(s)&&(n=i(s),l=n>l?n:l);}return l;},n=function n(t){var e=t.media&&t.media.mediaText;return t.disabled||e&&e.length&&!window.matchMedia(e).matches?[]:t.cssRules?_toConsumableArray(t.cssRules):[];},o=[],l=_toConsumableArray(fh(t).styleSheets);for(;e=l.shift();){var _i327=void 0,_s193=n(e);for(;_i327=_s193.shift();){_i327.type===CSSRule.IMPORT_RULE?_s193=n(_i327.styleSheet).concat(_s193):_i327.type===CSSRule.MEDIA_RULE?_s193=n(_i327).concat(_s193):_i327.type===CSSRule.STYLE_RULE&&t.matches(_i327.selectorText)&&o.push(_i327);}}return o=o.sort(function(e,i){return s(t,i.selectorText)-s(t,e.selectorText);}),o;},Ph=Object.entries,Dh=function Dh(t){var e,i=Uh(t)||Uh('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>'),s=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,n=document.createNodeIterator(i,s);for(;e=n.nextNode();){if(e.nodeType!==Node.ELEMENT_NODE){!1===(G[e.parentNode.nodeName]||[]).includes(e.nodeName)&&e.remove();}else if(e.localName.includes(":")){if(e.localName.startsWith("bx:")){var _t431=e.localName.split(":")[1],_i328=document.createElement("bx-"+_t431);for(var _i329=0,_arr19=_toConsumableArray(e.attributes);_i329<_arr19.length;_i329++){var _t432=_arr19[_i329];_i328.setAttribute(_t432.name,_t432.value);}for(var _i330=0,_arr20=_toConsumableArray(e.childNodes);_i330<_arr20.length;_i330++){var _t433=_arr20[_i330];_i328.append(_t433);}e.replaceWith(_i328);}else e.remove();}else{if("title"===e.localName){var _t434=Ei("svg:bx-title");_t434.innerHTML=e.innerHTML;var _iterator224=_createForOfIteratorHelper(e.attributes),_step224;try{for(_iterator224.s();!(_step224=_iterator224.n()).done;){var _step224$value=_step224.value,_i331=_step224$value.name,_s194=_step224$value.value;_t434.setAttribute(_i331,_s194);}}catch(err){_iterator224.e(err);}finally{_iterator224.f();}e.replaceWith(_t434);continue;}if("switch"===e.localName){var _t435=":scope > *:not([systemLanguage]):not([requiredExtensions])",_i332=e.querySelector(_t435)||e.firstElementChild;_i332&&e.replaceWith(_i332);continue;}if(e!==i){if(!1===(G[e.parentNode.localName]||[]).includes(e.localName)){e.remove();continue;}}for(var _i333=0,_arr21=_toConsumableArray(e.attributes);_i333<_arr21.length;_i333++){var _arr21$_i=_arr21[_i333],_t436=_arr21$_i.name,_i334=_arr21$_i.value;if(_t436.includes(":"))if(e.removeAttribute(_t436),_t436.startsWith("bx:"))_t436="data-bx-"+_t436.split(":")[1],e.setAttribute(_t436,_i334);else if("xlink:href"===_t436&&!1===e.hasAttribute("href"))_t436="href",e.setAttribute(_t436,_i334);else if("xlink:title"===_t436&&!1===e.hasAttribute("title"))_t436="title",e.setAttribute(_t436,_i334);else{if("xml:lang"!==_t436)continue;_t436="lang",e.setAttribute(_t436,_i334);}_t436.startsWith("data-")?"data-bx-shape"===_t436&&!1===gl(e)&&e.removeAttribute(_t436):"href"===_t436&&"a"===e.localName&&(e.removeAttribute(_t436),e.setAttribute("_href",_i334));}}}var _iterator225=_createForOfIteratorHelper(i.querySelectorAll("text")),_step225;try{for(_iterator225.s();!(_step225=_iterator225.n()).done;){var _t437=_step225.value;Ah(_t437);}}catch(err){_iterator225.e(err);}finally{_iterator225.f();}var _iterator226=_createForOfIteratorHelper(i.querySelectorAll("textPath")),_step226;try{for(_iterator226.s();!(_step226=_iterator226.n()).done;){var _t438=_step226.value;$h(_t438);}}catch(err){_iterator226.e(err);}finally{_iterator226.f();}var _iterator227=_createForOfIteratorHelper(i.querySelectorAll("linearGradient")),_step227;try{for(_iterator227.s();!(_step227=_iterator227.n()).done;){var _t439=_step227.value;Ih(_t439);}}catch(err){_iterator227.e(err);}finally{_iterator227.f();}var _iterator228=_createForOfIteratorHelper(i.querySelectorAll("radialGradient")),_step228;try{for(_iterator228.s();!(_step228=_iterator228.n()).done;){var _t440=_step228.value;Lh(_t440);}}catch(err){_iterator228.e(err);}finally{_iterator228.f();}var _iterator229=_createForOfIteratorHelper(i.querySelectorAll("pattern")),_step229;try{for(_iterator229.s();!(_step229=_iterator229.n()).done;){var _t441=_step229.value;Bh(_t441);}}catch(err){_iterator229.e(err);}finally{_iterator229.f();}var _iterator230=_createForOfIteratorHelper(i.querySelectorAll("marker")),_step230;try{for(_iterator230.s();!(_step230=_iterator230.n()).done;){var _t442=_step230.value;Gh(_t442);}}catch(err){_iterator230.e(err);}finally{_iterator230.f();}var _iterator231=_createForOfIteratorHelper(i.querySelectorAll("symbol")),_step231;try{for(_iterator231.s();!(_step231=_iterator231.n()).done;){var _t443=_step231.value;Rh(_t443);}}catch(err){_iterator231.e(err);}finally{_iterator231.f();}var _iterator232=_createForOfIteratorHelper(i.querySelectorAll("use")),_step232;try{for(_iterator232.s();!(_step232=_iterator232.n()).done;){var _t444=_step232.value;Fh(_t444);}}catch(err){_iterator232.e(err);}finally{_iterator232.f();}return zh(i),Oh(i),Eh(i),document.importNode(i,!0),i;},zh=function zh(t){var e=[];for(var _i335=0,_arr22=_toConsumableArray(t.attributes);_i335<_arr22.length;_i335++){var _arr22$_i=_arr22[_i335],_i336=_arr22$_i.name,_s195=_arr22$_i.value;t.removeAttribute(_i336),"xmlns"!==_i336&&"xmlns:bx"!==_i336&&e.push({name:_i336,value:_s195});}t.setAttribute("xmlns",l.svg),t.setAttribute("xmlns:bx",l.bx);for(var _i337=0,_e325=e;_i337<_e325.length;_i337++){var _e325$_i=_e325[_i337],_i338=_e325$_i.name,_s196=_e325$_i.value;t.setAttribute(_i338,_s196);}},Oh=function Oh(t){var e=t.querySelector(":scope > defs");e||(e=Ei("svg:defs"),t.prepend(e));},Eh=function Eh(t){if(Th(t))return;var e=t.querySelectorAll("style"),i={};var _iterator233=_createForOfIteratorHelper(e),_step233;try{for(_iterator233.s();!(_step233=_iterator233.n()).done;){var _t445=_step233.value;var _e326=[];for(var _s197=0,_n129=_t445.sheet.rules.length;_s197<_n129;_s197+=1){var _n130=_t445.sheet.rules[_s197];if(_n130.type===CSSRule.FONT_FACE_RULE){var _t446=ni(_n130.style.fontFamily,'"',"");void 0===i[_t446]?i[_t446]=[_n130]:i[_t446].push(_n130),_e326.push(_s197);}}if(_e326.length>0){var _iterator235=_createForOfIteratorHelper(_e326.reverse()),_step235;try{for(_iterator235.s();!(_step235=_iterator235.n()).done;){var _i339=_step235.value;_t445.sheet.deleteRule(_i339);}}catch(err){_iterator235.e(err);}finally{_iterator235.f();}Ch(_t445),0===_t445.sheet.rules.length&&_t445.remove();}}}catch(err){_iterator233.e(err);}finally{_iterator233.f();}var _iterator234=_createForOfIteratorHelper(Ph(i)),_step234;try{for(_iterator234.s();!(_step234=_iterator234.n()).done;){var _step234$value=_slicedToArray(_step234.value,2),_e327=_step234$value[0],_s198=_step234$value[1];var _i340=_s198.map(function(t){return t.cssText;}).join(" "),_n131=Ei("svg:style");_n131.setAttribute("data-bx-fonts",_e327),_n131.textContent=_i340;var _o104=t.querySelector("defs");null===_o104&&(_o104=Ei("svg:defs"),t.prepend(_o104)),_o104.insertBefore(_n131,_o104.querySelector("style"));}}catch(err){_iterator234.e(err);}finally{_iterator234.f();}},Th=function Th(t){var e=t.querySelectorAll("style");var _iterator236=_createForOfIteratorHelper(e),_step236;try{for(_iterator236.s();!(_step236=_iterator236.n()).done;){var _t447=_step236.value;var _e328=null;var _iterator237=_createForOfIteratorHelper(_t447.sheet.rules),_step237;try{for(_iterator237.s();!(_step237=_iterator237.n()).done;){var _i341=_step237.value;if(_i341.type===CSSRule.FONT_FACE_RULE){var _t448=ni(_i341.style.fontFamily,'"',"");if(null===_e328)_e328=_t448;else if(_e328!==_t448)return!1;}else if(null!==_e328)return!1;}}catch(err){_iterator237.e(err);}finally{_iterator237.f();}if(null!==_e328&&_t447.getAttribute("data-bx-fonts")!==_e328)return!1;}}catch(err){_iterator236.e(err);}finally{_iterator236.f();}return!0;},Ah=function Ah(t){var e=t.querySelectorAll("textPath"),i=(t.querySelectorAll("tspan"),e.length>0?e[0]:null);{var _e329=t.hasAttribute("width")||t.hasAttribute("height")?"pre-wrap":"pre";t.style.setProperty("white-space",_e329);}if(e.length>1){var _iterator238=_createForOfIteratorHelper(e),_step238;try{for(_iterator238.s();!(_step238=_iterator238.n()).done;){var _t449=_step238.value;_t449!==i&&_t449.remove();}}catch(err){_iterator238.e(err);}finally{_iterator238.f();}}if(i){i.parentElement!==t&&t.append(i);for(var _i342=0,_arr23=_toConsumableArray(t.childNodes);_i342<_arr23.length;_i342++){var _e330=_arr23[_i342];["a","tspan","#text"].includes(_e330.localName)&&_e330.remove();}if(i.hasAttribute("style")){var _iterator239=_createForOfIteratorHelper(i.style),_step239;try{for(_iterator239.s();!(_step239=_iterator239.n()).done;){var _e331=_step239.value;var _s199=t.style.getPropertyValue(_e331),_n132=i.style.getPropertyValue(_e331);_s199!==_n132&&t.style.setProperty(_e331,_n132);}}catch(err){_iterator239.e(err);}finally{_iterator239.f();}i.removeAttribute("style");}}},$h=function $h(t){{var _e332=Ti(t),_i343=t.href.baseVal?_e332.querySelector(t.href.baseVal):null;if(_i343&&["rect","circle","ellipse","line","polyline","polygon"].includes(_i343.localName)){var _t450=ch(_i343);_i343.replaceWith(_t450);}}},Ih=function Ih(t){{var _e333=0,_i344=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator240=_createForOfIteratorHelper(_i344),_step240;try{for(_iterator240.s();!(_step240=_iterator240.n()).done;){var _t451=_step240.value;if(_t451.hasAttribute("offset")){var _i345=_t451.offset.baseVal;_i345<_e333&&(_i345=_e333),_i345=Q(_i345,0,1,4),_e333=_i345,_t451.setAttribute("offset",_i345);}}}catch(err){_iterator240.e(err);}finally{_iterator240.f();}}},Lh=function Lh(t){{var _e334=0,_i346=_toConsumableArray(t.children).filter(function(t){return"stop"===t.localName;});var _iterator241=_createForOfIteratorHelper(_i346),_step241;try{for(_iterator241.s();!(_step241=_iterator241.n()).done;){var _t452=_step241.value;if(_t452.hasAttribute("offset")){var _i347=_t452.offset.baseVal;_i347<_e334&&(_i347=_e334),_i347=Q(_i347,0,1,4),_e334=_i347,_t452.setAttribute("offset",_i347);}}}catch(err){_iterator241.e(err);}finally{_iterator241.f();}}t.removeAttribute("fx"),t.removeAttribute("fy"),t.removeAttribute("fr");},Bh=function Bh(t){var e=Ti(t);if(!1===t.hasAttribute("id")){var _i348=0;for(;null!==e.querySelector("#pattern-"+_i348);){_i348+=1;}t.setAttribute("id","pattern-"+_i348);}},Rh=function Rh(t){var e=Ti(t);if(!1===t.hasAttribute("id")){var _i349=0;for(;null!==e.querySelector("#symbol-"+_i349);){_i349+=1;}t.setAttribute("id","symbol-"+_i349);}},Gh=function Gh(t){var e=Ti(t);if(!1===t.hasAttribute("id")){var _i350=0;for(;null!==e.querySelector("#marker-"+_i350);){_i350+=1;}t.setAttribute("id","marker-"+_i350);}},Fh=function Fh(t){var e=Ti(t),i=null;try{i=e.querySelector(t.href.baseVal);}catch(t){i=null;}if(i&&"symbol"!==i.localName){var _e335=Vt(t);_e335.multiplySelf(Vt(i)),_e335.translateSelf(t.x.baseVal.value,t.y.baseVal.value);var _s200=i.cloneNode(!0);_s200.setAttribute("transform",_e335);var _iterator242=_createForOfIteratorHelper(t.style),_step242;try{for(_iterator242.s();!(_step242=_iterator242.n()).done;){var _e336=_step242.value;var _i351=_s200.style.getPropertyValue(_e336),_n133=t.style.getPropertyValue(_e336);""===_i351&&_s200.style.setProperty(_e336,_n133);}}catch(err){_iterator242.e(err);}finally{_iterator242.f();}var _iterator243=_createForOfIteratorHelper(t.attributes),_step243;try{for(_iterator243.s();!(_step243=_iterator243.n()).done;){var _step243$value=_step243.value,_e337=_step243$value.name,_i352=_step243$value.value;U.includes(_e337)&&!1===_s200.hasAttribute(_e337)&&_s200.setAttribute(_e337,_i352);}}catch(err){_iterator243.e(err);}finally{_iterator243.f();}var _iterator244=_createForOfIteratorHelper(_s200.querySelectorAll("*[id]")),_step244;try{for(_iterator244.s();!(_step244=_iterator244.n()).done;){var _t453=_step244.value;_t453.removeAttribute("id");}}catch(err){_iterator244.e(err);}finally{_iterator244.f();}t.hasAttribute("id")?_s200.setAttribute("id",t.id):_s200.removeAttribute("id"),t.replaceWith(_s200);}else{var _e338=Vt(t);_e338.translateSelf(t.x.baseVal.value,t.y.baseVal.value),t.setAttribute("transform",_e338.toString()),t.removeAttribute("x"),t.removeAttribute("y");}},Uh=function Uh(t){return t=ni(t,'<div xmlns="http://www.w3.org/1999/xhtml"></div>',""),new DOMParser().parseFromString(t,"text/html").querySelector("svg")||null;},Nh=function Nh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";return new Promise(function(i){t.file(/*#__PURE__*/function(){var _ref65=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee69(t){var s;return regeneratorRuntime.wrap(function _callee69$(_context69){while(1){switch(_context69.prev=_context69.next){case 0:if(!("blob"===e)){_context69.next=4;break;}_context69.t0=t;_context69.next=7;break;case 4:_context69.next=6;return Vh(t,e);case 6:_context69.t0=_context69.sent;case 7:s=_context69.t0;i(s);case 9:case"end":return _context69.stop();}}},_callee69);}));return function(_x71){return _ref65.apply(this,arguments);};}());});},Vh=function Vh(t,e){return new Promise(function(i){var _s204,_n134,o=new FileReader();if(o.addEventListener("error",_n134=function n(t){o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),i(null);}),"text"===e){var _e339=Yh(t);"svgz"===_e339?o.readAsArrayBuffer(t):o.readAsText(t),o.addEventListener("load",_s204=function s(t){if(o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),"svgz"===_e339){var _e340=new Uint8Array(t.target.result),_s201=pako.inflate(_e340),_n135="";for(var _t454=0,_e341=_s201.length;_t454<_e341;_t454+=1){_n135+=String.fromCharCode(_s201[_t454]);}i(_n135);}else i(t.target.result);});}else if("arrayBuffer"===e)o.readAsArrayBuffer(t),o.addEventListener("load",_s204=function _s202(t){o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),i(new Uint8Array(t.target.result));});else if("dataURL"===e){var _e342=Yh(t);"svgz"===_e342?o.readAsArrayBuffer(t):o.readAsDataURL(t),o.addEventListener("load",_s204=function _s203(t){if(o.removeEventListener("load",_s204),o.removeEventListener("error",_n134),"svgz"===_e342){var _e343=new Uint8Array(t.target.result),s=pako.inflate(_e343),_n136=new Blob([s],{type:"image/svg+xml"}),_o105=jh(_n136);i(_o105);}else i(t.target.result);});}});},jh=function jh(t){return new Promise(function(e){var i=new FileReader();i.readAsDataURL(t),i.onloadend=function(){var t=i.result;e(t);};});},Hh=function Hh(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Yh=function Yh(t){return t.name&&t.name.includes(".")?t.name.substring(t.name.lastIndexOf(".")+1).toLowerCase():"";},Wh=function Wh(t){return t.name.substring(0,t.name.lastIndexOf("."));},qh=function qh(e){var i="",s=t?1e3:1024;if(e<s)i=e+" bytes";else if(e<s*s){var _n137=t?" KB":" KiB";i=K(e/s,0)+_n137;}else if(e<s*s*s){var _n138=t?" MB":" MiB";i=K(e/(s*s),2)+_n138;}else{var _n139=t?" GB":" GiB";i=K(e/(s*s*s),2)+_n139;}return i;},Xh=function Xh(t){var e,i,s,n,o=t.getContext("2d"),l=o.canvas.width,a=o.canvas.height;if(!l&&!a)return null;var h=o.getImageData(0,0,l,a),r=new Uint32Array(h.data.buffer),d=0,c=l*a-1,p=!1;for(var _t455=0;_t455<a&&!p;_t455+=1){for(var _i353=0;_i353<l;_i353+=1){if(r[d++]&&!e&&(e=_t455+1,n)){p=!0;break;}if(r[c--]&&!n&&(n=a-_t455-1,e)){p=!0;break;}}if(_t455>a-_t455&&!e&&!n)return null;}e-=1,p=!1;for(var _t456=0;_t456<l&&!p;_t456+=1){d=e*l+_t456,c=e*l+(l-_t456-1);for(var _o106=e;_o106<=n;_o106+=1){if(r[d]&&!i&&(i=_t456+1,s)){p=!0;break;}if(r[c]&&!s&&(s=l-_t456-1,i)){p=!0;break;}d+=l,c+=l;}}return i-=1,l===s-i+1&&a===n-e+1?null:(l=s-i+1,a=n-e+1,o.canvas.width=l,o.canvas.height=a,o.putImageData(h,-i,-e),new DOMRect(i,e,l,a));},Zh=function Zh(t){return new Promise(function(e){var i=new Image();i.onload=function(){e({width:i.naturalWidth,height:i.naturalHeight});},i.src=t;});},Kh=function Kh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"base64";return new Promise(/*#__PURE__*/function(){var _ref66=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee70(i,s){var n,o,l;return regeneratorRuntime.wrap(function _callee70$(_context70){while(1){switch(_context70.prev=_context70.next){case 0:_context70.next=2;return fetch(t);case 2:n=_context70.sent;_context70.next=5;return n.blob();case 5:o=_context70.sent;l=new FileReader();"base64"===e?l.readAsDataURL(o):"buffer"===e&&l.readAsArrayBuffer(o),l.addEventListener("loadend",function(){i(l.result);},{once:!0}),l.addEventListener("error",function(){s();},{once:!0});case 8:case"end":return _context70.stop();}}},_callee70);}));return function(_x72,_x73){return _ref66.apply(this,arguments);};}());},Qh=function Qh(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:96;var i=Math.round(e/2.54*100),s=i;var n,o;o=function o(t){t.version="1.1.1";var e=function(){for(var t=0,e=new Array(256),i=0;256!=i;++i){t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=1&(t=i)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1)?-306674912^t>>>1:t>>>1,e[i]=t;}return"undefined"!=typeof Int32Array?new Int32Array(e):e;}();t.table=e,t.bstr=function(t,i){for(var s=-1^i,n=t.length-1,o=0;o<n;){s=(s=s>>>8^e[255&(s^t.charCodeAt(o++))])>>>8^e[255&(s^t.charCodeAt(o++))];}return o===n&&(s=s>>>8^e[255&(s^t.charCodeAt(o))]),-1^s;},t.buf=function(t,i){if(t.length>1e4)return function(t,i){for(var s=-1^i,n=t.length-7,o=0;o<n;){s=(s=(s=(s=(s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+7;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;}(t,i);for(var s=-1^i,n=t.length-3,o=0;o<n;){s=(s=(s=(s=s>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])])>>>8^e[255&(s^t[o++])];}for(;o<n+3;){s=s>>>8^e[255&(s^t[o++])];}return-1^s;},t.str=function(t,i){for(var s,n,o=-1^i,l=0,a=t.length;l<a;){(s=t.charCodeAt(l++))<128?o=o>>>8^e[255&(o^s)]:s<2048?o=(o=o>>>8^e[255&(o^(192|s>>6&31))])>>>8^e[255&(o^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),n=1023&t.charCodeAt(l++),o=(o=(o=(o=o>>>8^e[255&(o^(240|s>>8&7))])>>>8^e[255&(o^(128|s>>2&63))])>>>8^e[255&(o^(128|n>>6&15|(3&s)<<4))])>>>8^e[255&(o^(128|63&n))]):o=(o=(o=o>>>8^e[255&(o^(224|s>>12&15))])>>>8^e[255&(o^(128|s>>6&63))])>>>8^e[255&(o^(128|63&s))];}return-1^o;};},"undefined"==typeof DO_NOT_EXPORT_CRC?"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))?o(exports):"function"==typeof define&&define.amd?define(function(){var t={};return o(t),t;}):o(n={}):o(n={});var l=new Uint8Array(4),a=new Int32Array(l.buffer),h=new Uint32Array(l.buffer);if(137!==t[0]||80!==t[1]||78!==t[2]||71!==t[3]||13!==t[4]||10!==t[5]||26!==t[6]||10!==t[7])throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var r=8;r<t.length;){l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var d=h[0]+4,c=new Uint8Array(d);c[0]=t[r++],c[1]=t[r++],c[2]=t[r++],c[3]=t[r++];for(var p=String.fromCharCode(c[0])+String.fromCharCode(c[1])+String.fromCharCode(c[2])+String.fromCharCode(c[3]),u=r,x=4;x<d;x++){c[x]=t[r++];}var b=r;l[3]=t[r++],l[2]=t[r++],l[1]=t[r++],l[0]=t[r++];var m=a[0];if(n.buf(c)!==m)throw new Error("CRC values for "+p+" header do not match, PNG file is likely corrupted");if("IDAT"==p){u-=8;var g=t.length,f=new Uint8Array(g+21);for(x=0;x<u;x++){f[x]=t[x];}for(x=u;x<g;x++){f[x+21]=t[x];}var w=new Uint8Array(13);x=0;a[0]=9,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],w[x++]=f[u++]="p".charCodeAt(0),w[x++]=f[u++]="H".charCodeAt(0),w[x++]=f[u++]="Y".charCodeAt(0),w[x++]=f[u++]="s".charCodeAt(0),h[0]=i,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],h[0]=s,w[x++]=f[u++]=l[3],w[x++]=f[u++]=l[2],w[x++]=f[u++]=l[1],w[x++]=f[u++]=l[0],w[x++]=f[u++]=1;var v=n.buf(w);return a[0]=v,f[u++]=l[3],f[u++]=l[2],f[u++]=l[1],f[u++]=l[0],f;}if("pHYs"==p){x=0;(w=new Uint8Array(13))[x++]="p".charCodeAt(0),w[x++]="H".charCodeAt(0),w[x++]="Y".charCodeAt(0),w[x++]="s".charCodeAt(0),h[0]=i,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],h[0]=s,w[x++]=t[u++]=l[3],w[x++]=t[u++]=l[2],w[x++]=t[u++]=l[1],w[x++]=t[u++]=l[0],w[x++]=t[u++]=1;v=n.buf(w);return a[0]=v,t[b++]=l[3],t[b++]=l[2],t[b++]=l[1],t[b++]=l[0],t;}}throw new Error(".png file ended prematurely: no IEND or pHYs header was found");};window.addEventListener("load",function(){paper.setup(document.createElement("canvas"));});var Jh=function Jh(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return sr(t,e,"unite",i);},tr=function tr(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return sr(t,e,"subtract",i);},er=function er(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return sr(t,e,"intersect",i);},ir=function ir(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3;return sr(t,e,"exclude",i);},sr=function sr(t,e,i,s){var n=Dt(it(t)),o=Dt(it(e)),l=n[i](o),a=[];if(l){var _t457=l.exportSVG().getAttribute("d");a=st(_t457),a=nt(a);var _iterator245=_createForOfIteratorHelper(a),_step245;try{for(_iterator245.s();!(_step245=_iterator245.n()).done;){var _t458=_step245.value;_t458.values=_t458.values.map(function(t){return K(t,s);});}}catch(err){_iterator245.e(err);}finally{_iterator245.f();}}return a;},nr=Math.atan2,or=Math.cos,lr=Math.sin,ar=Math.PI,hr={pal:[{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}],colorsampling:0,qtres:0,ltres:10,pathomit:1,strokewidth:0,roundcoords:10};var rr=/*#__PURE__*/function(_HTMLElement47){_inherits(rr,_HTMLElement47);var _super49=_createSuper(rr);_createClass(rr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function rr(){_classCallCheck(this,rr);return _super49.call(this);}_createClass(rr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this159=this;this.Pn.workspaces.addEventListener("wheel",this.oo=function(t){_this159.lo(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this159.kn(t);}),this.Pn.style.cursor="url(images/cursors/blank.svg) 0 0, crosshair";}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("wheel",this.oo),this.Pn.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"lo",value:function lo(t){if(this.Qs.modKeys.shift){t.stopImmediatePropagation();var _e344=Q(t.wheelDelta,-2,2,1),_i354=this.Qs.getConfig("bx-blobsettings:size",30);_i354=Q(_i354+_e344,1,1e4),this.Qs.setConfig("bx-blobsettings:size",_i354);}else if(this.Qs.modKeys.alt){t.stopImmediatePropagation();var _e345=Q(t.wheelDelta,-2,2,1),_i355=this.Qs.getConfig("bx-blobsettings:roundness",100);_i355=Q(_i355+_e345,1,100),this.Qs.setConfig("bx-blobsettings:roundness",_i355);}else if(this.Qs.modKeys.meta){t.stopImmediatePropagation();var _e346=Q(t.wheelDelta,-2,2,1),_i356=this.Qs.getConfig("bx-blobsettings:angle",0);_i356=Be(_i356+_e346),this.Qs.setConfig("bx-blobsettings:angle",_i356);}}},{key:"kn",value:function kn(t){var _this160=this;if(0!==t.button)return;var e,i,s=this.Pn,_ref67=(s.currentContainer||s.currentWorkspace,s),n=_ref67.geometryPrecision,o=_ref67.transformPrecision,l=Ht(s.vectorCanvas).inverse(),a=s.pixelCanvas.getContext("2d"),h=this.Qs.getConfig("bx-blobsettings:mode","draw"),r=this.Qs.getConfig("bx-blobsettings:dynamics",ah),d=this.Qs.getConfig("bx-blobsettings:style",hh),c=this.Qs.getConfig("bx-blobsettings:size",30)*s.scale,p=this.Qs.getConfig("bx-blobsettings:roundness",100),u=this.Qs.getConfig("bx-blobsettings:angle",0),x=c,b=c,m=p,g=u,f=new DOMPoint(t.clientX,t.clientY),w=t.clientX,v=t.clientY,y=w,k=v;s.showPixelCanvas(),a.fillStyle="red",this.Qs.modKeys.ctrl&&(h="draw"===h?"erase":"draw"),window.addEventListener("pointermove",e=function e(t){var _iterator246=_createForOfIteratorHelper(t.getCoalescedEvents()),_step246;try{for(_iterator246.s();!(_step246=_iterator246.n()).done;){var _e347=_step246.value;if(r.size){var _t460=K(c-c*r.size.variance,0),_i358=K(c+c*r.size.variance,0);"random"===r.size.param?b=hl(_t460,_i358):"pressure"===r.size.param&&(b=_t460+_e347.pressure*(_i358-_t460));}if(r.roundness){var _t461=K(p-p*r.roundness.variance,0),_i359=K(p+p*r.roundness.variance,0);"random"===r.roundness.param?m=hl(_t461,_i359):"pressure"===r.roundness.param&&(m=_t461+_e347.pressure*(_i359-_t461));}if(r.angle){var _t462=K(u-u*r.angle.variance,0),_i360=K(u+u*r.angle.variance,0);"random"===r.angle.param?g=hl(_t462,_i360):"pressure"===r.angle.param&&(g=_t462+_e347.pressure*(_i360-_t462));}var _t459=new DOMPoint(_e347.clientX,_e347.clientY),_i357=ze(f,_t459),_s205=nr(_t459.x-f.x,_t459.y-f.y);for(var _t463=0;_t463<_i357;_t463+=1){var _e348=f.x+lr(_s205)*_t463,_i361=f.y+or(_s205)*_t463;_e348<w?w=_e348:_e348>y&&(y=_e348),_i361<v?v=_i361:_i361>k&&(k=_i361);var _n140=b/2,_o107=_n140*(m/100);a.beginPath(),a.ellipse(_e348,_i361,_n140,_o107,g*ar/180,0,2*ar),a.closePath(),a.fill();}f=_t459;}}catch(err){_iterator246.e(err);}finally{_iterator246.f();}}),window.addEventListener("pointerup",i=/*#__PURE__*/function(){var _ref68=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee71(t){var o,r,c,p,u,b,m,g,f,S,_,_iterator247,_step247,_t470,_t464,_e349,_i362,_i363,_o108,_l101,_a74,_t465,_t466,_e350,_i364,_iterator248,_step248,_loop4;return regeneratorRuntime.wrap(function _callee71$(_context72){while(1){switch(_context72.prev=_context72.next){case 0:window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",i);o=new DOMRect(w-x,v-x,y-w+2*x,k-v+2*x),r=Ne(o,l),c=a.getImageData(o.x,o.y,o.width,o.height),p=ImageTracer.imagedataToSVG(c,hr),u=Dh(p),b=r.x,m=r.y,g=r.width/o.width,f=r.height/o.height,S=new DOMMatrix();S.translateSelf(b,m),S.scaleSelf(g,f);_=null;_iterator247=_createForOfIteratorHelper(u.querySelectorAll(":scope > path"));_context72.prev=5;_iterator247.s();case 7:if((_step247=_iterator247.n()).done){_context72.next=14;break;}_t470=_step247.value;if(!("0"!==_t470.getAttribute("opacity"))){_context72.next=12;break;}_=_t470;return _context72.abrupt("break",14);case 12:_context72.next=7;break;case 14:_context72.next=19;break;case 16:_context72.prev=16;_context72.t0=_context72["catch"](5);_iterator247.e(_context72.t0);case 19:_context72.prev=19;_iterator247.f();return _context72.finish(19);case 22:if(!_){_context72.next=47;break;}if(!("draw"===h)){_context72.next=28;break;}_t464=null,_e349=s.selectedElements[s.selectedElements.length-1],_i362=["path","rect","circle","ellipse","line","polyline","polygon"];if(s.undoManager.checkpoint("Blob"),_e349&&_i362.includes(_e349.localName)){"path"===_e349.localName?(_e349.hasAttribute("data-bx-shape")&&_e349.removeAttribute("data-bx-shape"),_t464=_e349):"rect"===_e349.localName?(_t464=ph(_e349,s.geometryPrecision),_e349.replaceWith(_t464)):"circle"===_e349.localName?(_t464=uh(_e349,s.geometryPrecision),_e349.replaceWith(_t464)):"ellipse"===_e349.localName?(_t464=xh(_e349,s.geometryPrecision),_e349.replaceWith(_t464)):"line"===_e349.localName?(_t464=bh(_e349,s.geometryPrecision),_e349.replaceWith(_t464)):"polyline"===_e349.localName?(_t464=mh(_e349,s.geometryPrecision),_e349.replaceWith(_t464)):"polygon"===_e349.localName&&(_t464=gh(_e349,s.geometryPrecision),_e349.replaceWith(_t464));_i363=jt(s.vectorCanvas,_t464),_o108=_t464.getPathData(),_l101=_.getPathData({normalize:!0});_l101=ft(_l101),_l101=se(_l101,_i363.multiply(S));_a74=Jh(_o108,_l101,n);_t464.setPathData(_a74),s.selectedElements=[_t464];}else{if(s.currentContainer){S=jt(s.vectorCanvas,s.currentContainer).multiply(S);}_t465=_.getPathData({normalize:!0});_t465=ft(_t465),_t465=se(_t465,S,n),_.setPathData(_t465),ol(_,d),(s.currentContainer||s.currentWorkspace).append(_),s.selectedElements=[_];}_context72.next=47;break;case 28:if(!("erase"===h)){_context72.next=47;break;}_t466=_toConsumableArray(s.selectedElements),_e350=!1,_i364=function _i364(){!1===_e350&&(_e350=!0,s.undoManager.checkpoint("Blob"));};_iterator248=_createForOfIteratorHelper(_this160.ao());_context72.prev=31;_loop4=/*#__PURE__*/regeneratorRuntime.mark(function _loop4(){var e,_o109,_l102,_a75,_l103,_h64,_t467,_o110,_l104,_a76,_h65,_t468,_i365,_n141,_s206,_l105,_r44,_d28,_c23,_p22,_t469,_i366;return regeneratorRuntime.wrap(function _loop4$(_context71){while(1){switch(_context71.prev=_context71.next){case 0:e=_step248.value;if(!("path"===e.localName||"rect"===e.localName||"circle"===e.localName||"ellipse"===e.localName||"line"===e.localName||"polyline"===e.localName||"polygon"===e.localName)){_context71.next=6;break;}_o109=e.getPathData({normalize:!0});if(_o109.length>0){_l102=jt(s.vectorCanvas,e),_a75=_.getPathData({normalize:!0});if(_a75=ft(_a75),_a75=se(_a75,_l102.multiply(S)),er(_o109,_a75,n).length>0){_i364();_l103=null;"path"===e.localName?(e.hasAttribute("data-bx-shape")&&e.removeAttribute("data-bx-shape"),_l103=e):"rect"===e.localName?(_l103=ph(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"circle"===e.localName?(_l103=uh(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"ellipse"===e.localName?(_l103=xh(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"line"===e.localName?(_l103=bh(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"polyline"===e.localName?(_l103=mh(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;})):"polygon"===e.localName&&(_l103=gh(e,s.geometryPrecision),e.replaceWith(_l103),_t466=_t466.map(function(t){return t===e?_l103:t;}));_h64=tr(_o109,_a75,n);0===_h64.length?(_l103.remove(),_t466=_t466.filter(function(t){return t!==_l103;})):_l103.setPathData(_h64);}}_context71.next=28;break;case 6:if(!("image"===e.localName)){_context71.next=28;break;}_t467=document.createElement("canvas"),_o110=_t467.getContext("2d"),_l104=new Image();_l104.setAttribute("src",e.getAttribute("href"));_context71.next=11;return new Promise(function(t){return _l104.onload=t;});case 11:_a76=_l104.naturalWidth/e.width.baseVal.value,_h65=_l104.naturalHeight/e.height.baseVal.value;_t467.width=_l104.naturalWidth,_t467.height=_l104.naturalHeight,_o110.imageSmoothingEnabled=!1,_o110.drawImage(_l104,0,0,_l104.naturalWidth,_l104.naturalHeight);_t468=new DOMMatrix();_t468=_t468.scale(_a76,_h65),_t468=_t468.translate(-e.x.baseVal.value,-e.y.baseVal.value),_t468=_t468.multiply(jt(s.vectorCanvas,e)),_t468=_t468.multiply(S);_i365=_.getPathData({normalize:!0});_i365=ft(_i365),_i365=se(_i365,_t468);_n141=new Path2D(it(_i365));_o110.globalCompositeOperation="destination-out",_o110.imageSmoothingEnabled=!1,_o110.fillStyle="black",_o110.fill(_n141);_s206=Xh(_t467);_l105=_o110.getImageData(0,0,_t467.width,_t467.height);_r44=UPNG.encode([_l105.data.buffer],_l105.width,_l105.height,0);_d28=new Uint8Array(_r44);_c23=new Blob([_d28],{type:"image/png"});_context71.next=26;return jh(_c23);case 26:_p22=_context71.sent;if(_p22!==e.getAttribute("href")&&(_i364(),e.setAttribute("href",_p22),e.setAttribute("width",_t467.width/_a76),e.setAttribute("height",_t467.height/_h65),_s206)){_t469=e.x.baseVal.value+_s206.x/_a76,_i366=e.y.baseVal.value+_s206.y/_h65;e.setAttribute("x",K(_t469,n)),e.setAttribute("y",K(_i366,n));}case 28:case"end":return _context71.stop();}}},_loop4);});_iterator248.s();case 34:if((_step248=_iterator248.n()).done){_context72.next=38;break;}return _context72.delegateYield(_loop4(),"t1",36);case 36:_context72.next=34;break;case 38:_context72.next=43;break;case 40:_context72.prev=40;_context72.t2=_context72["catch"](31);_iterator248.e(_context72.t2);case 43:_context72.prev=43;_iterator248.f();return _context72.finish(43);case 46:s.selectedElements=_t466;case 47:s.hidePixelCanvas();case 48:case"end":return _context72.stop();}}},_callee71,null,[[5,16,19,22],[31,40,43,46]]);}));return function i(_x74){return _ref68.apply(this,arguments);};}());}},{key:"ao",value:function ao(){var t=["circle","ellipse","line","path","polygon","polyline","rect","image"],e=[],i=function i(s){var _iterator249=_createForOfIteratorHelper(s),_step249;try{for(_iterator249.s();!(_step249=_iterator249.n()).done;){var _n142=_step249.value;t.includes(_n142.localName)?e.push(_n142):"g"!==_n142.localName&&"a"!==_n142.localName||i(_n142.children);}}catch(err){_iterator249.e(err);}finally{_iterator249.f();}};return i(this.Pn.outermostSelectedElements),e;}}]);return rr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rr,"observedAttributes",["enabled"]);customElements.define("bx-blobcontext",rr);var dr={stroke:"#000000","stroke-width":"1px"};var cr=/*#__PURE__*/function(_HTMLElement48){_inherits(cr,_HTMLElement48);var _super50=_createSuper(cr);function cr(){_classCallCheck(this,cr);return _super50.apply(this,arguments);}_createClass(cr,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app"),this.ho=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this161=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this161.kn(t);});}},{key:"sn",value:function sn(){this.Js.board.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"kn",value:function kn(t){var _this162=this;if(!1===this.ho){var _e352,_i368,_s207=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e352=function _e351(n){var o=new DOMPoint(n.clientX,n.clientY);ze(_s207,o)>=3&&(window.removeEventListener("pointermove",_e352),window.removeEventListener("click",_i368),_this162.ro(t,n));}),window.addEventListener("click",_i368=function _i367(t){window.removeEventListener("pointermove",_e352),window.removeEventListener("click",_i368),_this162["do"](t);});}}},{key:"do",value:function _do(t){var _this163=this;this.ho=!0;var e,_i369,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",dr);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=Ei("svg:line");n.append(l),ol(l,o);var a=Ht(l).inverse(),h=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(h),d=r.matrixTransform(a),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this163.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("click",_i369=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("click",_i369);var n=c.matrixTransform(a);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this163.ho=!1;});}},{key:"ro",value:function ro(t){var _this164=this;this.ho=!0;var e,_i370,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=this.Qs.getConfig("bx-linesettings:style",dr);s.selectedElements=[],s.undoManager.checkpoint("Draw line"),s.snapManager.snapStart(!1);var l=Ei("svg:line");n.append(l),ol(l,o);var a=Ht(l).inverse(),h=new DOMPoint(t.clientX,t.clientY),r=s.snapManager.snapPoint(h),d=r.matrixTransform(a),c=r;l.setAttribute("x1",d.x),l.setAttribute("y1",d.y),l.setAttribute("x2",d.x),l.setAttribute("y2",d.y),s.selectedElements=[l],s.lineSegHud.startPoint=r,s.lineSegHud.endPoint=r,s.lineSegHud.enabled=!0,window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);c=_this164.Qs.modKeys.shift?s.snapManager.snapPointToAngleMultiple(r,e):s.snapManager.snapPoint(e),s.lineSegHud.endPoint=c;}),window.addEventListener("pointerup",_i370=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i370);var n=c.matrixTransform(a);l.setAttribute("x2",n.x),l.setAttribute("y2",n.y),s.lineSegHud.enabled=!1,s.snapManager.snapEnd(),_this164.ho=!1;});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return cr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cr,"observedAttributes",["enabled"]);customElements.define("bx-linecontext",cr);var pr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var ur=/*#__PURE__*/function(_HTMLElement49){_inherits(ur,_HTMLElement49);var _super51=_createSuper(ur);_createClass(ur,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ur(){var _this165;_classCallCheck(this,ur);_this165=_super51.call(this),_this165.co=null;return _this165;}_createClass(ur,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this166=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this166.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this166.kn(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.polygonSegHud.hide(),this.co=null,t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"vn",value:function vn(t){var e=this.Js.board,i=so.fromEvent(t);this.co&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polygonSegHud.hide(),this.co=null);}},{key:"kn",value:function kn(t){var _this167=this;var e,_i371,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i371=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i371);var o=n<4;_this167.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.co){if(e){i.undoManager.checkpoint("Add polygon");var _e353=t.clientX,_s208=t.clientY,_n143=i.currentContainer||i.currentWorkspace,_o111=this.Qs.getConfig("bx-polygonsettings:style",pr),_l106=Ei("svg:polygon");_n143.append(_l106),ol(_l106,_o111);var _a77=Ht(_l106).inverse(),_h66=[new DOMPoint(_e353,_s208).matrixTransform(_a77)];this.po(_l106,_h66),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l106]),this.co=_l106,i.polygonSegHud.show(_l106);}}else if(this.co)if(this.Qs.pointerClickCount>=2)i.polygonSegHud.hide(),this.co=null;else{var _t471=_toConsumableArray(this.co.points);_t471.length>1&&i.undoManager.checkpoint("Add polygon segment");var _e354=jt(i.vectorCanvas,this.co),_s209=i.polygonSegHud.endPoint.matrixTransform(_e354);_t471.push(_s209),this.po(this.co,_t471);}}},{key:"po",value:function po(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator250=_createForOfIteratorHelper(e),_step250;try{for(_iterator250.s();!(_step250=_iterator250.n()).done;){var _t472=_step250.value;var _e355=K(_t472.x,s),_n144=K(_t472.y,s);i.push(_e355,_n144);}}catch(err){_iterator250.e(err);}finally{_iterator250.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return ur;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ur,"observedAttributes",["enabled"]);customElements.define("bx-polygoncontext",ur);var xr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var br=/*#__PURE__*/function(_HTMLElement50){_inherits(br,_HTMLElement50);var _super52=_createSuper(br);_createClass(br,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function br(){var _this168;_classCallCheck(this,br);_this168=_super52.call(this),_this168.uo=null;return _this168;}_createClass(br,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this169=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this169.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this169.kn(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.polylineSegHud.hide(),this.uo=null,t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"vn",value:function vn(t){var e=this.Js.board,i=so.fromEvent(t);this.uo&&(i.matches("Enter")||i.matches("Escape"))&&(t.stopPropagation(),e.polylineSegHud.hide(),this.uo=null);}},{key:"kn",value:function kn(t){var _this170=this;var e,_i372,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i372=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i372);var o=n<4;_this170.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(null===this.uo){if(e){i.undoManager.checkpoint("Add polyline");var _e356=t.clientX,_s210=t.clientY,_n145=i.currentContainer||i.currentWorkspace,_o112=this.Qs.getConfig("bx-polylinesettings:style",xr),_l107=Ei("svg:polyline");_n145.append(_l107),ol(_l107,_o112);var _a78=Ht(_l107).inverse(),_h67=[new DOMPoint(_e356,_s210).matrixTransform(_a78)];this.xo(_l107,_h67),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l107]),this.uo=_l107,i.polylineSegHud.show(_l107);}}else if(this.uo)if(this.Qs.pointerClickCount>=2)i.polylineSegHud.hide(),this.uo=null;else{var _t473=_toConsumableArray(this.uo.points);_t473.length>1&&i.undoManager.checkpoint("Add polyline segment");var _e357=jt(i.vectorCanvas,this.uo),_s211=i.polylineSegHud.endPoint.matrixTransform(_e357);_t473.push(_s211),this.xo(this.uo,_t473);}}},{key:"xo",value:function xo(t,e){var i=[],s=this.Js.board.geometryPrecision;var _iterator251=_createForOfIteratorHelper(e),_step251;try{for(_iterator251.s();!(_step251=_iterator251.n()).done;){var _t474=_step251.value;var _e358=K(_t474.x,s),_n146=K(_t474.y,s);i.push(_e358,_n146);}}catch(err){_iterator251.e(err);}finally{_iterator251.f();}i.length>0?t.setAttribute("points",i.join(" ")):t.removeAttribute("points");}}]);return br;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(br,"observedAttributes",["enabled"]);customElements.define("bx-polylinecontext",br);var mr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var gr=/*#__PURE__*/function(_HTMLElement51){_inherits(gr,_HTMLElement51);var _super53=_createSuper(gr);_createClass(gr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function gr(){var _this171;_classCallCheck(this,gr);_this171=_super53.call(this),_this171.gn=null,_this171.fn=!1;return _this171;}_createClass(gr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this172=this;var t=this.Js.board;t.style.cursor="crosshair",t.addEventListener("keydown",this.wn=function(t){_this172.vn(t);}),t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this172.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this172._n(t.detail.position,t.detail.path,t.detail.selected);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.gn=null,this.fn=!1,t.pathHud.passive=!1,t.quadBezierSegHud.hide(),t.removeEventListener("keydown",this.wn),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn);}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);this.gn&&(e.matches("Enter")||e.matches("Escape"))&&(t.stopPropagation(),this.gn=null,this.fn=!1,this.Js.board.pathHud.passive=!1,this.Js.board.quadBezierSegHud.hide());}},{key:"kn",value:function kn(t){var _this173=this;var e,_i373,s=new DOMPoint(t.clientX,t.clientY),n=0;window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(s,e).length;i>n&&(n=i);}),window.addEventListener("pointerup",_i373=function i(s){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i373);var o=n<4;_this173.Cn(t,o);});}},{key:"Cn",value:function Cn(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=this.Js.board;if(i.pathHud.deselectAllSegs(),null===this.gn){if(e){i.undoManager.checkpoint("Draw path segment");var _e359=t.clientX,_s212=t.clientY,_n147=i.currentContainer||i.currentWorkspace,_o113=this.Qs.getConfig("bx-quadbeziersettings:style",mr),_l108=Ei("svg:path");_n147.append(_l108),ol(_l108,_o113);var _a79=Ht(_l108).inverse(),_DOMPoint$matrixTrans3=new DOMPoint(_e359,_s212).matrixTransform(_a79),_h68=_DOMPoint$matrixTrans3.x,_r45=_DOMPoint$matrixTrans3.y,_d29=[{type:"M",values:[_h68,_r45]}];for(var _i374=0,_d30=_d29;_i374<_d30.length;_i374++){var _t475=_d30[_i374];_t475.values=_t475.values.map(function(t){return K(t,i.geometryPrecision);});}_l108.setPathData(_d29),i.selectedElements=[].concat(_toConsumableArray(i.selectedElements),[_l108]),this.fn=!1,this.gn=_l108,i.pathHud.passive=!0,i.quadBezierSegHud.show(_l108,"end");}}else if(this.gn)if(!1===this.fn){var _t476=_toConsumableArray(this.gn.getPathData({normalize:!0}));_t476.length>1&&i.undoManager.checkpoint("Draw path segment"),i.quadBezierSegHud.curved?_t476.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_t476.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]});var _iterator252=_createForOfIteratorHelper(_t476),_step252;try{for(_iterator252.s();!(_step252=_iterator252.n()).done;){var _e360=_step252.value;_e360.values=_e360.values.map(function(t){return K(t,i.geometryPrecision);});}}catch(err){_iterator252.e(err);}finally{_iterator252.f();}this.gn.setPathData(_t476);}else{i.undoManager.checkpoint("Draw path segment");var _t477=this.gn.getPathData({normalize:!0}),_e361=[];_e361.push({type:"M",values:[i.quadBezierSegHud.startPoint.x,i.quadBezierSegHud.startPoint.y]}),i.quadBezierSegHud.curved?_e361.push({type:"Q",values:[i.quadBezierSegHud.controlPoint.x,i.quadBezierSegHud.controlPoint.y,i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}):_e361.push({type:"L",values:[i.quadBezierSegHud.endPoint.x,i.quadBezierSegHud.endPoint.y]}),_e361.push.apply(_e361,_toConsumableArray(_t477.slice(1)));for(var _i375=0,_e362=_e361;_i375<_e362.length;_i375++){var _t478=_e362[_i375];_t478.values=_t478.values.map(function(t){return K(t,i.geometryPrecision);});}this.gn.setPathData(_e361);}}},{key:"_n",value:function _n(t,e,i){var s=!1,n=this.Js.board;if(this.gn)if(e===this.gn){if("start"===t||"end"===t){var _e363=this.gn,_i376=_e363.getPathData({normalize:!0}),_o114=_i376[0],_l109=_i376[_i376.length-1];if(!1===this.fn&&"start"===t){n.undoManager.checkpoint("Draw path segment");var _t479=_toConsumableArray(_i376);n.quadBezierSegHud.curved?_t479.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o114.values[0],_o114.values[1]]}):_t479.push({type:"L",values:[_o114.values[0],_o114.values[1]]}),_t479.push({type:"Z",values:[]});var _iterator253=_createForOfIteratorHelper(_t479),_step253;try{for(_iterator253.s();!(_step253=_iterator253.n()).done;){var _e364=_step253.value;_e364.values=_e364.values.map(function(t){return K(t,n.geometryPrecision);});}}catch(err){_iterator253.e(err);}finally{_iterator253.f();}_e363.setPathData(_t479);}else if(this.fn&&"end"===t){n.undoManager.checkpoint("Draw path segment");var _t480=[];_t480.push({type:"M",values:["C"===_l109.type?_l109.values[4]:_l109.values[0],"C"===_l109.type?_l109.values[5]:_l109.values[1]]}),n.quadBezierSegHud.curved?_t480.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_o114.values[0],_o114.values[1]]}):_t480.push({type:"L",values:[_o114.values[0],_o114.values[1]]}),_t480.push.apply(_t480,_toConsumableArray(_i376.slice(1))),_t480.push({type:"Z",values:[]});for(var _i377=0,_t481=_t480;_i377<_t481.length;_i377++){var _e365=_t481[_i377];_e365.values=_e365.values.map(function(t){return K(t,n.geometryPrecision);});}_e363.setPathData(_t480);}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide(),s=!0;}}else if("start"===t||"end"===t){var _i378=e,_o115=this.gn,_l110=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_i378.id),"\"]")),_a80=n.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_o115.id),"\"]")),_h69=_o115.getPathData({normalize:!0});if(_h69.length>1){var _e366;if(n.undoManager.checkpoint("Draw path segment"),(!1===this.fn&&"end"===t||!0===this.fn&&"start"===t)&&ht(_i378),_a80&&_l110?(_e366=jt(_l110.closest("text"),_a80.closest("text")),_e366.multiplySelf(Vt(_o115)),_e366.multiplySelf(Vt(_i378))):_a80&&!_l110?(_e366=jt(_i378,_a80.closest("text")),_e366.multiplySelf(Vt(_o115))):!_a80&&_l110?(_e366=jt(_l110.closest("text"),_o115),_e366.multiplySelf(Vt(_i378))):_e366=jt(_i378,_o115),!1===this.fn){var _t482=_toConsumableArray(_h69),_s213=se(_i378.getPathData({normalize:!0}),_e366),_l111=_s213[0];n.quadBezierSegHud.curved?_t482.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l111.values[0],_l111.values[1]]}):_t482.push({type:"L",values:[_l111.values[0],_l111.values[1]]}),_t482.push.apply(_t482,_toConsumableArray(_s213.slice(1)));var _iterator254=_createForOfIteratorHelper(_t482),_step254;try{for(_iterator254.s();!(_step254=_iterator254.n()).done;){var _e367=_step254.value;_e367.values=_e367.values.map(function(t){return K(t,n.geometryPrecision);});}}catch(err){_iterator254.e(err);}finally{_iterator254.f();}_o115.setPathData(_t482),_i378.setPathData([]),_i378.remove();}else if(!0===this.fn){var _t483=[],_s214=se(_i378.getPathData({normalize:!0}),_e366),_l112=_h69[0];_t483.push.apply(_t483,_toConsumableArray(_s214)),n.quadBezierSegHud.curved?_t483.push({type:"Q",values:[n.quadBezierSegHud.controlPoint.x,n.quadBezierSegHud.controlPoint.y,_l112.values[0],_l112.values[1]]}):_t483.push({type:"L",values:[_l112.values[0],_l112.values[1]]}),_t483.push.apply(_t483,_toConsumableArray(_h69.slice(1)));for(var _i379=0,_t484=_t483;_i379<_t484.length;_i379++){var _e368=_t484[_i379];_e368.values=_e368.values.map(function(t){return K(t,n.geometryPrecision);});}_o115.setPathData(_t483),_i378.setPathData([]),_i378.remove();}n.selectedElements=n.selectedElements.filter(function(t){return t!==_i378;}),s=!0;}this.gn=null,this.fn=!1,n.pathHud.passive=!1,n.quadBezierSegHud.hide();}if(!1===s&&null===this.gn&&!0===i)if("start"===t){var _t485=this.Mn(e);this.gn=e,this.fn=!0,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"start",_t485);}else if("end"===t){var _t486=this.Mn(e);this.gn=e,this.fn=!1,n.pathHud.passive=!0,n.quadBezierSegHud.show(e,"end",_t486);}}},{key:"Mn",value:function Mn(t){var e=this.Js.board.workspaces.querySelectorAll("textPath");if(t.id){var _iterator255=_createForOfIteratorHelper(e),_step255;try{for(_iterator255.s();!(_step255=_iterator255.n()).done;){var _i380=_step255.value;if(_i380.href.baseVal==="#"+t.id)return _i380;}}catch(err){_iterator255.e(err);}finally{_iterator255.f();}}return null;}}]);return gr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gr,"observedAttributes",["enabled"]);customElements.define("bx-quadbeziercontext",gr);var fr={fill:"#d8d8d8",stroke:"#000000","stroke-width":"1px"};var wr=/*#__PURE__*/function(_HTMLElement52){_inherits(wr,_HTMLElement52);var _super54=_createSuper(wr);function wr(){_classCallCheck(this,wr);return _super54.apply(this,arguments);}_createClass(wr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this174=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this174.kn(t);}),t.pathHud.addEventListener("nodeclick",this.Sn=function(t){_this174._n(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;t.pathHud.passive=!1,t.arcSegHud.drawEnd(),t.workspaces.removeEventListener("pointerdown",this.yn),t.pathHud.removeEventListener("nodeclick",this.Sn),this.dispatchEvent(new CustomEvent("_disable"));}},{key:"kn",value:function kn(t){var _this175=this;if(this.ho)return;this.ho=!0;var e,i,s,n,o,l=this.Js.board,a=l.currentContainer||l.currentWorkspace,h=this.Qs.getConfig("bx-arcsettings:style",fr),r=new DOMPoint(t.clientX,t.clientY),d=new DOMPoint(r.x-100,r.y),c=null,p=[];l.pathHud.deselectAllSegs(),l.pathHud.passive=!0,l.arcSegHud.draw(a,r,d);var u=function u(){l.undoManager.checkpoint("Draw arc");var t=p[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref69=_toConsumableArray(l.arcSegHud.values),_e369=_ref69[0],_i381=_ref69[1],_s215=_ref69[2],_n148=_ref69[3],_o116=_ref69[4],_t$values12=_slicedToArray(t.values,2),_a81=_t$values12[0],_h70=_t$values12[1];p.push({type:"A",values:[_e369,_i381,_s215,_n148,_o116,_a81,_h70]},{type:"Z",values:[]});}var _iterator256=_createForOfIteratorHelper(p),_step256;try{for(_iterator256.s();!(_step256=_iterator256.n()).done;){var _t487=_step256.value;_t487.values=_t487.values.map(function(t){return K(t,l.geometryPrecision);});}}catch(err){_iterator256.e(err);}finally{_iterator256.f();}c.setPathData(p);},x=function x(){l.workspaces.removeEventListener("pointerup",e),l.pathHud.removeEventListener("nodepointerdown",i),l.undoManager.removeEventListener("undoorredo",s),l.removeEventListener("keydown",n),_this175.removeEventListener("_disable",o),l.pathHud.passive=!1,l.arcSegHud.drawEnd(),_this175.ho=!1;};l.workspaces.addEventListener("pointerup",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(!(ze(r,e)<4))if(null===c){l.undoManager.checkpoint("Draw arc"),c=Ei("svg:path"),a.append(c),ol(c,h);var _t488=Ht(c),_i382=_t488.inverse(),_s216=r.matrixTransform(_i382);p.push({type:"M",values:[_s216.x,_s216.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator257=_createForOfIteratorHelper(p),_step257;try{for(_iterator257.s();!(_step257=_iterator257.n()).done;){var _t489=_step257.value;_t489.values=_t489.values.map(function(t){return K(t,l.geometryPrecision);});}}catch(err){_iterator257.e(err);}finally{_iterator257.f();}c.setPathData(p),l.selectedElements=[].concat(_toConsumableArray(l.selectedElements),[c]);{var _i383=nt(p),_s217=_i383[_i383.length-1],_n149=_i383[_i383.length-2],_o117=_this175.bo(_n149,_s217).matrixTransform(_t488);l.arcSegHud.draw(c,e,_o117);}}else{l.undoManager.checkpoint("Draw arc");var _t490=Ht(c),_e370=new DOMPoint(l.arcSegHud.values[5],l.arcSegHud.values[6]).matrixTransform(_t490);0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1]?p.push({type:"L",values:[l.arcSegHud.values[5],l.arcSegHud.values[6]]}):p.push({type:"A",values:_toConsumableArray(l.arcSegHud.values)});var _iterator258=_createForOfIteratorHelper(p),_step258;try{for(_iterator258.s();!(_step258=_iterator258.n()).done;){var _t491=_step258.value;_t491.values=_t491.values.map(function(t){return K(t,l.geometryPrecision);});}}catch(err){_iterator258.e(err);}finally{_iterator258.f();}c.setPathData(p);{var _i384=nt(p),_s218=_i384[_i384.length-1],_n150=_i384[_i384.length-2],_o118=_this175.bo(_n150,_s218).matrixTransform(_t490);l.arcSegHud.draw(c,_e370,_o118);}}}),l.pathHud.addEventListener("nodepointerdown",i=/*#__PURE__*/function(){var _ref70=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee72(t){var e,_t492,_i385,_s219,_e371,_n151,_ref71,_e372,_i386,_s220,_o119,_a82,_t492$0$values,_h71,_r46,_i387,_n152,_t493,_p23,_ref73,_t494,_i388,_s221,_n153,_o120,_e373,_s222,_t495,_h72,_ref72,_t496,_e374,_i389,_s223,_n154,_h72$values,_o121,_a83,_iterator259,_step259,_t497;return regeneratorRuntime.wrap(function _callee72$(_context73){while(1){switch(_context73.prev=_context73.next){case 0:t.preventDefault();e=t.detail;if(!(e.path===c)){_context73.next=6;break;}"start"===e.position?(u(),x()):"end"===e.position&&x();_context73.next=32;break;case 6:if(!(null===c)){_context73.next=20;break;}l.undoManager.checkpoint("Draw arc"),c=e.path,p=c.getPathData({normalize:!0});_t492=at(p)[e.subpathIndex];_context73.next=11;return ts(100);case 11:_i385=Ht(c).inverse(),_s219=r.matrixTransform(_i385);if("end"===e.position){_e371=rt(_t492);_t492.length=0,_t492.push.apply(_t492,_toConsumableArray(_e371));}_n151=[];if(_n151.push({type:"M",values:[_s219.x,_s219.y]}),0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])_n151.push({type:"L",values:[_t492[0].values[0],_t492[0].values[1]]});else{_ref71=_toConsumableArray(l.arcSegHud.values),_e372=_ref71[0],_i386=_ref71[1],_s220=_ref71[2],_o119=_ref71[3],_a82=_ref71[4],_t492$0$values=_slicedToArray(_t492[0].values,2),_h71=_t492$0$values[0],_r46=_t492$0$values[1];_n151.push({type:"A",values:[_e372,_i386,_s220,_o119,_a82,_h71,_r46]});}_n151.push.apply(_n151,_toConsumableArray(_t492.slice(1)));for(_i387=0,_n152=_n151;_i387<_n152.length;_i387++){_t493=_n152[_i387];_t493.values=_t493.values.map(function(t){return K(t,l.geometryPrecision);});}c.setPathData(_n151),x();_context73.next=32;break;case 20:_t494=e.path,_i388=l.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t494.id),"\"]")),_s221=_t494.getPathData({normalize:!0}),_n153=at(_s221),_o120=_n153[e.subpathIndex];l.undoManager.checkpoint("Draw arc");_i388?(_e373=jt(_i388.closest("text"),c||a),_e373.multiplySelf(Vt(_t494))):_e373=jt(_t494,c||a);_s222=se(_o120,_e373);_o120.length=0,_o120.push.apply(_o120,_toConsumableArray(_s222));if("end"===e.position){_t495=rt(_o120);_o120.length=0,_o120.push.apply(_o120,_toConsumableArray(_t495));}_h72=_o120[0];if(0===l.arcSegHud.values[0]&&0===l.arcSegHud.values[1])p.push({type:"L",values:[_h72.values[0],_h72.values[1]]});else{_ref72=_toConsumableArray(l.arcSegHud.values),_t496=_ref72[0],_e374=_ref72[1],_i389=_ref72[2],_s223=_ref72[3],_n154=_ref72[4],_h72$values=_slicedToArray(_h72.values,2),_o121=_h72$values[0],_a83=_h72$values[1];p.push({type:"A",values:[_t496,_e374,_i389,_s223,_n154,_o121,_a83]});}(_p23=p).push.apply(_p23,_toConsumableArray(_o120.slice(1)));_iterator259=_createForOfIteratorHelper(p);try{for(_iterator259.s();!(_step259=_iterator259.n()).done;){_t497=_step259.value;_t497.values=_t497.values.map(function(t){return K(t,l.geometryPrecision);});}}catch(err){_iterator259.e(err);}finally{_iterator259.f();}c.setPathData(p),_o120.length=0,_s221=(_ref73=[]).concat.apply(_ref73,_toConsumableArray(_n153)),0===_s221.length?(_t494.remove(),l.selectedElements=l.selectedElements.filter(function(e){return e!==_t494;})):_t494.setPathData(_s221),x();case 32:case"end":return _context73.stop();}}},_callee72);}));return function i(_x75){return _ref70.apply(this,arguments);};}()),l.undoManager.addEventListener("undoorredo",s=function s(){if(null===c||!1===c.isConnected)x();else{p=c.getPathData({normalize:!0});var _t498,_e375=Ht(c),_i390=p[p.length-1];_t498="C"===_i390.type?new DOMPoint(_i390.values[4],_i390.values[5]):new DOMPoint(_i390.values[0],_i390.values[1]);var _s224=_t498.matrixTransform(_e375);{var _t499=nt(p),_i391=_t499[_t499.length-1],_n155=_t499[_t499.length-2],_o122=_this175.bo(_n155,_i391).matrixTransform(_e375);l.arcSegHud.draw(c,_s224,_o122);}}}),l.addEventListener("keydown",n=function n(t){var e=so.fromEvent(t);e.matches("Enter","Shift")?(p.length>0&&u(),x()):(e.matches("Enter")||e.matches("Escape"))&&x();}),this.addEventListener("_disable",o=function o(){x();});}},{key:"_n",value:function _n(t){var _this176=this;var e=t.detail;if(this.ho||"mid"===e.position)return;this.ho=!0;var i,s,n,o,l,a=this.Js.board,h=(this.Qs.getConfig("bx-arcsettings:style",fr),e.path),r=h.getPathData({normalize:!0}),d=at(r),c=d[e.subpathIndex],p=!1,u=!1,x=Ht(h);if(a.pathHud.deselectAllSegs(),a.pathHud.passive=!0,"start"===e.position){var _c24;var _t500=rt(c);c.length=0,(_c24=c).push.apply(_c24,_toConsumableArray(_t500)),p=!0;}{var _t501=c[c.length-1],_e376=c[c.length-2],_i392=new DOMPoint("C"===_t501.type?_t501.values[4]:_t501.values[0],"C"===_t501.type?_t501.values[5]:_t501.values[1]);ts(100).then(function(){x=Ht(h);var s=_i392.matrixTransform(x),n=_this176.bo(_e376,_t501).matrixTransform(x);a.arcSegHud.draw(h,s,n);});}var b=function b(){a.workspaces.removeEventListener("pointerup",i),a.pathHud.removeEventListener("nodepointerdown",s),a.undoManager.removeEventListener("undoorredo",n),a.removeEventListener("keydown",o),_this176.removeEventListener("_disable",l),a.pathHud.passive=!1,a.arcSegHud.drawEnd(),_this176.ho=!1;};a.workspaces.addEventListener("pointerup",i=function i(t){var _ref74;a.undoManager.checkpoint("Draw arc"),0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1]?c.push({type:"L",values:[a.arcSegHud.values[5],a.arcSegHud.values[6]]}):c.push({type:"A",values:_toConsumableArray(a.arcSegHud.values)});var _iterator260=_createForOfIteratorHelper(c),_step260;try{for(_iterator260.s();!(_step260=_iterator260.n()).done;){var _t503=_step260.value;_t503.values=_t503.values.map(function(t){return K(t,a.geometryPrecision);});}}catch(err){_iterator260.e(err);}finally{_iterator260.f();}r=(_ref74=[]).concat.apply(_ref74,_toConsumableArray(d)),h.setPathData(r),u=!0;{var _t502=nt(c),_e377=_t502[_t502.length-1],_i393=_t502[_t502.length-2],_s225=new DOMPoint("C"===_e377.type?_e377.values[4]:_e377.values[0],"C"===_e377.type?_e377.values[5]:_e377.values[1]).matrixTransform(x),_n156=_this176.bo(_i393,_e377).matrixTransform(x);a.arcSegHud.draw(h,_s225,_n156);}}),a.pathHud.addEventListener("nodepointerdown",s=function s(t){t.preventDefault();var i=t.detail;if(e.path===i.path){if(e.subpathIndex===i.subpathIndex){if(!1===p&&e.position===i.position||!0===p&&!0===u&&e.position!==i.position||!0===p&&!1===u&&e.position===i.position)b();else{var _ref76;a.undoManager.checkpoint("Draw arc");var _t504=c[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[_t504.values[0],_t504.values[1]]},{type:"Z",values:[]});else{var _ref75=_toConsumableArray(a.arcSegHud.values),_e378=_ref75[0],_i394=_ref75[1],_s226=_ref75[2],_n157=_ref75[3],_o123=_ref75[4],_t504$values=_slicedToArray(_t504.values,2),_l113=_t504$values[0],_h73=_t504$values[1];c.push({type:"A",values:[_e378,_i394,_s226,_n157,_o123,_l113,_h73]},{type:"Z",values:[]});}var _iterator261=_createForOfIteratorHelper(r),_step261;try{for(_iterator261.s();!(_step261=_iterator261.n()).done;){var _t505=_step261.value;_t505.values=_t505.values.map(function(t){return K(t,a.geometryPrecision);});}}catch(err){_iterator261.e(err);}finally{_iterator261.f();}r=(_ref76=[]).concat.apply(_ref76,_toConsumableArray(d)),h.setPathData(r),b();}}else{var _c25,_ref78;a.undoManager.checkpoint("Draw arc");var _t506=d[i.subpathIndex];if("end"===i.position){var _e379=rt(_t506);_t506.length=0,_t506.push.apply(_t506,_toConsumableArray(_e379));}{var _e380=_t506[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[_e380.values[0],_e380.values[1]]});else{var _ref77=_toConsumableArray(a.arcSegHud.values),_t507=_ref77[0],_i395=_ref77[1],_s227=_ref77[2],_n158=_ref77[3],_o124=_ref77[4],_e380$values=_slicedToArray(_e380.values,2),_l114=_e380$values[0],_h74=_e380$values[1];c.push({type:"A",values:[_t507,_i395,_s227,_n158,_o124,_l114,_h74]});}var _iterator262=_createForOfIteratorHelper(c),_step262;try{for(_iterator262.s();!(_step262=_iterator262.n()).done;){var _t508=_step262.value;_t508.values=_t508.values.map(function(t){return K(t,a.geometryPrecision);});}}catch(err){_iterator262.e(err);}finally{_iterator262.f();}}(_c25=c).push.apply(_c25,_toConsumableArray(_t506.slice(1))),_t506.length=0,r=(_ref78=[]).concat.apply(_ref78,_toConsumableArray(d)),h.setPathData(r),b();}}else{var _c26,_ref80,_ref81;var _t509=i.path,_e381=a.workspaces.querySelector("textPath[href=\"#".concat(CSS.escape(_t509.id),"\"]")),_s228=_t509.getPathData({normalize:!0}),_n159=at(_s228),_o125=_n159[i.subpathIndex];a.undoManager.checkpoint("Draw arc");{var _i396;_e381?(_i396=jt(_e381.closest("text"),h),_i396.multiplySelf(Vt(_t509))):_i396=jt(_t509,h);var _s229=se(_o125,_i396);_o125.length=0,_o125.push.apply(_o125,_toConsumableArray(_s229));}if("end"===i.position){var _t510=rt(_o125);_o125.length=0,_o125.push.apply(_o125,_toConsumableArray(_t510));}var _l115=_o125[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[_l115.values[0],_l115.values[1]]});else{var _ref79=_toConsumableArray(a.arcSegHud.values),_t511=_ref79[0],_e382=_ref79[1],_i397=_ref79[2],_s230=_ref79[3],_n160=_ref79[4],_l115$values=_slicedToArray(_l115.values,2),_o126=_l115$values[0],_h75=_l115$values[1];c.push({type:"A",values:[_t511,_e382,_i397,_s230,_n160,_o126,_h75]});}(_c26=c).push.apply(_c26,_toConsumableArray(_o125.slice(1)));var _iterator263=_createForOfIteratorHelper(c),_step263;try{for(_iterator263.s();!(_step263=_iterator263.n()).done;){var _t512=_step263.value;_t512.values=_t512.values.map(function(t){return K(t,a.geometryPrecision);});}}catch(err){_iterator263.e(err);}finally{_iterator263.f();}r=(_ref80=[]).concat.apply(_ref80,_toConsumableArray(d)),h.setPathData(r),_o125.length=0,_s228=(_ref81=[]).concat.apply(_ref81,_toConsumableArray(_n159)),0===_s228.length?(_t509.remove(),a.selectedElements=a.selectedElements.filter(function(e){return e!==_t509;})):_t509.setPathData(_s228),b();}}),a.undoManager.addEventListener("undoorredo",n=function n(){if(!1===h.isConnected)b();else if(r=h.getPathData({normalize:!0}),d=at(r),c=d[e.subpathIndex],c){x=Ht(h);{var _t513=c[c.length-1],_e383=c[c.length-2],_i398=new DOMPoint("C"===_t513.type?_t513.values[4]:_t513.values[0],"C"===_t513.type?_t513.values[5]:_t513.values[1]).matrixTransform(x),_s231=_this176.bo(_e383,_t513).matrixTransform(x);a.arcSegHud.draw(h,_i398,_s231);}}else b();}),a.addEventListener("keydown",o=function o(t){var e=so.fromEvent(t);e.matches("Enter","Shift")?(r.length>0&&function(){var _ref83;a.undoManager.checkpoint("Draw arc");var t=c[0];if(0===a.arcSegHud.values[0]&&0===a.arcSegHud.values[1])c.push({type:"L",values:[t.values[0],t.values[1]]},{type:"Z",values:[]});else{var _ref82=_toConsumableArray(a.arcSegHud.values),_e384=_ref82[0],_i399=_ref82[1],_s232=_ref82[2],_n161=_ref82[3],_o127=_ref82[4],_t$values13=_slicedToArray(t.values,2),_l116=_t$values13[0],_h76=_t$values13[1];c.push({type:"A",values:[_e384,_i399,_s232,_n161,_o127,_l116,_h76]},{type:"Z",values:[]});}var _iterator264=_createForOfIteratorHelper(c),_step264;try{for(_iterator264.s();!(_step264=_iterator264.n()).done;){var _t514=_step264.value;_t514.values=_t514.values.map(function(t){return K(t,a.geometryPrecision);});}}catch(err){_iterator264.e(err);}finally{_iterator264.f();}r=(_ref83=[]).concat.apply(_ref83,_toConsumableArray(d)),h.setPathData(r),u=!0;}(),b()):(e.matches("Enter")||e.matches("Escape"))&&b();}),this.addEventListener("_disable",l=function l(){b();});}},{key:"bo",value:function bo(t,e){var i;if("C"===e.type){var _s233=new DOMPoint("C"===t.type?t.values[4]:t.values[0],"C"===t.type?t.values[5]:t.values[1]),_n162=new DOMPoint(e.values[0],e.values[1]),_o128=new DOMPoint(e.values[2],e.values[3]),_l117=.9999999,_a84=1-_l117;i=new DOMPoint(_a84*_a84*_s233.x+_a84*_l117*2*_n162.x+_l117*_l117*_o128.x,_a84*_a84*_s233.y+_a84*_l117*2*_n162.y+_l117*_l117*_o128.y);}else if("C"===t.type){var _t$values14=_slicedToArray(t.values,6),_e385=_t$values14[0],_s234=_t$values14[1],_n163=_t$values14[2],_o129=_t$values14[3],_l118=_t$values14[4],_a85=_t$values14[5];i=new DOMPoint(_l118,_a85);}else if("L"===e.type||"M"===e.type){var _t$values15=_slicedToArray(t.values,2),_e386=_t$values15[0],_s235=_t$values15[1];i=new DOMPoint(_e386,_s235);}return i;}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return wr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wr,"observedAttributes",["enabled"]);customElements.define("bx-arccontext",wr);var vr=Math.abs,yr=Math.min;var kr=/*#__PURE__*/function(_HTMLElement53){_inherits(kr,_HTMLElement53);var _super55=_createSuper(kr);_createClass(kr,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"shape",get:function get(){return this.hasAttribute("shape")?this.getAttribute("shape"):"rect";},set:function set(t){this.setAttribute("shape",t);}}]);function kr(){_classCallCheck(this,kr);return _super55.call(this);}_createClass(kr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.mo=!1;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"shape"===t&&this.fo());}},{key:"tn",value:function tn(){var _this177=this;var t=this.Js.board;t.style.cursor="crosshair",this.dispatchEvent(new CustomEvent("_enabledchange")),t.addEventListener("pointerdown",this.On=function(t){_this177.wo(t);});}},{key:"sn",value:function sn(){var t=this.Js.board;this.dispatchEvent(new CustomEvent("_enabledchange")),t.removeEventListener("pointerdown",this.On);}},{key:"fo",value:function fo(){this.dispatchEvent(new CustomEvent("_shapechange"));}},{key:"wo",value:function wo(t){var _this178=this;if(1!==t.buttons||!0===this.mo)return;var _e387,_i400,s=this.Js.board,n=new DOMPoint(t.clientX,t.clientY);s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e387=function e(o){var l=new DOMPoint(o.clientX,o.clientY);ze(n,l)<3||(s.removeEventListener("pointermove",_e387),s.removeEventListener("lostpointercapture",_i400),"rect"===_this178.shape?_this178.vo(t):"circle"===_this178.shape?_this178.yo(t):"ellipse"===_this178.shape?_this178.ko(t):"ring"===_this178.shape?_this178.So(t):"pie"===_this178.shape?_this178._o(t):"crescent"===_this178.shape?_this178.Co(t):"triangle"===_this178.shape?_this178.Mo(t):"n-gon"===_this178.shape?_this178.Po(t):"star"===_this178.shape?_this178.Do(t):"cog"===_this178.shape?_this178.zo(t):"arrow"===_this178.shape?_this178.Oo(t):"cross"===_this178.shape?_this178.Eo(t):"spiral"===_this178.shape&&_this178.To(t));}),s.addEventListener("lostpointercapture",_i400=function i(){s.removeEventListener("pointermove",_e387),s.removeEventListener("lostpointercapture",_i400);});}},{key:"vo",value:function vo(t){var _this179=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-rectsettings:drawingMode","planar"),a=e.getConfig("bx-rectsettings:style",O),h=e.getConfig("bx-rectsettings:r",0);i.undoManager.checkpoint("Add rectangle"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);if(r=i.snapManager.snapPoint(r),"polar"===l||"planar"===l){var _t515,_d31=1,_c27=1,_p24="planar"===l?r.x:r.x-_d31/2,_u21="planar"===l?r.y:r.y-_c27/2,_x76=Ei("svg:rect");_x76.setAttribute("x",_p24),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d31),_x76.setAttribute("height",_c27),_x76.setAttribute("rx",h),_x76.setAttribute("ry",h),s.append(_x76),ol(_x76,a),i.selectedElements=[_x76];var _b19=Ht(_x76).inverse(),_m19=Vt(_x76).multiply(_b19);_x76.setAttribute("transform",_m19.toString()),e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),i.addEventListener("pointermove",_t515=function _t515(t){var s=new DOMPoint(t.clientX,t.clientY);if("planar"===l){s=i.snapManager.snapPoint(s);var _t516=s.x-r.x||1,_n164=s.y-r.y||1;if(_d31=vr(_t516),_c27=vr(_n164),e.modKeys.shift){var _t517=yr(_d31,_c27);_d31=_t517,_c27=_t517;}_p24=_t516<0?r.x-_d31:r.x,_u21=_n164<0?r.y-_c27:r.y;}else if("polar"===l){var _t518=new DOMPoint(r.x,r.y),_i401=new DOMPoint(s.x,s.y),_n165=ze(_t518,_i401),_o130=new DOMPoint(_t518.x,_t518.y-_n165),_l119=_o130.matrixTransform(new DOMMatrix().translate(_t518.x,_t518.y).rotate(-45).translate(-_t518.x,-_t518.y)),_a86=_o130.matrixTransform(new DOMMatrix().translate(_t518.x,_t518.y).rotate(45).translate(-_t518.x,-_t518.y)),_h77=_o130.matrixTransform(new DOMMatrix().translate(_t518.x,_t518.y).rotate(135).translate(-_t518.x,-_t518.y)),_b20=ze(_l119,_a86);_p24=r.x-_b20/2,_u21=r.y-_b20/2,_d31=_b20,_c27=_b20;var _g20=Le(_t518,_h77,_i401);e.modKeys.shift&&(_g20=Re(_g20,45));var _f15=new DOMMatrix();_f15.translateSelf(_t518.x,_t518.y),_f15.rotateSelf(_g20),_f15.translateSelf(-_t518.x,-_t518.y),_x76.setAttribute("transform",_m19.multiply(_f15).toString());}_x76.setAttribute("x",_p24),_x76.setAttribute("y",_u21),_x76.setAttribute("width",_d31),_x76.setAttribute("height",_c27);});var _g19=function _g19(){i.removeEventListener("pointermove",_t515),i.removeEventListener("lostpointercapture",_g19),_this179.removeEventListener("_enabledchange",_g19),_this179.removeEventListener("_shapechange",_g19),i.snapManager.snapEnd(),fa(_x76,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_g19),this.addEventListener("_enabledchange",_g19),this.addEventListener("_shapechange",_g19);}else if("3-point"===l){var _t519=Ei("svg:rect");_t519.setAttribute("rx",h),_t519.setAttribute("ry",h),s.append(_t519),ol(_t519,a),i.selectedElements=[_t519];var _l120,_d32,_c28=jt(i.currentWorkspace,_t519),_p25=Ht(i.currentWorkspace).inverse(),_u22=Vt(_t519).multiply(_c28),_x77=r.matrixTransform(_p25),_b21=_x77,_m20=1;i.snapManager.snapStart(!0),this.mo=!0,_t519.setAttribute("height",10),_t519.setAttribute("transform",_u22.toString()),i.addEventListener("pointermove",_l120=function _l120(s){if(_p25=Ht(i.currentWorkspace).inverse(),1===_m20){_b21=new DOMPoint(s.clientX,s.clientY),_b21=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(r,_b21):i.snapManager.snapPoint(_b21),_b21=_b21.matrixTransform(_p25);var _n166=ze(_x77,_b21),_o131=(Oe(_x77,_b21),new DOMPoint(_x77.x+100,_x77.y)),_l121=Le(_x77,_o131,_b21),_a87=new DOMMatrix();_a87.translateSelf(_x77.x,_x77.y),_a87.rotateSelf(_l121),_a87.translateSelf(-_x77.x,-_x77.y),_t519.setAttribute("x",_x77.x),_t519.setAttribute("y",_x77.y),_t519.setAttribute("width",_n166),_t519.setAttribute("height",1/i.scale),_t519.setAttribute("transform",_u22.multiply(_a87).toString());}else if(2===_m20){var _e388=new DOMPoint(s.clientX,s.clientY);_e388=i.snapManager.snapPoint(_e388),_e388=_e388.matrixTransform(_p25);var _Ee=Ee(_x77,_b21,_e388),_Ee2=_slicedToArray(_Ee,2),_n167=_Ee2[0],_o132=_Ee2[1],_l122=ze(_n167,_e388);Le(_x77,_b21,_e388)>=0?_t519.setAttribute("y",_x77.y):_t519.setAttribute("y",_x77.y-_l122),_t519.setAttribute("height",_l122);}});var _g21=function _g21(){i.removeEventListener("pointermove",_l120),i.removeEventListener("pointerup",_d32),_this179.removeEventListener("_enabledchange",_g21),_this179.removeEventListener("_shapechange",_g21),i.snapManager.snapEnd(),fa(_t519,{geometryPrecision:n,transformPrecision:o}),_this179.mo=!1;};i.addEventListener("pointerup",_d32=function _d32(t){1===_m20?_m20=2:2===_m20&&_g21();}),this.addEventListener("_enabledchange",_g21),this.addEventListener("_shapechange",_g21);}}},{key:"yo",value:function yo(t){var _this180=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-circlesettings:style",O),h=0,r=0,d=0;s.undoManager.checkpoint("Add circle"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var c=new DOMPoint(t.clientX,t.clientY);c=s.snapManager.snapPoint(c);var p=Ei("svg:circle");n.append(p),ol(p,a),s.selectedElements=[p];var u=Ht(p).inverse(),x=Vt(p).multiply(u);p.setAttribute("transform",x.toString()),s.addEventListener("pointermove",e=function e(_e389){var i=new DOMPoint(_e389.clientX,_e389.clientY),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(i.x,i.y),o=new Z(s,n);h=s.x,r=s.y,d=o.length,p.setAttribute("cx",h),p.setAttribute("cy",r),p.setAttribute("r",d);});var b=function b(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",b),_this180.removeEventListener("_enabledchange",b),_this180.removeEventListener("_shapechange",b),s.snapManager.snapEnd(),fa(p,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",b),this.addEventListener("_enabledchange",b),this.addEventListener("_shapechange",b);}},{key:"ko",value:function ko(t){var _this181=this;var e=this.Qs,i=this.Js.board,s=i.currentContainer||i.currentWorkspace,n=i.geometryPrecision,o=i.transformPrecision,l=e.getConfig("bx-ellipsesettings:drawingMode","planar"),a=e.getConfig("bx-ellipsesettings:style",O);i.undoManager.checkpoint("Add ellipse"),i.snapManager.snapStart(!1),i.setPointerCapture(t.pointerId);var h=new DOMPoint(t.clientX,t.clientY);h=i.snapManager.snapPoint(h);var r=Ei("svg:ellipse");if(s.append(r),ol(r,a),i.selectedElements=[r],"polar"===l||"planar"===l){var _s236,_a88=Ht(r).inverse(),_d33=Vt(r).multiply(_a88);e.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),r.setAttribute("transform",_d33.toString()),i.addEventListener("pointermove",_s236=function _s236(s){var n=new DOMPoint(s.clientX,s.clientY);if("planar"===l){n=i.snapManager.snapPoint(n);var _t520=n.x-h.x||1,_s237=n.y-h.y||1,_o133=vr(_t520),_l123=vr(_s237);if(e.modKeys.shift){var _t521=yr(_o133,_l123);_o133=_t521,_l123=_t521;}var _a89=_t520<0?h.x-_o133:h.x,_d34=_s237<0?h.y-_l123:h.y;r.setAttribute("cx",_a89+_o133/2),r.setAttribute("cy",_d34+_l123/2),r.setAttribute("rx",_o133/2),r.setAttribute("ry",_l123/2);}else if("polar"===l){var _e390=new DOMPoint(t.clientX,t.clientY),_i402=new DOMPoint(n.x,n.y),_s238=new Z(_e390,_i402);r.setAttribute("cx",_e390.x),r.setAttribute("cy",_e390.y),r.setAttribute("rx",_s238.length),r.setAttribute("ry",_s238.length);}});var _c29=function _c29(){i.removeEventListener("pointermove",_s236),i.removeEventListener("lostpointercapture",_c29),_this181.removeEventListener("_enabledchange",_c29),_this181.removeEventListener("_shapechange",_c29),i.snapManager.snapEnd(),fa(r,{geometryPrecision:n,transformPrecision:o});};i.addEventListener("lostpointercapture",_c29),this.addEventListener("_enabledchange",_c29),this.addEventListener("_shapechange",_c29);}else if("3-point"===l){var _t522,_s239,_l124=jt(i.currentWorkspace,r),_a90=Ht(i.currentWorkspace).inverse(),_d35=Vt(r).multiply(_l124),_c30=h.matrixTransform(_a90),_p26=_c30,_u23=1;i.snapManager.snapStart(!0),this.mo=!0,r.setAttribute("transform",_d35.toString()),i.addEventListener("pointermove",_t522=function _t522(t){if(_a90=Ht(i.currentWorkspace).inverse(),1===_u23){_p26=new DOMPoint(t.clientX,t.clientY),_p26=e.modKeys.shift?i.snapManager.snapPointToAngleMultiple(h,_p26):i.snapManager.snapPoint(_p26),_p26=_p26.matrixTransform(_a90);var _s240=ze(_c30,_p26),_n168=Oe(_c30,_p26),_o134=new DOMPoint(_c30.x+100,_c30.y),_l125=Le(_c30,_o134,_p26),_u24=_n168.x,_x79=_n168.y,_b22=_s240/2,_m21=new DOMMatrix();_m21.translateSelf(_n168.x,_n168.y),_m21.rotateSelf(_l125),_m21.translateSelf(-_n168.x,-_n168.y),r.setAttribute("cx",_u24),r.setAttribute("cy",_x79),r.setAttribute("rx",_b22),r.setAttribute("transform",_d35.multiply(_m21).toString()),r.setAttribute("ry",1/i.scale);}else if(2===_u23){var _e391=new DOMPoint(t.clientX,t.clientY);_e391=i.snapManager.snapPoint(_e391),_e391=_e391.matrixTransform(_a90);var _Ee3=Ee(_c30,_p26,_e391),_Ee4=_slicedToArray(_Ee3,2),_s241=_Ee4[0],_n169=_Ee4[1],_o135=ze(_s241,_e391);r.setAttribute("ry",_o135);}});var _x78=function _x78(){i.removeEventListener("pointermove",_t522),i.removeEventListener("pointerup",_s239),_this181.removeEventListener("_enabledchange",_x78),_this181.removeEventListener("_shapechange",_x78),i.snapManager.snapEnd(),fa(r,{geometryPrecision:n,transformPrecision:o}),_this181.mo=!1;};i.addEventListener("pointerup",_s239=function _s239(t){1===_u23?_u23=2:2===_u23&&_x78();}),this.addEventListener("_enabledchange",_x78),this.addEventListener("_shapechange",_x78);}}},{key:"So",value:function So(t){var _this182=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-ringsettings:drawingMode","polar"),l=i.getConfig("bx-ringsettings:r1",.6),a=i.getConfig("bx-ringsettings:style",O),h=s.geometryPrecision,r=s.transformPrecision;s.undoManager.checkpoint("Add ring"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=1,u=1,x=l*p,b=l*u,m=Ei("svg:path");_ml(m,{type:"ring",values:[d,c,x,b,p,u]},h),n.append(m),ol(m,a),s.selectedElements=[m];var g=Ht(m).inverse(),f=Vt(m).multiplySelf(g);m.setAttribute("transform",f.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e392){if("planar"===o){var _s242=_e392.clientX-t.clientX||1,_n170=_e392.clientY-t.clientY||1,_o136=vr(_s242),_a91=vr(_n170);if(i.modKeys.shift){var _t523=yr(_o136,_a91);_o136=_t523,_a91=_t523;}var _h78=_s242<0?t.clientX-_o136:t.clientX,_r47=_n170<0?t.clientY-_a91:t.clientY;d=_h78+_o136/2,c=_r47+_a91/2,p=_o136/2,u=_a91/2,x=l*p,b=l*u;}else if("polar"===o){var _s243=new DOMPoint(t.clientX,t.clientY),_n171=new DOMPoint(_s243.x,_s243.y-100),_o137=new DOMPoint(_e392.clientX,_e392.clientY),_a92=new Z(_s243,_o137),_h79=Le(_s243,_n171,_o137);d=_s243.x,c=_s243.y,p=_a92.length,u=_a92.length,x=l*p,b=l*u,i.modKeys.shift&&(_h79=Re(_h79,45));var _r48=new DOMMatrix();_r48.translateSelf(_s243.x,_s243.y),_r48.rotateSelf(_h79),_r48.translateSelf(-_s243.x,-_s243.y),m.setAttribute("transform",f.multiply(_r48).toString());}_ml(m,{type:"ring",values:[d,c,x,b,p,u]},h);});var w=function w(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",w),_this182.removeEventListener("_enabledchange",w),_this182.removeEventListener("_shapechange",w),fa(m,{geometryPrecision:h,transformPrecision:r});};s.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"_o",value:function _o(t){var _this183=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-piesettings:drawingMode","polar"),l=i.getConfig("bx-piesettings:style",O),a=s.geometryPrecision,h=s.transformPrecision,r=i.getConfig("bx-piesettings:r1",0);s.undoManager.checkpoint("Add pie"),s.setPointerCapture(t.pointerId);var d=0,c=0,p=200,u=r*p,x=90,b=Ei("svg:path");n.append(b),ol(b,l),s.selectedElements=[b];var m=Ht(b).inverse(),g=Vt(b).multiplySelf(m);b.setAttribute("transform",g.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e394){if("planar"===o){var _s244=_e394.clientX-t.clientX||1,_n172=_e394.clientY-t.clientY||1,_o138=vr(_s244),_l126=vr(_n172);if(i.modKeys.shift){var _t524=yr(_o138,_l126);_o138=_t524,_l126=_t524;}var _a93=_s244<0?t.clientX-_o138:t.clientX,_h80=_n172<0?t.clientY-_l126:t.clientY;if(p=_o138/2,u=r*p,d=_a93+_o138/2,c=_h80+_l126/2,_o138===_l126)b.setAttribute("transform",g.toString());else{var _t525=1,_e393=_l126/_o138,_i403=-d*(_t525-1),_s245=-c*(_e393-1),_n173=DOMMatrix.fromMatrix(g);_n173.translateSelf(_i403,_s245),_n173.scaleSelf(_t525,_e393),b.setAttribute("transform",_n173.toString());}}else if("polar"===o){var _i404=new DOMPoint(t.clientX,t.clientY),_s246=new DOMPoint(_i404.x,_i404.y-100),_n174=new DOMPoint(_e394.clientX,_e394.clientY),_o139=new Z(_i404,_n174);d=_i404.x,c=_i404.y,p=_o139.length,u=r*p,x=Le(_i404,_s246,_n174),x<=0&&(x=360+x);}_ml(b,{type:"pie",values:[d,c,u,p,x,360]},a);});var f=function f(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",f),_this183.removeEventListener("_enabledchange",f),_this183.removeEventListener("_shapechange",f),fa(b,{geometryPrecision:a,transformPrecision:h});};s.addEventListener("lostpointercapture",f),this.addEventListener("_enabledchange",f),this.addEventListener("_shapechange",f);}},{key:"Co",value:function Co(t){var _this184=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-crescentsettings:drawingMode","polar"),l=i.getConfig("bx-crescentsettings:style",O),a=i.getConfig("bx-crescentsettings:arch",300),h=i.getConfig("bx-crescentsettings:hollow",.7),r=s.geometryPrecision,d=s.transformPrecision,c=0,p=0,u=200;s.undoManager.checkpoint("Add crescent"),s.setPointerCapture(t.pointerId);var x=Ei("svg:path");n.append(x),ol(x,l),s.selectedElements=[x];var b=Ht(x).inverse(),m=Vt(x).multiplySelf(b);x.setAttribute("transform",m.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e396){if("planar"===o){var _s247=_e396.clientX-t.clientX||1,_n175=_e396.clientY-t.clientY||1,_o140=vr(_s247),_l127=vr(_n175);if(i.modKeys.shift){var _t526=yr(_o140,_l127);_o140=_t526,_l127=_t526;}var _a94=_s247<0?t.clientX-_o140:t.clientX,_h81=_n175<0?t.clientY-_l127:t.clientY;if(u=_o140/2,c=_a94+_o140/2,p=_h81+_l127/2,_o140===_l127)x.setAttribute("transform",m.toString());else{var _t527=1,_e395=_l127/_o140,_i405=-c*(_t527-1),_s248=-p*(_e395-1),_n176=new DOMMatrix();_n176.translateSelf(_i405,_s248),_n176.scaleSelf(_t527,_e395),x.setAttribute("transform",m.multiply(_n176).toString());}}else if("polar"===o){var _s249=new DOMPoint(t.clientX,t.clientY),_n177=new DOMPoint(_s249.x,_s249.y-100),_o141=new DOMPoint(_e396.clientX,_e396.clientY),_l128=new Z(_s249,_o141);c=_s249.x,p=_s249.y,u=_l128.length;var _a95=Le(_s249,_n177,_o141);_a95-=180,i.modKeys.shift&&(_a95=Re(_a95,45));var _h82=new DOMMatrix();_h82.translateSelf(_s249.x,_s249.y),_h82.rotateSelf(_a95),_h82.translateSelf(-_s249.x,-_s249.y),x.setAttribute("transform",m.multiply(_h82).toString());}_ml(x,{type:"crescent",values:[c,p,u,a,h]},r);});var g=function g(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",g),_this184.removeEventListener("_enabledchange",g),_this184.removeEventListener("_shapechange",g),fa(x,{geometryPrecision:r,transformPrecision:d});};s.addEventListener("lostpointercapture",g),this.addEventListener("_enabledchange",g),this.addEventListener("_shapechange",g);}},{key:"Mo",value:function Mo(t){var _this185=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=n.geometryPrecision,a=n.transformPrecision,h=s.getConfig("bx-trianglesettings:drawingMode","polar"),r=s.getConfig("bx-trianglesettings:style",O);n.undoManager.checkpoint("Add triangle"),n.snapManager.snapStart(!1),n.setPointerCapture(t.pointerId);var d=new DOMPoint(t.clientX,t.clientY);d=n.snapManager.snapPoint(d);var c=1,p=1,u="planar"===h?d.x:d.x-p/2,x="planar"===h?d.y:d.y-c/2,b=s.getConfig("bx-trianglesettings:shift",.5),m=s.getConfig("bx-trianglesettings:corner",0),g=Ei("svg:path");_ml(g,{type:"triangle",values:[u,x,p,c,b,m]},l),o.append(g),ol(g,r),n.selectedElements=[g];var f=Ht(g).inverse(),w=Vt(g).multiply(f);g.setAttribute("transform",w.toString()),s.modKeys.ctrl&&("polar"===h?h="planar":"planar"===h&&(h="polar")),n.addEventListener("keydown",i=function i(t){var e=so.fromEvent(t);if(e.matches("ArrowLeft")){if(t.preventDefault(),t.stopPropagation(),m>0){m=Q(m-.04,0,.5,2),_ml(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}else if(e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),m<.5)){m=Q(m+.04,0,.5,2),_ml(g,{type:"triangle",values:[u,x,p,c,b,m]},l);}}),n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=n.snapManager.snapPoint(e),"planar"===h){var _t528=e.x-d.x||1,_i406=e.y-d.y||1;if(p=vr(_t528),c=vr(_i406),s.modKeys.shift){var _t529=yr(p,c);p=_t529,c=_t529;}u=_t528<0?d.x-p:d.x,x=_i406<0?d.y-c:d.y;}else if("polar"===h){var _t530=new DOMPoint(d.x,d.y),_i407=new DOMPoint(e.x,e.y),_n178=ze(_t530,_i407),_o142=new DOMPoint(_t530.x,_t530.y-_n178),_l129=_o142.matrixTransform(new DOMMatrix().translate(_t530.x,_t530.y).rotate(120).translate(-_t530.x,-_t530.y)),_a96=_l129.matrixTransform(new DOMMatrix().translate(_t530.x,_t530.y).rotate(120).translate(-_t530.x,-_t530.y)),_h83=Le(_t530,_l129,_i407);p=_l129.x-_a96.x||1,c=_l129.y-_o142.y||1,u=_a96.x,x=_o142.y,s.modKeys.shift&&(_h83=Re(_h83,45));var _r49=new DOMMatrix();_r49.translateSelf(_t530.x,_t530.y),_r49.rotateSelf(_h83),_r49.translateSelf(-_t530.x,-_t530.y),g.setAttribute("transform",w.multiply(_r49).toString());}_ml(g,{type:"triangle",values:[u,x,p,c,b,m]},l);});var v=function v(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",v),n.removeEventListener("keydown",i),_this185.removeEventListener("_enabledchange",v),_this185.removeEventListener("_shapechange",v),fa(g,{geometryPrecision:l,transformPrecision:a}),n.snapManager.snapEnd();};n.addEventListener("lostpointercapture",v),this.addEventListener("_enabledchange",v),this.addEventListener("_shapechange",v);}},{key:"Po",value:function Po(t){var _this186=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-ngonsettings:drawingMode","polar"),a=s.getConfig("bx-ngonsettings:style",O),h=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-ngonsettings:arms",5),b=s.getConfig("bx-ngonsettings:corner",0);n.undoManager.checkpoint("Add n-gon"),n.setPointerCapture(t.pointerId);var m=Ei("svg:path");_ml(m,{type:"n-gon",values:[d,c,p,u,x,b]},h),o.append(m),ol(m,a),n.selectedElements=[m];var g=Ht(m).inverse(),f=Vt(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),x+=1,_ml(m,{type:"n-gon",values:[d,c,p,u,x,b]},h)):e.matches("ArrowDown")?(t.preventDefault(),t.stopPropagation(),x>5&&(x-=1,_ml(m,{type:"n-gon",values:[d,c,p,u,x,b]},h))):e.matches("ArrowLeft")?(t.preventDefault(),t.stopPropagation(),b>0&&(b=Q(b-.04,0,.5,2),_ml(m,{type:"n-gon",values:[d,c,p,u,x,b]},h))):e.matches("ArrowRight")&&(t.preventDefault(),t.stopPropagation(),b<.5&&(b=Q(b+.04,0,.5,2),_ml(m,{type:"n-gon",values:[d,c,p,u,x,b]},h)));}),n.addEventListener("pointermove",e=function e(_e397){if("planar"===l){var _i408=_e397.clientX-t.clientX||1,_n179=_e397.clientY-t.clientY||1,_o143=vr(_i408),_l130=vr(_n179);if(s.modKeys.shift){var _t531=yr(_o143,_l130);_o143=_t531,_l130=_t531;}var _a97=_i408<0?t.clientX-_o143:t.clientX,_h84=_n179<0?t.clientY-_l130:t.clientY;p=_o143/2,u=_l130/2,d=_a97+p,c=_h84+u;}else if("polar"===l){var _i409=new DOMPoint(t.clientX,t.clientY),_n180=Ol(2,d,c,p,u,x),_o144=new DOMPoint(_e397.clientX,_e397.clientY),_l131=new Z(_i409,_o144),_a98=Le(_i409,_n180,_o144);d=_i409.x,c=_i409.y,p=_l131.length,u=_l131.length,s.modKeys.shift&&(_a98=Re(_a98,180/x));var _h85=new DOMMatrix();_h85.translateSelf(_i409.x,_i409.y),_h85.rotateSelf(_a98),_h85.translateSelf(-_i409.x,-_i409.y),m.setAttribute("transform",f.multiply(_h85).toString());}_ml(m,{type:"n-gon",values:[d,c,p,u,x,b]},h);});var w=function w(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),n.removeEventListener("keydown",i),_this186.removeEventListener("_enabledchange",w),_this186.removeEventListener("_shapechange",w),fa(m,{geometryPrecision:h,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"Do",value:function Do(t){var _this187=this;var e,i,s=this.Qs,n=this.Js.board,o=n.currentContainer||n.currentWorkspace,l=s.getConfig("bx-starsettings:drawingMode","polar"),a=s.getConfig("bx-starsettings:style",O),h=n.geometryPrecision,r=n.transformPrecision,d=0,c=0,p=0,u=0,x=s.getConfig("bx-starsettings:depth",.4),b=s.getConfig("bx-starsettings:arms",5);n.undoManager.checkpoint("Add star"),n.setPointerCapture(t.pointerId);var m=Ei("svg:path");_ml(m,{type:"star",values:[d,c,p,u,x,b]},h),o.append(m),ol(m,a),n.selectedElements=[m];var g=Ht(m).inverse(),f=Vt(m).multiply(g);m.setAttribute("transform",f.toString()),s.modKeys.ctrl&&("polar"===l?l="planar":"planar"===l&&(l="polar")),n.addEventListener("keydown",i=function i(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),b+=1,_ml(m,{type:"star",values:[d,c,p,u,x,b]},h)):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),b>3&&(b-=1,_ml(m,{type:"star",values:[d,c,p,u,x,b]},h)));}),n.addEventListener("pointermove",e=function e(_e398){if("planar"===l){var _i410=_e398.clientX-t.clientX||1,_n181=_e398.clientY-t.clientY||1,_o145=vr(_i410),_l132=vr(_n181);if(s.modKeys.shift){var _t532=yr(_o145,_l132);_o145=_t532,_l132=_t532;}var _a99=_i410<0?t.clientX-_o145:t.clientX,_h86=_n181<0?t.clientY-_l132:t.clientY;p=_o145/2,u=_l132/2,d=_a99+p,c=_h86+u;}else if("polar"===l){var _i411=new DOMPoint(t.clientX,t.clientY),_n182=new DOMPoint(_i411.x,_i411.y-100),_o146=new DOMPoint(_e398.clientX,_e398.clientY),_l133=new Z(_i411,_o146),_a100=Le(_i411,_n182,_o146);d=_i411.x,c=_i411.y,p=_l133.length,u=_l133.length,s.modKeys.shift&&(_a100=Re(_a100,180/b/2));var _h87=new DOMMatrix();_h87.translateSelf(_i411.x,_i411.y),_h87.rotateSelf(_a100),_h87.translateSelf(-_i411.x,-_i411.y),m.setAttribute("transform",f.multiply(_h87).toString());}_ml(m,{type:"star",values:[d,c,p,u,x,b]},h);});var w=function w(){n.removeEventListener("keydown",i),n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",w),_this187.removeEventListener("_enabledchange",w),_this187.removeEventListener("_shapechange",w),fa(m,{geometryPrecision:h,transformPrecision:r});};n.addEventListener("lostpointercapture",w),this.addEventListener("_enabledchange",w),this.addEventListener("_shapechange",w);}},{key:"zo",value:function zo(t){var _this188=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=i.getConfig("bx-cogsettings:drawingMode","polar"),l=i.getConfig("bx-cogsettings:style",O),a=s.geometryPrecision,h=s.transformPrecision;s.undoManager.checkpoint("Add cog"),s.setPointerCapture(t.pointerId);var r=i.getConfig("bx-cogsettings:r1",.3),d=i.getConfig("bx-cogsettings:r2",.65),c=i.getConfig("bx-cogsettings:r3",1),p=i.getConfig("bx-cogsettings:splay",.38),u=i.getConfig("bx-cogsettings:teeth",8),x=0,b=0,m=0,g=0,f=0,w=Ei("svg:path");n.append(w),ol(w,l),s.selectedElements=[w];var v=Ht(w).inverse(),y=Vt(w).multiplySelf(v);w.setAttribute("transform",y.toString()),i.modKeys.ctrl&&("polar"===o?o="planar":"planar"===o&&(o="polar")),s.addEventListener("pointermove",e=function e(_e400){if("planar"===o){var _s250=_e400.clientX-t.clientX||1,_n183=_e400.clientY-t.clientY||1,_o147=vr(_s250),_l134=vr(_n183);if(i.modKeys.shift){var _t533=yr(_o147,_l134);_o147=_t533,_l134=_t533;}var _a101=_s250<0?t.clientX-_o147:t.clientX,_h88=_n183<0?t.clientY-_l134:t.clientY,_p27=_o147/2;if(x=_a101+_o147/2,b=_h88+_l134/2,m=_p27*r,g=_p27*d,f=_p27*c,_o147===_l134)w.setAttribute("transform",y.toString());else{var _t534=1,_e399=_l134/_o147,_i412=-x*(_t534-1),_s251=-b*(_e399-1),_n184=DOMMatrix.fromMatrix(y);_n184.translateSelf(_i412,_s251),_n184.scaleSelf(_t534,_e399),w.setAttribute("transform",_n184.toString());}}else if("polar"===o){var _s252=new DOMPoint(t.clientX,t.clientY),_n185=new DOMPoint(_s252.x,_s252.y-100),_o148=new DOMPoint(_e400.clientX,_e400.clientY),_l135=new Z(_s252,_o148),_a102=Le(_s252,_n185,_o148),_h89=_l135.length;x=_s252.x,b=_s252.y,m=_h89*r,g=_h89*d,f=_h89*c,i.modKeys.shift&&(_a102=Re(_a102,45));var _p28=new DOMMatrix();_p28.translateSelf(_s252.x,_s252.y),_p28.rotateSelf(_a102),_p28.translateSelf(-_s252.x,-_s252.y),w.setAttribute("transform",y.multiply(_p28).toString());}_ml(w,{type:"cog",values:[x,b,m,g,f,p,u]},a);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this188.removeEventListener("_enabledchange",k),_this188.removeEventListener("_shapechange",k),fa(w,{geometryPrecision:a,transformPrecision:h});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Oo",value:function Oo(t){var _this189=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=Ht(s.currentWorkspace).inverse();s.undoManager.checkpoint("Add arrow"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var h=new DOMPoint(t.clientX,t.clientY);h=s.snapManager.snapPoint(h),h=h.matrixTransform(a);var r=new DOMPoint(h.x+100,h.y),d=i.getConfig("bx-arrowsettings:baseThickness",10),c=i.getConfig("bx-arrowsettings:headThickness",40),p=i.getConfig("bx-arrowsettings:headLength",40),u=i.getConfig("bx-arrowsettings:headInset",0),x=i.getConfig("bx-arrowsettings:style",O),b=p,m=c,g=h.x,f=h.y-m/2,w=Ei("svg:path"),v={type:"arrow",values:[g,f,b,m,d,p,u]};_ml(w,v,o),n.append(w),ol(w,x),s.selectedElements=[w];var y=Vt(w).multiply(jt(s.currentWorkspace,w));w.setAttribute("transform",y.toString()),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(a),b=ze(h,e),b<p&&(b=p);var n=Le(h,r,e);i.modKeys.shift&&(n=Re(n,45));var l=new DOMMatrix();l.translateSelf(h.x,h.y),l.rotateSelf(n),l.translateSelf(-h.x,-h.y),w.setAttribute("transform",y.multiply(l).toString()),v={type:"arrow",values:[g,f,b,m,d,p,u]},_ml(w,v,o);});var k=function k(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",k),_this189.removeEventListener("_enabledchange",k),_this189.removeEventListener("_shapechange",k),s.snapManager.snapEnd(),fa(w,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",k),this.addEventListener("_enabledchange",k),this.addEventListener("_shapechange",k);}},{key:"Eo",value:function Eo(t){var _this190=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-crosssettings:drawingMode","polar"),h=i.getConfig("bx-crosssettings:style",O);s.undoManager.checkpoint("Add cross"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=r.x,c=r.y,p=0,u=0,x=0,b=0,m=i.getConfig("bx-crosssettings:thickness",.2),g=i.getConfig("bx-crosssettings:shift",.5),f=Ei("svg:path");_ml(f,{type:"cross",values:[d,c,p,u,x,b,g]},o),n.append(f),ol(f,h),s.selectedElements=[f];var w=Ht(f).inverse(),v=Vt(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);if(e=s.snapManager.snapPoint(e),"planar"===a){var _t535=e.x-r.x||1,_s253=e.y-r.y||1;if(p=vr(_t535),u=vr(_s253),i.modKeys.shift){var _t536=yr(p,u);p=_t536,u=_t536;}d=_t535<0?r.x-p:r.x,c=_s253<0?r.y-u:r.y;}else if("polar"===a){var _t537=new DOMPoint(r.x,r.y),_s254=new DOMPoint(e.x,e.y),_n186=ze(_t537,_s254),_o149=new DOMPoint(_t537.x,_t537.y-_n186),_l136=_o149.matrixTransform(new DOMMatrix().translate(_t537.x,_t537.y).rotate(-45).translate(-_t537.x,-_t537.y)),_a103=_o149.matrixTransform(new DOMMatrix().translate(_t537.x,_t537.y).rotate(45).translate(-_t537.x,-_t537.y)),_h90=_o149.matrixTransform(new DOMMatrix().translate(_t537.x,_t537.y).rotate(135).translate(-_t537.x,-_t537.y)),_x80=ze(_l136,_a103);d=r.x-_x80/2,c=r.y-_x80/2,p=_x80,u=_x80;var _b23=Le(_t537,_h90,_s254);i.modKeys.shift&&(_b23=Re(_b23,45));var _m22=new DOMMatrix();_m22.translateSelf(_t537.x,_t537.y),_m22.rotateSelf(_b23),_m22.translateSelf(-_t537.x,-_t537.y),f.setAttribute("transform",v.multiply(_m22).toString());}x=u*m,b=p*m,_ml(f,{type:"cross",values:[d,c,p,u,x,b,g]},o);});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this190.removeEventListener("_enabledchange",y),_this190.removeEventListener("_shapechange",y),s.snapManager.snapEnd(),fa(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}},{key:"To",value:function To(t){var _this191=this;var e,i=this.Qs,s=this.Js.board,n=s.currentContainer||s.currentWorkspace,o=s.geometryPrecision,l=s.transformPrecision,a=i.getConfig("bx-spiralsettings:drawingMode","polar"),h=i.getConfig("bx-spiralsettings:style",E);s.undoManager.checkpoint("Add spiral"),s.snapManager.snapStart(!1),s.setPointerCapture(t.pointerId);var r=new DOMPoint(t.clientX,t.clientY);r=s.snapManager.snapPoint(r);var d=i.getConfig("bx-spiralsettings:r1",0),c=i.getConfig("bx-spiralsettings:startAngle",0),p=i.getConfig("bx-spiralsettings:endAngle",1080),u=new DOMPoint(r.x,r.y-100).matrixTransform(new DOMMatrix().translate(r.x,r.y).rotate(p).translate(-r.x,-r.y)),x=r.x,b=r.y,m=1,g=d*m,f=Ei("svg:path");_ml(f,{type:"spiral",values:[x,b,g,m,c,p]},o),n.append(f),ol(f,h),s.selectedElements=[f];var w=Ht(f).inverse(),v=Vt(f).multiply(w);f.setAttribute("transform",v.toString()),i.modKeys.ctrl&&("polar"===a?a="planar":"planar"===a&&(a="polar")),s.addEventListener("pointermove",e=function e(_e401){if("planar"===a){var _i413=_e401.clientX-t.clientX||1,_s255=_e401.clientY-t.clientY||1,_n187=vr(_i413),_l137=vr(_s255),_a104=yr(_n187,_l137);_n187=_a104,_l137=_a104;var _h91=_i413<0?t.clientX-_n187:t.clientX,_r50=_s255<0?t.clientY-_l137:t.clientY;x=_h91+_n187/2,b=_r50+_l137/2,m=_n187/2,g=d*m,_ml(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}else if("polar"===a){var _t538=new DOMPoint(_e401.clientX,_e401.clientY);_t538=s.snapManager.snapPoint(_t538);var _n188=Le(r,u,_t538);u=_t538,p+=_n188,!1===i.modKeys.shift&&(m=ze(r,_t538)),g=d*m,_ml(f,{type:"spiral",values:[x,b,g,m,c,p]},o);}});var y=function y(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",y),_this191.removeEventListener("_enabledchange",y),_this191.removeEventListener("_shapechange",y),fa(f,{geometryPrecision:o,transformPrecision:l});};s.addEventListener("lostpointercapture",y),this.addEventListener("_enabledchange",y),this.addEventListener("_shapechange",y);}}]);return kr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kr,"observedAttributes",["enabled","shape"]);customElements.define("bx-shapecontext",kr);var Sr=null,_r=null,Cr=/*#__PURE__*/function(){var _ref84=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee74(){return regeneratorRuntime.wrap(function _callee74$(_context75){while(1){switch(_context75.prev=_context75.next){case 0:return _context75.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref85=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee73(t){var _e402,_i414;return regeneratorRuntime.wrap(function _callee73$(_context74){while(1){switch(_context74.prev=_context74.next){case 0:if(!Sr){_context74.next=4;break;}t(Sr);_context74.next=11;break;case 4:_context74.next=6;return fetch("metadata/fonts/google-fonts-registry.json");case 6:_e402=_context74.sent;_context74.next=9;return _e402.json();case 9:_i414=_context74.sent;Sr=_i414,t(_i414);case 11:case"end":return _context74.stop();}}},_callee73);}));return function(_x81){return _ref85.apply(this,arguments);};}()));case 1:case"end":return _context75.stop();}}},_callee74);}));return function Cr(){return _ref84.apply(this,arguments);};}(),Mr="Enter your text here.";var Pr=/*#__PURE__*/function(_lh2){_inherits(Pr,_lh2);var _super56=_createSuper(Pr);function Pr(){var _this192;_classCallCheck(this,Pr);_this192=_super56.call(this),_this192.Ao=Qi(_this192.$o,350,_assertThisInitialized(_this192)),_this192["#content-editor"].addEventListener("input",function(){return _this192.Ao();}),_this192["#style-picker"].addEventListener("change",function(){return _this192.io();});return _this192;}_createClass(Pr,[{key:"tn",value:function tn(){this.qs();}},{key:"$o",value:function $o(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textsettings:content",null):this.Qs.setConfig("bx-textsettings:content",this["#content-editor"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-textsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textsettings:content",Mr),e=this.Qs.getConfig("bx-textsettings:style",T);this["#content-editor"].value=t,this["#style-picker"].value=e;}}]);return Pr;}(lh);_defineProperty(Pr,"_shadowTemplate",qi(_templateObject196(),Mr));_defineProperty(Pr,"_shadowStyleSheet",Xi(_templateObject197()));customElements.define("bx-textsettings",Pr);var Dr=Object.entries;var zr=/*#__PURE__*/function(_HTMLElement54){_inherits(zr,_HTMLElement54);var _super57=_createSuper(zr);function zr(){_classCallCheck(this,zr);return _super57.apply(this,arguments);}_createClass(zr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Io={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this193=this;var t=this.Js.board,e=!0,i=function i(){t.style.cursor=e?"url(images/cursors/text.svg) 8 8, auto":"url(images/cursors/text-add.svg) 3 8, auto";};i(),this.Lo(),t.workspaces.addEventListener("pointerdown",this.On=function(t){_this193.kn(t);}),t.workspaces.addEventListener("pointerover",this.Bo=function(t){e=null!==t.target.closest("text"),!1===_this193.Qs.isPointerDown&&i();}),window.addEventListener("pointerup",this.Nn=function(t){i();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.workspaces.removeEventListener("pointerdown",this.On),t.workspaces.removeEventListener("pointerover",this.Bo),window.removeEventListener("pointerup",this.Nn);}},{key:"kn",value:function(){var _kn=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee76(t){var _this194=this;var e,_i415,_s256,_n189,_o150,_l138,_a105,_h92,_r51,_d36,_c31;return regeneratorRuntime.wrap(function _callee76$(_context77){while(1){switch(_context77.prev=_context77.next){case 0:e=this.Js.board;if(!(0===t.button&&null===t.target.closest("text"))){_context77.next=12;break;}e.undoManager.checkpoint("Add text");_i415=e.currentContainer||e.currentWorkspace,_s256=this.Qs.getConfig("bx-textsettings:content",Mr),_n189=this.Qs.getConfig("bx-textsettings:style",T),_o150=Ht(_i415).inverse(),_l138=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o150),_a105=K(_l138.x,e.geometryPrecision),_h92=K(_l138.y,e.geometryPrecision),_r51=e.fontsManager.getFamilies(),_d36=(_r51.length>0&&_r51[0],Ei("svg:text"));_d36.setAttribute("x",_a105),_d36.setAttribute("y",_h92),_d36.textContent=_s256,_d36.style.whiteSpace="pre",_i415.append(_d36),ol(_d36,_n189),e.selectedElements=[_d36];_c31=/*#__PURE__*/function(){var _ref86=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee75(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee75$(_context76){while(1){switch(_context76.prev=_context76.next){case 0:t=gi(_d36),e=t[0],i=t[t.length-1],s=new Range();s.setStart(e,0);s.setEnd(i,i.textContent.length);_this194.Js.board.selectedTextRange=null;_this194.Js.board.selectedTextRange=s;_context76.next=7;return ts(100);case 7:_this194.Js.board.textHud.focus();case 8:case"end":return _context76.stop();}}},_callee75);}));return function _c31(){return _ref86.apply(this,arguments);};}();_c31();_context77.t0=_n189["font-family"];if(!_context77.t0){_context77.next=12;break;}_context77.next=11;return this.Ro(_n189["font-family"]);case 11:_c31();case 12:case"end":return _context77.stop();}}},_callee76,this);}));function kn(_x82){return _kn.apply(this,arguments);}return kn;}()},{key:"Ro",value:function Ro(t){var _this195=this;return new Promise(/*#__PURE__*/function(){var _ref87=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee77(e){var _e403;return regeneratorRuntime.wrap(function _callee77$(_context78){while(1){switch(_context78.prev=_context78.next){case 0:if(!(!1===_this195.Js.board.fontsManager.getFamilies().includes(t))){_context78.next=13;break;}_e403=[];if(!_this195.Io[t]){_context78.next=6;break;}_context78.t0=_this195.Io[t];_context78.next=9;break;case 6:_context78.next=8;return _this195.Go(t);case 8:_context78.t0=_context78.sent;case 9:_e403=_context78.t0;_this195.Js.board.fontsManager.addFonts(_e403);_context78.next=13;return Promise.all(_e403.map(function(t){return t.load();}));case 13:e();case 14:case"end":return _context78.stop();}}},_callee77);}));return function(_x83){return _ref87.apply(this,arguments);};}());}},{key:"Go",value:function Go(t){return new Promise(/*#__PURE__*/function(){var _ref88=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee78(e){var i,s,_iterator265,_step265,_step265$value,_e404,_n190,_s257,_o151,_l139,_a106,_h93;return regeneratorRuntime.wrap(function _callee78$(_context79){while(1){switch(_context79.prev=_context79.next){case 0:i=[];_context79.next=3;return Cr();case 3:s=_context79.sent.items.find(function(e){return e.family===t;});if(!s){_context79.next=34;break;}_iterator265=_createForOfIteratorHelper(Dr(s.urls));_context79.prev=6;_iterator265.s();case 8:if((_step265=_iterator265.n()).done){_context79.next=26;break;}_step265$value=_slicedToArray(_step265.value,2),_e404=_step265$value[0],_n190=_step265$value[1];_s257={weight:_e404.substring(0,3),style:_e404.includes("italic")?"italic":"normal"};_context79.next=13;return fetch(_n190);case 13:_o151=_context79.sent;_context79.next=16;return _o151.blob();case 16:_l139=_context79.sent;_context79.next=19;return jh(_l139);case 19:_context79.t0=_context79.sent;_context79.t1='url("'+_context79.t0;_a106=_context79.t1+'")';_h93=new FontFace(t,_a106,_s257);_h93.src=_a106,i.push(_h93);case 24:_context79.next=8;break;case 26:_context79.next=31;break;case 28:_context79.prev=28;_context79.t2=_context79["catch"](6);_iterator265.e(_context79.t2);case 31:_context79.prev=31;_iterator265.f();return _context79.finish(31);case 34:e(i);case 35:case"end":return _context79.stop();}}},_callee78,null,[[6,28,31,34]]);}));return function(_x84){return _ref88.apply(this,arguments);};}());}},{key:"Fo",value:function Fo(t){var _this196=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref89=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee79(i){var _iterator266,_step266,_e405;return regeneratorRuntime.wrap(function _callee79$(_context80){while(1){switch(_context80.prev=_context80.next){case 0:_context80.t0=void 0===_this196.Io[t];if(!_context80.t0){_context80.next=6;break;}_context80.next=4;return _this196.Go(t);case 4:_this196.Io[t]=_context80.sent;_context80.t0=e;case 6:if(!_context80.t0){_context80.next=9;break;}_iterator266=_createForOfIteratorHelper(_this196.Io[t]);try{for(_iterator266.s();!(_step266=_iterator266.n()).done;){_e405=_step266.value;_e405.load();}}catch(err){_iterator266.e(err);}finally{_iterator266.f();}case 9:i();case 10:case"end":return _context80.stop();}}},_callee79);}));return function(_x85){return _ref89.apply(this,arguments);};}());}},{key:"Lo",value:function Lo(){var _this197=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref90=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee80(e){var i;return regeneratorRuntime.wrap(function _callee80$(_context81){while(1){switch(_context81.prev=_context81.next){case 0:i=_this197.Qs.getConfig("bx-textsettings:style",T)["font-family"];_context81.t0=i;if(!_context81.t0){_context81.next=5;break;}_context81.next=5;return _this197.Fo(i,t);case 5:e();case 6:case"end":return _context81.stop();}}},_callee80);}));return function(_x86){return _ref90.apply(this,arguments);};}());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return zr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zr,"observedAttributes",["enabled"]);customElements.define("bx-textcontext",zr);var Or="Enter your text here.",Er='\n  <x-menuitem value="none">\n    <x-label>None</x-label>\n  </x-menuitem>\n\n  <hr/>\n\n  <x-menuitem value="random">\n    <x-label>Random</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="pressure">\n    <x-label>Pressure</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speed">\n    <x-label>Speed</x-label>\n  </x-menuitem>\n\n  <x-menuitem value="speedInverse">\n    <x-label>Speed inverse</x-label>\n  </x-menuitem>\n';var Tr=/*#__PURE__*/function(_lh3){_inherits(Tr,_lh3);var _super58=_createSuper(Tr);function Tr(){var _this198;_classCallCheck(this,Tr);_this198=_super58.call(this),_this198.Ao=Qi(_this198.$o,350,_assertThisInitialized(_this198)),_this198["#font-size-dynamics-param-select"].addEventListener("change",function(t){return _this198.eo(t);}),_this198["#font-size-dynamics-variance-input"].addEventListener("changeend",function(t){return _this198.eo(t);}),_this198["#glyph-rotation-dynamics-param-select"].addEventListener("change",function(t){return _this198.eo(t);}),_this198["#glyph-rotation-dynamics-variance-input"].addEventListener("changeend",function(t){return _this198.eo(t);}),_this198["#opacity-dynamics-param-select"].addEventListener("change",function(t){return _this198.eo(t);}),_this198["#opacity-dynamics-variance-input"].addEventListener("changeend",function(t){return _this198.eo(t);}),_this198["#content-editor"].addEventListener("input",function(){return _this198.Ao();}),_this198["#style-picker"].addEventListener("change",function(){return _this198.io();});return _this198;}_createClass(Tr,[{key:"tn",value:function tn(){this.qs();}},{key:"$o",value:function $o(){""===this["#content-editor"].value?this.Qs.setConfig("bx-textpathsettings:content",null):this.Qs.setConfig("bx-textpathsettings:content",this["#content-editor"].value);}},{key:"eo",value:function eo(t){var e={};"x-select"===t.target.localName&&"none"===t.detail.oldValue&&(t.target.nextElementSibling.value=50),"none"!==this["#font-size-dynamics-param-select"].value&&(e.fontSize={param:this["#font-size-dynamics-param-select"].value,variance:this["#font-size-dynamics-variance-input"].value/100}),"none"!==this["#glyph-rotation-dynamics-param-select"].value&&(e.glyphRotation={param:this["#glyph-rotation-dynamics-param-select"].value,variance:this["#glyph-rotation-dynamics-variance-input"].value/100}),"none"!==this["#opacity-dynamics-param-select"].value&&(e.opacity={param:this["#opacity-dynamics-param-select"].value,variance:this["#opacity-dynamics-variance-input"].value/100}),this.Qs.setConfig("bx-textpathsettings:dynamics",e),this.qs();}},{key:"io",value:function io(){this.Qs.setConfig("bx-textpathsettings:style",this["#style-picker"].value);}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),e=this.Qs.getConfig("bx-textpathsettings:content",Or),i=this.Qs.getConfig("bx-textpathsettings:style",T);t.fontSize?(this["#font-size-dynamics-param-select"].value=t.fontSize.param,this["#font-size-dynamics-variance-input"].value=K(100*t.fontSize.variance,0),this["#font-size-dynamics-variance-input"].disabled=!1):(this["#font-size-dynamics-param-select"].value="none",this["#font-size-dynamics-variance-input"].value=0,this["#font-size-dynamics-variance-input"].disabled=!0),t.glyphRotation?(this["#glyph-rotation-dynamics-param-select"].value=t.glyphRotation.param,this["#glyph-rotation-dynamics-variance-input"].value=K(100*t.glyphRotation.variance,0),this["#glyph-rotation-dynamics-variance-input"].disabled=!1):(this["#glyph-rotation-dynamics-param-select"].value="none",this["#glyph-rotation-dynamics-variance-input"].value=0,this["#glyph-rotation-dynamics-variance-input"].disabled=!0),t.opacity?(this["#opacity-dynamics-param-select"].value=t.opacity.param,this["#opacity-dynamics-variance-input"].value=K(100*t.opacity.variance,0),this["#opacity-dynamics-variance-input"].disabled=!1):(this["#opacity-dynamics-param-select"].value="none",this["#opacity-dynamics-variance-input"].value=0,this["#opacity-dynamics-variance-input"].disabled=!0),this["#content-editor"].value=e,this["#style-picker"].value=i;}}]);return Tr;}(lh);_defineProperty(Tr,"_shadowTemplate",qi(_templateObject198(),Or,Er,Er,Er));_defineProperty(Tr,"_shadowStyleSheet",Xi(_templateObject199()));customElements.define("bx-textpathsettings",Tr);var Ar=Object.entries;var $r=/*#__PURE__*/function(_HTMLElement55){_inherits($r,_HTMLElement55);var _super59=_createSuper($r);_createClass($r,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function $r(){_classCallCheck(this,$r);return _super59.call(this);}_createClass($r,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board"),this.Io={};}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function(){var _tn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee81(){var _this199=this;return regeneratorRuntime.wrap(function _callee81$(_context82){while(1){switch(_context82.prev=_context82.next){case 0:this.jn=.7,this.Pn.pathHud.passive=!0,this.Pn.style.cursor="crosshair",this.Lo(),this.Qs.addEventListener("configchange",this.ln=function(t){_this199.an(t.detail);}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this199.kn(t);});case 1:case"end":return _context82.stop();}}},_callee81,this);}));function tn(){return _tn2.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Pn.pathHud.passive=!1,this.Qs.removeEventListener("configchange",this.ln),this.Pn.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"an",value:function an(_ref91){var t=_ref91.key,e=_ref91.value;"bx-textpathsettings:smoothing"===t&&null!==e&&(this.jn=e);}},{key:"kn",value:function kn(t){var _this200=this;if(1!==t.buttons)return;var _e406,_i416,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e406=function e(i){var n=new DOMPoint(i.clientX,i.clientY);ze(s,n)<3||(window.removeEventListener("pointermove",_e406),_this200.Tn(t));}),window.addEventListener("pointerup",_i416=function i(t){window.removeEventListener("pointermove",_e406),window.removeEventListener("pointerup",_i416);});}},{key:"Tn",value:function Tn(t){var _this201=this;var e,_i421,s=this.Pn,n=this.Qs.getConfig("bx-textpathsettings:dynamics",{}),o=this.Qs.getConfig("bx-textpathsettings:content",Or),l=this.Qs.getConfig("bx-textpathsettings:style",T),a=s.currentContainer||s.currentWorkspace,h=null,r=null,d=null,c=s.geometryPrecision,p=new Array(250).fill(o).join(" "),u=0,x=0,b=null;s.undoManager.checkpoint("Text path"),h=Ei("svg:path"),h.style.fill="none",h.id=s.generateUniqueID("path"),s.defs.append(h),r=Ei("svg:text"),r.style.whiteSpace="pre",a.append(r),ol(r,l),d=Ei("svg:textPath"),d.setAttribute("href","#"+h.id),r.append(d),l["font-family"]&&this.Ro(l["font-family"]);var m=Ht(h).inverse(),g=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),f=[],w=[];f.push({type:"M",values:[g.x,g.y].map(function(t){return K(t,c);})}),h.setPathData(f),s.selectedElements=[r],s.setPointerCapture(t.pointerId);var v=function v(){f.length=f.length-(w.length-1);var _iterator267=_createForOfIteratorHelper(Xa(w,6*_this201.jn/s.scale)),_step267;try{for(_iterator267.s();!(_step267=_iterator267.n()).done;){var _t539=_step267.value;var _e407=[_t539[1].x,_t539[1].y,_t539[2].x,_t539[2].y,_t539[3].x,_t539[3].y];_e407=_e407.map(function(t){return K(t,c);}),f.push({type:"C",values:_e407});}}catch(err){_iterator267.e(err);}finally{_iterator267.f();}h.setPathData(f),w=[];},y=function y(t){var e=Ei("svg:tspan");if(e.textContent=p[d.childElementCount],n.fontSize){var _i417,_s258=parseInt(l["font-size"]),_o152=K(_s258-_s258*n.fontSize.variance,0),_a107=K(_s258+_s258*n.fontSize.variance,0);"random"===n.fontSize.param?_i417=hl(_o152,_a107):"speed"===n.fontSize.param?_i417=_o152+u/8*(_a107-_o152):"speedInverse"===n.fontSize.param?_i417=_a107-u/8*(_a107-_o152):"pressure"===n.fontSize.param&&(_i417=_o152+t.pressure*(_a107-_o152)),_i417=Q(_i417,5,Infinity,0),e.style.fontSize=_i417+"px";}if(n.opacity){var _i418,_s259=void 0!==l.opacity?parseInt(l.opacity):1,_o153=K(_s259-_s259*n.opacity.variance,2),_a108=K(_s259+_s259*n.opacity.variance,2);console.log(_s259,_o153,_a108),"random"===n.opacity.param?_i418=hl(_o153,_a108,2):"speed"===n.opacity.param?_i418=_o153+u/8*(_a108-_o153):"speedInverse"===n.opacity.param?_i418=_a108-u/8*(_a108-_o153):"pressure"===n.opacity.param&&(_i418=_o153+t.pressure*(_a108-_o153)),_i418=Q(_i418,0,1,2),e.style.opacity=_i418;}if(n.glyphRotation){var _i419,_s260=-360*n.glyphRotation.variance,_o154=360*n.glyphRotation.variance;"random"===n.glyphRotation.param?_i419=hl(_s260,_o154,0):"speed"===n.glyphRotation.param?_i419=_s260+u/8*(_o154-_s260):"speedInverse"===n.glyphRotation.param?_i419=_o154-u/8*(_o154-_s260):"pressure"===n.glyphRotation.param&&(_i419=_s260+t.pressure*(_o154-_s260)),_i419=Q(_i419,-360,360,0),e.setAttribute("rotate",_i419);}d.append(e),0===e.getComputedTextLength()?e.remove():y(t);};s.addEventListener("pointermove",e=function e(t){x+=1;var e=new DOMPoint(t.clientX,t.clientY),i=e.matrixTransform(m);if(!b||!Me(b,e,0)){if(b){var _t540=u;u=ze(b,e),x>1&&(u=function(t,e,i){return(1-i)*t+i*e;}(_t540,u,.05));}if(b=e,w.push(i),12===w.length)v();else{var _t541=[i.x,i.y];_t541=_t541.map(function(t){return K(t,c);}),f.push({type:"L",values:_t541}),h.setPathData(f);}y(t);}}),s.addEventListener("pointerup",_i421=function i(t){if(s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i421),w.length>2&&v(),0===d.childElementCount){var _e408=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),_i420=new Z(g,_e408);for(;0===d.childElementCount;){_i420.length+=10,f=[{type:"M",values:[g.x,g.y]},{type:"L",values:[g.x+_i420.x,g.y+_i420.y]}],h.setPathData(f),y(t);}}xi(r);});}},{key:"Ro",value:function Ro(t){var _this202=this;return new Promise(/*#__PURE__*/function(){var _ref92=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee82(e){var _e409;return regeneratorRuntime.wrap(function _callee82$(_context83){while(1){switch(_context83.prev=_context83.next){case 0:if(!(!1===_this202.Js.board.fontsManager.getFamilies().includes(t))){_context83.next=13;break;}_e409=[];if(!_this202.Io[t]){_context83.next=6;break;}_context83.t0=_this202.Io[t];_context83.next=9;break;case 6:_context83.next=8;return _this202.Go(t);case 8:_context83.t0=_context83.sent;case 9:_e409=_context83.t0;_this202.Js.board.fontsManager.addFonts(_e409);_context83.next=13;return Promise.all(_e409.map(function(t){return t.load();}));case 13:e();case 14:case"end":return _context83.stop();}}},_callee82);}));return function(_x87){return _ref92.apply(this,arguments);};}());}},{key:"Go",value:function Go(t){return new Promise(/*#__PURE__*/function(){var _ref93=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee83(e){var i,s,_iterator268,_step268,_step268$value,_e410,_n191,_s261,_o155,_l140,_a109,_h94;return regeneratorRuntime.wrap(function _callee83$(_context84){while(1){switch(_context84.prev=_context84.next){case 0:i=[];_context84.next=3;return Cr();case 3:s=_context84.sent.items.find(function(e){return e.family===t;});if(!s){_context84.next=34;break;}_iterator268=_createForOfIteratorHelper(Ar(s.urls));_context84.prev=6;_iterator268.s();case 8:if((_step268=_iterator268.n()).done){_context84.next=26;break;}_step268$value=_slicedToArray(_step268.value,2),_e410=_step268$value[0],_n191=_step268$value[1];_s261={weight:_e410.substring(0,3),style:_e410.includes("italic")?"italic":"normal"};_context84.next=13;return fetch(_n191);case 13:_o155=_context84.sent;_context84.next=16;return _o155.blob();case 16:_l140=_context84.sent;_context84.next=19;return jh(_l140);case 19:_context84.t0=_context84.sent;_context84.t1='url("'+_context84.t0;_a109=_context84.t1+'")';_h94=new FontFace(t,_a109,_s261);_h94.src=_a109,i.push(_h94);case 24:_context84.next=8;break;case 26:_context84.next=31;break;case 28:_context84.prev=28;_context84.t2=_context84["catch"](6);_iterator268.e(_context84.t2);case 31:_context84.prev=31;_iterator268.f();return _context84.finish(31);case 34:e(i);case 35:case"end":return _context84.stop();}}},_callee83,null,[[6,28,31,34]]);}));return function(_x88){return _ref93.apply(this,arguments);};}());}},{key:"Fo",value:function Fo(t){var _this203=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref94=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee84(i){var _iterator269,_step269,_e411;return regeneratorRuntime.wrap(function _callee84$(_context85){while(1){switch(_context85.prev=_context85.next){case 0:_context85.t0=void 0===_this203.Io[t];if(!_context85.t0){_context85.next=6;break;}_context85.next=4;return _this203.Go(t);case 4:_this203.Io[t]=_context85.sent;_context85.t0=e;case 6:if(!_context85.t0){_context85.next=9;break;}_iterator269=_createForOfIteratorHelper(_this203.Io[t]);try{for(_iterator269.s();!(_step269=_iterator269.n()).done;){_e411=_step269.value;_e411.load();}}catch(err){_iterator269.e(err);}finally{_iterator269.f();}case 9:i();case 10:case"end":return _context85.stop();}}},_callee84);}));return function(_x89){return _ref94.apply(this,arguments);};}());}},{key:"Lo",value:function Lo(){var _this204=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;return new Promise(/*#__PURE__*/function(){var _ref95=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee85(e){var i;return regeneratorRuntime.wrap(function _callee85$(_context86){while(1){switch(_context86.prev=_context86.next){case 0:i=_this204.Qs.getConfig("bx-textsettings:style",T)["font-family"];_context86.t0=i;if(!_context86.t0){_context86.next=5;break;}_context86.next=5;return _this204.Fo(i,t);case 5:e();case 6:case"end":return _context86.stop();}}},_callee85);}));return function(_x90){return _ref95.apply(this,arguments);};}());}}]);return $r;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($r,"observedAttributes",["enabled"]);customElements.define("bx-textpathcontext",$r);var Ir=Math.abs,Lr=Symbol();var Br=/*#__PURE__*/function(_HTMLElement56){_inherits(Br,_HTMLElement56);var _super60=_createSuper(Br);_createClass(Br,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Br(){var _this205;_classCallCheck(this,Br);_this205=_super60.call(this),_this205.En=!1;return _this205;}_createClass(Br,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this206=this;this.Pn.style.cursor=null,this.Pn.workspaces.addEventListener("contextmenu",this.Dn=function(t){_this206.zn(t);}),this.Pn.workspaces.addEventListener("pointerdown",this.On=function(t){_this206.kn(t);});}},{key:"sn",value:function sn(){this.Pn.workspaces.removeEventListener("contextmenu",this.Dn),this.Pn.workspaces.removeEventListener("pointerdown",this.On);}},{key:"zn",value:function zn(t){var e=this.Pn.getHitWorkspaceElements(t.clientX,t.clientY);if(e.length>0){var _t542=e[e.length-1],_i422=this.In(_t542),_s262=this.Pn.selectedElements.includes(_t542);var _iterator270=_createForOfIteratorHelper(_i422),_step270;try{for(_iterator270.s();!(_step270=_iterator270.n()).done;){var _t543=_step270.value;this.Pn.selectedElements.includes(_t543)&&(_s262=!0);}}catch(err){_iterator270.e(err);}finally{_iterator270.f();}!1===_s262&&this.An(_t542);}else this.$n(t);}},{key:"kn",value:function kn(t){var _this207=this;if(1!==t.buttons||!1===t.isPrimary||this.Qs.pointers.length>1)return;var _e412,_i423,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n,l="touch"===t.pointerType?9:3;this.En=!1,window.addEventListener("pointermove",_e412=function e(i){if(i.pointerId!==t.pointerId||_this207.Qs.pointers.length>1)return;var s=new DOMPoint(i.clientX,i.clientY),a=i.timeStamp-t.timeStamp,h=ze(n,s)>l||a>80,r=!1===Me(o,s,0);if(o=s,!0===h&&!0===r){window.removeEventListener("pointermove",_e412),_this207.En=!0;var _s263=new Z(i.clientX-t.clientX,i.clientY-t.clientY),_n192=Ir(_s263.x)>Ir(_s263.y)?"horizontal":"vertical";_this207.Uo(t,i,_n192);}}),window.addEventListener("pointerup",_i423=function i(o){if(o.pointerId!==t.pointerId)return;window.removeEventListener("pointermove",_e412),window.removeEventListener("pointerup",_i423);var a=new DOMPoint(o.clientX,o.clientY);ze(n,a)<l&&_this207.Cn(s,o);});}},{key:"Uo",value:function Uo(t,e,i){var s=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);s.length>0?this.No(e,s[s.length-1],i):this.Vo(t);}},{key:"jo",value:function jo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Pn.workspaces.querySelector(e.href.baseVal)),i;}},{key:"No",value:function No(t,e,i){var _this208=this;var s=this.Js.board;s.undoManager.checkpoint("Move");{var _t544=this.In(e),_i424=!1;s.outermostSelectedElements.includes(e)&&(_i424=!0);var _iterator271=_createForOfIteratorHelper(_t544),_step271;try{for(_iterator271.s();!(_step271=_iterator271.n()).done;){var _e413=_step271.value;s.outermostSelectedElements.includes(_e413)&&(_i424=!0);}}catch(err){_iterator271.e(err);}finally{_iterator271.f();}if(!_i424)if(s.transformHud.mode="scale",0===_t544.length)s.currentContainer=null,s.selectedElements=[e];else{var _t545=this.Ho(e,s.currentContainer);for(;e.parentNode!==_t545&&e.parentNode!==s.currentWorkspace;){e=e.parentNode;}s.currentContainer=_t545,s.selectedElements=[e];}}this.Qs.modKeys.alt&&(this.Pn.insertArtwork(this.Pn.extractArtworkWithSelectedElements(),"original"),e=this.Pn.selectedElements[0]);{var _e414,_n194,_o156=[];var _iterator272=_createForOfIteratorHelper(s.outermostSelectedElements),_step272;try{for(_iterator272.s();!(_step272=_iterator272.n()).done;){var _t550=_step272.value;if("text"===_t550.localName){var _e418=this.jo(_t550);if(_e418&&s.outermostSelectedElements.includes(_e418))continue;}var _e417=Ht(_t550),_i427=_e417.inverse(),_n195=Vt(_t550).multiplySelf(_i427);_t550[Lr]={clientToUserTransform:_e417,initialClientTransform:_n195},_o156.push(_t550);}}catch(err){_iterator272.e(err);}finally{_iterator272.f();}this.style.cursor="move",this.setPointerCapture(t.pointerId),s.snapManager.snapStart(),this.addEventListener("pointermove",_e414=function _e414(e){if(e.pointerId!==t.pointerId)return;var n=e.clientX-t.clientX,l=e.clientY-t.clientY,a=_this208.Qs.modKeys.shift;a&&("vertical"===i?n=0:"horizontal"===i&&(l=0));var _iterator273=_createForOfIteratorHelper(_o156),_step273;try{for(_iterator273.s();!(_step273=_iterator273.n()).done;){var _t548=_step273.value;var _t548$Lr=_t548[Lr],_e416=_t548$Lr.clientToUserTransform,_i426=_t548$Lr.initialClientTransform,_s265=DOMMatrix.fromMatrix(_i426);_s265.translateSelf(n,l),_s265.multiplySelf(_e416),_t548.setAttribute("transform",_s265.toString());}}catch(err){_iterator273.e(err);}finally{_iterator273.f();}if(s.showManualGuides||s.showSmartGuides||s.showGrid){var _t546=_o156.map(function(t){return Di(t);}),_e415=Ve(_t546),_i425=s.snapManager.snapBBox(_e415);if(!1===function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return null!==i?K(t.x,i)===K(e.x,i)&&K(t.y,i)===K(e.y,i)&&K(t.width,i)===K(e.width,i)&&K(t.height,i)===K(e.height,i):t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.neight;}(_e415,_i425)){var _iterator274=_createForOfIteratorHelper(_o156),_step274;try{for(_iterator274.s();!(_step274=_iterator274.n()).done;){var _t547=_step274.value;var _t547$Lr=_t547[Lr],_s264=_t547$Lr.clientToUserTransform,_o157=_t547$Lr.initialClientTransform,_a110=_i425.x-_e415.x,_h95=_i425.y-_e415.y,_r52=DOMMatrix.fromMatrix(_o157);_r52.translateSelf(n+_a110,l+_h95),_r52.multiplySelf(_s264),_t547.setAttribute("transform",_r52.toString());}}catch(err){_iterator274.e(err);}finally{_iterator274.f();}}}}),this.addEventListener("lostpointercapture",_n194=function _n193(){_this208.removeEventListener("pointermove",_e414),_this208.removeEventListener("lostpointercapture",_n194),_this208.style.cursor=null,s.snapManager.snapEnd();var _iterator275=_createForOfIteratorHelper(s.outermostSelectedObjectElements),_step275;try{for(_iterator275.s();!(_step275=_iterator275.n()).done;){var _t549=_step275.value;fa(_t549,{geometryPrecision:s.geometryPrecision,transformPrecision:s.transformPrecision});}}catch(err){_iterator275.e(err);}finally{_iterator275.f();}});}}},{key:"Vo",value:function(){var _Vo=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee86(t){var _this209=this;var e,i,s,n,o,l,a,_t551,_iterator276,_step276,_e419,_i428,_t552,_s266,_l141,_iterator278,_step278,_t554,_e421,_i429,_iterator279,_step279,_t555,_iterator281,_step281,_t557,_e423,_iterator282,_step282,_i430;return regeneratorRuntime.wrap(function _callee86$(_context87){while(1){switch(_context87.prev=_context87.next){case 0:e=t.clientX,i=t.clientY,s=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),n=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),o=this.Pn.currentContainer||this.Pn.currentWorkspace,l=Ht(this.Pn.currentWorkspace).inverse(),a=[];if(!("rect-contain"===n&&(n="contain"),this.Qs.modKeys.ctrl&&("polygon"===s?s="rect":"rect"===s&&(s="polygon")),"rect"===s)){_context87.next=9;break;}_context87.next=4;return this.Pn.rubberBandHud.grabSelection(e,i);case 4:_t551=_context87.sent;_iterator276=_createForOfIteratorHelper(o.children);try{for(_iterator276.s();!(_step276=_iterator276.n()).done;){_e419=_step276.value;if([].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(_e419.localName)){_i428=Ne(Di(_e419),l);!1===(0===_i428.width&&0===_i428.height)&&("contain"===n?He(_t551,_i428)&&a.push(_e419):"intersect"===n&&Ye(_t551,_i428)&&a.push(_e419));}}}catch(err){_iterator276.e(err);}finally{_iterator276.f();}_context87.next=100;break;case 9:if(!("polygon"===s)){_context87.next=100;break;}_context87.next=12;return this.Pn.rubberBandHud.grabSelection(e,i,"polygon");case 12:_t552=_context87.sent;_s266=Bi(_toConsumableArray(o.children));_l141=[];if(!("contain"===n)){_context87.next=60;break;}_l141=function(t,e){var i=[];var _iterator277=_createForOfIteratorHelper(e),_step277;try{for(_iterator277.s();!(_step277=_iterator277.n()).done;){var _s267=_step277.value;var _e420=null;if(x.includes(_s267.localName))_e420=_s267.getPathData({normalize:!0});else if(["image","text","use"].includes(_s267.localName)){var _t553=Pi(_s267);_e420=[{type:"M",values:[_t553.x,_t553.y]},{type:"L",values:[_t553.x+_t553.width,_t553.y]},{type:"L",values:[_t553.x+_t553.width,_t553.y+_t553.height]},{type:"L",values:[_t553.x,_t553.y+_t553.height]}];}if(_e420){var _n196=jt(_s267,_s267.closest("g#vector-canvas"));!1===_n196.isIdentity&&(_e420=se(_e420,_n196));var _o158=new paper.Path(_toConsumableArray(t)),_l142=Dt(it(_e420));_o158.closePath(),_l142.closePath(),0===_l142.subtract(_o158).length&&i.push(_s267);}}}catch(err){_iterator277.e(err);}finally{_iterator277.f();}return i;}(_t552,_s266);_iterator278=_createForOfIteratorHelper(o.children);_context87.prev=18;_iterator278.s();case 20:if((_step278=_iterator278.n()).done){_context87.next=50;break;}_t554=_step278.value;if(!("g"===_t554.localName||"a"===_t554.localName)){_context87.next=47;break;}_e421=Bi(_toConsumableArray(_t554.children));if(!(_e421.length>0)){_context87.next=45;break;}_i429=!0;_iterator279=_createForOfIteratorHelper(_e421);_context87.prev=27;_iterator279.s();case 29:if((_step279=_iterator279.n()).done){_context87.next=36;break;}_t555=_step279.value;if(!(!1===_l141.includes(_t555))){_context87.next=34;break;}_i429=!1;return _context87.abrupt("break",36);case 34:_context87.next=29;break;case 36:_context87.next=41;break;case 38:_context87.prev=38;_context87.t0=_context87["catch"](27);_iterator279.e(_context87.t0);case 41:_context87.prev=41;_iterator279.f();return _context87.finish(41);case 44:_i429&&a.push(_t554);case 45:_context87.next=48;break;case 47:m.includes(_t554.localName)&&_l141.includes(_t554)&&a.push(_t554);case 48:_context87.next=20;break;case 50:_context87.next=55;break;case 52:_context87.prev=52;_context87.t1=_context87["catch"](18);_iterator278.e(_context87.t1);case 55:_context87.prev=55;_iterator278.f();return _context87.finish(55);case 58:_context87.next=100;break;case 60:if(!("intersect"===n)){_context87.next=100;break;}_l141=function(t,e){var i=[];var _iterator280=_createForOfIteratorHelper(e),_step280;try{for(_iterator280.s();!(_step280=_iterator280.n()).done;){var _s268=_step280.value;var _e422=null;if(x.includes(_s268.localName))_e422=_s268.getPathData({normalize:!0});else if(["image","text","use"].includes(_s268.localName)){var _t556=Pi(_s268);_e422=[{type:"M",values:[_t556.x,_t556.y]},{type:"L",values:[_t556.x+_t556.width,_t556.y]},{type:"L",values:[_t556.x+_t556.width,_t556.y+_t556.height]},{type:"L",values:[_t556.x,_t556.y+_t556.height]}];}if(_e422){var _n197=jt(_s268,_s268.closest("g#vector-canvas"));!1===_n197.isIdentity&&(_e422=se(_e422,_n197));var _o159=new paper.Path(_toConsumableArray(t)),_l143=Dt(it(_e422));_o159.closePath(),_l143.closePath(),_o159.intersect(_l143).length>0&&i.push(_s268);}}}catch(err){_iterator280.e(err);}finally{_iterator280.f();}return i;}(_t552,_s266);_iterator281=_createForOfIteratorHelper(o.children);_context87.prev=63;_iterator281.s();case 65:if((_step281=_iterator281.n()).done){_context87.next=92;break;}_t557=_step281.value;if(!("g"===_t557.localName||"a"===_t557.localName)){_context87.next=89;break;}_e423=Bi(_toConsumableArray(_t557.children));_iterator282=_createForOfIteratorHelper(_e423);_context87.prev=70;_iterator282.s();case 72:if((_step282=_iterator282.n()).done){_context87.next=79;break;}_i430=_step282.value;if(!_l141.includes(_i430)){_context87.next=77;break;}a.push(_t557);return _context87.abrupt("break",79);case 77:_context87.next=72;break;case 79:_context87.next=84;break;case 81:_context87.prev=81;_context87.t2=_context87["catch"](70);_iterator282.e(_context87.t2);case 84:_context87.prev=84;_iterator282.f();return _context87.finish(84);case 87:_context87.next=90;break;case 89:m.includes(_t557.localName)&&_l141.includes(_t557)&&a.push(_t557);case 90:_context87.next=65;break;case 92:_context87.next=97;break;case 94:_context87.prev=94;_context87.t3=_context87["catch"](63);_iterator281.e(_context87.t3);case 97:_context87.prev=97;_iterator281.f();return _context87.finish(97);case 100:this.Qs.modKeys.shift?(a=a.filter(function(t){var _iterator283=_createForOfIteratorHelper(_this209.Pn.selectedElements),_step283;try{for(_iterator283.s();!(_step283=_iterator283.n()).done;){var _e424=_step283.value;if(_e424===t||_e424.contains(t))return!1;}}catch(err){_iterator283.e(err);}finally{_iterator283.f();}return!0;}),this.Pn.selectedElements=[].concat(_toConsumableArray(this.Pn.selectedElements),_toConsumableArray(a))):this.Pn.selectedElements=_toConsumableArray(a);case 101:case"end":return _context87.stop();}}},_callee86,this,[[18,52,55,58],[27,38,41,44],[63,94,97,100],[70,81,84,87]]);}));function Vo(_x91){return _Vo.apply(this,arguments);}return Vo;}()},{key:"Cn",value:function Cn(t,e){if(0!==e.button||this.En)return;var i=this.Pn["#transform-hud"],s=this.Pn.getHitWorkspaceElements(e.clientX,e.clientY);if(s.length>0){var _t558=s[s.length-1];if(this.Qs.pointerClickCount%2==1)this.Pn.isSelectableElement(_t558)&&this.An(_t558);else if(this.Qs.pointerClickCount%2==0){var _e425=this.Yo(_t558);if(_e425)this.Pn.currentContainer=_e425,this.Pn.selectedElements=[];else if("use"===_t558.localName){var _e426=_t558.href.baseVal.trim(),_s269=null;if(_e426.length>1&&(_s269=this.Pn.workspaces.querySelector("#"+CSS.escape(_e426.substring(1)))),_s269&&"symbol"===_s269.localName){var _t559=_s269;this.Pn.editSymbol(_t559.id);}else i.mode="scale",this.Js.toggleTool("edit-tool");}else"text"===_t558.localName?(i.mode="scale",this.Js.toggleTool("text-tool")):(i.mode="scale",this.Js.toggleTool("edit-tool"));}}else this.$n(e);}},{key:"An",value:function An(t){var e=this.Js.board,_this$Qs$modKeys3=this.Qs.modKeys,i=_this$Qs$modKeys3.ctrl,s=_this$Qs$modKeys3.alt,n=_this$Qs$modKeys3.shift,o=this.In(t),l=e.selectedElements.includes(t);var _iterator284=_createForOfIteratorHelper(o),_step284;try{for(_iterator284.s();!(_step284=_iterator284.n()).done;){var _t561=_step284.value;e.selectedElements.includes(_t561)&&(l=!0);}}catch(err){_iterator284.e(err);}finally{_iterator284.f();}if(i||n){if(!i&&n){if(0===o.length)e.currentContainer=null,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);else if(e.currentContainer&&e.currentContainer.contains(t)){for(;t.parentNode!==e.currentContainer;){t=t.parentNode;}e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}else{var _i431=this.Ho(t,e.currentContainer);for(;t.parentNode!==_i431&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_i431,e.selectedElements.includes(t)?e.selectedElements=e.selectedElements.filter(function(e){return e!==t;}):e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[t]);}}else if(i&&!n){var _i432=null;for(var _s270=t.parentElement;_s270!==e.currentWorkspace;_s270=_s270.parentElement){if("g"===_s270.localName||"a"===_s270.localName){_i432=_s270;break;}}e.currentContainer=_i432,e.selectedElements=[t];}else if(i&&n){var _i433=e.currentContainer,_s271=e.selectedElements;if(_s271=_s271.includes(t)?_s271.filter(function(e){return e!==t;}):[].concat(_toConsumableArray(_s271),[t]),0===_s271.length)_i433=null;else for(var _t560=_s271[0].parentElement;_t560!==e.currentWorkspace;_t560=_t560.parentElement){if("g"===_t560.localName||"a"===_t560.localName){_i433=_t560;break;}}e.currentContainer=_i433,e.selectedElements=_s271;}}else if(l)"scale"===e.transformHud.mode?e.transformHud.mode="rotate-and-skew":e.transformHud.mode="scale";else if(e.transformHud.mode="scale",0===o.length)e.currentContainer=null,e.selectedElements=[t];else{var _i434=e.currentContainer;if(_i434&&_i434.contains(t)){for(;t.parentNode!==_i434;){t=t.parentNode;}e.selectedElements=[t];}else{var _s272=this.Ho(t,_i434);for(;t.parentNode!==_s272&&t.parentNode!==e.currentWorkspace;){t=t.parentNode;}e.currentContainer=_s272,e.selectedElements=[t];}}}},{key:"$n",value:function $n(t){if(0!==t.button)return;var _this$Qs$modKeys4=this.Qs.modKeys,e=_this$Qs$modKeys4.ctrl,i=_this$Qs$modKeys4.shift;e||i||(2===this.Qs.pointerClickCount&&(this.Pn.currentContainer=null),this.Pn.selectedElements=[]);}},{key:"In",value:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;}},{key:"Yo",value:function Yo(t){var e=[];for(var _i435=t.parentElement;_i435!==this.Pn.currentWorkspace&&_i435!==this.Pn.currentContainer;_i435=_i435.parentElement){"g"!==_i435.localName&&"a"!==_i435.localName||e.push(_i435);}return e.length>0?e[e.length-1]:null;}},{key:"Ho",value:function Ho(t,e){var i=Ri(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}}]);return Br;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Br,"observedAttributes",["enabled"]);customElements.define("bx-transformselectcontext",Br);var Rr=Math.abs,Gr=Math.min;var Fr=/*#__PURE__*/function(_HTMLElement57){_inherits(Fr,_HTMLElement57);var _super61=_createSuper(Fr);function Fr(){_classCallCheck(this,Fr);return _super61.apply(this,arguments);}_createClass(Fr,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this210=this;var t=this.Js.board;t.style.cursor="crosshair",t.workspaces.addEventListener("pointerdown",this.yn=function(t){_this210.kn(t);});}},{key:"sn",value:function sn(){this.Js.board.workspaces.removeEventListener("pointerdown",this.yn);}},{key:"kn",value:function kn(t){var _this211=this;var _e427,_i436,s=new DOMPoint(t.clientX,t.clientY);window.addEventListener("pointermove",_e427=function e(i){var n=new DOMPoint(i.clientX,i.clientY);ze(s,n)>=3&&(window.removeEventListener("pointermove",_e427),_this211.ro(t,i));}),window.addEventListener("click",_i436=function i(t){window.removeEventListener("pointermove",_e427),window.removeEventListener("click",_i436);});}},{key:"ro",value:function ro(t){var _this212=this;var e,_i437,s=this.Js.board,n=s.geometryPrecision,o=Ht(s.currentWorkspace).inverse();s.undoManager.checkpoint("Draw view"),s.snapManager.snapStart(!1);var l=s.maybeCreateDefsForCurrentWorkspace(),a=null;!1===s.currentWorkspace.hasAttribute("viewBox")?s.selectedElements=[]:(a=Ei("svg:view"),a.id=s.generateUniqueID("view",null,1),a.innerHTML="<bx-title>View ".concat(a.id.substring(a.id.indexOf("-")+1),"</bx-title>"),l.append(a),s.selectedElements=[a]);var h=new DOMPoint(t.clientX,t.clientY);h=s.snapManager.snapPoint(h),h=h.matrixTransform(o),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=s.snapManager.snapPoint(e),e=e.matrixTransform(o);var i=e.x-h.x||1,l=e.y-h.y||1,r=Rr(i)||1,d=Rr(l)||1;if(_this212.Qs.modKeys.shift){var _t562=Gr(r,d);r=_t562,d=_t562;}var c=i<0?h.x-r:h.x,p=l<0?h.y-d:h.y;c=K(c,n),p=K(p,n),r=K(r,n),d=K(d,n),a?a.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d)):s.currentWorkspace.setAttribute("viewBox","".concat(c," ").concat(p," ").concat(r," ").concat(d));}),window.addEventListener("pointerup",_i437=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i437),s.snapManager.snapEnd();});}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);return Fr;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fr,"observedAttributes",["enabled"]);customElements.define("bx-viewcontext",Fr);var Ur=Math.min,Nr=Symbol();var Vr={id:"rect-hud",createdCallback:function createdCallback(){this.Wo=!1,this.qo=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #rect-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-corner="1"></circle>\n      <circle class="grippie" data-corner="2"></circle>\n      <circle class="grippie" data-corner="3"></circle>\n      <circle class="grippie" data-corner="4"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator285=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step285;try{for(_iterator285.s();!(_step285=_iterator285.n()).done;){var _t563=_step285.value;this["#"+_t563.getAttribute("uid")]=_t563;}}catch(err){_iterator285.e(err);}finally{_iterator285.f();}},enabledCallback:function enabledCallback(){var _this213=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this213.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this214=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this214.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this214.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this214.wo(t);});},tl:function tl(){this.Xo&&this.Xo.dispatchEvent(new CustomEvent("lostpointercapture")),this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Xo||(this.qo=this.nl(),0===this.qo.length?!0===this.Wo&&this.tl():(!1===this.Wo&&this.el(),this.ol()));},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&t.target.matches(".grippie")&&this.al(t);},al:function al(t){var _this215=this;var e,_i441,s,n,o=this.Pn,l=t.target,a=l.parentElement,h=a[Nr],r=l.getAttribute("data-corner"),d=Ht(h).inverse(),c=o.geometryPrecision,p=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),u=new DOMPoint(p.x,p.y),x="normal",b=!1,m=function m(t){var e,i,s,n,o,l,a,h,r,d,c,p;if("rect"===t.localName){var _u25=t.hasAttribute("rx")?t.rx.baseVal.value:t.ry.baseVal.value,_x92=t.hasAttribute("ry")?t.ry.baseVal.value:t.rx.baseVal.value;e=t.x.baseVal.value,i=t.y.baseVal.value,s=t.width.baseVal.value,n=t.height.baseVal.value,o=_u25,l=_u25,a=_u25,h=_u25,r=_x92,d=_x92,c=_x92,p=_x92;}else if("path"===t.localName){var _u26=bl(t).values;e=_u26[0],i=_u26[1],s=_u26[2],n=_u26[3],o=_u26[4],l=_u26[5],a=_u26[6],h=_u26[7],r=void 0===_u26[8]?o:_u26[8],d=void 0===_u26[9]?l:_u26[9],c=void 0===_u26[10]?a:_u26[10],p=void 0===_u26[11]?h:_u26[11];}return[e,i,s,n,o,l,a,h,r,d,c,p];},g=function g(){var _this215$Qs$modKeys=_this215.Qs.modKeys,t=_this215$Qs$modKeys.ctrl,e=_this215$Qs$modKeys.shift;if(!0===t&&!1===e)x="normal";else if(!1===t&&!0===e)x="symmetric-1234";else if(!0===t&&!0===e)x="symmetric-1234";else{var _t564,_e428,_m23=m(h),_m24=_slicedToArray(_m23,12),_i438=_m24[0],_s273=_m24[1],_n198=_m24[2],_o160=_m24[3],_l144=_m24[4],_a111=_m24[5],_d37=_m24[6],_c32=_m24[7],_p29=_m24[8],_u27=_m24[9],_b24=_m24[10],_g22=_m24[11],_f16=[];if("1"===r&&(_t564=_l144,_e428=_p29),"2"===r&&(_t564=_a111,_e428=_u27),"3"===r&&(_t564=_d37,_e428=_b24),"4"===r&&(_t564=_c32,_e428=_g22),_l144===_t564&&_p29===_e428&&_f16.push("1"),_a111===_t564&&_u27===_e428&&_f16.push("2"),_d37===_t564&&_b24===_e428&&_f16.push("3"),_c32===_t564&&_g22===_e428&&_f16.push("4"),1===_f16.length)x="normal";else{x="symmetric-";var _iterator286=_createForOfIteratorHelper(_f16),_step286;try{for(_iterator286.s();!(_step286=_iterator286.n()).done;){var _t565=_step286.value;x+=_t565;}}catch(err){_iterator286.e(err);}finally{_iterator286.f();}}}},f=function f(){var t=u.x-p.x,e=(u.y,p.y,0),_m25=m(h),_m26=_slicedToArray(_m25,12),i=_m26[0],s=_m26[1],l=_m26[2],d=_m26[3],b=_m26[4],g=_m26[5],f=_m26[6],w=_m26[7],v=_m26[8],y=_m26[9],k=_m26[10],S=_m26[11];if("1"===r?e=n[4]+t:"2"===r?e=n[5]-t:"3"===r?e=n[6]-t:"4"===r&&(e=n[7]+t),e=Q(e,0,Ur(l/2,d/2),c),"normal"===x?"1"===r?(b=e,v=e):"2"===r?(g=e,y=e):"3"===r?(f=e,k=e):"4"===r&&(w=e,S=e):(x.includes("1")&&(b=e,v=e),x.includes("2")&&(g=e,y=e),x.includes("3")&&(f=e,k=e),x.includes("4")&&(w=e,S=e)),b===g&&b===f&&b===w&&v===y&&v===k&&v===S){if("path"===h.localName){var _t567=h,_e430=Ei("svg:rect");var _iterator287=_createForOfIteratorHelper(_t567.attributes),_step287;try{for(_iterator287.s();!(_step287=_iterator287.n()).done;){var _i439=_step287.value;"d"!==_i439.name&&"data-bx-shape"!==_i439.name&&_e430.setAttribute(_i439.name,_i439.value);}}catch(err){_iterator287.e(err);}finally{_iterator287.f();}_e430.setAttribute("x",i),_e430.setAttribute("y",s),_e430.setAttribute("width",l),_e430.setAttribute("height",d),_e430.innerHTML=_t567.innerHTML,_t567.replaceWith(_e430),h=_e430,a[Nr]=_e430,o.selectedElements=o.selectedElements.map(function(i){return i===_t567?_e430:i;});}var _t566=K(b,c),_e429=K(g,c);0===_t566?h.removeAttribute("rx"):h.setAttribute("rx",_t566),0===_e429?h.removeAttribute("ry"):h.setAttribute("ry",_e429);}else{if("rect"===h.localName){var _t569=h,_e431=Ei("svg:path");var _iterator288=_createForOfIteratorHelper(_t569.attributes),_step288;try{for(_iterator288.s();!(_step288=_iterator288.n()).done;){var _i440=_step288.value;!1===["x","y","width","height","rx","ry"].includes(_i440.name)&&_e431.setAttribute(_i440.name,_i440.value);}}catch(err){_iterator288.e(err);}finally{_iterator288.f();}_e431.innerHTML=_t569.innerHTML,_t569.replaceWith(_e431),h=_e431,a[Nr]=_e431,o.selectedElements=o.selectedElements.map(function(i){return i===_t569?_e431:i;});}var _t568;if(b===v&&g===y&&f===k&&w&&S){_t568=[i,s,l,d,b,g,f,w];}else _t568=[i,s,l,d,b,g,f,w,v,y,k,S];_t568=_t568.map(function(t){return K(t,c);}),_ml(h,{type:"rect",values:_t568},c);}};l.parentElement.append(l),l.setPointerCapture(t.pointerId),this.Xo=l,n=m(h),l.addEventListener("pointermove",e=function e(t){b||(b=!0,o.undoManager.checkpoint("Edit rectangle")),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(d),f();}),l.addEventListener("lostpointercapture",_i441=function i(){l.removeEventListener("pointermove",e),l.removeEventListener("lostpointercapture",_i441),_this215.Qs.removeEventListener("modkeyschange",s),_this215.Xo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){g(),f();}),g();},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator289=_createForOfIteratorHelper(this.qo),_step289;try{for(_iterator289.s();!(_step289=_iterator289.n()).done;){var _t570=_step289.value;var _e432=this["#subhud-template"].cloneNode(!0);_e432.removeAttribute("uid"),_e432[Nr]=_t570,this["#subhuds"].append(_e432);}}catch(err){_iterator289.e(err);}finally{_iterator289.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator290=_createForOfIteratorHelper(this["#subhuds"].children),_step290;try{for(_iterator290.s();!(_step290=_iterator290.n()).done;){var _t571=_step290.value;var _e433=void 0,_i442=void 0,_s274=void 0,_n199=void 0,_o161=void 0,_l145=void 0,_a112=void 0,_h96=void 0,_r53=_t571[Nr],_d38=jt(_r53,this);if("rect"===_r53.localName)_e433=_r53.x.baseVal.value,_i442=_r53.y.baseVal.value,_s274=_r53.width.baseVal.value,_n199=_r53.height.baseVal.value,_o161=_r53.rx.baseVal.value,_l145=_r53.rx.baseVal.value,_a112=_r53.rx.baseVal.value,_h96=_r53.rx.baseVal.value;else if("path"===_r53.localName){var _t572=bl(_r53);_e433=_t572.values[0],_i442=_t572.values[1],_s274=_t572.values[2],_n199=_t572.values[3],_o161=_t572.values[4],_l145=_t572.values[5],_a112=_t572.values[6],_h96=_t572.values[7];}var _iterator291=_createForOfIteratorHelper(_t571.children),_step291;try{for(_iterator291.s();!(_step291=_iterator291.n()).done;){var _r54=_step291.value;var _t573=void 0,_c33=_r54.getAttribute("data-corner");"1"===_c33&&(_t573=new DOMPoint(_e433+_o161,_i442)),"2"===_c33?_t573=new DOMPoint(_e433+_s274-_l145,_i442):"3"===_c33?_t573=new DOMPoint(_e433+_s274-_a112,_i442+_n199):"4"===_c33&&(_t573=new DOMPoint(_e433+_h96,_i442+_n199));var _p30=_t573.matrixTransform(_d38);_r54.setAttribute("cx",_p30.x),_r54.setAttribute("cy",_p30.y);}}catch(err){_iterator291.e(err);}finally{_iterator291.f();}}}catch(err){_iterator290.e(err);}finally{_iterator290.f();}},ll:function ll(){var _iterator292=_createForOfIteratorHelper(this["#subhuds"].children),_step292;try{for(_iterator292.s();!(_step292=_iterator292.n()).done;){var _t574=_step292.value;var _iterator293=_createForOfIteratorHelper(_t574.children),_step293;try{for(_iterator293.s();!(_step293=_iterator293.n()).done;){var _e434=_step293.value;_e434.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator293.e(err);}finally{_iterator293.f();}}}catch(err){_iterator292.e(err);}finally{_iterator292.f();}},nl:function nl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator294=_createForOfIteratorHelper(t),_step294;try{for(_iterator294.s();!(_step294=_iterator294.n()).done;){var _i443=_step294.value;"path"===_i443.localName?_i443.hasAttribute("data-bx-shape")&&_i443.getAttribute("data-bx-shape").startsWith("rect")&&e.push(_i443):"rect"===_i443.localName?e.push(_i443):["g","a"].includes(_i443.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.nl(_i443.children))));}}catch(err){_iterator294.e(err);}finally{_iterator294.f();}return e;}};var jr=Symbol(),Hr=6;var Yr={id:"circle-hud",createdCallback:function createdCallback(){this.Wo=!1,this.hl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #circle-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator295=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step295;try{for(_iterator295.s();!(_step295=_iterator295.n()).done;){var _t575=_step295.value;this["#"+_t575.getAttribute("uid")]=_t575;}}catch(err){_iterator295.e(err);}finally{_iterator295.f();}},enabledCallback:function enabledCallback(){var _this216=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this216.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this217=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this217.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this217.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this217.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.hl=this.rl(),0===this.hl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){t.target.classList.contains("grippie")&&this.al(t);},al:function al(t){var _this218=this;if(0!==t.button)return;var e,_i444,s=t.target,n=s.parentElement[jr],o=Ht(n).inverse(),l=n.r.baseVal.value,a=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),h=this.Pn.geometryPrecision,r=new DOMPoint(a.x,a.y),d=!1;s.parentElement.append(s),this.Xo=s,window.addEventListener("pointermove",e=function e(t){d||(d=!0,_this218.Pn.undoManager.checkpoint("Circle radius")),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);var e=r.x-a.x,i=Q(l+e,0,Infinity,h);n.setAttribute("r",i);}),window.addEventListener("pointerup",_i444=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i444),_this218.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator296=_createForOfIteratorHelper(this.hl),_step296;try{for(_iterator296.s();!(_step296=_iterator296.n()).done;){var _t576=_step296.value;var _e435=this["#subhud-template"].cloneNode(!0);_e435.removeAttribute("uid"),_e435[jr]=_t576,this["#subhuds"].append(_e435);}}catch(err){_iterator296.e(err);}finally{_iterator296.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator297=_createForOfIteratorHelper(this["#subhuds"].children),_step297;try{for(_iterator297.s();!(_step297=_iterator297.n()).done;){var _t577=_step297.value;var _e436=_t577[jr],_i445=jt(_e436,this),_s275=_t577.children[0],_n200=new DOMPoint(_e436.cx.baseVal.value+_e436.r.baseVal.value,_e436.cy.baseVal.value);_n200=_n200.matrixTransform(_i445),_s275.setAttribute("cx",_n200.x),_s275.setAttribute("cy",_n200.y);}}catch(err){_iterator297.e(err);}finally{_iterator297.f();}},ll:function ll(){var _iterator298=_createForOfIteratorHelper(this["#subhuds"].children),_step298;try{for(_iterator298.s();!(_step298=_iterator298.n()).done;){var _t578=_step298.value;var _iterator299=_createForOfIteratorHelper(_t578.children),_step299;try{for(_iterator299.s();!(_step299=_iterator299.n()).done;){var _e437=_step299.value;_e437.setAttribute("r",Hr/this.Pn.scale);}}catch(err){_iterator299.e(err);}finally{_iterator299.f();}}}catch(err){_iterator298.e(err);}finally{_iterator298.f();}},rl:function rl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator300=_createForOfIteratorHelper(t),_step300;try{for(_iterator300.s();!(_step300=_iterator300.n()).done;){var _i446=_step300.value;"circle"===_i446.localName?e.push(_i446):["g","a"].includes(_i446.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.rl(_i446.children))));}}catch(err){_iterator300.e(err);}finally{_iterator300.f();}return e;}};var Wr=Symbol(),qr=6;var Xr={id:"ellipse-hud",createdCallback:function createdCallback(){this.Wo=!1,this.dl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #ellipse-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="rx" fill="none"></circle>\n      <circle class="grippie" data-axis="ry" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator301=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step301;try{for(_iterator301.s();!(_step301=_iterator301.n()).done;){var _t579=_step301.value;this["#"+_t579.getAttribute("uid")]=_t579;}}catch(err){_iterator301.e(err);}finally{_iterator301.f();}},enabledCallback:function enabledCallback(){var _this219=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this219.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this220=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this220.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this220.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this220.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.dl=this.cl(),0===this.dl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.al(t);},al:function al(t){var _this221=this;var e,_i447,s,n=t.target,o=n.parentElement[Wr],l=n.getAttribute("data-axis"),a=Ht(o).inverse(),h=o.rx.baseVal.value,r=o.ry.baseVal.value,d=new DOMPoint(t.clientX,t.clientY).matrixTransform(a),c=this.Pn.geometryPrecision,p=new DOMPoint(d.x,d.y),u="normal",x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var b=function b(){var _this221$Qs$modKeys=_this221.Qs.modKeys,t=_this221$Qs$modKeys.ctrl,e=_this221$Qs$modKeys.shift;!0===t&&!1===e?u="normal":(!1===t&&!0===e||!0===t&&!0===e||o.rx.baseVal.value===o.ry.baseVal.value)&&(u="symmetric");},m=function m(){var t=p.x-d.x,e=p.y-d.y;if("rx"===l){if("normal"===u){var _e438=Q(h+t,0,Infinity,c);o.setAttribute("rx",_e438);}else if("symmetric"===u){var _e439=Q(h+t,0,Infinity,c);o.setAttribute("rx",_e439),o.setAttribute("ry",_e439);}}else if("ry"===l)if("normal"===u){var _t580=Q(r+e,0,Infinity,c);o.setAttribute("ry",_t580);}else if("symmetric"===u){var _t581=Q(r+e,0,Infinity,c);o.setAttribute("rx",_t581),o.setAttribute("ry",_t581);}};n.addEventListener("pointermove",e=function e(t){x||(x=!0,_this221.Pn.undoManager.checkpoint("Edit ellipse")),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(a),m();}),n.addEventListener("lostpointercapture",_i447=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i447),_this221.Qs.removeEventListener("modkeyschange",s),_this221.Xo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){b(),m();}),b();},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator302=_createForOfIteratorHelper(this.dl),_step302;try{for(_iterator302.s();!(_step302=_iterator302.n()).done;){var _t582=_step302.value;var _e440=this["#subhud-template"].cloneNode(!0);_e440.removeAttribute("uid"),_e440[Wr]=_t582,this["#subhuds"].append(_e440);}}catch(err){_iterator302.e(err);}finally{_iterator302.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator303=_createForOfIteratorHelper(this["#subhuds"].children),_step303;try{for(_iterator303.s();!(_step303=_iterator303.n()).done;){var _t583=_step303.value;var _e441=_t583[Wr],_i448=jt(_e441,this);var _iterator304=_createForOfIteratorHelper(_t583.children),_step304;try{for(_iterator304.s();!(_step304=_iterator304.n()).done;){var _s276=_step304.value;var _t584=_s276.getAttribute("data-axis");if("rx"===_t584){var _t585=new DOMPoint(_e441.cx.baseVal.value+_e441.rx.baseVal.value,_e441.cy.baseVal.value).matrixTransform(_i448);_s276.setAttribute("cx",_t585.x),_s276.setAttribute("cy",_t585.y);}else if("ry"===_t584){var _t586=new DOMPoint(_e441.cx.baseVal.value,_e441.cy.baseVal.value+_e441.ry.baseVal.value).matrixTransform(_i448);_s276.setAttribute("cx",_t586.x),_s276.setAttribute("cy",_t586.y);}}}catch(err){_iterator304.e(err);}finally{_iterator304.f();}}}catch(err){_iterator303.e(err);}finally{_iterator303.f();}},ll:function ll(){var _iterator305=_createForOfIteratorHelper(this["#subhuds"].children),_step305;try{for(_iterator305.s();!(_step305=_iterator305.n()).done;){var _t587=_step305.value;var _iterator306=_createForOfIteratorHelper(_t587.children),_step306;try{for(_iterator306.s();!(_step306=_iterator306.n()).done;){var _e442=_step306.value;_e442.setAttribute("r",qr/this.Pn.scale);}}catch(err){_iterator306.e(err);}finally{_iterator306.f();}}}catch(err){_iterator305.e(err);}finally{_iterator305.f();}},cl:function cl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator307=_createForOfIteratorHelper(t),_step307;try{for(_iterator307.s();!(_step307=_iterator307.n()).done;){var _i449=_step307.value;"ellipse"===_i449.localName?e.push(_i449):["g","a"].includes(_i449.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.cl(_i449.children))));}}catch(err){_iterator307.e(err);}finally{_iterator307.f();}return e;}};var Zr=Math.min,Kr=Math.max,Qr=Symbol();var Jr={id:"ring-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #ring-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie" data-axis="r1x"></circle>\n      <circle class="grippie" data-axis="r1y"></circle>\n      <circle class="grippie" data-axis="r2x"></circle>\n      <circle class="grippie" data-axis="r2y"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator308=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step308;try{for(_iterator308.s();!(_step308=_iterator308.n()).done;){var _t588=_step308.value;this["#"+_t588.getAttribute("uid")]=_t588;}}catch(err){_iterator308.e(err);}finally{_iterator308.f();}},enabledCallback:function enabledCallback(){var _this222=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this222.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this223=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this223.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this223.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this223.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.pl=this.ul(),0===this.pl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&t.target.classList.contains("grippie")&&this.al(t);},al:function al(t){var _this224=this;var e,_i458,s,n=t.target,o=n.parentElement[Qr],l=Ht(o).inverse(),a=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),h=n.getAttribute("data-axis"),r=new DOMPoint(a.x,a.y),d="normal",c=!1,_bl$values10=_slicedToArray(bl(o).values,6),p=_bl$values10[0],u=_bl$values10[1],x=_bl$values10[2],b=_bl$values10[3],m=_bl$values10[4],g=_bl$values10[5],f=x,w=b,v=m,y=g;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var k=function k(){var _this224$Qs$modKeys=_this224.Qs.modKeys,t=_this224$Qs$modKeys.ctrl,e=_this224$Qs$modKeys.shift;!0===t&&!1===e?d="normal":!1===t&&!0===e?d="symmetric":!0===t&&!0===e?d="double-symmetric":(("r1x"===h&&x===b||"r1y"===h&&x===b)&&(d="symmetric"),("r2x"===h&&m===g||"r2y"===h&&m===g)&&(d="symmetric"));},S=function S(){var t=r.x-a.x,e=r.y-a.y;if("r1x"===h){if("normal"===d){x=Q(f+t,1,m-1);}else if("symmetric"===d){var _e443=1,_i450=Zr(m,g)-1,_s277=Q(f+t,_e443,_i450);x=b=_s277;}else if("double-symmetric"===d){var _e444=m-x,_i451=Q(f+t,1,Infinity);x=b=_i451,m=g=_i451+_e444;}}else if("r1y"===h){if("normal"===d){b=Q(w+e,1,g-1);}else if("symmetric"===d){var _t589=1,_i452=Zr(m,g)-1,_s278=Q(w+e,_t589,_i452);x=b=_s278;}else if("double-symmetric"===d){var _t590=g-b,_i453=Q(w+e,1,Infinity);x=b=_i453,m=g=_i453+_t590;}}else if("r2x"===h){if("normal"===d){m=Q(v+t,x+1,Infinity);}else if("symmetric"===d){var _e445=Kr(x,b)+1,_i454=Q(v+t,_e445,Infinity);m=g=_i454;}else if("double-symmetric"===d){var _e446=m-x,_i455=Q(v+t,_e446+1,Infinity);x=b=_i455-_e446,m=g=_i455;}}else if("r2y"===h)if("normal"===d){g=Q(y+e,b+1,Infinity);}else if("symmetric"===d){var _t591=Kr(x,b)+1,_i456=Q(y+e,_t591,Infinity);m=g=_i456;}else if("double-symmetric"===d){var _t592=g-b,_i457=Q(y+e,_t592+1,r2max);x=b=_i457-_t592,m=g=_i457;}var i=[p,u,x,b,m,g];i=i.map(function(t){return K(t,_this224.Pn.geometryPrecision);}),_ml(o,{type:"ring",values:i},_this224.Pn.geometryPrecision);};n.addEventListener("pointermove",e=function e(t){c||(_this224.Pn.undoManager.checkpoint("Ring radius"),c=!0),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(l),S();}),n.addEventListener("lostpointercapture",_i458=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i458),_this224.Qs.removeEventListener("modkeyschange",s),_this224.Xo=null;}),this.Qs.addEventListener("modkeyschange",s=function s(){k(),S();}),k();},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator309=_createForOfIteratorHelper(this.pl),_step309;try{for(_iterator309.s();!(_step309=_iterator309.n()).done;){var _t593=_step309.value;var _e447=this["#subhud-template"].cloneNode(!0);_e447.removeAttribute("uid"),_e447[Qr]=_t593,this["#subhuds"].append(_e447);}}catch(err){_iterator309.e(err);}finally{_iterator309.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator310=_createForOfIteratorHelper(this["#subhuds"].children),_step310;try{for(_iterator310.s();!(_step310=_iterator310.n()).done;){var _t594=_step310.value;var _e448=_t594[Qr],_i459=jt(_e448,this),_bl$values11=_slicedToArray(bl(_e448).values,6),_s279=_bl$values11[0],_n201=_bl$values11[1],_o162=_bl$values11[2],_l146=_bl$values11[3],_a113=_bl$values11[4],_h97=_bl$values11[5];var _iterator311=_createForOfIteratorHelper(_t594.children),_step311;try{for(_iterator311.s();!(_step311=_iterator311.n()).done;){var _e449=_step311.value;var _t595=_e449.getAttribute("data-axis");if("r1x"===_t595){var _t596=new DOMPoint(_s279+_o162,_n201).matrixTransform(_i459);_e449.setAttribute("cx",_t596.x),_e449.setAttribute("cy",_t596.y);}else if("r1y"===_t595){var _t597=new DOMPoint(_s279,_n201+_l146).matrixTransform(_i459);_e449.setAttribute("cx",_t597.x),_e449.setAttribute("cy",_t597.y);}else if("r2x"===_t595){var _t598=new DOMPoint(_s279+_a113,_n201).matrixTransform(_i459);_e449.setAttribute("cx",_t598.x),_e449.setAttribute("cy",_t598.y);}else if("r2y"===_t595){var _t599=new DOMPoint(_s279,_n201+_h97).matrixTransform(_i459);_e449.setAttribute("cx",_t599.x),_e449.setAttribute("cy",_t599.y);}}}catch(err){_iterator311.e(err);}finally{_iterator311.f();}}}catch(err){_iterator310.e(err);}finally{_iterator310.f();}},ll:function ll(){var _iterator312=_createForOfIteratorHelper(this["#subhuds"].children),_step312;try{for(_iterator312.s();!(_step312=_iterator312.n()).done;){var _t600=_step312.value;var _iterator313=_createForOfIteratorHelper(_t600.children),_step313;try{for(_iterator313.s();!(_step313=_iterator313.n()).done;){var _e450=_step313.value;_e450.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator313.e(err);}finally{_iterator313.f();}}}catch(err){_iterator312.e(err);}finally{_iterator312.f();}},ul:function ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator314=_createForOfIteratorHelper(t),_step314;try{for(_iterator314.s();!(_step314=_iterator314.n()).done;){var _i460=_step314.value;"path"===_i460.localName?_i460.hasAttribute("data-bx-shape")&&_i460.getAttribute("data-bx-shape").startsWith("ring")&&e.push(_i460):["g","a"].includes(_i460.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ul(_i460.children))));}}catch(err){_iterator314.e(err);}finally{_iterator314.f();}return e;}};var td=Number.MAX_SAFE_INTEGER,ed=Symbol();var id={id:"pie-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #pie-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #pie-hud .start-angle-grippie,\n    #pie-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie angle-grippie start-angle-grippie"></circle>\n      <circle class="grippie angle-grippie end-angle-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator315=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step315;try{for(_iterator315.s();!(_step315=_iterator315.n()).done;){var _t601=_step315.value;this["#"+_t601.getAttribute("uid")]=_t601;}}catch(err){_iterator315.e(err);}finally{_iterator315.f();}},enabledCallback:function enabledCallback(){var _this225=this;this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this225.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this226=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this226.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this226.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this226.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.xl=this.bl(),0===this.xl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r-grippie")?this.ml(t):t.target.matches(".angle-grippie")&&this.gl(t));},ml:function ml(t){var _this227=this;var e,_i461,s,n=this.Pn,o=t.target,l=o.parentElement[ed],_bl$values12=_slicedToArray(bl(l).values,6),a=_bl$values12[0],h=_bl$values12[1],r=_bl$values12[2],d=_bl$values12[3],c=_bl$values12[4],p=_bl$values12[5],u=!1,x=Ht(l).inverse(),b=jt(l,n.vectorCanvas).inverse(),m=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),g=new DOMPoint(a,h),f=new DOMPoint(o.cx.baseVal.value,o.cy.baseVal.value).matrixTransform(b),w=new Z(m,f),v=g;{var _t602=(c+p)/2;c>p&&(_t602-=180);var _e451=new DOMMatrix();_e451.translateSelf(a,h),_e451.rotateSelf(_t602),_e451.translateSelf(-a,-h),s=new DOMPoint(a,h-td).matrixTransform(_e451);}o.parentElement.append(o),o.setPointerCapture(t.pointerId),this.Xo=o,o.addEventListener("pointermove",e=function e(t){!1===u&&(u=!0,n.undoManager.checkpoint("Pie radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(x),i=w.transformPoint(e),_Ee5=Ee(v,s,i,!1),_Ee6=_slicedToArray(_Ee5,1),b=_Ee6[0],m=ze(g,b);o.matches(".r1-grippie")?r=m>d-1?d-1:m:o.matches(".r2-grippie")&&(d=m<r+1?r+1:m),_ml(l,{type:"pie",values:[a,h,r,d,c,p]},n.geometryPrecision);}),o.addEventListener("lostpointercapture",_i461=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("lostpointercapture",_i461),_this227.Xo=null;});},gl:function gl(t){var _this228=this;var e,_i462,s=t.target,n=s.parentElement[ed],o=Ht(n).inverse(),l=this.Pn.geometryPrecision,_bl$values13=_slicedToArray(bl(n).values,6),a=_bl$values13[0],h=_bl$values13[1],r=_bl$values13[2],d=_bl$values13[3],c=_bl$values13[4],p=_bl$values13[5],u=c,x=p,b=new DOMPoint(a,h),m=new DOMPoint(b.x,b.y-100),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Le(b,m,e);i=_this228.fl(i),s.matches(".start-angle-grippie")?c=i:p=i,!1!==g||c===u&&p===x||(_this228.Pn.undoManager.checkpoint("Pie start angle"),g=!0),_ml(n,{type:"pie",values:[a,h,r,d,c,p]},l);}),s.addEventListener("lostpointercapture",_i462=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i462),_this228.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator316=_createForOfIteratorHelper(this.xl),_step316;try{for(_iterator316.s();!(_step316=_iterator316.n()).done;){var _t603=_step316.value;var _e452=this["#subhud-template"].cloneNode(!0);_e452.removeAttribute("uid"),_e452[ed]=_t603,this["#subhuds"].append(_e452);}}catch(err){_iterator316.e(err);}finally{_iterator316.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator317=_createForOfIteratorHelper(this["#subhuds"].children),_step317;try{for(_iterator317.s();!(_step317=_iterator317.n()).done;){var _t604=_step317.value;var _e453=_t604[ed],_i463=jt(_e453,this.Pn.vectorCanvas),_bl$values14=_slicedToArray(bl(_e453).values,6),_s280=_bl$values14[0],_n202=_bl$values14[1],_o163=_bl$values14[2],_l147=_bl$values14[3],_a114=_bl$values14[4],_h98=_bl$values14[5];var _iterator318=_createForOfIteratorHelper(_t604.children),_step318;try{for(_iterator318.s();!(_step318=_iterator318.n()).done;){var _e454=_step318.value;if(_e454.matches(".start-angle-grippie")){var _t605=new DOMMatrix();_t605.translateSelf(_s280,_n202),_t605.rotateSelf(_a114),_t605.translateSelf(-_s280,-_n202);var _h99=new DOMPoint(_s280,_n202-_o163+(_o163-_l147)/2);_h99=_h99.matrixTransform(_t605),_h99=_h99.matrixTransform(_i463),_e454.setAttribute("cx",_h99.x),_e454.setAttribute("cy",_h99.y);}else if(_e454.matches(".end-angle-grippie")){var _t606=new DOMMatrix();_t606.translateSelf(_s280,_n202),_t606.rotateSelf(_h98),_t606.translateSelf(-_s280,-_n202);var _a115=new DOMPoint(_s280,_n202-_o163+(_o163-_l147)/2);_a115=_a115.matrixTransform(_t606),_a115=_a115.matrixTransform(_i463),_e454.setAttribute("cx",_a115.x),_e454.setAttribute("cy",_a115.y);}else if(_e454.matches(".r1-grippie")){var _t607=(_a114+_h98)/2;_a114>_h98&&(_t607-=180);var _l148=new DOMMatrix();_l148.translateSelf(_s280,_n202),_l148.rotateSelf(_t607),_l148.translateSelf(-_s280,-_n202);var _r55=new DOMPoint(_s280,_n202-_o163);_r55=_r55.matrixTransform(_l148),_r55=_r55.matrixTransform(_i463),_e454.setAttribute("cx",_r55.x),_e454.setAttribute("cy",_r55.y);}else if(_e454.matches(".r2-grippie")){var _t608=(_a114+_h98)/2;_a114>_h98&&(_t608-=180);var _o164=new DOMMatrix();_o164.translateSelf(_s280,_n202),_o164.rotateSelf(_t608),_o164.translateSelf(-_s280,-_n202);var _r56=new DOMPoint(_s280,_n202-_l147);_r56=_r56.matrixTransform(_o164),_r56=_r56.matrixTransform(_i463),_e454.setAttribute("cx",_r56.x),_e454.setAttribute("cy",_r56.y);}}}catch(err){_iterator318.e(err);}finally{_iterator318.f();}}}catch(err){_iterator317.e(err);}finally{_iterator317.f();}},ll:function ll(){var _iterator319=_createForOfIteratorHelper(this["#subhuds"].children),_step319;try{for(_iterator319.s();!(_step319=_iterator319.n()).done;){var _t609=_step319.value;var _iterator320=_createForOfIteratorHelper(_t609.children),_step320;try{for(_iterator320.s();!(_step320=_iterator320.n()).done;){var _e455=_step320.value;_e455.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator320.e(err);}finally{_iterator320.f();}}}catch(err){_iterator319.e(err);}finally{_iterator319.f();}},bl:function bl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator321=_createForOfIteratorHelper(t),_step321;try{for(_iterator321.s();!(_step321=_iterator321.n()).done;){var _i464=_step321.value;"path"===_i464.localName?_i464.hasAttribute("data-bx-shape")&&_i464.getAttribute("data-bx-shape").startsWith("pie")&&e.push(_i464):["g","a"].includes(_i464.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.bl(_i464.children))));}}catch(err){_iterator321.e(err);}finally{_iterator321.f();}return e;},fl:function fl(t){for(;t<0;){t+=360;}for(;t>360;){t-=360;}return t;}};var sd=Math.abs,nd=Math.min,od=Math.max,ld=Math.sin,ad=Math.cos,hd=Symbol();var rd={id:"crescent-hud",createdCallback:function createdCallback(){this.Wo=!1,this.wl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #crescent-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arch-grippie"></circle>\n      <circle class="grippie hollow-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator322=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step322;try{for(_iterator322.s();!(_step322=_iterator322.n()).done;){var _t610=_step322.value;this["#"+_t610.getAttribute("uid")]=_t610;}}catch(err){_iterator322.e(err);}finally{_iterator322.f();}},enabledCallback:function enabledCallback(){var _this229=this;this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this229.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this230=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this230.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this230.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this230.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.wl=this.vl(),0===this.wl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arch-grippie")?this.yl(t):t.target.matches(".hollow-grippie")&&this.kl(t));},yl:function yl(t){var _this231=this;var e,_i465,s=this.Pn,n=t.target,o=n.parentElement[hd],_bl$values15=_slicedToArray(bl(o).values,5),l=_bl$values15[0],a=_bl$values15[1],h=_bl$values15[2],r=_bl$values15[3],d=_bl$values15[4],c=r,p=Ht(o).inverse(),u=jt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l,a),g=new DOMPoint(l+h,a),f=new Z(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),n=qe(i,m,h),u=Le(m,n,g);r=u<0&&u>=-90?1:u<-90&&u>=-180?359:Q(sd(2*u),1,359,0),!1===w&&r!==c&&(s.undoManager.checkpoint("Crescent arch"),w=!0),_ml(o,{type:"crescent",values:[l,a,h,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i465=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i465),_this231.Xo=null;});},kl:function kl(t){var _this232=this;var e,_i466,s=this.Pn,n=t.target,o=n.parentElement[hd],_bl$values16=_slicedToArray(bl(o).values,5),l=_bl$values16[0],a=_bl$values16[1],h=_bl$values16[2],r=_bl$values16[3],d=_bl$values16[4],c=d,p=Ht(o).inverse(),u=jt(o,s.vectorCanvas).inverse(),x=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),b=new DOMPoint(n.cx.baseVal.value,n.cy.baseVal.value).matrixTransform(u),m=new DOMPoint(l-h,a),g=new DOMPoint(l+h,a),f=new Z(x,b),w=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(p),i=f.transformPoint(e),_Ee7=Ee(m,g,i,!1),_Ee8=_slicedToArray(_Ee7,1),n=_Ee8[0];d=(n.x-m.x)/(2*h),d=Q(d,0,1,4),!1===w&&d!==c&&(s.undoManager.checkpoint("Crescent hollow"),w=!0),_ml(o,{type:"crescent",values:[l,a,h,r,d]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i466=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i466),_this232.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator323=_createForOfIteratorHelper(this.wl),_step323;try{for(_iterator323.s();!(_step323=_iterator323.n()).done;){var _t611=_step323.value;var _e456=this["#subhud-template"].cloneNode(!0);_e456.removeAttribute("uid"),_e456[hd]=_t611,this["#subhuds"].append(_e456);}}catch(err){_iterator323.e(err);}finally{_iterator323.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator324=_createForOfIteratorHelper(this["#subhuds"].children),_step324;try{for(_iterator324.s();!(_step324=_iterator324.n()).done;){var _t612=_step324.value;var _e457=_t612[hd],_i467=jt(_e457,this.Pn.vectorCanvas),_bl$values17=_slicedToArray(bl(_e457).values,5),_s281=_bl$values17[0],_n203=_bl$values17[1],_o165=_bl$values17[2],_l149=_bl$values17[3],_a116=_bl$values17[4];var _iterator325=_createForOfIteratorHelper(_t612.children),_step325;try{for(_iterator325.s();!(_step325=_iterator325.n()).done;){var _e458=_step325.value;if(_e458.matches(".arch-grippie")){var _t613=Be(90-_l149/2),_a117=Fe(_t613),_h100=new DOMPoint(_s281+_o165*ld(_a117),_n203+_o165*-ad(_a117));_h100=_h100.matrixTransform(_i467),_e458.setAttribute("cx",_h100.x),_e458.setAttribute("cy",_h100.y);}else if(_e458.matches(".hollow-grippie")){var _t614=new DOMPoint(_s281-_o165+2*_o165*_a116,_n203);_t614=_t614.matrixTransform(_i467),_e458.setAttribute("cx",_t614.x),_e458.setAttribute("cy",_t614.y);}}}catch(err){_iterator325.e(err);}finally{_iterator325.f();}}}catch(err){_iterator324.e(err);}finally{_iterator324.f();}},ll:function ll(){var _iterator326=_createForOfIteratorHelper(this["#subhuds"].children),_step326;try{for(_iterator326.s();!(_step326=_iterator326.n()).done;){var _t615=_step326.value;var _iterator327=_createForOfIteratorHelper(_t615.children),_step327;try{for(_iterator327.s();!(_step327=_iterator327.n()).done;){var _e459=_step327.value;_e459.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator327.e(err);}finally{_iterator327.f();}}}catch(err){_iterator326.e(err);}finally{_iterator326.f();}},vl:function vl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator328=_createForOfIteratorHelper(t),_step328;try{for(_iterator328.s();!(_step328=_iterator328.n()).done;){var _i468=_step328.value;"path"===_i468.localName?_i468.hasAttribute("data-bx-shape")&&_i468.getAttribute("data-bx-shape").startsWith("crescent")&&e.push(_i468):["g","a"].includes(_i468.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.vl(_i468.children))));}}catch(err){_iterator328.e(err);}finally{_iterator328.f();}return e;}};var dd=Math.abs,cd=Symbol();var pd={id:"triangle-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #triangle-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #triangle-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #triangle-hud .corner-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator329=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step329;try{for(_iterator329.s();!(_step329=_iterator329.n()).done;){var _t616=_step329.value;this["#"+_t616.getAttribute("uid")]=_t616;}}catch(err){_iterator329.e(err);}finally{_iterator329.f();}},enabledCallback:function enabledCallback(){var _this233=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this233.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this234=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this234.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this234.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this234.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Sl=this._l(),0===this.Sl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.Cl(t):t.target.matches(".corner-grippie")&&this.Ml(t));},Cl:function Cl(t){var _this235=this;var e,_i469,s=t.target,n=s.parentElement[cd],o=Ht(n).inverse(),_bl$values18=_slicedToArray(bl(n).values,6),l=_bl$values18[0],a=_bl$values18[1],h=_bl$values18[2],r=_bl$values18[3],d=_bl$values18[4],c=_bl$values18[5],p=this.Pn.geometryPrecision,u=new DOMPoint(l,a),x=new DOMPoint(l+h,a),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(l+h*d,a),g=new Z(m,b).getOppositeVector(),f=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===f&&(f=!0,_this235.Pn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o);e=g.transformPoint(e);var _Ee9=Ee(u,x,e,!1),_Ee10=_slicedToArray(_Ee9,1),i=_Ee10[0];d=(i.x-u.x)/h,d=Q(d,0,1,4),_this235.Qs.modKeys.shift&&(d=[0,.5,1].reduce(function(t,e){return dd(e-d)<dd(t-d)?e:t;}));var s=[l,a,h,r,d,c].map(function(t){return K(t,p);});_ml(n,{type:"triangle",values:s},p);}),s.addEventListener("lostpointercapture",_i469=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i469),_this235.Xo=null;});},Ml:function Ml(t){var _this236=this;var e,_i470,s=t.target,n=s.parentElement[cd],o=(Vt(n),Ht(n).inverse()),_bl$values19=_slicedToArray(bl(n).values,6),l=_bl$values19[0],a=_bl$values19[1],h=_bl$values19[2],r=_bl$values19[3],d=_bl$values19[4],c=_bl$values19[5],p=this.Pn.geometryPrecision,u=new DOMPoint(l+h*d,a),x=new DOMPoint(l+h,a+r),b=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),m=new DOMPoint(b.x,b.y),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this236.Pn.undoManager.checkpoint("Triangle radius"));var e=new DOMPoint(t.clientX,t.clientY);m=e.matrixTransform(o);var _Ee11=Ee(x,u,m,!1),_Ee12=_slicedToArray(_Ee11,1),i=_Ee12[0],s=new Z(x,i),c=new Z(x,u),b=s.length/c.length,f=Q(b,0,.5,4),w=[l,a,h,r,d,f].map(function(t){return K(t,p);});_ml(n,{type:"triangle",values:w},p);}),s.addEventListener("lostpointercapture",_i470=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i470),_this236.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator330=_createForOfIteratorHelper(this.Sl),_step330;try{for(_iterator330.s();!(_step330=_iterator330.n()).done;){var _t617=_step330.value;var _e460=this["#subhud-template"].cloneNode(!0);_e460.removeAttribute("uid"),_e460[cd]=_t617,this["#subhuds"].append(_e460);}}catch(err){_iterator330.e(err);}finally{_iterator330.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator331=_createForOfIteratorHelper(this["#subhuds"].children),_step331;try{for(_iterator331.s();!(_step331=_iterator331.n()).done;){var _t618=_step331.value;var _e461=_t618[cd],_i471=jt(_e461,this),_bl$values20=_slicedToArray(bl(_e461).values,6),_s282=_bl$values20[0],_n204=_bl$values20[1],_o166=_bl$values20[2],_l150=_bl$values20[3],_a118=_bl$values20[4],_h101=_bl$values20[5];var _iterator332=_createForOfIteratorHelper(_t618.children),_step332;try{for(_iterator332.s();!(_step332=_iterator332.n()).done;){var _e462=_step332.value;if(_e462.matches(".shift-grippie")){var _t619=new DOMPoint(_s282+_o166*_a118,_n204).matrixTransform(_i471);_e462.setAttribute("cx",_t619.x),_e462.setAttribute("cy",_t619.y);}else if(_e462.matches(".corner-grippie")){var _t620=new DOMPoint(_s282+_o166*_a118,_n204).matrixTransform(_i471),_r57=new DOMPoint(_s282+_o166,_n204+_l150).matrixTransform(_i471),_d39=Te(_r57,_t620,_h101);_e462.setAttribute("cx",_d39.x),_e462.setAttribute("cy",_d39.y);}}}catch(err){_iterator332.e(err);}finally{_iterator332.f();}}}catch(err){_iterator331.e(err);}finally{_iterator331.f();}},ll:function ll(){var _iterator333=_createForOfIteratorHelper(this["#subhuds"].children),_step333;try{for(_iterator333.s();!(_step333=_iterator333.n()).done;){var _t621=_step333.value;var _iterator334=_createForOfIteratorHelper(_t621.children),_step334;try{for(_iterator334.s();!(_step334=_iterator334.n()).done;){var _e463=_step334.value;_e463.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator334.e(err);}finally{_iterator334.f();}}}catch(err){_iterator333.e(err);}finally{_iterator333.f();}},_l:function _l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator335=_createForOfIteratorHelper(t),_step335;try{for(_iterator335.s();!(_step335=_iterator335.n()).done;){var _i472=_step335.value;"path"===_i472.localName?_i472.hasAttribute("data-bx-shape")&&_i472.getAttribute("data-bx-shape").startsWith("triangle")&&e.push(_i472):["g","a"].includes(_i472.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this._l(_i472.children))));}}catch(err){_iterator335.e(err);}finally{_iterator335.f();}return e;}};var ud=Symbol(),xd=6;var bd={id:"n-gon-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #n-gon-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #n-gon-hud .grippie.r-grippie {\n      fill: red;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie corner-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator336=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step336;try{for(_iterator336.s();!(_step336=_iterator336.n()).done;){var _t622=_step336.value;this["#"+_t622.getAttribute("uid")]=_t622;}}catch(err){_iterator336.e(err);}finally{_iterator336.f();}},enabledCallback:function enabledCallback(){var _this237=this;this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this237.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this238=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this238.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this238.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this238.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Pl=this.Dl(),0===this.Pl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".arms-grippie")?this.zl(t):t.target.matches(".corner-grippie")&&this.Ml(t));},zl:function zl(t){var _this239=this;if(0!==t.button)return;var e,_i473,s=t.target,n=s.parentElement[ud],o=this.Pn.geometryPrecision,_bl$values21=_slicedToArray(bl(n).values,6),l=_bl$values21[0],a=_bl$values21[1],h=_bl$values21[2],r=_bl$values21[3],d=_bl$values21[4],c=_bl$values21[5],p=d,u=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(_e464){var i=K((_e464.clientX-t.clientX)/10,0);d=p+i,d<5&&(d=5),!1===u&&d!==p&&(_this239.Pn.undoManager.checkpoint("Change number of n-gon arms"),u=!0),_ml(n,{type:"n-gon",values:[l,a,h,r,d,c]},o);}),s.addEventListener("lostpointercapture",_i473=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i473),_this239.Xo=null;});},Ml:function Ml(t){var _this240=this;if(0!==t.button)return;var e,_i474,s=t.target,n=s.parentElement[ud],o=(Vt(n),Ht(n).inverse()),l=this.Pn.geometryPrecision,_bl$values22=_slicedToArray(bl(n).values,6),a=_bl$values22[0],h=_bl$values22[1],r=_bl$values22[2],d=_bl$values22[3],c=_bl$values22[4],p=_bl$values22[5],u=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),x=new DOMPoint(u.x,u.y),b=Ol(0,a,h,r,d,c),m=Ol(1,a,h,r,d,c),g=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===g&&(g=!0,_this240.Pn.undoManager.checkpoint("N-gon radius"));var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(o);var _Ee13=Ee(b,m,x,!1),_Ee14=_slicedToArray(_Ee13,1),i=_Ee14[0],s=new Z(b,i),p=new Z(b,m),u=s.length/p.length,f=Q(u,0,.5,2);_ml(n,{type:"n-gon",values:[a,h,r,d,c,f]},l);}),s.addEventListener("lostpointercapture",_i474=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i474),_this240.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator337=_createForOfIteratorHelper(this.Pl),_step337;try{for(_iterator337.s();!(_step337=_iterator337.n()).done;){var _t623=_step337.value;var _e465=this["#subhud-template"].cloneNode(!0);_e465.removeAttribute("uid"),_e465[ud]=_t623,this["#subhuds"].append(_e465);}}catch(err){_iterator337.e(err);}finally{_iterator337.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator338=_createForOfIteratorHelper(this["#subhuds"].children),_step338;try{for(_iterator338.s();!(_step338=_iterator338.n()).done;){var _t624=_step338.value;var _e466=_t624[ud],_i475=jt(_e466,this),_bl$values23=_slicedToArray(bl(_e466).values,6),_s283=_bl$values23[0],_n205=_bl$values23[1],_o167=_bl$values23[2],_l151=_bl$values23[3],_a119=_bl$values23[4],_h102=_bl$values23[5];var _iterator339=_createForOfIteratorHelper(_t624.children),_step339;try{for(_iterator339.s();!(_step339=_iterator339.n()).done;){var _e467=_step339.value;if(_e467.matches(".arms-grippie")){var _t625=new DOMPoint(_s283,_n205).matrixTransform(_i475);_e467.setAttribute("cx",_t625.x),_e467.setAttribute("cy",_t625.y);}else if(_e467.matches(".corner-grippie")){var _t626=Ol(0,_s283,_n205,_o167,_l151,_a119).matrixTransform(_i475),_r58=Ol(1,_s283,_n205,_o167,_l151,_a119).matrixTransform(_i475),_d40=Te(_t626,_r58,_h102);_e467.setAttribute("cx",_d40.x),_e467.setAttribute("cy",_d40.y);}}}catch(err){_iterator339.e(err);}finally{_iterator339.f();}}}catch(err){_iterator338.e(err);}finally{_iterator338.f();}},ll:function ll(){var _iterator340=_createForOfIteratorHelper(this["#subhuds"].children),_step340;try{for(_iterator340.s();!(_step340=_iterator340.n()).done;){var _t627=_step340.value;var _iterator341=_createForOfIteratorHelper(_t627.children),_step341;try{for(_iterator341.s();!(_step341=_iterator341.n()).done;){var _e468=_step341.value;_e468.setAttribute("r",xd/this.Pn.scale);}}catch(err){_iterator341.e(err);}finally{_iterator341.f();}}}catch(err){_iterator340.e(err);}finally{_iterator340.f();}},Dl:function Dl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator342=_createForOfIteratorHelper(t),_step342;try{for(_iterator342.s();!(_step342=_iterator342.n()).done;){var _i476=_step342.value;"path"===_i476.localName?_i476.hasAttribute("data-bx-shape")&&_i476.getAttribute("data-bx-shape").startsWith("n-gon")&&e.push(_i476):["g","a"].includes(_i476.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Dl(_i476.children))));}}catch(err){_iterator342.e(err);}finally{_iterator342.f();}return e;}};var md=Math.sin,gd=Math.cos,fd=Math.PI,wd=Symbol();var vd={id:"star-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #star-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie arms-grippie"></circle>\n      <circle class="grippie depth-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator343=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step343;try{for(_iterator343.s();!(_step343=_iterator343.n()).done;){var _t628=_step343.value;this["#"+_t628.getAttribute("uid")]=_t628;}}catch(err){_iterator343.e(err);}finally{_iterator343.f();}},enabledCallback:function enabledCallback(){var _this241=this;this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this241.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this242=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this242.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this242.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this242.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Ol=this.El(),0===this.Ol.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".depth-grippie")?this.Tl(t):t.target.matches(".arms-grippie")&&this.zl(t));},Tl:function Tl(t){var _this243=this;var e,_i477,s=t.target,n=s.parentElement[wd],o=Ht(n).inverse(),_bl$values24=_slicedToArray(bl(n).values,6),l=_bl$values24[0],a=_bl$values24[1],h=_bl$values24[2],r=_bl$values24[3],d=_bl$values24[4],c=_bl$values24[5],p=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),u=new DOMPoint(l,a),x=El(1,l,a,h,r,d,c),b=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===b&&(b=!0,_this243.Pn.undoManager.checkpoint("Inner star radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=new Z(x,p).getOppositeVector().transformPoint(e),s=2*fd*(1/c/2)-fd/2,m=u,g=new DOMPoint(h*gd(s)+l,r*md(s)+a),_Ee15=Ee(m,g,i,!1),_Ee16=_slicedToArray(_Ee15,1),f=_Ee16[0];d=new Z(m,f).length/new Z(m,g).length,d=K(d,_this243.Pn.geometryPrecision),_ml(n,{type:"star",values:[l,a,h,r,d,c]},_this243.Pn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i477=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i477),_this243.Xo=null;});},zl:function zl(t){var _this244=this;var e,_i478,s=t.target,n=s.parentElement[wd],_bl$values25=_slicedToArray(bl(n).values,6),o=_bl$values25[0],l=_bl$values25[1],a=_bl$values25[2],h=_bl$values25[3],r=_bl$values25[4],d=_bl$values25[5],c=d,p=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(_e469){var i=K((_e469.clientX-t.clientX)/10,0);d=c+i,d<3&&(d=3),!1===p&&d!==c&&(_this244.Pn.undoManager.checkpoint("Change number of star arms"),p=!0),_ml(n,{type:"star",values:[o,l,a,h,r,d]},_this244.Pn.geometryPrecision);}),s.addEventListener("lostpointercapture",_i478=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i478),_this244.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator344=_createForOfIteratorHelper(this.Ol),_step344;try{for(_iterator344.s();!(_step344=_iterator344.n()).done;){var _t629=_step344.value;var _e470=this["#subhud-template"].cloneNode(!0);_e470.removeAttribute("uid"),_e470[wd]=_t629,this["#subhuds"].append(_e470);}}catch(err){_iterator344.e(err);}finally{_iterator344.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator345=_createForOfIteratorHelper(this["#subhuds"].children),_step345;try{for(_iterator345.s();!(_step345=_iterator345.n()).done;){var _t630=_step345.value;var _e471=_t630[wd],_i479=jt(_e471,this),_bl$values26=_slicedToArray(bl(_e471).values,6),_s284=_bl$values26[0],_n206=_bl$values26[1],_o168=_bl$values26[2],_l152=_bl$values26[3],_a120=_bl$values26[4],_h103=_bl$values26[5];var _iterator346=_createForOfIteratorHelper(_t630.children),_step346;try{for(_iterator346.s();!(_step346=_iterator346.n()).done;){var _e472=_step346.value;if(_e472.matches(".arms-grippie")){var _t631=new DOMPoint(_s284,_n206).matrixTransform(_i479);_e472.setAttribute("cx",_t631.x),_e472.setAttribute("cy",_t631.y);}else if(_e472.matches(".depth-grippie")){var _t632=El(1,_s284,_n206,_o168,_l152,_a120,_h103).matrixTransform(_i479);_e472.setAttribute("cx",_t632.x),_e472.setAttribute("cy",_t632.y);}}}catch(err){_iterator346.e(err);}finally{_iterator346.f();}}}catch(err){_iterator345.e(err);}finally{_iterator345.f();}},ll:function ll(){var _iterator347=_createForOfIteratorHelper(this["#subhuds"].children),_step347;try{for(_iterator347.s();!(_step347=_iterator347.n()).done;){var _t633=_step347.value;var _iterator348=_createForOfIteratorHelper(_t633.children),_step348;try{for(_iterator348.s();!(_step348=_iterator348.n()).done;){var _e473=_step348.value;_e473.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator348.e(err);}finally{_iterator348.f();}}}catch(err){_iterator347.e(err);}finally{_iterator347.f();}},El:function El(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator349=_createForOfIteratorHelper(t),_step349;try{for(_iterator349.s();!(_step349=_iterator349.n()).done;){var _i480=_step349.value;"path"===_i480.localName?_i480.hasAttribute("data-bx-shape")&&_i480.getAttribute("data-bx-shape").startsWith("star")&&e.push(_i480):["g","a"].includes(_i480.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.El(_i480.children))));}}catch(err){_iterator349.e(err);}finally{_iterator349.f();}return e;}};var yd=Math.sin,kd=Math.cos,Sd=Math.tan,_d=Number.MAX_SAFE_INTEGER,Cd=Symbol();var Md={id:"cog-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #cog-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cog-hud .splay-grippie {\n      fill: #C3C303;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie teeth-grippie"></circle>\n      <circle class="grippie splay-grippie"></circle>\n      <circle class="grippie r-grippie r1-grippie"></circle>\n      <circle class="grippie r-grippie r2-grippie"></circle>\n      <circle class="grippie r-grippie r3-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator350=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step350;try{for(_iterator350.s();!(_step350=_iterator350.n()).done;){var _t634=_step350.value;this["#"+_t634.getAttribute("uid")]=_t634;}}catch(err){_iterator350.e(err);}finally{_iterator350.f();}},enabledCallback:function enabledCallback(){var _this245=this;this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this245.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this246=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this246.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this246.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this246.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Al=this.$l(),0===this.Al.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".r1-grippie")?this.Il(t):t.target.matches(".r2-grippie")?this.Ll(t):t.target.matches(".r3-grippie")?this.Bl(t):t.target.matches(".teeth-grippie")?this.Rl(t):t.target.matches(".splay-grippie")&&this.Gl(t));},Il:function Il(t){var _this247=this;var e,_i481,s=this.Pn,n=t.target,o=n.parentElement[Cd],l=Ht(o).inverse(),_bl$values27=_slicedToArray(bl(o).values,7),a=_bl$values27[0],h=_bl$values27[1],r=_bl$values27[2],d=_bl$values27[3],c=_bl$values27[4],p=_bl$values27[5],u=_bl$values27[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(a,h).rotateSelf(360/u/2).translateSelf(-a,-h),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(a,h),w=new DOMPoint(a,h-r).matrixTransform(m),v=new Z(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var k=f,S=new DOMPoint(a,h-_d).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _Ee17=Ee(k,S,e,!1),_Ee18=_slicedToArray(_Ee17,1),i=_Ee18[0],n=ze(f,i);_ml(o,{type:"cog",values:[a,h,n,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i481=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i481),_this247.Xo=null;});},Ll:function Ll(t){var _this248=this;var e,_i482,s=this.Pn,n=t.target,o=n.parentElement[Cd],l=Ht(o).inverse(),_bl$values28=_slicedToArray(bl(o).values,7),a=_bl$values28[0],h=_bl$values28[1],r=_bl$values28[2],d=_bl$values28[3],c=_bl$values28[4],p=_bl$values28[5],u=_bl$values28[6],x=t.clientX,b=t.clientY,m=new DOMMatrix().translateSelf(a,h).rotateSelf(360/u/2).translateSelf(-a,-h),g=new DOMPoint(x,b).matrixTransform(l),f=new DOMPoint(a,h),w=new DOMPoint(a,h-d).matrixTransform(m),v=new Z(g,w),y=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var k=f,S=new DOMPoint(a,h-_d).matrixTransform(m);n.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=v.transformPoint(e);var _Ee19=Ee(k,S,e,!1),_Ee20=_slicedToArray(_Ee19,1),i=_Ee20[0];d=ze(f,i),_ml(o,{type:"cog",values:[a,h,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i482=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i482),_this248.Xo=null;});},Bl:function Bl(t){var _this249=this;var e,_i483,s=this.Pn,n=t.target,o=n.parentElement[Cd],l=Ht(o).inverse(),_bl$values29=_slicedToArray(bl(o).values,7),a=_bl$values29[0],h=_bl$values29[1],r=_bl$values29[2],d=_bl$values29[3],c=_bl$values29[4],p=_bl$values29[5],u=_bl$values29[6],x=t.clientX,b=t.clientY,m=new DOMPoint(x,b).matrixTransform(l),g=new DOMPoint(a,h),f=new DOMPoint(a,h-c),w=new Z(m,f),v=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n;var y=g,k=new DOMPoint(a,h-_d);n.addEventListener("pointermove",e=function e(t){!1===v&&(v=!0,s.undoManager.checkpoint("Inner cog radius"));var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);e=w.transformPoint(e);var _Ee21=Ee(y,k,e,!1),_Ee22=_slicedToArray(_Ee21,1),i=_Ee22[0];c=ze(g,i),_ml(o,{type:"cog",values:[a,h,r,d,c,p,u]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i483=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i483),_this249.Xo=null;});},Rl:function Rl(t){var _this250=this;var e,_i484,s=this.Pn,n=t.target,o=n.parentElement[Cd],_bl$values30=_slicedToArray(bl(o).values,7),l=_bl$values30[0],a=_bl$values30[1],h=_bl$values30[2],r=_bl$values30[3],d=_bl$values30[4],c=_bl$values30[5],p=_bl$values30[6],u=p,x=!1;n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(_e474){var i=K((_e474.clientX-t.clientX)/10,0);p=u+i,p<3&&(p=3),!1===x&&p!==u&&(s.undoManager.checkpoint("Change number of cog teeth"),x=!0),_ml(o,{type:"cog",values:[l,a,h,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i484=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i484),_this250.Xo=null;});},Gl:function Gl(t){var _this251=this;var e,_i485,s=this.Pn,n=t.target,o=n.parentElement[Cd],_bl$values31=_slicedToArray(bl(o).values,7),l=_bl$values31[0],a=_bl$values31[1],h=_bl$values31[2],r=_bl$values31[3],d=_bl$values31[4],c=_bl$values31[5],p=_bl$values31[6],u=t.clientX,x=t.clientY,b=c,m=Ht(o).inverse(),g=!1,f=function f(t){var e=360/p,i=e/4,s=Sd(Fe(i-t*i))*d,n=Fe(e-90);return new DOMPoint(l+d*kd(n)-yd(n)*s,a+d*yd(n)+kd(n)*s);},w=new DOMPoint(u,x).matrixTransform(m),v=f(b),y=new Z(w,v),k=f(0),S=f(1);n.parentElement.append(n),n.setPointerCapture(t.pointerId),this.Xo=n,n.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(m),i=y.transformPoint(e),_Ee23=Ee(k,S,i,!1),_Ee24=_slicedToArray(_Ee23,1),n=_Ee24[0],c=ze(k,n)/ze(k,S);c=Q(c,0,1,3),!1===g&&c!==b&&(s.undoManager.checkpoint("Cog splay"),g=!0),_ml(o,{type:"cog",values:[l,a,h,r,d,c,p]},s.geometryPrecision);}),n.addEventListener("lostpointercapture",_i485=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("lostpointercapture",_i485),_this251.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator351=_createForOfIteratorHelper(this.Al),_step351;try{for(_iterator351.s();!(_step351=_iterator351.n()).done;){var _t635=_step351.value;var _e475=this["#subhud-template"].cloneNode(!0);_e475.removeAttribute("uid"),_e475[Cd]=_t635,this["#subhuds"].append(_e475);}}catch(err){_iterator351.e(err);}finally{_iterator351.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator352=_createForOfIteratorHelper(this["#subhuds"].children),_step352;try{for(_iterator352.s();!(_step352=_iterator352.n()).done;){var _t636=_step352.value;var _e476=_t636[Cd],_i486=jt(_e476,this.Pn.vectorCanvas),_bl$values32=_slicedToArray(bl(_e476).values,7),_s285=_bl$values32[0],_n207=_bl$values32[1],_o169=_bl$values32[2],_l153=_bl$values32[3],_a121=_bl$values32[4],_h104=_bl$values32[5],_r59=_bl$values32[6];var _iterator353=_createForOfIteratorHelper(_t636.children),_step353;try{for(_iterator353.s();!(_step353=_iterator353.n()).done;){var _e477=_step353.value;if(_e477.matches(".r1-grippie")){var _t637=new DOMMatrix();_t637.translateSelf(_s285,_n207),_t637.rotateSelf(360/_r59/2),_t637.translateSelf(-_s285,-_n207);var _l154=new DOMPoint(_s285,_n207-_o169);_l154=_l154.matrixTransform(_t637),_l154=_l154.matrixTransform(_i486),_e477.setAttribute("cx",_l154.x),_e477.setAttribute("cy",_l154.y);}else if(_e477.matches(".r2-grippie")){var _t638=new DOMMatrix();_t638.translateSelf(_s285,_n207),_t638.rotateSelf(360/_r59/2),_t638.translateSelf(-_s285,-_n207);var _o170=new DOMPoint(_s285,_n207-_l153);_o170=_o170.matrixTransform(_t638),_o170=_o170.matrixTransform(_i486),_e477.setAttribute("cx",_o170.x),_e477.setAttribute("cy",_o170.y);}else if(_e477.matches(".r3-grippie")){var _t639=new DOMPoint(_s285,_n207-_a121);_t639=_t639.matrixTransform(_i486),_e477.setAttribute("cx",_t639.x),_e477.setAttribute("cy",_t639.y);}else if(_e477.matches(".teeth-grippie")){var _t640=new DOMPoint(_s285,_n207).matrixTransform(_i486);_e477.setAttribute("cx",_t640.x),_e477.setAttribute("cy",_t640.y);}else if(_e477.matches(".splay-grippie")){var _t641=360/_r59,_o171=_t641/4,_l155=Sd(Fe(_o171-_h104*_o171))*_a121,_d41=Fe(_t641-90),_c34=new DOMPoint(_s285+_a121*kd(_d41)-yd(_d41)*_l155,_n207+_a121*yd(_d41)+kd(_d41)*_l155);_c34=_c34.matrixTransform(_i486),_e477.setAttribute("cx",_c34.x),_e477.setAttribute("cy",_c34.y);}}}catch(err){_iterator353.e(err);}finally{_iterator353.f();}}}catch(err){_iterator352.e(err);}finally{_iterator352.f();}},ll:function ll(){var _iterator354=_createForOfIteratorHelper(this["#subhuds"].children),_step354;try{for(_iterator354.s();!(_step354=_iterator354.n()).done;){var _t642=_step354.value;var _iterator355=_createForOfIteratorHelper(_t642.children),_step355;try{for(_iterator355.s();!(_step355=_iterator355.n()).done;){var _e478=_step355.value;_e478.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator355.e(err);}finally{_iterator355.f();}}}catch(err){_iterator354.e(err);}finally{_iterator354.f();}},$l:function $l(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator356=_createForOfIteratorHelper(t),_step356;try{for(_iterator356.s();!(_step356=_iterator356.n()).done;){var _i487=_step356.value;"path"===_i487.localName?_i487.hasAttribute("data-bx-shape")&&_i487.getAttribute("data-bx-shape").startsWith("cog")&&e.push(_i487):["g","a"].includes(_i487.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.$l(_i487.children))));}}catch(err){_iterator356.e(err);}finally{_iterator356.f();}return e;}};var Pd=Symbol();var Dd={id:"arrow-hud",createdCallback:function createdCallback(){this.Wo=!1,this.Fl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #arrow-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #arrow-hud .start-grippie,\n    #arrow-hud .end-grippie {\n      fill: #C3C303;\n    }\n    #arrow-hud .base-thickness-grippie,\n    #arrow-hud .head-size-grippie,\n    #arrow-hud .head-inset-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-grippie"></circle>\n      <circle class="grippie end-grippie"></circle>\n      <circle class="grippie base-thickness-grippie"></circle>\n      <circle class="grippie head-size-grippie"></circle>\n      <circle class="grippie head-inset-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator357=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step357;try{for(_iterator357.s();!(_step357=_iterator357.n()).done;){var _t643=_step357.value;this["#"+_t643.getAttribute("uid")]=_t643;}}catch(err){_iterator357.e(err);}finally{_iterator357.f();}},enabledCallback:function enabledCallback(){var _this252=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this252.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this253=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this253.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this253.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this253.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Fl=this.Ul(),0===this.Fl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-grippie")?this.Nl(t):t.target.matches(".end-grippie")?this.Vl(t):t.target.matches(".base-thickness-grippie")?this.jl(t):t.target.matches(".head-size-grippie")?this.Hl(t):t.target.matches(".head-inset-grippie")&&this.Yl(t));},Nl:function Nl(t){var _this254=this;var e,_i489,s=t.target,n=s.parentElement[Pd],_this$Pn=this.Pn,o=_this$Pn.geometryPrecision,l=_this$Pn.transformPrecision,_bl$values33=_slicedToArray(bl(n).values,7),a=_bl$values33[0],h=_bl$values33[1],r=_bl$values33[2],d=_bl$values33[3],c=_bl$values33[4],p=_bl$values33[5],u=_bl$values33[6],x=Ht(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(Ht(s)),m=new DOMPoint(a+r,h+d/2),g=m.matrixTransform(x),f=a,w=r,v=ee(n,m);this.Xo=s,this.Pn.undoManager.checkpoint("Move arrow"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this254.Pn.snapManager.snapPoint(e);var i=Le(g,b,e),s=v+i;{var _t644=new DOMPoint(a,h+d/2),_i488=_t644.matrixTransform(x),_s286=new DOMPoint(a+r,h+d/2),_l156=_s286.matrixTransform(x),_b25=ze(_t644,_s286)/ze(_i488,_l156);r=ze(g,e)*_b25,r=Q(r,p,Infinity,o),a=f+(w-r),a=K(a,o),_ml(n,{type:"arrow",values:[a,h,r,d,c,p,u]});}_this254.Qs.modKeys.shift&&(s=Re(s,15)),ie(n,s,null,m);}),window.addEventListener("pointerup",_i489=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i489),_this254.Xo=null,_this254.Pn.snapManager.snapEnd(),fa(n,{geometryPrecision:o,transformPrecision:l});});},Vl:function Vl(t){var _this255=this;var e,_i491,s=t.target,n=s.parentElement[Pd],_this$Pn2=this.Pn,o=_this$Pn2.geometryPrecision,l=_this$Pn2.transformPrecision,_bl$values34=_slicedToArray(bl(n).values,7),a=_bl$values34[0],h=_bl$values34[1],r=_bl$values34[2],d=_bl$values34[3],c=_bl$values34[4],p=_bl$values34[5],u=_bl$values34[6],x=Ht(n),b=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(Ht(s)),m=new DOMPoint(a,h+d/2),g=m.matrixTransform(x),f=ee(n,m);this.Xo=s,this.Pn.undoManager.checkpoint("Move arrow"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this255.Pn.snapManager.snapPoint(e);var i=Le(g,b,e),s=f+i;{var _t645=new DOMPoint(a,h+d/2),_i490=_t645.matrixTransform(x),_s287=new DOMPoint(a+r,h+d/2),_l157=_s287.matrixTransform(x),_b26=ze(_t645,_s287)/ze(_i490,_l157);r=ze(g,e)*_b26,r=Q(r,p,Infinity,o),_ml(n,{type:"arrow",values:[a,h,r,d,c,p,u]});}_this255.Qs.modKeys.shift&&(s=Re(s,15)),ie(n,s,null,m);}),window.addEventListener("pointerup",_i491=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i491),_this255.Xo=null,_this255.Pn.snapManager.snapEnd(),fa(n,{geometryPrecision:o,transformPrecision:l});});},jl:function jl(t){var _this256=this;var e,_i492,s=t.target,n=s.parentElement[Pd],o=bl(n),l=Ht(n).inverse(),_o$values=_slicedToArray(o.values,7),a=_o$values[0],h=_o$values[1],r=_o$values[2],d=_o$values[3],c=_o$values[4],p=_o$values[5],u=_o$values[6],_Tl=Tl.apply(void 0,_toConsumableArray(o.values)),x=_Tl.minBaseThickness,b=_Tl.maxBaseThickness,m=this.Pn.geometryPrecision;x=K(x,m),b=K(b,m),this.Xo=s,this.Pn.undoManager.checkpoint("Arrow base thickness"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this256.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(l);c=2*(h+d/2-i.y),c=Q(c,x,b,m),_ml(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this256.Ko();}),window.addEventListener("pointerup",_i492=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i492),_this256.Xo=null,_this256.Pn.snapManager.snapEnd();});},Hl:function Hl(t){var _this257=this;var e,_i493,s=t.target,n=s.parentElement[Pd],o=this.Pn.geometryPrecision,l=Ht(n).inverse(),_bl$values35=_slicedToArray(bl(n).values,7),a=_bl$values35[0],h=_bl$values35[1],r=_bl$values35[2],d=_bl$values35[3],c=_bl$values35[4],p=_bl$values35[5],u=_bl$values35[6],x=h,b=d,m=c;this.Xo=s,this.Pn.undoManager.checkpoint("Arrow head size"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this257.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(l);!1===_this257.Qs.modKeys.shift&&(p=a+r-i.x,p=Q(p,1,r,o)),d=i.y-h,d=Q(d,c,Infinity,o),h=x-d/2+b/2,h=K(h,o);{var _Tl2=Tl(a,h,r,d,c,p,u),_t646=_Tl2.maxBaseThickness;_t646=K(_t646,o),(c>_t646||c<m)&&(c=_t646);}_ml(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this257.Ko();}),window.addEventListener("pointerup",_i493=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i493),_this257.Xo=null,_this257.Pn.snapManager.snapEnd();});},Yl:function Yl(t){var _this258=this;var e,_i494,s=t.target,n=s.parentElement[Pd],o=this.Pn.geometryPrecision,l=bl(n),_l$values=_slicedToArray(l.values,7),a=_l$values[0],h=_l$values[1],r=_l$values[2],d=_l$values[3],c=_l$values[4],p=_l$values[5],u=_l$values[6],x=Ht(n).inverse(),_Tl3=Tl.apply(void 0,_toConsumableArray(l.values)),b=_Tl3.minHeadInset,m=_Tl3.maxHeadInset;b=K(b,o),m=K(m,o),this.Xo=s,this.Pn.undoManager.checkpoint("Arrow head inset"),this.Pn.snapManager.snapStart(),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);e=_this258.Pn.snapManager.snapPoint(e);var i=e.matrixTransform(x);u=i.x-(a+r-p),u=Q(u,b,m,o),_ml(n,{type:"arrow",values:[a,h,r,d,c,p,u]}),_this258.Ko();}),window.addEventListener("pointerup",_i494=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i494),_this258.Xo=null,_this258.Pn.snapManager.snapEnd();});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator358=_createForOfIteratorHelper(this.Fl),_step358;try{for(_iterator358.s();!(_step358=_iterator358.n()).done;){var _t647=_step358.value;var _e479=this["#subhud-template"].cloneNode(!0);_e479.removeAttribute("uid"),_e479[Pd]=_t647,this["#subhuds"].append(_e479);}}catch(err){_iterator358.e(err);}finally{_iterator358.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator359=_createForOfIteratorHelper(this["#subhuds"].children),_step359;try{for(_iterator359.s();!(_step359=_iterator359.n()).done;){var _t648=_step359.value;var _e480=_t648[Pd],_i495=jt(_e480,this),_bl$values36=_slicedToArray(bl(_e480).values,7),_s288=_bl$values36[0],_n208=_bl$values36[1],_o172=_bl$values36[2],_l158=_bl$values36[3],_a122=_bl$values36[4],_h105=_bl$values36[5],_r60=_bl$values36[6];_r60>_h105&&(_r60=_h105);var _iterator360=_createForOfIteratorHelper(_t648.children),_step360;try{for(_iterator360.s();!(_step360=_iterator360.n()).done;){var _e481=_step360.value;if(_e481.matches(".start-grippie")){var _t649=new DOMPoint(_s288,_n208+_l158/2).matrixTransform(_i495);_e481.setAttribute("cx",_t649.x),_e481.setAttribute("cy",_t649.y);}else if(_e481.matches(".end-grippie")){var _t650=new DOMPoint(_s288+_o172,_n208+_l158/2).matrixTransform(_i495);_e481.setAttribute("cx",_t650.x),_e481.setAttribute("cy",_t650.y);}else if(_e481.matches(".base-thickness-grippie")){var _t651=new DOMPoint(_s288+(_o172-_h105+_r60)/2,_n208+_l158/2-_a122/2).matrixTransform(_i495);_e481.setAttribute("cx",_t651.x),_e481.setAttribute("cy",_t651.y);}else if(_e481.matches(".head-size-grippie")){var _t652=new DOMPoint(_s288+_o172-_h105,_n208+_l158).matrixTransform(_i495);_e481.setAttribute("cx",_t652.x),_e481.setAttribute("cy",_t652.y);}else if(_e481.matches(".head-inset-grippie")){var _t653=new DOMPoint(_s288+_o172-_h105+_r60,_n208+_l158/2-_a122/2).matrixTransform(_i495);_e481.setAttribute("cx",_t653.x),_e481.setAttribute("cy",_t653.y);}}}catch(err){_iterator360.e(err);}finally{_iterator360.f();}}}catch(err){_iterator359.e(err);}finally{_iterator359.f();}},ll:function ll(){var _iterator361=_createForOfIteratorHelper(this["#subhuds"].children),_step361;try{for(_iterator361.s();!(_step361=_iterator361.n()).done;){var _t654=_step361.value;var _iterator362=_createForOfIteratorHelper(_t654.children),_step362;try{for(_iterator362.s();!(_step362=_iterator362.n()).done;){var _e482=_step362.value;_e482.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator362.e(err);}finally{_iterator362.f();}}}catch(err){_iterator361.e(err);}finally{_iterator361.f();}},Ul:function Ul(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator363=_createForOfIteratorHelper(t),_step363;try{for(_iterator363.s();!(_step363=_iterator363.n()).done;){var _i496=_step363.value;"path"===_i496.localName?_i496.hasAttribute("data-bx-shape")&&_i496.getAttribute("data-bx-shape").startsWith("arrow")&&e.push(_i496):["g","a"].includes(_i496.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Ul(_i496.children))));}}catch(err){_iterator363.e(err);}finally{_iterator363.f();}return e;}};var zd=Math.abs,Od=Symbol();var Ed={id:"cross-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #cross-hud .grippie {\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #cross-hud .shift-grippie {\n      fill: #C3C303;\n    }\n    #cross-hud .arms-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie shift-grippie"></circle>\n      <circle class="grippie arms-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator364=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step364;try{for(_iterator364.s();!(_step364=_iterator364.n()).done;){var _t655=_step364.value;this["#"+_t655.getAttribute("uid")]=_t655;}}catch(err){_iterator364.e(err);}finally{_iterator364.f();}},enabledCallback:function enabledCallback(){var _this259=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this259.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this260=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this260.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this260.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this260.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Wl=this.ql(),0===this.Wl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".shift-grippie")?this.Cl(t):t.target.matches(".arms-grippie")&&this.zl(t));},Cl:function Cl(t){var _this261=this;var e,_i497,s=t.target,n=s.parentElement[Od],o=Ht(n),l=o.inverse(),a=bl(n),_a$values=_slicedToArray(a.values,7),h=_a$values[0],r=_a$values[1],d=_a$values[2],c=_a$values[3],p=_a$values[4],u=_a$values[5],x=_a$values[6],_Al=Al.apply(void 0,_toConsumableArray(a.values)),b=_Al.minShift,m=_Al.maxShift,g=this.Pn.geometryPrecision,f=new DOMPoint(h+d/2,r),w=new DOMPoint(h+d/2,r+c),v=new DOMPoint(h+d/2,r+c*x).matrixTransform(o),y=new DOMPoint(t.clientX,t.clientY),k=(y.matrixTransform(l),new Z(v,y).getOppositeVector()),S=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){!1===S&&(S=!0,_this261.Pn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=k.transformPoint(e);var i=e.matrixTransform(l),_Ee25=Ee(f,w,i,!1),_Ee26=_slicedToArray(_Ee25,1),s=_Ee26[0];x=(s.y-f.y)/c,_this261.Qs.modKeys.shift&&(x=[0,.5,1].reduce(function(t,e){return zd(e-x)<zd(t-x)?e:t;})),x=Q(x,b,m,4),_ml(n,{type:"cross",values:[h,r,d,c,p,u,x]},g);}),s.addEventListener("lostpointercapture",_i497=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i497),_this261.Xo=null;});},zl:function zl(t){var _this262=this;var e,_i498,s=t.target,n=s.parentElement[Od],o=(Vt(n),Ht(n)),l=o.inverse(),a=bl(n),_a$values2=_slicedToArray(a.values,7),h=_a$values2[0],r=_a$values2[1],d=_a$values2[2],c=_a$values2[3],p=_a$values2[4],u=_a$values2[5],x=_a$values2[6],b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY),g=m.matrixTransform(l),f=new DOMPoint(g.x,g.y),w=new DOMPoint(h+d/2-u/2,r+c*x-p/2).matrixTransform(o),v=new Z(w,m).getOppositeVector(),y=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s;var k=new DOMPoint(h+d/2,r+x*c),_Al2=Al.apply(void 0,_toConsumableArray(a.values)),S=_Al2.maxHorizontalArmThickness;s.addEventListener("pointermove",e=function e(t){!1===y&&(y=!0,_this262.Pn.undoManager.checkpoint("Cross radius"));var e=new DOMPoint(t.clientX,t.clientY);e=v.transformPoint(e),f=e.matrixTransform(l),u=2*(k.x-f.x),u=Q(u,.001,d),p=2*(k.y-f.y),p=Q(p,.001,S),_this262.Qs.modKeys.shift&&(p>u?p=u:u=p),_ml(n,{type:"cross",values:[h,r,d,c,p,u,x]},b);}),s.addEventListener("lostpointercapture",_i498=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i498),_this262.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator365=_createForOfIteratorHelper(this.Wl),_step365;try{for(_iterator365.s();!(_step365=_iterator365.n()).done;){var _t656=_step365.value;var _e483=this["#subhud-template"].cloneNode(!0);_e483.removeAttribute("uid"),_e483[Od]=_t656,this["#subhuds"].append(_e483);}}catch(err){_iterator365.e(err);}finally{_iterator365.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator366=_createForOfIteratorHelper(this["#subhuds"].children),_step366;try{for(_iterator366.s();!(_step366=_iterator366.n()).done;){var _t657=_step366.value;var _e484=_t657[Od],_i499=jt(_e484,this),_bl$values37=_slicedToArray(bl(_e484).values,7),_s289=_bl$values37[0],_n209=_bl$values37[1],_o173=_bl$values37[2],_l159=_bl$values37[3],_a123=_bl$values37[4],_h106=_bl$values37[5],_r61=_bl$values37[6];var _iterator367=_createForOfIteratorHelper(_t657.children),_step367;try{for(_iterator367.s();!(_step367=_iterator367.n()).done;){var _e485=_step367.value;if(_e485.matches(".shift-grippie")){var _t658=new DOMPoint(_s289+_o173/2,_n209+_r61*_l159).matrixTransform(_i499);_e485.setAttribute("cx",_t658.x),_e485.setAttribute("cy",_t658.y);}else if(_e485.matches(".arms-grippie")){var _t659=new DOMPoint(_s289+_o173/2-_h106/2,_n209+_l159*_r61-_a123/2).matrixTransform(_i499);_e485.setAttribute("cx",_t659.x),_e485.setAttribute("cy",_t659.y);}}}catch(err){_iterator367.e(err);}finally{_iterator367.f();}}}catch(err){_iterator366.e(err);}finally{_iterator366.f();}},ll:function ll(){var _iterator368=_createForOfIteratorHelper(this["#subhuds"].children),_step368;try{for(_iterator368.s();!(_step368=_iterator368.n()).done;){var _t660=_step368.value;var _iterator369=_createForOfIteratorHelper(_t660.children),_step369;try{for(_iterator369.s();!(_step369=_iterator369.n()).done;){var _e486=_step369.value;_e486.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator369.e(err);}finally{_iterator369.f();}}}catch(err){_iterator368.e(err);}finally{_iterator368.f();}},ql:function ql(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator370=_createForOfIteratorHelper(t),_step370;try{for(_iterator370.s();!(_step370=_iterator370.n()).done;){var _i500=_step370.value;"path"===_i500.localName?_i500.hasAttribute("data-bx-shape")&&_i500.getAttribute("data-bx-shape").startsWith("cross")&&e.push(_i500):["g","a"].includes(_i500.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ql(_i500.children))));}}catch(err){_iterator370.e(err);}finally{_iterator370.f();}return e;}};var Td=Symbol();var Ad={id:"spiral-hud",createdCallback:function createdCallback(){this.Wo=!1,this.pl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #spiral-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #spiral-hud .start-angle-grippie,\n    #spiral-hud .end-angle-grippie {\n      fill: #C3C303;\n    }\n    #spiral-hud .r1-grippie,\n    #spiral-hud .r2-grippie {\n      fill: #73BA09;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="grippie start-angle-grippie"></circle>\n      <circle class="grippie end-angle-grippie"></circle>\n      <circle class="grippie r1-grippie"></circle>\n      <circle class="grippie r2-grippie"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator371=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step371;try{for(_iterator371.s();!(_step371=_iterator371.n()).done;){var _t661=_step371.value;this["#"+_t661.getAttribute("uid")]=_t661;}}catch(err){_iterator371.e(err);}finally{_iterator371.f();}},enabledCallback:function enabledCallback(){var _this263=this;this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this263.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this264=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this264.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this264.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this264.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Xl=this.Zl(),0===this.Xl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){1===t.buttons&&(t.target.matches(".start-angle-grippie")?this.Kl(t):t.target.matches(".end-angle-grippie")?this.Ql(t):t.target.matches(".r1-grippie")?this.Il(t):t.target.matches(".r2-grippie")&&this.Ll(t));},Kl:function Kl(t){var _this265=this;var e,_i501,s=t.target,n=s.parentElement[Td],o=Ht(n).inverse(),l=this.Pn.geometryPrecision,_bl$values38=_slicedToArray(bl(n).values,6),a=_bl$values38[0],h=_bl$values38[1],r=_bl$values38[2],d=_bl$values38[3],c=_bl$values38[4],p=_bl$values38[5],u=c,x=new DOMPoint(a,h),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Le(x,b,e);b=e,c+=i;var s=Q(c,0,p),_$l=$l(a,h,r,d,s,p),_$l2=_slicedToArray(_$l,1),g=_$l2[0];!1===m&&s!==u&&(_this265.Pn.undoManager.checkpoint("Spiral start angle"),m=!0),_ml(n,{type:"spiral",values:[a,h,r,d,s,p]},l);}),s.addEventListener("lostpointercapture",_i501=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i501),_this265.Xo=null;});},Ql:function Ql(t){var _this266=this;var e,_i502,s=t.target,n=s.parentElement[Td],o=Ht(n).inverse(),l=this.Pn.geometryPrecision,_bl$values39=_slicedToArray(bl(n).values,6),a=_bl$values39[0],h=_bl$values39[1],r=_bl$values39[2],d=_bl$values39[3],c=_bl$values39[4],p=_bl$values39[5],u=p,x=new DOMPoint(a,h),b=(new DOMPoint(x.x,x.y-100),new DOMPoint(t.clientX,t.clientY).matrixTransform(o)),m=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=Le(x,b,e);b=e,p+=i;var s=Q(p,c,Infinity);!1===m&&s!==u&&(_this266.Pn.undoManager.checkpoint("Spiral end angle"),m=!0),_ml(n,{type:"spiral",values:[a,h,r,d,c,s]},l);}),s.addEventListener("lostpointercapture",_i502=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i502),_this266.Xo=null;});},Il:function Il(t){var _this267=this;var e,_i503,s=t.target,n=s.parentElement[Td],o=Ht(n).inverse(),l=jt(n,this.Pn.vectorCanvas).inverse(),_bl$values40=_slicedToArray(bl(n).values,6),a=_bl$values40[0],h=_bl$values40[1],r=_bl$values40[2],d=_bl$values40[3],c=_bl$values40[4],p=_bl$values40[5],u=r,x=new DOMPoint(a,h),b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new Z(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_Ee27=Ee(x,g,i),_Ee28=_slicedToArray(_Ee27,1),s=_Ee28[0],l=Math.floor(c/360)+1,m=p/360;r=(h*m-s.y*m-l*d)/(m-l),r=Q(r,0,d),!1===w&&r!==u&&(_this267.Pn.undoManager.checkpoint("Spiral inner radius"),w=!0),_ml(n,{type:"spiral",values:[a,h,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i503=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i503),_this267.Xo=null;});},Ll:function Ll(t){var _this268=this;var e,_i504,s=t.target,n=s.parentElement[Td],o=Ht(n).inverse(),l=jt(n,this.Pn.vectorCanvas).inverse(),_bl$values41=_slicedToArray(bl(n).values,6),a=_bl$values41[0],h=_bl$values41[1],r=_bl$values41[2],d=_bl$values41[3],c=_bl$values41[4],p=_bl$values41[5],u=d,x=new DOMPoint(a,h),b=this.Pn.geometryPrecision,m=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),g=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value).matrixTransform(l),f=new Z(m,g),w=!1;s.parentElement.append(s),s.setPointerCapture(t.pointerId),this.Xo=s,s.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=f.transformPoint(e),_Ee29=Ee(x,g,i),_Ee30=_slicedToArray(_Ee29,1),s=_Ee30[0];d=(h-r-s.y)/Math.floor(p/360)*(p/360)+r,d=Q(d,r,Infinity),!1===w&&d!==u&&(_this268.Pn.undoManager.checkpoint("Spiral outer radius"),w=!0),_ml(n,{type:"spiral",values:[a,h,r,d,c,p]},b);}),s.addEventListener("lostpointercapture",_i504=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("lostpointercapture",_i504),_this268.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator372=_createForOfIteratorHelper(this.Xl),_step372;try{for(_iterator372.s();!(_step372=_iterator372.n()).done;){var _t662=_step372.value;var _e487=this["#subhud-template"].cloneNode(!0);_e487.removeAttribute("uid"),_e487[Td]=_t662,this["#subhuds"].append(_e487);}}catch(err){_iterator372.e(err);}finally{_iterator372.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator373=_createForOfIteratorHelper(this["#subhuds"].children),_step373;try{for(_iterator373.s();!(_step373=_iterator373.n()).done;){var _t663=_step373.value;var _e488=_t663[Td],_i505=jt(_e488,this.Pn.vectorCanvas),_bl$values42=_slicedToArray(bl(_e488).values,6),_s290=_bl$values42[0],_n210=_bl$values42[1],_o174=_bl$values42[2],_l160=_bl$values42[3],_a124=_bl$values42[4],_h107=_bl$values42[5],_$l3=$l(_s290,_n210,_o174,_l160,_a124,_h107),_$l4=_slicedToArray(_$l3,2),_r62=_$l4[0],_d42=_$l4[1];var _iterator374=_createForOfIteratorHelper(_t663.children),_step374;try{for(_iterator374.s();!(_step374=_iterator374.n()).done;){var _e489=_step374.value;if(_e489.matches(".start-angle-grippie")){var _t664=DOMPoint.fromPoint(_r62);_t664=_t664.matrixTransform(_i505),_e489.setAttribute("cx",_t664.x),_e489.setAttribute("cy",_t664.y);}else if(_e489.matches(".end-angle-grippie")){var _t665=DOMPoint.fromPoint(_d42);_t665=_t665.matrixTransform(_i505),_e489.setAttribute("cx",_t665.x),_e489.setAttribute("cy",_t665.y);}else if(_e489.matches(".r1-grippie")){var _t666=Math.floor(_a124/360)+1,_r63=Math.floor(_h107/360),_d43=new DOMPoint(_s290,_n210-_o174-(_l160-_o174)/(_h107/360)*_t666);_d43=_d43.matrixTransform(_i505),0===_r63||_r63<=_t666?_e489.style.display="none":(_e489.style.display=null,_e489.setAttribute("cx",_d43.x),_e489.setAttribute("cy",_d43.y));}else if(_e489.matches(".r2-grippie")){var _t667=Math.floor(_a124/360)+1,_r64=Math.floor(_h107/360),_d44=new DOMPoint(_s290,_n210-_o174-(_l160-_o174)/(_h107/360)*_r64);_d44=_d44.matrixTransform(_i505),0===_r64||_r64<_t667?_e489.style.display="none":(_e489.style.display=null,_e489.setAttribute("cx",_d44.x),_e489.setAttribute("cy",_d44.y));}}}catch(err){_iterator374.e(err);}finally{_iterator374.f();}}}catch(err){_iterator373.e(err);}finally{_iterator373.f();}},ll:function ll(){var _iterator375=_createForOfIteratorHelper(this["#subhuds"].children),_step375;try{for(_iterator375.s();!(_step375=_iterator375.n()).done;){var _t668=_step375.value;var _iterator376=_createForOfIteratorHelper(_t668.children),_step376;try{for(_iterator376.s();!(_step376=_iterator376.n()).done;){var _e490=_step376.value;_e490.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator376.e(err);}finally{_iterator376.f();}}}catch(err){_iterator375.e(err);}finally{_iterator375.f();}},Zl:function Zl(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator377=_createForOfIteratorHelper(t),_step377;try{for(_iterator377.s();!(_step377=_iterator377.n()).done;){var _i506=_step377.value;"path"===_i506.localName?_i506.hasAttribute("data-bx-shape")&&_i506.getAttribute("data-bx-shape").startsWith("spiral")&&e.push(_i506):["g","a"].includes(_i506.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.Zl(_i506.children))));}}catch(err){_iterator377.e(err);}finally{_iterator377.f();}return e;}};var $d=Symbol(),Id=6;var Ld={id:"line-hud",createdCallback:function createdCallback(){this.Wo=!1,this.Jl=[],this.Xo=null,this.Zo=Ki(this.Ko,200,this),this.innerHTML='\n  <style>\n    #line-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <circle class="start-grippie grippie" fill="none"></circle>\n      <circle class="end-grippie grippie" fill="none"></circle>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator378=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step378;try{for(_iterator378.s();!(_step378=_iterator378.n()).done;){var _t669=_step378.value;this["#"+_t669.getAttribute("uid")]=_t669;}}catch(err){_iterator378.e(err);}finally{_iterator378.f();}},enabledCallback:function enabledCallback(){var _this269=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this269.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#subhuds"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this270=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this270.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this270.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this270.wo(t);});},tl:function tl(){this.Wo=!1,this["#subhuds"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.Jl=this.ta(),0===this.Jl.length?this.Wo&&this.tl():(this.Wo||this.el(),this.ol());},sl:function sl(t){t.attributeName;this.Xo?this.Ko():this.Zo();},il:function il(){this.ll();},wo:function wo(t){t.target.matches(".start-grippie")?this.Nl(t):t.target.matches(".end-grippie")&&this.Vl(t);},Nl:function Nl(t){var _this271=this;if(0!==t.button)return;var e,_i507,s=t.target,n=s.parentElement[$d],o=Ht(n),l=o.inverse(),a=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),h=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Pn.geometryPrecision,c=!1;s.parentElement.append(s),this.Xo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this271.Pn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new Z(r,e),s=new DOMPoint(a.x+i.x,a.y+i.y);if(_this271.Qs.modKeys.shift){var _$e=$e(h,s,22.5),_$e2=_slicedToArray(_$e,1),_t670=_$e2[0];s=_t670;}var o=s.matrixTransform(l);n.setAttribute("x1",K(o.x,d)),n.setAttribute("y1",K(o.y,d));}),window.addEventListener("pointerup",_i507=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i507),_this271.Xo=null;});},Vl:function Vl(t){var _this272=this;if(0!==t.button)return;var e,_i508,s=t.target,n=s.parentElement[$d],o=Ht(n),l=o.inverse(),a=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value).matrixTransform(o),h=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value).matrixTransform(o),r=new DOMPoint(t.clientX,t.clientY),d=this.Pn.geometryPrecision,c=!1;s.parentElement.append(s),this.Xo=s,window.addEventListener("pointermove",e=function e(t){c||(c=!0,_this272.Pn.undoManager.checkpoint("Line start point"));var e=new DOMPoint(t.clientX,t.clientY),i=new Z(r,e),s=new DOMPoint(h.x+i.x,h.y+i.y);if(_this272.Qs.modKeys.shift){var _$e3=$e(a,s,22.5),_$e4=_slicedToArray(_$e3,1),_t671=_$e4[0];s=_t671;}var o=s.matrixTransform(l);n.setAttribute("x2",K(o.x,d)),n.setAttribute("y2",K(o.y,d));}),window.addEventListener("pointerup",_i508=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i508),_this272.Xo=null;});},ol:function ol(){this["#subhuds"].innerHTML="";var _iterator379=_createForOfIteratorHelper(this.Jl),_step379;try{for(_iterator379.s();!(_step379=_iterator379.n()).done;){var _t672=_step379.value;var _e491=this["#subhud-template"].cloneNode(!0);_e491.removeAttribute("uid"),_e491[$d]=_t672,this["#subhuds"].append(_e491);}}catch(err){_iterator379.e(err);}finally{_iterator379.f();}this.Ko(),this.ll();},Ko:function Ko(){var _iterator380=_createForOfIteratorHelper(this["#subhuds"].children),_step380;try{for(_iterator380.s();!(_step380=_iterator380.n()).done;){var _t673=_step380.value;var _e492=_t673[$d],_i509=jt(_e492,this),_s291=_t673.querySelector(".start-grippie"),_n211=_t673.querySelector(".end-grippie"),_o175=new DOMPoint(_e492.x1.baseVal.value,_e492.y1.baseVal.value).matrixTransform(_i509),_l161=new DOMPoint(_e492.x2.baseVal.value,_e492.y2.baseVal.value).matrixTransform(_i509);_s291.setAttribute("cx",_o175.x),_s291.setAttribute("cy",_o175.y),_n211.setAttribute("cx",_l161.x),_n211.setAttribute("cy",_l161.y);}}catch(err){_iterator380.e(err);}finally{_iterator380.f();}},ll:function ll(){var _iterator381=_createForOfIteratorHelper(this["#subhuds"].children),_step381;try{for(_iterator381.s();!(_step381=_iterator381.n()).done;){var _t674=_step381.value;var _iterator382=_createForOfIteratorHelper(_t674.children),_step382;try{for(_iterator382.s();!(_step382=_iterator382.n()).done;){var _e493=_step382.value;_e493.setAttribute("r",Id/this.Pn.scale);}}catch(err){_iterator382.e(err);}finally{_iterator382.f();}}}catch(err){_iterator381.e(err);}finally{_iterator381.f();}},ta:function ta(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.outermostSelectedElements;var e=[];var _iterator383=_createForOfIteratorHelper(t),_step383;try{for(_iterator383.s();!(_step383=_iterator383.n()).done;){var _i510=_step383.value;"line"===_i510.localName?e.push(_i510):["g","a"].includes(_i510.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.ta(_i510.children))));}}catch(err){_iterator383.e(err);}finally{_iterator383.f();}return e;}};var Bd=Symbol(),Rd=Symbol(),Gd=Symbol(),Fd=6;var Ud={id:"poly-hud",createdCallback:function createdCallback(){this.Wo=!1,this.ea=[],this.Xo=null,this.ia=Ki(this.sa,200,this),this.innerHTML='\n  <style>\n    #poly-hud .grippie {\n      fill: #73BA09;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #poly-hud .grippie[data-selected] {\n      fill: red;\n    }\n  </style>\n\n  <g uid="node-grippies"></g>\n';var _iterator384=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step384;try{for(_iterator384.s();!(_step384=_iterator384.n()).done;){var _t675=_step384.value;this["#"+_t675.getAttribute("uid")]=_t675;}}catch(err){_iterator384.e(err);}finally{_iterator384.f();}},enabledCallback:function enabledCallback(){var _this273=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this273.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this274=this;this.Wo=!0,this.Pn.addEventListener("zoomchange",this.hn=function(){_this274.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this274.sl(t.detail);}),this.addEventListener("pointerdown",this.On=function(t){_this274.wo(t);});},tl:function tl(){this.Wo=!1,this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn),this.removeEventListener("pointerdown",this.On);},Jo:function Jo(){this.ea=this.na(),0===this.ea.length?!0===this.Wo&&this.tl():(!1===this.Wo&&this.el(),this.sa());},sl:function sl(t){t.attributeName;this.Xo?this.sa():this.ia();},il:function il(){this.oa();},wo:function wo(t){t.target.matches(".grippie")&&this.al(t);},al:function al(t){var _this275=this;if(0!==t.button)return;var e,_i511,s=this.Qs.modKeys.shift,n=t.target,o=n[Bd],l=n[Rd],a=Ht(o),h=a.inverse(),r=DOMPoint.fromPoint(0===l?o.points[1]:o.points[l-1]).matrixTransform(a),d=DOMPoint.fromPoint(o.points[l]).matrixTransform(a),c=new DOMPoint(t.clientX,t.clientY),p=this.Pn.geometryPrecision,u=!1;n.parentElement.append(n),this.Xo=n,window.addEventListener("pointermove",e=function e(t){u||(u=!0,_this275.Pn.undoManager.checkpoint("Edit ".concat(o.localName)));var e=new DOMPoint(t.clientX,t.clientY),i=new Z(c,e),s=new DOMPoint(d.x+i.x,d.y+i.y);if(_this275.Qs.modKeys.shift){var _$e5=$e(r,s,22.5),_$e6=_slicedToArray(_$e5,1),_t676=_$e6[0];s=_t676;}var n=s.matrixTransform(h);o.points[l].x=K(n.x,p),o.points[l].y=K(n.y,p);var a=[];var _iterator385=_createForOfIteratorHelper(o.points),_step385;try{for(_iterator385.s();!(_step385=_iterator385.n()).done;){var _t677=_step385.value;a.push(_t677.x,_t677.y);}}catch(err){_iterator385.e(err);}finally{_iterator385.f();}o.setAttribute("points",a.join(" "));}),window.addEventListener("pointerup",_i511=function i(){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i511),_this275.Xo=null;});},sa:function sa(){var t=0;var _iterator386=_createForOfIteratorHelper(this.ea),_step386;try{for(_iterator386.s();!(_step386=_iterator386.n()).done;){var _e494=_step386.value;var _i512=jt(_e494,this);for(var _s292=0;_s292<_e494.points.length;_s292+=1){var _n212=DOMPoint.fromPoint(_e494.points[_s292]).matrixTransform(_i512),_o176=this["#node-grippies"].children[t];_o176||(_o176=Ei("svg:circle"),_o176.setAttribute("class","grippie"),this["#node-grippies"].append(_o176)),_o176[Bd]=_e494,_o176[Rd]=_s292,_o176.setAttribute("cx",_n212.x),_o176.setAttribute("cy",_n212.y),_e494[Gd]&&_e494[Gd].includes(_s292)?_o176.setAttribute("data-selected",""):_o176.removeAttribute("data-selected"),t+=1;}}}catch(err){_iterator386.e(err);}finally{_iterator386.f();}for(;this["#node-grippies"].childElementCount>t;){this["#node-grippies"].lastElementChild.remove();}this.oa();},oa:function oa(){var _iterator387=_createForOfIteratorHelper(this["#node-grippies"].children),_step387;try{for(_iterator387.s();!(_step387=_iterator387.n()).done;){var _t678=_step387.value;_t678.setAttribute("r",Fd/this.Pn.scale);}}catch(err){_iterator387.e(err);}finally{_iterator387.f();}},na:function na(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Pn.selectedElements;var e=[];var _iterator388=_createForOfIteratorHelper(t),_step388;try{for(_iterator388.s();!(_step388=_iterator388.n()).done;){var _i513=_step388.value;"polyline"===_i513.localName||"polygon"===_i513.localName?e.push(_i513):["g","a"].includes(_i513.localName)&&(e=[].concat(_toConsumableArray(e),_toConsumableArray(this.na(_i513.children))));}}catch(err){_iterator388.e(err);}finally{_iterator388.f();}return e;}};var Nd=Math.abs,Vd=Math.sin,jd=Math.asin,Hd=Math.cos,Yd=Math.acos,Wd=Math.tan,qd=Math.pow,Xd=Math.sqrt,Zd=Math.PI,Kd=function Kd(t,e,i,s,n){var o=function o(t){return Nd(t)<1e-11?0:t>0?1:-1;},l=function l(t,e,i,s,n){var o=3*e-t-3*i+s;0===o&&(o=1e-10);var l=[3,-1];a(l,(3*t-6*e+3*i)/o,(-3*t+3*e)/o,(-n+t)/o);var h=[];for(var _i514=0,_l162=l;_i514<_l162.length;_i514++){var _t679=_l162[_i514];_t679>=0&&_t679<=1&&h.push(_t679);}return h;},a=function a(t,e,i,s){var n=(qd(e,2)-3*i)/9,l=(2*qd(e,3)-9*e*i+27*s)/54;if(qd(l,2)<qd(n,3)){var _i515=Yd(l/Xd(qd(n,3)))/3;return t.splice(0,0,-2*Xd(n)*Hd(_i515)-e/3),t.splice(1,0,-2*Xd(n)*Hd(_i515+4*Zd/3)-e/3),t.splice(2,0,-2*Xd(n)*Hd(_i515-4*Zd/3)-e/3),3;}{var _i516=-o(l)*qd(Nd(l)+Xd(qd(l,2)-qd(n,3)),1/3),_s293=0==o(_i516)?0:n/_i516;return t.splice(0,0,_i516+_s293-e/3),t.splice(1,0,-.5*(_i516+_s293)-e/3),t.splice(2,0,.5*Xd(3)*Nd(_i516-_s293)),t[2]+1===1?2:1;}},h=[].concat(_toConsumableArray(l(e.x,i.x,s.x,n.x,t.x)),_toConsumableArray(l(e.y,i.y,s.y,n.y,t.y)));if(0===h.length)return-1;{var _o177=-1,_l163=3;var _iterator389=_createForOfIteratorHelper(h),_step389;try{for(_iterator389.s();!(_step389=_iterator389.n()).done;){var _a125=_step389.value;var _h108=qd(1-_a125,3)*e.x+3*qd(1-_a125,2)*_a125*i.x+3*(1-_a125)*qd(_a125,2)*s.x+qd(_a125,3)*n.x,_u28=qd(1-_a125,3)*e.y+3*qd(1-_a125,2)*_a125*i.y+3*(1-_a125)*qd(_a125,2)*s.y+qd(_a125,3)*n.y,_x93=(r=t.x,d=t.y,Xd(((c=_h108)-r)*(c-r)+((p=_u28)-d)*(p-d)));_x93<_l163&&(_o177=_a125,_l163=_x93);}}catch(err){_iterator389.e(err);}finally{_iterator389.f();}return _o177;}var r,d,c,p;},Qd=Math.abs,Jd=Math.max,tc=Math.pow,ec=Number.parseFloat,ic=5,sc=4,nc=Symbol(),oc=Symbol(),lc=Symbol();var ac={id:"path-hud",get passive(){return this.hasAttribute("passive");},set passive(t){t?this.setAttribute("passive",""):this.removeAttribute("passive");},get selectedNodes(){return _toConsumableArray(this.la);},set selectedNodes(t){this.la=t,this.aa(),this.ha();},createdCallback:function createdCallback(){var _this276=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this276.ra();}}},this.Wo=!1,this.da=0,this.ca=[],this.la=[],this.pa=null,this.ua=null,this.xa=null,this.ba=Ki(this.ma,1500,this),this.aa=Ki(this.sa,40,this),this.ha=Ki(this.ga,40,this),this.fa=Ki(this.oa,40,this),this.wa=Ki(this.va,40,this),this.ya=Ki(this.ka,1500,this),this.innerHTML='\n  <style>\n    #path-hud [uid="grippies"] {\n      cursor: default;\n    }\n    #path-hud [uid="grippies"]:focus {\n      outline: none;\n    }\n\n    #path-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #path-hud .node-grippie[data-selected] .outer-circle {\n      fill: #bc9aec;\n    }\n    #path-hud #grippies:focus .node-grippie[data-selected] .outer-circle {\n      fill: #a370ea;\n    }\n    #path-hud[passive] .node-grippie[data-position="mid"] {\n      display: none;\n    }\n\n    #path-hud .node-grippie .inner-circle {\n      pointer-events: none;\n      fill: #4d2782;\n    }\n\n    #path-hud[passive] .outline-grippie {\n      display: none;\n    }\n    #path-hud .outline-grippie path {\n      fill: none;\n      stroke: blue;\n      stroke-width: 10px;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #path-hud .outline-grippie path:hover {\n      opacity: 0.2;\n    }\n\n    #path-hud .control-grippie {\n      fill: white;\n      stroke: #ef6c6c;\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #path-hud .control-line {\n      stroke: red;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.3;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="outline-grippies"></g>\n    <g uid="control-lines"></g>\n    <g uid="node-grippies"></g>\n    <g uid="control-grippies"></g>\n  </g>\n';var _iterator390=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step390;try{for(_iterator390.s();!(_step390=_iterator390.n()).done;){var _t680=_step390.value;this["#"+_t680.getAttribute("uid")]=_t680;}}catch(err){_iterator390.e(err);}finally{_iterator390.f();}this.addEventListener("keydown",function(t){_this276.vn(t);}),this.addEventListener("pointerdown",function(t){_this276.wo(t);}),this.addEventListener("click",function(t){2===t.detail&&Date.now()-_this276.da<300&&_this276.Sa(t),_this276.da=Date.now();});},enabledCallback:function enabledCallback(){var _this277=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this277.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl();var _iterator391=_createForOfIteratorHelper(this["#grippies"].children),_step391;try{for(_iterator391.s();!(_step391=_iterator391.n()).done;){var _t681=_step391.value;_t681.innerHTML="";}}catch(err){_iterator391.e(err);}finally{_iterator391.f();}this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this278=this;this.Wo=!0,this.Pn.addEventListener("workspacemutation",this.rn=function(){_this278.sl();}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this278.il();}),this.Pn.undoManager.addEventListener("undo",this._a=function(){_this278.deselectAllSegs();}),this.Pn.undoManager.addEventListener("redo",this.Ca=function(){_this278.deselectAllSegs();});},tl:function tl(){this.ca=[],this.la=[],this.Wo=!1,this["#outline-grippies"].innerHTML="",this["#node-grippies"].innerHTML="",this["#control-grippies"].innerHTML="",this["#control-lines"].innerHTML="",this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.undoManager.removeEventListener("undo",this._a),this.Pn.undoManager.removeEventListener("redo",this.Ca),this.dispatchEvent(new CustomEvent("selectednodeschange"));},rubberBandSelectionCallback:function rubberBandSelectionCallback(t){var _this279=this;var e=this.Qs.modKeys.shift,i=[];if(t instanceof DOMRect){var _e495=t;var _iterator392=_createForOfIteratorHelper(this["#node-grippies"].children),_step392;try{for(_iterator392.s();!(_step392=_iterator392.n()).done;){var _t682=_step392.value;var _s294=Pi(_t682);He(_e495,_s294)&&i.push(_t682);}}catch(err){_iterator392.e(err);}finally{_iterator392.f();}}else{var _iterator393=_createForOfIteratorHelper(this["#node-grippies"].children),_step393;try{for(_iterator393.s();!(_step393=_iterator393.n()).done;){var _e496=_step393.value;var _s295=new DOMPoint(_e496.firstElementChild.cx.baseVal.value,_e496.firstElementChild.cy.baseVal.value);!0===Je(t,_s295)&&i.push(_e496);}}catch(err){_iterator393.e(err);}finally{_iterator393.f();}}if(!1===e){this.la=[];var _iterator394=_createForOfIteratorHelper(i),_step394;try{for(_iterator394.s();!(_step394=_iterator394.n()).done;){var _t683=_step394.value;var _e497={path:_t683[nc],index:_t683[lc]};this.la.push(_e497);}}catch(err){_iterator394.e(err);}finally{_iterator394.f();}}else if(!0===e){var _iterator395=_createForOfIteratorHelper(i),_step395;try{var _loop5=function _loop5(){var t=_step395.value;var e={path:t[nc],index:t[lc]};void 0===_this279.la.find(function(t){return t.path===e.path&&t.index===e.index;})&&_this279.la.push(e);};for(_iterator395.s();!(_step395=_iterator395.n()).done;){_loop5();}}catch(err){_iterator395.e(err);}finally{_iterator395.f();}}this.aa(),this.ha(),this.ba(),this.dispatchEvent(new CustomEvent("selectednodeschange")),this.la.length>0&&this["#grippies"].focus();},Jo:function Jo(){this.ca=this.Ma(),this.la=[],this.dispatchEvent(new CustomEvent("selectednodeschange")),0===this.ca.length?this.Wo&&this.tl():(this.Wo||this.el(),this.aa(),this.ha(),this.ba());},sl:function sl(){this.aa(),this.ha(),this.ba();},il:function il(){this.fa(),this.wa(),this.ya();},vn:function vn(t){if(!1===this.passive&&this["#node-grippies"].querySelector("[data-selected]")){var _e498=so.fromEvent(t);_e498.matches("Backspace")||_e498.matches("Delete")?(t.preventDefault(),t.stopPropagation(),this.Pa("smooth")):(_e498.matches("Shift","Backspace")||_e498.matches("Shift","Delete"))&&(t.preventDefault(),t.stopPropagation(),this.Pa("sharp"));}},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")?this.Da(t):t.target.matches(".control-grippie")?this.za(t):t.target.matches(".outline-grippie path")&&this.Oa(t);},Da:function Da(t){var _this280=this;if(0!==t.button)return;var e=!1,i=t.target.closest(".node-grippie"),s=i[nc],n=s.getPathData({normalize:!0}),o=i[lc],l=function(t,e){var i=-1,s=-1;var _iterator396=_createForOfIteratorHelper(at(t)),_step396;try{for(_iterator396.s();!(_step396=_iterator396.n()).done;){var _n213=_step396.value;i+=1;var _iterator397=_createForOfIteratorHelper(_n213),_step397;try{for(_iterator397.s();!(_step397=_iterator397.n()).done;){var _t684=_step397.value;if(s+=1,s===e)return i;}}catch(err){_iterator397.e(err);}finally{_iterator397.f();}}}catch(err){_iterator396.e(err);}finally{_iterator396.f();}return i;}(n,o),a={position:i.getAttribute("data-position"),selected:i.hasAttribute("data-selected"),path:s,index:o,subpathIndex:l};if(i.setPointerCapture(t.pointerId),!1===this.passive){var _t686,_s296=this.Qs.modKeys.shift,_n214=i[nc],_o178=i[lc];i.addEventListener("pointerup",_t686=function _t685(l){i.removeEventListener("pointerup",_t686);var a=void 0!==_this280.la.find(function(t){return t.path===_n214&&t.index===_o178;}),h={path:_n214,index:_o178};!1===a?(!1===_s296?_this280.la=[h]:!0===_s296&&_this280.la.push(h),_this280.aa(),_this280.ha()):!0===_s296&&!1===e&&(_this280.la=_this280.la.filter(function(t){return t.path!==_n214||t.index!==_o178;}),_this280.aa(),_this280.ha()),_this280.dispatchEvent(new CustomEvent("selectednodeschange"));});}{var _s298,_n216,_o179=new DOMPoint(t.clientX,t.clientY),_l164=_o179,_h109=new CustomEvent("nodepointerdown",{detail:a,cancelable:!0});this.dispatchEvent(_h109),i.addEventListener("pointermove",_s298=function _s297(n){var a=new DOMPoint(n.clientX,n.clientY),h=n.timeStamp-t.timeStamp,r=ze(_o179,a)>3||h>80,d=!1===Me(_l164,a,0);if(_l164=a,!1===_this280.passive&&!0===r&&!0===d){i.removeEventListener("pointermove",_s298);var _o180=new Z(n.clientX-t.clientX,n.clientY-t.clientY);e=!0;var _l165=Qd(_o180.x)>Qd(_o180.y)?"horizontal":"vertical";new DOMPoint(n.clientX,n.clientY);_this280.Ea(t,i,_l165);}}),i.addEventListener("pointerup",_n216=function _n215(t){i.removeEventListener("pointermove",_s298),i.removeEventListener("pointerup",_n216),_this280.dispatchEvent(new CustomEvent("nodepointerup",{detail:a})),!1===e&&!1===_h109.defaultPrevented&&_this280.dispatchEvent(new CustomEvent("nodeclick",{detail:a}));});}},Ea:function Ea(t,e,i){var _this281=this;var s,_n220,o=this.Pn,l=Symbol(),a=Symbol(),h=Symbol(),r=Symbol(),d=e[nc],c=e[lc],p=new DOMPoint(t.clientX,t.clientY),u=null;o.undoManager.checkpoint("Edit path"),o.snapManager.snapStart(!0);{var _t687={path:d,index:c};void 0===this.la.find(function(e){return e.path===_t687.path&&e.index===_t687.index;})&&(this.la=[_t687],this.aa(),this.ha(),this.dispatchEvent(new CustomEvent("selectednodeschange")));}this.pa=e;var _iterator398=_createForOfIteratorHelper(this.ca),_step398;try{for(_iterator398.s();!(_step398=_iterator398.n()).done;){var _t694=_step398.value;var _e501=void 0,_i517=_t694[oc];if(_i517){var _s300=Vt(_t694);_e501=Ht(_i517).multiply(_s300).inverse();}else _e501=Ht(_t694).inverse();_t694[r]=_e501,_t694[h]=_e501.inverse(),_t694[l]=ot(_t694.getPathData({normalize:!0})),_t694[a]=lt(_t694[l]);}}catch(err){_iterator398.e(err);}finally{_iterator398.f();}{var _t688=d[l][c],_e499=null;"M"===_t688.type||"L"===_t688.type?_e499=new DOMPoint(_t688.values[0],_t688.values[1]):"C"===_t688.type&&(_e499=new DOMPoint(_t688.values[4],_t688.values[5])),u=_e499.matrixTransform(d[h]);}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this281.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(u.x+e.x-p.x,u.y+e.y-p.y)),n=new Z(u,s);var _iterator399=_createForOfIteratorHelper(_this281.ca),_step399;try{var _loop6=function _loop6(){var t=_step399.value;var e=t[l],i=t[a],s=_this281.la.filter(function(e){return e.path===t;}).map(function(t){return t.index;}),o=n.matrixTransform(t[r]);var _iterator400=_createForOfIteratorHelper(s),_step400;try{for(_iterator400.s();!(_step400=_iterator400.n()).done;){var _t689=_step400.value;var _s299=e[_t689],_n217=e[_t689+1],_l166=i[_t689],_a126=i[_t689+1];if("M"===_s299.type||"L"===_s299.type){if(_s299.values[0]=_l166.values[0]+o.x,_s299.values[1]=_l166.values[1]+o.y,_n217&&"C"===_n217.type)_n217.values[0]=_a126.values[0]+o.x,_n217.values[1]=_a126.values[1]+o.y;else if(_n217&&"Z"===_n217.type){var _t690=vt(_s299,e),_n218=_t690[0],_a127=_t690[1],_h110=vt(_l166,i);_n218.values[0]=_s299.values[0],_n218.values[1]=_s299.values[1],_a127&&"C"===_a127.type&&(_a127.values[0]=_h110[1].values[0]+o.x,_a127.values[1]=_h110[1].values[1]+o.y);}}else if("C"===_s299.type)if(_s299.values[2]=_l166.values[2]+o.x,_s299.values[3]=_l166.values[3]+o.y,_s299.values[4]=_l166.values[4]+o.x,_s299.values[5]=_l166.values[5]+o.y,_n217&&"C"===_n217.type)_n217.values[0]=_a126.values[0]+o.x,_n217.values[1]=_a126.values[1]+o.y;else if(_n217&&"Z"===_n217.type){var _t691=vt(_s299,e),_n219=_t691[0],_a128=_t691[1],_h111=vt(_l166,i);_n219.values[0]=_s299.values[4],_n219.values[1]=_s299.values[5],"C"===_a128.type&&(_a128.values[0]=_h111[1].values[0]+o.x,_a128.values[1]=_h111[1].values[1]+o.y);}}}catch(err){_iterator400.e(err);}finally{_iterator400.f();}t.setPathData(e);};for(_iterator399.s();!(_step399=_iterator399.n()).done;){_loop6();}}catch(err){_iterator399.e(err);}finally{_iterator399.f();}}),window.addEventListener("pointerup",_n220=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n220);var _iterator401=_createForOfIteratorHelper(_this281.ca),_step401;try{for(_iterator401.s();!(_step401=_iterator401.n()).done;){var _t692=_step401.value;var _e500=_t692[l];var _iterator402=_createForOfIteratorHelper(_e500),_step402;try{for(_iterator402.s();!(_step402=_iterator402.n()).done;){var _t693=_step402.value;_t693.values=_t693.values.map(function(t){return K(t,o.geometryPrecision);});}}catch(err){_iterator402.e(err);}finally{_iterator402.f();}_t692.setPathData(_e500);}}catch(err){_iterator401.e(err);}finally{_iterator401.f();}o.snapManager.snapEnd(),_this281.pa=null,_this281.ma();});},Sa:function Sa(t){t.target.closest(".node-grippie")?this.Ta(t):t.target.matches(".control-grippie")?this.Aa(t):t.target.matches(".outline-grippie > path")&&this.$a(t);},Ta:function Ta(t){var _this282=this;var e=t.target.closest(".node-grippie"),i=e[nc],s=e[lc],n=ot(i.getPathData({normalize:!0})),o=n[s],l=n[s+1]||null,a=n[s-1]||null,h=vt(o,n),r=!1;if(Ct(n),"M"===o.type){if("C"===l.type){!1===(l.values[0]===o.values[0]&&l.values[1]===o.values[1])&&(l.values[0]=o.values[0],l.values[1]=o.values[1],r=!0);}}else if("C"===o.type)if(null===l||"M"===l.type){!1===(o.values[2]===o.values[4]&&o.values[3]===o.values[5])&&(o.values[2]=o.values[4],o.values[3]=o.values[5],r=!0);}else if("Z"===l.type){var _t695=h[1];if("C"===_t695.type){!1===(o.values[4]===_t695.values[0]&&o.values[5]===_t695.values[1]&&o.values[4]===o.values[2]&&o.values[5]===o.values[3])?(_t695.values[0]=o.values[4],_t695.values[1]=o.values[5],o.values[2]=o.values[4],o.values[3]=o.values[5]):_t(a,o,_t695),r=!0;}}else if("C"===l.type){!1===(l.values[0]===o.values[4]&&l.values[1]===o.values[5]&&o.values[2]===o.values[4]&&o.values[3]===o.values[5])?(o.values[2]=o.values[4],o.values[3]=o.values[5],l.values[0]=o.values[4],l.values[1]=o.values[5]):_t(a,o,l),r=!0;}if(r){this.Pn.undoManager.checkpoint("Edit path"),Mt(n);var _iterator403=_createForOfIteratorHelper(n),_step403;try{for(_iterator403.s();!(_step403=_iterator403.n()).done;){var _t696=_step403.value;_t696.values=_t696.values.map(function(t){return K(t,_this282.Pn.geometryPrecision);});}}catch(err){_iterator403.e(err);}finally{_iterator403.f();}i.setPathData(n);}},Aa:function Aa(t){var _this283=this;var e=t.target,i=e.getAttribute("data-index"),s=e[nc],n=e[lc],o=ot(s.getPathData({normalize:!0})),l=o[n],a=o[n-1]||null;"1"===i?"C"===a.type?(l.values[0]=a.values[4],l.values[1]=a.values[5]):"M"!==a.type&&"L"!==a.type||(l.values[0]=a.values[0],l.values[1]=a.values[1]):"2"===i&&(l.values[2]=l.values[4],l.values[3]=l.values[5]),this.Pn.undoManager.checkpoint("Edit path"),Mt(o);var _iterator404=_createForOfIteratorHelper(o),_step404;try{for(_iterator404.s();!(_step404=_iterator404.n()).done;){var _t697=_step404.value;_t697.values=_t697.values.map(function(t){return K(t,_this283.Pn.geometryPrecision);});}}catch(err){_iterator404.e(err);}finally{_iterator404.f();}s.setPathData(o);},$a:function $a(t){var _this284=this;var e,i=t.target.closest(".outline-grippie"),s=t.target,n=i[nc],o=n[oc];if(o){var _t698=Vt(n);e=Ht(o).multiply(_t698).inverse();}else e=Ht(n).inverse();var l,a,h=ot(n.getPathData({normalize:!0})),r=new DOMPoint(t.clientX,t.clientY).matrixTransform(e),_wt=wt(s,r),_wt2=_slicedToArray(_wt,1),d=_wt2[0],c=_toConsumableArray(i.children).indexOf(s),p=h[c];if("L"===p.type){var _t699=new DOMPoint(p.values[0],p.values[1]);l={type:"L",values:[d.x,d.y]},a={type:"L",values:[_t699.x,_t699.y]};}else if("C"===p.type){var _t700,_e502=h[c-1]||null;"M"===_e502.type||"L"===_e502.type?_t700=new DOMPoint(_e502.values[0],_e502.values[1]):"C"===_e502.type&&(_t700=new DOMPoint(_e502.values[4],_e502.values[5]));var _i518=new DOMPoint(p.values[4],p.values[5]),_s301=new DOMPoint(p.values[0],p.values[1]),_n221=new DOMPoint(p.values[2],p.values[3]),_o181=Kd(d,_t700,_s301,_n221,_i518),_r65=function(t,e,i,s,n){var o=(e.x-t.x)*n+t.x,l=(e.y-t.y)*n+t.y,a=(i.x-e.x)*n+e.x,h=(i.y-e.y)*n+e.y,r=(s.x-i.x)*n+i.x,d=(s.y-i.y)*n+i.y,c=(a-o)*n+o,p=(h-l)*n+l,u=(r-a)*n+a,x=(d-h)*n+h,b=(u-c)*n+c,m=(x-p)*n+p;return[[new DOMPoint(t.x,t.y),new DOMPoint(o,l),new DOMPoint(c,p),new DOMPoint(b,m)],[new DOMPoint(b,m),new DOMPoint(u,x),new DOMPoint(r,d),new DOMPoint(s.x,s.y)]];}(_t700,_s301,_n221,_i518,_o181);if(-1===_o181)return;l={type:"C",values:[_r65[0][1].x,_r65[0][1].y,_r65[0][2].x,_r65[0][2].y,_r65[0][3].x,_r65[0][3].y]},a={type:"C",values:[_r65[1][1].x,_r65[1][1].y,_r65[1][2].x,_r65[1][2].y,_r65[1][3].x,_r65[1][3].y]};}this.Pn.undoManager.checkpoint("Add path node"),h=[].concat(_toConsumableArray(h.slice(0,c)),[l,a],_toConsumableArray(h.slice(c+1)));var _iterator405=_createForOfIteratorHelper(h),_step405;try{for(_iterator405.s();!(_step405=_iterator405.n()).done;){var _t701=_step405.value;_t701.values=_t701.values.map(function(t){return K(t,_this284.Pn.geometryPrecision);});}}catch(err){_iterator405.e(err);}finally{_iterator405.f();}n.setPathData(h),this.la=[{path:n,index:c}],this.sa(),this.ga(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},za:function za(t){var _this285=this;if(0===t.button){var _e504,_i520,_s302=t.target,_n222=new DOMPoint(t.clientX,t.clientY),_o182=_n222;window.addEventListener("pointermove",_e504=function _e503(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=ze(_n222,a)>3||h>80,d=!1===Me(_o182,a,0);_o182=a,!0===r&&!0===d&&(window.removeEventListener("pointermove",_e504),window.removeEventListener("pointerup",_i520),_this285.Ia(t,_s302));}),window.addEventListener("pointerup",_i520=function _i519(t){window.removeEventListener("pointermove",_e504),window.removeEventListener("pointerup",_i520);});}},Ia:function Ia(t,e){var _this286=this;var i,s,n=this.Pn,o=e.getAttribute("data-index"),l=e[nc],a=l[oc];if(n.undoManager.checkpoint("Move control point"),n.snapManager.snapStart(!0),a){var _t702=Vt(l),_e505=Ht(a);s=_e505.multiply(_t702),i=s.inverse();}else s=Ht(l),i=s.inverse();var h=l.getPathData({normalize:!0});h=ot(h),Ct(h);var r,_d45,c,p=e[lc],u=h[p],x=h[p-1]||null,b=h[p+1]||null,m=vt(u,h),g=Pt(u,h),f=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w=_toConsumableArray(u.values),v=null,y=null,k=null;v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"1"===o?"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])):"2"===o&&(k=new DOMPoint(u.values[4],u.values[5]));var S="sharp",_=k.matrixTransform(s),C=new DOMPoint(f.x,f.y);this.ua=e;var M=function M(){var _this286$Qs$modKeys=_this286.Qs.modKeys,t=_this286$Qs$modKeys.ctrl,e=_this286$Qs$modKeys.shift;!0===t&&!1===e?S="sharp":!1===t&&!0===e?"1"===o?S=v&&"C"===v.type?"smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"smooth":"sharp"):!0===t&&!0===e?"1"===o?S=v&&"C"===v.type?"symmetric-smooth":"sharp":"2"===o&&(S=y&&"C"===y.type?"symmetric-smooth":"sharp"):!1===t&&!1===e&&("1"===o?S=yt(v,u):"2"===o&&(S=yt(u,y)));},P=function P(){if("1"===o){var _t703;if(_this286.Qs.modKeys.shift)_t703=C;else{var _e506=C.x-f.x,_i521=C.y-f.y;_t703=new DOMPoint(w[0]+_e506,w[1]+_i521);}{var _e507=_t703.matrixTransform(s);_t703=n.snapManager.snapPoint(_e507).matrixTransform(i);}if(u.values[0]=_t703.x,u.values[1]=_t703.y,"smooth"===S){var _e508=new DOMPoint(v.values[2],v.values[3]),_i522=new Z(k,_t703),_s303=new Z(k,_e508),_n223=_i522.getOppositeVector();_n223.length=_s303.length,v.values[2]=k.x+_n223.x,v.values[3]=k.y+_n223.y;}else if("symmetric-smooth"===S){var _e509=new Z(k,_t703);_e509=_e509.negate(),v.values[2]=k.x+_e509.x,v.values[3]=k.y+_e509.y;}}else if("2"===o){var _t704;if(_this286.Qs.modKeys.shift)_t704=C;else{var _e510=C.x-f.x,_i523=C.y-f.y;_t704=new DOMPoint(w[2]+_e510,w[3]+_i523);}{var _e511=_t704.matrixTransform(s);_t704=n.snapManager.snapPoint(_e511).matrixTransform(i);}if(u.values[2]=_t704.x,u.values[3]=_t704.y,"smooth"===S){var _e512=new DOMPoint(y.values[0],y.values[1]),_i524=new Z(k,_t704),_s304=new Z(k,_e512),_n224=_i524.getOppositeVector();_n224.length=_s304.length,y.values[0]=k.x+_n224.x,y.values[1]=k.y+_n224.y;}else if("symmetric-smooth"===S){var _e513=new Z(k,_t704);_e513=_e513.negate(),y.values[0]=k.x+_e513.x,y.values[1]=k.y+_e513.y;}}l.setPathData(h);};window.addEventListener("pointermove",r=function r(t){var e=new DOMPoint(t.clientX,t.clientY);if(_this286.Qs.modKeys.shift){var _$e7=$e(_,e,22.5),_$e8=_slicedToArray(_$e7,1),_t705=_$e8[0];e=_t705;}C=e.matrixTransform(i),P();}),window.addEventListener("pointerup",_d45=function d(t){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",_d45),_this286.Qs.removeEventListener("modkeyschange",c),Mt(h);var _iterator406=_createForOfIteratorHelper(h),_step406;try{for(_iterator406.s();!(_step406=_iterator406.n()).done;){var _t706=_step406.value;_t706.values=_t706.values.map(function(t){return K(t,_this286.Pn.geometryPrecision);});}}catch(err){_iterator406.e(err);}finally{_iterator406.f();}l.setPathData(h),_this286.ua=null,n.snapManager.snapEnd();}),this.Qs.addEventListener("modkeyschange",c=function c(){M();}),M();},Oa:function Oa(t){var _this287=this;if(0===t.button){var _e515,_i527,_s305=!1,_n225=new DOMPoint(t.clientX,t.clientY),_o183=_n225,_l167=t.target.closest(".outline-grippie"),_a129=t.target;window.addEventListener("pointermove",_e515=function _e514(l){var h=new DOMPoint(l.clientX,l.clientY),r=l.timeStamp-t.timeStamp,d=ze(_n225,h)>3||r>80,c=!1===Me(_o183,h,0);_o183=h,!0===d&&!0===c&&(window.removeEventListener("pointermove",_e515),window.removeEventListener("pointerup",_i527),_this287.La(l,_a129),_s305=!0);}),window.addEventListener("pointerup",_i527=function _i525(n){if(window.removeEventListener("pointermove",_e515),window.removeEventListener("pointerup",_i527),!1===_s305){var _e516,_i526=_l167[nc],_s306=_i526[oc];if(_s306){var _t707=Vt(_i526);_e516=Ht(_s306).multiply(_t707).inverse();}else _e516=Ht(_i526).inverse();var _n226=ot(_i526.getPathData({normalize:!0})),_o184=(new DOMPoint(t.clientX,t.clientY).matrixTransform(_e516),_toConsumableArray(_l167.children).indexOf(_a129)),_h112=_o184-1,_r66=_n226[_o184],_d46=_n226[_h112],_c35=vt(_r66,_n226),_p31=Pt(_r66,_n226);_d46?_p31&&"M"===_d46.type?_this287.la=[{path:_i526,index:_o184},{path:_i526,index:_c35.length-2}]:_this287.la=[{path:_i526,index:_o184},{path:_i526,index:_h112}]:_this287.la=[{path:_i526,index:_o184}],_this287.aa(),_this287.ha(),_this287.dispatchEvent(new CustomEvent("selectednodeschange"));}});}},La:function La(t,e){var _this288=this;var i,s=e.closest(".outline-grippie"),n=s[nc],o=n[oc];if(this.Pn.undoManager.checkpoint("Edit path"),this.xa=s,this["#outline-grippies"].style.display="none",o){var _t708=Vt(n),_e517=Ht(o);i=_e517.multiply(_t708).inverse();}else i=Ht(n).inverse();var l,_a130,h,r=ot(n.getPathData({normalize:!0})),d=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),_wt3=wt(e,d),_wt4=_slicedToArray(_wt3,1),c=_wt4[0],p=_toConsumableArray(s.children).indexOf(e),u=r[p],x=r[p-1],b=r[p+1],m=vt(u,r),g=Pt(u,r),f=new Z(d,c),w=new DOMPoint(d.x,d.y),v=null,y=null,k=null,S=null,_=!1,C=!1;Ct(r),v="M"===x.type&&g?m[m.length-2]:x,b&&("Z"===b.type?y=g?m[1]:null:"C"===b.type&&(y=b)),"M"===v.type||"L"===v.type?k=new DOMPoint(v.values[0],v.values[1]):"C"===v.type&&(k=new DOMPoint(v.values[4],v.values[5])),"M"===u.type||"L"===u.type?S=new DOMPoint(u.values[0],u.values[1]):"C"===u.type&&(S=new DOMPoint(u.values[4],u.values[5]));var M=function M(){var _this288$Qs$modKeys=_this288.Qs.modKeys,t=_this288$Qs$modKeys.ctrl,e=_this288$Qs$modKeys.shift;!0===t&&!1===e?(_=!1,C=!1):!1===t&&!0===e?(_=!(!v||"C"!==v.type)&&"smooth",C=!(!y||"C"!==y.type)&&"smooth"):!0===t&&!0===e?(_=!(!v||"C"!==v.type)&&"symmetric-smooth",C=!(!y||"C"!==y.type)&&"symmetric-smooth"):!1===t&&!1===e&&(_=yt(v,u),C=yt(u,y));},P=function P(){var t=new DOMPoint(u.values[0],u.values[1]),e=new DOMPoint(u.values[2],u.values[3]),i=Kd(c,k,t,e,S),s=1;if(i<=1/6?s=0:i<=.5?s=tc((6*i-1)/2,3)/2:i<=5/6&&(s=(1-tc((6*(1-i)-1)/2,3))/2+.5),-1===i)return;var o=(1-s)/(3*i*(1-i)*(1-i)),l=s/(3*i*i*(1-i)),a=w.x-c.x,h=w.y-c.y;u.values[0]=u.values[0]+o*a,u.values[1]=u.values[1]+o*h,u.values[2]=u.values[2]+l*a,u.values[3]=u.values[3]+l*h,"smooth"===_?kt(u,v,!1):"symmetric-smooth"===_&&kt(u,v,!0),"smooth"===C?St(u,y,!1):"symmetric-smooth"===C&&St(u,y,!0),c=w,n.setPathData(r);};window.addEventListener("pointermove",l=function l(t){w=new DOMPoint(t.clientX,t.clientY).matrixTransform(i),w.x+=f.x,w.y+=f.y,P();}),window.addEventListener("pointerup",_a130=function a(t){_this288.Qs.removeEventListener("modkeyschange",h),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",_a130),Mt(r);var _iterator407=_createForOfIteratorHelper(r),_step407;try{for(_iterator407.s();!(_step407=_iterator407.n()).done;){var _t709=_step407.value;_t709.values=_t709.values.map(function(t){return K(t,_this288.Pn.geometryPrecision);});}}catch(err){_iterator407.e(err);}finally{_iterator407.f();}n.setPathData(r),_this288.xa=null,_this288["#outline-grippies"].style.display=null,_this288.ma();}),this.Qs.addEventListener("modkeyschange",h=function h(){M(),P();}),M();},ma:function ma(){if(this.xa||this.pa||this.ua)return;var t=document.createDocumentFragment();var _iterator408=_createForOfIteratorHelper(this.ca),_step408;try{for(_iterator408.s();!(_step408=_iterator408.n()).done;){var _e518=_step408.value;var _i528=void 0;if(_e518[oc]){var _t710=jt(_e518[oc],this),_s308=Vt(_e518);_i528=_t710.multiply(_s308);}else _i528=jt(_e518,this);var _s307=ot(_e518.getPathData({normalize:!0})),_n227=Ei("svg:g");_n227[nc]=_e518,_n227.setAttribute("class","outline-grippie"),_n227.setAttribute("transform",_i528.toString()),t.append(_n227);var _o185=0,_l168=0,_a131=0,_h113=0;var _iterator409=_createForOfIteratorHelper(_s307),_step409;try{for(_iterator409.s();!(_step409=_iterator409.n()).done;){var _t711=_step409.value;var _e519=Ei("svg:path");"M"===_t711.type?(_e519.setPathData([_t711]),_o185=_t711.values[0],_l168=_t711.values[1],_a131=_o185,_h113=_l168):"C"===_t711.type?(_e519.setPathData([{type:"M",values:[_o185,_l168]},_t711]),_o185=_t711.values[4],_l168=_t711.values[5]):"L"===_t711.type?(_e519.setPathData([{type:"M",values:[_o185,_l168]},_t711]),_o185=_t711.values[0],_l168=_t711.values[1]):"Z"===_t711.type&&(_e519.setPathData([{type:"M",values:[_o185,_l168]},{type:"L",values:[_a131,_h113]}]),_o185=_a131,_l168=_h113),_n227.append(_e519);}}catch(err){_iterator409.e(err);}finally{_iterator409.f();}}}catch(err){_iterator408.e(err);}finally{_iterator408.f();}this["#outline-grippies"].innerHTML="",this["#outline-grippies"].append(t),this.ka();},sa:function sa(){var _this289=this;if(this.xa||this.ua)return;var t=document.createDocumentFragment(),e=ic/this.Pn.scale,i=.3*e;var _iterator410=_createForOfIteratorHelper(this.ca),_step410;try{var _loop7=function _loop7(){var s=_step410.value;var n=void 0;if(s[oc]){var _t712=jt(s[oc],_this289),_e520=Vt(s);n=_t712.multiply(_e520);}else n=jt(s,_this289);var o=ot(s.getPathData({normalize:!0})),l=[],a=-1;var _iterator411=_createForOfIteratorHelper(at(o)),_step411;try{for(_iterator411.s();!(_step411=_iterator411.n()).done;){var _t713=_step411.value;var _o186="Z"===_t713[_t713.length-1].type,_h114=-1;var _iterator412=_createForOfIteratorHelper(_t713),_step412;try{for(_iterator412.s();!(_step412=_iterator412.n()).done;){var _r67=_step412.value;_h114+=1,a+=1;_t713[_h114-1];var _d47=void 0,_c36=_t713[_h114+1]||null,_p32="mid";if("C"===_r67.type)_d47=new DOMPoint(_r67.values[4],_r67.values[5]),!1===_o186&&null===_c36&&(_p32="end");else if("L"===_r67.type)_d47=new DOMPoint(_r67.values[0],_r67.values[1]),!1===_o186&&null===_c36&&(_p32="end");else{if("M"!==_r67.type)continue;if(!1!==_o186)continue;_d47=new DOMPoint(_r67.values[0],_r67.values[1]),_p32="start";}var _u29=_d47.matrixTransform(n),_x94=Ei("svg:g");_x94.setAttribute("class","node-grippie"),_x94.setAttribute("data-position",_p32),_x94[nc]=s,_x94[lc]=a;var _b27=" <circle class=\"outer-circle\" cx=\"".concat(_u29.x,"\" cy=\"").concat(_u29.y,"\" r=\"").concat(e,"\"></circle>");"start"!==_p32&&"end"!==_p32||(_b27+="<circle class=\"inner-circle\" cx=\"".concat(_u29.x,"\" cy=\"").concat(_u29.y,"\" r=\"").concat(i,"\"></circle>")),_x94.innerHTML=_b27,_this289.la.find(function(t){return t.path===s&&t.index===a;})&&_x94.setAttribute("data-selected",""),l.push(_x94);}}catch(err){_iterator412.e(err);}finally{_iterator412.f();}}}catch(err){_iterator411.e(err);}finally{_iterator411.f();}for(var _i529=0,_l169=l;_i529<_l169.length;_i529++){var _e521=_l169[_i529];!1===_e521.hasAttribute("data-selected")&&t.append(_e521);}for(var _i530=0,_l170=l;_i530<_l170.length;_i530++){var _e522=_l170[_i530];!0===_e522.hasAttribute("data-selected")&&t.append(_e522);}};for(_iterator410.s();!(_step410=_iterator410.n()).done;){_loop7();}}catch(err){_iterator410.e(err);}finally{_iterator410.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t);},ga:function ga(){var _this290=this;var t=document.createDocumentFragment(),e=document.createDocumentFragment();var _iterator413=_createForOfIteratorHelper(this.ca),_step413;try{var _loop8=function _loop8(){var i=_step413.value;var s=void 0,n=ot(i.getPathData({normalize:!0})),o=_this290.la.filter(function(t){return t.path===i;}).map(function(t){return t.index;});if(i[oc]){var _t714=jt(i[oc],_this290),_e523=Vt(i);s=_t714.multiply(_e523);}else s=jt(i,_this290);var _iterator414=_createForOfIteratorHelper(o),_step414;try{for(_iterator414.s();!(_step414=_iterator414.n()).done;){var _l171=_step414.value;var _o187=void 0,_a132=n[_l171],_h115=n[_l171+1]||null,_r68=vt(_a132,n)[1],_d48=n.indexOf(_r68),_c37=null,_p33=null;if("M"===_a132.type||"L"===_a132.type?_o187=new DOMPoint(_a132.values[0],_a132.values[1]):"C"===_a132.type&&(_o187=new DOMPoint(_a132.values[4],_a132.values[5])),"C"===_a132.type&&(_c37=new DOMPoint(_a132.values[2],_a132.values[3])),_h115&&("C"===_h115.type?_p33=new DOMPoint(_h115.values[0],_h115.values[1]):"Z"===_h115.type&&"C"===_r68.type&&(_p33=new DOMPoint(_r68.values[0],_r68.values[1]))),_c37&&!1===Me(_o187,_c37)){var _n228=_o187.matrixTransform(s),_a133=_c37.matrixTransform(s),_h116=Ei("svg:circle");_h116.setAttribute("class","control-grippie"),_h116.setAttribute("data-index","2"),_h116.setAttribute("cx",_a133.x),_h116.setAttribute("cy",_a133.y),_h116.setAttribute("r",sc/_this290.Pn.scale),_h116[nc]=i,_h116[lc]=_l171;var _r69=Ei("svg:line");_r69.setAttribute("class","control-line"),_r69.setAttribute("x1",_n228.x),_r69.setAttribute("y1",_n228.y),_r69.setAttribute("x2",_a133.x),_r69.setAttribute("y2",_a133.y),t.append(_h116),e.append(_r69);}if(_p33&&!1===Me(_o187,_p33)){var _n229=_o187.matrixTransform(s),_a134=_p33.matrixTransform(s),_r70=Ei("svg:circle");_r70.setAttribute("class","control-grippie"),_r70.setAttribute("data-index","1"),_r70.setAttribute("cx",_a134.x),_r70.setAttribute("cy",_a134.y),_r70.setAttribute("r",sc/_this290.Pn.scale),_r70[nc]=i,_r70[lc]="Z"===_h115.type?_d48:_l171+1;var _c38=Ei("svg:line");_c38.setAttribute("class","control-line"),_c38.setAttribute("x1",_n229.x),_c38.setAttribute("y1",_n229.y),_c38.setAttribute("x2",_a134.x),_c38.setAttribute("y2",_a134.y),t.append(_r70),e.append(_c38);}}}catch(err){_iterator414.e(err);}finally{_iterator414.f();}};for(_iterator413.s();!(_step413=_iterator413.n()).done;){_loop8();}}catch(err){_iterator413.e(err);}finally{_iterator413.f();}this["#control-grippies"].innerHTML="",this["#control-grippies"].append(t),this["#control-lines"].innerHTML="",this["#control-lines"].append(e);},oa:function oa(){var t=ic/this.Pn.scale,e=.3*t;var _iterator415=_createForOfIteratorHelper(this["#node-grippies"].children),_step415;try{for(_iterator415.s();!(_step415=_iterator415.n()).done;){var _i531=_step415.value;_i531.children[0].setAttribute("r",t),_i531.children[1]&&_i531.children[1].setAttribute("r",e);}}catch(err){_iterator415.e(err);}finally{_iterator415.f();}},va:function va(){var _iterator416=_createForOfIteratorHelper(this["#control-grippies"].children),_step416;try{for(_iterator416.s();!(_step416=_iterator416.n()).done;){var _t715=_step416.value;_t715.setAttribute("r",sc/this.Pn.scale);}}catch(err){_iterator416.e(err);}finally{_iterator416.f();}},ka:function ka(){var _iterator417=_createForOfIteratorHelper(this["#outline-grippies"].children),_step417;try{for(_iterator417.s();!(_step417=_iterator417.n()).done;){var _t716=_step417.value;var _e524=_t716[nc],_i532=getComputedStyle(_e524),_s309=ec(_i532.getPropertyValue("stroke-width"))*this.Pn.scale;_s309<10&&(_s309=10),_t716.style.setProperty("stroke-width",_s309);}}catch(err){_iterator417.e(err);}finally{_iterator417.f();}},ra:function ra(){var t=[];var _iterator418=_createForOfIteratorHelper(this.ca),_step418;try{for(_iterator418.s();!(_step418=_iterator418.n()).done;){var _e525=_step418.value;var _i533=ot(_e525.getPathData({normalize:!0}));for(var _s310=0;_s310<_i533.length;_s310+=1){var _n230=_i533[_s310];("C"===_n230.type||"L"===_n230.type||"M"===_n230.type&&!1===Pt(_n230,_i533))&&t.push({path:_e525,index:_s310});}}}catch(err){_iterator418.e(err);}finally{_iterator418.f();}this.la=t,this.sa(),this.ga(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},deselectAllSegs:function deselectAllSegs(){this.la=[],this.aa(),this.ha(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},Pa:function Pa(){var _this291=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"smooth";this.Pn.undoManager.checkpoint("Delete segments");var _iterator419=_createForOfIteratorHelper(this.ca),_step419;try{var _loop9=function _loop9(){var e=_step419.value;var i=ot(e.getPathData({normalize:!0}));Ct(i);var s=_this291.la.filter(function(t){return t.path===e;});s=s.map(function(t){return t.index;}),s=s.sort(function(t,e){return e-t;});var n=s.filter(function(t){return"C"===i[t].type;}),o=s.filter(function(t){return"M"===i[t].type;});if(0!==s.length){var _iterator420=_createForOfIteratorHelper(n),_step420;try{var _loop10=function _loop10(){var e=_step420.value;var s=i[e],n=i[e+1]||null,o=i[e-1]||null;if(null===n)i=i.filter(function(t){return t!==s;});else if("M"===n.type)i=i.filter(function(t){return t!==s;});else if("Z"===n.type){var _e526=vt(s,i),_n231=_e526[0],_l172=_e526[1];i=i.filter(function(t){return t!==s;}),"L"===o.type||"M"===o.type?(_n231.values[0]=o.values[0],_n231.values[1]=o.values[1]):"C"===o.type&&(_n231.values[0]=o.values[4],_n231.values[1]=o.values[5]),"C"===_l172.type&&("smooth"===t?(_l172.values[0]=s.values[0],_l172.values[1]=s.values[1]):"sharp"===t&&("L"===o.type||"M"===o.type?(_l172.values[0]=o.values[0],_l172.values[1]=o.values[1]):"C"===o.type&&(_l172.values[0]=o.values[4],_l172.values[1]=o.values[5]),_l172.values[2]=_l172.values[4],_l172.values[3]=_l172.values[5]));}else"C"===n.type?(i=i.filter(function(t){return t!==s;}),"smooth"===t?(n.values[0]=s.values[0],n.values[1]=s.values[1]):"sharp"===t&&("M"===o.type||"L"===o.type?(n.values[0]=o.values[0],n.values[1]=o.values[1]):"C"===o.type&&(n.values[0]=o.values[4],n.values[1]=o.values[5]),n.values[2]=n.values[4],n.values[3]=n.values[5])):"L"===n.type&&(i=i.filter(function(t){return t!==s;}));};for(_iterator420.s();!(_step420=_iterator420.n()).done;){_loop10();}}catch(err){_iterator420.e(err);}finally{_iterator420.f();}var _iterator421=_createForOfIteratorHelper(o),_step421;try{for(_iterator421.s();!(_step421=_iterator421.n()).done;){var _t717=_step421.value;var _e527=i[_t717],_s311=vt(_e527,i);if(_s311.length>1){(function(){var t=_s311[0],e=_s311[1];i=i.filter(function(t){return t!==e;}),"L"===e.type?(t.values[0]=e.values[0],t.values[1]=e.values[1]):"C"===e.type&&(t.values[0]=e.values[4],t.values[1]=e.values[5]);})();}}}catch(err){_iterator421.e(err);}finally{_iterator421.f();}var _iterator422=_createForOfIteratorHelper(at(i)),_step422;try{for(_iterator422.s();!(_step422=_iterator422.n()).done;){var _t718=_step422.value;var _e528=_t718.filter(function(t){return"C"===t.type;}),_s312="Z"===_t718[_t718.length-1].type?2:1;if(_e528.length<_s312){var _iterator424=_createForOfIteratorHelper(_t718),_step424;try{var _loop11=function _loop11(){var e=_step424.value;i=i.filter(function(t){return t!==e;});};for(_iterator424.s();!(_step424=_iterator424.n()).done;){_loop11();}}catch(err){_iterator424.e(err);}finally{_iterator424.f();}}}}catch(err){_iterator422.e(err);}finally{_iterator422.f();}Mt(i);var _iterator423=_createForOfIteratorHelper(i),_step423;try{for(_iterator423.s();!(_step423=_iterator423.n()).done;){var _t719=_step423.value;_t719.values=_t719.values.map(function(t){return K(t,_this291.Pn.geometryPrecision);});}}catch(err){_iterator423.e(err);}finally{_iterator423.f();}e.setPathData(i),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator419.s();!(_step419=_iterator419.n()).done;){_loop9();}}catch(err){_iterator419.e(err);}finally{_iterator419.f();}this.la=[],this.sa(),this.ga(),this.ma(),this.dispatchEvent(new CustomEvent("selectednodeschange"));},getNodeGrippieDescriptor:function getNodeGrippieDescriptor(t,e){var _iterator425=_createForOfIteratorHelper(this.Pn.getElementsFromPoint(t,e)),_step425;try{for(_iterator425.s();!(_step425=_iterator425.n()).done;){var _i534=_step425.value;var _t720=_i534.closest(".node-grippie");if(_t720&&this.contains(_t720))return{position:_t720.getAttribute("data-position"),selected:_t720.hasAttribute("data-selected"),path:_t720[nc],index:_t720[lc]};}}catch(err){_iterator425.e(err);}finally{_iterator425.f();}return null;},Ma:function Ma(){var _this292=this;var t=[],e=[],i=function i(s){var _iterator426=_createForOfIteratorHelper(s),_step426;try{for(_iterator426.s();!(_step426=_iterator426.n()).done;){var _n232=_step426.value;if("path"===_n232.localName)_n232.hasAttribute("d")&&!_n232.hasAttribute("data-bx-shape")&&(_n232[oc]=null,t.push(_n232));else if("text"===_n232.localName){var _t721=_n232,_i535=_toConsumableArray(_n232.children).find(function(t){return"textPath"===t.localName;});if(_i535){var _s313=_i535.getAttribute("href");if(_s313){var _i536=_s313.trim().substring(1),_n233=_this292.Pn.workspaces.querySelector("#"+CSS.escape(_i536));_n233&&_n233.hasAttribute("d")&&!_n233.hasAttribute("data-bx-shape")&&(_n233[oc]=_t721,e.push(_n233));}}}else["g","a"].includes(_n232.localName)&&i(_n232.children);}}catch(err){_iterator426.e(err);}finally{_iterator426.f();}};return i(this.Pn.selectedElements),t=t.filter(function(t){return!1===e.includes(t);}),[].concat(_toConsumableArray(t),e);}};var hc=Symbol(),rc=Symbol(),dc=Symbol(),cc=Symbol();var pc={id:"linear-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.Ba());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[cc];});return this.Ra.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Ga(t);},createdCallback:function createdCallback(){var _this293=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this293.Fa();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this293.Ua();}}},this.Ra=[],this.Xo=null,this.Na=null,this.Ba=Ki(this.Va,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #linear-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #linear-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #linear-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #linear-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #linear-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator427=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step427;try{for(_iterator427.s();!(_step427=_iterator427.n()).done;){var _t722=_step427.value;this["#"+_t722.getAttribute("uid")]=_t722;}}catch(err){_iterator427.e(err);}finally{_iterator427.f();}this.addEventListener("keydown",function(t){return _this293.vn(t);}),this.addEventListener("pointerdown",function(t){return _this293.wo(t);}),this.addEventListener("pointerup",function(t){return _this293.ja(t);}),this.addEventListener("dblclick",function(t){return _this293.Sa(t);});},enabledCallback:function enabledCallback(){var _this294=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this294.Jo();}),this.Pn.addEventListener("selectedtextrangechange",this.Ha=function(){_this294.Ya();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this294.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this294.il();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this294.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Wa=function(t){_this294.qa(t);}),this.Pn.undoManager.addEventListener("undo",this._a=function(){_this294.Xa();}),this.Pn.undoManager.addEventListener("redo",this.Ca=function(){_this294.Xa();}),this.Jo();},disabledCallback:function disabledCallback(){this.Ga([]),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("selectedtextrangechange",this.Ha),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Wa),this.Pn.undoManager.removeEventListener("undo",this._a),this.Pn.undoManager.removeEventListener("redo",this.Ca);},Jo:function Jo(){this.Ba();},Ya:function Ya(){this.Ba();},sl:function sl(t){if(this.Xo)this.Za(this.Xo.closest(".subhud"));else if(this.Na)this.Za(this.Na.parentElement);else{var _iterator428=_createForOfIteratorHelper(t),_step428;try{for(_iterator428.s();!(_step428=_iterator428.n()).done;){var _e529=_step428.value;"style"===_e529.attributeName&&"stop"===_e529.target.localName?this.Ka():this.Ba();}}catch(err){_iterator428.e(err);}finally{_iterator428.f();}}},il:function il(){this.ll();},Xa:function Xa(){this.Ga([]);},kn:function kn(t){1===t.buttons&&this.Ga([]);},qa:function qa(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Ga([]);},wo:function wo(t){var _this295=this;if(1!==t.buttons)return;var e,_i537;t.target.classList.contains("slider")?this.Qa(t):t.target.classList.contains("stop-grippie")&&this.Ja(t),this.th=!1,this.eh=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this295.th=!0;}),window.addEventListener("pointerup",_i537=function i(){window.removeEventListener("pointerup",_i537),window.removeEventListener("pointermove",e);});},ja:function ja(t){t.target.classList.contains("stop-grippie")&&this.ih(t);},Sa:function Sa(t){t.timeStamp-this.eh<300&&t.target.classList.contains("slider")&&this.sh(t);},Ja:function Ja(t){var _this296=this;var e=t.target[cc],i=e.closest("linearGradient, radialGradient"),s=Oo(i),n=s.filter(function(t){return _this296.Ra.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys5=this.Qs.modKeys,a=_this$Qs$modKeys5.alt,h=_this$Qs$modKeys5.shift;this.nh=_toConsumableArray(n),!1===h?!1===n.includes(e)&&this.Ga([e]):!0===h&&!1===n.includes(e)&&(n.push(e),this.Ga(n)),e===o&&0===e.offset.baseVal&&!1===a?this.oh(t,"start"):e===l&&1===e.offset.baseVal&&!1===a?this.oh(t,"end"):this.lh(t);},ih:function ih(t){if(this.th)return;var e=t.target,i=this.nh,s=e[cc],n=e.closest(".subhud")[rc],o=this.Qs.modKeys.shift,l=[];var _iterator429=_createForOfIteratorHelper(this.Pn.selectedElements),_step429;try{for(_iterator429.s();!(_step429=_iterator429.n()).done;){var _t724=_step429.value;if("g"!==_t724.localName&&"a"!==_t724.localName||!_t724.contains(n))l.push(_t724);else{var _iterator430=_createForOfIteratorHelper(Bi(_toConsumableArray(_t724.children))),_step430;try{for(_iterator430.s();!(_step430=_iterator430.n()).done;){var _e530=_step430.value;l.unshift(_e530);}}catch(err){_iterator430.e(err);}finally{_iterator430.f();}}}}catch(err){_iterator429.e(err);}finally{_iterator429.f();}this.Pn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Pn.selectedElements=l;for(var _t723=n.parentElement;_t723!==this.Pn.currentWorkspace;_t723=_t723.parentElement){if("g"===_t723.localName||"a"===_t723.localName){this.Pn.currentContainer=_t723;break;}}!0===o&&!0===this.nh.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Ga(i));},lh:function lh(t){var _this297=this;var e,_i540,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Pn.geometryPrecision,l=this.ah(),a=Ht(this),h=a.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(a),_Ee31=Ee(c,p,u,!1),_Ee32=_slicedToArray(_Ee31,1),b=_Ee32[0],m=ze(c,b)/ze(c,p),g=!1;this.Xo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e532){{var _i538=new DOMPoint(_e532.clientX,_e532.clientY),_s314=_e532.timeStamp-t.timeStamp;if(!0===Me(d,_i538,0))return;if(d=_i538,ze(r,_i538)<3&&_s314<80)return;}!1===g&&(_this297.Pn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e532.clientX-t.clientX,x.y+_e532.clientY-t.clientY).matrixTransform(h),_Ee33=Ee(c,p,i,!1),_Ee34=_slicedToArray(_Ee33,1),s=_Ee34[0],n=ze(c,s)/ze(c,p)-m;var _iterator431=_createForOfIteratorHelper(_this297.Ra),_step431;try{for(_iterator431.s();!(_step431=_iterator431.n()).done;){var _t725=_step431.value;var _l$get=l.get(_t725),_e531=_l$get.minOffset,_i539=_l$get.maxOffset,_s315=_l$get.initialOffset;_s315+n<_e531?_t725.setAttribute("offset",_e531):_s315+n>_i539?_t725.setAttribute("offset",_i539):_t725.setAttribute("offset",_s315+n);}}catch(err){_iterator431.e(err);}finally{_iterator431.f();}}),s.addEventListener("pointerup",_i540=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i540);var _iterator432=_createForOfIteratorHelper(_this297.Ra),_step432;try{for(_iterator432.s();!(_step432=_iterator432.n()).done;){var _t726=_step432.value;_t726.setAttribute("offset",K(_t726.offset.baseVal,o));}}catch(err){_iterator432.e(err);}finally{_iterator432.f();}_this297.Xo=null;});},oh:function oh(t){var _this298=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"start";var i,s,n,o,l,a,h,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[hc],u=zo(p),x=c[rc],b=Pi(x),m=Ht(x),g=m.inverse(),f=u.gradientTransform,w=this.Pn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,k=!1,S=!1;d.matches(".stop-grippie")?this.Xo=d:d.matches(".slider")&&(this.Na=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i545){if(!1===k){{var _e533=new DOMPoint(_i545.clientX,_i545.clientY),_s316=_i545.timeStamp-t.timeStamp;if(!0===Me(y,_e533,0))return;if(y=_e533,ze(v,_e533)<3&&_s316<80)return;}if(_this298.Pn.undoManager.checkpoint("Transform gradient"),_this298.Pn.snapManager.snapStart(!0),Do(p)){var _t727=Ei("svg:linearGradient");_t727.setAttribute("id",_this298.Pn.generateUniqueID(p.id)),_t727.setAttribute("href","#"+p.id),_this298.Pn.maybeCreateDefsForMasterWorkspace(),_this298.Pn.defs.append(_t727),p=_t727,c[hc]=_t727,x.style[_this298.context]="url(#"+_t727.id+")";}k=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){"start"===e?(n=new DOMPoint(u.x1.value,u.y1.value),o=new DOMPoint(u.x2.value,u.y2.value)):"end"===e&&(n=new DOMPoint(u.x2.value,u.y2.value),o=new DOMPoint(u.x1.value,u.y1.value));var _t728=new Z(o,n).getNormalVector();l=new DOMPoint(o.x+_t728.x,o.y+_t728.y);var _i541=n.matrixTransform(f),_s317=o.matrixTransform(f),_d49=l.matrixTransform(f);a=_i541.matrixTransform(m),h=_s317.matrixTransform(m),r=_d49.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t729=u.x1.valueInSpecifiedUnits,_i542=u.y1.valueInSpecifiedUnits,_s318=u.x2.valueInSpecifiedUnits,_d50=u.y2.valueInSpecifiedUnits;u.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t729/=100),u.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i542/=100),u.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s318/=100),u.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d50/=100),"start"===e?(n=new DOMPoint(_t729,_i542),o=new DOMPoint(_s318,_d50)):"end"===e&&(n=new DOMPoint(_s318,_d50),o=new DOMPoint(_t729,_i542));var _c39=new Z(o,n).getNormalVector();l=new DOMPoint(o.x+_c39.x,o.y+_c39.y);var _p34=n.matrixTransform(f),_x95=o.matrixTransform(f),_g23=l.matrixTransform(f),_w14=ae(_p34,b),_v11=ae(_x95,b),_y3=ae(_g23,b);a=_w14.matrixTransform(m),h=_v11.matrixTransform(m),r=_y3.matrixTransform(m);}}();}var s,d,_,C,M=_this298.Qs.modKeys.shift,P=new DOMPoint(_i545.clientX+(a.x-t.clientX),_i545.clientY+(a.y-t.clientY)),D=new DOMPoint(a.x+_i545.clientX-t.clientX,a.y+_i545.clientY-t.clientY);D=_this298.Pn.snapManager.snapPoint(D);var z=DOMPoint.fromPoint(h);if(!1===M){var _t730=Le(h,a,P),_e534=new DOMMatrix();_e534.translateSelf(h.x,h.y),_e534.rotateSelf(_t730),_e534.translateSelf(-h.x,-h.y),C=r.matrixTransform(_e534);}else if(!0===M){S=!0;var _$e9=$e(h,D,22.5),_$e10=_slicedToArray(_$e9,1),_t731=_$e10[0];D=_t731;}if(S){var _t732=new Z(z,D).getNormalVector();C=new DOMPoint(z.x+_t732.x,z.y+_t732.y);}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t733=D.matrixTransform(g),_e535=z.matrixTransform(g),_i543=C.matrixTransform(g);s=_t733.matrixTransform(f.inverse()),d=_e535.matrixTransform(f.inverse()),_=_i543.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t734=D.matrixTransform(g),_e536=z.matrixTransform(g),_i544=C.matrixTransform(g),_n234=he(_t734,b),_o188=he(_e536,b),_l173=he(_i544,b);s=_n234.matrixTransform(f.inverse()),d=_o188.matrixTransform(f.inverse()),_=_l173.matrixTransform(f.inverse());}var O=Yt(n,o,l,s,d,_),E=Gt(f.multiply(O),w);p.setAttribute("gradientTransform",E.toString());}),d.addEventListener("pointerup",s=function(_s319){function s(){return _s319.apply(this,arguments);}s.toString=function(){return _s319.toString();};return s;}(function(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",s),_this298.Xo=null,_this298.Na=null,_this298.Pn.snapManager.snapEnd();}));},Qa:function Qa(t){var e=t.target,i=Ht(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),o=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),l=n.matrixTransform(i),a=o.matrixTransform(i),h=new Z(l,s).length,r=new Z(a,s).length;h<=5?this.oh(t,"start"):r<=5?this.oh(t,"end"):this.hh(t);},hh:function hh(t){var _this299=this;var e,_i551,s,n,o=t.target,l=o.closest(".subhud"),a=l[rc],h=l[hc],r=zo(h),d=Pi(a),c=Ht(a),p=c.inverse(),u=this.Pn.geometryPrecision,x=new DOMPoint(t.clientX,t.clientY),b=x,m=!1;if(this.Na=o,o.setPointerCapture(t.pointerId),r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t735=new DOMPoint(r.x1.value,r.y1.value),_e537=new DOMPoint(r.x2.value,r.y2.value),_i546=_t735.matrixTransform(r.gradientTransform),_o189=_e537.matrixTransform(r.gradientTransform);s=_i546.matrixTransform(c),n=_o189.matrixTransform(c);}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t736=r.x1.valueInSpecifiedUnits,_e538=r.y1.valueInSpecifiedUnits,_i547=r.x2.valueInSpecifiedUnits,_o190=r.y2.valueInSpecifiedUnits;r.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t736/=100),r.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e538/=100),r.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i547/=100),r.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_o190/=100);var _l174=new DOMPoint(_t736,_e538),_a135=new DOMPoint(_i547,_o190),_h117=_l174.matrixTransform(r.gradientTransform),_p35=_a135.matrixTransform(r.gradientTransform),_u30=ae(_h117,d),_x96=ae(_p35,d);s=_u30.matrixTransform(c),n=_x96.matrixTransform(c);}o.addEventListener("pointermove",e=function e(_e539){if(!1===m){{var _i548=new DOMPoint(_e539.clientX,_e539.clientY),_s320=_e539.timeStamp-t.timeStamp;if(!0===Me(b,_i548,0))return;if(b=_i548,ze(x,_i548)<3&&_s320<80)return;}if(m=!0,_this299.Pn.undoManager.checkpoint("Transform gradient"),Do(h)){var _t737=Ei("svg:linearGradient");_t737.setAttribute("id",_this299.Pn.generateUniqueID(h.id)),_t737.setAttribute("href","#"+h.id),_this299.Pn.maybeCreateDefsForMasterWorkspace(),_this299.Pn.defs.append(_t737),h=_t737,l[hc]=_t737,a.style[_this299.context]="url(#"+_t737.id+")";}}if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _i549=new DOMPoint(s.x+_e539.clientX-t.clientX,s.y+_e539.clientY-t.clientY),_o191=new DOMPoint(n.x+_e539.clientX-t.clientX,n.y+_e539.clientY-t.clientY),_l175=_i549.matrixTransform(p),_a136=_o191.matrixTransform(p),_d51=_l175.matrixTransform(r.gradientTransform.inverse()),_c40=_a136.matrixTransform(r.gradientTransform.inverse());h.setAttribute("x1",K(_d51.x,u)),h.setAttribute("y1",K(_d51.y,u)),h.setAttribute("x2",K(_c40.x,u)),h.setAttribute("y2",K(_c40.y,u));}else if(r.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _i550=new DOMPoint(s.x+_e539.clientX-t.clientX,s.y+_e539.clientY-t.clientY),_o192=new DOMPoint(n.x+_e539.clientX-t.clientX,n.y+_e539.clientY-t.clientY),_l176=_i550.matrixTransform(p),_a137=_o192.matrixTransform(p),_c41=he(_l176,d),_x97=he(_a137,d),_b28=_c41.matrixTransform(r.gradientTransform.inverse()),_m27=_x97.matrixTransform(r.gradientTransform.inverse());h.setAttribute("x1",K(_b28.x,u)),h.setAttribute("y1",K(_b28.y,u)),h.setAttribute("x2",K(_m27.x,u)),h.setAttribute("y2",K(_m27.y,u));}}),o.addEventListener("pointerup",_i551=function i(){o.removeEventListener("pointermove",e),o.removeEventListener("pointerup",_i551),_this299.Na=null;});},sh:function sh(t){this.Pn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[hc],s=Co(i),n=Ht(this).inverse(),o=Oo(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),a=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=ze(l,h)/ze(l,a);r=Q(r,0,1,this.Pn.geometryPrecision);var d=null;for(var _t738=0;_t738<o.length;_t738+=1){var _e540=o[_t738];if(_e540.offset.baseVal<r)d=_t738;else if(_e540.offset.baseVal>r)break;}var c=Ei("svg:stop");if(c.setAttribute("offset",r),c.style.stopColor=To(i,r),null===d){var _t739=o[0];_t739?_t739.before(c):s.append(c);}else o[d].after(c);this.Ga([c]);},vn:function vn(t){var e=so.fromEvent(t);0!==this.Ra.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.rh()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.dh()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.ph()):e.matches("ArrowLeft")?(t.stopPropagation(),this.uh("left")&&this.xh(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.uh("right")&&this.xh(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.uh("left")&&this.xh(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.uh("right")&&this.xh(10,"right")));},Va:function Va(){var t=this.bh();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e541=this.querySelector(".subhud:focus"),_i552=[];this["#subhuds"].innerHTML="";var _iterator433=_createForOfIteratorHelper(t),_step433;try{for(_iterator433.s();!(_step433=_iterator433.n()).done;){var _e542=_step433.value;var _t741=Ko(_e542,this.context);if(_i552.includes(_t741))continue;_i552.push(_t741);var _s321=Oo(_t741),_n235=this["#subhud-template"].cloneNode(!0);_n235.removeAttribute("uid"),_n235[hc]=_t741,_n235[rc]=_e542,_n235[dc]=_s321;var _o193=_n235.querySelector(".stop-grippies"),_l177=document.createDocumentFragment();var _iterator434=_createForOfIteratorHelper(_s321),_step434;try{for(_iterator434.s();!(_step434=_iterator434.n()).done;){var _t742=_step434.value;var _e543=Ei("svg:circle");_e543.setAttribute("class","stop-grippie"),_e543[cc]=_t742,_t742.offset.baseVal>.95?_l177.prepend(_e543):_o193.append(_e543);}}catch(err){_iterator434.e(err);}finally{_iterator434.f();}_o193.append(_l177),this["#subhuds"].append(_n235);}}catch(err){_iterator433.e(err);}finally{_iterator433.f();}if(_e541){var _t740=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[hc]===_e541[hc];});_t740&&_t740.focus();}this.Za(),this.ll(),this.Ka(),this.mh(),this.gh();}},Za:function Za(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator435=_createForOfIteratorHelper(this["#subhuds"].children),_step435;try{for(_iterator435.s();!(_step435=_iterator435.n()).done;){var _e544=_step435.value;if(t&&_e544!==t)continue;var _i553=_e544[hc],_s322=_e544[rc],_n236=_e544[dc],_o194=zo(_i553),_l178=jt(_s322,this),_a138=_e544.querySelector(".slider"),_h118=_e544.querySelector(".slider-shadow"),_r71=_toConsumableArray(_e544.querySelector(".stop-grippies").children);if(_o194.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t743=new DOMPoint(_o194.x1.value,_o194.y1.value),_e545=new DOMPoint(_o194.x2.value,_o194.y2.value),_i554=_t743.matrixTransform(_o194.gradientTransform),_s323=_e545.matrixTransform(_o194.gradientTransform),_d52=_i554.matrixTransform(_l178),_c42=_s323.matrixTransform(_l178);_a138.setAttribute("x1",_d52.x),_a138.setAttribute("y1",_d52.y),_a138.setAttribute("x2",_c42.x),_a138.setAttribute("y2",_c42.y),_h118.setAttribute("x1",_d52.x),_h118.setAttribute("y1",_d52.y),_h118.setAttribute("x2",_c42.x),_h118.setAttribute("y2",_c42.y);var _iterator436=_createForOfIteratorHelper(_n236),_step436;try{var _loop12=function _loop12(){var t=_step436.value;var e=_r71.find(function(e){return e[cc]===t;}),i=Te(_d52,_c42,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator436.s();!(_step436=_iterator436.n()).done;){_loop12();}}catch(err){_iterator436.e(err);}finally{_iterator436.f();}}else if(_o194.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t744=Pi(_s322),_e546=_o194.x1.valueInSpecifiedUnits,_i555=_o194.y1.valueInSpecifiedUnits,_d53=_o194.x2.valueInSpecifiedUnits,_c43=_o194.y2.valueInSpecifiedUnits;_o194.x1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e546/=100),_o194.y1.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i555/=100),_o194.x2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_d53/=100),_o194.y2.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_c43/=100);var _p36=new DOMPoint(_e546,_i555),_u31=new DOMPoint(_d53,_c43),_x98=_p36.matrixTransform(_o194.gradientTransform),_b29=_u31.matrixTransform(_o194.gradientTransform),_m28=new DOMPoint(_t744.x+_x98.x*_t744.width,_t744.y+_x98.y*_t744.height),_g24=new DOMPoint(_t744.x+_b29.x*_t744.width,_t744.y+_b29.y*_t744.height),_f17=_m28.matrixTransform(_l178),_w15=_g24.matrixTransform(_l178);_a138.setAttribute("x1",_f17.x),_a138.setAttribute("y1",_f17.y),_a138.setAttribute("x2",_w15.x),_a138.setAttribute("y2",_w15.y),_h118.setAttribute("x1",_f17.x),_h118.setAttribute("y1",_f17.y),_h118.setAttribute("x2",_w15.x),_h118.setAttribute("y2",_w15.y);var _iterator437=_createForOfIteratorHelper(_n236),_step437;try{var _loop13=function _loop13(){var t=_step437.value;var e=_r71.find(function(e){return e[cc]===t;}),i=Te(_f17,_w15,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator437.s();!(_step437=_iterator437.n()).done;){_loop13();}}catch(err){_iterator437.e(err);}finally{_iterator437.f();}}}}catch(err){_iterator435.e(err);}finally{_iterator435.f();}},Ka:function Ka(){var _iterator438=_createForOfIteratorHelper(this["#subhuds"].children),_step438;try{for(_iterator438.s();!(_step438=_iterator438.n()).done;){var _t745=_step438.value;var _iterator439=_createForOfIteratorHelper(_t745.querySelectorAll(".stop-grippie")),_step439;try{for(_iterator439.s();!(_step439=_iterator439.n()).done;){var _e547=_step439.value;var _t746=_e547[cc];_e547.style.fill=getComputedStyle(_t746).stopColor;}}catch(err){_iterator439.e(err);}finally{_iterator439.f();}}}catch(err){_iterator438.e(err);}finally{_iterator438.f();}},ll:function ll(){var _iterator440=_createForOfIteratorHelper(this.querySelectorAll(".stop-grippie")),_step440;try{for(_iterator440.s();!(_step440=_iterator440.n()).done;){var _t747=_step440.value;_t747.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator440.e(err);}finally{_iterator440.f();}},mh:function mh(){var _iterator441=_createForOfIteratorHelper(this["#subhuds"].children),_step441;try{for(_iterator441.s();!(_step441=_iterator441.n()).done;){var _t748=_step441.value;var _iterator442=_createForOfIteratorHelper(_t748.querySelectorAll(".stop-grippie")),_step442;try{for(_iterator442.s();!(_step442=_iterator442.n()).done;){var _e548=_step442.value;this.Ra.includes(_e548[cc])?_e548.setAttribute("data-selected",""):_e548.removeAttribute("data-selected");}}catch(err){_iterator442.e(err);}finally{_iterator442.f();}}}catch(err){_iterator441.e(err);}finally{_iterator441.f();}},gh:function gh(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator443=_createForOfIteratorHelper(this.Ra),_step443;try{for(_iterator443.s();!(_step443=_iterator443.n()).done;){var _e549=_step443.value;var _iterator444=_createForOfIteratorHelper(t),_step444;try{for(_iterator444.s();!(_step444=_iterator444.n()).done;){var _i556=_step444.value;_i556[cc]===_e549&&_i556.parentElement.append(_i556);}}catch(err){_iterator444.e(err);}finally{_iterator444.f();}}}catch(err){_iterator443.e(err);}finally{_iterator443.f();}},Ga:function Ga(t){0===t.length&&0===this.Ra.length||(this.Ra=_toConsumableArray(t),this.mh(),this.gh(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},Fa:function Fa(){var t=this.querySelector(".subhud:focus")[hc],e=Oo(t);this.Ga(e);},Ua:function Ua(){var t=this.querySelector(".subhud:focus")[hc],e=Oo(t);this.Ga(this.Ra.filter(function(t){return!1===e.includes(t);}));},dh:function dh(){var _this300=this;var t=this.querySelector(".subhud:focus")[hc];if(t){var _e550=Oo(t),_i557=_e550.filter(function(t){return _this300.Ra.includes(t);}),_s324=_i557[_i557.length-1],_n237=_e550[0];if(_s324&&_e550.length>1){for(var _t749=_s324.nextElementSibling;_t749;_t749=_t749.nextElementSibling){if("stop"===_t749.localName){_n237=_t749;break;}}this.Ga([_n237]);}}},ph:function ph(){var _this301=this;var t=this.querySelector(".subhud:focus")[hc];if(t){var _e551=Oo(t),_i558=_e551.filter(function(t){return _this301.Ra.includes(t);}),_s325=_i558[_i558.length-1],_n238=_e551[_e551.length-1];if(_s325&&_e551.length>1){for(var _t750=_s325.previousElementSibling;_t750;_t750=_t750.previousElementSibling){if("stop"===_t750.localName){_n238=_t750;break;}}this.Ga([_n238]);}}},rh:function rh(){var _this302=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[hc],i=Oo(e).filter(function(t){return _this302.Ra.includes(t);});if(this.Ga([]),i.length>0){this.Pn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator445=_createForOfIteratorHelper(i),_step445;try{for(_iterator445.s();!(_step445=_iterator445.n()).done;){var _t751=_step445.value;_t751.remove();}}catch(err){_iterator445.e(err);}finally{_iterator445.f();}}},xh:function xh(){var _this303=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Pn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[hc],l=Oo(o).filter(function(t){return _this303.Ra.includes(t);}),a=this.ah(),h=Ht(this),r=this.Pn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(h),u=c.matrixTransform(h),x=t/new Z(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator446=_createForOfIteratorHelper(l),_step446;try{for(_iterator446.s();!(_step446=_iterator446.n()).done;){var _t752=_step446.value;var _a$get=a.get(_t752),_i559=_a$get.minOffset,_s326=_a$get.maxOffset;if("left"===e){var _e552=Q(_t752.offset.baseVal-x,_i559,_s326,r);_t752.setAttribute("offset",_e552);}else if("right"===e){var _e553=Q(_t752.offset.baseVal+x,_i559,_s326,r);_t752.setAttribute("offset",_e553);}}}catch(err){_iterator446.e(err);}finally{_iterator446.f();}},uh:function uh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[hc],s=Oo(i),n=this.Ra.find(function(t){return s.includes(t);});if(null===n)return;var o=this.ah(),_o$get=o.get(n),l=_o$get.minOffset,a=_o$get.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<a:void 0;},fh:function fh(t){for(var _e554=t;_e554;_e554=_e554.previousElementSibling){if("stop"===_e554.localName&&!1===this.Ra.includes(_e554))return _e554;}return null;},wh:function wh(t){for(var _e555=t;_e555;_e555=_e555.nextElementSibling){if("stop"===_e555.localName&&!1===this.Ra.includes(_e555))return _e555;}return null;},ah:function ah(){var t=new Map(),e=[];var _iterator447=_createForOfIteratorHelper(this.Ra),_step447;try{for(_iterator447.s();!(_step447=_iterator447.n()).done;){var _t754=_step447.value;var _i561=this.fh(_t754),_s328=this.wh(_t754),_n239={};_n239.min=_i561?_t754.offset.baseVal-_i561.offset.baseVal:_t754.offset.baseVal,_n239.max=_s328?_s328.offset.baseVal-_t754.offset.baseVal:1-_t754.offset.baseVal,e.push(_n239);}}catch(err){_iterator447.e(err);}finally{_iterator447.f();}if(e.length>0){var _i560=e[0].min,_s327=e[0].max;var _iterator448=_createForOfIteratorHelper(e),_step448;try{for(_iterator448.s();!(_step448=_iterator448.n()).done;){var _t753=_step448.value;_t753.min<_i560&&(_i560=_t753.min),_t753.max<_s327&&(_s327=_t753.max);}}catch(err){_iterator448.e(err);}finally{_iterator448.f();}var _iterator449=_createForOfIteratorHelper(this.Ra),_step449;try{for(_iterator449.s();!(_step449=_iterator449.n()).done;){var _e556=_step449.value;t.set(_e556,{initialOffset:_e556.offset.baseVal,minOffset:_e556.offset.baseVal-_i560,maxOffset:_e556.offset.baseVal+_s327});}}catch(err){_iterator449.e(err);}finally{_iterator449.f();}}return t;},bh:function bh(){var _this304=this;var t=function t(e){var i=[],s=_this304.Pn.selectedTextRange;var _iterator450=_createForOfIteratorHelper(e),_step450;try{for(_iterator450.s();!(_step450=_iterator450.n()).done;){var _n240=_step450.value;var _e557=_n240.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e557))i.push(_n240);else if(["a","g"].includes(_e557))i.push.apply(i,_toConsumableArray(t(_n240.children)));else if("text"===_e557){var _t755=gi(_n240);if(s&&s.intersectsNode(_n240)){"backward"===s.direction&&_t755.reverse();var _iterator451=_createForOfIteratorHelper(_t755),_step451;try{for(_iterator451.s();!(_step451=_iterator451.n()).done;){var _e558=_step451.value;if(s.intersectsNode(_e558)){var _t756=_e558.closest("text, textPath, tspan, a");_t756&&!i.includes(_t756)&&i.push(_t756);}}}catch(err){_iterator451.e(err);}finally{_iterator451.f();}}else{var _iterator452=_createForOfIteratorHelper(_t755),_step452;try{for(_iterator452.s();!(_step452=_iterator452.n()).done;){var _e559=_step452.value;var _t757=_e559.closest("text, textPath, tspan, a");_t757&&!i.includes(_t757)&&i.push(_t757);}}catch(err){_iterator452.e(err);}finally{_iterator452.f();}}}}}catch(err){_iterator450.e(err);}finally{_iterator450.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"linearGradient"===Zo(t,_this304.context);});}};var uc=Symbol(),xc=Symbol(),bc=Symbol(),mc=Symbol();var gc={id:"radial-gradient-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&(this.selectedStops=[],this.Ba());},get selectedStops(){var t=_toConsumableArray(this["#subhuds"].querySelectorAll(".stop-grippie")).map(function(t){return t[mc];});return this.Ra.filter(function(e){return t.includes(e)&&e.isConnected;});},set selectedStops(t){this.Ga(t);},createdCallback:function createdCallback(){var _this305=this;this.commands={selectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this305.Fa();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this305.Ua();}}},this.Ra=[],this.Xo=null,this.Na=null,this.Ba=Ki(this.Va,80,this),this.tabIndex=-1,this.innerHTML='\n  <style>\n    #radial-gradient-hud .subhud:focus {\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider {\n      stroke: white;\n      stroke-width: 7;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n    }\n\n    #radial-gradient-hud .slider-shadow {\n      stroke: rgba(0, 0, 0, 0.3);\n      stroke-width: 10;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      outline: none;\n    }\n\n    #radial-gradient-hud .stop-grippie {\n      fill: black;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n    #radial-gradient-hud .stop-grippie[data-selected] {\n      stroke: rgb(186, 186, 186); /* gray */\n    }\n    #radial-gradient-hud .subhud:focus .stop-grippie[data-selected] {\n      stroke: rgb(147, 210, 255); /* blue */\n    }\n\n    #radial-gradient-hud .r2-outline {\n      fill: none;\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      stroke-dasharray: 5, 5;\n      stroke-linecap: round;\n      vector-effect: non-scaling-stroke;\n      outline: none;\n      pointer-events: none;\n    }\n\n    #radial-gradient-hud .r2-grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud" tabindex="0">\n      <line class="r2-outline"></line>\n      <line class="slider-shadow"></line>\n      <line class="slider"></line>\n      <circle class="r2-grippie grippie"></circle>\n      <g class="stop-grippies"></g>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator453=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step453;try{for(_iterator453.s();!(_step453=_iterator453.n()).done;){var _t758=_step453.value;this["#"+_t758.getAttribute("uid")]=_t758;}}catch(err){_iterator453.e(err);}finally{_iterator453.f();}this.addEventListener("keydown",function(t){return _this305.vn(t);}),this.addEventListener("pointerdown",function(t){return _this305.wo(t);}),this.addEventListener("pointerup",function(t){return _this305.ja(t);}),this.addEventListener("dblclick",function(t){return _this305.Sa(t);});},enabledCallback:function enabledCallback(){var _this306=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this306.Jo();}),this.Pn.addEventListener("selectedtextrangechange",this.Ha=function(){_this306.Ya();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this306.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this306.il();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this306.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Hn=function(t){_this306.qa(t);}),this.Pn.undoManager.addEventListener("undo",this._a=function(){_this306.Xa();}),this.Pn.undoManager.addEventListener("redo",this.Ca=function(){_this306.Xa();}),this.Jo();},disabledCallback:function disabledCallback(){this.Ga([]),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("selectedtextrangechange",this.Ha),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Hn),this.Pn.undoManager.removeEventListener("undo",this._a),this.Pn.undoManager.removeEventListener("redo",this.Ca);},Jo:function Jo(){this.Ba();},Ya:function Ya(){this.Ba();},sl:function sl(t){if(this.Xo)this.Za(this.Xo.closest(".subhud"));else if(this.Na)this.Za(this.Na.parentElement);else{var _iterator454=_createForOfIteratorHelper(t),_step454;try{for(_iterator454.s();!(_step454=_iterator454.n()).done;){var _e560=_step454.value;"style"===_e560.attributeName&&"stop"===_e560.target.localName?this.Ka():this.Ba();}}catch(err){_iterator454.e(err);}finally{_iterator454.f();}}},il:function il(){this.ll();},Xa:function Xa(){this.Ga([]);},kn:function kn(t){1===t.buttons&&this.Ga([]);},qa:function qa(t){t.target!==this&&!1===this.contains(t.target)&&1===t.buttons&&this.Ga([]);},wo:function wo(t){var _this307=this;if(1!==t.buttons)return;var e,_i562;t.target.classList.contains("slider")?this.Qa(t):t.target.classList.contains("stop-grippie")?this.Ja(t):t.target.classList.contains("r2-grippie")&&this.yh(t,"r2"),this.th=!1,this.eh=t.timeStamp,window.addEventListener("pointermove",e=function e(){_this307.th=!0;}),window.addEventListener("pointerup",_i562=function i(){window.removeEventListener("pointerup",_i562),window.removeEventListener("pointermove",e);});},ja:function ja(t){t.target.classList.contains("stop-grippie")&&this.ih(t);},Sa:function Sa(t){t.timeStamp-this.eh<300&&t.target.classList.contains("slider")&&this.sh(t);},Ja:function Ja(t){var _this308=this;var e=t.target[mc],i=e.closest("linearGradient, radialGradient"),s=Oo(i),n=s.filter(function(t){return _this308.Ra.includes(t);}),o=s[0],l=s[s.length-1],_this$Qs$modKeys6=this.Qs.modKeys,a=_this$Qs$modKeys6.alt,h=_this$Qs$modKeys6.shift;this.nh=_toConsumableArray(n),!1===h?!1===n.includes(e)&&this.Ga([e]):!0===h&&!1===n.includes(e)&&(n.push(e),this.Ga(n)),e===o&&0===e.offset.baseVal&&!1===a?this.kh(t):e===l&&1===e.offset.baseVal&&!1===a?this.yh(t,"r1"):this.lh(t);},ih:function ih(t){if(this.th)return;var e=t.target,i=this.nh,s=e[mc],n=e.closest(".subhud")[xc],o=this.Qs.modKeys.shift,l=[];var _iterator455=_createForOfIteratorHelper(this.Pn.selectedElements),_step455;try{for(_iterator455.s();!(_step455=_iterator455.n()).done;){var _t760=_step455.value;if("g"!==_t760.localName&&"a"!==_t760.localName||!_t760.contains(n))l.push(_t760);else{var _iterator456=_createForOfIteratorHelper(Bi(_toConsumableArray(_t760.children))),_step456;try{for(_iterator456.s();!(_step456=_iterator456.n()).done;){var _e561=_step456.value;l.unshift(_e561);}}catch(err){_iterator456.e(err);}finally{_iterator456.f();}}}}catch(err){_iterator455.e(err);}finally{_iterator455.f();}this.Pn.isSelectableElement(n)&&(l=l.filter(function(t){return t!==n;}),l.unshift(n)),this.Pn.selectedElements=l;for(var _t759=n.parentElement;_t759!==this.Pn.currentWorkspace;_t759=_t759.parentElement){if("g"===_t759.localName||"a"===_t759.localName){this.Pn.currentContainer=_t759;break;}}!0===o&&!0===this.nh.includes(s)&&(i=i.filter(function(t){return t!==s;}),this.Ga(i));},lh:function lh(t){var _this309=this;var e,_i565,s=t.target,n=s.closest(".subhud").querySelector(".slider"),o=this.Pn.geometryPrecision,l=this.ah(),a=Ht(this),h=a.inverse(),r=new DOMPoint(t.clientX,t.clientY),d=r,c=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),p=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),u=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value),x=u.matrixTransform(a),_Ee35=Ee(c,p,u,!1),_Ee36=_slicedToArray(_Ee35,1),b=_Ee36[0],m=ze(c,b)/ze(c,p),g=!1;this.Xo=s,s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",e=function e(_e563){{var _i563=new DOMPoint(_e563.clientX,_e563.clientY),_s329=_e563.timeStamp-t.timeStamp;if(!0===Me(d,_i563,0))return;if(d=_i563,ze(r,_i563)<3&&_s329<80)return;}!1===g&&(_this309.Pn.undoManager.checkpoint("Move gradient stop"),g=!0);var i=new DOMPoint(x.x+_e563.clientX-t.clientX,x.y+_e563.clientY-t.clientY).matrixTransform(h),_Ee37=Ee(c,p,i,!1),_Ee38=_slicedToArray(_Ee37,1),s=_Ee38[0],n=ze(c,s)/ze(c,p)-m;var _iterator457=_createForOfIteratorHelper(_this309.Ra),_step457;try{for(_iterator457.s();!(_step457=_iterator457.n()).done;){var _t761=_step457.value;var _l$get2=l.get(_t761),_e562=_l$get2.minOffset,_i564=_l$get2.maxOffset,_s330=_l$get2.initialOffset;_s330+n<_e562?_t761.setAttribute("offset",_e562):_s330+n>_i564?_t761.setAttribute("offset",_i564):_t761.setAttribute("offset",_s330+n);}}catch(err){_iterator457.e(err);}finally{_iterator457.f();}}),s.addEventListener("pointerup",_i565=function i(){s.removeEventListener("pointermove",e),s.removeEventListener("pointerup",_i565);var _iterator458=_createForOfIteratorHelper(_this309.Ra),_step458;try{for(_iterator458.s();!(_step458=_iterator458.n()).done;){var _t762=_step458.value;_t762.setAttribute("offset",K(_t762.offset.baseVal,o));}}catch(err){_iterator458.e(err);}finally{_iterator458.f();}_this309.Xo=null;});},yh:function yh(t){var _this310=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"r1";var i,s,n,o,l,a,h,r,d=t.target,c=_toConsumableArray(this["#subhuds"].children).find(function(t){return t.contains(d);}),p=c[uc],u=zo(p),x=c[xc],b=Pi(x),m=Ht(x),g=m.inverse(),f=u.gradientTransform,w=this.Pn.transformPrecision,v=new DOMPoint(t.clientX,t.clientY),y=v,_Nl16=Nl(m),k=_Nl16.scaleX,S=_Nl16.scaleY,_=!1,C=!1;d.matches(".grippie")?this.Xo=d:d.matches(".slider")&&(this.Na=d),d.setPointerCapture(t.pointerId);d.addEventListener("pointermove",i=function i(_i570){if(!1===_){{var _e564=new DOMPoint(_i570.clientX,_i570.clientY),_s331=_i570.timeStamp-t.timeStamp;if(!0===Me(y,_e564,0))return;if(y=_e564,ze(v,_e564)<3&&_s331<80)return;}if(_this310.Pn.undoManager.checkpoint("Transform gradient"),Do(p)){var _t763=Ei("svg:radialGradient");_t763.setAttribute("id",_this310.Pn.generateUniqueID(p.id)),_t763.setAttribute("href","#"+p.id),_this310.Pn.maybeCreateDefsForMasterWorkspace(),_this310.Pn.defs.append(_t763),p=_t763,c[uc]=_t763,x.style[_this310.context]="url(#"+_t763.id+")";}_=!0,function(){if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){n=new DOMPoint(u.cx.value,u.cy.value),o=new DOMPoint(u.cx.value+u.r.value,u.cy.value),l=new DOMPoint(u.cx.value,u.cy.value-u.r.value);var _t764=n.matrixTransform(f),_e565=o.matrixTransform(f),_i566=l.matrixTransform(f);a=_t764.matrixTransform(m),h=_e565.matrixTransform(m),r=_i566.matrixTransform(m);}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t765=u.cx.valueInSpecifiedUnits,_e566=u.cy.valueInSpecifiedUnits,_i567=u.r.valueInSpecifiedUnits;u.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t765/=100),u.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e566/=100),u.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i567/=100),n=new DOMPoint(_t765,_e566),o=new DOMPoint(_t765-_i567,_e566),l=new DOMPoint(_t765,_e566-_i567);var _s332=n.matrixTransform(f),_d54=o.matrixTransform(f),_c44=l.matrixTransform(f),_p37=ae(_s332,b),_x99=ae(_d54,b),_g25=ae(_c44,b);a=_p37.matrixTransform(m),h=_x99.matrixTransform(m),r=_g25.matrixTransform(m);}}();}var s,d,_this310$Qs$modKeys=_this310.Qs.modKeys,M=_this310$Qs$modKeys.ctrl,P=_this310$Qs$modKeys.shift;"r1"===e?(s=new DOMPoint(_i570.clientX+(h.x-t.clientX),_i570.clientY+(h.y-t.clientY)),d=Le(a,h,s)):"r2"===e&&(s=new DOMPoint(_i570.clientX+(r.x-t.clientX),_i570.clientY+(r.y-t.clientY)),d=Le(a,r,s));var D=new DOMMatrix();D.translateSelf(a.x,a.y),D.rotateSelf(d),D.translateSelf(-a.x,-a.y);var z,O,E,T=a.matrixTransform(D),A=h.matrixTransform(D),$=r.matrixTransform(D),I=new Z(T,A),L=new Z(T,$),B=new Z(T,s);if("r1"===e){if(I.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,M){var _t766=new Z(T,r);L.length=B.length,_t766.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,r.x=T.x+_t766.x,r.y=T.y+_t766.y;}if(P){var _$e11=$e(T,A,22.5),_$e12=_slicedToArray(_$e11,2),_t767=_$e12[0],_e567=_$e12[1];A=_t767,C=!0;}if(C){var _t768=new DOMPoint(a.x,a.y-100),_e568=Le(a,_t768,A);$=Ie(T,$,k<0&&S<0?_e568+90:_e568-90);}}else if("r2"===e){if(L.length=B.length,$.x=T.x+L.x,$.y=T.y+L.y,M){var _t769=new Z(T,h);I.length=B.length,_t769.length=B.length,A.x=T.x+I.x,A.y=T.y+I.y,h.x=T.x+_t769.x,h.y=T.y+_t769.y;}if(P){var _$e13=$e(T,$,22.5),_$e14=_slicedToArray(_$e13,2),_t770=_$e14[0],_e569=_$e14[1];$=_t770,C=!0;}if(C){var _t771=new DOMPoint(a.x,a.y-100),_e570=Le(a,_t771,$);A=Ie(T,A,k<0&&S<0?_e570-90:_e570+90);}}if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t772=T.matrixTransform(g),_e571=A.matrixTransform(g),_i568=$.matrixTransform(g);z=_t772.matrixTransform(f.inverse()),O=_e571.matrixTransform(f.inverse()),E=_i568.matrixTransform(f.inverse());}else if(u.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t773=T.matrixTransform(g),_e572=A.matrixTransform(g),_i569=$.matrixTransform(g),_s333=he(_t773,b),_n241=he(_e572,b),_o195=he(_i569,b);z=_s333.matrixTransform(f.inverse()),O=_n241.matrixTransform(f.inverse()),E=_o195.matrixTransform(f.inverse());}var R=Yt(n,o,l,z,O,E),G=Gt(f.multiply(R),w);p.setAttribute("gradientTransform",G.toString());}),d.addEventListener("pointerup",s=function(_s334){function s(){return _s334.apply(this,arguments);}s.toString=function(){return _s334.toString();};return s;}(function(){d.removeEventListener("pointermove",i),d.removeEventListener("pointerup",s),_this310.Xo=null,_this310.Na=null;}));},Qa:function Qa(t){var e=t.target,i=Ht(e),s=new DOMPoint(t.clientX,t.clientY),n=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value).matrixTransform(i);ze(n,s)<=5?this.yh(t,"r1"):this.kh(t);},kh:function kh(t){var _this311=this;var e,_i573,s,n=t.target,o=t.target.closest(".subhud"),l=o[xc],a=o[uc],h=zo(a),r=Pi(l),d=Ht(l),c=d.inverse(),p=this.Pn.geometryPrecision,u=new DOMPoint(t.clientX,t.clientY),x=u,b=!1;if(n.matches(".grippie")?this.Xo=n:n.matches(".slider")&&(this.Na=n),n.setPointerCapture(t.pointerId),h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t774=new DOMPoint(h.cx.value,h.cy.value).matrixTransform(h.gradientTransform);s=_t774.matrixTransform(d);}else if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t775=h.cx.valueInSpecifiedUnits,_e573=h.cy.valueInSpecifiedUnits;h.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t775/=100),h.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e573/=100);var _i571=new DOMPoint(_t775,_e573).matrixTransform(h.gradientTransform),_n242=ae(_i571,r);s=_n242.matrixTransform(d);}n.addEventListener("pointermove",e=function e(_e574){var i,n=new DOMPoint(_e574.clientX,_e574.clientY),d=new Z(u,n);if(!1===b){{var _i572=_e574.timeStamp-t.timeStamp;if(!0===Me(x,n,0))return;if(x=n,ze(u,n)<3&&_i572<80)return;}if(b=!0,_this311.Pn.undoManager.checkpoint("Transform gradient"),_this311.Pn.snapManager.snapStart(!1),Do(a)){var _t776=Ei("svg:radialGradient");_t776.setAttribute("id",_this311.Pn.generateUniqueID(a.id)),_t776.setAttribute("href","#"+a.id),_this311.Pn.maybeCreateDefsForMasterWorkspace(),_this311.Pn.defs.append(_t776),a=_t776,o[uc]=_t776,l.style[_this311.context]="url(#"+_t776.id+")";}}if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t777=new DOMPoint(s.x+d.x,s.y+d.y);_t777=_this311.Pn.snapManager.snapPoint(_t777),i=_t777.matrixTransform(c).matrixTransform(h.gradientTransform.inverse());}else if(h.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t778=new DOMPoint(s.x+d.x,s.y+d.y).matrixTransform(c);i=he(_t778,r).matrixTransform(h.gradientTransform.inverse());}a.setAttribute("cx",K(i.x,p)),a.setAttribute("cy",K(i.y,p));}),n.addEventListener("pointerup",_i573=function i(){n.removeEventListener("pointermove",e),n.removeEventListener("pointerup",_i573),_this311.Xo=null,_this311.Na=null,_this311.Pn.snapManager.snapEnd();});},sh:function sh(t){this.Pn.undoManager.checkpoint("Add Stop");var e=t.target,i=e.closest(".subhud")[uc],s=Co(i),n=Ht(this).inverse(),o=Oo(i),l=new DOMPoint(e.x1.baseVal.value,e.y1.baseVal.value),a=new DOMPoint(e.x2.baseVal.value,e.y2.baseVal.value),h=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),r=ze(l,h),d=ze(l,a),c=Q(r/d,0,1,this.Pn.geometryPrecision),p=null;for(var _t779=0;_t779<o.length;_t779+=1){var _e575=o[_t779];if(_e575.offset.baseVal<c)p=_t779;else if(_e575.offset.baseVal>c)break;}var u=Ei("svg:stop");if(u.setAttribute("offset",c),u.style.stopColor=To(i,c),null===p){var _t780=o[0];_t780?_t780.before(u):s.append(u);}else o[p].after(u);this.Ga([u]);},vn:function vn(t){var e=so.fromEvent(t);0!==this.Ra.length&&(e.matches("Backspace")||e.matches("Delete")?(t.stopPropagation(),this.rh()):e.matches("Tab")?(t.stopPropagation(),t.preventDefault(),this.dh()):e.matches("Shift","Tab")?(t.stopPropagation(),t.preventDefault(),this.ph()):e.matches("ArrowLeft")?(t.stopPropagation(),this.uh("left")&&this.xh(1,"left")):e.matches("ArrowRight")?(t.stopPropagation(),this.uh("right")&&this.xh(1,"right")):e.matches("Shift","ArrowLeft")?(t.stopPropagation(),this.uh("left")&&this.xh(10,"left")):e.matches("Shift","ArrowRight")&&(t.stopPropagation(),this.uh("right")&&this.xh(10,"right")));},Va:function Va(){var t=this.Sh();if(0===t.length)this["#subhuds"].innerHTML="";else{var _e576=this.querySelector(".subhud:focus"),_i574=[];this["#subhuds"].innerHTML="";var _iterator459=_createForOfIteratorHelper(t),_step459;try{for(_iterator459.s();!(_step459=_iterator459.n()).done;){var _e577=_step459.value;var _t782=Ko(_e577,this.context);if(_i574.includes(_t782))continue;_i574.push(_t782);var _s335=Oo(_t782),_n243=this["#subhud-template"].cloneNode(!0);_n243.removeAttribute("uid"),_n243[uc]=_t782,_n243[xc]=_e577,_n243[bc]=_s335;var _o196=_n243.querySelector(".stop-grippies"),_l179=document.createDocumentFragment();var _iterator460=_createForOfIteratorHelper(_s335),_step460;try{for(_iterator460.s();!(_step460=_iterator460.n()).done;){var _t783=_step460.value;var _e578=Ei("svg:circle");_e578.setAttribute("class","stop-grippie grippie"),_e578[mc]=_t783,_t783.offset.baseVal>.95?_l179.prepend(_e578):_o196.append(_e578);}}catch(err){_iterator460.e(err);}finally{_iterator460.f();}_o196.append(_l179),this["#subhuds"].append(_n243);}}catch(err){_iterator459.e(err);}finally{_iterator459.f();}if(_e576){var _t781=_toConsumableArray(this["#subhuds"].children).find(function(t){return t[uc]===_e576[uc];});_t781&&_t781.focus();}this.Za(),this.ll(),this.Ka(),this.mh(),this.gh();}},Za:function Za(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator461=_createForOfIteratorHelper(this["#subhuds"].children),_step461;try{for(_iterator461.s();!(_step461=_iterator461.n()).done;){var _e579=_step461.value;if(t&&_e579!==t)continue;var _i575=_e579[uc],_s336=_e579[xc],_n244=_e579[bc],_o197=zo(_i575),_l180=jt(_s336,this),_a139=_e579.querySelector(".slider"),_h119=_e579.querySelector(".slider-shadow"),_r72=_toConsumableArray(_e579.querySelector(".stop-grippies").children),_d55=_e579.querySelector(".r2-grippie"),_c45=_e579.querySelector(".r2-outline");if(_o197.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE){var _t784=new DOMPoint(_i575.cx.baseVal.value,_i575.cy.baseVal.value),_e580=new DOMPoint(_i575.cx.baseVal.value+_i575.r.baseVal.value,_i575.cy.baseVal.value),_s337=new DOMPoint(_i575.cx.baseVal.value,_i575.cy.baseVal.value-_i575.r.baseVal.value),_p38=_t784.matrixTransform(_o197.gradientTransform),_u32=_e580.matrixTransform(_o197.gradientTransform),_x100=_s337.matrixTransform(_o197.gradientTransform),_b30=_p38.matrixTransform(_l180),_m29=_u32.matrixTransform(_l180),_g26=_x100.matrixTransform(_l180);_a139.setAttribute("x1",_b30.x),_a139.setAttribute("y1",_b30.y),_a139.setAttribute("x2",_m29.x),_a139.setAttribute("y2",_m29.y),_h119.setAttribute("x1",_b30.x),_h119.setAttribute("y1",_b30.y),_h119.setAttribute("x2",_m29.x),_h119.setAttribute("y2",_m29.y),_c45.setAttribute("x1",_b30.x),_c45.setAttribute("y1",_b30.y),_c45.setAttribute("x2",_g26.x),_c45.setAttribute("y2",_g26.y),_d55.setAttribute("cx",_g26.x),_d55.setAttribute("cy",_g26.y);var _iterator462=_createForOfIteratorHelper(_n244),_step462;try{var _loop14=function _loop14(){var t=_step462.value;var e=_r72.find(function(e){return e[mc]===t;}),i=Te(_b30,_m29,t.offset.baseVal);e.cx.baseVal.value=i.x,e.cy.baseVal.value=i.y;};for(_iterator462.s();!(_step462=_iterator462.n()).done;){_loop14();}}catch(err){_iterator462.e(err);}finally{_iterator462.f();}}else if(_o197.gradientUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t785=Pi(_s336),_e581=_o197.cx.valueInSpecifiedUnits,_i576=_o197.cy.valueInSpecifiedUnits,_p39=_o197.r.valueInSpecifiedUnits;_o197.cx.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e581/=100),_o197.cy.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i576/=100),_o197.r.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_p39/=100);var _u33=new DOMPoint(_e581,_i576),_x101=new DOMPoint(_e581-_p39,_i576),_b31=new DOMPoint(_e581,_i576-_p39),_m30=_u33.matrixTransform(_o197.gradientTransform),_g27=_x101.matrixTransform(_o197.gradientTransform),_f18=_b31.matrixTransform(_o197.gradientTransform),_w16=ae(_m30,_t785),_v12=ae(_g27,_t785),_y4=ae(_f18,_t785),_k3=_w16.matrixTransform(_l180),_S3=_v12.matrixTransform(_l180),_4=_y4.matrixTransform(_l180);_a139.setAttribute("x1",_k3.x),_a139.setAttribute("y1",_k3.y),_a139.setAttribute("x2",_S3.x),_a139.setAttribute("y2",_S3.y),_h119.setAttribute("x1",_k3.x),_h119.setAttribute("y1",_k3.y),_h119.setAttribute("x2",_S3.x),_h119.setAttribute("y2",_S3.y),_c45.setAttribute("x1",_k3.x),_c45.setAttribute("y1",_k3.y),_c45.setAttribute("x2",_4.x),_c45.setAttribute("y2",_4.y),_d55.setAttribute("cx",_4.x),_d55.setAttribute("cy",_4.y);var _iterator463=_createForOfIteratorHelper(_n244),_step463;try{var _loop15=function _loop15(){var t=_step463.value;var e=_r72.find(function(e){return e[mc]===t;});if(e){var _i577=Te(_k3,_S3,t.offset.baseVal);e.cx.baseVal.value=_i577.x,e.cy.baseVal.value=_i577.y;}};for(_iterator463.s();!(_step463=_iterator463.n()).done;){_loop15();}}catch(err){_iterator463.e(err);}finally{_iterator463.f();}}}}catch(err){_iterator461.e(err);}finally{_iterator461.f();}},Ka:function Ka(){var _iterator464=_createForOfIteratorHelper(this["#subhuds"].children),_step464;try{for(_iterator464.s();!(_step464=_iterator464.n()).done;){var _t786=_step464.value;var _iterator465=_createForOfIteratorHelper(_t786.querySelectorAll(".stop-grippie")),_step465;try{for(_iterator465.s();!(_step465=_iterator465.n()).done;){var _e582=_step465.value;var _t787=_e582[mc];_e582.style.fill=getComputedStyle(_t787).stopColor;}}catch(err){_iterator465.e(err);}finally{_iterator465.f();}}}catch(err){_iterator464.e(err);}finally{_iterator464.f();}},ll:function ll(){var _iterator466=_createForOfIteratorHelper(this.querySelectorAll(".grippie")),_step466;try{for(_iterator466.s();!(_step466=_iterator466.n()).done;){var _t788=_step466.value;_t788.setAttribute("r",6/this.Pn.scale);}}catch(err){_iterator466.e(err);}finally{_iterator466.f();}},mh:function mh(){var _iterator467=_createForOfIteratorHelper(this["#subhuds"].children),_step467;try{for(_iterator467.s();!(_step467=_iterator467.n()).done;){var _t789=_step467.value;var _iterator468=_createForOfIteratorHelper(_t789.querySelectorAll(".stop-grippie")),_step468;try{for(_iterator468.s();!(_step468=_iterator468.n()).done;){var _e583=_step468.value;this.Ra.includes(_e583[mc])?_e583.setAttribute("data-selected",""):_e583.removeAttribute("data-selected");}}catch(err){_iterator468.e(err);}finally{_iterator468.f();}}}catch(err){_iterator467.e(err);}finally{_iterator467.f();}},gh:function gh(){var t=this["#subhuds"].querySelectorAll(".stop-grippie");var _iterator469=_createForOfIteratorHelper(this.Ra),_step469;try{for(_iterator469.s();!(_step469=_iterator469.n()).done;){var _e584=_step469.value;var _iterator470=_createForOfIteratorHelper(t),_step470;try{for(_iterator470.s();!(_step470=_iterator470.n()).done;){var _i578=_step470.value;_i578[mc]===_e584&&_i578.parentElement.append(_i578);}}catch(err){_iterator470.e(err);}finally{_iterator470.f();}}}catch(err){_iterator469.e(err);}finally{_iterator469.f();}},Ga:function Ga(t){0===t.length&&0===this.Ra.length||(this.Ra=_toConsumableArray(t),this.mh(),this.gh(),this.dispatchEvent(new CustomEvent("selectedstopschange")));},Fa:function Fa(){var t=this.querySelector(".subhud:focus")[uc],e=Oo(t);this.Ga(e);},Ua:function Ua(){var t=this.querySelector(".subhud:focus")[uc],e=Oo(t);this.Ga(this.Ra.filter(function(t){return!1===e.includes(t);}));},dh:function dh(){var _this312=this;var t=this.querySelector(".subhud:focus")[uc];if(t){var _e585=Oo(t),_i579=_e585.filter(function(t){return _this312.Ra.includes(t);}),_s338=_i579[_i579.length-1],_n245=_e585[0];if(_s338&&_e585.length>1){for(var _t790=_s338.nextElementSibling;_t790;_t790=_t790.nextElementSibling){if("stop"===_t790.localName){_n245=_t790;break;}}this.Ga([_n245]);}}},ph:function ph(){var _this313=this;var t=this.querySelector(".subhud:focus")[uc];if(t){var _e586=Oo(t),_i580=_e586.filter(function(t){return _this313.Ra.includes(t);}),_s339=_i580[_i580.length-1],_n246=_e586[_e586.length-1];if(_s339&&_e586.length>1){for(var _t791=_s339.previousElementSibling;_t791;_t791=_t791.previousElementSibling){if("stop"===_t791.localName){_n246=_t791;break;}}this.Ga([_n246]);}}},rh:function rh(){var _this314=this;var t=this.querySelector(".subhud:focus");if(null===t)return;var e=t[uc],i=Oo(e).filter(function(t){return _this314.Ra.includes(t);});if(this.Ga([]),i.length>0){this.Pn.undoManager.checkpoint("Delete gradient stop(s)");var _iterator471=_createForOfIteratorHelper(i),_step471;try{for(_iterator471.s();!(_step471=_iterator471.n()).done;){var _t792=_step471.value;_t792.remove();}}catch(err){_iterator471.e(err);}finally{_iterator471.f();}}},xh:function xh(){var _this315=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";var i=this.Pn,s=this.querySelector(".subhud:focus");if(null===s)return;var n=s.querySelector(".slider"),o=s[uc],l=Oo(o).filter(function(t){return _this315.Ra.includes(t);}),a=this.ah(),h=Ht(this),r=this.Pn.geometryPrecision,d=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value),c=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value),p=d.matrixTransform(h),u=c.matrixTransform(h),x=t/new Z(p,u).length;r<2&&(r=2),i.undoManager.checkpoint("Move "+(1===l.length?" stop ":" stops ")+t+(1===t?" unit ":" units ")+e);var _iterator472=_createForOfIteratorHelper(l),_step472;try{for(_iterator472.s();!(_step472=_iterator472.n()).done;){var _t793=_step472.value;var _a$get2=a.get(_t793),_i581=_a$get2.minOffset,_s340=_a$get2.maxOffset;if("left"===e){var _e587=Q(_t793.offset.baseVal-x,_i581,_s340,r);_t793.setAttribute("offset",_e587);}else if("right"===e){var _e588=Q(_t793.offset.baseVal+x,_i581,_s340,r);_t793.setAttribute("offset",_e588);}}}catch(err){_iterator472.e(err);}finally{_iterator472.f();}},uh:function uh(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"left";var e=this.querySelector(".subhud:focus");if(null===e)return;e.querySelector(".slider");var i=e[uc],s=Oo(i),n=this.Ra.find(function(t){return s.includes(t);});if(null===n)return;var o=this.ah(),_o$get2=o.get(n),l=_o$get2.minOffset,a=_o$get2.maxOffset;return"left"===t?n.offset.baseVal>l:"right"===t?n.offset.baseVal<a:void 0;},fh:function fh(t){for(var _e589=t;_e589;_e589=_e589.previousElementSibling){if("stop"===_e589.localName&&!1===this.Ra.includes(_e589))return _e589;}return null;},wh:function wh(t){for(var _e590=t;_e590;_e590=_e590.nextElementSibling){if("stop"===_e590.localName&&!1===this.Ra.includes(_e590))return _e590;}return null;},ah:function ah(){var t=new Map(),e=[];var _iterator473=_createForOfIteratorHelper(this.Ra),_step473;try{for(_iterator473.s();!(_step473=_iterator473.n()).done;){var _t795=_step473.value;var _i583=this.fh(_t795),_s342=this.wh(_t795),_n247={};_n247.min=_i583?_t795.offset.baseVal-_i583.offset.baseVal:_t795.offset.baseVal,_n247.max=_s342?_s342.offset.baseVal-_t795.offset.baseVal:1-_t795.offset.baseVal,e.push(_n247);}}catch(err){_iterator473.e(err);}finally{_iterator473.f();}if(e.length>0){var _i582=e[0].min,_s341=e[0].max;var _iterator474=_createForOfIteratorHelper(e),_step474;try{for(_iterator474.s();!(_step474=_iterator474.n()).done;){var _t794=_step474.value;_t794.min<_i582&&(_i582=_t794.min),_t794.max<_s341&&(_s341=_t794.max);}}catch(err){_iterator474.e(err);}finally{_iterator474.f();}var _iterator475=_createForOfIteratorHelper(this.Ra),_step475;try{for(_iterator475.s();!(_step475=_iterator475.n()).done;){var _e591=_step475.value;t.set(_e591,{initialOffset:_e591.offset.baseVal,minOffset:_e591.offset.baseVal-_i582,maxOffset:_e591.offset.baseVal+_s341});}}catch(err){_iterator475.e(err);}finally{_iterator475.f();}}return t;},Sh:function Sh(){var _this316=this;var t=function t(e){var i=[],s=_this316.Pn.selectedTextRange;var _iterator476=_createForOfIteratorHelper(e),_step476;try{for(_iterator476.s();!(_step476=_iterator476.n()).done;){var _n248=_step476.value;var _e592=_n248.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e592))i.push(_n248);else if(["a","g"].includes(_e592))i.push.apply(i,_toConsumableArray(t(_n248.children)));else if("text"===_e592){var _t796=gi(_n248);if(s&&s.intersectsNode(_n248)){"backward"===s.direction&&_t796.reverse();var _iterator477=_createForOfIteratorHelper(_t796),_step477;try{for(_iterator477.s();!(_step477=_iterator477.n()).done;){var _e593=_step477.value;if(s.intersectsNode(_e593)){var _t797=_e593.closest("text, textPath, tspan, a");_t797&&!i.includes(_t797)&&i.push(_t797);}}}catch(err){_iterator477.e(err);}finally{_iterator477.f();}}else{var _iterator478=_createForOfIteratorHelper(_t796),_step478;try{for(_iterator478.s();!(_step478=_iterator478.n()).done;){var _e594=_step478.value;var _t798=_e594.closest("text, textPath, tspan, a");_t798&&!i.includes(_t798)&&i.push(_t798);}}catch(err){_iterator478.e(err);}finally{_iterator478.f();}}}}}catch(err){_iterator476.e(err);}finally{_iterator476.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"radialGradient"===Zo(t,_this316.context);});}};var fc=6,wc=Symbol(),vc=Symbol();var yc={id:"pattern-hud",get context(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set context(t){this.setAttribute("context",t),this.enabled&&this._h();},createdCallback:function createdCallback(){var _this317=this;this.Xo=null,this.Ch=null,this.Mh=Ki(this.qs,50,this),this._h=Ki(this.qs,200,this),this.innerHTML='\n  <style>\n    #pattern-hud .outline {\n      fill: rgba(0, 0, 0, 0.07);\n      stroke: rgb(46, 102, 249);\n      stroke-width: 1.5;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #pattern-hud .grippie {\n      fill: #E40DD6;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <path class="outline"></path>\n      <circle class="grippie rotate-grippie"></circle>\n      <rect class="grippie scale-grippie"></rect>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator479=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step479;try{for(_iterator479.s();!(_step479=_iterator479.n()).done;){var _t799=_step479.value;this["#"+_t799.getAttribute("uid")]=_t799;}}catch(err){_iterator479.e(err);}finally{_iterator479.f();}this.addEventListener("pointerdown",function(t){return _this317.wo(t);});},enabledCallback:function enabledCallback(){var _this318=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this318.Jo();}),this.Pn.addEventListener("selectedtextrangechange",this.Ha=function(){_this318.Ya();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this318.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this318.il();}),this.Jo();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("selectedtextrangechange",this.Ha),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.hn);},Jo:function Jo(){this._h();},Ya:function Ya(){this._h();},il:function il(){this.Mh();},sl:function sl(t){this.Xo?this.Za(this.Xo.parentElement):this.Ch?this.Za(this.Ch.parentElement):this._h();},wo:function wo(t){if(0!==t.button)return;var _e595;t.target.classList.contains("outline")?this.Ph(t):t.target.classList.contains("scale-grippie")?this.Dh(t):t.target.classList.contains("rotate-grippie")&&this.zh(t),window.addEventListener("pointerup",_e595=function e(){window.removeEventListener("pointerup",_e595);});},Ph:function Ph(t){var _this319=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[vc],n=i[wc];if(Wo(n).length>1&&"tspan"!==s.localName){var _t800=Ei("svg:pattern");_t800.setAttribute("id",this.Pn.generateUniqueID(n.id)),_t800.setAttribute("href","#"+n.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t800),s.style.setProperty(this.context,"url(#".concat(_t800.id,")")),n=_t800,i[wc]=_t800;}var o,_l182,a,h,r,d=Ht(s),c=d.inverse(),p=Pi(s),u=Yo(n);if(this.Ch=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value,u.y.value),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t801=u.x.valueInSpecifiedUnits,_e596=u.y.valueInSpecifiedUnits,_i584=u.width.valueInSpecifiedUnits,_s343=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t801/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e596/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i584/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s343/=100);var _n249=new DOMPoint(_t801,_e596),_o198=new DOMPoint(_t801+_i584,_e596),_l181=new DOMPoint(_t801+_i584,_e596+_s343);a=new DOMPoint(p.x+_n249.x*p.width,p.y+_n249.y*p.height),h=new DOMPoint(p.x+_o198.x*p.width,p.y+_o198.y*p.height),r=new DOMPoint(p.x+_l181.x*p.width,p.y+_l181.y*p.height);}var x=a.matrixTransform(u.patternTransform),b=h.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new Z(e.clientX-t.clientX,e.clientY-t.clientY),s=new DOMPoint(g.x+i.x,g.y+i.y),o=new DOMPoint(f.x+i.x,f.y+i.y),l=new DOMPoint(w.x+i.x,w.y+i.y),d=s.matrixTransform(c),p=o.matrixTransform(c),x=l.matrixTransform(c),b=d.matrixTransform(u.patternTransform.inverse()),m=p.matrixTransform(u.patternTransform.inverse()),v=x.matrixTransform(u.patternTransform.inverse()),y=Yt(a,h,r,b,m,v),k=u.patternTransform.multiply(y);k=Gt(k,_this319.Pn.transformPrecision),n.setAttribute("patternTransform",k.toString());}),window.addEventListener("pointerup",_l182=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l182),_this319.Ch=null;});},zh:function zh(t){var _this320=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[wc],n=i[vc];if(Wo(s).length>1&&"tspan"!==n.localName){var _t802=Ei("svg:pattern");_t802.setAttribute("id",this.Pn.generateUniqueID(s.id)),_t802.setAttribute("href","#"+s.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t802),n.style.setProperty(this.context,"url(#".concat(_t802.id,")")),s=_t802,i[wc]=_t802;}var o,_l184,a,h,r,d=Ht(n),c=d.inverse(),p=Pi(n),u=Yo(s);if(this.Xo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value+u.width.value/2,u.y.value+u.height.value/2),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t803=u.x.valueInSpecifiedUnits,_e597=u.y.valueInSpecifiedUnits,_i585=u.width.valueInSpecifiedUnits,_s344=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t803/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e597/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i585/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s344/=100);var _n250=new DOMPoint(_t803+_i585/2,_e597+_s344/2),_o199=new DOMPoint(_t803+_i585,_e597),_l183=new DOMPoint(_t803+_i585,_e597+_s344);a=new DOMPoint(p.x+_n250.x*p.width,p.y+_n250.y*p.height),h=new DOMPoint(p.x+_o199.x*p.width,p.y+_o199.y*p.height),r=new DOMPoint(p.x+_l183.x*p.width,p.y+_l183.y*p.height);}var x=a.matrixTransform(u.patternTransform),b=h.matrixTransform(u.patternTransform),m=r.matrixTransform(u.patternTransform),g=x.matrixTransform(d),f=b.matrixTransform(d),w=m.matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(e.clientX+(f.x-t.clientX),e.clientY+(f.y-t.clientY)),n=Le(g,f,i);_this320.Qs.modKeys.shift&&(n=Re(n,45));var o=new DOMMatrix();o.translateSelf(g.x,g.y),o.rotateSelf(n),o.translateSelf(-g.x,-g.y);var l=f.matrixTransform(o),d=w.matrixTransform(o),p=l.matrixTransform(c),x=d.matrixTransform(c),b=p.matrixTransform(u.patternTransform.inverse()),m=x.matrixTransform(u.patternTransform.inverse()),v=Yt(a,h,r,a,b,m),y=u.patternTransform.multiply(v);y=Gt(y,_this320.Pn.transformPrecision),s.setAttribute("patternTransform",y.toString());}),window.addEventListener("pointerup",_l184=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l184),_this320.Xo=null;});},Dh:function Dh(t){var _this321=this;this.Pn.undoManager.checkpoint("Transform pattern");var e=t.target,i=e.parentElement,s=i[wc],n=i[vc];if(Wo(s).length>1&&"tspan"!==n.localName){var _t804=Ei("svg:pattern");_t804.setAttribute("id",this.Pn.generateUniqueID(s.id)),_t804.setAttribute("href","#"+s.id),this.Pn.maybeCreateDefsForMasterWorkspace(),this.Pn.defs.append(_t804),n.style.setProperty(this.context,"url(#".concat(_t804.id,")")),s=_t804,i[wc]=_t804;}var o,_l186,a,h,r,d=Ht(n),c=d.inverse(),p=Pi(n),u=Yo(s);if(this.Xo=e,u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)a=new DOMPoint(u.x.value,u.y.value),h=new DOMPoint(u.x.value+u.width.value,u.y.value),r=new DOMPoint(u.x.value+u.width.value,u.y.value+u.height.value);else if(u.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t805=u.x.valueInSpecifiedUnits,_e598=u.y.valueInSpecifiedUnits,_i586=u.width.valueInSpecifiedUnits,_s345=u.height.valueInSpecifiedUnits;u.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t805/=100),u.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e598/=100),u.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_i586/=100),u.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_s345/=100);var _n251=new DOMPoint(_t805,_e598),_o200=new DOMPoint(_t805+_i586,_e598),_l185=new DOMPoint(_t805+_i586,_e598+_s345);a=new DOMPoint(p.x+_n251.x*p.width,p.y+_n251.y*p.height),h=new DOMPoint(p.x+_o200.x*p.width,p.y+_o200.y*p.height),r=new DOMPoint(p.x+_l185.x*p.width,p.y+_l185.y*p.height);}var x=r.matrixTransform(u.patternTransform).matrixTransform(d);window.addEventListener("pointermove",o=function o(e){var i=new DOMPoint(x.x+e.clientX-t.clientX,x.y+e.clientY-t.clientY).matrixTransform(c).matrixTransform(u.patternTransform.inverse()),n=new DOMPoint(i.x,h.y),o=Yt(a,h,r,a,n,i),l=u.patternTransform.multiply(o);l=Gt(l,_this321.Pn.transformPrecision),s.setAttribute("patternTransform",l.toString());}),window.addEventListener("pointerup",_l186=function l(t){window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",_l186),_this321.Xo=null;});},qs:function qs(){var t=this.Oh();if(this["#subhuds"].innerHTML="",t.length>0){var _e599=Symbol();var _iterator480=_createForOfIteratorHelper(t),_step480;try{for(_iterator480.s();!(_step480=_iterator480.n()).done;){var _i587=_step480.value;var _t806=Ko(_i587,this.context);if(!_t806[_e599]){_t806[_e599]=!0;var _s346=this["#subhud-template"].cloneNode(!0);_s346.removeAttribute("id"),_s346[wc]=_t806,_s346[vc]=_i587,this["#subhuds"].append(_s346);}}}catch(err){_iterator480.e(err);}finally{_iterator480.f();}this.Za();}},Za:function Za(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator481=_createForOfIteratorHelper(this["#subhuds"].children),_step481;try{for(_iterator481.s();!(_step481=_iterator481.n()).done;){var _e600=_step481.value;if(t&&_e600!==t)continue;var _i588=void 0,_s347=void 0,_n252=void 0,_o201=void 0,_l187=_e600[vc],_a140=_e600[wc],_h120=_e600.querySelector(".rotate-grippie"),_r73=_e600.querySelector(".scale-grippie"),_d56=_e600.querySelector(".outline"),_c46=jt(_l187,this),_p40=Pi(_l187),_u34=Yo(_a140);if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE)_i588=new DOMPoint(_u34.x.value,_u34.y.value),_s347=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value),_n252=new DOMPoint(_u34.x.value+_u34.width.value,_u34.y.value+_u34.height.value),_o201=new DOMPoint(_u34.x.value,_u34.y.value+_u34.height.value);else if(_u34.patternUnits===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX){var _t807=_u34.x.valueInSpecifiedUnits,_e601=_u34.y.valueInSpecifiedUnits,_l188=_u34.width.valueInSpecifiedUnits,_a141=_u34.height.valueInSpecifiedUnits;_u34.x.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_t807/=100),_u34.y.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e601/=100),_u34.width.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_l188/=100),_u34.height.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_a141/=100);var _h121=new DOMPoint(_t807,_e601),_r74=new DOMPoint(_t807+_l188,_e601),_d57=new DOMPoint(_t807+_l188,_e601+_a141),_c47=new DOMPoint(_t807,_e601+_a141);_i588=new DOMPoint(_p40.x+_h121.x*_p40.width,_p40.y+_h121.y*_p40.height),_s347=new DOMPoint(_p40.x+_r74.x*_p40.width,_p40.y+_r74.y*_p40.height),_n252=new DOMPoint(_p40.x+_d57.x*_p40.width,_p40.y+_d57.y*_p40.height),_o201=new DOMPoint(_p40.x+_c47.x*_p40.width,_p40.y+_c47.y*_p40.height);}var _x102=_i588.matrixTransform(_u34.patternTransform),_b32=_s347.matrixTransform(_u34.patternTransform),_m31=_n252.matrixTransform(_u34.patternTransform),_g28=_o201.matrixTransform(_u34.patternTransform),_f19=_x102.matrixTransform(_c46),_w17=_b32.matrixTransform(_c46),_v13=_m31.matrixTransform(_c46),_y5=_g28.matrixTransform(_c46);_d56.setAttribute("d","\n        M ".concat(_f19.x," ").concat(_f19.y,"\n        L ").concat(_w17.x," ").concat(_w17.y,"\n        L ").concat(_v13.x," ").concat(_v13.y,"\n        L ").concat(_y5.x," ").concat(_y5.y,"\n        Z\n      "));var _k4=fc/this.Pn.scale;_h120.cx.baseVal.value=_w17.x,_h120.cy.baseVal.value=_w17.y,_h120.r.baseVal.value=_k4,_r73.width.baseVal.value=2*_k4,_r73.height.baseVal.value=2*_k4,_r73.x.baseVal.value=_v13.x-_r73.width.baseVal.value/2,_r73.y.baseVal.value=_v13.y-_r73.height.baseVal.value/2,_r73.hudPoint=_v13;}}catch(err){_iterator481.e(err);}finally{_iterator481.f();}},Oh:function Oh(){var _this322=this;var t=function t(e){var i=[],s=_this322.Pn.selectedTextRange;var _iterator482=_createForOfIteratorHelper(e),_step482;try{for(_iterator482.s();!(_step482=_iterator482.n()).done;){var _n253=_step482.value;var _e602=_n253.localName;if(["circle","ellipse","line","path","polygon","polyline","rect","use"].includes(_e602))i.push(_n253);else if(["a","g"].includes(_e602))i.push.apply(i,_toConsumableArray(t(_n253.children)));else if("text"===_e602){var _t808=gi(_n253);if(s&&s.intersectsNode(_n253)){"backward"===s.direction&&_t808.reverse();var _iterator483=_createForOfIteratorHelper(_t808),_step483;try{for(_iterator483.s();!(_step483=_iterator483.n()).done;){var _e603=_step483.value;if(s.intersectsNode(_e603)){var _t809=_e603.closest("text, textPath, tspan, a");_t809&&!i.includes(_t809)&&i.push(_t809);}}}catch(err){_iterator483.e(err);}finally{_iterator483.f();}}else{var _iterator484=_createForOfIteratorHelper(_t808),_step484;try{for(_iterator484.s();!(_step484=_iterator484.n()).done;){var _e604=_step484.value;var _t810=_e604.closest("text, textPath, tspan, a");_t810&&!i.includes(_t810)&&i.push(_t810);}}catch(err){_iterator484.e(err);}finally{_iterator484.f();}}}}}catch(err){_iterator482.e(err);}finally{_iterator482.f();}return i;};return t(this.Pn.outermostSelectedElements).filter(function(t){return"pattern"===Zo(t,_this322.context);});}};var kc={id:"cubic-bezier-seg-hud",get startPoint(){return this.Eh;},get endPoint(){return this.Th;},get controlPoint1(){return this.Ah;},get controlPoint2(){return this.$h;},get curved(){return!1===Me(this.startPoint,this.controlPoint1)||!1===Me(this.endPoint,this.controlPoint2);},createdCallback:function createdCallback(){this.Ih=null,this.Lh="end",this.Bh="none",this.Rh=!1,this.Gh=null,this.Fh=null,this.innerHTML='\n  <style>\n    #cubic-bezier-seg-hud [uid="control-line-1"],\n    #cubic-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #cubic-bezier-seg-hud [uid="control-point-1-grippie"],\n    #cubic-bezier-seg-hud [uid="control-point-2-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #cubic-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-1-grippie"></circle>\n  <circle uid="control-point-2-grippie"></circle>\n';var _iterator485=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step485;try{for(_iterator485.s();!(_step485=_iterator485.n()).done;){var _t811=_step485.value;this["#"+_t811.getAttribute("uid")]=_t811;}}catch(err){_iterator485.e(err);}finally{_iterator485.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Lh=e,this.Ih=t,this.Uh=i,this.Bh="none",this.removeAttribute("drawing"),!1===this.Rh&&this.Nh(),this.Vh(),this.jh(),this.Hh(),this.Yh();},hide:function hide(){this.Ih=null,this.Gh=null,this.Fh=null,this.removeAttribute("drawing"),!0===this.Rh&&this.Wh();},Nh:function Nh(){var _this323=this;this.Rh=!0,this.qh=!1,this.Qs.addEventListener("modkeyschange",this.Xh=function(){!1===_this323.qh&&(_this323.jh(),_this323.Hh(),_this323.Yh());}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this323.sl(t);}),this.Pn.addEventListener("pointerdown",this.On=function(t){_this323.Gh=t.clientX,_this323.Fh=t.clientY,_this323.Hh(),_this323.Yh();var e=Ht(_this323.Ih).inverse();if(_this323.Uh){var _t812=_this323.Uh.closest("text"),_i589=Vt(_this323.Ih);e=Ht(_t812).inverse().multiply(_i589);}_this323.qh=!0,_this323.Zh=new DOMPoint(t.clientX,t.clientY),_this323.Zh=_this323.Zh.matrixTransform(e),_this323.Kh=DOMPoint.fromPoint(_this323.Ah),_this323.Qh=DOMPoint.fromPoint(_this323.$h);}),this.Pn.addEventListener("contextmenu",this.Dn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this323.Gh=t.clientX,_this323.Fh=t.clientY,_this323.setAttribute("drawing",""),_this323.Hh(),_this323.Yh();}),window.addEventListener("pointerup",this.Nn=function(t){_this323.jh(),_this323.qh=!1,_this323.removeAttribute("drawing");});},Wh:function Wh(){this.Rh=!1,this.Qs.removeEventListener("modkeyschange",this.Xh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("pointerdown",this.On),this.Pn.removeEventListener("contextmenu",this.Dn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn);},sl:function sl(t){var _iterator486=_createForOfIteratorHelper(t.detail),_step486;try{for(_iterator486.s();!(_step486=_iterator486.n()).done;){var _e605=_step486.value;(_e605.target===this.Ih||_e605.target.contains(this.Ih))&&this.Ih.hasAttribute("d")&&(this.Vh(),this.jh(),this.Hh(),this.Yh());}}catch(err){_iterator486.e(err);}finally{_iterator486.f();}},Vh:function Vh(){if("end"===this.Lh){var _t813=this.Ih.getPathData({normalize:!0}),_e606=_t813[_t813.length-1];this.Jh=_e606;for(var _e607=_t813.length-1;_e607>=0;_e607-=1){var _i590=_t813[_e607];if("Z"!==_i590.type){this.tr=_i590;break;}}"C"===_e606.type?this.er=new DOMPoint(_e606.values[2],_e606.values[3]):"M"===_e606.type||"L"===_e606.type?this.er=new DOMPoint(_e606.values[0],_e606.values[1]):this.er=null,"C"===_e606.type?this.ir=_e606.values[2]!==_e606.values[4]||_e606.values[3]!==_e606.values[5]:this.ir=!1;}else if("start"===this.Lh){var _t814=this.Ih.getPathData({normalize:!0}),_e608=_t814[0],_i591=_t814[1];this.sr=_e608,"C"===_i591.type?this.nr=new DOMPoint(_i591.values[0],_i591.values[1]):"M"===_i591.type||"L"===_i591.type?this.nr=new DOMPoint(_e608.values[0],_e608.values[1]):this.nr=null,"C"===_i591.type?this.lr=_i591.values[0]!==_e608.values[0]&&_i591.values[1]!==_e608.values[1]:this.lr=!1;}},Hh:function Hh(){if(!1===this.qh){var _t815=Ht(this.Ih).inverse();if(this.Uh){var _e609=this.Uh.closest("text"),_i592=Vt(this.Ih);_t815=Ht(_e609).inverse().multiply(_i592);}if("end"===this.Lh?("L"===this.tr.type||"M"===this.tr.type?this.Eh=new DOMPoint(this.tr.values[0],this.tr.values[1]):"C"===this.tr.type&&(this.Eh=new DOMPoint(this.tr.values[4],this.tr.values[5])),null===this.Gh?this.Th=DOMPoint.fromPoint(this.Eh):this.Th=new DOMPoint(this.Gh,this.Fh).matrixTransform(_t815)):"start"===this.Lh&&(null===this.Gh?this.Eh=new DOMPoint(this.sr.values[0],this.sr.values[1]):this.Eh=new DOMPoint(this.Gh,this.Fh).matrixTransform(_t815),this.Th=new DOMPoint(this.sr.values[0],this.sr.values[1])),"none"===this.Bh){var _t816;new Z(this.Eh,this.Th);"end"===this.Lh?_t816=new Z(this.Eh,this.er):"start"===this.Lh&&(_t816=new Z(this.Th,this.nr)),_t816=_t816.negate(),"end"===this.Lh?(this.Ah=new DOMPoint(this.Eh.x+_t816.x,this.Eh.y+_t816.y),this.$h=DOMPoint.fromPoint(this.Th)):"start"===this.Lh&&(this.$h=new DOMPoint(this.Th.x+_t816.x,this.Th.y+_t816.y),this.Ah=DOMPoint.fromPoint(this.Eh));}else if("polygon"===this.Bh)this.Ah=DOMPoint.fromPoint(this.Eh),this.$h=DOMPoint.fromPoint(this.Th);else if("paraxialPolygon"===this.Bh){if("end"===this.Lh){var _$e15=$e(this.Eh,this.Th,45),_$e16=_slicedToArray(_$e15,1),_t817=_$e16[0];this.Th=_t817;}else if("start"===this.Lh){var _$e17=$e(this.Th,this.Eh,45),_$e18=_slicedToArray(_$e17,1),_t818=_$e18[0];this.Eh=_t818;}this.Ah=DOMPoint.fromPoint(this.Eh),this.$h=DOMPoint.fromPoint(this.Th);}}else if(!0===this.qh){var _t819=Ht(this.Ih).inverse();if(this.Uh){var _e611=this.Uh.closest("text"),_i594=Vt(this.Ih);_t819=Ht(_e611).inverse().multiply(_i594);}var _e610=new DOMPoint(this.Gh,this.Fh);_e610=_e610.matrixTransform(_t819);var _i593=new Z(this.Zh,_e610).negate();"end"===this.Lh?this.$h=new DOMPoint(this.Qh.x+_i593.x,this.Qh.y+_i593.y):"start"===this.Lh&&(this.Ah=new DOMPoint(this.Kh.x+_i593.x,this.Kh.y+_i593.y));}},jh:function jh(){var _this$Qs$modKeys7=this.Qs.modKeys,t=_this$Qs$modKeys7.ctrl,e=_this$Qs$modKeys7.alt,i=_this$Qs$modKeys7.shift;this.Bh=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.Lh?this.ir||"none"!==this.Bh||(this.Bh="polygon"):"start"===this.Lh&&(this.lr||"none"!==this.Bh||(this.Bh="polygon"));},Yh:function Yh(){var t=jt(this.Ih,this);if(this.Uh){var _e612=this.Uh.closest("text"),_i595=jt(_e612,this),_s348=Vt(this.Ih);t=_i595.multiply(_s348);}var e=this.Eh.matrixTransform(t),i=this.Th.matrixTransform(t),s=this.Ah.matrixTransform(t),n=this.$h.matrixTransform(t),o=3/this.Pn.scale,l=[{type:"M",values:[e.x,e.y]},{type:"C",values:[s.x,s.y,n.x,n.y,i.x,i.y]}];this["#outline"].setPathData(l),this["#control-point-1-grippie"].cx.baseVal.value=s.x,this["#control-point-1-grippie"].cy.baseVal.value=s.y,this["#control-point-1-grippie"].r.baseVal.value=o,this["#control-point-2-grippie"].cx.baseVal.value=n.x,this["#control-point-2-grippie"].cy.baseVal.value=n.y,this["#control-point-2-grippie"].r.baseVal.value=o,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=n.x,this["#control-line-2"].y2.baseVal.value=n.y;}};var Sc={id:"quad-bezier-seg-hud",get startPoint(){return this.Eh;},get endPoint(){return this.Th;},get controlPoint(){return this.ar;},get curved(){var t=Oe(this.Eh,this.Th);return this.ar.x!==t.x||this.ar.y!==t.y;},createdCallback:function createdCallback(){this.Ih=null,this.Lh="end",this.Bh="none",this.Rh=!1,this.Gh=null,this.Fh=null,this.innerHTML='\n  <style>\n    #quad-bezier-seg-hud [uid="control-line-1"],\n    #quad-bezier-seg-hud [uid="control-line-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      opacity: 0.4;\n    }\n\n    #quad-bezier-seg-hud [uid="control-point-grippie"] {\n      fill: red;\n      stroke: none;\n      pointer-events: none;\n      opacity: 1;\n    }\n\n    #quad-bezier-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <path uid="outline" d="M 0 0 C 0 0 0 0 0 0"></path>\n\n  <line uid="control-line-1"></line>\n  <line uid="control-line-2"></line>\n\n  <circle uid="control-point-grippie"></circle>\n';var _iterator487=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step487;try{for(_iterator487.s();!(_step487=_iterator487.n()).done;){var _t820=_step487.value;this["#"+_t820.getAttribute("uid")]=_t820;}}catch(err){_iterator487.e(err);}finally{_iterator487.f();}},show:function show(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"end";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Lh=e,this.Ih=t,this.Uh=i,this.Bh="none",this.removeAttribute("drawing"),!1===this.Rh&&this.Nh(),this.Vh(),this.jh(),this.Hh(),this.Yh();},hide:function hide(){this.Ih=null,this.Gh=null,this.Fh=null,this.removeAttribute("drawing"),!0===this.Rh&&this.Wh();},Nh:function Nh(){var _this324=this;this.Rh=!0,this.qh=!1,this.Qs.addEventListener("modkeyschange",this.Xh=function(){!1===_this324.qh&&(_this324.jh(),_this324.Hh(),_this324.Yh());}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this324.sl(t);}),this.Pn.addEventListener("pointerdown",this.On=function(t){_this324.Gh=t.clientX,_this324.Fh=t.clientY,_this324.Hh(),_this324.Yh();var e=Ht(_this324.Ih).inverse();if(_this324.Uh){var _t821=_this324.Uh.closest("text"),_i596=Vt(_this324.Ih);e=Ht(_t821).inverse().multiply(_i596);}_this324.qh=!0,_this324.Zh=new DOMPoint(t.clientX,t.clientY),_this324.Zh=_this324.Zh.matrixTransform(e),_this324.hr=DOMPoint.fromPoint(_this324.ar);}),this.Pn.addEventListener("contextmenu",this.Dn=function(t){t.preventDefault();}),window.addEventListener("pointermove",this.Un=function(t){_this324.Gh=t.clientX,_this324.Fh=t.clientY,_this324.setAttribute("drawing",""),_this324.Hh(),_this324.Yh();}),window.addEventListener("pointerup",this.Nn=function(t){_this324.jh(),_this324.qh=!1,_this324.removeAttribute("drawing");});},Wh:function Wh(){this.Rh=!1,this.Qs.removeEventListener("modkeyschange",this.Xh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("pointerdown",this.On),this.Pn.removeEventListener("contextmenu",this.Dn),window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn);},sl:function sl(t){var _iterator488=_createForOfIteratorHelper(t.detail),_step488;try{for(_iterator488.s();!(_step488=_iterator488.n()).done;){var _e613=_step488.value;(_e613.target===this.Ih||_e613.target.contains(this.Ih))&&this.Ih.hasAttribute("d")&&(this.Vh(),this.jh(),this.Hh(),this.Yh());}}catch(err){_iterator488.e(err);}finally{_iterator488.f();}},Vh:function Vh(){if("end"===this.Lh){var _t822=this.Ih.getPathData({normalize:!0}),_e614=_t822[_t822.length-1];this.Jh=_e614;for(var _e615=_t822.length-1;_e615>=0;_e615-=1){var _i597=_t822[_e615];if("Z"!==_i597.type){this.tr=_i597;break;}}"C"===_e614.type?this.er=new DOMPoint(_e614.values[2],_e614.values[3]):"M"===_e614.type||"L"===_e614.type?this.er=new DOMPoint(_e614.values[0],_e614.values[1]):this.er=null,"C"===_e614.type?this.ir=_e614.values[2]!==_e614.values[4]||_e614.values[3]!==_e614.values[5]:this.ir=!1;}else if("start"===this.Lh){var _t823=this.Ih.getPathData({normalize:!0}),_e616=_t823[0],_i598=_t823[1];this.sr=_e616,"C"===_i598.type?this.nr=new DOMPoint(_i598.values[0],_i598.values[1]):"M"===_i598.type||"L"===_i598.type?this.nr=new DOMPoint(_e616.values[0],_e616.values[1]):this.nr=null,"C"===_i598.type?this.lr=_i598.values[0]!==_e616.values[0]&&_i598.values[1]!==_e616.values[1]:this.lr=!1;}},Hh:function Hh(){if(!1===this.qh){var _t824=Ht(this.Ih).inverse();if(this.Uh){var _e617=this.Uh.closest("text"),_i599=Vt(this.Ih);_t824=Ht(_e617).inverse().multiply(_i599);}if("end"===this.Lh?("L"===this.tr.type||"M"===this.tr.type?this.Eh=new DOMPoint(this.tr.values[0],this.tr.values[1]):"C"===this.tr.type&&(this.Eh=new DOMPoint(this.tr.values[4],this.tr.values[5])),null===this.Gh?this.Th=DOMPoint.fromPoint(this.Eh):this.Th=new DOMPoint(this.Gh,this.Fh).matrixTransform(_t824)):"start"===this.Lh&&(null===this.Gh?this.Eh=new DOMPoint(this.sr.values[0],this.sr.values[1]):this.Eh=new DOMPoint(this.Gh,this.Fh).matrixTransform(_t824),this.Th=new DOMPoint(this.sr.values[0],this.sr.values[1])),"none"===this.Bh){var _t825,_e618=new Z(this.Eh,this.Th);"end"===this.Lh?_t825=new Z(this.Eh,this.er):"start"===this.Lh&&(_t825=new Z(this.Th,this.nr)),_t825=_t825.negate().scale(_e618.length/2),"end"===this.Lh?this.ar=new DOMPoint(this.Eh.x+_t825.x,this.Eh.y+_t825.y):"start"===this.Lh&&(this.ar=new DOMPoint(this.Th.x+_t825.x,this.Th.y+_t825.y));}else if("polygon"===this.Bh)this.ar=Oe(this.Eh,this.Th);else if("paraxialPolygon"===this.Bh){if("end"===this.Lh){var _$e19=$e(this.Eh,this.Th,45),_$e20=_slicedToArray(_$e19,1),_t826=_$e20[0];this.Th=_t826;}else if("start"===this.Lh){var _$e21=$e(this.Th,this.Eh,45),_$e22=_slicedToArray(_$e21,1),_t827=_$e22[0];this.Eh=_t827;}this.ar=Oe(this.Eh,this.Th);}}else if(!0===this.qh){var _t828=Ht(this.Ih).inverse();if(this.Uh){var _e620=this.Uh.closest("text"),_i601=Vt(this.Ih);_t828=Ht(_e620).inverse().multiply(_i601);}var _e619=new DOMPoint(this.Gh,this.Fh);_e619=_e619.matrixTransform(_t828);var _i600=new Z(this.Zh,_e619).negate();if(this.ar=new DOMPoint(this.hr.x+_i600.x,this.hr.y+_i600.y),"none"===this.Bh)if("end"===this.Lh){var _Ee39=Ee(this.er,this.Eh,this.ar,!0),_Ee40=_slicedToArray(_Ee39,2),_t829=_Ee40[0],_e621=_Ee40[1];this.ar=_e621<1?DOMPoint.fromPoint(this.Eh):_t829;}else if("start"===this.Lh){var _Ee41=Ee(this.nr,this.Th,this.ar,!0),_Ee42=_slicedToArray(_Ee41,2),_t830=_Ee42[0],_e622=_Ee42[1];this.ar=_e622<1?DOMPoint.fromPoint(this.Th):_t830;}}},jh:function jh(){var _this$Qs$modKeys8=this.Qs.modKeys,t=_this$Qs$modKeys8.ctrl,e=_this$Qs$modKeys8.alt,i=_this$Qs$modKeys8.shift;this.Bh=t&&i?"polygon":!t&&i?"paraxialPolygon":"none","end"===this.Lh?this.ir||"none"!==this.Bh||(this.Bh="polygon"):"start"===this.Lh&&(this.lr||"none"!==this.Bh||(this.Bh="polygon"));},Yh:function Yh(){var t=jt(this.Ih,this);if(this.Uh){var _e623=this.Uh.closest("text"),_i602=jt(_e623,this),_s349=Vt(this.Ih);t=_i602.multiply(_s349);}var e=this.Eh.matrixTransform(t),i=this.Th.matrixTransform(t),s=this.ar.matrixTransform(t),n=3/this.Pn.scale,o=[{type:"M",values:[e.x,e.y]},{type:"Q",values:[s.x,s.y,i.x,i.y]}];this["#outline"].setPathData(o),this["#control-point-grippie"].cx.baseVal.value=s.x,this["#control-point-grippie"].cy.baseVal.value=s.y,this["#control-point-grippie"].r.baseVal.value=n,this["#control-line-1"].x1.baseVal.value=e.x,this["#control-line-1"].y1.baseVal.value=e.y,this["#control-line-1"].x2.baseVal.value=s.x,this["#control-line-1"].y2.baseVal.value=s.y,this["#control-line-2"].x1.baseVal.value=i.x,this["#control-line-2"].y1.baseVal.value=i.y,this["#control-line-2"].x2.baseVal.value=s.x,this["#control-line-2"].y2.baseVal.value=s.y;}};var _c=Math.abs,Cc=Math.pow,Mc=Number.isFinite;var Pc={id:"arc-seg-hud",get values(){return this["#arc-outline"].getPathData()[1].values;},createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #arc-seg-hud [uid="circle-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.4;\n      pointer-events: none;\n    }\n\n    #arc-seg-hud [uid="arc-outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <circle uid="circle-outline" r="0"></circle>\n  <path uid="arc-outline" d="M 0 0 A 0 0 0 0 0 0 0"></path>\n';var _iterator489=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step489;try{for(_iterator489.s();!(_step489=_iterator489.n()).done;){var _t831=_step489.value;this["#"+_t831.getAttribute("uid")]=_t831;}}catch(err){_iterator489.e(err);}finally{_iterator489.f();}},draw:function draw(t,e,i){var _this325=this;this.hasAttribute("drawing")&&this.drawEnd(),this.setAttribute("drawing",""),this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.snapManager.snapStart(!0);var s=Ht(this.Pn.vectorCanvas).inverse(),n=jt(t,this.Pn.vectorCanvas),o=n.inverse(),l=e.matrixTransform(s),a=i.matrixTransform(s),h=l.matrixTransform(o),r=a.matrixTransform(o);h=Pe(h,6),r=Pe(r,6),h.x===r.x&&h.y===r.y&&(r.x-=10);var d=function d(){var _this325$Qs$modKeys=_this325.Qs.modKeys,t=_this325$Qs$modKeys.ctrl,i=_this325$Qs$modKeys.shift,l=_this325.Qs.pointerClientPoint;if(i){var _i603;_i603=t?_this325.Pn.snapManager.snapPointToAngleMultiple(e,l,22.5):_this325.Pn.snapManager.snapPoint(l);var _a142=_i603.matrixTransform(s).matrixTransform(o);_this325["#circle-outline"].cx.baseVal.value=0,_this325["#circle-outline"].cy.baseVal.value=0,_this325["#circle-outline"].r.baseVal.value=0,_this325["#circle-outline"].setAttribute("transform",n.toString()),_this325["#arc-outline"].setPathData([{type:"M",values:[h.x,h.y]},{type:"A",values:[0,0,0,0,0,_a142.x,_a142.y]}]),_this325["#arc-outline"].setAttribute("transform",n.toString());}else{var _t832=_this325.Pn.snapManager.snapPoint(l).matrixTransform(s).matrixTransform(o);_t832=Pe(_t832,6),h.x===_t832.x&&(_t832.x+=1e-9);var _e624=(h.x-r.x)*(Cc(h.x-_t832.x,2)+(Cc(_t832.y,2)-Cc(h.y,2)))/((h.y-r.y)*(h.x-_t832.x)+(h.x-r.x)*(_t832.y-h.y))*.5+h.y*(h.y-r.y)*(h.x-_t832.x)/((h.y-r.y)*(h.x-_t832.x)+(h.x-r.x)*(_t832.y-h.y)),_i604=.5*((Cc(h.y-_e624,2)-Cc(_t832.y-_e624,2))/(h.x-_t832.x)+_t832.x+h.x);if(!Mc(_i604)||!Mc(_e624))return;var _a143=new DOMPoint(_i604,_e624),_d58=new Z(_a143,h).length;_this325["#circle-outline"].cx.baseVal.value=_a143.x,_this325["#circle-outline"].cy.baseVal.value=_a143.y,_this325["#circle-outline"].r.baseVal.value=_d58,_this325["#circle-outline"].setAttribute("transform",n.toString());{var _e625,_i605,_s350=new Z(h,r).getOppositeVector(),_o202=new Z(h,_t832),_l189=Be(ue(_s350,_o202));_this325.Qs.modKeys.ctrl?(_e625=_l189>0?0:1,_i605=_c(_l189)<90?1:0):(_e625=_l189<0?0:1,_i605=_c(_l189)>90?1:0),_this325["#arc-outline"].setPathData([{type:"M",values:[h.x,h.y]},{type:"A",values:[_d58,_d58,0,_i605,_e625,_t832.x,_t832.y]}]),_this325["#arc-outline"].setAttribute("transform",n.toString());}}};this.Pn.addEventListener("zoomchange",this.hn=function(){d();}),this.Qs.addEventListener("modkeyschange",this.Xh=function(){d();}),window.addEventListener("pointermove",this.Un=function(t){d();}),d();},drawEnd:function drawEnd(){this.hasAttribute("drawing")&&(this.removeAttribute("drawing"),this["#circle-outline"].setAttribute("r","0"),this["#arc-outline"].setAttribute("d","M 0 0 A 0 0 0 0 0 0 0"),this.Pn.snapManager.snapEnd(),this.Pn.removeEventListener("zoomchange",this.hn),this.Qs.removeEventListener("modkeyschange",this.Xh),window.removeEventListener("pointermove",this.Un));}};var Dc={id:"freehand-hud",get points(){return _toConsumableArray(this["#outline"].points).map(function(t){return DOMPoint.fromPoint(t);});},createdCallback:function createdCallback(){this.Ih=null,this.innerHTML='\n  <style>\n    #freehand-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline"></polyline>\n';var _iterator490=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step490;try{for(_iterator490.s();!(_step490=_iterator490.n()).done;){var _t833=_step490.value;this["#"+_t833.getAttribute("uid")]=_t833;}}catch(err){_iterator490.e(err);}finally{_iterator490.f();}},show:function show(t,e){var _this326=this;this.Ih&&this.hide(),this.Ih=t;var i=Ht(this.Ih).inverse(),s=jt(this.Ih,this);if(this["#outline"].setAttribute("points",""),this["#outline"].setAttribute("transform",s.toString()),this.setAttribute("drawing",""),e){var _t834=e.matrixTransform(i);this["#outline"].points.appendItem(Ae(_t834));}window.addEventListener("pointermove",this.Un=function(t){var _iterator491=_createForOfIteratorHelper(t.getCoalescedEvents()),_step491;try{for(_iterator491.s();!(_step491=_iterator491.n()).done;){var _e626=_step491.value;var _t835=new DOMPoint(_e626.clientX,_e626.clientY).matrixTransform(i);_this326["#outline"].points.appendItem(Ae(_t835));}}catch(err){_iterator491.e(err);}finally{_iterator491.f();}});},hide:function hide(){this.Ih=null,this.removeAttribute("drawing"),this["#outline"].setAttribute("points",""),window.removeEventListener("pointermove",this.Un);},clear:function clear(){this["#outline"].setAttribute("points","");}};var zc={id:"line-seg-hud",get startPoint(){return this.Eh;},set startPoint(t){this.Eh=t,this.qs();},get endPoint(){return this.Th;},set endPoint(t){this.Th=t,this.qs();},createdCallback:function createdCallback(){this.Eh=new DOMPoint(),this.Th=new DOMPoint(),this.innerHTML='\n  <style>\n    #line-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <line uid="outline" class="outline" x1="0" y1="0" x2="0" y2="0"></line>\n';var _iterator492=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step492;try{for(_iterator492.s();!(_step492=_iterator492.n()).done;){var _t836=_step492.value;this["#"+_t836.getAttribute("uid")]=_t836;}}catch(err){_iterator492.e(err);}finally{_iterator492.f();}},qs:function qs(){this.Pn||(this.Pn=Ii(this,"bx-board"));var t=Ht(this.Pn.vectorCanvas).inverse(),e=this.Eh.matrixTransform(t),i=this.Th.matrixTransform(t);this["#outline"].setAttribute("x1",e.x),this["#outline"].setAttribute("y1",e.y),this["#outline"].setAttribute("x2",i.x),this["#outline"].setAttribute("y2",i.y);}};var Oc={id:"polyline-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline"].points[1]);},createdCallback:function createdCallback(){this.rr=null,this.Rh=!1,this.innerHTML='\n  <style>\n    #polyline-seg-hud [uid="outline"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n  </style>\n\n  <polyline uid="outline" class="outline" points="0 0 0 0"></polyline>\n';var _iterator493=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step493;try{for(_iterator493.s();!(_step493=_iterator493.n()).done;){var _t837=_step493.value;this["#"+_t837.getAttribute("uid")]=_t837;}}catch(err){_iterator493.e(err);}finally{_iterator493.f();}},show:function show(t){this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.rr=t,this.setAttribute("drawing",""),!1===this.Rh&&this.Nh(),this.qs();},hide:function hide(){this.rr=null,this.removeAttribute("drawing"),!0===this.Rh&&this.Wh();},Nh:function Nh(){var _this327=this;this.Rh=!0,window.addEventListener("pointermove",this.Un=function(){_this327.qs();}),window.addEventListener("pointerup",this.Nn=function(){_this327.qs();}),this.Qs.addEventListener("modkeyschange",this.Xh=function(){_this327.qs();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){var _iterator494=_createForOfIteratorHelper(t.detail),_step494;try{for(_iterator494.s();!(_step494=_iterator494.n()).done;){var _e627=_step494.value;(_e627.target===_this327.rr||_e627.target.contains(_this327.rr))&&_this327.qs();}}catch(err){_iterator494.e(err);}finally{_iterator494.f();}});},Wh:function Wh(){this.Rh=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),this.Qs.removeEventListener("modkeyschange",this.Xh),this.Pn.removeEventListener("workspacemutation",this.rn);},qs:function qs(){if(0===this.rr.points.length)this["#outline"].removeAttribute("points");else{var _t838=jt(this.rr,this.Pn.vectorCanvas),_e628=Ht(this.Pn.vectorCanvas).inverse(),_i606=DOMPoint.fromPoint(this.rr.points[this.rr.points.length-1]),_s351=this.Qs.pointerClientPoint;if(_i606=_i606.matrixTransform(_t838),_s351=_s351.matrixTransform(_e628),this.Qs.modKeys.shift){var _$e23=$e(_i606,_s351,22.5),_$e24=_slicedToArray(_$e23,1),_t839=_$e24[0];_s351=_t839;}this["#outline"].setAttribute("points","".concat(_i606.x," ").concat(_i606.y," ").concat(_s351.x," ").concat(_s351.y));}}};var Ec={id:"polygon-seg-hud",get startPoint(){return DOMPoint.fromPoint(this["#outline-1"].points[0]);},get endPoint(){return DOMPoint.fromPoint(this["#outline-2"].points[1]);},createdCallback:function createdCallback(){this.dr=null,this.Rh=!1,this.innerHTML='\n  <style>\n    #polygon-seg-hud [uid="outline-1"],\n    #polygon-seg-hud [uid="outline-2"] {\n      fill: none;\n      stroke: red;\n      stroke-width: 2.5;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n    #polygon-seg-hud [uid="outline-1"] {\n      opacity: 0.1;\n    }\n  </style>\n\n  <polygon uid="outline-1" class="outline" points="0 0 0 0"></polygon>\n  <polygon uid="outline-2" class="outline" points="0 0 0 0"></polygon>\n';var _iterator495=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step495;try{for(_iterator495.s();!(_step495=_iterator495.n()).done;){var _t840=_step495.value;this["#"+_t840.getAttribute("uid")]=_t840;}}catch(err){_iterator495.e(err);}finally{_iterator495.f();}},show:function show(t){this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.dr=t,this.setAttribute("drawing",""),!1===this.Rh&&this.Nh(),this.qs();},hide:function hide(){this.dr=null,this.removeAttribute("drawing"),!0===this.Rh&&this.Wh();},Nh:function Nh(){var _this328=this;this.Rh=!0,window.addEventListener("pointermove",this.Un=function(){_this328.qs();}),window.addEventListener("pointerup",this.Nn=function(){_this328.qs();}),this.Qs.addEventListener("modkeyschange",this.Xh=function(){_this328.qs();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){var _iterator496=_createForOfIteratorHelper(t.detail),_step496;try{for(_iterator496.s();!(_step496=_iterator496.n()).done;){var _e629=_step496.value;(_e629.target===_this328.dr||_e629.target.contains(_this328.dr))&&_this328.qs();}}catch(err){_iterator496.e(err);}finally{_iterator496.f();}});},Wh:function Wh(){this.Rh=!1,window.removeEventListener("pointermove",this.Un),window.removeEventListener("pointerup",this.Nn),this.Qs.removeEventListener("modkeyschange",this.Xh),this.Pn.removeEventListener("workspacemutation",this.rn);},qs:function qs(){if(0===this.dr.points.length)this["#outline-1"].removeAttribute("points"),this["#outline-2"].removeAttribute("points");else{var _t841=jt(this.dr,this.Pn.vectorCanvas),_e630=Ht(this.Pn.vectorCanvas).inverse(),_i607=DOMPoint.fromPoint(this.dr.points[0]),_s352=DOMPoint.fromPoint(this.dr.points[this.dr.points.length-1]),_n254=this.Qs.pointerClientPoint;if(_i607=_i607.matrixTransform(_t841),_s352=_s352.matrixTransform(_t841),_n254=_n254.matrixTransform(_e630),this.Qs.modKeys.shift){var _$e25=$e(_s352,_n254,22.5),_$e26=_slicedToArray(_$e25,1),_t842=_$e26[0];_n254=_t842;}this["#outline-1"].setAttribute("points","".concat(_i607.x," ").concat(_i607.y," ").concat(_n254.x," ").concat(_n254.y)),this["#outline-2"].setAttribute("points","".concat(_s352.x," ").concat(_s352.y," ").concat(_n254.x," ").concat(_n254.y));}}};var Tc=Number.parseFloat;var Ac={id:"grid-hud",get selected(){return this.hasAttribute("selected");},set selected(t){t?this.setAttribute("selected",""):this.removeAttribute("selected"),this.dispatchEvent(new CustomEvent("selectedchange"));},createdCallback:function createdCallback(){var _this329=this;this.tabIndex=-1,this.cr=Ki(this.qs,500,this),this.pr=Ki(this.qs,1e3,this),this.ur=!1,this.br=!1,this.innerHTML='\n  <style>\n    /**\n     * Grid lines\n     */\n\n    #grid-hud .line {\n      fill: none;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 0.2;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n    }\n\n    /**\n     * Grippies\n     */\n\n    #grid-hud .grippie {\n      stroke: green;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] .grippie {\n      fill: green;\n    }\n\n    /**\n     * Cell rect\n     */\n\n    #grid-hud [uid="cell-rect"] {\n      display: none;\n      fill: green;\n      fill-opacity: 0.05;\n      stroke: green;\n      stroke-width: 1px;\n      stroke-opacity: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #grid-hud[selected] [uid="cell-rect"] {\n      display: initial;\n    }\n  </style>\n\n  <g uid="main">\n    <g uid="lines">\n      <g uid="horizontal-lines" class="lines"></g>\n      <g uid="vertical-lines" class="lines"></g>\n    </g>\n\n    <rect uid="cell-rect"></rect>\n\n    <g uid="grippies">\n      <circle uid="origin-grippie" class="grippie" r="10" cx="0" cy="0"></circle>\n      <rect uid="resize-grippie" class="grippie" width="10" height="10" x="0" y="0"></rect>\n    </g>\n  </g>\n';var _iterator497=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step497;try{for(_iterator497.s();!(_step497=_iterator497.n()).done;){var _t843=_step497.value;this["#"+_t843.getAttribute("uid")]=_t843;}}catch(err){_iterator497.e(err);}finally{_iterator497.f();}this.addEventListener("pointerdown",function(t){return _this329.wo(t);}),this.addEventListener("focus",function(){return _this329.qs();}),this.addEventListener("blur",function(){return _this329.qs();});},enabledCallback:function enabledCallback(){var _this330=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.tabIndex=0,this.pr(),this.dispatchEvent(new CustomEvent("enabled")),this.Pn.addEventListener("workspacemutation",this.rn=function(t){if(_this330.ur||_this330.br)_this330.qs();else{var _iterator498=_createForOfIteratorHelper(t.detail),_step498;try{for(_iterator498.s();!(_step498=_iterator498.n()).done;){var _e631=_step498.value;"bx-grid"===_e631.target.localName&&_this330.cr();}}catch(err){_iterator498.e(err);}finally{_iterator498.f();}}}),this.Pn.addEventListener("artworkchange",this.mr=function(t){_this330.pr();}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this330.cr(),_this330.gr();}),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this330.kn(t);}),this.Pn.huds.addEventListener("pointerdown",this.Hn=function(t){_this330.qa(t);});},disabledCallback:function disabledCallback(){this.dispatchEvent(new CustomEvent("disabled")),this.tabIndex=-1,this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("artworkchange",this.mr),this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.huds.removeEventListener("pointerdown",this.Hn);},kn:function kn(){this.selected=!1;},qa:function qa(t){t.target!==this&&!1===this.contains(t.target)&&(this.selected=!1);},wo:function wo(t){var _this331=this;var _e632,_i608,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),this.selected=!0,this.Pn.selectedElements=[],this.Pn.selectedTextRange=null,this.Pn.currentContainer=null,s.addEventListener("pointermove",_e632=function e(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=ze(n,a)>3||h>80,d=!1===Me(o,a,0);o=a,!0===r&&!0===d&&(s.removeEventListener("pointermove",_e632),s.removeEventListener("pointerup",_i608),s===_this331["#origin-grippie"]||s===_this331["#cell-rect"]?_this331.wr(t):s===_this331["#resize-grippie"]&&_this331.vr(t));}),s.addEventListener("pointerup",_i608=function i(t){s.removeEventListener("pointermove",_e632),s.removeEventListener("pointerup",_i608);});},wr:function wr(t){var _this332=this;this.Pn.undoManager.checkpoint("Move grid");var e,_i609,s=this.Pn,n=s.maybeCreateGridForCurrentWorkspace(),o=Ht(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=Tc(n.getAttribute("x")),h=Tc(n.getAttribute("y"));this.setPointerCapture(t.pointerId),this.ur=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=a+(e.x-l.x),r=h+(e.y-l.y);i=K(i,s.geometryPrecision),r=K(r,s.geometryPrecision),n.setAttribute("x",i),n.setAttribute("y",r);}),this.addEventListener("pointerup",_i609=function i(t){_this332.removeEventListener("pointermove",e),_this332.removeEventListener("pointerup",_i609),_this332.ur=!1;});},vr:function vr(t){var _this333=this;this.Pn.undoManager.checkpoint("Resize grid");var e,_i610,s=this.Pn,n=s.maybeCreateGridForCurrentWorkspace(),o=Ht(s.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),a=n?Tc(n.getAttribute("width")):100,h=n?Tc(n.getAttribute("height")):100,r=8/s.scale;this.setPointerCapture(t.pointerId),this.br=!0,this.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(o),i=a+(e.x-l.x),d=h+(e.y-l.y);i<r&&(i=r),d<r&&(d=r),t.shiftKey&&(d=i),i=K(i,s.geometryPrecision),d=K(d,s.geometryPrecision),n.setAttribute("width",i),n.setAttribute("height",d);}),this.addEventListener("pointerup",_i610=function i(t){_this333.removeEventListener("pointermove",e),_this333.removeEventListener("pointerup",_i610),_this333.br=!1;});},qs:function qs(){var t=this.Pn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=Ht(t.vectorCanvas).inverse(),s=Ne(t.getBoundingClientRect(),i),n=e?Tc(e.getAttribute("x")):0,o=e?Tc(e.getAttribute("y")):0,l=e?Tc(e.getAttribute("width")):100,a=e?Tc(e.getAttribute("height")):100,h=s.x-s.width/2,r=s.x+s.width+s.width/2,d=s.y-s.height/2,c=s.y+s.height+s.height/2;{var _t844="";for(var _e633=n;_e633<=r;_e633+=l){_e633>=h&&(_t844+="<line class=\"line\" x1=\"".concat(_e633,"\" y1=\"-99999\" x2=\"").concat(_e633,"\" y2=\"99999\"></line>"));}for(var _e634=n-l;_e634>=h;_e634-=l){_e634<=r&&(_t844+="<line class=\"line\" x1=\"".concat(_e634,"\" y1=\"-99999\" x2=\"").concat(_e634,"\" y2=\"99999\"></line>"));}this["#vertical-lines"].innerHTML=_t844;}{var _t845="";for(var _e635=o;_e635<=c;_e635+=a){_e635>=d&&(_t845+="<line class=\"line\" y1=\"".concat(_e635,"\" x1=\"-99999\" y2=\"").concat(_e635,"\" x2=\"99999\"></line>"));}for(var _e636=o-a;_e636>=d;_e636-=a){_e636<=c&&(_t845+="<line class=\"line\" y1=\"".concat(_e636,"\" x1=\"-99999\" y2=\"").concat(_e636,"\" x2=\"99999\"></line>"));}this["#horizontal-lines"].innerHTML=_t845;}this["#cell-rect"].setAttribute("x",n),this["#cell-rect"].setAttribute("y",o),this["#cell-rect"].setAttribute("width",l),this["#cell-rect"].setAttribute("height",a),this.gr();},gr:function gr(){var t=this.Pn,e=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),i=e?Tc(e.getAttribute("x")):0,s=e?Tc(e.getAttribute("y")):0,n=e?Tc(e.getAttribute("width")):100,o=e?Tc(e.getAttribute("height")):100;this["#origin-grippie"].setAttribute("cx",i),this["#origin-grippie"].setAttribute("cy",s),this["#origin-grippie"].setAttribute("r",4/t.scale),this["#resize-grippie"].setAttribute("width",8/t.scale),this["#resize-grippie"].setAttribute("height",8/t.scale),this["#resize-grippie"].setAttribute("x",i+n-5/t.scale),this["#resize-grippie"].setAttribute("y",s+o-5/t.scale);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();}};var $c=Symbol(),Ic=4,Lc=!1;var Bc={id:"manual-guides-hud",createdCallback:function createdCallback(){var _this334=this;this.yr=[],this.kr=!1,this.cr=Ki(this.qs,500,this),this.Sr=Ki(this._r,200,this),this.innerHTML='\n  <style>\n    #manual-guides-hud .repr {\n      color: red;\n      pointer-events: none;\n    }\n    #manual-guides-hud .repr[data-snapping="true"] {\n      color: blue;\n    }\n\n    #manual-guides-hud .repr .outer-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 10;\n      vector-effect: non-scaling-stroke;\n      opacity: 0;\n    }\n    #manual-guides-hud .repr[data-selected] .outer-line {\n      opacity: 0.1;\n      pointer-events: all;\n    }\n\n    #manual-guides-hud .repr .inner-line {\n      fill: none;\n      stroke: currentColor;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #manual-guides-hud .repr .grippie {\n      stroke: currentColor;\n      stroke-width: 1px;\n      fill: white;\n      pointer-events: all;\n      vector-effect: non-scaling-stroke;\n    }\n    #manual-guides-hud .repr[data-selected] .grippie {\n      fill: currentColor;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator499=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step499;try{for(_iterator499.s();!(_step499=_iterator499.n()).done;){var _t846=_step499.value;this["#"+_t846.getAttribute("uid")]=_t846;}}catch(err){_iterator499.e(err);}finally{_iterator499.f();}this.addEventListener("pointerdown",function(t){return _this334.wo(t);});},enabledCallback:function enabledCallback(){var _this335=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this335.cr();}),this.Pn.addEventListener("artworkchange",this.mr=function(){_this335.cr();}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this335.ll();}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this335.Cr();}),this.Pn.rulers.addEventListener("pointerdown",this.Mr=function(t){_this335.Pr(t);}),this.Pn.snapManager.addEventListener("snapperschange",this.Dr=function(t){_this335.Sr();}),this.qs();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("artworkchange",this.mr),this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.rulers.removeEventListener("pointerdown",this.Mr),this.Pn.snapManager.removeEventListener("snapperschange",this.Dr);},requestImmidiateUpdate:function requestImmidiateUpdate(){this.qs();},wo:function wo(t){var _this336=this;if(1!==t.buttons)return;var e,_i611,s=t.target.closest("g.repr"),n=s[$c],o=Ht(this.Pn.vectorCanvas).inverse(),l=new DOMPoint(t.clientX,t.clientY),a=l.matrixTransform(o),h=l,r=this.Qs.modKeys.ctrl&&Lc?"rotate":"translate",d=this.Pn.geometryPrecision;this.kr=!0,s.setAttribute("data-dragging",""),t.target.closest(".grippie")&&(this.Pn.selectedElements=[n],this.Pn.selectedTextRange=null,this.Pn.currentContainer=null);var c=parseFloat(n.getAttribute("x")),p=parseFloat(n.getAttribute("y")),u=parseFloat(n.getAttribute("angle")),x=c,b=p,m=u;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",e=function e(_e639){var i=new DOMPoint(_e639.clientX,_e639.clientY),n=i.matrixTransform(o),d=_e639.timeStamp-t.timeStamp,g=ze(l,i)>3||d>80,f=!1===Me(h,i,0);if(h=i,!0===g&&!0===f)if("translate"===r){var _t847=n.x-a.x,_e637=n.y-a.y;x=c+_t847,b=p+_e637,s.setAttribute("transform","translate(".concat(x," ").concat(b,") rotate(").concat(u,")"));}else if("rotate"===r){var _t848=new DOMPoint(c,p),_e638=Le(_t848,a,n);m=u+_e638,_this336.Qs.modKeys.shift&&(m=Re(m,15)),s.setAttribute("transform","translate(".concat(c," ").concat(p,") rotate(").concat(m,")"));}}),this.addEventListener("lostpointercapture",_i611=function i(t){_this336.removeEventListener("pointermove",e),_this336.removeEventListener("lostpointercapture",_i611),_this336.kr=!1,s.removeAttribute("data-dragging");var o=s.querySelector(".inner-line"),l=Ht(o),a=new DOMPoint(o.x1.baseVal.value,o.y1.baseVal.value);a=a.matrixTransform(l);var h=new DOMPoint(o.x2.baseVal.value,o.y2.baseVal.value);h=h.matrixTransform(l);var r=_this336.Pn.getBoundingClientRect(!0),g=Xe(a,h,r);a=Pe(a,8),h=Pe(h,8),g&&_this336.Pn.isPointOverBoard(t.clientX,t.clientY)?(x=K(x,d),b=K(b,d),m=K(m,d),x===c&&b===p&&m===u||(_this336.Pn.undoManager.checkpoint("Move guide"),n.setAttribute("x",x),n.setAttribute("y",b),n.setAttribute("angle",m))):(_this336.Pn.undoManager.checkpoint("Remove guide"),_this336.Pn.selectedElements=_this336.Pn.selectedElements.filter(function(t){return t!==n;}),n.remove());});},Pr:function Pr(t){if(1!==t.buttons)return;var e,_i613,s=this.Pn,n=s.rulers.getRulerTypeFromPoint(t.x,t.y),o=this.Pn.geometryPrecision,l=Ht(this.Pn.vectorCanvas).inverse(),a=0,h=99999,r=-h,d=-h;"vertical"===n?a=0:"horizontal"===n?a=90:"corner"===n&&(a=45);var c=Zi(_templateObject6(),r,d,a,-h,h,-h,h,Ic/s.scale);this["#reprs"].append(c),window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=e.x,d=e.y,c.setAttribute("transform","translate(".concat(r," ").concat(d,") rotate(").concat(a,")"));}),window.addEventListener("pointerup",_i613=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i613);var n=c.querySelector(".inner-line"),h=Ht(n),p=new DOMPoint(n.x1.baseVal.value,n.y1.baseVal.value);p=p.matrixTransform(h),p=Pe(p,8);var u=new DOMPoint(n.x2.baseVal.value,n.y2.baseVal.value);u=u.matrixTransform(h),u=Pe(u,8);var x=s.getBoundingClientRect(!0),b=Xe(p,u,x);if(c.remove(),b&&!0===s.isPointOverBoard(t.clientX,t.clientY)&&!1===s.isPointOverRuler(t.clientX,t.clientY)){var _e640=new DOMPoint(t.clientX,t.clientY).matrixTransform(l);r=K(_e640.x,o),d=K(_e640.y,o);var _i612=Zi(_templateObject7(),r,d,a);s.selectedElements=[_i612],s.selectedTextRange=null,s.currentContainer=null,s.undoManager.checkpoint("Add guide"),s.currentWorkspace===s.masterWorkspace?(s.maybeCreateDefsForMasterWorkspace(),s.defs.append(_i612)):s.currentWorkspace.append(_i612);}});},qs:function qs(){if(this.kr)return;var t=this.Pn.currentWorkspace.querySelectorAll("bx-guide"),e=!1;if(t.length!==this["#reprs"].childElementCount)e=!0;else for(var _i614=0;_i614<t.length;_i614+=1){var _s353=t[_i614],_n255=this["#reprs"].children[_i614],_o203=_n255.transform.baseVal[0].matrix.e,_l190=_n255.transform.baseVal[0].matrix.f,_a144=_n255.transform.baseVal[1].angle;if(parseFloat(_s353.getAttribute("x"))!==_o203||parseFloat(_s353.getAttribute("y"))!==_l190||parseFloat(_s353.getAttribute("angle"))!==_a144){e=!0;break;}}if(e){var _e641="";var _iterator500=_createForOfIteratorHelper(t),_step500;try{for(_iterator500.s();!(_step500=_iterator500.n()).done;){var _i615=_step500.value;var _t849=99999;_e641+="\n          <g class=\"repr\" transform=\"translate(".concat(parseFloat(_i615.getAttribute("x")),", ").concat(parseFloat(_i615.getAttribute("y")),") rotate(").concat(parseFloat(_i615.getAttribute("angle")),")\" data-snapping=\"").concat(this.Pn.snapManager.isGuideSnapping(_i615),"\">\n            <line class=\"outer-line\" x1=\"0\" y1=\"").concat(-_t849,"\" x2=\"0\" y2=\"").concat(_t849,"\"></line>\n            <line class=\"inner-line\" x1=\"0\" y1=\"").concat(-_t849,"\" x2=\"0\" y2=\"").concat(_t849,"\"></line>\n            <circle class=\"grippie\" cx=\"0\" cy=\"0\"></rect>\n          </g>\n        ");}}catch(err){_iterator500.e(err);}finally{_iterator500.f();}this["#reprs"].innerHTML=_e641;for(var _e642=0;_e642<t.length;_e642+=1){this["#reprs"].children[_e642][$c]=t[_e642];}}this.ll(),this.Cr();},ll:function ll(){var _iterator501=_createForOfIteratorHelper(this["#reprs"].querySelectorAll(".grippie")),_step501;try{for(_iterator501.s();!(_step501=_iterator501.n()).done;){var _t850=_step501.value;_t850.setAttribute("r",Ic/this.Pn.scale);}}catch(err){_iterator501.e(err);}finally{_iterator501.f();}},Cr:function Cr(){var _iterator502=_createForOfIteratorHelper(this["#reprs"].children),_step502;try{for(_iterator502.s();!(_step502=_iterator502.n()).done;){var _t851=_step502.value;this.Pn.selectedElements.includes(_t851[$c])?_t851.setAttribute("data-selected",""):_t851.removeAttribute("data-selected");}}catch(err){_iterator502.e(err);}finally{_iterator502.f();}},_r:function _r(){var _iterator503=_createForOfIteratorHelper(this["#reprs"].children),_step503;try{for(_iterator503.s();!(_step503=_iterator503.n()).done;){var _t852=_step503.value;var _e643=this.Pn.snapManager.isGuideSnapping(_t852[$c]);_t852.setAttribute("data-snapping",_e643);}}catch(err){_iterator503.e(err);}finally{_iterator503.f();}}};var Rc=Math.min,Gc=Math.max;var Fc={id:"smart-guides-hud",get enabled(){return this.hasAttribute("enabled");},set enabled(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");},createdCallback:function createdCallback(){this.cr=Ki(this.qs,100,this),this.innerHTML='\n  <style>\n    #smart-guides-hud .repr {\n      fill: none;\n      stroke: blue;\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n      opacity: 0.6;\n      pointer-events: none;\n    }\n  </style>\n\n  <g uid="reprs"></g>\n';var _iterator504=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step504;try{for(_iterator504.s();!(_step504=_iterator504.n()).done;){var _t853=_step504.value;this["#"+_t853.getAttribute("uid")]=_t853;}}catch(err){_iterator504.e(err);}finally{_iterator504.f();}},enabledCallback:function enabledCallback(){var _this337=this;this.Pn=Ii(this,"bx-board"),this.Pn.snapManager.addEventListener("snapperschange",this.Dr=function(){_this337.cr();});},disabledCallback:function disabledCallback(){this.Pn.snapManager.removeEventListener("snapperschange",this.Dr);},qs:function qs(){var t=this.Pn.snapManager.snappers.filter(function(t){return"smart"===t.type&&t.snapping;}),e=Ht(this.Pn.currentWorkspace).inverse();this["#reprs"].innerHTML="";var _iterator505=_createForOfIteratorHelper(t),_step505;try{for(_iterator505.s();!(_step505=_iterator505.n()).done;){var _i616=_step505.value;var _t854=void 0,_s354=void 0;"vertical"===_i616.orientation?_i616.snappedBBox?(_t854=new DOMPoint(_i616.x,Rc(_i616.snappingBBox.y,_i616.snappedBBox.y)),_s354=new DOMPoint(_i616.x,Gc(_i616.snappingBBox.bottom,_i616.snappedBBox.bottom))):_i616.snappedPoint&&(_t854=new DOMPoint(_i616.x,Rc(_i616.snappingBBox.y,_i616.snappedPoint.y)),_s354=new DOMPoint(_i616.x,Gc(_i616.snappingBBox.bottom,_i616.snappedPoint.y))):"horizontal"===_i616.orientation&&(_i616.snappedBBox?(_t854=new DOMPoint(Rc(_i616.snappingBBox.x,_i616.snappedBBox.x),_i616.y),_s354=new DOMPoint(Gc(_i616.snappingBBox.right,_i616.snappedBBox.right),_i616.y)):_i616.snappedPoint&&(_t854=new DOMPoint(Rc(_i616.snappingBBox.x,_i616.snappedPoint.x),_i616.y),_s354=new DOMPoint(Gc(_i616.snappingBBox.right,_i616.snappedPoint.x),_i616.y)));var _t854$matrixTransform=_t854.matrixTransform(e),_n256=_t854$matrixTransform.x,_o204=_t854$matrixTransform.y,_s354$matrixTransform=_s354.matrixTransform(e),_l191=_s354$matrixTransform.x,_a145=_s354$matrixTransform.y,_h122=Zi(_templateObject8(),_n256,_o204,_l191,_a145);this["#reprs"].append(_h122);}}catch(err){_iterator505.e(err);}finally{_iterator505.f();}}};var Uc=Ei("svg:marker"),Nc=function Nc(t){return t.hasAttribute("refX")?Uc.setAttribute("refX",t.getAttribute("refX")):Uc.removeAttribute("refX"),t.hasAttribute("refY")?Uc.setAttribute("refY",t.getAttribute("refY")):Uc.removeAttribute("refY"),new DOMPoint(Uc.refX.baseVal.value,Uc.refY.baseVal.value);},Vc=function Vc(t){return t.hasAttribute("orient")?Uc.setAttribute("orient",t.getAttribute("orient")):Uc.removeAttribute("orient"),[Uc.orientType.baseVal,Uc.orientAngle.baseVal.value];},jc=Math.abs,Hc=Symbol(),Yc=Symbol(),Wc=Symbol(),qc=Symbol();var Xc={id:"view-hud",createdCallback:function createdCallback(){var _this338=this;this.zr=!1,this._h=Ki(this.qs,200,this),this.innerHTML='\n  <style>\n    #view-hud .grippie[data-position="center"] {\n      fill: rgba(0, 0, 0, 0);\n      shape-rendering: crispEdges;\n    }\n    #view-hud .grippie[data-position="center"] {\n      cursor: -webkit-grab;\n    }\n    #view-hud .grippie[data-position="center"]:active {\n      cursor: -webkit-grabbing;\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"],\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      stroke: red;\n      vector-effect: non-scaling-stroke;\n      stroke-width: 8;\n      opacity: 0;\n    }\n\n    #view-hud .grippie[data-position="top-left"] rect,\n    #view-hud .grippie[data-position="top-right"] rect,\n    #view-hud .grippie[data-position="bottom-left"] rect,\n    #view-hud .grippie[data-position="bottom-right"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .grippie[data-position="top-left"] path,\n    #view-hud .grippie[data-position="top-right"] path,\n    #view-hud .grippie[data-position="bottom-left"] path,\n    #view-hud .grippie[data-position="bottom-right"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="top-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="top-right"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-left"] path,\n    #view-hud .subhud[data-selected] .grippie[data-position="bottom-right"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n\n    #view-hud .grippie[data-position="left"],\n    #view-hud .grippie[data-position="right"] {\n      cursor: ew-resize;\n    }\n    #view-hud .grippie[data-position="top"],\n    #view-hud .grippie[data-position="bottom"] {\n      cursor: ns-resize;\n    }\n    #view-hud .grippie[data-position="top-left"] {\n      cursor: nwse-resize;\n    }\n    #view-hud .grippie[data-position="top-right"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-left"] {\n      cursor: nesw-resize;\n    }\n    #view-hud .grippie[data-position="bottom-right"] {\n      cursor: nwse-resize;\n    }\n\n    #view-hud .grippie[data-position="ref"] {\n      display: none;\n      cursor: default;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] {\n      display: initial;\n    }\n    #view-hud .grippie[data-position="ref"] path {\n      fill: white;\n      stroke: rgb(88, 88, 88);\n      stroke-width: 1;\n      vector-effect: non-scaling-stroke;\n    }\n    #view-hud .subhud[data-selected] .grippie[data-position="ref"] path {\n      fill: rgb(176, 214, 255);\n      stroke: rgb(2, 81, 165);\n    }\n    #view-hud .grippie[data-position="ref"] rect {\n      fill: transparent;\n    }\n\n    #view-hud .label {\n      pointer-events: none;\n      font-weight: 700;\n      fill: #636363;\n    }\n  </style>\n\n  <defs>\n    <g uid="subhud-template" class="subhud">\n      <rect class="grippie" data-position="center"></rect>\n\n      <line class="grippie" data-position="left"></line>\n      <line class="grippie" data-position="right"></line>\n      <line class="grippie" data-position="top"></line>\n      <line class="grippie" data-position="bottom"></line>\n\n      <g class="grippie" data-position="top-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v -5 h -20 v 20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="top-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 0 15 h 15 v 15 h 5 v -20 h -20 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-left">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 h 15 v 5 h -20 v -20 h 5 z"/>\n      </g>\n\n      <g class="grippie" data-position="bottom-right">\n        <rect width="30" height="30"></rect>\n        <path d="M 15 15 v -15 h 5 v 20 h -20 v -5 z"/>\n      </g>\n\n      <g class="grippie" data-position="ref">\n        <rect width="24" height="24"></rect>\n        <path d="M 24 10 L 24 14 L 14 14 L 14 24 L 10 24 L 10 14 L 0 14 L 0 10 L 10 10 L 10 0 L 14 0 L 14 10 Z"/>\n      </g>\n\n      <text class="label">Default view</text>\n    </g>\n  </defs>\n\n  <g uid="subhuds"></g>\n';var _iterator506=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step506;try{for(_iterator506.s();!(_step506=_iterator506.n()).done;){var _t855=_step506.value;this["#"+_t855.getAttribute("uid")]=_t855;}}catch(err){_iterator506.e(err);}finally{_iterator506.f();}this.addEventListener("pointerdown",function(t){_this338.wo(t);}),this.addEventListener("dblclick",function(t){_this338.Sa(t);});},enabledCallback:function enabledCallback(){var _this339=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.zr=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.Or=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this.Er=!1,this.Tr=!1,this.Ar=!1,this.Qs.addEventListener("configchange",this.ln=function(t){_this339.an(t);}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this339.$r();}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this339.il();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this339.sl(t.detail);}),this.ol(),this.$r();},disabledCallback:function disabledCallback(){this["#subhuds"].innerHTML="",this.Qs.removeEventListener("configchange",this.ln),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("zoomchange",this.hn),this.Pn.removeEventListener("workspacemutation",this.rn);},an:function an(t){var _t$detail2=t.detail,e=_t$detail2.key,i=_t$detail2.value;"bx-viewsettings:showIds"===e?(this.zr=this.Qs.getConfig("bx-viewsettings:showIds",!1),this.ol()):"bx-viewsettings:moveObjects"===e&&(this.Or=this.Qs.getConfig("bx-viewsettings:moveObjects",!1));},sl:function sl(t){this.Er||this.Tr||this.Ar?this.Ir():this.ol();},il:function il(){this.Ir();},wo:function wo(t){1===t.buttons&&t.target.closest(".grippie")&&this.al(t);},al:function al(t){var _this340=this;var _e644,_i617,s=this.Pn,n=t.target.closest(".grippie"),o=n.closest(".subhud")[Hc],l=new DOMPoint(t.clientX,t.clientY),a=l;s.selectedElements="view"===o.localName?[o]:[],window.addEventListener("pointermove",_e644=function e(i){var s=new DOMPoint(i.clientX,i.clientY),o=i.timeStamp-t.timeStamp,h=ze(l,s)>3||o>80,r=!1===Me(a,s,0);if(a=s,!0===h&&!0===r){window.removeEventListener("pointermove",_e644);var _s355=new Z(i.clientX-t.clientX,i.clientY-t.clientY),_o205=jc(_s355.x)>jc(_s355.y)?"horizontal":"vertical",_l192=n.getAttribute("data-position");"center"===_l192?_this340.Lr(t,n,_o205):"ref"===_l192?_this340.Br(t,n,_o205):_this340.Rr(t,n,_o205);}}),window.addEventListener("pointerup",_i617=function i(t){window.removeEventListener("pointermove",_e644),window.removeEventListener("pointerup",_i617);});},Sa:function Sa(t){t.target.closest('.grippie[data-position="ref"]')&&this.Gr(t);},Lr:function Lr(t,e,i){var _this341=this;var s,_n257,o=this.Pn,l=e.closest(".subhud"),a=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),l[Hc]),h=Rt.fromString(a.getAttribute("viewBox")||"0 0 0 0").toRect(),r=null,d=Ht(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=[];if(o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Er=!0,"marker"===a.getAttribute("data-bx-workspace")&&(r=Nc(this.Pn.currentWorkspace)),this.Or){var _iterator507=_createForOfIteratorHelper(o.currentWorkspace.children),_step507;try{for(_iterator507.s();!(_step507=_iterator507.n()).done;){var _t856=_step507.value;if(f.includes(_t856.localName)){var _e645=jt(_t856,o.vectorCanvas),_i618=Ne(Pi(_t856),_e645);if(Ye(_i618,h)){var _e646=Ht(_t856),_i619=_e646.inverse(),_s356=Vt(_t856).multiplySelf(_i619);_t856[qc]={clientToUserTransform:_e646,initialClientTransform:_s356},u.push(_t856);}}}}catch(err){_iterator507.e(err);}finally{_iterator507.f();}}window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this341.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=new Z(p,e).matrixTransform(c).transformRect(h);s=Ne(s,d),s=o.snapManager.snapBBox(s),s=Ne(s,c),s=Ue(s,o.geometryPrecision);var n=new Z(s.x-h.x,s.y-h.y),l=n.matrixTransform(d);a.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height));var _iterator508=_createForOfIteratorHelper(u),_step508;try{for(_iterator508.s();!(_step508=_iterator508.n()).done;){var _t858=_step508.value;var _t858$qc=_t858[qc],_e647=_t858$qc.clientToUserTransform,_i620=_t858$qc.initialClientTransform,_s357=DOMMatrix.fromMatrix(_i620);_s357.translateSelf(l.x,l.y),_s357.multiplySelf(_e647),_t858.setAttribute("transform",_s357.toString());}}catch(err){_iterator508.e(err);}finally{_iterator508.f();}if(r){var _t857=n.transformPoint(r);_t857=Pe(_t857,o.geometryPrecision),a.setAttribute("refX",_t857.x),a.setAttribute("refY",_t857.y);}}),window.addEventListener("pointerup",_n257=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n257),o.snapManager.snapEnd(),_this341.Er=!1;var _iterator509=_createForOfIteratorHelper(u),_step509;try{for(_iterator509.s();!(_step509=_iterator509.n()).done;){var _t859=_step509.value;fa(_t859,{geometryPrecision:o.geometryPrecision,transformPrecision:o.transformPrecision});}}catch(err){_iterator509.e(err);}finally{_iterator509.f();}});},Rr:function Rr(t,e,i){var _this342=this;var s,_n258,o=this.Pn,l=e.closest(".subhud"),a=(_toConsumableArray(this["#subhuds"].children).filter(function(t){return t!==l;}),e.closest(".subhud")[Hc]),h=e.getAttribute("data-position"),r=Rt.fromString(a.getAttribute("viewBox")||"0 0 0 0").toRect(),d=Ht(o.vectorCanvas),c=d.inverse(),p=new DOMPoint(t.clientX,t.clientY),u=p.matrixTransform(c);o.undoManager.checkpoint("View box"),o.snapManager.snapStart(),this.Tr=!0;var x=new DOMPoint(e[Yc],e[Wc]).matrixTransform(d),b=new Z(p,x);window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY),i=o.snapManager.snapPoint(e);!1===Me(e,i)&&(e=i,e.x-=b.x,e.y-=b.y);var s=e.matrixTransform(c),n=DOMRect.fromRect(r),l=new Z(u,s);"left"===h?(n.x=r.x+l.x,n.width=r.width-l.x,n.width<0&&(n.x=r.x+r.width,n.width=jc(n.width))):"right"===h?(n.width=r.width+l.x,n.width<0&&(n.width=jc(n.width),n.x=r.x-n.width)):"top"===h?(n.height=r.height-l.y,n.y=r.y+l.y,n.height<0&&(n.height=jc(n.height),n.y=r.y+r.height)):"bottom"===h?(n.height=r.height+l.y,n.height<0&&(n.height=jc(n.height),n.y=r.y-n.height)):"top-left"===h?(n.width=r.width-l.x,n.height=r.height-l.y,n.x=r.x+l.x,n.y=r.y+l.y,n.width<0&&(n.width=jc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=jc(n.height),n.y=r.y+r.height)):"top-right"===h?(n.width=r.width+l.x,n.height=r.height-l.y,n.y=r.y+l.y,n.width<0&&(n.width=jc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=jc(n.height),n.y=r.y+r.height)):"bottom-left"===h?(n.width=r.width-l.x,n.height=r.height+l.y,n.x=r.x+l.x,n.width<0&&(n.width=jc(n.width),n.x=r.x+r.width),n.height<0&&(n.height=jc(n.height),n.y=r.y-n.height)):"bottom-right"===h&&(n.width=r.width+l.x,n.height=r.height+l.y,n.width<0&&(n.width=jc(n.width),n.x=r.x-n.width),n.height<0&&(n.height=jc(n.height),n.y=r.y-n.height)),n=Ue(n,o.geometryPrecision),a.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),window.addEventListener("pointerup",_n258=function n(t){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n258),o.snapManager.snapEnd(),_this342.Tr=!1;});},Br:function Br(t,e,i){var _this343=this;var s,_n259,o=this.Pn,l=this.Pn.currentWorkspace,a=o.geometryPrecision,h=Ht(l),r=h.inverse(),d=Nc(l),c=d.matrixTransform(h),p=new DOMPoint(t.clientX,t.clientY);o.undoManager.checkpoint("Move marker reference point"),o.snapManager.snapStart(),this.Ar=!0,window.addEventListener("pointermove",s=function s(t){var e=new DOMPoint(t.clientX,t.clientY);_this343.Qs.modKeys.shift&&("horizontal"===i?e.y=p.y:"vertical"===i&&(e.x=p.x));var s=o.snapManager.snapPoint(new DOMPoint(c.x+e.x-p.x,c.y+e.y-p.y)),n=new Z(c,s).matrixTransform(r).transformPoint(d);n=Pe(n,a),l.setAttribute("refX",n.x),l.setAttribute("refY",n.y);}),window.addEventListener("pointerup",_n259=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n259),_this343.Pn.snapManager.snapEnd(),_this343.Ar=!1;});},Gr:function Gr(t){var e=this.Pn,i=this.Pn.currentWorkspace,s=e.geometryPrecision;if(e.undoManager.checkpoint("Reset marker reference point"),i.hasAttribute("viewBox")){var _Rt$fromString=Rt.fromString(i.getAttribute("viewBox")),_t860=_Rt$fromString.x,_e648=_Rt$fromString.y,_n260=_Rt$fromString.width,_o206=_Rt$fromString.height,_l193=K(_t860+_n260/2,s),_a146=K(_e648+_o206/2,s);i.setAttribute("refX",_l193),i.setAttribute("refY",_a146);}else i.removeAttribute("refX"),i.removeAttribute("refY");},ol:function ol(){var t=this.Pn.currentWorkspace;if(this["#subhuds"].innerHTML="",t.hasAttribute("viewBox")){var _e649=this["#subhud-template"].cloneNode(!0);_e649.removeAttribute("uid"),_e649[Hc]=t,this["#subhuds"].append(_e649);}var _iterator510=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step510;try{for(_iterator510.s();!(_step510=_iterator510.n()).done;){var _e650=_step510.value;var _t861=this["#subhud-template"].cloneNode(!0);_t861.removeAttribute("uid"),_t861[Hc]=_e650,this["#subhuds"].append(_t861);}}catch(err){_iterator510.e(err);}finally{_iterator510.f();}this.$r(),this.Ir();},$r:function $r(){var t=this.Pn.outermostSelectedElements;if(0===t.length){var _iterator511=_createForOfIteratorHelper(this["#subhuds"].children),_step511;try{for(_iterator511.s();!(_step511=_iterator511.n()).done;){var _t862=_step511.value;_t862[Hc]===this.Pn.currentWorkspace?_t862.setAttribute("data-selected",""):_t862.removeAttribute("data-selected");}}catch(err){_iterator511.e(err);}finally{_iterator511.f();}}else{var _iterator512=_createForOfIteratorHelper(this["#subhuds"].children),_step512;try{for(_iterator512.s();!(_step512=_iterator512.n()).done;){var _e651=_step512.value;t.includes(_e651[Hc])?_e651.setAttribute("data-selected",""):_e651.removeAttribute("data-selected");}}catch(err){_iterator512.e(err);}finally{_iterator512.f();}}},Ir:function Ir(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var _iterator513=_createForOfIteratorHelper(this["#subhuds"].children),_step513;try{for(_iterator513.s();!(_step513=_iterator513.n()).done;){var _e652=_step513.value;var _i621=_e652[Hc];if(_e652===t||null===t){var _Rt$fromString2=Rt.fromString(_i621.getAttribute("viewBox")||"0 0 0 0"),_t863=_Rt$fromString2.x,_s358=_Rt$fromString2.y,_n261=_Rt$fromString2.width,_o207=_Rt$fromString2.height;var _iterator514=_createForOfIteratorHelper(_e652.children),_step514;try{for(_iterator514.s();!(_step514=_iterator514.n()).done;){var _l194=_step514.value;if("text"===_l194.localName){var _e653=_l194;if(_e653.setAttribute("x",_t863),_e653.setAttribute("y",_s358-10/this.Pn.scale),_e653.style.fontSize=12/this.Pn.scale+"px","view"===_i621.localName){if(this.zr)_i621.hasAttribute("id")?(_e653.textContent="#"+_i621.id,_e653.style.fontWeight="700"):(_e653.textContent="Custom view",_e653.style.fontWeight="400");else{var _t864=_i621.querySelector("bx-title");_t864&&_t864.textContent.length>0?(_e653.textContent=_t864.textContent,_e653.style.fontWeight="700"):(_e653.textContent="Custom view",_e653.style.fontWeight="400");}}else _e653.textContent="Default view",_e653.style.fontWeight="400";}else{var _e654=_l194,_a147=_e654.getAttribute("data-position");if("center"===_a147)_e654.x.baseVal.value=_t863,_e654.y.baseVal.value=_s358,_e654.width.baseVal.value=_n261,_e654.height.baseVal.value=_o207;else if("left"===_a147)_e654.x1.baseVal.value=_t863,_e654.y1.baseVal.value=_s358,_e654.x2.baseVal.value=_t863,_e654.y2.baseVal.value=_s358+_o207,_e654[Yc]=_t863,_e654[Wc]=_s358+_o207/2;else if("right"===_a147)_e654.x1.baseVal.value=_t863+_n261,_e654.y1.baseVal.value=_s358,_e654.x2.baseVal.value=_t863+_n261,_e654.y2.baseVal.value=_s358+_o207,_e654[Yc]=_t863+_n261,_e654[Wc]=_s358+_o207/2;else if("top"===_a147)_e654.x1.baseVal.value=_t863,_e654.y1.baseVal.value=_s358,_e654.x2.baseVal.value=_t863+_n261,_e654.y2.baseVal.value=_s358,_e654[Yc]=_t863+_n261/2,_e654[Wc]=_s358;else if("bottom"===_a147)_e654.x1.baseVal.value=_t863,_e654.y1.baseVal.value=_s358+_o207,_e654.x2.baseVal.value=_t863+_n261,_e654.y2.baseVal.value=_s358+_o207,_e654[Yc]=_t863+_n261/2,_e654[Wc]=_s358+_o207;else if("top-left"===_a147){var _i622=new DOMMatrix();_i622.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863,_s358),_i622.translateSelf(_t863-15,_s358-15),_e654.setAttribute("transform",_i622.toString()),_e654[Yc]=_t863,_e654[Wc]=_s358;}else if("top-right"===_a147){var _i623=new DOMMatrix();_i623.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863+_n261,_s358),_i623.translateSelf(_t863+_n261-15,_s358-15),_e654.setAttribute("transform",_i623.toString()),_e654[Yc]=_t863+_n261,_e654[Wc]=_s358;}else if("bottom-left"===_a147){var _i624=new DOMMatrix();_i624.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863,_s358+_o207),_i624.translateSelf(_t863-15,_s358+_o207-15),_e654.setAttribute("transform",_i624.toString()),_e654[Yc]=_t863,_e654[Wc]=_s358+_o207;}else if("bottom-right"===_a147){var _i625=new DOMMatrix();_i625.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t863+_n261,_s358+_o207),_i625.translateSelf(_t863+_n261-15,_s358+_o207-15),_e654.setAttribute("transform",_i625.toString()),_e654[Yc]=_t863+_n261,_e654[Wc]=_s358+_o207;}else if("ref"===_a147)if("marker"===_i621.getAttribute("data-bx-workspace")){var _t865=Nc(this.Pn.currentWorkspace),_i626=new DOMMatrix();_i626.scaleSelf(1/this.Pn.scale,1/this.Pn.scale,1,_t865.x,_t865.y),_i626.translateSelf(_t865.x-12,_t865.y-12),_e654.setAttribute("x",_t865.x-12),_e654.setAttribute("y",_t865.y-12),_e654.setAttribute("transform",_i626.toString()),_e654.style.display=null;}else _e654.style.display="none";}}}catch(err){_iterator514.e(err);}finally{_iterator514.f();}}}}catch(err){_iterator513.e(err);}finally{_iterator513.f();}}};var Zc={id:"outline-hud",get context(){return this.getAttribute("context")||"transform";},set context(t){this.setAttribute("context",t);},createdCallback:function createdCallback(){this.Fr=null,this.Ur=Ki(this.qs,30,this),this._h=Ki(this.qs,200,this),this.innerHTML='\n  <style>\n    #outline-hud [uid="outline"] {\n      fill: none;\n      stroke: rgb(245, 92, 54);\n      stroke-width: 2;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n  </style>\n\n  <path uid="outline"></path>\n';var _iterator515=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step515;try{for(_iterator515.s();!(_step515=_iterator515.n()).done;){var _t866=_step515.value;this["#"+_t866.getAttribute("uid")]=_t866;}}catch(err){_iterator515.e(err);}finally{_iterator515.f();}},enabledCallback:function enabledCallback(){var _this344=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board"),this.Qs.addEventListener("modkeyschange",this.Xh=function(){_this344.Ur();}),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this344.Ur();}),this.Pn.addEventListener("currentcontainerchange",this.Nr=function(){_this344.Ur();}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this344.Jo();}),this.Pn.workspaces.addEventListener("pointerover",this.Vr=function(t){_this344.jr(t);}),this.Pn.workspaces.addEventListener("pointerout",this.Hr=function(t){_this344.Yr(t);}),this.qs();},disabledCallback:function disabledCallback(){this["#outline"].removeAttribute("d"),this.Qs.removeEventListener("modkeyschange",this.Xh),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("currentcontainerchange",this.Nr),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.workspaces.removeEventListener("pointerover",this.Vr),this.Pn.workspaces.removeEventListener("pointerout",this.Hr);},Jo:function Jo(){this.qs();},jr:function jr(t){this.Fr=t.target,this.Ur();},Yr:function Yr(){this.Fr=null,this._h();},qs:function qs(){var t=this.Wr();if(t){var _e655=t.localName,_i627=null,_s359=null;if("path"===_e655?_i627=t.getAttribute("d"):"rect"!==_e655&&"circle"!==_e655&&"ellipse"!==_e655&&"line"!==_e655&&"polyline"!==_e655&&"polygon"!==_e655||(_i627=it(t.getPathData())),null===_i627){var _e656=Pi(t);_i627="\n          M ".concat(_e656.x," ").concat(_e656.y,"\n          L ").concat(_e656.x+_e656.width," ").concat(_e656.y,"\n          L ").concat(_e656.x+_e656.width," ").concat(_e656.y+_e656.height,"\n          L ").concat(_e656.x," ").concat(_e656.y+_e656.height,"\n          L ").concat(_e656.x," ").concat(_e656.y,"\n        ");}null===_s359&&(_s359=jt(t,this).toString()),_i627?this["#outline"].setAttribute("d",_i627):this["#outline"].removeAttribute("d"),_s359?this["#outline"].setAttribute("transform",_s359):this["#outline"].removeAttribute("transform");}else this["#outline"].removeAttribute("d");},Wr:function Wr(){var _this$Qs$modKeys9=this.Qs.modKeys,t=_this$Qs$modKeys9.ctrl,e=_this$Qs$modKeys9.alt,i=_this$Qs$modKeys9.shift,s=this.Js.board,n=this.Fr,o=null,l=null;if("transform"===this.context?t||i?!t&&i?o="normal-multi":t&&!i?o="direct":t&&i&&(o="direct-multi"):o="normal":"edit"===this.context?o="direct":"edit-text"===this.context&&(o="direct-text"),n&&s.isSelectableElement(n)){var _t867=this.In(n),_e657=s.selectedElements.includes(n),_i628=_e657;var _iterator516=_createForOfIteratorHelper(_t867),_step516;try{for(_iterator516.s();!(_step516=_iterator516.n()).done;){var _e660=_step516.value;s.selectedElements.includes(_e660)&&(_i628=!0);}}catch(err){_iterator516.e(err);}finally{_iterator516.f();}if("normal"===o){if(!1===_i628)if(0===_t867.length)l=n;else{var _t868=s.currentContainer,_e658=n;if(_t868&&_t868.contains(_e658))for(;_e658.parentNode!==_t868;){_e658=_e658.parentNode;}else{var _i629=this.Ho(_e658,_t868);for(;_e658.parentNode!==_i629&&_e658.parentNode!==s.currentWorkspace;){_e658=_e658.parentNode;}}l=_e658;}}else if("normal-multi"===o){if(0===_t867.length)l=n;else{var _t869=n;if(s.currentContainer&&s.currentContainer.contains(_t869))for(;_t869.parentNode!==s.currentContainer;){_t869=_t869.parentNode;}else{var _e659=this.Ho(_t869,s.currentContainer);for(;_t869.parentNode!==_e659&&_t869.parentNode!==s.currentWorkspace;){_t869=_t869.parentNode;}}l=_t869;}}else"direct"===o?!1===_e657&&(l=n):"direct-multi"===o?l=n:"direct-text"===o&&!1===_e657&&n.closest("text")&&(l=n.closest("text"));}return l;},In:function In(t){var e=[];if(t!==this.Pn.currentWorkspace)for(;t.parentElement&&t.parentElement!==this.Pn.currentWorkspace;){t=t.parentElement,["g","a"].includes(t.localName)&&e.unshift(t);}return e;},Ho:function Ho(t,e){var i=Ri(t,e);if(i)for(;!1===["g","a"].includes(i.localName);){i=i.parentNode;}return i;}};var Kc={id:"rubber-band-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #rubber-band-hud [uid="rect"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="rect"][hidden] {\n      display: none;\n    }\n\n    #rubber-band-hud [uid="polygon"] {\n      fill: var(--rubber-band-background-color);\n      stroke: var(--rubber-band-border-color);\n      stroke-width: 1;\n      pointer-events: none;\n      shape-rendering: crispEdges;\n      vector-effect: non-scaling-stroke;\n    }\n    #rubber-band-hud [uid="polygon"][hidden] {\n      display: none;\n    }\n  </style>\n\n  <rect uid="rect" x="0" y="0" width="0" height="0" hidden></rect>\n  <polyline uid="polygon" hidden></polyline>\n';var _iterator517=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step517;try{for(_iterator517.s();!(_step517=_iterator517.n()).done;){var _t870=_step517.value;this["#"+_t870.getAttribute("uid")]=_t870;}}catch(err){_iterator517.e(err);}finally{_iterator517.f();}},grabSelection:function grabSelection(t,e){var _this345=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"rect";return new Promise(function(s){var n,_o209,l=Ht(_this345).inverse(),a=new DOMPoint(t,e).matrixTransform(l);if("rect"===i){var _t871=0,_e661=0,_i630=0,_h123=0;_this345["#rect"].removeAttribute("hidden"),window.addEventListener("pointermove",n=function n(s){if(!1===s.isPrimary)return;var n=new DOMPoint(s.clientX,s.clientY).matrixTransform(l);_i630=n.x-a.x,_h123=n.y-a.y,_i630<0?(_i630=-_i630,_t871=a.x-_i630):_t871=a.x,_h123<0?(_h123=-_h123,_e661=a.y-_h123):_e661=a.y,_this345["#rect"].setAttribute("x",_t871),_this345["#rect"].setAttribute("y",_e661),_this345["#rect"].setAttribute("width",_i630),_this345["#rect"].setAttribute("height",_h123);}),window.addEventListener("pointerup",_o209=function o(l){if(!1===l.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o209),_this345["#rect"].setAttribute("hidden",""),_this345["#rect"].setAttribute("x",0),_this345["#rect"].setAttribute("y",0),_this345["#rect"].setAttribute("width",0),_this345["#rect"].setAttribute("height",0);var a=new DOMRect(_t871,_e661,_i630,_h123);s(a);});}else if("polygon"===i){var _t872=0,_e662=0;_this345["#polygon"].removeAttribute("hidden"),_this345["#polygon"].points.appendItem(Ae(a)),window.addEventListener("pointermove",n=function n(i){if(!1===i.isPrimary)return;var s=new DOMPoint(i.clientX,i.clientY).matrixTransform(l);_t872=s.x,_e662=s.y;var _iterator518=_createForOfIteratorHelper(i.getCoalescedEvents()),_step518;try{for(_iterator518.s();!(_step518=_iterator518.n()).done;){var _t873=_step518.value;var _e663=new DOMPoint(_t873.clientX,_t873.clientY).matrixTransform(l);_this345["#polygon"].points.appendItem(Ae(_e663));}}catch(err){_iterator518.e(err);}finally{_iterator518.f();}}),window.addEventListener("pointerup",_o209=function _o208(t){if(!1===t.isPrimary)return;window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o209);var e=_toConsumableArray(_this345["#polygon"].points).map(function(t){return DOMPoint.fromPoint(t);});_this345["#polygon"].setAttribute("points",""),_this345["#polygon"].setAttribute("hidden",""),s(e);});}});}};var Qc=Math.abs,Jc=Math.atan,tp=Math.min,ep=Math.max,ip=Number.parseFloat,sp=12,np=12,op=12,lp=10,ap=Symbol(),hp=Symbol(),rp=Symbol(),dp=Symbol();var cp={id:"transform-hud",get mode(){return this.qr;},set mode(t){this.qr=t,this.Xr();},get isScaling(){return this.Zr;},createdCallback:function createdCallback(){var _this346=this;this.Kr={},this.Qr={},this.Jr={},this.td=!1,this.Zr=!1,this.ed=!1,this.qr="scale",this.sd=Ki(this.gr,25,this),this.nd=Ki(this.gr,250,this),this.innerHTML='\n  <style>\n    #transform-hud [uid="scale-grippies"] > .grippie {\n      fill: rgb(46, 102, 249);\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="rotate-grippies"] > .grippie {\n      fill: red;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n\n    #transform-hud [uid="skew-grippies"] > .grippie {\n      fill: orange;\n      stroke: white;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n      filter: url(#grippie-shadow);\n    }\n  </style>\n\n  <g uid="grippies">\n    <g uid="scale-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n      <rect class="grippie" data-position="top-left"></rect>\n      <rect class="grippie" data-position="top-right"></rect>\n      <rect class="grippie" data-position="bottom-left"></rect>\n      <rect class="grippie" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="rotate-grippies">\n      <rect class="grippie" rx="999" data-position="top-left"></rect>\n      <rect class="grippie" rx="999" data-position="top-right"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-left"></rect>\n      <rect class="grippie" rx="999" data-position="bottom-right"></rect>\n    </g>\n\n    <g uid="skew-grippies">\n      <rect class="grippie" data-position="top"></rect>\n      <rect class="grippie" data-position="left"></rect>\n      <rect class="grippie" data-position="bottom"></rect>\n      <rect class="grippie" data-position="right"></rect>\n    </g>\n\n    <svg uid="origin-grippie" viewBox="0 0 100 100" visibility="hidden">\n      <rect x="41" width="17" height="100" fill="inherit"></rect>\n      <rect x="41" width="17" height="100" fill="inherit" transform="matrix(0, 1, -1, 0, 100, 0.5)"></rect>\n      <rect x="0" y="0" width="100" height="100" style="opacity: 0;"/>\n    </svg>\n  </g>\n';var _iterator519=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step519;try{for(_iterator519.s();!(_step519=_iterator519.n()).done;){var _t874=_step519.value;this["#"+_t874.getAttribute("uid")]=_t874;}}catch(err){_iterator519.e(err);}finally{_iterator519.f();}var _iterator520=_createForOfIteratorHelper(this["#scale-grippies"].children),_step520;try{for(_iterator520.s();!(_step520=_iterator520.n()).done;){var _t875=_step520.value;this.Kr[_t875.getAttribute("data-position")]=_t875;}}catch(err){_iterator520.e(err);}finally{_iterator520.f();}var _iterator521=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step521;try{for(_iterator521.s();!(_step521=_iterator521.n()).done;){var _t876=_step521.value;this.Jr[_t876.getAttribute("data-position")]=_t876;}}catch(err){_iterator521.e(err);}finally{_iterator521.f();}var _iterator522=_createForOfIteratorHelper(this["#skew-grippies"].children),_step522;try{for(_iterator522.s();!(_step522=_iterator522.n()).done;){var _t877=_step522.value;this.Qr[_t877.getAttribute("data-position")]=_t877;}}catch(err){_iterator522.e(err);}finally{_iterator522.f();}this.addEventListener("pointerdown",function(t){_this346.wo(t);}),this.addEventListener("dblclick",function(t){_this346.Sa(t);});},enabledCallback:function enabledCallback(){var _this347=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this347.Jo();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this347.sl(t.detail);}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this347.il();}),this.Jo(),this.il();},disabledCallback:function disabledCallback(){this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.hn);},Xr:function Xr(){"scale"===this.mode?(this["#scale-grippies"].style.setProperty("visibility","visible"),this["#rotate-grippies"].style.setProperty("visibility","hidden"),this["#skew-grippies"].style.setProperty("visibility","hidden"),this["#origin-grippie"].style.setProperty("visibility","hidden")):"rotate-and-skew"===this.mode&&(this["#scale-grippies"].style.setProperty("visibility","hidden"),this["#rotate-grippies"].style.setProperty("visibility","visible"),this["#skew-grippies"].style.setProperty("visibility","visible"),this["#origin-grippie"].style.setProperty("visibility","visible")),this.gr();},Jo:function Jo(){0===this.Pn.selectedObjectElements.length?this["#grippies"].style.setProperty("display","none"):this["#grippies"].style.setProperty("display","block"),this.gr();},sl:function sl(t){this.Pn.selectedElements.length>100?this.nd():this.sd();},il:function il(){this.sd();},wo:function wo(t){var _this348=this;var _e664,_i631,s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=n;s.setPointerCapture(t.pointerId),s.addEventListener("pointermove",_e664=function e(i){var l=new DOMPoint(i.clientX,i.clientY),a=i.timeStamp-t.timeStamp,h=ze(n,l)>3||a>80,r=!1===Me(o,l,0);o=l,!0===h&&!0===r&&(s.removeEventListener("pointermove",_e664),_this348.ro(t,i));}),s.addEventListener("pointerup",_i631=function i(t){s.removeEventListener("pointermove",_e664),s.removeEventListener("pointerup",_i631);});},Sa:function Sa(t){var e=t.target.parentElement;e===this["#rotate-grippies"]?this.od(t):e===this["#skew-grippies"]?this.ld(t):e===this["#origin-grippie"]&&this.ad(t);},ro:function ro(t,e){var i=e.target.parentElement;if(i===this["#scale-grippies"]){var _i632=e.target;this.hd(t,_i632);}else if(i===this["#rotate-grippies"])this.rd(t);else if(i===this["#skew-grippies"]){var _i633=e.target;this.dd(t,_i633);}else i===this["#origin-grippie"]&&this.pd(t);},hd:function hd(t,e){var _this349=this;if(0!==t.button)return;var i,s,n=_toConsumableArray(this.Pn.outermostSelectedObjectElements),o=e.getAttribute("data-position"),l=new DOMPoint(e.x.baseVal.value+e.width.baseVal.value/2,e.y.baseVal.value+e.height.baseVal.value/2).matrixTransform(Ht(e)),a=new DOMPoint(t.clientX,t.clientY),h=new Z(a,l),r=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),d=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),c=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),p=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);this.Zr=!0,this.Pn.undoManager.checkpoint("Scale"),this.Pn.snapManager.snapStart(),n=n.filter(function(t){if("text"===t.localName){var _e665=_this349.jo(t);if(_e665&&_this349.Pn.outermostSelectedElements.includes(_e665))return!1;}return!0;});var _iterator523=_createForOfIteratorHelper(n),_step523;try{for(_iterator523.s();!(_step523=_iterator523.n()).done;){var _t883=_step523.value;if(!0===r){var _e671=Ht(_t883),_Nl17=Nl(_e671),_i638=_Nl17.scaleX,_s365=_Nl17.scaleY,_n266="left"===o||"right"===o?_i638:_s365,_l197=getComputedStyle(_t883);_t883[ap]=_t883.style.getPropertyValue("stroke-width"),_t883[hp]=_t883.style.getPropertyValue("vector-effect");var _a149=Qc(_n266)*ip(_l197.getPropertyValue("stroke-width"));_t883.style.setProperty("stroke-width",_a149),_t883.style.setProperty("vector-effect","non-scaling-stroke");}}}catch(err){_iterator523.e(err);}finally{_iterator523.f();}if(this.ud(n)){var _n262=n,_n263=_toArray(_n262),_t878=_n263[0],_e666=_n263.slice(1),_s360=Symbol();this.ed=!0;jt(_t878,this);var _iterator524=_createForOfIteratorHelper(n),_step524;try{var _loop16=function _loop16(){var t=_step524.value;var e=Ht(t).inverse(),i=Vt(t),o=n.filter(function(e){return e!==t;}),l=[Pi(t)];var _iterator526=_createForOfIteratorHelper(o),_step526;try{for(_iterator526.s();!(_step526=_iterator526.n()).done;){var _e668=_step526.value;var _i635=jt(_e668,t),_s361=Ne(Pi(_e668),_i635);l.push(_s361);}}catch(err){_iterator526.e(err);}finally{_iterator526.f();}var a=Ve(l);t[_s360]={clientToUserTransform:e,userTransform:i,bbox:a};};for(_iterator524.s();!(_step524=_iterator524.n()).done;){_loop16();}}catch(err){_iterator524.e(err);}finally{_iterator524.f();}window.addEventListener("pointermove",i=function i(t){var _iterator525=_createForOfIteratorHelper(n),_step525;try{for(_iterator525.s();!(_step525=_iterator525.n()).done;){var _e667=_step525.value;var _e667$_s=_e667[_s360],_i634=_e667$_s.clientToUserTransform,_n264=_e667$_s.userTransform,_l195=_e667$_s.bbox,_r75=a.matrixTransform(_i634),_d59=new DOMPoint(t.clientX,t.clientY);{var _t879=_this349.Pn.snapManager.snapPoint(_d59);!1===Me(_d59,_t879)&&(_d59=_t879,_d59.x-=h.x,_d59.y-=h.y);}var _c48=_d59.matrixTransform(_i634),_u35=_c48.x-_r75.x,_x103=_c48.y-_r75.y,_this349$xd=_this349.xd(_u35,_x103,_l195,o,p),_b33=_this349$xd.centerX,_m32=_this349$xd.centerY,_g29=_this349$xd.scaleX,_f20=_this349$xd.scaleY,_w18=-_b33*(_g29-1),_v14=-_m32*(_f20-1),_y6=DOMMatrix.fromMatrix(_n264);_y6.translateSelf(_w18,_v14),_y6.scaleSelf(_g29,_f20),_e667.setAttribute("transform",_y6);}}catch(err){_iterator525.e(err);}finally{_iterator525.f();}});}else{var _e669=this.Pn.outermostSelectedObjectElements.map(function(t){return Di(t);}),_s362=Ve(_e669);var _iterator527=_createForOfIteratorHelper(n),_step527;try{for(_iterator527.s();!(_step527=_iterator527.n()).done;){var _t881=_step527.value;var _e670=Ht(_t881),_i637=_e670.inverse(),_s363=Vt(_t881);_t881[rp]={clientToUserTransform:_e670,userToClientTransform:_i637,userTransform:_s363};}}catch(err){_iterator527.e(err);}finally{_iterator527.f();}window.addEventListener("pointermove",i=function i(e){var _iterator528=_createForOfIteratorHelper(n),_step528;try{for(_iterator528.s();!(_step528=_iterator528.n()).done;){var _i636=_step528.value;var _n265=new DOMPoint(t.clientX,t.clientY),_l196=new DOMPoint(e.clientX,e.clientY);{var _t880=_this349.Pn.snapManager.snapPoint(_l196);!1===Me(_l196,_t880)&&(_l196=_t880,_l196.x-=h.x,_l196.y-=h.y);}var _a148=_l196.x-_n265.x,_r76=_l196.y-_n265.y,_i636$rp=_i636[rp],_d60=_i636$rp.clientToUserTransform,_c49=_i636$rp.userToClientTransform,_u36=_i636$rp.userTransform,_this349$xd2=_this349.xd(_a148,_r76,_s362,o,p),_x104=_this349$xd2.centerX,_b34=_this349$xd2.centerY,_m33=_this349$xd2.scaleX,_g30=_this349$xd2.scaleY,_f21=-_x104*(_m33-1),_w19=-_b34*(_g30-1),_v15=DOMMatrix.fromMatrix(_u36);_v15.multiplySelf(_c49),_v15.translateSelf(_f21,_w19),_v15.scaleSelf(_m33,_g30),_v15.multiplySelf(_d60),_i636.setAttribute("transform",_v15.toString());}}catch(err){_iterator528.e(err);}finally{_iterator528.f();}});}window.addEventListener("pointerup",s=function(_s364){function s(_x105){return _s364.apply(this,arguments);}s.toString=function(){return _s364.toString();};return s;}(function(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s);var _iterator529=_createForOfIteratorHelper(n),_step529;try{for(_iterator529.s();!(_step529=_iterator529.n()).done;){var _t882=_step529.value;!0===r&&(_t882.style.setProperty("stroke-width",_t882[ap]),_t882.style.setProperty("vector-effect",_t882[hp])),fa(_t882,{geometryPrecision:_this349.Pn.geometryPrecision,transformPrecision:_this349.Pn.transformPrecision,preserveStrokeWidth:r,preserveRectRadii:d,preserveRotation:c,transformDirection:o});}}catch(err){_iterator529.e(err);}finally{_iterator529.f();}_this349.Pn.snapManager.snapEnd(),_this349.Zr=!1,_this349.ed=!1;}));},rd:function rd(t){var _this350=this;if(0!==t.button)return;var e=_toConsumableArray(this.Pn.outermostSelectedObjectElements),i=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);if(this.Pn.undoManager.checkpoint("Rotate"),e=e.filter(function(t){if("text"===t.localName){var _e672=_this350.jo(t);if(_e672&&_this350.Pn.outermostSelectedObjectElements.includes(_e672))return!1;}return!0;}),this.ud(e)&&(this.ed=!0),1===e.length){var _s366,_n268,_o210=e[0],_l198=ee(_o210),_a150=new DOMPoint(t.clientX,t.clientY),_h124=te([_o210]);this.td=!0,window.addEventListener("pointermove",_s366=function _s366(t){var e=new DOMPoint(t.clientX,t.clientY),i=Le(_h124,_a150,e),s=_l198+i;_this350.Qs.modKeys.shift&&(s=Re(s,15)),ie(_o210,s);}),window.addEventListener("pointerup",_n268=function _n267(t){window.removeEventListener("pointermove",_s366),window.removeEventListener("pointerup",_n268),fa(_o210,{geometryPrecision:_this350.Pn.geometryPrecision,transformPrecision:_this350.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i}),_this350.td=!1,_this350.ed=!1;});}else{var _s367,_n271,_o211=te(e),_l199=new DOMPoint(t.clientX,t.clientY);var _iterator530=_createForOfIteratorHelper(e),_step530;try{for(_iterator530.s();!(_step530=_iterator530.n()).done;){var _t885=_step530.value;var _e674=Vt(_t885),_i640=Ht(_t885),_s369=_i640.inverse();_t885[rp]={clientToUserTransform:_i640,userToClientTransform:_s369,userTransform:_e674};}}catch(err){_iterator530.e(err);}finally{_iterator530.f();}this.td=!0,window.addEventListener("pointermove",_s367=function _s367(t){var _iterator531=_createForOfIteratorHelper(e),_step531;try{for(_iterator531.s();!(_step531=_iterator531.n()).done;){var _i639=_step531.value;var _i639$rp=_i639[rp],_e673=_i639$rp.clientToUserTransform,_s368=_i639$rp.userToClientTransform,_n270=_i639$rp.userTransform,_a151=new DOMPoint(t.clientX,t.clientY),_h125=Le(_o211,_l199,_a151);_this350.Qs.modKeys.shift&&(_h125=Re(_h125,15));var _r77=DOMMatrix.fromMatrix(_n270);_r77.multiplySelf(_s368),_r77.translateSelf(_o211.x,_o211.y),_r77.rotateSelf(_h125),_r77.translateSelf(-_o211.x,-_o211.y),_r77.multiplySelf(_e673),_i639.setAttribute("transform",_r77);}}catch(err){_iterator531.e(err);}finally{_iterator531.f();}}),window.addEventListener("pointerup",_n271=function _n269(t){window.removeEventListener("pointermove",_s367),window.removeEventListener("pointerup",_n271);var _iterator532=_createForOfIteratorHelper(e),_step532;try{for(_iterator532.s();!(_step532=_iterator532.n()).done;){var _t884=_step532.value;fa(_t884,{geometryPrecision:_this350.Pn.geometryPrecision,transformPrecision:_this350.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:!0,preserveRotation:i});}}catch(err){_iterator532.e(err);}finally{_iterator532.f();}_this350.td=!1,_this350.ed=!1;});}},dd:function dd(t,e){var _this351=this;if(0!==t.button)return;var i,s,n,o=_toConsumableArray(this.Pn.outermostSelectedObjectElements),l=e.getAttribute("data-position");n="top"===l||"bottom"===l?"horizontal":"vertical";this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0);var a=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),h=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0);this.Pn.undoManager.checkpoint("Skew"),o=o.filter(function(t){if("text"===t.localName){var _e675=_this351.jo(t);if(_e675&&_this351.Pn.outermostSelectedElements.includes(_e675))return!1;}return!0;});var _iterator533=_createForOfIteratorHelper(o),_step533;try{for(_iterator533.s();!(_step533=_iterator533.n()).done;){var _t890=_step533.value;_t890[ap]=_t890.style.getPropertyValue("stroke-width"),_t890[hp]=_t890.style.getPropertyValue("vector-effect");var _e681=Ht(_t890),_Nl18=Nl(_e681),_i646=_Nl18.scaleX,_s376=_Nl18.scaleY,_n272=(_i646+_s376)/2,_o216=getComputedStyle(_t890),_l203=Qc(_n272)*ip(_o216.getPropertyValue("stroke-width"));_t890.style.setProperty("stroke-width",_l203),_t890.style.setProperty("vector-effect","non-scaling-stroke");}}catch(err){_iterator533.e(err);}finally{_iterator533.f();}if(this.ud(o)){var _o212=o,_o213=_toArray(_o212),_e676=_o213[0],_s370=_o213.slice(1),_l200=Pi(_e676),_a152=[],_h126=Symbol();var _iterator534=_createForOfIteratorHelper(_s370),_step534;try{for(_iterator534.s();!(_step534=_iterator534.n()).done;){var _t886=_step534.value;var _i642=jt(_t886,_e676),_s372=Ne(Pi(_t886),_i642);_a152.push(_s372);}}catch(err){_iterator534.e(err);}finally{_iterator534.f();}Ve([_l200].concat(_a152)),jt(_e676,this);var _r78=new DOMPoint(t.clientX,t.clientY),_d61=te(o);var _iterator535=_createForOfIteratorHelper(o),_step535;try{for(_iterator535.s();!(_step535=_iterator535.n()).done;){var _t887=_step535.value;var _e678=Ht(_t887).inverse(),_i643=Vt(_t887);_t887[_h126]={clientToUserTransform:_e678,userTransform:_i643};}}catch(err){_iterator535.e(err);}finally{_iterator535.f();}window.addEventListener("pointermove",i=function i(t){var _this351$Qs$modKeys=_this351.Qs.modKeys,e=_this351$Qs$modKeys.ctrl,i=_this351$Qs$modKeys.alt,s=_this351$Qs$modKeys.shift;var _iterator536=_createForOfIteratorHelper(o),_step536;try{for(_iterator536.s();!(_step536=_iterator536.n()).done;){var _e677=_step536.value;var _e677$_h=_e677[_h126],_i641=_e677$_h.clientToUserTransform,_s371=_e677$_h.userTransform,_o214=_r78.matrixTransform(_i641),_l201=_d61.matrixTransform(_i641),_a153=new DOMPoint(t.clientX,t.clientY).matrixTransform(_i641),_c50=Le(_l201,_o214,_a153),_p41=DOMMatrix.fromMatrix(_s371);_p41="horizontal"===n?ne(_p41,-_c50,0,_l201.x,_l201.y):ne(_p41,0,_c50,_l201.x,_l201.y),_e677.setAttribute("transform",_p41.toString());}}catch(err){_iterator536.e(err);}finally{_iterator536.f();}});}else{var _e679=new DOMPoint(t.clientX,t.clientY),_s373=te(o);var _iterator537=_createForOfIteratorHelper(o),_step537;try{for(_iterator537.s();!(_step537=_iterator537.n()).done;){var _t888=_step537.value;var _e680=Ht(_t888),_i645=_e680.inverse(),_s374=Vt(_t888);_t888[rp]={clientToUserTransform:_e680,userToClientTransform:_i645,userTransform:_s374};}}catch(err){_iterator537.e(err);}finally{_iterator537.f();}window.addEventListener("pointermove",i=function i(t){var _iterator538=_createForOfIteratorHelper(o),_step538;try{for(_iterator538.s();!(_step538=_iterator538.n()).done;){var _i644=_step538.value;var _i644$rp=_i644[rp],_o215=_i644$rp.clientToUserTransform,_l202=_i644$rp.userToClientTransform,_a154=_i644$rp.userTransform,_h127=new DOMPoint(t.clientX,t.clientY),_r79=Le(_s373,_e679,_h127),_d62=DOMMatrix.fromMatrix(_a154);_d62.multiplySelf(_l202),_d62="horizontal"===n?ne(_d62,-_r79,0,_s373.x,_s373.y):ne(_d62,0,_r79,_s373.x,_s373.y),_d62.multiplySelf(_o215),_i644.setAttribute("transform",_d62.toString());}}catch(err){_iterator538.e(err);}finally{_iterator538.f();}});}window.addEventListener("pointerup",s=function(_s375){function s(_x106){return _s375.apply(this,arguments);}s.toString=function(){return _s375.toString();};return s;}(function(t){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s);var _iterator539=_createForOfIteratorHelper(o),_step539;try{for(_iterator539.s();!(_step539=_iterator539.n()).done;){var _t889=_step539.value;_t889.style.setProperty("stroke-width",_t889[ap]),_t889.style.setProperty("vector-effect",_t889[hp]),fa(_t889,{geometryPrecision:_this351.Pn.geometryPrecision,transformPrecision:_this351.Pn.transformPrecision,preserveStrokeWidth:!0,preserveRectRadii:a,preserveRotation:h});}}catch(err){_iterator539.e(err);}finally{_iterator539.f();}}));},pd:function pd(t){var _this352=this;if(0!==t.button)return;var e,_i648,s=_toConsumableArray(this.Pn.outermostSelectedObjectElements),n=new DOMPoint(t.clientX,t.clientY);var _iterator540=_createForOfIteratorHelper(s),_step540;try{for(_iterator540.s();!(_step540=_iterator540.n()).done;){var _t892=_step540.value;var _e683=Ht(_t892).inverse(),_i649=Pi(_t892);_t892[rp]={clientToUserTransform:_e683},_t892[dp]=_i649;}}catch(err){_iterator540.e(err);}finally{_iterator540.f();}this.Pn.undoManager.checkpoint("Move origin");var o=te(s);window.addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(n,e),l=new DOMPoint(o.x+i.x,o.y+i.y);var _iterator541=_createForOfIteratorHelper(s),_step541;try{for(_iterator541.s();!(_step541=_iterator541.n()).done;){var _t891=_step541.value;var _e682=_t891[rp].clientToUserTransform,_i647=_t891[dp],_s377=l.matrixTransform(_e682),_n273=he(_s377,_i647),_o217=K(_n273.x,_this352.Pn.geometryPrecision),_a155=K(_n273.y,_this352.Pn.geometryPrecision);_t891.setAttribute("data-bx-origin","".concat(_o217," ").concat(_a155));}}catch(err){_iterator541.e(err);}finally{_iterator541.f();}}),window.addEventListener("pointerup",_i648=function i(t){window.removeEventListener("pointermove",e),window.removeEventListener("pointerup",_i648);});},od:function od(t){this.Pn.undoManager.checkpoint("Remove transform");var _iterator542=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step542;try{for(_iterator542.s();!(_step542=_iterator542.n()).done;){var _t893=_step542.value;_t893.removeAttribute("transform");}}catch(err){_iterator542.e(err);}finally{_iterator542.f();}},ld:function ld(t){this.Pn.undoManager.checkpoint("Remove transform");var _iterator543=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step543;try{for(_iterator543.s();!(_step543=_iterator543.n()).done;){var _t894=_step543.value;_t894.removeAttribute("transform");}}catch(err){_iterator543.e(err);}finally{_iterator543.f();}},ad:function ad(t){this.Pn.undoManager.checkpoint("Reset transform origin");var _iterator544=_createForOfIteratorHelper(this.Pn.outermostSelectedObjectElements),_step544;try{for(_iterator544.s();!(_step544=_iterator544.n()).done;){var _t895=_step544.value;_t895.removeAttribute("data-bx-origin");}}catch(err){_iterator544.e(err);}finally{_iterator544.f();}},gr:function gr(){"scale"===this.mode?this.bd():"rotate-and-skew"===this.mode&&(this.md(),this.gd(),!1===this.td&&this.fd());},bd:function bd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e684,_i650=sp/this.Pn.scale,_s378=(this.Pn.scale,this.Kr);var _iterator545=_createForOfIteratorHelper(this["#scale-grippies"].children),_step545;try{for(_iterator545.s();!(_step545=_iterator545.n()).done;){var _t898=_step545.value;_t898.width.baseVal.value=_i650,_t898.height.baseVal.value=_i650;}}catch(err){_iterator545.e(err);}finally{_iterator545.f();}if(this.ed||this.ud(t)){var _t896=_toArray(t),_n274=_t896[0],_o218=_t896.slice(1),_l204=Pi(_n274),_a156=[];var _iterator546=_createForOfIteratorHelper(_o218),_step546;try{for(_iterator546.s();!(_step546=_iterator546.n()).done;){var _t897=_step546.value;var _e685=jt(_t897,_n274),_i651=Ne(Pi(_t897),_e685);_a156.push(_i651);}}catch(err){_iterator546.e(err);}finally{_iterator546.f();}_e684=Ve([_l204].concat(_a156));var _h128=jt(_n274,this),_r80=new DOMPoint(_e684.x+_e684.width/2,_e684.y).matrixTransform(_h128);_s378.top.x.baseVal.value=_r80.x-_i650/2,_s378.top.y.baseVal.value=_r80.y-_i650/2;var _d63=new DOMPoint(_e684.x+_e684.width/2,_e684.y+_e684.height).matrixTransform(_h128);_s378.bottom.x.baseVal.value=_d63.x-_i650/2,_s378.bottom.y.baseVal.value=_d63.y-_i650/2;var _c51=new DOMPoint(_e684.x,_e684.y+_e684.height/2).matrixTransform(_h128);_s378.left.x.baseVal.value=_c51.x-_i650/2,_s378.left.y.baseVal.value=_c51.y-_i650/2;var _p42=new DOMPoint(_e684.x+_e684.width,_e684.y+_e684.height/2).matrixTransform(_h128);_s378.right.x.baseVal.value=_p42.x-_i650/2,_s378.right.y.baseVal.value=_p42.y-_i650/2;var _u37=new DOMPoint(_e684.x,_e684.y).matrixTransform(_h128);_s378["top-left"].x.baseVal.value=_u37.x-_i650/2,_s378["top-left"].y.baseVal.value=_u37.y-_i650/2;var _x107=new DOMPoint(_e684.x+_e684.width,_e684.y).matrixTransform(_h128);_s378["top-right"].x.baseVal.value=_x107.x-_i650/2,_s378["top-right"].y.baseVal.value=_x107.y-_i650/2;var _b35=new DOMPoint(_e684.x,_e684.y+_e684.height).matrixTransform(_h128);_s378["bottom-left"].x.baseVal.value=_b35.x-_i650/2,_s378["bottom-left"].y.baseVal.value=_b35.y-_i650/2;var _m34=new DOMPoint(_e684.x+_e684.width,_e684.y+_e684.height).matrixTransform(_h128);_s378["bottom-right"].x.baseVal.value=_m34.x-_i650/2,_s378["bottom-right"].y.baseVal.value=_m34.y-_i650/2;}else{var _n275=Ht(this).inverse(),_o219=t.map(function(t){return Di(t);});_e684=Ve(_o219),_e684=Ne(_e684,_n275),_s378.top.x.baseVal.value=_e684.x+_e684.width/2-_i650/2,_s378.top.y.baseVal.value=_e684.y-_i650/2,_s378.bottom.x.baseVal.value=_e684.x+_e684.width/2-_i650/2,_s378.bottom.y.baseVal.value=_e684.y+_e684.height-_i650/2,_s378.left.x.baseVal.value=_e684.x-_i650/2,_s378.left.y.baseVal.value=_e684.y+_e684.height/2-_i650/2,_s378.right.x.baseVal.value=_e684.x+_e684.width-_i650/2,_s378.right.y.baseVal.value=_e684.y+_e684.height/2-_i650/2,_s378["top-left"].x.baseVal.value=_e684.x-_i650/2,_s378["top-left"].y.baseVal.value=_e684.y-_i650/2,_s378["top-right"].x.baseVal.value=_e684.x+_e684.width-_i650/2,_s378["top-right"].y.baseVal.value=_e684.y-_i650/2,_s378["bottom-left"].x.baseVal.value=_e684.x-_i650/2,_s378["bottom-left"].y.baseVal.value=_e684.y+_e684.height-_i650/2,_s378["bottom-right"].x.baseVal.value=_e684.x+_e684.width-_i650/2,_s378["bottom-right"].y.baseVal.value=_e684.y+_e684.height-_i650/2;}_s378.top.style.visibility=0===_e684.height?"hidden":null,_s378.bottom.style.visibility=0===_e684.height?"hidden":null,_s378.left.style.visibility=0===_e684.width?"hidden":null,_s378.right.style.visibility=0===_e684.width?"hidden":null,_s378["top-left"].style.visibility=0===_e684.width||0===_e684.height?"hidden":null,_s378["top-right"].style.visibility=0===_e684.width||0===_e684.height?"hidden":null,_s378["bottom-left"].style.visibility=0===_e684.width||0===_e684.height?"hidden":null,_s378["bottom-right"].style.visibility=0===_e684.width||0===_e684.height?"hidden":null;}},md:function md(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e686,_i652=np/this.Pn.scale,_s379=(this.Pn.scale,this.Jr);var _iterator547=_createForOfIteratorHelper(this["#rotate-grippies"].children),_step547;try{for(_iterator547.s();!(_step547=_iterator547.n()).done;){var _t901=_step547.value;_t901.width.baseVal.value=_i652,_t901.height.baseVal.value=_i652;}}catch(err){_iterator547.e(err);}finally{_iterator547.f();}if(this.ed||this.ud(t)){var _t899=_toArray(t),_n276=_t899[0],_o220=_t899.slice(1),_l205=Pi(_n276),_a157=[];var _iterator548=_createForOfIteratorHelper(_o220),_step548;try{for(_iterator548.s();!(_step548=_iterator548.n()).done;){var _t900=_step548.value;var _e687=jt(_t900,_n276),_i653=Ne(Pi(_t900),_e687);_a157.push(_i653);}}catch(err){_iterator548.e(err);}finally{_iterator548.f();}_e686=Ve([_l205].concat(_a157));var _h129=jt(_n276,this),_r81=new DOMPoint(_e686.x,_e686.y).matrixTransform(_h129);_s379["top-left"].x.baseVal.value=_r81.x-_i652/2,_s379["top-left"].y.baseVal.value=_r81.y-_i652/2;var _d64=new DOMPoint(_e686.x+_e686.width,_e686.y).matrixTransform(_h129);_s379["top-right"].x.baseVal.value=_d64.x-_i652/2,_s379["top-right"].y.baseVal.value=_d64.y-_i652/2;var _c52=new DOMPoint(_e686.x,_e686.y+_e686.height).matrixTransform(_h129);_s379["bottom-left"].x.baseVal.value=_c52.x-_i652/2,_s379["bottom-left"].y.baseVal.value=_c52.y-_i652/2;var _p43=new DOMPoint(_e686.x+_e686.width,_e686.y+_e686.height).matrixTransform(_h129);_s379["bottom-right"].x.baseVal.value=_p43.x-_i652/2,_s379["bottom-right"].y.baseVal.value=_p43.y-_i652/2;}else{var _n277=Ht(this).inverse(),_o221=t.map(function(t){return Di(t);});_e686=Ve(_o221),_e686=Ne(_e686,_n277),_s379["top-left"].x.baseVal.value=_e686.x-_i652/2,_s379["top-left"].y.baseVal.value=_e686.y-_i652/2,_s379["top-right"].x.baseVal.value=_e686.x+_e686.width-_i652/2,_s379["top-right"].y.baseVal.value=_e686.y-_i652/2,_s379["bottom-left"].x.baseVal.value=_e686.x-_i652/2,_s379["bottom-left"].y.baseVal.value=_e686.y+_e686.height-_i652/2,_s379["bottom-right"].x.baseVal.value=_e686.x+_e686.width-_i652/2,_s379["bottom-right"].y.baseVal.value=_e686.y+_e686.height-_i652/2;}_s379["bottom-left"].style.visibility=0===_e686.width||0===_e686.height?"hidden":null,_s379["bottom-right"].style.visibility=0===_e686.width||0===_e686.height?"hidden":null;}},gd:function gd(){var t=this.Pn.outermostSelectedObjectElements;if(t.length>0){var _e688,_i654=op/this.Pn.scale,_s380=(this.Pn.scale,this.Qr);var _iterator549=_createForOfIteratorHelper(this["#skew-grippies"].children),_step549;try{for(_iterator549.s();!(_step549=_iterator549.n()).done;){var _t904=_step549.value;_t904.width.baseVal.value=_i654,_t904.height.baseVal.value=_i654;}}catch(err){_iterator549.e(err);}finally{_iterator549.f();}if(this.ed||this.ud(t)){var _t902=_toArray(t),_n278=_t902[0],_o222=_t902.slice(1),_l206=Pi(_n278),_a158=[];var _iterator550=_createForOfIteratorHelper(_o222),_step550;try{for(_iterator550.s();!(_step550=_iterator550.n()).done;){var _t903=_step550.value;var _e689=jt(_t903,_n278),_i655=Ne(Pi(_t903),_e689);_a158.push(_i655);}}catch(err){_iterator550.e(err);}finally{_iterator550.f();}_e688=Ve([_l206].concat(_a158));var _h130=jt(_n278,this),_r82=new DOMPoint(_e688.x+_e688.width/2,_e688.y).matrixTransform(_h130);_s380.top.x.baseVal.value=_r82.x-_i654/2,_s380.top.y.baseVal.value=_r82.y-_i654/2;var _d65=new DOMPoint(_e688.x+_e688.width/2,_e688.y+_e688.height).matrixTransform(_h130);_s380.bottom.x.baseVal.value=_d65.x-_i654/2,_s380.bottom.y.baseVal.value=_d65.y-_i654/2;var _c53=new DOMPoint(_e688.x,_e688.y+_e688.height/2).matrixTransform(_h130);_s380.left.x.baseVal.value=_c53.x-_i654/2,_s380.left.y.baseVal.value=_c53.y-_i654/2;var _p44=new DOMPoint(_e688.x+_e688.width,_e688.y+_e688.height/2).matrixTransform(_h130);_s380.right.x.baseVal.value=_p44.x-_i654/2,_s380.right.y.baseVal.value=_p44.y-_i654/2;}else{var _n279=Ht(this).inverse(),_o223=t.map(function(t){return Di(t);});_e688=Ve(_o223),_e688=Ne(_e688,_n279),_s380.top.x.baseVal.value=_e688.x+_e688.width/2-_i654/2,_s380.top.y.baseVal.value=_e688.y-_i654/2,_s380.bottom.x.baseVal.value=_e688.x+_e688.width/2-_i654/2,_s380.bottom.y.baseVal.value=_e688.y+_e688.height-_i654/2,_s380.left.x.baseVal.value=_e688.x-_i654/2,_s380.left.y.baseVal.value=_e688.y+_e688.height/2-_i654/2,_s380.right.x.baseVal.value=_e688.x+_e688.width-_i654/2,_s380.right.y.baseVal.value=_e688.y+_e688.height/2-_i654/2;}_s380.top.style.visibility=0===_e688.width||0===_e688.height?"hidden":null,_s380.bottom.style.visibility=0===_e688.width||0===_e688.height?"hidden":null,_s380.left.style.visibility=0===_e688.width||0===_e688.height?"hidden":null,_s380.right.style.visibility=0===_e688.width||0===_e688.height?"hidden":null;}},fd:function fd(){if(this.Pn.selectedObjectElements.length>=1){var _t905=lp/this.Pn.scale,_e690=Ht(this.Pn.currentWorkspace).inverse(),_i656=te(this.Pn.outermostSelectedObjectElements);_i656=_i656.matrixTransform(_e690),this["#origin-grippie"].setAttribute("width",_t905),this["#origin-grippie"].setAttribute("height",_t905),this["#origin-grippie"].setAttribute("x",_i656.x-_t905/2),this["#origin-grippie"].setAttribute("y",_i656.y-_t905/2);}},blink:function blink(){var _this353=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee87(){return regeneratorRuntime.wrap(function _callee87$(_context88){while(1){switch(_context88.prev=_context88.next){case 0:_this353["#grippies"].style.setProperty("display","none");_context88.next=3;return ts(200);case 3:_this353.Pn.selectedObjectElements.length>0&&_this353["#grippies"].style.setProperty("display","block");case 4:case"end":return _context88.stop();}}},_callee87);}))();},jo:function jo(t){var e=t.querySelector("textPath"),i=null;return e&&e.hasAttribute("href")&&(i=this.Pn.workspaces.querySelector(e.href.baseVal)),i;},ud:function ud(t){if(t.length>1){var _t906=_toArray(t),_e691=_t906[0],_i657=_t906.slice(1);var _iterator551=_createForOfIteratorHelper(_i657),_step551;try{for(_iterator551.s();!(_step551=_iterator551.n()).done;){var _t907=_step551.value;if(_t907.parentElement!==_e691.parentElement)return!1;}}catch(err){_iterator551.e(err);}finally{_iterator551.f();}var _s381=Vt(_e691),_n280=K(Jc(_s381.c/_s381.d),2),_o224=K(Jc(-_s381.b/_s381.a),2);var _iterator552=_createForOfIteratorHelper(_i657),_step552;try{for(_iterator552.s();!(_step552=_iterator552.n()).done;){var _t908=_step552.value;var _e692=Vt(_t908),_i658=K(Jc(_e692.c/_e692.d),2),_s382=K(Jc(-_e692.b/_e692.a),2);if(!1===Object.is(_i658,_n280)||!1===Object.is(_s382,_o224))return!1;}}catch(err){_iterator552.e(err);}finally{_iterator552.f();}}return!0;},xd:function xd(t,e,i,s,n){var o,l,a,h,r,_this$Qs$modKeys10=this.Qs.modKeys,d=_this$Qs$modKeys10.ctrl,c=_this$Qs$modKeys10.alt,p=_this$Qs$modKeys10.shift;return!1===n?d||p?!d&&p?r="B":d&&!p?r="C":d&&p&&(r="D"):r="A":!0===n&&(d||p?!d&&p?r="A":d&&!p?r="D":d&&p&&(r="C"):r="B"),"top"===s?"A"===r?(o=i.x+i.width/2,l=i.y+i.height,a=1,h=(i.height-e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y+i.height,h=(i.height-e)/i.height,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=1,h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.height-i.height/2-e)/(i.height-i.height/2),a=h):"bottom"===s?"A"===r?(o=i.x+i.width/2,l=i.y,a=1,h=(i.height+e)/i.height):"B"===r?(o=i.x+i.width/2,l=i.y,h=(i.height+e)/i.height,a=h):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=1,h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,h=(i.height-i.height/2+e)/(i.height-i.height/2),a=h):"left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height/2,a=(i.width-t)/i.width,h=1):"B"===r?(o=i.x+i.width,l=i.y+i.height/2,a=(i.width-t)/i.width,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=a):"right"===s&&("A"===r?(o=i.x,l=i.y+i.height/2,a=(i.width+t)/i.width,h=1):"B"===r?(o=i.x,l=i.y+i.height/2,a=(i.width+t)/i.width,h=a):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=1):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=h=(i.width-i.width/2+t)/(i.width-i.width/2))),"top-left"===s?"A"===r?(o=i.x+i.width,l=i.y+i.height,a=(i.width-t)/i.width,h=(i.height-e)/i.height):"B"===r?(o=i.x+i.width,l=i.y+i.height,a=(i.width-t)/i.width,h=(i.height-e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a):"top-right"===s?"A"===r?(o=i.x,l=i.y+i.height,a=(i.width+t)/i.width,h=(i.height-e)/i.height):"B"===r?(o=i.x,l=i.y+i.height,a=(i.width+t)/i.width,h=(i.height-e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2-e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a):"bottom-left"===s?"A"===r?(o=i.x+i.width,l=i.y,a=(i.width-t)/i.width,h=(i.height+e)/i.height):"B"===r?(o=i.x+i.width,l=i.y,a=(i.width-t)/i.width,h=(i.height+e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2-t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a):"bottom-right"===s&&("A"===r?(o=i.x,l=i.y,a=(i.width+t)/i.width,h=(i.height+e)/i.height):"B"===r?(o=i.x,l=i.y,a=(i.width+t)/i.width,h=(i.height+e)/i.height,a=h=tp(a,h)):"C"===r?(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2)):"D"===r&&(o=i.x+i.width/2,l=i.y+i.height/2,a=(i.width-i.width/2+t)/(i.width-i.width/2),h=(i.height-i.height/2+e)/(i.height-i.height/2),a>=0&&h>=0?a=h=tp(a,h):a<=0&&h<=0?a=h=ep(a,h):Qc(a)>=Qc(h)?a=-h:h=-a)),{centerX:o,centerY:l,scaleX:a,scaleY:h};}};var pp={id:"text-hud",get inputMode(){return this.hasAttribute("inputmode");},createdCallback:function createdCallback(){var _this354=this;this.wd=Ki(this.vd,200,this),this.yd=Qi(this.yd,300,this,!0),this.kd=null,this.tabIndex=-1,this.innerHTML='\n  <style>\n    /**\n     * Overlays\n     */\n\n    #text-hud [uid="caret-line"] {\n      stroke-width: 3;\n      vector-effect: non-scaling-stroke;\n      pointer-events: none;\n      stroke: gray;\n    }\n    #text-hud[inputmode] [uid="caret-line"] {\n      stroke: blue;\n    }\n\n    #text-hud [uid="selection-rects"] rect {\n      fill: rgba(179, 179, 179, 0.3);\n      pointer-events: none;\n    }\n    #text-hud[inputmode] [uid="selection-rects"] rect {\n      fill: var(--selection-background-color);\n    }\n\n    /**\n     * HTML input\n     */\n\n    #text-hud [uid="html-input-object"] {\n      width: 1px;\n      height: 1px;\n      opacity: 0;\n      background: white;\n      pointer-events: none;\n    }\n    #text-hud[debug] [uid="html-input-object"] {\n      width: 150px;\n      height: 50px;\n      opacity: 1;\n      pointer-events: all;\n    }\n\n    #text-hud [uid="html-input-object"] * {\n      /* Needed for correct positioning of IME dialog */\n      font-size: 0.01px !important;\n    }\n    #text-hud[debug] [uid="html-input-object"] * {\n      font-size: 10px !important;\n    }\n\n    #text-hud [uid="html-input"] {\n      width: 100%;\n      height: 100%;\n      padding: 0;\n      margin: 0;\n      white-space: pre;\n    }\n    #text-hud[inputmode] [uid="html-input"] {\n      /* Make text editable and selectable */\n      -webkit-user-modify: read-write-plaintext-only;\n      -webkit-user-select: text;\n    }\n\n    #text-hud [uid="html-input"] *:not(span):not(a) {\n      display: none;\n    }\n  </style>\n\n  <g uid="overlays">\n    <line uid="caret-line"></line>\n    <g uid="selection-rects"></g>\n  </g>\n\n  <foreignObject uid="html-input-object" width="200" height="16">\n    <p uid="html-input" tabindex="0"></p>\n  </foreignObject>\n',this.commands={selectAll:{enabled:function enabled(){return null!==_this354.Pn.selectedTextRange;},exec:function exec(){return _this354.Sd(Ii(_this354.Pn.selectedTextRange.startContainer,"text"));}},deselectAll:{enabled:function enabled(){return null!==_this354.Pn.selectedTextRange;},exec:function exec(){var t=_this354.Pn.selectedTextRange.cloneRange();t.collapse(!0),_this354.Pn.selectedTextRange=t;}}};var _iterator553=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step553;try{for(_iterator553.s();!(_step553=_iterator553.n()).done;){var _t909=_step553.value;this["#"+_t909.getAttribute("uid")]=_t909;}}catch(err){_iterator553.e(err);}finally{_iterator553.f();}var t=!1;this.addEventListener("focus",function(){return _this354["#html-input"].focus();}),this["#html-input"].addEventListener("focus",function(t){_this354.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),_this354["#html-input"].setAttribute("contenteditable","plaintext-only"),_this354.setAttribute("inputmode",""),_this354._d();}),this["#html-input"].addEventListener("blur",function(){_this354.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),_this354["#html-input"].removeAttribute("contenteditable"),_this354.removeAttribute("inputmode");}),this["#html-input"].addEventListener("input",function(t){_this354.Cd(t);}),this["#html-input"].addEventListener("keydown",/*#__PURE__*/function(){var _ref96=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee88(e){return regeneratorRuntime.wrap(function _callee88$(_context89){while(1){switch(_context89.prev=_context89.next){case 0:_context89.t0=t;if(_context89.t0){_context89.next=5;break;}t=!0;_context89.next=5;return ts(1);case 5:_this354.Md(e);case 6:case"end":return _context89.stop();}}},_callee88);}));return function(_x108){return _ref96.apply(this,arguments);};}()),this["#html-input"].addEventListener("keyup",function(e){t=!1,_this354.Md(e);});},enabledCallback:function enabledCallback(){var _this355=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board"),this.Pn.workspaces.addEventListener("pointerdown",this.yn=function(t){_this355.kn(t);}),this.Pn.addEventListener("selectedtextrangechange",this.Ha=function(){_this355.Ya();}),1===this.Pn.selectedElements.length&&"text"===this.Pn.selectedElements[0].localName&&this.Sd(this.Pn.selectedElements[0]);},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this.Pn.workspaces.removeEventListener("pointerdown",this.yn),this.Pn.removeEventListener("selectedtextrangechange",this.Ha);},el:function el(){var _this356=this;this.style.display=null,this.Wo=!0,this["#html-input-object"].append(this["#html-input"]),this["#html-input"].focus(),this.Pd(),this._d(),this.vd(),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this356.Jo();}),this.Pn.addEventListener("workspacemutation",this.rn=function(){_this356.wd();}),this.Pn.undoManager.addEventListener("undo",this._a=function(){_this356.Xa();}),this.Pn.undoManager.addEventListener("redo",this.Ca=function(){_this356.Xa();});},tl:function tl(){this["#html-input"].remove(),this.style.display="none",this.Wo=!1,this.Js.focus(),this.Pn.selectedTextRange=null,this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.undoManager.removeEventListener("undo",this._a),this.Pn.undoManager.removeEventListener("redo",this.Ca);},Jo:function Jo(){var t=this.Pn;if(t.selectedTextRange){var _e693=t.selectedTextRange.startContainer.closest("text");t.selectedElements.find(function(t){return t===_e693||t.contains(_e693);})||(t.selectedTextRange=null);}this.Pd(),this._d(),this.vd();},Ya:function Ya(){this.Wo&&!this.Pn.selectedTextRange?this.tl():!this.Wo&&this.Pn.selectedTextRange&&this.el(),this.Wo&&(this.vd(),this._d());},Xa:function Xa(){if(this.Pn.selectedTextRange){var _t910=this.Pn.selectedTextRange.startContainer.closest("text");_t910?this.Sd(_t910):this.Pn.selectedTextRange=null;}},kn:function kn(t){t.target.closest("text")&&this.Dd(t);},Dd:function Dd(t){var _this357=this;if(0!==t.button)return;t.preventDefault();var e=t.target.closest("text");if(1===this.Qs.pointerClickCount){var _i659,_s385,_n281=gi(e),_o225=Ht(e).inverse(),_l207=new DOMPoint(t.clientX,t.clientY),_a159=_l207.matrixTransform(_o225),_h131=e.getCharNumAtPosition(Ae(_a159)),_r83=_h131,_d66=null;ze(_a159,e.getStartPositionOfChar(_h131))>ze(_a159,e.getEndPositionOfChar(_h131))&&(_r83+=1);var _Ci=Ci(e,_r83),_Ci2=_slicedToArray(_Ci,2),_c54=_Ci2[0],_p45=_Ci2[1];if(this.Pn.selectedElements=[e],this.Qs.modKeys.shift){var _t911=this.Pn.selectedTextRange;if(null===_t911||!1===e.contains(_t911.startContainer)){var _t912=new Range();_t912.setStart(_c54,_p45),_t912.setEnd(_c54,_p45),this.Pn.selectedTextRange=_t912;}this.zd(_r83);}else{var _t913=new Range();_t913.setStart(_c54,_p45),_t913.setEnd(_c54,_p45),this.Pn.selectedTextRange=_t913;}this["#html-input"].focus(),window.addEventListener("pointermove",_i659=function _i659(t){var i=new DOMPoint(t.clientX,t.clientY);if(ze(_l207,i)<3)return;var s=t.clientX,a=t.clientY,h=new DOMPoint(s,a).matrixTransform(_o225),r=e.getCharNumAtPosition(Ae(h));if(-1===r){var _t914=e.getNumberOfChars(),_i660=0,_s384=Infinity;if(null===_d66){_d66=[];for(var _i661=0;_i661<_t914;_i661+=1){var _t915=Oe(e.getStartPositionOfChar(_i661),e.getEndPositionOfChar(_i661));_d66.push(_t915);}}for(var _e694=0;_e694<_t914;_e694+=1){var _t916=_d66[_e694],_n282=ze(h,_t916);_n282<_s384&&(_i660=_e694,_s384=_n282);}r=_i660;}var u=r;ze(h,e.getStartPositionOfChar(r))>ze(h,e.getEndPositionOfChar(r))&&(u+=1);var _Ci3=Ci(e,u),_Ci4=_slicedToArray(_Ci3,2),x=_Ci4[0],b=_Ci4[1],m="forward";if(_c54===x)b<_p45&&(m="backward");else{_c54.compareDocumentPosition(x)===Node.DOCUMENT_POSITION_PRECEDING&&(m="backward");}var g=new Range();if(g.direction=m,"forward"===m?(g.setStart(_c54,_p45),g.setEnd(x,b)):(g.setStart(x,b),g.setEnd(_c54,_p45)),!1===_this357.Pn.selectedTextRange.collapsed&&g.startOffset===g.startContainer.textContent.length){var _t917=_n281[_n281.indexOf(g.startContainer)+1];_t917&&g.setStart(_t917,0);}_this357.Pn.selectedTextRange=g;}),window.addEventListener("pointerup",_s385=function _s383(){window.removeEventListener("pointermove",_i659),window.removeEventListener("pointerup",_s385);});}else if(2===this.Qs.pointerClickCount){var _i662=t.clientX,_s386=t.clientY,_n283=Ht(e).inverse(),_o226=new DOMPoint(_i662,_s386).matrixTransform(_n283),_l208=e.getCharNumAtPosition(Ae(_o226));this.Od(e,_l208);}else if(3===this.Qs.pointerClickCount){var _i663=t.clientX,_s387=t.clientY,_n284=Ht(e).inverse(),_o227=new DOMPoint(_i663,_s387).matrixTransform(_n284),_l209=e.getCharNumAtPosition(Ae(_o227));this.Ed(e,_l209);}else this.Qs.pointerClickCount>=4&&this.Sd(e);},Md:function Md(t){"Home"===t.key||"End"===t.key||t.key.startsWith("Arrow")?this.Td():t.key;},Cd:function Cd(t){var _this358=this;return _asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee89(){return regeneratorRuntime.wrap(function _callee89$(_context90){while(1){switch(_context90.prev=_context90.next){case 0:"historyUndo"!==t.inputType&&(0===_this358["#html-input"].innerText.length&&(_this358["#html-input"].innerHTML=" ",document.execCommand("selectAll")),_this358.yd()),_this358.Ad(),_this358.Td();case 1:case"end":return _context90.stop();}}},_callee89);}))();},yd:function yd(t){this.Pn.undoManager.checkpoint("Edit text");},Sd:function Sd(t){var e=gi(t);if(e.length>0){var _i664=e[0],_s388=e[e.length-1],_n285=new Range();_n285.setStart(_i664,0),_n285.setEnd(_s388,_s388.textContent.length),this.Pn.selectedElements=[t],this.Pn.selectedTextRange=_n285,this.vd(),this._d();}},$d:function $d(){this.Pn.selectedTextRange=null;},Od:function Od(t,e){var i=fi(t),s=i[e],n=t.getNumberOfChars(),o=e,l=e,a=function a(t){return yh(t)||t===pi;};for(var _t918=e-1;_t918>=0&&!(a(s)&&!a(i[_t918])||!a(s)&&a(i[_t918]));_t918-=1){o-=1;}for(var _t919=e;_t919<n&&!(a(s)&&!a(i[_t919])||!a(s)&&a(i[_t919]));_t919+=1){l+=1;}var _Ci5=Ci(t,o),_Ci6=_slicedToArray(_Ci5,2),h=_Ci6[0],r=_Ci6[1],_Ci7=Ci(t,l),_Ci8=_slicedToArray(_Ci7,2),d=_Ci8[0],c=_Ci8[1];if(r===h.textContent.length){var _e695=gi(t),_i665=_e695[_e695.indexOf(h)+1];_i665&&(h=_i665,r=0);}var p=new Range();p.setStart(h,r),p.setEnd(d,c),this.Pn.selectedTextRange=p;},Ed:function Ed(t,e){var i=fi(t),s=t.getNumberOfChars(),n=e,o=e;for(var _t920=e-1;_t920>=0&&i[_t920]!==pi;_t920-=1){n-=1;}for(var _t921=e;_t921<s&&i[_t921]!==pi;_t921+=1){o+=1;}var _Ci9=Ci(t,n),_Ci10=_slicedToArray(_Ci9,2),l=_Ci10[0],a=_Ci10[1],_Ci11=Ci(t,o),_Ci12=_slicedToArray(_Ci11,2),h=_Ci12[0],r=_Ci12[1];if(a===l.textContent.length){var _e696=gi(t),_i666=_e696[_e696.indexOf(l)+1];_i666&&(l=_i666,a=0);}var d=new Range();d.setStart(l,a),d.setEnd(h,r),this.Pn.selectedTextRange=d;},zd:function zd(t){var e=this.Pn.selectedTextRange,i=e.startContainer.closest("text"),_i667=_i(e.startContainer,e.startOffset),_i668=_slicedToArray(_i667,2),s=_i668[1],_i669=_i(e.endContainer,e.endOffset),_i670=_slicedToArray(_i669,2),n=_i670[1];if(t<s)s=t;else if(t>n)n=t;else{if(!(t>s&&t<n))return;t-s>n-t?n=t:s=t;}var _Ci13=Ci(i,s),_Ci14=_slicedToArray(_Ci13,2),o=_Ci14[0],l=_Ci14[1],_Ci15=Ci(i,n),_Ci16=_slicedToArray(_Ci15,2),a=_Ci16[0],h=_Ci16[1];if(l===o.textContent.length){var _t922=gi(i),_e697=_t922[_t922.indexOf(o)+1];_e697&&(o=_e697,l=0);}var r=new Range();r.setStart(o,l),r.setEnd(a,h),r.direction="backward",this.Pn.selectedTextRange=r;},vd:function vd(){var t=this.Pn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=t?e.getNumberOfChars():0,_ref97=t?_i(t.startContainer,t.startOffset):[,-1],_ref98=_slicedToArray(_ref97,2),s=_ref98[1],_ref99=t?_i(t.endContainer,t.endOffset):[,-1],_ref100=_slicedToArray(_ref99,2),n=_ref100[1];if(1===i&&t&&" "===t.toString()){var _t923=0,_i671=e.getExtentOfChar(_t923),_s389=e.getStartPositionOfChar(_t923),_n286=e.getSubStringLength(_t923,1),_o228=_i671.height,_l210=e.getRotationOfChar(_t923),_a160=new DOMPoint(_s389.x+_n286/2,_s389.y),_h132=new DOMMatrix();_h132.multiplySelf(jt(e,this)),_h132.translateSelf(_a160.x,_a160.y),_h132.rotateSelf(_l210),_h132.translateSelf(-_a160.x,-_a160.y),this["#caret-line"].setAttribute("x1",_s389.x),this["#caret-line"].setAttribute("y1",_i671.y),this["#caret-line"].setAttribute("x2",_s389.x),this["#caret-line"].setAttribute("y2",_i671.y+_o228),this["#caret-line"].setAttribute("transform",_h132.toString()),this["#caret-line"].style.setProperty("visibility","visible");}else if(t&&!0===t.collapsed){var _o229="backward"===t.direction?s:n;if(0===_o229){var _t924=e.getExtentOfChar(_o229),_i672=e.getStartPositionOfChar(_o229),_s390=e.getSubStringLength(_o229,1),_n287=_t924.height,_l211=e.getRotationOfChar(_o229),_a161=new DOMPoint(_i672.x+_s390/2,_i672.y),_h133=new DOMMatrix();_h133.multiplySelf(jt(e,this)),_h133.translateSelf(_a161.x,_a161.y),_h133.rotateSelf(_l211),_h133.translateSelf(-_a161.x,-_a161.y),this["#caret-line"].setAttribute("x1",_i672.x),this["#caret-line"].setAttribute("y1",_t924.y),this["#caret-line"].setAttribute("x2",_i672.x),this["#caret-line"].setAttribute("y2",_t924.y+_n287),this["#caret-line"].setAttribute("transform",_h133.toString()),this["#caret-line"].style.visibility="visible";}else if(_o229>0&&_o229<=i){var _t925=e.getExtentOfChar(_o229-1),_i673=e.getEndPositionOfChar(_o229-1),_s391=e.getSubStringLength(_o229-1,1),_n288=_t925.height,_l212=e.getRotationOfChar(_o229-1),_a162=new DOMPoint(_i673.x+_s391/2,_i673.y),_h134=new DOMMatrix();_h134.multiplySelf(jt(e,this)),_h134.translateSelf(_a162.x,_a162.y),_h134.rotateSelf(_l212),_h134.translateSelf(-_a162.x,-_a162.y),this["#caret-line"].setAttribute("x1",_i673.x),this["#caret-line"].setAttribute("y1",_t925.y),this["#caret-line"].setAttribute("x2",_i673.x),this["#caret-line"].setAttribute("y2",_t925.y+_n288),this["#caret-line"].setAttribute("transform",_h134.toString()),this["#caret-line"].style.visibility="visible";}else _o229>i&&(this["#caret-line"].style.visibility="hidden");}else this["#caret-line"].style.visibility="hidden";if(this["#selection-rects"].innerHTML="",t&&!1===t.collapsed){var _e698=t.startContainer.closest("text"),_i674=_e698.getNumberOfChars();for(var _t926=s;_t926<n&&_t926<_i674;_t926+=1){var _i675=_e698.getExtentOfChar(_t926),_s392=_e698.getStartPositionOfChar(_t926),_n289=(_e698.getEndPositionOfChar(_t926),_e698.getSubStringLength(_t926,1)),_o230=_i675.height,_l213=_e698.getRotationOfChar(_t926),_a163=new DOMPoint(_s392.x+_n289/2,_s392.y),_h135=new DOMMatrix();_h135.multiplySelf(jt(_e698,this)),_h135.translateSelf(_a163.x,_a163.y),_h135.rotateSelf(_l213),_h135.translateSelf(-_a163.x,-_a163.y);var _r84=Ei("svg:rect");_r84.setAttribute("x",_s392.x),_r84.setAttribute("y",_i675.y),_r84.setAttribute("width",_n289),_r84.setAttribute("height",_o230),_r84.setAttribute("transform",_h135.toString()),this["#selection-rects"].append(_r84);}}if("visible"===this["#caret-line"].style.visibility)this["#html-input-object"].setAttribute("x",this["#caret-line"].x2.baseVal.value),this["#html-input-object"].setAttribute("y",this["#caret-line"].y2.baseVal.value),this["#caret-line"].hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",this["#caret-line"].getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");else if(this["#selection-rects"].children.length>0){var _t927=this["#selection-rects"].children[0];this["#html-input-object"].setAttribute("x",_t927.x.baseVal.value),this["#html-input-object"].setAttribute("y",_t927.y.baseVal.value+_t927.height.baseVal.value),_t927.hasAttribute("transform")?this["#html-input-object"].setAttribute("transform",_t927.getAttribute("transform")):this["#html-input-object"].removeAttribute("transform");}},Td:function Td(){var t=fh(this).getSelection(),e=t.rangeCount>0?t.getRangeAt(0):null;if(e){var _t928=this.Id(e.startContainer,e.startOffset)[1],_i676=this.Id(e.endContainer,e.endOffset)[1],_s393=0,_n290=new Range(),_o231=null,_l214=this.kd;var _iterator554=_createForOfIteratorHelper(gi(_l214)),_step554;try{for(_iterator554.s();!(_step554=_iterator554.n()).done;){var _e699=_step554.value;for(var _l215=0;_l215<=_e699.textContent.length;_l215+=1,_s393+=1){_s393===_t928&&_n290.setStart(_e699,_l215),_s393===_i676&&(0===_l215&&_o231?_n290.setEnd(_o231,_o231.textContent.length):_n290.setEnd(_e699,_l215));}_s393-=1,_o231=_e699;}}catch(err){_iterator554.e(err);}finally{_iterator554.f();}this.Pn.selectedTextRange=_n290;}},_d:function _d(){var t=this.Pn.selectedTextRange;if(t){var _e700=_i(t.startContainer,t.startOffset)[1],_i677=_i(t.endContainer,t.endOffset)[1],_s394=0,_n291=new Range(),_o232=null;var _iterator555=_createForOfIteratorHelper(this.Ld(this["#html-input"])),_step555;try{for(_iterator555.s();!(_step555=_iterator555.n()).done;){var _t929=_step555.value;for(var _l217=0;_l217<=_t929.textContent.length;_l217+=1,_s394+=1){_s394===_e700&&_n291.setStart(_t929,_l217),_s394===_i677&&(0===_l217&&_o232?_n291.setEnd(_o232,_o232.textContent.length):_n291.setEnd(_t929,_l217));}_s394-=1,_o232=_t929;}}catch(err){_iterator555.e(err);}finally{_iterator555.f();}var _l216=window.getSelection();_l216.removeAllRanges(),_l216.addRange(_n291);}},Ad:function Ad(){var t=this.kd,e=t?t.querySelector("textPath")||t:null;if(e){var _i678=Ei("svg:g");_i678.innerHTML=this["#html-input"].innerHTML;var _s395=document.createNodeIterator(_i678,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT),_n292=null,_o233=wi(t),_l218=Si(t);for(;_n292=_s395.nextNode();){if(_n292.nodeType===Element.TEXT_NODE){if(_n292.textContent.includes("\n")){var _t930=document.createDocumentFragment();var _iterator556=_createForOfIteratorHelper(_n292.textContent),_step556;try{for(_iterator556.s();!(_step556=_iterator556.n()).done;){var _e701=_step556.value;if("\n"===_e701){var _e702=Zi(_templateObject9(),_o233.x,_l218+1,pi);_t930.append(_e702);}else _t930.append(new Text(_e701));}}catch(err){_iterator556.e(err);}finally{_iterator556.f();}_n292.replaceWith(_t930);}}else if(_n292.nodeType===Element.ELEMENT_NODE)if("span"===_n292.localName){var _t931=Ei("svg:tspan");for(var _i679=0,_arr24=_toConsumableArray(_n292.attributes);_i679<_arr24.length;_i679++){var _arr24$_i=_arr24[_i679],_e703=_arr24$_i.name,_i680=_arr24$_i.value;_t931.setAttribute(_e703,_i680);}for(var _i681=0,_arr25=_toConsumableArray(_n292.childNodes);_i681<_arr25.length;_i681++){var _e704=_arr25[_i681];_t931.append(_e704);}_n292.replaceWith(_t931);}else("br"===_n292.localName||"div"===_n292.localName)&&_n292.remove();}e.innerHTML=_i678.innerHTML;var _a164=wi(t);_a164.x!==_o233.x&&t.setAttribute("x",_o233.x),_a164.y!==_o233.y&&t.setAttribute("y",_o233.y);}},Pd:function Pd(){var t=this.Pn.selectedTextRange,e=t?t.startContainer.closest("text"):null,i=e?e.querySelector("textPath")||e:null;if(i){var _t932=document.createElement("div");_t932.innerHTML=i.innerHTML;var _iterator557=_createForOfIteratorHelper(_t932.querySelectorAll("tspan")),_step557;try{for(_iterator557.s();!(_step557=_iterator557.n()).done;){var _e705=_step557.value;if(yi(_e705))_e705.replaceWith(new Text("\n"));else{var _t933=document.createElement("span");for(var _i682=0,_arr26=_toConsumableArray(_e705.attributes);_i682<_arr26.length;_i682++){var _arr26$_i=_arr26[_i682],_i683=_arr26$_i.name,_s396=_arr26$_i.value;_t933.setAttribute(_i683,_s396);}for(var _i684=0,_arr27=_toConsumableArray(_e705.childNodes);_i684<_arr27.length;_i684++){var _i685=_arr27[_i684];_t933.append(_i685);}_e705.replaceWith(_t933);}}}catch(err){_iterator557.e(err);}finally{_iterator557.f();}this["#html-input"].innerHTML=_t932.innerHTML,this.kd=e;}},Ld:function Ld(t){var e=[],i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT);for(;i.nextNode();){i.currentNode.closest("bx-title, desc")||e.push(i.currentNode);}return e;},Id:function Id(t,e){var i=this["#html-input"],s=0,n=-1;var _iterator558=_createForOfIteratorHelper(this.Ld(i)),_step558;try{for(_iterator558.s();!(_step558=_iterator558.n()).done;){var _o234=_step558.value;if(_o234===t){n=s+e;break;}s+=_o234.length;}}catch(err){_iterator558.e(err);}finally{_iterator558.f();}return[i,n];}};var up=Math.abs,xp=4.5,bp=Symbol(),mp=Symbol();var gp={id:"char-hud",get selectedChar(){return this.Bd;},createdCallback:function createdCallback(){var _this359=this;this.Wo=!1,this.Rd=[],this.Bd=null,this.aa=Ki(this.sa,40,this),this.fa=Ki(this.oa,40,this),this.innerHTML='\n  <style>\n    #char-hud [uid="grippies"] {\n      cursor: default;\n      outline: none;\n    }\n\n    #char-hud .node-grippie .outer-circle {\n      fill: white;\n      stroke: #4d2782;\n      stroke-width: 2;\n      vector-effect: non-scaling-stroke;\n    }\n    #char-hud .node-grippie[data-selected] .outer-circle {\n      fill: #dabfff;\n    }\n\n    #char-hud .node-grippie .inner-circle {\n      display: none;\n      fill: #4d2782;\n    }\n    #char-hud .node-grippie[data-adjusted] .inner-circle {\n      display: block;\n    }\n  </style>\n\n  <g uid="grippies" tabindex="-1">\n    <g uid="node-grippies"></g>\n  </g>\n';var _iterator559=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step559;try{for(_iterator559.s();!(_step559=_iterator559.n()).done;){var _t934=_step559.value;this["#"+_t934.getAttribute("uid")]=_t934;}}catch(err){_iterator559.e(err);}finally{_iterator559.f();}this.addEventListener("pointerdown",function(t){_this359.wo(t);}),this.addEventListener("dblclick",function(t){_this359.Sa(t);});},enabledCallback:function enabledCallback(){var _this360=this;this.Qs=Ii(this,"#app"),this.Pn=Ii(this,"bx-board"),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this360.Jo();}),this.Jo();},disabledCallback:function disabledCallback(){this.Wo&&this.tl(),this.Pn.removeEventListener("selectedelementschange",this.Qo);},el:function el(){var _this361=this;this.Wo=!0,this.Pn.addEventListener("workspacemutation",this.rn=function(){_this361.sl();}),this.Pn.addEventListener("zoomchange",this.hn=function(){_this361.il();});},tl:function tl(){this.Wo=!1,this.Rd=[],this.Bd&&(this.Bd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),this["#node-grippies"].innerHTML="",this.Pn.removeEventListener("workspacemutation",this.rn),this.Pn.removeEventListener("zoomchange",this.hn);},Jo:function Jo(){this.Rd=this.Gd(),this.Bd&&(this.Bd=null,this.dispatchEvent(new CustomEvent("selectedcharchange"))),0===this.Rd.length?this.Wo&&this.tl():(this.Wo||this.el(),this.aa());},sl:function sl(){this.aa();},il:function il(){this.fa();},wo:function wo(t){t.preventDefault(),this["#grippies"].focus(),t.target.closest(".node-grippie")&&this.Da(t);},Sa:function Sa(t){t.target.closest(".node-grippie")&&this.Ta(t);},Da:function Da(t){var _this362=this;if(0!==t.button)return;var _e706,_i686,s=t.target.closest(".node-grippie"),n=new DOMPoint(t.clientX,t.clientY),o=n,l=this["#node-grippies"].querySelector("[data-selected]");l&&l.removeAttribute("data-selected"),s.setAttribute("data-selected",""),this.Bd={textElement:s[bp],charIndex:s[mp]},this.dispatchEvent(new CustomEvent("selectedcharchange")),window.addEventListener("pointermove",_e706=function e(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp,r=ze(n,a)>3||h>80,d=!1===Me(o,a,0);if(o=a,!0===r&&!0===d){window.removeEventListener("pointermove",_e706),window.removeEventListener("pointerup",_i686);var _n293=new Z(l.clientX-t.clientX,l.clientY-t.clientY),_o235=up(_n293.x)>up(_n293.y)?"horizontal":"vertical",_a165=new DOMPoint(l.clientX,l.clientY);_this362.Ea(t,s,_a165,_o235);}}),window.addEventListener("pointerup",_i686=function i(t){window.removeEventListener("pointermove",_e706),window.removeEventListener("pointerup",_i686);});},Ea:function Ea(t,e,i,s){var _this363=this;var n,_o236,l=this.Pn,a=e[bp],h=e[mp],r=e.querySelector("circle"),d=new DOMPoint(r.cx.baseVal.value,r.cy.baseVal.value).matrixTransform(Ht(this)),c=Ht(a).inverse(),p=null,u=null,x=null,b=[],m=[];l.undoManager.checkpoint("Adjust text character position"),l.snapManager.snapStart(!0),e.setPointerCapture(t.pointerId),ui(a);{var _t935=0;var _iterator560=_createForOfIteratorHelper(gi(a)),_step560;try{for(_iterator560.s();!(_step560=_iterator560.n()).done;){var _e707=_step560.value;var _i687=0;var _iterator561=_createForOfIteratorHelper(_e707.textContent),_step561;try{for(_iterator561.s();!(_step561=_iterator561.n()).done;){var _s397=_step561.value;if(_t935===h){p=_e707.parentNode,u=_e707,x=_i687;break;}_t935+=1,_i687+=1;}}catch(err){_iterator561.e(err);}finally{_iterator561.f();}if(p)break;}}catch(err){_iterator560.e(err);}finally{_iterator560.f();}}for(var _t936=0;_t936<u.textContent.length;_t936+=1){b[_t936]=void 0!==p.dx.baseVal[_t936]?p.dx.baseVal[_t936].value:0,m[_t936]=void 0!==p.dy.baseVal[_t936]?p.dy.baseVal[_t936].value:0;}var g=[].concat(b),f=[].concat(m);window.addEventListener("pointermove",n=function n(t){var e=new DOMPoint(t.clientX,t.clientY);_this363.Qs.modKeys.shift&&("horizontal"===s?e.y=i.y:"vertical"===s&&(e.x=i.x));var n=l.snapManager.snapPoint(new DOMPoint(d.x+e.x-i.x,d.y+e.y-i.y)),o=new Z(d,n).matrixTransform(c);b[x]=K(g[x]+o.x,l.geometryPrecision),m[x]=K(f[x]+o.y,l.geometryPrecision),p.setAttribute("dx",b.join(" ")),p.setAttribute("dy",m.join(" "));}),window.addEventListener("pointerup",_o236=function o(t){window.removeEventListener("pointermove",n),window.removeEventListener("pointerup",_o236),l.snapManager.snapEnd(),xi(a);});},Ta:function Ta(t){var e=t.target.closest(".node-grippie"),i=this.Pn,s=e[bp],n=e[mp],o=null,l=null,a=null,h=[],r=[],d=[];if(!1!==e.hasAttribute("data-adjusted")){i.undoManager.checkpoint("Reset text character position"),ui(s);{var _t937=0;var _iterator562=_createForOfIteratorHelper(gi(s)),_step562;try{for(_iterator562.s();!(_step562=_iterator562.n()).done;){var _e708=_step562.value;var _i688=0;var _iterator563=_createForOfIteratorHelper(_e708.textContent),_step563;try{for(_iterator563.s();!(_step563=_iterator563.n()).done;){var _s398=_step563.value;if(_t937===n){o=_e708.parentNode,l=_e708,a=_i688;break;}_t937+=1,_i688+=1;}}catch(err){_iterator563.e(err);}finally{_iterator563.f();}if(o)break;}}catch(err){_iterator562.e(err);}finally{_iterator562.f();}}for(var _t938=0;_t938<l.textContent.length;_t938+=1){h[_t938]=void 0!==o.dx.baseVal[_t938]?o.dx.baseVal[_t938].value:0,r[_t938]=void 0!==o.dy.baseVal[_t938]?o.dy.baseVal[_t938].value:0,d[_t938]=void 0!==o.rotate.baseVal[_t938]?o.rotate.baseVal[_t938].value:0;}h[a]=0,r[a]=0,d[a]=0,o.setAttribute("dx",h.join(" ")),o.setAttribute("dy",r.join(" ")),o.setAttribute("rotate",d.join(" ")),xi(s);}},sa:function sa(){var t=document.createDocumentFragment();var _iterator564=_createForOfIteratorHelper(this.Rd),_step564;try{for(_iterator564.s();!(_step564=_iterator564.n()).done;){var _e709=_step564.value;var _i689=_e709.getNumberOfChars(),_s399=jt(_e709,this),_n294=gi(_e709).map(function(t){return t.textContent;}).join(""),_o237=Mi(_e709);for(var _l219=0;_l219<_i689;_l219+=1){if(_n294[_l219]!==pi){var _i690=_e709.getStartPositionOfChar(_l219),_n295=_e709.getEndPositionOfChar(_l219),_a166=Oe(_i690,_n295).matrixTransform(_s399),_h136=xp/this.Pn.scale,_r85=xp/2.5/this.Pn.scale,_d67=Ei("svg:g");_d67.setAttribute("class","node-grippie"),_d67.innerHTML="\n            <circle class=\"outer-circle\" cx=\"".concat(_a166.x,"\" cy=\"").concat(_a166.y,"\" r=\"").concat(_h136,"\"></circle>\n            <circle class=\"inner-circle\" cx=\"").concat(_a166.x,"\" cy=\"").concat(_a166.y,"\" r=\"").concat(_r85,"\"></circle>\n          "),_d67[bp]=_e709,_d67[mp]=_l219,0===_o237.dx[_l219]&&0===_o237.dy[_l219]&&0===_o237.rotate[_l219]||_d67.setAttribute("data-adjusted",""),this.Bd&&this.Bd.textElement===_e709&&this.Bd.charIndex===_l219&&_d67.setAttribute("data-selected",""),t.append(_d67);}}}}catch(err){_iterator564.e(err);}finally{_iterator564.f();}this["#node-grippies"].innerHTML="",this["#node-grippies"].append(t),this.oa();},oa:function oa(){var t=xp/this.Pn.scale,e=xp/2.5/this.Pn.scale;var _iterator565=_createForOfIteratorHelper(this["#node-grippies"].children),_step565;try{for(_iterator565.s();!(_step565=_iterator565.n()).done;){var _i691=_step565.value;_i691.children[0].setAttribute("r",t),_i691.children[1].setAttribute("r",e);}}catch(err){_iterator565.e(err);}finally{_iterator565.f();}},Gd:function Gd(){var t=[],e=function e(i){var _iterator566=_createForOfIteratorHelper(i),_step566;try{for(_iterator566.s();!(_step566=_iterator566.n()).done;){var _s400=_step566.value;"text"===_s400.localName?t.push(_s400):"g"!==_s400.localName&&"a"!==_s400.localName||e(_s400.children);}}catch(err){_iterator566.e(err);}finally{_iterator566.f();}};return e(this.Pn.selectedElements),t=t.filter(function(t){return null===t.querySelector("textPath");}),t;}};var fp={id:"blob-hud",createdCallback:function createdCallback(){this.innerHTML='\n  <style>\n    #blob-hud [uid="ellipse"] {\n      fill: rgba(0, 0, 0, 0.2);\n      stroke: rgba(255, 255, 255, 0.75);\n      transform: rotate(0deg);\n      transform-origin: 50% 50%;\n      pointer-events: none;\n      vector-effect: non-scaling-stroke;\n    }\n\n    #blob-hud [uid="ellipse"][data-mode="erase"] {\n      fill: rgba(255, 255, 255, 0.5);\n      stroke: rgba(0, 0, 0, 0.3);\n    }\n  </style>\n\n  <ellipse uid="ellipse"></ellipse>\n';var _iterator567=_createForOfIteratorHelper(this.querySelectorAll("[uid]")),_step567;try{for(_iterator567.s();!(_step567=_iterator567.n()).done;){var _t939=_step567.value;this["#"+_t939.getAttribute("uid")]=_t939;}}catch(err){_iterator567.e(err);}finally{_iterator567.f();}},enabledCallback:function enabledCallback(){var _this364=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=Ii(this,"bx-board"),this.Qs.addEventListener("configchange",this.ln=function(t){_this364.an(t);}),this.Qs.addEventListener("modkeyschange",this.Xh=function(){_this364.Fd();}),this.Js.board.addEventListener("zoomchange",this.hn=function(){_this364.il();}),this.Pn.workspaces.addEventListener("pointermove",this.Un=function(t){_this364.Ud(t);}),this.Pn.workspaces.addEventListener("pointerleave",this.Nd=function(t){_this364.Vd(t);}),this.qs();},disabledCallback:function disabledCallback(){this.Qs.removeEventListener("modkeyschange",this.Xh),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.addEventListener("zoomchange",this.hn),this.Pn.workspaces.removeEventListener("pointermove",this.Un),this.Pn.workspaces.removeEventListener("pointerleave",this.Nd);},an:function an(t){var _t$detail3=t.detail,e=_t$detail3.key,i=_t$detail3.value;"bx-blobsettings:mode"!==e&&"bx-blobsettings:size"!==e&&"bx-blobsettings:roundness"!==e&&"bx-blobsettings:angle"!==e||this.qs();},Fd:function Fd(){this.qs();},il:function il(){this.qs();},Ud:function Ud(t){var _iterator568=_createForOfIteratorHelper(t.getCoalescedEvents()),_step568;try{for(_iterator568.s();!(_step568=_iterator568.n()).done;){var _e710=_step568.value;var _t940=new DOMPoint(_e710.clientX,_e710.clientY);this.qs(_t940);}}catch(err){_iterator568.e(err);}finally{_iterator568.f();}},Vd:function Vd(){this["#ellipse"].cy.baseVal.value=999999999;},qs:function qs(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.Qs.pointerClientPoint;var e=this.Qs.getConfig("bx-blobsettings:mode","draw"),i=this.Qs.getConfig("bx-blobsettings:size",30),s=this.Qs.getConfig("bx-blobsettings:roundness",100),n=this.Qs.getConfig("bx-blobsettings:angle",0),o=this.Qs.getConfig("bx-blobsettings:dynamics",ah),l=Ht(this).inverse(),a=t.matrixTransform(l),h=this.Qs.pointerPressure;if(this.Qs.modKeys.ctrl&&(e="draw"===e?"erase":"draw"),i*this.Pn.scale<10&&(i=10/this.Pn.scale),s<25&&(s=25),o.size){var _t941=K(i-i*o.size.variance,0),_e711=K(i+i*o.size.variance,0);"pressure"===o.size.param&&h>0&&(i=_t941+h*(_e711-_t941));}this["#ellipse"].setAttribute("data-mode",e),this["#ellipse"].cx.baseVal.value=a.x,this["#ellipse"].cy.baseVal.value=a.y,this["#ellipse"].rx.baseVal.value=i/2,this["#ellipse"].ry.baseVal.value=s/100*(i/2),this["#ellipse"].style.transform="rotate(".concat(n,"deg)"),this["#ellipse"].style.transformOrigin="".concat(a.x,"px ").concat(a.y,"px");}};var wp=/*#__PURE__*/function(){function wp(){_classCallCheck(this,wp);}_createClass(wp,[{key:"addEventListener",value:function addEventListener(t,e){this.jd||(this.jd={});var i=this.jd[t];i||(this.jd[t]=i=[]),i.push(e),i.length>300&&console.warn("Potential EventEmitter memory leak: ".concat(i.length," listeners subscribed to event \"").concat(t,"\""));}},{key:"removeEventListener",value:function removeEventListener(t,e){if(this.jd&&this.jd[t]){for(var i=[],s=0;s<this.jd[t].length;s+=1){this.jd[t][s]!==e&&i.push(this.jd[t][s]);}this.jd[t]=i;}}},{key:"dispatchEvent",value:function dispatchEvent(t){if(!this.jd)return;var e=this.jd[t.type];if(!e)return;var i=null;for(var _s401=e.length-1;_s401>=0;_s401-=1){var _n296=void 0,_o238=e[_s401];try{_n296=_o238.call(window,t);}catch(t){null===i&&(i=t);}if(!1===_n296)break;}if(i)throw i;}}]);return wp;}();var vp={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};var yp=/*#__PURE__*/function(_wp){_inherits(yp,_wp);var _super62=_createSuper(yp);function yp(t){var _this365;_classCallCheck(this,yp);_this365=_super62.call(this),_this365.Hd=t,_this365.Yd=[],_this365.Lh=0,_this365.Wd=!1,_this365.qd=new MutationObserver(function(t){var _iterator569=_createForOfIteratorHelper(t),_step569;try{for(_iterator569.s();!(_step569=_iterator569.n()).done;){var _e712=_step569.value;_this365.Xd(_e712);}}catch(err){_iterator569.e(err);}finally{_iterator569.f();}}),_this365.Zd();return _this365;}_createClass(yp,[{key:"clear",value:function clear(){this.Yd=[],this.Lh=0,this.dispatchEvent(new CustomEvent("change",{detail:"clear"}));}},{key:"checkpoint",value:function checkpoint(t){this.qd.takeRecords(),this.Lh<this.Yd.length&&(this.Yd=this.Yd.slice(0,this.Lh));var e={label:t,transactions:[]};this.Yd.push(e),this.Lh+=1;}},{key:"undo",value:function undo(){if(this.canUndo()){this.Kd(),this.disabled=!0,this.Lh-=1;var _t942=this.Yd[this.Lh],_e713=_toConsumableArray(_t942.transactions).reverse(),_i692=_t942.label||"",_s402=new Set(),_n297=new Set(),_o239=new Set();var _iterator570=_createForOfIteratorHelper(_e713),_step570;try{for(_iterator570.s();!(_step570=_iterator570.n()).done;){var _t943=_step570.value;if("childList"===_t943.type){var _e714=document.createDocumentFragment();var _iterator571=_createForOfIteratorHelper(_t943.addedNodes),_step571;try{for(_iterator571.s();!(_step571=_iterator571.n()).done;){var _e715=_step571.value;_t943.target.removeChild(_e715),_n297.add(_e715),_s402["delete"](_e715);}}catch(err){_iterator571.e(err);}finally{_iterator571.f();}var _iterator572=_createForOfIteratorHelper(_t943.removedNodes),_step572;try{for(_iterator572.s();!(_step572=_iterator572.n()).done;){var _i693=_step572.value;_e714.append(_i693),_s402.add(_i693),_n297["delete"](_i693);}}catch(err){_iterator572.e(err);}finally{_iterator572.f();}_t943.nextSibling?_t943.target.insertBefore(_e714,_t943.nextSibling):_t943.previousSibling?_t943.target.insertBefore(_e714,_t943.previousSibling.nextSibling):_t943.target.append(_e714);}else"attributes"===_t943.type?(null===_t943.oldValue?_t943.target.removeAttribute(_t943.attributeName):_t943.target.setAttribute(_t943.attributeName,_t943.oldValue),_o239.add(_t943.target)):"characterData"===_t943.type&&(_t943.target.data=_t943.oldValue,_o239.add(_t943.target));}}catch(err){_iterator570.e(err);}finally{_iterator570.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("undo",{detail:{label:_i692,addedNodes:_s402,removedNodes:_n297,modifiedNodes:_o239}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i692,addedNodes:_s402,removedNodes:_n297,modifiedNodes:_o239}})),this.dispatchEvent(new CustomEvent("change",{detail:"decrement"}));}else console.info("Can't undo");}},{key:"redo",value:function redo(){if(this.canRedo()){var _t944=this.Yd[this.Lh],_e716=_t944.transactions;this.disabled=!0,this.Lh+=1;var _i694=_t944.label||"",_s403=new Set(),_n298=new Set(),_o240=new Set();var _iterator573=_createForOfIteratorHelper(_e716),_step573;try{for(_iterator573.s();!(_step573=_iterator573.n()).done;){var _t945=_step573.value;if("childList"===_t945.type){var _e717=document.createDocumentFragment();var _iterator574=_createForOfIteratorHelper(_t945.removedNodes),_step574;try{for(_iterator574.s();!(_step574=_iterator574.n()).done;){var _e718=_step574.value;_t945.target.removeChild(_e718),_n298.add(_e718),_s403["delete"](_e718);}}catch(err){_iterator574.e(err);}finally{_iterator574.f();}var _iterator575=_createForOfIteratorHelper(_t945.addedNodes),_step575;try{for(_iterator575.s();!(_step575=_iterator575.n()).done;){var _i695=_step575.value;_e717.append(_i695),_s403.add(_i695),_n298["delete"](_i695);}}catch(err){_iterator575.e(err);}finally{_iterator575.f();}_t945.nextSibling?_t945.target.insertBefore(_e717,_t945.nextSibling):_t945.previousSibling?_t945.target.insertBefore(_e717,_t945.previousSibling.nextSibling):_t945.target.append(_e717);}else"attributes"===_t945.type?(null===_t945.newValue?_t945.target.removeAttribute(_t945.attributeName):_t945.target.setAttribute(_t945.attributeName,_t945.newValue),_o240.add(_t945.target)):"characterData"===_t945.type&&(_t945.target.data=_t945.newValue,_o240.add(_t945.target));}}catch(err){_iterator573.e(err);}finally{_iterator573.f();}this.disabled=!1,this.dispatchEvent(new CustomEvent("redo",{detail:{label:_i694,addedNodes:_s403,removedNodes:_n298,modifiedNodes:_o240}})),this.dispatchEvent(new CustomEvent("undoorredo",{detail:{label:_i694,addedNodes:_s403,removedNodes:_n298,modifiedNodes:_o240}})),this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}else console.info("Can't redo");}},{key:"canUndo",value:function canUndo(){return 0!==this.Lh&&!this.disabled&&(1!==this.Lh||!this.Qd());}},{key:"canRedo",value:function canRedo(){return this.Lh!==this.Yd.length&&!this.disabled;}},{key:"Zd",value:function Zd(){!0===this.disabled?(this.qd.takeRecords(),this.qd.disconnect()):!1===this.disabled&&this.qd.observe(this.Hd,vp);}},{key:"Xd",value:function Xd(t){if(0===this.Yd.length)return;if(t.attributeName&&t.attributeName.startsWith("_bx"))return;var e=this.Yd[this.Yd.length-1].transactions,i=e.length;if("attributes"===t.type){var _i696=t.attributeName,_s404=e.find(function(e){return"attributes"===e.type&&e.attributeName===_i696&&e.target===t.target;});_s404?_s404.newValue=_s404.target.getAttribute(_i696):(_s404={type:"attributes",target:t.target,attributeName:_i696,oldValue:t.oldValue,newValue:t.target.getAttribute(_i696)},e.push(_s404));}else if("characterData"===t.type){var _i697=e.find(function(e){return"characterData"===e.type&&e.target===t.target;});if(_i697)_i697.newValue=_i697.target.data;else{var _i698={type:"characterData",target:t.target,oldValue:t.oldValue,newValue:t.target.data};e.push(_i698);}}else if("childList"===t.type){var _i699={type:"childList",target:t.target,addedNodes:_toConsumableArray(t.addedNodes),removedNodes:_toConsumableArray(t.removedNodes),nextSibling:t.nextSibling,previousSibling:t.previousSibling};e.push(_i699);}0===i&&e.length>0&&this.dispatchEvent(new CustomEvent("change",{detail:"increment"}));}},{key:"Qd",value:function Qd(){return 0===this.Yd[this.Lh-1].transactions.length;}},{key:"Kd",value:function Kd(){var _this366=this;this.Lh>0&&0===this.Yd[this.Lh-1].transactions.length&&(this.Yd=this.Yd.filter(function(t){return t!==_this366.Yd[_this366.Lh];}),this.Lh-=1);}},{key:"groups",get:function get(){return this.Yd;}},{key:"position",get:function get(){return this.Lh;}},{key:"disabled",get:function get(){return this.Wd;},set:function set(t){var e;(e=t)===!!e&&t!==this.Wd&&(this.Wd=t,this.Zd());}},{key:"undoLabel",get:function get(){var t="Undo";if(this.canUndo()){var _e719;_e719=this.Yd[this.Lh-1].transactions.length>0?this.Yd[this.Lh-1]:this.Yd[this.Lh-2],t="Undo: ".concat(_e719.label);}return t;}},{key:"redoLabel",get:function get(){var t="Redo";if(this.canRedo()){t="Redo: ".concat(this.Yd[this.Lh].label);}return t;}}]);return yp;}(wp);var _window5=window,kp=_window5.tokenize,Sp=_window5.EOFToken;var _p=/*#__PURE__*/function(){_createClass(_p,[{key:"items",get:function get(){return this.Jd;},set:function set(t){this.Jd=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-family>";}}]);function _p(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,_p);this.Jd=_toConsumableArray(t);}_createClass(_p,[{key:"toString",value:function toString(){return this.items.map(function(t){return p.includes(t)?t:"\"".concat(t,"\"");}).join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(kp(t)),[new Sp()]),s=new zt(i),n=[];if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected STRING or IDENT token.","SyntaxError");return null;}for(n.push(s.currentToken.value);;){var _t946=!1;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),","===s.currentToken.tokenType&&(_t946=!0,s.read()),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"STRING"!==s.currentToken.tokenType&&"IDENT"!==s.currentToken.tokenType){if("EOF"===s.currentToken.tokenType){if(_t946){if(e)throw new DOMException("Unexpected trailing comma.","SyntaxError");return null;}return new _p(n);}if(e)throw new DOMException("Unexpected token \"".concat(s.currentToken.tokenType,"\"."),"SyntaxError");return null;}if(!_t946){if(e)throw new DOMException("Unexpected STRING or IDENT token.","SyntaxError");return null;}n.push(s.currentToken.value);}}}]);return _p;}();var _window6=window,Cp=_window6.tokenize,Mp=_window6.EOFToken,Pp=_window6.parseACommaSeparatedListOfComponentValues;var Dp=/*#__PURE__*/function(){_createClass(Dp,[{key:"items",get:function get(){return this.Jd;},set:function set(t){this.Jd=_toConsumableArray(t);}},{key:"type",get:function get(){return"<font-face-src>";}}]);function Dp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,Dp);this.Jd=_toConsumableArray(t);}_createClass(Dp,[{key:"toString",value:function toString(){var t=[];var _iterator576=_createForOfIteratorHelper(this.items),_step576;try{for(_iterator576.s();!(_step576=_iterator576.n()).done;){var _e720=_step576.value;if("local"===_e720.type){var _i700="local(".concat(_e720.name,")");t.push(_i700);}else if("external"===_e720.type||"embedded"===_e720.type){var _i701="url(".concat(_e720.url,")");_e720.format&&(_i701+=" format(\"".concat(_e720.format,"\")")),t.push(_i701);}}}catch(err){_iterator576.e(err);}finally{_iterator576.f();}return t.join(", ");}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=Pp(t),s=[];var _iterator577=_createForOfIteratorHelper(i),_step577;try{for(_iterator577.s();!(_step577=_iterator577.n()).done;){var _t947=_step577.value;var _e721=[].concat(_toConsumableArray(_t947),[new Mp()]).filter(function(t){return"WHITESPACE"!==t.tokenType;}),_i702=new zt(_e721),_n299={};if(_i702.read(),"FUNCTION"===_i702.currentToken.type){if("local"===_i702.currentToken.name){var _t948="";var _iterator578=_createForOfIteratorHelper(_i702.currentToken.value),_step578;try{for(_iterator578.s();!(_step578=_iterator578.n()).done;){var _e722=_step578.value;"STRING"===_e722.tokenType?_t948+=_e722.value:_t948+=_e722.toSource();}}catch(err){_iterator578.e(err);}finally{_iterator578.f();}_n299.type="local",_n299.name=_t948;}else if("url"===_i702.currentToken.name){var _t949="";var _iterator579=_createForOfIteratorHelper(_i702.currentToken.value),_step579;try{for(_iterator579.s();!(_step579=_iterator579.n()).done;){var _e723=_step579.value;"STRING"===_e723.tokenType?_t949+=_e723.value:_t949+=_e723.toSource();}}catch(err){_iterator579.e(err);}finally{_iterator579.f();}_t949.trim(),_t949.startsWith("data:")?_n299.type="embedded":_n299.type="external",_n299.url=new lo(_t949),_i702.read(),"FUNCTION"==_i702.currentToken.type&&"format"===_i702.currentToken.name&&(_n299.format=_i702.currentToken.value[0].value);}}else if("URL"===_i702.currentToken.tokenType){var _t950=_i702.currentToken.value;_t950.startsWith("data:")?_n299.type="embedded":_n299.type="external",_n299.url=new lo(_t950),_i702.read(),"FUNCTION"==_i702.currentToken.type&&"format"===_i702.currentToken.name&&(_n299.format=_i702.currentToken.value[0].value);}s.push(_n299);}}catch(err){_iterator577.e(err);}finally{_iterator577.f();}return new Dp(s);}}]);return Dp;}();var zp=Math.tan,Op=Math.PI,Ep=function Ep(t){return new Promise(function(e){opentype.load(t,function(t,i){return e(t?null:i);});});},Tp=function Tp(t,e,i,s,n,o){var l=t.path;if(o&&(l=$p(l,14)),s){var _i703=e.ascender/20;s.includes("underline")&&(l=Ip(l,t.advanceWidth,_i703,e.descender/3)),s.includes("overline")&&(l=Ip(l,t.advanceWidth,_i703,e.ascender-_i703)),s.includes("line-through")&&(l=Ip(l,t.advanceWidth,_i703,(e.ascender+e.descender)/2));}return l=Lp(l,1/e.unitsPerEm*i),l;},Ap=function Ap(t){var e;if("M"===t.type||"L"===t.type){var _i704=t.type,_s405=t.x,_n300=t.y;e={type:_i704,x:_s405,y:_n300};}else if("Q"===t.type){var _i705=t.type,_s406=t.x1,_n301=t.y1,_o241=t.x,_l220=t.y;e={type:_i705,x1:_s406,y1:_n301,x:_o241,y:_l220};}else if("C"===t.type){var _i706=t.type,_s407=t.x1,_n302=t.y1,_o242=t.x2,_l221=t.y2,_a167=t.x,_h137=t.y;e={type:_i706,x1:_s407,y1:_n302,x2:_o242,y2:_l221,x:_a167,y:_h137};}else"Z"===t.type&&(e={type:"Z"});return e;},$p=function $p(t,e){var i=new DOMMatrix([1,0,zp(Op*e/180),1,0,0]),s=[];var _iterator580=_createForOfIteratorHelper(t.commands),_step580;try{for(_iterator580.s();!(_step580=_iterator580.n()).done;){var _e724=_step580.value;if("M"===_e724.type){var _t951=new DOMPoint(_e724.x,_e724.y).matrixTransform(i);s.push({type:"M",x:_t951.x,y:_t951.y});}else if("L"===_e724.type){var _t952=new DOMPoint(_e724.x,_e724.y).matrixTransform(i);s.push({type:"L",x:_t952.x,y:_t952.y});}else if("Q"===_e724.type){var _t953=new DOMPoint(_e724.x1,_e724.y1).matrixTransform(i),_n303=new DOMPoint(_e724.x,_e724.y).matrixTransform(i);s.push({type:"Q",x1:_t953.x,y1:_t953.y,x:_n303.x,y:_n303.y});}else if("C"===_e724.type){var _t954=new DOMPoint(_e724.x1,_e724.y1).matrixTransform(i),_n304=new DOMPoint(_e724.x2,_e724.y2).matrixTransform(i),_o243=new DOMPoint(_e724.x,_e724.y).matrixTransform(i);s.push({type:"C",x1:_t954.x,y1:_t954.y,x2:_n304.x,y2:_n304.y,x:_o243.x,y:_o243.y});}else"Z"===_e724.type&&s.push({type:"Z"});}}catch(err){_iterator580.e(err);}finally{_iterator580.f();}var n=new opentype.Path();return n.commands=s,n.fill=t.fill,n.stroke=t.stroke,n.strokeWidth=t.strokeWidth,n;},Ip=function Ip(t,e,i,s){var n=[];var _iterator581=_createForOfIteratorHelper(t.commands),_step581;try{for(_iterator581.s();!(_step581=_iterator581.n()).done;){var _e725=_step581.value;n.push(Ap(_e725));}}catch(err){_iterator581.e(err);}finally{_iterator581.f();}n.push({type:"M",x:0,y:s}),n.push({type:"L",x:e,y:s}),n.push({type:"L",x:e,y:s-i}),n.push({type:"L",x:0,y:s-i}),n.push({type:"Z"});var o=new opentype.Path();return o.commands=n,o.fill=t.fill,o.stroke=t.stroke,o.strokeWidth=t.strokeWidth,o;},Lp=function Lp(t,e){var i=new opentype.Path();for(var _s408=0;_s408<t.commands.length;_s408+=1){var _n305=t.commands[_s408];"M"===_n305.type?i.moveTo(_n305.x*e,-_n305.y*e):"L"===_n305.type?i.lineTo(_n305.x*e,-_n305.y*e):"Q"===_n305.type?i.quadraticCurveTo(_n305.x1*e,-_n305.y1*e,_n305.x*e,-_n305.y*e):"C"===_n305.type?i.curveTo(_n305.x1*e,-_n305.y1*e,_n305.x2*e,-_n305.y2*e,_n305.x*e,-_n305.y*e):"Z"===_n305.type&&i.closePath();}return i;},Bp=Math.abs,Rp=function Rp(t){switch(t){case"normal":return"400";case"bold":return"700";default:return t;}},Gp=function Gp(t){switch(Rp(t)){case"100":return"Thin";case"200":return"Extra-Light";case"300":return"Light";case"400":return"Normal";case"500":return"Medium";case"600":return"Semi-Bold";case"700":return"Bold";case"800":return"Extra-Bold";case"900":return"Ultra-Bold";default:return"Normal";}},Fp=function Fp(t,e){var _iterator582=_createForOfIteratorHelper(R[t]),_step582;try{for(_iterator582.s();!(_step582=_iterator582.n()).done;){var _i707=_step582.value;if(e.includes(_i707))return _i707;}}catch(err){_iterator582.e(err);}finally{_iterator582.f();}},Up=function Up(t){var e=[],i=Gp(Rp(t.weight));if(e.push(i),"normal"!==t.style){var _i708=oi(t.style);e.push(_i708);}if("normal"!==t.stretch){var _i709=oi(t.stretch);e.push(_i709);}return e.join(" ");},Np=function Np(t){return new Promise(/*#__PURE__*/function(){var _ref101=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee90(e){var i,_e726,_t955;return regeneratorRuntime.wrap(function _callee90$(_context91){while(1){switch(_context91.prev=_context91.next){case 0:i=1;if(!t.src){_context91.next=8;break;}_e726=Dp.fromString(t.src);if(!(_e726.items[0]&&"local"!==_e726.items[0].type)){_context91.next=8;break;}_context91.next=6;return Ep(_e726.items[0].url.value);case 6:_t955=_context91.sent;_t955&&(i=1-Bp(_t955.descender)/(Bp(_t955.ascender)+Bp(_t955.descender)));case 8:e(i);case 9:case"end":return _context91.stop();}}},_callee90);}));return function(_x109){return _ref101.apply(this,arguments);};}());};var Vp=/*#__PURE__*/function(){function Vp(t){_classCallCheck(this,Vp);this.tc=null,this.ec=t;}_createClass(Vp,[{key:"getFamilies",value:function getFamilies(){return _toConsumableArray(this.ec.querySelectorAll("style[data-bx-fonts]")).map(function(t){return t.getAttribute("data-bx-fonts");});}},{key:"getWeights",value:function getWeights(t){var e=new Set(),i=this.ec.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));if(i){var _iterator583=_createForOfIteratorHelper(i.sheet.rules),_step583;try{for(_iterator583.s();!(_step583=_iterator583.n()).done;){var _t956=_step583.value;var _i710=_t956.style.fontWeight?Rp(_t956.style.fontWeight):"400";e.add(_i710);}}catch(err){_iterator583.e(err);}finally{_iterator583.f();}}return _toConsumableArray(e);}},{key:"reorderFamilies",value:function reorderFamilies(t){var e=[];var _iterator584=_createForOfIteratorHelper(t),_step584;try{for(_iterator584.s();!(_step584=_iterator584.n()).done;){var _i712=_step584.value;var _t958=this.ec.querySelector("style[data-bx-fonts=\"".concat(_i712,"\"]"));e.push(_t958);}}catch(err){_iterator584.e(err);}finally{_iterator584.f();}var i=this.ec.querySelector("defs");for(var _i711=0,_e727=e;_i711<_e727.length;_i711++){var _t957=_e727[_i711];i.append(_t957);}}},{key:"getFonts",value:function getFonts(){var t=[];var _iterator585=_createForOfIteratorHelper(this.getFamilies()),_step585;try{for(_iterator585.s();!(_step585=_iterator585.n()).done;){var _e728=_step585.value;t.push.apply(t,_toConsumableArray(this.getFamilyFonts(_e728)));}}catch(err){_iterator585.e(err);}finally{_iterator585.f();}return t;}},{key:"getMatchedFont",value:function getMatchedFont(t,e,i){return function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"400";var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"normal";return function(t,e){var _iterator586=_createForOfIteratorHelper(R[e]),_step586;try{for(_iterator586.s();!(_step586=_iterator586.n()).done;){var _i713=_step586.value;var _iterator587=_createForOfIteratorHelper(t),_step587;try{for(_iterator587.s();!(_step587=_iterator587.n()).done;){var _e729=_step587.value;if(_e729.weight===_i713)return _e729;}}catch(err){_iterator587.e(err);}finally{_iterator587.f();}}}catch(err){_iterator586.e(err);}finally{_iterator586.f();}return t[0]?t[0]:null;}(function(t,e){var i=t.filter(function(t){return"normal"===e?"normal"===t.style:"italic"===e||"oblique"===e?"italic"===t.style||"oblique"===t.style:void 0;});return 0===i.length&&(i=_toConsumableArray(t)),i;}(function(t,e){return t.filter(function(t){return t.family===e;});}(t,e),s),i);}(this.getFonts(),t,e,i);}},{key:"addFont",value:function addFont(t){var e=this.getFamilyFonts(t.family);var _iterator588=_createForOfIteratorHelper(e),_step588;try{for(_iterator588.s();!(_step588=_iterator588.n()).done;){var _i714=_step588.value;_i714.weight===t.weight&&_i714.style===t.weight&&_i714.stretch===t.stretch&&_i714.unicodeRange===t.unicodeRange&&_i714.variant===t.variant&&_i714.featureSettings===t.featureSettings&&e.remove(_i714);}}catch(err){_iterator588.e(err);}finally{_iterator588.f();}e.push(t),this.setFamilyFonts(e);}},{key:"addFonts",value:function addFonts(t){var e={};var _iterator589=_createForOfIteratorHelper(t),_step589;try{for(_iterator589.s();!(_step589=_iterator589.n()).done;){var _i718=_step589.value;void 0===e[_i718.family]&&(e[_i718.family]=[]),e[_i718.family].push(_i718);}}catch(err){_iterator589.e(err);}finally{_iterator589.f();}for(var _i715=0,_Object$entries2=Object.entries(e);_i715<_Object$entries2.length;_i715++){var _Object$entries2$_i=_slicedToArray(_Object$entries2[_i715],2),_t959=_Object$entries2$_i[0],_i716=_Object$entries2$_i[1];var _e730=this.getFamilyFonts(_t959);var _iterator590=_createForOfIteratorHelper(_i716),_step590;try{for(_iterator590.s();!(_step590=_iterator590.n()).done;){var _t960=_step590.value;var _iterator591=_createForOfIteratorHelper(_e730),_step591;try{for(_iterator591.s();!(_step591=_iterator591.n()).done;){var _i717=_step591.value;_i717.weight===_t960.weight&&_i717.style===_t960.weight&&_i717.stretch===_t960.stretch&&_i717.unicodeRange===_t960.unicodeRange&&_i717.variant===_t960.variant&&_i717.featureSettings===_t960.featureSettings&&_e730.remove(_i717);}}catch(err){_iterator591.e(err);}finally{_iterator591.f();}_e730.push(_t960);}}catch(err){_iterator590.e(err);}finally{_iterator590.f();}this.setFamilyFonts(_e730);}}},{key:"removeFont",value:function removeFont(t){var e=this.getFamilyFonts(t.family),i=e.filter(function(e){return e.style!==t.style||e.weight!==t.weight||e.stretch!==t.stretch||e.unicodeRange!==t.unicodeRange;});i.length!==e.length&&this.setFamilyFonts(i);}},{key:"getFamilyFonts",value:function getFamilyFonts(t){var e=[],i=this.ec.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));if(i){var _iterator592=_createForOfIteratorHelper(i.sheet.rules),_step592;try{for(_iterator592.s();!(_step592=_iterator592.n()).done;){var _s409=_step592.value;var _i719=_s409.style.src,_n306={style:_s409.style.fontStyle||"normal",weight:_s409.style.fontWeight?Rp(_s409.style.fontWeight):"400",stretch:_s409.style.fontStretch||"normal",unicodeRange:_s409.style.unicodeRange||"U+0-10FFFF",variant:_s409.style.fontVariant||"normal",featureSettings:_s409.style.fontFeatureSettings||"normal"},_o244=new FontFace(t,_i719,_n306);_o244.src=_i719,e.push(_o244);}}catch(err){_iterator592.e(err);}finally{_iterator592.f();}}return e;}},{key:"setFamilyFonts",value:function setFamilyFonts(t){var e=t.length>0?t[0].family:null;if(null===e)return;if(t.find(function(t){return t.family!==e;}))return void console.error("Passed fonts from different families to fontsManger.setFamilyFonts().");var i=this.ec.querySelector("style[data-bx-fonts=\"".concat(e,"\"]"));i||(i=Ei("svg:style"),i.setAttribute("data-bx-fonts",e),this.ec.querySelector("defs").append(i));var s="";var _iterator593=_createForOfIteratorHelper(t),_step593;try{for(_iterator593.s();!(_step593=_iterator593.n()).done;){var _e731=_step593.value;s+=this.ic(_e731);}}catch(err){_iterator593.e(err);}finally{_iterator593.f();}i.textContent=s;}},{key:"removeFamily",value:function removeFamily(t){var e=this.ec.querySelector("style[data-bx-fonts=\"".concat(t,"\"]"));e&&e.remove();}},{key:"renameFamily",value:function renameFamily(t,e){var _iterator594=_createForOfIteratorHelper(this.ec.querySelectorAll("style[data-bx-fonts]")),_step594;try{for(_iterator594.s();!(_step594=_iterator594.n()).done;){var _i721=_step594.value;if(_i721.getAttribute("data-bx-fonts")===t){_i721.setAttribute("data-bx-fonts",e);var _iterator595=_createForOfIteratorHelper(_i721.sheet.rules),_step595;try{for(_iterator595.s();!(_step595=_iterator595.n()).done;){var _t961=_step595.value;_t961.style.fontFamily="\"".concat(e,"\""),Ch(_i721);}}catch(err){_iterator595.e(err);}finally{_iterator595.f();}}}}catch(err){_iterator594.e(err);}finally{_iterator594.f();}{var _i720,_s410=document.createNodeIterator(this.ec,NodeFilter.SHOW_ELEMENT);for(;_i720=_s410.nextNode();){var _s411=_p.fromString(_i720.style.fontFamily);_s411&&_s411.items.includes(t)&&(_s411.items=_s411.items.map(function(i){return i===t?e:i;}),_i720.style.fontFamily=_s411.toString());}}}},{key:"pinFamily",value:function pinFamily(t){var _iterator596=_createForOfIteratorHelper(this.ec.querySelectorAll("style[data-bx-fonts]")),_step596;try{for(_iterator596.s();!(_step596=_iterator596.n()).done;){var _e732=_step596.value;_e732.getAttribute("data-bx-fonts")===t&&_e732.setAttribute("data-bx-pinned","true");}}catch(err){_iterator596.e(err);}finally{_iterator596.f();}}},{key:"unpinFamily",value:function unpinFamily(t){var _iterator597=_createForOfIteratorHelper(this.ec.querySelectorAll("style[data-bx-fonts]")),_step597;try{for(_iterator597.s();!(_step597=_iterator597.n()).done;){var _e733=_step597.value;_e733.getAttribute("data-bx-fonts")===t&&_e733.removeAttribute("data-bx-pinned");}}catch(err){_iterator597.e(err);}finally{_iterator597.f();}}},{key:"embedLinkedFonts",value:function(){var _embedLinkedFonts=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee91(){var t,_iterator598,_step598,_e734,_t962,_iterator599,_step599,_i722,_e735,_s412,_n307,_o245;return regeneratorRuntime.wrap(function _callee91$(_context92){while(1){switch(_context92.prev=_context92.next){case 0:t=_toConsumableArray(this.ec.querySelectorAll("style[data-bx-fonts]"));_iterator598=_createForOfIteratorHelper(t);_context92.prev=2;_iterator598.s();case 4:if((_step598=_iterator598.n()).done){_context92.next=37;break;}_e734=_step598.value;_t962=!1;_iterator599=_createForOfIteratorHelper(_e734.sheet.rules);_context92.prev=8;_iterator599.s();case 10:if((_step599=_iterator599.n()).done){_context92.next=26;break;}_i722=_step599.value;_e735=Dp.fromString(_i722.style.src).items[0]||null;if(!(_e735&&"external"===_e735.type)){_context92.next=24;break;}_context92.next=16;return fetch(_e735.url.value);case 16:_s412=_context92.sent;_context92.next=19;return _s412.blob();case 19:_n307=_context92.sent;_context92.next=22;return jh(_n307);case 22:_o245=_context92.sent;_i722.style.src='url("'+_o245+'")',_t962=!0;case 24:_context92.next=10;break;case 26:_context92.next=31;break;case 28:_context92.prev=28;_context92.t0=_context92["catch"](8);_iterator599.e(_context92.t0);case 31:_context92.prev=31;_iterator599.f();return _context92.finish(31);case 34:_t962&&Ch(_e734);case 35:_context92.next=4;break;case 37:_context92.next=42;break;case 39:_context92.prev=39;_context92.t1=_context92["catch"](2);_iterator598.e(_context92.t1);case 42:_context92.prev=42;_iterator598.f();return _context92.finish(42);case 45:case"end":return _context92.stop();}}},_callee91,this,[[2,39,42,45],[8,28,31,34]]);}));function embedLinkedFonts(){return _embedLinkedFonts.apply(this,arguments);}return embedLinkedFonts;}()},{key:"replaceTextWithPaths",value:function replaceTextWithPaths(t){var _this367=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:6;return new Promise(/*#__PURE__*/function(){var _ref102=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee92(s){var n,o,l,_iterator600,_step600,_s413,_l222,_a168,_h138,_r86,_d68,_c55,_p46,_u38,_x111,_t963,_n308,_o246,_l223,_a169,_h139,_e737,_i723,_l224,_iterator601,_step601,_t964,_a170,_iterator602,_step602,_e738,_iterator603,_step603,_t965,_e736;return regeneratorRuntime.wrap(function _callee92$(_context93){while(1){switch(_context93.prev=_context93.next){case 0:ui(t);n=Vt(t),o=document.createDocumentFragment(),l=t.querySelectorAll("tspan");_iterator600=_createForOfIteratorHelper(l);_context93.prev=3;_iterator600.s();case 5:if((_step600=_iterator600.n()).done){_context93.next=25;break;}_s413=_step600.value;_l222=fi(_s413).filter(function(t){return t!==pi;});_a168=getComputedStyle(_s413);_h138=_p.fromString(_a168.fontFamily).items[0];_r86=parseFloat(_a168.getPropertyValue("font-size"));_d68=Rp(_a168.getPropertyValue("font-weight"));_c55=_a168.getPropertyValue("font-style");_p46=_a168.getPropertyValue("text-decoration");_context93.next=16;return _this367.sc(_l222,_h138,_r86,_d68,_c55,_p46);case 16:_u38=_context93.sent;_x111=[];if(_u38){_context93.next=21;break;}o=null;return _context93.abrupt("break",25);case 21:for(_t963=0;_t963<_u38.length;_t963+=1){_n308=_u38[_t963];if(_n308.length>0){_o246=_s413.getStartPositionOfChar(_t963),_l223=_s413.getRotationOfChar(_t963),_a169=new DOMMatrix();_a169.translateSelf(_o246.x,_o246.y),_a169.rotateSelf(_l223);_h139=Ei("svg:path");_h139.setPathData(_n308),_h139.setAttribute("transform",_a169.toString()),fa(_h139,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_x111.push(_h139);}}if(_x111.length>0){_e737=_x111[0],_i723=_x111.slice(1),_l224=_e737.getAttribute("d");_iterator601=_createForOfIteratorHelper(_i723);try{for(_iterator601.s();!(_step601=_iterator601.n()).done;){_t964=_step601.value;_l224+=_t964.getAttribute("d");}}catch(err){_iterator601.e(err);}finally{_iterator601.f();}_a170=Ei("svg:path");_a170.setAttribute("d",_l224),_a170.setAttribute("transform",n.toString());_iterator602=_createForOfIteratorHelper(t.style);try{for(_iterator602.s();!(_step602=_iterator602.n()).done;){_e738=_step602.value;!1===$.includes(_e738)&&_a170.style.setProperty(_e738,t.style.getPropertyValue(_e738));}}catch(err){_iterator602.e(err);}finally{_iterator602.f();}_iterator603=_createForOfIteratorHelper(_s413.style);try{for(_iterator603.s();!(_step603=_iterator603.n()).done;){_t965=_step603.value;!1===$.includes(_t965)&&_a170.style.setProperty(_t965,_s413.style.getPropertyValue(_t965));}}catch(err){_iterator603.e(err);}finally{_iterator603.f();}o.append(_a170);}case 23:_context93.next=5;break;case 25:_context93.next=30;break;case 27:_context93.prev=27;_context93.t0=_context93["catch"](3);_iterator600.e(_context93.t0);case 30:_context93.prev=30;_iterator600.f();return _context93.finish(30);case 33:if(o){_e736=_toConsumableArray(o.children);t.replaceWith(o),s(_e736);}else s(null);case 34:case"end":return _context93.stop();}}},_callee92,null,[[3,27,30,33]]);}));return function(_x110){return _ref102.apply(this,arguments);};}());}},{key:"canReplaceTextWithPaths",value:function canReplaceTextWithPaths(t){var e=!0,i=this.getFamilies(),s=[];var _iterator604=_createForOfIteratorHelper(gi(t)),_step604;try{for(_iterator604.s();!(_step604=_iterator604.n()).done;){var _e739=_step604.value;s.includes(_e739.parentElement)||s.push(_e739.parentElement);}}catch(err){_iterator604.e(err);}finally{_iterator604.f();}for(var _i724=0,_s414=s;_i724<_s414.length;_i724++){var _t966=_s414[_i724];var _s415=getComputedStyle(_t966),_n309=_p.fromString(_s415.fontFamily).items[0];if(!1===i.includes(_n309)){e=!1;break;}}return e;}},{key:"sc",value:function sc(t,e,i,s,n,o){var _this368=this;return new Promise(/*#__PURE__*/function(){var _ref103=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee93(l){var a,_e740,_h140,_e741,_r87,_iterator605,_step605,_s416,_t967,_n310,_l225;return regeneratorRuntime.wrap(function _callee93$(_context94){while(1){switch(_context94.prev=_context94.next){case 0:a=_this368.getMatchedFont(e,s,n);if(!a){_context94.next=9;break;}_e740=Dp.fromString(a.src);_context94.next=5;return Ep(_e740.items[0].url.value);case 5:_h140=_context94.sent;if(null===_h140)l(null);else{_e741=[],_r87=("700"===s&&a.weight,("italic"===n||"oblique"===n)&&"italic"!==a.style);_iterator605=_createForOfIteratorHelper(t);try{for(_iterator605.s();!(_step605=_iterator605.n()).done;){_s416=_step605.value;_t967=_h140.charToGlyph(_s416),_n310=Tp(_t967,_h140,i,o,0,_r87).toPathData(),_l225=st(_n310);_l225=nt(_l225),_l225=ot(_l225),_e741.push(_l225);}}catch(err){_iterator605.e(err);}finally{_iterator605.f();}l(_e741);}_context94.next=10;break;case 9:l(null);case 10:case"end":return _context94.stop();}}},_callee93);}));return function(_x112){return _ref103.apply(this,arguments);};}());}},{key:"ic",value:function ic(t){var e="@font-face { ";return e+="font-family: \"".concat(t.family,"\"; "),e+="font-style: ".concat(t.style,"; "),e+="font-weight: ".concat(t.weight,"; "),e+="font-stretch: ".concat(t.stretch,"; "),e+="font-unicode-range: ".concat(t.unicodeRange,"; "),e+="font-variant: ".concat(t.variant,"; "),e+="font-feature-settings: ".concat(t.featureSettings,"; "),e+="src: ".concat(t.src,"; "),e+="}",e;}}]);return Vp;}();var jp=Math.abs;var Hp=/*#__PURE__*/function(_wp2){_inherits(Hp,_wp2);var _super63=_createSuper(Hp);function Hp(t){var _this369;_classCallCheck(this,Hp);_this369=_super63.call(this),_this369.Pn=t,_this369.nc=[];return _this369;}_createClass(Hp,[{key:"snapStart",value:function snapStart(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Pn;if(this.nc=[],e.showGrid){var _t968=Ht(e.vectorCanvas),_i725=e.currentWorkspace.querySelector(":scope > defs > bx-grid"),_s417=0,_n311=0,_o247=100,_l226=100;_i725&&(_s417=parseFloat(_i725.getAttribute("x")),_n311=parseFloat(_i725.getAttribute("y")),_o247=parseFloat(_i725.getAttribute("width")),_l226=parseFloat(_i725.getAttribute("height")));var _a171=e.getBoundingClientRect(),_h141=Ne(new DOMRect(_s417,_n311,_o247,_l226),_t968);_s417=_h141.x,_n311=_h141.y,_o247=_h141.width,_l226=_h141.height;var _r88=_a171.x,_d69=_a171.x+_a171.width,_c56=_a171.y,_p47=_a171.y+_a171.height,_u39=[],_x113=[];for(var _t969=_s417;_t969<=_d69;_t969+=_o247){_t969>=_r88&&_u39.push(_t969);}for(var _t970=_s417-_o247;_t970>=_r88;_t970-=_o247){_t970<=_d69&&_u39.push(_t970);}for(var _t971=_n311;_t971<=_p47;_t971+=_l226){_t971>=_c56&&_x113.push(_t971);}for(var _t972=_n311-_l226;_t972>=_c56;_t972-=_l226){_t972<=_p47&&_x113.push(_t972);}for(var _i726=0,_u40=_u39;_i726<_u40.length;_i726++){var _t973=_u40[_i726];this.nc.push({type:"grid",orientation:"vertical",snapping:!1,x:_t973,grid:_i725});}for(var _i727=0,_x114=_x113;_i727<_x114.length;_i727++){var _t974=_x114[_i727];this.nc.push({type:"grid",orientation:"horizontal",snapping:!1,y:_t974,grid:_i725});}}if(e.showManualGuides){var _t975=Ht(e.vectorCanvas),_i728=e.currentWorkspace.querySelectorAll("bx-guide");var _iterator606=_createForOfIteratorHelper(_i728),_step606;try{for(_iterator606.s();!(_step606=_iterator606.n()).done;){var _e742=_step606.value;var _i729=parseFloat(_e742.getAttribute("angle")),_s418=parseFloat(_e742.getAttribute("x")),_n312=parseFloat(_e742.getAttribute("y")),_o248=new DOMPoint(_s418,_n312).matrixTransform(_t975);0===_i729?this.nc.push({type:"manual",orientation:"vertical",snapping:!1,x:_o248.x,guide:_e742}):90===_i729?this.nc.push({type:"manual",orientation:"horizontal",snapping:!1,y:_o248.y,guide:_e742}):this.nc.push({type:"manual",orientation:"angular",snapping:!1,x:_o248.x,y:_o248.y,guide:_e742});}}catch(err){_iterator606.e(err);}finally{_iterator606.f();}}if(e.showSmartGuides){var _i730=Ht(e.vectorCanvas),_s419=e.outermostSelectedElements,_n313=[];if(_s419.length>0){var _iterator607=_createForOfIteratorHelper(_s419[0].parentElement.children),_step607;try{for(_iterator607.s();!(_step607=_iterator607.n()).done;){var _i731=_step607.value;e.isSelectableElement(_i731)&&(!1!==t&&!1!==_s419.includes(_i731)||_n313.push(_i731));}}catch(err){_iterator607.e(err);}finally{_iterator607.f();}}else{var _iterator608=_createForOfIteratorHelper(e.currentWorkspace.children),_step608;try{for(_iterator608.s();!(_step608=_iterator608.n()).done;){var _t976=_step608.value;e.isSelectableElement(_t976)&&_n313.push(_t976);}}catch(err){_iterator608.e(err);}finally{_iterator608.f();}}var _o249=_n313.map(function(t){return Di(t);});if(e.currentWorkspace.hasAttribute("viewBox")){var _t977=Rt.fromString(e.currentWorkspace.getAttribute("viewBox")).toRect();_t977=Ne(_t977,_i730),_o249.push(_t977);}{var _t978=e.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view");var _iterator609=_createForOfIteratorHelper(_t978),_step609;try{for(_iterator609.s();!(_step609=_iterator609.n()).done;){var _e743=_step609.value;var _t979=Rt.fromString(_e743.getAttribute("viewBox")).toRect();_t979=Ne(_t979,_i730),_o249.push(_t979);}}catch(err){_iterator609.e(err);}finally{_iterator609.f();}}{var _t980=e.getBoundingClientRect();_o249=_o249.filter(function(e){return Ye(_t980,e);});}var _iterator610=_createForOfIteratorHelper(_o249),_step610;try{for(_iterator610.s();!(_step610=_iterator610.n()).done;){var _t981=_step610.value;this.nc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t981.x,snappingBBox:_t981,snappedBBox:null,side:"left"}),this.nc.push({type:"smart",orientation:"vertical",snapping:!1,x:_t981.x+_t981.width,snappingBBox:_t981,side:"right"}),this.nc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t981.y,snappingBBox:_t981,snappedBBox:null,side:"top"}),this.nc.push({type:"smart",orientation:"horizontal",snapping:!1,y:_t981.y+_t981.height,snappingBBox:_t981,snappedBBox:null,side:"bottom"});}}catch(err){_iterator610.e(err);}finally{_iterator610.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}},{key:"snapEnd",value:function snapEnd(){this.nc.length>0&&(this.nc=[],this.dispatchEvent(new CustomEvent("snapperschange")));}},{key:"snapBBox",value:function snapBBox(t){var e=new DOMRect(t.x,t.y,t.width,t.height);if(this.nc.length>0){var _i732=Infinity,_s420=Infinity,_n314=null,_o250=null,_l227=null,_a172=null,_h142=[new DOMPoint(t.x,t.y),new DOMPoint(t.x+t.width,t.y),new DOMPoint(t.x+t.width,t.y+t.height),new DOMPoint(t.x,t.y+t.height)];for(var _i733=0,_h143=_h142;_i733<_h143.length;_i733++){var _t982=_h143[_i733];var _iterator611=_createForOfIteratorHelper(this.nc),_step611;try{for(_iterator611.s();!(_step611=_iterator611.n()).done;){var _e744=_step611.value;if("vertical"===_e744.orientation){var _s421=jp(_t982.x-_e744.x);_s421<_i732&&(_i732=_s421,_n314=_e744,_l227=_e744.x-_t982.x);}else if("horizontal"===_e744.orientation){var _i734=jp(_t982.y-_e744.y);_i734<_s420&&(_s420=_i734,_o250=_e744,_a172=_e744.y-_t982.y);}}}catch(err){_iterator611.e(err);}finally{_iterator611.f();}}var _iterator612=_createForOfIteratorHelper(this.nc),_step612;try{for(_iterator612.s();!(_step612=_iterator612.n()).done;){var _t983=_step612.value;_t983.snapping=!1,_t983.snappedBBox=null,_t983.snappedPoint=null;}}catch(err){_iterator612.e(err);}finally{_iterator612.f();}_i732<10&&(e.x+=_l227,_n314.snapping=!0,_n314.snappedBBox=e),_s420<10&&(e.y+=_a172,_o250.snapping=!0,_o250.snappedBBox=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPoint",value:function snapPoint(t){var e=new DOMPoint(t.x,t.y);if(this.nc.length>0){var _i735=Infinity,_s422=Infinity,_n315=null,_o251=null,_l228=null,_a173=null;var _iterator613=_createForOfIteratorHelper(this.nc),_step613;try{for(_iterator613.s();!(_step613=_iterator613.n()).done;){var _e745=_step613.value;if("vertical"===_e745.orientation){var _s423=jp(t.x-_e745.x);_s423<_i735&&(_i735=_s423,_n315=_e745,_l228=_e745.x-t.x);}else if("horizontal"===_e745.orientation){var _i736=jp(t.y-_e745.y);_i736<_s422&&(_s422=_i736,_o251=_e745,_a173=_e745.y-t.y);}}}catch(err){_iterator613.e(err);}finally{_iterator613.f();}var _iterator614=_createForOfIteratorHelper(this.nc),_step614;try{for(_iterator614.s();!(_step614=_iterator614.n()).done;){var _t984=_step614.value;_t984.snapping=!1,_t984.snappedBBox=null,_t984.snappedPoint=null;}}catch(err){_iterator614.e(err);}finally{_iterator614.f();}_i735<10&&(e.x+=_l228,_n315.snapping=!0,_n315.snappedPoint=e),_s422<10&&(e.y+=_a173,_o251.snapping=!0,_o251.snappedPoint=e),this.dispatchEvent(new CustomEvent("snapperschange"));}return e;}},{key:"snapPointToAngleMultiple",value:function snapPointToAngleMultiple(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:22.5;var _$e27=$e(t,e,i),_$e28=_slicedToArray(_$e27,1),s=_$e28[0];if(this.nc.length>0){var _e746=null,_i737=null,_n316=Infinity;var _iterator615=_createForOfIteratorHelper(this.nc),_step615;try{for(_iterator615.s();!(_step615=_iterator615.n()).done;){var _o252=_step615.value;var _l229=void 0,_a174=void 0;"vertical"===_o252.orientation?(_l229=new DOMPoint(_o252.x,0),_a174=new DOMPoint(_o252.x,100)):(_l229=new DOMPoint(0,_o252.y),_a174=new DOMPoint(100,_o252.y));var _h144=Qe(t,s,_l229,_a174);if(_h144){var _t987=ze(s,_h144);_t987<_n316&&(_e746=_o252,_i737=_h144,_n316=_t987);}}}catch(err){_iterator615.e(err);}finally{_iterator615.f();}if(_n316<5){s=_i737;var _iterator616=_createForOfIteratorHelper(this.nc),_step616;try{for(_iterator616.s();!(_step616=_iterator616.n()).done;){var _t985=_step616.value;_t985.snapping=_t985===_e746,_t985.snappedBBox=null,_t985.snappedPoint=_t985===_e746?s:null;}}catch(err){_iterator616.e(err);}finally{_iterator616.f();}}else{var _iterator617=_createForOfIteratorHelper(this.nc),_step617;try{for(_iterator617.s();!(_step617=_iterator617.n()).done;){var _t986=_step617.value;_t986.snapping=!1,_t986.snappedBBox=null,_t986.snappedPoint=null;}}catch(err){_iterator617.e(err);}finally{_iterator617.f();}}this.dispatchEvent(new CustomEvent("snapperschange"));}return s;}},{key:"isGuideSnapping",value:function isGuideSnapping(t){var _iterator618=_createForOfIteratorHelper(this.nc),_step618;try{for(_iterator618.s();!(_step618=_iterator618.n()).done;){var _e747=_step618.value;if(_e747.guide===t)return _e747.snapping;}}catch(err){_iterator618.e(err);}finally{_iterator618.f();}return!1;}},{key:"isGridSnapping",value:function isGridSnapping(t){}},{key:"snappers",get:function get(){return _toConsumableArray(this.nc);}}]);return Hp;}(wp);var Yp={colors:"unpinned",gradients:"unpinned",patterns:"unpinned",markers:"unpinned",symbols:"none",filters:"unpinned",fonts:"unpinned",clipPaths:"unpinned",masks:"unpinned"};var Wp=/*#__PURE__*/function(){function Wp(t){_classCallCheck(this,Wp);this.Hd=t;}_createClass(Wp,[{key:"collect",value:function collect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Yp;for(var _i738=0,_Object$entries3=Object.entries(Yp);_i738<_Object$entries3.length;_i738++){var _Object$entries3$_i=_slicedToArray(_Object$entries3[_i738],2),_e748=_Object$entries3$_i[0],_i739=_Object$entries3$_i[1];void 0===t[_e748]&&(t[_e748]=_i739);}var e=this.oc(),i={gradients:[],patterns:[],markers:[],symbols:[],filters:[],fonts:[],clipPaths:[],masks:[]};if("all"===t.colors||"unpinned"===t.colors){var _s424=_toConsumableArray(this.Hd.querySelectorAll("linearGradient, radialGradient"));_s424=_s424.filter(function(t){return!0===Mo(t);});var _iterator619=_createForOfIteratorHelper(_s424),_step619;try{for(_iterator619.s();!(_step619=_iterator619.n()).done;){var _n317=_step619.value;var _o253=e.paintServers.has(_n317.id),_l230="unpinned"===t.colors&&_n317.hasAttribute("data-bx-pinned");if(!1===_o253&&!1===_l230){var _a175=this.lc(_n317,_s424);var _iterator620=_createForOfIteratorHelper(_a175),_step620;try{for(_iterator620.s();!(_step620=_iterator620.n()).done;){var _i740=_step620.value;if(_o253=e.paintServers.has(_i740.id),_l230="unpinned"===t.colors&&_i740.hasAttribute("data-bx-pinned"),_o253||_l230)break;}}catch(err){_iterator620.e(err);}finally{_iterator620.f();}!1===_o253&&!1===_l230&&(i.gradients.push(_n317),_n317.remove());}}}catch(err){_iterator619.e(err);}finally{_iterator619.f();}}if("all"===t.gradients||"unpinned"===t.gradients){var _s425=_toConsumableArray(this.Hd.querySelectorAll("linearGradient, radialGradient"));_s425=_s425.filter(function(t){return!1===Mo(t);});var _iterator621=_createForOfIteratorHelper(_s425),_step621;try{for(_iterator621.s();!(_step621=_iterator621.n()).done;){var _n318=_step621.value;var _o254=e.paintServers.has(_n318.id),_l231="unpinned"===t.gradients&&_n318.hasAttribute("data-bx-pinned");if(!1===_o254&&!1===_l231){var _a176=this.lc(_n318,_s425);var _iterator622=_createForOfIteratorHelper(_a176),_step622;try{for(_iterator622.s();!(_step622=_iterator622.n()).done;){var _i741=_step622.value;if(_o254=e.paintServers.has(_i741.id),_l231="unpinned"===t.gradients&&_i741.hasAttribute("data-bx-pinned"),_o254||_l231)break;}}catch(err){_iterator622.e(err);}finally{_iterator622.f();}!1===_o254&&!1===_l231&&(i.gradients.push(_n318),_n318.remove());}}}catch(err){_iterator621.e(err);}finally{_iterator621.f();}}if("all"===t.patterns||"unpinned"===t.patterns){var _s426=_toConsumableArray(this.Hd.querySelectorAll("pattern"));var _iterator623=_createForOfIteratorHelper(_s426),_step623;try{for(_iterator623.s();!(_step623=_iterator623.n()).done;){var _n319=_step623.value;var _o255=e.paintServers.has(_n319.id),_l232="unpinned"===t.patterns&&_n319.hasAttribute("data-bx-pinned");if(!1===_o255&&!1===_l232){var _a177=this.ac(_n319,_s426);var _iterator624=_createForOfIteratorHelper(_a177),_step624;try{for(_iterator624.s();!(_step624=_iterator624.n()).done;){var _i742=_step624.value;if(_o255=e.paintServers.has(_i742.id),_l232="unpinned"===t.patterns&&_i742.hasAttribute("data-bx-pinned"),_o255||_l232)break;}}catch(err){_iterator624.e(err);}finally{_iterator624.f();}!1===_o255&&!1===_l232&&(i.patterns.push(_n319),_n319.remove());}}}catch(err){_iterator623.e(err);}finally{_iterator623.f();}}if("all"===t.markers||"unpinned"===t.markers){var _s427=_toConsumableArray(this.Hd.querySelectorAll("marker"));var _iterator625=_createForOfIteratorHelper(_s427),_step625;try{for(_iterator625.s();!(_step625=_iterator625.n()).done;){var _n320=_step625.value;var _s428=e.markers.has(_n320.id),_o256="unpinned"===t.markers&&_n320.hasAttribute("data-bx-pinned");!1===_s428&&!1===_o256&&(i.markers.push(_n320),_n320.remove());}}catch(err){_iterator625.e(err);}finally{_iterator625.f();}}if("all"===t.filters||"unpinned"===t.filters){var _s429=this.Hd.querySelectorAll("filter");var _iterator626=_createForOfIteratorHelper(_s429),_step626;try{for(_iterator626.s();!(_step626=_iterator626.n()).done;){var _n321=_step626.value;var _s430=e.filters.has(_n321.id),_o257="unpinned"===t.filters&&_n321.hasAttribute("data-bx-pinned");!1===_s430&&!1===_o257&&(i.filters.push(_n321),_n321.remove());}}catch(err){_iterator626.e(err);}finally{_iterator626.f();}}if("all"===t.clipPaths||"unpinned"===t.clipPaths){var _s431=this.Hd.querySelectorAll("clipPath, clippath");var _iterator627=_createForOfIteratorHelper(_s431),_step627;try{for(_iterator627.s();!(_step627=_iterator627.n()).done;){var _n322=_step627.value;var _s432=e.clipPaths.has(_n322.id),_o258="unpinned"===t.clipPaths&&_n322.hasAttribute("data-bx-pinned");!1===_s432&&!1===_o258&&(i.clipPaths.push(_n322),_n322.remove());}}catch(err){_iterator627.e(err);}finally{_iterator627.f();}}if("all"===t.masks||"unpinned"===t.masks){var _s433=this.Hd.querySelectorAll("mask");var _iterator628=_createForOfIteratorHelper(_s433),_step628;try{for(_iterator628.s();!(_step628=_iterator628.n()).done;){var _n323=_step628.value;var _s434=e.masks.has(_n323.id),_o259="unpinned"===t.masks&&_n323.hasAttribute("data-bx-pinned");!1===_s434&&!1===_o259&&(i.masks.push(_n323),_n323.remove());}}catch(err){_iterator628.e(err);}finally{_iterator628.f();}}if("all"===t.symbols||"unpinned"===t.symbols){var _s435=this.Hd.querySelectorAll("symbol");var _iterator629=_createForOfIteratorHelper(_s435),_step629;try{for(_iterator629.s();!(_step629=_iterator629.n()).done;){var _n324=_step629.value;var _s436=e.symbols.has(_n324.id),_o260="unpinned"===t.symbols&&_n324.hasAttribute("data-bx-pinned");!1===_s436&&!1===_o260&&(i.symbols.push(_n324),_n324.remove());}}catch(err){_iterator629.e(err);}finally{_iterator629.f();}}if("all"===t.fonts||"unpinned"===t.fonts){var _e749=this.hc(),_s437=_toConsumableArray(this.Hd.querySelectorAll("style[data-bx-fonts]"));var _iterator630=_createForOfIteratorHelper(_s437),_step630;try{for(_iterator630.s();!(_step630=_iterator630.n()).done;){var _n325=_step630.value;var _s438=_n325.getAttribute("data-bx-fonts"),_o261=_e749.has(_s438),_l233="unpinned"===t.fonts&&_n325.hasAttribute("data-bx-pinned");!1===_o261&&!1===_l233&&(i.fonts.push(_s438),_n325.remove());}}catch(err){_iterator630.e(err);}finally{_iterator630.f();}}(i.gradients.length>0||i.patterns.length>0||i.markers.length>0||i.filters.length>0||i.clipPaths.length>0||i.masks.length>0||i.symbols.length>0||i.fonts.length>0)&&this.collect(t);}},{key:"oc",value:function oc(){var t=document.createNodeIterator(this.Hd,NodeFilter.SHOW_ELEMENT),e=null,i={paintServers:new Set(),markers:new Set(),filters:new Set(),clipPaths:new Set(),masks:new Set(),symbols:new Set(),fontFamilies:new Set()};for(;e=t.nextNode();){var _t988=getComputedStyle(e);if(w.includes(e.localName)){var _e750=_t988.fill,_s439=_t988.stroke;if(_e750&&_e750.startsWith("url(")){var _t989=_e750.substring(6,_e750.length-2);i.paintServers.add(_t989);}if(_s439&&_s439.startsWith("url(")){var _t990=_s439.substring(6,_s439.length-2);i.paintServers.add(_t990);}}if(z.includes(e.localName)){var _e751=_t988.markerStart,_s440=_t988.markerMid,_n326=_t988.markerEnd;if(_e751&&_e751.startsWith("url(")){var _t991=_e751.substring(6,_e751.length-2);i.markers.add(_t991);}if(_s440&&_s440.startsWith("url(")){var _t992=_s440.substring(6,_s440.length-2);i.markers.add(_t992);}if(_n326&&_n326.startsWith("url(")){var _t993=_n326.substring(6,_n326.length-2);i.markers.add(_t993);}}if(D.includes(e.localName)){var _e752=_t988.filter;if(_e752&&_e752.startsWith("url(")){var _t994=_e752.substring(6,_e752.length-2);i.filters.add(_t994);}}if(_.includes(e.localName)){var _e753=_t988.clipPath;if(_e753&&_e753.startsWith("url(")){var _t995=_e753.substring(6,_e753.length-2);i.clipPaths.add(_t995);}}if(M.includes(e.localName)){var _e754=_t988.mask;if(_e754&&_e754.startsWith("url(")){var _t996=_e754.substring(6,_e754.length-2);i.masks.add(_t996);}}if("use"===e.localName&&"#"===e.href.baseVal[0]){var _t997=e.href.baseVal.substring(1);i.symbols.add(_t997);}if(b.includes(e.localName)||"a"===e.localName){var _e755=_t988.fontFamily;_e755&&i.fontFamilies.add(_e755);}}return i;}},{key:"hc",value:function hc(){var t,e=new Set(),i=document.createNodeIterator(this.Hd,NodeFilter.SHOW_ELEMENT);for(;t=i.nextNode();){if(""!==t.style.fontFamily){var _i743=_p.fromString(t.style.fontFamily);if(_i743){var _iterator631=_createForOfIteratorHelper(_i743.items),_step631;try{for(_iterator631.s();!(_step631=_iterator631.n()).done;){var _t998=_step631.value;e.add(_t998);}}catch(err){_iterator631.e(err);}finally{_iterator631.f();}}}}var _iterator632=_createForOfIteratorHelper(this.Hd.querySelectorAll("style")),_step632;try{for(_iterator632.s();!(_step632=_iterator632.n()).done;){var _t999=_step632.value;var _iterator633=_createForOfIteratorHelper(_t999.sheet.rules),_step633;try{for(_iterator633.s();!(_step633=_iterator633.n()).done;){var _i744=_step633.value;if(_i744.type===CSSStyleRule.STYLE_RULE&&""!==_i744.style.fontFamily){var _t1000=_p.fromString(_i744.style.fontFamily);var _iterator634=_createForOfIteratorHelper(_t1000.items),_step634;try{for(_iterator634.s();!(_step634=_iterator634.n()).done;){var _i745=_step634.value;e.add(_i745);}}catch(err){_iterator634.e(err);}finally{_iterator634.f();}}}}catch(err){_iterator633.e(err);}finally{_iterator633.f();}}}catch(err){_iterator632.e(err);}finally{_iterator632.f();}return e;}},{key:"lc",value:function lc(t,e){var i=[],s=t;for(;;){var _t1001=e.find(function(t){return t.href.baseVal==="#"+s.id;});if(!_t1001||!1!==i.includes(_t1001))break;i.push(_t1001),s=_t1001;}return i;}},{key:"ac",value:function ac(t,e){var i=[],s=t;for(;;){var _t1002=e.find(function(t){return t.href.baseVal==="#"+s.id;});if(!_t1002||!1!==i.includes(_t1002))break;i.push(_t1002),s=_t1002;}return i;}}]);return Wp;}();var _window7=window,qp=_window7.tokenize,Xp=_window7.EOFToken;var Zp=/*#__PURE__*/function(){_createClass(Zp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<number>";}}]);function Zp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Zp);this._t=t;}_createClass(Zp,[{key:"toString",value:function toString(){return""+this.value;}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(qp(t)),[new Xp()]),s=new zt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"NUMBER"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected NUMBER token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Zp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Zp;}();var _window8=window,Kp=_window8.tokenize,Qp=_window8.EOFToken;var Jp=/*#__PURE__*/function(){_createClass(Jp,[{key:"value",get:function get(){return this._t;},set:function set(t){this._t=t;}},{key:"type",get:function get(){return"<percentage>";}}]);function Jp(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;_classCallCheck(this,Jp);this._t=t;}_createClass(Jp,[{key:"toString",value:function toString(){return this.value+"%";}}],[{key:"fromString",value:function fromString(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=[].concat(_toConsumableArray(Kp(t)),[new Qp()]),s=new zt(i),n=null;if(s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"PERCENTAGE"!==s.currentToken.tokenType){if(e)throw new DOMException("Expected PERCENTAGE token.","SyntaxError");return null;}if(n=s.currentToken.value,s.read(),"WHITESPACE"===s.currentToken.tokenType&&s.read(),"EOF"===s.currentToken.tokenType)return new Jp(n);if(e)throw new DOMException("Expected EOF token.","SyntaxError");return null;}}]);return Jp;}();var tu=function tu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2;t=t.cloneNode(!0);var s,n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;s=n.nextNode();){if(s.nodeType==Node.ELEMENT_NODE)if("defs"===s.localName)0===s.children.length&&s.remove();else if("style"===s.localName)""===s.textContent.replace(/\s+/g," ").trim()?s.remove():s.matches('[data-bx-fonts="google"]')&&s.removeAttribute("data-bx-fonts");else if("xml"===e&&"path"===s.localName){var _t1003=s.getAttribute("d");_t1003&&/[\t\n\r]/.test(_t1003)&&s.setAttribute("d",_t1003.replace(/[\t\n\r ]+/g," "));}}return su(t,e),wh(t,i),eu(t,e);},eu=function eu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"xml";var i;if("xml"===e){i='<?xml version="1.0" encoding="utf-8"?>\n'+new XMLSerializer().serializeToString(t);}else if("html"===e){i="<!doctype html>\n"+t.outerHTML,i=ni(i,' xmlns:xlink="http://www.w3.org/1999/xlink"',"");}return i=ni(i,"url(&quot;","url("),i=ni(i,"&quot;)",")"),i;},iu=function iu(t){return new Promise(/*#__PURE__*/function(){var _ref104=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee94(e){var _i746,s,n,o;return regeneratorRuntime.wrap(function _callee94$(_context95){while(1){switch(_context95.prev=_context95.next){case 0:n=new Blob([t],{type:"image/svg+xml"}),o=new FileReader();o.readAsDataURL(n),o.addEventListener("load",_i746=function i(t){o.removeEventListener("load",_i746),o.removeEventListener("error",s);var n=t.target.result;e(n);}),o.addEventListener("error",s=function(_s441){function s(_x116){return _s441.apply(this,arguments);}s.toString=function(){return _s441.toString();};return s;}(function(t){o.removeEventListener("load",_i746),o.removeEventListener("error",s),e(null);}));case 2:case"end":return _context95.stop();}}},_callee94);}));return function(_x115){return _ref104.apply(this,arguments);};}());},su=function su(t,e){if("xml"===e){var _e756,_i747=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_s442=!1,_n327=!1;for(;_e756=_i747.nextNode();){if("bx-title"!==_e756.localName){if(_e756.localName.startsWith("bx-")){var _t1004=document.createElementNS(l.bx,"bx:"+_e756.localName.substring(3));for(var _i748=0,_arr28=_toConsumableArray(_e756.attributes);_i748<_arr28.length;_i748++){var _i749=_arr28[_i748];_t1004.setAttribute(_i749.name,_i749.value);}for(var _i750=0,_arr29=_toConsumableArray(_e756.childNodes);_i750<_arr29.length;_i750++){var _i751=_arr29[_i750];_t1004.append(_i751);}_e756.replaceWith(_t1004),_n327=!0;}else for(var _i752=0,_arr30=_toConsumableArray(_e756.attributes);_i752<_arr30.length;_i752++){var _arr30$_i=_arr30[_i752],_t1005=_arr30$_i.name,_i753=_arr30$_i.value;if("href"===_t1005||"_href"===_t1005)_e756.setAttribute("xlink:href",_i753),_e756.removeAttribute(_t1005),_s442=!0;else if(_t1005.startsWith("data-bx-")){var _s443=_t1005.substring(8);_e756.setAttributeNS(l.bx,"bx:".concat(_s443),_i753),_e756.removeAttribute(_t1005),_n327=!0;}}}else{var _t1006=Ei("svg:title");_t1006.innerHTML=_e756.innerHTML;var _iterator635=_createForOfIteratorHelper(_e756.attributes),_step635;try{for(_iterator635.s();!(_step635=_iterator635.n()).done;){var _step635$value=_step635.value,_i754=_step635$value.name,_s444=_step635$value.value;_t1006.setAttribute(_i754,_s444);}}catch(err){_iterator635.e(err);}finally{_iterator635.f();}_e756.replaceWith(_t1006);}}t.removeAttribute("xmlns"),t.removeAttribute("xmlns:bx"),t.removeAttribute("xmlns:xlink"),t.setAttributeNS(l.xmlns,"xmlns",l.svg),_s442&&t.setAttributeNS(l.xmlns,"xmlns:xlink",l.xlink),_n327&&t.setAttributeNS(l.xmlns,"xmlns:bx",l.bx);}else if("html"===e){var _e757,_i755=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT);for(;_e757=_i755.nextNode();){if("bx-title"!==_e757.localName)for(var _i756=0,_arr31=_toConsumableArray(_e757.attributes);_i756<_arr31.length;_i756++){var _arr31$_i=_arr31[_i756],_t1007=_arr31$_i.name,_i757=_arr31$_i.value;"href"!==_t1007&&"_href"!==_t1007||(_e757.setAttribute("xlink:href",_i757),_e757.removeAttribute(_t1007));}else{var _t1008=Ei("svg:title");_t1008.innerHTML=_e757.innerHTML;var _iterator636=_createForOfIteratorHelper(_e757.attributes),_step636;try{for(_iterator636.s();!(_step636=_iterator636.n()).done;){var _step636$value=_step636.value,_i758=_step636$value.name,_s445=_step636$value.value;_t1008.setAttribute(_i758,_s445);}}catch(err){_iterator636.e(err);}finally{_iterator636.f();}_e757.replaceWith(_t1008);}}}},nu=function nu(t){return null!==new DOMParser().parseFromString(t,"text/html").querySelector("svg");},ou=function ou(t,e){var i=document.createElement("div");i.setAttribute("style","width: 1px; height: 1px; position: fixed; top: -1px; left: -1px; overflow: hidden;"),i.attachShadow({mode:"open"}),i.shadowRoot.append(t),i.shadowRoot.append(e),document.body.append(i);var _iterator637=_createForOfIteratorHelper(t.querySelectorAll("use")),_step637;try{for(_iterator637.s();!(_step637=_iterator637.n()).done;){var _i772=_step637.value;if(""!==_i772.href.baseVal){var _s457=t.querySelector(_i772.href.baseVal),_n331=e.querySelector(_i772.href.baseVal);_s457&&_n331&&$i(_s457,_n331)&&_s457.remove();}}}catch(err){_iterator637.e(err);}finally{_iterator637.f();}{var _i759=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i759=_i759.filter(function(t){return Mo(t);});var _s446=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s446=_s446.filter(function(t){return Mo(t);});var _iterator638=_createForOfIteratorHelper(_i759),_step638;try{var _loop17=function _loop17(){var t=_step638.value;var e=_s446.find(function(e){return e.id===t.id;});e&&!0===Bo([t,e])&&t.remove();};for(_iterator638.s();!(_step638=_iterator638.n()).done;){_loop17();}}catch(err){_iterator638.e(err);}finally{_iterator638.f();}}{var _i760=_toConsumableArray(t.querySelectorAll("linearGradient,radialGradient"));_i760=_i760.filter(function(t){return Do(t);});var _s447=_toConsumableArray(e.querySelectorAll("linearGradient,radialGradient"));_s447=_s447.filter(function(t){return Do(t);});var _iterator639=_createForOfIteratorHelper(_i760),_step639;try{var _loop18=function _loop18(){var t=_step639.value;var e=_s447.find(function(e){return e.id===t.id;});e&&!0===Bo([t,e])&&t.remove();};for(_iterator639.s();!(_step639=_iterator639.n()).done;){_loop18();}}catch(err){_iterator639.e(err);}finally{_iterator639.f();}}{var _i761=_toConsumableArray(t.querySelectorAll("pattern:not([href])")),_s448=_toConsumableArray(e.querySelectorAll("pattern:not([href])"));var _iterator640=_createForOfIteratorHelper(_i761),_step640;try{var _loop19=function _loop19(){var t=_step640.value;var e=_s448.find(function(e){return e.id===t.id;});e&&$i(t,e)&&t.remove();};for(_iterator640.s();!(_step640=_iterator640.n()).done;){_loop19();}}catch(err){_iterator640.e(err);}finally{_iterator640.f();}}{var _i762=_toConsumableArray(t.querySelectorAll("marker")),_s449=_toConsumableArray(e.querySelectorAll("marker"));var _iterator641=_createForOfIteratorHelper(_i762),_step641;try{var _loop20=function _loop20(){var t=_step641.value;var e=_s449.find(function(e){return e.id===t.id;});e&&$i(t,e)&&t.remove();};for(_iterator641.s();!(_step641=_iterator641.n()).done;){_loop20();}}catch(err){_iterator641.e(err);}finally{_iterator641.f();}}{var _i763=_toConsumableArray(t.querySelectorAll("filter"));_i763=_i763.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _s450=_toConsumableArray(e.querySelectorAll("filter"));_s450=_s450.filter(function(t){return!1===t.hasAttribute("data-bx-preset");});var _iterator642=_createForOfIteratorHelper(_i763),_step642;try{var _loop21=function _loop21(){var t=_step642.value;var e=_s450.find(function(e){return e.id===t.id;});e&&$i(t,e)&&t.remove();};for(_iterator642.s();!(_step642=_iterator642.n()).done;){_loop21();}}catch(err){_iterator642.e(err);}finally{_iterator642.f();}}{var _e758=_toConsumableArray(t.querySelectorAll("view"));var _iterator643=_createForOfIteratorHelper(_e758),_step643;try{for(_iterator643.s();!(_step643=_iterator643.n()).done;){var _t1009=_step643.value;_t1009.remove();}}catch(err){_iterator643.e(err);}finally{_iterator643.f();}}var _iterator644=_createForOfIteratorHelper(t.querySelectorAll("[data-bx-pinned]")),_step644;try{for(_iterator644.s();!(_step644=_iterator644.n()).done;){var _e766=_step644.value;_e766.removeAttribute("data-bx-pinned");}}catch(err){_iterator644.e(err);}finally{_iterator644.f();}{var _e759=_toConsumableArray(t.querySelectorAll("style")).filter(function(t){return!t.hasAttribute("data-bx-fonts");}),_i764=new Set();var _iterator645=_createForOfIteratorHelper(_e759),_step645;try{for(_iterator645.s();!(_step645=_iterator645.n()).done;){var _s452=_step645.value;var _iterator649=_createForOfIteratorHelper(_s452.sheet.rules),_step649;try{for(_iterator649.s();!(_step649=_iterator649.n()).done;){var _e760=_step649.value;if(_e760.type===CSSRule.STYLE_RULE){var _iterator650=_createForOfIteratorHelper(t.querySelectorAll(_e760.selectorText)),_step650;try{for(_iterator650.s();!(_step650=_iterator650.n()).done;){var _s453=_step650.value;_i764.add(_s453);}}catch(err){_iterator650.e(err);}finally{_iterator650.f();}}}}catch(err){_iterator649.e(err);}finally{_iterator649.f();}}}catch(err){_iterator645.e(err);}finally{_iterator645.f();}var _s451=Symbol();var _iterator646=_createForOfIteratorHelper(_i764),_step646;try{for(_iterator646.s();!(_step646=_iterator646.n()).done;){var _t1010=_step646.value;_t1010[_s451]=kh(_t1010);}}catch(err){_iterator646.e(err);}finally{_iterator646.f();}var _iterator647=_createForOfIteratorHelper(_e759),_step647;try{for(_iterator647.s();!(_step647=_iterator647.n()).done;){var _t1011=_step647.value;_t1011.remove();}}catch(err){_iterator647.e(err);}finally{_iterator647.f();}var _iterator648=_createForOfIteratorHelper(_i764),_step648;try{for(_iterator648.s();!(_step648=_iterator648.n()).done;){var _t1012=_step648.value;var _e761=_t1012[_s451],_i765=kh(_t1012);for(var _i766=0,_Object$entries4=Object.entries(_e761);_i766<_Object$entries4.length;_i766++){var _Object$entries4$_i=_slicedToArray(_Object$entries4[_i766],2),_s454=_Object$entries4$_i[0],_n328=_Object$entries4$_i[1];_n328!==_i765[_s454]&&_t1012.style.setProperty(_s454,_n328);}}}catch(err){_iterator648.e(err);}finally{_iterator648.f();}t.remove();}{var _i767=_toConsumableArray(t.querySelectorAll("[id]")).map(function(t){return t.id;}),_s455=_toConsumableArray(e.querySelectorAll("[id]")).map(function(t){return t.id;});t.id&&_i767.push(t.id),e.id&&_s455.push(e.id);var _n329=_i767.filter(function(t){return _s455.includes(t);});_n329=ei(_n329);var _o262={},_l234={},_a178={};for(var _i768=0,_arr32=[].concat(_toConsumableArray(_i767),_toConsumableArray(_s455));_i768<_arr32.length;_i768++){var _t1013=_arr32[_i768];_a178[_t1013]=!0;}var _iterator651=_createForOfIteratorHelper(_n329),_step651;try{for(_iterator651.s();!(_step651=_iterator651.n()).done;){var _e765=_step651.value;var _i771=void 0,_s456=void 0,_n330=void 0;for(_i771=t.id===_e765?t:t.querySelector("#"+CSS.escape(_e765)),_s456="linearGradient"===_i771.localName||"radialGradient"===_i771.localName?_i771.href.baseVal.length>1?_i771.href.baseVal.substring(1):Mo(_i771)?"color":"gradient":"clipPath"===_i771.localName?"clip":_i771.localName,void 0===_o262[_s456]&&(_o262[_s456]=1);;){var _t1016=_s456+"-"+_o262[_s456];if(void 0===_a178[_t1016]){_n330=_t1016;break;}_o262[_s456]+=1;}_l234[_e765]=_n330,_a178[_n330]=!0;}}catch(err){_iterator651.e(err);}finally{_iterator651.f();}var _h145=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),_r89=null;for(;_r89=_h145.nextNode();){if(void 0!==_l234[_r89.id]&&(_r89.id=_l234[_r89.id]),_r89.href&&"#"===_r89.href.baseVal[0]){var _t1014=_r89.href.baseVal.substring(1);void 0!==_l234[_t1014]&&_r89.setAttribute("href","#"+_l234[_t1014]);}var _iterator652=_createForOfIteratorHelper(I),_step652;try{for(_iterator652.s();!(_step652=_iterator652.n()).done;){var _t1015=_step652.value;{var _e762=_r89.style.getPropertyValue(_t1015);if(_e762&&_e762.startsWith("url(")){var _i769=_e762.substring(6,_e762.length-2);void 0!==_l234[_i769]&&(_r89.style.removeProperty(_t1015),_r89.style.setProperty(_t1015,"url(#".concat(_l234[_i769],")")));}}{var _e763=_r89.getAttribute(_t1015);if(_e763&&_e763.includes("url(")){var _i770=lo.fromString(_e763);if(_i770&&"#"===_i770.value[0]){var _e764=_i770.value.substring(1);void 0!==_l234[_e764]&&_r89.setAttribute(_t1015,"url(#".concat(_l234[_e764],")"));}}}}}catch(err){_iterator652.e(err);}finally{_iterator652.f();}}}i.remove();},lu=function lu(t){return new Promise(function(e){var i=new Image();i.src=t,i.onload=function(){var s=i.naturalWidth,n=i.naturalHeight;e("<?xml version=\"1.0\" encoding=\"utf-8\"?><svg xmlns=\"".concat(l.svg,"\" xmlns:xlink=\"").concat(l.xlink,"\" viewBox=\"0 0 ").concat(s," ").concat(n,"\">  <image width=\"").concat(s,"\" height=\"").concat(n,"\" xlink:href=\"").concat(t,"\"></image></svg>"));};});},au=function au(t){var e=document.createElementNS(l.svg,"g");for(var _i773=0,_Object$entries5=Object.entries(Object.getOwnPropertyDescriptors(t));_i773<_Object$entries5.length;_i773++){var _Object$entries5$_i=_slicedToArray(_Object$entries5[_i773],2),_s458=_Object$entries5$_i[0],_n332=_Object$entries5$_i[1];_n332.get||_n332.set?Object.defineProperty(e,_s458,_n332):_n332.value&&(i=_n332.value,e[_s458]=i instanceof Function?_n332.value.bind(e):_n332.value);}var i;return Object.defineProperty(e,"enabled",{get:function get(){return this.hasAttribute("enabled");},set:function set(t){!0===t&&!1===this.enabled?(this.setAttribute("enabled",""),this.enabledCallback&&this.enabledCallback()):!1===t&&!0===this.enabled&&(this.removeAttribute("enabled"),this.disabledCallback&&this.disabledCallback());}}),e.createdCallback&&e.createdCallback(),e;},hu=Object.defineProperty,ru=Object.freeze,du=.1,cu=6e3,pu=450,uu=1.8,xu=20,bu=14,mu={childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1},gu=[Zc,Bc,Fc,Ac,Vr,Yr,Xr,Jr,id,rd,pd,bd,vd,Md,Dd,Ed,Ad,Ld,Ud,ac,kc,Sc,Pc,Dc,zc,Oc,Ec,pp,gp,pc,gc,yc,fp,Xc,Kc,cp];var fu=/*#__PURE__*/function(_HTMLElement58){_inherits(fu,_HTMLElement58);var _super64=_createSuper(fu);_createClass(fu,[{key:"whenConnected",get:function get(){var _this371=this;return new Promise(function(t){_this371.isConnected?t():_this371.rc.push(t);});}},{key:"defs",get:function get(){return this.masterWorkspace.querySelector("defs");}},{key:"selectedElements",get:function get(){return _toConsumableArray(this.dc);},set:function set(t){this.dc=t,this.dispatchEvent(new CustomEvent("selectedelementschange"));}},{key:"selectedObjectElements",get:function get(){return this.selectedElements.filter(function(t){return g.includes(t.localName);});}},{key:"outermostSelectedElements",get:function get(){var t=this.selectedElements,e=[];var _iterator653=_createForOfIteratorHelper(t),_step653;try{for(_iterator653.s();!(_step653=_iterator653.n()).done;){var _i774=_step653.value;var _s459=!0;var _iterator654=_createForOfIteratorHelper(t),_step654;try{for(_iterator654.s();!(_step654=_iterator654.n()).done;){var _e767=_step654.value;if(_e767!==_i774&&_e767.contains(_i774)){_s459=!1;break;}}}catch(err){_iterator654.e(err);}finally{_iterator654.f();}_s459&&e.push(_i774);}}catch(err){_iterator653.e(err);}finally{_iterator653.f();}return e;}},{key:"outermostSelectedObjectElements",get:function get(){return this.outermostSelectedElements.filter(function(t){return g.includes(t.localName);});}},{key:"selectedTextRange",get:function get(){return this.cc;},set:function set(t){null===this.cc&&null===t||this.cc&&t&&this.cc.startContainer===t.startContainer&&this.cc.endContainer===t.endContainer&&this.cc.startOffset===t.startOffset&&this.cc.endOffset===t.endOffset||(this.cc=t,this.dispatchEvent(new CustomEvent("selectedtextrangechange")));}},{key:"currentContainer",get:function get(){return this.uc;},set:function set(t){this.uc=t,this.dispatchEvent(new CustomEvent("currentcontainerchange"));}},{key:"zoom",get:function get(){var t=this["#vector-canvas"].transform.baseVal[0].matrix.a;return t>0?100*t:du;},set:function set(t){var e;if(this.xc)e=this.Qs.pointerClientPoint;else{var _t1017=this.getBoundingClientRect();e=new DOMPoint(_t1017.x+_t1017.width/2,_t1017.y+_t1017.height/2);}var i=Q(t,du,cu)/100,s=Ht(this["#vector-layer"]).inverse(),n=e.matrixTransform(s),o=new DOMMatrix();o.scaleSelf(i/this.scale,i/this.scale,1,n.x,n.y),o.multiplySelf(Vt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",o),this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"scale",get:function get(){return this.zoom/100;},set:function set(t){this.zoom=100*t;}},{key:"geometryPrecision",get:function get(){return this.mc;}},{key:"transformPrecision",get:function get(){return this.gc;}},{key:"huds",get:function get(){return this["#huds"];}},{key:"rulers",get:function get(){return this["#rulers"];}},{key:"workspaces",get:function get(){return this["#workspaces"];}},{key:"masterWorkspace",get:function get(){return this["#workspaces"].children[1];}},{key:"currentWorkspace",get:function get(){return this["#workspaces"]?this["#workspaces"].lastElementChild:null;}},{key:"vectorCanvas",get:function get(){return this["#vector-canvas"];}},{key:"pixelCanvas",get:function get(){return this["#pixel-canvas"];}},{key:"undoManager",get:function get(){return this.fc;}},{key:"snapManager",get:function get(){return this.wc;}},{key:"fontsManager",get:function get(){return this.vc;}},{key:"showManualGuides",get:function get(){return this.yc;},set:function set(t){this.yc=t,this.Qs.setConfig("bx-board:showManualGuides",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showSmartGuides",get:function get(){return this.Sc;},set:function set(t){this.Sc=t,this.Qs.setConfig("bx-board:showSmartGuides",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showGrid",get:function get(){return this._c;},set:function set(t){this._c=t,this.Qs.setConfig("bx-board:showGrid",t),this.kc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showTransparency",get:function get(){return this.Cc;},set:function set(t){this.Cc=t,this.Qs.setConfig("bx-board:showTransparency",t),t?this["#vector-canvas"].setAttribute("data-transparent",""):this["#vector-canvas"].removeAttribute("data-transparent"),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"showViews",get:function get(){return this.Mc;},set:function set(t){this.Mc=t,this.Qs.setConfig("bx-board:showViews",t),this.Pc(),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}}]);function fu(){var _this370;_classCallCheck(this,fu);_this370=_super64.call(this),_this370.dc=[],_this370.cc=null,_this370.uc=null,_this370.mc=3,_this370.gc=6,_this370.Dc=!1,_this370.zc=!1,_this370.xc=!1,_this370.Ln=!1,_this370.rc=[],_this370.Oc=Ki(_this370.Ec,100,_assertThisInitialized(_this370)),_this370._shadowRoot=_this370.attachShadow({mode:"closed"}),_this370._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,fu._shadowStyleSheet],_this370._shadowRoot.append(document.importNode(fu._shadowTemplate.content,!0));var _iterator655=_createForOfIteratorHelper(_this370._shadowRoot.querySelectorAll("[id]")),_step655;try{for(_iterator655.s();!(_step655=_iterator655.n()).done;){var _t1018=_step655.value;_this370["#"+_t1018.id]=_t1018;}}catch(err){_iterator655.e(err);}finally{_iterator655.f();}var _iterator656=_createForOfIteratorHelper(gu),_step656;try{for(_iterator656.s();!(_step656=_iterator656.n()).done;){var _t1019=_step656.value;var _e768=au(_t1019);_this370["#huds"].append(_e768);}}catch(err){_iterator656.e(err);}finally{_iterator656.f();}var _iterator657=_createForOfIteratorHelper(_this370["#huds"].children),_step657;try{var _loop22=function _loop22(){var t=_step657.value;_this370["#"+t.id]=t,hu(_assertThisInitialized(_this370),li(t.id),{get:function get(){return t;}});};for(_iterator657.s();!(_step657=_iterator657.n()).done;){_loop22();}}catch(err){_iterator657.e(err);}finally{_iterator657.f();}var _iterator658=_createForOfIteratorHelper(_this370["#contexts"].children),_step658;try{var _loop23=function _loop23(){var t=_step658.value;hu(_assertThisInitialized(_this370),li(t.id),{get:function get(){return t;}});};for(_iterator658.s();!(_step658=_iterator658.n()).done;){_loop23();}}catch(err){_iterator658.e(err);}finally{_iterator658.f();}_this370["#vector-layer"].pauseAnimations(),_this370["#pixel-canvas"].setAttribute("width",window.innerWidth),_this370["#pixel-canvas"].setAttribute("height",window.innerHeight),_this370.fc=new yp(_this370["#workspaces"]),_this370.wc=new Hp(_assertThisInitialized(_this370)),_this370.vc=new Vp(_this370["#workspaces"]),new MutationObserver(function(t){return _this370.sl(t);}).observe(_this370["#workspaces"],mu),_this370.addEventListener("pointerenter",function(){return _this370.xc=!0;}),_this370.addEventListener("pointerleave",function(){return _this370.xc=!1;}),_this370.addEventListener("pointerdown",function(t){return _this370.wo(t);}),_this370.addEventListener("scroll",function(t){return _this370.Tc(t);}),_this370.addEventListener("wheel",function(t){return _this370.lo(t);}),_this370.fc.addEventListener("undo",function(t){return _this370.Ac(t);}),_this370.fc.addEventListener("redo",function(t){return _this370.Ac(t);}),navigator.maxTouchPoints>0&&_this370.$c();return _this370;}_createClass(fu,[{key:"connectedCallback",value:function connectedCallback(){var _this372=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.tabIndex=0,this.Dc=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),this.zc=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.mc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),this.gc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),this.showManualGuides=this.Qs.getConfig("bx-board:showManualGuides",!1),this.showSmartGuides=this.Qs.getConfig("bx-board:showSmartGuides",!1),this.showGrid=this.Qs.getConfig("bx-board:showGrid",!1),this.showTransparency=this.Qs.getConfig("bx-board:showTransparency",!1),this.showViews=this.Qs.getConfig("bx-board:showViews",!0),window.addEventListener("orientationchange",this.Ic=function(){return _this372.Lc();}),this.Qs.addEventListener("configchange",this.ln=function(t){return _this372.an(t);}),this.Qs.addEventListener("keydown",this.wn=function(t){return _this372.vn(t);});var _iterator659=_createForOfIteratorHelper(this.rc),_step659;try{for(_iterator659.s();!(_step659=_iterator659.n()).done;){var _t1021=_step659.value;_t1021();}}catch(err){_iterator659.e(err);}finally{_iterator659.f();}if(this.rc=[],this.Lc(),this.kc(),this.Ec(),!this.Bc){var _t1020=function _t1020(){!1===document.webkitHidden&&_this372.isConnected&&!_this372.Bc&&(document.removeEventListener("visibilitychange",_t1020),_e769&&_e769.unobserve(_this372),_this372.Bc=!0,_this372.Rc(),ts(300).then(function(){return _this372.Rc();}));},_e769=window.ResizeObserver?new ResizeObserver(_t1020):null;_e769?_e769.observe(this):(this.Bc=!0,ts(200).then(function(){return _this372.Rc();}),ts(300).then(function(){return _this372.Rc();}),ts(800).then(function(){return _this372.Rc();}),ts(1200).then(function(){return _this372.Rc();})),document.addEventListener("visibilitychange",_t1020),this.Rc();}}},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("orientationchange",this.Ic),this.Qs.removeEventListener("configchange",this.ln),this.Qs.removeEventListener("keydown",this.wn);}},{key:"an",value:function an(t){var _t$detail4=t.detail,e=_t$detail4.key,i=_t$detail4.value;"bx-uisettings:limitScrollableArea"===e?this.Dc=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1):"bx-uisettings:showViewOutlineAboveObjects"===e?(this.zc=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1),this.Pc()):"bx-markupsettings:geometryPrecision"===e?this.mc=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3):"bx-markupsettings:transformPrecision"===e&&(this.gc=this.Qs.getConfig("bx-markupsettings:transformPrecision",6));}},{key:"wo",value:function wo(t){var _this373=this;if(1===t.button){var _e770,_i777,_s460=t.clientX,_n333=t.clientY;this.setPointerCapture(t.pointerId),this.addEventListener("pointermove",_e770=function _e770(t){var _iterator660=_createForOfIteratorHelper(t.getCoalescedEvents()),_step660;try{for(_iterator660.s();!(_step660=_iterator660.n()).done;){var _e771=_step660.value;var _t1022=_e771.clientX-_s460,_i776=_e771.clientY-_n333;_this373.Vn(_t1022,_i776),_s460=_e771.clientX,_n333=_e771.clientY;}}catch(err){_iterator660.e(err);}finally{_iterator660.f();}}),this.addEventListener("pointerup",_i777=function _i775(){_this373.removeEventListener("pointermove",_e770),_this373.removeEventListener("pointerup",_i777);});}}},{key:"vn",value:function vn(t){var _this374=this;if("Space"===t.code&&!1===this.Qs.isPointerDown&&!1===this.Qs.textInputMode){var _e772=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");if("togglePreviousTool"===_e772)this.Js.togglePreviousTool(),t.preventDefault();else if("pan"===_e772&&!1===this.Ln){var _e773,_i780;this.Ln=!0;var _s461=this.Qs.pointerClientPoint.x,_n334=this.Qs.pointerClientPoint.y;window.addEventListener("pointermove",_e773=function _e773(t){var _iterator661=_createForOfIteratorHelper(t.getCoalescedEvents()),_step661;try{for(_iterator661.s();!(_step661=_iterator661.n()).done;){var _e774=_step661.value;var _t1023=_e774.clientX-_s461,_i779=_e774.clientY-_n334;_this374.Vn(_t1023,_i779),_s461=_e774.clientX,_n334=_e774.clientY;}}catch(err){_iterator661.e(err);}finally{_iterator661.f();}}),window.addEventListener("keyup",_i780=function _i778(){"Space"===t.code&&!0===_this374.Ln&&(window.removeEventListener("pointermove",_e773),window.removeEventListener("keyup",_i780),_this374.Ln=!1);});}}}},{key:"Tc",value:function Tc(t){this.scrollLeft=0,this.scrollTop=0,document.documentElement.scrollLeft=0,document.documentElement.scrollTop=0,document.body.scrollLeft=0,document.body.scrollTop=0;}},{key:"lo",value:function lo(t){t.preventDefault();var e=Q(t.wheelDeltaX,-xu,xu,1),i=Q(t.wheelDeltaY,-xu,xu,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey)this.Vn(e/uu,i/uu);else{var _e775=new DOMPoint(t.clientX,t.clientY);this.Gc(i/pu,_e775);}}},{key:"sl",value:function sl(t){this.dispatchEvent(new CustomEvent("workspacemutation",{detail:t}));var e=!1,i=!1,s=!1;var _iterator662=_createForOfIteratorHelper(t),_step662;try{for(_iterator662.s();!(_step662=_iterator662.n()).done;){var _n335=_step662.value;if(_n335.target===this["#workspaces"])"childList"===_n335.type&&(e=!0);else if("defs"===_n335.target.localName){if(_n335.removedNodes.length>0){"view"===_n335.removedNodes[0].localName&&(s=!0);var _iterator663=_createForOfIteratorHelper(_n335.removedNodes),_step663;try{for(_iterator663.s();!(_step663=_iterator663.n()).done;){var _t1024=_step663.value;if(_t1024.hasAttribute&&_t1024.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator663.e(err);}finally{_iterator663.f();}}else if(_n335.addedNodes.length>0){"view"===_n335.addedNodes[0].localName&&(s=!0);var _iterator664=_createForOfIteratorHelper(_n335.addedNodes),_step664;try{for(_iterator664.s();!(_step664=_iterator664.n()).done;){var _t1025=_step664.value;if(_t1025.hasAttribute&&_t1025.hasAttribute("data-bx-fonts")){i=!0;break;}}}catch(err){_iterator664.e(err);}finally{_iterator664.f();}}}else"style"===_n335.target.localName?_n335.target.hasAttribute("data-bx-fonts")&&(i=!0):"g"===_n335.target.localName?_n335.target.hasAttribute("data-bx-workspace")&&"attributes"===_n335.type&&"viewBox"===_n335.attributeName&&(s=!0):"view"===_n335.target.localName?"attributes"===_n335.type&&"viewBox"===_n335.attributeName&&(s=!0):"#text"===_n335.target.nodeName&&_n335.target.parentElement&&_n335.target.parentElement.hasAttribute("data-bx-fonts")&&(i=!0);}}catch(err){_iterator662.e(err);}finally{_iterator662.f();}e&&(this.Rc(),this.dispatchEvent(new CustomEvent("currentworkspacechange"))),i&&this.Oc(),(s||e)&&this.Pc();}},{key:"Ac",value:function Ac(t){var _this375=this;var _t$detail5=t.detail,e=_t$detail5.addedNodes,i=_t$detail5.removedNodes,s=_t$detail5.modifiedNodes,n=new Set(this.selectedElements),o=null;var _iterator665=_createForOfIteratorHelper(e),_step665;try{for(_iterator665.s();!(_step665=_iterator665.n()).done;){var _t1028=_step665.value;n.add(_t1028);}}catch(err){_iterator665.e(err);}finally{_iterator665.f();}var _iterator666=_createForOfIteratorHelper(s),_step666;try{for(_iterator666.s();!(_step666=_iterator666.n()).done;){var _t1029=_step666.value;n.add(_t1029);}}catch(err){_iterator666.e(err);}finally{_iterator666.f();}var _iterator667=_createForOfIteratorHelper(i),_step667;try{for(_iterator667.s();!(_step667=_iterator667.n()).done;){var _t1030=_step667.value;n["delete"](_t1030);}}catch(err){_iterator667.e(err);}finally{_iterator667.f();}if(n=_toConsumableArray(n).filter(function(t){return _this375.isSelectableElement(t);}),n.length>0){var _t1026=n[0];_t1026.parentElement!==this.currentWorkspace&&(o=_t1026.parentElement);}if(this.currentContainer=o,this.selectedElements=n,this.selectedTextRange){var _this$selectedTextRan=this.selectedTextRange,_t1027=_this$selectedTextRan.startContainer,_e776=_this$selectedTextRan.endContainer,_i781=!1;var _iterator668=_createForOfIteratorHelper(n),_step668;try{for(_iterator668.s();!(_step668=_iterator668.n()).done;){var _s462=_step668.value;(_s462.contains(_t1027)||_s462.contains(_e776))&&(_i781=!0);}}catch(err){_iterator668.e(err);}finally{_iterator668.f();}!1===_i781&&(this.selectedTextRange=null);}{var _e777="undo"===t.type?"Undo":"Redo";t.detail.label&&(_e777="<strong>".concat(_e777,"</strong>: ").concat(t.detail.label)),this.Qs.openNotification(_e777);}}},{key:"$c",value:function $c(){var _this376=this;var t=new Map(),e=null,i=0,s=-1,n=1,o=new Z(),l="auto",a=function a(_a180){if("touch"===_a180.pointerType&&t.has(_a180.pointerId))if(t.get(_a180.pointerId).push(new DOMPoint(_a180.clientX,_a180.clientY)),1===t.size){var _ref105=_toConsumableArray(t.values()),_e778=_ref105[0];_e778.length>3&&t["delete"](_a180.pointerId);}else if(2===t.size){var _ref106=_toConsumableArray(t.values()),_a179=_ref106[0],_h146=_ref106[1],_r90=_a179[_a179.length-1],_d70=_h146[_h146.length-1],_c57=Oe(_r90,_d70),_p48=ze(_r90,_d70),_u41=_p48/i,_x117=_u41-n,_b36=new Z(e,_c57),_m35=ce(_b36,o);if("auto"===l){if(!(_a179.length>=3&&_h146.length>=3&&(_a179.length>=9||_h146.length>=9)))return;{var _t1031=ue(new Z(_a179[0],_a179[_a179.length-1]),new Z(_h146[0],_h146[_h146.length-1]));l=_t1031<-130||_t1031>130?"zoom":"scroll";}}s>0&&("auto"===l||"scroll"===l?_this376.Vn(_m35.x,_m35.y):"zoom"===l&&_this376.Gc(_x117,e)),s=_p48,n=_u41,o=_b36;}},h=function h(e){"touch"===e.pointerType&&(t["delete"](e.pointerId),t.size<2&&(s=-1,l="auto"));};this.addEventListener("pointerdown",function(s){return function(s){if("touch"===s.pointerType)if(t.set(s.pointerId,[new DOMPoint(s.clientX,s.clientY)]),2===t.size){var _ref107=_toConsumableArray(t.values()),_s463=_ref107[0],_n336=_ref107[1],_o263=_s463[_s463.length-1],_l235=_n336[_n336.length-1];e=Oe(_o263,_l235),i=ze(_o263,_l235);}else e=null;}(s);}),this.addEventListener("pointermove",function(t){return a(t);}),this.addEventListener("pointerup",function(t){return h(t);}),this.addEventListener("pointercancel",function(t){return h(t);}),this.addEventListener("pointerout",function(t){return h(t);}),this.addEventListener("pointerleave",function(t){return h(t);});}},{key:"setArtwork",value:function setArtwork(t){for(var _i782=0,_arr33=_toConsumableArray(this["#workspaces"].children);_i782<_arr33.length;_i782++){var _t1032=_arr33[_i782];_t1032!==this["#whitespace"]&&_t1032.remove();}var e=Zi(_templateObject10());var _iterator669=_createForOfIteratorHelper(t.attributes),_step669;try{for(_iterator669.s();!(_step669=_iterator669.n()).done;){var _step669$value=_step669.value,_i783=_step669$value.name,_s464=_step669$value.value;"transform"===_i783?e.setAttribute("data-bx-transform",_s464):e.setAttribute(_i783,_s464);}}catch(err){_iterator669.e(err);}finally{_iterator669.f();}for(;t.firstChild;){e.appendChild(t.firstChild);}this["#workspaces"].append(e);var _iterator670=_createForOfIteratorHelper(this.masterWorkspace.querySelectorAll("style[data-bx-fonts]")),_step670;try{for(_iterator670.s();!(_step670=_iterator670.n()).done;){var _t1033=_step670.value;_t1033.replaceWith(_t1033);}}catch(err){_iterator670.e(err);}finally{_iterator670.f();}this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null,this.undoManager.clear(),this.dispatchEvent(new CustomEvent("artworkchange"));}},{key:"setDefaultArtwork",value:function setDefaultArtwork(){var t=Dh('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"></svg>');this.setArtwork(t);}},{key:"insertBitmap",value:function(){var _insertBitmap=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee95(t){var e,_yield$Zh,i,s,n,o,l,a,_t1034,h,r,_args96=arguments;return regeneratorRuntime.wrap(function _callee95$(_context96){while(1){switch(_context96.prev=_context96.next){case 0:e=_args96.length>1&&_args96[1]!==undefined?_args96[1]:"boardCenter";_context96.next=3;return Zh(t);case 3:_yield$Zh=_context96.sent;i=_yield$Zh.width;s=_yield$Zh.height;n=Ei("svg:image");n.setAttribute("href",t),n.setAttribute("width",i),n.setAttribute("height",s);l=this.currentContainer||this.currentWorkspace,a=Ht(l).inverse();if("boardCenter"===e){_t1034=this.getBoundingClientRect();o=new DOMPoint(_t1034.left+_t1034.width/2,_t1034.top+_t1034.height/2);}else"pointer"===e&&(o=this.Qs.pointerClientPoint);h=o.matrixTransform(a);l.append(n);r=Pi(n);n.setAttribute("x",h.x-r.width/2),n.setAttribute("y",h.y-r.height/2),this.selectedElements=[n];case 14:case"end":return _context96.stop();}}},_callee95,this);}));function insertBitmap(_x118){return _insertBitmap.apply(this,arguments);}return insertBitmap;}()},{key:"insertBitmapIntoBBox",value:function insertBitmapIntoBBox(t,e){var _this377=this;return new Promise(/*#__PURE__*/function(){var _ref108=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee96(i){var s,n,o,_yield$Zh2,l,a,h,r,d,c,p,u,x,b,m,g;return regeneratorRuntime.wrap(function _callee96$(_context97){while(1){switch(_context97.prev=_context97.next){case 0:s=_this377.currentContainer||_this377.currentWorkspace;n=_this377.geometryPrecision;o=_this377.transformPrecision;_context97.next=5;return Zh(t);case 5:_yield$Zh2=_context97.sent;l=_yield$Zh2.width;a=_yield$Zh2.height;h=l/a;r=e.width/h;d=new DOMPoint(0,0);c=new DOMPoint(l,0);p=new DOMPoint(0,a);u=new DOMPoint(e.x,e.y);x=new DOMPoint(e.x+e.width,e.y);b=new DOMPoint(e.x,e.y+r);m=Ht(s).inverse().multiply(Yt(d,c,p,u,x,b));g=Ei("svg:image");g.setAttribute("href",t),g.setAttribute("width",l),g.setAttribute("height",a),g.setAttribute("transform",m.toString()),s.append(g),fa(g,{geometryPrecision:n,transformPrecision:o}),_this377.selectedTextRange=null,_this377.selectedElements=[g],i(g);case 19:case"end":return _context97.stop();}}},_callee96);}));return function(_x119){return _ref108.apply(this,arguments);};}());}},{key:"insertArtworkIntoBBox",value:function insertArtworkIntoBBox(t,e){var i=this.currentWorkspace,s=this.extractArtwork(),n=Ht(this["#vector-canvas"]).inverse(),o=Ne(e,n),l=Ei("svg:g");ou(t,s);{var _e779=null;if(t.hasAttribute("viewBox")?_e779=Rt.fromString(t.getAttribute("viewBox")):t.width.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&t.height.baseVal.unitType!==SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&(_e779=new Rt(0,0,t.width.baseVal.value,t.height.baseVal.value)),_e779){var _i784=t.getAttribute("preserveAspectRatio")||"xMidYMid meet",_It$fromString=It.fromString(_i784),_s465=_It$fromString.align,_n337=_It$fromString.meetOrSlice,_a181=o.width/_e779.width,_h147=o.height/_e779.height;"none"!==_s465&&"meet"===_n337?_a181>_h147?_a181=_h147:_h147>_a181&&(_h147=_a181):"none"!==_s465&&"slice"===_n337&&(_a181<_h147?_a181=_h147:_h147<_a181&&(_h147=_a181));var _r91=o.x-_e779.x*_a181,_d71=o.y-_e779.y*_h147;_s465.includes("xMid")&&(_r91+=(o.width-_e779.width*_a181)/2),_s465.includes("xMax")&&(_r91+=o.width-_e779.width*_a181),_s465.includes("YMid")&&(_d71+=(o.height-_e779.height*_h147)/2),_s465.includes("YMax")&&(_d71+=o.height-_e779.height*_h147);var _c58=new DOMMatrix();_c58.translateSelf(_r91,_d71),_c58.scaleSelf(_a181,_h147),_c58=Gt(_c58,this.transformPrecision),l.setAttribute("transform",_c58);}}var _iterator671=_createForOfIteratorHelper(t.style),_step671;try{for(_iterator671.s();!(_step671=_iterator671.n()).done;){var _e782=_step671.value;"shape-rendering"===_e782&&l.style.setProperty(_e782,t.style.getPropertyValue(_e782));}}catch(err){_iterator671.e(err);}finally{_iterator671.f();}for(var _i785=0,_arr34=_toConsumableArray(t.children);_i785<_arr34.length;_i785++){var _e780=_arr34[_i785];if("defs"===_e780.localName)for(var _i786=0,_arr35=_toConsumableArray(_e780.children);_i786<_arr35.length;_i786++){var _t1035=_arr35[_i786];if("style"===_t1035.localName&&_t1035.hasAttribute("data-bx-fonts")){var _e781=_t1035.getAttribute("data-bx-fonts");!1===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e781,"\"]"))&&this.defs.append(_t1035);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1035);}l.append(_e780);}return i.append(l),l;}},{key:"insertArtwork",value:function insertArtwork(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"boardCenter";var i=this.currentContainer||this.currentWorkspace,s=[],n=this.extractArtwork();ou(t,n);var _iterator672=_createForOfIteratorHelper(t.style),_step672;try{for(_iterator672.s();!(_step672=_iterator672.n()).done;){var _e786=_step672.value;"shape-rendering"===_e786&&i.style.setProperty(_e786,t.style.getPropertyValue(_e786));}}catch(err){_iterator672.e(err);}finally{_iterator672.f();}for(var _i787=0,_arr36=_toConsumableArray(t.children);_i787<_arr36.length;_i787++){var _e783=_arr36[_i787];if("defs"===_e783.localName)for(var _i788=0,_arr37=_toConsumableArray(_e783.children);_i788<_arr37.length;_i788++){var _t1036=_arr37[_i788];if("style"===_t1036.localName&&_t1036.hasAttribute("data-bx-fonts")){var _e784=_t1036.getAttribute("data-bx-fonts");null===this.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e784,"\"]"))&&this.defs.append(_t1036);}else this.maybeCreateDefsForMasterWorkspace(),this.defs.append(_t1036);}else if(f.includes(_e783.localName)){var _t1037=jt(i,this.currentWorkspace),_n338=Vt(_e783),_o264=new DOMMatrix();_o264.multiplySelf(_t1037.inverse()),_o264.multiplySelf(_n338),_o264=Gt(_o264,this.transformPrecision),_o264.isIdentity?_e783.removeAttribute("transform"):_e783.setAttribute("transform",_o264.toString()),i.append(_e783),s.push(_e783);}else i.append(_e783);}if("original"!==e){var _t1038=s.map(function(t){return Di(t);});_t1038=_t1038.filter(function(t){return t.width>0||t.height>0;});var _i789,_n339=Ve(_t1038);if("boardCenter"===e){var _t1039=this.getBoundingClientRect();_i789=new DOMPoint(_t1039.left+_t1039.width/2,_t1039.top+_t1039.height/2);}else _i789="belowOriginal"===e?new DOMPoint(_n339.x+_n339.width/2+15,_n339.y+_n339.height/2+15):this.Qs.pointerClientPoint;var _o265=_i789.x-(_n339.x+_n339.width/2),_l236=_i789.y-(_n339.y+_n339.height/2);var _iterator673=_createForOfIteratorHelper(s),_step673;try{for(_iterator673.s();!(_step673=_iterator673.n()).done;){var _t1040=_step673.value;var _e785=Ht(_t1040),_i790=_e785.inverse(),_s466=Vt(_t1040);_s466.multiplySelf(_i790),_s466.translateSelf(_o265,_l236),_s466.multiplySelf(_e785),_s466=Gt(_s466,this.transformPrecision),_t1040.setAttribute("transform",_s466.toString());}}catch(err){_iterator673.e(err);}finally{_iterator673.f();}}this.selectedElements=s;}},{key:"extractArtwork",value:function extractArtwork(){this.collectGarbage();var t=Ei("svg:svg"),e=this.masterWorkspace;var _iterator674=_createForOfIteratorHelper(e.attributes),_step674;try{for(_iterator674.s();!(_step674=_iterator674.n()).done;){var _step674$value=_step674.value,_i794=_step674$value.name,_s473=_step674$value.value;"data-bx-workspace"!==_i794&&("data-bx-transform"===_i794?t.setAttribute("transform",_s473):t.setAttribute(_i794,_s473));}}catch(err){_iterator674.e(err);}finally{_iterator674.f();}var _iterator675=_createForOfIteratorHelper(e.childNodes),_step675;try{for(_iterator675.s();!(_step675=_iterator675.n()).done;){var _i795=_step675.value;t.append(_i795.cloneNode(!0));}}catch(err){_iterator675.e(err);}finally{_iterator675.f();}if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e787=this.currentWorkspace,_i791=t.querySelector("symbol#".concat(CSS.escape(_e787.id)));var _iterator676=_createForOfIteratorHelper(_i791.attributes),_step676;try{for(_iterator676.s();!(_step676=_iterator676.n()).done;){var _step676$value=_step676.value,_t1041=_step676$value.name,_s467=_step676$value.value;!1===_e787.hasAttribute(_t1041)&&_i791.removeAttribute(_t1041);}}catch(err){_iterator676.e(err);}finally{_iterator676.f();}var _iterator677=_createForOfIteratorHelper(_e787.attributes),_step677;try{for(_iterator677.s();!(_step677=_iterator677.n()).done;){var _step677$value=_step677.value,_t1042=_step677$value.name,_s468=_step677$value.value;"data-bx-workspace"!==_t1042&&_i791.setAttribute(_t1042,_s468);}}catch(err){_iterator677.e(err);}finally{_iterator677.f();}_i791.innerHTML=_e787.innerHTML;}if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e788=this.currentWorkspace,_i792=t.querySelector("pattern#".concat(CSS.escape(_e788.id)));var _iterator678=_createForOfIteratorHelper(_i792.attributes),_step678;try{for(_iterator678.s();!(_step678=_iterator678.n()).done;){var _step678$value=_step678.value,_t1043=_step678$value.name,_s469=_step678$value.value;!1===_e788.hasAttribute(_t1043)&&_i792.removeAttribute(_t1043);}}catch(err){_iterator678.e(err);}finally{_iterator678.f();}var _iterator679=_createForOfIteratorHelper(_e788.attributes),_step679;try{for(_iterator679.s();!(_step679=_iterator679.n()).done;){var _step679$value=_step679.value,_t1044=_step679$value.name,_s470=_step679$value.value;"data-bx-workspace"!==_t1044&&_i792.setAttribute(_t1044,_s470);}}catch(err){_iterator679.e(err);}finally{_iterator679.f();}_i792.innerHTML=_e788.innerHTML;}if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){var _e789=this.currentWorkspace,_i793=t.querySelector("marker#".concat(CSS.escape(_e789.id)));var _iterator680=_createForOfIteratorHelper(_i793.attributes),_step680;try{for(_iterator680.s();!(_step680=_iterator680.n()).done;){var _step680$value=_step680.value,_t1045=_step680$value.name,_s471=_step680$value.value;!1===_e789.hasAttribute(_t1045)&&_i793.removeAttribute(_t1045);}}catch(err){_iterator680.e(err);}finally{_iterator680.f();}var _iterator681=_createForOfIteratorHelper(_e789.attributes),_step681;try{for(_iterator681.s();!(_step681=_iterator681.n()).done;){var _step681$value=_step681.value,_t1046=_step681$value.name,_s472=_step681$value.value;"data-bx-workspace"!==_t1046&&_i793.setAttribute(_t1046,_s472);}}catch(err){_iterator681.e(err);}finally{_iterator681.f();}_i793.innerHTML=_e789.innerHTML;}return t;}},{key:"extractArtworkWithSelectedElements",value:function extractArtworkWithSelectedElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[0,0,0,0];return this.extractArtworkWithElements(this.outermostSelectedElements,t);}},{key:"extractArtworkWithViewBoxElements",value:function extractArtworkWithViewBoxElements(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=Ht(this.currentWorkspace).inverse(),i=[],s=new DOMRect(),n=t||this.currentWorkspace;if(n.hasAttribute("viewBox")){s=Rt.fromString(n.getAttribute("viewBox")).toRect();var _iterator682=_createForOfIteratorHelper(this.currentWorkspace.children),_step682;try{for(_iterator682.s();!(_step682=_iterator682.n()).done;){var _t1047=_step682.value;if([].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(_t1047.localName)){var _n340=Di(_t1047);_n340=Ne(_n340,e),Ye(s,_n340)&&i.push(_t1047);}}}catch(err){_iterator682.e(err);}finally{_iterator682.f();}}var o=this.extractArtworkWithElements(i);o.setAttribute("viewBox","".concat(s.x," ").concat(s.y," ").concat(s.width," ").concat(s.height)),o.setAttribute("width",s.width),o.setAttribute("height",s.height);var _iterator683=_createForOfIteratorHelper(this.currentWorkspace.attributes),_step683;try{for(_iterator683.s();!(_step683=_iterator683.n()).done;){var _step683$value=_step683.value,_t1048=_step683$value.name,_e790=_step683$value.value;(U.includes(_t1048)||"style"===_t1048)&&o.setAttribute(_t1048,_e790);}}catch(err){_iterator683.e(err);}finally{_iterator683.f();}return o;}},{key:"extractArtworkWithElements",value:function extractArtworkWithElements(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[0,0,0,0];this.collectGarbage(),t=Gi(t);var i=this.Fc(t),s=[];var _iterator684=_createForOfIteratorHelper(i),_step684;try{for(_iterator684.s();!(_step684=_iterator684.n()).done;){var _t1050=_step684.value;var _e792=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1050)));_e792||this.currentWorkspace===this.masterWorkspace||(_e792=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1050)))),_e792&&s.push(_e792);}}catch(err){_iterator684.e(err);}finally{_iterator684.f();}s=s.filter(function(e){var _iterator685=_createForOfIteratorHelper(t),_step685;try{for(_iterator685.s();!(_step685=_iterator685.n()).done;){var _i796=_step685.value;if(_i796.contains(e)||_i796===e)return!1;}}catch(err){_iterator685.e(err);}finally{_iterator685.f();}var _iterator686=_createForOfIteratorHelper(s),_step686;try{for(_iterator686.s();!(_step686=_iterator686.n()).done;){var _t1049=_step686.value;if(_t1049.contains(e)&&_t1049!==e)return!1;}}catch(err){_iterator686.e(err);}finally{_iterator686.f();}return!0;});var n=Ei("svg:svg"),o=Ei("svg:defs");n.append(o);var _iterator687=_createForOfIteratorHelper(s),_step687;try{for(_iterator687.s();!(_step687=_iterator687.n()).done;){var _t1051=_step687.value;_t1051.closest("defs")?o.append(_t1051.cloneNode(!0)):n.append(_t1051.cloneNode(!0));}}catch(err){_iterator687.e(err);}finally{_iterator687.f();}var _iterator688=_createForOfIteratorHelper(t),_step688;try{for(_iterator688.s();!(_step688=_iterator688.n()).done;){var _e793=_step688.value;var _t1052=_e793.cloneNode(!0),_i798=jt(_e793,this.currentWorkspace);_i798=Gt(_i798,this.transformPrecision),_i798.isIdentity?_t1052.removeAttribute("transform"):_t1052.setAttribute("transform",_i798.toString()),n.append(_t1052);}}catch(err){_iterator688.e(err);}finally{_iterator688.f();}var _iterator689=_createForOfIteratorHelper(this["#workspaces"].querySelectorAll("style")),_step689;try{for(_iterator689.s();!(_step689=_iterator689.n()).done;){var _t1053=_step689.value;o.append(_t1053.cloneNode(!0));}}catch(err){_iterator689.e(err);}finally{_iterator689.f();}this.Js.offscreenBoard.setArtwork(n),new Wp(n).collect({colors:"none",gradients:"none",patterns:"none",markers:"none",symbols:"none",filters:"none",fonts:"all",clipPaths:"none",masks:"none"}),this.Js.offscreenBoard.clear(),0===o.childElementCount&&o.remove();{var _i797=t.map(function(t){return Di(t);}),_s474=Ve(_i797);_s474=Ne(_s474,Ht(this.currentWorkspace).inverse()),_s474=Ue(_s474,this.mc);var _e791=_slicedToArray(e,4),_o266=_e791[0],_l237=_e791[1],_a182=_e791[2],_h148=_e791[3],_r92=_s474.x-_h148,_d72=_s474.y-_o266,_c59=_s474.width+_h148+_l237,_p49=_s474.height+_o266+_a182;n.setAttribute("viewBox","".concat(_r92," ").concat(_d72," ").concat(_c59," ").concat(_p49)),n.setAttribute("width",_c59),n.setAttribute("height",_p49);}return n;}},{key:"extractArtworkWithSymbols",value:function extractArtworkWithSymbols(t){t=Gi(t);var e=this.Fc(t),i=[];var _iterator690=_createForOfIteratorHelper(e),_step690;try{for(_iterator690.s();!(_step690=_iterator690.n()).done;){var _t1055=_step690.value;var _e794=this.currentWorkspace.querySelector("#".concat(CSS.escape(_t1055)));_e794||this.currentWorkspace===this.masterWorkspace||(_e794=this.masterWorkspace.querySelector("#".concat(CSS.escape(_t1055)))),_e794&&i.push(_e794);}}catch(err){_iterator690.e(err);}finally{_iterator690.f();}i=i.filter(function(e){var _iterator691=_createForOfIteratorHelper(t),_step691;try{for(_iterator691.s();!(_step691=_iterator691.n()).done;){var _i799=_step691.value;if(_i799.contains(e)||_i799===e)return!1;}}catch(err){_iterator691.e(err);}finally{_iterator691.f();}var _iterator692=_createForOfIteratorHelper(i),_step692;try{for(_iterator692.s();!(_step692=_iterator692.n()).done;){var _t1054=_step692.value;if(_t1054.contains(e)&&_t1054!==e)return!1;}}catch(err){_iterator692.e(err);}finally{_iterator692.f();}return!0;});var s=Ei("svg:svg"),n=Ei("svg:defs");s.append(n);var _iterator693=_createForOfIteratorHelper(i),_step693;try{for(_iterator693.s();!(_step693=_iterator693.n()).done;){var _t1056=_step693.value;_t1056.closest("defs")?n.append(_t1056.cloneNode(!0)):s.append(_t1056.cloneNode(!0));}}catch(err){_iterator693.e(err);}finally{_iterator693.f();}var _iterator694=_createForOfIteratorHelper(t),_step694;try{for(_iterator694.s();!(_step694=_iterator694.n()).done;){var _e795=_step694.value;var _t1057=_e795.cloneNode(!0);n.append(_t1057);}}catch(err){_iterator694.e(err);}finally{_iterator694.f();}return this.Js.offscreenBoard.setArtwork(s),new Wp(s).collect({colors:"all",gradients:"all",patterns:"all",markers:"all",symbols:"none",filters:"all",fonts:"all",clipPaths:"all",masks:"all"}),this.Js.offscreenBoard.clear(),s;}},{key:"collectGarbage",value:function collectGarbage(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",{});new Wp(this["#workspaces"]).collect(t);}},{key:"editSymbol",value:function editSymbol(t){var e=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Symbol"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Zi(_templateObject11(),e.innerHTML);var _iterator695=_createForOfIteratorHelper(e.attributes),_step695;try{for(_iterator695.s();!(_step695=_iterator695.n()).done;){var _step695$value=_step695.value,_t1058=_step695$value.name,_s475=_step695$value.value;i.setAttribute(_t1058,_s475);}}catch(err){_iterator695.e(err);}finally{_iterator695.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editSymbolEnd",value:function editSymbolEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Symbol");var _e796=this.currentWorkspace,_i800=this.masterWorkspace.querySelector("symbol#".concat(CSS.escape(_e796.id)));var _iterator696=_createForOfIteratorHelper(_i800.attributes),_step696;try{for(_iterator696.s();!(_step696=_iterator696.n()).done;){var _step696$value=_step696.value,_t1059=_step696$value.name,_s476=_step696$value.value;!1===_e796.hasAttribute(_t1059)&&_i800.removeAttribute(_t1059);}}catch(err){_iterator696.e(err);}finally{_iterator696.f();}var _iterator697=_createForOfIteratorHelper(_e796.attributes),_step697;try{for(_iterator697.s();!(_step697=_iterator697.n()).done;){var _step697$value=_step697.value,_t1060=_step697$value.name,_s477=_step697$value.value;"data-bx-workspace"!==_t1060&&_i800.setAttribute(_t1060,_s477);}}catch(err){_iterator697.e(err);}finally{_iterator697.f();}_e796.remove(),_i800.innerHTML=_e796.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editPattern",value:function editPattern(t){var e=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Pattern"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Zi(_templateObject12(),e.innerHTML);var _iterator698=_createForOfIteratorHelper(e.attributes),_step698;try{for(_iterator698.s();!(_step698=_iterator698.n()).done;){var _step698$value=_step698.value,_t1061=_step698$value.name,_s478=_step698$value.value;i.setAttribute(_t1061,_s478);}}catch(err){_iterator698.e(err);}finally{_iterator698.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editPatternEnd",value:function editPatternEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit Pattern");var _e797=this.currentWorkspace,_i801=this.masterWorkspace.querySelector("pattern#".concat(CSS.escape(_e797.id)));var _iterator699=_createForOfIteratorHelper(_i801.attributes),_step699;try{for(_iterator699.s();!(_step699=_iterator699.n()).done;){var _step699$value=_step699.value,_t1062=_step699$value.name,_s479=_step699$value.value;!1===_e797.hasAttribute(_t1062)&&_i801.removeAttribute(_t1062);}}catch(err){_iterator699.e(err);}finally{_iterator699.f();}var _iterator700=_createForOfIteratorHelper(_e797.attributes),_step700;try{for(_iterator700.s();!(_step700=_iterator700.n()).done;){var _step700$value=_step700.value,_t1063=_step700$value.name,_s480=_step700$value.value;"data-bx-workspace"!==_t1063&&_i801.setAttribute(_t1063,_s480);}}catch(err){_iterator700.e(err);}finally{_iterator700.f();}_e797.remove(),_i801.innerHTML=_e797.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"editMarker",value:function editMarker(t){var e=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(t)));if(null===e)return;if(this.currentWorkspace.id===t)return;this.undoManager.checkpoint("Edit Marker"),"pattern"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editPatternEnd(!1):"marker"===this.currentWorkspace.getAttribute("data-bx-workspace")?this.editMarkerEnd(!1):"symbol"===this.currentWorkspace.getAttribute("data-bx-workspace")&&this.editSymbolEnd(!1);var i=Zi(_templateObject13(),e.innerHTML);var _iterator701=_createForOfIteratorHelper(e.attributes),_step701;try{for(_iterator701.s();!(_step701=_iterator701.n()).done;){var _step701$value=_step701.value,_t1064=_step701$value.name,_s481=_step701$value.value;i.setAttribute(_t1064,_s481);}}catch(err){_iterator701.e(err);}finally{_iterator701.f();}this["#workspaces"].append(i),this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}},{key:"editMarkerEnd",value:function editMarkerEnd(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if("marker"===this.currentWorkspace.getAttribute("data-bx-workspace")){t&&this.undoManager.checkpoint("Edit marker");var _e798=this.currentWorkspace,_i802=this.masterWorkspace.querySelector("marker#".concat(CSS.escape(_e798.id)));var _iterator702=_createForOfIteratorHelper(_i802.attributes),_step702;try{for(_iterator702.s();!(_step702=_iterator702.n()).done;){var _step702$value=_step702.value,_t1065=_step702$value.name,_s482=_step702$value.value;!1===_e798.hasAttribute(_t1065)&&_i802.removeAttribute(_t1065);}}catch(err){_iterator702.e(err);}finally{_iterator702.f();}var _iterator703=_createForOfIteratorHelper(_e798.attributes),_step703;try{for(_iterator703.s();!(_step703=_iterator703.n()).done;){var _step703$value=_step703.value,_t1066=_step703$value.name,_s483=_step703$value.value;"data-bx-workspace"!==_t1066&&_i802.setAttribute(_t1066,_s483);}}catch(err){_iterator703.e(err);}finally{_iterator703.f();}_e798.remove(),_i802.innerHTML=_e798.innerHTML,this.selectedElements=[],this.selectedTextRange=null,this.currentContainer=null;}}},{key:"zoomIn",value:function zoomIn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.xc?this.Gc(.2,this.Qs.pointerClientPoint):this.Gc(.2);}},{key:"zoomOut",value:function zoomOut(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;t&&this.xc?this.Gc(-.2,this.Qs.pointerClientPoint):this.Gc(-.2);}},{key:"zoomToFitAllViews",value:function zoomToFitAllViews(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=this.currentWorkspace,n=null;{var _t1067=[];if(s.hasAttribute("viewBox")){var _e799=Rt.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1067.push(_e799);}var _iterator704=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step704;try{for(_iterator704.s();!(_step704=_iterator704.n()).done;){var _e800=_step704.value;_t1067.push(_e800.viewBox.baseVal);}}catch(err){_iterator704.e(err);}finally{_iterator704.f();}_t1067.length>0&&(n=Ve(_t1067));}n&&this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitAllViews",value:function canZoomToFitAllViews(){var t=this.currentWorkspace;if(t.hasAttribute("viewBox")){var _t1068=Rt.fromString(this.currentWorkspace.getAttribute("viewBox"));if(_t1068.width>0&&_t1068.height>0)return!0;}var _iterator705=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step705;try{for(_iterator705.s();!(_step705=_iterator705.n()).done;){var _e801=_step705.value;if(_e801.viewBox.baseVal.width>0&&_e801.viewBox.baseVal.height>0)return!0;}}catch(err){_iterator705.e(err);}finally{_iterator705.f();}return!1;}},{key:"zoomToFitAllObjects",value:function zoomToFitAllObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=DOMRect.fromRect(this.currentWorkspace.getBBox());this.zoomToArea(s,t,e,i);}},{key:"canZoomToFitAllObjects",value:function canZoomToFitAllObjects(){var t=this.currentWorkspace.getBBox();return t.width>0&&t.height>0;}},{key:"zoomToFitSelectedObjects",value:function zoomToFitSelectedObjects(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"top-left";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=[];var _iterator706=_createForOfIteratorHelper(this.selectedObjectElements),_step706;try{for(_iterator706.s();!(_step706=_iterator706.n()).done;){var _t1069=_step706.value;var _e802=jt(_t1069,this.vectorCanvas),_i803=Pi(_t1069);_i803=Ne(_i803,_e802),s.push(_i803);}}catch(err){_iterator706.e(err);}finally{_iterator706.f();}var n=s.length>0?Ve(s):new DOMRect();this.zoomToArea(n,t,e,i);}},{key:"canZoomToFitSelectedObjects",value:function canZoomToFitSelectedObjects(){if(0===this.selectedObjectElements.length)return!1;{var _t1070=this.selectedObjectElements.map(function(t){return t.getBBox();}),_e803=_t1070.length>0?Ve(_t1070):new DOMRect();return _e803.width>0&&_e803.height>0;}}},{key:"getZoomArea",value:function getZoomArea(){var t=this.getBoundingClientRect(),e=Ht(this.currentWorkspace).inverse();return Ne(t,e);}},{key:"zoomToArea",value:function zoomToArea(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"top-left";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:20;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=Ht(this["#vector-layer"]).inverse(),o=Ne(this.getBoundingClientRect(),n),l=DOMRect.fromRect(t);if(o.x+=i,o.y+=i,o.width-=2*i,o.height-=2*i,this.showManualGuides&&(o.x+=bu,o.y+=bu,o.width-=bu,o.height-=bu),l.width>0&&l.height>0){var _t1071=o.width/l.width,_i804=o.height/l.height;_t1071>_i804?_t1071=_i804:_i804>_t1071&&(_i804=_t1071),!1===s&&(_t1071>1||_i804>1)&&(_t1071=1,_i804=1);var _n341=o.x-l.x*_t1071,_a183=o.y-l.y*_i804;"center"===e&&(_n341+=(o.width-l.width*_t1071)/2,_a183+=(o.height-l.height*_i804)/2);var _h149=new DOMMatrix();_h149.translateSelf(_n341,_a183),_h149.scaleSelf(_t1071,_i804),this["#vector-canvas"].setAttribute("transform",_h149),this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Rc",value:function Rc(){var t=null;this.currentWorkspace&&this.currentWorkspace.hasAttribute("viewBox")&&(t=Rt.fromString(this.currentWorkspace.getAttribute("viewBox"))),t&&t.width>0&&t.height>0?this.zoomToFitAllViews("top-left"):this.zoomToFitAllObjects("top-left");}},{key:"Gc",value:function Gc(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(null===e){var _t1072=this.getBoundingClientRect();e=new DOMPoint(_t1072.x+_t1072.width/2,_t1072.y+_t1072.height/2);}var i=Vt(this["#vector-canvas"]),s=Ht(this["#vector-layer"]).inverse(),n=e.matrixTransform(s);if(i.a>0){100*(i.a+t*i.a)<du?t=(du-100*i.a)/(100*i.a):100*(i.a+t*i.a)>cu&&(t=(cu-100*i.a)/(100*i.a));var _e804=new DOMMatrix();_e804.scaleSelf(1+t,1+t,1,n.x,n.y),_e804.multiplySelf(i),this["#vector-canvas"].setAttribute("transform",_e804),this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}}},{key:"Vn",value:function Vn(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i,s=this.currentWorkspace;{var _t1073=[];if(s.hasAttribute("viewBox")){var _e805=Rt.fromString(this.currentWorkspace.getAttribute("viewBox")).toRect();_t1073.push(_e805);}var _iterator707=_createForOfIteratorHelper(s.querySelectorAll(":scope > view, :scope > defs > view")),_step707;try{for(_iterator707.s();!(_step707=_iterator707.n()).done;){var _e806=_step707.value;_t1073.push(_e806.viewBox.baseVal);}}catch(err){_iterator707.e(err);}finally{_iterator707.f();}i=_t1073.length>0?Ve(_t1073):new DOMRect();}if(!1===this.Dc||!1===this.showViews||0===i.width||0===i.height){var _i805=new DOMMatrix();_i805.translateSelf(t,e),_i805.multiplySelf(Vt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_i805);}else{var _s484=Ne(i,Ht(this["#vector-canvas"]));_s484=Ue(_s484,0);var _n342=DOMRect.fromRect(_s484);_n342.x+=t,_n342.y+=e,_n342=Ue(_n342,0);var _o267=DOMRect.fromRect(this.getBoundingClientRect());this.showManualGuides&&(_o267.x+=bu,_o267.y+=bu,_o267.width-=bu,_o267.height-=bu,_o267=Ue(_o267,0)),He(_o267,_s484)?(_n342.width<_o267.width&&(_n342.x<_o267.x?_n342.x=_o267.x:_n342.x+_n342.width>_o267.x+_o267.width&&(_n342.x=_o267.x+_o267.width-_n342.width)),_n342.height<_o267.height&&(_n342.y<_o267.y?_n342.y=_o267.y:_n342.y+_n342.height>_o267.y+_o267.height&&(_n342.y=_o267.y+_o267.height-_n342.height))):!1===Ye(_o267,_s484)&&(_n342.x+_n342.width<_o267.x?_n342.x=_o267.x-_n342.width:_n342.x>_o267.x+_o267.width&&(_n342.x=_o267.x+_o267.width),_n342.y+_n342.height<_o267.y?_n342.y=_o267.y-_n342.height:_n342.y>_o267.y+_o267.height&&(_n342.y=_o267.y+_o267.height));var _l238=_n342.x-_s484.x,_a184=_n342.y-_s484.y,_h150=new DOMMatrix();_h150.translateSelf(_l238,_a184),_h150.multiplySelf(Vt(this["#vector-canvas"])),this["#vector-canvas"].setAttribute("transform",_h150);}this.bc(),this.dispatchEvent(new CustomEvent("zoomchange"));}},{key:"showPixelCanvas",value:function showPixelCanvas(){var t=this.getBoundingClientRect();this["#pixel-canvas"].hidden=!1,this["#pixel-canvas"].style.left=-t.x+"px",this["#pixel-canvas"].style.top=-t.y+"px",this["#pixel-canvas"].style.width=t.x+t.width+"px",this["#pixel-canvas"].style.height=t.y+t.height+"px",this["#pixel-canvas"].setAttribute("width",t.x+t.width),this["#pixel-canvas"].setAttribute("height",t.y+t.height);}},{key:"hidePixelCanvas",value:function hidePixelCanvas(){var t=this["#pixel-canvas"];t.hidden=!0,t.getContext("2d").clearRect(0,0,t.width,t.height);}},{key:"Lc",value:function Lc(){this["#vector-layer"].setAttribute("width",screen.width+"px"),this["#vector-layer"].setAttribute("height",screen.height+"px"),this["#vector-layer"].setAttribute("viewBox","0 0 ".concat(screen.width," ").concat(screen.height));}},{key:"kc",value:function kc(){!0===this.yc?(this["#manual-guides-hud"].enabled=!0,this["#rulers"].setAttribute("enabled","")):(this["#manual-guides-hud"].enabled=!1,this["#rulers"].removeAttribute("enabled")),!0===this.Sc?this["#smart-guides-hud"].enabled=!0:this["#smart-guides-hud"].enabled=!1,!0===this._c?this["#grid-hud"].enabled=!0:this["#grid-hud"].enabled=!1;}},{key:"Ec",value:function Ec(){document.fonts.clear();var _iterator708=_createForOfIteratorHelper(this.vc.getFonts()),_step708;try{for(_iterator708.s();!(_step708=_iterator708.n()).done;){var _t1074=_step708.value;_t1074.load(),document.fonts.add(_t1074);}}catch(err){_iterator708.e(err);}finally{_iterator708.f();}}},{key:"bc",value:function bc(){this["#grippie-fe-offset"].dx.baseVal=1/this.scale,this["#grippie-fe-offset"].dy.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationX.baseVal=1/this.scale,this["#grippie-fe-blur"].stdDeviationY.baseVal=1/this.scale;}},{key:"Pc",value:function Pc(){var t=this.currentWorkspace;if(t){var _e807=[];this.Mc?this["#vector-canvas"].setAttribute("data-outlines",this.zc?"above":"below"):this["#vector-canvas"].removeAttribute("data-outlines"),t.hasAttribute("viewBox")&&_e807.push(Rt.fromString(t.getAttribute("viewBox")));var _iterator709=_createForOfIteratorHelper(t.querySelectorAll(":scope > view, :scope > defs > view")),_step709;try{for(_iterator709.s();!(_step709=_iterator709.n()).done;){var _i808=_step709.value;_e807.push(_i808.viewBox.baseVal);}}catch(err){_iterator709.e(err);}finally{_iterator709.f();}if(this["#background-outlines"].childElementCount!==_e807.length){for(;this["#background-outlines"].childElementCount<_e807.length;){var _t1075=Ei("svg:rect");this["#background-outlines"].append(_t1075);}for(;this["#background-outlines"].childElementCount>_e807.length;){this["#background-outlines"].lastElementChild.remove();}}if(this["#foreground-outlines"].childElementCount!==_e807.length){for(;this["#foreground-outlines"].childElementCount<_e807.length;){var _t1076=Ei("svg:rect");this["#foreground-outlines"].append(_t1076);}for(;this["#foreground-outlines"].childElementCount>_e807.length;){this["#foreground-outlines"].lastElementChild.remove();}}for(var _t1077=0;_t1077<_e807.length;_t1077+=1){var _i806=_e807[_t1077];for(var _i807=0,_arr38=[this["#background-outlines"].children[_t1077],this["#foreground-outlines"].children[_t1077]];_i807<_arr38.length;_i807++){var _e808=_arr38[_i807];_e808.x.baseVal.value=_i806.x,_e808.y.baseVal.value=_i806.y,_e808.width.baseVal.value=_i806.width,_e808.height.baseVal.value=_i806.height;}}}}},{key:"maybeCreateDefsForMasterWorkspace",value:function maybeCreateDefsForMasterWorkspace(){var t=this.defs;return null===t&&(t=Ei("svg:defs"),this.masterWorkspace.prepend(t)),t;}},{key:"maybeCreateDefsForCurrentWorkspace",value:function maybeCreateDefsForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");return null===t&&(t=Ei("svg:defs"),this.currentWorkspace.prepend(t)),t;}},{key:"maybeCreateGridForCurrentWorkspace",value:function maybeCreateGridForCurrentWorkspace(){var t=this.currentWorkspace.querySelector(":scope > defs");null===t&&(t=Zi(_templateObject14()),this.currentWorkspace.append(t));var e=t.querySelector(":scope > bx-grid");return null===e&&(e=Zi(_templateObject15()),t.append(e)),e;}},{key:"generateUniqueID",value:function generateUniqueID(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;for(var _s485=i;_s485<Infinity;_s485+=1){var _i809=t+"-"+_s485;if(!this["#workspaces"].querySelector("#".concat(CSS.escape(_i809)))){if(!e)return _i809;if(!e.querySelector("#".concat(CSS.escape(_i809))))return _i809;}}}},{key:"Fc",value:function Fc(t){t=Gi(t);var e=new Set();var _iterator710=_createForOfIteratorHelper(t),_step710;try{for(_iterator710.s();!(_step710=_iterator710.n()).done;){var _i810=_step710.value;var _iterator711=_createForOfIteratorHelper(this.Uc(_i810)),_step711;try{for(_iterator711.s();!(_step711=_iterator711.n()).done;){var _t1078=_step711.value;e.add(_t1078);}}catch(err){_iterator711.e(err);}finally{_iterator711.f();}}}catch(err){_iterator710.e(err);}finally{_iterator710.f();}return _toConsumableArray(e);}},{key:"Uc",value:function Uc(t){var _this378=this;var e=new Set();var i=["fill","stroke","filter","clip-path","mask","marker-mid","marker-start","marker-end"];var s=function s(t){var n=document.createNodeIterator(t,NodeFilter.SHOW_ELEMENT),o=null;for(;o=n.nextNode();){var _t1079=getComputedStyle(o);var _iterator712=_createForOfIteratorHelper(i),_step712;try{for(_iterator712.s();!(_step712=_iterator712.n()).done;){var _n343=_step712.value;var _i812=_t1079.getPropertyValue(_n343);if(_i812&&_i812.startsWith('url("#')){var _t1081=_i812.substring(6,_i812.length-2);if(!1===e.has(_t1081)){e.add(_t1081);var _i813=_this378.currentWorkspace.querySelector("#"+CSS.escape(_t1081));_i813||_this378.currentWorkspace===_this378.masterWorkspace||(_i813=_this378.masterWorkspace.querySelector("#"+CSS.escape(_t1081))),_i813&&s(_i813);}else e.add(_t1081);}}}catch(err){_iterator712.e(err);}finally{_iterator712.f();}if(o.href&&o.href.baseVal&&"#"===o.href.baseVal[0]){var _t1080=o.href.baseVal.substring(1,o.href.baseVal.length);if(!1===e.has(_t1080)){e.add(_t1080);var _i811=_this378.currentWorkspace.querySelector("#"+CSS.escape(_t1080));_i811||_this378.currentWorkspace===_this378.masterWorkspace||(_i811=_this378.masterWorkspace.querySelector("#"+CSS.escape(_t1080))),_i811&&s(_i811);}else e.add(_t1080);}}};return s(t),_toConsumableArray(e);}},{key:"getComputedViewportWidth",value:function getComputedViewportWidth(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e809=null;if(""!==t.style.width?_e809=t.style.width:t.hasAttribute("width")&&(_e809=t.getAttribute("width")),null!==_e809){var _t1082=Tt.fromString(_e809),_s486=Zp.fromString(_e809);_t1082&&_t1082.isAbsolute?i=_t1082:_s486&&(i=new Tt(_s486.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e810=null;if(""!==t.style.width?_e810=t.style.width:t.hasAttribute("width")&&(_e810=t.getAttribute("width")),null!==_e810){var _t1083=Tt.fromString(_e810),_s487=Zp.fromString(_e810);_t1083&&_t1083.isAbsolute?i=new Zp(_t1083.toLength("px").value):_s487&&(i=_s487);}}else if("marker"===e&&(i=new Zp(3),t.hasAttribute("markerWidth"))){var _e811=t.getAttribute("markerWidth"),_s488=Zp.fromString(_e811),_n344=Tt.fromString(_e811),_o268=Jp.fromString(_e811);_s488?i=_s488:_n344?i=_n344.isAbsolute?new Zp(_n344.toLength("px").value):null:_o268&&(i=null);}return i;}},{key:"getComputedViewportHeight",value:function getComputedViewportHeight(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.currentWorkspace;var e=t.getAttribute("data-bx-workspace"),i=null;if("master"===e){var _e812=null;if(""!==t.style.height?_e812=t.style.height:t.hasAttribute("height")&&(_e812=t.getAttribute("height")),null!==_e812){var _t1084=Tt.fromString(_e812),_s489=Zp.fromString(_e812);_t1084&&_t1084.isAbsolute?i=_t1084:_s489&&(i=new Tt(_s489.value,"px"));}}else if("pattern"===e||"symbol"===e){var _e813=null;if(""!==t.style.height?_e813=t.style.height:t.hasAttribute("height")&&(_e813=t.getAttribute("height")),null!==_e813){var _t1085=Tt.fromString(_e813),_s490=Zp.fromString(_e813);_t1085&&_t1085.isAbsolute?i=new Zp(_t1085.toLength("px").value):_s490&&(i=_s490);}}else if("marker"===e&&(i=new Zp(3),t.hasAttribute("markerHeight"))){var _e814=t.getAttribute("markerHeight"),_s491=Zp.fromString(_e814),_n345=Tt.fromString(_e814),_o269=Jp.fromString(_e814);_s491?i=_s491:_n345?i=_n345.isAbsolute?new Zp(_n345.toLength("px").value):null:_o269&&(i=null);}return i;}},{key:"getElementsFromPoint",value:function getElementsFromPoint(t,e){return this._shadowRoot.elementsFromPoint(t,e);}},{key:"getHitWorkspaceElements",value:function getHitWorkspaceElements(t,e){var i=[];var _iterator713=_createForOfIteratorHelper(c),_step713;try{for(_iterator713.s();!(_step713=_iterator713.n()).done;){var _step713$value=_slicedToArray(_step713.value,2),_s492=_step713$value[0],_n346=_step713$value[1];var _o270=this._shadowRoot.elementFromPoint(t+_s492,e+_n346);if(_o270.getRootNode()!==this._shadowRoot&&(_o270=null),_o270){if("tspan"===_o270.localName||"textPath"===_o270.localName)_o270=_o270.closest("text");else if("a"===_o270.localName){var _t1086=_o270.closest("text");_t1086&&(_o270=_t1086);}!i.includes(_o270)&&this.currentWorkspace.contains(_o270)&&i.push(_o270);}}}catch(err){_iterator713.e(err);}finally{_iterator713.f();}return Gi(i);}},{key:"getWorkspaceElementFromPoint",value:function getWorkspaceElementFromPoint(t,e){var i=this._shadowRoot.elementFromPoint(t,e);if(i.getRootNode()!==this._shadowRoot&&(i=null),i){if("tspan"===i.localName||"textPath"===i.localName)i=i.closest("text");else if("a"===i.localName){var _t1087=i.closest("text");_t1087&&(i=_t1087);}!1===this.currentWorkspace.contains(i)&&(i=null);}return i;}},{key:"getBoundingClientRect",value:function getBoundingClientRect(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=_get(_getPrototypeOf(fu.prototype),"getBoundingClientRect",this).call(this);if(t&&(i=new DOMRect(i.x+bu,i.y+bu,i.width-bu,i.height-bu)),e){var _t1088=this.Js.primaryPanelsDock,_e815=this.Js.secondaryPanelsDock;null!==_t1088.value&&(i.width-=_t1088.width-_t1088.getBoundingClientRect().width),null!==_e815.value&&(i.height-=_e815.height);}return i;}},{key:"selectAll",value:function selectAll(){var t=[],e=this.currentContainer||this.currentWorkspace;var _iterator714=_createForOfIteratorHelper(e.children),_step714;try{for(_iterator714.s();!(_step714=_iterator714.n()).done;){var _i814=_step714.value;this.isSelectableElement(_i814)&&t.push(_i814);}}catch(err){_iterator714.e(err);}finally{_iterator714.f();}this.selectedElements=[].concat(t);}},{key:"deselectAll",value:function deselectAll(){this.selectedElements=[],this.currentContainer=null,this.selectedTextRange=null;}},{key:"captureVisibleCanvasArea",value:function captureVisibleCanvasArea(){var _this379=this;return new Promise(/*#__PURE__*/function(){var _ref109=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee97(t){var e,i,s,_t1089,_e816,_iterator715,_step715,_i815,_e817,_s493,_i816,_arr39,_t1090,n,_e818,_i817,_s494,_o271,_l239;return regeneratorRuntime.wrap(function _callee97$(_context98){while(1){switch(_context98.prev=_context98.next){case 0:e=_this379["#vector-layer"].getBoundingClientRect(),i=_this379["#vector-layer"].cloneNode();i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),i.setAttribute("width",e.width+"px"),i.setAttribute("height",e.height+"px");s=_this379["#vector-canvas"].cloneNode();_t1089=Ei("svg:g"),_e816=[_this379["#background-rect"]].concat(_toConsumableArray(_this379["#background-outlines"].children),_toConsumableArray(_this379["#foreground-outlines"].children));_iterator715=_createForOfIteratorHelper(_e816);try{for(_iterator715.s();!(_step715=_iterator715.n()).done;){_i815=_step715.value;_e817=getComputedStyle(_i815),_s493=_i815.cloneNode();for(_i816=0,_arr39=["fill","stroke","vector-effect"];_i816<_arr39.length;_i816++){_t1090=_arr39[_i816];_s493.style.setProperty(_t1090,_e817.getPropertyValue(_t1090));}_t1089.append(_s493);}}catch(err){_iterator715.e(err);}finally{_iterator715.f();}s.append(_t1089);s.append(_this379["#workspaces"].cloneNode(!0)),s.querySelector("#whitespace").remove(),i.append(s);n=eu(i,"xml");_e818=Ei("canvas"),_i817=_e818.getContext("2d"),_s494=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),_o271=URL.createObjectURL(_s494),_l239=new Image();_l239.src=_o271,_l239.addEventListener("load",function(){_e818.width=_l239.naturalWidth,_e818.height=_l239.naturalHeight,_i817.fillStyle="rgba(0, 0, 0, 0)",_i817.fillRect(0,0,_l239.naturalWidth,_l239.naturalHeight),_i817.drawImage(_l239,0,0),URL.revokeObjectURL(_o271),t(_i817);});case 11:case"end":return _context98.stop();}}},_callee97);}));return function(_x120){return _ref109.apply(this,arguments);};}());}},{key:"isSelectableElement",value:function isSelectableElement(t){return!1!==f.includes(t.localName)&&t.parentElement!==this["#workspaces"]&&!1!==this.currentWorkspace.contains(t)&&!t.closest("defs")&&(!t.closest("text")||"text"===t.localName);}},{key:"isPointOverBoard",value:function isPointOverBoard(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return(i.getRootNode()!==this._shadowRoot||i===this["#rulers"])&&(i=null),null!==i;}},{key:"isPointOverRuler",value:function isPointOverRuler(t,e){return this._shadowRoot.elementFromPoint(t,e)===this["#rulers"];}}]);return fu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fu,"_shadowTemplate",qi(_templateObject200()));_defineProperty(fu,"_shadowStyleSheet",Xi(_templateObject201()));customElements.define("bx-board",fu);var wu=/*#__PURE__*/function(_HTMLElement59){_inherits(wu,_HTMLElement59);var _super65=_createSuper(wu);function wu(){_classCallCheck(this,wu);return _super65.apply(this,arguments);}_createClass(wu,[{key:"connectedCallback",value:function connectedCallback(){if(this.Js=Ii(this,"bx-editor"),!this._shadowRoot){this._shadowRoot=this.attachShadow({mode:"closed"}),this._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,wu._shadowStyleSheet],this._shadowRoot.append(document.importNode(wu._shadowTemplate.content,!0));var _iterator716=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll("[id]")),_step716;try{for(_iterator716.s();!(_step716=_iterator716.n()).done;){var _t1091=_step716.value;this["#"+_t1091.id]=_t1091;}}catch(err){_iterator716.e(err);}finally{_iterator716.f();}}}},{key:"setArtwork",value:function setArtwork(t){this["#main"].append(t);}},{key:"clear",value:function clear(){this["#main"].innerHTML="";var _iterator717=_createForOfIteratorHelper(this.Js.board.workspaces.querySelectorAll("style[data-bx-fonts]")),_step717;try{for(_iterator717.s();!(_step717=_iterator717.n()).done;){var _t1092=_step717.value;_t1092.setAttribute("_bx-redraw",""),_t1092.removeAttribute("_bx-redraw");}}catch(err){_iterator717.e(err);}finally{_iterator717.f();}}}]);return wu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wu,"_shadowTemplate",qi(_templateObject202()));_defineProperty(wu,"_shadowStyleSheet",Xi(_templateObject203()));customElements.define("bx-offscreenboard",wu);var vu=10;var yu=/*#__PURE__*/function(_HTMLElement60){_inherits(yu,_HTMLElement60);var _super66=_createSuper(yu);_createClass(yu,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function yu(){var _this380;_classCallCheck(this,yu);_this380=_super66.call(this),_this380.Nc=null,_this380.Vc=null,_this380._shadowRoot=_this380.attachShadow({mode:"closed"}),_this380._shadowRoot.adoptedStyleSheets=[yu._shadowStyleSheet],_this380._shadowRoot.append(document.importNode(yu._shadowTemplate.content,!0));var _iterator718=_createForOfIteratorHelper(_this380._shadowRoot.querySelectorAll("[id]")),_step718;try{for(_iterator718.s();!(_step718=_iterator718.n()).done;){var _t1093=_step718.value;_this380["#"+_t1093.id]=_t1093;}}catch(err){_iterator718.e(err);}finally{_iterator718.f();}_this380.addEventListener("pointerenter",function(){return _this380["#lens"].style.display=null;}),_this380.addEventListener("pointerleave",function(){return _this380["#lens"].style.display="none";}),_this380.addEventListener("pointermove",function(){return _this380.jc();}),_this380.addEventListener("click",function(t){return _this380["do"](t);}),_this380.addEventListener("keydown",function(t){return _this380.vn(t);});return _this380;}_createClass(yu,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}},{key:"grab",value:function grab(){var _this381=this;return new Promise(/*#__PURE__*/function(){var _ref110=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee98(t){return regeneratorRuntime.wrap(function _callee98$(_context99){while(1){switch(_context99.prev=_context99.next){case 0:_this381.Vc&&_this381.Vc(null);_context99.prev=1;_this381.Vc=t;_this381.Hc=_this381.Qs.currentEditor.board;_this381.Yc=_this381.Hc.getBoundingClientRect();_this381.setAttribute("tabindex","0");_this381.setAttribute("grabbing","");_this381.focus();_context99.next=10;return _this381.Hc.captureVisibleCanvasArea();case 10:_this381.Nc=_context99.sent;_this381.Wc();_this381.jc();_context99.next=18;break;case 15:_context99.prev=15;_context99.t0=_context99["catch"](1);console.log("Failed to grab color",_context99.t0),_this381.Vc(null),_this381.Vc=null,_this381.removeAttribute("grabbing");case 18:case"end":return _context99.stop();}}},_callee98,null,[[1,15]]);}));return function(_x121){return _ref110.apply(this,arguments);};}());}},{key:"Wc",value:function Wc(){if(0===this["#grid"].childElementCount)for(var _t1094=0;_t1094<vu;_t1094+=1){for(var _e819=0;_e819<vu;_e819+=1){var _i818=Ei("svg:rect");_i818.setAttribute("width",10),_i818.setAttribute("height",10),_i818.setAttribute("x",11*_e819),_i818.setAttribute("y",11*_t1094),_i818.style.fill="transparent",this["#grid"].append(_i818),4===_e819&&4===_t1094&&_i818.setAttribute("id","center-rect");}}}},{key:"jc",value:function jc(){var _this$Qs$pointerClien=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien.x,e=_this$Qs$pointerClien.y;if(this["#lens"].style.left=t+15+"px",this["#lens"].style.top=e+15+"px",!1===this.xc())this["#lens"].setAttribute("offscreen","");else if(this["#lens"].removeAttribute("offscreen"),this.Nc){var _i819=[],_s495=this.Nc.getImageData(t-this.Yc.left-vu/2+1,e-this.Yc.top-vu/2+1,vu,vu);for(var _t1095=0,_e820=_s495.data.length;_t1095<_e820;_t1095+=4){var _e821=_s495.data[_t1095],_n347=_s495.data[_t1095+1],_o272=_s495.data[_t1095+2],_l240=_s495.data[_t1095+3]/255;_i819.push("rgba(".concat(_e821,", ").concat(_n347,", ").concat(_o272,", ").concat(_l240,")"));}for(var _t1096=0;_t1096<_i819.length;_t1096+=1){this["#grid"].children[_t1096].style.fill=_i819[_t1096];}}}},{key:"vn",value:function vn(t){"Escape"===t.key&&(this.Vc&&(this.Vc(null),this.Vc=null),this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=null;if(this.Nc&&this.xc()){var _this$Qs$pointerClien2=this.Qs.pointerClientPoint,_t1097=_this$Qs$pointerClien2.x,_i820=_this$Qs$pointerClien2.y,_s496=this.Nc.getImageData(_t1097-this.Yc.left,_i820-this.Yc.top,1,1),_s496$data=_slicedToArray(_s496.data,4),_n348=_s496$data[0],_o273=_s496$data[1],_l241=_s496$data[2],_a185=_s496$data[3];e="rgba(".concat(_n348,", ").concat(_o273,", ").concat(_l241,", ").concat(_a185/255,")");}this.Vc(e),this.Vc=null,this.removeAttribute("grabbing");}},{key:"xc",value:function xc(){this.style.pointerEvents="none";var _this$Qs$pointerClien3=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien3.x,e=_this$Qs$pointerClien3.y,i=this.Hc.isPointOverBoard(t,e);return this.style.pointerEvents=null,i;}}]);return yu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yu,"_shadowTemplate",qi(_templateObject204()));_defineProperty(yu,"_shadowStyleSheet",Xi(_templateObject205()));customElements.define("bx-colorgrabber",yu);var ku=/*#__PURE__*/function(_HTMLElement61){_inherits(ku,_HTMLElement61);var _super67=_createSuper(ku);function ku(){var _this382;_classCallCheck(this,ku);_this382=_super67.call(this),_this382._shadowRoot=_this382.attachShadow({mode:"closed"}),_this382._shadowRoot.adoptedStyleSheets=[ku._shadowStyleSheet],_this382._shadowRoot.append(document.importNode(ku._shadowTemplate.content,!0));var _iterator719=_createForOfIteratorHelper(_this382._shadowRoot.querySelectorAll("[id]")),_step719;try{for(_iterator719.s();!(_step719=_iterator719.n()).done;){var _t1098=_step719.value;_this382["#"+_t1098.id]=_t1098;}}catch(err){_iterator719.e(err);}finally{_iterator719.f();}return _this382;}return ku;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ku,"_shadowTemplate",qi(_templateObject206()));_defineProperty(ku,"_shadowStyleSheet",Xi(_templateObject207()));customElements.define("bx-tooltip",ku);var Su=/*#__PURE__*/function(_HTMLElement62){_inherits(Su,_HTMLElement62);var _super68=_createSuper(Su);_createClass(Su,[{key:"grabbing",get:function get(){return this.hasAttribute("grabbing");}}]);function Su(){var _this383;_classCallCheck(this,Su);_this383=_super68.call(this),_this383.Vc=null,_this383._shadowRoot=_this383.attachShadow({mode:"closed"}),_this383._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Su._shadowStyleSheet],_this383._shadowRoot.append(document.importNode(Su._shadowTemplate.content,!0));var _iterator720=_createForOfIteratorHelper(_this383._shadowRoot.querySelectorAll("[id]")),_step720;try{for(_iterator720.s();!(_step720=_iterator720.n()).done;){var _t1099=_step720.value;_this383["#"+_t1099.id]=_t1099;}}catch(err){_iterator720.e(err);}finally{_iterator720.f();}_this383.addEventListener("pointerenter",function(){return _this383["#tooltip"].hidden=!1;}),_this383.addEventListener("pointerleave",function(){return _this383["#tooltip"].hidden=!0;}),_this383.addEventListener("pointermove",function(){return _this383.qc();}),_this383.addEventListener("click",function(t){return _this383["do"](t);}),_this383.addEventListener("keydown",function(t){return _this383.vn(t);});return _this383;}_createClass(Su,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"grab",value:function grab(){var _this384=this;return new Promise(/*#__PURE__*/function(){var _ref111=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee99(t){return regeneratorRuntime.wrap(function _callee99$(_context100){while(1){switch(_context100.prev=_context100.next){case 0:_this384.Vc&&_this384.Vc(null);_this384.Vc=t;_this384.setAttribute("tabindex","0");_this384.setAttribute("grabbing","");_this384.qc();_this384.focus();_context100.next=8;return ts(200);case 8:_this384.focus();case 9:case"end":return _context100.stop();}}},_callee99);}));return function(_x122){return _ref111.apply(this,arguments);};}());}},{key:"qc",value:function qc(){if(this.Xc())this["#tooltip"].hidden=!0;else{var _this$Qs$pointerClien4=this.Qs.pointerClientPoint,_t1100=_this$Qs$pointerClien4.x,_e822=_this$Qs$pointerClien4.y;this["#tooltip"].hidden=!1,this["#tooltip"].style.left=_t1100+15+"px",this["#tooltip"].style.top=_e822+15+"px";}}},{key:"vn",value:function vn(t){"Escape"===t.key&&this.Vc&&(t.preventDefault(),this.Vc(null),this.Vc=null,this.removeAttribute("grabbing"));}},{key:"do",value:function _do(t){var e=this.Xc();this.Vc(e),this.Vc=null,this.removeAttribute("grabbing");}},{key:"Xc",value:function Xc(){this.style.pointerEvents="none";var _this$Qs$pointerClien5=this.Qs.pointerClientPoint,t=_this$Qs$pointerClien5.x,e=_this$Qs$pointerClien5.y,i=this.Js.board.getWorkspaceElementFromPoint(t,e);return this.style.pointerEvents=null,i;}}]);return Su;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Su,"_shadowTemplate",qi(_templateObject208()));_defineProperty(Su,"_shadowStyleSheet",Xi(_templateObject209()));customElements.define("bx-objectgrabber",Su);var _u=Symbol();var Cu=/*#__PURE__*/function(_HTMLElement63){_inherits(Cu,_HTMLElement63);var _super69=_createSuper(Cu);_createClass(Cu,[{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function Cu(){var _this385;_classCallCheck(this,Cu);_this385=_super69.call(this),_this385.zr=!1,_this385.Zc=Qi(_this385.qs,80,_assertThisInitialized(_this385)),_this385.Kc=Qi(_this385.qs,1e3,_assertThisInitialized(_this385)),_this385._shadowRoot=_this385.attachShadow({mode:"closed"}),_this385._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Cu._shadowStyleSheet],_this385._shadowRoot.append(document.importNode(Cu._shadowTemplate.content,!0));var _iterator721=_createForOfIteratorHelper(_this385._shadowRoot.querySelectorAll("[id]")),_step721;try{for(_iterator721.s();!(_step721=_iterator721.n()).done;){var _t1101=_step721.value;_this385["#"+_t1101.id]=_t1101;}}catch(err){_iterator721.e(err);}finally{_iterator721.f();}_this385["#items"].addEventListener("pointerdown",function(t){return _this385.Qc(t);}),_this385["#items"].addEventListener("click",function(t){return _this385.Jc(t);}),_this385["#items"].addEventListener("contextmenu",function(t){return _this385.tp(t);}),_this385["#items"].addEventListener("keydown",function(t){return _this385.ep(t);});return _this385;}_createClass(Cu,[{key:"connectedCallback",value:function connectedCallback(){var _this386=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Pn=this.Js.board,this.zr=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs(),this.ip(),Ls.addEventListener("sizechange",this.sp=function(){return _this386.ip();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this386.an(t);}),this.Pn.addEventListener("selectedelementschange",this.Qo=function(){_this386.Zc();}),this.Pn.addEventListener("currentcontainerchange",this.np=function(){_this386.Zc();}),this.Pn.addEventListener("workspacemutation",this.rn=function(t){_this386.Kc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.sp),this.Qs.removeEventListener("configchange",this.ln),this.Pn.removeEventListener("selectedelementschange",this.Qo),this.Pn.removeEventListener("currentcontainerchange",this.np),this.Pn.removeEventListener("workspacemutation",this.rn);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t){"size"===t&&this.ip();}},{key:"an",value:function an(t){var _t$detail6=t.detail,e=_t$detail6.key,i=_t$detail6.value;"bx-editorbreadcrumb:showIds"===e&&(this.zr=this.Qs.getConfig("bx-editorbreadcrumb:showIds",!1),this.qs());}},{key:"Qc",value:function Qc(t){t.target.closest(".item")&&t.preventDefault();}},{key:"Jc",value:function Jc(t){var e=this.Js.board,i=t.target.closest(".item");if(i){var _t1102=i[_u];_t1102===e.currentWorkspace?(e.currentContainer=null,e.selectedElements=[]):_t1102===e.masterWorkspace?("symbol"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editSymbolEnd():"pattern"===e.currentWorkspace.getAttribute("data-bx-workspace")?e.editPatternEnd():"marker"===e.currentWorkspace.getAttribute("data-bx-workspace")&&e.editMarkerEnd(),e.currentContainer=null,e.selectedElements=[]):(_t1102.parentElement===e.currentWorkspace?e.currentContainer=null:e.currentContainer=_t1102.parentElement,e.selectedElements=[_t1102]);}}},{key:"tp",value:function(){var _tp=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee100(t){return regeneratorRuntime.wrap(function _callee100$(_context101){while(1){switch(_context101.prev=_context101.next){case 0:t.preventDefault();_context101.next=3;return this.Qs.openContextMenu([{label:"Show IDs",value:"show-ids",disabled:!1,toggled:this.zr}]);case 3:_context101.t0=_context101.sent;_context101.t1="show-ids"===_context101.t0;if(!_context101.t1){_context101.next=7;break;}this.Qs.setConfig("bx-editorbreadcrumb:showIds",!this.zr),this.qs();case 7:case"end":return _context101.stop();}}},_callee100,this);}));function tp(_x123){return _tp.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=this["#items"].querySelector(":focus");e&&("Enter"!==t.code&&"Space"!==t.code||e.click());}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=null;if(e.push(t.masterWorkspace),t.currentWorkspace!==t.masterWorkspace&&e.push(t.currentWorkspace),t.currentContainer){var _i821=[];for(var _e823=t.currentContainer;_e823!==t.currentWorkspace;_e823=_e823.parentElement){_i821.unshift(_e823);}e=[].concat(_toConsumableArray(e),_i821);}t.selectedElements.length>0?(e.push(t.selectedElements[0]),i=t.selectedElements[0]):t.currentContainer||(i=t.currentWorkspace),this["#items"].innerHTML="";var _iterator722=_createForOfIteratorHelper(e),_step722;try{for(_iterator722.s();!(_step722=_iterator722.n()).done;){var _t1103=_step722.value;var _e824=N(_t1103),_s497=V(_t1103),_n349=_t1103.querySelector(":scope > bx-title"),_o274=Ni(_t1103),_l242="";this.zr?_t1103.id?_l242="#"+_t1103.id:(_l242=Ui(_t1103,"developer"),_l242=hi(_l242)):(_l242=_n349?_n349.textContent:Ui(_t1103),_e824&&_s497?_l242+=" (clipped, masked)":_e824?_l242+=" (clipped)":_s497&&(_l242+=" (masked)"));var _a186=qi(_templateObject16(),_o274,_l242);i===_t1103?(_a186.setAttribute("data-selected",""),_a186.setAttribute("part","toggled-item")):_a186.setAttribute("tabindex","0"),_a186[_u]=_t1103,this["#items"].append(_a186);}}catch(err){_iterator722.e(err);}finally{_iterator722.f();}this["#items"].firstElementChild.part.add("first-item"),this["#items"].lastElementChild.part.add("last-item");}},{key:"ip",value:function ip(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}}]);return Cu;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cu,"observedAttributes",["size"]);_defineProperty(Cu,"_shadowTemplate",qi(_templateObject210()));_defineProperty(Cu,"_shadowStyleSheet",Xi(_templateObject211()));customElements.define("bx-editorbreadcrumb",Cu);var Mu=/*#__PURE__*/function(_lh4){_inherits(Mu,_lh4);var _super70=_createSuper(Mu);function Mu(){var _this387;_classCallCheck(this,Mu);_this387=_super70.call(this),_this387["#selection-shape-buttons"].addEventListener("toggle",function(){_this387.op();}),_this387["#selection-mode-buttons"].addEventListener("toggle",function(){_this387.lp();}),_this387["#preserve-stroke-width-checkbox"].addEventListener("toggle",function(){_this387.ap();}),_this387["#preserve-rect-radii-checkbox"].addEventListener("toggle",function(){_this387.hp();}),_this387["#preserve-rotation-checkbox"].addEventListener("toggle",function(){_this387.rp();}),_this387["#preserve-aspect-ratio-checkbox"].addEventListener("toggle",function(){_this387.dp();});return _this387;}_createClass(Mu,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-transformsettings:selectionShape","rect"),e=this.Qs.getConfig("bx-transformsettings:selectionMode","contain"),i=this.Qs.getConfig("bx-transformsettings:preserveStrokeWidth",!0),s=this.Qs.getConfig("bx-transformsettings:preserveRectRadii",!0),n=this.Qs.getConfig("bx-transformsettings:preserveRotation",!0),o=this.Qs.getConfig("bx-transformsettings:preserveAspectRatio",!1);"rect-contain"===e&&(e="contain"),this["#selection-shape-buttons"].value=t,this["#selection-mode-buttons"].value=e,this["#preserve-stroke-width-checkbox"].toggled=i,this["#preserve-rect-radii-checkbox"].toggled=s,this["#preserve-rotation-checkbox"].toggled=n,this["#preserve-aspect-ratio-checkbox"].toggled=o;}},{key:"op",value:function op(){var t=this["#selection-shape-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionShape",t);}},{key:"lp",value:function lp(){var t=this["#selection-mode-buttons"].value;this.Qs.setConfig("bx-transformsettings:selectionMode",t);}},{key:"ap",value:function ap(){var t=this["#preserve-stroke-width-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveStrokeWidth",t);}},{key:"hp",value:function hp(){var t=this["#preserve-rect-radii-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRectRadii",t);}},{key:"rp",value:function rp(){var t=this["#preserve-rotation-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveRotation",t);}},{key:"dp",value:function dp(){var t=this["#preserve-aspect-ratio-checkbox"].toggled;this.Qs.setConfig("bx-transformsettings:preserveAspectRatio",t);}}]);return Mu;}(lh);_defineProperty(Mu,"_shadowTemplate",qi(_templateObject212()));_defineProperty(Mu,"_shadowStyleSheet",Xi(_templateObject213()));customElements.define("bx-transformsettings",Mu);var Pu=/*#__PURE__*/function(_lh5){_inherits(Pu,_lh5);var _super71=_createSuper(Pu);function Pu(){var _this388;_classCallCheck(this,Pu);_this388=_super71.call(this),_this388["#selection-shape-buttons"].addEventListener("toggle",function(){return _this388.op();});return _this388;}_createClass(Pu,[{key:"tn",value:function tn(){this["#selection-shape-buttons"].value=this.Qs.getConfig("bx-editsettings:selectionShape","rect");}},{key:"op",value:function op(){this.Qs.setConfig("bx-editsettings:selectionShape",this["#selection-shape-buttons"].value);}}]);return Pu;}(lh);_defineProperty(Pu,"_shadowTemplate",qi(_templateObject214()));_defineProperty(Pu,"_shadowStyleSheet",Xi(_templateObject215()));customElements.define("bx-editsettings",Pu);var Du=/*#__PURE__*/function(_lh6){_inherits(Du,_lh6);var _super72=_createSuper(Du);function Du(){var _this389;_classCallCheck(this,Du);_this389=_super72.call(this),_this389["#style-picker"].addEventListener("change",function(){return _this389.io();});return _this389;}_createClass(Du,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-quadbeziersettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-quadbeziersettings:style",this["#style-picker"].value);}}]);return Du;}(lh);_defineProperty(Du,"_shadowTemplate",qi(_templateObject216()));customElements.define("bx-quadbeziersettings",Du);var zu=/*#__PURE__*/function(_lh7){_inherits(zu,_lh7);var _super73=_createSuper(zu);function zu(){var _this390;_classCallCheck(this,zu);_this390=_super73.call(this),_this390["#style-picker"].addEventListener("change",function(){return _this390.io();});return _this390;}_createClass(zu,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-cubicbeziersettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-cubicbeziersettings:style",this["#style-picker"].value);}}]);return zu;}(lh);_defineProperty(zu,"_shadowTemplate",qi(_templateObject217()));customElements.define("bx-cubicbeziersettings",zu);var Ou=/*#__PURE__*/function(_lh8){_inherits(Ou,_lh8);var _super74=_createSuper(Ou);function Ou(){var _this391;_classCallCheck(this,Ou);_this391=_super74.call(this),_this391["#style-picker"].addEventListener("change",function(){return _this391.io();});return _this391;}_createClass(Ou,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-arcsettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-arcsettings:style",this["#style-picker"].value);}}]);return Ou;}(lh);_defineProperty(Ou,"_shadowTemplate",qi(_templateObject218()));customElements.define("bx-arcsettings",Ou);var Eu=/*#__PURE__*/function(_lh9){_inherits(Eu,_lh9);var _super75=_createSuper(Eu);function Eu(){var _this392;_classCallCheck(this,Eu);_this392=_super75.call(this),_this392["#smoothing-slider"].addEventListener("change",function(){return _this392.cp();}),_this392["#smoothing-input"].addEventListener("change",function(){return _this392.pp();}),_this392["#style-picker"].addEventListener("change",function(){return _this392.io();});return _this392;}_createClass(Eu,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-freehandsettings:smoothing",.5),e=this.Qs.getConfig("bx-freehandsettings:style");this["#smoothing-slider"].value=t,this["#smoothing-input"].value=t,this["#style-picker"].value=e;}},{key:"cp",value:function cp(){this["#smoothing-input"].value=this["#smoothing-slider"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"pp",value:function pp(){this["#smoothing-slider"].value=this["#smoothing-input"].value,this.Qs.setConfig("bx-freehandsettings:smoothing",this["#smoothing-slider"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-freehandsettings:style",this["#style-picker"].value);}}]);return Eu;}(lh);_defineProperty(Eu,"_shadowTemplate",qi(_templateObject219()));_defineProperty(Eu,"_shadowStyleSheet",Xi(_templateObject220()));customElements.define("bx-freehandsettings",Eu);var Tu=/*#__PURE__*/function(_lh10){_inherits(Tu,_lh10);var _super76=_createSuper(Tu);function Tu(){var _this393;_classCallCheck(this,Tu);_this393=_super76.call(this),_this393["#move-objects-checkbox"].addEventListener("toggle",function(){return _this393.up();}),_this393["#show-ids-checkbox"].addEventListener("toggle",function(){return _this393.xp();});return _this393;}_createClass(Tu,[{key:"tn",value:function tn(){this["#move-objects-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:moveObjects",!1),this["#show-ids-checkbox"].toggled=this.Qs.getConfig("bx-viewsettings:showIds",!1);}},{key:"up",value:function up(){this.Qs.setConfig("bx-viewsettings:moveObjects",this["#move-objects-checkbox"].toggled);}},{key:"xp",value:function xp(){this.Qs.setConfig("bx-viewsettings:showIds",this["#show-ids-checkbox"].toggled);}}]);return Tu;}(lh);_defineProperty(Tu,"_shadowTemplate",qi(_templateObject221()));customElements.define("bx-viewsettings",Tu);var Au=/*#__PURE__*/function(_lh11){_inherits(Au,_lh11);var _super77=_createSuper(Au);function Au(){var _this394;_classCallCheck(this,Au);_this394=_super77.call(this),_this394["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this394.bp();}),_this394["#r-grippie"].addEventListener("pointerdown",function(t){return _this394.ml(t);}),_this394["#r-box"].addEventListener("changestart",function(t){return _this394.mp(t);}),_this394["#style-picker"].addEventListener("change",function(){return _this394.io();});return _this394;}_createClass(Au,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-rectsettings:drawingMode","planar"),this.fp=this.Qs.getConfig("bx-rectsettings:r",0),this.wp=this.Qs.getConfig("bx-rectsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-rectsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"ml",value:function ml(t){var _this395=this;var e,_i822,s=Ht(this["#geometry-preview-shape"]).inverse();this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s).x-_this395["#geometry-preview-shape"].x.baseVal.value;_this395.fp=Q(n,0,30,0),_this395.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i822=function i(){_this395["#geometry-preview"].removeEventListener("pointermove",e),_this395["#geometry-preview"].removeEventListener("lostpointercapture",_i822),_this395.Qs.setConfig("bx-rectsettings:r",_this395.fp);});}},{key:"mp",value:function mp(){var _this396=this;var t,_e825;this["#r-box"].addEventListener("change",t=function t(_t1104){_this396.fp=Q(_t1104.target.value,0,Infinity,0),_this396.yp();}),this["#r-box"].addEventListener("changeend",_e825=function e(){_this396["#r-box"].removeEventListener("change",t),_this396["#r-box"].removeEventListener("changeend",_e825),_this396.Qs.setConfig("bx-rectsettings:r",_this396.fp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-rectsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=Q(this.fp,0,30,0);this["#geometry-preview-shape"].x.baseVal.value=i,this["#geometry-preview-shape"].y.baseVal.value=5,this["#geometry-preview-shape"].width.baseVal.value=e,this["#geometry-preview-shape"].height.baseVal.value=t,this["#geometry-preview-shape"].rx.baseVal.value=s,this["#geometry-preview-shape"].ry.baseVal.value=s,this["#r-grippie"].setAttribute("cx",i+s),this["#r-grippie"].setAttribute("cy",5);}},{key:"Sp",value:function Sp(){this["#r-slider"].value=this.fp,this["#r-input"].value=this.fp;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Au;}(lh);_defineProperty(Au,"_shadowTemplate",qi(_templateObject222()));_defineProperty(Au,"_shadowStyleSheet",Xi(_templateObject223()));customElements.define("bx-rectsettings",Au);var $u=/*#__PURE__*/function(_lh12){_inherits($u,_lh12);var _super78=_createSuper($u);function $u(){var _this397;_classCallCheck(this,$u);_this397=_super78.call(this),_this397["#style-picker"].addEventListener("change",function(){return _this397.io();});return _this397;}_createClass($u,[{key:"tn",value:function tn(){this.kp();}},{key:"io",value:function io(){this.Qs.setConfig("bx-circlesettings:style",this["#style-picker"].value);}},{key:"kp",value:function kp(){this["#style-picker"].value=this.Qs.getConfig("bx-circlesettings:style");}}]);return $u;}(lh);_defineProperty($u,"_shadowTemplate",qi(_templateObject224()));customElements.define("bx-circlesettings",$u);var Iu=/*#__PURE__*/function(_lh13){_inherits(Iu,_lh13);var _super79=_createSuper(Iu);function Iu(){var _this398;_classCallCheck(this,Iu);_this398=_super79.call(this),_this398["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this398.bp();}),_this398["#style-picker"].addEventListener("change",function(){return _this398.io();});return _this398;}_createClass(Iu,[{key:"tn",value:function tn(){this.vp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-ellipsesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-ellipsesettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.Qs.getConfig("bx-ellipsesettings:drawingMode","planar");}},{key:"kp",value:function kp(){this["#style-picker"].value=this.Qs.getConfig("bx-ellipsesettings:style");}}]);return Iu;}(lh);_defineProperty(Iu,"_shadowTemplate",qi(_templateObject225()));_defineProperty(Iu,"_shadowStyleSheet",Xi(_templateObject226()));customElements.define("bx-ellipsesettings",Iu);var Lu=Number.MAX_SAFE_INTEGER;var Bu=/*#__PURE__*/function(_lh14){_inherits(Bu,_lh14);var _super80=_createSuper(Bu);function Bu(){var _this399;_classCallCheck(this,Bu);_this399=_super80.call(this),_this399["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this399.bp();}),_this399["#r1-grippie"].addEventListener("pointerdown",function(t){return _this399.Il(t);}),_this399["#r1-box"].addEventListener("changestart",function(t){return _this399._p(t);}),_this399["#style-picker"].addEventListener("change",function(){return _this399.io();});return _this399;}_createClass(Bu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-ringsettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-ringsettings:r1",.6),this.wp=this.Qs.getConfig("bx-ringsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-ringsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Il",value:function Il(t){var _this400=this;var e,_i823,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values=_slicedToArray(n.values,6),o=_n$values[0],l=_n$values[1],a=_n$values[2],h=_n$values[3],r=_n$values[4],d=_n$values[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Lu);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ee43=Ee(u,x,n,!1),_Ee44=_slicedToArray(_Ee43,1),o=_Ee44[0],l=ze(p,o),a=Q(l/c,0,1,2);_this400.Cp=a,_this400.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i823=function i(){_this400["#geometry-preview"].removeEventListener("pointermove",e),_this400["#geometry-preview"].removeEventListener("lostpointercapture",_i823),_this400.Qs.setConfig("bx-ringsettings:r1",_this400.Cp);});}},{key:"_p",value:function _p(){var _this401=this;var t,_e826;this["#r1-box"].addEventListener("change",t=function t(_t1105){_this401.Cp=Q(_t1105.target.value/100,0,1,2),_this401.yp();}),this["#r1-box"].addEventListener("changeend",_e826=function e(){_this401["#r1-box"].removeEventListener("change",t),_this401["#r1-box"].removeEventListener("changeend",_e826),_this401.Qs.setConfig("bx-ringsettings:r1",_this401.Cp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-ringsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Cp*i;_ml(this["#geometry-preview-shape"],{type:"ring",values:[t,e,s,s,i,i]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Sp",value:function Sp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Cp,Q(100*this.Cp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Bu;}(lh);_defineProperty(Bu,"_shadowTemplate",qi(_templateObject227()));_defineProperty(Bu,"_shadowStyleSheet",Xi(_templateObject228()));customElements.define("bx-ringsettings",Bu);var Ru=Number.MAX_SAFE_INTEGER;var Gu=/*#__PURE__*/function(_lh15){_inherits(Gu,_lh15);var _super81=_createSuper(Gu);function Gu(){var _this402;_classCallCheck(this,Gu);_this402=_super81.call(this),_this402["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this402.bp();}),_this402["#r1-grippie"].addEventListener("pointerdown",function(t){return _this402.Il(t);}),_this402["#r1-box"].addEventListener("changestart",function(t){return _this402._p(t);}),_this402["#style-picker"].addEventListener("change",function(){return _this402.io();});return _this402;}_createClass(Gu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-piesettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-piesettings:r1",0),this.wp=this.Qs.getConfig("bx-piesettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-piesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Il",value:function Il(t){var _this403=this;var e,_i824,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values2=_slicedToArray(n.values,6),o=_n$values2[0],l=_n$values2[1],a=_n$values2[2],h=_n$values2[3],r=_n$values2[4],d=_n$values2[5],c=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,p=new DOMPoint(o,l),u=p,x=new DOMPoint(o,l-Ru);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ee45=Ee(u,x,n,!1),_Ee46=_slicedToArray(_Ee45,1),o=_Ee46[0],l=ze(p,o),a=Q(l/c,0,1,2);_this403.Cp=a,_this403.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i824=function i(){_this403["#geometry-preview"].removeEventListener("pointermove",e),_this403["#geometry-preview"].removeEventListener("lostpointercapture",_i824),_this403.Qs.setConfig("bx-piesettings:r1",_this403.Cp);});}},{key:"_p",value:function _p(){var _this404=this;var t,_e827;this["#r1-box"].addEventListener("change",t=function t(_t1106){_this404.Cp=Q(_t1106.target.value/100,0,1,2),_this404.yp();}),this["#r1-box"].addEventListener("changeend",_e827=function e(){_this404["#r1-box"].removeEventListener("change",t),_this404["#r1-box"].removeEventListener("changeend",_e827),_this404.Qs.setConfig("bx-piesettings:r1",_this404.Cp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-piesettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Cp*i;_ml(this["#geometry-preview-shape"],{type:"pie",values:[t,e,s,i,90,360]}),this["#r1-grippie"].cx.baseVal.value=t,this["#r1-grippie"].cy.baseVal.value=e-s;}},{key:"Sp",value:function Sp(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Cp,Q(100*this.Cp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Gu;}(lh);_defineProperty(Gu,"_shadowTemplate",qi(_templateObject229()));_defineProperty(Gu,"_shadowStyleSheet",Xi(_templateObject230()));customElements.define("bx-piesettings",Gu);var Fu=Math.abs,Uu=Math.sin,Nu=Math.cos;var Vu=/*#__PURE__*/function(_lh16){_inherits(Vu,_lh16);var _super82=_createSuper(Vu);function Vu(){var _this405;_classCallCheck(this,Vu);_this405=_super82.call(this),_this405["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this405.bp();}),_this405["#arch-grippie"].addEventListener("pointerdown",function(t){return _this405.yl(t);}),_this405["#hollow-grippie"].addEventListener("pointerdown",function(t){return _this405.kl(t);}),_this405["#arch-box"].addEventListener("changestart",function(t){return _this405.Mp(t);}),_this405["#hollow-box"].addEventListener("changestart",function(t){return _this405.Pp(t);}),_this405["#style-picker"].addEventListener("change",function(){return _this405.io();});return _this405;}_createClass(Vu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-crescentsettings:drawingMode","polar"),this.Dp=this.Qs.getConfig("bx-crescentsettings:arch",300),this.zp=this.Qs.getConfig("bx-crescentsettings:hollow",.7),this.wp=this.Qs.getConfig("bx-crescentsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"yl",value:function yl(t){var _this406=this;var e,_i825,s=bl(this["#geometry-preview-shape"]),n=Ht(this["#geometry-preview-shape"]).inverse(),_s$values=_slicedToArray(s.values,5),o=_s$values[0],l=_s$values[1],a=_s$values[2],h=_s$values[3],r=_s$values[4];this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=qe(e,new DOMPoint(o,l),a),s=new DOMPoint(o,l),h=new DOMPoint(o+a,l),r=Le(s,i,h);_this406.Dp=r<0&&r>=-90?1:r<-90&&r>=-180?359:Q(Fu(2*r),1,359,0),_this406.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i825=function i(){_this406["#geometry-preview"].removeEventListener("pointermove",e),_this406["#geometry-preview"].removeEventListener("lostpointercapture",_i825),_this406.Qs.setConfig("bx-crescentsettings:arch",_this406.Dp);});}},{key:"kl",value:function kl(t){var _this407=this;var e,_i826,s=bl(this["#geometry-preview-shape"]),n=Ht(this["#geometry-preview-shape"]).inverse(),_s$values2=_slicedToArray(s.values,5),o=_s$values2[0],l=_s$values2[1],a=_s$values2[2],h=_s$values2[3],r=_s$values2[4],d=new DOMPoint(o-a,l),c=new DOMPoint(o+a,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_Ee47=Ee(d,c,e,!1),_Ee48=_slicedToArray(_Ee47,1),i=_Ee48[0];r=(i.x-d.x)/(2*a),r=Q(r,0,1,4),_this407.zp=r,_this407.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i826=function i(){_this407["#geometry-preview"].removeEventListener("pointermove",e),_this407["#geometry-preview"].removeEventListener("lostpointercapture",_i826),_this407.Qs.setConfig("bx-crescentsettings:hollow",_this407.zp);});}},{key:"Mp",value:function Mp(){var _this408=this;var t,_e828;this["#arch-box"].addEventListener("change",t=function t(_t1107){_this408.Dp=Q(_t1107.target.value,1,359,0),_this408.yp();}),this["#arch-box"].addEventListener("changeend",_e828=function e(){_this408["#arch-box"].removeEventListener("change",t),_this408["#arch-box"].removeEventListener("changeend",_e828),_this408.Qs.setConfig("bx-crescentsettings:arch",_this408.Dp);});}},{key:"Pp",value:function Pp(){var _this409=this;var t,_e829;this["#hollow-box"].addEventListener("change",t=function t(_t1108){_this409.zp=Q(_t1108.target.value/100,0,1,2),_this409.yp();}),this["#hollow-box"].addEventListener("changeend",_e829=function e(){_this409["#hollow-box"].removeEventListener("change",t),_this409["#hollow-box"].removeEventListener("changeend",_e829),_this409.Qs.setConfig("bx-crescentsettings:hollow",_this409.zp);});}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-crescentsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-crescentsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Dp,n=this.zp;_ml(this["#geometry-preview-shape"],{type:"crescent",values:[t,e,i,s,n]});{var _n350=Be(90-s/2),_o275=Fe(_n350);this["#arch-grippie"].cx.baseVal.value=t+i*Uu(_o275),this["#arch-grippie"].cy.baseVal.value=e+i*-Nu(_o275);}this["#hollow-grippie"].cx.baseVal.value=t-i+2*i*n,this["#hollow-grippie"].cy.baseVal.value=e;}},{key:"Sp",value:function Sp(){var t=Q(this.Dp,1,359,0),e=Q(100*this.zp,0,100,0);this["#arch-slider"].value=t,this["#arch-input"].value=t,this["#hollow-slider"].value=e,this["#hollow-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Vu;}(lh);_defineProperty(Vu,"_shadowTemplate",qi(_templateObject231()));_defineProperty(Vu,"_shadowStyleSheet",Xi(_templateObject232()));customElements.define("bx-crescentsettings",Vu);var ju=Math.abs;var Hu=/*#__PURE__*/function(_lh17){_inherits(Hu,_lh17);var _super83=_createSuper(Hu);function Hu(){var _this410;_classCallCheck(this,Hu);_this410=_super83.call(this),_this410["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this410.bp();}),_this410["#shift-grippie"].addEventListener("pointerdown",function(t){return _this410.Cl(t);}),_this410["#corner-grippie"].addEventListener("pointerdown",function(t){return _this410.Ml(t);}),_this410["#shift-box"].addEventListener("changestart",function(t){return _this410.Op(t);}),_this410["#corner-box"].addEventListener("changestart",function(t){return _this410.Ep(t);}),_this410["#style-picker"].addEventListener("change",function(){return _this410.io();});return _this410;}_createClass(Hu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-trianglesettings:drawingMode","polar"),this.un=this.Qs.getConfig("bx-trianglesettings:shift",.5),this.Tp=this.Qs.getConfig("bx-trianglesettings:corner",0),this.wp=this.Qs.getConfig("bx-trianglesettings:style"),this.vp(),this.yp(),this.kp();}},{key:"Cl",value:function Cl(t){var _this411=this;var e,_i827,s=bl(this["#geometry-preview-shape"]),n=Ht(this["#geometry-preview-shape"]).inverse(),_s$values3=_slicedToArray(s.values,6),o=_s$values3[0],l=_s$values3[1],a=_s$values3[2],h=_s$values3[3],r=_s$values3[4],d=_s$values3[5],c=new DOMPoint(o,l),p=new DOMPoint(o+a,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),_Ee49=Ee(c,p,e,!1),_Ee50=_slicedToArray(_Ee49,1),i=_Ee50[0];r=(i.x-c.x)/a,r=Q(r,0,1,4),_this411.Qs.modKeys.shift&&(r=[0,.5,1].reduce(function(t,e){return ju(e-r)<ju(t-r)?e:t;})),_this411.un=r,_this411.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i827=function i(){_this411["#geometry-preview"].removeEventListener("pointermove",e),_this411["#geometry-preview"].removeEventListener("lostpointercapture",_i827),_this411.Qs.setConfig("bx-trianglesettings:shift",_this411.un);});}},{key:"Ml",value:function Ml(t){var _this412=this;var e,_i828,s=bl(this["#geometry-preview-shape"]),n=Ht(this["#geometry-preview-shape"]).inverse(),_s$values4=_slicedToArray(s.values,6),o=_s$values4[0],l=_s$values4[1],a=_s$values4[2],h=_s$values4[3],r=_s$values4[4],d=_s$values4[5],c=new DOMPoint(o+a*r,l),p=new DOMPoint(o+a,l+h),u=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),x=new DOMPoint(u.x,u.y);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);x=e.matrixTransform(n);var _Ee51=Ee(p,c,x,!1),_Ee52=_slicedToArray(_Ee51,1),i=_Ee52[0],s=new Z(p,i),o=new Z(p,c),l=s.length/o.length;_this412.Tp=Q(l,0,.5,4),_this412.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i828=function i(){_this412["#geometry-preview"].removeEventListener("pointermove",e),_this412["#geometry-preview"].removeEventListener("lostpointercapture",_i828),_this412.Qs.setConfig("bx-trianglesettings:corner",_this412.Tp);});}},{key:"Op",value:function Op(){var _this413=this;var t,_e830;this["#shift-box"].addEventListener("change",t=function t(_t1109){_this413.un=Q((_t1109.target.value+50)/100,0,1,2),_this413.yp();}),this["#shift-box"].addEventListener("changeend",_e830=function e(){_this413["#shift-box"].removeEventListener("change",t),_this413["#shift-box"].removeEventListener("changeend",_e830),_this413.Qs.setConfig("bx-trianglesettings:shift",_this413.un);});}},{key:"Ep",value:function Ep(){var _this414=this;var t,_e831;this["#corner-box"].addEventListener("change",t=function t(_t1110){_this414.Tp=Q(_t1110.target.value/200,0,1,2),_this414.yp();}),this["#corner-box"].addEventListener("changeend",_e831=function e(){_this414["#corner-box"].removeEventListener("change",t),_this414["#corner-box"].removeEventListener("changeend",_e831),_this414.Qs.setConfig("bx-trianglesettings:corner",_this414.Tp);});}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-trianglesettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"io",value:function io(){this.Qs.setConfig("bx-trianglesettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this.un,n=this.Tp;_ml(this["#geometry-preview-shape"],{type:"triangle",values:[i,5,e,t,s,n]});{var _o276=new DOMPoint(i+e*s,5),_l243=new DOMPoint(i+e,5+t),_a187=Te(_l243,_o276,n);this["#corner-grippie"].cx.baseVal.value=_a187.x,this["#corner-grippie"].cy.baseVal.value=_a187.y;}{var _t1111=new DOMPoint(i+e*s,5);this["#shift-grippie"].setAttribute("cx",_t1111.x),this["#shift-grippie"].setAttribute("cy",_t1111.y);}}},{key:"Sp",value:function Sp(){var t=Q(200*this.Tp,0,100,0),e=Q(100*(this.un-.5),-50,50,0);this["#corner-slider"].value=t,this["#corner-input"].value=t,this["#shift-slider"].value=e,this["#shift-input"].value=e;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Hu;}(lh);_defineProperty(Hu,"_shadowTemplate",qi(_templateObject233()));_defineProperty(Hu,"_shadowStyleSheet",Xi(_templateObject234()));customElements.define("bx-trianglesettings",Hu);var Yu=/*#__PURE__*/function(_lh18){_inherits(Yu,_lh18);var _super84=_createSuper(Yu);function Yu(){var _this415;_classCallCheck(this,Yu);_this415=_super84.call(this),_this415["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this415.bp();}),_this415["#corner-grippie"].addEventListener("pointerdown",function(t){return _this415.Ml(t);}),_this415["#arms-box"].addEventListener("changestart",function(t){return _this415.Ap(t);}),_this415["#corner-box"].addEventListener("changestart",function(t){return _this415.Ep(t);}),_this415["#style-picker"].addEventListener("change",function(){return _this415.io();});return _this415;}_createClass(Yu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-ngonsettings:drawingMode","polar"),this.$p=this.Qs.getConfig("bx-ngonsettings:arms",5),this.Tp=this.Qs.getConfig("bx-ngonsettings:corner",0),this.wp=this.Qs.getConfig("bx-ngonsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-ngonsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Ml",value:function Ml(t){var _this416=this;var e,_i829,s=bl(this["#geometry-preview-shape"]),n=Ht(this["#geometry-preview-shape"]).inverse(),_s$values5=_slicedToArray(s.values,6),o=_s$values5[0],l=_s$values5[1],a=_s$values5[2],h=_s$values5[3],r=_s$values5[4],d=_s$values5[5],c=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),p=new DOMPoint(c.x,c.y),u=Ol(0,o,l,a,h,r),x=Ol(1,o,l,a,h,r);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY);p=e.matrixTransform(n);var _Ee53=Ee(u,x,p,!1),_Ee54=_slicedToArray(_Ee53,1),i=_Ee54[0],s=new Z(u,i),o=new Z(u,x),l=s.length/o.length;_this416.Tp=Q(l,0,.5,2),_this416.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i829=function i(){_this416["#geometry-preview"].removeEventListener("pointermove",e),_this416["#geometry-preview"].removeEventListener("lostpointercapture",_i829),_this416.Qs.setConfig("bx-ngonsettings:corner",_this416.Tp);});}},{key:"Ap",value:function Ap(){var _this417=this;var t,_e832;this["#arms-box"].addEventListener("change",t=function t(_t1112){_this417.$p=Q(_t1112.target.value,4,Infinity,0),_this417.yp();}),this["#arms-box"].addEventListener("changeend",_e832=function e(){_this417["#arms-box"].removeEventListener("change",t),_this417["#arms-box"].removeEventListener("changeend",_e832),_this417.Qs.setConfig("bx-ngonsettings:arms",_this417.$p);});}},{key:"Ep",value:function Ep(){var _this418=this;var t,_e833;this["#corner-box"].addEventListener("change",t=function t(_t1113){_this418.Tp=Q(_t1113.target.value/200,0,1,2),_this418.yp();}),this["#corner-box"].addEventListener("changeend",_e833=function e(){_this418["#corner-box"].removeEventListener("change",t),_this418["#corner-box"].removeEventListener("changeend",_e833),_this418.Qs.setConfig("bx-ngonsettings:corner",_this418.Tp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-ngonsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i;_ml(this["#geometry-preview-shape"],{type:"n-gon",values:[t,e,i,s,this.$p,this.Tp]});{var _n351=Ol(0,t,e,i,s,this.$p),_o277=Ol(1,t,e,i,s,this.$p),_l244=Te(_n351,_o277,this.Tp);this["#corner-grippie"].cx.baseVal.value=_l244.x,this["#corner-grippie"].cy.baseVal.value=_l244.y;}}},{key:"Sp",value:function Sp(){var t=K(200*this.Tp,0);this["#arms-slider"].value=this.$p,this["#arms-input"].value=this.$p,this["#corner-slider"].value=t,this["#corner-input"].value=t;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Yu;}(lh);_defineProperty(Yu,"_shadowTemplate",qi(_templateObject235()));_defineProperty(Yu,"_shadowStyleSheet",Xi(_templateObject236()));customElements.define("bx-ngonsettings",Yu);var Wu=Math.sin,qu=Math.cos,Xu=Math.PI;var Zu=/*#__PURE__*/function(_lh19){_inherits(Zu,_lh19);var _super85=_createSuper(Zu);function Zu(){var _this419;_classCallCheck(this,Zu);_this419=_super85.call(this),_this419["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this419.bp();}),_this419["#depth-grippie"].addEventListener("pointerdown",function(t){return _this419.Tl(t);}),_this419["#depth-box"].addEventListener("changestart",function(t){return _this419.Ip(t);}),_this419["#arms-box"].addEventListener("changestart",function(t){return _this419.Ap(t);}),_this419["#style-picker"].addEventListener("change",function(){return _this419.io();});return _this419;}_createClass(Zu,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-starsettings:drawingMode","polar"),this.Lp=this.Qs.getConfig("bx-starsettings:depth",.4),this.$p=this.Qs.getConfig("bx-starsettings:arms",5),this.wp=this.Qs.getConfig("bx-starsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-starsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Tl",value:function Tl(t){var _this420=this;var e,_i830,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values3=_slicedToArray(n.values,6),o=_n$values3[0],l=_n$values3[1],a=_n$values3[2],h=_n$values3[3],r=_n$values3[4],d=_n$values3[5],c=new DOMPoint(o,l);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=2*Xu*(1/d/2)-Xu/2,n=c,r=new DOMPoint(a*qu(i)+o,h*Wu(i)+l),_Ee55=Ee(n,r,e,!1),_Ee56=_slicedToArray(_Ee55,1),p=_Ee56[0],u=new Z(n,p).length/new Z(n,r).length;_this420.Lp=Q(u,0,1,2),_this420.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i830=function i(){_this420["#geometry-preview"].removeEventListener("pointermove",e),_this420["#geometry-preview"].removeEventListener("lostpointercapture",_i830),_this420.Qs.setConfig("bx-starsettings:depth",_this420.Lp);});}},{key:"Ip",value:function Ip(){var _this421=this;var t,_e834;this["#depth-box"].addEventListener("change",t=function t(_t1114){_this421.Lp=Q(_t1114.target.value/100,0,1,2),_this421.yp();}),this["#depth-box"].addEventListener("changeend",_e834=function e(){_this421["#depth-box"].removeEventListener("change",t),_this421["#depth-box"].removeEventListener("changeend",_e834),_this421.Qs.setConfig("bx-starsettings:depth",_this421.Lp);});}},{key:"Ap",value:function Ap(){var _this422=this;var t,_e835;this["#arms-box"].addEventListener("change",t=function t(_t1115){_this422.$p=Q(_t1115.target.value,4,Infinity,0),_this422.yp();}),this["#arms-box"].addEventListener("changeend",_e835=function e(){_this422["#arms-box"].removeEventListener("change",t),_this422["#arms-box"].removeEventListener("changeend",_e835),_this422.Qs.setConfig("bx-starsettings:arms",_this422.$p);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-starsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=i,n=El(1,t,e,i,s,this.Lp,this.$p);_ml(this["#geometry-preview-shape"],{type:"star",values:[t,e,i,s,this.Lp,this.$p]}),this["#depth-grippie"].cx.baseVal.value=n.x,this["#depth-grippie"].cy.baseVal.value=n.y;}},{key:"Sp",value:function Sp(){var t=K(100*this.Lp,0);this["#depth-slider"].value=t,this["#depth-input"].value=t,this["#arms-slider"].value=this.$p,this["#arms-input"].value=this.$p;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return Zu;}(lh);_defineProperty(Zu,"_shadowTemplate",qi(_templateObject237()));_defineProperty(Zu,"_shadowStyleSheet",Xi(_templateObject238()));customElements.define("bx-starsettings",Zu);var Ku=Math.sin,Qu=Math.cos,Ju=Math.tan,tx=Number.MAX_SAFE_INTEGER;var ex=/*#__PURE__*/function(_lh20){_inherits(ex,_lh20);var _super86=_createSuper(ex);function ex(){var _this423;_classCallCheck(this,ex);_this423=_super86.call(this),_this423["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this423.bp();}),_this423["#r1-grippie"].addEventListener("pointerdown",function(t){return _this423.Il(t);}),_this423["#r2-grippie"].addEventListener("pointerdown",function(t){return _this423.Ll(t);}),_this423["#r3-grippie"].addEventListener("pointerdown",function(t){return _this423.Bl(t);}),_this423["#splay-grippie"].addEventListener("pointerdown",function(t){return _this423.Gl(t);}),_this423["#r1-box"].addEventListener("changestart",function(t){return _this423._p(t);}),_this423["#r2-box"].addEventListener("changestart",function(t){return _this423.Bp(t);}),_this423["#r3-box"].addEventListener("changestart",function(t){return _this423.Rp(t);}),_this423["#splay-box"].addEventListener("changestart",function(t){return _this423.Gp(t);}),_this423["#teeth-box"].addEventListener("changestart",function(t){return _this423.Fp(t);}),_this423["#style-picker"].addEventListener("change",function(){return _this423.io();});return _this423;}_createClass(ex,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-cogsettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-cogsettings:r1",.3),this.Up=this.Qs.getConfig("bx-cogsettings:r2",.65),this.Np=this.Qs.getConfig("bx-cogsettings:r3",1),this.Vp=this.Qs.getConfig("bx-cogsettings:splay",.38),this.jp=this.Qs.getConfig("bx-cogsettings:teeth",8),this.wp=this.Qs.getConfig("bx-cogsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-cogsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Il",value:function Il(t){var _this424=this;var e,_i831,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values4=_slicedToArray(n.values,7),o=_n$values4[0],l=_n$values4[1],a=_n$values4[2],h=_n$values4[3],r=_n$values4[4],d=_n$values4[5],c=_n$values4[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-tx).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ee57=Ee(b,m,n,!1),_Ee58=_slicedToArray(_Ee57,1),o=_Ee58[0],l=ze(x,o),a=Q(l/p,0,1,2);_this424.Cp=a,_this424.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i831=function i(){_this424["#geometry-preview"].removeEventListener("pointermove",e),_this424["#geometry-preview"].removeEventListener("lostpointercapture",_i831),_this424.Qs.setConfig("bx-cogsettings:r1",_this424.Cp);});}},{key:"Ll",value:function Ll(t){var _this425=this;var e,_i832,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values5=_slicedToArray(n.values,7),o=_n$values5[0],l=_n$values5[1],a=_n$values5[2],h=_n$values5[3],r=_n$values5[4],d=_n$values5[5],c=_n$values5[6],p=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,u=new DOMMatrix().translateSelf(o,l).rotateSelf(360/c/2).translateSelf(-o,-l),x=new DOMPoint(o,l),b=x,m=new DOMPoint(o,l-tx).matrixTransform(u);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ee59=Ee(b,m,n,!1),_Ee60=_slicedToArray(_Ee59,1),o=_Ee60[0],l=ze(x,o),a=Q(l/p,0,1,2);_this425.Up=a,_this425.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i832=function i(){_this425["#geometry-preview"].removeEventListener("pointermove",e),_this425["#geometry-preview"].removeEventListener("lostpointercapture",_i832),_this425.Qs.setConfig("bx-cogsettings:r2",_this425.Up);});}},{key:"Bl",value:function Bl(t){var _this426=this;var e,_i833,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values6=_slicedToArray(n.values,5),o=_n$values6[0],l=_n$values6[1],a=_n$values6[2],h=_n$values6[3],r=_n$values6[4],d=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,c=new DOMPoint(o,l),p=c,u=new DOMPoint(o,l-tx);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,n=new DOMPoint(e,i).matrixTransform(s),_Ee61=Ee(p,u,n,!1),_Ee62=_slicedToArray(_Ee61,1),o=_Ee62[0],l=ze(c,o),a=Q(l/d,0,1,2);_this426.Np=a,_this426.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i833=function i(){_this426["#geometry-preview"].removeEventListener("pointermove",e),_this426["#geometry-preview"].removeEventListener("lostpointercapture",_i833),_this426.Qs.setConfig("bx-cogsettings:r3",_this426.Np);});}},{key:"Gl",value:function Gl(t){var _this427=this;var e,_i834,_bl$values43=_slicedToArray(bl(this["#geometry-preview-shape"]).values,7),s=_bl$values43[0],n=_bl$values43[1],o=_bl$values43[2],l=_bl$values43[3],a=_bl$values43[4],h=_bl$values43[5],r=_bl$values43[6],d=Ht(this["#geometry-preview-shape"]).inverse(),c=function c(t){var e=360/r,i=e/4,o=Ju(Fe(i-t*i))*a,l=Fe(e-90);return new DOMPoint(s+a*Qu(l)-Ku(l)*o,n+a*Ku(l)+Qu(l)*o);},p=c(0),u=c(1);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=t.clientX,i=t.clientY,s=new DOMPoint(e,i).matrixTransform(d),_Ee63=Ee(p,u,s,!1),_Ee64=_slicedToArray(_Ee63,1),n=_Ee64[0],o=ze(p,n)/ze(p,u);_this427.Vp=Q(o,0,1,3),_this427.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i834=function i(){_this427["#geometry-preview"].removeEventListener("pointermove",e),_this427["#geometry-preview"].removeEventListener("lostpointercapture",_i834),_this427.Qs.setConfig("bx-cogsettings:splay",_this427.Vp);});}},{key:"_p",value:function _p(){var _this428=this;var t,_e836;this["#r1-box"].addEventListener("change",t=function t(_t1116){_this428.Cp=Q(_t1116.target.value/100,0,1,2),_this428.yp();}),this["#r1-box"].addEventListener("changeend",_e836=function e(){_this428["#r1-box"].removeEventListener("change",t),_this428["#r1-box"].removeEventListener("changeend",_e836),_this428.Qs.setConfig("bx-cogsettings:r1",_this428.Cp);});}},{key:"Bp",value:function Bp(){var _this429=this;var t,_e837;this["#r2-box"].addEventListener("change",t=function t(_t1117){_this429.Up=Q(_t1117.target.value/100,0,1,2),_this429.yp();}),this["#r2-box"].addEventListener("changeend",_e837=function e(){_this429["#r2-box"].removeEventListener("change",t),_this429["#r2-box"].removeEventListener("changeend",_e837),_this429.Qs.setConfig("bx-cogsettings:r2",_this429.Up);});}},{key:"Rp",value:function Rp(){var _this430=this;var t,_e838;this["#r3-box"].addEventListener("change",t=function t(_t1118){_this430.Np=Q(_t1118.target.value/100,0,1,2),_this430.yp();}),this["#r3-box"].addEventListener("changeend",_e838=function e(){_this430["#r3-box"].removeEventListener("change",t),_this430["#r3-box"].removeEventListener("changeend",_e838),_this430.Qs.setConfig("bx-cogsettings:r3",_this430.Np);});}},{key:"Gp",value:function Gp(){var _this431=this;var t,_e839;this["#splay-box"].addEventListener("change",t=function t(_t1119){_this431.Vp=Q(_t1119.target.value/100,0,1,3),_this431.yp();}),this["#splay-box"].addEventListener("changeend",_e839=function e(){_this431["#splay-box"].removeEventListener("change",t),_this431["#splay-box"].removeEventListener("changeend",_e839),_this431.Qs.setConfig("bx-cogsettings:splay",_this431.Vp);});}},{key:"Fp",value:function Fp(){var _this432=this;var t,_e840;this["#teeth-box"].addEventListener("change",t=function t(_t1120){_this432.jp=Q(_t1120.target.value,4,Infinity,0),_this432.yp();}),this["#teeth-box"].addEventListener("changeend",_e840=function e(){_this432["#teeth-box"].removeEventListener("change",t),_this432["#teeth-box"].removeEventListener("changeend",_e840),_this432.Qs.setConfig("bx-cogsettings:teeth",_this432.jp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-cogsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,e=this["#geometry-preview"].viewBox.baseVal.width/2,i=this["#geometry-preview"].viewBox.baseVal.height/2,s=this.Cp*t,n=this.Up*t,o=this.Np*t;_ml(this["#geometry-preview-shape"],{type:"cog",values:[e,i,s,n,o,this.Vp,this.jp]});{var _t1121=360/this.jp,_s498=_t1121/4,_n352=Ju(Fe(_s498-this.Vp*_s498))*o,_l245=Fe(_t1121-90);this["#splay-grippie"].cx.baseVal.value=e+o*Qu(_l245)-Ku(_l245)*_n352,this["#splay-grippie"].cy.baseVal.value=i+o*Ku(_l245)+Qu(_l245)*_n352;}{var _t1122=new DOMMatrix().translate(e,i).rotate(360/this.jp/2).translate(-e,-i),_n353=new DOMPoint(e,i-s).matrixTransform(_t1122);this["#r1-grippie"].cx.baseVal.value=_n353.x,this["#r1-grippie"].cy.baseVal.value=_n353.y;}{var _t1123=new DOMMatrix().translate(e,i).rotate(360/this.jp/2).translate(-e,-i),_s499=new DOMPoint(e,i-n).matrixTransform(_t1123);this["#r2-grippie"].cx.baseVal.value=_s499.x,this["#r2-grippie"].cy.baseVal.value=_s499.y;}{var _t1124=new DOMPoint(e,i-o);this["#r3-grippie"].cx.baseVal.value=_t1124.x,this["#r3-grippie"].cy.baseVal.value=_t1124.y;}}},{key:"Sp",value:function Sp(){var t=K(100*this.Cp,0),e=K(100*this.Up,0),i=K(100*this.Np,0),s=K(100*this.Vp,0);this["#r1-slider"].value=t,this["#r1-input"].value=t,this["#r2-slider"].value=e,this["#r2-input"].value=e,this["#r3-slider"].value=i,this["#r3-input"].value=i,this["#splay-slider"].value=s,this["#splay-input"].value=s,this["#teeth-slider"].value=this.jp,this["#teeth-input"].value=this.jp;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return ex;}(lh);_defineProperty(ex,"_shadowTemplate",qi(_templateObject239()));_defineProperty(ex,"_shadowStyleSheet",Xi(_templateObject240()));customElements.define("bx-cogsettings",ex);var ix=/*#__PURE__*/function(_lh21){_inherits(ix,_lh21);var _super87=_createSuper(ix);function ix(){var _this433;_classCallCheck(this,ix);_this433=_super87.call(this),_this433["#base-thickness-grippie"].addEventListener("pointerdown",function(t){return _this433.jl(t);}),_this433["#head-size-grippie"].addEventListener("pointerdown",function(t){return _this433.Hl(t);}),_this433["#head-inset-grippie"].addEventListener("pointerdown",function(t){return _this433.Yl(t);}),_this433["#base-thickness-box"].addEventListener("changestart",function(){return _this433.Hp();}),_this433["#head-thickness-box"].addEventListener("changestart",function(){return _this433.Yp();}),_this433["#head-length-box"].addEventListener("changestart",function(){return _this433.Wp();}),_this433["#head-inset-box"].addEventListener("changestart",function(){return _this433.qp();}),_this433["#style-picker"].addEventListener("change",function(){return _this433.io();});return _this433;}_createClass(ix,[{key:"tn",value:function tn(){this.Xp=this.Qs.getConfig("bx-arrowsettings:baseThickness",10),this.Zp=this.Qs.getConfig("bx-arrowsettings:headThickness",40),this.Kp=this.Qs.getConfig("bx-arrowsettings:headLength",40),this.Qp=this.Qs.getConfig("bx-arrowsettings:headInset",0),this.wp=this.Qs.getConfig("bx-arrowsettings:style"),this.yp(),this.kp();}},{key:"jl",value:function jl(t){var _this434=this;if(1!==t.buttons)return;var e,_i835,s=bl(this["#geometry-preview-shape"]),_s$values6=_slicedToArray(s.values,7),n=_s$values6[0],o=_s$values6[1],l=_s$values6[2],a=_s$values6[3],h=_s$values6[4],r=_s$values6[5],d=_s$values6[6],c=h,_Tl4=Tl.apply(void 0,_toConsumableArray(s.values)),p=_Tl4.maxBaseThickness;p=K(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e841){var i=_e841.clientY-t.clientY;h=c-2*i,h=Q(h,1,p,0),_this434.Xp=h,_this434.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i835=function i(){_this434["#geometry-preview"].removeEventListener("pointermove",e),_this434["#geometry-preview"].removeEventListener("lostpointercapture",_i835),_this434.Qs.setConfig("bx-arrowsettings:baseThickness",h);});}},{key:"Hl",value:function Hl(t){var _this435=this;if(1!==t.buttons)return;var e,_i836,s=bl(this["#geometry-preview-shape"]),_s$values7=_slicedToArray(s.values,7),n=_s$values7[0],o=_s$values7[1],l=_s$values7[2],a=_s$values7[3],h=_s$values7[4],r=_s$values7[5],d=_s$values7[6],c=h,p=a,u=r;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e842){var i=_e842.clientX-t.clientX,s=_e842.clientY-t.clientY;a=p+2*s,a=Q(a,h,60,0),r=u-i,r=Q(r,1,l,0);{var _Tl5=Tl(n,o,l,a,h,r,d),_t1125=_Tl5.maxBaseThickness;_t1125=K(_t1125,0),(h>_t1125||h<c)&&(h=_t1125);}_this435.Kp=r,_this435.Zp=a,_this435.Xp=h,_this435.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i836=function i(){_this435["#geometry-preview"].removeEventListener("pointermove",e),_this435["#geometry-preview"].removeEventListener("lostpointercapture",_i836),_this435.Qs.setConfig("bx-arrowsettings:baseThickness",_this435.Xp),_this435.Qs.setConfig("bx-arrowsettings:headThickness",_this435.Zp),_this435.Qs.setConfig("bx-arrowsettings:headLength",_this435.Kp);});}},{key:"Yl",value:function Yl(t){var _this436=this;if(1!==t.buttons)return;var e,_i837,s=bl(this["#geometry-preview-shape"]),_s$values8=_slicedToArray(s.values,7),n=_s$values8[0],o=_s$values8[1],l=_s$values8[2],a=_s$values8[3],h=_s$values8[4],r=_s$values8[5],d=_s$values8[6],c=d,_Tl6=Tl.apply(void 0,_toConsumableArray(s.values)),p=_Tl6.maxHeadInset;p=K(p,0),this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(_e843){var i=_e843.clientX-t.clientX;d=c+i,d=Q(d,0,p,0),_this436.Qp=d,_this436.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i837=function i(){_this436["#geometry-preview"].removeEventListener("pointermove",e),_this436["#geometry-preview"].removeEventListener("lostpointercapture",_i837),_this436.Qs.setConfig("bx-arrowsettings:headInset",d);});}},{key:"Hp",value:function Hp(){var _this437=this;var t,_e844,i=bl(this["#geometry-preview-shape"]),_Tl7=Tl.apply(void 0,_toConsumableArray(i.values)),s=_Tl7.maxBaseThickness;s=K(s,0),this["#base-thickness-box"].addEventListener("change",t=function t(_t1126){_this437.Xp=Q(_t1126.target.value,1,s,0),_this437.yp();}),this["#base-thickness-box"].addEventListener("changeend",_e844=function e(){_this437["#base-thickness-box"].removeEventListener("change",t),_this437["#base-thickness-box"].removeEventListener("changeend",_e844),_this437.Qs.setConfig("bx-arrowsettings:baseThickness",_this437.Xp);});}},{key:"Yp",value:function Yp(){var _this438=this;var t,_e845,i=bl(this["#geometry-preview-shape"]),_Tl8=Tl.apply(void 0,_toConsumableArray(i.values)),s=_Tl8.minHeadThickness;s=K(s,0),this["#head-thickness-box"].addEventListener("change",t=function t(_t1127){_this438.Zp=Q(_t1127.target.value,s,60,0),_this438.yp();}),this["#head-thickness-box"].addEventListener("changeend",_e845=function e(){_this438["#head-thickness-box"].removeEventListener("change",t),_this438["#head-thickness-box"].removeEventListener("changeend",_e845),_this438.Qs.setConfig("bx-arrowsettings:headThickness",_this438.Zp);});}},{key:"Wp",value:function Wp(){var _this439=this;var t,_e846,i=bl(this["#geometry-preview-shape"]),_Tl9=Tl.apply(void 0,_toConsumableArray(i.values)),s=_Tl9.minHeadLength;s=K(s,0),this["#head-length-box"].addEventListener("change",t=function t(_t1128){_this439.Kp=Q(_t1128.target.value,s,136,0),_this439.yp();}),this["#head-length-box"].addEventListener("changeend",_e846=function e(){_this439["#head-length-box"].removeEventListener("change",t),_this439["#head-length-box"].removeEventListener("changeend",_e846),_this439.Qs.setConfig("bx-arrowsettings:headLength",_this439.Kp);});}},{key:"qp",value:function qp(){var _this440=this;var t,_e847,i=bl(this["#geometry-preview-shape"]),_Tl10=Tl.apply(void 0,_toConsumableArray(i.values)),s=_Tl10.maxHeadInset;s=K(s,0),this["#head-inset-box"].addEventListener("change",t=function t(_t1129){_this440.Qp=Q(_t1129.target.value,0,s,0),_this440.yp();}),this["#head-inset-box"].addEventListener("changeend",_e847=function e(){_this440["#head-inset-box"].removeEventListener("change",t),_this440["#head-inset-box"].removeEventListener("changeend",_e847),_this440.Qs.setConfig("bx-arrowsettings:headInset",_this440.Qp);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-arrowsettings:style",this["#style-picker"].value);}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width-10,e=this.Zp,i=this["#geometry-preview"].viewBox.baseVal.height/2-e/2,s=this.Qp;s>this.Kp&&(s=this.Kp),_ml(this["#geometry-preview-shape"],{type:"arrow",values:[5,i,t,e,this.Xp,this.Kp,s]}),this["#base-thickness-grippie"].cx.baseVal.value=5+(t-this.Kp+s)/2,this["#base-thickness-grippie"].cy.baseVal.value=i+e/2-this.Xp/2,this["#head-size-grippie"].cx.baseVal.value=t-this.Kp+5,this["#head-size-grippie"].cy.baseVal.value=i+e,this["#head-inset-grippie"].cx.baseVal.value=5+t-this.Kp+s,this["#head-inset-grippie"].cy.baseVal.value=i+e/2-this.Xp/2;}},{key:"Sp",value:function Sp(){this["#base-thickness-input"].value=this.Xp,this["#base-thickness-slider"].value=this.Xp,this["#head-thickness-input"].value=this.Zp,this["#head-thickness-slider"].value=this.Zp,this["#head-length-input"].value=this.Kp,this["#head-length-slider"].value=this.Kp,this["#head-inset-input"].value=this.Qp,this["#head-inset-slider"].value=this.Qp;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return ix;}(lh);_defineProperty(ix,"_shadowTemplate",qi(_templateObject241()));_defineProperty(ix,"_shadowStyleSheet",Xi(_templateObject242()));customElements.define("bx-arrowsettings",ix);var sx=Math.min,nx=Math.abs;var ox=/*#__PURE__*/function(_lh22){_inherits(ox,_lh22);var _super88=_createSuper(ox);function ox(){var _this441;_classCallCheck(this,ox);_this441=_super88.call(this),_this441["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this441.bp();}),_this441["#thickness-grippie"].addEventListener("pointerdown",function(t){return _this441.Jp(t);}),_this441["#shift-grippie"].addEventListener("pointerdown",function(t){return _this441.Cl(t);}),_this441["#thickness-box"].addEventListener("changestart",function(){return _this441.tu();}),_this441["#shift-box"].addEventListener("changestart",function(){return _this441.Op();}),_this441["#style-picker"].addEventListener("change",function(){return _this441.io();});return _this441;}_createClass(ox,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-crosssettings:drawingMode","polar"),this.eu=this.Qs.getConfig("bx-crosssettings:thickness",.2),this.un=this.Qs.getConfig("bx-crosssettings:shift",.5),this.wp=this.Qs.getConfig("bx-crosssettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-crosssettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Jp",value:function Jp(t){var _this442=this;if(1!==t.buttons)return;var e,_i838,s=bl(this["#geometry-preview-shape"]),_s$values9=_slicedToArray(s.values,5),n=_s$values9[0],o=_s$values9[1],l=_s$values9[2],a=_s$values9[3],h=_s$values9[4],r=this["#geometry-preview"].getBoundingClientRect(),d=new DOMPoint(r.x+r.width/2,r.y+r.height*this.un),c=K(Al.apply(void 0,_toConsumableArray(s.values)).maxHorizontalArmThickness/a,2);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(e,d);h=sx(i.x,i.y),h=h/l*2,h=Q(h,.01,c,2),_this442.eu=h,_this442.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i838=function i(){_this442["#geometry-preview"].removeEventListener("pointermove",e),_this442["#geometry-preview"].removeEventListener("lostpointercapture",_i838),_this442.Qs.setConfig("bx-crosssettings:thickness",h);});}},{key:"Cl",value:function Cl(t){var _this443=this;if(1!==t.buttons)return;var e,_i839,s=bl(this["#geometry-preview-shape"]),_s$values10=_slicedToArray(s.values,7),n=_s$values10[0],o=_s$values10[1],l=_s$values10[2],a=_s$values10[3],h=_s$values10[4],r=_s$values10[5],d=_s$values10[6],c=this["#geometry-preview"].getBoundingClientRect(),p=new DOMPoint(c.x+c.width/2,c.y+c.height/2),_Al3=Al.apply(void 0,_toConsumableArray(s.values)),u=_Al3.minShift,x=_Al3.maxShift;this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY),i=new Z(p,e);d=i.y/a+.5,d=Q(d,u,x,2),_this443.un=d,_this443.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i839=function i(){_this443["#geometry-preview"].removeEventListener("pointermove",e),_this443["#geometry-preview"].removeEventListener("lostpointercapture",_i839),_this443.Qs.setConfig("bx-crosssettings:shift",d);});}},{key:"tu",value:function tu(){var _this444=this;var t,_e848,i=bl(this["#geometry-preview-shape"]),_i$values=_slicedToArray(i.values,4),s=_i$values[0],n=_i$values[1],o=_i$values[2],l=_i$values[3],a=Al.apply(void 0,_toConsumableArray(i.values)).maxHorizontalArmThickness;a=K(a/l,2),this["#thickness-box"].addEventListener("change",t=function t(_t1130){var e=_t1130.target.value/100;_this444.eu=Q(e,.01,a,2),_this444.yp();}),this["#thickness-box"].addEventListener("changeend",_e848=function e(){_this444["#thickness-box"].removeEventListener("change",t),_this444["#thickness-box"].removeEventListener("changeend",_e848),_this444.Qs.setConfig("bx-crosssettings:thickness",_this444.eu);});}},{key:"Op",value:function Op(){var _this445=this;var t,_e849,i=bl(this["#geometry-preview-shape"]),_i$values2=_slicedToArray(i.values,4),s=_i$values2[0],n=_i$values2[1],o=_i$values2[2],l=_i$values2[3],_Al4=Al.apply(void 0,_toConsumableArray(i.values)),a=_Al4.minShift,h=_Al4.maxShift;this["#shift-box"].addEventListener("change",t=function t(_t1131){var e=(_t1131.target.value+50)/100;_this445.un=Q(e,a,h,2),_this445.yp();}),this["#shift-box"].addEventListener("changeend",_e849=function e(){_this445["#shift-box"].removeEventListener("change",t),_this445["#shift-box"].removeEventListener("changeend",_e849),_this445.Qs.setConfig("bx-crosssettings:shift",_this445.un);});}},{key:"io",value:function io(){this.Qs.setConfig("bx-crosssettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.Sp();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=t,i=this["#geometry-preview"].viewBox.baseVal.width/2-e/2,s=this["#geometry-preview"].viewBox.baseVal.height/2-t/2;_ml(this["#geometry-preview-shape"],{type:"cross",values:[i,s,e,t,this.eu*e,this.eu*t,this.un]}),this["#thickness-grippie"].cx.baseVal.value=i+e/2-this.eu*e/2,this["#thickness-grippie"].cy.baseVal.value=s+t*this.un-this.eu*t/2,this["#shift-grippie"].cx.baseVal.value=i+e/2,this["#shift-grippie"].cy.baseVal.value=s+t*this.un;}},{key:"Sp",value:function Sp(){var t=bl(this["#geometry-preview-shape"]),_t$values16=_slicedToArray(t.values,4),e=_t$values16[0],i=_t$values16[1],s=_t$values16[2],n=_t$values16[3],_Al5=Al.apply(void 0,_toConsumableArray(t.values)),o=_Al5.minShift,l=_Al5.maxShift,a=_Al5.maxHorizontalArmThickness,h=K(a/n*100,0),r=K(100*this.eu,0),d=K(100*this.un-50,0),c=K(100*o-50,0),p=K(100*l-50,0);this["#thickness-input"].max=h,this["#thickness-input"].value=r,this["#thickness-slider"].max=h,this["#thickness-slider"].value=r,this["#shift-input"].min=c,this["#shift-input"].max=p,this["#shift-input"].value=d,this["#shift-slider"].min=c,this["#shift-slider"].max=p,this["#shift-slider"].value=d;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return ox;}(lh);_defineProperty(ox,"_shadowTemplate",qi(_templateObject243()));_defineProperty(ox,"_shadowStyleSheet",Xi(_templateObject244()));customElements.define("bx-crosssettings",ox);var lx=/*#__PURE__*/function(_lh23){_inherits(lx,_lh23);var _super89=_createSuper(lx);function lx(){var _this446;_classCallCheck(this,lx);_this446=_super89.call(this),_this446["#drawing-mode-buttons"].addEventListener("toggle",function(){return _this446.bp();}),_this446["#start-angle-grippie"].addEventListener("pointerdown",function(t){return _this446.Kl(t);}),_this446["#end-angle-grippie"].addEventListener("pointerdown",function(t){return _this446.Ql(t);}),_this446["#r1-box"].addEventListener("changestart",function(){return _this446._p();}),_this446["#start-angle-input"].addEventListener("changestart",function(){return _this446.iu();}),_this446["#end-angle-input"].addEventListener("changestart",function(){return _this446.su();}),_this446["#style-picker"].addEventListener("change",function(){return _this446.io();});return _this446;}_createClass(lx,[{key:"tn",value:function tn(){this.gp=this.Qs.getConfig("bx-spiralsettings:drawingMode","polar"),this.Cp=this.Qs.getConfig("bx-spiralsettings:r1",0),this.nu=this.Qs.getConfig("bx-spiralsettings:startAngle",0),this.ou=this.Qs.getConfig("bx-spiralsettings:endAngle",1080),this.wp=this.Qs.getConfig("bx-spiralsettings:style"),this.vp(),this.yp(),this.kp();}},{key:"bp",value:function bp(){this.Qs.setConfig("bx-spiralsettings:drawingMode",this["#drawing-mode-buttons"].value);}},{key:"Kl",value:function Kl(t){var _this447=this;var e,_i840,s=Ht(this["#geometry-preview-shape"]).inverse(),n=bl(this["#geometry-preview-shape"]),_n$values7=_slicedToArray(n.values,6),o=_n$values7[0],l=_n$values7[1],a=_n$values7[2],h=_n$values7[3],r=_n$values7[4],d=_n$values7[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(s);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(s),i=Le(c,p,e);p=e,r+=i,_this447.nu=Q(r,0,_this447.ou,0),_this447.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i840=function i(){_this447["#geometry-preview"].removeEventListener("pointermove",e),_this447["#geometry-preview"].removeEventListener("lostpointercapture",_i840),_this447.Qs.setConfig("bx-spiralsettings:startAngle",_this447.nu);});}},{key:"Ql",value:function Ql(t){var _this448=this;var e,_i841,s=bl(this["#geometry-preview-shape"]),n=Ht(this["#geometry-preview-shape"]).inverse(),_s$values11=_slicedToArray(s.values,6),o=_s$values11[0],l=_s$values11[1],a=_s$values11[2],h=_s$values11[3],r=_s$values11[4],d=_s$values11[5],c=new DOMPoint(o,l),p=new DOMPoint(t.clientX,t.clientY).matrixTransform(n);this["#geometry-preview"].setPointerCapture(t.pointerId),this["#geometry-preview"].addEventListener("pointermove",e=function e(t){var e=new DOMPoint(t.clientX,t.clientY).matrixTransform(n),i=Le(c,p,e);p=e,d+=i,_this448.ou=Q(d,_this448.nu,Infinity,0),_this448.yp();}),this["#geometry-preview"].addEventListener("lostpointercapture",_i841=function i(){_this448["#geometry-preview"].removeEventListener("pointermove",e),_this448["#geometry-preview"].removeEventListener("lostpointercapture",_i841),_this448.Qs.setConfig("bx-spiralsettings:endAngle",_this448.ou);});}},{key:"_p",value:function _p(){var _this449=this;var t,_e850;this["#r1-box"].addEventListener("change",t=function t(_t1132){_this449.Cp=Q(_t1132.target.value/100,0,1,2),_this449.no(),_this449.lu();}),this["#r1-box"].addEventListener("changeend",_e850=function e(){_this449["#r1-box"].removeEventListener("change",t),_this449["#r1-box"].removeEventListener("changeend",_e850),_this449.Qs.setConfig("bx-spiralsettings:r1",_this449.Cp);});}},{key:"iu",value:function iu(){var _this450=this;var t,_e851;this["#start-angle-input"].addEventListener("change",t=function t(_t1133){_this450.nu=Q(_t1133.target.value,0,_this450.ou,2),_this450.no();}),this["#start-angle-input"].addEventListener("changeend",_e851=function e(){_this450["#start-angle-input"].removeEventListener("change",t),_this450["#start-angle-input"].removeEventListener("changeend",_e851),_this450.Qs.setConfig("bx-spiralsettings:startAngle",_this450.nu),_this450.au();});}},{key:"su",value:function su(){var _this451=this;var t,_e852;this["#end-angle-input"].addEventListener("change",t=function t(_t1134){_this451.ou=Q(_t1134.target.value,_this451.nu,Infinity,2),_this451.no();}),this["#end-angle-input"].addEventListener("changeend",_e852=function e(){_this451["#end-angle-input"].removeEventListener("change",t),_this451["#end-angle-input"].removeEventListener("changeend",_e852),_this451.Qs.setConfig("bx-spiralsettings:endAngle",_this451.ou),_this451.au();});}},{key:"io",value:function io(){this.Qs.setConfig("bx-spiralsettings:style",this["#style-picker"].value);}},{key:"vp",value:function vp(){this["#drawing-mode-buttons"].value=this.gp;}},{key:"yp",value:function yp(){this.no(),this.lu(),this.au();}},{key:"no",value:function no(){var t=this["#geometry-preview"].viewBox.baseVal.width/2,e=this["#geometry-preview"].viewBox.baseVal.height/2,i=(this["#geometry-preview"].viewBox.baseVal.height-10)/2,s=this.Cp*i;_ml(this["#geometry-preview-shape"],{type:"spiral",values:[t,e,s,i,this.nu,this.ou]});{var _$l5=$l(t,e,s,i,this.nu,this.ou),_$l6=_slicedToArray(_$l5,2),_n354=_$l6[0],_o278=_$l6[1];this["#start-angle-grippie"].cx.baseVal.value=_n354.x,this["#start-angle-grippie"].cy.baseVal.value=_n354.y,this["#end-angle-grippie"].cx.baseVal.value=_o278.x,this["#end-angle-grippie"].cy.baseVal.value=_o278.y;}}},{key:"lu",value:function lu(){var t=this["#geometry-preview"].viewBox.baseVal.height-10,e=(this.Cp,Q(100*this.Cp,0,100,0));this["#r1-slider"].value=e,this["#r1-input"].value=e;}},{key:"au",value:function au(){this["#start-angle-input"].value=this.nu,this["#start-angle-input"].max=this.ou,this["#end-angle-input"].value=this.ou,this["#end-angle-input"].min=this.nu;}},{key:"kp",value:function kp(){this["#style-picker"].value=this.wp;}}]);return lx;}(lh);_defineProperty(lx,"_shadowTemplate",qi(_templateObject245()));_defineProperty(lx,"_shadowStyleSheet",Xi(_templateObject246()));customElements.define("bx-spiralsettings",lx);var ax=/*#__PURE__*/function(_lh24){_inherits(ax,_lh24);var _super90=_createSuper(ax);function ax(){var _this452;_classCallCheck(this,ax);_this452=_super90.call(this),_this452["#style-picker"].addEventListener("change",function(){return _this452.io();});return _this452;}_createClass(ax,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-linesettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-linesettings:style",this["#style-picker"].value);}}]);return ax;}(lh);_defineProperty(ax,"_shadowTemplate",qi(_templateObject247()));customElements.define("bx-linesettings",ax);var hx=/*#__PURE__*/function(_lh25){_inherits(hx,_lh25);var _super91=_createSuper(hx);function hx(){var _this453;_classCallCheck(this,hx);_this453=_super91.call(this),_this453["#style-picker"].addEventListener("change",function(){return _this453.io();});return _this453;}_createClass(hx,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polylinesettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-polylinesettings:style",this["#style-picker"].value);}}]);return hx;}(lh);_defineProperty(hx,"_shadowTemplate",qi(_templateObject248()));customElements.define("bx-polylinesettings",hx);var rx=/*#__PURE__*/function(_lh26){_inherits(rx,_lh26);var _super92=_createSuper(rx);function rx(){var _this454;_classCallCheck(this,rx);_this454=_super92.call(this),_this454["#style-picker"].addEventListener("change",function(){return _this454.io();});return _this454;}_createClass(rx,[{key:"tn",value:function tn(){this["#style-picker"].value=this.Qs.getConfig("bx-polygonsettings:style");}},{key:"io",value:function io(){this.Qs.setConfig("bx-polygonsettings:style",this["#style-picker"].value);}}]);return rx;}(lh);_defineProperty(rx,"_shadowTemplate",qi(_templateObject249()));customElements.define("bx-polygonsettings",rx);var dx=/*#__PURE__*/function(_HTMLElement64){_inherits(dx,_HTMLElement64);var _super93=_createSuper(dx);_createClass(dx,[{key:"value",get:function get(){var t=this["#buttons"].querySelector("x-button[toggled]");return t?t.getAttribute("value"):null;},set:function set(t){var e=this["#popovers"].querySelector("x-popover[opened]");if(e){var _t1135=e.id.replace("-popover","-button"),_i842=this["#buttons"].querySelector("x-button[id=\"".concat(_t1135,"\"]"));e.close(),_i842.removeAttribute("expanded");}var _iterator723=_createForOfIteratorHelper(this["#buttons"].children),_step723;try{for(_iterator723.s();!(_step723=_iterator723.n()).done;){var _e853=_step723.value;_e853.getAttribute("value")===t?_e853.setAttribute("toggled",""):_e853.removeAttribute("toggled");}}catch(err){_iterator723.e(err);}finally{_iterator723.f();}}}]);function dx(){var _this455;_classCallCheck(this,dx);_this455=_super93.call(this),_this455.hu=!0,_this455.ru=null,_this455._shadowRoot=_this455.attachShadow({mode:"closed"}),_this455._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,dx._shadowStyleSheet],_this455._shadowRoot.append(document.importNode(dx._shadowTemplate.content,!0));var _iterator724=_createForOfIteratorHelper(_this455._shadowRoot.querySelectorAll("[id]")),_step724;try{for(_iterator724.s();!(_step724=_iterator724.n()).done;){var _t1136=_step724.value;_this455["#"+_t1136.id]=_t1136;}}catch(err){_iterator724.e(err);}finally{_iterator724.f();}_this455["#buttons"].addEventListener("toggle",function(t){return _this455.du(t);}),_this455["#buttons"].addEventListener("pointerdown",function(t){return _this455.cu(t);}),_this455["#buttons"].addEventListener("pointerover",function(t){return _this455.pu(t);}),_this455["#buttons"].addEventListener("pointerout",function(t){return _this455.uu(t);});return _this455;}_createClass(dx,[{key:"connectedCallback",value:function connectedCallback(){var _this456=this;this.Qs=Ii(this,"#app"),this.hu=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0),this.Qs.addEventListener("configchange",this.ln=function(t){return _this456.an(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("configchange",this.ln);}},{key:"an",value:function an(t){var _t$detail7=t.detail,e=_t$detail7.key,i=_t$detail7.value;"bx-uisettings:showDockTooltips"===e&&(this.hu=null===i||i);}},{key:"du",value:function du(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"cu",value:function cu(t){var e=t.target.closest("x-button");if(e&&e.toggled){var _t1137=e.id.replace("button","popover"),_i843=this["#popovers"].querySelector("x-popover[id=\"".concat(_t1137,"\"]"));if(_i843){var _t1138=_i843.firstElementChild;_i843.opened?(_i843.close(),_t1138.enabled=!1,e.removeAttribute("expanded")):(_t1138.enabled=!0,_i843.open(e,3),e.setAttribute("expanded","")),this.qc();}}}},{key:"pu",value:function(){var _pu=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee101(t){var e;return regeneratorRuntime.wrap(function _callee101$(_context102){while(1){switch(_context102.prev=_context102.next){case 0:e=t.target.closest("x-button");_context102.t0=e!==this.ru;if(!_context102.t0){_context102.next=9;break;}this.ru=e;_context102.t1="touch"===t.pointerType;if(!_context102.t1){_context102.next=8;break;}_context102.next=8;return ts(400);case 8:this.qc();case 9:case"end":return _context102.stop();}}},_callee101,this);}));function pu(_x124){return _pu.apply(this,arguments);}return pu;}()},{key:"uu",value:function uu(t){t.target.closest("x-button")&&(this.ru=null,this.qc());}},{key:"qc",value:function qc(){if(this.hu&&this.ru&&!1===this.ru.expanded){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.ru.getAttribute("data-tooltip");var _t1139=this["#buttons"].getBoundingClientRect(),_e854=this.ru.getBoundingClientRect(),_i844=this["#tooltip"].getBoundingClientRect(),_s500=_e854.top-_t1139.top+_e854.height/2-_i844.height/2,_n355=_e854.right+4;this["#tooltip"].style.top=_s500+"px",this["#tooltip"].style.left=_n355+"px";}else this["#tooltip"].hidden=!0;}}]);return dx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dx,"_shadowTemplate",qi(_templateObject250()));_defineProperty(dx,"_shadowStyleSheet",Xi(_templateObject251()));customElements.define("bx-toolsdock",dx);var cx=/*#__PURE__*/function(_HTMLElement65){_inherits(cx,_HTMLElement65);var _super94=_createSuper(cx);_createClass(cx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"width",get:function get(){return this.Fs;}}]);function cx(){var _this457;_classCallCheck(this,cx);_this457=_super94.call(this),_this457.Fs=0,_this457.hu=!0,_this457.ru=null,_this457.xu=null,_this457._shadowRoot=_this457.attachShadow({mode:"closed"}),_this457._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,cx._shadowStyleSheet],_this457._shadowRoot.append(document.importNode(cx._shadowTemplate.content,!0));var _iterator725=_createForOfIteratorHelper(_this457._shadowRoot.querySelectorAll("[id]")),_step725;try{for(_iterator725.s();!(_step725=_iterator725.n()).done;){var _t1140=_step725.value;_this457["#"+_t1140.id]=_t1140;}}catch(err){_iterator725.e(err);}finally{_iterator725.f();}_this457.bu(),_this457["#buttons"].addEventListener("toggle",function(t){return _this457.du(t);}),_this457["#buttons"].addEventListener("pointerover",function(t){return _this457.pu(t);}),_this457["#buttons"].addEventListener("pointerout",function(t){return _this457.uu(t);}),_this457["#main"].addEventListener("transitionend",function(t){return _this457.mu(t);}),_this457["#resize-grippie"].addEventListener("pointerdown",function(t){return _this457.gu(t);});return _this457;}_createClass(cx,[{key:"connectedCallback",value:function(){var _connectedCallback2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee102(){var _this458=this;return regeneratorRuntime.wrap(function _callee102$(_context103){while(1){switch(_context103.prev=_context103.next){case 0:this.Qs=Ii(this,"#app");this.hu=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this.Fs=this.Qs.getConfig("bx-primarypanelsdock:width",318);Ls.addEventListener("sizechange",this.sp=function(){return _this458.fu();});window.addEventListener("resize",this.wu=function(){return _this458.fu();});this.Qs.addEventListener("configchange",this.ln=function(t){return _this458.an(t);});_context103.next=8;return Ls.whenThemeReady;case 8:this.fu();case 9:case"end":return _context103.stop();}}},_callee102,this);}));function connectedCallback(){return _connectedCallback2.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.sp),window.removeEventListener("resize",this.wu),this.Qs.removeEventListener("configchange",this.ln);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.vu(e);}},{key:"an",value:function an(t){var _t$detail8=t.detail,e=_t$detail8.key,i=_t$detail8.value;"bx-uisettings:showDockTooltips"===e?(this.hu=null===i||i,this.qc()):"bx-primarypanelsdock:width"===e&&(this.Fs=null===i?318:i,this.fu());}},{key:"vu",value:function vu(t){if(this["#buttons"].value=this.value,null===this.value)this.qc(),this.setAttribute("animating",""),this.dispatchEvent(new CustomEvent("collapse"));else{this.qc(),null===t&&this.setAttribute("animating","");var _iterator726=_createForOfIteratorHelper(this.children),_step726;try{for(_iterator726.s();!(_step726=_iterator726.n()).done;){var _t1141=_step726.value;_t1141.enabled=_t1141.id===this.value;}}catch(err){_iterator726.e(err);}finally{_iterator726.f();}null===this.xu&&this.dispatchEvent(new CustomEvent("expand"));}this.xu=this.value;}},{key:"du",value:function du(t){this.value=this["#buttons"].value,this.dispatchEvent(new CustomEvent("toggle"));}},{key:"pu",value:function(){var _pu2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee103(t){var e;return regeneratorRuntime.wrap(function _callee103$(_context104){while(1){switch(_context104.prev=_context104.next){case 0:e=t.target.closest("x-button");_context104.t0=e!==this.ru;if(!_context104.t0){_context104.next=9;break;}this.ru=e;_context104.t1="touch"===t.pointerType;if(!_context104.t1){_context104.next=8;break;}_context104.next=8;return ts(400);case 8:this.qc();case 9:case"end":return _context104.stop();}}},_callee103,this);}));function pu(_x125){return _pu2.apply(this,arguments);}return pu;}()},{key:"uu",value:function uu(t){t.target.closest("x-button")&&(this.ru=null,this.qc());}},{key:"mu",value:function mu(t){this.removeAttribute("animating");var _iterator727=_createForOfIteratorHelper(this.children),_step727;try{for(_iterator727.s();!(_step727=_iterator727.n()).done;){var _t1142=_step727.value;_t1142.enabled=_t1142.id===this.value;}}catch(err){_iterator727.e(err);}finally{_iterator727.f();}}},{key:"gu",value:function gu(t){var _this459=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i845,s=this["#buttons"].clientWidth,n=this.Fs-s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e855){var i=n-(_e855.clientX-t.clientX);_this459.Fs=i+s,_this459.fu(),_this459.dispatchEvent(new CustomEvent("resize"));}),this["#resize-grippie"].addEventListener("lostpointercapture",_i845=function i(){_this459["#resize-grippie"].removeEventListener("pointermove",e),_this459["#resize-grippie"].removeEventListener("lostpointercapture",_i845),_this459.Qs.setConfig("bx-primarypanelsdock:width",_this459.Fs);});}},{key:"bu",value:function bu(){var t="";var _iterator728=_createForOfIteratorHelper(this.children),_step728;try{for(_iterator728.s();!(_step728=_iterator728.n()).done;){var _e856=_step728.value;var _i846=_e856.getAttribute("name");t+="\n        <x-button id=\"".concat(_e856.id,"-button\" skin=\"dock\" value=\"").concat(_e856.id,"\" data-tooltip=\"").concat(_i846,"\">\n          <x-icon name=\"").concat(_e856.id,"\"></x-icon>\n        </x-button>\n        ");}}catch(err){_iterator728.e(err);}finally{_iterator728.f();}this["#buttons"].innerHTML=t;}},{key:"fu",value:function fu(){this.Fs<318?this.Fs=318:this.Fs>window.innerWidth-38&&(this.Fs=window.innerWidth-38);var t=this["#buttons"].clientWidth;0===t&&(t=parseFloat(getComputedStyle(this["#buttons"].firstElementChild).width));var e=this.Fs-t;this["#main"].style.right=t+"px",this["#main"].style.width=e+"px",this["#main"].style.transform="translateX(".concat(e+1,"px)");}},{key:"qc",value:function qc(){if(this.hu&&this.ru&&!1===this.ru.toggled){this["#tooltip"].hidden=!1,this["#tooltip"].textContent=this.ru.getAttribute("data-tooltip");var _t1143=this["#buttons"].getBoundingClientRect(),_e857=this.ru.getBoundingClientRect(),_i847=this["#tooltip"].getBoundingClientRect(),_s501=_e857.top-_t1143.top+_e857.height/2-_i847.height/2,_n356=_e857.width+4;this["#tooltip"].style.top=_s501+"px",this["#tooltip"].style.right=_n356+"px";}else this["#tooltip"].hidden=!0;}}]);return cx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cx,"observedAttributes",["value"]);_defineProperty(cx,"_shadowTemplate",qi(_templateObject252()));_defineProperty(cx,"_shadowStyleSheet",Xi(_templateObject253()));customElements.define("bx-primarypanelsdock",cx);var px=/*#__PURE__*/function(_HTMLElement66){_inherits(px,_HTMLElement66);var _super95=_createSuper(px);_createClass(px,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"height",get:function get(){return this.Us;}}]);function px(){var _this460;_classCallCheck(this,px);_this460=_super95.call(this),_this460.Us=0,_this460._shadowRoot=_this460.attachShadow({mode:"closed"}),_this460._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,px._shadowStyleSheet],_this460._shadowRoot.append(document.importNode(px._shadowTemplate.content,!0));var _iterator729=_createForOfIteratorHelper(_this460._shadowRoot.querySelectorAll("[id]")),_step729;try{for(_iterator729.s();!(_step729=_iterator729.n()).done;){var _t1144=_step729.value;_this460["#"+_t1144.id]=_t1144;}}catch(err){_iterator729.e(err);}finally{_iterator729.f();}_this460.bu(),_this460.addEventListener("transitionend",function(t){return _this460.mu(t);}),_this460["#buttons"].addEventListener("toggle",function(){return _this460.du();}),_this460["#resize-grippie"].addEventListener("pointerdown",function(t){return _this460.gu(t);});return _this460;}_createClass(px,[{key:"connectedCallback",value:function(){var _connectedCallback3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee104(){var _this461=this;return regeneratorRuntime.wrap(function _callee104$(_context105){while(1){switch(_context105.prev=_context105.next){case 0:this.Qs=Ii(this,"#app");this.Js=Ii(this,"bx-editor");this.Us=this.Qs.getConfig("bx-secondarypanelsdock:height",250);_context105.next=5;return customElements.whenDefined("bx-primarypanelsdock");case 5:window.addEventListener("resize",this.nn=function(){_this461.yu();});this.Qs.addEventListener("configchange",this.ln=function(t){_this461.an(t);});this.Js.primaryPanelsDock.addEventListener("expand",this.ku=function(){_this461.Su();});this.Js.primaryPanelsDock.addEventListener("collapse",this._u=function(){_this461.Su();});this.Js.primaryPanelsDock.addEventListener("resize",this.Cu=function(){_this461.Su();});case 10:case"end":return _context105.stop();}}},_callee104,this);}));function connectedCallback(){return _connectedCallback3.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.primaryPanelsDock.removeEventListener("expand",this.ku),this.Js.primaryPanelsDock.removeEventListener("collapse",this._u),this.Js.primaryPanelsDock.removeEventListener("resize",this.Cu);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.vu();}},{key:"an",value:function an(t){var _t$detail9=t.detail,e=_t$detail9.key,i=_t$detail9.value;"bx-secondarypanelsdock:height"===e&&(this.Us=null===i?250:i,this.yu());}},{key:"vu",value:function vu(){var t=this.value;if(this["#buttons"].value=t,null!==this.value){var _iterator730=_createForOfIteratorHelper(this.children),_step730;try{for(_iterator730.s();!(_step730=_iterator730.n()).done;){var _t1145=_step730.value;_t1145.enabled=_t1145.id===this.value;}}catch(err){_iterator730.e(err);}finally{_iterator730.f();}this.yu();}"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"mu",value:function mu(t){if(null===this.value){var _iterator731=_createForOfIteratorHelper(this.children),_step731;try{for(_iterator731.s();!(_step731=_iterator731.n()).done;){var _t1146=_step731.value;_t1146.enabled=!1;}}catch(err){_iterator731.e(err);}finally{_iterator731.f();}this.yu();}}},{key:"du",value:function du(){this.value!==this["#buttons"].value&&(this.value=this["#buttons"].value,this.vu());var _iterator732=_createForOfIteratorHelper(this["#buttons"].children),_step732;try{for(_iterator732.s();!(_step732=_iterator732.n()).done;){var _t1147=_step732.value;_t1147.toggled?_t1147.part.add("toggled-button"):_t1147.part.remove("toggled-button");}}catch(err){_iterator732.e(err);}finally{_iterator732.f();}}},{key:"gu",value:function gu(t){var _this462=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i848,s=this.clientHeight,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e858){n=s-(_e858.clientY-t.clientY),n<30?n=0:n>window.innerHeight-32&&(n=window.innerHeight-32),_this462.style.height=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i848=function i(){_this462["#resize-grippie"].removeEventListener("pointermove",e),_this462["#resize-grippie"].removeEventListener("lostpointercapture",_i848),0===n?_this462.value=null:_this462.Qs.setConfig("bx-secondarypanelsdock:height",n);});}},{key:"bu",value:function bu(){var t="";var _iterator733=_createForOfIteratorHelper(this.children),_step733;try{for(_iterator733.s();!(_step733=_iterator733.n()).done;){var _e859=_step733.value;if(!1===_e859.hasAttribute("hidden")){var _i849=_e859.getAttribute("name");t+="\n          <x-button id=\"".concat(_e859.id,"-button\" value=\"").concat(_e859.id,"\" part=\"button\">\n            <x-label>").concat(_i849,"</x-label>\n          </x-button>\n        ");}}}catch(err){_iterator733.e(err);}finally{_iterator733.f();}this["#buttons"].innerHTML=t;}},{key:"Su",value:function Su(){if(null===this.Js.primaryPanelsDock.value)this.style.width=null;else{var _t1148=this.Js.toolsDock.clientWidth,_e860=this.Js.primaryPanelsDock.width;this.style.width="calc(100% - ".concat(_t1148+_e860,"px)");}}},{key:"yu",value:function yu(){var t=0;null!==this.value&&(t=this.Us,t>window.innerHeight-32&&(t=window.innerHeight-32)),this.style.height=t+"px";}}]);return px;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(px,"observedAttributes",["value"]);_defineProperty(px,"_shadowTemplate",qi(_templateObject254()));_defineProperty(px,"_shadowStyleSheet",Xi(_templateObject255()));customElements.define("bx-secondarypanelsdock",px);var ux=Symbol();var xx=/*#__PURE__*/function(_HTMLElement67){_inherits(xx,_HTMLElement67);var _super96=_createSuper(xx);_createClass(xx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function xx(){var _this463;_classCallCheck(this,xx);_this463=_super96.call(this),_this463._h=Ki(_this463.qs,200,_assertThisInitialized(_this463)),_this463._shadowRoot=_this463.attachShadow({mode:"closed"}),_this463._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,xx._shadowStyleSheet],_this463._shadowRoot.append(document.importNode(xx._shadowTemplate.content,!0));var _iterator734=_createForOfIteratorHelper(_this463._shadowRoot.querySelectorAll("[id]")),_step734;try{for(_iterator734.s();!(_step734=_iterator734.n()).done;){var _t1149=_step734.value;_this463["#"+_t1149.id]=_t1149;}}catch(err){_iterator734.e(err);}finally{_iterator734.f();}_this463.addEventListener("keydown",function(t){return _this463.vn(t);}),_this463["#popover"].addEventListener("open",function(){return _this463.Mu();}),_this463["#items"].addEventListener("click",function(t){return _this463.Jc(t);}),_this463["#items"].addEventListener("dblclick",function(t){return _this463.Pu(t);}),_this463["#manage-button"].addEventListener("click",function(){return _this463.Du();}),_this463["#developer-mode-button"].addEventListener("toggle",function(){return _this463.zu();});return _this463;}_createClass(xx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Ou=Ii(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this464=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-solidcolorselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this464.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this464.Tu();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"vu",value:function vu(){this.Au(),this.$u();}},{key:"sl",value:function sl(){this._h();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1150=e.getAttribute("data-value");_t1150===this.value&&!0!==this.mixed||(this.value=_t1150,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1151=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editColor(_t1151);}}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-solidcolorselect:developerMode",t),this.Au(),this.Iu(),this.Lu();}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.Gu(),this.Lu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1152=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e861=Io(_t1152);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style","background: ".concat(_e861,";")),this["#button-label"].textContent=this.Fu(_t1152,this["#developer-mode-button"].toggled);}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Mo(t);});this["#items"].innerHTML="";var _iterator735=_createForOfIteratorHelper(t),_step735;try{for(_iterator735.s();!(_step735=_iterator735.n()).done;){var _e862=_step735.value;var _t1153=Io(_e862),_i850=qi(_templateObject17(),_e862.id,_t1153,_e862.id);_i850[ux]=_e862,this["#items"].append(_i850);}}catch(err){_iterator735.e(err);}finally{_iterator735.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){var _iterator736=_createForOfIteratorHelper(this["#items"].children),_step736;try{for(_iterator736.s();!(_step736=_iterator736.n()).done;){var _t1154=_step736.value;_t1154.getAttribute("data-value")===this.value?_t1154.setAttribute("data-selected",""):_t1154.removeAttribute("data-selected");}}catch(err){_iterator736.e(err);}finally{_iterator736.f();}}},{key:"Iu",value:function Iu(){var _iterator737=_createForOfIteratorHelper(this["#items"].children),_step737;try{for(_iterator737.s();!(_step737=_iterator737.n()).done;){var _t1155=_step737.value;var _e863=_t1155[ux];_t1155.querySelector(".label").textContent=this.Fu(_e863,this["#developer-mode-button"].toggled);}}catch(err){_iterator737.e(err);}finally{_iterator737.f();}}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Fu",value:function Fu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<color>";else{var _e864=t.querySelector(":scope > bx-title");i=_e864?_e864.textContent:"Color";}return i;}}]);return xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xx,"observedAttributes",["enabled","value"]);_defineProperty(xx,"_shadowTemplate",qi(_templateObject256()));_defineProperty(xx,"_shadowStyleSheet",Xi(_templateObject257()));customElements.define("bx-colorselect",xx);var bx=Symbol();var mx=/*#__PURE__*/function(_HTMLElement68){_inherits(mx,_HTMLElement68);var _super97=_createSuper(mx);_createClass(mx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function mx(){var _this465;_classCallCheck(this,mx);_this465=_super97.call(this),_this465._h=Ki(_this465.qs,200,_assertThisInitialized(_this465)),_this465._shadowRoot=_this465.attachShadow({mode:"closed"}),_this465._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,mx._shadowStyleSheet],_this465._shadowRoot.append(document.importNode(mx._shadowTemplate.content,!0));var _iterator738=_createForOfIteratorHelper(_this465._shadowRoot.querySelectorAll("[id]")),_step738;try{for(_iterator738.s();!(_step738=_iterator738.n()).done;){var _t1156=_step738.value;_this465["#"+_t1156.id]=_t1156;}}catch(err){_iterator738.e(err);}finally{_iterator738.f();}_this465.addEventListener("keydown",function(t){return _this465.vn(t);}),_this465["#popover"].addEventListener("open",function(){return _this465.Mu();}),_this465["#items"].addEventListener("click",function(t){return _this465.Jc(t);}),_this465["#items"].addEventListener("dblclick",function(t){return _this465.Pu(t);}),_this465["#manage-button"].addEventListener("click",function(){return _this465.Du();}),_this465["#developer-mode-button"].addEventListener("toggle",function(){return _this465.zu();});return _this465;}_createClass(mx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Ou=Ii(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this466=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this466.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this466.Tu();});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"vu",value:function vu(){this.Au(),this.$u();}},{key:"sl",value:function sl(){this._h();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1157=e.getAttribute("data-value");_t1157===this.value&&!0!==this.mixed||(this.value=_t1157,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1158=e.getAttribute("data-value");this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editGradient(_t1158);}}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("gradients-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-gradientselect:developerMode",t),this.Au(),this.Iu(),this.Lu();}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.Gu(),this.Lu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="Ad hoc";else{var _t1159=this.Js.board.masterWorkspace.querySelector("#"+this.value),_e865=Oo(_t1159),_i851="";if(0===_e865.length)_i851="background: transparent";else if(1===_e865.length){_i851="background: ".concat($o(_e865[0]));}else if(_e865.length>1){_i851="background-image: linear-gradient(90deg, "+_e865.map(function(t){return"".concat($o(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail-inner"].setAttribute("style",_i851),this["#button-label"].textContent=this.Uu(_t1159,this["#developer-mode-button"].toggled);}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Do(t);});this["#items"].innerHTML="";var _iterator739=_createForOfIteratorHelper(t),_step739;try{for(_iterator739.s();!(_step739=_iterator739.n()).done;){var _e866=_step739.value;var _t1160=Oo(_e866),_i852="";if(0===_t1160.length)_i852="background: transparent";else if(1===_t1160.length){_i852="background: ".concat($o(_t1160[0]));}else if(_t1160.length>1){_i852="background-image: linear-gradient(90deg, "+_t1160.map(function(t){return"".concat($o(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _s502=qi(_templateObject18(),_e866.id,_i852,_e866.id);_s502[bx]=_e866,this["#items"].append(_s502);}}catch(err){_iterator739.e(err);}finally{_iterator739.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){var _iterator740=_createForOfIteratorHelper(this["#items"].children),_step740;try{for(_iterator740.s();!(_step740=_iterator740.n()).done;){var _t1161=_step740.value;_t1161.getAttribute("data-value")===this.value?_t1161.setAttribute("data-selected",""):_t1161.removeAttribute("data-selected");}}catch(err){_iterator740.e(err);}finally{_iterator740.f();}}},{key:"Iu",value:function Iu(){var _iterator741=_createForOfIteratorHelper(this["#items"].children),_step741;try{for(_iterator741.s();!(_step741=_iterator741.n()).done;){var _t1162=_step741.value;var _e867=_t1162[bx];_t1162.querySelector(".label").textContent=this.Uu(_e867,this["#developer-mode-button"].toggled);}}catch(err){_iterator741.e(err);}finally{_iterator741.f();}}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Uu",value:function Uu(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<gradient>";else{var _e868=t.querySelector(":scope > bx-title");i=_e868?_e868.textContent:"Gradient";}return i;}}]);return mx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mx,"observedAttributes",["enabled","value"]);_defineProperty(mx,"_shadowTemplate",qi(_templateObject258()));_defineProperty(mx,"_shadowStyleSheet",Xi(_templateObject259()));customElements.define("bx-gradientselect",mx);var gx=Symbol();var fx=/*#__PURE__*/function(_HTMLElement69){_inherits(fx,_HTMLElement69);var _super98=_createSuper(fx);_createClass(fx,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function fx(){var _this467;_classCallCheck(this,fx);_this467=_super98.call(this),_this467._h=Ki(_this467.qs,200,_assertThisInitialized(_this467)),_this467.Nu=Qi(_this467.Vu,2e3,_assertThisInitialized(_this467)),_this467._shadowRoot=_this467.attachShadow({mode:"closed"}),_this467._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,fx._shadowStyleSheet],_this467._shadowRoot.append(document.importNode(fx._shadowTemplate.content,!0));var _iterator742=_createForOfIteratorHelper(_this467._shadowRoot.querySelectorAll("[id]")),_step742;try{for(_iterator742.s();!(_step742=_iterator742.n()).done;){var _t1163=_step742.value;_this467["#"+_t1163.id]=_t1163;}}catch(err){_iterator742.e(err);}finally{_iterator742.f();}_this467.addEventListener("keydown",function(t){return _this467.vn(t);}),_this467["#popover"].addEventListener("open",function(){return _this467.Mu();}),_this467["#items"].addEventListener("click",function(t){return _this467.Jc(t);}),_this467["#items"].addEventListener("dblclick",function(t){return _this467.Pu(t);}),_this467["#manage-button"].addEventListener("click",function(t){return _this467.Du(t);}),_this467["#developer-mode-button"].addEventListener("toggle",function(){return _this467.zu();});return _this467;}_createClass(fx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Ou=Ii(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this468=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternselect:developerMode",!1),this["#popover"].style.width=this["#button"].clientWidth+"px",this.qs(),this.Vu(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this468.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this468.Tu();});}},{key:"sn",value:function sn(){this["#mirror"].innerHTML="",this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"vu",value:function vu(){this.Au(),this.$u();}},{key:"sl",value:function sl(){this._h(),this.Nu();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1164=e.getAttribute("data-value");_t1164!==this.value&&(this.value=_t1164,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1165=e.getAttribute("data-value");this.Js.board.editPattern(_t1165);}}},{key:"Du",value:function Du(t){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("patterns-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-patternselect:developerMode",t),this.Au(),this.Iu();}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.Gu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden",""),this["#button-label"].textContent="";else{var _t1166=this.Js.board.masterWorkspace.querySelector("#"+this.value);this["#button-thumbnail"].removeAttribute("hidden"),this["#button-thumbnail"].style.fill="url(#".concat(this.value,")"),this["#button-label"].textContent=this.ju(_t1166,this["#developer-mode-button"].toggled);}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return!1===t.hasAttribute("href");});this["#items"].innerHTML="";var _iterator743=_createForOfIteratorHelper(t),_step743;try{for(_iterator743.s();!(_step743=_iterator743.n()).done;){var _e869=_step743.value;var _t1167=qi(_templateObject19(),_e869.id,_e869.id,_e869.id);_t1167[gx]=_e869,this["#items"].append(_t1167);}}catch(err){_iterator743.e(err);}finally{_iterator743.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){var _iterator744=_createForOfIteratorHelper(this["#items"].children),_step744;try{for(_iterator744.s();!(_step744=_iterator744.n()).done;){var _t1168=_step744.value;_t1168.getAttribute("data-value")===this.value?_t1168.setAttribute("data-selected",""):_t1168.removeAttribute("data-selected");}}catch(err){_iterator744.e(err);}finally{_iterator744.f();}}},{key:"Iu",value:function Iu(){var _iterator745=_createForOfIteratorHelper(this["#items"].children),_step745;try{for(_iterator745.s();!(_step745=_iterator745.n()).done;){var _t1169=_step745.value;var _e870=_t1169[gx];_t1169.querySelector(".label").textContent=this.ju(_e870,this["#developer-mode-button"].toggled);}}catch(err){_iterator745.e(err);}finally{_iterator745.f();}}},{key:"Vu",value:function Vu(){this["#mirror"].innerHTML=this.Js.board.masterWorkspace.innerHTML;}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"ju",value:function ju(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<pattern>";else{var _e871;_e871=this.Js.board.currentWorkspace.id===t.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):t.querySelector(":scope > bx-title"),i=_e871?_e871.textContent:"Pattern";}return i;}}]);return fx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fx,"observedAttributes",["enabled","value"]);_defineProperty(fx,"_shadowTemplate",qi(_templateObject260()));_defineProperty(fx,"_shadowStyleSheet",Xi(_templateObject261()));customElements.define("bx-patternselect",fx);var wx=/*#__PURE__*/function(_HTMLElement70){_inherits(wx,_HTMLElement70);var _super99=_createSuper(wx);_createClass(wx,[{key:"type",get:function get(){return this.hasAttribute("type")?this.getAttribute("type"):"rect";},set:function set(t){this.setAttribute("type",t);}},{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"#000000";},set:function set(t){this.setAttribute("value",t);}},{key:"format",get:function get(){return this.hasAttribute("format")?this.getAttribute("format"):"hex";},set:function set(t){t?this.setAttribute("format",t):this.removeAttribute("format");}},{key:"formatSelect",get:function get(){return this.hasAttribute("formatselect");},set:function set(t){t?this.setAttribute("formatselect",""):this.removeAttribute("formatselect");}},{key:"alphaSlider",get:function get(){return this.hasAttribute("alphaslider");},set:function set(t){t?this.setAttribute("alphaslider",""):this.removeAttribute("alphaslider");}}]);function wx(){var _this469;_classCallCheck(this,wx);_this469=_super99.call(this),_this469.Hu=!1,_this469._shadowRoot=_this469.attachShadow({mode:"closed"}),_this469._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,wx._shadowStyleSheet],_this469._shadowRoot.append(document.importNode(wx._shadowTemplate.content,!0));var _iterator746=_createForOfIteratorHelper(_this469._shadowRoot.querySelectorAll("[id]")),_step746;try{for(_iterator746.s();!(_step746=_iterator746.n()).done;){var _t1170=_step746.value;_this469["#"+_t1170.id]=_t1170;}}catch(err){_iterator746.e(err);}finally{_iterator746.f();}_this469["#pickers"].addEventListener("change",function(t){return _this469.Yu(t);}),_this469["#pickers"].addEventListener("changestart",function(t){return _this469.Wu(t);}),_this469["#pickers"].addEventListener("changeend",function(t){return _this469.qu(t);}),_this469["#input"].addEventListener("click",function(t){return _this469.Xu(t);}),_this469["#input"].addEventListener("change",function(t){return _this469.Zu(t);}),_this469["#input"].addEventListener("keydown",function(t){return _this469.Ku(t);}),_this469["#format-select"].addEventListener("change",function(t){return _this469.Qu(t);}),_this469["#grab-button"].addEventListener("toggle",function(){return _this469.Wn();});return _this469;}_createClass(wx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.Ju=Ii(this,"x-popover"),this.tx();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("type"===t?this.ix():"value"===t?this.sx():"format"===t?this.nx():"alphaslider"===t&&this.ox());}},{key:"sx",value:function sx(){this["#pickers"].querySelector(":scope > :not([hidden])").setAttribute("value",this.value),this["#input"].value=wo(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll();}},{key:"ix",value:function ix(){this.tx();}},{key:"nx",value:function nx(){this["#input"].value=wo(this.value,this.format),this["#format-select"].value=this.format;}},{key:"ox",value:function ox(){this.alphaSlider?(this["#rect-picker"].setAttribute("alphaslider",""),this["#wheel-picker"].setAttribute("alphaslider",""),this["#bars-picker"].setAttribute("alphaslider","")):(this["#rect-picker"].removeAttribute("alphaslider"),this["#wheel-picker"].removeAttribute("alphaslider"),this["#bars-picker"].removeAttribute("alphaslider"));}},{key:"Wu",value:function Wu(t){this.Hu=!0,this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0}));}},{key:"Yu",value:function Yu(t){this.value=t.target.value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0}));}},{key:"qu",value:function qu(t){this.Hu=!1,this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}));}},{key:"Xu",value:function Xu(t){t.detail>=2&&"hex"===this.format&&this["#input"].selectAll();}},{key:"Zu",value:function Zu(t){!1===this.Hu&&(null!==this["#input"].error?(this["#input"].value=wo(this.value,this.format),this["#input"].matches(":focus")&&this["#input"].selectAll()):(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=this["#input"].value,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0}))));}},{key:"Ku",value:function Ku(t){"Enter"!==t.code&&"Space"!==t.code||this.closest("x-popover")&&t.stopPropagation();}},{key:"Qu",value:function Qu(t){this.format=this["#format-select"].value,this.dispatchEvent(new CustomEvent("formatchange",{bubbles:!0}));}},{key:"Wn",value:function(){var _Wn2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee105(){var t,e;return regeneratorRuntime.wrap(function _callee105$(_context106){while(1){switch(_context106.prev=_context106.next){case 0:t=null!==this.Ju&&!0===this.Ju.modal;t&&(this.Ju.modal=!1);_context106.next=4;return this.Js.colorGrabber.grab();case 4:e=_context106.sent;this["#grab-button"].toggled=!1,t&&(this.Ju.modal=!0),null!==e&&(this.dispatchEvent(new CustomEvent("changestart",{bubbles:!0})),this.value=e,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.dispatchEvent(new CustomEvent("changeend",{bubbles:!0})));case 6:case"end":return _context106.stop();}}},_callee105,this);}));function Wn(){return _Wn2.apply(this,arguments);}return Wn;}()},{key:"tx",value:function tx(){"rect"===this.type?(this["#rect-picker"].hidden=!1,this["#rect-picker"].setAttribute("value",this.value),this["#wheel-picker"].hidden=!0,this["#bars-picker"].hidden=!0):"wheel"===this.type?(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!1,this["#wheel-picker"].value=this.value,this["#bars-picker"].hidden=!0):"bars"===this.type&&(this["#rect-picker"].hidden=!0,this["#wheel-picker"].hidden=!0,this["#bars-picker"].value=this.value,this["#bars-picker"].hidden=!1);}}]);return wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wx,"observedAttributes",["type","value","format","alphaslider"]);_defineProperty(wx,"_shadowTemplate",qi(_templateObject262()));_defineProperty(wx,"_shadowStyleSheet",Xi(_templateObject263()));customElements.define("bx-colorpicker",wx);var vx=/*#__PURE__*/function(_HTMLElement71){_inherits(vx,_HTMLElement71);var _super100=_createSuper(vx);_createClass(vx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value").split(" "):["fill","stroke","markers"];},set:function set(t){this.setAttribute("value",t.join(" "));}},{key:"context",get:function get(){return this.getAttribute("context");},set:function set(t){this.setAttribute("context",t);}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}},{key:"size",get:function get(){return this.hasAttribute("size")?this.getAttribute("size"):null;},set:function set(t){null===t?this.removeAttribute("size"):this.setAttribute("size",t);}},{key:"computedSize",get:function get(){return this.hasAttribute("computedsize")?this.getAttribute("computedsize"):"medium";}}]);function vx(){var _this470;_classCallCheck(this,vx);_this470=_super100.call(this),_this470._shadowRoot=_this470.attachShadow({mode:"closed"}),_this470._shadowRoot.adoptedStyleSheets=[vx._shadowStyleSheet],_this470._shadowRoot.append(document.importNode(vx._shadowTemplate.content,!0));var _iterator747=_createForOfIteratorHelper(_this470._shadowRoot.querySelectorAll("[id]")),_step747;try{for(_iterator747.s();!(_step747=_iterator747.n()).done;){var _t1171=_step747.value;_this470["#"+_t1171.id]=_t1171;}}catch(err){_iterator747.e(err);}finally{_iterator747.f();}_this470.addEventListener("pointerdown",function(t){return _this470.wo(t);}),_this470._shadowRoot.addEventListener("pointerdown",function(t){return _this470.lx(t);}),_this470.addEventListener("keydown",function(t){return _this470.vn(t);});return _this470;}_createClass(vx,[{key:"connectedCallback",value:function connectedCallback(){var _this471=this;Ls.addEventListener("sizechange",this.sp=function(){return _this471.ip();}),this.ip(),this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("role","switch"),this.setAttribute("aria-checked",this.mixed?"mixed":this.toggled),this.setAttribute("aria-disabled",this.disabled);}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.sp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.sx():"context"===t?this.hx():"disabled"===t?this.ux():"size"===t&&this.ip());}},{key:"sx",value:function sx(){var _this$value5=_slicedToArray(this.value,3),t=_this$value5[0],e=_this$value5[1],i=_this$value5[2];this["#".concat(t,"-thumb")].setAttribute("data-socket","1"),this["#".concat(e,"-thumb")].setAttribute("data-socket","2"),this["#".concat(i,"-thumb")].setAttribute("data-socket","3");}},{key:"hx",value:function hx(){var _iterator748=_createForOfIteratorHelper(this["#thumbs"].children),_step748;try{for(_iterator748.s();!(_step748=_iterator748.n()).done;){var _t1172=_step748.value;_t1172.getAttribute("data-value")===this.context?(_t1172.setAttribute("data-toggled",""),_t1172.part.add("toggled-thumb")):(_t1172.removeAttribute("data-toggled"),_t1172.part.remove("toggled-thumb"));}}catch(err){_iterator748.e(err);}finally{_iterator748.f();}}},{key:"ux",value:function ux(){this.setAttribute("tabindex",this.disabled?"-1":"0"),this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){t.preventDefault(),this.focus(),this.blur();}},{key:"ip",value:function ip(){var t=Ls.size,e=this.size,i="medium";i=null===e?t:"smaller"===e?"large"===t?"medium":"small":"larger"===e?"small"===t?"medium":"large":e,"medium"===i?this.removeAttribute("computedsize"):this.setAttribute("computedsize",i);}},{key:"xx",value:function xx(t){var e=t.getBoundingClientRect(),i=this.getBoundingClientRect();if(e.left-i.left<e.width/2)return 1;{var _t1173=e.width/2;for(var _s503=1;_s503<=3;_s503+=1){if(e.left-i.left>=_t1173&&e.left-i.left<_t1173+e.width)return _s503>this["#thumbs"].childElementCount?this["#thumbs"].childElementCount:_s503+1;_t1173+=e.width;}}}},{key:"lx",value:function lx(t){var _this472=this;if(1!==t.buttons)return;var e,_i855;this.setPointerCapture(t.pointerId);var s=t.target,n=new DOMPoint(t.clientX,t.clientY),o=null,l=null;this.mx(9999999),this.addEventListener("pointermove",e=function e(_e872){var i=new DOMPoint(_e872.clientX,_e872.clientY),a=_e872.timeStamp-t.timeStamp;if(null===o&&(ze(n,i)>=3||a>80)&&(o=s,l=parseFloat(getComputedStyle(o).left),o.style.transition="none",o.setAttribute("data-dragged",""),o.part.add("dragged-thumb")),o){var _i853=_e872.clientX-t.clientX,_s504=0,_n357=_this472["#thumbs"].clientWidth-o.clientWidth,_a188=Q(l+_i853,_s504,_n357);o.style.left="".concat(_a188,"px");var _h151=o.getAttribute("data-socket"),_r93=_this472.xx(o).toString();if(_r93!==_h151){o.setAttribute("data-socket",_r93);var _iterator749=_createForOfIteratorHelper(_this472["#thumbs"].children),_step749;try{for(_iterator749.s();!(_step749=_iterator749.n()).done;){var _t1174=_step749.value;_t1174!==o&&_t1174.getAttribute("data-socket")===_r93&&_t1174.setAttribute("data-socket",_h151);}}catch(err){_iterator749.e(err);}finally{_iterator749.f();}}}}),this.addEventListener("lostpointercapture",_i855=function i(){if(_this472.removeEventListener("pointermove",e),_this472.removeEventListener("lostpointercapture",_i855),_this472.mx(500),o)o.style.transition=null,o.style.left=null,o.removeAttribute("data-dragged"),o.part.remove("dragged-thumb");else{var _t1175=s,_e873=_this472["#thumbs"].querySelector(".thumb[data-toggled]"),_i854=_toConsumableArray(_this472["#thumbs"].children).find(function(i){return i!==_t1175&&i!==_e873;});if(_t1175!==_e873){var _s505=_t1175.getAttribute("data-socket"),_n358=_e873.getAttribute("data-socket");"1"===_n358?"2"===_s505?(_t1175.setAttribute("data-socket","1"),_e873.setAttribute("data-socket","2")):"3"===_s505&&(_i854.setAttribute("data-socket","1"),_t1175.setAttribute("data-socket","2"),_e873.setAttribute("data-socket","3")):"2"===_n358?"1"===_s505?(_e873.setAttribute("data-socket","1"),_t1175.setAttribute("data-socket","2")):"3"===_s505&&(_t1175.setAttribute("data-socket","2"),_e873.setAttribute("data-socket","3")):"3"===_n358&&("1"===_s505?(_e873.setAttribute("data-socket","1"),_t1175.setAttribute("data-socket","2"),_i854.setAttribute("data-socket","3")):"2"===_s505&&(_e873.setAttribute("data-socket","2"),_t1175.setAttribute("data-socket","3")));}}_this472.gx();});}},{key:"vn",value:function vn(t){"Enter"===t.code||"Space"===t.code?(t.preventDefault(),t.stopPropagation(),this.wx(),this.gx()):"ArrowRight"===t.code?(t.preventDefault(),t.stopPropagation(),this.wx(!1),this.gx()):"ArrowLeft"===t.code&&(t.preventDefault(),t.stopPropagation(),this.vx(!1),this.gx());}},{key:"gx",value:function gx(){var t=[this["#thumbs"].querySelector('[data-socket="1"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="2"]').getAttribute("data-value"),this["#thumbs"].querySelector('[data-socket="3"]').getAttribute("data-value")];!1===ti(this.value,t,!0)&&(this.value=t,this.dispatchEvent(new CustomEvent("change")));}},{key:"wx",value:function wx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.mx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"1"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3")):"3"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1"));}},{key:"vx",value:function vx(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;this.mx(500);var e=this["#thumbs"].querySelector(".thumb[data-toggled]");"3"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","3"),e.setAttribute("data-socket","2")):"2"===e.getAttribute("data-socket")?(this["#thumbs"].querySelector('.thumb[data-socket="1"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","1")):"1"===e.getAttribute("data-socket")&&t&&(this["#thumbs"].querySelector('.thumb[data-socket="2"]').setAttribute("data-socket","1"),this["#thumbs"].querySelector('.thumb[data-socket="3"]').setAttribute("data-socket","2"),e.setAttribute("data-socket","3"));}},{key:"mx",value:function mx(){var _this473=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:500;clearTimeout(this.yx),this["#thumbs"].setAttribute("data-animate",""),this.yx=setTimeout(function(){_this473["#thumbs"].removeAttribute("data-animate","");},t);}}]);return vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(vx,"observedAttributes",["value","context","disabled","size"]);_defineProperty(vx,"_shadowTemplate",qi(_templateObject264()));_defineProperty(vx,"_shadowStyleSheet",Xi(_templateObject265()));customElements.define("bx-paintorderswitch",vx);var yx=/*#__PURE__*/function(_HTMLElement72){_inherits(yx,_HTMLElement72);var _super101=_createSuper(yx);_createClass(yx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"context",get:function get(){return this.hasAttribute("context")?this.getAttribute("context"):"fill";},set:function set(t){"fill"!==t&&"stroke"!==t||this.setAttribute("context",t);}}]);function yx(){var _this474;_classCallCheck(this,yx);_this474=_super101.call(this),_this474._h=Ki(_this474.qs,200,_assertThisInitialized(_this474)),_this474.kx=!1,_this474._shadowRoot=_this474.attachShadow({mode:"closed"}),_this474._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,yx._shadowStyleSheet],_this474._shadowRoot.append(document.importNode(yx._shadowTemplate.content,!0));var _iterator750=_createForOfIteratorHelper(_this474._shadowRoot.querySelectorAll("[id]")),_step750;try{for(_iterator750.s();!(_step750=_iterator750.n()).done;){var _t1176=_step750.value;_this474["#"+_t1176.id]=_t1176;}}catch(err){_iterator750.e(err);}finally{_iterator750.f();}_this474["#paint-type-buttons"].addEventListener("toggle",function(t){return _this474.Sx(t);}),_this474["#color-select"].addEventListener("change",function(){return _this474._x();}),_this474["#color-unlink-button"].addEventListener("click",function(){return _this474.Cx();}),_this474["#gradient-select"].addEventListener("change",function(){return _this474.Mx();}),_this474["#gradient-unlink-button"].addEventListener("click",function(){return _this474.Px();}),_this474["#color-picker"].addEventListener("changestart",function(t){return _this474.Dx(t);}),_this474["#color-picker"].addEventListener("formatchange",function(t){return _this474.zx(t);}),_this474["#color-picker-type-buttons"].addEventListener("toggle",function(t){return _this474.Ox(t);}),_this474["#color-picker-hint"].addEventListener("click",function(t){return _this474.Ex(t);}),_this474["#stop-opacity-section"].addEventListener("changestart",function(){return _this474.Tx();}),_this474["#pattern-select"].addEventListener("change",function(){return _this474.Ax();}),_this474["#spread-method-buttons"].addEventListener("toggle",function(t){return _this474.$x(t);}),_this474["#paint-order-switch"].addEventListener("change",function(){return _this474.Ix();});return _this474;}_createClass(yx,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"context"===t&&this["#paint-order-switch"].setAttribute("context",this.context));}},{key:"tn",value:function tn(){var _this475=this;var t=this.Qs,e=this.Js.board;this["#color-picker"].type=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),"rect"),this["#color-picker"].format=t.getConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),"hex"),this["#color-picker-type-buttons"].value=this["#color-picker"].type,this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this475._h();}),e.addEventListener("selectedtextrangechange",this.Ha=function(){_this475.qs();}),e.addEventListener("workspacemutation",this.rn=function(t){_this475._h();}),e.addEventListener("currentworkspacechange",this.Lx=function(){_this475.qs();}),e.linearGradientHud.addEventListener("selectedstopschange",this.Bx=function(){_this475._h();}),e.radialGradientHud.addEventListener("selectedstopschange",this.Rx=function(){_this475._h();});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#color-select"].enabled=!1,this["#gradient-select"].enabled=!1,this["#pattern-select"].enabled=!1,t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("selectedtextrangechange",this.Ha),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.Lx),t.linearGradientHud.removeEventListener("selectedstopschange",this.Bx),t.radialGradientHud.removeEventListener("selectedstopschange",this.Rx);}},{key:"Sx",value:function Sx(t){var e=this["#paint-type-buttons"].value;"solid"===e?this.Gx():"linear-gradient"===e?this.Fx():"radial-gradient"===e?this.Ux():"pattern"===e?this.Nx():"inherit"===e?this.Vx():"none"===e&&this.jx();}},{key:"Gx",value:function Gx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n="#bada55";t.undoManager.checkpoint("Paint type");var _iterator751=_createForOfIteratorHelper(i),_step751;try{for(_iterator751.s();!(_step751=_iterator751.n()).done;){var _t1178=_step751.value;ui(_t1178,s);}}catch(err){_iterator751.e(err);}finally{_iterator751.f();}{var _t1177=e[0];if("text"===_t1177.localName){var _e874=_t1177.querySelectorAll("tspan"),_i857=bi(s,_t1177),_n359=_i857.length>0?_i857:_e874;_n359.length>0&&(_t1177=_n359[0]);}var _i856=Zo(_t1177,this.context);if("solid"===_i856)n=getComputedStyle(_t1177)[this.context];else if("linearGradient"===_i856||"radialGradient"===_i856){var _e875=Ko(_t1177,this.context),_i858=Oo(_e875);_i858[0]&&(n=$o(_i858[0]));}}var _iterator752=_createForOfIteratorHelper(e),_step752;try{for(_iterator752.s();!(_step752=_iterator752.n()).done;){var _t1179=_step752.value;if("text"===_t1179.localName&&_t1179.querySelector("tspan")){var _e876=_t1179.querySelectorAll("tspan"),_i859=bi(s,_t1179),_o279=_i859.length>0&&!s.collapsed?_i859:_e876;var _iterator754=_createForOfIteratorHelper(_o279),_step754;try{for(_iterator754.s();!(_step754=_iterator754.n()).done;){var _t1180=_step754.value;_t1180.style[this.context]=n;}}catch(err){_iterator754.e(err);}finally{_iterator754.f();}}else _t1179.style[this.context]=n,Sh(this.context,_t1179);}}catch(err){_iterator752.e(err);}finally{_iterator752.f();}var _iterator753=_createForOfIteratorHelper(i),_step753;try{for(_iterator753.s();!(_step753=_iterator753.n()).done;){var _t1181=_step753.value;xi(_t1181,s);}}catch(err){_iterator753.e(err);}finally{_iterator753.f();}}},{key:"Fx",value:function Fx(){var _this476=this;var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=Zo(e,_this476.context);if("linearGradient"===s||"radialGradient"===s){var _s506=Jo(t.masterWorkspace,getComputedStyle(e)[_this476.context]),_n360=_o(_s506);if(_n360)i=_n360;else{i=Ei("linearGradient");var _iterator755=_createForOfIteratorHelper(Oo(_s506)),_step755;try{for(_iterator755.s();!(_step755=_iterator755.n()).done;){var _t1182=_step755.value;i.append(_t1182.cloneNode());}}catch(err){_iterator755.e(err);}finally{_iterator755.f();}}}else if("solid"===s){var _t1183="",_s507=Ko(e,_this476.context);_t1183=_s507?Io(_s507):getComputedStyle(e)[_this476.context];var _mo3=mo(_t1183,"hsla"),_mo4=_slicedToArray(_mo3,4),_n361=_mo4[0],_o280=_mo4[1],_l246=_mo4[2],_a189=_mo4[3],_h152=_l246-20<0?0:_l246-20,_r94=go([_n361,_o280,_l246,_a189],"hsla","rgba"),_d73=go([_n361,_o280,_h152,_a189],"hsla","rgba");i=Oi("\n          <linearGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r94,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d73,"\"></stop>\n          </linearGradient>\n        "));}else i=Oi('\n          <linearGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </linearGradient>\n        ');return i;};var _iterator756=_createForOfIteratorHelper(i),_step756;try{for(_iterator756.s();!(_step756=_iterator756.n()).done;){var _t1188=_step756.value;ui(_t1188,s);}}catch(err){_iterator756.e(err);}finally{_iterator756.f();}if(s&&!1===s.collapsed){var _e877=s.startContainer.closest("text"),_i860=_e877.querySelectorAll("tspan"),_l247=bi(s,_e877),_a190=_l247.length>0?_l247:_i860,_h153=_a190[0];if("linearGradient"===Zo(_h153,this.context)){var _e878=Jo(t.masterWorkspace,getComputedStyle(_h153)[this.context]);var _iterator757=_createForOfIteratorHelper(_a190),_step757;try{for(_iterator757.s();!(_step757=_iterator757.n()).done;){var _t1184=_step757.value;_t1184!==_h153&&(_t1184.style[this.context]="url(#".concat(_e878.id,")"));}}catch(err){_iterator757.e(err);}finally{_iterator757.f();}}else{var _i861=o(_h153);var _iterator758=_createForOfIteratorHelper(_a190),_step758;try{for(_iterator758.s();!(_step758=_iterator758.n()).done;){var _s508=_step758.value;var _o281=Pi(_e877),_l248=K(_o281.x+_o281.width/2,n),_a191=K(_o281.y,n),_h154=K(_o281.x+_o281.width/2,n),_r95=K(_o281.y+_o281.height,n),_d74=Ei("svg:linearGradient");if(_d74.setAttribute("gradientUnits","userSpaceOnUse"),_d74.setAttribute("x1",_l248),_d74.setAttribute("y1",_a191),_d74.setAttribute("x2",_h154),_d74.setAttribute("y2",_r95),_i861.isConnected)_d74.setAttribute("id",t.generateUniqueID(_i861.id)),_d74.setAttribute("href","#"+_i861.id);else{_d74.setAttribute("id",t.generateUniqueID("gradient"));var _iterator759=_createForOfIteratorHelper(Ao(_i861)),_step759;try{for(_iterator759.s();!(_step759=_iterator759.n()).done;){var _t1185=_step759.value;_d74.append(_t1185.cloneNode());}}catch(err){_iterator759.e(err);}finally{_iterator759.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d74),_s508.style[this.context]="url(#".concat(_d74.id,")");}}catch(err){_iterator758.e(err);}finally{_iterator758.f();}}}else{var _i862=e[0];"text"===_i862.localName&&_i862.querySelector("tspan")&&(_i862=_i862.querySelector("tspan"));var _s509=o(_i862);var _iterator760=_createForOfIteratorHelper(e),_step760;try{for(_iterator760.s();!(_step760=_iterator760.n()).done;){var _i863=_step760.value;var _e879=!1;if("linearGradient"===Zo(_i863,this.context)){var _n362=Jo(t.masterWorkspace,getComputedStyle(_i863)[this.context]);_o(_n362)===_s509&&(_e879=!0);}if(!1===_e879){var _e880=Pi(_i863),_o282="use"===_i863.localName?"objectBoundingBox":"userSpaceOnUse",_l249="use"===_i863.localName?.5:K(_e880.x+_e880.width/2,n),_a192="use"===_i863.localName?0:K(_e880.y,n),_h155="use"===_i863.localName?.5:K(_e880.x+_e880.width/2,n),_r96="use"===_i863.localName?1:K(_e880.y+_e880.height,n),_d75=Ei("svg:linearGradient");if(_d75.setAttribute("gradientUnits",_o282),_d75.setAttribute("x1",_l249),_d75.setAttribute("y1",_a192),_d75.setAttribute("x2",_h155),_d75.setAttribute("y2",_r96),_s509.isConnected)_d75.setAttribute("id",t.generateUniqueID(_s509.id)),_d75.setAttribute("href","#"+_s509.id);else{_d75.setAttribute("id",t.generateUniqueID("gradient"));var _iterator761=_createForOfIteratorHelper(Ao(_s509)),_step761;try{for(_iterator761.s();!(_step761=_iterator761.n()).done;){var _t1186=_step761.value;_d75.append(_t1186.cloneNode());}}catch(err){_iterator761.e(err);}finally{_iterator761.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_d75),"text"===_i863.localName&&_i863.querySelector("tspan")){var _iterator762=_createForOfIteratorHelper(_i863.querySelectorAll("tspan")),_step762;try{for(_iterator762.s();!(_step762=_iterator762.n()).done;){var _t1187=_step762.value;_t1187.style[this.context]="url(#".concat(_d75.id,")"),Sh(this.context,_t1187);}}catch(err){_iterator762.e(err);}finally{_iterator762.f();}}else _i863.style[this.context]="url(#".concat(_d75.id,")"),Sh(this.context,_i863);}}}catch(err){_iterator760.e(err);}finally{_iterator760.f();}}var _iterator763=_createForOfIteratorHelper(i),_step763;try{for(_iterator763.s();!(_step763=_iterator763.n()).done;){var _t1189=_step763.value;xi(_t1189,s);}}catch(err){_iterator763.e(err);}finally{_iterator763.f();}}},{key:"Ux",value:function Ux(){var _this477=this;var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange,n=t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var o=function o(e){var i=null,s=Zo(e,_this477.context);if("linearGradient"===s||"radialGradient"===s){var _s510=Jo(t.masterWorkspace,getComputedStyle(e)[_this477.context]),_n363=_o(_s510);if(_n363)i=_n363;else{i=Ei("radialGradient");var _iterator764=_createForOfIteratorHelper(Oo(_s510)),_step764;try{for(_iterator764.s();!(_step764=_iterator764.n()).done;){var _t1190=_step764.value;i.append(_t1190.cloneNode());}}catch(err){_iterator764.e(err);}finally{_iterator764.f();}}}else if("solid"===s){var _t1191="",_s511=Ko(e,_this477.context);_t1191=_s511?Io(_s511):getComputedStyle(e)[_this477.context];var _mo5=mo(_t1191,"hsla"),_mo6=_slicedToArray(_mo5,4),_n364=_mo6[0],_o283=_mo6[1],_l250=_mo6[2],_a193=_mo6[3],_h156=_l250-20<0?0:_l250-20,_r97=go([_n364,_o283,_l250,_a193],"hsla","rgba"),_d76=go([_n364,_o283,_h156,_a193],"hsla","rgba");i=Oi("\n          <radialGradient>\n            <stop offset=\"0\" style=\"stop-color: ".concat(_r97,"\"></stop>\n            <stop offset=\"1\" style=\"stop-color: ").concat(_d76,"\"></stop>\n          </radialGradient>\n        "));}else i=Oi('\n          <radialGradient>\n            <stop offset="0" style="stop-color: #bada55"></stop>\n            <stop offset="1" style="stop-color: #758d29"></stop>\n          </radialGradient>\n        ');return i;};var _iterator765=_createForOfIteratorHelper(i),_step765;try{for(_iterator765.s();!(_step765=_iterator765.n()).done;){var _t1196=_step765.value;ui(_t1196,s);}}catch(err){_iterator765.e(err);}finally{_iterator765.f();}if(s&&!1===s.collapsed){var _e881=s.startContainer.closest("text"),_i864=_e881.querySelectorAll("tspan"),_l251=bi(s,_e881),_a194=_l251.length>0?_l251:_i864,_h157=_a194[0];if("radialGradient"===Zo(_h157,this.context)){var _e882=Jo(t.masterWorkspace,getComputedStyle(_h157)[this.context]);var _iterator766=_createForOfIteratorHelper(_a194),_step766;try{for(_iterator766.s();!(_step766=_iterator766.n()).done;){var _t1192=_step766.value;_t1192!==_h157&&(_t1192.style[this.context]="url(#".concat(_e882.id,")"));}}catch(err){_iterator766.e(err);}finally{_iterator766.f();}}else{var _i865=o(_h157);var _iterator767=_createForOfIteratorHelper(_a194),_step767;try{for(_iterator767.s();!(_step767=_iterator767.n()).done;){var _s512=_step767.value;var _o284=Pi(_e881),_l252=K(_o284.x+_o284.width/2,n),_a195=K(_o284.y+_o284.height/2,n),_h158=K(_o284.width/2,n),_r98=Ei("svg:radialGradient");if(_r98.setAttribute("gradientUnits","userSpaceOnUse"),_r98.setAttribute("cx",_l252),_r98.setAttribute("cy",_a195),_r98.setAttribute("r",_h158),_i865.isConnected)_r98.setAttribute("id",t.generateUniqueID(_i865.id)),_r98.setAttribute("href","#"+_i865.id);else{_r98.setAttribute("id",t.generateUniqueID("gradient"));var _iterator768=_createForOfIteratorHelper(Ao(_i865)),_step768;try{for(_iterator768.s();!(_step768=_iterator768.n()).done;){var _t1193=_step768.value;_r98.append(_t1193.cloneNode());}}catch(err){_iterator768.e(err);}finally{_iterator768.f();}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r98),_s512.style[this.context]="url(#".concat(_r98.id,")");}}catch(err){_iterator767.e(err);}finally{_iterator767.f();}}}else{var _i866=e[0];"text"===_i866.localName&&_i866.querySelector("tspan")&&(_i866=_i866.querySelector("tspan"));var _s513=o(_i866);var _iterator769=_createForOfIteratorHelper(e),_step769;try{for(_iterator769.s();!(_step769=_iterator769.n()).done;){var _i867=_step769.value;var _e883=!1;if("radialGradient"===Zo(_i867,this.context)){var _n365=Jo(t.masterWorkspace,getComputedStyle(_i867)[this.context]);_o(_n365)===_s513&&(_e883=!0);}if(!1===_e883){var _e884=Pi(_i867),_o285="use"===_i867.localName?"objectBoundingBox":"userSpaceOnUse",_l253="use"===_i867.localName?.5:K(_e884.x+_e884.width/2,n),_a196="use"===_i867.localName?.5:K(_e884.y+_e884.height/2,n),_h159="use"===_i867.localName?.5:K(_e884.width/2,n),_r99=Ei("svg:radialGradient");if(_r99.setAttribute("gradientUnits",_o285),_r99.setAttribute("cx",_l253),_r99.setAttribute("cy",_a196),_r99.setAttribute("r",_h159),_s513.isConnected)_r99.setAttribute("id",t.generateUniqueID(_s513.id)),_r99.setAttribute("href","#"+_s513.id);else{_r99.setAttribute("id",t.generateUniqueID("gradient"));var _iterator770=_createForOfIteratorHelper(Ao(_s513)),_step770;try{for(_iterator770.s();!(_step770=_iterator770.n()).done;){var _t1194=_step770.value;_r99.append(_t1194.cloneNode());}}catch(err){_iterator770.e(err);}finally{_iterator770.f();}}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_r99),"text"===_i867.localName&&_i867.querySelector("tspan")){var _iterator771=_createForOfIteratorHelper(_i867.querySelectorAll("tspan")),_step771;try{for(_iterator771.s();!(_step771=_iterator771.n()).done;){var _t1195=_step771.value;_t1195.style[this.context]="url(#".concat(_r99.id,")"),Sh(this.context,_t1195);}}catch(err){_iterator771.e(err);}finally{_iterator771.f();}}else _i867.style[this.context]="url(#".concat(_r99.id,")"),Sh(this.context,_i867);}}}catch(err){_iterator769.e(err);}finally{_iterator769.f();}}var _iterator772=_createForOfIteratorHelper(i),_step772;try{for(_iterator772.s();!(_step772=_iterator772.n()).done;){var _t1197=_step772.value;xi(_t1197,s);}}catch(err){_iterator772.e(err);}finally{_iterator772.f();}}},{key:"Nx",value:function Nx(){var _this478=this;var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Paint type"),t.collectGarbage();var n=function n(e){var i=null;if("pattern"===Zo(e,_this478.context)){var _s514=getComputedStyle(e)[_this478.context];i=Jo(t.masterWorkspace,_s514),i=Uo(i);}else{var _e885=t.masterWorkspace.querySelector("pattern:not([href])");i=_e885||Oi('\n            <pattern x="0" y="0" width="25" height="25" patternUnits="userSpaceOnUse" viewBox="0 0 100 100">\n              <rect x="0" y="0" width="50" height="100" style="fill: black;"></rect>\n            </pattern>\n          ');}return i;};var _iterator773=_createForOfIteratorHelper(i),_step773;try{for(_iterator773.s();!(_step773=_iterator773.n()).done;){var _t1201=_step773.value;ui(_t1201,s);}}catch(err){_iterator773.e(err);}finally{_iterator773.f();}if(s&&!1===s.collapsed){var _e886=s.startContainer.closest("text"),_i868=_e886.querySelectorAll("tspan"),_o286=bi(s,_e886),_l254=_o286.length>0?_o286:_i868,_a197=_l254[0];if("pattern"===Zo(_a197,this.context)){var _e887=Jo(t.masterWorkspace,getComputedStyle(_a197)[this.context]);var _iterator774=_createForOfIteratorHelper(_l254),_step774;try{for(_iterator774.s();!(_step774=_iterator774.n()).done;){var _t1198=_step774.value;_t1198!==_a197&&(_t1198.style[this.context]="url(#".concat(_e887.id,")"));}}catch(err){_iterator774.e(err);}finally{_iterator774.f();}}else{var _i869=n(_a197);!1===_i869.isConnected&&(_i869.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i869));var _s515=Ei("svg:pattern");_s515.setAttribute("id",t.generateUniqueID(_i869.id)),_s515.setAttribute("href","#"+_i869.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s515);var _iterator775=_createForOfIteratorHelper(_l254),_step775;try{for(_iterator775.s();!(_step775=_iterator775.n()).done;){var _t1199=_step775.value;_t1199.style[this.context]="url(#".concat(_s515.id,")");}}catch(err){_iterator775.e(err);}finally{_iterator775.f();}Xo(_s515,_e886,t.transformPrecision);}}else{var _i870=e[0];"text"===_i870.localName&&_i870.querySelector("tspan")&&(_i870=_i870.querySelector("tspan"));var _s516=n(_i870);!1===_s516.isConnected&&(_s516.id=t.generateUniqueID("pattern"),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s516));var _iterator776=_createForOfIteratorHelper(e),_step776;try{for(_iterator776.s();!(_step776=_iterator776.n()).done;){var _i871=_step776.value;var _e888=!1;if("pattern"===Zo(_i871,this.context)){var _n366=Jo(t.masterWorkspace,getComputedStyle(_i871)[this.context]);Uo(_n366)===_s516&&(_e888=!0);}if(!1===_e888){var _e889=Ei("svg:pattern");if(_e889.setAttribute("id",t.generateUniqueID(_s516.id)),_e889.setAttribute("href","#"+_s516.id),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e889),"text"===_i871.localName&&_i871.querySelector("tspan")){var _iterator777=_createForOfIteratorHelper(_i871.querySelectorAll("tspan")),_step777;try{for(_iterator777.s();!(_step777=_iterator777.n()).done;){var _t1200=_step777.value;_t1200.style[this.context]="url(#".concat(_e889.id,")"),Sh(this.context,_t1200);}}catch(err){_iterator777.e(err);}finally{_iterator777.f();}}else _i871.style[this.context]="url(#".concat(_e889.id,")"),Sh(this.context,_i871);Xo(_e889,_i871,t.transformPrecision);}}}catch(err){_iterator776.e(err);}finally{_iterator776.f();}}var _iterator778=_createForOfIteratorHelper(i),_step778;try{for(_iterator778.s();!(_step778=_iterator778.n()).done;){var _t1202=_step778.value;xi(_t1202,s);}}catch(err){_iterator778.e(err);}finally{_iterator778.f();}}},{key:"Vx",value:function Vx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator779=_createForOfIteratorHelper(i),_step779;try{for(_iterator779.s();!(_step779=_iterator779.n()).done;){var _t1203=_step779.value;ui(_t1203,s);}}catch(err){_iterator779.e(err);}finally{_iterator779.f();}var _iterator780=_createForOfIteratorHelper(e),_step780;try{for(_iterator780.s();!(_step780=_iterator780.n()).done;){var _t1204=_step780.value;if("text"===_t1204.localName&&_t1204.querySelector("tspan")){var _e890=_t1204.querySelectorAll("tspan"),_i872=bi(s,_t1204),_n367=_i872.length>0&&!s.collapsed?_i872:_e890;_t1204.style[this.context]="inherit",Sh(this.context,_t1204);var _iterator781=_createForOfIteratorHelper(_n367),_step781;try{for(_iterator781.s();!(_step781=_iterator781.n()).done;){var _t1205=_step781.value;_t1205.style[this.context]="inherit",Sh(this.context,_t1205);}}catch(err){_iterator781.e(err);}finally{_iterator781.f();}}else _t1204.style[this.context]="inherit",Sh(this.context,_t1204);}}catch(err){_iterator780.e(err);}finally{_iterator780.f();}}},{key:"jx",value:function jx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=t.selectedTextRange;t.undoManager.checkpoint("Paint type");var _iterator782=_createForOfIteratorHelper(i),_step782;try{for(_iterator782.s();!(_step782=_iterator782.n()).done;){var _t1206=_step782.value;ui(_t1206,s);}}catch(err){_iterator782.e(err);}finally{_iterator782.f();}var _iterator783=_createForOfIteratorHelper(e),_step783;try{for(_iterator783.s();!(_step783=_iterator783.n()).done;){var _t1207=_step783.value;if("text"===_t1207.localName&&_t1207.querySelector("tspan")){var _e891=_t1207.querySelectorAll("tspan"),_i873=bi(s,_t1207),_n368=_i873.length>0&&!s.collapsed?_i873:_e891;var _iterator785=_createForOfIteratorHelper(_n368),_step785;try{for(_iterator785.s();!(_step785=_iterator785.n()).done;){var _t1208=_step785.value;_t1208.style[this.context]="none";}}catch(err){_iterator785.e(err);}finally{_iterator785.f();}}else _t1207.style[this.context]="none",Sh(this.context,_t1207);}}catch(err){_iterator783.e(err);}finally{_iterator783.f();}var _iterator784=_createForOfIteratorHelper(i),_step784;try{for(_iterator784.s();!(_step784=_iterator784.n()).done;){var _t1209=_step784.value;xi(_t1209,s);}}catch(err){_iterator784.e(err);}finally{_iterator784.f();}}},{key:"$x",value:function $x(t){var e=this.Js.board,i=e.selectedTextRange,s=this["#spread-method-buttons"].querySelector("x-button[toggled]"),n=[];e.undoManager.checkpoint("Spread Method");var _iterator786=_createForOfIteratorHelper(this.Hx()),_step786;try{for(_iterator786.s();!(_step786=_iterator786.n()).done;){var _t1211=_step786.value;if("text"===_t1211.localName){var _e893=gi(_t1211);if(i&&i.intersectsNode(_t1211)){var _iterator787=_createForOfIteratorHelper(_e893),_step787;try{for(_iterator787.s();!(_step787=_iterator787.n()).done;){var _t1212=_step787.value;i.intersectsNode(_t1212)&&!n.includes(_t1212.parentElement)&&n.push(_t1212.parentElement);}}catch(err){_iterator787.e(err);}finally{_iterator787.f();}}else{var _iterator788=_createForOfIteratorHelper(_e893),_step788;try{for(_iterator788.s();!(_step788=_iterator788.n()).done;){var _t1213=_step788.value;!1===n.includes(_t1213.parentElement)&&n.push(_t1213.parentElement);}}catch(err){_iterator788.e(err);}finally{_iterator788.f();}}}else n.push(_t1211);}}catch(err){_iterator786.e(err);}finally{_iterator786.f();}for(var _i874=0,_n369=n;_i874<_n369.length;_i874++){var _t1210=_n369[_i874];var _e892=Zo(_t1210,this.context);if("linearGradient"===_e892||"radialGradient"===_e892){Ko(_t1210,this.context).setAttribute("spreadMethod",s.value);}}}},{key:"_x",value:function _x(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.selectedTextRange;t.undoManager.checkpoint("Paint color");var _iterator789=_createForOfIteratorHelper(i),_step789;try{for(_iterator789.s();!(_step789=_iterator789.n()).done;){var _t1217=_step789.value;ui(_t1217,n);}}catch(err){_iterator789.e(err);}finally{_iterator789.f();}if(n&&!1===n.collapsed){var _t1214=n.startContainer.closest("text"),_e894=[];{var _i875=_t1214.querySelectorAll("tspan"),_s517=bi(n,_t1214);_e894=_s517.length>0?_s517:_i875;}var _iterator790=_createForOfIteratorHelper(_e894),_step790;try{for(_iterator790.s();!(_step790=_iterator790.n()).done;){var _t1215=_step790.value;_t1215.style[this.context]="url(#".concat(s,")"),Sh(this.context,_t1215);}}catch(err){_iterator790.e(err);}finally{_iterator790.f();}}else{var _iterator791=_createForOfIteratorHelper(e),_step791;try{for(_iterator791.s();!(_step791=_iterator791.n()).done;){var _t1216=_step791.value;if(_t1216.style[this.context]="url(#".concat(s,")"),Sh(this.context,_t1216),"text"===_t1216.localName&&_t1216.querySelector("tspan")){var _iterator792=_createForOfIteratorHelper(_t1216.querySelectorAll("tspan")),_step792;try{for(_iterator792.s();!(_step792=_iterator792.n()).done;){var _e895=_step792.value;_e895.style[this.context]="url(#".concat(s,")"),Sh(this.context,_e895);}}catch(err){_iterator792.e(err);}finally{_iterator792.f();}}}}catch(err){_iterator791.e(err);}finally{_iterator791.f();}}var _iterator793=_createForOfIteratorHelper(i),_step793;try{for(_iterator793.s();!(_step793=_iterator793.n()).done;){var _t1218=_step793.value;xi(_t1218,n);}}catch(err){_iterator793.e(err);}finally{_iterator793.f();}t.collectGarbage();}},{key:"Cx",value:function Cx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#color-select"].value,n=t.masterWorkspace.querySelector("#"+s),o=Io(n),l=t.selectedTextRange;t.undoManager.checkpoint("Unlink color"),t.collectGarbage();var _iterator794=_createForOfIteratorHelper(i),_step794;try{for(_iterator794.s();!(_step794=_iterator794.n()).done;){var _t1222=_step794.value;ui(_t1222,l);}}catch(err){_iterator794.e(err);}finally{_iterator794.f();}if(l&&!1===l.collapsed){var _t1219=l.startContainer.closest("text"),_e896=[];{var _i876=_t1219.querySelectorAll("tspan"),_s518=bi(l,_t1219);_e896=_s518.length>0?_s518:_i876;}var _iterator795=_createForOfIteratorHelper(_e896),_step795;try{for(_iterator795.s();!(_step795=_iterator795.n()).done;){var _t1220=_step795.value;_t1220.style[this.context]=o,Sh(this.context,_t1220);}}catch(err){_iterator795.e(err);}finally{_iterator795.f();}}else{var _iterator796=_createForOfIteratorHelper(e),_step796;try{for(_iterator796.s();!(_step796=_iterator796.n()).done;){var _t1221=_step796.value;if(_t1221.style[this.context]=o,Sh(this.context,_t1221),"text"===_t1221.localName&&_t1221.querySelector("tspan")){var _iterator797=_createForOfIteratorHelper(_t1221.querySelectorAll("tspan")),_step797;try{for(_iterator797.s();!(_step797=_iterator797.n()).done;){var _e897=_step797.value;_e897.style[this.context]=o,Sh(this.context,_e897);}}catch(err){_iterator797.e(err);}finally{_iterator797.f();}}}}catch(err){_iterator796.e(err);}finally{_iterator796.f();}}var _iterator798=_createForOfIteratorHelper(i),_step798;try{for(_iterator798.s();!(_step798=_iterator798.n()).done;){var _t1223=_step798.value;xi(_t1223,l);}}catch(err){_iterator798.e(err);}finally{_iterator798.f();}}},{key:"Mx",value:function Mx(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#gradient-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=li(this["#paint-type-buttons"].value),l=t.selectedTextRange,a=t.geometryPrecision;t.undoManager.checkpoint("Gradient");var _iterator799=_createForOfIteratorHelper(i),_step799;try{for(_iterator799.s();!(_step799=_iterator799.n()).done;){var _t1231=_step799.value;ui(_t1231,l);}}catch(err){_iterator799.e(err);}finally{_iterator799.f();}if(l&&!1===l.collapsed){var _e898=l.startContainer.closest("text"),_i877=[],_s519=null;{var _t1224=_e898.querySelectorAll("tspan"),_s520=bi(l,_e898);_i877=_s520.length>0?_s520:_t1224;}{var _e899=Zo(_i877[0],this.context);if("linearGradient"===_e899||"radialGradient"===_e899){var _e900=getComputedStyle(_i877[0])[this.context];_s519=Jo(t.masterWorkspace,_e900);}}if(_s519&&_o(_s519)===n){var _iterator800=_createForOfIteratorHelper(_i877),_step800;try{for(_iterator800.s();!(_step800=_iterator800.n()).done;){var _t1225=_step800.value;_t1225!==_i877[0]&&(_t1225.style[this.context]="url(#".concat(_s519.id,")"));}}catch(err){_iterator800.e(err);}finally{_iterator800.f();}}else{var _s521=Pi(_e898);var _iterator801=_createForOfIteratorHelper(_i877),_step801;try{for(_iterator801.s();!(_step801=_iterator801.n()).done;){var _e901=_step801.value;var _i878=Ei("svg:".concat(o));if(_i878.setAttribute("id",t.generateUniqueID(n.id)),_i878.setAttribute("href","#"+n.id),_i878.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===o){var _t1226=K(_s521.x+_s521.width/2,a),_e902=K(_s521.y,a),_n370=K(_s521.x+_s521.width/2,a),_o287=K(_s521.y+_s521.height,a);_i878.setAttribute("x1",_t1226),_i878.setAttribute("y1",_e902),_i878.setAttribute("x2",_n370),_i878.setAttribute("y2",_o287);}else if("radialGradient"===o){var _t1227=K(_s521.x+_s521.width/2,a),_e903=K(_s521.y+_s521.height/2,a),_n371=K(_s521.width/2,a);_i878.setAttribute("cx",_t1227),_i878.setAttribute("cy",_e903),_i878.setAttribute("r",_n371);}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_i878),_e901.style[this.context]="url(#".concat(_i878.id,")"),Sh(this.context,_e901);}}catch(err){_iterator801.e(err);}finally{_iterator801.f();}}}else{var _iterator802=_createForOfIteratorHelper(e),_step802;try{for(_iterator802.s();!(_step802=_iterator802.n()).done;){var _i879=_step802.value;if(Zo(_i879,this.context)===o){var _e905=Jo(t.masterWorkspace,getComputedStyle(_i879)[this.context]);if(_o(_e905)===n)continue;}var _e904=Pi(_i879),_s522=Ei("svg:".concat(o));if(_s522.setAttribute("id",t.generateUniqueID(n.id)),_s522.setAttribute("href","#"+n.id),_s522.setAttribute("gradientUnits","use"===_i879.localName?"objectBoundingBox":"userSpaceOnUse"),"linearGradient"===o){var _t1228="use"===_i879.localName?.5:K(_e904.x+_e904.width/2,a),_n372="use"===_i879.localName?0:K(_e904.y,a),_o288="use"===_i879.localName?.5:K(_e904.x+_e904.width/2,a),_l255="use"===_i879.localName?1:K(_e904.y+_e904.height,a);_s522.setAttribute("x1",_t1228),_s522.setAttribute("y1",_n372),_s522.setAttribute("x2",_o288),_s522.setAttribute("y2",_l255);}else if("radialGradient"===o){var _t1229="use"===_i879.localName?.5:K(_e904.x+_e904.width/2,a),_n373="use"===_i879.localName?.5:K(_e904.y+_e904.height/2,a),_o289="use"===_i879.localName?.5:K(_e904.width/2,a);_s522.setAttribute("cx",_t1229),_s522.setAttribute("cy",_n373),_s522.setAttribute("r",_o289);}if(t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s522),_i879.style[this.context]="url(#".concat(_s522.id,")"),Sh(this.context,_i879),"text"===_i879.localName&&_i879.querySelector("tspan")){var _iterator803=_createForOfIteratorHelper(_i879.querySelectorAll("tspan")),_step803;try{for(_iterator803.s();!(_step803=_iterator803.n()).done;){var _t1230=_step803.value;_t1230.style[this.context]="url(#".concat(_s522.id,")"),Sh(this.context,_t1230);}}catch(err){_iterator803.e(err);}finally{_iterator803.f();}}}}catch(err){_iterator802.e(err);}finally{_iterator802.f();}}var _iterator804=_createForOfIteratorHelper(i),_step804;try{for(_iterator804.s();!(_step804=_iterator804.n()).done;){var _t1232=_step804.value;xi(_t1232,l);}}catch(err){_iterator804.e(err);}finally{_iterator804.f();}t.collectGarbage();}},{key:"Px",value:function Px(){var t=this.Js.board,e=t.selectedTextRange,i=t.geometryPrecision,s=[];t.undoManager.checkpoint("Unlink gradient"),t.collectGarbage();var _iterator805=_createForOfIteratorHelper(this.Hx()),_step805;try{for(_iterator805.s();!(_step805=_iterator805.n()).done;){var _t1238=_step805.value;if("text"===_t1238.localName){var _i882=gi(_t1238);if(e&&e.intersectsNode(_t1238)){"backward"===e.direction&&_i882.reverse();var _iterator807=_createForOfIteratorHelper(_i882),_step807;try{for(_iterator807.s();!(_step807=_iterator807.n()).done;){var _t1239=_step807.value;e.intersectsNode(_t1239)&&!1===s.includes(_t1239.parentElement)&&s.push(_t1239.parentElement);}}catch(err){_iterator807.e(err);}finally{_iterator807.f();}}else{var _iterator808=_createForOfIteratorHelper(_i882),_step808;try{for(_iterator808.s();!(_step808=_iterator808.n()).done;){var _t1240=_step808.value;!1===s.includes(_t1240.parentElement)&&s.push(_t1240.parentElement);}}catch(err){_iterator808.e(err);}finally{_iterator808.f();}}}else s.push(_t1238);}}catch(err){_iterator805.e(err);}finally{_iterator805.f();}for(var _i880=0,_s523=s;_i880<_s523.length;_i880++){var _e906=_s523[_i880];var _s524=Zo(_e906,this.context),_n374=null;if("linearGradient"===_s524||"radialGradient"===_s524){_n374=Jo(t.masterWorkspace,getComputedStyle(_e906)[this.context]);{var _o290=Ei("svg:".concat(_s524));_o290.setAttribute("id",t.generateUniqueID("gradient"));var _iterator806=_createForOfIteratorHelper(Oo(_n374)),_step806;try{for(_iterator806.s();!(_step806=_iterator806.n()).done;){var _t1237=_step806.value;_o290.append(_t1237.cloneNode());}}catch(err){_iterator806.e(err);}finally{_iterator806.f();}{var _t1233=[],_l256=[];"linearGradient"===_s524?_t1233=["x1","x2","y1","y2","gradientUnits","gradientTransform","spreadMethod"]:"radialGradient"===_s524&&(_t1233=["cx","cy","r","fx","fy","fr","gradientUnits","gradientTransform","spreadMethod"]);for(var _i881=0,_t1234=_t1233;_i881<_t1234.length;_i881++){var _e907=_t1234[_i881];var _t1235=Eo(_n374,_e907);null!==_t1235&&(_o290.setAttribute(_e907,_t1235),_l256.push(_e907));}if(0===_l256.length){var _t1236=Pi(_e906);if(_o290.setAttribute("gradientUnits","userSpaceOnUse"),"linearGradient"===_s524){var _e908=K(_t1236.x,i),_s525=K(_t1236.y,i),_n375=K(_t1236.x+_t1236.width,i),_l257=K(_t1236.y,i);_o290.setAttribute("x1",_e908),_o290.setAttribute("y1",_s525),_o290.setAttribute("x2",_n375),_o290.setAttribute("y2",_l257);}else if("radialGradient"===_s524){var _e909=K(_t1236.x+_t1236.width/2,i),_s526=K(_t1236.y+_t1236.height/2,i),_n376=K(_t1236.width/2,i);_o290.setAttribute("cx",_e909),_o290.setAttribute("cy",_s526),_o290.setAttribute("r",_n376);}}}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_o290),_e906.style[this.context]="url(#".concat(_o290.id,")"),Sh(this.context,_e906);}}}t.collectGarbage();}},{key:"zx",value:function zx(){this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerFormat"),this["#color-picker"].format);}},{key:"Ox",value:function Ox(t){this["#color-picker"].type=t.detail.value,this.Qs.setConfig("bx-paintinspector#".concat(this.id,":colorPickerType"),this["#color-picker"].type);}},{key:"Dx",value:function Dx(t){var _this479=this;var e,_i884,s=this.Js.board,n=[].concat(_toConsumableArray(s.linearGradientHud.selectedStops),_toConsumableArray(s.radialGradientHud.selectedStops));if(s.undoManager.checkpoint("Change color"),n.length>0)this["#color-picker"].addEventListener("change",e=function e(){var _iterator809=_createForOfIteratorHelper(n),_step809;try{for(_iterator809.s();!(_step809=_iterator809.n()).done;){var _t1241=_step809.value;_t1241.style.stopColor=_this479["#color-picker"].value,Sh("stop-color",_t1241);}}catch(err){_iterator809.e(err);}finally{_iterator809.f();}}),this["#color-picker"].addEventListener("changeend",_i884=function i(){_this479["#color-picker"].removeEventListener("change",e),_this479["#color-picker"].removeEventListener("changeend",_i884);});else{var _t1242=this.Hx(),_n377=_t1242.filter(function(t){return"text"===t.localName;}),_o291=s.selectedTextRange,_l258=[],_a198=null;null!==this["#color-select"].value&&(_a198=s.masterWorkspace.querySelector("#"+this["#color-select"].value));var _iterator810=_createForOfIteratorHelper(_n377),_step810;try{for(_iterator810.s();!(_step810=_iterator810.n()).done;){var _t1246=_step810.value;ui(_t1246,_o291);}}catch(err){_iterator810.e(err);}finally{_iterator810.f();}var _iterator811=_createForOfIteratorHelper(_t1242),_step811;try{for(_iterator811.s();!(_step811=_iterator811.n()).done;){var _e910=_step811.value;if("text"===_e910.localName&&_e910.querySelector("tspan")){var _t1247=_e910.querySelectorAll("tspan"),_i885=bi(_o291,_e910),_s527=_i885.length>0&&!_o291.collapsed?_i885:_t1247;_l258.push.apply(_l258,_toConsumableArray(_s527));}else _l258.push(_e910);}}catch(err){_iterator811.e(err);}finally{_iterator811.f();}this["#color-picker"].addEventListener("change",e=function e(){if(_a198){Lo(_a198,_this479["#color-picker"].value);var _iterator812=_createForOfIteratorHelper(_l258),_step812;try{for(_iterator812.s();!(_step812=_iterator812.n()).done;){var _t1243=_step812.value;_t1243.style[_this479.context]="url(#".concat(_a198.id,")"),Sh(_this479.context,_t1243);}}catch(err){_iterator812.e(err);}finally{_iterator812.f();}}else{var _iterator813=_createForOfIteratorHelper(_l258),_step813;try{for(_iterator813.s();!(_step813=_iterator813.n()).done;){var _t1244=_step813.value;_t1244.style[_this479.context]=_this479["#color-picker"].value,Sh(_this479.context,_t1244);}}catch(err){_iterator813.e(err);}finally{_iterator813.f();}}}),this["#color-picker"].addEventListener("changeend",_i884=function _i883(){_this479["#color-picker"].removeEventListener("change",e),_this479["#color-picker"].removeEventListener("changeend",_i884);var _iterator814=_createForOfIteratorHelper(_n377),_step814;try{for(_iterator814.s();!(_step814=_iterator814.n()).done;){var _t1245=_step814.value;xi(_t1245,_o291);}}catch(err){_iterator814.e(err);}finally{_iterator814.f();}});}}},{key:"Ex",value:function Ex(t){0===t.button&&"edit-tool-span"===t.target.id&&this.Js.toggleTool("edit-tool");}},{key:"Tx",value:function Tx(){var _this480=this;var t,_e911,i=this.Js.board,s=[].concat(_toConsumableArray(i.linearGradientHud.selectedStops),_toConsumableArray(i.radialGradientHud.selectedStops));i.undoManager.checkpoint("Stop opacity"),this.kx=!0,this["#stop-opacity-section"].addEventListener("change",t=function t(_t1249){_t1249.target===_this480["#stop-opacity-slider"]?_this480["#stop-opacity-input"].value=_this480["#stop-opacity-slider"].value:_t1249.target===_this480["#stop-opacity-input"]&&(_this480["#stop-opacity-slider"].value=_this480["#stop-opacity-input"].value),_this480["#stop-opacity-slider"].mixed=!1,_this480["#stop-opacity-input"].mixed=!1;var _iterator815=_createForOfIteratorHelper(s),_step815;try{for(_iterator815.s();!(_step815=_iterator815.n()).done;){var _t1248=_step815.value;_t1248.style.setProperty("stop-opacity",_this480["#stop-opacity-slider"].value);}}catch(err){_iterator815.e(err);}finally{_iterator815.f();}}),this["#stop-opacity-section"].addEventListener("changeend",_e911=function e(){_this480["#stop-opacity-section"].removeEventListener("change",t),_this480["#stop-opacity-section"].removeEventListener("changeend",_e911);var _iterator816=_createForOfIteratorHelper(s),_step816;try{for(_iterator816.s();!(_step816=_iterator816.n()).done;){var _t1250=_step816.value;Sh("stop-opacity",_t1250);}}catch(err){_iterator816.e(err);}finally{_iterator816.f();}_this480.kx=!1;});}},{key:"Ax",value:function Ax(){var t=this.Js.board,e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this["#pattern-select"].value,n=t.masterWorkspace.querySelector("#"+CSS.escape(s)),o=t.selectedTextRange;t.geometryPrecision;t.undoManager.checkpoint("Pattern");var _iterator817=_createForOfIteratorHelper(i),_step817;try{for(_iterator817.s();!(_step817=_iterator817.n()).done;){var _t1251=_step817.value;ui(_t1251,o);}}catch(err){_iterator817.e(err);}finally{_iterator817.f();}var _iterator818=_createForOfIteratorHelper(e),_step818;try{for(_iterator818.s();!(_step818=_iterator818.n()).done;){var _i886=_step818.value;if("text"===_i886.localName&&_i886.querySelectorAll("tspan").length>0){var _e912=_i886.querySelectorAll("tspan"),_s528=bi(o,_i886),_l259=_s528.length>0&&!o.collapsed?_s528:_e912,_a199=Ko(_l259[0],this.context),_h160=_a199&&"pattern"===_a199.localName?_a199:null;if(_h160&&qo([_h160,n])){var _iterator820=_createForOfIteratorHelper(_l259),_step820;try{for(_iterator820.s();!(_step820=_iterator820.n()).done;){var _t1252=_step820.value;_t1252.style[this.context]="url(#".concat(_h160.id,")");}}catch(err){_iterator820.e(err);}finally{_iterator820.f();}}else{var _e913=Ei("svg:pattern");_e913.setAttribute("id",t.generateUniqueID(n.id)),_e913.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e913.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e913);var _iterator821=_createForOfIteratorHelper(_l259),_step821;try{for(_iterator821.s();!(_step821=_iterator821.n()).done;){var _t1253=_step821.value;_t1253.style[this.context]="url(#".concat(_e913.id,")");}}catch(err){_iterator821.e(err);}finally{_iterator821.f();}Xo(_e913,_i886,t.transformPrecision);}}else{if("pattern"===Zo(_i886,this.context)){var _e915=getComputedStyle(_i886)[this.context],_s529=Jo(t.masterWorkspace,_e915);if(qo([_s529,n]))continue;}var _e914=Ei("svg:pattern");_e914.setAttribute("id",t.generateUniqueID(n.id)),_e914.setAttribute("href","#"+n.id),n.hasAttribute("patternTransform")&&_e914.setAttribute("patternTransform",""),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_e914),_i886.style[this.context]="url(#".concat(_e914.id,")"),Sh(this.context,_i886),Xo(_e914,_i886,t.transformPrecision);}}}catch(err){_iterator818.e(err);}finally{_iterator818.f();}var _iterator819=_createForOfIteratorHelper(i),_step819;try{for(_iterator819.s();!(_step819=_iterator819.n()).done;){var _t1254=_step819.value;xi(_t1254,o);}}catch(err){_iterator819.e(err);}finally{_iterator819.f();}t.collectGarbage();}},{key:"Ix",value:function Ix(){var t=this.Js.board,e=this.Hx(),i=t.selectedTextRange;t.undoManager.checkpoint("Paint order");var _iterator822=_createForOfIteratorHelper(e),_step822;try{for(_iterator822.s();!(_step822=_iterator822.n()).done;){var _t1255=_step822.value;if("text"===_t1255.localName){ui(_t1255,i);var _e916=_t1255.querySelectorAll("tspan"),_s530=bi(i,_t1255),_n378=_s530.length>0&&!i.collapsed?_s530:_e916;if(_n378.length>0){var _iterator823=_createForOfIteratorHelper(_n378),_step823;try{for(_iterator823.s();!(_step823=_iterator823.n()).done;){var _t1256=_step823.value;_t1256.style.paintOrder=this["#paint-order-switch"].value.join(" ");}}catch(err){_iterator823.e(err);}finally{_iterator823.f();}}else _t1255.style.paintOrder=this["#paint-order-switch"].value.join(" "),Sh("paint-order",_t1255);xi(_t1255,i);}else _t1255.style.paintOrder=this["#paint-order-switch"].value.join(" "),Sh("paint-order",_t1255);}}catch(err){_iterator822.e(err);}finally{_iterator822.f();}}},{key:"qs",value:function qs(){var _this481=this;var t=this.Js.board,e=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops)),i=[],s=null,n=null,o=null;{var _l260=t.selectedTextRange;var _iterator824=_createForOfIteratorHelper(this.Hx()),_step824;try{for(_iterator824.s();!(_step824=_iterator824.n()).done;){var _t1258=_step824.value;if("text"===_t1258.localName){var _e917=gi(_t1258);if(_l260&&_l260.intersectsNode(_t1258)){"backward"===_l260.direction&&_e917.reverse();var _iterator825=_createForOfIteratorHelper(_e917),_step825;try{for(_iterator825.s();!(_step825=_iterator825.n()).done;){var _t1259=_step825.value;_l260.intersectsNode(_t1259)&&!1===i.includes(_t1259.parentElement)&&i.push(_t1259.parentElement);}}catch(err){_iterator825.e(err);}finally{_iterator825.f();}}else{var _iterator826=_createForOfIteratorHelper(_e917),_step826;try{for(_iterator826.s();!(_step826=_iterator826.n()).done;){var _t1260=_step826.value;!1===i.includes(_t1260.parentElement)&&i.push(_t1260.parentElement);}}catch(err){_iterator826.e(err);}finally{_iterator826.f();}}}else i.push(_t1258);}}catch(err){_iterator824.e(err);}finally{_iterator824.f();}if(i.length>0&&(s=i[0]),e.length>0){var _t1257=e[0].closest("linearGradient, radialGradient"),_n379=i.find(function(e){return Ko(e,_this481.context)===_t1257;});_n379&&(s=_n379);}s&&(n=Zo(s,this.context),o=Ko(s,this.context));}if(this["#section-heading"].disabled=!s,this["#inherit-paint-button"].hidden="symbol"!==t.currentWorkspace.getAttribute("data-bx-workspace"),s){var _e918=n;"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&"inherit"===s.style[this.context]&&(_e918="inherit");var _o292=Qo(i,this.context);if(this["#paint-type-heading"].disabled=!1,"solid"===_e918){var _iterator827=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step827;try{for(_iterator827.s();!(_step827=_iterator827.n()).done;){var _t1261=_step827.value;_t1261.disabled=!1,"solid"===_t1261.value?(_t1261.toggled=!0,_t1261.mixed=_o292):(_t1261.toggled=!1,_t1261.mixed=!1);}}catch(err){_iterator827.e(err);}finally{_iterator827.f();}}else if("linearGradient"===_e918){var _iterator828=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step828;try{for(_iterator828.s();!(_step828=_iterator828.n()).done;){var _t1262=_step828.value;_t1262.disabled=!1,"linear-gradient"===_t1262.value?(_t1262.toggled=!0,_t1262.mixed=_o292):(_t1262.toggled=!1,_t1262.mixed=!1);}}catch(err){_iterator828.e(err);}finally{_iterator828.f();}}else if("radialGradient"===_e918){var _iterator829=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step829;try{for(_iterator829.s();!(_step829=_iterator829.n()).done;){var _t1263=_step829.value;_t1263.disabled=!1,"radial-gradient"===_t1263.value?(_t1263.toggled=!0,_t1263.mixed=_o292):(_t1263.toggled=!1,_t1263.mixed=!1);}}catch(err){_iterator829.e(err);}finally{_iterator829.f();}}else if("pattern"===_e918){var _iterator830=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step830;try{for(_iterator830.s();!(_step830=_iterator830.n()).done;){var _t1264=_step830.value;_t1264.disabled=!1,"pattern"===_t1264.value?(_t1264.toggled=!0,_t1264.mixed=_o292):(_t1264.toggled=!1,_t1264.mixed=!1);}}catch(err){_iterator830.e(err);}finally{_iterator830.f();}}else if("inherit"===_e918){var _iterator831=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step831;try{for(_iterator831.s();!(_step831=_iterator831.n()).done;){var _t1265=_step831.value;_t1265.disabled=!1,"inherit"===_t1265.value?(_t1265.toggled=!0,_t1265.mixed=_o292):(_t1265.toggled=!1,_t1265.mixed=!1);}}catch(err){_iterator831.e(err);}finally{_iterator831.f();}}else if("none"===_e918){var _iterator832=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step832;try{for(_iterator832.s();!(_step832=_iterator832.n()).done;){var _t1266=_step832.value;_t1266.disabled=!1,"none"===_t1266.value?(_t1266.toggled=!0,_t1266.mixed=_o292):(_t1266.toggled=!1,_t1266.mixed=!1);}}catch(err){_iterator832.e(err);}finally{_iterator832.f();}}}else{this["#paint-type-heading"].disabled=!0;var _iterator833=_createForOfIteratorHelper(this["#paint-type-buttons"].children),_step833;try{for(_iterator833.s();!(_step833=_iterator833.n()).done;){var _t1267=_step833.value;_t1267.disabled=!0,_t1267.toggled=!1,_t1267.mixed=!1;}}catch(err){_iterator833.e(err);}finally{_iterator833.f();}}if("solid"===n?(this["#color-select-section"].hidden=!1,this["#color-select"].enabled=!0,this["#color-select"].mixed=Qo(i,this.context),this["#color-select"].value=o?o.id:null,this["#color-unlink-button"].hidden=null===o):(this["#color-select-section"].hidden=!0,this["#color-select"].enabled=!1),"linearGradient"===n||"radialGradient"===n){var _t1268=_o(o);this["#gradient-select-section"].hidden=!1,this["#gradient-select"].enabled=!0,this["#gradient-select"].mixed=Qo(i,this.context),this["#gradient-select"].value=_t1268?_t1268.id:null,this["#gradient-unlink-button"].hidden=!1===this.Yx();}else this["#gradient-select-section"].hidden=!0,this["#gradient-select"].enabled=!1;if("pattern"===n){var _e919=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern"));_e919=_e919.filter(function(t){return!1===t.hasAttribute("href");});var _s531=Uo(o);this["#pattern-select-section"].hidden=!1,this["#pattern-select"].enabled=!0,this["#pattern-select"].mixed=Qo(i,this.context),this["#pattern-select"].value=_s531?_s531.id:null;}else this["#pattern-select-section"].hidden=!0,this["#pattern-select"].mixed=!1,this["#pattern-select"].enabled=!1;if("solid"===n){var _t1269=getComputedStyle(s)[this.context],_e920=Qo(i,this.context);if(!1===yo(_t1269)){var _e921=lo.fromString(_t1269),_i887=this.Js.board.masterWorkspace.querySelector(_e921.value);_t1269=Io(_i887);}this["#color-section"].hidden=!1,this["#color-section"].style.marginTop="11px",this["#color-section-heading"].hidden=!0,this["#color-picker"].hidden=!1,this["#color-picker"].value=_t1269,this["#color-picker"].mixed=_e920,this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0;}else if("linearGradient"===n||"radialGradient"===n){var _e922=Qo(i,this.context),_s532=t["".concat(n,"Hud")].selectedStops;this["#color-section"].hidden=!1,this["#color-section"].style.marginTop=null,this["#color-section-heading"].hidden=!1,this["#color-section-heading"].textContent="Stop color",0===_s532.length?(this["#color-picker"].hidden=!0,this["#color-picker-type-buttons"].hidden=!0,this["#color-picker-hint"].hidden=!1):(this["#color-picker"].hidden=!1,this["#color-picker"].mixed=_e922,this["#color-picker"].value=getComputedStyle(_s532[0]).stopColor||"#000",this["#color-picker-type-buttons"].hidden=!1,this["#color-picker-hint"].hidden=!0);}else this["#color-section"].hidden=!0;if(!1===this.kx)if("linearGradient"===n||"radialGradient"===n){var _e923=t["".concat(n,"Hud")].selectedStops;if(0===_e923.length)this["#stop-opacity-section"].hidden=!0;else{var _t1270=_e923.map(function(t){return getComputedStyle(t).stopOpacity;}),_i888=!1===ii(_t1270,_t1270[0]);this["#stop-opacity-section"].hidden=!1,this["#stop-opacity-slider"].value=_t1270[0],this["#stop-opacity-input"].mixed=_i888,this["#stop-opacity-input"].value=_t1270[0];}}else this["#stop-opacity-section"].hidden=!0;if("linearGradient"===n||"radialGradient"===n){this["#spread-method-section"].hidden=!1;var _t1271=o,_e924=!1;var _iterator834=_createForOfIteratorHelper(i),_step834;try{for(_iterator834.s();!(_step834=_iterator834.n()).done;){var _s533=_step834.value;var _i889=Ko(_s533,this.context);_i889&&_i889.localName.endsWith("Gradient")&&_i889.spreadMethod.baseVal!==_t1271.spreadMethod.baseVal&&(_e924=!0);}}catch(err){_iterator834.e(err);}finally{_iterator834.f();}_t1271.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REPEAT?(this["#repeat-spread-method-button"].toggled=!0,this["#repeat-spread-method-button"].mixed=_e924,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1271.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_PAD?(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!0,this["#pad-spread-method-button"].mixed=_e924,this["#reflect-spread-method-button"].toggled=!1,this["#reflect-spread-method-button"].mixed=!1):_t1271.spreadMethod.baseVal===SVGGradientElement.SVG_SPREADMETHOD_REFLECT&&(this["#repeat-spread-method-button"].toggled=!1,this["#repeat-spread-method-button"].mixed=!1,this["#pad-spread-method-button"].toggled=!1,this["#pad-spread-method-button"].mixed=!1,this["#reflect-spread-method-button"].toggled=!0,this["#reflect-spread-method-button"].mixed=_e924);}else this["#spread-method-section"].hidden=!0;if(s){if("none"===n)this["#paint-order-section"].hidden=!0;else{var _t1272=getComputedStyle(s).paintOrder;if("normal"===_t1272)_t1272=["fill","stroke","markers"];else{_t1272=_t1272.split(" ");for(var _i890=0,_arr40=["fill","stroke","markers"];_i890<_arr40.length;_i890++){var _e925=_arr40[_i890];!1===_t1272.includes(_e925)&&_t1272.push(_e925);}}this["#paint-order-section"].hidden=!1,this["#paint-order-switch"].value=_t1272;}}else this["#paint-order-section"].hidden=!0;}},{key:"Yx",value:function Yx(){var _this482=this;var t=this.Js.board,e=t.selectedTextRange,i=[];var _iterator835=_createForOfIteratorHelper(this.Hx()),_step835;try{for(_iterator835.s();!(_step835=_iterator835.n()).done;){var _t1273=_step835.value;if("text"===_t1273.localName){var _s534=gi(_t1273);if(e&&e.intersectsNode(_t1273)){"backward"===e.direction&&_s534.reverse();var _iterator836=_createForOfIteratorHelper(_s534),_step836;try{for(_iterator836.s();!(_step836=_iterator836.n()).done;){var _t1274=_step836.value;e.intersectsNode(_t1274)&&!1===i.includes(_t1274.parentElement)&&i.push(_t1274.parentElement);}}catch(err){_iterator836.e(err);}finally{_iterator836.f();}}else{var _iterator837=_createForOfIteratorHelper(_s534),_step837;try{for(_iterator837.s();!(_step837=_iterator837.n()).done;){var _t1275=_step837.value;!1===i.includes(_t1275.parentElement)&&i.push(_t1275.parentElement);}}catch(err){_iterator837.e(err);}finally{_iterator837.f();}}}else i.push(_t1273);}}catch(err){_iterator835.e(err);}finally{_iterator835.f();}return i=i.filter(function(e){var i=Zo(e,_this482.context);if("linearGradient"===i||"radialGradient"===i){var _i891=Jo(t.masterWorkspace,getComputedStyle(e)[_this482.context]);if(_o(_i891))return!0;}return!1;}),i.length>0;}},{key:"Hx",value:function Hx(){var t=[],e=function e(i){var _iterator838=_createForOfIteratorHelper(i),_step838;try{for(_iterator838.s();!(_step838=_iterator838.n()).done;){var _s535=_step838.value;w.includes(_s535.localName)||"use"===_s535.localName?t.push(_s535):"g"!==_s535.localName&&"a"!==_s535.localName||e(_s535.children);}}catch(err){_iterator838.e(err);}finally{_iterator838.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yx,"observedAttributes",["enabled","context"]);_defineProperty(yx,"_shadowTemplate",qi(_templateObject266()));_defineProperty(yx,"_shadowStyleSheet",Xi(_templateObject267()));customElements.define("bx-paintinspector",yx);var kx=Number.parseFloat;var Sx=/*#__PURE__*/function(_HTMLElement73){_inherits(Sx,_HTMLElement73);var _super102=_createSuper(Sx);_createClass(Sx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Sx(){var _this483;_classCallCheck(this,Sx);_this483=_super102.call(this),_this483._h=Ki(_this483.qs,200,_assertThisInitialized(_this483)),_this483.Wx=!1,_this483._shadowRoot=_this483.attachShadow({mode:"closed"}),_this483._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Sx._shadowStyleSheet],_this483._shadowRoot.append(document.importNode(Sx._shadowTemplate.content,!0));var _iterator839=_createForOfIteratorHelper(_this483._shadowRoot.querySelectorAll("[id]")),_step839;try{for(_iterator839.s();!(_step839=_iterator839.n()).done;){var _t1276=_step839.value;_this483["#"+_t1276.id]=_t1276;}}catch(err){_iterator839.e(err);}finally{_iterator839.f();}_this483["#opacity-section"].addEventListener("changestart",function(){return _this483.qx();}),_this483["#rule-buttons"].addEventListener("toggle",function(t){return _this483.Xx(t);});return _this483;}_createClass(Sx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this484=this;this["#fill-paint-inspector"].enabled=!0,this._h(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this484.Jo();}),this.Js.board.addEventListener("selectedtextrangechange",this.Ha=function(){_this484.Ya();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this484.sl(t);});}},{key:"sn",value:function sn(){this["#fill-paint-inspector"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("selectedtextrangechange",this.Ha),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this._h();}},{key:"Ya",value:function Ya(){this._h();}},{key:"sl",value:function sl(t){this._h();}},{key:"qx",value:function qx(){var _this485=this;this.Js.board.undoManager.checkpoint("Fill opacity");var t,_e926,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator840=_createForOfIteratorHelper(s),_step840;try{for(_iterator840.s();!(_step840=_iterator840.n()).done;){var _t1281=_step840.value;ui(_t1281,n);}}catch(err){_iterator840.e(err);}finally{_iterator840.f();}var _iterator841=_createForOfIteratorHelper(i),_step841;try{for(_iterator841.s();!(_step841=_iterator841.n()).done;){var _t1282=_step841.value;if("text"===_t1282.localName){var _e927=_t1282.querySelectorAll("tspan"),_i892=bi(n,_t1282),_s536=_i892.length>0&&!n.collapsed?_i892:_e927;o.push.apply(o,_toConsumableArray(_s536));}else o.push(_t1282);}}catch(err){_iterator841.e(err);}finally{_iterator841.f();}this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1278){_t1278.target===_this485["#opacity-slider"]?_this485["#opacity-input"].value=_this485["#opacity-slider"].value:_t1278.target===_this485["#opacity-input"]&&(_this485["#opacity-slider"].value=_this485["#opacity-input"].value),_this485["#opacity-slider"].mixed=!1,_this485["#opacity-input"].mixed=!1;var _iterator842=_createForOfIteratorHelper(o),_step842;try{for(_iterator842.s();!(_step842=_iterator842.n()).done;){var _t1277=_step842.value;_t1277.style.setProperty("fill-opacity",_this485["#opacity-slider"].value);}}catch(err){_iterator842.e(err);}finally{_iterator842.f();}}),this["#opacity-section"].addEventListener("changeend",_e926=function e(){_this485["#opacity-section"].removeEventListener("change",t),_this485["#opacity-section"].removeEventListener("changeend",_e926),_this485.Wx=!1;var _iterator843=_createForOfIteratorHelper(o),_step843;try{for(_iterator843.s();!(_step843=_iterator843.n()).done;){var _t1279=_step843.value;Sh("fill-opacity",_t1279);}}catch(err){_iterator843.e(err);}finally{_iterator843.f();}var _iterator844=_createForOfIteratorHelper(s),_step844;try{for(_iterator844.s();!(_step844=_iterator844.n()).done;){var _t1280=_step844.value;xi(_t1280,n);}}catch(err){_iterator844.e(err);}finally{_iterator844.f();}});}},{key:"Xx",value:function Xx(t){var e=this.Hx(),i=e.filter(function(t){return"text"===t.localName;}),s=this.Js.board.selectedTextRange,n=[];this.Js.board.undoManager.checkpoint("Fill rule");var _iterator845=_createForOfIteratorHelper(i),_step845;try{for(_iterator845.s();!(_step845=_iterator845.n()).done;){var _t1284=_step845.value;ui(_t1284,s);}}catch(err){_iterator845.e(err);}finally{_iterator845.f();}var _iterator846=_createForOfIteratorHelper(e),_step846;try{for(_iterator846.s();!(_step846=_iterator846.n()).done;){var _t1285=_step846.value;if("text"===_t1285.localName&&_t1285.querySelector("tspan")){var _e928=_t1285.querySelectorAll("tspan"),_i894=bi(s,_t1285),_o293=_i894.length>0&&!s.collapsed?_i894:_e928;n.push.apply(n,_toConsumableArray(_o293));}else n.push(_t1285);}}catch(err){_iterator846.e(err);}finally{_iterator846.f();}for(var _i893=0,_n380=n;_i893<_n380.length;_i893++){var _t1283=_n380[_i893];_t1283.style.setProperty("fill-rule",this["#rule-buttons"].value),_t1283.hasAttribute("d")&&_t1283.setAttribute("d",_t1283.getAttribute("d"));}var _iterator847=_createForOfIteratorHelper(i),_step847;try{for(_iterator847.s();!(_step847=_iterator847.n()).done;){var _t1286=_step847.value;xi(_t1286,s);}}catch(err){_iterator847.e(err);}finally{_iterator847.f();}}},{key:"qs",value:function qs(){var t=[],e=this.Js.board.selectedTextRange,i=Symbol();var _iterator848=_createForOfIteratorHelper(this.Hx()),_step848;try{for(_iterator848.s();!(_step848=_iterator848.n()).done;){var _i896=_step848.value;if("text"===_i896.localName){var _s539=gi(_i896);if(e&&e.intersectsNode(_i896)){"backward"===e.direction&&_s539.reverse();var _iterator851=_createForOfIteratorHelper(_s539),_step851;try{for(_iterator851.s();!(_step851=_iterator851.n()).done;){var _i897=_step851.value;e.intersectsNode(_i897)&&!1===t.includes(_i897.parentElement)&&t.push(_i897.parentElement);}}catch(err){_iterator851.e(err);}finally{_iterator851.f();}}else{var _iterator852=_createForOfIteratorHelper(_s539),_step852;try{for(_iterator852.s();!(_step852=_iterator852.n()).done;){var _e932=_step852.value;!1===t.includes(_e932.parentElement)&&t.push(_e932.parentElement);}}catch(err){_iterator852.e(err);}finally{_iterator852.f();}}}else t.push(_i896);}}catch(err){_iterator848.e(err);}finally{_iterator848.f();}for(var _i895=0,_t1287=t;_i895<_t1287.length;_i895++){var _e929=_t1287[_i895];_e929[i]=getComputedStyle(_e929);}var s=t[0],n=t.slice(1);if(this["#panel-heading"].disabled=void 0===s,!1===this.Wx)if(s){var _t1288=s[i].fillOpacity,_e930=K(kx(_t1288),2),_o294=!1;var _iterator849=_createForOfIteratorHelper(n),_step849;try{for(_iterator849.s();!(_step849=_iterator849.n()).done;){var _t1289=_step849.value;var _s537=_t1289[i].fillOpacity;if(K(kx(_s537),2)!==_e930){_o294=!0;break;}}}catch(err){_iterator849.e(err);}finally{_iterator849.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_e930,this["#opacity-slider"].mixed=_o294,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_e930;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;if(s){var _t1290=!1,_e931=s[i].fillRule;var _iterator850=_createForOfIteratorHelper(n),_step850;try{for(_iterator850.s();!(_step850=_iterator850.n()).done;){var _s538=_step850.value;_s538[i].fillRule!==_e931&&(_t1290=!0);}}catch(err){_iterator850.e(err);}finally{_iterator850.f();}this["#rule-section-heading"].disabled=!1,this["#non-zero-rule-button"].disabled=!1,this["#even-odd-rule-button"].disabled=!1,"evenodd"===_e931?(this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].toggled=!0,this["#even-odd-rule-button"].mixed=_t1290):"nonzero"===_e931&&(this["#non-zero-rule-button"].toggled=!0,this["#non-zero-rule-button"].mixed=_t1290,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1);}else this["#rule-section-heading"].disabled=!0,this["#non-zero-rule-button"].disabled=!0,this["#non-zero-rule-button"].toggled=!1,this["#non-zero-rule-button"].mixed=!1,this["#even-odd-rule-button"].disabled=!0,this["#even-odd-rule-button"].toggled=!1,this["#even-odd-rule-button"].mixed=!1;}},{key:"Hx",value:function Hx(){var t=[],e=function e(i){var _iterator853=_createForOfIteratorHelper(i),_step853;try{for(_iterator853.s();!(_step853=_iterator853.n()).done;){var _s540=_step853.value;w.includes(_s540.localName)||"use"===_s540.localName?t.push(_s540):"g"!==_s540.localName&&"a"!==_s540.localName||e(_s540.children);}}catch(err){_iterator853.e(err);}finally{_iterator853.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return Sx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Sx,"observedAttributes",["enabled"]);_defineProperty(Sx,"_shadowTemplate",qi(_templateObject268()));_defineProperty(Sx,"_shadowStyleSheet",Xi(_templateObject269()));customElements.define("bx-fillpanel",Sx);var _x=/*#__PURE__*/function(_HTMLElement74){_inherits(_x,_HTMLElement74);var _super103=_createSuper(_x);_createClass(_x,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function _x(){var _this486;_classCallCheck(this,_x);_this486=_super103.call(this),_this486._h=Ki(_this486.qs,200,_assertThisInitialized(_this486)),_this486.Zx=Qi(_this486.Kx,600,_assertThisInitialized(_this486)),_this486._shadowRoot=_this486.attachShadow({mode:"closed",delegatesFocus:!0}),_this486._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,_x._shadowStyleSheet],_this486._shadowRoot.append(document.importNode(_x._shadowTemplate.content,!0));var _iterator854=_createForOfIteratorHelper(_this486._shadowRoot.querySelectorAll("[id]")),_step854;try{for(_iterator854.s();!(_step854=_iterator854.n()).done;){var _t1291=_step854.value;_this486["#"+_t1291.id]=_t1291;}}catch(err){_iterator854.e(err);}finally{_iterator854.f();}_this486.addEventListener("keydown",function(t){return _this486.vn(t);}),_this486["#button"].addEventListener("pointerdown",function(t){return _this486.Qx(t);}),_this486["#popover"].addEventListener("open",function(){return _this486.Mu();}),_this486["#items"].addEventListener("click",function(t){return _this486.Jc(t);}),_this486["#items"].addEventListener("dblclick",function(t){return _this486.Pu(t);}),_this486["#clear-button"].addEventListener("click",function(t){return _this486.Jx(t);}),_this486["#manage-button"].addEventListener("click",function(t){return _this486.Du(t);});return _this486;}_createClass(_x,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this487=this;this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this487.sl(t.detail);});}},{key:"sn",value:function sn(){this["#button"].collapse(),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"vu",value:function vu(){this.Au(),this.tb(),this.$u();}},{key:"sl",value:function sl(){this._h();}},{key:"Qx",value:function Qx(t){t.preventDefault();}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1292=e.getAttribute("data-value");_t1292!==this.value&&(this.value=_t1292,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){this["#button"].collapse();var _t1293=e.getAttribute("data-value");this.Js.board.editMarker(_t1293);}}},{key:"Jx",value:function Jx(t){0===t.button&&null!==this.value&&(this.value=null,this.dispatchEvent(new CustomEvent("change")));}},{key:"Du",value:function Du(t){0===t.button&&(this["#button"].collapse(),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("markers-browser"));}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.Au(),this.tb(),this.Gu();}},{key:"Au",value:function Au(){if(null===this.value)this["#button-thumbnail"].setAttribute("hidden","");else{this["#button-thumbnail"].removeAttribute("hidden");var _t1294=this["#items"].querySelector(":scope > [data-value=\"".concat(this.value,"\"]"));this["#button-thumbnail"].innerHTML=_t1294.innerHTML;}}},{key:"tb",value:function tb(){this["#clear-button"].disabled=null===this.value;}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),e="";var _iterator855=_createForOfIteratorHelper(t),_step855;try{for(_iterator855.s();!(_step855=_iterator855.n()).done;){var _i898=_step855.value;var _t1295=_i898.hasAttribute("viewBox")?"viewBox=\"".concat(_i898.getAttribute("viewBox"),"\""):"";e+="\n        <div class=\"item\" data-value=\"".concat(_i898.id,"\">\n          <svg class=\"thumbnail\" part=\"thumbnail\" preserveAspectRatio=\"xMidYMid\" ").concat(_t1295,">\n            ").concat(_i898.innerHTML,"\n          </svg>\n          <div class=\"label\">#").concat(_i898.id,"</div>\n        </div>\n      ");}}catch(err){_iterator855.e(err);}finally{_iterator855.f();}this["#items"].innerHTML=e,this["#placeholder"].hidden=this["#items"].childElementCount>0,this.$u();}},{key:"$u",value:function $u(){var _iterator856=_createForOfIteratorHelper(this["#items"].children),_step856;try{for(_iterator856.s();!(_step856=_iterator856.n()).done;){var _t1296=_step856.value;_t1296.getAttribute("data-value")===this.value?_t1296.setAttribute("data-selected",""):_t1296.removeAttribute("data-selected");}}catch(err){_iterator856.e(err);}finally{_iterator856.f();}}},{key:"Bu",value:function Bu(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.previousElementSibling?e=t.previousElementSibling:this["#items"].lastElementChild!==t&&(e=this["#items"].lastElementChild):this["#items"].lastElementChild&&(e=this["#items"].lastElementChild),e&&(this.value=e.getAttribute("data-value"),this.Zx());}},{key:"Ru",value:function Ru(){var t=this["#items"].querySelector(".item[data-selected]"),e=null;t?t.nextElementSibling?e=t.nextElementSibling:this["#items"].firstElementChild!==t&&(e=this["#items"].firstElementChild):this["#items"].firstElementChild&&(e=this["#items"].firstElementChild),e&&(this.value=e.getAttribute("data-value"),this.Zx());}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Kx",value:function Kx(){this.dispatchEvent(new CustomEvent("change"));}}]);return _x;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_x,"observedAttributes",["enabled","value"]);_defineProperty(_x,"_shadowTemplate",qi(_templateObject270()));_defineProperty(_x,"_shadowStyleSheet",Xi(_templateObject271()));customElements.define("bx-markerselect",_x);var Cx=Math.abs,Mx=Number.parseFloat,Px=["none","2px","4px","5px","8px","10px","20px","30px","1px, 4px","5px, 10px"],Dx=Px.map(function(t){return"\n    <x-menuitem value=\"".concat(t,"\">\n      <svg viewBox=\"0 0 100 20\" preserveAspectRatio=\"none\" style=\"width: 195px; height: 20px; display: block;\">\n        <path\n          d=\"M 0 10 L 100 10\"\n          style=\"stroke-dasharray: ").concat(t,"; stroke: currentColor; vector-effect: non-scaling-stroke;\">\n        </path>\n      </svg>\n    </x-menuitem>\n  ");}).join("");var zx=/*#__PURE__*/function(_HTMLElement75){_inherits(zx,_HTMLElement75);var _super104=_createSuper(zx);_createClass(zx,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function zx(){var _this488;_classCallCheck(this,zx);_this488=_super104.call(this),_this488._h=Ki(_this488.qs,200,_assertThisInitialized(_this488)),_this488.Wx=!1,_this488.eb=!1,_this488.ib=!1,_this488.sb=!1,_this488.nb=!1,_this488._shadowRoot=_this488.attachShadow({mode:"closed"}),_this488._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,zx._shadowStyleSheet],_this488._shadowRoot.append(document.importNode(zx._shadowTemplate.content,!0));var _iterator857=_createForOfIteratorHelper(_this488._shadowRoot.querySelectorAll("[id]")),_step857;try{for(_iterator857.s();!(_step857=_iterator857.n()).done;){var _t1297=_step857.value;_this488["#"+_t1297.id]=_t1297;}}catch(err){_iterator857.e(err);}finally{_iterator857.f();}_this488["#opacity-section"].addEventListener("changestart",function(){return _this488.qx();}),_this488["#width-box"].addEventListener("changestart",function(){return _this488.ob();}),_this488["#non-scaling-stroke-checkbox"].addEventListener("toggle",function(){return _this488.lb();}),_this488["#line-cap-buttons"].addEventListener("toggle",function(){return _this488.ab();}),_this488["#line-join-buttons"].addEventListener("toggle",function(){return _this488.hb();}),_this488["#miter-limit-box"].addEventListener("changestart",function(){return _this488.rb();}),_this488["#dash-array-select"].addEventListener("change",function(){return _this488.cb();}),_this488["#dash-array-inputs"].addEventListener("changestart",function(t){return _this488.pb(t);}),_this488["#dash-offset-box"].addEventListener("changestart",function(){return _this488.ub();}),_this488["#marker-start-select"].addEventListener("change",function(t){return _this488.xb(t);}),_this488["#marker-mid-select"].addEventListener("change",function(t){return _this488.xb(t);}),_this488["#marker-end-select"].addEventListener("change",function(t){return _this488.xb(t);});return _this488;}_createClass(zx,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this489=this;this["#stroke-paint-inspector"].enabled=!0,this._h(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this489.Jo();}),this.Js.board.addEventListener("selectedtextrangechange",this.Ha=function(){_this489.Ya();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this489.sl(t);});}},{key:"sn",value:function sn(){this["#stroke-paint-inspector"].enabled=!1,this["#marker-start-select"].enabled=!1,this["#marker-mid-select"].enabled=!1,this["#marker-end-select"].enabled=!1,this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("selectedtextrangechange",this.Ha),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this._h();}},{key:"Ya",value:function Ya(){this._h();}},{key:"sl",value:function sl(t){this._h();}},{key:"qx",value:function qx(){var _this490=this;this.Js.board.undoManager.checkpoint("Stroke opacity");var t,_e933,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator858=_createForOfIteratorHelper(s),_step858;try{for(_iterator858.s();!(_step858=_iterator858.n()).done;){var _t1302=_step858.value;ui(_t1302,n);}}catch(err){_iterator858.e(err);}finally{_iterator858.f();}var _iterator859=_createForOfIteratorHelper(i),_step859;try{for(_iterator859.s();!(_step859=_iterator859.n()).done;){var _t1303=_step859.value;if("text"===_t1303.localName){var _e934=_t1303.querySelectorAll("tspan"),_i899=bi(n,_t1303),_s541=_i899.length>0&&!n.collapsed?_i899:_e934;o.push.apply(o,_toConsumableArray(_s541));}else o.push(_t1303);}}catch(err){_iterator859.e(err);}finally{_iterator859.f();}this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1299){_t1299.target===_this490["#opacity-slider"]?_this490["#opacity-input"].value=_this490["#opacity-slider"].value:_t1299.target===_this490["#opacity-input"]&&(_this490["#opacity-slider"].value=_this490["#opacity-input"].value),_this490["#opacity-slider"].mixed=!1,_this490["#opacity-input"].mixed=!1;var _iterator860=_createForOfIteratorHelper(o),_step860;try{for(_iterator860.s();!(_step860=_iterator860.n()).done;){var _t1298=_step860.value;_t1298.style.setProperty("stroke-opacity",_this490["#opacity-slider"].value);}}catch(err){_iterator860.e(err);}finally{_iterator860.f();}}),this["#opacity-section"].addEventListener("changeend",_e933=function e(){_this490["#opacity-section"].removeEventListener("change",t),_this490["#opacity-section"].removeEventListener("changeend",_e933),_this490.Wx=!1;var _iterator861=_createForOfIteratorHelper(o),_step861;try{for(_iterator861.s();!(_step861=_iterator861.n()).done;){var _t1300=_step861.value;Sh("stroke-opacity",_t1300);}}catch(err){_iterator861.e(err);}finally{_iterator861.f();}var _iterator862=_createForOfIteratorHelper(s),_step862;try{for(_iterator862.s();!(_step862=_iterator862.n()).done;){var _t1301=_step862.value;xi(_t1301,n);}}catch(err){_iterator862.e(err);}finally{_iterator862.f();}});}},{key:"ob",value:function ob(){var _this491=this;this.Js.board.undoManager.checkpoint("Stroke width");var t,_e935,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[],l=Symbol();var _iterator863=_createForOfIteratorHelper(s),_step863;try{for(_iterator863.s();!(_step863=_iterator863.n()).done;){var _t1308=_step863.value;ui(_t1308,n);}}catch(err){_iterator863.e(err);}finally{_iterator863.f();}var _iterator864=_createForOfIteratorHelper(i),_step864;try{for(_iterator864.s();!(_step864=_iterator864.n()).done;){var _t1309=_step864.value;var _e936=jt(_t1309,this.Js.board.masterWorkspace),_Nl19=Nl(_e936),_i900=_Nl19.scaleX,_s542=_Nl19.scaleY,_a200=(Cx(_i900)+Cx(_s542))/2;if("text"===_t1309.localName&&_t1309.querySelector("tspan")){var _e937=_t1309.querySelectorAll("tspan"),_i901=bi(n,_t1309),_s543=_i901.length>0&&!n.collapsed?_i901:_e937;var _iterator868=_createForOfIteratorHelper(_s543),_step868;try{for(_iterator868.s();!(_step868=_iterator868.n()).done;){var _t1310=_step868.value;var _e938=getComputedStyle(_t1310).getPropertyValue("vector-effect");_t1310[l]="non-scaling-stroke"===_e938?1:_a200,o.push(_t1310);}}catch(err){_iterator868.e(err);}finally{_iterator868.f();}}else{var _e939=getComputedStyle(_t1309).getPropertyValue("vector-effect");_t1309[l]="non-scaling-stroke"===_e939?1:_a200,o.push(_t1309);}}}catch(err){_iterator864.e(err);}finally{_iterator864.f();}this.eb=!0,this["#width-section"].addEventListener("change",t=function t(_t1305){_t1305.target===_this491["#width-slider"]?_this491["#width-input"].value=_this491["#width-slider"].value:_t1305.target===_this491["#width-input"]&&(_this491["#width-slider"].value=_this491["#width-input"].value),_this491["#width-slider"].mixed=!1,_this491["#width-input"].mixed=!1;var _iterator865=_createForOfIteratorHelper(o),_step865;try{for(_iterator865.s();!(_step865=_iterator865.n()).done;){var _t1304=_step865.value;_t1304.style.setProperty("stroke-width",_this491["#width-input"].value/_t1304[l]+"px");}}catch(err){_iterator865.e(err);}finally{_iterator865.f();}}),this["#width-section"].addEventListener("changeend",_e935=function e(){_this491["#width-section"].removeEventListener("change",t),_this491["#width-section"].removeEventListener("changeend",_e935),_this491.eb=!1;var _iterator866=_createForOfIteratorHelper(o),_step866;try{for(_iterator866.s();!(_step866=_iterator866.n()).done;){var _t1306=_step866.value;Sh("stroke-width",_t1306);}}catch(err){_iterator866.e(err);}finally{_iterator866.f();}var _iterator867=_createForOfIteratorHelper(s),_step867;try{for(_iterator867.s();!(_step867=_iterator867.n()).done;){var _t1307=_step867.value;xi(_t1307,n);}}catch(err){_iterator867.e(err);}finally{_iterator867.f();}});}},{key:"rb",value:function rb(){var _this492=this;this.Js.board.undoManager.checkpoint("Miter limit");var t,_e940,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator869=_createForOfIteratorHelper(s),_step869;try{for(_iterator869.s();!(_step869=_iterator869.n()).done;){var _t1315=_step869.value;ui(_t1315,n);}}catch(err){_iterator869.e(err);}finally{_iterator869.f();}var _iterator870=_createForOfIteratorHelper(i),_step870;try{for(_iterator870.s();!(_step870=_iterator870.n()).done;){var _t1316=_step870.value;if("text"===_t1316.localName&&_t1316.querySelector("tspan")){var _e941=_t1316.querySelectorAll("tspan"),_i902=bi(n,_t1316),_s544=_i902.length>0&&!n.collapsed?_i902:_e941;var _iterator874=_createForOfIteratorHelper(_s544),_step874;try{for(_iterator874.s();!(_step874=_iterator874.n()).done;){var _t1317=_step874.value;o.push(_t1317);}}catch(err){_iterator874.e(err);}finally{_iterator874.f();}}else o.push(_t1316);}}catch(err){_iterator870.e(err);}finally{_iterator870.f();}o=o.filter(function(t){return"miter"===getComputedStyle(t).getPropertyValue("stroke-linejoin");}),this.sb=!0,this["#miter-limit-box"].addEventListener("change",t=function t(_t1312){_t1312.target===_this492["#miter-limit-slider"]?_this492["#miter-limit-input"].value=_this492["#miter-limit-slider"].value:_t1312.target===_this492["#width-input"]&&(_this492["#miter-limit-slider"].value=_this492["#miter-limit-input"].value),_this492["#miter-limit-slider"].mixed=!1,_this492["#miter-limit-input"].mixed=!1;var _iterator871=_createForOfIteratorHelper(o),_step871;try{for(_iterator871.s();!(_step871=_iterator871.n()).done;){var _t1311=_step871.value;_t1311.style.setProperty("stroke-miterlimit",_this492["#miter-limit-input"].value);}}catch(err){_iterator871.e(err);}finally{_iterator871.f();}}),this["#miter-limit-box"].addEventListener("changeend",_e940=function e(){_this492["#miter-limit-box"].removeEventListener("change",t),_this492["#miter-limit-box"].removeEventListener("changeend",_e940),_this492.sb=!1;var _iterator872=_createForOfIteratorHelper(o),_step872;try{for(_iterator872.s();!(_step872=_iterator872.n()).done;){var _t1313=_step872.value;Sh("stroke-miterlimit",_t1313);}}catch(err){_iterator872.e(err);}finally{_iterator872.f();}var _iterator873=_createForOfIteratorHelper(s),_step873;try{for(_iterator873.s();!(_step873=_iterator873.n()).done;){var _t1314=_step873.value;xi(_t1314,n);}}catch(err){_iterator873.e(err);}finally{_iterator873.f();}});}},{key:"ub",value:function ub(){var _this493=this;this.Js.board.undoManager.checkpoint("Dash offset");var t,_e942,i=this.Hx(),s=i.filter(function(t){return"text"===t.localName;}),n=this.Js.board.selectedTextRange,o=[];var _iterator875=_createForOfIteratorHelper(s),_step875;try{for(_iterator875.s();!(_step875=_iterator875.n()).done;){var _t1322=_step875.value;ui(_t1322,n);}}catch(err){_iterator875.e(err);}finally{_iterator875.f();}var _iterator876=_createForOfIteratorHelper(i),_step876;try{for(_iterator876.s();!(_step876=_iterator876.n()).done;){var _t1323=_step876.value;if("text"===_t1323.localName&&_t1323.querySelector("tspan")){var _e943=_t1323.querySelectorAll("tspan"),_i903=bi(n,_t1323),_s545=_i903.length>0&&!n.collapsed?_i903:_e943;var _iterator880=_createForOfIteratorHelper(_s545),_step880;try{for(_iterator880.s();!(_step880=_iterator880.n()).done;){var _t1324=_step880.value;o.push(_t1324);}}catch(err){_iterator880.e(err);}finally{_iterator880.f();}}else o.push(_t1323);}}catch(err){_iterator876.e(err);}finally{_iterator876.f();}this.nb=!0,this["#dash-offset-box"].addEventListener("change",t=function t(_t1319){_t1319.target===_this493["#dash-offset-slider"]?_this493["#dash-offset-input"].value=_this493["#dash-offset-slider"].value:_t1319.target===_this493["#width-input"]&&(_this493["#dash-offset-slider"].value=_this493["#dash-offset-input"].value),_this493["#dash-offset-slider"].mixed=!1,_this493["#dash-offset-input"].mixed=!1;var _iterator877=_createForOfIteratorHelper(o),_step877;try{for(_iterator877.s();!(_step877=_iterator877.n()).done;){var _t1318=_step877.value;_t1318.style.setProperty("stroke-dashoffset",_this493["#dash-offset-input"].value+"px");}}catch(err){_iterator877.e(err);}finally{_iterator877.f();}}),this["#dash-offset-box"].addEventListener("changeend",_e942=function e(){_this493["#dash-offset-box"].removeEventListener("change",t),_this493["#dash-offset-box"].removeEventListener("changeend",_e942),_this493.nb=!1;var _iterator878=_createForOfIteratorHelper(o),_step878;try{for(_iterator878.s();!(_step878=_iterator878.n()).done;){var _t1320=_step878.value;Sh("stroke-dashoffset",_t1320);}}catch(err){_iterator878.e(err);}finally{_iterator878.f();}var _iterator879=_createForOfIteratorHelper(s),_step879;try{for(_iterator879.s();!(_step879=_iterator879.n()).done;){var _t1321=_step879.value;xi(_t1321,n);}}catch(err){_iterator879.e(err);}finally{_iterator879.f();}});}},{key:"cb",value:function cb(){this.Js.board.undoManager.checkpoint("Dash array");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator881=_createForOfIteratorHelper(e),_step881;try{for(_iterator881.s();!(_step881=_iterator881.n()).done;){var _t1326=_step881.value;ui(_t1326,i);}}catch(err){_iterator881.e(err);}finally{_iterator881.f();}var _iterator882=_createForOfIteratorHelper(t),_step882;try{for(_iterator882.s();!(_step882=_iterator882.n()).done;){var _e944=_step882.value;if("text"===_e944.localName&&_e944.querySelector("tspan")){var _t1327=_e944.querySelectorAll("tspan"),_n381=bi(i,_e944),_o295=_n381.length>0&&!i.collapsed?_n381:_t1327;var _iterator884=_createForOfIteratorHelper(_o295),_step884;try{for(_iterator884.s();!(_step884=_iterator884.n()).done;){var _t1328=_step884.value;s.push(_t1328);}}catch(err){_iterator884.e(err);}finally{_iterator884.f();}}else s.push(_e944);}}catch(err){_iterator882.e(err);}finally{_iterator882.f();}for(var _i904=0,_s546=s;_i904<_s546.length;_i904++){var _t1325=_s546[_i904];_t1325.style.setProperty("stroke-dasharray",this["#dash-array-select"].value),Sh("stroke-dasharray",_t1325);}var _iterator883=_createForOfIteratorHelper(e),_step883;try{for(_iterator883.s();!(_step883=_iterator883.n()).done;){var _t1329=_step883.value;xi(_t1329,i);}}catch(err){_iterator883.e(err);}finally{_iterator883.f();}}},{key:"pb",value:function pb(t){var _this494=this;this.Js.board.undoManager.checkpoint("Dash array");var e,_i905,s=this.Hx(),n=s.filter(function(t){return"text"===t.localName;}),o=this.Js.board.selectedTextRange,l=t.target,a=_toConsumableArray(this["#dash-array-inputs"].querySelectorAll("x-numberinput")),h=[];var _iterator885=_createForOfIteratorHelper(n),_step885;try{for(_iterator885.s();!(_step885=_iterator885.n()).done;){var _t1333=_step885.value;ui(_t1333,o);}}catch(err){_iterator885.e(err);}finally{_iterator885.f();}var _iterator886=_createForOfIteratorHelper(s),_step886;try{for(_iterator886.s();!(_step886=_iterator886.n()).done;){var _t1334=_step886.value;if("text"===_t1334.localName&&_t1334.querySelector("tspan")){var _e945=_t1334.querySelectorAll("tspan"),_i906=bi(o,_t1334),_s547=_i906.length>0&&!o.collapsed?_i906:_e945;var _iterator890=_createForOfIteratorHelper(_s547),_step890;try{for(_iterator890.s();!(_step890=_iterator890.n()).done;){var _t1335=_step890.value;h.push(_t1335);}}catch(err){_iterator890.e(err);}finally{_iterator890.f();}}else h.push(_t1334);}}catch(err){_iterator886.e(err);}finally{_iterator886.f();}this.ib=!0,l.addEventListener("change",e=function e(t){l.mixed=!1;var e=a.map(function(t){return t.value;}).join(" ").trim();var _iterator887=_createForOfIteratorHelper(h),_step887;try{for(_iterator887.s();!(_step887=_iterator887.n()).done;){var _t1330=_step887.value;_t1330.style.setProperty("stroke-dasharray",e);}}catch(err){_iterator887.e(err);}finally{_iterator887.f();}}),l.addEventListener("changeend",_i905=function i(){l.removeEventListener("change",e),l.removeEventListener("changeend",_i905),_this494.ib=!1;var _iterator888=_createForOfIteratorHelper(h),_step888;try{for(_iterator888.s();!(_step888=_iterator888.n()).done;){var _t1331=_step888.value;Sh("stroke-dasharray",_t1331);}}catch(err){_iterator888.e(err);}finally{_iterator888.f();}var _iterator889=_createForOfIteratorHelper(n),_step889;try{for(_iterator889.s();!(_step889=_iterator889.n()).done;){var _t1332=_step889.value;xi(_t1332,o);}}catch(err){_iterator889.e(err);}finally{_iterator889.f();}});}},{key:"lb",value:function lb(){this.Js.board.undoManager.checkpoint("Non-scaling stroke");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this["#non-scaling-stroke-checkbox"].toggled?"non-scaling-stroke":"none",s=this.Js.board.selectedTextRange,n=[];var _iterator891=_createForOfIteratorHelper(e),_step891;try{for(_iterator891.s();!(_step891=_iterator891.n()).done;){var _t1337=_step891.value;ui(_t1337,s);}}catch(err){_iterator891.e(err);}finally{_iterator891.f();}var _iterator892=_createForOfIteratorHelper(t),_step892;try{for(_iterator892.s();!(_step892=_iterator892.n()).done;){var _e946=_step892.value;if("text"===_e946.localName&&_e946.querySelector("tspan")&&s&&_e946.contains(s.commonAncestorContainer)){var _t1338=_e946.querySelectorAll("tspan"),_i908=bi(s,_e946),_o296=s.collapsed?_t1338:_i908;n.push.apply(n,_toConsumableArray(_o296));}else n.push(_e946);}}catch(err){_iterator892.e(err);}finally{_iterator892.f();}for(var _i907=0,_n382=n;_i907<_n382.length;_i907++){var _t1336=_n382[_i907];_t1336.style.setProperty("vector-effect",i),Sh("vector-effect",_t1336);}var _iterator893=_createForOfIteratorHelper(e),_step893;try{for(_iterator893.s();!(_step893=_iterator893.n()).done;){var _t1339=_step893.value;xi(_t1339,s);}}catch(err){_iterator893.e(err);}finally{_iterator893.f();}}},{key:"ab",value:function ab(){this.Js.board.undoManager.checkpoint("Line cap");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator894=_createForOfIteratorHelper(e),_step894;try{for(_iterator894.s();!(_step894=_iterator894.n()).done;){var _t1341=_step894.value;ui(_t1341,i);}}catch(err){_iterator894.e(err);}finally{_iterator894.f();}var _iterator895=_createForOfIteratorHelper(t),_step895;try{for(_iterator895.s();!(_step895=_iterator895.n()).done;){var _e947=_step895.value;if("text"===_e947.localName&&_e947.querySelector("tspan")){var _t1342=_e947.querySelectorAll("tspan"),_n383=bi(i,_e947),_o297=_n383.length>0&&!i.collapsed?_n383:_t1342;s.push.apply(s,_toConsumableArray(_o297));}else s.push(_e947);}}catch(err){_iterator895.e(err);}finally{_iterator895.f();}for(var _i909=0,_s548=s;_i909<_s548.length;_i909++){var _t1340=_s548[_i909];_t1340.style.setProperty("stroke-linecap",this["#line-cap-buttons"].value),Sh("stroke-linecap",_t1340);}var _iterator896=_createForOfIteratorHelper(e),_step896;try{for(_iterator896.s();!(_step896=_iterator896.n()).done;){var _t1343=_step896.value;xi(_t1343,i);}}catch(err){_iterator896.e(err);}finally{_iterator896.f();}}},{key:"hb",value:function hb(){this.Js.board.undoManager.checkpoint("Line join");var t=this.Hx(),e=t.filter(function(t){return"text"===t.localName;}),i=this.Js.board.selectedTextRange,s=[];var _iterator897=_createForOfIteratorHelper(e),_step897;try{for(_iterator897.s();!(_step897=_iterator897.n()).done;){var _t1345=_step897.value;ui(_t1345,i);}}catch(err){_iterator897.e(err);}finally{_iterator897.f();}var _iterator898=_createForOfIteratorHelper(t),_step898;try{for(_iterator898.s();!(_step898=_iterator898.n()).done;){var _e948=_step898.value;if("text"===_e948.localName&&_e948.querySelector("tspan")){var _t1346=_e948.querySelectorAll("tspan"),_n384=bi(i,_e948),_o298=_n384.length>0&&!i.collapsed?_n384:_t1346;s.push.apply(s,_toConsumableArray(_o298));}else s.push(_e948);}}catch(err){_iterator898.e(err);}finally{_iterator898.f();}for(var _i910=0,_s549=s;_i910<_s549.length;_i910++){var _t1344=_s549[_i910];_t1344.style.setProperty("stroke-linejoin",this["#line-join-buttons"].value),Sh("stroke-linejoin",_t1344);}var _iterator899=_createForOfIteratorHelper(e),_step899;try{for(_iterator899.s();!(_step899=_iterator899.n()).done;){var _t1347=_step899.value;xi(_t1347,i);}}catch(err){_iterator899.e(err);}finally{_iterator899.f();}}},{key:"xb",value:function xb(t){this.Js.board.undoManager.checkpoint("Marker");var e=t.target,i=this.bb(),s="marker-"+e.dataset.position;var _iterator900=_createForOfIteratorHelper(i),_step900;try{for(_iterator900.s();!(_step900=_iterator900.n()).done;){var _t1348=_step900.value;_t1348.style.setProperty(s,null===e.value?"none":"url(\"#".concat(e.value,"\")")),Sh(s,_t1348);}}catch(err){_iterator900.e(err);}finally{_iterator900.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[],i=[],s=Symbol(),n=Symbol();{var _o299=t.selectedTextRange;var _iterator901=_createForOfIteratorHelper(this.Hx()),_step901;try{for(_iterator901.s();!(_step901=_iterator901.n()).done;){var _t1349=_step901.value;if("text"===_t1349.localName){var _s550=gi(_t1349);if(_o299&&_o299.intersectsNode(_t1349)){"backward"===_o299.direction&&_s550.reverse();var _iterator903=_createForOfIteratorHelper(_s550),_step903;try{for(_iterator903.s();!(_step903=_iterator903.n()).done;){var _t1350=_step903.value;_o299.intersectsNode(_t1350)&&(e.includes(_t1350.parentElement)||e.push(_t1350.parentElement),i.includes(_t1350.parentElement)||i.push(_t1350.parentElement));}}catch(err){_iterator903.e(err);}finally{_iterator903.f();}}else{var _iterator904=_createForOfIteratorHelper(_s550),_step904;try{for(_iterator904.s();!(_step904=_iterator904.n()).done;){var _t1351=_step904.value;!1===e.includes(_t1351.parentElement)&&e.push(_t1351.parentElement);}}catch(err){_iterator904.e(err);}finally{_iterator904.f();}i.push(_t1349);}}else e.push(_t1349),i.push(_t1349);}}catch(err){_iterator901.e(err);}finally{_iterator901.f();}var _iterator902=_createForOfIteratorHelper(new Set([].concat(e,i))),_step902;try{for(_iterator902.s();!(_step902=_iterator902.n()).done;){var _o300=_step902.value;var _e949=jt(_o300,t.masterWorkspace),_Nl20=Nl(_e949),_i911=_Nl20.scaleX,_l261=_Nl20.scaleY;_o300[s]=getComputedStyle(_o300),_o300[n]=(Cx(_i911)+Cx(_l261))/2;}}catch(err){_iterator902.e(err);}finally{_iterator902.f();}}{var _t1352=e[0],_i912=e.slice(1);this["#panel-heading"].disabled=void 0===_t1352;}if(!1===this.Wx){var _t1353=e[0],_i913=e.slice(1);if(_t1353){var _e950=_t1353[s].strokeOpacity,_n385=K(Mx(_e950),2),_o301=!1;var _iterator905=_createForOfIteratorHelper(_i913),_step905;try{for(_iterator905.s();!(_step905=_iterator905.n()).done;){var _t1354=_step905.value;var _e951=_t1354[s].strokeOpacity;if(K(Mx(_e951),2)!==_n385){_o301=!0;break;}}}catch(err){_iterator905.e(err);}finally{_iterator905.f();}this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].value=_n385,this["#opacity-slider"].mixed=_o301,this["#opacity-input"].disabled=!1,this["#opacity-input"].value=_n385;}else this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].mixed=!1,this["#opacity-input"].disabled=!0,this["#opacity-input"].value=1;}if(!1===this.eb&&!1===t.transformHud.isScaling){{var _t1355=e[0],_i914=e.slice(1);if(_t1355){var _e952=!1,_o302="non-scaling-stroke"===_t1355[s].getPropertyValue("vector-effect"),_l262=Mx(_t1355[s].getPropertyValue("stroke-width")),_a201=K(_t1355[n]*_l262,3);var _iterator906=_createForOfIteratorHelper(_i914),_step906;try{for(_iterator906.s();!(_step906=_iterator906.n()).done;){var _t1356=_step906.value;var _i915=Mx(_t1356[s].getPropertyValue("stroke-width"));if(_a201!==K(_t1356[n]*_i915,3)){_e952=!0;break;}}}catch(err){_iterator906.e(err);}finally{_iterator906.f();}this["#width-slider"].value=_o302?_l262:_a201,this["#width-slider"].disabled=!1,this["#width-slider"].mixed=_e952,this["#width-input"].value=_o302?_l262:_a201,this["#width-input"].disabled=!1;}else this["#width-slider"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].mixed=!1,this["#width-input"].value=0,this["#width-input"].disabled=!0;}{var _t1357=i[0],_e953=i.slice(1);if(_t1357){var _i916=_t1357[s].getPropertyValue("vector-effect"),_n386=!1;var _iterator907=_createForOfIteratorHelper(_e953),_step907;try{for(_iterator907.s();!(_step907=_iterator907.n()).done;){var _t1358=_step907.value;if(_t1358[s].getPropertyValue("vector-effect")!==_i916){_n386=!0;break;}}}catch(err){_iterator907.e(err);}finally{_iterator907.f();}this["#non-scaling-stroke-checkbox"].disabled=!1,this["#non-scaling-stroke-checkbox"].toggled="non-scaling-stroke"===_i916,this["#non-scaling-stroke-checkbox"].mixed=_n386;}else this["#non-scaling-stroke-checkbox"].disabled=!0,this["#non-scaling-stroke-checkbox"].toggled=!1,this["#non-scaling-stroke-checkbox"].mixed=!1;}this["#width-section-heading"].disabled=this["#width-slider"].disabled||this["#non-scaling-stroke-checkbox"].disabled;}if(!1===this.sb){{var _t1359=e[0],_i917=e.slice(1);if(this["#line-section-heading"].disabled=void 0===_t1359,this["#line-cap-box-heading"].disabled=void 0===_t1359,this["#line-join-box-heading"].disabled=void 0===_t1359,_t1359){var _iterator908=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step908;try{for(_iterator908.s();!(_step908=_iterator908.n()).done;){var _t1360=_step908.value;_t1360.disabled=!1;}}catch(err){_iterator908.e(err);}finally{_iterator908.f();}var _iterator909=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step909;try{for(_iterator909.s();!(_step909=_iterator909.n()).done;){var _t1361=_step909.value;_t1361.disabled=!1;}}catch(err){_iterator909.e(err);}finally{_iterator909.f();}var _e954=_t1359[s].getPropertyValue("stroke-linecap"),_n387=_t1359[s].getPropertyValue("stroke-linejoin"),_o303=!1,_l263=!1;var _iterator910=_createForOfIteratorHelper(_i917),_step910;try{for(_iterator910.s();!(_step910=_iterator910.n()).done;){var _t1362=_step910.value;var _i918=_t1362[s].getPropertyValue("stroke-linecap"),_a202=_t1362[s].getPropertyValue("stroke-linejoin");_i918!==_e954&&(_o303=!0),_a202!==_n387&&(_l263=!0);}}catch(err){_iterator910.e(err);}finally{_iterator910.f();}var _iterator911=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step911;try{for(_iterator911.s();!(_step911=_iterator911.n()).done;){var _t1363=_step911.value;_t1363.value===_e954?(_t1363.toggled=!0,_t1363.mixed=_o303):(_t1363.toggled=!1,_t1363.mixed=!1);}}catch(err){_iterator911.e(err);}finally{_iterator911.f();}var _iterator912=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step912;try{for(_iterator912.s();!(_step912=_iterator912.n()).done;){var _t1364=_step912.value;_t1364.value===_n387?(_t1364.toggled=!0,_t1364.mixed=_l263):(_t1364.toggled=!1,_t1364.mixed=!1);}}catch(err){_iterator912.e(err);}finally{_iterator912.f();}}else{var _iterator913=_createForOfIteratorHelper(this["#line-cap-buttons"].children),_step913;try{for(_iterator913.s();!(_step913=_iterator913.n()).done;){var _t1365=_step913.value;_t1365.disabled=!0,_t1365.toggled=!1,_t1365.mixed=!1;}}catch(err){_iterator913.e(err);}finally{_iterator913.f();}var _iterator914=_createForOfIteratorHelper(this["#line-join-buttons"].children),_step914;try{for(_iterator914.s();!(_step914=_iterator914.n()).done;){var _t1366=_step914.value;_t1366.disabled=!0,_t1366.toggled=!1,_t1366.mixed=!1;}}catch(err){_iterator914.e(err);}finally{_iterator914.f();}}}{var _t1367=e[0],_i919=e.slice(1),_n388=_t1367?_t1367[s].getPropertyValue("stroke-linejoin"):null;if(_t1367&&"miter"===_n388){var _e955=_t1367[s].getPropertyValue("stroke-miterlimit"),_n389=!1;var _iterator915=_createForOfIteratorHelper(_i919),_step915;try{for(_iterator915.s();!(_step915=_iterator915.n()).done;){var _t1368=_step915.value;if(_t1368[s].getPropertyValue("stroke-miterlimit")!==_e955){_n389=!0;break;}}}catch(err){_iterator915.e(err);}finally{_iterator915.f();}this["#miter-limit-heading"].disabled=!1,this["#miter-limit-slider"].value=Mx(_e955),this["#miter-limit-slider"].mixed=_n389,this["#miter-limit-slider"].disabled=!1,this["#miter-limit-input"].value=Mx(_e955),this["#miter-limit-input"].mixed=_n389,this["#miter-limit-input"].disabled=!1;}else this["#miter-limit-heading"].disabled=!0,this["#miter-limit-slider"].value=0,this["#miter-limit-slider"].mixed=!1,this["#miter-limit-slider"].disabled=!0,this["#miter-limit-input"].value=0,this["#miter-limit-input"].mixed=!1,this["#miter-limit-input"].disabled=!0;}}if(!1===this.nb){var _t1369=e[0],_i920=e.slice(1);if(this["#dash-section-heading"].disabled=void 0===_t1369,this["#dash-array-box-heading"].disabled=void 0===_t1369,this["#dash-array-select"].disabled=void 0===_t1369,_t1369){var _iterator916=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step916;try{for(_iterator916.s();!(_step916=_iterator916.n()).done;){var _t1371=_step916.value;var _iterator917=_createForOfIteratorHelper(_t1371.children),_step917;try{for(_iterator917.s();!(_step917=_iterator917.n()).done;){var _e957=_step917.value;_e957.disabled=!1;}}catch(err){_iterator917.e(err);}finally{_iterator917.f();}}}catch(err){_iterator916.e(err);}finally{_iterator916.f();}var _e956=this["#dash-array-inputs"].querySelectorAll("x-numberinput"),_i921=_t1369[s].getPropertyValue("stroke-dasharray"),_n390=[];"none"!==_i921&&(_n390=_i921.split(",").map(function(t){return Mx(t.trim());}));for(var _t1370=0;_t1370<6;_t1370+=1){var _i922=void 0===_n390[_t1370]?null:_n390[_t1370],_s551=_e956[_t1370];_s551.value=_i922,_s551.disabled=_t1370>_n390.length;}Px.includes(_i921)?this["#dash-array-select"].value=_i921:this["#dash-array-select"].value=null;}else{var _iterator918=_createForOfIteratorHelper(this["#dash-array-inputs"].children),_step918;try{for(_iterator918.s();!(_step918=_iterator918.n()).done;){var _t1372=_step918.value;var _iterator919=_createForOfIteratorHelper(_t1372.children),_step919;try{for(_iterator919.s();!(_step919=_iterator919.n()).done;){var _e958=_step919.value;_e958.disabled=!0;}}catch(err){_iterator919.e(err);}finally{_iterator919.f();}}}catch(err){_iterator918.e(err);}finally{_iterator918.f();}}if(_t1369){var _e959=_t1369[s].getPropertyValue("stroke-dashoffset"),_n391=!1;var _iterator920=_createForOfIteratorHelper(_i920),_step920;try{for(_iterator920.s();!(_step920=_iterator920.n()).done;){var _t1373=_step920.value;if(_t1373[s].getPropertyValue("stroke-dashoffset")!==_e959){_n391=!0;break;}}}catch(err){_iterator920.e(err);}finally{_iterator920.f();}this["#dash-offset-heading"].disabled=!1,this["#dash-offset-slider"].disabled=!1,this["#dash-offset-slider"].mixed=_n391,this["#dash-offset-slider"].value=Mx(_e959),this["#dash-offset-input"].disabled=!1,this["#dash-offset-input"].mixed=_n391,this["#dash-offset-input"].value=Mx(_e959);}else this["#dash-offset-heading"].disabled=!0,this["#dash-offset-slider"].disabled=!0,this["#dash-offset-slider"].mixed=!1,this["#dash-offset-input"].disabled=!0,this["#dash-offset-input"].mixed=!1;}{var _t1374=this.bb();if(0===_t1374.length)this["#marker-section-heading"].disabled=!0,this["#marker-start-heading"].disabled=!0,this["#marker-start-select"].enabled=!1,this["#marker-start-select"].value=null,this["#marker-mid-heading"].disabled=!0,this["#marker-mid-select"].enabled=!1,this["#marker-mid-select"].value=null,this["#marker-end-heading"].disabled=!0,this["#marker-end-select"].enabled=!1,this["#marker-end-select"].value=null;else{var _t1375=_toArray(_t1374),_e960=_t1375[0],_i923=_t1375.slice(1),_n392=function _n392(t,e){var i=t[s].getPropertyValue("marker-".concat(e)),n=lo.fromString(i);return"none"===i?null:n.value.substring(1);},_o304=_n392(_e960,"start"),_l264=_n392(_e960,"mid"),_a203=_n392(_e960,"end"),_h161=!1,_r100=!1,_d77=!1;var _iterator921=_createForOfIteratorHelper(_i923),_step921;try{for(_iterator921.s();!(_step921=_iterator921.n()).done;){var _t1376=_step921.value;var _e961=_n392(_t1376,"start"),_i924=_n392(_t1376,"mid"),_s552=_n392(_t1376,"end");_e961!==_o304&&(_h161=!0),_i924!==_l264&&(_r100=!0),_s552!==_a203&&(_d77=!0);}}catch(err){_iterator921.e(err);}finally{_iterator921.f();}this["#marker-section-heading"].disabled=!1,this["#marker-start-heading"].disabled=!1,this["#marker-start-select"].enabled=!0,this["#marker-start-select"].mixed=_h161,this["#marker-start-select"].value=_o304,this["#marker-mid-heading"].disabled=!1,this["#marker-mid-select"].enabled=!0,this["#marker-mid-select"].mixed=_r100,this["#marker-mid-select"].value=_l264,this["#marker-end-heading"].disabled=!1,this["#marker-end-select"].enabled=!0,this["#marker-end-select"].mixed=_d77,this["#marker-end-select"].value=_a203;}}}},{key:"Hx",value:function Hx(){var t=[],e=function e(i){var _iterator922=_createForOfIteratorHelper(i),_step922;try{for(_iterator922.s();!(_step922=_iterator922.n()).done;){var _s553=_step922.value;w.includes(_s553.localName)||"use"===_s553.localName?t.push(_s553):"g"!==_s553.localName&&"a"!==_s553.localName||e(_s553.children);}}catch(err){_iterator922.e(err);}finally{_iterator922.f();}};return e(this.Js.board.outermostSelectedElements),t;}},{key:"bb",value:function bb(){var t=[];return function(e){var _iterator923=_createForOfIteratorHelper(e),_step923;try{for(_iterator923.s();!(_step923=_iterator923.n()).done;){var _i925=_step923.value;z.includes(_i925.localName)&&t.push(_i925);}}catch(err){_iterator923.e(err);}finally{_iterator923.f();}}(this.Js.board.outermostSelectedElements),t;}}]);return zx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(zx,"observedAttributes",["enabled"]);_defineProperty(zx,"_shadowTemplate",qi(_templateObject272(),Dx));_defineProperty(zx,"_shadowStyleSheet",Xi(_templateObject273()));customElements.define("bx-strokepanel",zx);var Ox={"drop-shadow":1,"inner-shadow":1,"point-light":1,"spot-light":1,outline:1,"gaussian-blur":1,"motion-blur":1,warp:1,pixelete:1,morphology:1,"black-and-white":1,grayscale:1,sepia:1,saturate:1,"hue-rotate":1,invert:1,brightness:1,contrast:1,posterize:1,duotone:1,"x-ray":1};var Ex=function Ex(t){var e=null;return"drop-shadow"===t?e={offsetX:10,offsetY:10,blurRadius:0,spread:.5,color:"rgba(0,0,0,0.3)"}:"inner-shadow"===t?e={offsetX:0,offsetY:0,blurRadius:10,choke:.5,color:"rgba(0,0,0,0.7)"}:"point-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:.5,specularExponent:70,specularConstant:1,diffuseConstant:.2,ambientConstant:0,color:"#ffffff"}:"spot-light"===t?e={sourceX:.5,sourceY:.5,sourceZ:1,targetX:.5,targetY:.5,targetZ:0,coneAngle:20,color:"#ffffff",specularExponent:30,specularConstant:2,diffuseConstant:.1,ambientConstant:0}:"outline"===t?e={width:4,color:"#bada55"}:"gaussian-blur"===t?e={radius:5}:"motion-blur"===t?e={distance:5,orientation:"horizontal"}:"warp"===t?e={amount:50,frequency:.1}:"pixelete"===t?e={pixelSize:10}:"morphology"===t?e={operator:"dilate",radius:4}:"black-and-white"===t?e={balance:0}:"grayscale"===t||"sepia"===t?e={amount:1}:"saturate"===t?e={amount:.5}:"hue-rotate"===t?e={angle:90}:"invert"===t?e={amount:1}:"brightness"===t?e={amount:1.5}:"contrast"===t?e={amount:.7}:"posterize"===t?e={channels:["r"],amount:3,saturation:.9}:"duotone"===t?e={shadowsColor:"rgb(189,11,145)",highlightsColor:"rgb(252,187,13)",gamma:1}:"x-ray"===t&&(e={}),e&&(e.name=t),e;},Tx=function Tx(t){var e=null;if(t.hasAttribute("data-bx-preset")){var _t$getAttribute$split=t.getAttribute("data-bx-preset").split(" "),_t$getAttribute$split2=_toArray(_t$getAttribute$split),_i926=_t$getAttribute$split2[0],_s554=_t$getAttribute$split2[1],_n393=_t$getAttribute$split2.slice(2);if("drop-shadow"===_i926){var _ref112=_toConsumableArray(_n393),_t1377=_ref112[0],_s555=_ref112[1],_o305=_ref112[2],_l265=_ref112[3],_a204=_ref112[4];e={name:_i926,offsetX:parseFloat(_t1377),offsetY:parseFloat(_s555),blurRadius:parseFloat(_o305),spread:parseFloat(_l265),color:_a204};}else if("inner-shadow"===_i926){var _ref113=_toConsumableArray(_n393),_t1378=_ref113[0],_s556=_ref113[1],_o306=_ref113[2],_l266=_ref113[3],_a205=_ref113[4];e={name:_i926,offsetX:parseFloat(_t1378),offsetY:parseFloat(_s556),blurRadius:parseFloat(_o306),choke:parseFloat(_l266),color:_a205};}else if("point-light"===_i926){var _ref114=_toConsumableArray(_n393),_t1379=_ref114[0],_s557=_ref114[1],_o307=_ref114[2],_l267=_ref114[3],_a206=_ref114[4],_h162=_ref114[5],_r101=_ref114[6],_d78=_ref114[7];e={name:_i926,sourceX:parseFloat(_t1379),sourceY:parseFloat(_s557),sourceZ:parseFloat(_o307),specularExponent:parseFloat(_l267),specularConstant:parseFloat(_a206),diffuseConstant:parseFloat(_h162),ambientConstant:parseFloat(_r101),color:_d78};}else if("spot-light"===_i926){var _ref115=_toConsumableArray(_n393),_t1380=_ref115[0],_s558=_ref115[1],_o308=_ref115[2],_l268=_ref115[3],_a207=_ref115[4],_h163=_ref115[5],_r102=_ref115[6],_d79=_ref115[7],_c60=_ref115[8],_p50=_ref115[9],_u42=_ref115[10],_x126=_ref115[11];e={name:_i926,sourceX:parseFloat(_t1380),sourceY:parseFloat(_s558),sourceZ:parseFloat(_o308),targetX:parseFloat(_l268),targetY:parseFloat(_a207),targetZ:parseFloat(_h163),coneAngle:parseFloat(_r102),color:_d79,specularExponent:parseFloat(_c60),specularConstant:parseFloat(_p50),diffuseConstant:parseFloat(_u42),ambientConstant:parseFloat(_x126)};}else if("outline"===_i926){var _ref116=_toConsumableArray(_n393),_t1381=_ref116[0],_s559=_ref116[1];e={name:_i926,width:parseFloat(_t1381),color:_s559};}else if("gaussian-blur"===_i926){var _ref117=_toConsumableArray(_n393),_t1382=_ref117[0];e={name:_i926,radius:parseFloat(_t1382)};}else if("motion-blur"===_i926){var _ref118=_toConsumableArray(_n393),_t1383=_ref118[0],_s560=_ref118[1];e={name:_i926,distance:parseFloat(_t1383),orientation:_s560};}else if("warp"===_i926){var _ref119=_toConsumableArray(_n393),_t1384=_ref119[0],_s561=_ref119[1];e={name:_i926,amount:parseFloat(_t1384),frequency:parseFloat(_s561)};}else if("pixelete"===_i926){var _ref120=_toConsumableArray(_n393),_t1385=_ref120[0];e={name:_i926,pixelSize:parseFloat(_t1385)};}else if("morphology"===_i926){var _ref121=_toConsumableArray(_n393),_t1386=_ref121[0],_s562=_ref121[1];e={name:_i926,operator:_t1386,radius:parseFloat(_s562)};}else if("black-and-white"===_i926){var _ref122=_toConsumableArray(_n393),_t1387=_ref122[0];e={name:_i926,balance:parseFloat(_t1387)};}else if("grayscale"===_i926){var _ref123=_toConsumableArray(_n393),_t1388=_ref123[0];e={name:_i926,amount:parseFloat(_t1388)};}else if("sepia"===_i926){var _ref124=_toConsumableArray(_n393),_t1389=_ref124[0];e={name:_i926,amount:parseFloat(_t1389)};}else if("saturate"===_i926){var _ref125=_toConsumableArray(_n393),_t1390=_ref125[0];e={name:_i926,amount:parseFloat(_t1390)};}else if("hue-rotate"===_i926){var _ref126=_toConsumableArray(_n393),_t1391=_ref126[0];e={name:_i926,angle:parseFloat(_t1391)};}else if("invert"===_i926){var _ref127=_toConsumableArray(_n393),_t1392=_ref127[0];e={name:_i926,amount:parseFloat(_t1392)};}else if("brightness"===_i926){var _ref128=_toConsumableArray(_n393),_t1393=_ref128[0];e={name:_i926,amount:parseFloat(_t1393)};}else if("contrast"===_i926){var _ref129=_toConsumableArray(_n393),_t1394=_ref129[0];e={name:_i926,amount:parseFloat(_t1394)};}else if("posterize"===_i926){var _ref130=_toConsumableArray(_n393),_t1395=_ref130[0],_s563=_ref130[1],_o309=_ref130[2];e={name:_i926,amount:parseInt(_s563),channels:_t1395.split(""),saturation:parseFloat(_o309)};}else if("duotone"===_i926){var _ref131=_toConsumableArray(_n393),_t1396=_ref131[0],_s564=_ref131[1],_o310=_ref131[2];e={name:_i926,shadowsColor:_t1396,highlightsColor:_s564,gamma:parseFloat(_o310)};}else"x-ray"===_i926&&(e={name:_i926});}return e;},Ax=function Ax(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;var s=Ox[e.name];if("drop-shadow"===e.name){var _n394=e.offsetX,_o311=e.offsetY,_l269=e.blurRadius,_a208=e.spread,_h164=e.color;_n394=K(_n394,3),_o311=K(_o311,3),_l269=K(_l269,3),_a208=K(_a208,3),_h164=ni(_h164," ",""),t.setAttribute("data-bx-preset","drop-shadow ".concat(s," ").concat(_n394," ").concat(_o311," ").concat(_l269," ").concat(_a208," ").concat(_h164)),_a208*=2,i?(t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l269),t.querySelector(":scope > feOffset").setAttribute("dx",_n394),t.querySelector(":scope > feOffset").setAttribute("dy",_o311),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_a208),t.querySelector(":scope > feFlood").setAttribute("flood-color",_h164),t.querySelector(":scope > feFlood").removeAttribute("x"),t.querySelector(":scope > feFlood").removeAttribute("y")):t.innerHTML="\n        <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"".concat(_l269,"\"/>\n        <feOffset dx=\"").concat(_n394,"\" dy=\"").concat(_o311,"\"/>\n        <feComponentTransfer result=\"offsetblur\">\n          <feFuncA id=\"spread-ctrl\" type=\"linear\" slope=\"").concat(_a208,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_h164,"\"/>\n        <feComposite in2=\"offsetblur\" operator=\"in\"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n      ");}else if("inner-shadow"===e.name){var _n395=e.offsetX,_o312=e.offsetY,_l270=e.blurRadius,_a209=e.choke,_h165=e.color;_n395=K(_n395,3),_o312=K(_o312,3),_l270=K(_l270,3),_a209=K(_a209,3),_h165=ni(_h165," ",""),t.setAttribute("data-bx-preset","inner-shadow ".concat(s," ").concat(_n395," ").concat(_o312," ").concat(_l270," ").concat(_a209," ").concat(_h165)),_a209*=2,i?(t.querySelector(":scope > feOffset").setAttribute("dx",_n395),t.querySelector(":scope > feOffset").setAttribute("dy",_o312),t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation",_l270),t.querySelector(":scope > feComponentTransfer > feFuncA").setAttribute("slope",_a209),t.querySelector(":scope > feFlood").setAttribute("flood-color",_h165)):t.innerHTML="\n        <feOffset dx=\"".concat(_n395,"\" dy=\"").concat(_o312,"\"/>\n        <feGaussianBlur stdDeviation=\"").concat(_l270,"\"/>\n        <feComposite operator=\"out\" in=\"SourceGraphic\"/>\n        <feComponentTransfer result=\"choke\">\n          <feFuncA type=\"linear\" slope=\"").concat(_a209,"\"/>\n        </feComponentTransfer>\n        <feFlood flood-color=\"").concat(_h165,"\" result=\"color\"/>\n        <feComposite operator=\"in\" in=\"color\" in2=\"choke\" result=\"shadow\"/>\n        <feComposite operator=\"over\" in=\"shadow\" in2=\"SourceGraphic\"/>\n      ");}else if("point-light"===e.name){var _n396=e.sourceX,_o313=e.sourceY,_l271=e.sourceZ,_a210=e.specularExponent,_h166=e.specularConstant,_r103=e.diffuseConstant,_d80=e.ambientConstant,_c61=e.color;_n396=K(_n396,3),_o313=K(_o313,3),_l271=K(_l271,3),_a210=K(_a210,3),_h166=K(_h166,3),_r103=K(_r103,3),_d80=K(_d80,3),_c61=ni(_c61," ",""),t.setAttribute("data-bx-preset",["point-light",s,_n396,_o313,_l271,_a210,_h166,_r103,_d80,_c61].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_a210),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_h166),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_c61),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("x",_n396),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("y",_o313),t.querySelector(":scope > feSpecularLighting > fePointLight").setAttribute("z",_l271),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_r103),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_c61),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("x",_n396),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("y",_o313),t.querySelector(":scope > feDiffuseLighting > fePointLight").setAttribute("z",_l271),t.querySelector(":scope > feComposite").setAttribute("k2",_d80)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_c61,"\"\n          specularConstant=\"").concat(_h166,"\" specularExponent=\"").concat(_a210,"\">\n          <fePointLight x=\"").concat(_n396,"\" y=\"").concat(_o313,"\" z=\"").concat(_l271,"\"></fePointLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_c61,"\" diffuseConstant=\"").concat(_r103,"\">\n          <fePointLight x=\"").concat(_n396,"\" y=\"").concat(_o313,"\" z=\"").concat(_l271,"\"></fePointLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_d80,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("spot-light"===e.name){var _n397=K(e.sourceX,3),_o314=K(e.sourceY,3),_l272=K(e.sourceZ,3),_a211=K(e.targetX,3),_h167=K(e.targetY,3),_r104=K(e.targetZ,3),_d81=K(e.coneAngle,3),_c62=K(e.specularExponent,3),_p51=K(e.specularConstant,3),_u43=K(e.diffuseConstant,3),_x127=K(e.ambientConstant,3),_b37=ni(e.color," ","");t.setAttribute("data-bx-preset",["spot-light",s,_n397,_o314,_l272,_a211,_h167,_r104,_d81,_b37,_c62,_p51,_u43,_x127].join(" ")),i?(t.querySelector(":scope > feSpecularLighting").setAttribute("specularExponent",_c62),t.querySelector(":scope > feSpecularLighting").setAttribute("specularConstant",_p51),t.querySelector(":scope > feSpecularLighting").setAttribute("lighting-color",_b37),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("x",_n397),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("y",_o314),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("z",_l272),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtX",_a211),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtY",_h167),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("pointsAtZ",_r104),t.querySelector(":scope > feSpecularLighting > feSpotLight").setAttribute("limitingConeAngle",_d81),t.querySelector(":scope > feDiffuseLighting").setAttribute("diffuseConstant",_u43),t.querySelector(":scope > feDiffuseLighting").setAttribute("lighting-color",_b37),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("x",_n397),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("y",_o314),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("z",_l272),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtX",_a211),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtY",_h167),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("pointsAtZ",_r104),t.querySelector(":scope > feDiffuseLighting > feSpotLight").setAttribute("limitingConeAngle",_d81),t.querySelector(":scope > feComposite").setAttribute("k2",_x127)):(t.setAttribute("primitiveUnits","objectBoundingBox"),t.innerHTML="\n        <feSpecularLighting result=\"specular-lighting\" lighting-color=\"".concat(_b37,"\"\n          specularConstant=\"").concat(_p51,"\" specularExponent=\"").concat(_c62,"\">\n          <feSpotLight x=\"").concat(_n397,"\" y=\"").concat(_o314,"\" z=\"").concat(_l272,"\" limitingConeAngle=\"").concat(_d81,"\"\n            pointsAtX=\"").concat(_a211,"\" pointsAtY=\"").concat(_h167,"\" pointsAtZ=\"").concat(_r104,"\"></feSpotLight>\n        </feSpecularLighting>\n        <feDiffuseLighting result=\"diffuse-lighting\" lighting-color=\"").concat(_b37,"\" diffuseConstant=\"").concat(_u43,"\">\n          <feSpotLight x=\"").concat(_n397,"\" y=\"").concat(_o314,"\" z=\"").concat(_l272,"\" limitingConeAngle=\"").concat(_d81,"\"\n            pointsAtX=\"").concat(_a211,"\" pointsAtY=\"").concat(_h167,"\" pointsAtZ=\"").concat(_r104,"\"></feSpotLight>\n        </feDiffuseLighting>\n        <feMerge result=\"lighting\">\n          <feMergeNode in=\"diffuse-lighting\"></feMergeNode>\n          <feMergeNode in=\"specular-lighting\"></feMergeNode>\n        </feMerge>\n        <feComposite in=\"SourceGraphic\" in2=\"lighting\" operator=\"arithmetic\"\n          k1=\"1\" k2=\"").concat(_x127,"\" k3=\"0\" k4=\"0\"></feComposite>\n      "));}else if("outline"===e.name){var _n398=e.width,_o315=ni(e.color," ","");_n398=K(_n398,3),t.setAttribute("data-bx-preset","outline ".concat(s," ").concat(_n398," ").concat(_o315)),i?(t.querySelector(":scope > feMorphology").setAttribute("radius","".concat(_n398)),t.querySelector(":scope > feFlood").setAttribute("flood-color","".concat(_o315))):t.innerHTML="\n        <feMorphology in=\"SourceAlpha\" result=\"dilated\" operator=\"dilate\" radius=\"".concat(_n398,"\"></feMorphology>\n        <feFlood flood-color=\"").concat(_o315,"\" result=\"flood\"></feFlood>\n        <feComposite in=\"flood\" in2=\"dilated\" operator=\"in\" result=\"outline\"></feComposite>\n        <feMerge>\n          <feMergeNode in=\"outline\" />\n          <feMergeNode in=\"SourceGraphic\" />\n        </feMerge>\n      ");}else if("gaussian-blur"===e.name){var _n399=e.radius;_n399=K(_n399,3),t.setAttribute("data-bx-preset","gaussian-blur ".concat(s," ").concat(_n399)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_n399," ").concat(_n399)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_n399," ").concat(_n399,"\" edgeMode=\"none\" >"));}else if("motion-blur"===e.name){var _n400=e.distance,_o316=e.orientation,_l273="horizontal"===_o316?"".concat(_n400," 0"):"0 ".concat(_n400);_n400=K(_n400,3),t.setAttribute("data-bx-preset","motion-blur ".concat(s," ").concat(_n400," ").concat(_o316)),i?t.querySelector(":scope > feGaussianBlur").setAttribute("stdDeviation","".concat(_l273)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="<feGaussianBlur stdDeviation=\"".concat(_l273,"\" edgeMode=\"none\">"));}else if("warp"===e.name){var _n401=e.amount,_o317=e.frequency;_n401=K(_n401,1),_o317=K(_o317,3),t.setAttribute("data-bx-preset","warp ".concat(s," ").concat(_n401," ").concat(_o317)),i?(t.querySelector(":scope > feTurbulence").setAttribute("baseFrequency",_o317/10),t.querySelector(":scope > feDisplacementMap").setAttribute("scale",_n401)):t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"1 0.5\"/>\n        </feComponentTransfer>\n        <feMerge result=\"a\">\n          <feMergeNode/>\n          <feMergeNode in=\"SourceGraphic\"/>\n        </feMerge>\n        <feTurbulence type=\"fractalNoise\" baseFrequency=\"".concat(_o317/10,"\" numOctaves=\"1\" result=\"warp\" />\n        <feDisplacementMap xChannelSelector=\"R\" yChannelSelector=\"G\" scale=\"").concat(_n401,"\" in=\"a\" in2=\"warp\"  />\n      ");}else if("pixelete"===e.name){var _n402=e.pixelSize;_n402=K(_n402,3),t.setAttribute("data-bx-preset","pixelete ".concat(s," ").concat(_n402)),i?(t.querySelector(":scope > feComposite").setAttribute("width",_n402),t.querySelector(":scope > feComposite").setAttribute("height",_n402),t.querySelector(":scope > feMorphology").setAttribute("radius",_n402/2)):t.innerHTML="\n        <feFlood height=\"2\" width=\"2\"/>\n        <feComposite width=\"".concat(_n402,"\" height=\"").concat(_n402,"\"></feComposite>\n        <feTile result=\"a\"/>\n        <feComposite in=\"SourceGraphic\" in2=\"a\" operator=\"in\"/>\n        <feMorphology operator=\"dilate\" radius=\"").concat(_n402/2,"\"></feMorphology>\n      ");}else if("morphology"===e.name){var _n403=e.operator,_o318=e.radius;_o318=K(_o318,3),t.setAttribute("data-bx-preset","morphology ".concat(s," ").concat(_n403," ").concat(_o318)),i?(t.querySelector(":scope > feMorphology").setAttribute("operator",_n403),t.querySelector(":scope > feMorphology").setAttribute("radius",_o318)):t.innerHTML="\n        <feMorphology operator=\"".concat(_n403,"\" radius=\"").concat(_o318,"\"></feMorphology>\n      ");}else if("black-and-white"===e.name){var _n404=e.balance;t.setAttribute("data-bx-preset","black-and-white ".concat(s," ").concat(_n404));var _o319=K((-1*_n404+1)/2*250,1),_l274="0 ".repeat(_o319)+"1 ".repeat(255-_o319);i?(t.querySelector("feFuncR").setAttribute("tableValues",_l274),t.querySelector("feFuncG").setAttribute("tableValues",_l274),t.querySelector("feFuncB").setAttribute("tableValues",_l274)):(t.setAttribute("color-interpolation-filters","sRGB"),t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"0\"></feColorMatrix>\n\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"".concat(_l274,"\"/>\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_l274,"\"/>\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_l274,"\"/>\n        </feComponentTransfer>\n      "));}else if("grayscale"===e.name){var _n405=e.amount,_o320=[.2126+.7874*[1-_n405],.7152-.7152*[1-_n405],.0722-.0722*[1-_n405],0,0,.2126-.2126*[1-_n405],.7152+.2848*[1-_n405],.0722-.0722*[1-_n405],0,0,.2126-.2126*[1-_n405],.7152-.7152*[1-_n405],.0722+.9278*[1-_n405],0,0,0,0,0,1,0];_o320=_o320.map(function(t){return K(t,3);}).join(" "),t.setAttribute("data-bx-preset","grayscale ".concat(s," ").concat(_n405)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o320):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o320,"\"/>");}else if("sepia"===e.name){var _n406=e.amount,_o321=[.393+.607*[1-_n406],.769-.769*[1-_n406],.189-.189*[1-_n406],0,0,.349-.349*[1-_n406],.686+.314*[1-_n406],.168-.168*[1-_n406],0,0,.272-.272*[1-_n406],.534-.534*[1-_n406],.131+.869*[1-_n406],0,0,0,0,0,1,0];_o321=_o321.map(function(t){return K(t,3);}).join(" "),t.setAttribute("data-bx-preset","sepia ".concat(s," ").concat(_n406)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_o321):t.innerHTML="<feColorMatrix type=\"matrix\" values=\"".concat(_o321,"\"/>");}else if("saturate"===e.name){var _n407=e.amount;_n407=K(_n407,3),t.setAttribute("data-bx-preset","saturate ".concat(s," ").concat(_n407)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n407):t.innerHTML="<feColorMatrix type=\"saturate\" values=\"".concat(_n407,"\"/>");}else if("hue-rotate"===e.name){var _n408=e.angle;_n408=K(_n408,0),t.setAttribute("data-bx-preset","hue-rotate ".concat(s," ").concat(_n408)),i?t.querySelector(":scope > feColorMatrix").setAttribute("values",_n408):t.innerHTML="<feColorMatrix type=\"hueRotate\" values=\"".concat(_n408,"\"/>");}else if("invert"===e.name){var _n409=e.amount;if(_n409=K(_n409,3),t.setAttribute("data-bx-preset","invert ".concat(s," ").concat(_n409)),i){var _iterator924=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step924;try{for(_iterator924.s();!(_step924=_iterator924.n()).done;){var _e962=_step924.value;_e962.setAttribute("tableValues","".concat(_n409," ").concat(1-_n409));}}catch(err){_iterator924.e(err);}finally{_iterator924.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"table\" tableValues=\"".concat(_n409," ").concat(1-_n409,"\"/>\n          <feFuncG type=\"table\" tableValues=\"").concat(_n409," ").concat(1-_n409,"\"/>\n          <feFuncB type=\"table\" tableValues=\"").concat(_n409," ").concat(1-_n409,"\"/>\n        </feComponentTransfer>\n      ");}else if("brightness"===e.name){var _n410=e.amount;if(_n410=K(_n410,3),t.setAttribute("data-bx-preset","brightness ".concat(s," ").concat(_n410)),i){var _iterator925=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step925;try{for(_iterator925.s();!(_step925=_iterator925.n()).done;){var _e963=_step925.value;_e963.setAttribute("slope","".concat(_n410));}}catch(err){_iterator925.e(err);}finally{_iterator925.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n410,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n410,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n410,"\"/>\n        </feComponentTransfer>\n      ");}else if("contrast"===e.name){var _n411=e.amount;if(_n411=K(_n411,3),t.setAttribute("data-bx-preset","contrast ".concat(s," ").concat(_n411)),i){var _iterator926=_createForOfIteratorHelper(t.querySelector(":scope > feComponentTransfer").children),_step926;try{for(_iterator926.s();!(_step926=_iterator926.n()).done;){var _e964=_step926.value;_e964.setAttribute("slope","".concat(_n411)),_e964.setAttribute("intercept",""+(-.5*_n411+.5));}}catch(err){_iterator926.e(err);}finally{_iterator926.f();}}else t.innerHTML="\n        <feComponentTransfer>\n          <feFuncR type=\"linear\" slope=\"".concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n          <feFuncG type=\"linear\" slope=\"").concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n          <feFuncB type=\"linear\" slope=\"").concat(_n411,"\" intercept=\"").concat(-.5*_n411+.5,"\"/>\n        </feComponentTransfer>\n      ");}else if("posterize"===e.name){var _n412=e.channels,_o322=e.amount,_l275=e.saturation;t.setAttribute("data-bx-preset","posterize ".concat(s," ").concat(_n412.join("")," ").concat(_o322," ").concat(_l275));var _a212=[0],_h168=1/_o322,_r105=0;for(var _t1397=1;_t1397<_o322;_t1397+=1){_r105+=_h168,_a212.push(_r105);}_a212.push(1),_a212=_a212.map(function(t){return K(t,3);});var _d82=_n412.includes("r")?_a212:[],_c63=_n412.includes("g")?_a212:[],_p52=_n412.includes("b")?_a212:[];i?(t.querySelector(":scope > feColorMatrix").setAttribute("values",_l275),t.querySelector(":scope > feComponentTransfer>  feFuncR").setAttribute("tableValues",_d82.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncG").setAttribute("tableValues",_c63.join(" ")),t.querySelector(":scope > feComponentTransfer>  feFuncB").setAttribute("tableValues",_p52.join(" "))):t.innerHTML="\n        <feColorMatrix type=\"saturate\" values=\"".concat(_l275,"\"/>\n        <feComponentTransfer>\n          <feFuncR type=\"discrete\" tableValues=\"").concat(_d82.join(" "),"\" />\n          <feFuncG type=\"discrete\" tableValues=\"").concat(_c63.join(" "),"\" />\n          <feFuncB type=\"discrete\" tableValues=\"").concat(_p52.join(" "),"\" />\n        </feComponentTransfer>\n      ");}else if("duotone"===e.name){var _n413=e.shadowsColor,_o323=e.highlightsColor,_l276=e.gamma,_mo7=mo(_n413,"rgba"),_mo8=_slicedToArray(_mo7,3),_a213=_mo8[0],_h169=_mo8[1],_r106=_mo8[2],_mo9=mo(_o323,"rgba"),_mo10=_slicedToArray(_mo9,3),_d83=_mo10[0],_c64=_mo10[1],_p53=_mo10[2],_u44=K(_a213/255,3),_x128=K(_h169/255,3),_b38=K(_r106/255,3),_m36=K(_d83/255,3),_g31=K(_c64/255,3),_f22=K(_p53/255,3);_n413=ni(_n413," ",""),_o323=ni(_o323," ",""),t.setAttribute("data-bx-preset","duotone ".concat(s," ").concat(_n413," ").concat(_o323," ").concat(_l276)),i?(t.children[1].children[0].setAttribute("amplitude",_l276),t.children[1].children[1].setAttribute("amplitude",_l276),t.children[1].children[2].setAttribute("amplitude",_l276),t.children[2].children[0].setAttribute("tableValues","".concat(_u44," ").concat(_m36)),t.children[2].children[1].setAttribute("tableValues","".concat(_x128," ").concat(_g31)),t.children[2].children[2].setAttribute("tableValues","".concat(_b38," ").concat(_f22))):t.innerHTML="\n        <feColorMatrix\n          type=\"matrix\" result=\"grayscale\" values=\"1 0 0 0 0 1 0 0 0 0 1 0 0 0 0 0 0 0 1 0\">\n        </feColorMatrix>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\">\n          <feFuncR type=\"gamma\" exponent=\"1.5\" amplitude=\"".concat(_l276,"\" offset=\"0\"></feFuncR>\n          <feFuncG type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l276,"\" offset=\"0\"></feFuncG>\n          <feFuncB type=\"gamma\" exponent=\"1.5\" amplitude=\"").concat(_l276,"\" offset=\"0\"></feFuncB>\n        </feComponentTransfer>\n        <feComponentTransfer color-interpolation-filters=\"sRGB\" result=\"duotone\">\n          <feFuncR type=\"table\" tableValues=\"").concat(_u44," ").concat(_m36,"\"></feFuncR>\n          <feFuncG type=\"table\" tableValues=\"").concat(_x128," ").concat(_g31,"\"></feFuncG>\n          <feFuncB type=\"table\" tableValues=\"").concat(_b38," ").concat(_f22,"\"></feFuncB>\n          <feFuncA type=\"table\" tableValues=\"0 1\"></feFuncA>\n        </feComponentTransfer>\n      ");}else"x-ray"===e.name&&(t.setAttribute("data-bx-preset","x-ray ".concat(s)),i?t.querySelector("feColorMatrix").setAttribute("values","-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"):t.innerHTML='\n        <feColorMatrix type="matrix" values="-1 0 0 0 0 0 -1 0 0 0 0 0 -1 0 0 1 1 1 0 0"/>\n      ');!1===i&&("pixelete"===e.name?(t.setAttribute("x","0"),t.setAttribute("y","0"),t.setAttribute("width","100%"),t.setAttribute("height","100%")):(t.setAttribute("x","-500%"),t.setAttribute("y","-500%"),t.setAttribute("width","1000%"),t.setAttribute("height","1000%")));},$x=Symbol(),Ix="/images/logos/logo-full.svg";var Lx=/*#__PURE__*/function(_HTMLElement76){_inherits(Lx,_HTMLElement76);var _super105=_createSuper(Lx);_createClass(Lx,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"mixed",get:function get(){return this.hasAttribute("mixed");},set:function set(t){t?this.setAttribute("mixed",""):this.removeAttribute("mixed");}}]);function Lx(){var _this495;_classCallCheck(this,Lx);_this495=_super105.call(this),_this495._h=Ki(_this495.qs,200,_assertThisInitialized(_this495)),_this495._shadowRoot=_this495.attachShadow({mode:"closed"}),_this495._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Lx._shadowStyleSheet],_this495._shadowRoot.append(document.importNode(Lx._shadowTemplate.content,!0));var _iterator927=_createForOfIteratorHelper(_this495._shadowRoot.querySelectorAll("[id]")),_step927;try{for(_iterator927.s();!(_step927=_iterator927.n()).done;){var _t1398=_step927.value;_this495["#"+_t1398.id]=_t1398;}}catch(err){_iterator927.e(err);}finally{_iterator927.f();}_this495.addEventListener("keydown",function(t){return _this495.vn(t);}),_this495["#popover"].addEventListener("open",function(){return _this495.Mu();}),_this495["#items"].addEventListener("click",function(t){return _this495.Jc(t);}),_this495["#items"].addEventListener("dblclick",function(t){return _this495.Pu(t);}),_this495["#manage-button"].addEventListener("click",function(){return _this495.Du();}),_this495["#developer-mode-button"].addEventListener("toggle",function(){return _this495.zu();});return _this495;}_createClass(Lx,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Ou=Ii(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("enabled"===t?this.enabled?this.tn():this.sn():"value"===t&&this.vu());}},{key:"tn",value:function tn(){var _this496=this;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filterselect:developerMode",!1),this["#expand-button"].disabled=!1,this["#popover"].style.width=this["#expand-button"].clientWidth+"px",this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this496.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this496.Tu();}),this.qs();}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu),this["#expand-button"].collapse(),this["#expand-button"].disabled=!0,this["#custom-filters-mirror"].innerHTML="";}},{key:"vu",value:function vu(){this.mb(),this.$u();}},{key:"sl",value:function sl(){this._h();}},{key:"Tu",value:function Tu(){this["#popover"].style.width=this["#expand-button"].clientWidth+"px";}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");if(e){var _t1399=e.getAttribute("data-value");_t1399===this.value&&!0!==this.mixed||(this.value=_t1399,this.dispatchEvent(new CustomEvent("change")));}}},{key:"Pu",value:function Pu(t){var e=t.target.closest(".item");if(e){var _t1400=e.getAttribute("data-value");this["#expand-button"].collapse(),_t1400.startsWith("#")&&(this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(_t1400.substring(1)));}}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("filters-browser");}},{key:"zu",value:function zu(){var t=this["#developer-mode-button"].toggled;this.Qs.setConfig("bx-filterselect:developerMode",t),this.mb(),this.Iu(),this.Lu();}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"qs",value:function qs(){this.mb(),this.Gu(),this.Lu(),this.gb();}},{key:"mb",value:function mb(){if("none"===this.value)this["#expand-button-thumbnail-img"].style.filter="none",this["#expand-button-label"].textContent="None";else if(this.value.startsWith("#")){var _t1401=this.Js.board.masterWorkspace.querySelector(this.value),_e965=this["#developer-mode-button"].toggled;this["#expand-button-thumbnail-img"].style.filter="url("+this.value+")",this["#expand-button-label"].textContent=this.fb(_t1401,_e965);}else{var _t1402=this.value;this["#expand-button-thumbnail-img"].style.filter="url(#"+_t1402+"-filter)",this["#expand-button-label"].textContent=u[_t1402];}}},{key:"Gu",value:function Gu(){var t=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("data-bx-preset");});this["#custom-items"].innerHTML="";var _iterator928=_createForOfIteratorHelper(t),_step928;try{for(_iterator928.s();!(_step928=_iterator928.n()).done;){var _e966=_step928.value;var _t1403=qi(_templateObject20(),_e966.id,Ix,_e966.id,_e966.id);_t1403[$x]=_e966,this["#custom-items"].append(_t1403);}}catch(err){_iterator928.e(err);}finally{_iterator928.f();}this.$u(),this.Iu();}},{key:"$u",value:function $u(){for(var _i927=0,_arr41=[this["#none-item"]].concat(_toConsumableArray(this["#custom-items"].children),_toConsumableArray(this["#preset-items"].children));_i927<_arr41.length;_i927++){var _t1404=_arr41[_i927];_t1404.getAttribute("data-value")===this.value?_t1404.setAttribute("data-selected",""):_t1404.removeAttribute("data-selected");}}},{key:"Iu",value:function Iu(){var _iterator929=_createForOfIteratorHelper(this["#custom-items"].children),_step929;try{for(_iterator929.s();!(_step929=_iterator929.n()).done;){var _t1405=_step929.value;var _e967=_t1405[$x];_t1405.querySelector(".label").textContent=this.fb(_e967,this["#developer-mode-button"].toggled);}}catch(err){_iterator929.e(err);}finally{_iterator929.f();}}},{key:"Lu",value:function Lu(){this["#custom-items"].querySelector(":scope > .item")?this["#custom-items-placeholder"].hidden=!0:this["#custom-items-placeholder"].hidden=!1;}},{key:"gb",value:function gb(){if(this["#custom-filters-mirror"].innerHTML=this.Js.board.defs.innerHTML,0===this["#preset-filters-mirror"].childElementCount){var _iterator930=_createForOfIteratorHelper(this["#preset-items"].children),_step930;try{for(_iterator930.s();!(_step930=_iterator930.n()).done;){var _t1406=_step930.value;if("hr"!==_t1406.localName){var _e968=_t1406.dataset.value,_i928=Ex(_e968),_s565=Ei("svg:filter");_s565.id="".concat(_i928.name,"-filter"),Ax(_s565,_i928),this["#preset-filters-mirror"].append(_s565),_t1406.querySelector("img").style.filter="url(#"+_s565.id+")";}}}catch(err){_iterator930.e(err);}finally{_iterator930.f();}}}},{key:"Bu",value:function Bu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s566=t.indexOf(e);t[_s566-1]?i=t[_s566-1]:t[t.length-1]!==e&&(i=t[t.length-1]);}else t.length>0&&(i=t[t.length-1]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Ru",value:function Ru(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item")),e=this["#items"].querySelector(".item[data-selected]"),i=null;if(e){var _s567=t.indexOf(e);t[_s567+1]?i=t[_s567+1]:t[0]!==e&&(i=t[0]);}else t.length>0&&(i=t[0]);i&&(i.scrollIntoViewIfNeeded(),this.value=i.getAttribute("data-value"),this.dispatchEvent(new CustomEvent("change")));}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"fb",value:function fb(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i="";if(e)i=t.hasAttribute("id")?"#"+t.id:"<filter>";else{var _e969=t.querySelector(":scope > bx-title");i=_e969?_e969.textContent:"Filter";}return i;}}]);return Lx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lx,"observedAttributes",["enabled","value"]);_defineProperty(Lx,"_shadowTemplate",qi(_templateObject274(),Ix,Ix,Ix,u["drop-shadow"],Ix,u["inner-shadow"],Ix,u["point-light"],Ix,u["spot-light"],Ix,u.outline,Ix,u["gaussian-blur"],Ix,u["motion-blur"],Ix,u.warp,Ix,u.pixelete,Ix,u.morphology,Ix,u["black-and-white"],Ix,u.grayscale,Ix,u.sepia,Ix,u.saturate,Ix,u["hue-rotate"],Ix,u.invert,Ix,u.brightness,Ix,u.contrast,Ix,u.posterize,Ix,u.duotone,Ix,u["x-ray"]));_defineProperty(Lx,"_shadowStyleSheet",Xi(_templateObject275()));customElements.define("bx-filterselect",Lx);var Bx=function Bx(t){var e=document.createNodeIterator(Ti(t),NodeFilter.SHOW_ELEMENT),i=null,s=[];for(;i=e.nextNode();){if(D.includes(i.localName)){var _e970=getComputedStyle(i).filter,_n414=lo.fromString(_e970);if(_n414){_n414.value.substring(1)===t.id&&!1===s.includes(i)&&s.push(i);}}}return s;},Rx=function Rx(t){var e=null,i=getComputedStyle(t).getPropertyValue("filter");if(i&&i.startsWith('url("#')){var _s568=i.substring(6,i.length-2);_s568&&(e=Ti(t).querySelector("filter#"+_s568));}return e;},Gx=function Gx(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!1;if(!1===i){var _i929=[];var _iterator931=_createForOfIteratorHelper(t),_step931;try{for(_iterator931.s();!(_step931=_iterator931.n()).done;){var _s569=_step931.value;if(D.includes(_s569.localName))if("text"===_s569.localName){if(e&&e.intersectsNode(_s569)){var _t1407=gi(_s569);"backward"===e.direction&&_t1407.reverse();var _iterator932=_createForOfIteratorHelper(_t1407),_step932;try{for(_iterator932.s();!(_step932=_iterator932.n()).done;){var _s570=_step932.value;e.intersectsNode(_s570)&&(_i929.includes(_s570.parentElement)||_i929.push(_s570.parentElement));}}catch(err){_iterator932.e(err);}finally{_iterator932.f();}}else _i929.push(_s569);}else _i929.push(_s569);}}catch(err){_iterator931.e(err);}finally{_iterator931.f();}return _i929;}if(!0===i){var _i930=e,_s571=[],_n415=[];var _iterator933=_createForOfIteratorHelper(t),_step933;try{for(_iterator933.s();!(_step933=_iterator933.n()).done;){var _e971=_step933.value;if("text"===_e971.localName&&_i930&&_e971.contains(_i930.commonAncestorContainer)){ui(_e971,_i930),_s571.push(_e971);var _t1408=_e971.querySelectorAll("tspan"),_o324=bi(_i930,_e971),_l277=_i930.collapsed?_t1408:_o324;_n415.push.apply(_n415,_toConsumableArray(_l277));}else D.includes(_e971.localName)&&_n415.push(_e971);}}catch(err){_iterator933.e(err);}finally{_iterator933.f();}return[_n415,_s571];}},Fx=function Fx(t){var e=t.closest("filter"),i=new DOMRect(),s=t.viewportElement,n=s.createSVGLength(),o=s.createSVGLength(),l=s.createSVGLength(),a=s.createSVGLength();return n.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"0%",o.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"0%",l.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"100%",a.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"100%","objectBoundingBox"===e.getAttribute("primitiveUnits")?(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits:i.x=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits:i.y=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits:i.width=100*l.valueInSpecifiedUnits,a.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=a.valueInSpecifiedUnits:i.height=100*a.valueInSpecifiedUnits):(n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.x=n.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.x=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.y=o.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.y=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.width=l.valueInSpecifiedUnits/100*s.viewBox.baseVal.width:i.width=l.value,a.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?i.height=a.valueInSpecifiedUnits/100*s.viewBox.baseVal.height:i.height=a.value),i;};var Ux=/*#__PURE__*/function(_HTMLElement77){_inherits(Ux,_HTMLElement77);var _super106=_createSuper(Ux);function Ux(){var _this497;_classCallCheck(this,Ux);_this497=_super106.call(this),_this497.wb=!1,_this497.vb=!1,_this497.yb=!1,_this497.kb=!1,_this497._h=Ki(_this497.qs,200,_assertThisInitialized(_this497)),_this497._shadowRoot=_this497.attachShadow({mode:"closed"}),_this497._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Ux._shadowStyleSheet],_this497._shadowRoot.append(document.importNode(Ux._shadowTemplate.content,!0));var _iterator934=_createForOfIteratorHelper(_this497._shadowRoot.querySelectorAll("[id]")),_step934;try{for(_iterator934.s();!(_step934=_iterator934.n()).done;){var _t1409=_step934.value;_this497["#"+_t1409.id]=_t1409;}}catch(err){_iterator934.e(err);}finally{_iterator934.f();}_this497["#offset-section"].addEventListener("changestart",function(){return _this497.Sb(event);}),_this497["#blur-radius-box"].addEventListener("changestart",function(){return _this497._b(event);}),_this497["#spread-box"].addEventListener("changestart",function(){return _this497.Cb(event);}),_this497["#color-select"].addEventListener("changestart",function(){return _this497.Mb();});return _this497;}_createClass(Ux,[{key:"connectedCallback",value:function connectedCallback(){var _this498=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this498._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this498._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sb",value:function Sb(t){var _this499=this;var e,_i932;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.vb=!0;var _this$Js$board=this.Js.board,s=_this$Js$board.outermostSelectedElements,n=_this$Js$board.selectedTextRange,_Gx=Gx(s,n,!0),_Gx2=_slicedToArray(_Gx,2),o=_Gx2[0],l=_Gx2[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator935=_createForOfIteratorHelper(o),_step935;try{for(_iterator935.s();!(_step935=_iterator935.n()).done;){var _t1410=_step935.value;var _e972=Rx(_t1410),_i931=_e972?Tx(_e972):null;_i931&&"drop-shadow"===_i931.name&&(_i931.offsetX=_this499["#offset-x-input"].value,_i931.offsetY=_this499["#offset-y-input"].value,Ax(_e972,_i931,!0));}}catch(err){_iterator935.e(err);}finally{_iterator935.f();}}),this["#offset-section"].addEventListener("changeend",_i932=function i(){_this499["#offset-section"].removeEventListener("change",e),_this499["#offset-section"].removeEventListener("changeend",_i932),_this499.vb=!1;var _iterator936=_createForOfIteratorHelper(l),_step936;try{for(_iterator936.s();!(_step936=_iterator936.n()).done;){var _t1411=_step936.value;xi(_t1411,n);}}catch(err){_iterator936.e(err);}finally{_iterator936.f();}});}},{key:"_b",value:function _b(t){var _this500=this;var e,_i934;this.Js.board.undoManager.checkpoint("Drop shadow blur radius"),this.wb=!0;var _this$Js$board2=this.Js.board,s=_this$Js$board2.outermostSelectedElements,n=_this$Js$board2.selectedTextRange,_Gx3=Gx(s,n,!0),_Gx4=_slicedToArray(_Gx3,2),o=_Gx4[0],l=_Gx4[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this500["#blur-radius-slider"]?_this500["#blur-radius-input"].value=_this500["#blur-radius-slider"].value:t.target===_this500["#blur-radius-input"]&&(_this500["#blur-radius-slider"].value=_this500["#blur-radius-input"].value);var _iterator937=_createForOfIteratorHelper(o),_step937;try{for(_iterator937.s();!(_step937=_iterator937.n()).done;){var _t1412=_step937.value;var _e973=Rx(_t1412),_i933=_e973?Tx(_e973):null;_i933&&"drop-shadow"===_i933.name&&(_i933.blurRadius=_this500["#blur-radius-input"].value,Ax(_e973,_i933,!0));}}catch(err){_iterator937.e(err);}finally{_iterator937.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i934=function i(){_this500["#blur-radius-box"].removeEventListener("change",e),_this500["#blur-radius-box"].removeEventListener("changeend",_i934),_this500.wb=!1;var _iterator938=_createForOfIteratorHelper(l),_step938;try{for(_iterator938.s();!(_step938=_iterator938.n()).done;){var _t1413=_step938.value;xi(_t1413,n);}}catch(err){_iterator938.e(err);}finally{_iterator938.f();}});}},{key:"Cb",value:function Cb(t){var _this501=this;var e,_i936;this.Js.board.undoManager.checkpoint("Drop shadow spread"),this.yb=!0;var _this$Js$board3=this.Js.board,s=_this$Js$board3.outermostSelectedElements,n=_this$Js$board3.selectedTextRange,_Gx5=Gx(s,n,!0),_Gx6=_slicedToArray(_Gx5,2),o=_Gx6[0],l=_Gx6[1];this["#spread-box"].addEventListener("change",e=function e(t){t.target===_this501["#spread-slider"]?_this501["#spread-input"].value=_this501["#spread-slider"].value:t.target===_this501["#spread-input"]&&(_this501["#spread-slider"].value=_this501["#spread-input"].value);var _iterator939=_createForOfIteratorHelper(o),_step939;try{for(_iterator939.s();!(_step939=_iterator939.n()).done;){var _t1414=_step939.value;var _e974=Rx(_t1414),_i935=_e974?Tx(_e974):null;_i935&&"drop-shadow"===_i935.name&&(_i935.spread=_this501["#spread-input"].value/100,Ax(_e974,_i935,!0));}}catch(err){_iterator939.e(err);}finally{_iterator939.f();}}),this["#spread-box"].addEventListener("changeend",_i936=function i(){_this501["#spread-box"].removeEventListener("change",e),_this501["#spread-box"].removeEventListener("changeend",_i936),_this501.yb=!1;var _iterator940=_createForOfIteratorHelper(l),_step940;try{for(_iterator940.s();!(_step940=_iterator940.n()).done;){var _t1415=_step940.value;xi(_t1415,n);}}catch(err){_iterator940.e(err);}finally{_iterator940.f();}});}},{key:"Mb",value:function Mb(){var _this502=this;var t,_e976;this.Js.board.undoManager.checkpoint("Drop shadow color"),this.kb=!0;var _this$Js$board4=this.Js.board,i=_this$Js$board4.outermostSelectedElements,s=_this$Js$board4.selectedTextRange,_Gx7=Gx(i,s,!0),_Gx8=_slicedToArray(_Gx7,2),n=_Gx8[0],o=_Gx8[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator941=_createForOfIteratorHelper(n),_step941;try{for(_iterator941.s();!(_step941=_iterator941.n()).done;){var _t1416=_step941.value;var _e975=Rx(_t1416),_i937=_e975?Tx(_e975):null;_i937&&"drop-shadow"===_i937.name&&(_i937.color=_this502["#color-select"].value,Ax(_e975,_i937,!0));}}catch(err){_iterator941.e(err);}finally{_iterator941.f();}}),this["#color-select"].addEventListener("changeend",_e976=function e(){_this502["#color-select"].removeEventListener("change",t),_this502["#color-select"].removeEventListener("changeend",_e976),_this502.kb=!1;var _iterator942=_createForOfIteratorHelper(o),_step942;try{for(_iterator942.s();!(_step942=_iterator942.n()).done;){var _t1417=_step942.value;xi(_t1417,s);}}catch(err){_iterator942.e(err);}finally{_iterator942.f();}});}},{key:"qs",value:function qs(){if(!(this.wb||this.vb||this.yb||this.kb)){var _t1418=this.Js.board,_e977=Gx(_t1418.outermostSelectedElements,_t1418.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e978=_toArray(_e977),_i938=_e978[0],_s572=_e978.slice(1);if(_i938&&"drop-shadow"===_i938.name){var _t1419=!1,_e979=!1,_n416=!1,_o325=!1;var _iterator943=_createForOfIteratorHelper(_s572),_step943;try{for(_iterator943.s();!(_step943=_iterator943.n()).done;){var _l278=_step943.value;null!==_l278&&"drop-shadow"===_l278.name&&(_l278.offsetX!==_i938.offsetX&&(_t1419=!0),_l278.offsetY!==_i938.offsetY&&(_e979=!0),_l278.blurRadius!==_i938.blurRadius&&(_n416=!0),_l278.spread!==_i938.spread&&(_o325=!0));}}catch(err){_iterator943.e(err);}finally{_iterator943.f();}this["#offset-x-input"].mixed=_t1419,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i938.offsetX,this["#offset-y-input"].mixed=_e979,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i938.offsetY,this["#blur-radius-input"].mixed=_n416,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i938.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i938.blurRadius,this["#spread-input"].mixed=_o325,this["#spread-input"].disabled=!1,this["#spread-input"].value=100*_i938.spread,this["#spread-slider"].disabled=!1,this["#spread-slider"].value=100*_i938.spread,this["#color-select"].disabled=!1,this["#color-select"].value=_i938.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#spread-input"].mixed=!1,this["#spread-input"].disabled=!0,this["#spread-input"].value=0,this["#spread-slider"].disabled=!0,this["#spread-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Ux;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ux,"_shadowTemplate",qi(_templateObject276()));_defineProperty(Ux,"_shadowStyleSheet",Xi(_templateObject277()));customElements.define("bx-dropshadowfilterinspector",Ux);var Nx=/*#__PURE__*/function(_HTMLElement78){_inherits(Nx,_HTMLElement78);var _super107=_createSuper(Nx);function Nx(){var _this503;_classCallCheck(this,Nx);_this503=_super107.call(this),_this503.wb=!1,_this503.Pb=!1,_this503.vb=!1,_this503.kb=!1,_this503._h=Ki(_this503.qs,200,_assertThisInitialized(_this503)),_this503._shadowRoot=_this503.attachShadow({mode:"closed"}),_this503._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Nx._shadowStyleSheet],_this503._shadowRoot.append(document.importNode(Nx._shadowTemplate.content,!0));var _iterator944=_createForOfIteratorHelper(_this503._shadowRoot.querySelectorAll("[id]")),_step944;try{for(_iterator944.s();!(_step944=_iterator944.n()).done;){var _t1420=_step944.value;_this503["#"+_t1420.id]=_t1420;}}catch(err){_iterator944.e(err);}finally{_iterator944.f();}_this503["#offset-section"].addEventListener("changestart",function(){return _this503.Sb(event);}),_this503["#blur-radius-box"].addEventListener("changestart",function(){return _this503._b(event);}),_this503["#choke-box"].addEventListener("changestart",function(){return _this503.Db(event);}),_this503["#color-select"].addEventListener("changestart",function(){return _this503.Mb();});return _this503;}_createClass(Nx,[{key:"connectedCallback",value:function connectedCallback(){var _this504=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this504._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this504._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Sb",value:function Sb(t){var _this505=this;var e,_i940;this.Js.board.undoManager.checkpoint("Inner shadow offset"),this.vb=!0;var _this$Js$board5=this.Js.board,s=_this$Js$board5.outermostSelectedElements,n=_this$Js$board5.selectedTextRange,_Gx9=Gx(s,n,!0),_Gx10=_slicedToArray(_Gx9,2),o=_Gx10[0],l=_Gx10[1];this["#offset-section"].addEventListener("change",e=function e(t){var _iterator945=_createForOfIteratorHelper(o),_step945;try{for(_iterator945.s();!(_step945=_iterator945.n()).done;){var _t1421=_step945.value;var _e980=Rx(_t1421),_i939=_e980?Tx(_e980):null;_i939&&"inner-shadow"===_i939.name&&(_i939.offsetX=_this505["#offset-x-input"].value,_i939.offsetY=_this505["#offset-y-input"].value,Ax(_e980,_i939,!0));}}catch(err){_iterator945.e(err);}finally{_iterator945.f();}}),this["#offset-section"].addEventListener("changeend",_i940=function i(){_this505["#offset-section"].removeEventListener("change",e),_this505["#offset-section"].removeEventListener("changeend",_i940),_this505.vb=!1;var _iterator946=_createForOfIteratorHelper(l),_step946;try{for(_iterator946.s();!(_step946=_iterator946.n()).done;){var _t1422=_step946.value;xi(_t1422,n);}}catch(err){_iterator946.e(err);}finally{_iterator946.f();}});}},{key:"_b",value:function _b(t){var _this506=this;var e,_i942;this.Js.board.undoManager.checkpoint("Inner shadow blur radius"),this.wb=!0;var _this$Js$board6=this.Js.board,s=_this$Js$board6.outermostSelectedElements,n=_this$Js$board6.selectedTextRange,_Gx11=Gx(s,n,!0),_Gx12=_slicedToArray(_Gx11,2),o=_Gx12[0],l=_Gx12[1];this["#blur-radius-box"].addEventListener("change",e=function e(t){t.target===_this506["#blur-radius-slider"]?_this506["#blur-radius-input"].value=_this506["#blur-radius-slider"].value:t.target===_this506["#blur-radius-input"]&&(_this506["#blur-radius-slider"].value=_this506["#blur-radius-input"].value);var _iterator947=_createForOfIteratorHelper(o),_step947;try{for(_iterator947.s();!(_step947=_iterator947.n()).done;){var _t1423=_step947.value;var _e981=Rx(_t1423),_i941=_e981?Tx(_e981):null;_i941&&"inner-shadow"===_i941.name&&(_i941.blurRadius=_this506["#blur-radius-input"].value,Ax(_e981,_i941,!0));}}catch(err){_iterator947.e(err);}finally{_iterator947.f();}}),this["#blur-radius-box"].addEventListener("changeend",_i942=function i(){_this506["#blur-radius-box"].removeEventListener("change",e),_this506["#blur-radius-box"].removeEventListener("changeend",_i942),_this506.wb=!1;var _iterator948=_createForOfIteratorHelper(l),_step948;try{for(_iterator948.s();!(_step948=_iterator948.n()).done;){var _t1424=_step948.value;xi(_t1424,n);}}catch(err){_iterator948.e(err);}finally{_iterator948.f();}});}},{key:"Db",value:function Db(t){var _this507=this;var e,_i944;this.Js.board.undoManager.checkpoint("Inner shadow choke"),this.Pb=!0;var _this$Js$board7=this.Js.board,s=_this$Js$board7.outermostSelectedElements,n=_this$Js$board7.selectedTextRange,_Gx13=Gx(s,n,!0),_Gx14=_slicedToArray(_Gx13,2),o=_Gx14[0],l=_Gx14[1];this["#choke-box"].addEventListener("change",e=function e(t){t.target===_this507["#choke-slider"]?_this507["#choke-input"].value=_this507["#choke-slider"].value:t.target===_this507["#choke-input"]&&(_this507["#choke-slider"].value=_this507["#choke-input"].value);var _iterator949=_createForOfIteratorHelper(o),_step949;try{for(_iterator949.s();!(_step949=_iterator949.n()).done;){var _t1425=_step949.value;var _e982=Rx(_t1425),_i943=_e982?Tx(_e982):null;_i943&&"inner-shadow"===_i943.name&&(_i943.choke=_this507["#choke-input"].value/100,Ax(_e982,_i943,!0));}}catch(err){_iterator949.e(err);}finally{_iterator949.f();}}),this["#choke-box"].addEventListener("changeend",_i944=function i(){_this507["#choke-box"].removeEventListener("change",e),_this507["#choke-box"].removeEventListener("changeend",_i944),_this507.Pb=!1;var _iterator950=_createForOfIteratorHelper(l),_step950;try{for(_iterator950.s();!(_step950=_iterator950.n()).done;){var _t1426=_step950.value;xi(_t1426,n);}}catch(err){_iterator950.e(err);}finally{_iterator950.f();}});}},{key:"Mb",value:function Mb(){var _this508=this;var t,_e984;this.Js.board.undoManager.checkpoint("Inner shadow color"),this.kb=!0;var _this$Js$board8=this.Js.board,i=_this$Js$board8.outermostSelectedElements,s=_this$Js$board8.selectedTextRange,_Gx15=Gx(i,s,!0),_Gx16=_slicedToArray(_Gx15,2),n=_Gx16[0],o=_Gx16[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator951=_createForOfIteratorHelper(n),_step951;try{for(_iterator951.s();!(_step951=_iterator951.n()).done;){var _t1427=_step951.value;var _e983=Rx(_t1427),_i945=_e983?Tx(_e983):null;_i945&&"inner-shadow"===_i945.name&&(_i945.color=_this508["#color-select"].value,Ax(_e983,_i945,!0));}}catch(err){_iterator951.e(err);}finally{_iterator951.f();}}),this["#color-select"].addEventListener("changeend",_e984=function e(){_this508["#color-select"].removeEventListener("change",t),_this508["#color-select"].removeEventListener("changeend",_e984),_this508.kb=!1;var _iterator952=_createForOfIteratorHelper(o),_step952;try{for(_iterator952.s();!(_step952=_iterator952.n()).done;){var _t1428=_step952.value;xi(_t1428,s);}}catch(err){_iterator952.e(err);}finally{_iterator952.f();}});}},{key:"qs",value:function qs(){if(!(this.wb||this.Pb||this.vb||this.kb)){var _t1429=this.Js.board,_e985=Gx(_t1429.outermostSelectedElements,_t1429.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e986=_toArray(_e985),_i946=_e986[0],_s573=_e986.slice(1);if(_i946&&"inner-shadow"===_i946.name){var _t1430=!1,_e987=!1,_n417=!1,_o326=!1;var _iterator953=_createForOfIteratorHelper(_s573),_step953;try{for(_iterator953.s();!(_step953=_iterator953.n()).done;){var _l279=_step953.value;null!==_l279&&"inner-shadow"===_l279.name&&(_l279.offsetX!==_i946.offsetX&&(_t1430=!0),_l279.offsetY!==_i946.offsetY&&(_e987=!0),_l279.blurRadius!==_i946.blurRadius&&(_n417=!0),_l279.choke!==_i946.choke&&(_o326=!0));}}catch(err){_iterator953.e(err);}finally{_iterator953.f();}this["#offset-x-input"].mixed=_t1430,this["#offset-x-input"].disabled=!1,this["#offset-x-input"].value=_i946.offsetX,this["#offset-y-input"].mixed=_e987,this["#offset-y-input"].disabled=!1,this["#offset-y-input"].value=_i946.offsetY,this["#blur-radius-input"].mixed=_n417,this["#blur-radius-input"].disabled=!1,this["#blur-radius-input"].value=_i946.blurRadius,this["#blur-radius-slider"].disabled=!1,this["#blur-radius-slider"].value=_i946.blurRadius,this["#choke-input"].mixed=_o326,this["#choke-input"].disabled=!1,this["#choke-input"].value=100*_i946.choke,this["#choke-slider"].disabled=!1,this["#choke-slider"].value=100*_i946.choke,this["#color-select"].disabled=!1,this["#color-select"].value=_i946.color;}else this["#offset-x-input"].mixed=!1,this["#offset-x-input"].disabled=!0,this["#offset-x-input"].value=0,this["#offset-y-input"].mixed=!1,this["#offset-y-input"].disabled=!0,this["#offset-y-input"].value=0,this["#blur-radius-input"].mixed=!1,this["#blur-radius-input"].disabled=!0,this["#blur-radius-input"].value=0,this["#blur-radius-slider"].disabled=!0,this["#blur-radius-slider"].value=0,this["#choke-input"].mixed=!1,this["#choke-input"].disabled=!0,this["#choke-input"].value=0,this["#choke-slider"].disabled=!0,this["#choke-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Nx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Nx,"_shadowTemplate",qi(_templateObject278()));_defineProperty(Nx,"_shadowStyleSheet",Xi(_templateObject279()));customElements.define("bx-innershadowfilterinspector",Nx);var Vx=/*#__PURE__*/function(_HTMLElement79){_inherits(Vx,_HTMLElement79);var _super108=_createSuper(Vx);function Vx(){var _this509;_classCallCheck(this,Vx);_this509=_super108.call(this),_this509.zb=!1,_this509.Ob=!1,_this509.Eb=!1,_this509.Tb=!1,_this509.Ab=!1,_this509.kb=!1,_this509._h=Ki(_this509.qs,200,_assertThisInitialized(_this509)),_this509._shadowRoot=_this509.attachShadow({mode:"closed"}),_this509._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Vx._shadowStyleSheet],_this509._shadowRoot.append(document.importNode(Vx._shadowTemplate.content,!0));var _iterator954=_createForOfIteratorHelper(_this509._shadowRoot.querySelectorAll("[id]")),_step954;try{for(_iterator954.s();!(_step954=_iterator954.n()).done;){var _t1431=_step954.value;_this509["#"+_t1431.id]=_t1431;}}catch(err){_iterator954.e(err);}finally{_iterator954.f();}_this509["#source-section"].addEventListener("changestart",function(t){return _this509.$b(t);}),_this509["#specular-exponent-box"].addEventListener("changestart",function(t){return _this509.Ib(t);}),_this509["#specular-constant-box"].addEventListener("changestart",function(t){return _this509.Lb(t);}),_this509["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this509.Bb(t);}),_this509["#ambient-constant-box"].addEventListener("changestart",function(t){return _this509.Rb(t);}),_this509["#color-select"].addEventListener("changestart",function(t){return _this509.Mb(t);});return _this509;}_createClass(Vx,[{key:"connectedCallback",value:function connectedCallback(){var _this510=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this510._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this510._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"$b",value:function $b(t){var _this511=this;var e,_i948;this.Js.board.undoManager.checkpoint("Point light source position"),this.zb=!0;var _this$Js$board9=this.Js.board,s=_this$Js$board9.outermostSelectedElements,n=_this$Js$board9.selectedTextRange,_Gx17=Gx(s,n,!0),_Gx18=_slicedToArray(_Gx17,2),o=_Gx18[0],l=_Gx18[1],a=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator955=_createForOfIteratorHelper(o),_step955;try{for(_iterator955.s();!(_step955=_iterator955.n()).done;){var _t1432=_step955.value;var _e988=Rx(_t1432),_i947=_e988?Tx(_e988):null;_i947&&"point-light"===_i947.name&&("x"===a?_i947.sourceX=_this511["#source-x-input"].value/100:"y"===a?_i947.sourceY=_this511["#source-y-input"].value/100:"z"===a&&(_i947.sourceZ=_this511["#source-z-input"].value/100),Ax(_e988,_i947,!0));}}catch(err){_iterator955.e(err);}finally{_iterator955.f();}}),this["#source-section"].addEventListener("changeend",_i948=function i(){_this511["#source-section"].removeEventListener("change",e),_this511["#source-section"].removeEventListener("changeend",_i948),_this511.zb=!1;var _iterator956=_createForOfIteratorHelper(l),_step956;try{for(_iterator956.s();!(_step956=_iterator956.n()).done;){var _t1433=_step956.value;xi(_t1433,n);}}catch(err){_iterator956.e(err);}finally{_iterator956.f();}});}},{key:"Ib",value:function Ib(t){var _this512=this;var e,_i950;this.Js.board.undoManager.checkpoint("Point light specular exponent"),this.Ob=!0;var _this$Js$board10=this.Js.board,s=_this$Js$board10.outermostSelectedElements,n=_this$Js$board10.selectedTextRange,_Gx19=Gx(s,n,!0),_Gx20=_slicedToArray(_Gx19,2),o=_Gx20[0],l=_Gx20[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this512["#specular-exponent-slider"]?_this512["#specular-exponent-input"].value=_this512["#specular-exponent-slider"].value:t.target===_this512["#specular-exponent-input"]&&(_this512["#specular-exponent-slider"].value=_this512["#specular-exponent-input"].value);var _iterator957=_createForOfIteratorHelper(o),_step957;try{for(_iterator957.s();!(_step957=_iterator957.n()).done;){var _t1434=_step957.value;var _e989=Rx(_t1434),_i949=_e989?Tx(_e989):null;_i949&&"point-light"===_i949.name&&(_i949.specularExponent=_this512["#specular-exponent-input"].value,Ax(_e989,_i949,!0));}}catch(err){_iterator957.e(err);}finally{_iterator957.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i950=function i(){_this512["#specular-exponent-box"].removeEventListener("change",e),_this512["#specular-exponent-box"].removeEventListener("changeend",_i950),_this512.Ob=!1;var _iterator958=_createForOfIteratorHelper(l),_step958;try{for(_iterator958.s();!(_step958=_iterator958.n()).done;){var _t1435=_step958.value;xi(_t1435,n);}}catch(err){_iterator958.e(err);}finally{_iterator958.f();}});}},{key:"Lb",value:function Lb(t){var _this513=this;var e,_i952;this.Js.board.undoManager.checkpoint("Point light specular constant"),this.Eb=!0;var _this$Js$board11=this.Js.board,s=_this$Js$board11.outermostSelectedElements,n=_this$Js$board11.selectedTextRange,_Gx21=Gx(s,n,!0),_Gx22=_slicedToArray(_Gx21,2),o=_Gx22[0],l=_Gx22[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this513["#specular-constant-slider"]?_this513["#specular-constant-input"].value=_this513["#specular-constant-slider"].value:t.target===_this513["#specular-constant-input"]&&(_this513["#specular-constant-slider"].value=_this513["#specular-constant-input"].value);var _iterator959=_createForOfIteratorHelper(o),_step959;try{for(_iterator959.s();!(_step959=_iterator959.n()).done;){var _t1436=_step959.value;var _e990=Rx(_t1436),_i951=_e990?Tx(_e990):null;_i951&&"point-light"===_i951.name&&(_i951.specularConstant=_this513["#specular-constant-input"].value,Ax(_e990,_i951,!0));}}catch(err){_iterator959.e(err);}finally{_iterator959.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i952=function i(){_this513["#specular-constant-box"].removeEventListener("change",e),_this513["#specular-constant-box"].removeEventListener("changeend",_i952),_this513.Eb=!1;var _iterator960=_createForOfIteratorHelper(l),_step960;try{for(_iterator960.s();!(_step960=_iterator960.n()).done;){var _t1437=_step960.value;xi(_t1437,n);}}catch(err){_iterator960.e(err);}finally{_iterator960.f();}});}},{key:"Bb",value:function Bb(t){var _this514=this;var e,_i954;this.Js.board.undoManager.checkpoint("Point light diffuse constant"),this.Tb=!0;var _this$Js$board12=this.Js.board,s=_this$Js$board12.outermostSelectedElements,n=_this$Js$board12.selectedTextRange,_Gx23=Gx(s,n,!0),_Gx24=_slicedToArray(_Gx23,2),o=_Gx24[0],l=_Gx24[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this514["#diffuse-constant-slider"]?_this514["#diffuse-constant-input"].value=_this514["#diffuse-constant-slider"].value:t.target===_this514["#diffuse-constant-input"]&&(_this514["#diffuse-constant-slider"].value=_this514["#diffuse-constant-input"].value);var _iterator961=_createForOfIteratorHelper(o),_step961;try{for(_iterator961.s();!(_step961=_iterator961.n()).done;){var _t1438=_step961.value;var _e991=Rx(_t1438),_i953=_e991?Tx(_e991):null;_i953&&"point-light"===_i953.name&&(_i953.diffuseConstant=_this514["#diffuse-constant-input"].value,Ax(_e991,_i953,!0));}}catch(err){_iterator961.e(err);}finally{_iterator961.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i954=function i(){_this514["#diffuse-constant-box"].removeEventListener("change",e),_this514["#diffuse-constant-box"].removeEventListener("changeend",_i954),_this514.Tb=!1;var _iterator962=_createForOfIteratorHelper(l),_step962;try{for(_iterator962.s();!(_step962=_iterator962.n()).done;){var _t1439=_step962.value;xi(_t1439,n);}}catch(err){_iterator962.e(err);}finally{_iterator962.f();}});}},{key:"Rb",value:function Rb(t){var _this515=this;var e,_i956;this.Js.board.undoManager.checkpoint("Point light ambient constant"),this.Ab=!0;var _this$Js$board13=this.Js.board,s=_this$Js$board13.outermostSelectedElements,n=_this$Js$board13.selectedTextRange,_Gx25=Gx(s,n,!0),_Gx26=_slicedToArray(_Gx25,2),o=_Gx26[0],l=_Gx26[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this515["#ambient-constant-slider"]?_this515["#ambient-constant-input"].value=_this515["#ambient-constant-slider"].value:t.target===_this515["#ambient-constant-input"]&&(_this515["#ambient-constant-slider"].value=_this515["#ambient-constant-input"].value);var _iterator963=_createForOfIteratorHelper(o),_step963;try{for(_iterator963.s();!(_step963=_iterator963.n()).done;){var _t1440=_step963.value;var _e992=Rx(_t1440),_i955=_e992?Tx(_e992):null;_i955&&"point-light"===_i955.name&&(_i955.ambientConstant=_this515["#ambient-constant-input"].value,Ax(_e992,_i955,!0));}}catch(err){_iterator963.e(err);}finally{_iterator963.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i956=function i(){_this515["#ambient-constant-box"].removeEventListener("change",e),_this515["#ambient-constant-box"].removeEventListener("changeend",_i956),_this515.Ab=!1;var _iterator964=_createForOfIteratorHelper(l),_step964;try{for(_iterator964.s();!(_step964=_iterator964.n()).done;){var _t1441=_step964.value;xi(_t1441,n);}}catch(err){_iterator964.e(err);}finally{_iterator964.f();}});}},{key:"Mb",value:function Mb(){var _this516=this;var t,_e994;this.Js.board.undoManager.checkpoint("Point light color"),this.kb=!0;var _this$Js$board14=this.Js.board,i=_this$Js$board14.outermostSelectedElements,s=_this$Js$board14.selectedTextRange,_Gx27=Gx(i,s,!0),_Gx28=_slicedToArray(_Gx27,2),n=_Gx28[0],o=_Gx28[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator965=_createForOfIteratorHelper(n),_step965;try{for(_iterator965.s();!(_step965=_iterator965.n()).done;){var _t1442=_step965.value;var _e993=Rx(_t1442),_i957=_e993?Tx(_e993):null;_i957&&"point-light"===_i957.name&&(_i957.color=_this516["#color-select"].value,Ax(_e993,_i957,!0));}}catch(err){_iterator965.e(err);}finally{_iterator965.f();}}),this["#color-select"].addEventListener("changeend",_e994=function e(){_this516["#color-select"].removeEventListener("change",t),_this516["#color-select"].removeEventListener("changeend",_e994),_this516.kb=!1;var _iterator966=_createForOfIteratorHelper(o),_step966;try{for(_iterator966.s();!(_step966=_iterator966.n()).done;){var _t1443=_step966.value;xi(_t1443,s);}}catch(err){_iterator966.e(err);}finally{_iterator966.f();}});}},{key:"qs",value:function qs(){if(!1===this.zb&&!1===this.Ob&&!1===this.Eb&&!1===this.Tb&&!1===this.Ab&&!1===this.kb){var _t1444=this.Js.board,_e995=Gx(_t1444.outermostSelectedElements,_t1444.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e996=_toArray(_e995),_i958=_e996[0],_s574=_e996.slice(1);if(_i958&&"point-light"===_i958.name){var _t1445=!1,_e997=!1,_n418=!1,_o327=!1,_l280=!1,_a214=!1,_h170=!1;var _iterator967=_createForOfIteratorHelper(_s574),_step967;try{for(_iterator967.s();!(_step967=_iterator967.n()).done;){var _r107=_step967.value;null!==_r107&&"point-light"===_r107.name&&(_r107.sourceX!==_i958.sourceX&&(_t1445=!0),_r107.sourceY!==_i958.sourceY&&(_e997=!0),_r107.sourceZ!==_i958.sourceZ&&(_n418=!0),_r107.specularExponent!==_i958.specularExponent&&(_o327=!0),_r107.specularConstant!==_i958.specularConstant&&(_l280=!0),_r107.diffuseConstant!==_i958.diffuseConstant&&(_a214=!0),_r107.ambientConstant!==_i958.ambientConstant&&(_h170=!0));}}catch(err){_iterator967.e(err);}finally{_iterator967.f();}this["#source-x-input"].mixed=_t1445,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=K(100*_i958.sourceX,3),this["#source-y-input"].mixed=_e997,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=K(100*_i958.sourceY,3),this["#source-z-input"].mixed=_n418,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=K(100*_i958.sourceZ,3),this["#specular-exponent-input"].mixed=_o327,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i958.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i958.specularExponent,this["#specular-constant-input"].mixed=_l280,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i958.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i958.specularConstant,this["#diffuse-constant-input"].mixed=_a214,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i958.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i958.diffuseConstant,this["#ambient-constant-input"].mixed=_h170,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i958.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i958.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i958.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return Vx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vx,"_shadowTemplate",qi(_templateObject280()));_defineProperty(Vx,"_shadowStyleSheet",Xi(_templateObject281()));customElements.define("bx-pointlightfilterinspector",Vx);var jx=/*#__PURE__*/function(_HTMLElement80){_inherits(jx,_HTMLElement80);var _super109=_createSuper(jx);function jx(){var _this517;_classCallCheck(this,jx);_this517=_super109.call(this),_this517.zb=!1,_this517.Gb=!1,_this517.Fb=!1,_this517.Ob=!1,_this517.Eb=!1,_this517.Tb=!1,_this517.Ab=!1,_this517.kb=!1,_this517._h=Ki(_this517.qs,200,_assertThisInitialized(_this517)),_this517._shadowRoot=_this517.attachShadow({mode:"closed"}),_this517._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,jx._shadowStyleSheet],_this517._shadowRoot.append(document.importNode(jx._shadowTemplate.content,!0));var _iterator968=_createForOfIteratorHelper(_this517._shadowRoot.querySelectorAll("[id]")),_step968;try{for(_iterator968.s();!(_step968=_iterator968.n()).done;){var _t1446=_step968.value;_this517["#"+_t1446.id]=_t1446;}}catch(err){_iterator968.e(err);}finally{_iterator968.f();}_this517["#source-section"].addEventListener("changestart",function(t){return _this517.$b(t);}),_this517["#target-section"].addEventListener("changestart",function(t){return _this517.Ub(t);}),_this517["#cone-angle-box"].addEventListener("changestart",function(t){return _this517.Nb(t);}),_this517["#specular-exponent-box"].addEventListener("changestart",function(t){return _this517.Ib(t);}),_this517["#specular-constant-box"].addEventListener("changestart",function(t){return _this517.Lb(t);}),_this517["#diffuse-constant-box"].addEventListener("changestart",function(t){return _this517.Bb(t);}),_this517["#ambient-constant-box"].addEventListener("changestart",function(t){return _this517.Rb(t);}),_this517["#color-select"].addEventListener("changestart",function(t){return _this517.Mb(t);});return _this517;}_createClass(jx,[{key:"connectedCallback",value:function connectedCallback(){var _this518=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this518._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this518._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"$b",value:function $b(t){var _this519=this;var e,_i960;this.Js.board.undoManager.checkpoint("Spot light source position"),this.zb=!0;var _this$Js$board15=this.Js.board,s=_this$Js$board15.outermostSelectedElements,n=_this$Js$board15.selectedTextRange,_Gx29=Gx(s,n,!0),_Gx30=_slicedToArray(_Gx29,2),o=_Gx30[0],l=_Gx30[1],a=t.target.dataset.param;this["#source-section"].addEventListener("change",e=function e(t){var _iterator969=_createForOfIteratorHelper(o),_step969;try{for(_iterator969.s();!(_step969=_iterator969.n()).done;){var _t1447=_step969.value;var _e998=Rx(_t1447),_i959=_e998?Tx(_e998):null;_i959&&"spot-light"===_i959.name&&("x"===a?_i959.sourceX=_this519["#source-x-input"].value/100:"y"===a?_i959.sourceY=_this519["#source-y-input"].value/100:"z"===a&&(_i959.sourceZ=_this519["#source-z-input"].value/100),Ax(_e998,_i959,!0));}}catch(err){_iterator969.e(err);}finally{_iterator969.f();}}),this["#source-section"].addEventListener("changeend",_i960=function i(){_this519["#source-section"].removeEventListener("change",e),_this519["#source-section"].removeEventListener("changeend",_i960),_this519.zb=!1;var _iterator970=_createForOfIteratorHelper(l),_step970;try{for(_iterator970.s();!(_step970=_iterator970.n()).done;){var _t1448=_step970.value;xi(_t1448,n);}}catch(err){_iterator970.e(err);}finally{_iterator970.f();}});}},{key:"Ub",value:function Ub(t){var _this520=this;var e,_i962;this.Js.board.undoManager.checkpoint("Spot light target position"),this.Gb=!0;var _this$Js$board16=this.Js.board,s=_this$Js$board16.outermostSelectedElements,n=_this$Js$board16.selectedTextRange,_Gx31=Gx(s,n,!0),_Gx32=_slicedToArray(_Gx31,2),o=_Gx32[0],l=_Gx32[1],a=t.target.dataset.param;this["#target-section"].addEventListener("change",e=function e(t){var _iterator971=_createForOfIteratorHelper(o),_step971;try{for(_iterator971.s();!(_step971=_iterator971.n()).done;){var _t1449=_step971.value;var _e999=Rx(_t1449),_i961=_e999?Tx(_e999):null;_i961&&"spot-light"===_i961.name&&("x"===a?_i961.targetX=_this520["#target-x-input"].value/100:"y"===a?_i961.targetY=_this520["#target-y-input"].value/100:"z"===a&&(_i961.targetZ=_this520["#target-z-input"].value/100),Ax(_e999,_i961,!0));}}catch(err){_iterator971.e(err);}finally{_iterator971.f();}}),this["#target-section"].addEventListener("changeend",_i962=function i(){_this520["#target-section"].removeEventListener("change",e),_this520["#target-section"].removeEventListener("changeend",_i962),_this520.Gb=!1;var _iterator972=_createForOfIteratorHelper(l),_step972;try{for(_iterator972.s();!(_step972=_iterator972.n()).done;){var _t1450=_step972.value;xi(_t1450,n);}}catch(err){_iterator972.e(err);}finally{_iterator972.f();}});}},{key:"Nb",value:function Nb(t){var _this521=this;var e,_i964;this.Js.board.undoManager.checkpoint("Spot light cone angle"),this.Fb=!0;var _this$Js$board17=this.Js.board,s=_this$Js$board17.outermostSelectedElements,n=_this$Js$board17.selectedTextRange,_Gx33=Gx(s,n,!0),_Gx34=_slicedToArray(_Gx33,2),o=_Gx34[0],l=_Gx34[1];this["#cone-angle-box"].addEventListener("change",e=function e(t){t.target===_this521["#cone-angle-slider"]?_this521["#cone-angle-input"].value=_this521["#cone-angle-slider"].value:t.target===_this521["#cone-angle-input"]&&(_this521["#cone-angle-slider"].value=_this521["#cone-angle-input"].value);var _iterator973=_createForOfIteratorHelper(o),_step973;try{for(_iterator973.s();!(_step973=_iterator973.n()).done;){var _t1451=_step973.value;var _e1000=Rx(_t1451),_i963=_e1000?Tx(_e1000):null;_i963&&"spot-light"===_i963.name&&(_i963.coneAngle=_this521["#cone-angle-input"].value,Ax(_e1000,_i963,!0));}}catch(err){_iterator973.e(err);}finally{_iterator973.f();}}),this["#cone-angle-box"].addEventListener("changeend",_i964=function i(){_this521["#cone-angle-box"].removeEventListener("change",e),_this521["#cone-angle-box"].removeEventListener("changeend",_i964),_this521.Fb=!1;var _iterator974=_createForOfIteratorHelper(l),_step974;try{for(_iterator974.s();!(_step974=_iterator974.n()).done;){var _t1452=_step974.value;xi(_t1452,n);}}catch(err){_iterator974.e(err);}finally{_iterator974.f();}});}},{key:"Ib",value:function Ib(t){var _this522=this;var e,_i966;this.Js.board.undoManager.checkpoint("Spot light specular exponent"),this.Ob=!0;var _this$Js$board18=this.Js.board,s=_this$Js$board18.outermostSelectedElements,n=_this$Js$board18.selectedTextRange,_Gx35=Gx(s,n,!0),_Gx36=_slicedToArray(_Gx35,2),o=_Gx36[0],l=_Gx36[1];this["#specular-exponent-box"].addEventListener("change",e=function e(t){t.target===_this522["#specular-exponent-slider"]?_this522["#specular-exponent-input"].value=_this522["#specular-exponent-slider"].value:t.target===_this522["#specular-exponent-input"]&&(_this522["#specular-exponent-slider"].value=_this522["#specular-exponent-input"].value);var _iterator975=_createForOfIteratorHelper(o),_step975;try{for(_iterator975.s();!(_step975=_iterator975.n()).done;){var _t1453=_step975.value;var _e1001=Rx(_t1453),_i965=_e1001?Tx(_e1001):null;_i965&&"spot-light"===_i965.name&&(_i965.specularExponent=_this522["#specular-exponent-input"].value,Ax(_e1001,_i965,!0));}}catch(err){_iterator975.e(err);}finally{_iterator975.f();}}),this["#specular-exponent-box"].addEventListener("changeend",_i966=function i(){_this522["#specular-exponent-box"].removeEventListener("change",e),_this522["#specular-exponent-box"].removeEventListener("changeend",_i966),_this522.Ob=!1;var _iterator976=_createForOfIteratorHelper(l),_step976;try{for(_iterator976.s();!(_step976=_iterator976.n()).done;){var _t1454=_step976.value;xi(_t1454,n);}}catch(err){_iterator976.e(err);}finally{_iterator976.f();}});}},{key:"Lb",value:function Lb(t){var _this523=this;var e,_i968;this.Js.board.undoManager.checkpoint("Spot light specular constant"),this.Eb=!0;var _this$Js$board19=this.Js.board,s=_this$Js$board19.outermostSelectedElements,n=_this$Js$board19.selectedTextRange,_Gx37=Gx(s,n,!0),_Gx38=_slicedToArray(_Gx37,2),o=_Gx38[0],l=_Gx38[1];this["#specular-constant-box"].addEventListener("change",e=function e(t){t.target===_this523["#specular-constant-slider"]?_this523["#specular-constant-input"].value=_this523["#specular-constant-slider"].value:t.target===_this523["#specular-constant-input"]&&(_this523["#specular-constant-slider"].value=_this523["#specular-constant-input"].value);var _iterator977=_createForOfIteratorHelper(o),_step977;try{for(_iterator977.s();!(_step977=_iterator977.n()).done;){var _t1455=_step977.value;var _e1002=Rx(_t1455),_i967=_e1002?Tx(_e1002):null;_i967&&"spot-light"===_i967.name&&(_i967.specularConstant=_this523["#specular-constant-input"].value,Ax(_e1002,_i967,!0));}}catch(err){_iterator977.e(err);}finally{_iterator977.f();}}),this["#specular-constant-box"].addEventListener("changeend",_i968=function i(){_this523["#specular-constant-box"].removeEventListener("change",e),_this523["#specular-constant-box"].removeEventListener("changeend",_i968),_this523.Eb=!1;var _iterator978=_createForOfIteratorHelper(l),_step978;try{for(_iterator978.s();!(_step978=_iterator978.n()).done;){var _t1456=_step978.value;xi(_t1456,n);}}catch(err){_iterator978.e(err);}finally{_iterator978.f();}});}},{key:"Bb",value:function Bb(t){var _this524=this;var e,_i970;this.Js.board.undoManager.checkpoint("Spot light diffuse constant"),this.Tb=!0;var _this$Js$board20=this.Js.board,s=_this$Js$board20.outermostSelectedElements,n=_this$Js$board20.selectedTextRange,_Gx39=Gx(s,n,!0),_Gx40=_slicedToArray(_Gx39,2),o=_Gx40[0],l=_Gx40[1];this["#diffuse-constant-box"].addEventListener("change",e=function e(t){t.target===_this524["#diffuse-constant-slider"]?_this524["#diffuse-constant-input"].value=_this524["#diffuse-constant-slider"].value:t.target===_this524["#diffuse-constant-input"]&&(_this524["#diffuse-constant-slider"].value=_this524["#diffuse-constant-input"].value);var _iterator979=_createForOfIteratorHelper(o),_step979;try{for(_iterator979.s();!(_step979=_iterator979.n()).done;){var _t1457=_step979.value;var _e1003=Rx(_t1457),_i969=_e1003?Tx(_e1003):null;_i969&&"spot-light"===_i969.name&&(_i969.diffuseConstant=_this524["#diffuse-constant-input"].value,Ax(_e1003,_i969,!0));}}catch(err){_iterator979.e(err);}finally{_iterator979.f();}}),this["#diffuse-constant-box"].addEventListener("changeend",_i970=function i(){_this524["#diffuse-constant-box"].removeEventListener("change",e),_this524["#diffuse-constant-box"].removeEventListener("changeend",_i970),_this524.Tb=!1;var _iterator980=_createForOfIteratorHelper(l),_step980;try{for(_iterator980.s();!(_step980=_iterator980.n()).done;){var _t1458=_step980.value;xi(_t1458,n);}}catch(err){_iterator980.e(err);}finally{_iterator980.f();}});}},{key:"Rb",value:function Rb(t){var _this525=this;var e,_i972;this.Js.board.undoManager.checkpoint("Spot light ambient constant"),this.Ab=!0;var _this$Js$board21=this.Js.board,s=_this$Js$board21.outermostSelectedElements,n=_this$Js$board21.selectedTextRange,_Gx41=Gx(s,n,!0),_Gx42=_slicedToArray(_Gx41,2),o=_Gx42[0],l=_Gx42[1];this["#ambient-constant-box"].addEventListener("change",e=function e(t){t.target===_this525["#ambient-constant-slider"]?_this525["#ambient-constant-input"].value=_this525["#ambient-constant-slider"].value:t.target===_this525["#ambient-constant-input"]&&(_this525["#ambient-constant-slider"].value=_this525["#ambient-constant-input"].value);var _iterator981=_createForOfIteratorHelper(o),_step981;try{for(_iterator981.s();!(_step981=_iterator981.n()).done;){var _t1459=_step981.value;var _e1004=Rx(_t1459),_i971=_e1004?Tx(_e1004):null;_i971&&"spot-light"===_i971.name&&(_i971.ambientConstant=_this525["#ambient-constant-input"].value,Ax(_e1004,_i971,!0));}}catch(err){_iterator981.e(err);}finally{_iterator981.f();}}),this["#ambient-constant-box"].addEventListener("changeend",_i972=function i(){_this525["#ambient-constant-box"].removeEventListener("change",e),_this525["#ambient-constant-box"].removeEventListener("changeend",_i972),_this525.Ab=!1;var _iterator982=_createForOfIteratorHelper(l),_step982;try{for(_iterator982.s();!(_step982=_iterator982.n()).done;){var _t1460=_step982.value;xi(_t1460,n);}}catch(err){_iterator982.e(err);}finally{_iterator982.f();}});}},{key:"Mb",value:function Mb(){var _this526=this;var t,_e1006;this.Js.board.undoManager.checkpoint("Spot light color"),this.kb=!0;var _this$Js$board22=this.Js.board,i=_this$Js$board22.outermostSelectedElements,s=_this$Js$board22.selectedTextRange,_Gx43=Gx(i,s,!0),_Gx44=_slicedToArray(_Gx43,2),n=_Gx44[0],o=_Gx44[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator983=_createForOfIteratorHelper(n),_step983;try{for(_iterator983.s();!(_step983=_iterator983.n()).done;){var _t1461=_step983.value;var _e1005=Rx(_t1461),_i973=_e1005?Tx(_e1005):null;_i973&&"spot-light"===_i973.name&&(_i973.color=_this526["#color-select"].value,Ax(_e1005,_i973,!0));}}catch(err){_iterator983.e(err);}finally{_iterator983.f();}}),this["#color-select"].addEventListener("changeend",_e1006=function e(){_this526["#color-select"].removeEventListener("change",t),_this526["#color-select"].removeEventListener("changeend",_e1006),_this526.kb=!1;var _iterator984=_createForOfIteratorHelper(o),_step984;try{for(_iterator984.s();!(_step984=_iterator984.n()).done;){var _t1462=_step984.value;xi(_t1462,s);}}catch(err){_iterator984.e(err);}finally{_iterator984.f();}});}},{key:"qs",value:function qs(){if(!1===this.zb&&!1===this.Gb&&!1===this.Fb&&!1===this.Ob&&!1===this.Eb&&!1===this.Tb&&!1===this.Ab&&!1===this.kb){var _t1463=this.Js.board,_e1007=Gx(_t1463.outermostSelectedElements,_t1463.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1008=_toArray(_e1007),_i974=_e1008[0],_s575=_e1008.slice(1);if(_i974&&"spot-light"===_i974.name){var _t1464=!1,_e1009=!1,_n419=!1,_o328=!1,_l281=!1,_a215=!1,_h171=!1,_r108=!1,_d84=!1,_c65=!1,_p54=!1;var _iterator985=_createForOfIteratorHelper(_s575),_step985;try{for(_iterator985.s();!(_step985=_iterator985.n()).done;){var _u45=_step985.value;null!==_u45&&"spot-light"===_u45.name&&(_u45.sourceX!==_i974.sourceX&&(_t1464=!0),_u45.sourceY!==_i974.sourceY&&(_e1009=!0),_u45.sourceZ!==_i974.sourceZ&&(_n419=!0),_u45.targetX!==_i974.targetX&&(_o328=!0),_u45.targetY!==_i974.targetY&&(_l281=!0),_u45.targetZ!==_i974.targetZ&&(_a215=!0),_u45.coneAngle!==_i974.coneAngle&&(_h171=!0),_u45.specularExponent!==_i974.specularExponent&&(_r108=!0),_u45.specularConstant!==_i974.specularConstant&&(_d84=!0),_u45.diffuseConstant!==_i974.diffuseConstant&&(_c65=!0),_u45.ambientConstant!==_i974.ambientConstant&&(_p54=!0));}}catch(err){_iterator985.e(err);}finally{_iterator985.f();}this["#source-x-input"].mixed=_t1464,this["#source-x-input"].disabled=!1,this["#source-x-input"].value=K(100*_i974.sourceX,3),this["#source-y-input"].mixed=_e1009,this["#source-y-input"].disabled=!1,this["#source-y-input"].value=K(100*_i974.sourceY,3),this["#source-z-input"].mixed=_n419,this["#source-z-input"].disabled=!1,this["#source-z-input"].value=K(100*_i974.sourceZ,3),this["#target-x-input"].mixed=_o328,this["#target-x-input"].disabled=!1,this["#target-x-input"].value=K(100*_i974.targetX,3),this["#target-y-input"].mixed=_l281,this["#target-y-input"].disabled=!1,this["#target-y-input"].value=K(100*_i974.targetY,3),this["#target-z-input"].mixed=_a215,this["#target-z-input"].disabled=!1,this["#target-z-input"].value=K(100*_i974.targetZ,3),this["#cone-angle-input"].mixed=_h171,this["#cone-angle-input"].disabled=!1,this["#cone-angle-input"].value=_i974.coneAngle,this["#cone-angle-slider"].disabled=!1,this["#cone-angle-slider"].value=_i974.coneAngle,this["#specular-exponent-input"].mixed=_r108,this["#specular-exponent-input"].disabled=!1,this["#specular-exponent-input"].value=_i974.specularExponent,this["#specular-exponent-slider"].disabled=!1,this["#specular-exponent-slider"].value=_i974.specularExponent,this["#specular-constant-input"].mixed=_d84,this["#specular-constant-input"].disabled=!1,this["#specular-constant-input"].value=_i974.specularConstant,this["#specular-constant-slider"].disabled=!1,this["#specular-constant-slider"].value=_i974.specularConstant,this["#diffuse-constant-input"].mixed=_c65,this["#diffuse-constant-input"].disabled=!1,this["#diffuse-constant-input"].value=_i974.diffuseConstant,this["#diffuse-constant-slider"].disabled=!1,this["#diffuse-constant-slider"].value=_i974.diffuseConstant,this["#ambient-constant-input"].mixed=_p54,this["#ambient-constant-input"].disabled=!1,this["#ambient-constant-input"].value=_i974.ambientConstant,this["#ambient-constant-slider"].disabled=!1,this["#ambient-constant-slider"].value=_i974.ambientConstant,this["#color-select"].disabled=!1,this["#color-select"].value=_i974.color;}else this["#source-x-input"].mixed=!1,this["#source-x-input"].disabled=!0,this["#source-x-input"].value=0,this["#source-y-input"].mixed=!1,this["#source-y-input"].disabled=!0,this["#source-y-input"].value=0,this["#source-z-input"].mixed=!1,this["#source-z-input"].disabled=!0,this["#source-z-input"].value=0,this["#target-x-input"].mixed=!1,this["#target-x-input"].disabled=!0,this["#target-x-input"].value=0,this["#target-y-input"].mixed=!1,this["#target-y-input"].disabled=!0,this["#target-y-input"].value=0,this["#target-z-input"].mixed=!1,this["#target-z-input"].disabled=!0,this["#target-z-input"].value=0,this["#cone-angle-input"].mixed=!1,this["#cone-angle-input"].disabled=!0,this["#cone-angle-input"].value=0,this["#cone-angle-slider"].disabled=!0,this["#cone-angle-slider"].value=0,this["#specular-exponent-input"].mixed=!1,this["#specular-exponent-input"].disabled=!0,this["#specular-exponent-input"].value=0,this["#specular-exponent-slider"].disabled=!0,this["#specular-exponent-slider"].value=0,this["#specular-constant-input"].mixed=!1,this["#specular-constant-input"].disabled=!0,this["#specular-constant-input"].value=0,this["#specular-constant-slider"].disabled=!0,this["#specular-constant-slider"].value=0,this["#diffuse-constant-input"].mixed=!1,this["#diffuse-constant-input"].disabled=!0,this["#diffuse-constant-input"].value=0,this["#diffuse-constant-slider"].disabled=!0,this["#diffuse-constant-slider"].value=0,this["#ambient-constant-input"].mixed=!1,this["#ambient-constant-input"].disabled=!0,this["#ambient-constant-input"].value=0,this["#ambient-constant-slider"].disabled=!0,this["#ambient-constant-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="#ffffff";}}}]);return jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jx,"_shadowTemplate",qi(_templateObject282()));_defineProperty(jx,"_shadowStyleSheet",Xi(_templateObject283()));customElements.define("bx-spotlightfilterinspector",jx);var Hx=/*#__PURE__*/function(_HTMLElement81){_inherits(Hx,_HTMLElement81);var _super110=_createSuper(Hx);function Hx(){var _this527;_classCallCheck(this,Hx);_this527=_super110.call(this),_this527.eb=!1,_this527.kb=!1,_this527._h=Ki(_this527.qs,200,_assertThisInitialized(_this527)),_this527._shadowRoot=_this527.attachShadow({mode:"closed"}),_this527._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Hx._shadowStyleSheet],_this527._shadowRoot.append(document.importNode(Hx._shadowTemplate.content,!0));var _iterator986=_createForOfIteratorHelper(_this527._shadowRoot.querySelectorAll("[id]")),_step986;try{for(_iterator986.s();!(_step986=_iterator986.n()).done;){var _t1465=_step986.value;_this527["#"+_t1465.id]=_t1465;}}catch(err){_iterator986.e(err);}finally{_iterator986.f();}_this527["#width-box"].addEventListener("changestart",function(){return _this527.ob(event);}),_this527["#color-select"].addEventListener("changestart",function(){return _this527.Mb();});return _this527;}_createClass(Hx,[{key:"connectedCallback",value:function connectedCallback(){var _this528=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this528._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this528._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"ob",value:function ob(t){var _this529=this;var e,_i976;this.Js.board.undoManager.checkpoint("Outline width"),this.eb=!0;var _this$Js$board23=this.Js.board,s=_this$Js$board23.outermostSelectedElements,n=_this$Js$board23.selectedTextRange,_Gx45=Gx(s,n,!0),_Gx46=_slicedToArray(_Gx45,2),o=_Gx46[0],l=_Gx46[1];this["#width-box"].addEventListener("change",e=function e(t){t.target===_this529["#width-slider"]?_this529["#width-input"].value=_this529["#width-slider"].value:t.target===_this529["#width-input"]&&(_this529["#width-slider"].value=_this529["#width-input"].value);var _iterator987=_createForOfIteratorHelper(o),_step987;try{for(_iterator987.s();!(_step987=_iterator987.n()).done;){var _t1466=_step987.value;var _e1010=Rx(_t1466),_i975=_e1010?Tx(_e1010):null;_i975&&"outline"===_i975.name&&(_i975.width=_this529["#width-input"].value,Ax(_e1010,_i975,!0));}}catch(err){_iterator987.e(err);}finally{_iterator987.f();}}),this["#width-box"].addEventListener("changeend",_i976=function i(){_this529["#width-box"].removeEventListener("change",e),_this529["#width-box"].removeEventListener("changeend",_i976),_this529.eb=!1;var _iterator988=_createForOfIteratorHelper(l),_step988;try{for(_iterator988.s();!(_step988=_iterator988.n()).done;){var _t1467=_step988.value;xi(_t1467,n);}}catch(err){_iterator988.e(err);}finally{_iterator988.f();}});}},{key:"Mb",value:function Mb(){var _this530=this;var t,_e1012;this.Js.board.undoManager.checkpoint("Outline color"),this.kb=!0;var _this$Js$board24=this.Js.board,i=_this$Js$board24.outermostSelectedElements,s=_this$Js$board24.selectedTextRange,_Gx47=Gx(i,s,!0),_Gx48=_slicedToArray(_Gx47,2),n=_Gx48[0],o=_Gx48[1];this["#color-select"].addEventListener("change",t=function t(){var _iterator989=_createForOfIteratorHelper(n),_step989;try{for(_iterator989.s();!(_step989=_iterator989.n()).done;){var _t1468=_step989.value;var _e1011=Rx(_t1468),_i977=_e1011?Tx(_e1011):null;_i977&&"outline"===_i977.name&&(_i977.color=_this530["#color-select"].value,Ax(_e1011,_i977,!0));}}catch(err){_iterator989.e(err);}finally{_iterator989.f();}}),this["#color-select"].addEventListener("changeend",_e1012=function e(){_this530["#color-select"].removeEventListener("change",t),_this530["#color-select"].removeEventListener("changeend",_e1012),_this530.kb=!1;var _iterator990=_createForOfIteratorHelper(o),_step990;try{for(_iterator990.s();!(_step990=_iterator990.n()).done;){var _t1469=_step990.value;xi(_t1469,s);}}catch(err){_iterator990.e(err);}finally{_iterator990.f();}});}},{key:"qs",value:function qs(){if(!this.eb&&!this.kb){var _t1470=this.Js.board,_e1013=Gx(_t1470.outermostSelectedElements,_t1470.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1014=_toArray(_e1013),_i978=_e1014[0],_s576=_e1014.slice(1);if(_i978&&"outline"===_i978.name){var _t1471=!1;var _iterator991=_createForOfIteratorHelper(_s576),_step991;try{for(_iterator991.s();!(_step991=_iterator991.n()).done;){var _e1015=_step991.value;null!==_e1015&&"outline"===_e1015.name&&_e1015.width!==_i978.width&&(_t1471=!0);}}catch(err){_iterator991.e(err);}finally{_iterator991.f();}this["#width-input"].mixed=_t1471,this["#width-input"].disabled=!1,this["#width-input"].value=_i978.width,this["#width-slider"].disabled=!1,this["#width-slider"].value=_i978.width,this["#color-select"].disabled=!1,this["#color-select"].value=_i978.color;}else this["#width-input"].mixed=!1,this["#width-input"].disabled=!0,this["#width-input"].value=0,this["#width-slider"].disabled=!0,this["#width-slider"].value=0,this["#color-select"].disabled=!0,this["#color-select"].value="rgba(0,0,0,0)";}}}]);return Hx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hx,"_shadowTemplate",qi(_templateObject284()));_defineProperty(Hx,"_shadowStyleSheet",Xi(_templateObject285()));customElements.define("bx-outlinefilterinspector",Hx);var Yx=/*#__PURE__*/function(_HTMLElement82){_inherits(Yx,_HTMLElement82);var _super111=_createSuper(Yx);function Yx(){var _this531;_classCallCheck(this,Yx);_this531=_super111.call(this),_this531.Vb=!1,_this531._h=Ki(_this531.qs,200,_assertThisInitialized(_this531)),_this531._shadowRoot=_this531.attachShadow({mode:"closed"}),_this531._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Yx._shadowStyleSheet],_this531._shadowRoot.append(document.importNode(Yx._shadowTemplate.content,!0));var _iterator992=_createForOfIteratorHelper(_this531._shadowRoot.querySelectorAll("[id]")),_step992;try{for(_iterator992.s();!(_step992=_iterator992.n()).done;){var _t1472=_step992.value;_this531["#"+_t1472.id]=_t1472;}}catch(err){_iterator992.e(err);}finally{_iterator992.f();}_this531["#radius-box"].addEventListener("changestart",function(){return _this531.jb(event);});return _this531;}_createClass(Yx,[{key:"connectedCallback",value:function connectedCallback(){var _this532=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this532._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this532._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"jb",value:function jb(t){var _this533=this;var e,_i980;this.Js.board.undoManager.checkpoint("Gaussian blur radius"),this.Vb=!0;var _this$Js$board25=this.Js.board,s=_this$Js$board25.outermostSelectedElements,n=_this$Js$board25.selectedTextRange,_Gx49=Gx(s,n,!0),_Gx50=_slicedToArray(_Gx49,2),o=_Gx50[0],l=_Gx50[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this533["#radius-slider"]?_this533["#radius-input"].value=_this533["#radius-slider"].value:t.target===_this533["#radius-input"]&&(_this533["#radius-slider"].value=_this533["#radius-input"].value);var _iterator993=_createForOfIteratorHelper(o),_step993;try{for(_iterator993.s();!(_step993=_iterator993.n()).done;){var _t1473=_step993.value;var _e1016=Rx(_t1473),_i979=_e1016?Tx(_e1016):null;_i979&&"gaussian-blur"===_i979.name&&(_i979.radius=_this533["#radius-input"].value,Ax(_e1016,_i979,!0));}}catch(err){_iterator993.e(err);}finally{_iterator993.f();}}),this["#radius-box"].addEventListener("changeend",_i980=function i(){_this533["#radius-box"].removeEventListener("change",e),_this533["#radius-box"].removeEventListener("changeend",_i980),_this533.Vb=!1;var _iterator994=_createForOfIteratorHelper(l),_step994;try{for(_iterator994.s();!(_step994=_iterator994.n()).done;){var _t1474=_step994.value;xi(_t1474,n);}}catch(err){_iterator994.e(err);}finally{_iterator994.f();}});}},{key:"qs",value:function qs(){if(!1===this.Vb){var _t1475=this.Js.board,_e1017=Gx(_t1475.outermostSelectedElements,_t1475.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1018=_toArray(_e1017),_i981=_e1018[0],_s577=_e1018.slice(1);if(_i981&&"gaussian-blur"===_i981.name){var _t1476=!1;var _iterator995=_createForOfIteratorHelper(_s577),_step995;try{for(_iterator995.s();!(_step995=_iterator995.n()).done;){var _e1019=_step995.value;null!==_e1019&&"gaussian-blur"===_e1019.name&&_e1019.radius!==_i981.radius&&(_t1476=!0);}}catch(err){_iterator995.e(err);}finally{_iterator995.f();}this["#radius-input"].mixed=_t1476,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i981.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i981.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Yx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Yx,"_shadowTemplate",qi(_templateObject286()));_defineProperty(Yx,"_shadowStyleSheet",Xi(_templateObject287()));customElements.define("bx-gaussianblurfilterinspector",Yx);var Wx=/*#__PURE__*/function(_HTMLElement83){_inherits(Wx,_HTMLElement83);var _super112=_createSuper(Wx);function Wx(){var _this534;_classCallCheck(this,Wx);_this534=_super112.call(this),_this534.Hb=!1,_this534._h=Ki(_this534.qs,200,_assertThisInitialized(_this534)),_this534._shadowRoot=_this534.attachShadow({mode:"closed"}),_this534._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Wx._shadowStyleSheet],_this534._shadowRoot.append(document.importNode(Wx._shadowTemplate.content,!0));var _iterator996=_createForOfIteratorHelper(_this534._shadowRoot.querySelectorAll("[id]")),_step996;try{for(_iterator996.s();!(_step996=_iterator996.n()).done;){var _t1477=_step996.value;_this534["#"+_t1477.id]=_t1477;}}catch(err){_iterator996.e(err);}finally{_iterator996.f();}_this534["#orientation-buttons"].addEventListener("toggle",function(){return _this534.Yb();}),_this534["#distance-box"].addEventListener("changestart",function(){return _this534.Wb(event);});return _this534;}_createClass(Wx,[{key:"connectedCallback",value:function connectedCallback(){var _this535=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this535._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this535._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Yb",value:function Yb(){this.Js.board.undoManager.checkpoint("Motion blur orientation");var _this$Js$board26=this.Js.board,t=_this$Js$board26.outermostSelectedElements,e=_this$Js$board26.selectedTextRange,_Gx51=Gx(t,e,!0),_Gx52=_slicedToArray(_Gx51,2),i=_Gx52[0],s=_Gx52[1];var _iterator997=_createForOfIteratorHelper(i),_step997;try{for(_iterator997.s();!(_step997=_iterator997.n()).done;){var _t1478=_step997.value;var _e1020=Rx(_t1478),_i982=_e1020?Tx(_e1020):null;_i982&&"motion-blur"===_i982.name&&(_i982.orientation=this["#orientation-buttons"].value,Ax(_e1020,_i982,!0));}}catch(err){_iterator997.e(err);}finally{_iterator997.f();}var _iterator998=_createForOfIteratorHelper(s),_step998;try{for(_iterator998.s();!(_step998=_iterator998.n()).done;){var _t1479=_step998.value;xi(_t1479,e);}}catch(err){_iterator998.e(err);}finally{_iterator998.f();}}},{key:"Wb",value:function Wb(t){var _this536=this;var e,_i984;this.Js.board.undoManager.checkpoint("Motion blur distance"),this.Hb=!0;var _this$Js$board27=this.Js.board,s=_this$Js$board27.outermostSelectedElements,n=_this$Js$board27.selectedTextRange,_Gx53=Gx(s,n,!0),_Gx54=_slicedToArray(_Gx53,2),o=_Gx54[0],l=_Gx54[1];this["#distance-box"].addEventListener("change",e=function e(t){t.target===_this536["#distance-slider"]?_this536["#distance-input"].value=_this536["#distance-slider"].value:t.target===_this536["#distance-input"]&&(_this536["#distance-slider"].value=_this536["#distance-input"].value);var _iterator999=_createForOfIteratorHelper(o),_step999;try{for(_iterator999.s();!(_step999=_iterator999.n()).done;){var _t1480=_step999.value;var _e1021=Rx(_t1480),_i983=_e1021?Tx(_e1021):null;_i983&&"motion-blur"===_i983.name&&(_i983.distance=_this536["#distance-input"].value,Ax(_e1021,_i983,!0));}}catch(err){_iterator999.e(err);}finally{_iterator999.f();}}),this["#distance-box"].addEventListener("changeend",_i984=function i(){_this536["#distance-box"].removeEventListener("change",e),_this536["#distance-box"].removeEventListener("changeend",_i984),_this536.Hb=!1;var _iterator1000=_createForOfIteratorHelper(l),_step1000;try{for(_iterator1000.s();!(_step1000=_iterator1000.n()).done;){var _t1481=_step1000.value;xi(_t1481,n);}}catch(err){_iterator1000.e(err);}finally{_iterator1000.f();}});}},{key:"qs",value:function qs(){if(!1===this.Hb){var _t1482=this.Js.board,_e1022=Gx(_t1482.outermostSelectedElements,_t1482.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1023=_toArray(_e1022),_i985=_e1023[0],_s578=_e1023.slice(1);if(_i985&&"motion-blur"===_i985.name){var _t1483=!1;var _iterator1001=_createForOfIteratorHelper(_s578),_step1001;try{for(_iterator1001.s();!(_step1001=_iterator1001.n()).done;){var _e1024=_step1001.value;null!==_e1024&&"motion-blur"===_e1024.name&&_e1024.distance!==_i985.distance&&(_t1483=!0);}}catch(err){_iterator1001.e(err);}finally{_iterator1001.f();}this["#orientation-buttons"].value=_i985.orientation,this["#distance-input"].mixed=_t1483,this["#distance-input"].disabled=!1,this["#distance-input"].value=_i985.distance,this["#distance-slider"].disabled=!1,this["#distance-slider"].value=_i985.distance;}else this["#distance-input"].mixed=!1,this["#distance-input"].disabled=!0,this["#distance-input"].value=0,this["#distance-slider"].disabled=!0,this["#distance-slider"].value=0;}}}]);return Wx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Wx,"_shadowTemplate",qi(_templateObject288()));_defineProperty(Wx,"_shadowStyleSheet",Xi(_templateObject289()));customElements.define("bx-motionblurfilterinspector",Wx);var qx=/*#__PURE__*/function(_HTMLElement84){_inherits(qx,_HTMLElement84);var _super113=_createSuper(qx);function qx(){var _this537;_classCallCheck(this,qx);_this537=_super113.call(this),_this537._h=Ki(_this537.qs,200,_assertThisInitialized(_this537)),_this537.qb=!1,_this537.Xb=!1,_this537._shadowRoot=_this537.attachShadow({mode:"closed"}),_this537._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,qx._shadowStyleSheet],_this537._shadowRoot.append(document.importNode(qx._shadowTemplate.content,!0));var _iterator1002=_createForOfIteratorHelper(_this537._shadowRoot.querySelectorAll("[id]")),_step1002;try{for(_iterator1002.s();!(_step1002=_iterator1002.n()).done;){var _t1484=_step1002.value;_this537["#"+_t1484.id]=_t1484;}}catch(err){_iterator1002.e(err);}finally{_iterator1002.f();}_this537["#amount-box"].addEventListener("changestart",function(){return _this537.Zb(event);}),_this537["#frequency-box"].addEventListener("changestart",function(){return _this537.Kb(event);});return _this537;}_createClass(qx,[{key:"connectedCallback",value:function connectedCallback(){var _this538=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this538._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this538._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this539=this;var e,_i987;this.Js.board.undoManager.checkpoint("Warp amount"),this.qb=!0;var _this$Js$board28=this.Js.board,s=_this$Js$board28.outermostSelectedElements,n=_this$Js$board28.selectedTextRange,_Gx55=Gx(s,n,!0),_Gx56=_slicedToArray(_Gx55,2),o=_Gx56[0],l=_Gx56[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this539["#amount-slider"]?_this539["#amount-input"].value=_this539["#amount-slider"].value:t.target===_this539["#amount-input"]&&(_this539["#amount-slider"].value=_this539["#amount-input"].value);var _iterator1003=_createForOfIteratorHelper(o),_step1003;try{for(_iterator1003.s();!(_step1003=_iterator1003.n()).done;){var _t1485=_step1003.value;var _e1025=Rx(_t1485),_i986=_e1025?Tx(_e1025):null;_i986&&"warp"===_i986.name&&(_i986.amount=_this539["#amount-input"].value,Ax(_e1025,_i986,!0));}}catch(err){_iterator1003.e(err);}finally{_iterator1003.f();}}),this["#amount-box"].addEventListener("changeend",_i987=function i(){_this539["#amount-box"].removeEventListener("change",e),_this539["#amount-box"].removeEventListener("changeend",_i987),_this539.qb=!1;var _iterator1004=_createForOfIteratorHelper(l),_step1004;try{for(_iterator1004.s();!(_step1004=_iterator1004.n()).done;){var _t1486=_step1004.value;xi(_t1486,n);}}catch(err){_iterator1004.e(err);}finally{_iterator1004.f();}});}},{key:"Kb",value:function Kb(t){var _this540=this;var e,_i989;this.Js.board.undoManager.checkpoint("Warp frequency"),this.Xb=!0;var _this$Js$board29=this.Js.board,s=_this$Js$board29.outermostSelectedElements,n=_this$Js$board29.selectedTextRange,_Gx57=Gx(s,n,!0),_Gx58=_slicedToArray(_Gx57,2),o=_Gx58[0],l=_Gx58[1];this["#frequency-box"].addEventListener("change",e=function e(t){t.target===_this540["#frequency-slider"]?_this540["#frequency-input"].value=_this540["#frequency-slider"].value:t.target===_this540["#frequency-input"]&&(_this540["#frequency-slider"].value=_this540["#frequency-input"].value);var _iterator1005=_createForOfIteratorHelper(o),_step1005;try{for(_iterator1005.s();!(_step1005=_iterator1005.n()).done;){var _t1487=_step1005.value;var _e1026=Rx(_t1487),_i988=_e1026?Tx(_e1026):null;_i988&&"warp"===_i988.name&&(_i988.frequency=_this540["#frequency-input"].value,Ax(_e1026,_i988,!0));}}catch(err){_iterator1005.e(err);}finally{_iterator1005.f();}}),this["#frequency-box"].addEventListener("changeend",_i989=function i(){_this540["#frequency-box"].removeEventListener("change",e),_this540["#frequency-box"].removeEventListener("changeend",_i989),_this540.Xb=!1;var _iterator1006=_createForOfIteratorHelper(l),_step1006;try{for(_iterator1006.s();!(_step1006=_iterator1006.n()).done;){var _t1488=_step1006.value;xi(_t1488,n);}}catch(err){_iterator1006.e(err);}finally{_iterator1006.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb&&!1===this.Xb){var _t1489=this.Js.board,_e1027=Gx(_t1489.outermostSelectedElements,_t1489.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1028=_toArray(_e1027),_i990=_e1028[0],_s579=_e1028.slice(1);if(_i990&&"warp"===_i990.name){var _t1490=!1;var _iterator1007=_createForOfIteratorHelper(_s579),_step1007;try{for(_iterator1007.s();!(_step1007=_iterator1007.n()).done;){var _e1029=_step1007.value;null!==_e1029&&"warp"===_e1029.name&&(_e1029.amount!==_i990.amount&&(_t1490=!0),_e1029.frequency,_i990.frequency);}}catch(err){_iterator1007.e(err);}finally{_iterator1007.f();}this["#amount-input"].mixed=_t1490,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i990.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i990.amount,this["#frequency-input"].mixed=_t1490,this["#frequency-input"].disabled=!1,this["#frequency-input"].value=_i990.frequency,this["#frequency-slider"].disabled=!1,this["#frequency-slider"].value=_i990.frequency;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#frequency-input"].mixed=!1,this["#frequency-input"].disabled=!0,this["#frequency-input"].value=0,this["#frequency-slider"].disabled=!0,this["#frequency-slider"].value=0;}}}]);return qx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(qx,"_shadowTemplate",qi(_templateObject290()));_defineProperty(qx,"_shadowStyleSheet",Xi(_templateObject291()));customElements.define("bx-warpfilterinspector",qx);var Xx=/*#__PURE__*/function(_HTMLElement85){_inherits(Xx,_HTMLElement85);var _super114=_createSuper(Xx);function Xx(){var _this541;_classCallCheck(this,Xx);_this541=_super114.call(this),_this541.Qb=!1,_this541._h=Ki(_this541.qs,200,_assertThisInitialized(_this541)),_this541._shadowRoot=_this541.attachShadow({mode:"closed"}),_this541._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Xx._shadowStyleSheet],_this541._shadowRoot.append(document.importNode(Xx._shadowTemplate.content,!0));var _iterator1008=_createForOfIteratorHelper(_this541._shadowRoot.querySelectorAll("[id]")),_step1008;try{for(_iterator1008.s();!(_step1008=_iterator1008.n()).done;){var _t1491=_step1008.value;_this541["#"+_t1491.id]=_t1491;}}catch(err){_iterator1008.e(err);}finally{_iterator1008.f();}_this541["#pixel-size-box"].addEventListener("changestart",function(){return _this541.Jb(event);});return _this541;}_createClass(Xx,[{key:"connectedCallback",value:function connectedCallback(){var _this542=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this542._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this542._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jb",value:function Jb(t){var _this543=this;var e,_i992;this.Js.board.undoManager.checkpoint("Pixelete pixel size"),this.Qb=!0;var _this$Js$board30=this.Js.board,s=_this$Js$board30.outermostSelectedElements,n=_this$Js$board30.selectedTextRange,_Gx59=Gx(s,n,!0),_Gx60=_slicedToArray(_Gx59,2),o=_Gx60[0],l=_Gx60[1];this["#pixel-size-box"].addEventListener("change",e=function e(t){t.target===_this543["#pixel-size-slider"]?_this543["#pixel-size-input"].value=_this543["#pixel-size-slider"].value:t.target===_this543["#pixel-size-input"]&&(_this543["#pixel-size-slider"].value=_this543["#pixel-size-input"].value);var _iterator1009=_createForOfIteratorHelper(o),_step1009;try{for(_iterator1009.s();!(_step1009=_iterator1009.n()).done;){var _t1492=_step1009.value;var _e1030=Rx(_t1492),_i991=_e1030?Tx(_e1030):null;_i991&&"pixelete"===_i991.name&&(_i991.pixelSize=_this543["#pixel-size-input"].value,Ax(_e1030,_i991,!0));}}catch(err){_iterator1009.e(err);}finally{_iterator1009.f();}}),this["#pixel-size-box"].addEventListener("changeend",_i992=function i(){_this543["#pixel-size-box"].removeEventListener("change",e),_this543["#pixel-size-box"].removeEventListener("changeend",_i992),_this543.Qb=!1;var _iterator1010=_createForOfIteratorHelper(l),_step1010;try{for(_iterator1010.s();!(_step1010=_iterator1010.n()).done;){var _t1493=_step1010.value;xi(_t1493,n);}}catch(err){_iterator1010.e(err);}finally{_iterator1010.f();}});}},{key:"qs",value:function qs(){if(!1===this.Qb){var _t1494=this.Js.board,_e1031=Gx(_t1494.outermostSelectedElements,_t1494.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1032=_toArray(_e1031),_i993=_e1032[0],_s580=_e1032.slice(1);if(_i993&&"pixelete"===_i993.name){var _t1495=!1;var _iterator1011=_createForOfIteratorHelper(_s580),_step1011;try{for(_iterator1011.s();!(_step1011=_iterator1011.n()).done;){var _e1033=_step1011.value;null!==_e1033&&"pixelete"===_e1033.name&&_e1033.pixelSize!==_i993.pixelSize&&(_t1495=!0);}}catch(err){_iterator1011.e(err);}finally{_iterator1011.f();}this["#pixel-size-input"].mixed=_t1495,this["#pixel-size-input"].disabled=!1,this["#pixel-size-input"].value=_i993.pixelSize,this["#pixel-size-slider"].disabled=!1,this["#pixel-size-slider"].value=_i993.pixelSize;}else this["#pixel-size-input"].mixed=!1,this["#pixel-size-input"].disabled=!0,this["#pixel-size-input"].value=0,this["#pixel-size-slider"].disabled=!0,this["#pixel-size-slider"].value=0;}}}]);return Xx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Xx,"_shadowTemplate",qi(_templateObject292()));_defineProperty(Xx,"_shadowStyleSheet",Xi(_templateObject293()));customElements.define("bx-pixeletefilterinspector",Xx);var Zx=/*#__PURE__*/function(_HTMLElement86){_inherits(Zx,_HTMLElement86);var _super115=_createSuper(Zx);function Zx(){var _this544;_classCallCheck(this,Zx);_this544=_super115.call(this),_this544.Vb=!1,_this544._h=Ki(_this544.qs,200,_assertThisInitialized(_this544)),_this544._shadowRoot=_this544.attachShadow({mode:"closed"}),_this544._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Zx._shadowStyleSheet],_this544._shadowRoot.append(document.importNode(Zx._shadowTemplate.content,!0));var _iterator1012=_createForOfIteratorHelper(_this544._shadowRoot.querySelectorAll("[id]")),_step1012;try{for(_iterator1012.s();!(_step1012=_iterator1012.n()).done;){var _t1496=_step1012.value;_this544["#"+_t1496.id]=_t1496;}}catch(err){_iterator1012.e(err);}finally{_iterator1012.f();}_this544["#operator-buttons"].addEventListener("toggle",function(){return _this544.tm();}),_this544["#radius-box"].addEventListener("changestart",function(){return _this544.jb(event);});return _this544;}_createClass(Zx,[{key:"connectedCallback",value:function connectedCallback(){var _this545=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this545._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this545._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"tm",value:function tm(){this.Js.board.undoManager.checkpoint("Morphology operator");var _this$Js$board31=this.Js.board,t=_this$Js$board31.outermostSelectedElements,e=_this$Js$board31.selectedTextRange,_Gx61=Gx(t,e,!0),_Gx62=_slicedToArray(_Gx61,2),i=_Gx62[0],s=_Gx62[1];var _iterator1013=_createForOfIteratorHelper(i),_step1013;try{for(_iterator1013.s();!(_step1013=_iterator1013.n()).done;){var _t1497=_step1013.value;var _e1034=Rx(_t1497),_i994=_e1034?Tx(_e1034):null;_i994&&"morphology"===_i994.name&&(_i994.operator=this["#operator-buttons"].value,Ax(_e1034,_i994,!0));}}catch(err){_iterator1013.e(err);}finally{_iterator1013.f();}var _iterator1014=_createForOfIteratorHelper(s),_step1014;try{for(_iterator1014.s();!(_step1014=_iterator1014.n()).done;){var _t1498=_step1014.value;xi(_t1498,e);}}catch(err){_iterator1014.e(err);}finally{_iterator1014.f();}}},{key:"jb",value:function jb(t){var _this546=this;var e,_i996;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Vb=!0;var _this$Js$board32=this.Js.board,s=_this$Js$board32.outermostSelectedElements,n=_this$Js$board32.selectedTextRange,_Gx63=Gx(s,n,!0),_Gx64=_slicedToArray(_Gx63,2),o=_Gx64[0],l=_Gx64[1];this["#radius-box"].addEventListener("change",e=function e(t){t.target===_this546["#radius-slider"]?_this546["#radius-input"].value=_this546["#radius-slider"].value:t.target===_this546["#radius-input"]&&(_this546["#radius-slider"].value=_this546["#radius-input"].value);var _iterator1015=_createForOfIteratorHelper(o),_step1015;try{for(_iterator1015.s();!(_step1015=_iterator1015.n()).done;){var _t1499=_step1015.value;var _e1035=Rx(_t1499),_i995=_e1035?Tx(_e1035):null;_i995&&"morphology"===_i995.name&&(_i995.radius=_this546["#radius-input"].value,Ax(_e1035,_i995,!0));}}catch(err){_iterator1015.e(err);}finally{_iterator1015.f();}}),this["#radius-box"].addEventListener("changeend",_i996=function i(){_this546["#radius-box"].removeEventListener("change",e),_this546["#radius-box"].removeEventListener("changeend",_i996),_this546.Vb=!1;var _iterator1016=_createForOfIteratorHelper(l),_step1016;try{for(_iterator1016.s();!(_step1016=_iterator1016.n()).done;){var _t1500=_step1016.value;xi(_t1500,n);}}catch(err){_iterator1016.e(err);}finally{_iterator1016.f();}});}},{key:"qs",value:function qs(){if(!1===this.Vb){var _t1501=this.Js.board,_e1036=Gx(_t1501.outermostSelectedElements,_t1501.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1037=_toArray(_e1036),_i997=_e1037[0],_s581=_e1037.slice(1);if(_i997&&"morphology"===_i997.name){var _t1502=!1;var _iterator1017=_createForOfIteratorHelper(_s581),_step1017;try{for(_iterator1017.s();!(_step1017=_iterator1017.n()).done;){var _e1038=_step1017.value;null!==_e1038&&"morphology"===_e1038.name&&_e1038.radius!==_i997.radius&&(_t1502=!0);}}catch(err){_iterator1017.e(err);}finally{_iterator1017.f();}this["#operator-buttons"].value=_i997.operator,this["#radius-input"].mixed=_t1502,this["#radius-input"].disabled=!1,this["#radius-input"].value=_i997.radius,this["#radius-slider"].disabled=!1,this["#radius-slider"].value=_i997.radius;}else this["#radius-input"].mixed=!1,this["#radius-input"].disabled=!0,this["#radius-input"].value=0,this["#radius-slider"].disabled=!0,this["#radius-slider"].value=0;}}}]);return Zx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Zx,"_shadowTemplate",qi(_templateObject294()));_defineProperty(Zx,"_shadowStyleSheet",Xi(_templateObject295()));customElements.define("bx-morphologyfilterinspector",Zx);var Kx=/*#__PURE__*/function(_HTMLElement87){_inherits(Kx,_HTMLElement87);var _super116=_createSuper(Kx);function Kx(){var _this547;_classCallCheck(this,Kx);_this547=_super116.call(this),_this547.im=!1,_this547._h=Ki(_this547.qs,200,_assertThisInitialized(_this547)),_this547._shadowRoot=_this547.attachShadow({mode:"closed"}),_this547._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Kx._shadowStyleSheet],_this547._shadowRoot.append(document.importNode(Kx._shadowTemplate.content,!0));var _iterator1018=_createForOfIteratorHelper(_this547._shadowRoot.querySelectorAll("[id]")),_step1018;try{for(_iterator1018.s();!(_step1018=_iterator1018.n()).done;){var _t1503=_step1018.value;_this547["#"+_t1503.id]=_t1503;}}catch(err){_iterator1018.e(err);}finally{_iterator1018.f();}_this547["#balance-box"].addEventListener("changestart",function(){return _this547.sm(event);});return _this547;}_createClass(Kx,[{key:"connectedCallback",value:function connectedCallback(){var _this548=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this548._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this548._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sm",value:function sm(t){var _this549=this;var e,_i999;this.Js.board.undoManager.checkpoint("Black and white balance"),this.im=!0;var _this$Js$board33=this.Js.board,s=_this$Js$board33.outermostSelectedElements,n=_this$Js$board33.selectedTextRange,_Gx65=Gx(s,n,!0),_Gx66=_slicedToArray(_Gx65,2),o=_Gx66[0],l=_Gx66[1];this["#balance-box"].addEventListener("change",e=function e(t){t.target===_this549["#balance-slider"]?_this549["#balance-input"].value=_this549["#balance-slider"].value:t.target===_this549["#balance-input"]&&(_this549["#balance-slider"].value=_this549["#balance-input"].value);var _iterator1019=_createForOfIteratorHelper(o),_step1019;try{for(_iterator1019.s();!(_step1019=_iterator1019.n()).done;){var _t1504=_step1019.value;var _e1039=Rx(_t1504),_i998=_e1039?Tx(_e1039):null;_i998&&"black-and-white"===_i998.name&&(_i998.balance=_this549["#balance-input"].value,Ax(_e1039,_i998,!0));}}catch(err){_iterator1019.e(err);}finally{_iterator1019.f();}}),this["#balance-box"].addEventListener("changeend",_i999=function i(){_this549["#balance-box"].removeEventListener("change",e),_this549["#balance-box"].removeEventListener("changeend",_i999),_this549.im=!1;var _iterator1020=_createForOfIteratorHelper(l),_step1020;try{for(_iterator1020.s();!(_step1020=_iterator1020.n()).done;){var _t1505=_step1020.value;xi(_t1505,n);}}catch(err){_iterator1020.e(err);}finally{_iterator1020.f();}});}},{key:"qs",value:function qs(){if(!1===this.im){var _t1506=this.Js.board,_e1040=Gx(_t1506.outermostSelectedElements,_t1506.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1041=_toArray(_e1040),_i1000=_e1041[0],_s582=_e1041.slice(1);if(_i1000&&"black-and-white"===_i1000.name){var _t1507=!1;var _iterator1021=_createForOfIteratorHelper(_s582),_step1021;try{for(_iterator1021.s();!(_step1021=_iterator1021.n()).done;){var _e1042=_step1021.value;null!==_e1042&&"black-and-white"===_e1042.name&&_e1042.balance!==_i1000.balance&&(_t1507=!0);}}catch(err){_iterator1021.e(err);}finally{_iterator1021.f();}this["#balance-input"].mixed=_t1507,this["#balance-input"].disabled=!1,this["#balance-input"].value=_i1000.balance,this["#balance-slider"].disabled=!1,this["#balance-slider"].value=_i1000.balance;}else this["#balance-input"].mixed=!1,this["#balance-input"].disabled=!0,this["#balance-input"].value=0,this["#balance-slider"].disabled=!0,this["#balance-slider"].value=0;}}}]);return Kx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Kx,"_shadowTemplate",qi(_templateObject296()));_defineProperty(Kx,"_shadowStyleSheet",Xi(_templateObject297()));customElements.define("bx-blackandwhitefilterinspector",Kx);var Qx=/*#__PURE__*/function(_HTMLElement88){_inherits(Qx,_HTMLElement88);var _super117=_createSuper(Qx);function Qx(){var _this550;_classCallCheck(this,Qx);_this550=_super117.call(this),_this550.qb=!1,_this550._h=Ki(_this550.qs,200,_assertThisInitialized(_this550)),_this550._shadowRoot=_this550.attachShadow({mode:"closed"}),_this550._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Qx._shadowStyleSheet],_this550._shadowRoot.append(document.importNode(Qx._shadowTemplate.content,!0));var _iterator1022=_createForOfIteratorHelper(_this550._shadowRoot.querySelectorAll("[id]")),_step1022;try{for(_iterator1022.s();!(_step1022=_iterator1022.n()).done;){var _t1508=_step1022.value;_this550["#"+_t1508.id]=_t1508;}}catch(err){_iterator1022.e(err);}finally{_iterator1022.f();}_this550["#amount-box"].addEventListener("changestart",function(){return _this550.Zb(event);});return _this550;}_createClass(Qx,[{key:"connectedCallback",value:function connectedCallback(){var _this551=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this551._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this551._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this552=this;var e,_i1002;this.Js.board.undoManager.checkpoint("Grayscale amount"),this.qb=!0;var _this$Js$board34=this.Js.board,s=_this$Js$board34.outermostSelectedElements,n=_this$Js$board34.selectedTextRange,_Gx67=Gx(s,n,!0),_Gx68=_slicedToArray(_Gx67,2),o=_Gx68[0],l=_Gx68[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this552["#amount-slider"]?_this552["#amount-input"].value=_this552["#amount-slider"].value:t.target===_this552["#amount-input"]&&(_this552["#amount-slider"].value=_this552["#amount-input"].value);var _iterator1023=_createForOfIteratorHelper(o),_step1023;try{for(_iterator1023.s();!(_step1023=_iterator1023.n()).done;){var _t1509=_step1023.value;var _e1043=Rx(_t1509),_i1001=_e1043?Tx(_e1043):null;_i1001&&"grayscale"===_i1001.name&&(_i1001.amount=_this552["#amount-input"].value,Ax(_e1043,_i1001,!0));}}catch(err){_iterator1023.e(err);}finally{_iterator1023.f();}}),this["#amount-box"].addEventListener("changeend",_i1002=function i(){_this552["#amount-box"].removeEventListener("change",e),_this552["#amount-box"].removeEventListener("changeend",_i1002),_this552.qb=!1;var _iterator1024=_createForOfIteratorHelper(l),_step1024;try{for(_iterator1024.s();!(_step1024=_iterator1024.n()).done;){var _t1510=_step1024.value;xi(_t1510,n);}}catch(err){_iterator1024.e(err);}finally{_iterator1024.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1511=this.Js.board,_e1044=Gx(_t1511.outermostSelectedElements,_t1511.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1045=_toArray(_e1044),_i1003=_e1045[0],_s583=_e1045.slice(1);if(_i1003&&"grayscale"===_i1003.name){var _t1512=!1;var _iterator1025=_createForOfIteratorHelper(_s583),_step1025;try{for(_iterator1025.s();!(_step1025=_iterator1025.n()).done;){var _e1046=_step1025.value;null!==_e1046&&"grayscale"===_e1046.name&&_e1046.amount!==_i1003.amount&&(_t1512=!0);}}catch(err){_iterator1025.e(err);}finally{_iterator1025.f();}this["#amount-input"].mixed=_t1512,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1003.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1003.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Qx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Qx,"_shadowTemplate",qi(_templateObject298()));_defineProperty(Qx,"_shadowStyleSheet",Xi(_templateObject299()));customElements.define("bx-grayscalefilterinspector",Qx);var Jx=/*#__PURE__*/function(_HTMLElement89){_inherits(Jx,_HTMLElement89);var _super118=_createSuper(Jx);function Jx(){var _this553;_classCallCheck(this,Jx);_this553=_super118.call(this),_this553.qb=!1,_this553._h=Ki(_this553.qs,200,_assertThisInitialized(_this553)),_this553._shadowRoot=_this553.attachShadow({mode:"closed"}),_this553._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Jx._shadowStyleSheet],_this553._shadowRoot.append(document.importNode(Jx._shadowTemplate.content,!0));var _iterator1026=_createForOfIteratorHelper(_this553._shadowRoot.querySelectorAll("[id]")),_step1026;try{for(_iterator1026.s();!(_step1026=_iterator1026.n()).done;){var _t1513=_step1026.value;_this553["#"+_t1513.id]=_t1513;}}catch(err){_iterator1026.e(err);}finally{_iterator1026.f();}_this553["#amount-box"].addEventListener("changestart",function(){return _this553.Zb(event);});return _this553;}_createClass(Jx,[{key:"connectedCallback",value:function connectedCallback(){var _this554=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this554._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this554._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this555=this;var e,_i1005;this.Js.board.undoManager.checkpoint("Sepia amount"),this.qb=!0;var _this$Js$board35=this.Js.board,s=_this$Js$board35.outermostSelectedElements,n=_this$Js$board35.selectedTextRange,_Gx69=Gx(s,n,!0),_Gx70=_slicedToArray(_Gx69,2),o=_Gx70[0],l=_Gx70[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this555["#amount-slider"]?_this555["#amount-input"].value=_this555["#amount-slider"].value:t.target===_this555["#amount-input"]&&(_this555["#amount-slider"].value=_this555["#amount-input"].value);var _iterator1027=_createForOfIteratorHelper(o),_step1027;try{for(_iterator1027.s();!(_step1027=_iterator1027.n()).done;){var _t1514=_step1027.value;var _e1047=Rx(_t1514),_i1004=_e1047?Tx(_e1047):null;_i1004&&"sepia"===_i1004.name&&(_i1004.amount=_this555["#amount-input"].value,Ax(_e1047,_i1004,!0));}}catch(err){_iterator1027.e(err);}finally{_iterator1027.f();}}),this["#amount-box"].addEventListener("changeend",_i1005=function i(){_this555["#amount-box"].removeEventListener("change",e),_this555["#amount-box"].removeEventListener("changeend",_i1005),_this555.qb=!1;var _iterator1028=_createForOfIteratorHelper(l),_step1028;try{for(_iterator1028.s();!(_step1028=_iterator1028.n()).done;){var _t1515=_step1028.value;xi(_t1515,n);}}catch(err){_iterator1028.e(err);}finally{_iterator1028.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1516=this.Js.board,_e1048=Gx(_t1516.outermostSelectedElements,_t1516.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1049=_toArray(_e1048),_i1006=_e1049[0],_s584=_e1049.slice(1);if(_i1006&&"sepia"===_i1006.name){var _t1517=!1;var _iterator1029=_createForOfIteratorHelper(_s584),_step1029;try{for(_iterator1029.s();!(_step1029=_iterator1029.n()).done;){var _e1050=_step1029.value;null!==_e1050&&"sepia"===_e1050.name&&_e1050.amount!==_i1006.amount&&(_t1517=!0);}}catch(err){_iterator1029.e(err);}finally{_iterator1029.f();}this["#amount-input"].mixed=_t1517,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1006.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1006.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return Jx;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Jx,"_shadowTemplate",qi(_templateObject300()));_defineProperty(Jx,"_shadowStyleSheet",Xi(_templateObject301()));customElements.define("bx-sepiafilterinspector",Jx);var tb=/*#__PURE__*/function(_HTMLElement90){_inherits(tb,_HTMLElement90);var _super119=_createSuper(tb);function tb(){var _this556;_classCallCheck(this,tb);_this556=_super119.call(this),_this556.qb=!1,_this556._h=Ki(_this556.qs,200,_assertThisInitialized(_this556)),_this556._shadowRoot=_this556.attachShadow({mode:"closed"}),_this556._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,tb._shadowStyleSheet],_this556._shadowRoot.append(document.importNode(tb._shadowTemplate.content,!0));var _iterator1030=_createForOfIteratorHelper(_this556._shadowRoot.querySelectorAll("[id]")),_step1030;try{for(_iterator1030.s();!(_step1030=_iterator1030.n()).done;){var _t1518=_step1030.value;_this556["#"+_t1518.id]=_t1518;}}catch(err){_iterator1030.e(err);}finally{_iterator1030.f();}_this556["#amount-box"].addEventListener("changestart",function(){return _this556.Zb(event);});return _this556;}_createClass(tb,[{key:"connectedCallback",value:function connectedCallback(){var _this557=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this557._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this557._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this558=this;var e,_i1008;this.Js.board.undoManager.checkpoint("Saturate amount"),this.qb=!0;var _this$Js$board36=this.Js.board,s=_this$Js$board36.outermostSelectedElements,n=_this$Js$board36.selectedTextRange,_Gx71=Gx(s,n,!0),_Gx72=_slicedToArray(_Gx71,2),o=_Gx72[0],l=_Gx72[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this558["#amount-slider"]?_this558["#amount-input"].value=_this558["#amount-slider"].value:t.target===_this558["#amount-input"]&&(_this558["#amount-slider"].value=_this558["#amount-input"].value);var _iterator1031=_createForOfIteratorHelper(o),_step1031;try{for(_iterator1031.s();!(_step1031=_iterator1031.n()).done;){var _t1519=_step1031.value;var _e1051=Rx(_t1519),_i1007=_e1051?Tx(_e1051):null;_i1007&&"saturate"===_i1007.name&&(_i1007.amount=_this558["#amount-input"].value,Ax(_e1051,_i1007,!0));}}catch(err){_iterator1031.e(err);}finally{_iterator1031.f();}}),this["#amount-box"].addEventListener("changeend",_i1008=function i(){_this558["#amount-box"].removeEventListener("change",e),_this558["#amount-box"].removeEventListener("changeend",_i1008),_this558.qb=!1;var _iterator1032=_createForOfIteratorHelper(l),_step1032;try{for(_iterator1032.s();!(_step1032=_iterator1032.n()).done;){var _t1520=_step1032.value;xi(_t1520,n);}}catch(err){_iterator1032.e(err);}finally{_iterator1032.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1521=this.Js.board,_e1052=Gx(_t1521.outermostSelectedElements,_t1521.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1053=_toArray(_e1052),_i1009=_e1053[0],_s585=_e1053.slice(1);if(_i1009&&"saturate"===_i1009.name){var _t1522=!1;var _iterator1033=_createForOfIteratorHelper(_s585),_step1033;try{for(_iterator1033.s();!(_step1033=_iterator1033.n()).done;){var _e1054=_step1033.value;null!==_e1054&&"saturate"===_e1054.name&&_e1054.amount!==_i1009.amount&&(_t1522=!0);}}catch(err){_iterator1033.e(err);}finally{_iterator1033.f();}this["#amount-input"].mixed=_t1522,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1009.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1009.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return tb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(tb,"_shadowTemplate",qi(_templateObject302()));_defineProperty(tb,"_shadowStyleSheet",Xi(_templateObject303()));customElements.define("bx-saturatefilterinspector",tb);var eb=/*#__PURE__*/function(_HTMLElement91){_inherits(eb,_HTMLElement91);var _super120=_createSuper(eb);function eb(){var _this559;_classCallCheck(this,eb);_this559=_super120.call(this),_this559.nm=!1,_this559._h=Ki(_this559.qs,200,_assertThisInitialized(_this559)),_this559._shadowRoot=_this559.attachShadow({mode:"closed"}),_this559._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,eb._shadowStyleSheet],_this559._shadowRoot.append(document.importNode(eb._shadowTemplate.content,!0));var _iterator1034=_createForOfIteratorHelper(_this559._shadowRoot.querySelectorAll("[id]")),_step1034;try{for(_iterator1034.s();!(_step1034=_iterator1034.n()).done;){var _t1523=_step1034.value;_this559["#"+_t1523.id]=_t1523;}}catch(err){_iterator1034.e(err);}finally{_iterator1034.f();}_this559["#angle-box"].addEventListener("changestart",function(){return _this559.Jn(event);});return _this559;}_createClass(eb,[{key:"connectedCallback",value:function connectedCallback(){var _this560=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this560._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this560._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jn",value:function Jn(t){var _this561=this;var e,_i1011;this.Js.board.undoManager.checkpoint("Hue rotate angle"),this.nm=!0;var _this$Js$board37=this.Js.board,s=_this$Js$board37.outermostSelectedElements,n=_this$Js$board37.selectedTextRange,_Gx73=Gx(s,n,!0),_Gx74=_slicedToArray(_Gx73,2),o=_Gx74[0],l=_Gx74[1];this["#angle-box"].addEventListener("change",e=function e(t){t.target===_this561["#angle-slider"]?_this561["#angle-input"].value=_this561["#angle-slider"].value:t.target===_this561["#angle-input"]&&(_this561["#angle-slider"].value=_this561["#angle-input"].value);var _iterator1035=_createForOfIteratorHelper(o),_step1035;try{for(_iterator1035.s();!(_step1035=_iterator1035.n()).done;){var _t1524=_step1035.value;var _e1055=Rx(_t1524),_i1010=_e1055?Tx(_e1055):null;_i1010&&"hue-rotate"===_i1010.name&&(_i1010.angle=_this561["#angle-input"].value,Ax(_e1055,_i1010,!0));}}catch(err){_iterator1035.e(err);}finally{_iterator1035.f();}}),this["#angle-box"].addEventListener("changeend",_i1011=function i(){_this561["#angle-box"].removeEventListener("change",e),_this561["#angle-box"].removeEventListener("changeend",_i1011),_this561.nm=!1;var _iterator1036=_createForOfIteratorHelper(l),_step1036;try{for(_iterator1036.s();!(_step1036=_iterator1036.n()).done;){var _t1525=_step1036.value;xi(_t1525,n);}}catch(err){_iterator1036.e(err);}finally{_iterator1036.f();}});}},{key:"qs",value:function qs(){if(!1===this.nm){var _t1526=this.Js.board,_e1056=Gx(_t1526.outermostSelectedElements,_t1526.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1057=_toArray(_e1056),_i1012=_e1057[0],_s586=_e1057.slice(1);if(_i1012&&"hue-rotate"===_i1012.name){var _t1527=!1;var _iterator1037=_createForOfIteratorHelper(_s586),_step1037;try{for(_iterator1037.s();!(_step1037=_iterator1037.n()).done;){var _e1058=_step1037.value;null!==_e1058&&"hue-rotate"===_e1058.name&&_e1058.angle!==_i1012.angle&&(_t1527=!0);}}catch(err){_iterator1037.e(err);}finally{_iterator1037.f();}this["#angle-input"].mixed=_t1527,this["#angle-input"].disabled=!1,this["#angle-input"].value=_i1012.angle,this["#angle-slider"].disabled=!1,this["#angle-slider"].value=_i1012.angle;}else this["#angle-input"].mixed=!1,this["#angle-input"].disabled=!0,this["#angle-input"].value=0,this["#angle-slider"].disabled=!0,this["#angle-slider"].value=0;}}}]);return eb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(eb,"_shadowTemplate",qi(_templateObject304()));_defineProperty(eb,"_shadowStyleSheet",Xi(_templateObject305()));customElements.define("bx-huerotatefilterinspector",eb);var ib=/*#__PURE__*/function(_HTMLElement92){_inherits(ib,_HTMLElement92);var _super121=_createSuper(ib);function ib(){var _this562;_classCallCheck(this,ib);_this562=_super121.call(this),_this562.qb=!1,_this562._h=Ki(_this562.qs,200,_assertThisInitialized(_this562)),_this562._shadowRoot=_this562.attachShadow({mode:"closed"}),_this562._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,ib._shadowStyleSheet],_this562._shadowRoot.append(document.importNode(ib._shadowTemplate.content,!0));var _iterator1038=_createForOfIteratorHelper(_this562._shadowRoot.querySelectorAll("[id]")),_step1038;try{for(_iterator1038.s();!(_step1038=_iterator1038.n()).done;){var _t1528=_step1038.value;_this562["#"+_t1528.id]=_t1528;}}catch(err){_iterator1038.e(err);}finally{_iterator1038.f();}_this562["#amount-box"].addEventListener("changestart",function(){return _this562.Zb(event);});return _this562;}_createClass(ib,[{key:"connectedCallback",value:function connectedCallback(){var _this563=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this563._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this563._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this564=this;var e,_i1014;this.Js.board.undoManager.checkpoint("Invert amount"),this.qb=!0;var _this$Js$board38=this.Js.board,s=_this$Js$board38.outermostSelectedElements,n=_this$Js$board38.selectedTextRange,_Gx75=Gx(s,n,!0),_Gx76=_slicedToArray(_Gx75,2),o=_Gx76[0],l=_Gx76[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this564["#amount-slider"]?_this564["#amount-input"].value=_this564["#amount-slider"].value:t.target===_this564["#amount-input"]&&(_this564["#amount-slider"].value=_this564["#amount-input"].value);var _iterator1039=_createForOfIteratorHelper(o),_step1039;try{for(_iterator1039.s();!(_step1039=_iterator1039.n()).done;){var _t1529=_step1039.value;var _e1059=Rx(_t1529),_i1013=_e1059?Tx(_e1059):null;_i1013&&"invert"===_i1013.name&&(_i1013.amount=_this564["#amount-input"].value,Ax(_e1059,_i1013,!0));}}catch(err){_iterator1039.e(err);}finally{_iterator1039.f();}}),this["#amount-box"].addEventListener("changeend",_i1014=function i(){_this564["#amount-box"].removeEventListener("change",e),_this564["#amount-box"].removeEventListener("changeend",_i1014),_this564.qb=!1;var _iterator1040=_createForOfIteratorHelper(l),_step1040;try{for(_iterator1040.s();!(_step1040=_iterator1040.n()).done;){var _t1530=_step1040.value;xi(_t1530,n);}}catch(err){_iterator1040.e(err);}finally{_iterator1040.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1531=this.Js.board,_e1060=Gx(_t1531.outermostSelectedElements,_t1531.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1061=_toArray(_e1060),_i1015=_e1061[0],_s587=_e1061.slice(1);if(_i1015&&"invert"===_i1015.name){var _t1532=!1;var _iterator1041=_createForOfIteratorHelper(_s587),_step1041;try{for(_iterator1041.s();!(_step1041=_iterator1041.n()).done;){var _e1062=_step1041.value;null!==_e1062&&"invert"===_e1062.name&&_e1062.amount!==_i1015.amount&&(_t1532=!0);}}catch(err){_iterator1041.e(err);}finally{_iterator1041.f();}this["#amount-input"].mixed=_t1532,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1015.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1015.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return ib;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ib,"_shadowTemplate",qi(_templateObject306()));_defineProperty(ib,"_shadowStyleSheet",Xi(_templateObject307()));customElements.define("bx-invertfilterinspector",ib);var sb=/*#__PURE__*/function(_HTMLElement93){_inherits(sb,_HTMLElement93);var _super122=_createSuper(sb);function sb(){var _this565;_classCallCheck(this,sb);_this565=_super122.call(this),_this565.qb=!1,_this565._h=Ki(_this565.qs,200,_assertThisInitialized(_this565)),_this565._shadowRoot=_this565.attachShadow({mode:"closed"}),_this565._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,sb._shadowStyleSheet],_this565._shadowRoot.append(document.importNode(sb._shadowTemplate.content,!0));var _iterator1042=_createForOfIteratorHelper(_this565._shadowRoot.querySelectorAll("[id]")),_step1042;try{for(_iterator1042.s();!(_step1042=_iterator1042.n()).done;){var _t1533=_step1042.value;_this565["#"+_t1533.id]=_t1533;}}catch(err){_iterator1042.e(err);}finally{_iterator1042.f();}_this565["#amount-box"].addEventListener("changestart",function(){return _this565.Zb(event);});return _this565;}_createClass(sb,[{key:"connectedCallback",value:function connectedCallback(){var _this566=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this566._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this566._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this567=this;var e,_i1017;this.Js.board.undoManager.checkpoint("Brightness amount"),this.qb=!0;var _this$Js$board39=this.Js.board,s=_this$Js$board39.outermostSelectedElements,n=_this$Js$board39.selectedTextRange,_Gx77=Gx(s,n,!0),_Gx78=_slicedToArray(_Gx77,2),o=_Gx78[0],l=_Gx78[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this567["#amount-slider"]?_this567["#amount-input"].value=_this567["#amount-slider"].value:t.target===_this567["#amount-input"]&&(_this567["#amount-slider"].value=_this567["#amount-input"].value);var _iterator1043=_createForOfIteratorHelper(o),_step1043;try{for(_iterator1043.s();!(_step1043=_iterator1043.n()).done;){var _t1534=_step1043.value;var _e1063=Rx(_t1534),_i1016=_e1063?Tx(_e1063):null;_i1016&&"brightness"===_i1016.name&&(_i1016.amount=_this567["#amount-input"].value,Ax(_e1063,_i1016,!0));}}catch(err){_iterator1043.e(err);}finally{_iterator1043.f();}}),this["#amount-box"].addEventListener("changeend",_i1017=function i(){_this567["#amount-box"].removeEventListener("change",e),_this567["#amount-box"].removeEventListener("changeend",_i1017),_this567.qb=!1;var _iterator1044=_createForOfIteratorHelper(l),_step1044;try{for(_iterator1044.s();!(_step1044=_iterator1044.n()).done;){var _t1535=_step1044.value;xi(_t1535,n);}}catch(err){_iterator1044.e(err);}finally{_iterator1044.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1536=this.Js.board,_e1064=Gx(_t1536.outermostSelectedElements,_t1536.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1065=_toArray(_e1064),_i1018=_e1065[0],_s588=_e1065.slice(1);if(_i1018&&"brightness"===_i1018.name){var _t1537=!1;var _iterator1045=_createForOfIteratorHelper(_s588),_step1045;try{for(_iterator1045.s();!(_step1045=_iterator1045.n()).done;){var _e1066=_step1045.value;null!==_e1066&&"brightness"===_e1066.name&&_e1066.amount!==_i1018.amount&&(_t1537=!0);}}catch(err){_iterator1045.e(err);}finally{_iterator1045.f();}this["#amount-input"].mixed=_t1537,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1018.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1018.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return sb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(sb,"_shadowTemplate",qi(_templateObject308()));_defineProperty(sb,"_shadowStyleSheet",Xi(_templateObject309()));customElements.define("bx-brightnessfilterinspector",sb);var nb=/*#__PURE__*/function(_HTMLElement94){_inherits(nb,_HTMLElement94);var _super123=_createSuper(nb);function nb(){var _this568;_classCallCheck(this,nb);_this568=_super123.call(this),_this568.qb=!1,_this568._h=Ki(_this568.qs,200,_assertThisInitialized(_this568)),_this568._shadowRoot=_this568.attachShadow({mode:"closed"}),_this568._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,nb._shadowStyleSheet],_this568._shadowRoot.append(document.importNode(nb._shadowTemplate.content,!0));var _iterator1046=_createForOfIteratorHelper(_this568._shadowRoot.querySelectorAll("[id]")),_step1046;try{for(_iterator1046.s();!(_step1046=_iterator1046.n()).done;){var _t1538=_step1046.value;_this568["#"+_t1538.id]=_t1538;}}catch(err){_iterator1046.e(err);}finally{_iterator1046.f();}_this568["#amount-box"].addEventListener("changestart",function(){return _this568.Zb(event);});return _this568;}_createClass(nb,[{key:"connectedCallback",value:function connectedCallback(){var _this569=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this569._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this569._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Zb",value:function Zb(t){var _this570=this;var e,_i1020;this.Js.board.undoManager.checkpoint("Contrast amount"),this.qb=!0;var _this$Js$board40=this.Js.board,s=_this$Js$board40.outermostSelectedElements,n=_this$Js$board40.selectedTextRange,_Gx79=Gx(s,n,!0),_Gx80=_slicedToArray(_Gx79,2),o=_Gx80[0],l=_Gx80[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this570["#amount-slider"]?_this570["#amount-input"].value=_this570["#amount-slider"].value:t.target===_this570["#amount-input"]&&(_this570["#amount-slider"].value=_this570["#amount-input"].value);var _iterator1047=_createForOfIteratorHelper(o),_step1047;try{for(_iterator1047.s();!(_step1047=_iterator1047.n()).done;){var _t1539=_step1047.value;var _e1067=Rx(_t1539),_i1019=_e1067?Tx(_e1067):null;_i1019&&"contrast"===_i1019.name&&(_i1019.amount=_this570["#amount-input"].value,Ax(_e1067,_i1019,!0));}}catch(err){_iterator1047.e(err);}finally{_iterator1047.f();}}),this["#amount-box"].addEventListener("changeend",_i1020=function i(){_this570["#amount-box"].removeEventListener("change",e),_this570["#amount-box"].removeEventListener("changeend",_i1020),_this570.qb=!1;var _iterator1048=_createForOfIteratorHelper(l),_step1048;try{for(_iterator1048.s();!(_step1048=_iterator1048.n()).done;){var _t1540=_step1048.value;xi(_t1540,n);}}catch(err){_iterator1048.e(err);}finally{_iterator1048.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb){var _t1541=this.Js.board,_e1068=Gx(_t1541.outermostSelectedElements,_t1541.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1069=_toArray(_e1068),_i1021=_e1069[0],_s589=_e1069.slice(1);if(_i1021&&"contrast"===_i1021.name){var _t1542=!1;var _iterator1049=_createForOfIteratorHelper(_s589),_step1049;try{for(_iterator1049.s();!(_step1049=_iterator1049.n()).done;){var _e1070=_step1049.value;null!==_e1070&&"contrast"===_e1070.name&&_e1070.amount!==_i1021.amount&&(_t1542=!0);}}catch(err){_iterator1049.e(err);}finally{_iterator1049.f();}this["#amount-input"].mixed=_t1542,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1021.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1021.amount;}else this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0;}}}]);return nb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nb,"_shadowTemplate",qi(_templateObject310()));_defineProperty(nb,"_shadowStyleSheet",Xi(_templateObject311()));customElements.define("bx-contrastfilterinspector",nb);var ob=/*#__PURE__*/function(_HTMLElement95){_inherits(ob,_HTMLElement95);var _super124=_createSuper(ob);function ob(){var _this571;_classCallCheck(this,ob);_this571=_super124.call(this),_this571.qb=!1,_this571.om=!1,_this571._h=Ki(_this571.qs,200,_assertThisInitialized(_this571)),_this571._shadowRoot=_this571.attachShadow({mode:"closed"}),_this571._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,ob._shadowStyleSheet],_this571._shadowRoot.append(document.importNode(ob._shadowTemplate.content,!0));var _iterator1050=_createForOfIteratorHelper(_this571._shadowRoot.querySelectorAll("[id]")),_step1050;try{for(_iterator1050.s();!(_step1050=_iterator1050.n()).done;){var _t1543=_step1050.value;_this571["#"+_t1543.id]=_t1543;}}catch(err){_iterator1050.e(err);}finally{_iterator1050.f();}_this571["#channels-buttons"].addEventListener("toggle",function(t){return _this571.lm(t);}),_this571["#amount-box"].addEventListener("changestart",function(t){return _this571.Zb(t);}),_this571["#saturation-box"].addEventListener("changestart",function(t){return _this571.am(t);});return _this571;}_createClass(ob,[{key:"connectedCallback",value:function connectedCallback(){var _this572=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this572._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this572._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"lm",value:function lm(t){this.Js.board.undoManager.checkpoint("Posterize channels");var _this$Js$board41=this.Js.board,e=_this$Js$board41.outermostSelectedElements,i=_this$Js$board41.selectedTextRange,_Gx81=Gx(e,i,!0),_Gx82=_slicedToArray(_Gx81,2),s=_Gx82[0],n=_Gx82[1];var _iterator1051=_createForOfIteratorHelper(s),_step1051;try{for(_iterator1051.s();!(_step1051=_iterator1051.n()).done;){var _t1544=_step1051.value;var _e1071=Rx(_t1544),_i1022=_e1071?Tx(_e1071):null;_i1022&&"posterize"===_i1022.name&&(_i1022.channels=this["#channels-buttons"].value,Ax(_e1071,_i1022,!0));}}catch(err){_iterator1051.e(err);}finally{_iterator1051.f();}}},{key:"Zb",value:function Zb(t){var _this573=this;var e,_i1024;this.Js.board.undoManager.checkpoint("Posterize amount"),this.qb=!0;var _this$Js$board42=this.Js.board,s=_this$Js$board42.outermostSelectedElements,n=_this$Js$board42.selectedTextRange,_Gx83=Gx(s,n,!0),_Gx84=_slicedToArray(_Gx83,2),o=_Gx84[0],l=_Gx84[1];this["#amount-box"].addEventListener("change",e=function e(t){t.target===_this573["#amount-slider"]?_this573["#amount-input"].value=_this573["#amount-slider"].value:t.target===_this573["#amount-input"]&&(_this573["#amount-slider"].value=_this573["#amount-input"].value);var _iterator1052=_createForOfIteratorHelper(o),_step1052;try{for(_iterator1052.s();!(_step1052=_iterator1052.n()).done;){var _t1545=_step1052.value;var _e1072=Rx(_t1545),_i1023=_e1072?Tx(_e1072):null;_i1023&&"posterize"===_i1023.name&&(_i1023.amount=_this573["#amount-input"].value,Ax(_e1072,_i1023,!0));}}catch(err){_iterator1052.e(err);}finally{_iterator1052.f();}}),this["#amount-box"].addEventListener("changeend",_i1024=function i(){_this573["#amount-box"].removeEventListener("change",e),_this573["#amount-box"].removeEventListener("changeend",_i1024),_this573.qb=!1;var _iterator1053=_createForOfIteratorHelper(l),_step1053;try{for(_iterator1053.s();!(_step1053=_iterator1053.n()).done;){var _t1546=_step1053.value;xi(_t1546,n);}}catch(err){_iterator1053.e(err);}finally{_iterator1053.f();}});}},{key:"am",value:function am(t){var _this574=this;var e,_i1026;this.Js.board.undoManager.checkpoint("Posterize saturation"),this.om=!0;var _this$Js$board43=this.Js.board,s=_this$Js$board43.outermostSelectedElements,n=_this$Js$board43.selectedTextRange,_Gx85=Gx(s,n,!0),_Gx86=_slicedToArray(_Gx85,2),o=_Gx86[0],l=_Gx86[1];this["#saturation-box"].addEventListener("change",e=function e(t){t.target===_this574["#saturation-slider"]?_this574["#saturation-input"].value=_this574["#saturation-slider"].value:t.target===_this574["#saturation-input"]&&(_this574["#saturation-slider"].value=_this574["#saturation-input"].value);var _iterator1054=_createForOfIteratorHelper(o),_step1054;try{for(_iterator1054.s();!(_step1054=_iterator1054.n()).done;){var _t1547=_step1054.value;var _e1073=Rx(_t1547),_i1025=_e1073?Tx(_e1073):null;_i1025&&"posterize"===_i1025.name&&(_i1025.saturation=_this574["#saturation-input"].value,Ax(_e1073,_i1025,!0));}}catch(err){_iterator1054.e(err);}finally{_iterator1054.f();}}),this["#saturation-box"].addEventListener("changeend",_i1026=function i(){_this574["#saturation-box"].removeEventListener("change",e),_this574["#saturation-box"].removeEventListener("changeend",_i1026),_this574.om=!1;var _iterator1055=_createForOfIteratorHelper(l),_step1055;try{for(_iterator1055.s();!(_step1055=_iterator1055.n()).done;){var _t1548=_step1055.value;xi(_t1548,n);}}catch(err){_iterator1055.e(err);}finally{_iterator1055.f();}});}},{key:"qs",value:function qs(){if(!1===this.qb&&!1===this.om){var _t1549=this.Js.board,_e1074=Gx(_t1549.outermostSelectedElements,_t1549.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1075=_toArray(_e1074),_i1027=_e1075[0],_s590=_e1075.slice(1);if(_i1027&&"posterize"===_i1027.name){var _t1550=!1,_e1076=!1,_n420=!1;var _iterator1056=_createForOfIteratorHelper(_s590),_step1056;try{for(_iterator1056.s();!(_step1056=_iterator1056.n()).done;){var _o329=_step1056.value;null!==_o329&&"posterize"===_o329.name&&(!1===compareArrays(_o329.channels,_i1027.channels)&&(_t1550=!0),_o329.amount!==_i1027.amount&&(_e1076=!0),_o329.saturation!==_i1027.saturation&&(_n420=!0));}}catch(err){_iterator1056.e(err);}finally{_iterator1056.f();}this["#channels-buttons"].mixed=_t1550,this["#channels-buttons"].disabled=!1,this["#channels-buttons"].value=_i1027.channels,this["#amount-input"].mixed=_e1076,this["#amount-input"].disabled=!1,this["#amount-input"].value=_i1027.amount,this["#amount-slider"].disabled=!1,this["#amount-slider"].value=_i1027.amount,this["#saturation-input"].mixed=_n420,this["#saturation-input"].disabled=!1,this["#saturation-input"].value=_i1027.saturation,this["#saturation-slider"].disabled=!1,this["#saturation-slider"].value=_i1027.saturation;}else this["#channels-buttons"].mixed=!1,this["#channels-buttons"].disabled=!0,this["#channels-buttons"].value=[],this["#amount-input"].mixed=!1,this["#amount-input"].disabled=!0,this["#amount-input"].value=0,this["#amount-slider"].disabled=!0,this["#amount-slider"].value=0,this["#saturation-input"].mixed=!1,this["#saturation-input"].disabled=!0,this["#saturation-input"].value=0,this["#saturation-slider"].disabled=!0,this["#saturation-slider"].value=0;}}}]);return ob;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ob,"_shadowTemplate",qi(_templateObject312()));_defineProperty(ob,"_shadowStyleSheet",Xi(_templateObject313()));customElements.define("bx-posterizefilterinspector",ob);var lb=/*#__PURE__*/function(_HTMLElement96){_inherits(lb,_HTMLElement96);var _super125=_createSuper(lb);function lb(){var _this575;_classCallCheck(this,lb);_this575=_super125.call(this),_this575.hm=!1,_this575.rm=!1,_this575.dm=!1,_this575._h=Ki(_this575.qs,200,_assertThisInitialized(_this575)),_this575._shadowRoot=_this575.attachShadow({mode:"closed"}),_this575._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,lb._shadowStyleSheet],_this575._shadowRoot.append(document.importNode(lb._shadowTemplate.content,!0));var _iterator1057=_createForOfIteratorHelper(_this575._shadowRoot.querySelectorAll("[id]")),_step1057;try{for(_iterator1057.s();!(_step1057=_iterator1057.n()).done;){var _t1551=_step1057.value;_this575["#"+_t1551.id]=_t1551;}}catch(err){_iterator1057.e(err);}finally{_iterator1057.f();}_this575["#shadows-color-select"].addEventListener("changestart",function(){return _this575.pm();}),_this575["#highlights-color-select"].addEventListener("changestart",function(){return _this575.um();}),_this575["#gamma-box"].addEventListener("changestart",function(){return _this575.xm(event);});return _this575;}_createClass(lb,[{key:"connectedCallback",value:function connectedCallback(){var _this576=this;this.Js=Ii(this,"bx-editor"),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this576._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this576._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"pm",value:function pm(){var _this577=this;var t,_e1078;this.Js.board.undoManager.checkpoint("Duotone shadows color"),this.hm=!0;var _this$Js$board44=this.Js.board,i=_this$Js$board44.outermostSelectedElements,s=_this$Js$board44.selectedTextRange,_Gx87=Gx(i,s,!0),_Gx88=_slicedToArray(_Gx87,2),n=_Gx88[0],o=_Gx88[1];this["#shadows-color-select"].addEventListener("change",t=function t(){var _iterator1058=_createForOfIteratorHelper(n),_step1058;try{for(_iterator1058.s();!(_step1058=_iterator1058.n()).done;){var _t1552=_step1058.value;var _e1077=Rx(_t1552),_i1028=_e1077?Tx(_e1077):null;_i1028&&"duotone"===_i1028.name&&(_i1028.shadowsColor=_this577["#shadows-color-select"].value,Ax(_e1077,_i1028,!0));}}catch(err){_iterator1058.e(err);}finally{_iterator1058.f();}}),this["#shadows-color-select"].addEventListener("changeend",_e1078=function e(){_this577["#shadows-color-select"].removeEventListener("change",t),_this577["#shadows-color-select"].removeEventListener("changeend",_e1078),_this577.hm=!1;var _iterator1059=_createForOfIteratorHelper(o),_step1059;try{for(_iterator1059.s();!(_step1059=_iterator1059.n()).done;){var _t1553=_step1059.value;xi(_t1553,s);}}catch(err){_iterator1059.e(err);}finally{_iterator1059.f();}});}},{key:"um",value:function um(){var _this578=this;var t,_e1080;this.Js.board.undoManager.checkpoint("Duotone highlights color"),this.rm=!0;var _this$Js$board45=this.Js.board,i=_this$Js$board45.outermostSelectedElements,s=_this$Js$board45.selectedTextRange,_Gx89=Gx(i,s,!0),_Gx90=_slicedToArray(_Gx89,2),n=_Gx90[0],o=_Gx90[1];this["#highlights-color-select"].addEventListener("change",t=function t(){var _iterator1060=_createForOfIteratorHelper(n),_step1060;try{for(_iterator1060.s();!(_step1060=_iterator1060.n()).done;){var _t1554=_step1060.value;var _e1079=Rx(_t1554),_i1029=_e1079?Tx(_e1079):null;_i1029&&"duotone"===_i1029.name&&(_i1029.highlightsColor=_this578["#highlights-color-select"].value,Ax(_e1079,_i1029,!0));}}catch(err){_iterator1060.e(err);}finally{_iterator1060.f();}}),this["#highlights-color-select"].addEventListener("changeend",_e1080=function e(){_this578["#highlights-color-select"].removeEventListener("change",t),_this578["#highlights-color-select"].removeEventListener("changeend",_e1080),_this578.rm=!1;var _iterator1061=_createForOfIteratorHelper(o),_step1061;try{for(_iterator1061.s();!(_step1061=_iterator1061.n()).done;){var _t1555=_step1061.value;xi(_t1555,s);}}catch(err){_iterator1061.e(err);}finally{_iterator1061.f();}});}},{key:"xm",value:function xm(t){var _this579=this;var e,_i1031;this.Js.board.undoManager.checkpoint("Duotone gamma"),this.dm=!0;var _this$Js$board46=this.Js.board,s=_this$Js$board46.outermostSelectedElements,n=_this$Js$board46.selectedTextRange,_Gx91=Gx(s,n,!0),_Gx92=_slicedToArray(_Gx91,2),o=_Gx92[0],l=_Gx92[1];this["#gamma-box"].addEventListener("change",e=function e(t){t.target===_this579["#gamma-slider"]?_this579["#gamma-input"].value=_this579["#gamma-slider"].value:t.target===_this579["#gamma-input"]&&(_this579["#gamma-slider"].value=_this579["#gamma-input"].value);var _iterator1062=_createForOfIteratorHelper(o),_step1062;try{for(_iterator1062.s();!(_step1062=_iterator1062.n()).done;){var _t1556=_step1062.value;var _e1081=Rx(_t1556),_i1030=_e1081?Tx(_e1081):null;_i1030&&"duotone"===_i1030.name&&(_i1030.gamma=_this579["#gamma-input"].value,Ax(_e1081,_i1030,!0));}}catch(err){_iterator1062.e(err);}finally{_iterator1062.f();}}),this["#gamma-box"].addEventListener("changeend",_i1031=function i(){_this579["#gamma-box"].removeEventListener("change",e),_this579["#gamma-box"].removeEventListener("changeend",_i1031),_this579.dm=!1;var _iterator1063=_createForOfIteratorHelper(l),_step1063;try{for(_iterator1063.s();!(_step1063=_iterator1063.n()).done;){var _t1557=_step1063.value;xi(_t1557,n);}}catch(err){_iterator1063.e(err);}finally{_iterator1063.f();}});}},{key:"qs",value:function qs(){if(!this.hm&&!this.rm&&!this.dm){var _t1558=this.Js.board,_e1082=Gx(_t1558.outermostSelectedElements,_t1558.selectedTextRange).map(function(t){return Rx(t);}).map(function(t){return t?Tx(t):null;}),_e1083=_toArray(_e1082),_i1032=_e1083[0],_s591=_e1083.slice(1);if(_i1032&&"duotone"===_i1032.name){var _t1559=!1;var _iterator1064=_createForOfIteratorHelper(_s591),_step1064;try{for(_iterator1064.s();!(_step1064=_iterator1064.n()).done;){var _e1084=_step1064.value;null!==_e1084&&"duotone"===_e1084.name&&_e1084.gamma!==_i1032.gamma&&(_t1559=!0);}}catch(err){_iterator1064.e(err);}finally{_iterator1064.f();}this["#shadows-color-select"].disabled=!1,this["#shadows-color-select"].value=_i1032.shadowsColor,this["#highlights-color-select"].disabled=!1,this["#highlights-color-select"].value=_i1032.highlightsColor,this["#gamma-input"].mixed=_t1559,this["#gamma-input"].disabled=!1,this["#gamma-input"].value=_i1032.gamma,this["#gamma-slider"].disabled=!1,this["#gamma-slider"].value=_i1032.gamma;}else this["#shadows-color-select"].disabled=!0,this["#shadows-color-select"].value="rgb(0,0,0)",this["#highlights-color-select"].disabled=!0,this["#highlights-color-select"].value="rgb(0,0,0)",this["#gamma-input"].mixed=!1,this["#gamma-input"].disabled=!0,this["#gamma-input"].value=0,this["#gamma-slider"].disabled=!0,this["#gamma-slider"].value=0;}}}]);return lb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lb,"_shadowTemplate",qi(_templateObject314()));_defineProperty(lb,"_shadowStyleSheet",Xi(_templateObject315()));customElements.define("bx-duotonefilterinspector",lb);var ab=Number.parseFloat;var hb=/*#__PURE__*/function(_HTMLElement97){_inherits(hb,_HTMLElement97);var _super126=_createSuper(hb);_createClass(hb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"#filter-settings",get:function get(){return this["#filter-settings-wrapper"].firstElementChild;}}]);function hb(){var _this580;_classCallCheck(this,hb);_this580=_super126.call(this),_this580._h=Ki(_this580.qs,200,_assertThisInitialized(_this580)),_this580.Wx=!1,_this580._shadowRoot=_this580.attachShadow({mode:"closed"}),_this580._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,hb._shadowStyleSheet],_this580._shadowRoot.append(document.importNode(hb._shadowTemplate.content,!0));var _iterator1065=_createForOfIteratorHelper(_this580._shadowRoot.querySelectorAll("[id]")),_step1065;try{for(_iterator1065.s();!(_step1065=_iterator1065.n()).done;){var _t1560=_step1065.value;_this580["#"+_t1560.id]=_t1560;}}catch(err){_iterator1065.e(err);}finally{_iterator1065.f();}_this580["#filter-select"].addEventListener("change",function(){return _this580.bm();}),_this580["#filter-convert-button"].addEventListener("click",function(){return _this580.gm();}),_this580["#filter-edit-button"].addEventListener("click",function(){return _this580.fm();}),_this580["#blend-mode-select"].addEventListener("change",function(){return _this580.wm();}),_this580["#isolation-checkbox"].addEventListener("toggle",function(){return _this580.vm();}),_this580["#opacity-box"].addEventListener("changestart",function(t){return _this580.qx(t);}),_this580["#clip-button"].addEventListener("toggle",function(){return _this580.ym();}),_this580["#mask-button"].addEventListener("toggle",function(){return _this580.km();});return _this580;}_createClass(hb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this581=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.Qo=function(){_this581.Jo();}),t.addEventListener("selectedtextrangechange",this.Ha=function(){_this581.Ya();}),t.addEventListener("workspacemutation",this.rn=function(t){_this581.sl(t.detail);});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#filter-select"].enabled=!1,this.Sm(null),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("selectedtextrangechange",this.Ha),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this._h();}},{key:"Ya",value:function Ya(){this._h();}},{key:"sl",value:function sl(t){this._h();}},{key:"bm",value:function bm(){var t=this.Js.board;if(this.Js.board.undoManager.checkpoint("Apply filter"),"none"===this["#filter-select"].value){var _iterator1066=_createForOfIteratorHelper(this._m()),_step1066;try{for(_iterator1066.s();!(_step1066=_iterator1066.n()).done;){var _t1561=_step1066.value;_t1561.style.filter="none";}}catch(err){_iterator1066.e(err);}finally{_iterator1066.f();}}else if(this["#filter-select"].value.startsWith("#")){var _t1562=this.Js.board.masterWorkspace.querySelector(this["#filter-select"].value),_e1085=this._m(),_i1033=this.Js.board.selectedTextRange;var _iterator1067=_createForOfIteratorHelper(_e1085),_step1067;try{for(_iterator1067.s();!(_step1067=_iterator1067.n()).done;){var _s592=_step1067.value;if("text"===_s592.localName&&_i1033&&_s592.contains(_i1033.commonAncestorContainer)){ui(_s592,_i1033);var _e1086=_s592.querySelectorAll("tspan"),_n421=bi(_i1033,_s592),_o330=_i1033.collapsed?_e1086:_n421;var _iterator1068=_createForOfIteratorHelper(_o330),_step1068;try{for(_iterator1068.s();!(_step1068=_iterator1068.n()).done;){var _e1087=_step1068.value;_e1087.style.setProperty("filter","url(#".concat(_t1562.id,")"));}}catch(err){_iterator1068.e(err);}finally{_iterator1068.f();}xi(_s592,_i1033);}else _s592.style.setProperty("filter","url(#".concat(_t1562.id,")")),Sh("filter",_s592);}}catch(err){_iterator1067.e(err);}finally{_iterator1067.f();}_e1085.find(function(t){return"image"===t.localName;})&&(_t1562.previousElementSibling?_t1562.previousElementSibling.after(_t1562):_t1562.nextElementSibling?_t1562.nextElementSibling.before(_t1562):_t1562.parentElement.append(_t1562));}else{var _e1088=Ei("svg:filter"),_i1034=Ex(this["#filter-select"].value),_s593=this.Js.board.selectedTextRange;_e1088.id=t.generateUniqueID("".concat(_i1034.name,"-filter")),Ax(_e1088,_i1034),t.defs.append(_e1088);var _iterator1069=_createForOfIteratorHelper(this._m()),_step1069;try{for(_iterator1069.s();!(_step1069=_iterator1069.n()).done;){var _t1563=_step1069.value;if("text"===_t1563.localName&&_s593&&_t1563.contains(_s593.commonAncestorContainer)){ui(_t1563,_s593);var _i1035=_t1563.querySelectorAll("tspan"),_n422=bi(_s593,_t1563),_o331=_s593.collapsed?_i1035:_n422;var _iterator1070=_createForOfIteratorHelper(_o331),_step1070;try{for(_iterator1070.s();!(_step1070=_iterator1070.n()).done;){var _t1564=_step1070.value;_t1564.style.setProperty("filter","url(#".concat(_e1088.id,")"));}}catch(err){_iterator1070.e(err);}finally{_iterator1070.f();}xi(_t1563,_s593);}else _t1563.style.setProperty("filter","url(#".concat(_e1088.id,")")),Sh("filter",_t1563);}}catch(err){_iterator1069.e(err);}finally{_iterator1069.f();}}this.Js.board.collectGarbage();}},{key:"gm",value:function gm(){var t=this["#filter-select"].value,e=[];var _iterator1071=_createForOfIteratorHelper(this.Js.board.selectedObjectElements),_step1071;try{for(_iterator1071.s();!(_step1071=_iterator1071.n()).done;){var _i1037=_step1071.value;var _s594=lo.fromString(getComputedStyle(_i1037).filter);if(_s594&&"#"===_s594.value[0]){var _i1038=this.Js.board.masterWorkspace.querySelector(_s594.value),_n423=Tx(_i1038);_n423&&_n423.name===t&&e.push(_i1038);}}}catch(err){_iterator1071.e(err);}finally{_iterator1071.f();}if(e.length>0){this.Js.board.undoManager.checkpoint("Convert to custom filter");var _iterator1072=_createForOfIteratorHelper(e),_step1072;try{for(_iterator1072.s();!(_step1072=_iterator1072.n()).done;){var _i1036=_step1072.value;{var _e1089=_i1036.querySelector(":scope > title");_e1089||(_e1089=Ei("svg:bx-title"),_i1036.prepend(_e1089)),_e1089.textContent=u[t];}_i1036.removeAttribute("data-bx-preset");}}catch(err){_iterator1072.e(err);}finally{_iterator1072.f();}}}},{key:"fm",value:function fm(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.editFilter(this["#filter-select"].value.substring(1));}},{key:"wm",value:function wm(){this.Js.board.undoManager.checkpoint("Blend mode");var t=this.Js.board.selectedTextRange,e=this["#blend-mode-select"].value;var _iterator1073=_createForOfIteratorHelper(this._m()),_step1073;try{for(_iterator1073.s();!(_step1073=_iterator1073.n()).done;){var _i1039=_step1073.value;if("text"===_i1039.localName&&t&&_i1039.contains(t.commonAncestorContainer)){ui(_i1039,t);var _s595=_i1039.querySelectorAll("tspan"),_n424=bi(t,_i1039),_o332=t.collapsed?_s595:_n424;var _iterator1074=_createForOfIteratorHelper(_o332),_step1074;try{for(_iterator1074.s();!(_step1074=_iterator1074.n()).done;){var _t1565=_step1074.value;_t1565.style.setProperty("mix-blend-mode",e);}}catch(err){_iterator1074.e(err);}finally{_iterator1074.f();}xi(_i1039,t);}else _i1039.style.setProperty("mix-blend-mode",e),Sh("mix-blend-mode",_i1039);}}catch(err){_iterator1073.e(err);}finally{_iterator1073.f();}}},{key:"vm",value:function vm(){this.Js.board.undoManager.checkpoint("Isolate");var t=this.Js.board.selectedTextRange,e=this["#isolation-checkbox"].toggled?"isolate":"auto";var _iterator1075=_createForOfIteratorHelper(this._m()),_step1075;try{for(_iterator1075.s();!(_step1075=_iterator1075.n()).done;){var _i1040=_step1075.value;if("text"===_i1040.localName&&t&&_i1040.contains(t.commonAncestorContainer)){ui(_i1040,t);var _s596=_i1040.querySelectorAll("tspan"),_n425=bi(t,_i1040),_o333=t.collapsed?_s596:_n425;var _iterator1076=_createForOfIteratorHelper(_o333),_step1076;try{for(_iterator1076.s();!(_step1076=_iterator1076.n()).done;){var _t1566=_step1076.value;_t1566.style.setProperty("isolation",e);}}catch(err){_iterator1076.e(err);}finally{_iterator1076.f();}xi(_i1040,t);}else _i1040.style.setProperty("isolation",e),Sh("isolation",_i1040);}}catch(err){_iterator1075.e(err);}finally{_iterator1075.f();}}},{key:"qx",value:function qx(){var _this582=this;this.Js.board.undoManager.checkpoint("Opacity");var t,_e1090,i=this._m(),s=this.Js.board.selectedTextRange,n=[],o=[];var _iterator1077=_createForOfIteratorHelper(i),_step1077;try{for(_iterator1077.s();!(_step1077=_iterator1077.n()).done;){var _t1571=_step1077.value;if("text"===_t1571.localName&&s&&_t1571.contains(s.commonAncestorContainer)){ui(_t1571,s),n.push(_t1571);var _e1091=_t1571.querySelectorAll("tspan"),_i1041=bi(s,_t1571),_l282=s.collapsed?_e1091:_i1041;o.push.apply(o,_toConsumableArray(_l282));}else o.push(_t1571);}}catch(err){_iterator1077.e(err);}finally{_iterator1077.f();}this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t1568){_t1568.target===_this582["#opacity-slider"]?_this582["#opacity-input"].value=_this582["#opacity-slider"].value:_t1568.target===_this582["#opacity-input"]&&(_this582["#opacity-slider"].value=_this582["#opacity-input"].value),_this582["#opacity-slider"].mixed=!1,_this582["#opacity-input"].mixed=!1;var _iterator1078=_createForOfIteratorHelper(o),_step1078;try{for(_iterator1078.s();!(_step1078=_iterator1078.n()).done;){var _t1567=_step1078.value;_t1567.style.setProperty("opacity",_this582["#opacity-slider"].value);}}catch(err){_iterator1078.e(err);}finally{_iterator1078.f();}}),this["#opacity-section"].addEventListener("changeend",_e1090=function e(){_this582["#opacity-section"].removeEventListener("change",t),_this582["#opacity-section"].removeEventListener("changeend",_e1090),_this582.Wx=!1;var _iterator1079=_createForOfIteratorHelper(o),_step1079;try{for(_iterator1079.s();!(_step1079=_iterator1079.n()).done;){var _t1569=_step1079.value;Sh("opacity",_t1569);}}catch(err){_iterator1079.e(err);}finally{_iterator1079.f();}var _iterator1080=_createForOfIteratorHelper(n),_step1080;try{for(_iterator1080.s();!(_step1080=_iterator1080.n()).done;){var _t1570=_step1080.value;xi(_t1570,s);}}catch(err){_iterator1080.e(err);}finally{_iterator1080.f();}});}},{key:"ym",value:function ym(){this["#clip-button"].toggled?this.Qs.execCommand("clip"):this.Qs.execCommand("unclip");}},{key:"km",value:function km(){this["#mask-button"].toggled?this.Qs.execCommand("mask"):this.Qs.execCommand("unmask");}},{key:"Sm",value:function Sm(t){var e=this["#filter-settings-wrapper"].firstElementChild;if(t!==(e?e.dataset.name:null)){var _e1092="";"drop-shadow"===t?_e1092='<bx-dropshadowfilterinspector data-name="drop-shadow"/>':"inner-shadow"===t?_e1092='<bx-innershadowfilterinspector data-name="inner-shadow"/>':"point-light"===t?_e1092='<bx-pointlightfilterinspector data-name="point-light"/>':"spot-light"===t?_e1092='<bx-spotlightfilterinspector data-name="spot-light"/>':"outline"===t?_e1092='<bx-outlinefilterinspector data-name="outline"/>':"gaussian-blur"===t?_e1092='<bx-gaussianblurfilterinspector data-name="gaussian-blur"/>':"motion-blur"===t?_e1092='<bx-motionblurfilterinspector data-name="motion-blur"/>':"warp"===t?_e1092='<bx-warpfilterinspector data-name="warp"/>':"pixelete"===t?_e1092='<bx-pixeletefilterinspector data-name="pixelete"/>':"morphology"===t?_e1092='<bx-morphologyfilterinspector data-name="morphology"/>':"black-and-white"===t?_e1092='<bx-blackandwhitefilterinspector data-name="black-and-white"/>':"grayscale"===t?_e1092='<bx-grayscalefilterinspector data-name="grayscale"/>':"sepia"===t?_e1092='<bx-sepiafilterinspector data-name="sepia"/>':"saturate"===t?_e1092='<bx-saturatefilterinspector data-name="saturate"/>':"hue-rotate"===t?_e1092='<bx-huerotatefilterinspector data-name="hue-rotate"/>':"invert"===t?_e1092='<bx-invertfilterinspector data-name="invert"/>':"brightness"===t?_e1092='<bx-brightnessfilterinspector data-name="brightness"/>':"contrast"===t?_e1092='<bx-contrastfilterinspector data-name="contrast"/>':"posterize"===t?_e1092='<bx-posterizefilterinspector data-name="posterize"/>':"duotone"===t?_e1092='<bx-duotonefilterinspector data-name="duotone"/>':"x-ray"===t&&(_e1092=""),this["#filter-settings-wrapper"].innerHTML=_e1092;}}},{key:"_m",value:function _m(){var t=[];var _iterator1081=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1081;try{for(_iterator1081.s();!(_step1081=_iterator1081.n()).done;){var _e1093=_step1081.value;D.includes(_e1093.localName)&&t.push(_e1093);}}catch(err){_iterator1081.e(err);}finally{_iterator1081.f();}return t;}},{key:"qs",value:function qs(){var t=[],e=Symbol();var _iterator1082=_createForOfIteratorHelper(this._m()),_step1082;try{for(_iterator1082.s();!(_step1082=_iterator1082.n()).done;){var _e1097=_step1082.value;if("text"===_e1097.localName){var _i1049=this.Js.board.selectedTextRange;if(_i1049&&_i1049.intersectsNode(_e1097)){var _s602=gi(_e1097);"backward"===_i1049.direction&&_s602.reverse();var _iterator1086=_createForOfIteratorHelper(_s602),_step1086;try{for(_iterator1086.s();!(_step1086=_iterator1086.n()).done;){var _e1098=_step1086.value;_i1049.intersectsNode(_e1098)&&(t.includes(_e1098.parentElement)||t.push(_e1098.parentElement));}}catch(err){_iterator1086.e(err);}finally{_iterator1086.f();}}else t.push(_e1097);}else t.push(_e1097);}}catch(err){_iterator1082.e(err);}finally{_iterator1082.f();}for(var _i1042=0,_t1572=t;_i1042<_t1572.length;_i1042++){var _i1043=_t1572[_i1042];_i1043[e]=getComputedStyle(_i1043);}if(this["#panel-heading"].disabled=0===t.length,0===t.length)this["#filter-section-heading"].disabled=!0,this["#filter-select"].value="none",this["#filter-select"].enabled=!1,this["#filter-select"].mixed=!1,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this["#filter-settings-wrapper"].innerHTML="";else{var _e1094=t.map(function(t){return Rx(t);}),_e1095=_toArray(_e1094),_i1044=_e1095[0],_s597=_e1095.slice(1),_e1094$map=_e1094.map(function(t){return t?Tx(t):null;}),_e1094$map2=_toArray(_e1094$map),_n426=_e1094$map2[0],_o334=_e1094$map2.slice(1),_l283=!1;!!_i1044&&getComputedStyle(_i1044).display;var _iterator1083=_createForOfIteratorHelper(_o334),_step1083;try{for(_iterator1083.s();!(_step1083=_iterator1083.n()).done;){var _t1573=_step1083.value;if(null===_n426){if(null!==_t1573){_l283=!0;break;}}else if(null===_t1573||_t1573.name!==_n426.name){_l283=!0;break;}}}catch(err){_iterator1083.e(err);}finally{_iterator1083.f();}_n426?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value=_n426.name,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l283,this["#filter-convert-button"].hidden=!1,this["#filter-edit-button"].hidden=!0,this.Sm(_n426.name)):_i1044?(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="#"+_i1044.id,this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l283,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!1,this.Sm(null)):(this["#filter-section-heading"].disabled=!1,this["#filter-select"].value="none",this["#filter-select"].enabled=!0,this["#filter-select"].mixed=_l283,this["#filter-convert-button"].hidden=!0,this["#filter-edit-button"].hidden=!0,this.Sm(null));}{var _i1045=t[0],_s598=t.slice(1);if(_i1045){var _t1574=_i1045[e],_n427=_t1574.getPropertyValue("mix-blend-mode"),_o335=_t1574.getPropertyValue("isolation"),_l284=!1,_a216=!1;var _iterator1084=_createForOfIteratorHelper(_s598),_step1084;try{for(_iterator1084.s();!(_step1084=_iterator1084.n()).done;){var _t1575=_step1084.value;var _i1046=_t1575[e],_s599=_i1046.getPropertyValue("mix-blend-mode"),_h172=_i1046.getPropertyValue("isolation");_s599!==_n427&&(_l284=!0),_h172!==_o335&&(_a216=!0);}}catch(err){_iterator1084.e(err);}finally{_iterator1084.f();}this["#blend-mode-section-heading"].disabled=!1,this["#blend-mode-select"].value=_i1045[e].getPropertyValue("mix-blend-mode"),this["#blend-mode-select"].disabled=!1,this["#blend-mode-select"].mixed=_l284,this["#isolation-checkbox"].toggled="isolate"===_o335,this["#isolation-checkbox"].disabled=!1,this["#isolation-checkbox"].mixed=_a216,this["#isolation-label"].disabled=!1;}else this["#blend-mode-section-heading"].disabled=!0,this["#blend-mode-select"].value="normal",this["#blend-mode-select"].disabled=!0,this["#blend-mode-select"].mixed=!1,this["#isolation-checkbox"].disabled=!0,this["#isolation-checkbox"].toggled=!1,this["#isolation-checkbox"].mixed=!1,this["#isolation-label"].disabled=!0;}if(!1===this.Wx){var _i1047=t[0],_s600=t.slice(1),_n428=_i1047?K(ab(_i1047[e].opacity),2):1,_o336=!1;var _iterator1085=_createForOfIteratorHelper(_s600),_step1085;try{for(_iterator1085.s();!(_step1085=_iterator1085.n()).done;){var _t1576=_step1085.value;(_t1576?K(ab(_t1576[e].opacity),2):1)!==_n428&&(_o336=!0);}}catch(err){_iterator1085.e(err);}finally{_iterator1085.f();}_i1047?(this["#opacity-section-heading"].disabled=!1,this["#opacity-slider"].value=_n428,this["#opacity-slider"].disabled=!1,this["#opacity-slider"].mixed=_o336,this["#opacity-input"].value=_n428,this["#opacity-input"].disabled=!1,this["#opacity-input"].mixed=_o336):(this["#opacity-section-heading"].disabled=!0,this["#opacity-slider"].value=1,this["#opacity-slider"].disabled=!0,this["#opacity-slider"].mixed=!1,this["#opacity-input"].value=1,this["#opacity-input"].disabled=!0,this["#opacity-input"].mixed=!1);}{var _t1577=this.Qs.isCommandEnabled("clip"),_e1096=this.Qs.isCommandEnabled("unclip"),_i1048=this.Qs.isCommandEnabled("mask"),_s601=this.Qs.isCommandEnabled("unmask");this["#clip-button"].toggled=!0===_e1096,this["#clip-button"].disabled=!1===_t1577&&!1===_e1096,this["#mask-button"].toggled=!0===_s601,this["#mask-button"].disabled=!1===_i1048&&!1===_s601,this["#cover-section-heading"].disabled=this["#clip-button"].disabled&&this["#mask-button"].disabled;}}}]);return hb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hb,"observedAttributes",["enabled"]);_defineProperty(hb,"_shadowTemplate",qi(_templateObject316()));_defineProperty(hb,"_shadowStyleSheet",Xi(_templateObject317()));customElements.define("bx-compositingpanel",hb);var rb=/*#__PURE__*/function(_HTMLElement98){_inherits(rb,_HTMLElement98);var _super127=_createSuper(rb);_createClass(rb,[{key:"value",get:function get(){return this._t;},set:function set(t){t!==this._t&&(this._t=t,this.$u());}},{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function rb(){var _this583;_classCallCheck(this,rb);_this583=_super127.call(this),_this583.tabIndex=0,_this583._t=null,_this583.Zx=Qi(_this583.Kx,600,_assertThisInitialized(_this583)),_this583._shadowRoot=_this583.attachShadow({mode:"closed"}),_this583._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,rb._shadowStyleSheet],_this583._shadowRoot.append(document.importNode(rb._shadowTemplate.content,!0));var _iterator1087=_createForOfIteratorHelper(_this583._shadowRoot.querySelectorAll("[id]")),_step1087;try{for(_iterator1087.s();!(_step1087=_iterator1087.n()).done;){var _t1578=_step1087.value;_this583["#"+_t1578.id]=_t1578;}}catch(err){_iterator1087.e(err);}finally{_iterator1087.f();}_this583.addEventListener("keydown",function(t){return _this583.vn(t);}),_this583["#items"].addEventListener("pointerdown",function(t){return _this583.Qc(t);}),_this583["#sort-select"].addEventListener("change",function(){return _this583.Cm();}),_this583["#filter-input"].addEventListener("input",function(){return _this583.Mm();}),_this583["#manage-button"].addEventListener("click",function(){return _this583.Du();}),_this583.enabled&&_this583.tn();return _this583;}_createClass(rb,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"tn",value:function tn(){this.Pm=this.Qs.getConfig("bx-fontfamilypicker:sort","alphabetical"),this["#sort-select"].value=this.Pm,this.qs(),this.Mu();}},{key:"sn",value:function sn(){}},{key:"Qc",value:function Qc(t){t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){this["#embedded-items"].children,this["#google-fonts-items"].children;var e=t.target.closest(".item").getAttribute("data-family");e!==this.value&&(this.value=e,this.dispatchEvent(new CustomEvent("change")));}},{key:"Cm",value:function(){var _Cm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee106(){return regeneratorRuntime.wrap(function _callee106$(_context107){while(1){switch(_context107.prev=_context107.next){case 0:this.Qs.setConfig("bx-fontfamilypicker:sort",this["#sort-select"].value);this.Pm=this["#sort-select"].value;_context107.next=4;return this.zm();case 4:this.$u();this.Om();this.Em();case 7:case"end":return _context107.stop();}}},_callee106,this);}));function Cm(){return _Cm.apply(this,arguments);}return Cm;}()},{key:"Mm",value:function Mm(){this.Om(),this.Em();}},{key:"Du",value:function Du(){this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser");}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);e.matches("ArrowUp")?(t.preventDefault(),t.stopPropagation(),this.Bu()):e.matches("ArrowDown")&&(t.preventDefault(),t.stopPropagation(),this.Ru());}},{key:"Bu",value:function Bu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]");if(e){var _i1050=t.indexOf(e),_s603=t[_i1050-1];_s603&&(_s603.scrollIntoViewIfNeeded(),this.value=_s603.getAttribute("data-family"),this.Zx());}}},{key:"Ru",value:function Ru(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]");if(e){var _i1051=t.indexOf(e),_s604=t[_i1051+1];_s604&&(_s604.scrollIntoViewIfNeeded(),this.value=_s604.getAttribute("data-family"),this.Zx());}}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(".item[data-selected]");this["#items"].scrollTop=0,t&&t.scrollIntoViewIfNeeded();}},{key:"Kx",value:function Kx(){this.dispatchEvent(new CustomEvent("change"));}},{key:"qs",value:function(){var _qs=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee107(){return regeneratorRuntime.wrap(function _callee107$(_context108){while(1){switch(_context108.prev=_context108.next){case 0:this.Tm();_context108.next=3;return this.zm();case 3:this.$u();this.Om();this.Em();case 6:case"end":return _context108.stop();}}},_callee107,this);}));function qs(){return _qs.apply(this,arguments);}return qs;}()},{key:"Tm",value:function Tm(){var t=document.createDocumentFragment(),e=this.Js.board.fontsManager.getFamilies();var _iterator1088=_createForOfIteratorHelper(e),_step1088;try{for(_iterator1088.s();!(_step1088=_iterator1088.n()).done;){var _i1052=_step1088.value;var _e1099=qi(_templateObject21(),_i1052,_i1052,_i1052);t.append(_e1099);}}catch(err){_iterator1088.e(err);}finally{_iterator1088.f();}this["#embedded-items"].innerHTML="",this["#embedded-items"].append(t);}},{key:"zm",value:function(){var _zm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee111(){var _this584=this;return regeneratorRuntime.wrap(function _callee111$(_context112){while(1){switch(_context112.prev=_context112.next){case 0:return _context112.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref132=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee110(t){var _t1579,_e1100,_i1053,_iterator1089,_step1089,_s605,_e1102;return regeneratorRuntime.wrap(function _callee110$(_context111){while(1){switch(_context111.prev=_context111.next){case 0:if(!(0===_this584["#google-fonts-items"].children.length||_this584["#google-fonts-items"].getAttribute("data-sort")!==_this584.Pm)){_context111.next=11;break;}_t1579=document.createDocumentFragment();_context111.next=4;return function(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"alphabetical";return new Promise(/*#__PURE__*/function(){var _ref133=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee108(e){var i;return regeneratorRuntime.wrap(function _callee108$(_context109){while(1){switch(_context109.prev=_context109.next){case 0:_context109.next=2;return Cr();case 2:i=_context109.sent;"alphabetical"===t?e(i.items.map(function(t){return t.family;})):"popularity"!==t&&"trending"!==t&&"date"!==t||e(i.sortedFamilies[t]);case 4:case"end":return _context109.stop();}}},_callee108);}));return function(_x130){return _ref133.apply(this,arguments);};}());}(_this584.Pm);case 4:_e1100=_context111.sent;_context111.next=7;return new Promise(/*#__PURE__*/function(){var _ref134=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee109(t){var _e1101,_i1054;return regeneratorRuntime.wrap(function _callee109$(_context110){while(1){switch(_context110.prev=_context110.next){case 0:if(!_r){_context110.next=4;break;}t(_r);_context110.next=11;break;case 4:_context110.next=6;return fetch("metadata/fonts/google-fonts-thumbnails.json");case 6:_e1101=_context110.sent;_context110.next=9;return _e1101.json();case 9:_i1054=_context110.sent;_r=_i1054,t(_i1054);case 11:case"end":return _context110.stop();}}},_callee109);}));return function(_x131){return _ref134.apply(this,arguments);};}());case 7:_i1053=_context111.sent;_iterator1089=_createForOfIteratorHelper(_e1100);try{for(_iterator1089.s();!(_step1089=_iterator1089.n()).done;){_s605=_step1089.value;_e1102=qi(_templateObject22(),_s605,_i1053[_s605]);_t1579.append(_e1102);}}catch(err){_iterator1089.e(err);}finally{_iterator1089.f();}_this584["#google-fonts-items"].innerHTML="",_this584["#google-fonts-items"].append(_t1579),_this584["#google-fonts-items"].setAttribute("data-sort",_this584.Pm);case 11:t();case 12:case"end":return _context111.stop();}}},_callee110);}));return function(_x129){return _ref132.apply(this,arguments);};}()));case 1:case"end":return _context112.stop();}}},_callee111);}));function zm(){return _zm.apply(this,arguments);}return zm;}()},{key:"$u",value:function $u(){var t=this["#items"].querySelector(".item[data-selected]"),e=this["#items"].querySelector(".item[data-family=\"".concat(this.value,"\"]"));t!==e&&(t&&(t.removeAttribute("data-selected"),"img"===t.firstElementChild.localName&&t.firstElementChild.part.remove("selected-thumbnail")),e&&(e.setAttribute("data-selected",""),"img"===e.firstElementChild.localName&&e.firstElementChild.part.add("selected-thumbnail")));}},{key:"Om",value:function Om(){var t=this["#filter-input"].value,e=this["#embedded-items"].children,i=this["#google-fonts-items"].children,s=[];var _iterator1090=_createForOfIteratorHelper(e),_step1090;try{for(_iterator1090.s();!(_step1090=_iterator1090.n()).done;){var _i1055=_step1090.value;var _e1103=_i1055.getAttribute("data-family");_i1055.hidden=!1===_e1103.toLowerCase().startsWith(t.toLowerCase()),s.push(_e1103);}}catch(err){_iterator1090.e(err);}finally{_iterator1090.f();}var _iterator1091=_createForOfIteratorHelper(i),_step1091;try{for(_iterator1091.s();!(_step1091=_iterator1091.n()).done;){var _e1104=_step1091.value;var _i1056=_e1104.getAttribute("data-family");_e1104.hidden=!_i1056.toLowerCase().startsWith(t.toLowerCase())||s.includes(_i1056);}}catch(err){_iterator1091.e(err);}finally{_iterator1091.f();}}},{key:"Em",value:function Em(){var t=null===this["#embedded-items"].querySelector(".item:not([hidden])"),e=null===this["#google-fonts-items"].querySelector(".item:not([hidden])");this["#embedded-items-placeholder"].hidden=!t,this["#google-fonts-items-placeholder"].hidden=!e;}}]);return rb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(rb,"observedAttributes",["enabled"]);_defineProperty(rb,"_shadowTemplate",qi(_templateObject318()));_defineProperty(rb,"_shadowStyleSheet",Xi(_templateObject319()));customElements.define("bx-fontfamilypicker",rb);var db=Math.abs,cb=Number.parseFloat,pb=Object.entries;var ub=/*#__PURE__*/function(_HTMLElement99){_inherits(ub,_HTMLElement99);var _super128=_createSuper(ub);_createClass(ub,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ub(){var _this585;_classCallCheck(this,ub);_this585=_super128.call(this),_this585._h=Ki(_this585.qs,200,_assertThisInitialized(_this585)),_this585.Am=!1,_this585.$m=!1,_this585.Im=!1,_this585.Lm=!1,_this585.Bm=!1,_this585.Rm=!1,_this585._shadowRoot=_this585.attachShadow({mode:"closed"}),_this585._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,ub._shadowStyleSheet],_this585._shadowRoot.append(document.importNode(ub._shadowTemplate.content,!0));var _iterator1092=_createForOfIteratorHelper(_this585._shadowRoot.querySelectorAll("[id]")),_step1092;try{for(_iterator1092.s();!(_step1092=_iterator1092.n()).done;){var _t1580=_step1092.value;_this585["#"+_t1580.id]=_t1580;}}catch(err){_iterator1092.e(err);}finally{_iterator1092.f();}_this585["#font-family-popover"].addEventListener("open",function(){return _this585.Gm();}),_this585["#font-family-popover"].addEventListener("close",function(){return _this585.Fm();}),_this585["#font-family-picker"].addEventListener("change",function(){return _this585.Um();}),_this585["#font-weight-select"].addEventListener("change",function(){return _this585.Nm();}),_this585["#font-style-button"].addEventListener("toggle",function(){return _this585.Vm();}),_this585["#font-size-box"].addEventListener("changestart",function(){return _this585.jm();}),_this585["#text-decoration-buttons"].addEventListener("toggle",function(t){return _this585.Hm(t);}),_this585["#text-transform-buttons"].addEventListener("toggle",function(t){return _this585.Ym(t);}),_this585["#text-anchor-buttons"].addEventListener("toggle",function(){return _this585.Wm();}),_this585["#text-on-path-button"].addEventListener("toggle",function(){return _this585.qm();}),_this585["#path-start-offset-slider"].addEventListener("changestart",function(){return _this585.Xm();}),_this585["#path-start-offset-input"].addEventListener("changestart",function(){return _this585.Xm();}),_this585["#letter-spacing-slider"].addEventListener("changestart",function(){return _this585.Zm();}),_this585["#letter-spacing-input"].addEventListener("changestart",function(){return _this585.Zm();}),_this585["#word-spacing-slider"].addEventListener("changestart",function(){return _this585.Km();}),_this585["#word-spacing-input"].addEventListener("changestart",function(){return _this585.Km();}),_this585["#line-spacing-slider"].addEventListener("changestart",function(){return _this585.Qm();}),_this585["#line-spacing-input"].addEventListener("changestart",function(){return _this585.Qm();});return _this585;}_createClass(ub,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Ou=Ii(this,"bx-primarypanelsdock");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this586=this;this.qs();var t=this.Js.board;this["#font-family-picker"].enabled=!0,this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px",t.addEventListener("selectedelementschange",this.Qo=function(){_this586.Jo();}),t.addEventListener("selectedtextrangechange",this.Ha=function(){_this586.Ya();}),t.addEventListener("workspacemutation",this.rn=function(t){_this586.sl(t.detail);}),this.Ou.addEventListener("resize",this.Eu=function(){_this586.Tu();});}},{key:"sn",value:function sn(){var t=this.Js.board;this["#font-family-button"].collapse(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("selectedtextrangechange",this.Ha),t.removeEventListener("workspacemutation",this.rn),this.Ou.removeEventListener("resize",this.Eu);}},{key:"Jo",value:function Jo(){this._h();}},{key:"Ya",value:function Ya(){this._h();}},{key:"sl",value:function sl(t){this._h();}},{key:"Tu",value:function Tu(){this["#font-family-popover"].style.width=this["#font-family-button"].clientWidth+"px";}},{key:"Gm",value:function(){var _Gm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee112(){return regeneratorRuntime.wrap(function _callee112$(_context113){while(1){switch(_context113.prev=_context113.next){case 0:this["#font-family-picker"].enabled=!0;_context113.next=3;return ts(10);case 3:this["#font-family-picker"].focus();case 4:case"end":return _context113.stop();}}},_callee112,this);}));function Gm(){return _Gm.apply(this,arguments);}return Gm;}()},{key:"Fm",value:function(){var _Fm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee113(){return regeneratorRuntime.wrap(function _callee113$(_context114){while(1){switch(_context114.prev=_context114.next){case 0:this["#font-family-picker"].enabled=!1;_context114.next=3;return ts(200);case 3:this.Js.board.collectGarbage();"bx-chromeapp"!==this.Qs.localName&&this.Js.board.fontsManager.embedLinkedFonts();case 5:case"end":return _context114.stop();}}},_callee113,this);}));function Fm(){return _Fm.apply(this,arguments);}return Fm;}()},{key:"Um",value:function(){var _Um=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee114(){var t,e,i,s,_t1581,_iterator1093,_step1093,_step1093$value,_i1057,_n429,_t1582,_o337,_e1105,_i1058,_l285,_t1583,_i1059,_iterator1094,_step1094,_s606,_t1584,_n430,_o338,_iterator1095,_step1095,_t1585;return regeneratorRuntime.wrap(function _callee114$(_context115){while(1){switch(_context115.prev=_context115.next){case 0:t=this.Js.board,e=this["#font-family-picker"].value,i=t.fontsManager.getFamilies(),s=[];if(!(this.Am=!0,!1===i.includes(e))){_context115.next=49;break;}_context115.next=4;return Cr();case 4:_t1581=_context115.sent.items.find(function(t){return t.family===e;});if(!_t1581){_context115.next=49;break;}_iterator1093=_createForOfIteratorHelper(pb(_t1581.urls));_context115.prev=7;_iterator1093.s();case 9:if((_step1093=_iterator1093.n()).done){_context115.next=31;break;}_step1093$value=_slicedToArray(_step1093.value,2),_i1057=_step1093$value[0],_n429=_step1093$value[1];_t1582=void 0,_o337={weight:_i1057.substring(0,3),style:_i1057.includes("italic")?"italic":"normal"};if(!("bx-chromeapp"!==this.Qs.localName)){_context115.next=16;break;}_t1582="url("+_n429+")";_context115.next=27;break;case 16:_context115.next=18;return fetch(_n429);case 18:_e1105=_context115.sent;_context115.next=21;return _e1105.blob();case 21:_i1058=_context115.sent;_context115.next=24;return jh(_i1058);case 24:_context115.t0=_context115.sent;_context115.t1='url("'+_context115.t0;_t1582=_context115.t1+'")';case 27:_l285=new FontFace(e,_t1582,_o337);_l285.src=_t1582,s.push(_l285);case 29:_context115.next=9;break;case 31:_context115.next=36;break;case 33:_context115.prev=33;_context115.t2=_context115["catch"](7);_iterator1093.e(_context115.t2);case 36:_context115.prev=36;_iterator1093.f();return _context115.finish(36);case 39:_context115.prev=39;_context115.next=42;return Promise.all(s.map(function(t){return t.load();}));case 42:_context115.next=49;break;case 44:_context115.prev=44;_context115.t3=_context115["catch"](39);_context115.next=48;return ts(100);case 48:return _context115.abrupt("return",void this.Qs.openMessageDialog({message:"Can't load the chosen font family",detail:_context115.t3.message,buttons:["OK"]}));case 49:this.Js.board.undoManager.checkpoint("Font family"),s.length>0&&this.Js.board.fontsManager.addFonts(s);_t1583=this.Gd(),_i1059=this.Js.board.selectedTextRange;_iterator1094=_createForOfIteratorHelper(_t1583);try{for(_iterator1094.s();!(_step1094=_iterator1094.n()).done;){_s606=_step1094.value;ui(_s606,_i1059);_t1584=_s606.querySelectorAll("tspan"),_n430=bi(_i1059,_s606),_o338=_n430.length>0&&!_i1059.collapsed?_n430:_t1584;_iterator1095=_createForOfIteratorHelper(_o338);try{for(_iterator1095.s();!(_step1095=_iterator1095.n()).done;){_t1585=_step1095.value;_t1585.style.fontFamily="\"".concat(e,"\"");}}catch(err){_iterator1095.e(err);}finally{_iterator1095.f();}xi(_s606,_i1059);}}catch(err){_iterator1094.e(err);}finally{_iterator1094.f();}this.Am=!1;case 54:case"end":return _context115.stop();}}},_callee114,this,[[7,33,36,39],[39,44]]);}));function Um(){return _Um.apply(this,arguments);}return Um;}()},{key:"Nm",value:function Nm(){this.Js.board.undoManager.checkpoint("Font weight");var t=this.Gd(),e=this["#font-weight-select"].value,i=this.Js.board.selectedTextRange;var _iterator1096=_createForOfIteratorHelper(t),_step1096;try{for(_iterator1096.s();!(_step1096=_iterator1096.n()).done;){var _s607=_step1096.value;ui(_s607,i);var _t1586=_s607.querySelectorAll("tspan"),_n431=bi(i,_s607),_o339=_n431.length>0&&!i.collapsed?_n431:_t1586;var _iterator1097=_createForOfIteratorHelper(_o339),_step1097;try{for(_iterator1097.s();!(_step1097=_iterator1097.n()).done;){var _t1587=_step1097.value;_t1587.style.setProperty("font-weight",e);}}catch(err){_iterator1097.e(err);}finally{_iterator1097.f();}xi(_s607,i);}}catch(err){_iterator1096.e(err);}finally{_iterator1096.f();}}},{key:"Vm",value:function Vm(){this.Js.board.undoManager.checkpoint("Font style");var t=this.Gd(),e=this["#font-style-button"].toggled?"italic":"normal",i=this.Js.board.selectedTextRange;var _iterator1098=_createForOfIteratorHelper(t),_step1098;try{for(_iterator1098.s();!(_step1098=_iterator1098.n()).done;){var _s608=_step1098.value;ui(_s608,i);var _t1588=_s608.querySelectorAll("tspan"),_n432=bi(i,_s608),_o340=_n432.length>0&&!i.collapsed?_n432:_t1588;var _iterator1099=_createForOfIteratorHelper(_o340),_step1099;try{for(_iterator1099.s();!(_step1099=_iterator1099.n()).done;){var _t1589=_step1099.value;_t1589.style.setProperty("font-style",e);}}catch(err){_iterator1099.e(err);}finally{_iterator1099.f();}xi(_s608,i);}}catch(err){_iterator1098.e(err);}finally{_iterator1098.f();}}},{key:"jm",value:function jm(){var _this587=this;this.Js.board.undoManager.checkpoint("Font size");var t,_e1107,i=Symbol(),s=Symbol(),n=this.Gd(),o=this.Js.board.selectedTextRange;var _iterator1100=_createForOfIteratorHelper(n),_step1100;try{for(_iterator1100.s();!(_step1100=_iterator1100.n()).done;){var _t1594=_step1100.value;ui(_t1594,o);var _e1108=_t1594.querySelectorAll("tspan"),_n434=bi(o,_t1594),_l286=_n434.length>0&&!o.collapsed?_n434:_e1108;_t1594[i]=_l286,_t1594[s]=Nl(jt(_t1594,this.Js.board.currentWorkspace).inverse()).scaleY;}}catch(err){_iterator1100.e(err);}finally{_iterator1100.f();}this.$m=!0,this["#font-size-box"].addEventListener("change",t=function t(_t1592){_t1592.target===_this587["#font-size-slider"]?_this587["#font-size-input"].value=_this587["#font-size-slider"].value:_t1592.target===_this587["#font-size-input"]&&(_this587["#font-size-slider"].value=_this587["#font-size-input"].value),_this587["#font-size-input"].mixed=!1,_this587["#font-size-slider"].mixed=!1;var _iterator1101=_createForOfIteratorHelper(n),_step1101;try{for(_iterator1101.s();!(_step1101=_iterator1101.n()).done;){var _t1590=_step1101.value;var _e1106=_t1590[i],_n433=_t1590[s],_o341=_this587["#font-size-input"].value*_n433;if(_e1106.length>0){var _iterator1102=_createForOfIteratorHelper(_e1106),_step1102;try{for(_iterator1102.s();!(_step1102=_iterator1102.n()).done;){var _t1591=_step1102.value;_t1591.style.setProperty("font-size",_o341);}}catch(err){_iterator1102.e(err);}finally{_iterator1102.f();}}else _t1590.style.setProperty("font-size",_o341);}}catch(err){_iterator1101.e(err);}finally{_iterator1101.f();}}),this["#font-size-box"].addEventListener("changeend",_e1107=function e(){_this587["#font-size-box"].removeEventListener("change",t),_this587["#font-size-box"].removeEventListener("changeend",_e1107);var _iterator1103=_createForOfIteratorHelper(n),_step1103;try{for(_iterator1103.s();!(_step1103=_iterator1103.n()).done;){var _t1593=_step1103.value;xi(_t1593,o);}}catch(err){_iterator1103.e(err);}finally{_iterator1103.f();}_this587.$m=!1;});}},{key:"Hm",value:function Hm(t){this.Js.board.undoManager.checkpoint("Text decoration");var e=t.detail,i=this.Gd(),s=this.Js.board.selectedTextRange;var _iterator1104=_createForOfIteratorHelper(i),_step1104;try{for(_iterator1104.s();!(_step1104=_iterator1104.n()).done;){var _t1595=_step1104.value;ui(_t1595,s);var _i1060=[];if(s&&_t1595.contains(s.commonAncestorContainer)){var _e1109=_t1595.querySelectorAll("tspan"),_n435=bi(s,_t1595),_o342=s.collapsed?_e1109:_n435;_i1060.push.apply(_i1060,_toConsumableArray(_o342));}else _i1060.push(_t1595);for(var _i1062=0,_i1061=_i1060;_i1062<_i1061.length;_i1062++){var _t1596=_i1061[_i1062];var _i1063=getComputedStyle(_t1596).getPropertyValue("text-decoration"),_s609=_i1063.includes("underline"),_n436=_i1063.includes("line-through"),_o343=_i1063.includes("overline");"underline"===e.value?_s609=e.toggled:"line-through"===e.value?_n436=e.toggled:"overline"===e.value&&(_o343=e.toggled);var _l287=[];_s609&&_l287.push("underline"),_n436&&_l287.push("line-through"),_o343&&_l287.push("overline"),0===_l287.length?_t1596.style.removeProperty("text-decoration"):_t1596.style.setProperty("text-decoration",_l287.join(" "));}xi(_t1595,s);}}catch(err){_iterator1104.e(err);}finally{_iterator1104.f();}}},{key:"Ym",value:function Ym(t){this.Js.board.undoManager.checkpoint("Text transform");var e=this.Gd(),i=this["#text-transform-buttons"].value||"none",s=this.Js.board.selectedTextRange;var _iterator1105=_createForOfIteratorHelper(e),_step1105;try{for(_iterator1105.s();!(_step1105=_iterator1105.n()).done;){var _t1597=_step1105.value;ui(_t1597,s);var _e1110=_t1597.querySelectorAll("tspan"),_n437=bi(s,_t1597),_o344=_n437.length>0&&!s.collapsed?_n437:_e1110;var _iterator1106=_createForOfIteratorHelper(_o344),_step1106;try{for(_iterator1106.s();!(_step1106=_iterator1106.n()).done;){var _t1598=_step1106.value;_t1598.style.setProperty("text-transform",i);}}catch(err){_iterator1106.e(err);}finally{_iterator1106.f();}xi(_t1597,s);}}catch(err){_iterator1105.e(err);}finally{_iterator1105.f();}}},{key:"Wm",value:function Wm(){this.Js.board.undoManager.checkpoint("Text anchor");var t=this.Gd(),e=this["#text-anchor-buttons"].value||"start";var _iterator1107=_createForOfIteratorHelper(t),_step1107;try{for(_iterator1107.s();!(_step1107=_iterator1107.n()).done;){var _i1064=_step1107.value;!1===(null!==_i1064.querySelector("textPath"))&&(_i1064.style.setProperty("text-anchor",e),Sh("text-anchor",_i1064));}}catch(err){_iterator1107.e(err);}finally{_iterator1107.f();}}},{key:"qm",value:function(){var _qm=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee115(){var t,e,i,_s610,_n438,_o345,_o346,_e1111,_i1065,_iterator1108,_step1108,_e1112,_i1066,_s611,_n439,_o347,_l288,_a217,_h173,_r109,_d85,_s612,_n440,_s613,_o348,_l289,_i1067,_o349,_l290,_a218,_h174,_c66,_p55,_Nl21,_u46;return regeneratorRuntime.wrap(function _callee115$(_context116){while(1){switch(_context116.prev=_context116.next){case 0:t=this.Js.board,e=!1,i=Ji(function(){return t.undoManager.checkpoint("Put text on path");});if(!(2===t.outermostSelectedElements.length)){_context116.next=20;break;}_s610=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_n438=t.outermostSelectedElements.find(function(t){return x.includes(t.localName);});if(!(_s610&&_n438)){_context116.next=20;break;}if(!(null!==_s610.querySelector("textPath"))){_context116.next=8;break;}e=!1;_context116.next=20;break;case 8:if(!("path"===_n438.localName)){_context116.next=12;break;}e=!0;_context116.next=20;break;case 12:_o345=Ui(_n438).toLowerCase();_context116.next=15;return this.Qs.openMessageDialog({message:"Convert ".concat(_o345," to path?"),detail:"This shape must be converted to path before you put a text on it.",buttons:["Convert","Cancel"]});case 15:_context116.t0=_context116.sent;if(!(0!==_context116.t0)){_context116.next=18;break;}return _context116.abrupt("return",void(this["#text-on-path-button"].toggled=!this["#text-on-path-button"].toggled));case 18:_o346=ch(_n438,this.Js.board.geometryPrecision);i(),_n438.replaceWith(_o346),t.selectedElements=[_s610,_o346],e=!0;case 20:if(!(i(),e)){_context116.next=25;break;}_e1111=t.outermostSelectedElements.find(function(t){return"text"===t.localName;}),_i1065=t.outermostSelectedElements.find(function(t){return"path"===t.localName;});!1===_i1065.hasAttribute("id")&&_i1065.setAttribute("id",this.Js.board.generateUniqueID("path")),_e1111.removeAttribute("transform"),_e1111.innerHTML="<textPath href=\"#".concat(_i1065.id,"\">").concat(_e1111.innerHTML,"</textPath>");_context116.next=57;break;case 25:_iterator1108=_createForOfIteratorHelper(this.Gd());_context116.prev=26;_iterator1108.s();case 28:if((_step1108=_iterator1108.n()).done){_context116.next=49;break;}_e1112=_step1108.value;_i1066=_e1112.querySelector("textPath");_s611=getComputedStyle(_e1112);_n439=cb(_s611.fontSize);_o347=_p.fromString(_s611.fontFamily).items[0];_l288=Rp(_s611.fontWeight);_a217=_s611.fontStyle;_h173=t.fontsManager.getMatchedFont(_o347,_l288,_a217);if(!_h173){_context116.next=43;break;}_context116.next=40;return Np(_h173);case 40:_context116.t1=_context116.sent;_context116.next=44;break;case 43:_context116.t1=1;case 44:_r109=_context116.t1;_d85=Pi(_e1112);if(_i1066){_s612=_i1066.href.baseVal.trim(),_n440=_s612.length>1?_s612.substring(1):null;if(null!==_n440){_s613=t.workspaces.querySelector("#"+CSS.escape(_n440)),_o348=_d85.x,_l289=_d85.y+_d85.height*_r109;_s613.remove(),_e1112.innerHTML=_i1066.innerHTML,_e1112.setAttribute("x",_o348),_e1112.setAttribute("y",_l289);}}else{_i1067=Vt(_e1112),_o349=new DOMPoint(_d85.x,_d85.y+_d85.height*_r109),_l290=new DOMPoint(_d85.x+_d85.width/2,_d85.y),_a218=new DOMPoint(_d85.x+_d85.width,_d85.y+_d85.height*_r109);_o349=_o349.matrixTransform(_i1067),_l290=_l290.matrixTransform(_i1067),_a218=_a218.matrixTransform(_i1067);_h174="M ".concat(_o349.x," ").concat(_o349.y," Q ").concat(_l290.x," ").concat(_l290.y," ").concat(_a218.x," ").concat(_a218.y),_c66=t.generateUniqueID("text-path"),_p55=Zi(_templateObject23(),_c66,_h174);t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_p55),"start"!==_s611.textAnchor&&(_e1112.style.setProperty("text-anchor","start"),Sh("text-anchor",_e1112)),_e1112.innerHTML="<textPath href=\"#".concat(_c66,"\">").concat(_e1112.innerHTML,"</textPath>");_Nl21=Nl(_i1067),_u46=_Nl21.scaleY;_e1112.style.fontSize=K(_n439*_u46,2),_e1112.removeAttribute("transform"),_e1112.removeAttribute("x"),_e1112.removeAttribute("y");}case 47:_context116.next=28;break;case 49:_context116.next=54;break;case 51:_context116.prev=51;_context116.t2=_context116["catch"](26);_iterator1108.e(_context116.t2);case 54:_context116.prev=54;_iterator1108.f();return _context116.finish(54);case 57:t.selectedElements=_toConsumableArray(t.selectedElements);case 58:case"end":return _context116.stop();}}},_callee115,this,[[26,51,54,57]]);}));function qm(){return _qm.apply(this,arguments);}return qm;}()},{key:"Xm",value:function Xm(){var _this588=this;var t,_e1113,i=this.Js.board,s=this.Gd().map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});i.undoManager.checkpoint("Text path start offset"),this.Im=!0,this["#path-start-offset-box"].addEventListener("change",t=function t(_t1600){_t1600.target===_this588["#path-start-offset-slider"]?_this588["#path-start-offset-input"].value=_this588["#path-start-offset-slider"].value:_t1600.target===_this588["#path-start-offset-input"]&&(_this588["#path-start-offset-slider"].value=_this588["#path-start-offset-input"].value),_this588["#path-start-offset-slider"].mixed=!1,_this588["#path-start-offset-input"].mixed=!1;var _iterator1109=_createForOfIteratorHelper(s),_step1109;try{for(_iterator1109.s();!(_step1109=_iterator1109.n()).done;){var _t1599=_step1109.value;_t1599.startOffset.baseVal.value=_this588["#path-start-offset-input"].value;}}catch(err){_iterator1109.e(err);}finally{_iterator1109.f();}}),this["#path-start-offset-box"].addEventListener("changeend",_e1113=function e(){_this588["#path-start-offset-box"].removeEventListener("change",t),_this588["#path-start-offset-box"].removeEventListener("changeend",_e1113),_this588.Im=!1;});}},{key:"Zm",value:function Zm(){var _this589=this;var t,_e1115,i=this.Js.board,s=this.Gd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Letter spacing");var _iterator1110=_createForOfIteratorHelper(s),_step1110;try{for(_iterator1110.s();!(_step1110=_iterator1110.n()).done;){var _t1605=_step1110.value;ui(_t1605,n);var _e1116=_t1605.querySelectorAll("tspan"),_i1068=bi(n,_t1605),_s614=_i1068.length>0&&!n.collapsed?_i1068:_e1116;_t1605[o]=_s614;}}catch(err){_iterator1110.e(err);}finally{_iterator1110.f();}this.Lm=!0,this["#letter-spacing-box"].addEventListener("change",t=function t(_t1603){_t1603.target===_this589["#letter-spacing-slider"]?_this589["#letter-spacing-input"].value=_this589["#letter-spacing-slider"].value:_t1603.target===_this589["#letter-spacing-input"]&&(_this589["#letter-spacing-slider"].value=_this589["#letter-spacing-input"].value),_this589["#letter-spacing-slider"].mixed=!1,_this589["#letter-spacing-input"].mixed=!1;var _iterator1111=_createForOfIteratorHelper(s),_step1111;try{for(_iterator1111.s();!(_step1111=_iterator1111.n()).done;){var _t1601=_step1111.value;var _e1114=_t1601[o];if(_e1114.length>0){var _iterator1112=_createForOfIteratorHelper(_e1114),_step1112;try{for(_iterator1112.s();!(_step1112=_iterator1112.n()).done;){var _t1602=_step1112.value;_t1602.style.setProperty("letter-spacing",_this589["#letter-spacing-input"].value);}}catch(err){_iterator1112.e(err);}finally{_iterator1112.f();}}else _t1601.style.setProperty("letter-spacing",_this589["#letter-spacing-input"].value);}}catch(err){_iterator1111.e(err);}finally{_iterator1111.f();}}),this["#letter-spacing-box"].addEventListener("changeend",_e1115=function e(){_this589["#letter-spacing-box"].removeEventListener("change",t),_this589["#letter-spacing-box"].removeEventListener("changeend",_e1115);var _iterator1113=_createForOfIteratorHelper(s),_step1113;try{for(_iterator1113.s();!(_step1113=_iterator1113.n()).done;){var _t1604=_step1113.value;xi(_t1604,i.selectedTextRange);}}catch(err){_iterator1113.e(err);}finally{_iterator1113.f();}_this589.Lm=!1;});}},{key:"Km",value:function Km(){var _this590=this;var t,_e1118,i=this.Js.board,s=this.Gd(),n=i.selectedTextRange,o=Symbol();i.undoManager.checkpoint("Word spacing");var _iterator1114=_createForOfIteratorHelper(s),_step1114;try{for(_iterator1114.s();!(_step1114=_iterator1114.n()).done;){var _t1610=_step1114.value;ui(_t1610,n);var _e1119=_t1610.querySelectorAll("tspan"),_i1069=bi(n,_t1610),_s615=_i1069.length>0&&!n.collapsed?_i1069:_e1119;_t1610[o]=_s615;}}catch(err){_iterator1114.e(err);}finally{_iterator1114.f();}this.Bm=!0,this["#word-spacing-box"].addEventListener("change",t=function t(_t1608){_t1608.target===_this590["#word-spacing-slider"]?_this590["#word-spacing-input"].value=_this590["#word-spacing-slider"].value:_t1608.target===_this590["#word-spacing-input"]&&(_this590["#word-spacing-slider"].value=_this590["#word-spacing-input"].value),_this590["#word-spacing-slider"].mixed=!1,_this590["#word-spacing-input"].mixed=!1;var _iterator1115=_createForOfIteratorHelper(s),_step1115;try{for(_iterator1115.s();!(_step1115=_iterator1115.n()).done;){var _t1606=_step1115.value;var _e1117=_t1606[o];if(_e1117.length>0){var _iterator1116=_createForOfIteratorHelper(_e1117),_step1116;try{for(_iterator1116.s();!(_step1116=_iterator1116.n()).done;){var _t1607=_step1116.value;_t1607.style.setProperty("word-spacing",_this590["#word-spacing-slider"].value);}}catch(err){_iterator1116.e(err);}finally{_iterator1116.f();}}else _t1606.style.setProperty("word-spacing",_this590["#word-spacing-slider"].value);}}catch(err){_iterator1115.e(err);}finally{_iterator1115.f();}}),this["#word-spacing-box"].addEventListener("changeend",_e1118=function e(){_this590["#word-spacing-box"].removeEventListener("change",t),_this590["#word-spacing-box"].removeEventListener("changeend",_e1118);var _iterator1117=_createForOfIteratorHelper(s),_step1117;try{for(_iterator1117.s();!(_step1117=_iterator1117.n()).done;){var _t1609=_step1117.value;xi(_t1609,i.selectedTextRange);}}catch(err){_iterator1117.e(err);}finally{_iterator1117.f();}_this590.Bm=!1;});}},{key:"Qm",value:function Qm(){var _this591=this;var t,_e1121,i=this.Js.board,s=this.Gd(),n=(i.selectedTextRange,Symbol());i.undoManager.checkpoint("Line spacing");var _iterator1118=_createForOfIteratorHelper(s),_step1118;try{for(_iterator1118.s();!(_step1118=_iterator1118.n()).done;){var _t1613=_step1118.value;_t1613[n]=[];var _iterator1121=_createForOfIteratorHelper(_t1613.querySelectorAll("tspan")),_step1121;try{for(_iterator1121.s();!(_step1121=_iterator1121.n()).done;){var _e1122=_step1121.value;yi(_e1122)&&_t1613[n].push(_e1122);}}catch(err){_iterator1121.e(err);}finally{_iterator1121.f();}}}catch(err){_iterator1118.e(err);}finally{_iterator1118.f();}this.Rm=!0,this["#line-spacing-box"].addEventListener("change",t=function t(_t1612){_t1612.target===_this591["#line-spacing-slider"]?_this591["#line-spacing-input"].value=_this591["#line-spacing-slider"].value:_t1612.target===_this591["#line-spacing-input"]&&(_this591["#line-spacing-slider"].value=_this591["#line-spacing-input"].value),_this591["#line-spacing-slider"].mixed=!1,_this591["#line-spacing-input"].mixed=!1;var _iterator1119=_createForOfIteratorHelper(s),_step1119;try{for(_iterator1119.s();!(_step1119=_iterator1119.n()).done;){var _t1611=_step1119.value;var _iterator1120=_createForOfIteratorHelper(_t1611[n]),_step1120;try{for(_iterator1120.s();!(_step1120=_iterator1120.n()).done;){var _e1120=_step1120.value;_e1120.setAttribute("dy",_this591["#line-spacing-slider"].value+1+"em");}}catch(err){_iterator1120.e(err);}finally{_iterator1120.f();}}}catch(err){_iterator1119.e(err);}finally{_iterator1119.f();}}),this["#line-spacing-box"].addEventListener("changeend",_e1121=function e(){_this591["#line-spacing-box"].removeEventListener("change",t),_this591["#line-spacing-box"].removeEventListener("changeend",_e1121),_this591.Rm=!1;});}},{key:"qs",value:function qs(){var _this592=this;var t=[],e=[],i=this.Gd(),s=Symbol();{var _n441=this.Js.board.selectedTextRange;var _iterator1122=_createForOfIteratorHelper(i),_step1122;try{for(_iterator1122.s();!(_step1122=_iterator1122.n()).done;){var _s616=_step1122.value;var _i1070=gi(_s616);if(_n441&&_n441.intersectsNode(_s616)){"backward"===_n441.direction&&_i1070.reverse();var _iterator1124=_createForOfIteratorHelper(_i1070),_step1124;try{for(_iterator1124.s();!(_step1124=_iterator1124.n()).done;){var _s617=_step1124.value;if(_n441.intersectsNode(_s617)){var _i1071=_s617.closest("tspan, text");t.includes(_s617.parentElement)||t.push(_s617.parentElement),e.includes(_i1071)||e.push(_i1071);}}}catch(err){_iterator1124.e(err);}finally{_iterator1124.f();}}else{var _iterator1125=_createForOfIteratorHelper(_i1070),_step1125;try{for(_iterator1125.s();!(_step1125=_iterator1125.n()).done;){var _e1123=_step1125.value;t.includes(_e1123.parentElement)||t.push(_e1123.parentElement);}}catch(err){_iterator1125.e(err);}finally{_iterator1125.f();}e.push(_s616);}}}catch(err){_iterator1122.e(err);}finally{_iterator1122.f();}var _iterator1123=_createForOfIteratorHelper(new Set([].concat(t,e))),_step1123;try{for(_iterator1123.s();!(_step1123=_iterator1123.n()).done;){var _i1072=_step1123.value;_i1072[s]=getComputedStyle(_i1072);}}catch(err){_iterator1123.e(err);}finally{_iterator1123.f();}}if(!1===this.$m&&!1===this.Am){var _e1124=t[0],_i1073=t.slice(1),_n442=function _n442(t){var e=_this592.Js.board.fontsManager.getWeights(t),i=[];return 0===e.length&&(e=["400","700"]),1===e.length&&"400"===e[0]&&(e.push("700"),i.push("700")),[e,i];};if(_e1124){var _t1614=_e1124[s],_o350=_p.fromString(_t1614.getPropertyValue("font-family")).items[0],_l291=Tt.fromString(_t1614.getPropertyValue("font-size")).value,_a219=(_t1614.getPropertyValue("font-variant"),_t1614.getPropertyValue("font-style")),_h175=Rp(_t1614.getPropertyValue("font-weight")),_n443=_n442(_o350),_n444=_slicedToArray(_n443,2),_r110=_n444[0],_d86=_n444[1],_c67=Fp(_h175,_r110),_p56=jt(_e1124.closest("text"),this.Js.board.currentWorkspace),_Nl22=Nl(_p56),_u47=_Nl22.scaleY,_x132=K(_l291*db(_u47),2),_b39=!1,_m37=!1,_g32=!1;var _iterator1126=_createForOfIteratorHelper(_i1073),_step1126;try{for(_iterator1126.s();!(_step1126=_iterator1126.n()).done;){var _t1615=_step1126.value;var _e1125=_t1615[s],_i1074=_e1125.getPropertyValue("font-family"),_o351=_p.fromString(_i1074).items[0],_h176=Tt.fromString(_e1125.getPropertyValue("font-size")).value,_r111=(_e1125.getPropertyValue("font-variant"),_e1125.getPropertyValue("font-style")),_d87=Rp(_e1125.getPropertyValue("font-weight")),_n445=_n442(_o351),_n446=_slicedToArray(_n445,1),_p57=_n446[0],_u48=Fp(_d87,_p57);_h176!==_l291&&(_b39=!0),_u48!==_c67&&(_m37=!0),_r111!==_a219&&(_g32=!0);}}catch(err){_iterator1126.e(err);}finally{_iterator1126.f();}this["#panel-heading"].disabled=!1,this["#font-section-heading"].disabled=!1,this["#font-family-heading"].disabled=!1,this["#font-family-button"].disabled=!1,this["#font-family-label"].textContent=_o350,this["#font-family-label"].style.fontFamily='"'+_o350+'"',this["#font-family-picker"].enabled=!0,this["#font-family-picker"].value=_o350,this["#font-face-heading"].disabled=!1;var _iterator1127=_createForOfIteratorHelper(this["#font-weight-menu"].children),_step1127;try{for(_iterator1127.s();!(_step1127=_iterator1127.n()).done;){var _t1616=_step1127.value;if(_r110.includes(_t1616.value)){var _e1126="".concat(_t1616.value," - ").concat(Gp(_t1616.value));_d86.includes(_t1616.value)&&(_e1126+=" (synthesized)"),_t1616.firstElementChild.textContent=_e1126,_t1616.hidden=!1;}else _t1616.hidden=!0;}}catch(err){_iterator1127.e(err);}finally{_iterator1127.f();}this["#font-weight-select"].disabled=!1,this["#font-weight-select"].value=_c67,this["#font-weight-select"].mixed=_m37,this["#font-style-button"].toggled="italic"===_a219,this["#font-style-button"].mixed=_g32,this["#font-style-button"].disabled=!1,this["#font-size-heading"].disabled=!1,this["#font-size-slider"].disabled=!1,this["#font-size-slider"].value=_x132,this["#font-size-slider"].mixed=_b39,this["#font-size-input"].disabled=!1,this["#font-size-input"].value=_x132,this["#font-size-input"].mixed=_b39;}else this["#panel-heading"].disabled=!0,this["#font-section-heading"].disabled=!0,this["#font-family-heading"].disabled=!0,this["#font-family-button"].disabled=!0,this["#font-family-button"].mixed=!1,this["#font-family-label"].textContent="System",this["#font-family-label"].style.fontFamily=null,this["#font-family-picker"].enabled=!1,this["#font-family-picker"].value=null,this["#font-face-heading"].disabled=!0,this["#font-weight-select"].disabled=!0,this["#font-style-button"].disabled=!0,this["#font-style-button"].mixed=!1,this["#font-size-heading"].disabled=!0,this["#font-size-slider"].value=13,this["#font-size-slider"].mixed=!1,this["#font-size-slider"].disabled=!0,this["#font-size-input"].disabled=!0,this["#font-size-input"].value=13,this["#font-size-input"].mixed=!1;}this["#text-section-heading"].disabled=0===i.length;{var _t1617=e[0],_i1075=e.slice(1);if(_t1617){var _e1127=_t1617[s].getPropertyValue("text-decoration"),_n447=!1,_o352=!1,_l292=!1;var _iterator1128=_createForOfIteratorHelper(_i1075),_step1128;try{for(_iterator1128.s();!(_step1128=_iterator1128.n()).done;){var _t1618=_step1128.value;var _i1076=_t1618[s].getPropertyValue("text-decoration");_e1127!==_i1076&&(_e1127.includes("underline")!==_i1076.includes("underline")&&(_n447=!0),_e1127.includes("line-through")!==_i1076.includes("line-through")&&(_o352=!0),_e1127.includes("overline")!==_i1076.includes("overline")&&(_l292=!0));}}catch(err){_iterator1128.e(err);}finally{_iterator1128.f();}this["#text-decoration-heading"].disabled=!1,this["#underline-button"].disabled=!1,this["#underline-button"].mixed=_n447,this["#underline-button"].toggled=_e1127.includes("underline"),this["#line-through-button"].disabled=!1,this["#line-through-button"].mixed=_o352,this["#line-through-button"].toggled=_e1127.includes("line-through"),this["#overline-button"].disabled=!1,this["#overline-button"].mixed=_l292,this["#overline-button"].toggled=_e1127.includes("overline");}else this["#text-decoration-heading"].disabled=!0,this["#underline-button"].disabled=!0,this["#underline-button"].mixed=!1,this["#underline-button"].toggled=!1,this["#line-through-button"].disabled=!0,this["#line-through-button"].mixed=!1,this["#line-through-button"].toggled=!1,this["#overline-button"].disabled=!0,this["#overline-button"].mixed=!1,this["#overline-button"].toggled=!1;}{var _e1128=t[0],_i1077=t.slice(1);if(_e1128){var _t1619=_e1128[s].getPropertyValue("text-transform"),_n448=!1;var _iterator1129=_createForOfIteratorHelper(_i1077),_step1129;try{for(_iterator1129.s();!(_step1129=_iterator1129.n()).done;){var _e1129=_step1129.value;_e1129[s].getPropertyValue("text-transform")!==_t1619&&(_n448=!0);}}catch(err){_iterator1129.e(err);}finally{_iterator1129.f();}this["#text-transform-heading"].disabled=!1,this["#capitalize-button"].disabled=!1,this["#capitalize-button"].mixed=_n448,this["#capitalize-button"].toggled="capitalize"===_t1619,this["#uppercase-button"].disabled=!1,this["#uppercase-button"].toggled="uppercase"===_t1619,this["#uppercase-button"].mixed=_n448,this["#lowercase-button"].disabled=!1,this["#lowercase-button"].toggled="lowercase"===_t1619,this["#lowercase-button"].mixed=_n448;}else this["#text-transform-heading"].disabled=!0,this["#capitalize-button"].disabled=!0,this["#capitalize-button"].toggled=!1,this["#capitalize-button"].mixed=!1,this["#uppercase-button"].disabled=!0,this["#uppercase-button"].toggled=!1,this["#uppercase-button"].mixed=!1,this["#lowercase-button"].disabled=!0,this["#lowercase-button"].toggled=!1,this["#lowercase-button"].mixed=!1;}{var _i1078=_toArray(i),_t1620=_i1078[0],_e1130=_i1078.slice(1),_s618=i.filter(function(t){return null!==t.querySelector("textPath");});if(_t1620&&_s618.length<i.length){var _i1079=getComputedStyle(_t1620).getPropertyValue("text-anchor"),_s619=!1;var _iterator1130=_createForOfIteratorHelper(_e1130),_step1130;try{for(_iterator1130.s();!(_step1130=_iterator1130.n()).done;){var _t1621=_step1130.value;getComputedStyle(_t1621).getPropertyValue("text-anchor")!==_i1079&&(_s619=!0);}}catch(err){_iterator1130.e(err);}finally{_iterator1130.f();}this["#text-anchor-heading"].disabled=!1,this["#text-anchor-buttons"].value=_i1079,this["#start-text-anchor-button"].disabled=!1,this["#start-text-anchor-button"].mixed=_s619,this["#middle-text-anchor-button"].disabled=!1,this["#middle-text-anchor-button"].mixed=_s619,this["#end-text-anchor-button"].disabled=!1,this["#end-text-anchor-button"].mixed=_s619;}else this["#text-anchor-heading"].disabled=!0,this["#text-anchor-buttons"].value=null,this["#start-text-anchor-button"].disabled=!0,this["#start-text-anchor-button"].mixed=!1,this["#middle-text-anchor-button"].disabled=!0,this["#middle-text-anchor-button"].mixed=!1,this["#end-text-anchor-button"].disabled=!0,this["#end-text-anchor-button"].mixed=!1;}if(!this.Im){if(0===i.length)this["#text-on-path-button"].toggled=!1,this["#text-on-path-button"].disabled=!0;else{var _t1622=!1,_e1131=null!==i[0].querySelector("textPath");var _iterator1131=_createForOfIteratorHelper(i),_step1131;try{for(_iterator1131.s();!(_step1131=_iterator1131.n()).done;){var _s620=_step1131.value;if(null!==_s620.querySelector("textPath")!==_e1131){_t1622=!0;break;}}}catch(err){_iterator1131.e(err);}finally{_iterator1131.f();}this["#text-on-path-button"].toggled=_e1131,this["#text-on-path-button"].disabled=!1,this["#text-on-path-button"].mixed=_t1622;}{var _t1623=i.map(function(t){return t.querySelector("textPath");}).filter(function(t){return null!==t;});if(0===_t1623.length)this["#path-start-offset-heading"].disabled=!0,this["#path-start-offset-slider"].value=0,this["#path-start-offset-slider"].disabled=!0,this["#path-start-offset-input"].value=0,this["#path-start-offset-input"].disabled=!0;else{var _t1624=_toArray(_t1623),_e1132=_t1624[0],_i1080=_t1624.slice(1),_s621=_e1132.startOffset.baseVal.value,_n449=!1;var _iterator1132=_createForOfIteratorHelper(_i1080),_step1132;try{for(_iterator1132.s();!(_step1132=_iterator1132.n()).done;){var _t1625=_step1132.value;_t1625.startOffset.baseVal.value!==_s621&&(_n449=!0);}}catch(err){_iterator1132.e(err);}finally{_iterator1132.f();}this["#path-start-offset-heading"].disabled=!1,this["#path-start-offset-slider"].value=_s621,this["#path-start-offset-slider"].disabled=!1,this["#path-start-offset-slider"].mixed=_n449,this["#path-start-offset-input"].value=_s621,this["#path-start-offset-input"].disabled=!1,this["#path-start-offset-input"].mixed=_n449;}}this["#path-section-heading"].disabled=this["#text-on-path-button"].disabled&&this["#path-start-offset-heading"].disabled;}if(!this.Lm&&!this.Bm&&!this.Rm){{var _e1133=t[0],_i1081=t.slice(1);if(_e1133){var _t1626=_e1133[s].getPropertyValue("letter-spacing"),_n450=_e1133[s].getPropertyValue("word-spacing");_t1626="normal"===_t1626?0:cb(_t1626),_n450="normal"===_n450?0:cb(_n450);var _o353=!1,_l293=!1;var _iterator1133=_createForOfIteratorHelper(_i1081),_step1133;try{for(_iterator1133.s();!(_step1133=_iterator1133.n()).done;){var _e1134=_step1133.value;var _i1082=_e1134[s].getPropertyValue("letter-spacing"),_a220=_e1134[s].getPropertyValue("word-spacing");_i1082="normal"===_i1082?0:cb(_i1082),_a220="normal"===_a220?0:cb(_a220),_i1082!==_t1626&&(_o353=!0),_a220!==_n450&&(_l293=!0);}}catch(err){_iterator1133.e(err);}finally{_iterator1133.f();}this["#letter-spacing-heading"].disabled=!1,this["#letter-spacing-slider"].value=K(_t1626,2),this["#letter-spacing-slider"].mixed=_o353,this["#letter-spacing-slider"].disabled=!1,this["#letter-spacing-input"].value=K(_t1626,2),this["#letter-spacing-input"].mixed=_o353,this["#letter-spacing-input"].disabled=!1,this["#word-spacing-heading"].disabled=!1,this["#word-spacing-slider"].value=K(_n450,2),this["#word-spacing-slider"].mixed=_l293,this["#word-spacing-slider"].disabled=!1,this["#word-spacing-input"].value=K(_n450,2),this["#word-spacing-input"].mixed=_l293,this["#word-spacing-input"].disabled=!1;}else this["#letter-spacing-heading"].disabled=!0,this["#letter-spacing-slider"].value=0,this["#letter-spacing-slider"].mixed=!1,this["#letter-spacing-slider"].disabled=!0,this["#letter-spacing-input"].value=0,this["#letter-spacing-input"].mixed=!1,this["#letter-spacing-input"].disabled=!0,this["#word-spacing-heading"].disabled=!0,this["#word-spacing-slider"].value=0,this["#word-spacing-slider"].mixed=!1,this["#word-spacing-slider"].disabled=!0,this["#word-spacing-input"].value=0,this["#word-spacing-input"].mixed=!1,this["#word-spacing-input"].disabled=!0;}{var _t1627=i.filter(function(t){return ki(t);}),_t1628=_toArray(_t1627),_e1135=_t1628[0],_s622=_t1628.slice(1);if(_e1135){var _t1629=Si(_e1135),_i1083=!1;var _iterator1134=_createForOfIteratorHelper(_s622),_step1134;try{for(_iterator1134.s();!(_step1134=_iterator1134.n()).done;){var _e1136=_step1134.value;if(Si(_e1136)!==_t1629){_i1083=!0;break;}}}catch(err){_iterator1134.e(err);}finally{_iterator1134.f();}this["#line-spacing-heading"].disabled=!1,this["#line-spacing-slider"].value=_t1629,this["#line-spacing-slider"].mixed=_i1083,this["#line-spacing-slider"].disabled=!1,this["#line-spacing-input"].value=_t1629,this["#line-spacing-input"].mixed=_i1083,this["#line-spacing-input"].disabled=!1;}else this["#line-spacing-heading"].disabled=!0,this["#line-spacing-slider"].value=0,this["#line-spacing-slider"].mixed=!1,this["#line-spacing-slider"].disabled=!0,this["#line-spacing-input"].value=0,this["#line-spacing-input"].mixed=!1,this["#line-spacing-input"].disabled=!0;}this["#spacing-section-heading"].disabled=this["#letter-spacing-heading"].disabled&&this["#word-spacing-heading"].disabled&&this["#line-spacing-heading"].disabled;}}},{key:"Gd",value:function Gd(){var t=[],e=function e(i){var _iterator1135=_createForOfIteratorHelper(i),_step1135;try{for(_iterator1135.s();!(_step1135=_iterator1135.n()).done;){var _s623=_step1135.value;"text"===_s623.localName?t.push(_s623):"g"!==_s623.localName&&"a"!==_s623.localName||e(_s623.children);}}catch(err){_iterator1135.e(err);}finally{_iterator1135.f();}};return e(this.Js.board.outermostSelectedElements),t;}}]);return ub;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ub,"observedAttributes",["enabled"]);_defineProperty(ub,"_shadowTemplate",qi(_templateObject320()));_defineProperty(ub,"_shadowStyleSheet",Xi(_templateObject321()));customElements.define("bx-typographypanel",ub);var xb=/*#__PURE__*/function(_HTMLElement100){_inherits(xb,_HTMLElement100);var _super129=_createSuper(xb);_createClass(xb,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function xb(){var _this593;_classCallCheck(this,xb);_this593=_super129.call(this),_this593._shadowRoot=_this593.attachShadow({mode:"closed"}),_this593._shadowRoot.append(document.importNode(_this593.constructor._shadowTemplate.content,!0)),_this593._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,xb._shadowStyleSheet,_this593.constructor._shadowStyleSheet];var _iterator1136=_createForOfIteratorHelper(_this593._shadowRoot.querySelectorAll("[id]")),_step1136;try{for(_iterator1136.s();!(_step1136=_iterator1136.n()).done;){var _t1630=_step1136.value;_this593["#"+_t1630.id]=_t1630;}}catch(err){_iterator1136.e(err);}finally{_iterator1136.f();}_this593.setAttribute("extends","bx-geometryinspector");return _this593;}_createClass(xb,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Jm=Ii(this,"bx-geometrypanel");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return xb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xb,"observedAttributes",["enabled"]);_defineProperty(xb,"_shadowStyleSheet",Xi(_templateObject322()));var bb=Math.pow;var mb=/*#__PURE__*/function(_xb){_inherits(mb,_xb);var _super130=_createSuper(mb);function mb(){var _this594;_classCallCheck(this,mb);_this594=_super130.call(this),_this594.tg=!1,_this594.eg=!1,_this594.ig=!1,_this594.sg=!1,_this594._h=Ki(_this594.qs,200,_assertThisInitialized(_this594)),_this594["#base-thickness-section"].addEventListener("changestart",function(){return _this594.Hp();}),_this594["#head-thickness-section"].addEventListener("changestart",function(){return _this594.Yp();}),_this594["#head-length-section"].addEventListener("changestart",function(){return _this594.Wp();}),_this594["#head-inset-section"].addEventListener("changestart",function(){return _this594.qp();}),_this594["#head-thickness-input"].validate=function(){return null;},_this594["#head-length-input"].validate=function(){return null;};return _this594;}_createClass(mb,[{key:"tn",value:function tn(){var _this595=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this595._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this595._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this595._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Hp",value:function Hp(){var _this596=this;var t,_e1137,i=this.Js.board,s=i.selectedElements[0],n=bl(s),o=i.geometryPrecision,_this$Jm=this.Jm,l=_this$Jm.displaySpace,a=_this$Jm.displayUnit,_Tl11=Tl.apply(void 0,_toConsumableArray(n.values)),h=_Tl11.minBaseThickness,r=_Tl11.maxBaseThickness,_n$values8=_slicedToArray(n.values,7),d=_n$values8[0],c=_n$values8[1],p=_n$values8[2],u=_n$values8[3],x=_n$values8[4],b=_n$values8[5],m=_n$values8[6],g=Xt("px",a),f=g.inverse(),w=jt(s,i.vectorCanvas);"viewport"===l&&(w=qt(i.currentWorkspace).multiply(w));var v=w.inverse();i.undoManager.checkpoint("Arrow base thickness"),this.tg=!0,this["#base-thickness-section"].addEventListener("change",t=function t(_t1631){_t1631.target===_this596["#base-thickness-slider"]?_this596["#base-thickness-input"].value=_this596["#base-thickness-slider"].value:_t1631.target===_this596["#base-thickness-input"]&&(_this596["#base-thickness-slider"].value=_this596["#base-thickness-input"].value);var e=new Z(new DOMPoint(d,c+u/2),new DOMPoint(d,c));e=e.matrixTransform(w),e=e.matrixTransform(g),e.length=_t1631.target.value,e=e.matrixTransform(f),e=e.matrixTransform(v),x=Q(e.length,h,r,o),_ml(s,{type:"arrow",values:[d,c,p,u,x,b,m]});}),this["#base-thickness-section"].addEventListener("changeend",_e1137=function e(){_this596["#base-thickness-section"].removeEventListener("change",t),_this596["#base-thickness-section"].removeEventListener("changeend",_e1137),_this596.tg=!1;});}},{key:"Yp",value:function Yp(){var _this597=this;var t,_e1138,i=this.Js.board,s=i.selectedElements[0],n=bl(s),o=i.geometryPrecision,_n$values9=_slicedToArray(n.values,7),l=_n$values9[0],a=_n$values9[1],h=_n$values9[2],r=_n$values9[3],d=_n$values9[4],c=_n$values9[5],p=_n$values9[6],u=a,x=r,b=Tl(l,a,h,r,d,c,p),m=Xt("px",this.Jm.displayUnit),g=m.inverse(),f=jt(s,i.vectorCanvas);"viewport"===this.Jm.displaySpace&&(f=qt(i.currentWorkspace).multiply(f));var w=f.inverse();i.undoManager.checkpoint("Arrow head thickness"),this.eg=!0,this["#head-thickness-section"].addEventListener("change",t=function t(_t1632){_t1632.target===_this597["#head-thickness-slider"]?_this597["#head-thickness-input"].value=_this597["#head-thickness-slider"].value:_t1632.target===_this597["#head-thickness-input"]&&(_this597["#head-thickness-slider"].value=_this597["#head-thickness-input"].value);var e=new Z(new DOMPoint(l+h-c,a),new DOMPoint(l+h-c,a+1e3));e=e.matrixTransform(f),e=e.matrixTransform(m),e.length=_t1632.target.value,e=e.matrixTransform(g),e=e.matrixTransform(w),r=Q(e.length,b.minHeadThickness,b.maxHeadThickness,o),a=K(u-(r-x)/2,o),_ml(s,{type:"arrow",values:[l,a,h,r,d,c,p]});}),this["#head-thickness-section"].addEventListener("changeend",_e1138=function e(){_this597["#head-thickness-section"].removeEventListener("change",t),_this597["#head-thickness-section"].removeEventListener("changeend",_e1138),_this597.eg=!1;});}},{key:"Wp",value:function Wp(){var _this598=this;var t,_e1139,i=this.Js.board,s=i.selectedElements[0],n=bl(s),_Tl12=Tl.apply(void 0,_toConsumableArray(n.values)),o=_Tl12.minHeadLength,l=_Tl12.maxHeadLength,a=i.geometryPrecision,_n$values10=_slicedToArray(n.values,7),h=_n$values10[0],r=_n$values10[1],d=_n$values10[2],c=_n$values10[3],p=_n$values10[4],u=_n$values10[5],x=_n$values10[6],b=Xt("px",this.Jm.displayUnit),m=b.inverse(),g=jt(s,i.vectorCanvas);"viewport"===this.Jm.displaySpace&&(g=qt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head length"),this.ig=!0,this["#head-length-section"].addEventListener("change",t=function t(_t1633){_t1633.target===_this598["#head-length-slider"]?_this598["#head-length-input"].value=_this598["#head-length-slider"].value:_t1633.target===_this598["#head-length-input"]&&(_this598["#head-length-slider"].value=_this598["#head-length-input"].value);var e=new Z(new DOMPoint(h+d-1e3,r+c/2),new DOMPoint(h+d,r+c/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1633.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),u=Q(e.length,o,l,a),_ml(s,{type:"arrow",values:[h,r,d,c,p,u,x]});}),this["#head-length-section"].addEventListener("changeend",_e1139=function e(){_this598["#head-length-section"].removeEventListener("change",t),_this598["#head-length-section"].removeEventListener("changeend",_e1139),_this598.ig=!1;});}},{key:"qp",value:function qp(){var _this599=this;var t,_e1140,i=this.Js.board,s=i.selectedElements[0],n=bl(s),_Tl13=Tl.apply(void 0,_toConsumableArray(n.values)),o=_Tl13.minHeadInset,l=_Tl13.maxHeadInset,a=i.geometryPrecision,_n$values11=_slicedToArray(n.values,7),h=_n$values11[0],r=_n$values11[1],d=_n$values11[2],c=_n$values11[3],p=_n$values11[4],u=_n$values11[5],x=_n$values11[6],b=Xt("px",this.Jm.displayUnit),m=b.inverse(),g=jt(s,i.vectorCanvas);"viewport"===this.Jm.displaySpace&&(g=qt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Arrow head inset"),this.sg=!0,this["#head-inset-section"].addEventListener("change",t=function t(_t1634){_t1634.target===_this599["#head-inset-slider"]?_this599["#head-inset-input"].value=_this599["#head-inset-slider"].value:_t1634.target===_this599["#head-inset-input"]&&(_this599["#head-inset-slider"].value=_this599["#head-inset-input"].value);var e=new Z(new DOMPoint(h+d-u,r+c/2-p/2),new DOMPoint(h+d-u+1e3,r+c/2-p/2));e=e.matrixTransform(g),e=e.matrixTransform(b),e.length=_t1634.target.value,e=e.matrixTransform(m),e=e.matrixTransform(f),x=Q(e.length,o,l,a),_ml(s,{type:"arrow",values:[h,r,d,c,p,u,x]});}),this["#head-inset-section"].addEventListener("changeend",_e1140=function e(){_this599["#head-inset-section"].removeEventListener("change",t),_this599["#head-inset-section"].removeEventListener("changeend",_e1140),_this599.sg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=null,s=null;if(1===e.length&&"path"===e[0].localName&&(i=e[0],s=bl(i)),s&&"arrow"===s.type){var _this$Jm2=this.Jm,_e1141=_this$Jm2.displayUnit,_n451=_this$Jm2.displaySpace,_o354=_this$Jm2.displayPrecision,_s$values12=_slicedToArray(s.values,7),_l294=_s$values12[0],_a221=_s$values12[1],_h177=_s$values12[2],_r112=_s$values12[3],_d88=_s$values12[4],_c68=_s$values12[5],_p58=_s$values12[6],_u49=Tl.apply(void 0,_toConsumableArray(s.values)),_x133=1/bb(10,_o354-1),_b40=_e1141?" "+_e1141:"",_m38=jt(i,t.vectorCanvas),_g33=Xt("px",_e1141);if("viewport"===_n451&&(_m38=qt(t.currentWorkspace).multiply(_m38)),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.tg){var _t1635=new Z(new DOMPoint(_l294,_a221+_r112/2-_d88/2),new DOMPoint(_l294,_a221+_r112/2+_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1142=new Z(new DOMPoint(_l294,_a221+_r112/2-_u49.minBaseThickness/2),new DOMPoint(_l294,_a221+_r112/2+_u49.minBaseThickness/2)).matrixTransform(_m38).matrixTransform(_g33).length,_i1084=new Z(new DOMPoint(_l294,_a221+_r112/2-_u49.maxBaseThickness/2),new DOMPoint(_l294,_a221+_r112/2+_u49.maxBaseThickness/2)).matrixTransform(_m38).matrixTransform(_g33).length;this["#base-thickness-slider"].min=K(_e1142,_o354),this["#base-thickness-slider"].max=K(_i1084,_o354),this["#base-thickness-slider"].value=K(_t1635,_o354),this["#base-thickness-slider"].step=_x133,this["#base-thickness-input"].min=K(_e1142,_o354),this["#base-thickness-input"].max=K(_i1084,_o354),this["#base-thickness-input"].value=K(_t1635,_o354),this["#base-thickness-input"].step=_x133,this["#base-thickness-input"].suffix=_b40;}if(!1===this.eg){var _t1636=new Z(new DOMPoint(_l294+_h177-_c68,_a221),new DOMPoint(_l294+_h177-_c68,_a221+_r112)).matrixTransform(_m38).matrixTransform(_g33).length,_i1085=new Z(new DOMPoint(0,0),new DOMPoint(0,_u49.minHeadThickness)).matrixTransform(_m38).matrixTransform(_g33).length,_s624=new Tt(_t1636,_e1141||"px");_s624=_s624.toLength("px"),_s624.value=Math.max(2*_s624.value,100),_s624=_s624.toLength(_e1141||"px"),this["#head-thickness-slider"].min=K(_i1085,_o354),this["#head-thickness-slider"].max=K(_s624.value,_o354),this["#head-thickness-slider"].value=K(_t1636,_o354),this["#head-thickness-slider"].step=_x133,this["#head-thickness-input"].min=K(_i1085,_o354),this["#head-thickness-input"].value=K(_t1636,_o354),this["#head-thickness-input"].suffix=_b40,this["#head-thickness-input"].step=_x133;}if(!1===this.ig){var _t1637=new Z(new DOMPoint(_l294+_h177-_c68,_a221+_r112/2),new DOMPoint(_l294+_h177,_a221+_r112/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1143=new Z(new DOMPoint(0,0),new DOMPoint(_u49.minHeadLength,0)).matrixTransform(_m38).matrixTransform(_g33).length,_i1086=new Z(new DOMPoint(0,0),new DOMPoint(_u49.maxHeadLength,0)).matrixTransform(_m38).matrixTransform(_g33).length;this["#head-length-slider"].min=K(_e1143,_o354),this["#head-length-slider"].max=K(_i1086,_o354),this["#head-length-slider"].value=K(_t1637,_o354),this["#head-length-slider"].step=_x133,this["#head-length-input"].min=K(_e1143,_o354),this["#head-length-input"].max=K(_i1086,_o354),this["#head-length-input"].value=K(_t1637,_o354),this["#head-length-input"].suffix=_b40,this["#head-length-input"].step=_x133;}if(!1===this.sg){var _t1638=new Z(new DOMPoint(_l294+_h177-_c68,_a221+_r112/2-_d88/2),new DOMPoint(_l294+_h177-_c68+_p58,_a221+_r112/2-_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length,_e1144=new Z(new DOMPoint(_l294+_h177-_c68,_a221+_r112/2-_d88/2),new DOMPoint(_l294+_h177-_c68+_u49.minHeadInset,_a221+_r112/2-_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length,_i1087=new Z(new DOMPoint(_l294+_h177-_c68,_a221+_r112/2-_d88/2),new DOMPoint(_l294+_h177-_c68+_u49.maxHeadInset,_a221+_r112/2-_d88/2)).matrixTransform(_m38).matrixTransform(_g33).length;this["#head-inset-slider"].min=K(_e1144,_o354),this["#head-inset-slider"].max=K(_i1087,_o354),this["#head-inset-slider"].value=K(_t1638,_o354),this["#head-inset-slider"].step=_x133,this["#head-inset-input"].min=0,this["#head-inset-input"].max=Infinity,this["#head-inset-input"].value=K(_t1638,_o354),this["#head-inset-input"].step=_x133,this["#head-inset-input"].suffix=_b40;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return mb;}(xb);_defineProperty(mb,"_shadowTemplate",qi(_templateObject323()));_defineProperty(mb,"_shadowStyleSheet",Xi(_templateObject324()));customElements.define("bx-arrowgeometryinspector",mb);var gb=Math.pow;var fb=/*#__PURE__*/function(_xb2){_inherits(fb,_xb2);var _super131=_createSuper(fb);function fb(){var _this600;_classCallCheck(this,fb);_this600=_super131.call(this),_this600.og=!1,_this600.lg=!1,_this600._h=Ki(_this600.qs,200,_assertThisInitialized(_this600)),_this600["#dx-input"].addEventListener("changestart",function(t){return _this600.ag(t);}),_this600["#dy-input"].addEventListener("changestart",function(t){return _this600.ag(t);}),_this600["#rotation-box"].addEventListener("changestart",function(){return _this600.hg();});return _this600;}_createClass(fb,[{key:"tn",value:function tn(){var _this601=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this601._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this601._h();}),this.Js.board.charHud.addEventListener("selectedcharchange",this.rg=function(){_this601._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this601._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.charHud.removeEventListener("selectedcharchange",this.rg),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"ag",value:function ag(t){var _this602=this;var e,_i1089,s,n,o,l=this.Js.board,_this$Jm3=this.Jm,a=_this$Jm3.displaySpace,h=_this$Jm3.displayUnit,_l$charHud$selectedCh=l.charHud.selectedChar,r=_l$charHud$selectedCh.textElement,d=_l$charHud$selectedCh.charIndex,c=t.target,p=[],u=[];this.og=!0,l.undoManager.checkpoint("Character delta"),ui(r);{var _t1639=0;var _iterator1137=_createForOfIteratorHelper(gi(r)),_step1137;try{for(_iterator1137.s();!(_step1137=_iterator1137.n()).done;){var _e1145=_step1137.value;var _i1088=0;var _iterator1138=_createForOfIteratorHelper(_e1145.textContent),_step1138;try{for(_iterator1138.s();!(_step1138=_iterator1138.n()).done;){var _l295=_step1138.value;if(_t1639===d){s=_e1145.parentNode,n=_e1145,o=_i1088;break;}_t1639+=1,_i1088+=1;}}catch(err){_iterator1138.e(err);}finally{_iterator1138.f();}if(s)break;}}catch(err){_iterator1137.e(err);}finally{_iterator1137.f();}}for(var _t1640=0;_t1640<n.textContent.length;_t1640+=1){p[_t1640]=void 0!==s.dx.baseVal[_t1640]?s.dx.baseVal[_t1640].value:0,u[_t1640]=void 0!==s.dy.baseVal[_t1640]?s.dy.baseVal[_t1640].value:0;}var x=Xt("px",h),b=x.inverse(),m=jt(s,l.vectorCanvas);"viewport"===a&&(m=qt(l.currentWorkspace).multiply(m));var g=m.inverse(),f=new DOMPoint(0,0);f=f.matrixTransform(m),f=f.matrixTransform(x),c.addEventListener("change",e=function e(t){var e=new DOMPoint(_this602["#dx-input"].value+f.x,_this602["#dy-input"].value+f.y).matrixTransform(b);e=e.matrixTransform(g),e=Pe(e,l.geometryPrecision),p[o]=e.x,u[o]=e.y,s.setAttribute("dx",p.join(" ")),s.setAttribute("dy",u.join(" "));}),c.addEventListener("changeend",_i1089=function i(){c.removeEventListener("change",e),c.removeEventListener("changeend",_i1089),xi(r),_this602.og=!1;});}},{key:"hg",value:function hg(){var _this603=this;var t,_e1147,i,s,n,o=this.Js.board,_o$charHud$selectedCh=o.charHud.selectedChar,l=_o$charHud$selectedCh.textElement,a=_o$charHud$selectedCh.charIndex,h=[];this.lg=!0,o.undoManager.checkpoint("Character delta"),ui(l);{var _t1641=0;var _iterator1139=_createForOfIteratorHelper(gi(l)),_step1139;try{for(_iterator1139.s();!(_step1139=_iterator1139.n()).done;){var _e1146=_step1139.value;var _o355=0;var _iterator1140=_createForOfIteratorHelper(_e1146.textContent),_step1140;try{for(_iterator1140.s();!(_step1140=_iterator1140.n()).done;){var _l296=_step1140.value;if(_t1641===a){i=_e1146.parentNode,s=_e1146,n=_o355;break;}_t1641+=1,_o355+=1;}}catch(err){_iterator1140.e(err);}finally{_iterator1140.f();}if(i)break;}}catch(err){_iterator1139.e(err);}finally{_iterator1139.f();}for(var _t1642=0;_t1642<s.textContent.length;_t1642+=1){h[_t1642]=void 0!==i.rotate.baseVal[_t1642]?i.rotate.baseVal[_t1642].value:0;}}this["#rotation-box"].addEventListener("change",t=function t(_t1643){_t1643.target===_this603["#rotation-slider"]?_this603["#rotation-input"].value=_this603["#rotation-slider"].value:_t1643.target===_this603["#rotation-input"]&&(_this603["#rotation-slider"].value=_this603["#rotation-input"].value),_this603.Qs.modKeys.shift&&(_this603["#rotation-input"].value=Re(_this603["#rotation-slider"].value,15),_this603["#rotation-slider"].value=_this603["#rotation-input"].value),h[n]=K(_this603["#rotation-input"].value,o.geometryPrecision),i.setAttribute("rotate",h.join(" "));}),this["#rotation-box"].addEventListener("changeend",_e1147=function e(){_this603["#rotation-box"].removeEventListener("change",t),_this603["#rotation-box"].removeEventListener("changeend",_e1147),xi(l),_this603.lg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.og&&!1===this.lg)if(t.charHud.selectedChar){var _t$charHud$selectedCh=t.charHud.selectedChar,_e1148=_t$charHud$selectedCh.textElement,_i1090=_t$charHud$selectedCh.charIndex,_this$Jm4=this.Jm,_s625=_this$Jm4.displayUnit,_n452=_this$Jm4.displaySpace,_o356=_this$Jm4.displayPrecision,_l297=Mi(_e1148),_a222=_l297.dx[_i1090],_h178=_l297.dy[_i1090],_r113=_l297.rotate[_i1090],_d89=_s625?" "+_s625:"",_c69=1/gb(10,_o356-1),_p59=Xt("px",_s625),_u50=jt(_e1148,t.vectorCanvas);"viewport"===_n452&&(_u50=qt(t.currentWorkspace).multiply(_u50));var _x134=new DOMPoint(0,0);_x134=_x134.matrixTransform(_u50),_x134=_x134.matrixTransform(_p59);var _b41=new DOMPoint(_a222,_h178);_b41=_b41.matrixTransform(_u50),_b41=_b41.matrixTransform(_p59),_a222=_b41.x-_x134.x,_h178=_b41.y-_x134.y,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#dx-input"].value=K(_a222,_o356),this["#dx-input"].suffix=_d89,this["#dx-input"].step=_c69,this["#dy-input"].value=K(_h178,_o356),this["#dy-input"].suffix=_d89,this["#dy-input"].step=_c69,this["#rotation-input"].value=K(_r113,1),this["#rotation-slider"].value=K(_r113,1);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return fb;}(xb);_defineProperty(fb,"_shadowTemplate",qi(_templateObject325()));_defineProperty(fb,"_shadowStyleSheet",Xi(_templateObject326()));customElements.define("bx-chargeometryinspector",fb);var wb=Math.pow;var vb=/*#__PURE__*/function(_xb3){_inherits(vb,_xb3);var _super132=_createSuper(vb);function vb(){var _this604;_classCallCheck(this,vb);_this604=_super132.call(this),_this604.dg=!1,_this604.cg=!1,_this604.Vb=!1,_this604._h=Ki(_this604.qs,200,_assertThisInitialized(_this604)),_this604["#cx-input"].addEventListener("changestart",function(){return _this604.pg();}),_this604["#cy-input"].addEventListener("changestart",function(){return _this604.ug();}),_this604["#radius-input"].addEventListener("changestart",function(){return _this604.xg();});return _this604;}_createClass(vb,[{key:"tn",value:function tn(){var _this605=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this605._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this605._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this605._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this606=this;var t,_e1149,i=this.Js.board,s=i.selectedElements[0],_this$Jm5=this.Jm,n=_this$Jm5.displaySpace,o=_this$Jm5.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.vectorCanvas);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1644){var e=new DOMPoint(_this606["#cx-input"].value,_this606["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Pe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1149=function e(){_this606["#cx-input"].removeEventListener("change",t),_this606["#cx-input"].removeEventListener("changeend",_e1149),_this606.dg=!1;});}},{key:"ug",value:function ug(){var _this607=this;var t,_e1150,i=this.Js.board,s=i.selectedElements[0],_this$Jm6=this.Jm,n=_this$Jm6.displaySpace,o=_this$Jm6.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.currentWorkspace);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1645){var e=new DOMPoint(_this607["#cx-input"].value,_this607["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Pe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1150=function e(){_this607["#cy-input"].removeEventListener("change",t),_this607["#cy-input"].removeEventListener("changeend",_e1150),_this607.cg=!1;});}},{key:"xg",value:function xg(){var _this608=this;var t,_e1151,i=this.Js.board,s=i.selectedElements[0],_this$Jm7=this.Jm,n=_this$Jm7.displaySpace,o=_this$Jm7.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.currentWorkspace);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Circle radius"),this.Vb=!0;var d=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);d=d.matrixTransform(h),d=d.matrixTransform(a);var c=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);c=c.matrixTransform(h),c=c.matrixTransform(a),this["#radius-input"].addEventListener("change",t=function t(_t1646){var e=new Z(d,c);e.length=_this608["#radius-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r);var i=K(e.length,l);s.setAttribute("r",i);}),this["#radius-input"].addEventListener("changeend",_e1151=function e(){_this608["#radius-input"].removeEventListener("change",t),_this608["#radius-input"].removeEventListener("changeend",_e1151),_this608.Vb=!1;});}},{key:"qs",value:function qs(){if(!1===this.dg&&!1===this.cg&&!1===this.Vb){var _t1647=this.Js.board,_e1152=_t1647.outermostSelectedElements;if(0===_e1152.length||"circle"!==_e1152[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm8=this.Jm,_i1091=_this$Jm8.displayUnit,_s626=_this$Jm8.displaySpace,_n453=_this$Jm8.displayPrecision,_o357=_e1152[0],_l298=jt(_o357,_t1647.currentWorkspace),_a223=Xt("px",_i1091),_h179=_i1091?" "+_i1091:"",_r114=1/wb(10,_n453-1);"viewport"===_s626&&(_l298=qt(_t1647.currentWorkspace).multiply(_l298));var _d90=new DOMPoint(_o357.cx.baseVal.value,_o357.cy.baseVal.value);_d90=_d90.matrixTransform(_l298),_d90=_d90.matrixTransform(_a223),_d90=Pe(_d90,_n453);var _c70=new DOMPoint(_o357.cx.baseVal.value+_o357.r.baseVal.value,_o357.cy.baseVal.value);_c70=_c70.matrixTransform(_l298),_c70=_c70.matrixTransform(_a223);var _p60=new Z(_d90,_c70).length;_p60=K(_p60,_n453),this["#cx-input"].value=_d90.x,this["#cx-input"].suffix=_h179,this["#cx-input"].step=_r114,this["#cy-input"].value=_d90.y,this["#cy-input"].suffix=_h179,this["#cy-input"].step=_r114,this["#radius-input"].value=_p60,this["#radius-input"].suffix=_h179,this["#radius-input"].step=_r114;}}}}]);return vb;}(xb);_defineProperty(vb,"_shadowTemplate",qi(_templateObject327()));_defineProperty(vb,"_shadowStyleSheet",Xi(_templateObject328()));customElements.define("bx-circlegeometryinspector",vb);var yb=Math.pow;var kb=/*#__PURE__*/function(_xb4){_inherits(kb,_xb4);var _super133=_createSuper(kb);function kb(){var _this609;_classCallCheck(this,kb);_this609=_super133.call(this),_this609.dg=!1,_this609.cg=!1,_this609.bg=!1,_this609.mg=!1,_this609.gg=!1,_this609.fg=!1,_this609.wg=!1,_this609._h=Ki(_this609.qs,200,_assertThisInitialized(_this609)),_this609["#cx-input"].addEventListener("changestart",function(){return _this609.pg();}),_this609["#cy-input"].addEventListener("changestart",function(){return _this609.ug();}),_this609["#r1-input"].addEventListener("changestart",function(){return _this609.vg();}),_this609["#r2-input"].addEventListener("changestart",function(){return _this609.yg();}),_this609["#r3-input"].addEventListener("changestart",function(){return _this609.kg();}),_this609["#splay-section"].addEventListener("changestart",function(){return _this609.Gp();}),_this609["#teeth-section"].addEventListener("changestart",function(){return _this609.Fp();});return _this609;}_createClass(kb,[{key:"tn",value:function tn(){var _this610=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this610._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this610._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this610._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this611=this;var t,_e1153,i=this.Js.board,s=i.selectedElements[0],_bl$values44=_slicedToArray(bl(s).values,7),n=_bl$values44[0],o=_bl$values44[1],l=_bl$values44[2],a=_bl$values44[3],h=_bl$values44[4],r=_bl$values44[5],d=_bl$values44[6],_this$Jm9=this.Jm,c=_this$Jm9.displaySpace,p=_this$Jm9.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.vectorCanvas);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1648){var e=new DOMPoint(_this611["#cx-input"].value,_this611["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Pe(e,u),n=e.x,o=e.y,_ml(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1153=function e(){_this611["#cx-input"].removeEventListener("change",t),_this611["#cx-input"].removeEventListener("changeend",_e1153),_this611.dg=!1;});}},{key:"ug",value:function ug(){var _this612=this;var t,_e1154,i=this.Js.board,s=i.selectedElements[0],_bl$values45=_slicedToArray(bl(s).values,7),n=_bl$values45[0],o=_bl$values45[1],l=_bl$values45[2],a=_bl$values45[3],h=_bl$values45[4],r=_bl$values45[5],d=_bl$values45[6],_this$Jm10=this.Jm,c=_this$Jm10.displaySpace,p=_this$Jm10.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.currentWorkspace);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1649){var e=new DOMPoint(_this612["#cx-input"].value,_this612["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Pe(e,u),n=e.x,o=e.y,_ml(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1154=function e(){_this612["#cy-input"].removeEventListener("change",t),_this612["#cy-input"].removeEventListener("changeend",_e1154),_this612.cg=!1;});}},{key:"vg",value:function vg(){var _this613=this;var t,_e1155,i=this.Js.board,s=i.selectedElements[0],_bl$values46=_slicedToArray(bl(s).values,7),n=_bl$values46[0],o=_bl$values46[1],l=_bl$values46[2],a=_bl$values46[3],h=_bl$values46[4],r=_bl$values46[5],d=_bl$values46[6],_this$Jm11=this.Jm,c=_this$Jm11.displaySpace,p=_this$Jm11.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.currentWorkspace);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.bg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1-input"].addEventListener("change",t=function t(_t1650){var e=new Z(g,f);e.length=_this613["#r1-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=K(e.length,u),_ml(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r1-input"].addEventListener("changeend",_e1155=function e(){_this613["#r1-input"].removeEventListener("change",t),_this613["#r1-input"].removeEventListener("changeend",_e1155),_this613.bg=!1;});}},{key:"yg",value:function yg(){var _this614=this;var t,_e1156,i=this.Js.board,s=i.selectedElements[0],_bl$values47=_slicedToArray(bl(s).values,7),n=_bl$values47[0],o=_bl$values47[1],l=_bl$values47[2],a=_bl$values47[3],h=_bl$values47[4],r=_bl$values47[5],d=_bl$values47[6],_this$Jm12=this.Jm,c=_this$Jm12.displaySpace,p=_this$Jm12.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.currentWorkspace);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.mg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2-input"].addEventListener("change",t=function t(_t1651){var e=new Z(g,f);e.length=_this614["#r2-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=K(e.length,u),_ml(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r2-input"].addEventListener("changeend",_e1156=function e(){_this614["#r2-input"].removeEventListener("change",t),_this614["#r2-input"].removeEventListener("changeend",_e1156),_this614.mg=!1;});}},{key:"kg",value:function kg(){var _this615=this;var t,_e1157,i=this.Js.board,s=i.selectedElements[0],_bl$values48=_slicedToArray(bl(s).values,7),n=_bl$values48[0],o=_bl$values48[1],l=_bl$values48[2],a=_bl$values48[3],h=_bl$values48[4],r=_bl$values48[5],d=_bl$values48[6],_this$Jm13=this.Jm,c=_this$Jm13.displaySpace,p=_this$Jm13.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.currentWorkspace);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cog radius"),this.gg=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r3-input"].addEventListener("change",t=function t(_t1652){var e=new Z(g,f);e.length=_this615["#r3-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=K(e.length,u),_ml(s,{type:"cog",values:[n,o,l,a,h,r,d]});}),this["#r3-input"].addEventListener("changeend",_e1157=function e(){_this615["#r3-input"].removeEventListener("change",t),_this615["#r3-input"].removeEventListener("changeend",_e1157),_this615.gg=!1;});}},{key:"Gp",value:function Gp(){var _this616=this;var t,_e1158,i=this.Js.board,s=i.selectedElements[0],n=bl(s),o=i.geometryPrecision,_n$values12=_slicedToArray(n.values,7),l=_n$values12[0],a=_n$values12[1],h=_n$values12[2],r=_n$values12[3],d=_n$values12[4],c=_n$values12[5],p=_n$values12[6];i.undoManager.checkpoint("Cog splay"),this.fg=!0,this["#splay-section"].addEventListener("change",t=function t(_t1653){_t1653.target===_this616["#splay-slider"]?_this616["#splay-input"].value=_this616["#splay-slider"].value:_t1653.target===_this616["#splay-input"]&&(_this616["#splay-slider"].value=_this616["#splay-input"].value),c=(100-_this616["#splay-input"].value)/100,c=K(c,o),_ml(s,{type:"cog",values:[l,a,h,r,d,c,p]});}),this["#splay-section"].addEventListener("changeend",_e1158=function e(){_this616["#splay-section"].removeEventListener("change",t),_this616["#splay-section"].removeEventListener("changeend",_e1158),_this616.fg=!1;});}},{key:"Fp",value:function Fp(){var _this617=this;var t,_e1159,i=this.Js.board,s=i.selectedElements[0],n=bl(s),_n$values13=_slicedToArray(n.values,7),o=_n$values13[0],l=_n$values13[1],a=_n$values13[2],h=_n$values13[3],r=_n$values13[4],d=_n$values13[5],c=_n$values13[6];i.undoManager.checkpoint("Cog teeth"),this.wg=!0,this["#teeth-section"].addEventListener("change",t=function t(_t1654){_t1654.target===_this617["#teeth-slider"]?_this617["#teeth-input"].value=_this617["#teeth-slider"].value:_t1654.target===_this617["#teeth-input"]&&(_this617["#teeth-slider"].value=_this617["#teeth-input"].value),c=_this617["#teeth-input"].value,_ml(s,{type:"cog",values:[o,l,a,h,r,d,c]});}),this["#teeth-section"].addEventListener("changeend",_e1159=function e(){_this617["#teeth-section"].removeEventListener("change",t),_this617["#teeth-section"].removeEventListener("changeend",_e1159),_this617.wg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1092=e[0],_s627=bl(_i1092);if(_s627&&"cog"===_s627.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s627$values=_slicedToArray(_s627.values,7),_i1093=_s627$values[0],_n454=_s627$values[1],_o358=_s627$values[2],_l299=_s627$values[3],_a224=_s627$values[4],_h180=_s627$values[5],_r115=_s627$values[6],_this$Jm14=this.Jm,_d91=_this$Jm14.displayUnit,_c71=_this$Jm14.displaySpace,_p61=_this$Jm14.displayPrecision,_u51=e[0],_x135=jt(_u51,t.currentWorkspace),_b42=Xt("px",_d91),_m39=_d91?" "+_d91:"",_g34=1/yb(10,_p61-1);"viewport"===_c71&&(_x135=qt(t.currentWorkspace).multiply(_x135));var _f23=new DOMPoint(_i1093,_n454);if(_f23=_f23.matrixTransform(_x135),_f23=_f23.matrixTransform(_b42),_f23=Pe(_f23,_p61),!1===this.dg&&(this["#cx-input"].value=_f23.x,this["#cx-input"].suffix=_m39,this["#cx-input"].step=_g34),!1===this.cg&&(this["#cy-input"].value=_f23.y,this["#cy-input"].suffix=_m39,this["#cy-input"].step=_g34),!1===this.bg){var _t1655=new DOMPoint(_i1093+_o358,_n454);_t1655=_t1655.matrixTransform(_x135),_t1655=_t1655.matrixTransform(_b42),this["#r1-input"].value=K(new Z(_f23,_t1655).length,_p61),this["#r1-input"].suffix=_m39,this["#r1-input"].step=_g34;}if(!1===this.mg){var _t1656=new DOMPoint(_i1093+_l299,_n454);_t1656=_t1656.matrixTransform(_x135),_t1656=_t1656.matrixTransform(_b42),this["#r2-input"].value=K(new Z(_f23,_t1656).length,_p61),this["#r2-input"].suffix=_m39,this["#r2-input"].step=_g34;}if(!1===this.gg){var _t1657=new DOMPoint(_i1093+_a224,_n454);_t1657=_t1657.matrixTransform(_x135),_t1657=_t1657.matrixTransform(_b42),this["#r3-input"].value=K(new Z(_f23,_t1657).length,_p61),this["#r3-input"].suffix=_m39,this["#r3-input"].step=_g34;}if(!1===this.fg){var _t1658=K(100-100*_h180,_p61);this["#splay-slider"].value=_t1658,this["#splay-input"].value=_t1658;}!1===this.wg&&(this["#teeth-slider"].value=K(_r115,0),this["#teeth-input"].value=K(_r115,0));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return kb;}(xb);_defineProperty(kb,"_shadowTemplate",qi(_templateObject329()));_defineProperty(kb,"_shadowStyleSheet",Xi(_templateObject330()));customElements.define("bx-coggeometryinspector",kb);var Sb=Math.abs,_b=Math.min,Cb=Math.pow;var Mb=/*#__PURE__*/function(_xb5){_inherits(Mb,_xb5);var _super134=_createSuper(Mb);function Mb(){var _this618;_classCallCheck(this,Mb);_this618=_super134.call(this),_this618.dg=!1,_this618.cg=!1,_this618.Sg=!1,_this618._g=!1,_this618.Cg=!1,_this618._h=Ki(_this618.qs,200,_assertThisInitialized(_this618)),_this618["#cx-input"].addEventListener("changestart",function(){_this618.pg();}),_this618["#cy-input"].addEventListener("changestart",function(){_this618.ug();}),_this618["#horizontal-arm-thickness-input"].addEventListener("changestart",function(){_this618.Mg();}),_this618["#vertical-arm-thickness-input"].addEventListener("changestart",function(){_this618.Pg();}),_this618["#shift-section"].addEventListener("changestart",function(){_this618.Op();}),_this618["#horizontal-arm-thickness-input"].validate=function(){return null;},_this618["#vertical-arm-thickness-input"].validate=function(){return null;},_this618["#shift-input"].validate=function(){return null;};return _this618;}_createClass(Mb,[{key:"tn",value:function tn(){var _this619=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this619._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this619._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this619._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this620=this;var t,_e1160,i=this.Js.board,s=i.selectedElements[0],_bl$values49=_slicedToArray(bl(s).values,7),n=_bl$values49[0],o=_bl$values49[1],l=_bl$values49[2],a=_bl$values49[3],h=_bl$values49[4],r=_bl$values49[5],d=_bl$values49[6],_this$Jm15=this.Jm,c=_this$Jm15.displaySpace,p=_this$Jm15.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.vectorCanvas);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1659){var e=new DOMPoint(_this620["#cx-input"].value,_this620["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Pe(e,u);var i=K(e.x-l/2,u),n=K(e.y-a*d,u);_ml(s,{type:"cross",values:[i,n,l,a,h,r,d]});}),this["#cx-input"].addEventListener("changeend",_e1160=function e(){_this620["#cx-input"].removeEventListener("change",t),_this620["#cx-input"].removeEventListener("changeend",_e1160),_this620.dg=!1;});}},{key:"ug",value:function ug(){var _this621=this;var t,_e1161,i=this.Js.board,s=i.selectedElements[0],_bl$values50=_slicedToArray(bl(s).values,7),n=_bl$values50[0],o=_bl$values50[1],l=_bl$values50[2],a=_bl$values50[3],h=_bl$values50[4],r=_bl$values50[5],d=_bl$values50[6],_this$Jm16=this.Jm,c=_this$Jm16.displaySpace,p=_this$Jm16.displayUnit,u=i.geometryPrecision,x=Xt(p,"px"),b=jt(s,i.currentWorkspace);"viewport"===c&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Cross center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1660){var e=new DOMPoint(_this621["#cx-input"].value,_this621["#cy-input"].value);e=e.matrixTransform(x),e=e.matrixTransform(m),e=Pe(e,u);var i=K(e.x-l/2,u),n=K(e.y-a*d,u);_ml(s,{type:"cross",values:[i,n,l,a,h,r,d]});}),this["#cy-input"].addEventListener("changeend",_e1161=function e(){_this621["#cy-input"].removeEventListener("change",t),_this621["#cy-input"].removeEventListener("changeend",_e1161),_this621.cg=!1;});}},{key:"Mg",value:function Mg(){var _this622=this;var t,_e1162,i=this.Js.board,s=i.selectedElements[0],n=bl(s),o=i.geometryPrecision,_n$values14=_slicedToArray(n.values,7),l=_n$values14[0],a=_n$values14[1],h=_n$values14[2],r=_n$values14[3],d=_n$values14[4],c=_n$values14[5],p=_n$values14[6],_this$Jm17=this.Jm,u=_this$Jm17.displaySpace,x=_this$Jm17.displayUnit,b=Xt(x,"px"),m=Xt("px",x),g=jt(s,i.currentWorkspace);"viewport"===u&&(g=qt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross horizontal arm thickness"),this.Sg=!0,this["#horizontal-arm-thickness-input"].addEventListener("change",t=function t(_t1661){var e=new Z(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this622["#horizontal-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),d=K(e.length,o),_ml(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#horizontal-arm-thickness-input"].addEventListener("changeend",_e1162=function e(){_this622["#horizontal-arm-thickness-input"].removeEventListener("change",t),_this622["#horizontal-arm-thickness-input"].removeEventListener("changeend",_e1162),_this622.Sg=!1;});}},{key:"Pg",value:function Pg(){var _this623=this;var t,_e1163,i=this.Js.board,s=i.selectedElements[0],n=bl(s),o=i.geometryPrecision,_n$values15=_slicedToArray(n.values,7),l=_n$values15[0],a=_n$values15[1],h=_n$values15[2],r=_n$values15[3],d=_n$values15[4],c=_n$values15[5],p=_n$values15[6],_this$Jm18=this.Jm,u=_this$Jm18.displaySpace,x=_this$Jm18.displayUnit,b=Xt(x,"px"),m=Xt("px",x),g=jt(s,i.currentWorkspace);"viewport"===u&&(g=qt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross vertical arm thickness"),this._g=!0,this["#vertical-arm-thickness-input"].addEventListener("change",t=function t(_t1662){var e=new Z(100,0);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=_this623["#vertical-arm-thickness-input"].value,e=e.matrixTransform(b),e=e.matrixTransform(f),c=K(e.length,o),_ml(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#vertical-arm-thickness-input"].addEventListener("changeend",_e1163=function e(){_this623["#vertical-arm-thickness-input"].removeEventListener("change",t),_this623["#vertical-arm-thickness-input"].removeEventListener("changeend",_e1163),_this623._g=!1;});}},{key:"Op",value:function Op(){var _this624=this;var t,_e1164,i=this.Js.board,s=i.selectedElements[0],n=bl(s),o=i.geometryPrecision,_n$values16=_slicedToArray(n.values,7),l=_n$values16[0],a=_n$values16[1],h=_n$values16[2],r=_n$values16[3],d=_n$values16[4],c=_n$values16[5],p=_n$values16[6],_this$Jm19=this.Jm,u=_this$Jm19.displaySpace,x=_this$Jm19.displayUnit,b=Xt(x,"px"),m=Xt("px",x),g=jt(s,i.currentWorkspace);"viewport"===u&&(g=qt(i.currentWorkspace).multiply(g));var f=g.inverse();i.undoManager.checkpoint("Cross shift"),this.Cg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1663){_t1663.target===_this624["#shift-slider"]?_this624["#shift-input"].value=_this624["#shift-slider"].value:_t1663.target===_this624["#shift-input"]&&(_this624["#shift-slider"].value=_this624["#shift-input"].value);var e=new Z(0,100);e=e.matrixTransform(g),e=e.matrixTransform(m),e.length=Sb(_this624["#shift-input"].value),e=e.matrixTransform(b),e=e.matrixTransform(f),p=e.length*(_this624["#shift-input"].value<0?-1:1),p=p/r+.5,p=K(p,o),_ml(s,{type:"cross",values:[l,a,h,r,d,c,p]});}),this["#shift-section"].addEventListener("changeend",_e1164=function e(){_this624["#shift-section"].removeEventListener("change",t),_this624["#shift-section"].removeEventListener("changeend",_e1164),_this624.Cg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1094=e[0],_s628=bl(_i1094);if(_s628&&"cross"===_s628.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _s628$values=_slicedToArray(_s628.values,7),_i1095=_s628$values[0],_n455=_s628$values[1],_o359=_s628$values[2],_l300=_s628$values[3],_a225=_s628$values[4],_h181=_s628$values[5],_r116=_s628$values[6],_this$Jm20=this.Jm,_d92=_this$Jm20.displayUnit,_c72=_this$Jm20.displaySpace,_p62=_this$Jm20.displayPrecision,_u52=e[0],_x136=jt(_u52,t.currentWorkspace),_b43=Xt("px",_d92),_m40=_d92?" "+_d92:"",_g35=1/Cb(10,_p62-1);"viewport"===_c72&&(_x136=qt(t.currentWorkspace).multiply(_x136));var _f24=new DOMPoint(_i1095+_o359/2,_n455+_l300*_r116);if(_f24=_f24.matrixTransform(_x136),_f24=_f24.matrixTransform(_b43),_f24=Pe(_f24,_p62),!1===this.dg&&(this["#cx-input"].value=_f24.x,this["#cx-input"].suffix=_m40,this["#cx-input"].step=_g35),!1===this.cg&&(this["#cy-input"].value=_f24.y,this["#cy-input"].suffix=_m40,this["#cy-input"].step=_g35),!1===this.Sg){var _t1664=new Z(0,_a225);_t1664=_t1664.matrixTransform(_x136),_t1664=_t1664.matrixTransform(_b43);var _e1165=new Z(0,2*_b(_l300*_r116,_l300-_l300*_r116));_e1165=_e1165.matrixTransform(_x136),_e1165=_e1165.matrixTransform(_b43),this["#horizontal-arm-thickness-input"].max=K(_e1165.length,_p62),this["#horizontal-arm-thickness-input"].value=K(_t1664.length,_p62),this["#horizontal-arm-thickness-input"].step=_g35,this["#horizontal-arm-thickness-input"].suffix=_m40;}if(!1===this._g){var _t1665=new Z(_h181,0);_t1665=_t1665.matrixTransform(_x136),_t1665=_t1665.matrixTransform(_b43);var _e1166=new Z(_o359,0);_e1166=_e1166.matrixTransform(_x136),_e1166=_e1166.matrixTransform(_b43),this["#vertical-arm-thickness-input"].max=K(_e1166.length,_p62),this["#vertical-arm-thickness-input"].value=K(_t1665.length,_p62),this["#vertical-arm-thickness-input"].step=_g35,this["#vertical-arm-thickness-input"].suffix=_m40;}if(!1===this.Cg){var _t1666=new Z(0,(_r116-.5)*_l300);_t1666=_t1666.matrixTransform(_x136),_t1666=_t1666.matrixTransform(_b43);var _e1167=new Z(0,_l300/2-_a225/2);_e1167=_e1167.matrixTransform(_x136),_e1167=_e1167.matrixTransform(_b43);var _i1096=K(_t1666.length,_p62);_i1096*=_r116<.5?-1:1;var _s629=-K(_e1167.length,_p62),_n456=K(_e1167.length,_p62);this["#shift-slider"].min=_s629,this["#shift-slider"].max=_n456,this["#shift-slider"].step=_g35,this["#shift-slider"].value=_i1096,this["#shift-input"].min=_s629,this["#shift-input"].max=_n456,this["#shift-input"].step=_g35,this["#shift-input"].value=_i1096,this["#shift-input"].suffix=_m40;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Mb;}(xb);_defineProperty(Mb,"_shadowTemplate",qi(_templateObject331()));_defineProperty(Mb,"_shadowStyleSheet",Xi(_templateObject332()));customElements.define("bx-crossgeometryinspector",Mb);var Pb=Math.pow;var Db=/*#__PURE__*/function(_xb6){_inherits(Db,_xb6);var _super135=_createSuper(Db);function Db(){var _this625;_classCallCheck(this,Db);_this625=_super135.call(this),_this625.dg=!1,_this625.cg=!1,_this625.Dg=!1,_this625.zg=!1,_this625._h=Ki(_this625.qs,200,_assertThisInitialized(_this625)),_this625["#cx-input"].addEventListener("changestart",function(){return _this625.pg();}),_this625["#cy-input"].addEventListener("changestart",function(){return _this625.ug();}),_this625["#rx-input"].addEventListener("changestart",function(){return _this625.Og();}),_this625["#ry-input"].addEventListener("changestart",function(){return _this625.Eg();}),_this625["#aspect-ratio-button"].addEventListener("toggle",function(){return _this625.Tg();});return _this625;}_createClass(Db,[{key:"tn",value:function tn(){var _this626=this;this["#aspect-ratio-button"].toggled=app.getConfig("bx-ellipsegeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this626._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this626._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this626._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this627=this;var t,_e1168,i=this.Js.board,s=i.selectedElements[0],_this$Jm21=this.Jm,n=_this$Jm21.displaySpace,o=_this$Jm21.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.vectorCanvas);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Ellipse center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1667){var e=new DOMPoint(_this627["#cx-input"].value,_this627["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Pe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cx-input"].addEventListener("changeend",_e1168=function e(){_this627["#cx-input"].removeEventListener("change",t),_this627["#cx-input"].removeEventListener("changeend",_e1168),_this627.dg=!1;});}},{key:"ug",value:function ug(){var _this628=this;var t,_e1169,i=this.Js.board,s=i.selectedElements[0],_this$Jm22=this.Jm,n=_this$Jm22.displaySpace,o=_this$Jm22.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.currentWorkspace);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Ellipse center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1668){var e=new DOMPoint(_this628["#cx-input"].value,_this628["#cy-input"].value);e=e.matrixTransform(a),e=e.matrixTransform(r),e=Pe(e,l),s.setAttribute("cx",e.x),s.setAttribute("cy",e.y);}),this["#cy-input"].addEventListener("changeend",_e1169=function e(){_this628["#cy-input"].removeEventListener("change",t),_this628["#cy-input"].removeEventListener("changeend",_e1169),_this628.cg=!1;});}},{key:"Og",value:function Og(){var _this629=this;var t,_e1170,i=this.Js.board,s=i.selectedElements[0],_this$Jm23=this.Jm,n=_this$Jm23.displaySpace,o=_this$Jm23.displayUnit,l=i.geometryPrecision,a=this["#ry-input"].value/this["#rx-input"].value,h=Xt(o,"px"),r=jt(s,i.currentWorkspace);"viewport"===n&&(r=qt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius X"),this.Dg=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(h);var p=new DOMPoint(s.cx.baseVal.value+100,s.cy.baseVal.value);p=p.matrixTransform(r),p=p.matrixTransform(h),this["#rx-input"].addEventListener("change",t=function t(_t1670){var e=new Z(c,p);e.length=_this629["#rx-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(d);var i=K(e.length,l);if(s.setAttribute("rx",i),_this629["#aspect-ratio-button"].toggled){var _t1669=K(i*a,l);s.setAttribute("ry",_t1669);}}),this["#rx-input"].addEventListener("changeend",_e1170=function e(){_this629["#rx-input"].removeEventListener("change",t),_this629["#rx-input"].removeEventListener("changeend",_e1170),_this629.Dg=!1;});}},{key:"Eg",value:function Eg(){var _this630=this;var t,_e1171,i=this.Js.board,s=i.selectedElements[0],_this$Jm24=this.Jm,n=_this$Jm24.displaySpace,o=_this$Jm24.displayUnit,l=i.geometryPrecision,a=this["#rx-input"].value/this["#ry-input"].value,h=Xt(o,"px"),r=jt(s,i.currentWorkspace);"viewport"===n&&(r=qt(i.currentWorkspace).multiply(r));var d=r.inverse();i.undoManager.checkpoint("Ellipse radius Y"),this.zg=!0;var c=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value);c=c.matrixTransform(r),c=c.matrixTransform(h);var p=new DOMPoint(s.cx.baseVal.value,s.cy.baseVal.value+100);p=p.matrixTransform(r),p=p.matrixTransform(h),this["#ry-input"].addEventListener("change",t=function t(_t1672){var e=new Z(c,p);e.length=_this630["#ry-input"].value,e=e.matrixTransform(h),e=e.matrixTransform(d);var i=K(e.length,l);if(s.setAttribute("ry",i),_this630["#aspect-ratio-button"].toggled){var _t1671=K(i*a,l);s.setAttribute("rx",_t1671);}}),this["#ry-input"].addEventListener("changeend",_e1171=function e(){_this630["#ry-input"].removeEventListener("change",t),_this630["#ry-input"].removeEventListener("changeend",_e1171),_this630.zg=!1;});}},{key:"Tg",value:function Tg(){this.Qs.setConfig("bx-ellipsegeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off";}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"ellipse"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm25=this.Jm,_i1097=_this$Jm25.displayUnit,_s630=_this$Jm25.displaySpace,_n457=_this$Jm25.displayPrecision,_o360=e[0],_l301=jt(_o360,t.currentWorkspace),_a226=Xt("px",_i1097),_h182=_i1097?" "+_i1097:"",_r117=1/Pb(10,_n457-1);"viewport"===_s630&&(_l301=qt(t.currentWorkspace).multiply(_l301));var _d93=new DOMPoint(_o360.cx.baseVal.value,_o360.cy.baseVal.value);_d93=_d93.matrixTransform(_l301),_d93=_d93.matrixTransform(_a226),_d93=Pe(_d93,_n457);var _c73=new DOMPoint(_o360.cx.baseVal.value+_o360.rx.baseVal.value,_o360.cy.baseVal.value);_c73=_c73.matrixTransform(_l301),_c73=_c73.matrixTransform(_a226);var _p63=new DOMPoint(_o360.cx.baseVal.value,_o360.cy.baseVal.value+_o360.ry.baseVal.value);_p63=_p63.matrixTransform(_l301),_p63=_p63.matrixTransform(_a226);var _u53=K(new Z(_d93,_c73).length,_n457),_x137=K(new Z(_d93,_p63).length,_n457);!1===this.dg&&(this["#cx-input"].value=_d93.x,this["#cx-input"].suffix=_h182,this["#cx-input"].step=_r117),!1===this.cg&&(this["#cy-input"].value=_d93.y,this["#cy-input"].suffix=_h182,this["#cy-input"].step=_r117),!1===this.Dg&&(this["#rx-input"].value=_u53,this["#rx-input"].suffix=_h182,this["#rx-input"].step=_r117),!1===this.zg&&(this["#ry-input"].value=_x137,this["#ry-input"].suffix=_h182,this["#ry-input"].step=_r117);}}}]);return Db;}(xb);_defineProperty(Db,"_shadowTemplate",qi(_templateObject333()));_defineProperty(Db,"_shadowStyleSheet",Xi(_templateObject334()));customElements.define("bx-ellipsegeometryinspector",Db);var zb=Math.pow;var Ob=/*#__PURE__*/function(_xb7){_inherits(Ob,_xb7);var _super136=_createSuper(Ob);function Ob(){var _this631;_classCallCheck(this,Ob);_this631=_super136.call(this),_this631.Ag=!1,_this631.$g=!1,_this631.eb=!1,_this631.Ig=!1,_this631._h=Ki(_this631.qs,200,_assertThisInitialized(_this631)),_this631["#x-input"].addEventListener("changestart",function(){return _this631.Lg();}),_this631["#y-input"].addEventListener("changestart",function(){return _this631.Bg();}),_this631["#width-input"].addEventListener("changestart",function(){return _this631.Rg();}),_this631["#height-input"].addEventListener("changestart",function(){return _this631.Gg();}),_this631["#aspect-ratio-button"].addEventListener("toggle",function(){return _this631.Tg();});return _this631;}_createClass(Ob,[{key:"tn",value:function tn(){var _this632=this;this.qs(),this["#aspect-ratio-button"].toggled=this.Qs.getConfig("bx-gridgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this632._h();}),this.Js.board.gridHud.addEventListener("selectedchange",this.Fg=function(){_this632._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this632._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.gridHud.removeEventListener("selectedchange",this.Fg),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this633=this;var t,_e1172,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$Jm26=this.Jm,n=_this$Jm26.displaySpace,o=_this$Jm26.displayUnit,l=Xt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=qt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid X"),this.Ag=!0,this["#x-input"].addEventListener("change",t=function t(_t1673){var e=new DOMRect(_this633["#x-input"].value,_this633["#y-input"].value,_this633["#width-input"].value,_this633["#height-input"].value);e=Ne(e,l),e=Ne(e,a),s.setAttribute("x",K(e.x,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1172=function e(){_this633["#x-input"].removeEventListener("change",t),_this633["#x-input"].removeEventListener("changeend",_e1172),_this633.Ag=!1;});}},{key:"Bg",value:function Bg(){var _this634=this;var t,_e1173,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),_this$Jm27=this.Jm,n=_this$Jm27.displaySpace,o=_this$Jm27.displayUnit,l=Xt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=qt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid Y"),this.$g=!0,this["#y-input"].addEventListener("change",t=function t(_t1674){var e=new DOMRect(_this634["#x-input"].value,_this634["#y-input"].value,_this634["#width-input"].value,_this634["#height-input"].value);e=Ne(e,l),e=Ne(e,a),s.setAttribute("y",K(e.y,i.geometryPrecision)),i.gridHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1173=function e(){_this634["#y-input"].removeEventListener("change",t),_this634["#y-input"].removeEventListener("changeend",_e1173),_this634.$g=!1;});}},{key:"Rg",value:function Rg(){var _this635=this;var t,_e1174,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#height-input"].value/this["#width-input"].value,_this$Jm28=this.Jm,o=_this$Jm28.displaySpace,l=_this$Jm28.displayUnit,a=_this$Jm28.displayPrecision,h=Xt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=qt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid width"),this.eb=!0,this["#width-input"].addEventListener("change",t=function t(_t1675){var e=new DOMRect(0,0,_this635["#width-input"].value,_this635["#height-input"].value);!1===_this635["#aspect-ratio-button"].toggled?(e=Ne(e,h),e=Ne(e,r),s.setAttribute("width",K(e.width,i.geometryPrecision))):!0===_this635["#aspect-ratio-button"].toggled&&(e.height=e.width*n,_this635["#height-input"].value=K(e.height,a),e=Ne(e,h),e=Ne(e,r),s.setAttribute("width",K(e.width,i.geometryPrecision)),s.setAttribute("height",K(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#width-input"].addEventListener("changeend",_e1174=function e(){_this635["#width-input"].removeEventListener("change",t),_this635["#width-input"].removeEventListener("changeend",_e1174),_this635.eb=!1;});}},{key:"Gg",value:function Gg(){var _this636=this;var t,_e1175,i=this.Js.board,s=i.maybeCreateGridForCurrentWorkspace(),n=this["#width-input"].value/this["#height-input"].value,_this$Jm29=this.Jm,o=_this$Jm29.displaySpace,l=_this$Jm29.displayUnit,a=_this$Jm29.displayPrecision,h=Xt(l,"px"),r=new DOMMatrix();"viewport"===o&&(r=qt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Grid height"),this.Ig=!0,this["#height-input"].addEventListener("change",t=function t(_t1676){var e=new DOMRect(0,0,_this636["#width-input"].value,_this636["#height-input"].value);!1===_this636["#aspect-ratio-button"].toggled?(e=Ne(e,h),e=Ne(e,r),s.setAttribute("height",K(e.height,i.geometryPrecision))):!0===_this636["#aspect-ratio-button"].toggled&&(e.width=e.height*n,_this636["#width-input"].value=K(e.width,a),e=Ne(e,h),e=Ne(e,r),s.setAttribute("width",K(e.width,i.geometryPrecision)),s.setAttribute("height",K(e.height,i.geometryPrecision))),i.gridHud.requestImmidiateUpdate();}),this["#height-input"].addEventListener("changeend",_e1175=function e(){_this636["#height-input"].removeEventListener("change",t),_this636["#height-input"].removeEventListener("changeend",_e1175),_this636.Ig=!1;});}},{key:"Tg",value:function Tg(){this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gridgeometry:preserveAspectRatio",this["#aspect-ratio-button"].toggled);}},{key:"qs",value:function qs(){var t=this.Js.board;if(!1===this.Ag&&!1===this.$g&&!1===this.eb&&!1===this.Ig)if(t.gridHud.enabled&&t.gridHud.selected){var _e1176=t.currentWorkspace.querySelector(":scope > defs > bx-grid"),_this$Jm30=this.Jm,_i1098=_this$Jm30.displayUnit,_s631=_this$Jm30.displaySpace,_n458=_this$Jm30.displayPrecision,_o361=_i1098?" "+_i1098:"",_l302=1/zb(10,_n458-1),_a227=Xt("px",_i1098),_h183=new DOMMatrix();"viewport"===_s631&&(_h183=qt(t.currentWorkspace).multiply(_h183));var _r118=new DOMRect(0,0,100,100);for(var _i1099=0,_arr42=["x","y","width","height"];_i1099<_arr42.length;_i1099++){var _t1677=_arr42[_i1099];_e1176&&_e1176.hasAttribute(_t1677)&&(_r118[_t1677]=Zp.fromString(_e1176.getAttribute(_t1677)).value);}_r118=Ne(_r118,_h183),_r118=Ne(_r118,_a227),_r118=Ue(_r118,_n458),!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#x-input"].value=_r118.x,this["#x-input"].suffix=_o361,this["#x-input"].step=_l302,this["#y-input"].value=_r118.y,this["#y-input"].suffix=_o361,this["#y-input"].step=_l302,this["#width-input"].value=_r118.width,this["#width-input"].suffix=_o361,this["#width-input"].step=_l302,this["#height-input"].value=_r118.height,this["#height-input"].suffix=_o361,this["#height-input"].step=_l302;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Ob;}(xb);_defineProperty(Ob,"_shadowTemplate",qi(_templateObject335()));_defineProperty(Ob,"_shadowStyleSheet",Xi(_templateObject336()));customElements.define("bx-gridgeometryinspector",Ob);var Eb=Math.pow;var Tb=/*#__PURE__*/function(_xb8){_inherits(Tb,_xb8);var _super137=_createSuper(Tb);function Tb(){var _this637;_classCallCheck(this,Tb);_this637=_super137.call(this),_this637.Ag=!1,_this637.$g=!1,_this637._h=Ki(_this637.qs,200,_assertThisInitialized(_this637)),_this637["#x-input"].addEventListener("changestart",function(){return _this637.Lg();}),_this637["#y-input"].addEventListener("changestart",function(){return _this637.Bg();}),_this637["#orientation-buttons"].addEventListener("toggle",function(){return _this637.Yb();});return _this637;}_createClass(Tb,[{key:"tn",value:function tn(){var _this638=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this638._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this638._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this638._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this639=this;var t,_e1177,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$Jm31=this.Jm,n=_this$Jm31.displaySpace,o=_this$Jm31.displayUnit,l=Xt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=qt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide X"),this.Ag=!0,this["#x-input"].addEventListener("change",t=function t(_t1678){var e=new DOMPoint(_this639["#x-input"].value,_this639["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Pe(e,i.geometryPrecision),s.setAttribute("x",e.x),i.manualGuidesHud.requestImmidiateUpdate();}),this["#x-input"].addEventListener("changeend",_e1177=function e(){_this639["#x-input"].removeEventListener("change",t),_this639["#x-input"].removeEventListener("changeend",_e1177),_this639.Ag=!1;});}},{key:"Bg",value:function Bg(){var _this640=this;var t,_e1178,i=this.Js.board,s=i.selectedElements.find(function(t){return"bx-guide"===t.localName;}),_this$Jm32=this.Jm,n=_this$Jm32.displaySpace,o=_this$Jm32.displayUnit,l=Xt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=qt(i.currentWorkspace).inverse()),i.undoManager.checkpoint("Guide Y"),this.$g=!0,this["#y-input"].addEventListener("change",t=function t(_t1679){var e=new DOMPoint(_this640["#x-input"].value,_this640["#y-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(a),e=Pe(e,i.geometryPrecision),s.setAttribute("y",e.y),i.manualGuidesHud.requestImmidiateUpdate();}),this["#y-input"].addEventListener("changeend",_e1178=function e(){_this640["#y-input"].removeEventListener("change",t),_this640["#y-input"].removeEventListener("changeend",_e1178),_this640.$g=!1;});}},{key:"Yb",value:function Yb(){var t=this.Js.board,e=this["#orientation-buttons"].value,i=t.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(i.length>0){t.undoManager.checkpoint("Guide orientation");var _iterator1141=_createForOfIteratorHelper(i),_step1141;try{for(_iterator1141.s();!(_step1141=_iterator1141.n()).done;){var _t1680=_step1141.value;var _i1100=Zp.fromString(_t1680.getAttribute("angle")).value;"horizontal"===e?_i1100%180!=90&&_t1680.setAttribute("angle","90"):"vertical"===e&&_i1100%180!=0&&_t1680.setAttribute("angle","0");}}catch(err){_iterator1141.e(err);}finally{_iterator1141.f();}}}},{key:"qs",value:function qs(){if(!1===this.Ag&&!1===this.$g){var _t1681=this.Js.board,_e1179=_t1681.selectedElements.filter(function(t){return"bx-guide"===t.localName;});if(0===_e1179.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm33=this.Jm,_i1101=_this$Jm33.displayUnit,_s632=_this$Jm33.displaySpace,_n459=_this$Jm33.displayPrecision,_o362=_e1179[0],_l303=Zp.fromString(_o362.getAttribute("angle")).value,_a228=_i1101?" "+_i1101:"",_h184=1/Eb(10,_n459-1),_r119=Xt("px",_i1101),_d94=new DOMMatrix();"viewport"===_s632&&(_d94=qt(_t1681.currentWorkspace).multiply(_d94));var _c74=Zp.fromString(_o362.getAttribute("x")).value,_p64=Zp.fromString(_o362.getAttribute("y")).value,_u54=new DOMPoint(_c74,_p64);_u54=_u54.matrixTransform(_d94),_u54=_u54.matrixTransform(_r119),_u54=Pe(_u54,_n459),this["#x-input"].value=_u54.x,this["#x-input"].suffix=_a228,this["#x-input"].step=_h184,this["#y-input"].value=_u54.y,this["#y-input"].suffix=_a228,this["#y-input"].step=_h184,this["#orientation-buttons"].value=_l303%180==90?"horizontal":"vertical";}}}}]);return Tb;}(xb);_defineProperty(Tb,"_shadowTemplate",qi(_templateObject337()));_defineProperty(Tb,"_shadowStyleSheet",Xi(_templateObject338()));customElements.define("bx-guidegeometryinspector",Tb);var Ab=/*#__PURE__*/function(_xb9){_inherits(Ab,_xb9);var _super138=_createSuper(Ab);function Ab(){var _this641;_classCallCheck(this,Ab);_this641=_super138.call(this),_this641._h=Ki(_this641.qs,200,_assertThisInitialized(_this641));return _this641;}_createClass(Ab,[{key:"tn",value:function tn(){var _this642=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this642._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this642._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"qs",value:function(){var _qs2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee116(){var t,_e1180,_i1102,_s633;return regeneratorRuntime.wrap(function _callee116$(_context117){while(1){switch(_context117.prev=_context117.next){case 0:t=this.Js.board.outermostSelectedElements[0];if(!t){_context117.next=14;break;}if(!("image"===t.localName)){_context117.next=11;break;}_context117.next=5;return createImageBitmap(t);case 5:_e1180=_context117.sent;_i1102=_e1180.width;_s633=_e1180.height;_e1180.close(),this["#natural-width-input"].value=_i1102,this["#natural-height-input"].value=_s633,!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));_context117.next=12;break;case 11:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 12:_context117.next=15;break;case 14:!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));case 15:case"end":return _context117.stop();}}},_callee116,this);}));function qs(){return _qs2.apply(this,arguments);}return qs;}()}]);return Ab;}(xb);_defineProperty(Ab,"_shadowTemplate",qi(_templateObject339()));_defineProperty(Ab,"_shadowStyleSheet",Xi(_templateObject340()));customElements.define("bx-imagegeometryinspector",Ab);var $b=Math.pow;var Ib=/*#__PURE__*/function(_xb10){_inherits(Ib,_xb10);var _super139=_createSuper(Ib);function Ib(){var _this643;_classCallCheck(this,Ib);_this643=_super139.call(this),_this643.Ug=!1,_this643.Ng=!1,_this643.Vg=!1,_this643.jg=!1,_this643.Hg=!1,_this643._h=Ki(_this643.qs,200,_assertThisInitialized(_this643)),_this643["#x1-input"].addEventListener("changestart",function(){return _this643.Yg();}),_this643["#y1-input"].addEventListener("changestart",function(){return _this643.Wg();}),_this643["#x2-input"].addEventListener("changestart",function(){return _this643.qg();}),_this643["#y2-input"].addEventListener("changestart",function(){return _this643.Xg();}),_this643["#length-input"].addEventListener("changestart",function(){return _this643.Zg();});return _this643;}_createClass(Ib,[{key:"tn",value:function tn(){var _this644=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this644._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this644._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this644._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Yg",value:function Yg(){var _this645=this;var t,_e1181,i=this.Js.board,s=i.selectedElements[0],_this$Jm34=this.Jm,n=_this$Jm34.displaySpace,o=_this$Jm34.displayUnit,l=Xt(o,"px"),a=jt(s,i.vectorCanvas);"viewport"===n&&(a=qt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line X1"),this.Ug=!0,this["#x1-input"].addEventListener("change",t=function t(_t1682){var e=new DOMPoint(_this645["#x1-input"].value,_this645["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Pe(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#x1-input"].addEventListener("changeend",_e1181=function e(){_this645["#x1-input"].removeEventListener("change",t),_this645["#x1-input"].removeEventListener("changeend",_e1181),_this645.Ug=!1;});}},{key:"Wg",value:function Wg(){var _this646=this;var t,_e1182,i=this.Js.board,s=i.selectedElements[0],_this$Jm35=this.Jm,n=_this$Jm35.displaySpace,o=_this$Jm35.displayUnit,l=Xt(o,"px"),a=jt(s,i.vectorCanvas);"viewport"===n&&(a=qt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line Y1"),this.Ng=!0,this["#y1-input"].addEventListener("change",t=function t(_t1683){var e=new DOMPoint(_this646["#x1-input"].value,_this646["#y1-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Pe(e,i.geometryPrecision),s.setAttribute("x1",e.x),s.setAttribute("y1",e.y);}),this["#y1-input"].addEventListener("changeend",_e1182=function e(){_this646["#y1-input"].removeEventListener("change",t),_this646["#y1-input"].removeEventListener("changeend",_e1182),_this646.Ng=!1;});}},{key:"qg",value:function qg(){var _this647=this;var t,_e1183,i=this.Js.board,s=i.selectedElements[0],_this$Jm36=this.Jm,n=_this$Jm36.displaySpace,o=_this$Jm36.displayUnit,l=Xt(o,"px"),a=jt(s,i.vectorCanvas);"viewport"===n&&(a=qt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line X2"),this.Vg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1684){var e=new DOMPoint(_this647["#x2-input"].value,_this647["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Pe(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#x2-input"].addEventListener("changeend",_e1183=function e(){_this647["#x2-input"].removeEventListener("change",t),_this647["#x2-input"].removeEventListener("changeend",_e1183),_this647.Vg=!1;});}},{key:"Xg",value:function Xg(){var _this648=this;var t,_e1184,i=this.Js.board,s=i.selectedElements[0],_this$Jm37=this.Jm,n=_this$Jm37.displaySpace,o=_this$Jm37.displayUnit,l=Xt(o,"px"),a=jt(s,i.vectorCanvas);"viewport"===n&&(a=qt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line Y2"),this.jg=!0,this["#y2-input"].addEventListener("change",t=function t(_t1685){var e=new DOMPoint(_this648["#x2-input"].value,_this648["#y2-input"].value);e=e.matrixTransform(l),e=e.matrixTransform(h),e=Pe(e,i.geometryPrecision),s.setAttribute("x2",e.x),s.setAttribute("y2",e.y);}),this["#y2-input"].addEventListener("changeend",_e1184=function e(){_this648["#y2-input"].removeEventListener("change",t),_this648["#y2-input"].removeEventListener("changeend",_e1184),_this648.jg=!1;});}},{key:"Zg",value:function Zg(){var _this649=this;var t,_e1185,i=this.Js.board,s=i.selectedElements[0],_this$Jm38=this.Jm,n=_this$Jm38.displaySpace,o=_this$Jm38.displayUnit,l=Xt("px",o),a=jt(s,i.vectorCanvas);"viewport"===n&&(a=qt(i.currentWorkspace).multiply(a));var h=a.inverse();i.undoManager.checkpoint("Line length"),this.Hg=!0;var r=new DOMPoint(s.x1.baseVal.value,s.y1.baseVal.value),d=new DOMPoint(s.x2.baseVal.value,s.y2.baseVal.value);this["#length-input"].addEventListener("change",t=function t(_t1686){console.log("change");var e=new Z(r,d);e=e.matrixTransform(a),e=e.matrixTransform(l),e.length=_this649["#length-input"].value,e=e.matrixTransform(l.inverse()),e=e.matrixTransform(h);var n=e.transformPoint(r);n=Pe(n,i.geometryPrecision),s.setAttribute("x2",n.x),s.setAttribute("y2",n.y);}),this["#length-input"].addEventListener("changeend",_e1185=function e(){_this649["#length-input"].removeEventListener("change",t),_this649["#length-input"].removeEventListener("changeend",_e1185),_this649.Hg=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"line"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1103=e[0],_this$Jm39=this.Jm,_s634=_this$Jm39.displayUnit,_n460=_this$Jm39.displaySpace,_o363=_this$Jm39.displayPrecision,_l304=jt(_i1103,t.currentWorkspace),_a229=Xt("px",_s634),_h185=_s634?" "+_s634:"",_r120=1/$b(10,_o363-1);"viewport"===_n460&&(_l304=qt(t.currentWorkspace).multiply(_l304));var _d95=new DOMPoint(_i1103.x1.baseVal.value,_i1103.y1.baseVal.value);_d95=_d95.matrixTransform(_l304),_d95=_d95.matrixTransform(_a229);var _c75=new DOMPoint(_i1103.x2.baseVal.value,_i1103.y2.baseVal.value);_c75=_c75.matrixTransform(_l304),_c75=_c75.matrixTransform(_a229);var _p65=new Z(_d95,_c75).length;_d95=Pe(_d95,_o363),_c75=Pe(_c75,_o363),_p65=K(_p65,_o363),!1===this.Ug&&(this["#x1-input"].value=_d95.x,this["#x1-input"].suffix=_h185,this["#x1-input"].step=_r120),!1===this.Ng&&(this["#y1-input"].value=_d95.y,this["#y1-input"].suffix=_h185,this["#y1-input"].step=_r120),!1===this.Vg&&(this["#x2-input"].value=_c75.x,this["#x2-input"].suffix=_h185,this["#x2-input"].step=_r120),!1===this.jg&&(this["#y2-input"].value=_c75.y,this["#y2-input"].suffix=_h185,this["#y2-input"].step=_r120),!1===this.Hg&&(this["#length-input"].value=_p65,this["#length-input"].suffix=_h185,this["#length-input"].step=_r120);}}}]);return Ib;}(xb);_defineProperty(Ib,"_shadowTemplate",qi(_templateObject341()));_defineProperty(Ib,"_shadowStyleSheet",Xi(_templateObject342()));customElements.define("bx-linegeometryinspector",Ib);var Lb={ArrowRight:{xMinYMin:"xMidYMin",xMidYMin:"xMaxYMin",xMinYMid:"xMidYMid",xMidYMid:"xMaxYMid",xMinYMax:"xMidYMax",xMidYMax:"xMaxYMax"},ArrowLeft:{xMaxYMin:"xMidYMin",xMidYMin:"xMinYMin",xMaxYMid:"xMidYMid",xMidYMid:"xMinYMid",xMaxYMax:"xMidYMax",xMidYMax:"xMinYMax"},ArrowDown:{xMinYMin:"xMinYMid",xMinYMid:"xMinYMax",xMidYMin:"xMidYMid",xMidYMid:"xMidYMax",xMaxYMin:"xMaxYMid",xMaxYMid:"xMaxYMax"},ArrowUp:{xMinYMax:"xMinYMid",xMinYMid:"xMinYMin",xMidYMax:"xMidYMid",xMidYMid:"xMidYMin",xMaxYMax:"xMaxYMid",xMaxYMid:"xMaxYMin"}};var Bb=/*#__PURE__*/function(_HTMLElement101){_inherits(Bb,_HTMLElement101);var _super140=_createSuper(Bb);_createClass(Bb,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"none";},set:function set(t){this.setAttribute("value",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Bb(){var _this650;_classCallCheck(this,Bb);_this650=_super140.call(this),_this650._shadowRoot=_this650.attachShadow({mode:"closed",delegatesFocus:!0}),_this650._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Bb._shadowStyleSheet],_this650._shadowRoot.append(document.importNode(Bb._shadowTemplate.content,!0));var _iterator1142=_createForOfIteratorHelper(_this650._shadowRoot.querySelectorAll("[id]")),_step1142;try{for(_iterator1142.s();!(_step1142=_iterator1142.n()).done;){var _t1687=_step1142.value;_this650["#"+_t1687.id]=_t1687;}}catch(err){_iterator1142.e(err);}finally{_iterator1142.f();}_this650.addEventListener("pointerdown",function(t){return _this650.wo(t);}),_this650["#buttons"].addEventListener("click",function(t){return _this650.Kg(t);}),_this650["#buttons"].addEventListener("keydown",function(t){return _this650.vn(t);},!0);return _this650;}_createClass(Bb,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("value"===t?this.Qg():"disabled"===t&&this.ux());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"ux",value:function ux(){this.setAttribute("aria-disabled",this.disabled);}},{key:"wo",value:function wo(t){!1===this.matches(":focus")&&(t.preventDefault(),this.focus(),this.blur());}},{key:"Kg",value:function Kg(t){var e=t.target.closest("x-button");if(e&&!1===e.toggled){var _t1688=this["#buttons"].querySelector("x-button[toggled]");_t1688&&(_t1688.toggled=!1),e.toggled=!0,this.setAttribute("value",e?e.value:"none"),this.dispatchEvent(new CustomEvent("toggle",{bubbles:!0}));}}},{key:"vn",value:function vn(t){var e=t.key;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e)){t.preventDefault(),t.stopImmediatePropagation();var _i1104=this["#buttons"].querySelector("x-button:focus"),_s635=Lb[e][_i1104.value],_n461=this["#buttons"].querySelector("x-button[value=\"".concat(_s635,"\"]"));_n461&&_n461.focus();}}},{key:"qs",value:function qs(){this.Qg();}},{key:"Qg",value:function Qg(){var _iterator1143=_createForOfIteratorHelper(this["#buttons"].children),_step1143;try{for(_iterator1143.s();!(_step1143=_iterator1143.n()).done;){var _t1689=_step1143.value;_t1689.toggled=_t1689.value===this.value;}}catch(err){_iterator1143.e(err);}finally{_iterator1143.f();}}}]);return Bb;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Bb,"observedAttributes",["value","disabled"]);_defineProperty(Bb,"_shadowTemplate",qi(_templateObject343()));_defineProperty(Bb,"_shadowStyleSheet",Xi(_templateObject344()));customElements.define("bx-alignbuttons",Bb);var Rb=Number.isFinite;var Gb=/*#__PURE__*/function(_xb11){_inherits(Gb,_xb11);var _super141=_createSuper(Gb);function Gb(){var _this651;_classCallCheck(this,Gb);_this651=_super141.call(this),_this651.Jg=!1,_this651.tf=!1,_this651.ef=!1,_this651["if"]=!1,_this651.sf=!1,_this651.nf=!1,_this651.lf=!1,_this651.af=!1,_this651.hf=!1,_this651.rf=null,_this651.df=null,_this651.cf=0,_this651.pf=Ki(_this651.qs,100,_assertThisInitialized(_this651)),_this651["#viewport-width-input"].addEventListener("changestart",function(){return _this651.uf();}),_this651["#viewport-height-input"].addEventListener("changestart",function(){return _this651.xf();}),_this651["#viewport-lock-button"].addEventListener("toggle",function(){return _this651.bf();}),_this651["#viewport-units-select"].addEventListener("change",function(){return _this651.mf();}),_this651["#viewbox-x-input"].addEventListener("changestart",function(t){return _this651.gf(t);}),_this651["#viewbox-y-input"].addEventListener("changestart",function(t){return _this651.ff(t);}),_this651["#viewbox-width-input"].addEventListener("changestart",function(t){return _this651.wf(t);}),_this651["#viewbox-height-input"].addEventListener("changestart",function(t){return _this651.vf(t);}),_this651["#viewbox-switch"].addEventListener("toggle",function(){return _this651.yf();}),_this651["#viewbox-lock-button"].addEventListener("toggle",function(){return _this651.kf();}),_this651["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this651.Sf();}),_this651["#align-buttons"].addEventListener("toggle",function(){return _this651._f();}),_this651["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this651.Cf();}),_this651["#ref-x-input"].addEventListener("changestart",function(){return _this651.Mf();}),_this651["#ref-y-input"].addEventListener("changestart",function(){return _this651.Pf();}),_this651["#orient-switch"].addEventListener("toggle",function(){return _this651.Df();}),_this651["#orient-box"].addEventListener("changestart",function(){return _this651.zf();});return _this651;}_createClass(Gb,[{key:"tn",value:function tn(){var _this652=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-markergeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this652.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this652.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"uf",value:function uf(){var _this653=this;var t,_e1186,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===Rb(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Jg=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this653["#viewport-width-input"].value)i.currentWorkspace.removeAttribute("markerWidth");else{var _t1690=K(_this653["#viewport-width-input"].value,s);if(i.currentWorkspace.setAttribute("markerWidth",_t1690),null!==n){var _t1691=K(_this653["#viewport-width-input"].value*n,s);i.currentWorkspace.setAttribute("markerHeight",_t1691);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1186=function e(){_this653["#viewport-width-input"].removeEventListener("change",t),_this653["#viewport-width-input"].removeEventListener("changeend",_e1186),_this653.Jg=!1;});}},{key:"xf",value:function xf(){var _this654=this;var t,_e1187,i=this.Js.board,s=i.geometryPrecision,n=null;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===Rb(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.tf=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this654["#viewport-height-input"].value)i.currentWorkspace.removeAttribute("markerHeight");else{var _t1692=K(_this654["#viewport-height-input"].value,s);if(i.currentWorkspace.setAttribute("markerHeight",_t1692),null!==n){var _t1693=K(_this654["#viewport-height-input"].value*n,s);i.currentWorkspace.setAttribute("markerWidth",_t1693);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1187=function e(){_this654["#viewport-height-input"].removeEventListener("change",t),_this654["#viewport-height-input"].removeEventListener("changeend",_e1187),_this654.tf=!1;});}},{key:"bf",value:function bf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"mf",value:function mf(){var t=this.Js.board,e=this["#viewport-units-select"].value;t.undoManager.checkpoint("Marker units"),"userSpaceOnUse"===e?t.currentWorkspace.setAttribute("markerUnits","userSpaceOnUse"):t.currentWorkspace.setAttribute("markerUnits","strokeWidth");}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this655=this;var e,_i1105,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this655["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1105=function i(){_this655["#viewbox-x-input"].removeEventListener("change",e),_this655["#viewbox-x-input"].removeEventListener("changeend",_i1105),_this655.ef=!1;});}},{key:"ff",value:function ff(t){var _this656=this;var e,_i1106,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this656["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1106=function i(){_this656["#viewbox-y-input"].removeEventListener("change",e),_this656["#viewbox-y-input"].removeEventListener("changeend",_i1106),_this656["if"]=!1;});}},{key:"wf",value:function wf(t){var _this657=this;var e,_i1107,_this$Js$board47=this.Js.board,s=_this$Js$board47.geometryPrecision,n=_this$Js$board47.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===Rb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this657["#viewbox-width-input"].value,null!==l&&(o.height=K(_this657["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1107=function i(){_this657["#viewbox-width-input"].removeEventListener("change",e),_this657["#viewbox-width-input"].removeEventListener("changeend",_i1107),_this657.sf=!1;});}},{key:"vf",value:function vf(t){var _this658=this;var e,_i1108,_this$Js$board48=this.Js.board,s=_this$Js$board48.geometryPrecision,n=_this$Js$board48.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===Rb(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this658["#viewbox-height-input"].value,null!==l&&(o.width=K(_this658["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1108=function i(){_this658["#viewbox-height-input"].removeEventListener("change",e),_this658["#viewbox-height-input"].removeEventListener("changeend",_i1108),_this658.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-markergeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s636=e;"none"!==_s636&&"slice"===i&&(_s636+=" slice"),t.setAttribute("preserveAspectRatio",_s636);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s637=e;"none"!==_s637&&"slice"===i&&(_s637+=" slice"),t.setAttribute("preserveAspectRatio",_s637);}}},{key:"Mf",value:function Mf(){var _this659=this;var t,_e1188,i=this["#ref-x-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.lf=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refX",i.value);}),i.addEventListener("changeend",_e1188=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1188),_this659.lf=!1;});}},{key:"Pf",value:function Pf(){var _this660=this;var t,_e1189,i=this["#ref-y-input"],s=this.Js.board;s.undoManager.checkpoint("Marker reference point"),this.af=!0,i.addEventListener("change",t=function t(){s.currentWorkspace.setAttribute("refY",i.value);}),i.addEventListener("changeend",_e1189=function e(){i.removeEventListener("change",t),i.removeEventListener("changeend",_e1189),_this660.af=!1;});}},{key:"Df",value:function Df(){var t=this.Js.board;if(t.undoManager.checkpoint("Marker orient"),this["#orient-switch"].toggled)t.currentWorkspace.setAttribute("orient",this.cf);else{var _Vc=Vc(t.currentWorkspace),_Vc2=_slicedToArray(_Vc,2),_e1190=_Vc2[1];this.cf=_e1190,t.currentWorkspace.setAttribute("orient","auto");}}},{key:"zf",value:function zf(){var _this661=this;var t,_e1191,i=this.Js.board;i.undoManager.checkpoint("Marker orient"),this.hf=!0,this["#orient-box"].addEventListener("change",t=function t(_t1694){_t1694.target===_this661["#orient-slider"]?_this661["#orient-input"].value=_this661["#orient-slider"].value:_t1694.target===_this661["#object-rotation-input"]&&(_this661["#orient-slider"].value=_this661["#orient-input"].value),_this661.Qs.modKeys.shift&&(_this661["#orient-input"].value=Re(_this661["#orient-slider"].value,15),_this661["#orient-slider"].value=_this661["#orient-input"].value),i.currentWorkspace.setAttribute("orient",_this661["#orient-input"].value+"deg");}),this["#orient-box"].addEventListener("changeend",_e1191=function e(){_this661["#orient-box"].removeEventListener("change",t),_this661["#orient-box"].removeEventListener("changeend",_e1191),_this661.hf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("marker"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _i1109=t.getComputedViewportWidth(),_s638=t.getComputedViewportHeight();null!==_i1109&&null!==_s638?(!1===this.Jg&&(this["#viewport-width-input"].value=K(_i1109.value,o)),!1===this.tf&&(this["#viewport-height-input"].value=K(_s638.value,o)),this["#viewport-lock-button"].disabled=!1):null!==_i1109&&null===_s638?(!1===this.Jg&&(this["#viewport-width-input"].value=K(_i1109.value,o)),!1===this.tf&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0):null===_i1109&&null!==_s638?(!1===this.Jg&&(this["#viewport-width-input"].value=null),!1===this.tf&&(this["#viewport-height-input"].value=K(_s638.value,o)),this["#viewport-lock-button"].disabled=!0):null===_i1109&&null===_s638&&(!1===this.Jg&&(this["#viewport-width-input"].value=null),!1===this.tf&&(this["#viewport-height-input"].value=null),this["#viewport-lock-button"].disabled=!0),this["#viewport-units-select"].value=e.getAttribute("markerUnits")||"strokeWidth";}if(e.hasAttribute("viewBox")){var _Rt$fromString3=Rt.fromString(e.getAttribute("viewBox")),_t1695=_Rt$fromString3.x,_i1110=_Rt$fromString3.y,_s639=_Rt$fromString3.width,_n462=_Rt$fromString3.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=K(_t1695,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=K(_i1110,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=K(_s639,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=K(_n462,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1696=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_It$fromString2=It.fromString(_t1696),_i1111=_It$fromString2.align,_s640=_It$fromString2.meetOrSlice;"none"===_i1111?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1111,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s640,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}if(!1===this.lf&&!1===this.af){var _t1697=Nc(e);this["#ref-x-input"].value=K(_t1697.x,2),this["#ref-y-input"].value=K(_t1697.y,2);}if(!1===this.hf){var _Vc3=Vc(e),_Vc4=_slicedToArray(_Vc3,2),_t1698=_Vc4[0],_i1112=_Vc4[1];this["#orient-section"].hidden=!1,_t1698===SVGMarkerElement.SVG_MARKER_ORIENT_AUTO?(this["#orient-switch"].toggled=!1,this["#orient-input"].disabled=!0,this["#orient-input"].value=null,this["#orient-slider"].disabled=!0,this["#orient-slider"].value=0):(this["#orient-switch"].toggled=!0,this["#orient-input"].disabled=!1,this["#orient-input"].value=_i1112,this["#orient-slider"].disabled=!1,this["#orient-slider"].value=_i1112);}}}}]);return Gb;}(xb);_defineProperty(Gb,"_shadowTemplate",qi(_templateObject345()));_defineProperty(Gb,"_shadowStyleSheet",Xi(_templateObject346()));customElements.define("bx-markergeometryinspector",Gb);var Fb=/*#__PURE__*/function(_xb12){_inherits(Fb,_xb12);var _super142=_createSuper(Fb);function Fb(){var _this662;_classCallCheck(this,Fb);_this662=_super142.call(this),_this662.Of=!1,_this662.Ef=!1,_this662._h=Ki(_this662.qs,200,_assertThisInitialized(_this662)),_this662["#arms-section"].addEventListener("changestart",function(){return _this662.Ap();}),_this662["#corner-section"].addEventListener("changestart",function(){return _this662.Ep();});return _this662;}_createClass(Fb,[{key:"tn",value:function tn(){var _this663=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this663._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this663._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Ap",value:function Ap(){var _this664=this;var t,_e1192,i=this.Js.board,s=[],n=Symbol();var _iterator1144=_createForOfIteratorHelper(i.selectedElements),_step1144;try{for(_iterator1144.s();!(_step1144=_iterator1144.n()).done;){var _t1701=_step1144.value;if("path"===_t1701.localName){var _e1193=bl(_t1701);_e1193&&"n-gon"===_e1193.type&&(_t1701[n]=_e1193,s.push(_t1701));}}}catch(err){_iterator1144.e(err);}finally{_iterator1144.f();}i.undoManager.checkpoint("N-gon arms"),this.Of=!0,this["#arms-section"].addEventListener("change",t=function t(_t1700){_t1700.target===_this664["#arms-slider"]?_this664["#arms-input"].value=_this664["#arms-slider"].value:_t1700.target===_this664["#arms-input"]&&(_this664["#arms-slider"].value=_this664["#arms-input"].value);var _iterator1145=_createForOfIteratorHelper(s),_step1145;try{for(_iterator1145.s();!(_step1145=_iterator1145.n()).done;){var _t1699=_step1145.value;_t1699[n].values[4]=_this664["#arms-slider"].value,_ml(_t1699,_t1699[n]);}}catch(err){_iterator1145.e(err);}finally{_iterator1145.f();}}),this["#arms-section"].addEventListener("changeend",_e1192=function e(){_this664["#arms-section"].removeEventListener("change",t),_this664["#arms-section"].removeEventListener("changeend",_e1192),_this664.Of=!1;});}},{key:"Ep",value:function Ep(){var _this665=this;var t,_e1194,i=this.Js.board,s=[],n=Symbol();var _iterator1146=_createForOfIteratorHelper(i.selectedElements),_step1146;try{for(_iterator1146.s();!(_step1146=_iterator1146.n()).done;){var _t1704=_step1146.value;if("path"===_t1704.localName){var _e1195=bl(_t1704);_e1195&&"n-gon"===_e1195.type&&(_t1704[n]=_e1195,s.push(_t1704));}}}catch(err){_iterator1146.e(err);}finally{_iterator1146.f();}i.undoManager.checkpoint("N-gon corner"),this.Ef=!0,this["#corner-section"].addEventListener("change",t=function t(_t1703){_t1703.target===_this665["#corner-slider"]?_this665["#corner-input"].value=_this665["#corner-slider"].value:_t1703.target===_this665["#corner-input"]&&(_this665["#corner-slider"].value=_this665["#corner-input"].value);var e=K(_this665["#corner-slider"].value/200,3);var _iterator1147=_createForOfIteratorHelper(s),_step1147;try{for(_iterator1147.s();!(_step1147=_iterator1147.n()).done;){var _t1702=_step1147.value;_t1702[n].values[5]=e,_ml(_t1702,_t1702[n]);}}catch(err){_iterator1147.e(err);}finally{_iterator1147.f();}}),this["#corner-section"].addEventListener("changeend",_e1194=function e(){_this665["#corner-section"].removeEventListener("change",t),_this665["#corner-section"].removeEventListener("changeend",_e1194),_this665.Ef=!1;});}},{key:"qs",value:function qs(){if(!1===this.Of&&!1===this.Ef){var _t1705=this.Js.board.outermostSelectedElements;if(0===_t1705.length||"path"!==_t1705[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1196=bl(_t1705[0]);if(_e1196&&"n-gon"===_e1196.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1196$values=_slicedToArray(_e1196.values,6),_t1706=_e1196$values[0],_i1113=_e1196$values[1],_s641=_e1196$values[2],_n463=_e1196$values[3],_o364=_e1196$values[4],_l305=_e1196$values[5],_a230=Q(200*_l305,0,100,0);this["#arms-slider"].value=K(_o364,0),this["#arms-input"].value=K(_o364,0),this["#corner-slider"].value=_a230,this["#corner-input"].value=_a230;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}}]);return Fb;}(xb);_defineProperty(Fb,"_shadowTemplate",qi(_templateObject347()));_defineProperty(Fb,"_shadowStyleSheet",Xi(_templateObject348()));customElements.define("bx-ngongeometryinspector",Fb);var Ub=Math.pow;var Nb=/*#__PURE__*/function(_xb13){_inherits(Nb,_xb13);var _super143=_createSuper(Nb);function Nb(){var _this666;_classCallCheck(this,Nb);_this666=_super143.call(this),_this666.Ag=!1,_this666.$g=!1,_this666.Ug=!1,_this666.Ng=!1,_this666.Vg=!1,_this666.jg=!1,_this666._h=Ki(_this666.qs,200,_assertThisInitialized(_this666)),_this666["#x-input"].addEventListener("changestart",function(){return _this666.Lg();}),_this666["#y-input"].addEventListener("changestart",function(){return _this666.Bg();}),_this666["#x1-input"].addEventListener("changestart",function(){return _this666.Yg();}),_this666["#y1-input"].addEventListener("changestart",function(){return _this666.Wg();}),_this666["#x2-input"].addEventListener("changestart",function(){return _this666.qg();}),_this666["#y2-input"].addEventListener("changestart",function(){return _this666.Xg();});return _this666;}_createClass(Nb,[{key:"tn",value:function tn(){var _this667=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this667._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this667._h();}),this.Js.board.pathHud.addEventListener("selectednodeschange",this.Tf=function(){_this667.qs();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this667._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.pathHud.removeEventListener("selectednodeschange",this.Tf),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this668=this;var t,_e1197,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ot(n.getPathData({normalize:!0})),l=s.index,a=o[l].type,_this$Jm40=this.Jm,h=_this$Jm40.displaySpace,r=_this$Jm40.displayUnit,d=Xt(r,"px"),c=jt(n,i.vectorCanvas);"viewport"===h&&(c=qt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node X"),this.Ag=!0,this["#x-input"].addEventListener("change",t=function t(_t1707){var e=new DOMPoint(_this668["#x-input"].value,_this668["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===a?4:0]=K(e.x,i.geometryPrecision),o[l].values["C"===a?5:1]=K(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x-input"].addEventListener("changeend",_e1197=function e(){_this668["#x-input"].removeEventListener("change",t),_this668["#x-input"].removeEventListener("changeend",_e1197),_this668.Ag=!1;});}},{key:"Bg",value:function Bg(){var _this669=this;var t,_e1198,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ot(n.getPathData({normalize:!0})),l=s.index,a=o[l].type,_this$Jm41=this.Jm,h=_this$Jm41.displaySpace,r=_this$Jm41.displayUnit,d=Xt(r,"px"),c=jt(n,i.vectorCanvas);"viewport"===h&&(c=qt(i.currentWorkspace).multiply(c));var p=c.inverse();i.undoManager.checkpoint("Node Y"),this.$g=!0,this["#y-input"].addEventListener("change",t=function t(_t1708){var e=new DOMPoint(_this669["#x-input"].value,_this669["#y-input"].value);e=e.matrixTransform(d),e=e.matrixTransform(p),o[l].values["C"===a?4:0]=K(e.x,i.geometryPrecision),o[l].values["C"===a?5:1]=K(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y-input"].addEventListener("changeend",_e1198=function e(){_this669["#y-input"].removeEventListener("change",t),_this669["#y-input"].removeEventListener("changeend",_e1198),_this669.$g=!1;});}},{key:"Yg",value:function Yg(){var _this670=this;var t,_e1199,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ot(n.getPathData({normalize:!0})),l=s.index,_this$Jm42=this.Jm,a=_this$Jm42.displaySpace,h=_this$Jm42.displayUnit,r=Xt(h,"px"),d=jt(n,i.vectorCanvas);"viewport"===a&&(d=qt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X1"),this.Ug=!0,this["#x1-input"].addEventListener("change",t=function t(_t1709){var e=new DOMPoint(_this670["#x1-input"].value,_this670["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=K(e.x,i.geometryPrecision),o[l+1].values[1]=K(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x1-input"].addEventListener("changeend",_e1199=function e(){_this670["#x1-input"].removeEventListener("change",t),_this670["#x1-input"].removeEventListener("changeend",_e1199),_this670.Ug=!1;});}},{key:"Wg",value:function Wg(){var _this671=this;var t,_e1200,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ot(n.getPathData({normalize:!0})),l=s.index,_this$Jm43=this.Jm,a=_this$Jm43.displaySpace,h=_this$Jm43.displayUnit,r=Xt(h,"px"),d=jt(n,i.vectorCanvas);"viewport"===a&&(d=qt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y1"),this.Ng=!0,this["#y1-input"].addEventListener("change",t=function t(_t1710){var e=new DOMPoint(_this671["#x1-input"].value,_this671["#y1-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l+1].values[0]=K(e.x,i.geometryPrecision),o[l+1].values[1]=K(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y1-input"].addEventListener("changeend",_e1200=function e(){_this671["#y1-input"].removeEventListener("change",t),_this671["#y1-input"].removeEventListener("changeend",_e1200),_this671.Ng=!1;});}},{key:"qg",value:function qg(){var _this672=this;var t,_e1201,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ot(n.getPathData({normalize:!0})),l=s.index,_this$Jm44=this.Jm,a=_this$Jm44.displaySpace,h=_this$Jm44.displayUnit,r=Xt(h,"px"),d=jt(n,i.vectorCanvas);"viewport"===a&&(d=qt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node X2"),this.Vg=!0,this["#x2-input"].addEventListener("change",t=function t(_t1711){var e=new DOMPoint(_this672["#x2-input"].value,_this672["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=K(e.x,i.geometryPrecision),o[l].values[3]=K(e.y,i.geometryPrecision),n.setPathData(o);}),this["#x2-input"].addEventListener("changeend",_e1201=function e(){_this672["#x2-input"].removeEventListener("change",t),_this672["#x2-input"].removeEventListener("changeend",_e1201),_this672.Vg=!1;});}},{key:"Xg",value:function Xg(){var _this673=this;var t,_e1202,i=this.Js.board,s=i.pathHud.selectedNodes[0],n=s.path,o=ot(n.getPathData({normalize:!0})),l=s.index,_this$Jm45=this.Jm,a=_this$Jm45.displaySpace,h=_this$Jm45.displayUnit,r=Xt(h,"px"),d=jt(n,i.vectorCanvas);"viewport"===a&&(d=qt(i.currentWorkspace).multiply(d));var c=d.inverse();i.undoManager.checkpoint("Node Y2"),this.jg=!0,this["#y2-input"].addEventListener("change",t=function t(_t1712){var e=new DOMPoint(_this673["#x2-input"].value,_this673["#y2-input"].value);e=e.matrixTransform(r),e=e.matrixTransform(c),o[l].values[2]=K(e.x,i.geometryPrecision),o[l].values[3]=K(e.y,i.geometryPrecision),n.setPathData(o);}),this["#y2-input"].addEventListener("changeend",_e1202=function e(){_this673["#y2-input"].removeEventListener("change",t),_this673["#y2-input"].removeEventListener("changeend",_e1202),_this673.jg=!1;});}},{key:"qs",value:function qs(){if(!1===this.Ag&&!1===this.$g&&!1===this.Ug&&!1===this.Ng&&!1===this.Vg&&!1===this.jg){var _t1713=this.Js.board;if(1===_t1713.pathHud.selectedNodes.length){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1203=_t1713.pathHud.selectedNodes[0],_i1114=_e1203.path,_s642=_e1203.index,_n464=ot(_i1114.getPathData({normalize:!0})),_o365=_n464[_s642],_l306=_n464[_s642+1]||null,_this$Jm46=this.Jm,_a231=_this$Jm46.displaySpace,_h186=_this$Jm46.displayUnit,_r121=_this$Jm46.displayPrecision,_d96=jt(_i1114,_t1713.currentWorkspace),_c76=Xt("px",_h186),_p66=_h186?" "+_h186:"",_u55=1/Ub(10,_r121-1);"viewport"===_a231&&(_d96=qt(_t1713.currentWorkspace).multiply(_d96));{var _t1714="C"===_o365.type?new DOMPoint(_o365.values[4],_o365.values[5]):new DOMPoint(_o365.values[0],_o365.values[1]);_t1714=_t1714.matrixTransform(_d96),_t1714=_t1714.matrixTransform(_c76),this["#x-input"].value=K(_t1714.x,_r121),this["#x-input"].suffix=_p66,this["#x-input"].step=_u55,this["#y-input"].value=K(_t1714.y,_r121),this["#y-input"].suffix=_p66,this["#y-input"].step=_u55;}if(_l306&&"C"===_l306.type){var _t1715=new DOMPoint(_l306.values[0],_l306.values[1]);_t1715=_t1715.matrixTransform(_d96),_t1715=_t1715.matrixTransform(_c76),this["#control-point-1-section"].hidden=!1,this["#x1-input"].value=K(_t1715.x,_r121),this["#x1-input"].suffix=_p66,this["#x1-input"].step=_u55,this["#y1-input"].value=K(_t1715.y,_r121),this["#y1-input"].suffix=_p66,this["#y1-input"].step=_u55;}else this["#control-point-1-section"].hidden=!0;if("C"===_o365.type){var _t1716=new DOMPoint(_o365.values[2],_o365.values[3]);_t1716=_t1716.matrixTransform(_d96),_t1716=_t1716.matrixTransform(_c76),this["#control-point-2-section"].hidden=!1,this["#x2-input"].value=K(_t1716.x,_r121),this["#x2-input"].suffix=_p66,this["#x2-input"].step=_u55,this["#y2-input"].value=K(_t1716.y,_r121),this["#y2-input"].suffix=_p66,this["#y2-input"].step=_u55;}else this["#control-point-2-section"].hidden=!0;}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Nb;}(xb);_defineProperty(Nb,"_shadowTemplate",qi(_templateObject349()));_defineProperty(Nb,"_shadowStyleSheet",Xi(_templateObject350()));customElements.define("bx-nodegeometryinspector",Nb);var Vb=Math.min,jb=Math.max,Hb=Math.pow;var Yb=/*#__PURE__*/function(_xb14){_inherits(Yb,_xb14);var _super144=_createSuper(Yb);function Yb(){var _this674;_classCallCheck(this,Yb);_this674=_super144.call(this),_this674.Ag=!1,_this674.$g=!1,_this674.eb=!1,_this674.Ig=!1,_this674.Af=!1,_this674.$f=!1,_this674.lg=!1,_this674._h=Ki(_this674.qs,200,_assertThisInitialized(_this674)),_this674["#x-input"].addEventListener("changestart",function(){return _this674.Lg();}),_this674["#y-input"].addEventListener("changestart",function(){return _this674.Bg();}),_this674["#width-input"].addEventListener("changestart",function(){return _this674.Rg();}),_this674["#height-input"].addEventListener("changestart",function(){return _this674.Gg();}),_this674["#aspect-ratio-button"].addEventListener("toggle",function(){return _this674.Tg();}),_this674["#origin-x-input"].addEventListener("changestart",function(){return _this674.If();}),_this674["#origin-y-input"].addEventListener("changestart",function(){return _this674.Lf();}),_this674["#rotation-section"].addEventListener("changestart",function(){return _this674.hg();});return _this674;}_createClass(Yb,[{key:"tn",value:function tn(){var _this675=this;var t=this.Qs,e=this.Js.board;this["#aspect-ratio-button"].toggled=t.getConfig("bx-objectgeometry:preserveAspectRatio",!1),this["#aspect-ratio-icon"].name=this["#aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this675._h();}),e.addEventListener("workspacemutation",this.rn=function(){_this675._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this675._h();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"Lg",value:function Lg(){var _this676=this;var t,_e1205,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$Jm47=this.Jm,o=_this$Jm47.displaySpace,l=_this$Jm47.displayUnit,a=Symbol();this.Ag=!0;var _iterator1148=_createForOfIteratorHelper(s),_step1148;try{for(_iterator1148.s();!(_step1148=_iterator1148.n()).done;){var _t1719=_step1148.value;var _e1206=jt(_t1719,i.vectorCanvas);"viewport"===o&&(_e1206=qt(i.currentWorkspace).multiply(_e1206));var _s644=_e1206.inverse(),_h187=Vt(_t1719),_r122=Xt(l,"px"),_d97=Pi(_t1719);_t1719[a]={userToDisplayTransform:_e1206,displayToUserTransform:_s644,userTransform:_h187,unitTransform:_r122},n.push(Ne(_d97,_e1206));}}catch(err){_iterator1148.e(err);}finally{_iterator1148.f();}var h=Ve(n).x;i.undoManager.checkpoint("X"),this["#x-input"].addEventListener("change",t=function t(){var _iterator1149=_createForOfIteratorHelper(s),_step1149;try{for(_iterator1149.s();!(_step1149=_iterator1149.n()).done;){var _t1717=_step1149.value;var _t1717$a=_t1717[a],_e1204=_t1717$a.userToDisplayTransform,_i1115=_t1717$a.displayToUserTransform,_s643=_t1717$a.userTransform,_n465=_t1717$a.unitTransform,_o366=_this676["#x-input"].value*_n465.a,_l307=DOMMatrix.fromMatrix(_s643);_l307.multiplySelf(_i1115),_l307.translateSelf(_o366-h,0),_l307.multiplySelf(_e1204),_t1717.setAttribute("transform",_l307.toString());}}catch(err){_iterator1149.e(err);}finally{_iterator1149.f();}}),this["#x-input"].addEventListener("changeend",_e1205=function e(){_this676["#x-input"].removeEventListener("change",t),_this676["#x-input"].removeEventListener("changeend",_e1205),_this676.Ag=!1;var _iterator1150=_createForOfIteratorHelper(s),_step1150;try{for(_iterator1150.s();!(_step1150=_iterator1150.n()).done;){var _t1718=_step1150.value;fa(_t1718,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1150.e(err);}finally{_iterator1150.f();}});}},{key:"Bg",value:function Bg(){var _this677=this;var t,_e1208,i=this.Js.board,s=i.outermostSelectedObjectElements,n=[],_this$Jm48=this.Jm,o=_this$Jm48.displaySpace,l=_this$Jm48.displayUnit,a=Symbol();this.$g=!0;var _iterator1151=_createForOfIteratorHelper(s),_step1151;try{for(_iterator1151.s();!(_step1151=_iterator1151.n()).done;){var _t1722=_step1151.value;var _e1209=jt(_t1722,i.vectorCanvas);"viewport"===o&&(_e1209=qt(i.currentWorkspace).multiply(_e1209));var _s646=_e1209.inverse(),_h188=Vt(_t1722),_r123=Xt(l,"px"),_d98=Pi(_t1722);_t1722[a]={userToDisplayTransform:_e1209,displayToUserTransform:_s646,userTransform:_h188,unitTransform:_r123},n.push(Ne(_d98,_e1209));}}catch(err){_iterator1151.e(err);}finally{_iterator1151.f();}var h=Ve(n).y;i.undoManager.checkpoint("Y"),this["#y-input"].addEventListener("change",t=function t(){var _iterator1152=_createForOfIteratorHelper(s),_step1152;try{for(_iterator1152.s();!(_step1152=_iterator1152.n()).done;){var _t1720=_step1152.value;var _t1720$a=_t1720[a],_e1207=_t1720$a.userToDisplayTransform,_i1116=_t1720$a.displayToUserTransform,_s645=_t1720$a.userTransform,_n466=_t1720$a.unitTransform,_o367=_this677["#y-input"].value*_n466.d,_l308=DOMMatrix.fromMatrix(_s645);_l308.multiplySelf(_i1116),_l308.translateSelf(0,_o367-h),_l308.multiplySelf(_e1207),_t1720.setAttribute("transform",_l308.toString());}}catch(err){_iterator1152.e(err);}finally{_iterator1152.f();}}),this["#y-input"].addEventListener("changeend",_e1208=function e(){_this677["#y-input"].removeEventListener("change",t),_this677["#y-input"].removeEventListener("changeend",_e1208),_this677.$g=!1;var _iterator1153=_createForOfIteratorHelper(s),_step1153;try{for(_iterator1153.s();!(_step1153=_iterator1153.n()).done;){var _t1721=_step1153.value;fa(_t1721,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1153.e(err);}finally{_iterator1153.f();}});}},{key:"Rg",value:function Rg(){var _this678=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$Jm49=this.Jm,i=_this$Jm49.displaySpace,s=_this$Jm49.displayUnit,n=Xt(s,"px");if(this.eb=!0,t.undoManager.checkpoint("Width"),1===e.length){var _s647=e[0],_o368=Pi(_s647),_l309=Vt(_s647),_a232=jt(_s647,t.vectorCanvas);"viewport"===i&&(_a232=qt(t.currentWorkspace).multiply(_a232));var _h189,_r125,_d99=ze(new DOMPoint(_o368.x,_o368.y).matrixTransform(_a232),new DOMPoint(_o368.x+_o368.width,_o368.y).matrixTransform(_a232));this["#width-input"].addEventListener("change",_h189=function _h189(){var t=_this678["#width-input"].value*n.a/_d99,e=1;_this678["#aspect-ratio-button"].toggled&&(e=t);var i=-_o368.x*(t-1),a=-_o368.y*(e-1),h=DOMMatrix.fromMatrix(_l309);h.translateSelf(i,a),h.scaleSelf(t,e),_s647.setAttribute("transform",h.toString());}),this["#width-input"].addEventListener("changeend",_r125=function _r124(){_this678["#width-input"].removeEventListener("change",_h189),_this678["#width-input"].removeEventListener("changeend",_r125),_this678.eb=!1,fa(_s647,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s648,_o371,_l310=[],_a233=Symbol();var _iterator1154=_createForOfIteratorHelper(e),_step1154;try{for(_iterator1154.s();!(_step1154=_iterator1154.n()).done;){var _s650=_step1154.value;var _e1211=Vt(_s650),_n468=jt(_s650,t.vectorCanvas);"viewport"===i&&(_n468=qt(t.currentWorkspace).multiply(_n468));var _o372=_n468.inverse(),_h191=Ne(Pi(_s650),_n468);_s650[_a233]={userTransform:_e1211,userToDisplayTransform:_n468,displayToUserTransform:_o372},_l310.push(_h191);}}catch(err){_iterator1154.e(err);}finally{_iterator1154.f();}var _h190=Ve(_l310),_r126=_h190.width;this["#width-input"].addEventListener("change",_s648=function _s648(){var t=_this678["#width-input"].value*n.a;var _iterator1155=_createForOfIteratorHelper(e),_step1155;try{for(_iterator1155.s();!(_step1155=_iterator1155.n()).done;){var _i1117=_step1155.value;var _i1117$_a=_i1117[_a233],_e1210=_i1117$_a.userTransform,_s649=_i1117$_a.userToDisplayTransform,_n467=_i1117$_a.displayToUserTransform,_o370=t/_r126,_l311=1;_this678["#aspect-ratio-button"].toggled&&(_l311=_o370);var _d100=-_h190.x*(_o370-1),_c77=-_h190.y*(_l311-1),_p67=DOMMatrix.fromMatrix(_e1210);_p67.multiplySelf(_n467),_p67.translateSelf(_d100,_c77),_p67.scaleSelf(_o370,_l311),_p67.multiplySelf(_s649),_i1117.setAttribute("transform",_p67.toString());}}catch(err){_iterator1155.e(err);}finally{_iterator1155.f();}}),this["#width-input"].addEventListener("changeend",_o371=function _o369(){_this678["#width-input"].removeEventListener("change",_s648),_this678["#width-input"].removeEventListener("changeend",_o371),_this678.eb=!1;var _iterator1156=_createForOfIteratorHelper(e),_step1156;try{for(_iterator1156.s();!(_step1156=_iterator1156.n()).done;){var _i1118=_step1156.value;fa(_i1118,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1156.e(err);}finally{_iterator1156.f();}});}}},{key:"Gg",value:function Gg(){var _this679=this;var t=this.Js.board,e=t.outermostSelectedObjectElements,_this$Jm50=this.Jm,i=_this$Jm50.displaySpace,s=_this$Jm50.displayUnit,n=Xt(s,"px");if(this.Ig=!0,t.undoManager.checkpoint("Height"),1===e.length){var _s651=e[0],_o373=Pi(_s651),_l312=Vt(_s651),_a234=jt(_s651,t.vectorCanvas);"viewport"===i&&(_a234=qt(t.currentWorkspace).multiply(_a234));var _h192,_r128,_d101=ze(new DOMPoint(_o373.x,_o373.y).matrixTransform(_a234),new DOMPoint(_o373.x,_o373.y+_o373.height).matrixTransform(_a234));this["#height-input"].addEventListener("change",_h192=function _h192(){var t=1,e=_this679["#height-input"].value*n.d/_d101;_this679["#aspect-ratio-button"].toggled&&(t=e);var i=-_o373.x*(t-1),a=-_o373.y*(e-1),h=DOMMatrix.fromMatrix(_l312);h.translateSelf(i,a),h.scaleSelf(t,e),_s651.setAttribute("transform",h.toString());}),this["#height-input"].addEventListener("changeend",_r128=function _r127(){_this679["#height-input"].removeEventListener("change",_h192),_this679["#height-input"].removeEventListener("changeend",_r128),_this679.Ig=!1,fa(_s651,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});});}else{var _s652,_o376,_l313=[],_a235=Symbol();var _iterator1157=_createForOfIteratorHelper(e),_step1157;try{for(_iterator1157.s();!(_step1157=_iterator1157.n()).done;){var _s654=_step1157.value;var _e1213=Vt(_s654),_n470=jt(_s654,t.vectorCanvas);"viewport"===i&&(_n470=qt(t.currentWorkspace).multiply(_n470));var _o377=_n470.inverse(),_h194=Ne(Pi(_s654),_n470);_s654[_a235]={userTransform:_e1213,userToDisplayTransform:_n470,displayToUserTransform:_o377},_l313.push(_h194);}}catch(err){_iterator1157.e(err);}finally{_iterator1157.f();}var _h193=Ve(_l313),_r129=_h193.height;this["#height-input"].addEventListener("change",_s652=function _s652(){var t=_this679["#height-input"].value*n.d;var _iterator1158=_createForOfIteratorHelper(e),_step1158;try{for(_iterator1158.s();!(_step1158=_iterator1158.n()).done;){var _i1119=_step1158.value;var _i1119$_a=_i1119[_a235],_e1212=_i1119$_a.userTransform,_s653=_i1119$_a.userToDisplayTransform,_n469=_i1119$_a.displayToUserTransform,_o375=1,_l314=t/_r129;_this679["#aspect-ratio-button"].toggled&&(_o375=_l314);var _d102=-_h193.x*(_o375-1),_c78=-_h193.y*(_l314-1),_p68=DOMMatrix.fromMatrix(_e1212);_p68.multiplySelf(_n469),_p68.translateSelf(_d102,_c78),_p68.scaleSelf(_o375,_l314),_p68.multiplySelf(_s653),_i1119.setAttribute("transform",_p68.toString());}}catch(err){_iterator1158.e(err);}finally{_iterator1158.f();}}),this["#height-input"].addEventListener("changeend",_o376=function _o374(){_this679["#height-input"].removeEventListener("change",_s652),_this679["#height-input"].removeEventListener("changeend",_o376),_this679.Ig=!1;var _iterator1159=_createForOfIteratorHelper(e),_step1159;try{for(_iterator1159.s();!(_step1159=_iterator1159.n()).done;){var _i1120=_step1159.value;fa(_i1120,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}catch(err){_iterator1159.e(err);}finally{_iterator1159.f();}});}}},{key:"Tg",value:function Tg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-objectgeometry:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"If",value:function If(){var _this680=this;var t,_e1214,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$Jm51=this.Jm,n=_this$Jm51.displaySpace,o=_this$Jm51.displayUnit,l=Xt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=qt(i.currentWorkspace));var h=Ht(i.vectorCanvas).inverse(),r=a.multiply(h),d=te(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1160=_createForOfIteratorHelper(s),_step1160;try{for(_iterator1160.s();!(_step1160=_iterator1160.n()).done;){var _t1724=_step1160.value;var _e1215=jt(_t1724,i.vectorCanvas);_e1215=a.multiply(_e1215),_t1724[c]=_e1215.inverse(),_t1724[p]=Pi(_t1724);}}catch(err){_iterator1160.e(err);}finally{_iterator1160.f();}i.undoManager.checkpoint("Origin X"),this.Af=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-x-input"].addEventListener("change",t=function t(){var t=_this680["#origin-x-input"].value*l.a,e=new DOMPoint(t,d.y);var _iterator1161=_createForOfIteratorHelper(s),_step1161;try{for(_iterator1161.s();!(_step1161=_iterator1161.n()).done;){var _t1723=_step1161.value;var _s655=e.matrixTransform(_t1723[c]),_n471=he(_s655,_t1723[p]);Kt(_t1723,_n471,jb(i.geometryPrecision,6));}}catch(err){_iterator1161.e(err);}finally{_iterator1161.f();}}),this["#origin-x-input"].addEventListener("changeend",_e1214=function e(){_this680["#origin-x-input"].removeEventListener("change",t),_this680["#origin-x-input"].removeEventListener("changeend",_e1214),_this680.Af=!1;});}},{key:"Lf",value:function Lf(){var _this681=this;var t,_e1216,i=this.Js.board,s=i.outermostSelectedObjectElements,_this$Jm52=this.Jm,n=_this$Jm52.displaySpace,o=_this$Jm52.displayUnit,l=Xt(o,"px"),a=new DOMMatrix();"viewport"===n&&(a=qt(i.currentWorkspace));var h=Ht(i.vectorCanvas).inverse(),r=a.multiply(h),d=te(s).matrixTransform(r),c=Symbol(),p=Symbol();var _iterator1162=_createForOfIteratorHelper(s),_step1162;try{for(_iterator1162.s();!(_step1162=_iterator1162.n()).done;){var _t1726=_step1162.value;var _e1217=jt(_t1726,i.vectorCanvas);_e1217=a.multiply(_e1217),_t1726[c]=_e1217.inverse(),_t1726[p]=Pi(_t1726);}}catch(err){_iterator1162.e(err);}finally{_iterator1162.f();}i.undoManager.checkpoint("Origin Y"),this.$f=!0,this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this["#origin-y-input"].addEventListener("change",t=function t(){var t=_this681["#origin-y-input"].value*l.d,e=new DOMPoint(d.x,t);var _iterator1163=_createForOfIteratorHelper(s),_step1163;try{for(_iterator1163.s();!(_step1163=_iterator1163.n()).done;){var _t1725=_step1163.value;var _s656=e.matrixTransform(_t1725[c]),_n472=he(_s656,_t1725[p]);Kt(_t1725,_n472,jb(i.geometryPrecision,6));}}catch(err){_iterator1163.e(err);}finally{_iterator1163.f();}}),this["#origin-y-input"].addEventListener("changeend",_e1216=function e(){_this681["#origin-y-input"].removeEventListener("change",t),_this681["#origin-y-input"].removeEventListener("changeend",_e1216),_this681.$f=!1;});}},{key:"hg",value:function hg(){var _this682=this;var t,_e1218,i=this.Js.board,s=i.outermostSelectedObjectElements,n=s.length>1?0:K(ee(s[0]),2),o=te(s),l=!1,a=Symbol();var _iterator1164=_createForOfIteratorHelper(s),_step1164;try{for(_iterator1164.s();!(_step1164=_iterator1164.n()).done;){var _t1730=_step1164.value;var _e1219=Vt(_t1730),_i1122=Ht(_t1730),_s658=_i1122.inverse();_t1730[a]={clientToUserTransform:_i1122,userToClientTransform:_s658,userTransform:_e1219};}}catch(err){_iterator1164.e(err);}finally{_iterator1164.f();}this.Js.board.transformHud.enabled&&(this.Js.board.transformHud.mode="rotate-and-skew"),this.lg=!0,this["#rotation-section"].addEventListener("change",t=function t(_t1728){!1===l&&(l=!0,i.undoManager.checkpoint("Rotation")),_t1728.target===_this682["#rotation-slider"]?_this682["#rotation-input"].value=_this682["#rotation-slider"].value:_t1728.target===_this682["#rotation-input"]&&(_this682["#rotation-slider"].value=_this682["#rotation-input"].value),_this682.Qs.modKeys.shift&&(_this682["#rotation-input"].value=Re(_this682["#rotation-slider"].value,15),_this682["#rotation-slider"].value=_this682["#rotation-input"].value);var e=_this682["#rotation-input"].value-n;var _iterator1165=_createForOfIteratorHelper(s),_step1165;try{for(_iterator1165.s();!(_step1165=_iterator1165.n()).done;){var _t1727=_step1165.value;var _t1727$a=_t1727[a],_i1121=_t1727$a.clientToUserTransform,_s657=_t1727$a.userToClientTransform,_n473=_t1727$a.userTransform,_l315=DOMMatrix.fromMatrix(_n473);_l315.multiplySelf(_s657),_l315.translateSelf(o.x,o.y),_l315.rotateSelf(e),_l315.translateSelf(-o.x,-o.y),_l315.multiplySelf(_i1121),_t1727.setAttribute("transform",_l315.toString());}}catch(err){_iterator1165.e(err);}finally{_iterator1165.f();}}),this["#rotation-section"].addEventListener("changeend",_e1218=function e(){if(_this682["#rotation-section"].removeEventListener("change",t),_this682["#rotation-section"].removeEventListener("changeend",_e1218),_this682.lg=!1,l){var _iterator1166=_createForOfIteratorHelper(s),_step1166;try{for(_iterator1166.s();!(_step1166=_iterator1166.n()).done;){var _t1729=_step1166.value;fa(_t1729,{geometryPrecision:i.geometryPrecision,transformPrecision:i.transformPrecision});}}catch(err){_iterator1166.e(err);}finally{_iterator1166.f();}}});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(0===e.length)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else if(1===e.length){var _this$Jm53=this.Jm,_i1123=_this$Jm53.displaySpace,_s659=_this$Jm53.displayUnit,_n474=_this$Jm53.displayPrecision,_o378=e[0],_l316=Pi(_o378),_a236=_s659?" "+_s659:"",_h195=1/Hb(10,_n474-1),_r130=jt(_o378,t.vectorCanvas),_d103=Xt("px",_s659);"viewport"===_i1123&&(_r130=qt(t.currentWorkspace).multiply(_r130));var _c79=[new DOMPoint(_l316.x,_l316.y),new DOMPoint(_l316.x+_l316.width,_l316.y),new DOMPoint(_l316.x+_l316.width,_l316.y+_l316.height),new DOMPoint(_l316.x,_l316.y+_l316.height)];_c79=_c79.map(function(t){return t.matrixTransform(_r130);}),_c79=_c79.map(function(t){return t.matrixTransform(_d103);});var _p69=Zt(_o378),_u56=ae(_p69,_l316).matrixTransform(_r130);_u56=_u56.matrixTransform(_d103);var _x138=Vb.apply(void 0,_toConsumableArray(_c79.map(function(t){return t.x;}))),_b44=Vb.apply(void 0,_toConsumableArray(_c79.map(function(t){return t.y;}))),_m41=ze(_c79[0],_c79[1]),_g36=ze(_c79[1],_c79[2]),_f25=_u56.x,_w20=_u56.y,_v16=ee(_o378);!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Ag&&(this["#x-input"].value=K(_x138,_n474),this["#x-input"].suffix=_a236,this["#x-input"].step=_h195),!1===this.$g&&(this["#y-input"].value=K(_b44,_n474),this["#y-input"].suffix=_a236,this["#y-input"].step=_h195),!1===this.eb&&(this["#width-input"].value=K(_m41,_n474),this["#width-input"].suffix=_a236,this["#width-input"].step=_h195),!1===this.Ig&&(this["#height-input"].value=K(_g36,_n474),this["#height-input"].suffix=_a236,this["#height-input"].step=_h195),!1===this.Af&&(this["#origin-x-input"].value=K(_f25,_n474),this["#origin-x-input"].suffix=_a236,this["#origin-x-input"].step=_h195),!1===this.$f&&(this["#origin-y-input"].value=K(_w20,_n474),this["#origin-y-input"].suffix=_a236,this["#origin-y-input"].step=_h195),!1===this.lg&&(this["#rotation-slider"].value=K(_v16,1),this["#rotation-input"].value=K(_v16,1));}else{var _this$Jm54=this.Jm,_i1124=_this$Jm54.displaySpace,_s660=_this$Jm54.displayUnit,_n475=_this$Jm54.displayPrecision,_o379=_s660?" "+_s660:"",_l317=1/Hb(10,_n475-1),_a237=Xt("px",_s660),_h196=new DOMMatrix();"viewport"===_i1124&&(_h196=qt(t.currentWorkspace));var _r131=e.map(function(e){var i=jt(e,t.vectorCanvas);i=_h196.multiply(i);var s=Pi(e);return s=Ne(s,i),s=Ne(s,_a237),s;}),_d104=Ht(t.vectorCanvas).inverse(),_c80=_h196.multiply(_d104),_p70=Ve(_r131),_u57=te(e,!1).matrixTransform(_c80);_u57=_u57.matrixTransform(_a237);var _x139=_p70.x,_b45=_p70.y,_m42=_p70.width,_g37=_p70.height,_f26=_u57.x,_w21=_u57.y;!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),!1===this.Ag&&(this["#x-input"].value=K(_x139,_n475),this["#x-input"].suffix=_o379,this["#x-input"].step=_l317),!1===this.$g&&(this["#y-input"].value=K(_b45,_n475),this["#y-input"].suffix=_o379,this["#y-input"].step=_l317),!1===this.eb&&(this["#width-input"].value=K(_m42,_n475),this["#width-input"].suffix=_o379,this["#width-input"].step=_l317),!1===this.Ig&&(this["#height-input"].value=K(_g37,_n475),this["#height-input"].suffix=_o379,this["#height-input"].step=_l317),!1===this.Af&&(this["#origin-x-input"].value=K(_f26,_n475),this["#origin-x-input"].suffix=_o379,this["#origin-x-input"].step=_l317),!1===this.$f&&(this["#origin-y-input"].value=K(_w21,_n475),this["#origin-y-input"].suffix=_o379,this["#origin-y-input"].step=_l317),!1===this.lg&&(this["#rotation-slider"].value=0,this["#rotation-input"].value=0);}}}]);return Yb;}(xb);_defineProperty(Yb,"_shadowTemplate",qi(_templateObject351()));_defineProperty(Yb,"_shadowStyleSheet",Xi(_templateObject352()));customElements.define("bx-objectgeometryinspector",Yb);var Wb=/*#__PURE__*/function(_xb15){_inherits(Wb,_xb15);var _super145=_createSuper(Wb);function Wb(){var _this683;_classCallCheck(this,Wb);_this683=_super145.call(this),_this683.ef=!1,_this683["if"]=!1,_this683.sf=!1,_this683.nf=!1,_this683.rf=null,_this683.df=null,_this683.pf=Ki(_this683.qs,100,_assertThisInitialized(_this683)),_this683["#viewbox-x-input"].addEventListener("changestart",function(t){return _this683.gf(t);}),_this683["#viewbox-y-input"].addEventListener("changestart",function(t){return _this683.ff(t);}),_this683["#viewbox-width-input"].addEventListener("changestart",function(t){return _this683.wf(t);}),_this683["#viewbox-height-input"].addEventListener("changestart",function(t){return _this683.vf(t);}),_this683["#viewbox-switch"].addEventListener("toggle",function(){return _this683.yf();}),_this683["#viewbox-lock-button"].addEventListener("toggle",function(){return _this683.kf();}),_this683["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this683.Sf();}),_this683["#align-buttons"].addEventListener("toggle",function(){return _this683._f();}),_this683["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this683.Cf();});return _this683;}_createClass(Wb,[{key:"tn",value:function tn(){var _this684=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-patterngeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this684.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this684.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this685=this;var e,_i1125,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this685["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1125=function i(){_this685["#viewbox-x-input"].removeEventListener("change",e),_this685["#viewbox-x-input"].removeEventListener("changeend",_i1125),_this685.ef=!1;});}},{key:"ff",value:function ff(t){var _this686=this;var e,_i1126,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this686["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1126=function i(){_this686["#viewbox-y-input"].removeEventListener("change",e),_this686["#viewbox-y-input"].removeEventListener("changeend",_i1126),_this686["if"]=!1;});}},{key:"wf",value:function wf(t){var _this687=this;var e,_i1127,_this$Js$board49=this.Js.board,s=_this$Js$board49.geometryPrecision,n=_this$Js$board49.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this687["#viewbox-width-input"].value,null!==l&&(o.height=K(_this687["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1127=function i(){_this687["#viewbox-width-input"].removeEventListener("change",e),_this687["#viewbox-width-input"].removeEventListener("changeend",_i1127),_this687.sf=!1;});}},{key:"vf",value:function vf(t){var _this688=this;var e,_i1128,_this$Js$board50=this.Js.board,s=_this$Js$board50.geometryPrecision,n=_this$Js$board50.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this688["#viewbox-height-input"].value,null!==l&&(o.width=K(_this688["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1128=function i(){_this688["#viewbox-height-input"].removeEventListener("change",e),_this688["#viewbox-height-input"].removeEventListener("changeend",_i1128),_this688.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-patterngeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s661=e;"none"!==_s661&&"slice"===i&&(_s661+=" slice"),t.setAttribute("preserveAspectRatio",_s661);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s662=e;"none"!==_s662&&"slice"===i&&(_s662+=" slice"),t.setAttribute("preserveAspectRatio",_s662);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("pattern"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Rt$fromString4=Rt.fromString(e.getAttribute("viewBox")),_t1731=_Rt$fromString4.x,_i1129=_Rt$fromString4.y,_s663=_Rt$fromString4.width,_n476=_Rt$fromString4.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=K(_t1731,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=K(_i1129,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=K(_s663,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=K(_n476,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1732=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_It$fromString3=It.fromString(_t1732),_i1130=_It$fromString3.align,_s664=_It$fromString3.meetOrSlice;"none"===_i1130?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1130,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s664,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return Wb;}(xb);_defineProperty(Wb,"_shadowTemplate",qi(_templateObject353()));_defineProperty(Wb,"_shadowStyleSheet",Xi(_templateObject354()));customElements.define("bx-patterngeometryinspector",Wb);var qb=Math.pow;var Xb=/*#__PURE__*/function(_xb16){_inherits(Xb,_xb16);var _super146=_createSuper(Xb);function Xb(){var _this689;_classCallCheck(this,Xb);_this689=_super146.call(this),_this689.bg=!1,_this689.mg=!1,_this689.Bf=!1,_this689.Rf=!1,_this689._h=Ki(_this689.qs,200,_assertThisInitialized(_this689)),_this689["#r1-input"].addEventListener("changestart",function(){return _this689.vg();}),_this689["#r2-input"].addEventListener("changestart",function(){return _this689.yg();}),_this689["#start-angle-section"].addEventListener("changestart",function(){return _this689.iu();}),_this689["#end-angle-section"].addEventListener("changestart",function(){return _this689.su();});return _this689;}_createClass(Xb,[{key:"tn",value:function tn(){var _this690=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this690._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this690._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this690._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"vg",value:function vg(){var _this691=this;var t,_e1220,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values51=_slicedToArray(bl(s).values,6),n=_bl$values51[0],o=_bl$values51[1],l=_bl$values51[2],a=_bl$values51[3],h=_bl$values51[4],r=_bl$values51[5],_this$Jm55=this.Jm,d=_this$Jm55.displaySpace,c=_this$Jm55.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.currentWorkspace);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie inner radius"),this.bg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1733){var e=new Z(m,g);e.length=_this691["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=K(e.length,p),_ml(s,{type:"pie",values:[n,o,l,a,h,r]});}),this["#r1-input"].addEventListener("changeend",_e1220=function e(){_this691["#r1-input"].removeEventListener("change",t),_this691["#r1-input"].removeEventListener("changeend",_e1220),_this691.bg=!1;});}},{key:"yg",value:function yg(){var _this692=this;var t,_e1221,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values52=_slicedToArray(bl(s).values,6),n=_bl$values52[0],o=_bl$values52[1],l=_bl$values52[2],a=_bl$values52[3],h=_bl$values52[4],r=_bl$values52[5],_this$Jm56=this.Jm,d=_this$Jm56.displaySpace,c=_this$Jm56.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.currentWorkspace);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Pie outer radius"),this.mg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1734){var e=new Z(m,g);e.length=_this692["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),a=K(e.length,p),_ml(s,{type:"pie",values:[n,o,l,a,h,r]});}),this["#r2-input"].addEventListener("changeend",_e1221=function e(){_this692["#r2-input"].removeEventListener("change",t),_this692["#r2-input"].removeEventListener("changeend",_e1221),_this692.mg=!1;});}},{key:"iu",value:function iu(){var _this693=this;var t,_e1222,i=this.Js.board,s=[],n=Symbol();var _iterator1167=_createForOfIteratorHelper(i.outermostSelectedElements),_step1167;try{for(_iterator1167.s();!(_step1167=_iterator1167.n()).done;){var _t1737=_step1167.value;if("path"===_t1737.localName){var _e1223=bl(_t1737);_e1223&&"pie"===_e1223.type&&(_t1737[n]=_e1223,s.push(_t1737));}}}catch(err){_iterator1167.e(err);}finally{_iterator1167.f();}i.undoManager.checkpoint("Pie start angle"),this.Bf=!0,this["#start-angle-section"].addEventListener("change",t=function t(_t1736){_t1736.target===_this693["#start-angle-slider"]?_this693["#start-angle-input"].value=_this693["#start-angle-slider"].value:_t1736.target===_this693["#start-angle-input"]&&(_this693["#start-angle-slider"].value=_this693["#start-angle-input"].value);var _iterator1168=_createForOfIteratorHelper(s),_step1168;try{for(_iterator1168.s();!(_step1168=_iterator1168.n()).done;){var _t1735=_step1168.value;_t1735[n].values[4]=_this693["#start-angle-slider"].value,_ml(_t1735,_t1735[n]);}}catch(err){_iterator1168.e(err);}finally{_iterator1168.f();}}),this["#start-angle-section"].addEventListener("changeend",_e1222=function e(){_this693["#start-angle-section"].removeEventListener("change",t),_this693["#start-angle-section"].removeEventListener("changeend",_e1222),_this693.Bf=!1;});}},{key:"su",value:function su(){var _this694=this;var t,_e1224,i=this.Js.board,s=[],n=Symbol();var _iterator1169=_createForOfIteratorHelper(i.outermostSelectedElements),_step1169;try{for(_iterator1169.s();!(_step1169=_iterator1169.n()).done;){var _t1740=_step1169.value;if("path"===_t1740.localName){var _e1225=bl(_t1740);_e1225&&"pie"===_e1225.type&&(_t1740[n]=_e1225,s.push(_t1740));}}}catch(err){_iterator1169.e(err);}finally{_iterator1169.f();}i.undoManager.checkpoint("Pie end angle"),this.Rf=!0,this["#end-angle-section"].addEventListener("change",t=function t(_t1739){_t1739.target===_this694["#end-angle-slider"]?_this694["#end-angle-input"].value=_this694["#end-angle-slider"].value:_t1739.target===_this694["#end-angle-input"]&&(_this694["#end-angle-slider"].value=_this694["#end-angle-input"].value);var _iterator1170=_createForOfIteratorHelper(s),_step1170;try{for(_iterator1170.s();!(_step1170=_iterator1170.n()).done;){var _t1738=_step1170.value;_t1738[n].values[5]=_this694["#end-angle-slider"].value,_ml(_t1738,_t1738[n]);}}catch(err){_iterator1170.e(err);}finally{_iterator1170.f();}}),this["#end-angle-section"].addEventListener("changeend",_e1224=function e(){_this694["#end-angle-section"].removeEventListener("change",t),_this694["#end-angle-section"].removeEventListener("changeend",_e1224),_this694.Rf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1131=bl(e[0]);if(_i1131&&"pie"===_i1131.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1131$values=_slicedToArray(_i1131.values,6),_s665=_i1131$values[0],_n477=_i1131$values[1],_o380=_i1131$values[2],_l318=_i1131$values[3],_a238=_i1131$values[4],_h197=_i1131$values[5],_this$Jm57=this.Jm,_r132=_this$Jm57.displayUnit,_d105=_this$Jm57.displaySpace,_c81=_this$Jm57.displayPrecision,_p71=e[0],_u58=jt(_p71,t.currentWorkspace),_x140=Xt("px",_r132),_b46=_r132?" "+_r132:"",_m43=1/qb(10,_c81-1);"viewport"===_d105&&(_u58=qt(t.currentWorkspace).multiply(_u58));var _g38=new DOMPoint(_s665,_n477);_g38=_g38.matrixTransform(_u58),_g38=_g38.matrixTransform(_x140),_g38=Pe(_g38,_c81);var _f27=new DOMPoint(_s665+_o380,_n477);_f27=_f27.matrixTransform(_u58),_f27=_f27.matrixTransform(_x140);var _w22=new DOMPoint(_s665+_l318,_n477);_w22=_w22.matrixTransform(_u58),_w22=_w22.matrixTransform(_x140),!1===this.bg&&(this["#r1-input"].max=K(new Z(_g38,_w22).length,_c81),this["#r1-input"].value=K(new Z(_g38,_f27).length,_c81),this["#r1-input"].suffix=_b46,this["#r1-input"].step=_m43),!1===this.mg&&(this["#r2-input"].min=K(new Z(_g38,_f27).length,_c81),this["#r2-input"].value=K(new Z(_g38,_w22).length,_c81),this["#r2-input"].suffix=_b46,this["#r2-input"].step=_m43),!1===this.Bf&&(this["#start-angle-slider"].value=K(_a238,2),this["#start-angle-input"].value=K(_a238,2)),!1===this.Rf&&(this["#end-angle-slider"].value=K(_h197,2),this["#end-angle-input"].value=K(_h197,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return Xb;}(xb);_defineProperty(Xb,"_shadowTemplate",qi(_templateObject355()));_defineProperty(Xb,"_shadowStyleSheet",Xi(_templateObject356()));customElements.define("bx-piegeometryinspector",Xb);var Zb=Math.min,Kb=Math.pow;var Qb=/*#__PURE__*/function(_xb17){_inherits(Qb,_xb17);var _super147=_createSuper(Qb);function Qb(){var _this695;_classCallCheck(this,Qb);_this695=_super147.call(this),_this695.dg=!1,_this695.cg=!1,_this695.bg=!1,_this695.mg=!1,_this695.gg=!1,_this695.Gf=!1,_this695._h=Ki(_this695.qs,200,_assertThisInitialized(_this695)),_this695["#r1-input"].addEventListener("changestart",function(){return _this695.vg();}),_this695["#r2-input"].addEventListener("changestart",function(){return _this695.yg();}),_this695["#r3-input"].addEventListener("changestart",function(){return _this695.kg();}),_this695["#r4-input"].addEventListener("changestart",function(){return _this695.Ff();}),_this695["#r1-input"].validate=function(){return null;},_this695["#r2-input"].validate=function(){return null;},_this695["#r3-input"].validate=function(){return null;},_this695["#r4-input"].validate=function(){return null;};return _this695;}_createClass(Qb,[{key:"tn",value:function tn(){var _this696=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this696._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this696._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this696._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"vg",value:function vg(){var _this697=this;var t,_e1226,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm58=this.Jm,n=_this$Jm58.displaySpace,o=_this$Jm58.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.vectorCanvas);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Top left corner radius"),this.bg=!0,"rect"===s.localName&&(s=this.Uf(s));var d=bl(s),_d$values=_slicedToArray(d.values,8),c=_d$values[0],p=_d$values[1],u=_d$values[2],x=_d$values[3],b=_d$values[4],m=_d$values[5],g=_d$values[6],f=_d$values[7];this["#r1-input"].addEventListener("change",t=function t(_t1741){var e=new Z(100,100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this697["#r1-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),b=K(e.length,l),_ml(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r1-input"].addEventListener("changeend",_e1226=function e(){_this697["#r1-input"].removeEventListener("change",t),_this697["#r1-input"].removeEventListener("changeend",_e1226),_this697["#r1-input"].value===_this697["#r2-input"].value&&_this697["#r1-input"].value===_this697["#r3-input"].value&&_this697["#r1-input"].value===_this697["#r4-input"].value&&_this697.Nf(s),_this697.bg=!1;});}},{key:"yg",value:function yg(){var _this698=this;var t,_e1227,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm59=this.Jm,n=_this$Jm59.displaySpace,o=_this$Jm59.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.vectorCanvas);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Top right corner radius"),this.mg=!0,"rect"===s.localName&&(s=this.Uf(s));var d=bl(s),_d$values2=_slicedToArray(d.values,8),c=_d$values2[0],p=_d$values2[1],u=_d$values2[2],x=_d$values2[3],b=_d$values2[4],m=_d$values2[5],g=_d$values2[6],f=_d$values2[7];this["#r2-input"].addEventListener("change",t=function t(_t1742){var e=new Z(-100,100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this698["#r2-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),m=K(e.length,l),_ml(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r2-input"].addEventListener("changeend",_e1227=function e(){_this698["#r2-input"].removeEventListener("change",t),_this698["#r2-input"].removeEventListener("changeend",_e1227),_this698["#r1-input"].value===_this698["#r2-input"].value&&_this698["#r1-input"].value===_this698["#r3-input"].value&&_this698["#r1-input"].value===_this698["#r4-input"].value&&_this698.Nf(s),_this698.mg=!1;});}},{key:"kg",value:function kg(){var _this699=this;var t,_e1228,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm60=this.Jm,n=_this$Jm60.displaySpace,o=_this$Jm60.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.vectorCanvas);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Bottom right corner radius"),this.gg=!0,"rect"===s.localName&&(s=this.Uf(s));var d=bl(s),_d$values3=_slicedToArray(d.values,8),c=_d$values3[0],p=_d$values3[1],u=_d$values3[2],x=_d$values3[3],b=_d$values3[4],m=_d$values3[5],g=_d$values3[6],f=_d$values3[7];this["#r3-input"].addEventListener("change",t=function t(_t1743){var e=new Z(-100,-100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this699["#r3-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),g=K(e.length,l),_ml(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r3-input"].addEventListener("changeend",_e1228=function e(){_this699["#r3-input"].removeEventListener("change",t),_this699["#r3-input"].removeEventListener("changeend",_e1228),_this699["#r1-input"].value===_this699["#r2-input"].value&&_this699["#r1-input"].value===_this699["#r3-input"].value&&_this699["#r1-input"].value===_this699["#r4-input"].value&&_this699.Nf(s),_this699.gg=!1;});}},{key:"Ff",value:function Ff(){var _this700=this;var t,_e1229,i=this.Js.board,s=i.outermostSelectedElements[0],_this$Jm61=this.Jm,n=_this$Jm61.displaySpace,o=_this$Jm61.displayUnit,l=i.geometryPrecision,a=Xt(o,"px"),h=jt(s,i.vectorCanvas);"viewport"===n&&(h=qt(i.currentWorkspace).multiply(h));var r=h.inverse();i.undoManager.checkpoint("Bottom left corner radius"),this.Gf=!0,"rect"===s.localName&&(s=this.Uf(s));var d=bl(s),_d$values4=_slicedToArray(d.values,8),c=_d$values4[0],p=_d$values4[1],u=_d$values4[2],x=_d$values4[3],b=_d$values4[4],m=_d$values4[5],g=_d$values4[6],f=_d$values4[7];this["#r4-input"].addEventListener("change",t=function t(_t1744){var e=new Z(100,-100);e=e.matrixTransform(h),e=e.matrixTransform(a),e.length=_this700["#r4-input"].value,e=e.matrixTransform(a),e=e.matrixTransform(r),f=K(e.length,l),_ml(s,{type:"rect",values:[c,p,u,x,b,m,g,f]},l);}),this["#r4-input"].addEventListener("changeend",_e1229=function e(){_this700["#r4-input"].removeEventListener("change",t),_this700["#r4-input"].removeEventListener("changeend",_e1229),_this700["#r1-input"].value===_this700["#r2-input"].value&&_this700["#r1-input"].value===_this700["#r3-input"].value&&_this700["#r1-input"].value===_this700["#r4-input"].value&&_this700.Nf(s),_this700.Gf=!1;});}},{key:"Uf",value:function Uf(t){var e=this.Js.board,i=Ei("svg:path");var _iterator1171=_createForOfIteratorHelper(t.attributes),_step1171;try{for(_iterator1171.s();!(_step1171=_iterator1171.n()).done;){var _e1230=_step1171.value;!1===["x","y","width","height","rx","ry"].includes(_e1230.name)&&i.setAttribute(_e1230.name,_e1230.value);}}catch(err){_iterator1171.e(err);}finally{_iterator1171.f();}return _ml(i,{type:"rect",values:[t.x.baseVal.value,t.y.baseVal.value,t.width.baseVal.value,t.height.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value,t.rx.baseVal.value]}),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"Nf",value:function Nf(t){var e=this.Js.board,i=Ei("svg:rect"),s=bl(t),_s$values13=_slicedToArray(s.values,8),n=_s$values13[0],o=_s$values13[1],l=_s$values13[2],a=_s$values13[3],h=_s$values13[4],r=_s$values13[5],d=_s$values13[6],c=_s$values13[7];var _iterator1172=_createForOfIteratorHelper(t.attributes),_step1172;try{for(_iterator1172.s();!(_step1172=_iterator1172.n()).done;){var _e1231=_step1172.value;"d"!==_e1231.name&&"data-bx-shape"!==_e1231.name&&i.setAttribute(_e1231.name,_e1231.value);}}catch(err){_iterator1172.e(err);}finally{_iterator1172.f();}return i.setAttribute("x",n),i.setAttribute("y",o),i.setAttribute("width",l),i.setAttribute("height",a),i.setAttribute("rx",h),i.setAttribute("ry",h),i.innerHTML=t.innerHTML,t.replaceWith(i),e.selectedElements=e.selectedElements.map(function(e){return e===t?i:e;}),i;}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements[0];if(e){if("rect"===e.localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _this$Jm62=this.Jm,_i1132=_this$Jm62.displayUnit,_s666=_this$Jm62.displaySpace,_n478=_this$Jm62.displayPrecision,_o381=jt(e,t.currentWorkspace),_l319=Xt("px",_i1132),_a239=_i1132?" "+_i1132:"",_h198=1/Kb(10,_n478-1);"viewport"===_s666&&(_o381=qt(t.currentWorkspace).multiply(_o381));var _r133=new Z(100,100);_r133.length=e.rx.baseVal.value,_r133=_r133.matrixTransform(_o381),_r133=_r133.matrixTransform(_l319);var _d106=new Z(e.width.baseVal.value,0);_d106=_d106.matrixTransform(_o381),_d106=_d106.matrixTransform(_l319);var _c82=new Z(0,e.height.baseVal.value);_c82=_c82.matrixTransform(_o381),_c82=_c82.matrixTransform(_l319);var _p72=K(_r133.length,_n478),_u59=K(Zb(_d106.length/2,_c82.length/2),_n478);for(var _i1133=0,_arr43=[this["#r1-input"],this["#r2-input"],this["#r3-input"],this["#r4-input"]];_i1133<_arr43.length;_i1133++){var _t1745=_arr43[_i1133];_t1745.max=_u59,_t1745.value=_p72,_t1745.step=_h198,_t1745.suffix=_a239;}}else if("path"===e.localName){var _i1134=bl(e);if(_i1134&&"rect"===_i1134.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1134$values=_slicedToArray(_i1134.values,8),_s667=_i1134$values[0],_n479=_i1134$values[1],_o382=_i1134$values[2],_l320=_i1134$values[3],_a240=_i1134$values[4],_h199=_i1134$values[5],_r134=_i1134$values[6],_d107=_i1134$values[7],_this$Jm63=this.Jm,_c83=_this$Jm63.displayUnit,_p73=_this$Jm63.displaySpace,_u60=_this$Jm63.displayPrecision,_x141=jt(e,t.currentWorkspace),_b47=Xt("px",_c83),_m44=_c83?" "+_c83:"",_g39=1/Kb(10,_u60-1);"viewport"===_p73&&(_x141=qt(t.currentWorkspace).multiply(_x141));var _f28=new Z(_o382,0);_f28=_f28.matrixTransform(_x141),_f28=_f28.matrixTransform(_b47);var _w23=new Z(0,_l320);_w23=_w23.matrixTransform(_x141),_w23=_w23.matrixTransform(_b47);var _v17=K(Zb(_f28.length/2,_w23.length/2),_u60);if(!1===this.bg){var _t1746=new Z(100,100);_t1746.length=_a240,_t1746=_t1746.matrixTransform(_x141),_t1746=_t1746.matrixTransform(_b47);var _e1232=K(_t1746.length,_u60);this["#r1-input"].max=_v17,this["#r1-input"].value=_e1232,this["#r1-input"].step=_g39,this["#r1-input"].suffix=_m44;}if(!1===this.mg){var _t1747=new Z(-100,100);_t1747.length=_h199,_t1747=_t1747.matrixTransform(_x141),_t1747=_t1747.matrixTransform(_b47);var _e1233=K(_t1747.length,_u60);this["#r2-input"].max=_v17,this["#r2-input"].value=_e1233,this["#r2-input"].step=_g39,this["#r2-input"].suffix=_m44;}if(!1===this.gg){var _t1748=new Z(-100,-100);_t1748.length=_r134,_t1748=_t1748.matrixTransform(_x141),_t1748=_t1748.matrixTransform(_b47);var _e1234=K(_t1748.length,_u60);this["#r3-input"].max=_v17,this["#r3-input"].value=_e1234,this["#r3-input"].step=_g39,this["#r3-input"].suffix=_m44;}if(!1===this.Gf){var _t1749=new Z(100,-100);_t1749.length=_d107,_t1749=_t1749.matrixTransform(_x141),_t1749=_t1749.matrixTransform(_b47);var _e1235=K(_t1749.length,_u60);this["#r4-input"].max=_v17,this["#r4-input"].value=_e1235,this["#r4-input"].step=_g39,this["#r4-input"].suffix=_m44;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return Qb;}(xb);_defineProperty(Qb,"_shadowTemplate",qi(_templateObject357()));_defineProperty(Qb,"_shadowStyleSheet",Xi(_templateObject358()));customElements.define("bx-rectgeometryinspector",Qb);var Jb=Math.min,tm=Math.max,em=Math.pow;var im=/*#__PURE__*/function(_xb18){_inherits(im,_xb18);var _super148=_createSuper(im);function im(){var _this701;_classCallCheck(this,im);_this701=_super148.call(this),_this701.dg=!1,_this701.cg=!1,_this701.Vf=!1,_this701.jf=!1,_this701.Hf=!1,_this701.Yf=!1,_this701._h=Ki(_this701.qs,200,_assertThisInitialized(_this701)),_this701["#cx-input"].addEventListener("changestart",function(){return _this701.pg();}),_this701["#cy-input"].addEventListener("changestart",function(){return _this701.ug();}),_this701["#r1x-input"].addEventListener("changestart",function(){return _this701.Wf();}),_this701["#r1y-input"].addEventListener("changestart",function(){return _this701.qf();}),_this701["#r1-aspect-ratio-button"].addEventListener("toggle",function(){return _this701.Xf();}),_this701["#r2x-input"].addEventListener("changestart",function(){return _this701.Zf();}),_this701["#r2y-input"].addEventListener("changestart",function(){return _this701.Kf();}),_this701["#r2-aspect-ratio-button"].addEventListener("toggle",function(){return _this701.Qf();}),_this701["#r1x-input"].validate=function(){return null;},_this701["#r1y-input"].validate=function(){return null;},_this701["#r2x-input"].validate=function(){return null;},_this701["#r2y-input"].validate=function(){return null;};return _this701;}_createClass(im,[{key:"tn",value:function tn(){var _this702=this;this["#r1-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR1AspectRatio",!1),this["#r2-aspect-ratio-button"].toggled=app.getConfig("bx-ringgeometry:preserveR2AspectRatio",!1),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this702._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this702._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this702._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this703=this;var t,_e1236,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values53=_slicedToArray(bl(s).values,6),n=_bl$values53[0],o=_bl$values53[1],l=_bl$values53[2],a=_bl$values53[3],h=_bl$values53[4],r=_bl$values53[5],_this$Jm64=this.Jm,d=_this$Jm64.displaySpace,c=_this$Jm64.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.vectorCanvas);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1750){var e=new DOMPoint(_this703["#cx-input"].value,_this703["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Pe(e,p),n=e.x,o=e.y,_ml(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#cx-input"].addEventListener("changeend",_e1236=function e(){_this703["#cx-input"].removeEventListener("change",t),_this703["#cx-input"].removeEventListener("changeend",_e1236),_this703.dg=!1;});}},{key:"ug",value:function ug(){var _this704=this;var t,_e1237,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values54=_slicedToArray(bl(s).values,6),n=_bl$values54[0],o=_bl$values54[1],l=_bl$values54[2],a=_bl$values54[3],h=_bl$values54[4],r=_bl$values54[5],_this$Jm65=this.Jm,d=_this$Jm65.displaySpace,c=_this$Jm65.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.currentWorkspace);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Ring center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1751){var e=new DOMPoint(_this704["#cx-input"].value,_this704["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Pe(e,p),n=e.x,o=e.y,_ml(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#cy-input"].addEventListener("changeend",_e1237=function e(){_this704["#cy-input"].removeEventListener("change",t),_this704["#cy-input"].removeEventListener("changeend",_e1237),_this704.cg=!1;});}},{key:"Wf",value:function Wf(){var _this705=this;var t,_e1238,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values55=_slicedToArray(bl(s).values,6),n=_bl$values55[0],o=_bl$values55[1],l=_bl$values55[2],a=_bl$values55[3],h=_bl$values55[4],r=_bl$values55[5],_this$Jm66=this.Jm,d=_this$Jm66.displaySpace,c=_this$Jm66.displayUnit,p=i.geometryPrecision,u=this["#r1y-input"].value/this["#r1x-input"].value||1,x=Xt(c,"px"),b=jt(s,i.currentWorkspace);"viewport"===d&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Vf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1x-input"].addEventListener("change",t=function t(_t1752){var e=new Z(g,f);e.length=_this705["#r1x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),l=K(e.length,p),_this705["#r1-aspect-ratio-button"].toggled&&(a=K(l*u,p)),_ml(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r1x-input"].addEventListener("changeend",_e1238=function e(){_this705["#r1x-input"].removeEventListener("change",t),_this705["#r1x-input"].removeEventListener("changeend",_e1238),_this705.Vf=!1;});}},{key:"qf",value:function qf(){var _this706=this;var t,_e1239,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values56=_slicedToArray(bl(s).values,6),n=_bl$values56[0],o=_bl$values56[1],l=_bl$values56[2],a=_bl$values56[3],h=_bl$values56[4],r=_bl$values56[5],_this$Jm67=this.Jm,d=_this$Jm67.displaySpace,c=_this$Jm67.displayUnit,p=i.geometryPrecision,u=this["#r1x-input"].value/this["#r1y-input"].value||1,x=Xt(c,"px"),b=jt(s,i.currentWorkspace);"viewport"===d&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.jf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r1y-input"].addEventListener("change",t=function t(_t1753){var e=new Z(g,f);e.length=_this706["#r1y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),a=K(e.length,p),_this706["#r1-aspect-ratio-button"].toggled&&(l=K(a*u,p)),_ml(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r1y-input"].addEventListener("changeend",_e1239=function e(){_this706["#r1y-input"].removeEventListener("change",t),_this706["#r1y-input"].removeEventListener("changeend",_e1239),_this706.jf=!1;});}},{key:"Xf",value:function Xf(){this.Qs.setConfig("bx-ringgeometry:preserveR1AspectRatio",this["#r1-aspect-ratio-button"].toggled),this["#r1-aspect-ratio-icon"].name=this["#r1-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"Zf",value:function Zf(){var _this707=this;var t,_e1240,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values57=_slicedToArray(bl(s).values,6),n=_bl$values57[0],o=_bl$values57[1],l=_bl$values57[2],a=_bl$values57[3],h=_bl$values57[4],r=_bl$values57[5],_this$Jm68=this.Jm,d=_this$Jm68.displaySpace,c=_this$Jm68.displayUnit,p=i.geometryPrecision,u=this["#r2y-input"].value/this["#r2x-input"].value||1,x=Xt(c,"px"),b=jt(s,i.currentWorkspace);"viewport"===d&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius X"),this.Hf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n+100,o);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2x-input"].addEventListener("change",t=function t(_t1754){var e=new Z(g,f);e.length=_this707["#r2x-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),h=K(e.length,p),_this707["#r2-aspect-ratio-button"].toggled&&(r=K(h*u,p)),_ml(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r2x-input"].addEventListener("changeend",_e1240=function e(){_this707["#r2x-input"].removeEventListener("change",t),_this707["#r2x-input"].removeEventListener("changeend",_e1240),_this707.Hf=!1;});}},{key:"Kf",value:function Kf(){var _this708=this;var t,_e1241,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values58=_slicedToArray(bl(s).values,6),n=_bl$values58[0],o=_bl$values58[1],l=_bl$values58[2],a=_bl$values58[3],h=_bl$values58[4],r=_bl$values58[5],_this$Jm69=this.Jm,d=_this$Jm69.displaySpace,c=_this$Jm69.displayUnit,p=i.geometryPrecision,u=this["#r2x-input"].value/this["#r2y-input"].value||1,x=Xt(c,"px"),b=jt(s,i.currentWorkspace);"viewport"===d&&(b=qt(i.currentWorkspace).multiply(b));var m=b.inverse();i.undoManager.checkpoint("Ring radius Y"),this.Yf=!0;var g=new DOMPoint(n,o);g=g.matrixTransform(b),g=g.matrixTransform(x);var f=new DOMPoint(n,o+100);f=f.matrixTransform(b),f=f.matrixTransform(x),this["#r2y-input"].addEventListener("change",t=function t(_t1755){var e=new Z(g,f);e.length=_this708["#r2y-input"].value,e=e.matrixTransform(x),e=e.matrixTransform(m),r=K(e.length,p),_this708["#r2-aspect-ratio-button"].toggled&&(h=K(r*u,p)),_ml(s,{type:"ring",values:[n,o,l,a,h,r]});}),this["#r2y-input"].addEventListener("changeend",_e1241=function e(){_this708["#r2y-input"].removeEventListener("change",t),_this708["#r2y-input"].removeEventListener("changeend",_e1241),_this708.Yf=!1;});}},{key:"Qf",value:function Qf(){this.Qs.setConfig("bx-ringgeometry:preserveR2AspectRatio",this["#r2-aspect-ratio-button"].toggled),this["#r2-aspect-ratio-icon"].name=this["#r2-aspect-ratio-button"].toggled?"lock-on":"lock-off",this.qs();}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1135=bl(e[0]);if(_i1135&&"ring"===_i1135.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1135$values=_slicedToArray(_i1135.values,6),_s668=_i1135$values[0],_n480=_i1135$values[1],_o383=_i1135$values[2],_l321=_i1135$values[3],_a241=_i1135$values[4],_h200=_i1135$values[5],_this$Jm70=this.Jm,_r135=_this$Jm70.displayUnit,_d108=_this$Jm70.displaySpace,_c84=_this$Jm70.displayPrecision,_p74=e[0],_u61=jt(_p74,t.currentWorkspace),_x142=Xt("px",_r135),_b48=_r135?" "+_r135:"",_m45=1/em(10,_c84-1);"viewport"===_d108&&(_u61=qt(t.currentWorkspace).multiply(_u61));var _g40=new DOMPoint(_s668,_n480);if(_g40=_g40.matrixTransform(_u61),_g40=_g40.matrixTransform(_x142),_g40=Pe(_g40,_c84),!1===this.dg&&(this["#cx-input"].value=_g40.x,this["#cx-input"].suffix=_b48,this["#cx-input"].step=_m45),!1===this.cg&&(this["#cy-input"].value=_g40.y,this["#cy-input"].suffix=_b48,this["#cy-input"].step=_m45),!1===this.Vf){var _t1756=this["#r1-aspect-ratio-button"].toggled?Jb(_a241,_h200*(_o383/_l321)):_a241,_e1242=new DOMPoint(_s668+_o383,_n480);_e1242=_e1242.matrixTransform(_u61),_e1242=_e1242.matrixTransform(_x142);var _i1136=new DOMPoint(_s668+_t1756,_n480);_i1136=_i1136.matrixTransform(_u61),_i1136=_i1136.matrixTransform(_x142),this["#r1x-input"].max=K(new Z(_g40,_i1136).length,_c84),this["#r1x-input"].value=K(new Z(_g40,_e1242).length,_c84),this["#r1x-input"].suffix=_b48,this["#r1x-input"].step=_m45;}if(!1===this.jf){var _t1757=this["#r1-aspect-ratio-button"].toggled?Jb(_h200,_a241*(_l321/_o383)):_h200,_e1243=new DOMPoint(_s668,_n480+_l321);_e1243=_e1243.matrixTransform(_u61),_e1243=_e1243.matrixTransform(_x142);var _i1137=new DOMPoint(_s668,_n480+_t1757);_i1137=_i1137.matrixTransform(_u61),_i1137=_i1137.matrixTransform(_x142),this["#r1y-input"].max=K(new Z(_g40,_i1137).length,_c84),this["#r1y-input"].value=K(new Z(_g40,_e1243).length,_c84),this["#r1y-input"].suffix=_b48,this["#r1y-input"].step=_m45;}if(!1===this.Hf){var _t1758=this["#r2-aspect-ratio-button"].toggled?tm(_o383,_l321*(_a241/_h200)):_o383,_e1244=new DOMPoint(_s668+_a241,_n480);_e1244=_e1244.matrixTransform(_u61),_e1244=_e1244.matrixTransform(_x142);var _i1138=new DOMPoint(_s668+_t1758,_n480);_i1138=_i1138.matrixTransform(_u61),_i1138=_i1138.matrixTransform(_x142),this["#r2x-input"].min=K(new Z(_g40,_i1138).length,_c84),this["#r2x-input"].value=K(new Z(_g40,_e1244).length,_c84),this["#r2x-input"].suffix=_b48,this["#r2x-input"].step=_m45;}if(!1===this.Yf){var _t1759=this["#r2-aspect-ratio-button"].toggled?tm(_l321,_o383*(_h200/_a241)):_l321,_e1245=new DOMPoint(_s668,_n480+_h200);_e1245=_e1245.matrixTransform(_u61),_e1245=_e1245.matrixTransform(_x142);var _i1139=new DOMPoint(_s668,_n480+_t1759);_i1139=_i1139.matrixTransform(_u61),_i1139=_i1139.matrixTransform(_x142),this["#r2y-input"].min=K(new Z(_g40,_i1139).length,_c84),this["#r2y-input"].value=K(new Z(_g40,_e1245).length,_c84),this["#r2y-input"].suffix=_b48,this["#r2y-input"].step=_m45;}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return im;}(xb);_defineProperty(im,"_shadowTemplate",qi(_templateObject359()));_defineProperty(im,"_shadowStyleSheet",Xi(_templateObject360()));customElements.define("bx-ringgeometryinspector",im);var sm=Math.pow;var nm=/*#__PURE__*/function(_xb19){_inherits(nm,_xb19);var _super149=_createSuper(nm);function nm(){var _this709;_classCallCheck(this,nm);_this709=_super149.call(this),_this709.dg=!1,_this709.cg=!1,_this709.bg=!1,_this709.mg=!1,_this709.Bf=!1,_this709.Rf=!1,_this709._h=Ki(_this709.qs,200,_assertThisInitialized(_this709)),_this709["#cx-input"].addEventListener("changestart",function(){return _this709.pg();}),_this709["#cy-input"].addEventListener("changestart",function(){return _this709.ug();}),_this709["#r1-input"].addEventListener("changestart",function(){return _this709.vg();}),_this709["#r2-input"].addEventListener("changestart",function(){return _this709.yg();}),_this709["#start-angle-input"].addEventListener("changestart",function(){return _this709.Jf();}),_this709["#end-angle-input"].addEventListener("changestart",function(){return _this709.tw();});return _this709;}_createClass(nm,[{key:"tn",value:function tn(){var _this710=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this710._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this710._h();}),this.Jm.addEventListener("spacebuttonstoggle",this.ng=function(){_this710._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Jm.removeEventListener("spacebuttonstoggle",this.ng);}},{key:"pg",value:function pg(){var _this711=this;var t,_e1246,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values59=_slicedToArray(bl(s).values,6),n=_bl$values59[0],o=_bl$values59[1],l=_bl$values59[2],a=_bl$values59[3],h=_bl$values59[4],r=_bl$values59[5],_this$Jm71=this.Jm,d=_this$Jm71.displaySpace,c=_this$Jm71.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.vectorCanvas);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.dg=!0,this["#cx-input"].addEventListener("change",t=function t(_t1760){var e=new DOMPoint(_this711["#cx-input"].value,_this711["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Pe(e,p),n=e.x,o=e.y,_ml(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#cx-input"].addEventListener("changeend",_e1246=function e(){_this711["#cx-input"].removeEventListener("change",t),_this711["#cx-input"].removeEventListener("changeend",_e1246),_this711.dg=!1;});}},{key:"ug",value:function ug(){var _this712=this;var t,_e1247,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values60=_slicedToArray(bl(s).values,6),n=_bl$values60[0],o=_bl$values60[1],l=_bl$values60[2],a=_bl$values60[3],h=_bl$values60[4],r=_bl$values60[5],_this$Jm72=this.Jm,d=_this$Jm72.displaySpace,c=_this$Jm72.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.currentWorkspace);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral center"),this.cg=!0,this["#cy-input"].addEventListener("change",t=function t(_t1761){var e=new DOMPoint(_this712["#cx-input"].value,_this712["#cy-input"].value);e=e.matrixTransform(u),e=e.matrixTransform(b),e=Pe(e,p),n=e.x,o=e.y,_ml(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#cy-input"].addEventListener("changeend",_e1247=function e(){_this712["#cy-input"].removeEventListener("change",t),_this712["#cy-input"].removeEventListener("changeend",_e1247),_this712.cg=!1;});}},{key:"vg",value:function vg(){var _this713=this;var t,_e1248,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values61=_slicedToArray(bl(s).values,6),n=_bl$values61[0],o=_bl$values61[1],l=_bl$values61[2],a=_bl$values61[3],h=_bl$values61[4],r=_bl$values61[5],_this$Jm73=this.Jm,d=_this$Jm73.displaySpace,c=_this$Jm73.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.currentWorkspace);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral inner radius"),this.bg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r1-input"].addEventListener("change",t=function t(_t1762){var e=new Z(m,g);e.length=_this713["#r1-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),l=K(e.length,p),_ml(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#r1-input"].addEventListener("changeend",_e1248=function e(){_this713["#r1-input"].removeEventListener("change",t),_this713["#r1-input"].removeEventListener("changeend",_e1248),_this713.bg=!1;});}},{key:"yg",value:function yg(){var _this714=this;var t,_e1249,i=this.Js.board,s=i.outermostSelectedElements[0],_bl$values62=_slicedToArray(bl(s).values,6),n=_bl$values62[0],o=_bl$values62[1],l=_bl$values62[2],a=_bl$values62[3],h=_bl$values62[4],r=_bl$values62[5],_this$Jm74=this.Jm,d=_this$Jm74.displaySpace,c=_this$Jm74.displayUnit,p=i.geometryPrecision,u=Xt(c,"px"),x=jt(s,i.currentWorkspace);"viewport"===d&&(x=qt(i.currentWorkspace).multiply(x));var b=x.inverse();i.undoManager.checkpoint("Spiral outer radius"),this.mg=!0;var m=new DOMPoint(n,o);m=m.matrixTransform(x),m=m.matrixTransform(u);var g=new DOMPoint(n+100,o);g=g.matrixTransform(x),g=g.matrixTransform(u),this["#r2-input"].addEventListener("change",t=function t(_t1763){var e=new Z(m,g);e.length=_this714["#r2-input"].value,e=e.matrixTransform(u),e=e.matrixTransform(b),a=K(e.length,p),_ml(s,{type:"spiral",values:[n,o,l,a,h,r]});}),this["#r2-input"].addEventListener("changeend",_e1249=function e(){_this714["#r2-input"].removeEventListener("change",t),_this714["#r2-input"].removeEventListener("changeend",_e1249),_this714.mg=!1;});}},{key:"Jf",value:function Jf(){var _this715=this;var t,_e1250,i=this.Js.board,s=[],n=Symbol();var _iterator1173=_createForOfIteratorHelper(i.outermostSelectedElements),_step1173;try{for(_iterator1173.s();!(_step1173=_iterator1173.n()).done;){var _t1766=_step1173.value;if("path"===_t1766.localName){var _e1251=bl(_t1766);_e1251&&"spiral"===_e1251.type&&(_t1766[n]=_e1251,s.push(_t1766));}}}catch(err){_iterator1173.e(err);}finally{_iterator1173.f();}i.undoManager.checkpoint("Spiral start angle"),this.Bf=!0,this["#start-angle-input"].addEventListener("change",t=function t(_t1765){var _iterator1174=_createForOfIteratorHelper(s),_step1174;try{for(_iterator1174.s();!(_step1174=_iterator1174.n()).done;){var _t1764=_step1174.value;_t1764[n].values[4]=_this715["#start-angle-input"].value,_ml(_t1764,_t1764[n]);}}catch(err){_iterator1174.e(err);}finally{_iterator1174.f();}}),this["#start-angle-input"].addEventListener("changeend",_e1250=function e(){_this715["#start-angle-input"].removeEventListener("change",t),_this715["#start-angle-input"].removeEventListener("changeend",_e1250),_this715.Bf=!1;});}},{key:"tw",value:function tw(){var _this716=this;var t,_e1252,i=this.Js.board,s=[],n=Symbol();var _iterator1175=_createForOfIteratorHelper(i.outermostSelectedElements),_step1175;try{for(_iterator1175.s();!(_step1175=_iterator1175.n()).done;){var _t1769=_step1175.value;if("path"===_t1769.localName){var _e1253=bl(_t1769);_e1253&&"spiral"===_e1253.type&&(_t1769[n]=_e1253,s.push(_t1769));}}}catch(err){_iterator1175.e(err);}finally{_iterator1175.f();}i.undoManager.checkpoint("Spiral end angle"),this.Rf=!0,this["#end-angle-input"].addEventListener("change",t=function t(_t1768){var _iterator1176=_createForOfIteratorHelper(s),_step1176;try{for(_iterator1176.s();!(_step1176=_iterator1176.n()).done;){var _t1767=_step1176.value;_t1767[n].values[5]=_this716["#end-angle-input"].value,_ml(_t1767,_t1767[n]);}}catch(err){_iterator1176.e(err);}finally{_iterator1176.f();}}),this["#end-angle-input"].addEventListener("changeend",_e1252=function e(){_this716["#end-angle-input"].removeEventListener("change",t),_this716["#end-angle-input"].removeEventListener("changeend",_e1252),_this716.Rf=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements;if(0===e.length||"path"!==e[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _i1140=bl(e[0]);if(_i1140&&"spiral"===_i1140.type){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _i1140$values=_slicedToArray(_i1140.values,6),_s669=_i1140$values[0],_n481=_i1140$values[1],_o384=_i1140$values[2],_l322=_i1140$values[3],_a242=_i1140$values[4],_h201=_i1140$values[5],_this$Jm75=this.Jm,_r136=_this$Jm75.displayUnit,_d109=_this$Jm75.displaySpace,_c85=_this$Jm75.displayPrecision,_p75=e[0],_u62=jt(_p75,t.currentWorkspace),_x143=Xt("px",_r136),_b49=_r136?" "+_r136:"",_m46=1/sm(10,_c85-1);"viewport"===_d109&&(_u62=qt(t.currentWorkspace).multiply(_u62));var _g41=new DOMPoint(_s669,_n481);_g41=_g41.matrixTransform(_u62),_g41=_g41.matrixTransform(_x143),_g41=Pe(_g41,_c85);var _f29=new DOMPoint(_s669+_o384,_n481);_f29=_f29.matrixTransform(_u62),_f29=_f29.matrixTransform(_x143);var _w24=new DOMPoint(_s669+_l322,_n481);_w24=_w24.matrixTransform(_u62),_w24=_w24.matrixTransform(_x143),!1===this.dg&&(this["#cx-input"].value=_g41.x,this["#cx-input"].suffix=_b49,this["#cx-input"].step=_m46),!1===this.cg&&(this["#cy-input"].value=_g41.y,this["#cy-input"].suffix=_b49,this["#cy-input"].step=_m46),!1===this.bg&&(this["#r1-input"].max=K(new Z(_g41,_w24).length,_c85),this["#r1-input"].value=K(new Z(_g41,_f29).length,_c85),this["#r1-input"].suffix=_b49,this["#r1-input"].step=_m46),!1===this.mg&&(this["#r2-input"].min=K(new Z(_g41,_f29).length,_c85),this["#r2-input"].value=K(new Z(_g41,_w24).length,_c85),this["#r2-input"].suffix=_b49,this["#r2-input"].step=_m46),!1===this.Bf&&(this["#start-angle-input"].max=K(_h201,2),this["#start-angle-input"].value=K(_a242,2)),!1===this.Rf&&(this["#end-angle-input"].min=K(_a242,2),this["#end-angle-input"].value=K(_h201,2));}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return nm;}(xb);_defineProperty(nm,"_shadowTemplate",qi(_templateObject361()));_defineProperty(nm,"_shadowStyleSheet",Xi(_templateObject362()));customElements.define("bx-spiralgeometryinspector",nm);var om=/*#__PURE__*/function(_xb20){_inherits(om,_xb20);var _super150=_createSuper(om);function om(){var _this717;_classCallCheck(this,om);_this717=_super150.call(this),_this717.Of=!1,_this717.ew=!1,_this717._h=Ki(_this717.qs,200,_assertThisInitialized(_this717)),_this717["#arms-section"].addEventListener("changestart",function(){return _this717.Ap();}),_this717["#depth-section"].addEventListener("changestart",function(){return _this717.Ip();});return _this717;}_createClass(om,[{key:"tn",value:function tn(){var _this718=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this718._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this718._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Ap",value:function Ap(){var _this719=this;var t,_e1254,i=this.Js.board,s=[],n=Symbol();var _iterator1177=_createForOfIteratorHelper(i.outermostSelectedElements),_step1177;try{for(_iterator1177.s();!(_step1177=_iterator1177.n()).done;){var _t1772=_step1177.value;if("path"===_t1772.localName){var _e1255=bl(_t1772);_e1255&&"star"===_e1255.type&&(_t1772[n]=_e1255,s.push(_t1772));}}}catch(err){_iterator1177.e(err);}finally{_iterator1177.f();}i.undoManager.checkpoint("Star arms"),this.Of=!0,this["#arms-section"].addEventListener("change",t=function t(_t1771){_t1771.target===_this719["#arms-slider"]?_this719["#arms-input"].value=_this719["#arms-slider"].value:_t1771.target===_this719["#arms-input"]&&(_this719["#arms-slider"].value=_this719["#arms-input"].value);var _iterator1178=_createForOfIteratorHelper(s),_step1178;try{for(_iterator1178.s();!(_step1178=_iterator1178.n()).done;){var _t1770=_step1178.value;_t1770[n].values[5]=_this719["#arms-input"].value,_ml(_t1770,_t1770[n]);}}catch(err){_iterator1178.e(err);}finally{_iterator1178.f();}}),this["#arms-section"].addEventListener("changeend",_e1254=function e(){_this719["#arms-section"].removeEventListener("change",t),_this719["#arms-section"].removeEventListener("changeend",_e1254),_this719.Of=!1;});}},{key:"Ip",value:function Ip(){var _this720=this;var t,_e1256,i=this.Js.board,s=[],n=Symbol();var _iterator1179=_createForOfIteratorHelper(i.outermostSelectedElements),_step1179;try{for(_iterator1179.s();!(_step1179=_iterator1179.n()).done;){var _t1775=_step1179.value;if("path"===_t1775.localName){var _e1257=bl(_t1775);_e1257&&"star"===_e1257.type&&(_t1775[n]=_e1257,s.push(_t1775));}}}catch(err){_iterator1179.e(err);}finally{_iterator1179.f();}i.undoManager.checkpoint("Star depth"),this.ew=!0,this["#depth-section"].addEventListener("change",t=function t(_t1774){_t1774.target===_this720["#depth-slider"]?_this720["#depth-input"].value=_this720["#depth-slider"].value:_t1774.target===_this720["#depth-input"]&&(_this720["#depth-slider"].value=_this720["#depth-input"].value);var _iterator1180=_createForOfIteratorHelper(s),_step1180;try{for(_iterator1180.s();!(_step1180=_iterator1180.n()).done;){var _t1773=_step1180.value;_t1773[n].values[4]=_this720["#depth-slider"].value,_ml(_t1773,_t1773[n]);}}catch(err){_iterator1180.e(err);}finally{_iterator1180.f();}}),this["#depth-section"].addEventListener("changeend",_e1256=function e(){_this720["#depth-section"].removeEventListener("change",t),_this720["#depth-section"].removeEventListener("changeend",_e1256),_this720.ew=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Of&&!1===this.ew)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1258=bl(t[0]);if(_e1258&&"star"===_e1258.type){t[0];var _e1258$values=_slicedToArray(_e1258.values,6),_i1141=_e1258$values[0],_s670=_e1258$values[1],_n482=_e1258$values[2],_o385=_e1258$values[3],_l323=_e1258$values[4],_a243=_e1258$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arms-slider"].value=K(_a243,0),this["#arms-input"].value=K(_a243,0),this["#depth-slider"].value=K(_l323,this.Jm.displayPrecision),this["#depth-input"].value=K(_l323,this.Jm.displayPrecision);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return om;}(xb);_defineProperty(om,"_shadowTemplate",qi(_templateObject363()));_defineProperty(om,"_shadowStyleSheet",Xi(_templateObject364()));customElements.define("bx-stargeometryinspector",om);var lm=Number.isFinite;var am=/*#__PURE__*/function(_xb21){_inherits(am,_xb21);var _super151=_createSuper(am);function am(){var _this721;_classCallCheck(this,am);_this721=_super151.call(this),_this721.Jg=!1,_this721.tf=!1,_this721.ef=!1,_this721["if"]=!1,_this721.sf=!1,_this721.nf=!1,_this721.rf=null,_this721.df=null,_this721.pf=Ki(_this721.qs,100,_assertThisInitialized(_this721)),_this721["#viewport-width-input"].addEventListener("changestart",function(){return _this721.uf();}),_this721["#viewport-height-input"].addEventListener("changestart",function(){return _this721.xf();}),_this721["#viewport-lock-button"].addEventListener("toggle",function(){return _this721.bf();}),_this721["#viewport-units-select"].addEventListener("change",function(){return _this721.mf();}),_this721["#viewbox-x-input"].addEventListener("changestart",function(t){return _this721.gf(t);}),_this721["#viewbox-y-input"].addEventListener("changestart",function(t){return _this721.ff(t);}),_this721["#viewbox-width-input"].addEventListener("changestart",function(t){return _this721.wf(t);}),_this721["#viewbox-height-input"].addEventListener("changestart",function(t){return _this721.vf(t);}),_this721["#viewbox-switch"].addEventListener("toggle",function(){return _this721.yf();}),_this721["#viewbox-lock-button"].addEventListener("toggle",function(){return _this721.kf();}),_this721["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this721.Sf();}),_this721["#align-buttons"].addEventListener("toggle",function(){return _this721._f();}),_this721["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this721.Cf();});return _this721;}_createClass(am,[{key:"tn",value:function tn(){var _this722=this;this.qs(),this["#viewport-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewport",!1),this["#viewport-lock-icon"].name=this["#viewport-lock-button"].toggled?"lock-on":"lock-off",this["#viewbox-lock-button"].toggled=app.getConfig("bx-svggeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this722.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this722.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"uf",value:function uf(){var _this723=this;var t,_e1259,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-width-input"].value&&null!==this["#viewport-height-input"].value&&(n=this["#viewport-height-input"].value/this["#viewport-width-input"].value,!1===lm(n)&&(n=1)),i.undoManager.checkpoint("Viewport width"),this.Jg=!0,this["#viewport-width-input"].addEventListener("change",t=function t(){if(null===_this723["#viewport-width-input"].value)_this723.iw(null);else{var _t1776=new Tt(K(_this723["#viewport-width-input"].value,s),o);if(_this723.iw(_t1776),null!==n){var _t1777=new Tt(K(_this723["#viewport-width-input"].value*n,s),o);_this723.sw(_t1777);}}}),this["#viewport-width-input"].addEventListener("changeend",_e1259=function e(){_this723["#viewport-width-input"].removeEventListener("change",t),_this723["#viewport-width-input"].removeEventListener("changeend",_e1259),_this723.Jg=!1;});}},{key:"xf",value:function xf(){var _this724=this;var t,_e1260,i=this.Js.board,s=i.geometryPrecision,n=null,o=this["#viewport-units-select"].value;this["#viewport-lock-button"].toggled&&null!==this["#viewport-height-input"].value&&null!==this["#viewport-width-input"].value&&(n=this["#viewport-width-input"].value/this["#viewport-height-input"].value,!1===lm(n)&&(n=1)),i.undoManager.checkpoint("Viewport height"),this.tf=!0,this["#viewport-height-input"].addEventListener("change",t=function t(){if(null===_this724["#viewport-height-input"].value)_this724.sw(null);else{var _t1778=new Tt(K(_this724["#viewport-height-input"].value,s),o);if(_this724.sw(_t1778),null!==n){var _t1779=new Tt(K(_this724["#viewport-height-input"].value*n,s),o);_this724.iw(_t1779);}}}),this["#viewport-height-input"].addEventListener("changeend",_e1260=function e(){_this724["#viewport-height-input"].removeEventListener("change",t),_this724["#viewport-height-input"].removeEventListener("changeend",_e1260),_this724.tf=!1;});}},{key:"bf",value:function bf(){var t=this["#viewport-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewport",t),this["#viewport-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"mf",value:function mf(){var t=this.Js.board,e=t.getComputedViewportWidth(),i=t.getComputedViewportHeight(),s=!!e&&e.unit!==this["#viewport-units-select"].value,n=!!i&&i.unit!==this["#viewport-units-select"].value;(s||n)&&(t.undoManager.checkpoint("Viewport units"),s&&(e=e.toLength(this["#viewport-units-select"].value),e.value=K(e.value,this.Js.board.geometryPrecision),this.iw(e)),n&&(i=i.toLength(this["#viewport-units-select"].value),i.value=K(i.value,this.Js.board.geometryPrecision),this.sw(i)));}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this725=this;var e,_i1142,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){null!==_this725["#viewbox-x-input"].value&&(n.x=_this725["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-x-input"].addEventListener("changeend",_i1142=function i(){_this725["#viewbox-x-input"].removeEventListener("change",e),_this725["#viewbox-x-input"].removeEventListener("changeend",_i1142),_this725.ef=!1,_this725.qs();});}},{key:"ff",value:function ff(t){var _this726=this;var e,_i1143,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){null!==_this726["#viewbox-y-input"].value&&(n.y=_this726["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height)));}),this["#viewbox-y-input"].addEventListener("changeend",_i1143=function i(){_this726["#viewbox-y-input"].removeEventListener("change",e),_this726["#viewbox-y-input"].removeEventListener("changeend",_i1143),_this726["if"]=!1,_this726.qs();});}},{key:"wf",value:function wf(t){var _this727=this;var e,_i1144,_this$Js$board51=this.Js.board,s=_this$Js$board51.geometryPrecision,n=_this$Js$board51.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===lm(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){null!==_this727["#viewbox-width-input"].value&&(o.width=_this727["#viewbox-width-input"].value,null!==l&&(o.height=K(_this727["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-width-input"].addEventListener("changeend",_i1144=function i(){_this727["#viewbox-width-input"].removeEventListener("change",e),_this727["#viewbox-width-input"].removeEventListener("changeend",_i1144),_this727.sf=!1,_this727.qs();});}},{key:"vf",value:function vf(t){var _this728=this;var e,_i1145,_this$Js$board52=this.Js.board,s=_this$Js$board52.geometryPrecision,n=_this$Js$board52.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===lm(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){null!==_this728["#viewbox-height-input"].value&&(o.height=_this728["#viewbox-height-input"].value,null!==l&&(o.width=K(_this728["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height)));}),this["#viewbox-height-input"].addEventListener("changeend",_i1145=function i(){_this728["#viewbox-height-input"].removeEventListener("change",e),_this728["#viewbox-height-input"].removeEventListener("changeend",_i1145),_this728.nf=!1,_this728.qs();});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-svggeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s671=e;"none"!==_s671&&"slice"===i&&(_s671+=" slice"),t.setAttribute("preserveAspectRatio",_s671);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s672=e;"none"!==_s672&&"slice"===i&&(_s672+=" slice"),t.setAttribute("preserveAspectRatio",_s672);}}},{key:"iw",value:function iw(t){var e=this.Js.board.currentWorkspace;e.style.width=null,t?e.setAttribute("width",t.toString()):e.removeAttribute("width");}},{key:"sw",value:function sw(t){var e=this.Js.board.currentWorkspace;e.style.height=null,t?e.setAttribute("height",t.toString()):e.removeAttribute("height");}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("master"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));{var _e1261=t.getComputedViewportWidth(),_i1146=t.getComputedViewportHeight();null!==_e1261&&null!==_i1146?(_i1146=_i1146.toLength(_e1261.unit),!1===this.Jg&&(this["#viewport-width-input"].value=K(_e1261.value,o),this["#viewport-width-input"].suffix=" "+_e1261.unit),!1===this.tf&&(this["#viewport-height-input"].value=K(_i1146.value,o),this["#viewport-height-input"].suffix=" "+_e1261.unit),this["#viewport-lock-button"].disabled=!1,this["#viewport-units-select"].value=_e1261.unit):null!==_e1261&&null===_i1146?(!1===this.Jg&&(this["#viewport-width-input"].value=K(_e1261.value,o),this["#viewport-width-input"].suffix=" "+_e1261.unit),!1===this.tf&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_e1261.unit):null===_e1261&&null!==_i1146?(!1===this.Jg&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.tf&&(this["#viewport-height-input"].value=K(_i1146.value,o),this["#viewport-height-input"].suffix=" "+_i1146.unit),this["#viewport-lock-button"].disabled=!0,this["#viewport-units-select"].value=_i1146.unit):null===_e1261&&null===_i1146&&(!1===this.Jg&&(this["#viewport-width-input"].value=null,this["#viewport-width-input"].suffix=""),!1===this.tf&&(this["#viewport-height-input"].value=null,this["#viewport-height-input"].suffix=""),this["#viewport-lock-button"].disabled=!0);}if(e.hasAttribute("viewBox")){var _Rt$fromString5=Rt.fromString(e.getAttribute("viewBox")),_t1780=_Rt$fromString5.x,_i1147=_Rt$fromString5.y,_s673=_Rt$fromString5.width,_n483=_Rt$fromString5.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=K(_t1780,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=K(_i1147,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=K(_s673,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=K(_n483,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1781=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_It$fromString4=It.fromString(_t1781),_i1148=_It$fromString4.align,_s674=_It$fromString4.meetOrSlice;"none"===_i1148?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1148,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s674,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return am;}(xb);_defineProperty(am,"_shadowTemplate",qi(_templateObject365()));_defineProperty(am,"_shadowStyleSheet",Xi(_templateObject366()));customElements.define("bx-svggeometryinspector",am);var hm=/*#__PURE__*/function(_xb22){_inherits(hm,_xb22);var _super152=_createSuper(hm);function hm(){var _this729;_classCallCheck(this,hm);_this729=_super152.call(this),_this729.ef=!1,_this729["if"]=!1,_this729.sf=!1,_this729.nf=!1,_this729.rf=null,_this729.df=null,_this729.pf=Ki(_this729.qs,100,_assertThisInitialized(_this729)),_this729["#viewbox-x-input"].addEventListener("changestart",function(t){return _this729.gf(t);}),_this729["#viewbox-y-input"].addEventListener("changestart",function(t){return _this729.ff(t);}),_this729["#viewbox-width-input"].addEventListener("changestart",function(t){return _this729.wf(t);}),_this729["#viewbox-height-input"].addEventListener("changestart",function(t){return _this729.vf(t);}),_this729["#viewbox-switch"].addEventListener("toggle",function(){return _this729.yf();}),_this729["#viewbox-lock-button"].addEventListener("toggle",function(){return _this729.kf();}),_this729["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this729.Sf();}),_this729["#align-buttons"].addEventListener("toggle",function(){return _this729._f();}),_this729["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this729.Cf();});return _this729;}_createClass(hm,[{key:"tn",value:function tn(){var _this730=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-symbolgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this730.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this730.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"yf",value:function yf(){var t=this.Js.board;t.undoManager.checkpoint("View box"),this["#viewbox-switch"].toggled?this.rf?t.currentWorkspace.setAttribute("viewBox",this.rf):t.currentWorkspace.setAttribute("viewBox","0 0 500 500"):(this.rf=t.currentWorkspace.getAttribute("viewBox"),t.currentWorkspace.removeAttribute("viewBox"));}},{key:"gf",value:function gf(t){var _this731=this;var e,_i1149,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this731["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1149=function i(){_this731["#viewbox-x-input"].removeEventListener("change",e),_this731["#viewbox-x-input"].removeEventListener("changeend",_i1149),_this731.ef=!1;});}},{key:"ff",value:function ff(t){var _this732=this;var e,_i1150,s=this.Js.board.currentWorkspace,n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this732["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1150=function i(){_this732["#viewbox-y-input"].removeEventListener("change",e),_this732["#viewbox-y-input"].removeEventListener("changeend",_i1150),_this732["if"]=!1;});}},{key:"wf",value:function wf(t){var _this733=this;var e,_i1151,_this$Js$board53=this.Js.board,s=_this$Js$board53.geometryPrecision,n=_this$Js$board53.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){o.width=_this733["#viewbox-width-input"].value,null!==l&&(o.height=K(_this733["#viewbox-width-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1151=function i(){_this733["#viewbox-width-input"].removeEventListener("change",e),_this733["#viewbox-width-input"].removeEventListener("changeend",_i1151),_this733.sf=!1;});}},{key:"vf",value:function vf(t){var _this734=this;var e,_i1152,_this$Js$board54=this.Js.board,s=_this$Js$board54.geometryPrecision,n=_this$Js$board54.currentWorkspace,o=Rt.fromString(n.getAttribute("viewBox")||"0 0 0 0"),l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){o.height=_this734["#viewbox-height-input"].value,null!==l&&(o.width=K(_this734["#viewbox-height-input"].value*l,s)),n.setAttribute("viewBox","".concat(o.x," ").concat(o.y," ").concat(o.width," ").concat(o.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1152=function i(){_this734["#viewbox-height-input"].removeEventListener("change",e),_this734["#viewbox-height-input"].removeEventListener("changeend",_i1152),_this734.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-symbolgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.currentWorkspace;this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s675=e;"none"!==_s675&&"slice"===i&&(_s675+=" slice"),t.setAttribute("preserveAspectRatio",_s675);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.currentWorkspace,e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s676=e;"none"!==_s676&&"slice"===i&&(_s676+=" slice"),t.setAttribute("preserveAspectRatio",_s676);}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.currentWorkspace,i=t.currentContainer,s=t.selectedElements,n=t.gridHud,o=this.Jm.displayPrecision;if("symbol"!==e.getAttribute("data-bx-workspace")||s.length>0||0===s.length&&null!==i||n.selected)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{if(!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),e.hasAttribute("viewBox")){var _Rt$fromString6=Rt.fromString(e.getAttribute("viewBox")),_t1782=_Rt$fromString6.x,_i1153=_Rt$fromString6.y,_s677=_Rt$fromString6.width,_n484=_Rt$fromString6.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-switch"].toggled=!0,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=K(_t1782,o),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=K(_i1153,o),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=K(_s677,o),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=K(_n484,o),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}else this["#viewbox-heading"].disabled=!0,this["#viewbox-switch"].toggled=!1,this["#viewbox-lock-button"].disabled=!0,this["#viewbox-x-input"].value=0,this["#viewbox-x-input"].disabled=!0,this["#viewbox-x-label"].disabled=!0,this["#viewbox-y-input"].value=0,this["#viewbox-y-input"].disabled=!0,this["#viewbox-y-label"].disabled=!0,this["#viewbox-width-input"].value=0,this["#viewbox-width-input"].disabled=!0,this["#viewbox-width-label"].disabled=!0,this["#viewbox-height-input"].value=0,this["#viewbox-height-input"].disabled=!0,this["#viewbox-height-label"].disabled=!0;if(!1===e.hasAttribute("viewBox"))this["#preserve-aspect-ratio-heading"].disabled=!0,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!0,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0;else{var _t1783=e.getAttribute("preserveAspectRatio")||"xMidYMid meet",_It$fromString5=It.fromString(_t1783),_i1154=_It$fromString5.align,_s678=_It$fromString5.meetOrSlice;"none"===_i1154?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1154,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s678,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}}}]);return hm;}(xb);_defineProperty(hm,"_shadowTemplate",qi(_templateObject367()));_defineProperty(hm,"_shadowStyleSheet",Xi(_templateObject368()));customElements.define("bx-symbolgeometryinspector",hm);var rm=/*#__PURE__*/function(_xb23){_inherits(rm,_xb23);var _super153=_createSuper(rm);function rm(){var _this735;_classCallCheck(this,rm);_this735=_super153.call(this),_this735.nw=!1,_this735.ow=!1,_this735._h=Ki(_this735.qs,200,_assertThisInitialized(_this735)),_this735["#arch-section"].addEventListener("changestart",function(){return _this735.Mp();}),_this735["#hollow-section"].addEventListener("changestart",function(){return _this735.Pp();});return _this735;}_createClass(rm,[{key:"tn",value:function tn(){var _this736=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this736._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this736._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Mp",value:function Mp(){var _this737=this;var t,_e1262,i=this.Js.board,s=[],n=Symbol();var _iterator1181=_createForOfIteratorHelper(i.outermostSelectedElements),_step1181;try{for(_iterator1181.s();!(_step1181=_iterator1181.n()).done;){var _t1786=_step1181.value;if("path"===_t1786.localName){var _e1263=bl(_t1786);_e1263&&"crescent"===_e1263.type&&(_t1786[n]=_e1263,s.push(_t1786));}}}catch(err){_iterator1181.e(err);}finally{_iterator1181.f();}i.undoManager.checkpoint("Crescent arch"),this.nw=!0,this["#arch-section"].addEventListener("change",t=function t(_t1785){_t1785.target===_this737["#arch-slider"]?_this737["#arch-input"].value=_this737["#arch-slider"].value:_t1785.target===_this737["#arch-input"]&&(_this737["#arch-slider"].value=_this737["#arch-input"].value);var _iterator1182=_createForOfIteratorHelper(s),_step1182;try{for(_iterator1182.s();!(_step1182=_iterator1182.n()).done;){var _t1784=_step1182.value;_t1784[n].values[3]=_this737["#arch-slider"].value,_ml(_t1784,_t1784[n],i.geometryPrecision);}}catch(err){_iterator1182.e(err);}finally{_iterator1182.f();}}),this["#arch-section"].addEventListener("changeend",_e1262=function e(){_this737["#arch-section"].removeEventListener("change",t),_this737["#arch-section"].removeEventListener("changeend",_e1262),_this737.nw=!1;});}},{key:"Pp",value:function Pp(){var _this738=this;var t,_e1264,i=this.Js.board,s=[],n=Symbol();var _iterator1183=_createForOfIteratorHelper(i.outermostSelectedElements),_step1183;try{for(_iterator1183.s();!(_step1183=_iterator1183.n()).done;){var _t1789=_step1183.value;if("path"===_t1789.localName){var _e1265=bl(_t1789);_e1265&&"crescent"===_e1265.type&&(_t1789[n]=_e1265,s.push(_t1789));}}}catch(err){_iterator1183.e(err);}finally{_iterator1183.f();}i.undoManager.checkpoint("Crescent hollow"),this.ow=!0,this["#hollow-section"].addEventListener("change",t=function t(_t1788){_t1788.target===_this738["#hollow-slider"]?_this738["#hollow-input"].value=_this738["#hollow-slider"].value:_t1788.target===_this738["#hollow-input"]&&(_this738["#hollow-slider"].value=_this738["#hollow-input"].value);var _iterator1184=_createForOfIteratorHelper(s),_step1184;try{for(_iterator1184.s();!(_step1184=_iterator1184.n()).done;){var _t1787=_step1184.value;_t1787[n].values[4]=_this738["#hollow-slider"].value/100,_ml(_t1787,_t1787[n],i.geometryPrecision);}}catch(err){_iterator1184.e(err);}finally{_iterator1184.f();}}),this["#hollow-section"].addEventListener("changeend",_e1264=function e(){_this738["#hollow-section"].removeEventListener("change",t),_this738["#hollow-section"].removeEventListener("changeend",_e1264),_this738.ow=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.nw&&!1===this.ow)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1266=bl(t[0]);if(_e1266&&"crescent"===_e1266.type){t[0];var _e1266$values=_slicedToArray(_e1266.values,5),_i1155=_e1266$values[0],_s679=_e1266$values[1],_n485=_e1266$values[2],_o386=_e1266$values[3],_l324=_e1266$values[4];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#arch-slider"].value=K(_o386,0),this["#arch-input"].value=K(_o386,0),this["#hollow-slider"].value=K(100*_l324,2),this["#hollow-input"].value=K(100*_l324,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return rm;}(xb);_defineProperty(rm,"_shadowTemplate",qi(_templateObject369()));_defineProperty(rm,"_shadowStyleSheet",Xi(_templateObject370()));customElements.define("bx-crescentgeometryinspector",rm);var dm=/*#__PURE__*/function(_xb24){_inherits(dm,_xb24);var _super154=_createSuper(dm);function dm(){var _this739;_classCallCheck(this,dm);_this739=_super154.call(this),_this739.Cg=!1,_this739.Ef=!1,_this739._h=Ki(_this739.qs,200,_assertThisInitialized(_this739)),_this739["#shift-section"].addEventListener("changestart",function(){return _this739.Op();}),_this739["#corner-section"].addEventListener("changestart",function(){return _this739.Ep();});return _this739;}_createClass(dm,[{key:"tn",value:function tn(){var _this740=this;this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this740._h();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this740._h();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Op",value:function Op(){var _this741=this;var t,_e1267,i=this.Js.board,s=[],n=Symbol();var _iterator1185=_createForOfIteratorHelper(i.outermostSelectedElements),_step1185;try{for(_iterator1185.s();!(_step1185=_iterator1185.n()).done;){var _t1792=_step1185.value;if("path"===_t1792.localName){var _e1268=bl(_t1792);_e1268&&"triangle"===_e1268.type&&(_t1792[n]=_e1268,s.push(_t1792));}}}catch(err){_iterator1185.e(err);}finally{_iterator1185.f();}i.undoManager.checkpoint("Triangle shift"),this.Cg=!0,this["#shift-section"].addEventListener("change",t=function t(_t1791){_t1791.target===_this741["#shift-slider"]?_this741["#shift-input"].value=_this741["#shift-slider"].value:_t1791.target===_this741["#shift-input"]&&(_this741["#shift-slider"].value=_this741["#shift-input"].value);var _iterator1186=_createForOfIteratorHelper(s),_step1186;try{for(_iterator1186.s();!(_step1186=_iterator1186.n()).done;){var _t1790=_step1186.value;_t1790[n].values[4]=_this741["#shift-slider"].value,_ml(_t1790,_t1790[n]);}}catch(err){_iterator1186.e(err);}finally{_iterator1186.f();}}),this["#shift-section"].addEventListener("changeend",_e1267=function e(){_this741["#shift-section"].removeEventListener("change",t),_this741["#shift-section"].removeEventListener("changeend",_e1267),_this741.Cg=!1;});}},{key:"Ep",value:function Ep(){var _this742=this;var t,_e1269,i=this.Js.board,s=[],n=Symbol();var _iterator1187=_createForOfIteratorHelper(i.outermostSelectedElements),_step1187;try{for(_iterator1187.s();!(_step1187=_iterator1187.n()).done;){var _t1795=_step1187.value;if("path"===_t1795.localName){var _e1270=bl(_t1795);_e1270&&"triangle"===_e1270.type&&(_t1795[n]=_e1270,s.push(_t1795));}}}catch(err){_iterator1187.e(err);}finally{_iterator1187.f();}i.undoManager.checkpoint("Triangle corner"),this.Ef=!0,this["#corner-section"].addEventListener("change",t=function t(_t1794){_t1794.target===_this742["#corner-slider"]?_this742["#corner-input"].value=_this742["#corner-slider"].value:_t1794.target===_this742["#corner-input"]&&(_this742["#corner-slider"].value=_this742["#corner-input"].value);var _iterator1188=_createForOfIteratorHelper(s),_step1188;try{for(_iterator1188.s();!(_step1188=_iterator1188.n()).done;){var _t1793=_step1188.value;_t1793[n].values[5]=_this742["#corner-slider"].value,_ml(_t1793,_t1793[n]);}}catch(err){_iterator1188.e(err);}finally{_iterator1188.f();}}),this["#corner-section"].addEventListener("changeend",_e1269=function e(){_this742["#corner-section"].removeEventListener("change",t),_this742["#corner-section"].removeEventListener("changeend",_e1269),_this742.Ef=!1;});}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(!1===this.Cg&&!1===this.Ef)if(0===t.length||"path"!==t[0].localName)!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));else{var _e1271=bl(t[0]);if(_e1271&&"triangle"===_e1271.type){t[0];var _e1271$values=_slicedToArray(_e1271.values,6),_i1156=_e1271$values[0],_s680=_e1271$values[1],_n486=_e1271$values[2],_o387=_e1271$values[3],_l325=_e1271$values[4],_a244=_e1271$values[5];!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0}))),this["#shift-slider"].value=K(_l325,2),this["#shift-input"].value=K(_l325,2),this["#corner-slider"].value=K(_a244,2),this["#corner-input"].value=K(_a244,2);}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}}]);return dm;}(xb);_defineProperty(dm,"_shadowTemplate",qi(_templateObject371()));_defineProperty(dm,"_shadowStyleSheet",Xi(_templateObject372()));customElements.define("bx-trianglegeometryinspector",dm);var cm=/*#__PURE__*/function(_xb25){_inherits(cm,_xb25);var _super155=_createSuper(cm);function cm(){var _this743;_classCallCheck(this,cm);_this743=_super155.call(this),_this743.ef=!1,_this743["if"]=!1,_this743.sf=!1,_this743.nf=!1,_this743.df=null,_this743.pf=Ki(_this743.qs,100,_assertThisInitialized(_this743)),_this743["#viewbox-x-input"].addEventListener("changestart",function(t){return _this743.gf(t);}),_this743["#viewbox-y-input"].addEventListener("changestart",function(t){return _this743.ff(t);}),_this743["#viewbox-width-input"].addEventListener("changestart",function(t){return _this743.wf(t);}),_this743["#viewbox-height-input"].addEventListener("changestart",function(t){return _this743.vf(t);}),_this743["#viewbox-lock-button"].addEventListener("toggle",function(){return _this743.kf();}),_this743["#preserve-aspect-ratio-switch"].addEventListener("toggle",function(){return _this743.Sf();}),_this743["#align-buttons"].addEventListener("toggle",function(){return _this743._f();}),_this743["#meet-or-slice-buttons"].addEventListener("toggle",function(){return _this743.Cf();});return _this743;}_createClass(cm,[{key:"tn",value:function tn(){var _this744=this;this.qs(),this["#viewbox-lock-button"].toggled=app.getConfig("bx-viewgeometryinspector:lockViewBox",!1),this["#viewbox-lock-icon"].name=this["#viewbox-lock-button"].toggled?"lock-on":"lock-off",this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this744.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this744.sl(t.detail);});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){this.pf();}},{key:"gf",value:function gf(t){var _this745=this;var e,_i1157,s=this.Js.board.outermostSelectedElements[0],n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this.ef=!0,this["#viewbox-x-input"].addEventListener("change",e=function e(){n.x=_this745["#viewbox-x-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-x-input"].addEventListener("changeend",_i1157=function i(){_this745["#viewbox-x-input"].removeEventListener("change",e),_this745["#viewbox-x-input"].removeEventListener("changeend",_i1157),_this745.ef=!1;});}},{key:"ff",value:function ff(t){var _this746=this;var e,_i1158,s=this.Js.board.outermostSelectedElements[0],n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0");this.Js.board.undoManager.checkpoint("View Box"),this["if"]=!0,this["#viewbox-y-input"].addEventListener("change",e=function e(){n.y=_this746["#viewbox-y-input"].value,s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-y-input"].addEventListener("changeend",_i1158=function i(){_this746["#viewbox-y-input"].removeEventListener("change",e),_this746["#viewbox-y-input"].removeEventListener("changeend",_i1158),_this746["if"]=!1;});}},{key:"wf",value:function wf(t){var _this747=this;var e,_i1159,s=this.Js.board.outermostSelectedElements[0],n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-width-input"].value&&null!==this["#viewbox-height-input"].value&&(l=this["#viewbox-height-input"].value/this["#viewbox-width-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.sf=!0,this["#viewbox-width-input"].addEventListener("change",e=function e(){n.width=_this747["#viewbox-width-input"].value,null!==l&&(n.height=K(_this747["#viewbox-width-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-width-input"].addEventListener("changeend",_i1159=function i(){_this747["#viewbox-width-input"].removeEventListener("change",e),_this747["#viewbox-width-input"].removeEventListener("changeend",_i1159),_this747.sf=!1;});}},{key:"vf",value:function vf(t){var _this748=this;var e,_i1160,s=this.Js.board.outermostSelectedElements[0],n=Rt.fromString(s.getAttribute("viewBox")||"0 0 0 0"),o=this.Js.board.geometryPrecision,l=null;this["#viewbox-lock-button"].toggled&&null!==this["#viewbox-height-input"].value&&null!==this["#viewbox-width-input"].value&&(l=this["#viewbox-width-input"].value/this["#viewbox-height-input"].value,!1===isFinite(l)&&(l=1)),this.Js.board.undoManager.checkpoint("View Box"),this.nf=!0,this["#viewbox-height-input"].addEventListener("change",e=function e(){n.height=_this748["#viewbox-height-input"].value,null!==l&&(n.width=K(_this748["#viewbox-height-input"].value*l,o)),s.setAttribute("viewBox","".concat(n.x," ").concat(n.y," ").concat(n.width," ").concat(n.height));}),this["#viewbox-height-input"].addEventListener("changeend",_i1160=function i(){_this748["#viewbox-height-input"].removeEventListener("change",e),_this748["#viewbox-height-input"].removeEventListener("changeend",_i1160),_this748.nf=!1;});}},{key:"kf",value:function kf(){var t=this["#viewbox-lock-button"].toggled;this.Qs.setConfig("bx-viewgeometryinspector:lockViewBox",t),this["#viewbox-lock-icon"].name=t?"lock-on":"lock-off";}},{key:"Sf",value:function Sf(){var t=this.Js.board.outermostSelectedElements[0];this.Js.board.undoManager.checkpoint("Preserve aspect ratio"),this["#preserve-aspect-ratio-switch"].toggled?this.df?t.setAttribute("preserveAspectRatio",this.df):t.removeAttribute("preserveAspectRatio"):(this.df=t.getAttribute("preserveAspectRatio"),t.setAttribute("preserveAspectRatio","none"));}},{key:"_f",value:function _f(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s681=e;"none"!==_s681&&"slice"===i&&(_s681+=" slice"),t.setAttribute("preserveAspectRatio",_s681);}}},{key:"Cf",value:function Cf(){var t=this.Js.board.outermostSelectedElements[0],e=this["#align-buttons"].value||"none",i=this["#meet-or-slice-buttons"].value;if(this.Js.board.undoManager.checkpoint("Aspect ratio"),"xMidYMid"===e&&"meet"===i)t.removeAttribute("preserveAspectRatio");else{var _s682=e;"none"!==_s682&&"slice"===i&&(_s682+=" slice"),t.setAttribute("preserveAspectRatio",_s682);}}},{key:"qs",value:function qs(){var t=this.Js.board.outermostSelectedElements;if(1===t.length&&"view"===t[0].localName){!0===this.hidden&&(this.hidden=!1,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));var _e1272=t[0],_i1161=this.Jm.displayPrecision;{var _Rt$fromString7=Rt.fromString(_e1272.getAttribute("viewBox")||"0 0 0 0"),_t1796=_Rt$fromString7.x,_s683=_Rt$fromString7.y,_n487=_Rt$fromString7.width,_o388=_Rt$fromString7.height;this["#viewbox-heading"].disabled=!1,this["#viewbox-lock-button"].disabled=!1,!1===this.ef&&(this["#viewbox-x-input"].value=K(_t1796,_i1161),this["#viewbox-x-input"].disabled=!1,this["#viewbox-x-label"].disabled=!1),!1===this["if"]&&(this["#viewbox-y-input"].value=K(_s683,_i1161),this["#viewbox-y-input"].disabled=!1,this["#viewbox-y-label"].disabled=!1),!1===this.sf&&(this["#viewbox-width-input"].value=K(_n487,_i1161),this["#viewbox-width-input"].disabled=!1,this["#viewbox-width-label"].disabled=!1),!1===this.nf&&(this["#viewbox-height-input"].value=K(_o388,_i1161),this["#viewbox-height-input"].disabled=!1,this["#viewbox-height-label"].disabled=!1);}{var _t1797=_e1272.getAttribute("preserveAspectRatio")||"xMidYMid meet",_It$fromString6=It.fromString(_t1797),_i1162=_It$fromString6.align,_s684=_It$fromString6.meetOrSlice;"none"===_i1162?(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!1,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=null,this["#align-buttons"].disabled=!0,this["#meet-or-slice-buttons"].value=null,this["#meet-button"].disabled=!0,this["#slice-button"].disabled=!0):(this["#preserve-aspect-ratio-heading"].disabled=!1,this["#preserve-aspect-ratio-switch"].toggled=!0,this["#preserve-aspect-ratio-switch"].disabled=!1,this["#align-buttons"].value=_i1162,this["#align-buttons"].disabled=!1,this["#meet-or-slice-buttons"].value=_s684,this["#meet-button"].disabled=!1,this["#slice-button"].disabled=!1);}}else!1===this.hidden&&(this.hidden=!0,this.dispatchEvent(new CustomEvent("hiddenchange",{bubbles:!0})));}}]);return cm;}(xb);_defineProperty(cm,"_shadowTemplate",qi(_templateObject373()));_defineProperty(cm,"_shadowStyleSheet",Xi(_templateObject374()));customElements.define("bx-viewgeometryinspector",cm);var pm=/*#__PURE__*/function(_HTMLElement102){_inherits(pm,_HTMLElement102);var _super156=_createSuper(pm);_createClass(pm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"displaySpace",get:function get(){var t=this.Js.board;if("master"===t.currentWorkspace.getAttribute("data-bx-workspace")){if("viewport"===this["#space-buttons"].value){var _e1273=t.getComputedViewportWidth(),_i1163=t.getComputedViewportHeight();return _e1273&&_i1163?"viewport":"canvas";}return"canvas";}return"canvas";}},{key:"displayUnit",get:function get(){var t=this.displaySpace;if("canvas"===t)return"";if("viewport"===t){return this.Js.board.getComputedViewportWidth().unit;}}},{key:"displayPrecision",get:function get(){var t=this.displayUnit;return"px"===t||"pt"===t||"q"===t||""===t?1:"mm"===t?2:"cm"===t||"in"===t||"pc"===t?3:void 0;}}]);function pm(){var _this749;_classCallCheck(this,pm);_this749=_super156.call(this),_this749._h=Ki(_this749.qs,200,_assertThisInitialized(_this749)),_this749._shadowRoot=_this749.attachShadow({mode:"closed"}),_this749._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,pm._shadowStyleSheet],_this749._shadowRoot.append(document.importNode(pm._shadowTemplate.content,!0));var _iterator1189=_createForOfIteratorHelper(_this749._shadowRoot.querySelectorAll("[id]")),_step1189;try{for(_iterator1189.s();!(_step1189=_iterator1189.n()).done;){var _t1798=_step1189.value;_this749["#"+_t1798.id]=_t1798;}}catch(err){_iterator1189.e(err);}finally{_iterator1189.f();}_this749["#inspectors"].addEventListener("hiddenchange",function(){return _this749._h();}),_this749["#space-buttons"].addEventListener("toggle",function(){return _this749.lw();});return _this749;}_createClass(pm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this750=this;this.qs(),this["#space-buttons"].value=this.Qs.getConfig("bx-geometrypanel:space","canvas");var _iterator1190=_createForOfIteratorHelper(this["#inspectors"].children),_step1190;try{for(_iterator1190.s();!(_step1190=_iterator1190.n()).done;){var _t1799=_step1190.value;_t1799.enabled=!0;}}catch(err){_iterator1190.e(err);}finally{_iterator1190.f();}this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this750._h();}),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this750.qs();}),this.Js.board.gridHud.addEventListener("selectedchange",this.Fg=function(){_this750.qs();});}},{key:"sn",value:function sn(){var _iterator1191=_createForOfIteratorHelper(this["#inspectors"].children),_step1191;try{for(_iterator1191.s();!(_step1191=_iterator1191.n()).done;){var _t1800=_step1191.value;_t1800.enabled=!1;}}catch(err){_iterator1191.e(err);}finally{_iterator1191.f();}this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.gridHud.removeEventListener("selectedchange",this.Fg);}},{key:"lw",value:function lw(){this.Qs.setConfig("bx-geometrypanel:space",this["#space-buttons"].value),this.dispatchEvent(new CustomEvent("spacebuttonstoggle"));}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedElements,i=t.gridHud.selected;{var _t1801=this["#inspectors"].querySelectorAll(":scope > *:not([hidden]):not(hr)"),_e1274=_t1801[_t1801.length-1],_i1164=this["#inspectors"].querySelectorAll(":scope > hr"),_s685=[];var _iterator1192=_createForOfIteratorHelper(_t1801),_step1192;try{for(_iterator1192.s();!(_step1192=_iterator1192.n()).done;){var _i1165=_step1192.value;_i1165.nextElementSibling&&_i1165!==_e1274&&_s685.push(_i1165.nextElementSibling);}}catch(err){_iterator1192.e(err);}finally{_iterator1192.f();}var _iterator1193=_createForOfIteratorHelper(_i1164),_step1193;try{for(_iterator1193.s();!(_step1193=_iterator1193.n()).done;){var _t1802=_step1193.value;_t1802.hidden=!1===_s685.includes(_t1802);}}catch(err){_iterator1193.e(err);}finally{_iterator1193.f();}}0===e.length&&!1===i?this["#footer"].hidden=!0:"master"===t.currentWorkspace.getAttribute("data-bx-workspace")&&null!==t.getComputedViewportWidth()&&null!==t.getComputedViewportHeight()?this["#footer"].hidden=!1:this["#footer"].hidden=!0;}}]);return pm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(pm,"observedAttributes",["enabled"]);_defineProperty(pm,"_shadowTemplate",qi(_templateObject375()));_defineProperty(pm,"_shadowStyleSheet",Xi(_templateObject376()));customElements.define("bx-geometrypanel",pm);var um=/*#__PURE__*/function(_HTMLElement103){_inherits(um,_HTMLElement103);var _super157=_createSuper(um);_createClass(um,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function um(){var _this751;_classCallCheck(this,um);_this751=_super157.call(this),_this751.cr=Ki(_this751.qs,500,_assertThisInitialized(_this751)),_this751._shadowRoot=_this751.attachShadow({mode:"closed"}),_this751._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,um._shadowStyleSheet],_this751._shadowRoot.append(document.importNode(um._shadowTemplate.content,!0));var _iterator1194=_createForOfIteratorHelper(_this751._shadowRoot.querySelectorAll("[id]")),_step1194;try{for(_iterator1194.s();!(_step1194=_iterator1194.n()).done;){var _t1803=_step1194.value;_this751["#"+_t1803.id]=_t1803;}}catch(err){_iterator1194.e(err);}finally{_iterator1194.f();}_this751["#title-input"].addEventListener("change",function(){return _this751.aw();}),_this751["#desc-editor"].addEventListener("change",function(){return _this751.hw();}),_this751["#language-select"].addEventListener("change",function(){return _this751.rw();}),_this751["#role-select"].addEventListener("change",function(){return _this751.dw();}),_this751["#tab-index-slider"].addEventListener("changestart",function(t){return _this751.cw(t);}),_this751["#tab-index-input"].addEventListener("changestart",function(t){return _this751.cw(t);}),_this751["#link-button"].addEventListener("toggle",function(t){return _this751.pw(t);}),_this751["#link-input"].addEventListener("change",function(){return _this751.uw();}),_this751["#link-target-checkbox"].addEventListener("toggle",function(){return _this751.xw();}),_this751["#id-input"].addEventListener("change",function(){return _this751.bw();}),_this751["#classes-input"].addEventListener("change",function(){return _this751.mw();}),_this751["#id-input"].validate=function(){var t=_this751["#id-input"].value.trim();""===t||Hi(t)?_this751["#id-input"].error=null:_this751["#id-input"].error="";};return _this751;}_createClass(um,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this752=this;var t=this.Js.board;this.qs(),t.addEventListener("selectedelementschange",this.Qo=function(){_this752.qs();}),t.addEventListener("workspacemutation",this.rn=function(){_this752.cr();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"aw",value:function aw(){var t=this.Js.board,e=this["#title-input"].value.trim(),i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Title");var _iterator1195=_createForOfIteratorHelper(i),_step1195;try{for(_iterator1195.s();!(_step1195=_iterator1195.n()).done;){var _t1804=_step1195.value;var _i1166=_t1804.querySelector(":scope > bx-title");""===e?_i1166&&_i1166.remove():(null===_i1166&&(_i1166=Ei("svg:bx-title"),_t1804.prepend(_i1166)),_i1166.innerHTML=e);}}catch(err){_iterator1195.e(err);}finally{_iterator1195.f();}}},{key:"hw",value:function hw(){var t=this.Js.board,e=this["#desc-editor"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Description");var _iterator1196=_createForOfIteratorHelper(i),_step1196;try{for(_iterator1196.s();!(_step1196=_iterator1196.n()).done;){var _t1805=_step1196.value;var _i1167=_t1805.querySelector(":scope > desc");""===e.trim()?_i1167&&_i1167.remove():(null===_i1167&&(_i1167=Ei("svg:desc"),_t1805.prepend(_i1167)),_i1167.innerHTML=e);}}catch(err){_iterator1196.e(err);}finally{_iterator1196.f();}}},{key:"rw",value:function rw(){var t=this.Js.board,e=this["#language-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Language");var _iterator1197=_createForOfIteratorHelper(i),_step1197;try{for(_iterator1197.s();!(_step1197=_iterator1197.n()).done;){var _t1806=_step1197.value;""===e?_t1806.removeAttribute("lang"):_t1806.setAttribute("lang",e);var _iterator1198=_createForOfIteratorHelper(_t1806.querySelectorAll("[lang]")),_step1198;try{for(_iterator1198.s();!(_step1198=_iterator1198.n()).done;){var _e1275=_step1198.value;_e1275.removeAttribute("lang");}}catch(err){_iterator1198.e(err);}finally{_iterator1198.f();}}}catch(err){_iterator1197.e(err);}finally{_iterator1197.f();}}},{key:"dw",value:function dw(){var t=this.Js.board,e=this["#role-select"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Role");var _iterator1199=_createForOfIteratorHelper(i),_step1199;try{for(_iterator1199.s();!(_step1199=_iterator1199.n()).done;){var _t1807=_step1199.value;""===e?_t1807.removeAttribute("role"):_t1807.setAttribute("role",e);}}catch(err){_iterator1199.e(err);}finally{_iterator1199.f();}}},{key:"cw",value:function cw(t){var _this753=this;var e,_i1168,s=this.Js.board,n=t.target,o=[];s.outermostSelectedElements.length>0?o=_toConsumableArray(s.outermostSelectedElements):null===s.currentContainer&&(o=[s.currentWorkspace]),s.undoManager.checkpoint("Tab index"),n.addEventListener("change",e=function e(){if(n===_this753["#tab-index-input"]){var _t1808=K(_this753["#tab-index-input"].value,0);_this753["#tab-index-input"].value=_t1808,_this753["#tab-index-slider"].value=_t1808;}else n===_this753["#tab-index-slider"]&&(_this753["#tab-index-input"].value=_this753["#tab-index-slider"].value);var t=_this753["#tab-index-input"].value;var _iterator1200=_createForOfIteratorHelper(o),_step1200;try{for(_iterator1200.s();!(_step1200=_iterator1200.n()).done;){var _e1276=_step1200.value;-1===t?_e1276.removeAttribute("tabindex"):_e1276.setAttribute("tabindex",t);}}catch(err){_iterator1200.e(err);}finally{_iterator1200.f();}}),n.addEventListener("changeend",_i1168=function i(){n.removeEventListener("change",e),n.removeEventListener("changeend",_i1168);});}},{key:"pw",value:function pw(t){var e=this.Js.board;if(this["#link-button"].toggled){if(e.undoManager.checkpoint("Link"),this.Qs.modKeys.ctrl){var _t1809=_toConsumableArray(e.outermostSelectedElements);_t1809=Gi(_t1809);var _i1169=[];var _iterator1201=_createForOfIteratorHelper(_t1809),_step1201;try{for(_iterator1201.s();!(_step1201=_iterator1201.n()).done;){var _e1277=_step1201.value;var _t1810=Ei("svg:a");_e1277.after(_t1810),_t1810.append(_e1277),_i1169.push(_t1810);}}catch(err){_iterator1201.e(err);}finally{_iterator1201.f();}e.selectedElements=_i1169;}else{var _t1811=document.createDocumentFragment(),_i1170=_toConsumableArray(e.outermostSelectedElements),_s686=Ei("svg:a");_i1170[0].after(_s686),_i1170=Gi(_i1170);var _iterator1202=_createForOfIteratorHelper(_i1170),_step1202;try{for(_iterator1202.s();!(_step1202=_iterator1202.n()).done;){var _e1278=_step1202.value;var _i1171=jt(_e1278,_s686);_e1278.setAttribute("transform",_i1171.toString()),_t1811.append(_e1278);}}catch(err){_iterator1202.e(err);}finally{_iterator1202.f();}_s686.append(_t1811);var _iterator1203=_createForOfIteratorHelper(_s686.children),_step1203;try{for(_iterator1203.s();!(_step1203=_iterator1203.n()).done;){var _t1812=_step1203.value;fa(_t1812,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision});}}catch(err){_iterator1203.e(err);}finally{_iterator1203.f();}e.selectedElements=[_s686];}}else{e.undoManager.checkpoint("Unlink");var _t1813=_toConsumableArray(e.outermostSelectedElements),_i1172=[];var _iterator1204=_createForOfIteratorHelper(_t1813),_step1204;try{for(_iterator1204.s();!(_step1204=_iterator1204.n()).done;){var _s687=_step1204.value;if("a"===_s687.localName){var _t1814=_s687,_n488=document.createDocumentFragment();for(var _i1173=0,_arr44=_toConsumableArray(_t1814.children);_i1173<_arr44.length;_i1173++){var _s688=_arr44[_i1173];if("title"!==_s688.localName&&"desc"!==_s688.localName){if(e.isSelectableElement(_s688)){var _n489=jt(_s688,_t1814.parentElement);_s688.setAttribute("transform",_n489.toString()),fa(_s688,{geometryPrecision:e.geometryPrecision,transformPrecision:e.transformPrecision}),_i1172.push(_s688);}var _iterator1205=_createForOfIteratorHelper(_t1814.attributes),_step1205;try{for(_iterator1205.s();!(_step1205=_iterator1205.n()).done;){var _step1205$value=_step1205.value,_e1279=_step1205$value.name,_i1174=_step1205$value.value;U.includes(_e1279)&&!1===_s688.hasAttribute(_e1279)&&_s688.setAttribute(_e1279,_i1174);}}catch(err){_iterator1205.e(err);}finally{_iterator1205.f();}var _iterator1206=_createForOfIteratorHelper(_t1814.style),_step1206;try{for(_iterator1206.s();!(_step1206=_iterator1206.n()).done;){var _e1280=_step1206.value;var _i1175=_t1814.style.getPropertyValue(_e1280);""===_s688.style.getPropertyValue(_e1280)&&_s688.style.setProperty(_e1280,_i1175);}}catch(err){_iterator1206.e(err);}finally{_iterator1206.f();}_n488.append(_s688);}}_t1814.before(_n488),_t1814.remove();}else _i1172.push(_s687);}}catch(err){_iterator1204.e(err);}finally{_iterator1204.f();}e.selectedElements=[].concat(_i1172);}}},{key:"uw",value:function uw(){this.Js.board.undoManager.checkpoint("Link URL");var t=this["#link-input"].value.trim();var _iterator1207=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1207;try{for(_iterator1207.s();!(_step1207=_iterator1207.n()).done;){var _e1281=_step1207.value;"a"===_e1281.localName&&(0===t.length?_e1281.removeAttribute("_href"):_e1281.setAttribute("_href",t));}}catch(err){_iterator1207.e(err);}finally{_iterator1207.f();}}},{key:"xw",value:function xw(){this.Js.board.undoManager.checkpoint("Link target");var _iterator1208=_createForOfIteratorHelper(this.Js.board.outermostSelectedElements),_step1208;try{for(_iterator1208.s();!(_step1208=_iterator1208.n()).done;){var _t1815=_step1208.value;"a"===_t1815.localName&&(this["#link-target-checkbox"].toggled?(_t1815.setAttribute("target","_blank"),_t1815.setAttribute("rel","noreferrer")):(_t1815.removeAttribute("target"),_t1815.removeAttribute("rel")));}}catch(err){_iterator1208.e(err);}finally{_iterator1208.f();}}},{key:"bw",value:function bw(){if(null===this["#id-input"].error){var _t1816=this.Js.board,_e1282=_t1816.outermostSelectedElements[0]||_t1816.currentWorkspace,_i1176=_e1282.id,_s689=this["#id-input"].value.trim();if(_i1176!==_s689){_t1816.undoManager.checkpoint("ID"),""===_s689?_e1282.removeAttribute("id"):_e1282.setAttribute("id",_s689);{var _e1283=document.createNodeIterator(_t1816.workspaces,NodeFilter.SHOW_ELEMENT),_n490=null;for(;_n490=_e1283.nextNode();){_n490.href&&_n490.href.baseVal==="#"+_i1176&&(""===_s689?_n490.removeAttribute("href"):_n490.setAttribute("href","#"+_s689));for(var _i1177=0,_arr45=["fill","stroke"];_i1177<_arr45.length;_i1177++){var _t1817=_arr45[_i1177];var _e1284=getComputedStyle(_n490).getPropertyValue(_t1817);if(_e1284&&_e1284.startsWith("url(")){_e1284.substring(6,_e1284.length-2)===_i1176&&(""===_s689?_n490.style.removeProperty(_t1817):_n490.style.setProperty(_t1817,"url(#".concat(_s689,")")));}}}}}}}},{key:"mw",value:function mw(){var t=this.Js.board,e=this["#classes-input"].value,i=[];t.outermostSelectedElements.length>0?i=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(i=[t.currentWorkspace]),t.undoManager.checkpoint("Class");var _iterator1209=_createForOfIteratorHelper(i),_step1209;try{for(_iterator1209.s();!(_step1209=_iterator1209.n()).done;){var _t1818=_step1209.value;0===e.length?_t1818.removeAttribute("class"):_t1818.setAttribute("class",e.join(" "));}}catch(err){_iterator1209.e(err);}finally{_iterator1209.f();}}},{key:"qs",value:function qs(){var t=this.Js.board,e=[];t.outermostSelectedElements.length>0?e=_toConsumableArray(t.outermostSelectedElements):null===t.currentContainer&&(e=[t.currentWorkspace]);{var _t1819="",_i1178=!1;if(e.length>0){var _e1285=e,_e1286=_toArray(_e1285),_s690=_e1286[0],_n491=_e1286.slice(1),_o389=_s690.querySelector(":scope > bx-title");_o389&&(_t1819=_o389.innerHTML);var _iterator1210=_createForOfIteratorHelper(_n491),_step1210;try{for(_iterator1210.s();!(_step1210=_iterator1210.n()).done;){var _e1287=_step1210.value;var _s691=_e1287.querySelector(":scope > bx-title");if(_s691&&_s691.innerHTML!==_t1819){_i1178=!0;break;}}}catch(err){_iterator1210.e(err);}finally{_iterator1210.f();}}this["#title-heading"].disabled=0===e.length,this["#title-input"].value=_t1819,this["#title-input"].mixed=_i1178,this["#title-input"].disabled=0===e.length;}{var _t1820="",_i1179=!1;if(e.length>0){var _e1288=e,_e1289=_toArray(_e1288),_s692=_e1289[0],_n492=_e1289.slice(1),_o390=_s692.querySelector(":scope > desc");_o390&&(_t1820=_o390.innerHTML);var _iterator1211=_createForOfIteratorHelper(_n492),_step1211;try{for(_iterator1211.s();!(_step1211=_iterator1211.n()).done;){var _e1290=_step1211.value;var _s693=_e1290.querySelector(":scope > desc");if(_s693&&_s693.innerHTML!==_t1820){_i1179=!0;break;}}}catch(err){_iterator1211.e(err);}finally{_iterator1211.f();}}this["#desc-heading"].disabled=0===e.length,this["#desc-editor"].value=_t1820,this["#desc-editor"].mixed=_i1179,this["#desc-editor"].disabled=0===e.length;}{var _t1821="",_i1180=!1;if(e.length>0){var _e1291=e,_e1292=_toArray(_e1291),_s694=_e1292[0],_n493=_e1292.slice(1),_this$gw=this.gw(_s694),_this$gw2=_slicedToArray(_this$gw,2),_o391=_this$gw2[0],_l326=_this$gw2[1];if(_t1821=_o391,_i1180=_l326,!1===_i1180){var _iterator1212=_createForOfIteratorHelper(_n493),_step1212;try{for(_iterator1212.s();!(_step1212=_iterator1212.n()).done;){var _t1822=_step1212.value;var _this$gw3=this.gw(_t1822),_this$gw4=_slicedToArray(_this$gw3,2),_e1293=_this$gw4[0],_s695=_this$gw4[1];if(_e1293!==_o391||_s695){_i1180=!0;break;}}}catch(err){_iterator1212.e(err);}finally{_iterator1212.f();}}}this["#language-heading"].disabled=0===e.length,this["#language-select"].value=_t1821,this["#language-select"].mixed=_i1180,this["#language-select"].disabled=0===e.length;}{var _t1823="",_i1181=!1;if(e.length>0){var _e1294=e,_e1295=_toArray(_e1294),_s696=_e1295[0],_n494=_e1295.slice(1);_t1823=_s696.getAttribute("role")||"";var _iterator1213=_createForOfIteratorHelper(_n494),_step1213;try{for(_iterator1213.s();!(_step1213=_iterator1213.n()).done;){var _e1296=_step1213.value;if((_e1296.getAttribute("role")||"")!==_t1823){_i1181=!0;break;}}}catch(err){_iterator1213.e(err);}finally{_iterator1213.f();}}this["#role-heading"].disabled=0===e.length,this["#role-select"].value=_t1823,this["#role-select"].mixed=_i1181,this["#role-select"].disabled=0===e.length;}{var _t1824=-1,_i1182=!1;if(e.length>0){var _e1297=e,_e1298=_toArray(_e1297),_s697=_e1298[0],_n495=_e1298.slice(1);_t1824=_s697.tabIndex;var _iterator1214=_createForOfIteratorHelper(_n495),_step1214;try{for(_iterator1214.s();!(_step1214=_iterator1214.n()).done;){var _t1825=_step1214.value;if(_t1825.tabIndex!==_s697.tabIndex){_i1182=!0;break;}}}catch(err){_iterator1214.e(err);}finally{_iterator1214.f();}}this["#tab-index-heading"].disabled=0===e.length,this["#tab-index-slider"].value=_t1824,this["#tab-index-slider"].disabled=0===e.length,this["#tab-index-input"].value=_t1824,this["#tab-index-input"].mixed=_i1182,this["#tab-index-input"].disabled=0===e.length;}{var _t1826=_toConsumableArray(this.Js.board.outermostSelectedObjectElements);if(0===_t1826.length)this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1;else if(1===_t1826.length){var _e1299=_t1826[0];"a"===_e1299.localName?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_e1299.hasAttribute("_href")?_e1299.getAttribute("_href"):"",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled=_e1299.hasAttribute("target"),this["#link-target-checkbox"].mixed=!1):_e1299.closest("a")||_e1299.querySelector("a")?(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}else{var _e1300=_t1826.filter(function(t){return"a"===t.localName;}),_i1183=_t1826.filter(function(t){return"a"!==t.localName;}),_s698=_i1183.filter(function(t){return t.closest("a")||t.querySelector("a");});_i1183.length>0&&0===_e1300.length&&0===_s698.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1):_e1300.length>0&&0===_i1183.length&&0===_s698.length?(this["#link-section-heading"].disabled=!1,this["#link-button"].disabled=!1,this["#link-button"].toggled=!0,this["#link-input"].disabled=!1,this["#link-input"].value=_t1826[0].hasAttribute("_href")?_t1826[0].getAttribute("_href"):"",this["#link-input"].mixed=void 0!==_t1826.find(function(e){return e.getAttribute("_href")!==_t1826[0].getAttribute("_href");}),this["#link-target-checkbox"].disabled=!1,this["#link-target-checkbox"].toggled="_blank"===_t1826[0].getAttribute("target"),this["#link-target-checkbox"].mixed=void 0!==_t1826.find(function(e){return e.getAttribute("target")!==_t1826[0].getAttribute("target");})):(this["#link-section-heading"].disabled=!0,this["#link-button"].disabled=!0,this["#link-button"].toggled=!1,this["#link-input"].disabled=!0,this["#link-input"].value="",this["#link-input"].mixed=!1,this["#link-target-checkbox"].disabled=!0,this["#link-target-checkbox"].toggled=!1,this["#link-target-checkbox"].mixed=!1);}}{var _t1827="",_i1184=!1;if(e.length>0){var _e1301=e,_e1302=_toArray(_e1301),_s699=_e1302[0],_n496=_e1302.slice(1);_t1827=_s699.id;var _iterator1215=_createForOfIteratorHelper(_n496),_step1215;try{for(_iterator1215.s();!(_step1215=_iterator1215.n()).done;){var _t1828=_step1215.value;if(_t1828.id!==_s699.id){_i1184=!0;break;}}}catch(err){_iterator1215.e(err);}finally{_iterator1215.f();}}this["#id-heading"].disabled=1!==e.length,this["#id-input"].value=_t1827,this["#id-input"].mixed=_i1184,this["#id-input"].disabled=1!==e.length;}{var _t1829=[],_i1185=!1;if(e.length>0){var _e1303=e,_e1304=_toArray(_e1303),_s700=_e1304[0],_n497=_e1304.slice(1),_o392=_toConsumableArray(_s700.classList);_t1829=_o392;var _iterator1216=_createForOfIteratorHelper(_n497),_step1216;try{for(_iterator1216.s();!(_step1216=_iterator1216.n()).done;){var _t1830=_step1216.value;var _e1305=_toConsumableArray(_t1830.classList);if(!1===ti(_o392,_e1305)){_i1185=!0;break;}}}catch(err){_iterator1216.e(err);}finally{_iterator1216.f();}}if(!1===ti(_t1829,this["#classes-input"].value)){var _e1306="";var _iterator1217=_createForOfIteratorHelper(_t1829),_step1217;try{for(_iterator1217.s();!(_step1217=_iterator1217.n()).done;){var _i1186=_step1217.value;_e1306+="\n            <x-tag value=\"".concat(_i1186,"\">\n              <x-label>").concat(_i1186,"</x-label>\n            </x-tag>\n          ");}}catch(err){_iterator1217.e(err);}finally{_iterator1217.f();}this["#classes-input"].innerHTML=_e1306;}this["#classes-heading"].disabled=0===e.length,this["#classes-input"].mixed=_i1185,this["#classes-input"].disabled=0===e.length;}this["#accessibility-heading"].disabled=this["#title-heading"].disabled&&this["#desc-heading"].disabled&&this["#language-heading"].disabled&&this["#role-heading"].disabled&&this["#tab-index-heading"].disabled,this["#scripting-heading"].disabled=this["#id-heading"].disabled&&this["#classes-heading"].disabled,this["#panel-heading"].disabled=this["#accessibility-heading"].disabled&&this["#scripting-heading"].disabled;}},{key:"gw",value:function gw(t){var e="",i=!1,s=this.Js.board.workspaces;for(var _i1187=t;_i1187!==s;_i1187=_i1187.parentElement){if(_i1187.hasAttribute("lang")){e=_i1187.getAttribute("lang").trim();break;}}var _iterator1218=_createForOfIteratorHelper(t.querySelectorAll("*[lang]")),_step1218;try{for(_iterator1218.s();!(_step1218=_iterator1218.n()).done;){var _s701=_step1218.value;_s701.getAttribute("lang").trim()!==e&&(i=!0);}}catch(err){_iterator1218.e(err);}finally{_iterator1218.f();}return[e,i];}}]);return um;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(um,"observedAttributes",["enabled"]);_defineProperty(um,"_shadowTemplate",qi(_templateObject377()));_defineProperty(um,"_shadowStyleSheet",Xi(_templateObject378()));customElements.define("bx-metapanel",um);var xm=/*#__PURE__*/function(_HTMLElement104){_inherits(xm,_HTMLElement104);var _super158=_createSuper(xm);_createClass(xm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function xm(){var _this754;_classCallCheck(this,xm);_this754=_super158.call(this),_this754._h=Ki(_this754.qs,200,_assertThisInitialized(_this754)),_this754._shadowRoot=_this754.attachShadow({mode:"closed"}),_this754._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,xm._shadowStyleSheet],_this754._shadowRoot.append(document.importNode(xm._shadowTemplate.content,!0));var _iterator1219=_createForOfIteratorHelper(_this754._shadowRoot.querySelectorAll("[id]")),_step1219;try{for(_iterator1219.s();!(_step1219=_iterator1219.n()).done;){var _t1831=_step1219.value;_this754["#"+_t1831.id]=_t1831;}}catch(err){_iterator1219.e(err);}finally{_iterator1219.f();}_this754["#reorient-button"].addEventListener("click",function(){return _this754.Qs.execCommand("reorient");}),_this754["#reverse-button"].addEventListener("click",function(){return _this754.Qs.execCommand("reverse");}),_this754["#shape-to-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("shapeToPath");}),_this754["#stroke-to-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("strokeToPath");}),_this754["#unite-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("unite");}),_this754["#intersect-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("intersect");}),_this754["#subtract-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("subtract");}),_this754["#exclude-button"].addEventListener("click",function(t){return _this754.Qs.execCommand("exclude");}),_this754["#join-paths-button"].addEventListener("click",function(){return _this754.Qs.execCommand("joinPaths");}),_this754["#split-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("splitPath");}),_this754["#close-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("closePath");}),_this754["#open-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("openPath");}),_this754["#inset-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("insetPath");}),_this754["#outset-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("outsetPath");}),_this754["#simplify-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("simplifyPath");}),_this754["#complexify-path-button"].addEventListener("click",function(){return _this754.Qs.execCommand("complexifyPath");}),_this754["#join-nodes-button"].addEventListener("click",function(){return _this754.Qs.execCommand("joinNodes");}),_this754["#split-node-button"].addEventListener("click",function(){return _this754.Qs.execCommand("splitNode");}),_this754["#delete-node-button"].addEventListener("click",function(){return _this754.Qs.execCommand("deleteNode");}),_this754["#break-node-button"].addEventListener("click",function(){return _this754.Qs.execCommand("breakNode");});return _this754;}_createClass(xm,[{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this755=this;this.qs();var t=this.Js.board;t.addEventListener("selectedelementschange",this.Qo=function(){_this755.Jo();}),t.addEventListener("workspacemutation",this.rn=function(t){_this755.sl(t.detail);}),t.pathHud.addEventListener("selectednodeschange",this.Tf=function(){_this755.qs();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn),t.pathHud.removeEventListener("selectednodeschange",this.Tf);}},{key:"Jo",value:function Jo(){this._h();}},{key:"sl",value:function sl(t){this._h();}},{key:"qs",value:function qs(){{var _t1832=this.Qs.isCommandEnabled("reorient"),_e1307=this.Qs.isCommandEnabled("reverse");this["#reorient-button"].disabled=!_t1832,this["#reverse-button"].disabled=!_e1307;}{var _t1833=this.Qs.isCommandEnabled("shapeToPath"),_e1308=this.Qs.isCommandEnabled("strokeToPath");this["#shape-to-path-button"].disabled=!_t1833,this["#stroke-to-path-button"].disabled=!_e1308,this["#convert-section-heading"].disabled=!(_e1308||_t1833);}{var _t1834=this.Qs.isCommandEnabled("unite"),_e1309=this.Qs.isCommandEnabled("subtract"),_i1188=this.Qs.isCommandEnabled("intersect"),_s702=this.Qs.isCommandEnabled("exclude");this["#unite-button"].disabled=!_t1834,this["#subtract-button"].disabled=!_e1309,this["#intersect-button"].disabled=!_i1188,this["#exclude-button"].disabled=!_s702,this["#boolops-section-heading"].disabled=!(_t1834||_e1309||_i1188||_s702);}{var _t1835=this.Qs.isCommandEnabled("openPath"),_e1310=this.Qs.isCommandEnabled("closePath"),_i1189=this.Qs.isCommandEnabled("joinPaths"),_s703=this.Qs.isCommandEnabled("splitPath"),_n498=this.Qs.isCommandEnabled("insetPath"),_o393=this.Qs.isCommandEnabled("outsetPath"),_l327=this.Qs.isCommandEnabled("simplifyPath"),_a245=this.Qs.isCommandEnabled("complexifyPath");this["#open-path-button"].disabled=!_t1835,this["#close-path-button"].disabled=!_e1310,this["#join-paths-button"].disabled=!_i1189,this["#split-path-button"].disabled=!_s703,this["#inset-path-button"].disabled=!_n498,this["#outset-path-button"].disabled=!_o393,this["#simplify-path-button"].disabled=!_l327,this["#complexify-path-button"].disabled=!_a245,this["#path-section-heading"].disabled=!(_t1835||_e1310||_i1189||_s703||_n498||_o393||_l327||_a245);}{var _t1836=this.Qs.isCommandEnabled("joinNodes"),_e1311=this.Qs.isCommandEnabled("splitNode"),_i1190=this.Qs.isCommandEnabled("deleteNode"),_s704=this.Qs.isCommandEnabled("breakNode");this["#join-nodes-button"].disabled=!_t1836,this["#split-node-button"].disabled=!_e1311,this["#delete-node-button"].disabled=!_i1190,this["#break-node-button"].disabled=!_s704,this["#node-section-heading"].disabled=!(_t1836||_e1311||_i1190||_s704);}this["#panel-heading"].disabled=null===this._shadowRoot.querySelector("x-button:not([disabled]");}}]);return xm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(xm,"observedAttributes",["enabled"]);_defineProperty(xm,"_shadowTemplate",qi(_templateObject379()));_defineProperty(xm,"_shadowStyleSheet",Xi(_templateObject380()));customElements.define("bx-shapepanel",xm);var bm=/*#__PURE__*/function(_HTMLElement105){_inherits(bm,_HTMLElement105);var _super159=_createSuper(bm);_createClass(bm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function bm(){var _this756;_classCallCheck(this,bm);_this756=_super159.call(this),_this756.fw=Ki(_this756.qs,250,_assertThisInitialized(_this756)),_this756.ww=Ki(_this756.qs,2e3,_assertThisInitialized(_this756)),_this756._shadowRoot=_this756.attachShadow({mode:"closed"}),_this756._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,bm._shadowStyleSheet],_this756._shadowRoot.append(document.importNode(bm._shadowTemplate.content,!0));var _iterator1220=_createForOfIteratorHelper(_this756._shadowRoot.querySelectorAll("[id]")),_step1220;try{for(_iterator1220.s();!(_step1220=_iterator1220.n()).done;){var _t1837=_step1220.value;_this756["#"+_t1837.id]=_t1837;}}catch(err){_iterator1220.e(err);}finally{_iterator1220.f();}_this756["#align-to-select"].addEventListener("change",function(){return _this756.yw();}),_this756["#align-as-group-button"].addEventListener("toggle",function(){return _this756.kw();}),_this756["#align-buttons"].addEventListener("click",function(t){return _this756.Sw(t);}),_this756["#rotate-buttons"].addEventListener("click",function(t){return _this756._w(t);}),_this756["#flip-buttons"].addEventListener("click",function(t){return _this756.Cw(t);}),_this756["#transform-buttons"].addEventListener("click",function(t){return _this756.Mw(t);}),_this756["#order-buttons-1"].addEventListener("click",function(t){return _this756.Pw(t);}),_this756["#order-buttons-2"].addEventListener("click",function(t){return _this756.Pw(t);}),_this756["#group-buttons"].addEventListener("click",function(t){return _this756.Dw(t);}),_this756["#distance-buttons"].addEventListener("toggle",function(){return _this756.zw();}),_this756["#distribute-buttons-box"].addEventListener("click",function(t){return _this756.Ow(t);});return _this756;}_createClass(bm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this757=this;var t=this.Js.board;this.Qs.addEventListener("modkeyschange",this.Xh=function(){return _this757.Fd();}),t.addEventListener("selectedelementschange",this.Qo=function(){return _this757.qs();}),t.addEventListener("workspacemutation",this.rn=function(){return _this757.sl();}),this.Ew=this.Qs.getConfig("bx-arrangementpanel:alignTo","default-view"),this.Tw=this.Qs.getConfig("bx-arrangementpanel:alignAsGroup",!0),this.Aw=this.Qs.getConfig("bx-arrangementpanel:distance","auto"),"view-box"===this.Ew&&(this.Ew="nearest-view"),this.qs();}},{key:"sn",value:function sn(){var t=this.Js.board;this.Qs.removeEventListener("modkeyschange",this.Xh),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(){this.Qs.isPointerDown?this.ww():this.fw();}},{key:"Fd",value:function Fd(){var t=this.Qs.modKeys.shift?"outside":"inside";this["#move-buttons"].setAttribute("data-side",t);var _iterator1221=_createForOfIteratorHelper(this["#move-buttons"].querySelectorAll("x-button")),_step1221;try{for(_iterator1221.s();!(_step1221=_iterator1221.n()).done;){var _e1312=_step1221.value;_e1312.value="outside"===t?_e1312.value.replace("inside","outside"):_e1312.value.replace("outside","inside");}}catch(err){_iterator1221.e(err);}finally{_iterator1221.f();}}},{key:"yw",value:function yw(){this.Ew=this["#align-to-select"].value,this.Qs.setConfig("bx-arrangementpanel:alignTo",this.Ew),this.qs();}},{key:"kw",value:function kw(){this.Tw=this["#align-as-group-button"].toggled,this.Qs.setConfig("bx-arrangementpanel:alignAsGroup",this.Tw),this.qs();}},{key:"Sw",value:function Sw(t){var e=t.target.closest("x-button");if(e){var _t1838=this.Js.board,_i1191=this["#align-to-select"].value,_s705=this["#align-as-group-button"].toggled;if(_t1838.undoManager.checkpoint("Align"),"default-view"===_i1191){var _i1192=Ht(_t1838.vectorCanvas),_n499=Rt.fromString(_t1838.currentWorkspace.getAttribute("viewBox")).toRect(),_o394=Ne(_n499,_i1192);this.$w(_t1838.outermostSelectedObjectElements,_o394,e.value,_s705);}else if("nearest-view"===_i1191){var _i1193=Ht(_t1838.vectorCanvas),_n500=[Rt.fromString(_t1838.currentWorkspace.getAttribute("viewBox")).toRect()];var _iterator1222=_createForOfIteratorHelper(_t1838.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view")),_step1222;try{for(_iterator1222.s();!(_step1222=_iterator1222.n()).done;){var _e1313=_step1222.value;_n500.push(Rt.fromString(_e1313.getAttribute("viewBox")).toRect());}}catch(err){_iterator1222.e(err);}finally{_iterator1222.f();}if(!0===_s705||1===_t1838.outermostSelectedObjectElements){var _o395=Ve(_t1838.outermostSelectedObjectElements.map(function(t){return Di(t);}));_o395=Ne(_o395,_i1193.inverse());var _l328=We(_n500,_o395),_a246=Ne(_l328,_i1193);this.$w(_t1838.outermostSelectedObjectElements,_a246,e.value,_s705);}else{var _iterator1223=_createForOfIteratorHelper(_t1838.outermostSelectedObjectElements),_step1223;try{for(_iterator1223.s();!(_step1223=_iterator1223.n()).done;){var _s706=_step1223.value;var _t1839=Ne(Di(_s706),_i1193.inverse()),_o396=We(_n500,_t1839),_l329=Ne(_o396,_i1193);this.$w([_s706],_l329,e.value,!1);}}catch(err){_iterator1223.e(err);}finally{_iterator1223.f();}}}else if("first-selected"===_i1191){var _t1838$outermostSelec=_toArray(_t1838.outermostSelectedObjectElements),_i1194=_t1838$outermostSelec[0],_n501=_t1838$outermostSelec.slice(1),_o397=Di(_i1194);this.$w(_n501,_o397,e.value,_s705);}else if("last-selected"===_i1191){var _reverse=_toConsumableArray(_t1838.outermostSelectedObjectElements).reverse(),_reverse2=_toArray(_reverse),_i1195=_reverse2[0],_n502=_reverse2.slice(1),_o398=Di(_i1195);this.$w(_n502,_o398,e.value,_s705);}else if("selection"===_i1191){Ht(_t1838.vectorCanvas);var _i1196=Ve(_t1838.outermostSelectedObjectElements.map(function(t){return Di(t);}));this.$w(_t1838.outermostSelectedObjectElements,_i1196,e.value,!1);}}}},{key:"_w",value:function _w(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Cw",value:function Cw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Mw",value:function Mw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Pw",value:function Pw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"Dw",value:function Dw(t){var e=t.target.closest("x-button");e&&this.Qs.execCommand(e.value);}},{key:"zw",value:function zw(){"auto"===this["#distance-buttons"].value&&(this["#distance-input"].value=0),this.Aw=this["#distance-buttons"].value,this.Qs.setConfig("bx-arrangementpanel:distance",this.Aw),this.qs();}},{key:"Ow",value:function Ow(t){var e=t.target.closest("x-button");if(e){var _t1840=this.Js.board,_i1197=_toConsumableArray(_t1840.outermostSelectedObjectElements),_s707=Symbol();var _iterator1224=_createForOfIteratorHelper(_i1197),_step1224;try{for(_iterator1224.s();!(_step1224=_iterator1224.n()).done;){var _t1843=_step1224.value;_t1843[_s707]=Di(_t1843);}}catch(err){_iterator1224.e(err);}finally{_iterator1224.f();}if(_t1840.undoManager.checkpoint("Distribute"),"horizontal"===e.value){_i1197.sort(function(t,e){var i=t[_s707],n=e[_s707];return i.x+i.width/2-(n.x+n.width/2);});var _e1314=_i1197.map(function(t){return t[_s707];}),_n503=Ve(_e1314).width;var _iterator1225=_createForOfIteratorHelper(_i1197),_step1225;try{for(_iterator1225.s();!(_step1225=_iterator1225.n()).done;){var _t1841=_step1225.value;_n503-=_t1841[_s707].width;}}catch(err){_iterator1225.e(err);}finally{_iterator1225.f();}if(_n503<=0||"manual"===this["#distance-buttons"].value){var _e1315=0;"manual"===this["#distance-buttons"].value&&(_e1315=this["#distance-input"].value*this.Js.board.scale);var _n504=_i1197[0],_o399=null;var _iterator1226=_createForOfIteratorHelper(_i1197),_step1226;try{for(_iterator1226.s();!(_step1226=_iterator1226.n()).done;){var _l330=_step1226.value;if(_l330!==_n504){var _i1198=Vt(_l330),_n505=Ht(_l330),_a247=_n505.inverse(),_h202=-(_l330[_s707].left-_o399[_s707].right)+_e1315,_r137=_i1198.multiply(_a247);_r137.translateSelf(_h202,0),_r137.multiplySelf(_n505),_l330.setAttribute("transform",_r137.toString()),fa(_l330,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_l330[_s707]=Di(_l330);}_o399=_l330;}}catch(err){_iterator1226.e(err);}finally{_iterator1226.f();}}else{var _e1316=_i1197[0],_o400=_i1197[_i1197.length-1],_l331=null,_a248=_n503/(_i1197.length-1);var _iterator1227=_createForOfIteratorHelper(_i1197),_step1227;try{for(_iterator1227.s();!(_step1227=_iterator1227.n()).done;){var _n506=_step1227.value;if(_n506!==_e1316&&_n506!==_o400){var _e1317=Vt(_n506),_i1199=Ht(_n506),_o401=_i1199.inverse(),_h203=-(_n506[_s707].left-_l331[_s707].right)+_a248,_r138=_e1317.multiply(_o401);_r138.translateSelf(_h203,0),_r138.multiplySelf(_i1199),_n506.setAttribute("transform",_r138.toString()),fa(_n506,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_n506[_s707]=Di(_n506);}_l331=_n506;}}catch(err){_iterator1227.e(err);}finally{_iterator1227.f();}}}else if("vertical"===e.value){_i1197.sort(function(t,e){var i=t[_s707],n=e[_s707];return i.y+i.height/2-(n.y+n.height/2);});var _e1318=_i1197.map(function(t){return t[_s707];}),_n507=Ve(_e1318).height;var _iterator1228=_createForOfIteratorHelper(_i1197),_step1228;try{for(_iterator1228.s();!(_step1228=_iterator1228.n()).done;){var _t1842=_step1228.value;_n507-=_t1842[_s707].height;}}catch(err){_iterator1228.e(err);}finally{_iterator1228.f();}if(_n507<=0||"manual"===this["#distance-buttons"].value){var _e1319=0;"manual"===this["#distance-buttons"].value&&(_e1319=this["#distance-input"].value*this.Js.board.scale);var _n508=_i1197[0],_o402=null;var _iterator1229=_createForOfIteratorHelper(_i1197),_step1229;try{for(_iterator1229.s();!(_step1229=_iterator1229.n()).done;){var _l332=_step1229.value;if(_l332!==_n508){var _i1200=Vt(_l332),_n509=Ht(_l332),_a249=_n509.inverse(),_h204=-(_l332[_s707].top-_o402[_s707].bottom)+_e1319,_r139=_i1200.multiply(_a249);_r139.translateSelf(0,_h204),_r139.multiplySelf(_n509),_l332.setAttribute("transform",_r139.toString()),fa(_l332,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_l332[_s707]=Di(_l332);}_o402=_l332;}}catch(err){_iterator1229.e(err);}finally{_iterator1229.f();}}else{var _e1320=_i1197[0],_o403=_i1197[_i1197.length-1],_l333=null,_a250=_n507/(_i1197.length-1);var _iterator1230=_createForOfIteratorHelper(_i1197),_step1230;try{for(_iterator1230.s();!(_step1230=_iterator1230.n()).done;){var _n510=_step1230.value;if(_n510!==_e1320&&_n510!==_o403){var _e1321=Vt(_n510),_i1201=Ht(_n510),_o404=_i1201.inverse(),_h205=-(_n510[_s707].top-_l333[_s707].bottom)+_a250,_r140=_e1321.multiply(_o404);_r140.translateSelf(0,_h205),_r140.multiplySelf(_i1201),_n510.setAttribute("transform",_r140.toString()),fa(_n510,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_n510[_s707]=Di(_n510);}_l333=_n510;}}catch(err){_iterator1230.e(err);}finally{_iterator1230.f();}}}else if("centers-horizontal"===e.value){var _e1322=_toConsumableArray(_i1197).sort(function(t,e){var i=t[_s707],n=e[_s707];return i.x+i.width/2-(n.x+n.width/2);}),_n511=_e1322[0],_o405=_e1322[_e1322.length-1],_l334=0;if("manual"===this["#distance-buttons"].value)_l334=this["#distance-input"].value*this.Js.board.scale;else{_l334=(_o405[_s707].x+_o405[_s707].width/2-(_n511[_s707].x+_n511[_s707].width/2))/(_e1322.length-1);}var _a251=_l334;var _iterator1231=_createForOfIteratorHelper(_e1322),_step1231;try{for(_iterator1231.s();!(_step1231=_iterator1231.n()).done;){var _i1202=_step1231.value;if(_i1202!==_n511&&(_i1202!==_o405||"auto"!==this["#distance-buttons"].value)){var _e1323=Vt(_i1202),_o406=Ht(_i1202),_h206=_o406.inverse(),_r141=-(_i1202[_s707].x+_i1202[_s707].width/2-(_n511[_s707].x+_n511[_s707].width/2))+_a251,_d110=_e1323.multiply(_h206);_d110.translateSelf(_r141,0),_d110.multiplySelf(_o406),_i1202.setAttribute("transform",_d110.toString()),fa(_i1202,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_a251+=_l334,_i1202[_s707]=Di(_i1202);}}}catch(err){_iterator1231.e(err);}finally{_iterator1231.f();}}else if("centers-vertical"===e.value){var _e1324=_toConsumableArray(_i1197).sort(function(t,e){var i=t[_s707],n=e[_s707];return i.y+i.height/2-(n.y+n.height/2);}),_n512=_e1324[0],_o407=_e1324[_e1324.length-1],_l335=0;if("manual"===this["#distance-buttons"].value)_l335=this["#distance-input"].value*this.Js.board.scale;else{_l335=(_o407[_s707].y+_o407[_s707].height/2-(_n512[_s707].y+_n512[_s707].height/2))/(_e1324.length-1);}var _a252=_l335;var _iterator1232=_createForOfIteratorHelper(_e1324),_step1232;try{for(_iterator1232.s();!(_step1232=_iterator1232.n()).done;){var _i1203=_step1232.value;if(_i1203!==_n512&&(_i1203!==_o407||"auto"!==this["#distance-buttons"].value)){var _e1325=Vt(_i1203),_o408=Ht(_i1203),_h207=_o408.inverse(),_r142=-(_i1203[_s707].y+_i1203[_s707].height/2-(_n512[_s707].y+_n512[_s707].height/2))+_a252,_d111=_e1325.multiply(_h207);_d111.translateSelf(0,_r142),_d111.multiplySelf(_o408),_i1203.setAttribute("transform",_d111.toString()),fa(_i1203,{geometryPrecision:_t1840.geometryPrecision,transformPrecision:_t1840.transformPrecision}),_a252+=_l335,_i1203[_s707]=Di(_i1203);}}}catch(err){_iterator1232.e(err);}finally{_iterator1232.f();}}}}},{key:"$w",value:function $w(t,e,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;if(!1===s){var _iterator1233=_createForOfIteratorHelper(t),_step1233;try{for(_iterator1233.s();!(_step1233=_iterator1233.n()).done;){var _s708=_step1233.value;var _t1844=Vt(_s708),_n513=Ht(_s708),_o409=_n513.inverse(),_l336=Di(_s708),_a253=0,_h208=0,_r143=1,_d112=1,_c86=0,_p76=0;if("move-left-inside"===i)_a253=e.x-_l336.x;else if("move-left-outside"===i)_a253=e.x-_l336.x-_l336.width;else if("move-right-inside"===i)_a253=e.x+e.width-_l336.x-_l336.width;else if("move-right-outside"===i)_a253=e.x+e.width-_l336.x;else if("move-top-inside"===i)_h208=e.y-_l336.y;else if("move-top-outside"===i)_h208=e.y-_l336.y-_l336.height;else if("move-bottom-inside"===i)_h208=e.y+e.height-_l336.y-_l336.height;else if("move-bottom-outside"===i)_h208=e.y+e.height-_l336.y;else if("center"===i)_a253=e.x-_l336.x+e.width/2-_l336.width/2,_h208=e.y-_l336.y+e.height/2-_l336.height/2;else if("horizontal-center"===i)_a253=e.x-_l336.x+e.width/2-_l336.width/2;else if("vertical-center"===i)_h208=e.y-_l336.y+e.height/2-_l336.height/2;else if("stretch"===i)_r143=e.width/_l336.width,_d112=e.height/_l336.height,_a253=e.x-_l336.x*_r143,_h208=e.y-_l336.y*_d112;else if("horizontal-stretch"===i)_r143=e.width/_l336.width,_a253=e.x-_l336.x*_r143;else if("vertical-stretch"===i)_d112=e.height/_l336.height,_h208=e.y-_l336.y*_d112;else if("fit"===i){var _t1845=min(e.width/_l336.width,e.height/_l336.height);_r143=_t1845,_d112=_t1845,_a253=e.x-_l336.x+e.width/2-_l336.width/2,_h208=e.y-_l336.y+e.height/2-_l336.height/2,_c86=_l336.x+_l336.width/2,_p76=_l336.y+_l336.height/2;}else"horizontal-fit"===i?(_r143=e.width/_l336.width,_d112=_r143,_a253=e.x-_l336.x,_c86=_l336.x,_p76=_l336.y):"vertical-fit"===i&&(_d112=e.height/_l336.height,_r143=_d112,_h208=e.y-_l336.y,_c86=_l336.x,_p76=_l336.y);var _u63=_t1844.multiply(_o409);_u63.translateSelf(_a253,_h208),_u63.scaleSelf(_r143,_d112,1,_c86,_p76),_u63.multiplySelf(_n513),_s708.setAttribute("transform",_u63.toString()),fa(_s708,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1233.e(err);}finally{_iterator1233.f();}}else if(!0===s){var _s709=t.map(function(t){return Di(t);}),_n514=Ve(_s709),_o410=0,_l337=0,_a254=1,_h209=1,_r144=0,_d113=0;if("move-left-inside"===i)_o410=e.x-_n514.x;else if("move-left-outside"===i)_o410=e.x-_n514.x-_n514.width;else if("move-right-inside"===i)_o410=e.x+e.width-_n514.x-_n514.width;else if("move-right-outside"===i)_o410=e.x+e.width-_n514.x;else if("move-top-inside"===i)_l337=e.y-_n514.y;else if("move-top-outside"===i)_l337=e.y-_n514.y-_n514.height;else if("move-bottom-inside"===i)_l337=e.y+e.height-_n514.y-_n514.height;else if("move-bottom-outside"===i)_l337=e.y+e.height-_n514.y;else if("center"===i)_o410=e.x-_n514.x+e.width/2-_n514.width/2,_l337=e.y-_n514.y+e.height/2-_n514.height/2;else if("horizontal-center"===i)_o410=e.x-_n514.x+e.width/2-_n514.width/2;else if("vertical-center"===i)_l337=e.y-_n514.y+e.height/2-_n514.height/2;else if("stretch"===i)_a254=e.width/_n514.width,_h209=e.height/_n514.height,_o410=e.x-_n514.x*_a254,_l337=e.y-_n514.y*_h209;else if("horizontal-stretch"===i)_a254=e.width/_n514.width,_o410=e.x-_n514.x*_a254;else if("vertical-stretch"===i)_h209=e.height/_n514.height,_l337=e.y-_n514.y*_h209;else if("fit"===i){var _t1846=min(e.width/_n514.width,e.height/_n514.height);_a254=_t1846,_h209=_t1846,_o410=e.x-_n514.x+e.width/2-_n514.width/2,_l337=e.y-_n514.y+e.height/2-_n514.height/2,_r144=_n514.x+_n514.width/2,_d113=_n514.y+_n514.height/2;}else"horizontal-fit"===i?(_a254=e.width/_n514.width,_h209=_a254,_o410=e.x-_n514.x,_r144=_n514.x,_d113=_n514.y):"vertical-fit"===i&&(_h209=e.height/_n514.height,_a254=_h209,_l337=e.y-_n514.y,_r144=_n514.x,_d113=_n514.y);var _iterator1234=_createForOfIteratorHelper(t),_step1234;try{for(_iterator1234.s();!(_step1234=_iterator1234.n()).done;){var _e1326=_step1234.value;var _t1847=Vt(_e1326),_i1204=Ht(_e1326),_s710=_i1204.inverse(),_n515=_t1847.multiply(_s710);_n515.translateSelf(_o410,_l337),_n515.scaleSelf(_a254,_h209,1,_r144,_d113),_n515.multiplySelf(_i1204),_e1326.setAttribute("transform",_n515.toString()),fa(_e1326,{geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision});}}catch(err){_iterator1234.e(err);}finally{_iterator1234.f();}}}},{key:"qs",value:function qs(){var t=this.Js.board,e=t.outermostSelectedObjectElements;if(this["#panel-heading"].disabled=0===t.outermostSelectedObjectElements.length,0===e.length){this["#align-section-heading"].disabled=!0,this["#align-options-heading"].disabled=!0,this["#align-to-select"].value=this.Ew,this["#align-to-select"].disabled=!0,this["#align-as-group-button"].toggled=this.Tw,this["#align-as-group-button"].disabled=!0;var _iterator1235=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1235;try{for(_iterator1235.s();!(_step1235=_iterator1235.n()).done;){var _t1848=_step1235.value;_t1848.disabled=!0;}}catch(err){_iterator1235.e(err);}finally{_iterator1235.f();}}else{this["#align-section-heading"].disabled=!1,this["#align-options-heading"].disabled=!1,this["#align-to-select"].value=this.Ew,this["#align-to-select"].disabled=!1,this["#align-as-group-button"].toggled=this.Tw,this["#align-as-group-button"].disabled=!1;var _i1205=!0;if("default-view"===this.Ew)_i1205=t.currentWorkspace.hasAttribute("viewBox");else if("nearest-view"===this.Ew){if(t.currentWorkspace.hasAttribute("viewBox"))_i1205=!0;else{_i1205=t.currentWorkspace.querySelectorAll(":scope > view, :scope > defs > view").length>0;}}else"first-selected"===this.Ew||"last-selected"===this.Ew?_i1205=e.length>=2:"selection"===this.Ew&&(_i1205=e.length>=2&&!1===this.Tw);var _iterator1236=_createForOfIteratorHelper(this["#align-buttons"].querySelectorAll("x-button")),_step1236;try{for(_iterator1236.s();!(_step1236=_iterator1236.n()).done;){var _t1849=_step1236.value;_t1849.disabled=!1===_i1205;}}catch(err){_iterator1236.e(err);}finally{_iterator1236.f();}}this["#rotate-counterclockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateCounterclockwise"),this["#rotate-clockwise-button"].disabled=!this.Qs.isCommandEnabled("rotateClockwise"),this["#flip-horizontally-button"].disabled=!this.Qs.isCommandEnabled("flipX"),this["#flip-vertically-button"].disabled=!this.Qs.isCommandEnabled("flipY"),this["#remove-transform-button"].disabled=!this.Qs.isCommandEnabled("removeTransform"),this["#reduce-transform-button"].disabled=!this.Qs.isCommandEnabled("reduceTransform"),this["#transform-heading"].disabled=this["#rotate-counterclockwise-button"].disabled&&this["#rotate-clockwise-button"].disabled&&this["#flip-horizontally-button"].disabled&&this["#flip-vertically-button"].disabled&&this["#remove-transform-button"].disabled&&this["#reduce-transform-button"].disabled,this["#raise-button"].disabled=!this.Qs.isCommandEnabled("raise"),this["#front-button"].disabled=this["#raise-button"].disabled,this["#lower-button"].disabled=!this.Qs.isCommandEnabled("lower"),this["#back-button"].disabled=this["#lower-button"].disabled,this["#order-section-heading"].disabled=this["#front-button"].disabled&&this["#raise-button"].disabled&&this["#lower-button"].disabled&&this["#back-button"].disabled,this["#group-button"].disabled=!this.Qs.isCommandEnabled("group"),this["#ungroup-button"].disabled=!this.Qs.isCommandEnabled("ungroup"),this["#group-section-heading"].disabled=this["#group-button"].disabled&&this["#ungroup-button"].disabled,e.length<=1?(this["#distribute-heading"].disabled=!0,this["#distribute-distance-heading"].disabled=!0,this["#distance-buttons"].value=null,this["#auto-distance-button"].disabled=!0,this["#manual-distance-button"].disabled=!0,this["#distance-input"].disabled=!0,this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-heading"].disabled=!1,this["#distribute-distance-heading"].disabled=!1,this["#distance-buttons"].value=this.Aw,this["#auto-distance-button"].disabled=!1,this["#manual-distance-button"].disabled=!1,this["#distance-input"].disabled="auto"===this["#distance-buttons"].value,"auto"===this["#distance-buttons"].value&&e.length<=2?(this["#distribute-actions-heading"].disabled=!0,this["#distribute-horizontally-button"].disabled=!0,this["#distribute-vertically-button"].disabled=!0,this["#distribute-centers-horizontally-button"].disabled=!0,this["#distribute-centers-vertically-button"].disabled=!0):(this["#distribute-actions-heading"].disabled=!1,this["#distribute-horizontally-button"].disabled=!1,this["#distribute-vertically-button"].disabled=!1,this["#distribute-centers-horizontally-button"].disabled=!1,this["#distribute-centers-vertically-button"].disabled=!1));}}]);return bm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(bm,"observedAttributes",["enabled"]);_defineProperty(bm,"_shadowTemplate",qi(_templateObject381()));_defineProperty(bm,"_shadowStyleSheet",Xi(_templateObject382()));customElements.define("bx-arrangementpanel",bm);var mm=Symbol();var gm=/*#__PURE__*/function(_HTMLElement106){_inherits(gm,_HTMLElement106);var _super160=_createSuper(gm);_createClass(gm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function gm(){var _this758;_classCallCheck(this,gm);_this758=_super160.call(this),_this758.Iw=!1,_this758.Lw=null,_this758._h=Ki(_this758.qs,200,_assertThisInitialized(_this758)),_this758.Bw=Qi(_this758.Rw,250,_assertThisInitialized(_this758)),_this758._shadowRoot=_this758.attachShadow({mode:"closed"}),_this758._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,gm._shadowStyleSheet],_this758._shadowRoot.append(document.importNode(gm._shadowTemplate.content,!0));var _iterator1237=_createForOfIteratorHelper(_this758._shadowRoot.querySelectorAll("[id]")),_step1237;try{for(_iterator1237.s();!(_step1237=_iterator1237.n()).done;){var _t1850=_step1237.value;_this758["#"+_t1850.id]=_t1850;}}catch(err){_iterator1237.e(err);}finally{_iterator1237.f();}_this758["#main"].addEventListener("pointerdown",function(t){return _this758.Gw(t);}),_this758["#main"].addEventListener("click",function(t){return _this758.Fw(t);}),_this758["#main"].addEventListener("contextmenu",function(t){return _this758.Uw(t);}),_this758["#main"].addEventListener("keydown",function(t){return _this758.vn(t);}),_this758["#context-menu"].addEventListener("click",function(t){return _this758.Nw(t);}),_this758["#add-menu"].addEventListener("click",function(t){return _this758.Vw(t);}),_this758["#developer-mode-button"].addEventListener("toggle",function(){return _this758.zu();}),_this758["#filter-input"].addEventListener("input",function(){return _this758.Mm();});return _this758;}_createClass(gm,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this759=this;var t=this.Js.board;this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-objectsbrowser:developerMode",!1),this.jw(),this._h(),t.addEventListener("artworkchange",this.mr=function(){_this759.qs();}),t.addEventListener("selectedelementschange",this.Qo=function(){_this759.Jo();}),t.addEventListener("workspacemutation",this.rn=function(t){_this759.sl(t);}),t.addEventListener("currentworkspacechange",this.Lx=function(){_this759.Hw();});}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("artworkchange",this.mr),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn),t.removeEventListener("currentworkspacechange",this.Lx);}},{key:"Jo",value:function Jo(){this.Yw();}},{key:"sl",value:function sl(t){var e=t.detail;var _iterator1238=_createForOfIteratorHelper(e),_step1238;try{for(_iterator1238.s();!(_step1238=_iterator1238.n()).done;){var _t1851=_step1238.value;this.Ww(_t1851);}}catch(err){_iterator1238.e(err);}finally{_iterator1238.f();}}},{key:"Hw",value:function Hw(){this._h();}},{key:"Uw",value:function Uw(t){var e=t.target.closest(".item");if(e){var _i1206=e[mm];t.preventDefault(),this.Lw=e,this["#context-menu"].open(t.clientX,t.clientY),"g"===_i1206.localName?(this["#ungroup-menu-item"].disabled=!1,this["#enter-group-menu-item"].disabled=!1):(this["#ungroup-menu-item"].disabled=!0,this["#enter-group-menu-item"].disabled=!0);}}},{key:"Nw",value:function Nw(t){var e=t.target.closest("x-menuitem");if(e)if("enterGroup"===e.value){var _t1852=this.Lw[mm];this.Js.board.currentContainer=_t1852,this.Js.board.selectedElements=[];}else this.Qs.execCommand(e.value);}},{key:"Gw",value:function Gw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")||t.target.closest(".lock-button")||t.target.closest(".visibility-button")||this.Dm(t));}},{key:"Dm",value:function Dm(t){var _this760=this;var e=this.Js.board,_this$Qs$modKeys11=this.Qs.modKeys,i=_this$Qs$modKeys11.ctrl,s=_this$Qs$modKeys11.shift,n=t.target.closest(".item"),o=new DOMPoint(t.clientX,t.clientY);if(1===t.buttons||!0!==n.hasAttribute("data-selected"))if(!0===i){var _t1853=n[mm],_i1207=_t1853.parentElement.closest("g, a");e.selectedElements.includes(_t1853)?e.selectedElements=e.selectedElements.filter(function(e){return e!==_t1853;}):(e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_t1853]),1===e.selectedElements.length&&(e.currentContainer=_i1207===e.currentWorkspace?null:_i1207));}else if(!0===s){var _t1854=e.selectedElements.map(function(t){return _this760.qw(t);});_t1854=_t1854.filter(function(t){return null!==t&&!1===t.hidden;});var _i1208=_t1854.map(function(t){return t[mm];}),_s711=_i1208[_i1208.length-1]||null;if(_s711){var _t1855=this.Xw(!0),_i1209=_t1855.find(function(t){return t[mm]===_s711;}),_o411=_t1855.indexOf(_i1209),_l338=_t1855.indexOf(n),_a255=[];if(_l338>_o411?_a255=_toConsumableArray(_t1855).slice(_o411,_l338+1):_l338<_o411&&(_a255=_toConsumableArray(_t1855).slice(_l338,_o411+1).reverse()),_a255=_a255.filter(function(t){return!1===t.hasAttribute("data-selected");}),_a255.length>0){var _t1856=_a255.map(function(t){return t[mm];});e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),_toConsumableArray(_t1856));}}}else{var _i1211,_s712,_l340,_a256=n[mm],_h210=_a256.parentElement.closest("g, a"),_r145=!1;n.setPointerCapture(t.pointerId),!1===n.hasAttribute("data-selected")&&(e.selectedElements=[_a256],e.currentContainer=_h210===e.currentWorkspace?null:_h210),n.addEventListener("pointermove",_i1211=function _i1210(t){var e=new DOMPoint(t.clientX,t.clientY);ze(o,e)>=3&&(n.removeEventListener("pointermove",_i1211),n.removeEventListener("pointerup",_s712),n.removeEventListener("lostpointercapture",_l340),_this760.Zw(t),_r145=!0);}),n.addEventListener("pointerup",_s712=function _s712(){!1===_r145&&(e.selectedElements=[_a256],e.currentContainer=_h210===e.currentWorkspace?null:_h210);}),n.addEventListener("lostpointercapture",_l340=function _l339(){n.removeEventListener("pointermove",_i1211),n.removeEventListener("pointerup",_s712),n.removeEventListener("lostpointercapture",_l340);});}}},{key:"Zw",value:function Zw(){var _this761=this;var t,_e1330,i=this.Xw(!0),s=null,n="start",o=i.filter(function(t){return t.hasAttribute("data-selected");}),l=this.Js.board;this["#main"].addEventListener("pointermove",t=function t(_t1858){var e=_this761._shadowRoot.elementFromPoint(_t1858.clientX,_t1858.clientY);if(e.getRootNode()!==_this761._shadowRoot&&(e=null),s=e?e.closest(".item"):null,s){var _e1327=s.querySelector(".main").getBoundingClientRect();if(n=_t1858.clientY<_e1327.y+_e1327.height/2?"start":"end",s.hasAttribute("data-expanded")&&"end"===n&&(s.querySelector(".item:not([hidden])")?(s=s.querySelector(".item:not([hidden])"),n="start",_e1327=s.querySelector(".main").getBoundingClientRect()):n="inside"),_this761.Kw(o,s,n)){var _t1857=s.offsetTop;for(var _e1328=s.offsetParent;null!==_e1328&&_e1328!==_this761["#main"];_e1328=_e1328.offsetParent){_t1857+=_e1328.offsetTop;}"end"!==n&&"inside"!==n||(_t1857+=_e1327.height);var _i1212=24*parseInt(s.getAttribute("data-depth"))+16;"inside"===n&&(_i1212+=24);var _o412=_e1327.width-_i1212-4;_this761["#drop-marker"].hidden=!1,_this761["#drop-marker"].style.top=_t1857+"px",_this761["#drop-marker"].style.width=_o412+"px",_this761["#drop-marker"].style.marginLeft=_i1212+"px";}else s=null,_this761["#drop-marker"].hidden=!0;}else _this761["#drop-marker"].hidden=!0;}),this["#main"].addEventListener("lostpointercapture",_e1330=function e(){if(_this761["#main"].removeEventListener("pointermove",t),_this761["#main"].removeEventListener("lostpointercapture",_e1330),_this761["#drop-marker"].hidden=!0,s){l.undoManager.checkpoint("Move elements");var _t1859=s[mm],_e1329=Gi(l.outermostSelectedElements),_i1213=document.createDocumentFragment();var _iterator1239=_createForOfIteratorHelper(_e1329),_step1239;try{for(_iterator1239.s();!(_step1239=_iterator1239.n()).done;){var _s713=_step1239.value;_s713.setAttribute("transform",jt(_s713,_t1859.parentElement)),_i1213.append(_s713);}}catch(err){_iterator1239.e(err);}finally{_iterator1239.f();}"start"===n?_t1859.before(_i1213):"end"===n?_t1859.after(_i1213):"inside"===n&&_t1859.append(_i1213);var _iterator1240=_createForOfIteratorHelper(_e1329),_step1240;try{for(_iterator1240.s();!(_step1240=_iterator1240.n()).done;){var _t1860=_step1240.value;fa(_t1860,{geometryPrecision:l.geometryPrecision,transformPrecision:l.transformPrecision});}}catch(err){_iterator1240.e(err);}finally{_iterator1240.f();}var _o413=l.selectedElements[0].closest("g, a");l.currentContainer=_o413===l.currentWorkspace?null:_o413;}});}},{key:"Fw",value:function Fw(t){t.target.closest(".item")&&(t.target.closest(".arrow-button")?this.Qw(t):t.target.closest(".lock-button")?this.Jw(t):t.target.closest(".visibility-button")?this.tv(t):this.ev(t));}},{key:"ev",value:function ev(t){var _this$Qs$modKeys12=this.Qs.modKeys,e=_this$Qs$modKeys12.ctrl,i=_this$Qs$modKeys12.shift;if(!1===e&&!1===i&&2===t.detail){var _e1331=t.target.closest(".item");this.iv(_e1331);}}},{key:"Qw",value:function Qw(t){var e=t.target.closest(".item");e.hasAttribute("data-expanded")?this.sv(e):this.nv(e);}},{key:"Jw",value:function Jw(t){this.Js.board.undoManager.checkpoint("Lock");var e=t.target.closest(".item")[mm],i=getComputedStyle(e).pointerEvents;i="none"===i?"auto":"none",e.style.pointerEvents=i,Sh("pointer-events",e);{var _t1861=function _t1861(e){var _iterator1241=_createForOfIteratorHelper(e),_step1241;try{for(_iterator1241.s();!(_step1241=_iterator1241.n()).done;){var _s714=_step1241.value;g.includes(_s714.localName)&&(_s714.removeAttribute("pointer-events"),_s714.style.removeProperty("pointer-events"),getComputedStyle(_s714).pointerEvents!==i&&(_s714.style.pointerEvents=i),"g"!==_s714.localName&&"a"!==_s714.localName||_t1861(_s714.children));}}catch(err){_iterator1241.e(err);}finally{_iterator1241.f();}};_t1861(e.children);}}},{key:"tv",value:function tv(t){this.Js.board.undoManager.checkpoint("Visibility");var e=t.target.closest(".item")[mm],i=getComputedStyle(e).visibility;i="hidden"===i?"visible":"hidden",e.style.visibility=i,Sh("visibility",e);{var _t1862=function _t1862(e){var _iterator1242=_createForOfIteratorHelper(e),_step1242;try{for(_iterator1242.s();!(_step1242=_iterator1242.n()).done;){var _s715=_step1242.value;g.includes(_s715.localName)&&(_s715.removeAttribute("visibility"),_s715.style.removeProperty("visibility"),getComputedStyle(_s715).visibility!==i&&(_s715.style.visibility=i),"g"!==_s715.localName&&"a"!==_s715.localName||_t1862(_s715.children));}}catch(err){_iterator1242.e(err);}finally{_iterator1242.f();}};_t1862(e.children);}}},{key:"Mm",value:function Mm(){this.Bw();}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-objectsbrowser:developerMode",this["#developer-mode-button"].toggled),this["#filter-input"].value.trim().length>0&&(this["#filter-input"].value="",this.Rw()),this.ov(),this["#main"].focus();}},{key:"Vw",value:function(){var _Vw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee117(t){var e,_t1863,_i1214,_s716,_n516,_o414,_l341,_e1332,_i1215,_s717,_t1864,_o415,_t1865,_e1333,_o416,_t1866,_e1334,_o417,_t1867,_e1335,_o418,_t1868,_e1336,_t1869,_t1870,_t1871,_t1872,_t1873,_t1874,_t1875,_t1876,_t1877,_e1337,_i1216,_t1878,_t1879,_e1338,_e1339;return regeneratorRuntime.wrap(function _callee117$(_context118){while(1){switch(_context118.prev=_context118.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context118.next=27;break;}_t1863=this.Js.board,_i1214=e.value,_s716=_t1863.geometryPrecision,_n516=_t1863.transformPrecision,_o414=null,_l341=null;_t1863.undoManager.checkpoint("Add object");_e1332=_t1863.getBoundingClientRect(),_i1215=this.getBoundingClientRect(),_s717=new DOMRect(_e1332.x,_e1332.y,_i1215.x-_e1332.x,_e1332.height);_o414=new DOMPoint(_s717.x+_s717.width/2,_s717.y+_s717.height/2);if(!("g"===_i1214)){_context118.next=10;break;}_l341=Zi(_templateObject24());_context118.next=22;break;case 10:if(!("a"===_i1214)){_context118.next=14;break;}_l341=Zi(_templateObject25());_context118.next=22;break;case 14:if(!("image"===_i1214)){_context118.next=21;break;}_context118.next=17;return Kh("images/cornell-box.jpg");case 17:_t1864=_context118.sent;_l341=Zi(_templateObject26(),_o414.x-50,_o414.y-50,_t1864);_context118.next=22;break;case 21:if("rect"===_i1214)_l341=Zi(_templateObject27(),_o414.x-50,_o414.y-50,100,100);else if("circle"===_i1214)_l341=Zi(_templateObject28(),_o414.x,_o414.y);else if("ellipse"===_i1214)_l341=Zi(_templateObject29(),_o414.x,_o414.y);else if("line"===_i1214)_l341=Zi(_templateObject30(),_o414.x-50,_o414.y-50,_o414.x+50,_o414.y+50);else if("polyline"===_i1214){_o415=_o414,_t1865=_o415.x,_e1333=_o415.y;_l341=Zi(_templateObject31(),_t1865-50,_e1333-50,_t1865+50,_e1333+50);}else if("polygon"===_i1214){_o416=_o414,_t1866=_o416.x,_e1334=_o416.y;_l341=Zi(_templateObject32(),_t1866-50,_e1334-50,_t1866+50,_e1334+50);}else if("path"===_i1214){_o417=_o414,_t1867=_o417.x,_e1335=_o417.y;_l341=Zi(_templateObject33(),_t1867-50,_e1335-50,_t1867+100,_e1335-50,_t1867-100,_e1335+50,_t1867+50,_e1335+50);}else if("text"===_i1214){_o418=_o414,_t1868=_o418.x,_e1336=_o418.y;_l341=Zi(_templateObject34(),_t1868,_e1336);}else if("ring"===_i1214){_l341=Zi(_templateObject35());_t1869={type:"ring",values:[_o414.x,_o414.y,30,30,50,50]};_ml(_l341,_t1869,_s716);}else if("pie"===_i1214){_l341=Zi(_templateObject36());_t1870={type:"pie",values:[_o414.x,_o414.y,0,50,90,360]};_ml(_l341,_t1870,_s716);}else if("crescent"===_i1214){_l341=Zi(_templateObject37());_t1871={type:"crescent",values:[_o414.x-50,_o414.y-50,.5,0]};_ml(_l341,_t1871,_s716);}else if("triangle"===_i1214){_l341=Zi(_templateObject38());_t1872={type:"triangle",values:[_o414.x-50,_o414.y-50,100,100,.5,0]};_ml(_l341,_t1872,_s716);}else if("n-gon"===_i1214){_l341=Zi(_templateObject39());_t1873={type:"n-gon",values:[_o414.x,_o414.y,50,50,5,0]};_ml(_l341,_t1873,_s716);}else if("star"===_i1214){_l341=Zi(_templateObject40());_t1874={type:"star",values:[_o414.x,_o414.y,50,50,.4,5]};_ml(_l341,_t1874,_s716);}else if("cog"===_i1214){_l341=Zi(_templateObject41());_t1875={type:"cog",values:[_o414.x,_o414.y,1/3*50,2/3*50,50,.375,8]};_ml(_l341,_t1875,_s716);}else if("cross"===_i1214){_l341=Zi(_templateObject42());_t1876={type:"cross",values:[_o414.x-50,_o414.y-50,100,100,20,20,.5]};_ml(_l341,_t1876,_s716);}else if("spiral"===_i1214){_l341=Zi(_templateObject43());_t1877={type:"spiral",values:[_o414.x,_o414.y,0,50,0,1080]};_ml(_l341,_t1877,_s716);}case 22:_e1337=_t1863.currentContainer||_t1863.currentWorkspace,_i1216=_toConsumableArray(_e1337.children).reverse().find(function(e){return _t1863.selectedElements.includes(e);});if(_i1216){_t1878=this.qw(_i1216);_t1878&&_t1878.hasAttribute("data-expanded")?_i1216.append(_l341):_i1216.after(_l341);}else _e1337.append(_l341);if("g"!==_l341.localName&&"a"!==_l341.localName){_t1879=Ht(_l341).inverse(),_e1338=Vt(_l341).multiply(_t1879);_l341.setAttribute("transform",_e1338.toString()),fa(_l341,{geometryPrecision:_s716,transformPrecision:_n516});}_e1339=_l341.parentElement.closest("g, a");_t1863.selectedElements=[_l341],_t1863.currentContainer=_e1339===_t1863.currentWorkspace?null:_e1339;case 27:case"end":return _context118.stop();}}},_callee117,this);}));function Vw(_x144){return _Vw.apply(this,arguments);}return Vw;}()},{key:"vn",value:function vn(t){var e=so.fromEvent(t);if(e.matches("Enter")){var _t1880=this.Xw(!0),_e1340=_t1880.find(function(t){return t.hasAttribute("data-selected");});_t1880.find(function(t){return t.hasAttribute("data-edited");})?this["#main"].focus():_e1340&&this.iv(_e1340);}else if(e.matches("Backspace")||e.matches("Delete")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),t.preventDefault(),this.Qs.execCommand("delete"));}else if(e.matches("ArrowUp")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Bu());}else if(e.matches("ArrowDown")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.preventDefault(),t.stopPropagation(),this.Ru());}else if(e.matches("Shift","ArrowUp")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this.Xw(!0).find(function(t){return t.hasAttribute("data-edited");})||(t.stopPropagation(),this.Ru(!0));}else if(e.matches("ArrowRight")){var _e1341=this.Xw(!0),_i1217=_e1341.filter(function(t){return t.hasAttribute("data-selected");});_e1341.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1217.length||!0!==_i1217[0].hasAttribute("data-expandable")||!1!==_i1217[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.nv(_i1217[0]));}else if(e.matches("ArrowLeft")){var _e1342=this.Xw(!0),_i1218=_e1342.filter(function(t){return t.hasAttribute("data-selected");});_e1342.find(function(t){return t.hasAttribute("data-edited");})||1!==_i1218.length||!0!==_i1218[0].hasAttribute("data-expandable")||!0!==_i1218[0].hasAttribute("data-expanded")||(t.preventDefault(),t.stopPropagation(),this.sv(_i1218[0]));}}},{key:"iv",value:function iv(t){var _this762=this;{var _e1343=this["#items"].querySelector(".item[data-edited]");if(_e1343){if(_e1343===t)return;this.lv();}}var e=t.querySelector(".label"),i=t[mm],s=i.querySelector(":scope > bx-title"),n=this["#developer-mode-button"].toggled?"Object ID":"Object title",o="";!0===this["#developer-mode-button"].toggled&&i.id?o="#"+i.id:!1===this["#developer-mode-button"].toggled&&s&&(o=s.textContent);var l=qi(_templateObject44(),o,n);e.after(l),l.selectAll(),e.hidden=!0,t.setAttribute("data-edited",""),l.addEventListener("input",function(){null!==l.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),l.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this762.lv();}),l.validate=function(){var t=null;if(_this762["#developer-mode-button"].toggled){var _e1344=l.value.trim();if(_e1344.startsWith("#")&&(_e1344=_e1344.substring(1)),_e1344.length>0)if(Hi(_e1344)){!1===(null===_this762.Js.board.workspaces.querySelector("#"+CSS.escape(_e1344)))&&(t="Non-unique ID");}else t="Invalid ID";}l.error=t;};}},{key:"lv",value:function lv(){var t=this["#items"].querySelector(".item[data-edited]");if(t){var _e1345=t.querySelector(".label"),_i1219=t.querySelector("x-input"),_s718=t[mm];if(_i1219.remove(),_e1345.hidden=!1,t.removeAttribute("data-edited"),null===_i1219.error)if(this["#developer-mode-button"].toggled){var _t1881=_i1219.value.trim().toLowerCase();"#"===_t1881?_t1881="":_t1881.startsWith("#")&&(_t1881=_t1881.substring(1)),_s718.getAttribute("id")!==_t1881&&(this.Js.board.undoManager.checkpoint("Object ID"),""===_t1881?_s718.removeAttribute("id"):_s718.setAttribute("id",_t1881));}else{var _t1882=_s718.querySelector(":scope > bx-title"),_e1346=_i1219.value.trim();if(_t1882){_t1882.textContent!==_e1346&&(this.Js.board.undoManager.checkpoint("Object title"),""===_e1346?_t1882.remove():_t1882.textContent=_e1346);}else""!==_e1346&&(this.Js.board.undoManager.checkpoint("Object title"),_t1882=Ei("svg:bx-title"),_t1882.textContent=_e1346,_s718.prepend(_t1882));}}}},{key:"nv",value:function nv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;if(t.hasAttribute("data-expanded"))return;var i=parseInt(t.getAttribute("data-depth")),s=t.querySelector(".children"),n=t[mm],o=this.Js.board.outermostSelectedElements,l=this["#filter-input"].value.trim().toLowerCase();if(0===s.childElementCount){var _iterator1243=_createForOfIteratorHelper(n.children),_step1243;try{for(_iterator1243.s();!(_step1243=_iterator1243.n()).done;){var _t1883=_step1243.value;if(g.includes(_t1883.localName)){var _e1347=this.av(_t1883,i+1);o.includes(_t1883)&&_e1347.setAttribute("data-selected",""),!1===this.hv(_t1883,l)&&(_e1347.hidden=!0),s.append(_e1347);}}}catch(err){_iterator1243.e(err);}finally{_iterator1243.f();}}if(t.setAttribute("data-expanded",""),e){var _t1884=getComputedStyle(s).marginTop,_e1348="0px";"0px"===_t1884&&(_t1884="-"+getComputedStyle(s).height),s.animate({marginTop:[_t1884,_e1348]},{duration:250,easing:"ease"});}}},{key:"sv",value:function(){var _sv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee118(t){var e,i,s,n,_t1885,_args119=arguments;return regeneratorRuntime.wrap(function _callee118$(_context119){while(1){switch(_context119.prev=_context119.next){case 0:e=_args119.length>1&&_args119[1]!==undefined?_args119[1]:!0;i=t.querySelector(".children"),s=getComputedStyle(i).marginTop,n="-"+getComputedStyle(i).height;if(!(t.removeAttribute("data-expanded"),e)){_context119.next=6;break;}_t1885=i.animate({marginTop:[s,n]},{duration:250,easing:"ease"});_context119.next=6;return _t1885.finished;case 6:!1===t.hasAttribute("data-expanded")&&(i.innerHTML="");case 7:case"end":return _context119.stop();}}},_callee118);}));function sv(_x145){return _sv.apply(this,arguments);}return sv;}()},{key:"rv",value:function rv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var _iterator1244=_createForOfIteratorHelper(this["#items"].children),_step1244;try{for(_iterator1244.s();!(_step1244=_iterator1244.n()).done;){var _e1349=_step1244.value;this.sv(_e1349,t);}}catch(err){_iterator1244.e(err);}finally{_iterator1244.f();}}},{key:"av",value:function av(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;Ui(t);var i=Ni(t),s=qi(_templateObject45(),e,24*e,i);return s[mm]=t,"g"!==t.localName&&"a"!==t.localName||s.setAttribute("data-expandable",""),this.dv(s),this.cv(s),s;}},{key:"qw",value:function qw(t){var e=this.Xw();var _iterator1245=_createForOfIteratorHelper(e),_step1245;try{for(_iterator1245.s();!(_step1245=_iterator1245.n()).done;){var _i1220=_step1245.value;if(_i1220[mm]===t)return _i1220;}}catch(err){_iterator1245.e(err);}finally{_iterator1245.f();}return null;}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.Xw(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n517=s[0],_o419=i.indexOf(_n517);if(i[_o419-1]){var _s719=i[_o419-1][mm],_n518=_s719.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s719]):(e.selectedElements=[_s719],e.currentContainer=_n518===e.currentWorkspace?null:_n518);}}}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=this.Xw(!0),s=i.filter(function(t){return t.hasAttribute("data-selected");});if(s.length>0){var _n519=s[s.length-1],_o420=i.indexOf(_n519);if(i[_o420+1]){var _s720=i[_o420+1][mm],_n520=_s720.parentElement.closest("g, a");t?e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_s720]):(e.selectedElements=[_s720],e.currentContainer=_n520===e.currentWorkspace?null:_n520);}}}},{key:"Kw",value:function Kw(t,e,i){var _iterator1246=_createForOfIteratorHelper(t),_step1246;try{for(_iterator1246.s();!(_step1246=_iterator1246.n()).done;){var _i1221=_step1246.value;if(_i1221.contains(e))return!1;}}catch(err){_iterator1246.e(err);}finally{_iterator1246.f();}if(1===t.length){var _s721=this.Xw(!0),_n521=t[0],_o421=_s721.indexOf(e);if("start"===i){var _t1886=_s721[_o421-1];if(_t1886===_n521&&_t1886.getAttribute("data-depth")===_n521.getAttribute("data-depth"))return!1;}else if("end"===i){if(_s721[_o421+1]===_n521&&e.getAttribute("data-depth")===_n521.getAttribute("data-depth"))return!1;}}return!0;}},{key:"Xw",value:function Xw(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=[],i=function i(s){var _iterator1247=_createForOfIteratorHelper(s),_step1247;try{for(_iterator1247.s();!(_step1247=_iterator1247.n()).done;){var _n522=_step1247.value;t&&_n522.hasAttribute("hidden")||(e.push(_n522),_n522.hasAttribute("data-expanded")&&i(_n522.querySelector(".children").children));}}catch(err){_iterator1247.e(err);}finally{_iterator1247.f();}};return i(this["#items"].children),e;}},{key:"qs",value:function qs(){var t=this.Js.board,e=document.createDocumentFragment();var _iterator1248=_createForOfIteratorHelper(t.currentWorkspace.children),_step1248;try{for(_iterator1248.s();!(_step1248=_iterator1248.n()).done;){var _i1222=_step1248.value;if(g.includes(_i1222.localName)){var _t1887=this.av(_i1222,0);e.append(_t1887);}}}catch(err){_iterator1248.e(err);}finally{_iterator1248.f();}this["#items"].innerHTML="",this["#items"].append(e),this.Yw();}},{key:"cv",value:function cv(t){if(!1===this["#developer-mode-button"].toggled){var _e1350=t.querySelector(".label"),_i1223=t[mm],_s722=_i1223.querySelector(":scope > bx-title");_s722?(_e1350.textContent=_s722.textContent,_e1350.setAttribute("data-custom","")):(_e1350.textContent=Ui(_i1223),_e1350.removeAttribute("data-custom"));}else{var _e1351=t[mm],_i1224=t.querySelector(".label");_e1351.id?(_i1224.textContent="#"+_e1351.id,_i1224.setAttribute("data-custom","")):(_i1224.textContent=Ui(_e1351,"developer"),_i1224.removeAttribute("data-custom"));}}},{key:"dv",value:function dv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i=t[mm],_getComputedStyle6=getComputedStyle(i),s=_getComputedStyle6.visibility,n=_getComputedStyle6.pointerEvents;if("none"===n?t.setAttribute("data-locked",""):t.removeAttribute("data-locked"),"hidden"===s?t.setAttribute("data-hidden",""):t.removeAttribute("data-hidden"),e){var _iterator1249=_createForOfIteratorHelper(t.querySelector(".children").children),_step1249;try{for(_iterator1249.s();!(_step1249=_iterator1249.n()).done;){var _e1352=_step1249.value;this.dv(_e1352,!0);}}catch(err){_iterator1249.e(err);}finally{_iterator1249.f();}}}},{key:"Yw",value:function Yw(){var t=this.Js.board.selectedElements,e=this.Js.board.currentWorkspace;var _iterator1250=_createForOfIteratorHelper(t),_step1250;try{for(_iterator1250.s();!(_step1250=_iterator1250.n()).done;){var _i1225=_step1250.value;var _t1888=[];for(var _s723=_i1225.parentElement;_s723!==e;_s723=_s723.parentElement){_t1888.push(_s723);}_t1888.reverse();for(var _i1226=0,_t1889=_t1888;_i1226<_t1889.length;_i1226++){var _e1353=_t1889[_i1226];var _t1890=this.qw(_e1353);_t1890&&this.nv(_t1890,!1);}}}catch(err){_iterator1250.e(err);}finally{_iterator1250.f();}var _iterator1251=_createForOfIteratorHelper(this.Xw()),_step1251;try{for(_iterator1251.s();!(_step1251=_iterator1251.n()).done;){var _e1354=_step1251.value;t.includes(_e1354[mm])?(_e1354.setAttribute("data-selected",""),Li(_e1354)):_e1354.removeAttribute("data-selected");}}catch(err){_iterator1251.e(err);}finally{_iterator1251.f();}}},{key:"Rw",value:function Rw(){var _this763=this;var t=this["#filter-input"].value.trim().toLowerCase();if(0===t.length){this.rv(!1);var _iterator1252=_createForOfIteratorHelper(this["#items"].querySelectorAll(".item[hidden]")),_step1252;try{for(_iterator1252.s();!(_step1252=_iterator1252.n()).done;){var _t1891=_step1252.value;_t1891.hidden=!1;}}catch(err){_iterator1252.e(err);}finally{_iterator1252.f();}}else{var _e1355=function _e1355(i){var s=!0;var _iterator1253=_createForOfIteratorHelper(i),_step1253;try{for(_iterator1253.s();!(_step1253=_iterator1253.n()).done;){var _n523=_step1253.value;if(_this763.hv(_n523[mm],t)){if(_n523.hidden=!1,s=!1,_n523.hasAttribute("data-expandable")){_this763.nv(_n523,!1),_e1355(_n523.querySelector(".children").children)&&_this763.sv(_n523,!1);}}else _n523.hidden=!0;}}catch(err){_iterator1253.e(err);}finally{_iterator1253.f();}return s;};_e1355(this["#items"].children);}}},{key:"ov",value:function ov(){var _iterator1254=_createForOfIteratorHelper(this.Xw()),_step1254;try{for(_iterator1254.s();!(_step1254=_iterator1254.n()).done;){var _t1892=_step1254.value;this.cv(_t1892);}}catch(err){_iterator1254.e(err);}finally{_iterator1254.f();}}},{key:"Ww",value:function Ww(t){var _this764=this;if("attributes"===t.type&&"style"===t.attributeName){var _e1356=t.target,_i1227=this.Xw().find(function(t){return t[mm]===_e1356;});_i1227&&this.dv(_i1227,!0);}if(this["#developer-mode-button"].toggled){if("attributes"===t.type&&"id"===t.attributeName){var _e1357=this.Xw(),_i1228=t.target;var _iterator1255=_createForOfIteratorHelper(_e1357),_step1255;try{for(_iterator1255.s();!(_step1255=_iterator1255.n()).done;){var _t1893=_step1255.value;if(_t1893[mm]===_i1228){this.cv(_t1893);break;}}}catch(err){_iterator1255.e(err);}finally{_iterator1255.f();}}}else if("childList"===t.type)if("bx-title"===t.target.localName){var _e1358=this.Xw(),_i1229=t.target.parentElement;var _iterator1256=_createForOfIteratorHelper(_e1358),_step1256;try{for(_iterator1256.s();!(_step1256=_iterator1256.n()).done;){var _t1894=_step1256.value;if(_t1894[mm]===_i1229){this.cv(_t1894);break;}}}catch(err){_iterator1256.e(err);}finally{_iterator1256.f();}}else{var _e1359=this.Xw();for(var _i1230=0,_arr46=[].concat(_toConsumableArray(t.removedNodes),_toConsumableArray(t.addedNodes));_i1230<_arr46.length;_i1230++){var _i1231=_arr46[_i1230];if("bx-title"===_i1231.localName){(function(){var i=t.target,s=_e1359.find(function(t){return t[mm]===i;});s&&_this764.cv(s);})();}}}if("childList"===t.type){if(t.removedNodes.length>0){var _e1360=this.Xw();var _iterator1257=_createForOfIteratorHelper(_e1360),_step1257;try{for(_iterator1257.s();!(_step1257=_iterator1257.n()).done;){var _i1232=_step1257.value;_toConsumableArray(t.removedNodes).includes(_i1232[mm])&&_i1232.remove();}}catch(err){_iterator1257.e(err);}finally{_iterator1257.f();}}if(t.addedNodes.length>0){var _e1361=this.Xw(),_i1233=null;var _iterator1258=_createForOfIteratorHelper(_e1361),_step1258;try{for(_iterator1258.s();!(_step1258=_iterator1258.n()).done;){var _s725=_step1258.value;if(_s725[mm]===t.target){_i1233=_s725;break;}}}catch(err){_iterator1258.e(err);}finally{_iterator1258.f();}if(_i1233&&_i1233.hasAttribute("data-expanded")||t.target===this.Js.board.currentWorkspace){var _s724=null,_n524=null;if(t.previousSibling){var _loop24=function _loop24(_i1234){if(_i1234.localName&&g.includes(_i1234.localName)){var _t1895=_e1361.find(function(t){return t[mm]===_i1234;});if(_t1895){_s724=_t1895;return"break";}}};for(var _i1234=t.previousSibling;_i1234;_i1234=_i1234.previousElementSibling){var _ret=_loop24(_i1234);if(_ret==="break")break;}}if(null===_s724&&t.nextSibling){var _loop25=function _loop25(_i1235){if(_i1235.localName&&g.includes(_i1235.localName)){var _t1896=_e1361.find(function(t){return t[mm]===_i1235;});if(_t1896){_n524=_t1896;return"break";}}};for(var _i1235=t.nextSibling;_i1235;_i1235=_i1235.nextElementSibling){var _ret2=_loop25(_i1235);if(_ret2==="break")break;}}var _o422=_i1233?parseInt(_i1233.getAttribute("data-depth"))+1:0,_l342=document.createDocumentFragment();var _iterator1259=_createForOfIteratorHelper(t.addedNodes),_step1259;try{var _loop26=function _loop26(){var e=_step1259.value;if(e.localName&&g.includes(e.localName)){if(_toConsumableArray((_i1233||_this764["#items"]).children).find(function(t){return t[mm]===e;}));else{var _t1897=_this764.av(e,_o422);_this764.Js.board.selectedElements.includes(e)&&_t1897.setAttribute("data-selected",""),_l342.append(_t1897);}}};for(_iterator1259.s();!(_step1259=_iterator1259.n()).done;){_loop26();}}catch(err){_iterator1259.e(err);}finally{_iterator1259.f();}_s724?_s724.after(_l342):_n524?_n524.before(_l342):_i1233?_i1233.querySelector(".children").append(_l342):this["#items"].append(_l342);}}}}},{key:"jw",value:function(){var _jw=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee119(){var _t1898,_e1362,_i1236,_s726,_n525,_iterator1260,_step1260,_t1899;return regeneratorRuntime.wrap(function _callee119$(_context120){while(1){switch(_context120.prev=_context120.next){case 0:if(!(!1===this.Iw)){_context120.next=14;break;}this.Iw=!0;_context120.next=4;return fetch(Ls.iconset);case 4:_t1898=_context120.sent;_context120.next=7;return _t1898.text();case 7:_e1362=_context120.sent;_i1236=Zi(_templateObject46(),_e1362);_s726=document.createDocumentFragment();_n525=["arrow","lock-on","visibility-hidden"];_iterator1260=_createForOfIteratorHelper(_i1236.querySelectorAll("symbol"));try{for(_iterator1260.s();!(_step1260=_iterator1260.n()).done;){_t1899=_step1260.value;_t1899.id&&(_t1899.id.startsWith("object-")||_n525.includes(_t1899.id))&&_s726.append(_t1899);}}catch(err){_iterator1260.e(err);}finally{_iterator1260.f();}_i1236.style.display="none",_i1236.innerHTML="",_i1236.append(_s726),this._shadowRoot.append(_i1236);case 14:case"end":return _context120.stop();}}},_callee119,this);}));function jw(){return _jw.apply(this,arguments);}return jw;}()},{key:"hv",value:function hv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:!0;var n=!1;if(""!==e){if(this["#developer-mode-button"].toggled){if(t.id)-1!==("#"+t.id.toLowerCase()).indexOf(e)&&(n=!0);else{-1!==Ui(t,"developer").toLowerCase().indexOf(e)&&(n=!0);}}else{var _i1237=t.querySelector(":scope > bx-title"),_s727="";_s727=_i1237&&_i1237.textContent.trim().length>0?_i1237.textContent.trim():Ui(t,"designer"),-1!==_s727.toLowerCase().indexOf(e)&&(n=!0);}if(!1===n&&!0===s&&("g"===t.localName||"a"===t.localName)){var _iterator1261=_createForOfIteratorHelper(t.children),_step1261;try{for(_iterator1261.s();!(_step1261=_iterator1261.n()).done;){var _i1238=_step1261.value;if(g.includes(_i1238.localName)&&this.hv(_i1238,e)){n=!0;break;}}}catch(err){_iterator1261.e(err);}finally{_iterator1261.f();}}return!1===n&&!0===i&&("g"!==t.parentElement.localName&&"a"!==t.parentElement.localName||t.parentElement!==this.Js.board.currentWorkspace&&this.hv(t.parentElement,e,!1,!1)&&(n=!0)),n;}n=!0;}}]);return gm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(gm,"observedAttributes",["enabled"]);_defineProperty(gm,"_shadowTemplate",qi(_templateObject383()));_defineProperty(gm,"_shadowStyleSheet",Xi(_templateObject384()));customElements.define("bx-objectsbrowser",gm);var fm=/*#__PURE__*/function(_HTMLElement107){_inherits(fm,_HTMLElement107);var _super161=_createSuper(fm);_createClass(fm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function fm(){var _this765;_classCallCheck(this,fm);_this765=_super161.call(this),_this765._shadowRoot=_this765.attachShadow({mode:"closed"}),_this765._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,fm._shadowStyleSheet],_this765._shadowRoot.append(document.importNode(fm._shadowTemplate.content,!0));var _iterator1262=_createForOfIteratorHelper(_this765._shadowRoot.querySelectorAll("[id]")),_step1262;try{for(_iterator1262.s();!(_step1262=_iterator1262.n()).done;){var _t1900=_step1262.value;_this765["#"+_t1900.id]=_t1900;}}catch(err){_iterator1262.e(err);}finally{_iterator1262.f();}return _this765;}_createClass(fm,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){this["#objects-browser"].enabled=!0;}},{key:"sn",value:function sn(){this["#objects-browser"].enabled=!1;}}]);return fm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(fm,"observedAttributes",["enabled"]);_defineProperty(fm,"_shadowTemplate",qi(_templateObject385()));_defineProperty(fm,"_shadowStyleSheet",Xi(_templateObject386()));customElements.define("bx-objectspanel",fm);var wm=Symbol(),vm=Symbol();var ym=/*#__PURE__*/function(_HTMLElement108){_inherits(ym,_HTMLElement108);var _super162=_createSuper(ym);_createClass(ym,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function ym(){var _temp43,_this766;_classCallCheck(this,ym);(_temp43=_this766=_super162.call(this),_defineProperty(_assertThisInitialized(_this766),"ommands",{selectAll:{enabled:function enabled(){return _this766.pv();},exec:function exec(){return _this766.uv();}},deselectAll:{enabled:function enabled(){return _this766.xv();},exec:function exec(){return _this766.bv();}}}),_temp43),_this766.mv=Qi(_this766.qs,500,_assertThisInitialized(_this766)),_this766.gv=0,_this766._shadowRoot=_this766.attachShadow({mode:"closed"}),_this766._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,ym._shadowStyleSheet],_this766._shadowRoot.append(document.importNode(ym._shadowTemplate.content,!0));var _iterator1263=_createForOfIteratorHelper(_this766._shadowRoot.querySelectorAll("[id]")),_step1263;try{for(_iterator1263.s();!(_step1263=_iterator1263.n()).done;){var _t1901=_step1263.value;_this766["#"+_t1901.id]=_t1901;}}catch(err){_iterator1263.e(err);}finally{_iterator1263.f();}_this766.addEventListener("keydown",function(t){return _this766.vn(t);}),_this766["#items"].addEventListener("scroll",function(){return _this766.fv();}),_this766["#items"].addEventListener("contextmenu",function(t){return _this766.tp(t);}),_this766["#items"].addEventListener("pointerdown",function(t){return _this766.Qc(t);}),_this766["#items"].addEventListener("click",function(t){return _this766.Jc(t);}),_this766["#search-input"].addEventListener("input",function(){return _this766.wv();}),_this766["#developer-mode-button"].addEventListener("toggle",function(){return _this766.zu();}),_this766["#add-menu"].addEventListener("click",function(t){return _this766.Vw(t);}),_this766["#add-menu"].addEventListener("open",function(){return _this766.vv();}),_this766["#color-picker"].addEventListener("changestart",function(t){return _this766.Dx(t);});return _this766;}_createClass(ym,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"selectColors",value:function selectColors(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[wm].id);});this.yv(e,!0);}},{key:"tn",value:function tn(){var _this767=this;window.addEventListener("resize",this.nn=function(){_this767.kv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this767.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this767.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this767.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-colorsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this.Cv(),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail10=t.detail,e=_t$detail10.key,i=_t$detail10.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"kv",value:function kv(){this.Cv();}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced",s=!1;var _iterator1264=_createForOfIteratorHelper(e),_step1264;try{for(_iterator1264.s();!(_step1264=_iterator1264.n()).done;){var _t1902=_step1264.value;var _e1363=_t1902.target.nodeName,_n526=_t1902.addedNodes[0]?_t1902.addedNodes[0].nodeName:null,_o423=_t1902.removedNodes[0]?_t1902.removedNodes[0].nodeName:null,_l343=_t1902.attributeName;if("linearGradient"===_e1363||"radialGradient"===_e1363){if("bx-title"===_n526||"bx-title"===_o423){i="now";break;}if("id"===_l343){i="now",s=!0;break;}if("data-bx-pinned"===_l343){i="now";break;}}else if("bx-title"===_e1363){if(_n526||_o423){i="now";break;}}else if("linearGradient"===_n526||"radialGradient"===_n526||"linearGradient"===_o423||"radialGradient"===_o423){i="now",s=!0;break;}}}catch(err){_iterator1264.e(err);}finally{_iterator1264.f();}!0===s&&this.Cv(),"now"===i?this.qs():"debounced"===i&&this.mv();}},{key:"Sv",value:function Sv(){this.Cv(),this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this.Cv();}},{key:"tp",value:function(){var _tp2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee120(t){var e,_i1239,_s728,_n527;return regeneratorRuntime.wrap(function _callee120$(_context121){while(1){switch(_context121.prev=_context121.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context121.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1239=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[wm];});_s728=e[wm];_context121.next=7;return this.Qs.openContextMenu([{label:"Edit Color",value:"edit",disabled:1!==_i1239.length},{label:"Edit Color ID",value:"edit-id",disabled:1!==_i1239.length},{label:"Edit Color Title",value:"edit-title",disabled:1!==_i1239.length},{type:"separator"},{label:"Duplicate Color"+(_i1239.length>1?"s":""),value:"duplicate",disabled:0===_i1239.length},{label:"Delete Color"+(_i1239.length>1?"s":""),value:"delete",disabled:0===_i1239.length},{type:"separator"},{label:"Pin Color"+(_i1239.length>1?"s":""),value:"pin",disabled:void 0===_i1239.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Color"+(_i1239.length>1?"s":""),value:"unpin",disabled:void 0===_i1239.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Color Users",value:"select-users",disabled:1!==_i1239.length}]);case 7:_n527=_context121.sent;"edit"===_n527?this.editColor(_s728.id):"edit-id"===_n527?this.Pv(_s728.id,"id"):"edit-title"===_n527?this.Pv(_s728.id,"title"):"duplicate"===_n527?this.Dv():"delete"===_n527?this.zv():"pin"===_n527?this.Ov():"unpin"===_n527?this.Ev():"select-users"===_n527&&this.Tv(_s728.id);case 9:case"end":return _context121.stop();}}},_callee120,this);}));function tp(_x146){return _tp2.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys13=this.Qs.modKeys,e=_this$Qs$modKeys13.ctrl,i=_this$Qs$modKeys13.shift;if(!1===e&&!1===i){var _e1364=t.target.closest(".item"),_i1240=t.target.closest(".thumbnail"),_s729=t.target.closest(".counter-button"),_n528=t.target.closest(".pin-button"),_o424=_e1364[wm].id;_s729?this.Tv(_o424):_n528?_n528.toggled?this.Av(_o424):this.$v(_o424):_i1240?t.detail%2==0&&this.editColor(_o424):t.detail%2==0&&this.Pv(_o424);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1365=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1365&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this768=this;var _this$Qs$modKeys14=this.Qs.modKeys,e=_this$Qs$modKeys14.ctrl,i=_this$Qs$modKeys14.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.Cv(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[vm]=Date.now());else if(!0===i){var _t1903=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1366=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1366.length>0){var _i1241=_t1903.indexOf(s),_n529=_e1366.sort(function(t,e){return e[vm]-t[vm];})[0],_o425=_t1903.indexOf(_n529),_l344=[];if(_i1241>_o425?_l344=_toConsumableArray(_t1903).slice(_o425,_i1241+1):_i1241<_o425&&(_l344=_toConsumableArray(_t1903).slice(_i1241,_o425+1).reverse()),_l344=_l344.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l344.length>0){var _iterator1265=_createForOfIteratorHelper(_l344),_step1265;try{for(_iterator1265.s();!(_step1265=_iterator1265.n()).done;){var _t1904=_step1265.value;_t1904.setAttribute("data-selected",""),_t1904[vm]=Date.now();}}catch(err){_iterator1265.e(err);}finally{_iterator1265.f();}}}}else{var _t1907,_e1368,_i1242=!1;window.addEventListener("pointermove",_t1907=function _t1905(o){var l=new DOMPoint(o.clientX,o.clientY);if(ze(n,l)>=3){if(window.removeEventListener("pointermove",_t1907),window.removeEventListener("pointerup",_e1368),!1===s.hasAttribute("data-selected")){var _iterator1266=_createForOfIteratorHelper(_this768["#items"].children),_step1266;try{for(_iterator1266.s();!(_step1266=_iterator1266.n()).done;){var _t1906=_step1266.value;_t1906===s?(_t1906.setAttribute("data-selected",""),_t1906[vm]=Date.now()):_t1906.removeAttribute("data-selected");}}catch(err){_iterator1266.e(err);}finally{_iterator1266.f();}}_this768.Zw(o),_i1242=!0;}}),window.addEventListener("pointerup",_e1368=function _e1367(){if(window.removeEventListener("pointermove",_t1907),window.removeEventListener("pointerup",_e1368),!1===_i1242){var _iterator1267=_createForOfIteratorHelper(_this768["#items"].children),_step1267;try{for(_iterator1267.s();!(_step1267=_iterator1267.n()).done;){var _t1908=_step1267.value;_t1908===s?(_t1908.setAttribute("data-selected",""),_t1908[vm]=Date.now()):_t1908.removeAttribute("data-selected");}}catch(err){_iterator1267.e(err);}finally{_iterator1267.f();}}});}}},{key:"Zw",value:function Zw(t){var _this769=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this769["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this769.Qs.pointerClientPoint,e=_this769._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this769._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1369=l.getBoundingClientRect();if(a=t.y<_e1369.y+_e1369.height/2?"start":"end",_this769.Kw(n,l,a)){var _t1909=l.offsetTop-_this769["#items"].scrollTop;"end"===a&&(_t1909+=_e1369.height),_this769["#drop-indicator"].hidden=!1,_this769["#drop-indicator"].style.top=_t1909-1+"px";}else l=null,_this769["#drop-indicator"].hidden=!0;}else _this769["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s731){function s(_x147){return _s731.apply(this,arguments);}s.toString=function(){return _s731.toString();};return s;}(function(t){if(_this769["#items"].removeEventListener("pointermove",e),_this769["#items"].removeEventListener("scroll",i),_this769["#items"].removeEventListener("lostpointercapture",s),_this769["#items"].style.cursor=null,_this769["#drop-indicator"].hidden=!0,c(),_this769.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1370=n[0][wm],_i1243=_this769.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s730=_this769.Qs.modKeys.shift;_i1243&&w.includes(_i1243.localName)&&(_s730?(_this769.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1243.style.stroke="url(#".concat(_e1370.id,")")):(_this769.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1243.style.fill="url(#".concat(_e1370.id,")")),_this769.Iv());}}else if(l){_this769.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1910=document.createDocumentFragment(),_e1371=l[wm];var _iterator1268=_createForOfIteratorHelper(n),_step1268;try{for(_iterator1268.s();!(_step1268=_iterator1268.n()).done;){var _i1244=_step1268.value;_i1244[wm]!==_e1371&&_t1910.append(_i1244[wm]);}}catch(err){_iterator1268.e(err);}finally{_iterator1268.f();}"start"===a?_e1371.before(_t1910):_e1371.after(_t1910);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#color-picker-popover"].opened)return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t1911=this["#items"].querySelector(".item[data-label-edited]"),_e1372=this["#items"].querySelector(".item[data-selected]");_t1911?this.focus():_e1372&&this.Pv(_e1372[wm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-colorsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-color"===e.value?this.Rv():"add-color-from-fill"===e.value?this.Gv("fill"):"add-color-from-stroke"===e.value?this.Gv("stroke"):"add-color-from-library"===e.value&&(this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("colors-library-browser")));}},{key:"vv",value:function vv(){var t=this.Hx(),e=!1,i=!1;if(t.length>0){var _iterator1269=_createForOfIteratorHelper(t),_step1269;try{for(_iterator1269.s();!(_step1269=_iterator1269.n()).done;){var _i1245=_step1269.value;var _t1912=getComputedStyle(_i1245);if(yo(_t1912.fill)){e=!0;break;}{var _i1246=lo.fromString(_t1912.fill);if(_i1246&&"#"===_i1246.value[0]){var _t1913=this.Js.board.masterWorkspace.querySelector(_i1246.value);if(_t1913&&Mo(_t1913)){e=!0;break;}}}}}catch(err){_iterator1269.e(err);}finally{_iterator1269.f();}var _iterator1270=_createForOfIteratorHelper(t),_step1270;try{for(_iterator1270.s();!(_step1270=_iterator1270.n()).done;){var _e1373=_step1270.value;var _t1914=getComputedStyle(_e1373);if(yo(_t1914.stroke)){i=!0;break;}{var _e1374=lo.fromString(_t1914.stroke);if(_e1374&&"#"===_e1374.value[0]){var _t1915=this.Js.board.masterWorkspace.querySelector(_e1374.value);if(_t1915&&Mo(_t1915)){i=!0;break;}}}}}catch(err){_iterator1270.e(err);}finally{_iterator1270.f();}}this["#add-color-from-fill-menu-item"].disabled=!1===e,this["#add-color-from-stroke-menu-item"].disabled=!1===i;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Dx",value:function Dx(t){var _this770=this;var e,_i1247,s=this["#items"].querySelector(".item[data-selected]"),n=s.querySelector(".thumbnail-inner"),o=s[wm];this.Js.board.undoManager.checkpoint("Change color"),this["#color-picker"].addEventListener("change",e=function e(){Lo(o,_this770["#color-picker"].value),n.style.background=_this770["#color-picker"].value;}),this["#color-picker"].addEventListener("changeend",_i1247=function i(){_this770["#color-picker"].removeEventListener("change",e),_this770["#color-picker"].removeEventListener("changeend",_i1247);});}},{key:"editColor",value:function(){var _editColor=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee121(t){var e,_t1916,_i1248;return regeneratorRuntime.wrap(function _callee121$(_context122){while(1){switch(_context122.prev=_context122.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[wm].id===t;});if(!e){_context122.next=8;break;}this.yv([e]);_t1916=e.getBoundingClientRect(),_i1248=new DOMPoint(_t1916.left,_t1916.top+_t1916.height/2);_context122.next=6;return ts(10);case 6:this["#color-picker-popover"].open(_i1248);this["#color-picker"].value=Io(e[wm]);case 8:case"end":return _context122.stop();}}},_callee121,this);}));function editColor(_x148){return _editColor.apply(this,arguments);}return editColor;}()},{key:"Cv",value:function Cv(){this["#color-picker-popover"].opened&&this["#color-picker-popover"].close();}},{key:"Pv",value:function Pv(t){var _this771=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[wm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1917=this["#items"].querySelector(".item[data-label-edited]");if(_t1917){if(_t1917===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[wm],l=this["#developer-mode-button"].toggled?"Color ID":"Color title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=qi(_templateObject47(),h,l);n.after(r),r.selectAll(),ts(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this771.Uv();}),r.validate=function(){var t=null;if(_this771["#developer-mode-button"].toggled){var _e1375=r.value.trim();if(_e1375.startsWith("#")&&(_e1375=_e1375.substring(1)),0===_e1375.length)t="Color must have ID";else if(Hi(_e1375)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1375)))&&o.id!==_e1375&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1376=this.Js.board,_i1249=t.querySelector(".label"),_s732=t.querySelector("x-input"),_n530=t[wm];if(_s732.remove(),_i1249.hidden=!1,t.removeAttribute("data-label-edited"),null===_s732.error)if(this["#developer-mode-button"].toggled){var _t1918=_n530.getAttribute("id").trim(),_i1250=_s732.value.trim().toLowerCase();if(_i1250.startsWith("#")&&(_i1250=_i1250.substring(1)),_t1918!==_i1250){_e1376.undoManager.checkpoint("Gradient ID");var _s733=document.createNodeIterator(_e1376.workspaces,NodeFilter.SHOW_ELEMENT),_n531=null;for(;_n531=_s733.nextNode();){"linearGradient"!==_n531.localName&&"radialGradient"!==_n531.localName||(_n531.id===_t1918&&_n531.setAttribute("id",_i1250),_n531.href.baseVal==="#"+_t1918&&_n531.setAttribute("href","#"+_i1250));{var _e1377=getComputedStyle(_n531);for(var _i1251=0,_arr47=["fill","stroke"];_i1251<_arr47.length;_i1251++){var _s734=_arr47[_i1251];var _o426=_e1377.getPropertyValue(_s734);if(_o426&&_o426.startsWith("url(")){_o426.substring(6,_o426.length-2)===_t1918&&_n531.style.setProperty(_s734,"url(#".concat(_i1250,")"));}}}}}}else{var _t1919=_n530.querySelector(":scope > bx-title"),_i1252=_s732.value.trim();if(_t1919){_t1919.textContent!==_i1252&&(_e1376.undoManager.checkpoint("Color title"),""===_i1252?_t1919.remove():_t1919.textContent=_i1252);}else""!==_i1252&&(_e1376.undoManager.checkpoint("Color title"),_t1919=Ei("svg:bx-title"),_t1919.textContent=_i1252,_n530.prepend(_t1919));}}}},{key:"Av",value:function Av(t){this.Js.board.undoManager.checkpoint("Pin Color"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"$v",value:function $v(t){this.Js.board.undoManager.checkpoint("Unpin Color"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1271=_createForOfIteratorHelper(this["#items"].children),_step1271;try{for(_iterator1271.s();!(_step1271=_iterator1271.n()).done;){var _e1378=_step1271.value;t.includes(_e1378)?(_e1378.setAttribute("data-selected",""),_e1378[vm]=Date.now()):_e1378.removeAttribute("data-selected");}}catch(err){_iterator1271.e(err);}finally{_iterator1271.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.Cv();}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1253=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s735=e[0],_n532=_i1253.indexOf(_s735),_o427=_i1253[_n532-1];if(_o427){if(_o427.scrollIntoViewIfNeeded(),t)_o427.setAttribute("data-selected",""),_o427[vm]=Date.now();else{var _iterator1272=_createForOfIteratorHelper(_i1253),_step1272;try{for(_iterator1272.s();!(_step1272=_iterator1272.n()).done;){var _t1920=_step1272.value;_t1920===_o427?(_t1920.setAttribute("data-selected",""),_t1920[vm]=Date.now()):_t1920.removeAttribute("data-selected");}}catch(err){_iterator1272.e(err);}finally{_iterator1272.f();}}return this.Cv(),!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1254=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s736=e[e.length-1],_n533=_i1254.indexOf(_s736),_o428=_i1254[_n533+1];if(_o428){if(_o428.scrollIntoViewIfNeeded(),t)_o428.setAttribute("data-selected",""),_o428[vm]=Date.now();else{var _iterator1273=_createForOfIteratorHelper(_i1254),_step1273;try{for(_iterator1273.s();!(_step1273=_iterator1273.n()).done;){var _t1921=_step1273.value;_t1921===_o428?(_t1921.setAttribute("data-selected",""),_t1921[vm]=Date.now()):_t1921.removeAttribute("data-selected");}}catch(err){_iterator1273.e(err);}finally{_iterator1273.f();}}return this.Cv(),!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1274=_createForOfIteratorHelper(t),_step1274;try{for(_iterator1274.s();!(_step1274=_iterator1274.n()).done;){var _i1255=_step1274.value;_i1255===e?(_i1255.setAttribute("data-selected",""),_i1255[vm]=Date.now()):_i1255.removeAttribute("data-selected");}}catch(err){_iterator1274.e(err);}finally{_iterator1274.f();}return this.Cv(),!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1275=_createForOfIteratorHelper(t),_step1275;try{for(_iterator1275.s();!(_step1275=_iterator1275.n()).done;){var _i1256=_step1275.value;_i1256===e?(_i1256.setAttribute("data-selected",""),_i1256[vm]=Date.now()):_i1256.removeAttribute("data-selected");}}catch(err){_iterator1275.e(err);}finally{_iterator1275.f();}return this.Cv(),!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"pv",value:function pv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"xv",value:function xv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#color-picker-popover"].opened||null;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add Color");var i=Ei("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("color")),i.setAttribute("data-bx-pinned","true"),i.innerHTML='<stop style="stop-color: #d8d8d8;"></stop>',e.length>0){e[e.length-1][wm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[wm]===i;});this.yv([s]);}},{key:"Gv",value:function Gv(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=this.Hx(),n=[];var _iterator1276=_createForOfIteratorHelper(s),_step1276;try{for(_iterator1276.s();!(_step1276=_iterator1276.n()).done;){var _i1258=_step1276.value;var _s738=getComputedStyle(_i1258),_o430=null;if(!0===yo(_s738[t]))_o430=_s738[t];else{var _i1259=lo.fromString(_s738[t]);if(_i1259&&"#"===_i1259.value[0]){var _t1923=e.masterWorkspace.querySelector(_i1259.value);_t1923&&Mo(_t1923)&&(_o430=Io(_t1923));}}null!==_o430&&n.push(_o430);}}catch(err){_iterator1276.e(err);}finally{_iterator1276.f();}if(n=ei(n),n.length>0){e.undoManager.checkpoint(1===n.length?"Add color":"Add colors");var _t1922=[],_s737=i.length>0?i[i.length-1][wm]:null;var _iterator1277=_createForOfIteratorHelper(n),_step1277;try{for(_iterator1277.s();!(_step1277=_iterator1277.n()).done;){var _i1257=_step1277.value;var _n534=Ei("svg:linearGradient");_n534.setAttribute("id",e.generateUniqueID("color")),_n534.setAttribute("data-bx-pinned","true"),_n534.innerHTML="<stop style=\"stop-color: ".concat(_i1257,"\"></stop>"),_t1922.push(_n534),_s737?_s737.after(_n534):(e.maybeCreateDefsForMasterWorkspace(),e.defs.append(_n534)),_s737=_n534;}}catch(err){_iterator1277.e(err);}finally{_iterator1277.f();}this.qs();var _o429=_toConsumableArray(this["#items"].children).filter(function(e){return _t1922.includes(e[wm]);});this.yv(_o429);}}},{key:"Dv",value:function Dv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[wm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate colors");var _iterator1278=_createForOfIteratorHelper(e),_step1278;try{for(_iterator1278.s();!(_step1278=_iterator1278.n()).done;){var _i1260=_step1278.value;var _e1379=t.generateUniqueID("color"),_s739=Io(_i1260[wm]),_l345=Zi(_templateObject48(),_e1379,_s739);n.append(_l345),o.push(_l345);}}catch(err){_iterator1278.e(err);}finally{_iterator1278.f();}s.after(n);{this.qs();var _t1924=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[wm]);});this.yv(_t1924);}}},{key:"zv",value:function(){var _zv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee122(){var t,e,i,_iterator1279,_step1279,_step1279$value,_t1928,_s744,_iterator1281,_step1281,_n536,_t1925,_s740,_i1261,_s741,_i1262,_i1263,_arr48,_n535,_o431,_l346,_a257,_i1264,_s742,_iterator1280,_step1280,_t1927,_i1265,_s743,_t1926;return regeneratorRuntime.wrap(function _callee122$(_context123){while(1){switch(_context123.prev=_context123.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[wm];}),i=[];_iterator1279=_createForOfIteratorHelper(this.Nv());try{for(_iterator1279.s();!(_step1279=_iterator1279.n()).done;){_step1279$value=_slicedToArray(_step1279.value,2),_t1928=_step1279$value[0],_s744=_step1279$value[1];_iterator1281=_createForOfIteratorHelper(_s744);try{for(_iterator1281.s();!(_step1281=_iterator1281.n()).done;){_n536=_step1281.value;e.includes(_n536)&&!1===i.includes(_t1928)&&i.push(_t1928);}}catch(err){_iterator1281.e(err);}finally{_iterator1281.f();}}}catch(err){_iterator1279.e(err);}finally{_iterator1279.f();}if(!(0!==e.length)){_context123.next=19;break;}if(!(i.length>0)){_context123.next=12;break;}_t1925="Delete ";1===e.length?_t1925+="a color":_t1925+="".concat(e.length," colors"),_t1925+=" applied to ",1===i.length?_t1925+="1 object?":_t1925+="".concat(i.length," objects?");_context123.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1925,detail:"Deleting a color also removes it from all objects it was applied to."});case 9:_s740=_context123.sent;if(!(-1===_s740||1===_s740)){_context123.next=12;break;}return _context123.abrupt("return");case 12:t.undoManager.checkpoint("Delete colors"),this.Ru()||this.Bu();_i1261=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s741=null;for(;_s741=_i1261.nextNode();){if(w.includes(_s741.localName)){_i1262=getComputedStyle(_s741);for(_i1263=0,_arr48=["fill","stroke"];_i1263<_arr48.length;_i1263++){_n535=_arr48[_i1263];_o431=lo.fromString(_i1262[_n535]),_l346=_o431?t.masterWorkspace.querySelector(_o431.value):null,_a257=_l346&&["linearGradient","radialGradient"].includes(_l346.localName)?_l346:null;e.includes(_a257)&&(_s741.style[_n535]="#000000",_s741.removeAttribute(_n535));}}}_i1264=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s742=[];_iterator1280=_createForOfIteratorHelper(_i1264);try{for(_iterator1280.s();!(_step1280=_iterator1280.n()).done;){_t1927=_step1280.value;e.includes(_t1927)&&_s742.push(_t1927);}}catch(err){_iterator1280.e(err);}finally{_iterator1280.f();}for(_i1265=0,_s743=_s742;_i1265<_s743.length;_i1265++){_t1926=_s743[_i1265];_t1926.remove();}case 19:case"end":return _context123.stop();}}},_callee122,this);}));function zv(){return _zv.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[wm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin color"+e.length>1?"s":"");var _iterator1282=_createForOfIteratorHelper(e),_step1282;try{for(_iterator1282.s();!(_step1282=_iterator1282.n()).done;){var _t1929=_step1282.value;_t1929.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1282.e(err);}finally{_iterator1282.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[wm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin color"+e.length>1?"s":"");var _iterator1283=_createForOfIteratorHelper(e),_step1283;try{for(_iterator1283.s();!(_step1283=_iterator1283.n()).done;){var _t1930=_step1283.value;_t1930.removeAttribute("data-bx-pinned");}}catch(err){_iterator1283.e(err);}finally{_iterator1283.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s745=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n537=t[0],_o432=_s745.indexOf(e);if("start"===i){if(_s745[_o432-1]===_n537)return!1;}else if("end"===i){if(_s745[_o432+1]===_n537)return!1;}}return!0;}},{key:"Tv",value:function Tv(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1266=getComputedStyle(s);for(var _i1267=0,_arr49=["fill","stroke"];_i1267<_arr49.length;_i1267++){var _o433=_arr49[_i1267];var _l347=lo.fromString(_i1266[_o433]),_a258=_l347?e.masterWorkspace.querySelector(_l347.value):null,_h211=_a258&&["linearGradient","radialGradient"].includes(_a258.localName)?_a258:null;if(_h211&&_h211.id===t){var _t1931=s.closest("text");_t1931?!1===n.includes(_t1931)&&n.push(_t1931):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Nv",value:function Nv(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1268=getComputedStyle(s);for(var _i1269=0,_arr50=["fill","stroke"];_i1269<_arr50.length;_i1269++){var _n538=_arr50[_i1269];var _o434=lo.fromString(_i1268[_n538]),_l348=_o434?t.masterWorkspace.querySelector(_o434.value):null,_a259=_l348&&"linearGradient"==_l348.localName?_l348:null;_a259&&Mo(_a259)&&(!1===e.has(s)?e.set(s,[_a259]):e.get(s).push(_a259));}}}return e;}},{key:"Hx",value:function Hx(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1284=_createForOfIteratorHelper(s),_step1284;try{for(_iterator1284.s();!(_step1284=_iterator1284.n()).done;){var _n539=_step1284.value;t.includes(_n539.localName)?e.push(_n539):"g"!==_n539.localName&&"a"!==_n539.localName||i(_n539.children);}}catch(err){_iterator1284.e(err);}finally{_iterator1284.f();}};return i(this.Js.board.outermostSelectedElements),e;}},{key:"qs",value:function qs(){{var _t1932=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Mo(t);}),_e1380=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[wm];}),_i1270=document.createDocumentFragment();var _iterator1285=_createForOfIteratorHelper(_t1932),_step1285;try{for(_iterator1285.s();!(_step1285=_iterator1285.n()).done;){var _s746=_step1285.value;var _t1933=_s746.querySelector(":scope > stop"),_n540=getComputedStyle(_t1933).stopColor,_o435=qi(_templateObject49(),_n540,_s746.id);_o435[wm]=_s746,_e1380.includes(_s746)&&(_o435.setAttribute("data-selected",""),_o435[vm]=Date.now()),this.Vv(_o435),this.jv(_o435),_i1270.append(_o435);}}catch(err){_iterator1285.e(err);}finally{_iterator1285.f();}this["#items"].innerHTML="",this["#items"].append(_i1270);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1286=_createForOfIteratorHelper(this["#items"].children),_step1286;try{for(_iterator1286.s();!(_step1286=_iterator1286.n()).done;){var _t1934=_step1286.value;this.jv(_t1934);}}catch(err){_iterator1286.e(err);}finally{_iterator1286.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1287=_createForOfIteratorHelper(this["#items"].children),_step1287;try{for(_iterator1287.s();!(_step1287=_iterator1287.n()).done;){var _t1935=_step1287.value;this.Vv(_t1935),this.jv(_t1935);}}catch(err){_iterator1287.e(err);}finally{_iterator1287.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[wm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<color>",i.removeAttribute("data-custom"));else{var _t1936;_t1936=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1936?(i.textContent=_t1936.textContent,i.setAttribute("data-custom","")):(i.textContent="Color",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.Nv();var _iterator1288=_createForOfIteratorHelper(this["#items"].children),_step1288;try{for(_iterator1288.s();!(_step1288=_iterator1288.n()).done;){var _e1381=_step1288.value;var _i1271=_e1381.querySelector(".counter-button"),_s747=0;var _iterator1289=_createForOfIteratorHelper(t),_step1289;try{for(_iterator1289.s();!(_step1289=_iterator1289.n()).done;){var _step1289$value=_slicedToArray(_step1289.value,2),_i1272=_step1289$value[0],_n541=_step1289$value[1];_n541.includes(_e1381[wm])&&(_s747+=1);}}catch(err){_iterator1289.e(err);}finally{_iterator1289.f();}0===_s747?(_i1271.setAttribute("hidden",""),_i1271.firstElementChild.textContent="0"):(_i1271.setAttribute("title",1===_s747?"Select 1 color user":"Select ".concat(_s747," color users")),_i1271.removeAttribute("hidden"),_i1271.firstElementChild.textContent=_s747);}}catch(err){_iterator1288.e(err);}finally{_iterator1288.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.colors){var _iterator1290=_createForOfIteratorHelper(this["#items"].children),_step1290;try{for(_iterator1290.s();!(_step1290=_iterator1290.n()).done;){var _t1937=_step1290.value;var _e1382=_t1937[wm],_i1273=_t1937.lastElementChild;_i1273.hidden=!1,_i1273.toggled=_e1382.hasAttribute("data-bx-pinned");}}catch(err){_iterator1290.e(err);}finally{_iterator1290.f();}}else{var _iterator1291=_createForOfIteratorHelper(this["#items"].children),_step1291;try{for(_iterator1291.s();!(_step1291=_iterator1291.n()).done;){var _t1938=_step1291.value;_t1938.lastElementChild.hidden=!0;}}catch(err){_iterator1291.e(err);}finally{_iterator1291.f();}}}}]);return ym;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(ym,"observedAttributes",["enabled"]);_defineProperty(ym,"_shadowTemplate",qi(_templateObject387()));_defineProperty(ym,"_shadowStyleSheet",Xi(_templateObject388()));customElements.define("bx-colorsbrowser",ym);var km=Symbol(),Sm=Symbol();var _m=/*#__PURE__*/function(_HTMLElement109){_inherits(_m,_HTMLElement109);var _super163=_createSuper(_m);_createClass(_m,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedStops",get:function get(){return _toConsumableArray(this.Ra);},set:function set(t){this.Ra=_toConsumableArray(t),this.Hv(),this.Yv(),this.Wv(),this.qv();}}]);function _m(){var _this772;_classCallCheck(this,_m);_this772=_super163.call(this),_this772.tabIndex=0,_this772.Xv=!1,_this772.Zv=!1,_this772.Ra=[],_this772._shadowRoot=_this772.attachShadow({mode:"closed"}),_this772._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,_m._shadowStyleSheet],_this772._shadowRoot.append(document.importNode(_m._shadowTemplate.content,!0));var _iterator1292=_createForOfIteratorHelper(_this772._shadowRoot.querySelectorAll("[id]")),_step1292;try{for(_iterator1292.s();!(_step1292=_iterator1292.n()).done;){var _t1939=_step1292.value;_this772["#"+_t1939.id]=_t1939;}}catch(err){_iterator1292.e(err);}finally{_iterator1292.f();}_this772.addEventListener("keydown",function(t){return _this772.vn(t);}),_this772["#gradient-slider"].addEventListener("contextmenu",function(t){return _this772.Kv(t);}),_this772["#gradient-slider"].addEventListener("pointerdown",function(t){return _this772.Qv(t);}),_this772["#gradient-slider"].addEventListener("dblclick",function(t){return _this772.Jv(t);}),_this772["#stop-color-picker"].addEventListener("changestart",function(t){return _this772.Dx(t);}),_this772["#stop-offset-section"].addEventListener("changestart",function(){return _this772.ty();});return _this772;}_createClass(_m,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.ey=Ii(this,"bx-gradientsbrowser");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this773=this;{var _t1940=this.ey.selectedGradients[0],_e1383=[];if(_t1940[Sm]&&(_e1383=_t1940[Sm].filter(function(e){return _t1940.contains(e);})),0===_e1383.length){var _i1274=Ao(_t1940);_i1274.length>0&&(_e1383=[_i1274[0]]);}this.Ra=_e1383;}this.focus(),this.qs(),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this773.sl(t);}),this.ey.addEventListener("selectedgradientschange",this.iy=function(){_this773.qs();});}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.ey.removeEventListener("selectedgradientschange",this.iy);var t=this.ey.selectedGradients[0];t&&(t[Sm]=_toConsumableArray(this.selectedStops)),this["#gradient-slider"].removeAttribute("data-dragging"),this.Ra=[],this.Xv=!1,this.Zv=!1;}},{key:"sl",value:function sl(t){var _this774=this;var _iterator1293=_createForOfIteratorHelper(t.detail),_step1293;try{for(_iterator1293.s();!(_step1293=_iterator1293.n()).done;){var _e1384=_step1293.value;if("childList"===_e1384.type&&["linearGradient","radialGradient"].includes(_e1384.target.nodeName)){(function(){var t=_this774.ey.selectedGradients[0];_this774.Ra=_this774.Ra.filter(function(e){return t.contains(e);});})();}}}catch(err){_iterator1293.e(err);}finally{_iterator1293.f();}this.qs();}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);t.stopPropagation(),0!==this.Ra.length&&null===this._shadowRoot.activeElement&&(e.matches("Backspace")||e.matches("Delete")?this.rh():e.matches("Tab")?(t.preventDefault(),this.dh()):e.matches("Shift","Tab")?(t.preventDefault(),this.ph()):e.matches("ArrowLeft")?this.xh(-.01):e.matches("ArrowRight")?this.xh(.01):e.matches("Shift","ArrowLeft")?this.xh(-.1):e.matches("Shift","ArrowRight")&&this.xh(.1));}},{key:"Kv",value:function(){var _Kv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee123(t){var e,i,s,_e1385,_i1275;return regeneratorRuntime.wrap(function _callee123$(_context124){while(1){switch(_context124.prev=_context124.next){case 0:t.preventDefault(),t.target.matches(".marker")?!1===t.target.hasAttribute("data-selected")&&(this.selectedStops=[t.target[km]]):this.selectedStops=[];e=this.ey.selectedGradients[0];i=Ao(e);_context124.next=5;return this.Qs.openContextMenu([{value:"add-stop",label:"Add stop",disabled:!1},{value:"duplicate-stops",label:1===this.selectedStops.length?"Duplicate stop":"Duplicate stops",disabled:0===this.selectedStops.length},{value:"delete-stops",label:1===this.selectedStops.length?"Delete stop":"Delete stops",disabled:0===this.selectedStops.length},{value:"swap-stops",label:"Swap stops",disabled:2!==this.selectedStops.length},{type:"separator"},{label:"Reverse gradient",value:"reverse-gradient",disabled:i.length<=1},{label:"Harmonize gradient",value:"harmonize-gradient",disabled:i.length<1}]);case 5:s=_context124.sent;if("add-stop"===s){_e1385=this["#track"].getBoundingClientRect(),_i1275=(t.clientX-_e1385.x)/_e1385.width;_i1275=Q(_i1275,0,1,3),this.sy(_i1275);}else"duplicate-stops"===s?this.ny():"delete-stops"===s?this.rh():"reverse-gradient"===s?this.oy():"harmonize-gradient"===s&&this.ly();case 7:case"end":return _context124.stop();}}},_callee123,this);}));function Kv(_x149){return _Kv.apply(this,arguments);}return Kv;}()},{key:"Qv",value:function Qv(t){1===t.buttons&&(t.target.closest(".marker")?this.hy(t):this.selectedStops=[]);}},{key:"Jv",value:function Jv(t){if(t.target===this["#gradient-slider"]||t.target===this["#markers"]){var _e1386=this["#track"].getBoundingClientRect(),_i1276=(t.clientX-_e1386.x)/_e1386.width;_i1276=Q(_i1276,0,1,3),this.sy(_i1276);}}},{key:"hy",value:function hy(t){var _this775=this;if(1!==t.buttons)return;var e,_i1279,s=this.Js.board,n=this.ey.selectedGradients[0],o=Ao(n),l=t.target.closest(".marker"),a=this["#track"].getBoundingClientRect(),h=l.getBoundingClientRect(),r=new DOMPoint(t.clientX,t.clientY),d=r,_ref135=(t.clientX,h.x,h.width,this.Qs.modKeys),c=_ref135.alt,p=_ref135.shift,u=Symbol();!1===p?!1===this.selectedStops.includes(l[km])&&(this.selectedStops=[l[km]]):!0===p&&!1===this.selectedStops.includes(l[km])&&(this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),[l[km]]));var x=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),b=Math.max.apply(Math,_toConsumableArray(x.map(function(t){return-t[km].offset.baseVal;}))),m=Math.min.apply(Math,_toConsumableArray(x.map(function(t){return 1-t[km].offset.baseVal;})));var _iterator1294=_createForOfIteratorHelper(x),_step1294;try{for(_iterator1294.s();!(_step1294=_iterator1294.n()).done;){var _t1944=_step1294.value;_t1944[km][u]=_t1944[km].offset.baseVal;}}catch(err){_iterator1294.e(err);}finally{_iterator1294.f();}this["#gradient-slider"].setPointerCapture(t.pointerId),this["#gradient-slider"].addEventListener("pointermove",e=function e(_e1389){{var _i1277=new DOMPoint(_e1389.clientX,_e1389.clientY),_s748=_e1389.timeStamp-t.timeStamp;if(!0===Me(d,_i1277,0))return;if(d=_i1277,ze(r,_i1277)<3&&_s748<80)return;}!1===_this775.Xv&&(_this775.Xv=!0,s.undoManager.checkpoint("Move gradient stop"),_this775["#gradient-slider"].setAttribute("data-dragging",""));{var _i1278=(_e1389.clientX-t.clientX)/a.width;_i1278=Q(_i1278,b,m,3);var _iterator1295=_createForOfIteratorHelper(x),_step1295;try{for(_iterator1295.s();!(_step1295=_iterator1295.n()).done;){var _t1941=_step1295.value;var _e1387=_t1941[km],_s749=_e1387[u];_s749+=_i1278,_s749=Q(_s749,0,1,3),_t1941.style.left=100*_s749+"%",_e1387.setAttribute("offset",_s749);}}catch(err){_iterator1295.e(err);}finally{_iterator1295.f();}}{var _t1942=o.map(function(t){return t.offset.baseVal;});if(!1===J(_t1942,!0)){var _t1943=_toConsumableArray(o).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1296=_createForOfIteratorHelper(_t1943),_step1296;try{for(_iterator1296.s();!(_step1296=_iterator1296.n()).done;){var _e1388=_step1296.value;n.append(_e1388);}}catch(err){_iterator1296.e(err);}finally{_iterator1296.f();}o=Ao(n);}}_this775.py();}),this["#gradient-slider"].addEventListener("lostpointercapture",_i1279=function i(){_this775["#gradient-slider"].removeEventListener("pointermove",e),_this775["#gradient-slider"].removeEventListener("lostpointercapture",_i1279),_this775.Xv=!1,_this775["#gradient-slider"].removeAttribute("data-dragging");});}},{key:"Dx",value:function Dx(t){var _this776=this;var e,_i1280,s=this.Js.board,n=this.selectedStops;s.undoManager.checkpoint("Change gradient stop color"),this["#stop-color-picker"].addEventListener("change",e=function e(){var _iterator1297=_createForOfIteratorHelper(n),_step1297;try{for(_iterator1297.s();!(_step1297=_iterator1297.n()).done;){var _t1945=_step1297.value;_t1945.style.stopColor=_this776["#stop-color-picker"].value;}}catch(err){_iterator1297.e(err);}finally{_iterator1297.f();}}),this["#stop-color-picker"].addEventListener("changeend",_i1280=function i(){_this776["#stop-color-picker"].removeEventListener("change",e),_this776["#stop-color-picker"].removeEventListener("changeend",_i1280);var _iterator1298=_createForOfIteratorHelper(n),_step1298;try{for(_iterator1298.s();!(_step1298=_iterator1298.n()).done;){var _t1946=_step1298.value;Sh("stop-color",_t1946);}}catch(err){_iterator1298.e(err);}finally{_iterator1298.f();}});}},{key:"ty",value:function ty(){var _this777=this;this.Js.board.undoManager.checkpoint("Stop offset"),this.Zv=!0;var t,_e1391,i=this.ey.selectedGradients[0],s=Ao(i),n=this.selectedStops;this["#stop-offset-section"].addEventListener("change",t=function t(_t1950){_t1950.target===_this777["#stop-offset-slider"]?_this777["#stop-offset-input"].value=_this777["#stop-offset-slider"].value:_t1950.target===_this777["#width-input"]&&(_this777["#stop-offset-slider"].value=_this777["#stop-offset-input"].value),_this777["#stop-offset-slider"].mixed=!1,_this777["#stop-offset-input"].mixed=!1;var _iterator1299=_createForOfIteratorHelper(n),_step1299;try{for(_iterator1299.s();!(_step1299=_iterator1299.n()).done;){var _t1949=_step1299.value;_t1949.setAttribute("offset",_this777["#stop-offset-input"].value);}}catch(err){_iterator1299.e(err);}finally{_iterator1299.f();}{var _t1947=s.map(function(t){return t.offset.baseVal;});if(!1===J(_t1947,!0)){var _t1948=_toConsumableArray(s).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1300=_createForOfIteratorHelper(_t1948),_step1300;try{for(_iterator1300.s();!(_step1300=_iterator1300.n()).done;){var _e1390=_step1300.value;i.append(_e1390);}}catch(err){_iterator1300.e(err);}finally{_iterator1300.f();}s=Ao(i);}}_this777.uy(),_this777.Yv();}),this["#stop-offset-section"].addEventListener("changeend",_e1391=function e(){_this777["#stop-offset-section"].removeEventListener("change",t),_this777["#stop-offset-section"].removeEventListener("changeend",_e1391),_this777.Zv=!1;});}},{key:"sy",value:function sy(t){this.Js.board.undoManager.checkpoint("Add gradient stop");var e=this.ey.selectedGradients[0],i=Ao(e),s=null;for(var _e1392=0;_e1392<i.length;_e1392+=1){var _n542=i[_e1392];if(_n542.offset.baseVal<t)s=_e1392;else if(_n542.offset.baseVal>t)break;}var n=Ei("svg:stop");if(n.setAttribute("offset",t),i.length>0?n.style.stopColor=To(e,t):n.style.stopColor="#ff0000",null===s){var _t1951=_toConsumableArray(e.children).find(function(t){return"stop"===t.localName;});_t1951?_t1951.before(n):e.append(n);}else i[s].after(n);this.selectedStops=[n];}},{key:"dh",value:function dh(){var t=this.ey.selectedGradients[0],e=Ao(t),i=this.selectedStops;if(i.length>0){var _t1952=i[i.length-1],_s750=e.indexOf(_t1952),_n543=e[_s750<e.length-1?_s750+1:0];this.selectedStops=[_n543];}}},{key:"ph",value:function ph(){var t=this.ey.selectedGradients[0],e=Ao(t),i=this.selectedStops;if(i.length>0){var _t1953=i[i.length-1],_s751=e.indexOf(_t1953),_n544=e[_s751>0?_s751-1:e.length-1];this.selectedStops=[_n544];}}},{key:"rh",value:function rh(){var t=this.selectedStops;if(this.selectedStops=[],t.length>0){this.Js.board.undoManager.checkpoint("Delete gradient stop(s)");var _iterator1301=_createForOfIteratorHelper(t),_step1301;try{for(_iterator1301.s();!(_step1301=_iterator1301.n()).done;){var _e1393=_step1301.value;_e1393.remove();}}catch(err){_iterator1301.e(err);}finally{_iterator1301.f();}}}},{key:"ny",value:function ny(){this.Js.board.undoManager.checkpoint("Duplicate stops");var t=[];var _iterator1302=_createForOfIteratorHelper(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),_step1302;try{for(_iterator1302.s();!(_step1302=_iterator1302.n()).done;){var _e1394=_step1302.value;var _i1281=_e1394[km],_s752=Ei("svg:stop");_s752.setAttribute("offset",_i1281.offset.baseVal),_s752.style.stopColor=$o(_i1281),_i1281.after(_s752),t.push(_s752);}}catch(err){_iterator1302.e(err);}finally{_iterator1302.f();}this.selectedStops=[].concat(_toConsumableArray(this.selectedStops),t);}},{key:"xh",value:function xh(t){var e=this.ey.selectedGradients[0],i=Ao(e),s=_toConsumableArray(this["#markers"].querySelectorAll(":scope > .marker[data-selected]")),n=Math.max.apply(Math,_toConsumableArray(s.map(function(t){return-t[km].offset.baseVal;}))),o=Math.min.apply(Math,_toConsumableArray(s.map(function(t){return 1-t[km].offset.baseVal;})));if(0!==t){if(t>0){if(0===o)return;}else if(t<0&&0===n)return;this.Js.board.undoManager.checkpoint("Move gradient stop"),t=Q(t,n,o,3);var _iterator1303=_createForOfIteratorHelper(s),_step1303;try{for(_iterator1303.s();!(_step1303=_iterator1303.n()).done;){var _e1395=_step1303.value;var _i1283=_e1395[km],_s753=_i1283.offset.baseVal;_s753+=t,_s753=Q(_s753,0,1,3),_e1395.style.left=100*_s753+"%",_i1283.setAttribute("offset",_s753);}}catch(err){_iterator1303.e(err);}finally{_iterator1303.f();}{var _t1954=i.map(function(t){return t.offset.baseVal;});if(!1===J(_t1954,!0)){var _t1955=_toConsumableArray(i).sort(function(t,e){return t.offset.baseVal-e.offset.baseVal;});var _iterator1304=_createForOfIteratorHelper(_t1955),_step1304;try{for(_iterator1304.s();!(_step1304=_iterator1304.n()).done;){var _i1282=_step1304.value;e.append(_i1282);}}catch(err){_iterator1304.e(err);}finally{_iterator1304.f();}i=Ao(e);}}this.py();}}},{key:"oy",value:function oy(){this.Js.board.undoManager.checkpoint("Reverse gradient");var t=this.ey.selectedGradients[0],e=Ao(t);var _iterator1305=_createForOfIteratorHelper(_toConsumableArray(e).reverse()),_step1305;try{for(_iterator1305.s();!(_step1305=_iterator1305.n()).done;){var _i1284=_step1305.value;_i1284.offset.baseVal=1-_i1284.offset.baseVal,t.append(_i1284);}}catch(err){_iterator1305.e(err);}finally{_iterator1305.f();}}},{key:"ly",value:function ly(){this.Js.board.undoManager.checkpoint("Harmonize gradient");var t=this.ey.selectedGradients[0],e=Ao(t);for(var _t1956=0;_t1956<e.length;_t1956+=1){e[_t1956].setAttribute("offset",_t1956/(e.length-1));}}},{key:"qs",value:function qs(){this.uy(),this.Yv(),this.Wv(),this.qv();}},{key:"uy",value:function uy(){var t=this.ey.selectedGradients[0];if(t){var _e1396=Ao(t),_i1285=_e1396.map(function(t){return K(100*t.offset.baseVal,3);}),_s754=_e1396.map(function(t){return $o(t);});if(0===_e1396.length?(this["#left-gradient-slider-edge"].style.background="transparent",this["#right-gradient-slider-edge"].style.background="transparent",this["#track"].style.backgroundImage="linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0) 100%)"):1===_e1396.length?(this["#left-gradient-slider-edge"].style.background=_s754[0],this["#right-gradient-slider-edge"].style.background=_s754[0],this["#track"].style.backgroundImage="linear-gradient(90deg, ".concat(_s754[0]," 0%, ").concat(_s754[0]," 100%)")):(this["#left-gradient-slider-edge"].style.background=_s754[0],this["#right-gradient-slider-edge"].style.background=_s754[_s754.length-1],this["#track"].style.backgroundImage="linear-gradient(90deg, "+_e1396.map(function(t,e){return"".concat(_s754[e]," ").concat(_i1285[e],"%");}).join(", ")+")"),!1===this.Xv){this["#markers"].innerHTML="";for(var _t1957=0;_t1957<_e1396.length;_t1957+=1){var _s755=_e1396[_t1957],_n545=_i1285[_t1957],_o436=Ei("div");_o436[km]=_s755,_o436.setAttribute("class","marker"),_o436.style.left=_n545+"%",this["#markers"].append(_o436);}this.Hv(),this.py();}}}},{key:"Hv",value:function Hv(){var t=this.selectedStops;var _iterator1306=_createForOfIteratorHelper(this["#markers"].children),_step1306;try{for(_iterator1306.s();!(_step1306=_iterator1306.n()).done;){var _e1397=_step1306.value;t.includes(_e1397[km])?_e1397.setAttribute("data-selected",""):_e1397.removeAttribute("data-selected");}}catch(err){_iterator1306.e(err);}finally{_iterator1306.f();}}},{key:"py",value:function py(){var t=_toConsumableArray(this["#markers"].children),e=[];{(function(){var i=[],s=Symbol();var _iterator1307=_createForOfIteratorHelper(t),_step1307;try{for(_iterator1307.s();!(_step1307=_iterator1307.n()).done;){var _e1398=_step1307.value;_e1398[s]=_e1398.getBoundingClientRect();}}catch(err){_iterator1307.e(err);}finally{_iterator1307.f();}var _iterator1308=_createForOfIteratorHelper(t),_step1308;try{var _loop27=function _loop27(){var n=_step1308.value;var o=[],l=function l(e){var _iterator1310=_createForOfIteratorHelper(t),_step1310;try{for(_iterator1310.s();!(_step1310=_iterator1310.n()).done;){var _n546=_step1310.value;if(_n546!==e){var _t1958=!o.includes(_n546)&&!i.includes(_n546),_a260=_n546[s].left<=e[s].right&&e[s].left<=_n546[s].right;_t1958&&_a260&&(o.push(_n546),i.push(_n546),l(_n546));}}}catch(err){_iterator1310.e(err);}finally{_iterator1310.f();}};l(n),o.length>0&&e.push(Gi(o));};for(_iterator1308.s();!(_step1308=_iterator1308.n()).done;){_loop27();}}catch(err){_iterator1308.e(err);}finally{_iterator1308.f();}var _iterator1309=_createForOfIteratorHelper(t),_step1309;try{for(_iterator1309.s();!(_step1309=_iterator1309.n()).done;){var _s756=_step1309.value;i.includes(_s756)||e.push([_s756]);}}catch(err){_iterator1309.e(err);}finally{_iterator1309.f();}})();}for(var _i1286=0,_e1399=e;_i1286<_e1399.length;_i1286++){var _t1959=_e1399[_i1286];var _e1400=100/_t1959.length;for(var _i1287=0;_i1287<_t1959.length;_i1287+=1){var _s757=_t1959[_i1287];_s757.style.height=_e1400+"%",_s757.style.top=_e1400*_i1287+"%";}}}},{key:"Yv",value:function Yv(){!1===this.Xv&&(0===this.selectedStops.length?this["#stop-color-section"].hidden=!0:1===this.selectedStops.length&&(this["#stop-color-section"].hidden=!1,this["#stop-color-picker"].value=$o(this.selectedStops[0])));}},{key:"Wv",value:function Wv(){if(!1===this.Zv)if(0===this.selectedStops.length)this["#stop-offset-section"].hidden=!0;else{var _t1960=this.selectedStops.map(function(t){return t.offset.baseVal;}),_e1401=!(_t1960.length<=1)&&!ii(_t1960,_t1960[0]);this["#stop-offset-section"].hidden=!1,this["#stop-offset-slider"].mixed=_e1401,this["#stop-offset-slider"].value=K(_t1960[0],3),this["#stop-offset-input"].mixed=_e1401,this["#stop-offset-input"].value=K(_t1960[0],3);}}},{key:"qv",value:function qv(){0===this.selectedStops.length?this["#placeholder-section"].hidden=!1:this["#placeholder-section"].hidden=!0;}}]);return _m;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_m,"observedAttributes",["enabled"]);_defineProperty(_m,"_shadowTemplate",qi(_templateObject389()));_defineProperty(_m,"_shadowStyleSheet",Xi(_templateObject390()));customElements.define("bx-gradientinspector",_m);var Cm=Symbol(),Mm=Symbol();var Pm=/*#__PURE__*/function(_HTMLElement110){_inherits(Pm,_HTMLElement110);var _super164=_createSuper(Pm);_createClass(Pm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedGradients",get:function get(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Cm];});}}]);function Pm(){var _temp44,_this778;_classCallCheck(this,Pm);(_temp44=_this778=_super164.call(this),_defineProperty(_assertThisInitialized(_this778),"commands",{selectAll:{enabled:function enabled(){return _this778.pv();},exec:function exec(){return _this778.uv();}},deselectAll:{enabled:function enabled(){return _this778.xv();},exec:function exec(){return _this778.bv();}}}),_temp44),_this778.mv=Qi(_this778.qs,500,_assertThisInitialized(_this778)),_this778.gv=0,_this778._shadowRoot=_this778.attachShadow({mode:"closed"}),_this778._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Pm._shadowStyleSheet],_this778._shadowRoot.append(document.importNode(Pm._shadowTemplate.content,!0));var _iterator1311=_createForOfIteratorHelper(_this778._shadowRoot.querySelectorAll("[id]")),_step1311;try{for(_iterator1311.s();!(_step1311=_iterator1311.n()).done;){var _t1961=_step1311.value;_this778["#"+_t1961.id]=_t1961;}}catch(err){_iterator1311.e(err);}finally{_iterator1311.f();}_this778.addEventListener("keydown",function(t){return _this778.vn(t);}),_this778["#items"].addEventListener("scroll",function(){return _this778.fv();}),_this778["#items"].addEventListener("contextmenu",function(t){return _this778.tp(t);}),_this778["#items"].addEventListener("pointerdown",function(t){return _this778.Qc(t);}),_this778["#items"].addEventListener("click",function(t){return _this778.Jc(t);}),_this778["#search-input"].addEventListener("input",function(){return _this778.wv();}),_this778["#developer-mode-button"].addEventListener("toggle",function(){return _this778.zu();}),_this778["#add-menu"].addEventListener("click",function(t){return _this778.Vw(t);}),_this778["#add-menu"].addEventListener("open",function(){return _this778.vv();}),_this778["#gradient-inspector-popover"].addEventListener("close",function(){return _this778["#gradient-inspector"].enabled=!1;});return _this778;}_createClass(Pm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"selectGradients",value:function selectGradients(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[Cm].id);});this.yv(e,!0);}},{key:"tn",value:function tn(){var _this779=this;window.addEventListener("resize",this.nn=function(){_this779.kv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this779.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this779.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this779.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-gradientsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this.xy(),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail11=t.detail,e=_t$detail11.key,i=_t$detail11.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"kv",value:function kv(){this.xy();}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced",s=!1;var _iterator1312=_createForOfIteratorHelper(e),_step1312;try{for(_iterator1312.s();!(_step1312=_iterator1312.n()).done;){var _t1962=_step1312.value;var _e1402=_t1962.target.nodeName,_n547=_t1962.addedNodes[0]?_t1962.addedNodes[0].nodeName:null,_o437=_t1962.removedNodes[0]?_t1962.removedNodes[0].nodeName:null,_l349=_t1962.attributeName;if("linearGradient"===_e1402||"radialGradient"===_e1402){if("bx-title"===_n547||"bx-title"===_o437){i="now";break;}if("id"===_l349){i="now",s=!0;break;}if("data-bx-pinned"===_l349){i="now";break;}}else if("bx-title"===_e1402){if(_n547||_o437){i="now";break;}}else if("linearGradient"===_n547||"radialGradient"===_n547||"linearGradient"===_o437||"radialGradient"===_o437){i="now",s=!0;break;}}}catch(err){_iterator1312.e(err);}finally{_iterator1312.f();}!0===s&&this.xy(),"now"===i?this.qs():"debounced"===i&&this.mv();}},{key:"Sv",value:function Sv(){this.xy(),this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this.xy();}},{key:"tp",value:function(){var _tp3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee124(t){var e,_i1288,_s758,_n548;return regeneratorRuntime.wrap(function _callee124$(_context125){while(1){switch(_context125.prev=_context125.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context125.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1288=this.selectedGradients;_s758=e[Cm];_context125.next=7;return this.Qs.openContextMenu([{label:"Edit Gradient",value:"edit",disabled:1!==_i1288.length},{label:"Edit Gradient ID",value:"edit-id",disabled:1!==_i1288.length},{label:"Edit Gradient Title",value:"edit-title",disabled:1!==_i1288.length},{type:"separator"},{label:"Duplicate Gradient"+(_i1288.length>1?"s":""),value:"duplicate",disabled:0===_i1288.length},{label:"Delete Gradient"+(_i1288.length>1?"s":""),value:"delete",disabled:0===_i1288.length},{type:"separator"},{label:"Pin Gradient"+(_i1288.length>1?"s":""),value:"pin",disabled:void 0===_i1288.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Gradient"+(_i1288.length>1?"s":""),value:"unpin",disabled:void 0===_i1288.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Gradient Users",value:"select-users",disabled:1!==_i1288.length}]);case 7:_n548=_context125.sent;"edit"===_n548?this.editGradient(_s758.id):"edit-id"===_n548?this.Pv(_s758.id,"id"):"edit-title"===_n548?this.Pv(_s758.id,"title"):"duplicate"===_n548?this.Dv():"delete"===_n548?this.zv():"pin"===_n548?this.Ov():"unpin"===_n548?this.Ev():"select-users"===_n548&&this.by(_s758.id);case 9:case"end":return _context125.stop();}}},_callee124,this);}));function tp(_x150){return _tp3.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys15=this.Qs.modKeys,e=_this$Qs$modKeys15.ctrl,i=_this$Qs$modKeys15.shift;if(!1===e&&!1===i){var _e1403=t.target.closest(".item"),_i1289=t.target.closest(".thumbnail"),_s759=t.target.closest(".counter-button"),_n549=t.target.closest(".pin-button"),_o438=_e1403[Cm].id;_s759?this.by(_o438):_n549?_n549.toggled?this.my(_o438):this.gy(_o438):_i1289?t.detail%2==0&&this.editGradient(_o438):t.detail%2==0&&this.Pv(_o438);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1404=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1404&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this780=this;var _this$Qs$modKeys16=this.Qs.modKeys,e=_this$Qs$modKeys16.ctrl,i=_this$Qs$modKeys16.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.xy(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Mm]=Date.now()),this.dispatchEvent(new CustomEvent("selectedgradientschange"));else if(!0===i){var _t1963=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1405=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1405.length>0){var _i1290=_t1963.indexOf(s),_n550=_e1405.sort(function(t,e){return e[Mm]-t[Mm];})[0],_o439=_t1963.indexOf(_n550),_l350=[];if(_i1290>_o439?_l350=_toConsumableArray(_t1963).slice(_o439,_i1290+1):_i1290<_o439&&(_l350=_toConsumableArray(_t1963).slice(_i1290,_o439+1).reverse()),_l350=_l350.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l350.length>0){var _iterator1313=_createForOfIteratorHelper(_l350),_step1313;try{for(_iterator1313.s();!(_step1313=_iterator1313.n()).done;){var _t1964=_step1313.value;_t1964.setAttribute("data-selected",""),_t1964[Mm]=Date.now(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1313.e(err);}finally{_iterator1313.f();}}}}else{var _t1967,_e1407,_i1291=!1;window.addEventListener("pointermove",_t1967=function _t1965(o){var l=new DOMPoint(o.clientX,o.clientY);if(ze(n,l)>=3){if(window.removeEventListener("pointermove",_t1967),window.removeEventListener("pointerup",_e1407),!1===s.hasAttribute("data-selected")){var _iterator1314=_createForOfIteratorHelper(_this780["#items"].children),_step1314;try{for(_iterator1314.s();!(_step1314=_iterator1314.n()).done;){var _t1966=_step1314.value;_t1966===s?(_t1966.setAttribute("data-selected",""),_t1966[Mm]=Date.now()):_t1966.removeAttribute("data-selected"),_this780.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1314.e(err);}finally{_iterator1314.f();}}_this780.Zw(o),_i1291=!0;}}),window.addEventListener("pointerup",_e1407=function _e1406(){if(window.removeEventListener("pointermove",_t1967),window.removeEventListener("pointerup",_e1407),!1===_i1291){var _iterator1315=_createForOfIteratorHelper(_this780["#items"].children),_step1315;try{for(_iterator1315.s();!(_step1315=_iterator1315.n()).done;){var _t1968=_step1315.value;_t1968===s?(_t1968.setAttribute("data-selected",""),_t1968[Mm]=Date.now()):_t1968.removeAttribute("data-selected"),_this780.dispatchEvent(new CustomEvent("selectedgradientschange"));}}catch(err){_iterator1315.e(err);}finally{_iterator1315.f();}}});}}},{key:"Zw",value:function Zw(t){var _this781=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this781["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this781.Qs.pointerClientPoint,e=_this781._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this781._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1408=l.getBoundingClientRect();if(a=t.y<_e1408.y+_e1408.height/2?"start":"end",_this781.Kw(n,l,a)){var _t1969=l.offsetTop-_this781["#items"].scrollTop;"end"===a&&(_t1969+=_e1408.height),_this781["#drop-indicator"].hidden=!1,_this781["#drop-indicator"].style.top=_t1969-1+"px";}else l=null,_this781["#drop-indicator"].hidden=!0;}else _this781["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s761){function s(_x151){return _s761.apply(this,arguments);}s.toString=function(){return _s761.toString();};return s;}(function(t){if(_this781["#items"].removeEventListener("pointermove",e),_this781["#items"].removeEventListener("scroll",i),_this781["#items"].removeEventListener("lostpointercapture",s),_this781["#items"].style.cursor=null,_this781["#drop-indicator"].hidden=!0,c(),_this781.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1409=n[0][Cm],_i1292=_this781.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s760=_this781.Qs.modKeys.shift;_i1292&&w.includes(_i1292.localName)&&(_s760?(_this781.Js.board.undoManager.checkpoint("Apply gradient stroke"),_i1292.style.stroke="url(#".concat(_e1409.id,")")):(_this781.Js.board.undoManager.checkpoint("Apply gradient fill"),_i1292.style.fill="url(#".concat(_e1409.id,")")),_this781.Iv());}}else if(l){_this781.Js.board.undoManager.checkpoint("Rearrange gradients");var _t1970=document.createDocumentFragment(),_e1410=l[Cm];var _iterator1316=_createForOfIteratorHelper(n),_step1316;try{for(_iterator1316.s();!(_step1316=_iterator1316.n()).done;){var _i1293=_step1316.value;_i1293[Cm]!==_e1410&&_t1970.append(_i1293[Cm]);}}catch(err){_iterator1316.e(err);}finally{_iterator1316.f();}"start"===a?_e1410.before(_t1970):_e1410.after(_t1970);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#gradient-inspector-popover"].opened)return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t1971=this["#items"].querySelector(".item[data-label-edited]"),_e1411=this["#items"].querySelector(".item[data-selected]");_t1971?this.focus():_e1411&&this.Pv(_e1411[Cm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-gradientsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-gradient"===e.value?this.Rv():"add-gradient-from-fill"===e.value?this.wy("fill"):"add-gradient-from-stroke"===e.value&&this.wy("stroke"));}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements,e=null,i=null;if(1===t.length){var _s762=getComputedStyle(t[0]),_n551=lo.fromString(_s762.fill),_o440=lo.fromString(_s762.stroke);if(_n551&&"#"===_n551.value[0]){var _t1972=this.Js.board.masterWorkspace.querySelector(_n551.value);!_t1972||"linearGradient"!==_t1972.localName&&"radialGradient"!==_t1972.localName||!1!==Mo(_t1972)||(e=_t1972);}if(_o440&&"#"===_o440.value[0]){var _t1973=this.Js.board.masterWorkspace.querySelector(_o440.value);!_t1973||"linearGradient"!==_t1973.localName&&"radialGradient"!==_t1973.localName||!1!==Mo(_t1973)||(i=_t1973);}}this["#add-gradient-from-fill-menu-item"].disabled=null===e,this["#add-gradient-from-stroke-menu-item"].disabled=null===i;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"editGradient",value:function(){var _editGradient=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee125(t){var e,_t1974,_i1294;return regeneratorRuntime.wrap(function _callee125$(_context126){while(1){switch(_context126.prev=_context126.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[Cm].id===t;});if(!e){_context126.next=8;break;}this.yv([e]);_t1974=e.getBoundingClientRect(),_i1294=new DOMPoint(_t1974.left,_t1974.top+_t1974.height/2);_context126.next=6;return ts(10);case 6:this["#gradient-inspector-popover"].open(_i1294);this["#gradient-inspector"].enabled=!0;case 8:case"end":return _context126.stop();}}},_callee125,this);}));function editGradient(_x152){return _editGradient.apply(this,arguments);}return editGradient;}()},{key:"xy",value:function xy(){this["#gradient-inspector-popover"].opened&&(this["#gradient-inspector-popover"].close(),this["#gradient-inspector"].enabled=!1);}},{key:"Pv",value:function Pv(t){var _this782=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Cm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t1975=this["#items"].querySelector(".item[data-label-edited]");if(_t1975){if(_t1975===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Cm],l=this["#developer-mode-button"].toggled?"Gradient ID":"Gradient title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=qi(_templateObject50(),h,l);n.after(r),r.selectAll(),ts(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this782.Uv();}),r.validate=function(){var t=null;if(_this782["#developer-mode-button"].toggled){var _e1412=r.value.trim();if(_e1412.startsWith("#")&&(_e1412=_e1412.substring(1)),0===_e1412.length)t="Gradient must have ID";else if(Hi(_e1412)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1412)))&&o.id!==_e1412&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1413=this.Js.board,_i1295=t.querySelector(".label"),_s763=t.querySelector("x-input"),_n552=t[Cm];if(_s763.remove(),_i1295.hidden=!1,t.removeAttribute("data-label-edited"),null===_s763.error)if(this["#developer-mode-button"].toggled){var _t1976=_n552.getAttribute("id").trim(),_i1296=_s763.value.trim().toLowerCase();if(_i1296.startsWith("#")&&(_i1296=_i1296.substring(1)),_t1976!==_i1296){_e1413.undoManager.checkpoint("Gradient ID");var _s764=document.createNodeIterator(_e1413.workspaces,NodeFilter.SHOW_ELEMENT),_n553=null;for(;_n553=_s764.nextNode();){"linearGradient"!==_n553.localName&&"radialGradient"!==_n553.localName||(_n553.id===_t1976&&_n553.setAttribute("id",_i1296),_n553.href.baseVal==="#"+_t1976&&_n553.setAttribute("href","#"+_i1296));{var _e1414=getComputedStyle(_n553);for(var _i1297=0,_arr51=["fill","stroke"];_i1297<_arr51.length;_i1297++){var _s765=_arr51[_i1297];var _o441=_e1414.getPropertyValue(_s765);if(_o441&&_o441.startsWith("url(")){_o441.substring(6,_o441.length-2)===_t1976&&_n553.style.setProperty(_s765,"url(#".concat(_i1296,")"));}}}}}}else{var _t1977=_n552.querySelector(":scope > bx-title"),_i1298=_s763.value.trim();if(_t1977){_t1977.textContent!==_i1298&&(_e1413.undoManager.checkpoint("Gradient title"),""===_i1298?_t1977.remove():_t1977.textContent=_i1298);}else""!==_i1298&&(_e1413.undoManager.checkpoint("Gradient title"),_t1977=Ei("svg:bx-title"),_t1977.textContent=_i1298,_n552.prepend(_t1977));}}}},{key:"my",value:function my(t){this.Js.board.undoManager.checkpoint("Pin Gradient"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"gy",value:function gy(t){this.Js.board.undoManager.checkpoint("Unpin Gradient"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1317=_createForOfIteratorHelper(this["#items"].children),_step1317;try{for(_iterator1317.s();!(_step1317=_iterator1317.n()).done;){var _e1415=_step1317.value;t.includes(_e1415)?(_e1415.setAttribute("data-selected",""),_e1415[Mm]=Date.now()):_e1415.removeAttribute("data-selected");}}catch(err){_iterator1317.e(err);}finally{_iterator1317.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange"));}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1299=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s766=e[0],_n554=_i1299.indexOf(_s766),_o442=_i1299[_n554-1];if(_o442){if(_o442.scrollIntoViewIfNeeded(),t)_o442.setAttribute("data-selected",""),_o442[Mm]=Date.now();else{var _iterator1318=_createForOfIteratorHelper(_i1299),_step1318;try{for(_iterator1318.s();!(_step1318=_iterator1318.n()).done;){var _t1978=_step1318.value;_t1978===_o442?(_t1978.setAttribute("data-selected",""),_t1978[Mm]=Date.now()):_t1978.removeAttribute("data-selected");}}catch(err){_iterator1318.e(err);}finally{_iterator1318.f();}}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1300=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s767=e[e.length-1],_n555=_i1300.indexOf(_s767),_o443=_i1300[_n555+1];if(_o443){if(_o443.scrollIntoViewIfNeeded(),t)_o443.setAttribute("data-selected",""),_o443[Mm]=Date.now();else{var _iterator1319=_createForOfIteratorHelper(_i1300),_step1319;try{for(_iterator1319.s();!(_step1319=_iterator1319.n()).done;){var _t1979=_step1319.value;_t1979===_o443?(_t1979.setAttribute("data-selected",""),_t1979[Mm]=Date.now()):_t1979.removeAttribute("data-selected");}}catch(err){_iterator1319.e(err);}finally{_iterator1319.f();}}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1320=_createForOfIteratorHelper(t),_step1320;try{for(_iterator1320.s();!(_step1320=_iterator1320.n()).done;){var _i1301=_step1320.value;_i1301===e?(_i1301.setAttribute("data-selected",""),_i1301[Mm]=Date.now()):_i1301.removeAttribute("data-selected");}}catch(err){_iterator1320.e(err);}finally{_iterator1320.f();}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1321=_createForOfIteratorHelper(t),_step1321;try{for(_iterator1321.s();!(_step1321=_iterator1321.n()).done;){var _i1302=_step1321.value;_i1302===e?(_i1302.setAttribute("data-selected",""),_i1302[Mm]=Date.now()):_i1302.removeAttribute("data-selected");}}catch(err){_iterator1321.e(err);}finally{_iterator1321.f();}return this.xy(),this.dispatchEvent(new CustomEvent("selectedgradientschange")),!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"pv",value:function pv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"xv",value:function xv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#gradient-inspector-popover"].opened||null;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add gradient");var i=Ei("svg:linearGradient");if(i.setAttribute("id",t.generateUniqueID("gradient")),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Cm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Cm]===i;});this.yv([s]);}},{key:"wy",value:function wy(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"fill";var e=this.Js.board,i=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),s=e.selectedObjectElements[0],n=lo.fromString(getComputedStyle(s)[t]),o=e.masterWorkspace.querySelector(n.value);e.undoManager.checkpoint("Add gradient");var l=Ei("svg:linearGradient");l.setAttribute("id",e.generateUniqueID("gradient")),l.setAttribute("data-bx-pinned","true");var _iterator1322=_createForOfIteratorHelper(Oo(o)),_step1322;try{for(_iterator1322.s();!(_step1322=_iterator1322.n()).done;){var _t1980=_step1322.value;var _e1416=Ei("svg:stop");_e1416.offset.baseVal=_t1980.offset.baseVal,_e1416.style.stopColor=$o(_t1980),l.append(_e1416);}}catch(err){_iterator1322.e(err);}finally{_iterator1322.f();}if(i.length>0){i[i.length-1][Cm].after(l);}else e.maybeCreateDefsForMasterWorkspace(),e.defs.append(l);this.qs();var a=_toConsumableArray(this["#items"].children).find(function(t){return t[Cm]===l;});this.yv([a]);}},{key:"Dv",value:function Dv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"),i=e.length>0?e[e.length-1]:null,s=i?i[Cm]:null,n=document.createDocumentFragment(),o=[];t.undoManager.checkpoint("Duplicate gradient"+(e.length>1?"s":""));var _iterator1323=_createForOfIteratorHelper(e),_step1323;try{for(_iterator1323.s();!(_step1323=_iterator1323.n()).done;){var _i1303=_step1323.value;var _e1417=Ei("svg:linearGradient");_e1417.setAttribute("id",t.generateUniqueID("gradient"));var _iterator1324=_createForOfIteratorHelper(Oo(_i1303[Cm])),_step1324;try{for(_iterator1324.s();!(_step1324=_iterator1324.n()).done;){var _t1982=_step1324.value;var _i1304=Ei("svg:stop");_i1304.offset.baseVal=_t1982.offset.baseVal,_i1304.style.stopColor=$o(_t1982),_e1417.append(_i1304);}}catch(err){_iterator1324.e(err);}finally{_iterator1324.f();}n.append(_e1417),o.push(_e1417);}}catch(err){_iterator1323.e(err);}finally{_iterator1323.f();}s.after(n);{this.qs();var _t1981=_toConsumableArray(this["#items"].children).filter(function(t){return o.includes(t[Cm]);});this.yv(_t1981);}}},{key:"zv",value:function(){var _zv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee126(){var t,e,i,_iterator1325,_step1325,_step1325$value,_t1986,_s772,_iterator1327,_step1327,_n557,_t1983,_s768,_i1305,_s769,_i1306,_i1307,_arr52,_n556,_o444,_l351,_a261,_h212,_i1308,_s770,_iterator1326,_step1326,_t1985,_i1309,_s771,_t1984;return regeneratorRuntime.wrap(function _callee126$(_context127){while(1){switch(_context127.prev=_context127.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Cm];}),i=[];_iterator1325=_createForOfIteratorHelper(this.vy());try{for(_iterator1325.s();!(_step1325=_iterator1325.n()).done;){_step1325$value=_slicedToArray(_step1325.value,2),_t1986=_step1325$value[0],_s772=_step1325$value[1];_iterator1327=_createForOfIteratorHelper(_s772);try{for(_iterator1327.s();!(_step1327=_iterator1327.n()).done;){_n557=_step1327.value;e.includes(_n557)&&!1===i.includes(_t1986)&&i.push(_t1986);}}catch(err){_iterator1327.e(err);}finally{_iterator1327.f();}}}catch(err){_iterator1325.e(err);}finally{_iterator1325.f();}if(!(0!==e.length)){_context127.next=19;break;}if(!(i.length>0)){_context127.next=12;break;}_t1983="Delete ";1===e.length?_t1983+="a gradient":_t1983+="".concat(e.length," gradients"),_t1983+=" applied to ",1===i.length?_t1983+="1 object?":_t1983+="".concat(i.length," objects?");_context127.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t1983,detail:"Deleting a gradient also removes it from all objects it was applied to."});case 9:_s768=_context127.sent;if(!(-1===_s768||1===_s768)){_context127.next=12;break;}return _context127.abrupt("return");case 12:t.undoManager.checkpoint("Delete gradients"),this.Ru()||this.Bu();_i1305=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s769=null;for(;_s769=_i1305.nextNode();){if(w.includes(_s769.localName)){_i1306=getComputedStyle(_s769);for(_i1307=0,_arr52=["fill","stroke"];_i1307<_arr52.length;_i1307++){_n556=_arr52[_i1307];_o444=lo.fromString(_i1306[_n556]),_l351=_o444?t.masterWorkspace.querySelector(_o444.value):null,_a261=_l351&&["linearGradient","radialGradient"].includes(_l351.localName)?_l351:null,_h212=_a261?_o(_a261):null;e.includes(_h212)&&(_s769.style[_n556]="#000000",_s769.removeAttribute(_n556));}}}_i1308=_toConsumableArray(t.masterWorkspace.querySelectorAll("linearGradient, radialGradient")),_s770=[];_iterator1326=_createForOfIteratorHelper(_i1308);try{for(_iterator1326.s();!(_step1326=_iterator1326.n()).done;){_t1985=_step1326.value;(e.includes(_t1985)||e.includes(_o(_t1985)))&&_s770.push(_t1985);}}catch(err){_iterator1326.e(err);}finally{_iterator1326.f();}for(_i1309=0,_s771=_s770;_i1309<_s771.length;_i1309++){_t1984=_s771[_i1309];_t1984.remove();}case 19:case"end":return _context127.stop();}}},_callee126,this);}));function zv(){return _zv2.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Cm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin gradient"+e.length>1?"s":"");var _iterator1328=_createForOfIteratorHelper(e),_step1328;try{for(_iterator1328.s();!(_step1328=_iterator1328.n()).done;){var _t1987=_step1328.value;_t1987.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1328.e(err);}finally{_iterator1328.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Cm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin gradient"+e.length>1?"s":"");var _iterator1329=_createForOfIteratorHelper(e),_step1329;try{for(_iterator1329.s();!(_step1329=_iterator1329.n()).done;){var _t1988=_step1329.value;_t1988.removeAttribute("data-bx-pinned");}}catch(err){_iterator1329.e(err);}finally{_iterator1329.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s773=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n558=t[0],_o445=_s773.indexOf(e);if("start"===i){if(_s773[_o445-1]===_n558)return!1;}else if("end"===i){if(_s773[_o445+1]===_n558)return!1;}}return!0;}},{key:"by",value:function by(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1310=getComputedStyle(s);for(var _i1311=0,_arr53=["fill","stroke"];_i1311<_arr53.length;_i1311++){var _o446=_arr53[_i1311];var _l352=lo.fromString(_i1310[_o446]),_a262=_l352?e.masterWorkspace.querySelector(_l352.value):null,_h213=_a262&&["linearGradient","radialGradient"].includes(_a262.localName)?_a262:null,_r146=_h213?_o(_h213):null;if(_r146&&_r146.id===t){var _t1989=s.closest("text");_t1989?!1===n.includes(_t1989)&&n.push(_t1989):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"vy",value:function vy(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1312=getComputedStyle(s);for(var _i1313=0,_arr54=["fill","stroke"];_i1313<_arr54.length;_i1313++){var _n559=_arr54[_i1313];var _o447=lo.fromString(_i1312[_n559]),_l353=_o447?t.masterWorkspace.querySelector(_o447.value):null,_a263=_l353&&["linearGradient","radialGradient"].includes(_l353.localName)?_l353:null,_h214=_a263?_o(_a263):null;_h214&&(!1===e.has(s)?e.set(s,[_h214]):e.get(s).push(_h214));}}}return e;}},{key:"qs",value:function qs(){{var _t1990=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("linearGradient, radialGradient")).filter(function(t){return Do(t);}),_e1418=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Cm];}),_i1314=document.createDocumentFragment();var _iterator1330=_createForOfIteratorHelper(_t1990),_step1330;try{for(_iterator1330.s();!(_step1330=_iterator1330.n()).done;){var _s774=_step1330.value;var _t1991=Oo(_s774),_n560="";if(0===_t1991.length)_n560="background: transparent";else if(1===_t1991.length){_n560="background: ".concat($o(_t1991[0]));}else if(_t1991.length>1){_n560="background-image: linear-gradient(90deg, "+_t1991.map(function(t){return"".concat($o(t)," ").concat(100*t.offset.baseVal,"%");}).join(", ")+")";}var _o448=qi(_templateObject51(),_n560,_s774.id);_o448[Cm]=_s774,_e1418.includes(_s774)&&(_o448.setAttribute("data-selected",""),_o448[Mm]=Date.now()),this.Vv(_o448),this.jv(_o448),_i1314.append(_o448);}}catch(err){_iterator1330.e(err);}finally{_iterator1330.f();}this["#items"].innerHTML="",this["#items"].append(_i1314);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1331=_createForOfIteratorHelper(this["#items"].children),_step1331;try{for(_iterator1331.s();!(_step1331=_iterator1331.n()).done;){var _t1992=_step1331.value;this.jv(_t1992);}}catch(err){_iterator1331.e(err);}finally{_iterator1331.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1332=_createForOfIteratorHelper(this["#items"].children),_step1332;try{for(_iterator1332.s();!(_step1332=_iterator1332.n()).done;){var _t1993=_step1332.value;this.Vv(_t1993),this.jv(_t1993);}}catch(err){_iterator1332.e(err);}finally{_iterator1332.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[Cm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<gradient>",i.removeAttribute("data-custom"));else{var _t1994;_t1994=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t1994?(i.textContent=_t1994.textContent,i.setAttribute("data-custom","")):(i.textContent="Gradient",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.vy();var _iterator1333=_createForOfIteratorHelper(this["#items"].children),_step1333;try{for(_iterator1333.s();!(_step1333=_iterator1333.n()).done;){var _e1419=_step1333.value;var _i1315=_e1419.querySelector(".counter-button"),_s775=0;var _iterator1334=_createForOfIteratorHelper(t),_step1334;try{for(_iterator1334.s();!(_step1334=_iterator1334.n()).done;){var _step1334$value=_slicedToArray(_step1334.value,2),_i1316=_step1334$value[0],_n561=_step1334$value[1];_n561.includes(_e1419[Cm])&&(_s775+=1);}}catch(err){_iterator1334.e(err);}finally{_iterator1334.f();}0===_s775?(_i1315.setAttribute("hidden",""),_i1315.firstElementChild.textContent="0"):(_i1315.setAttribute("title",1===_s775?"Select 1 gradient user":"Select ".concat(_s775," gradient users")),_i1315.removeAttribute("hidden"),_i1315.firstElementChild.textContent=_s775);}}catch(err){_iterator1333.e(err);}finally{_iterator1333.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.gradients){var _iterator1335=_createForOfIteratorHelper(this["#items"].children),_step1335;try{for(_iterator1335.s();!(_step1335=_iterator1335.n()).done;){var _t1995=_step1335.value;var _e1420=_t1995[Cm],_i1317=_t1995.lastElementChild;_i1317.hidden=!1,_i1317.toggled=_e1420.hasAttribute("data-bx-pinned");}}catch(err){_iterator1335.e(err);}finally{_iterator1335.f();}}else{var _iterator1336=_createForOfIteratorHelper(this["#items"].children),_step1336;try{for(_iterator1336.s();!(_step1336=_iterator1336.n()).done;){var _t1996=_step1336.value;_t1996.lastElementChild.hidden=!0;}}catch(err){_iterator1336.e(err);}finally{_iterator1336.f();}}}}]);return Pm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pm,"observedAttributes",["enabled"]);_defineProperty(Pm,"_shadowTemplate",qi(_templateObject391()));_defineProperty(Pm,"_shadowStyleSheet",Xi(_templateObject392()));customElements.define("bx-gradientsbrowser",Pm);var Dm=Symbol(),zm=Symbol();var Om=/*#__PURE__*/function(_HTMLElement111){_inherits(Om,_HTMLElement111);var _super165=_createSuper(Om);_createClass(Om,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Om(){var _temp45,_this783;_classCallCheck(this,Om);(_temp45=_this783=_super165.call(this),_defineProperty(_assertThisInitialized(_this783),"commands",{selectAll:{enabled:function enabled(){return null===_this783._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this783.uv();}},deselectAll:{enabled:function enabled(){return null===_this783._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this783.bv();}}}),_temp45),_this783.yy=Qi(_this783.qs,2e3,_assertThisInitialized(_this783)),_this783.gv=0,_this783._shadowRoot=_this783.attachShadow({mode:"closed"}),_this783._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Om._shadowStyleSheet],_this783._shadowRoot.append(document.importNode(Om._shadowTemplate.content,!0));var _iterator1337=_createForOfIteratorHelper(_this783._shadowRoot.querySelectorAll("[id]")),_step1337;try{for(_iterator1337.s();!(_step1337=_iterator1337.n()).done;){var _t1997=_step1337.value;_this783["#"+_t1997.id]=_t1997;}}catch(err){_iterator1337.e(err);}finally{_iterator1337.f();}_this783.addEventListener("keydown",function(t){return _this783.vn(t);}),_this783["#items"].addEventListener("scroll",function(){return _this783.fv();}),_this783["#items"].addEventListener("contextmenu",function(t){return _this783.tp(t);}),_this783["#items"].addEventListener("pointerdown",function(t){return _this783.Qc(t);}),_this783["#items"].addEventListener("click",function(t){return _this783.Jc(t);}),_this783["#search-input"].addEventListener("input",function(){return _this783.wv();}),_this783["#developer-mode-button"].addEventListener("toggle",function(){return _this783.zu();}),_this783["#add-menu"].addEventListener("click",function(t){return _this783.Vw(t);}),_this783["#add-menu"].addEventListener("open",function(){return _this783.vv();});return _this783;}_createClass(Om,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this784=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this784.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this784.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this784.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-patternsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail12=t.detail,e=_t$detail12.key,i=_t$detail12.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1338=_createForOfIteratorHelper(e),_step1338;try{for(_iterator1338.s();!(_step1338=_iterator1338.n()).done;){var _t1998=_step1338.value;var _e1421=_t1998.target.nodeName,_s776=_t1998.addedNodes[0]?_t1998.addedNodes[0].nodeName:null,_n562=_t1998.removedNodes[0]?_t1998.removedNodes[0].nodeName:null,_o449=_t1998.attributeName;if("pattern"===_e1421){if("bx-title"===_s776||"bx-title"===_n562){i="now";break;}if("id"===_o449){i="now";break;}if("data-bx-pinned"===_o449){i="now";break;}}else if("bx-title"===_e1421){if(_s776||_n562){i="now";break;}}else if("pattern"===_s776||"pattern"===_n562){i="now";break;}}}catch(err){_iterator1338.e(err);}finally{_iterator1338.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"tp",value:function(){var _tp4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee127(t){var e,_i1318,_s777,_n563;return regeneratorRuntime.wrap(function _callee127$(_context128){while(1){switch(_context128.prev=_context128.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context128.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1318=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Dm];});_s777=e[Dm];_context128.next=7;return this.Qs.openContextMenu([{label:"Edit Pattern",value:"edit",disabled:1!==_i1318.length||this.Js.board.currentWorkspace.id===_s777.id},{label:"Edit Pattern ID",value:"edit-id",disabled:1!==_i1318.length},{label:"Edit Pattern Title",value:"edit-title",disabled:1!==_i1318.length},{type:"separator"},{label:"Delete Pattern"+(_i1318.length>1?"s":""),value:"delete",disabled:0===_i1318.length},{type:"separator"},{label:"Pin Pattern"+(_i1318.length>1?"s":""),value:"pin",disabled:void 0===_i1318.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Pattern"+(_i1318.length>1?"s":""),value:"unpin",disabled:void 0===_i1318.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Pattern Users",value:"select-users",disabled:1!==_i1318.length}]);case 7:_n563=_context128.sent;"edit"===_n563?this.Js.board.editPattern(_s777.id):"edit-id"===_n563?this.Pv(_s777.id,"id"):"edit-title"===_n563?this.Pv(_s777.id,"title"):"delete"===_n563?this.zv():"pin"===_n563?this.Ov():"unpin"===_n563?this.Ev():"select-users"===_n563&&this.ky(_s777.id);case 9:case"end":return _context128.stop();}}},_callee127,this);}));function tp(_x153){return _tp4.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys17=this.Qs.modKeys,e=_this$Qs$modKeys17.ctrl,i=_this$Qs$modKeys17.shift;if(!1===e&&!1===i){var _e1422=t.target.closest(".item"),_i1319=t.target.closest(".thumbnail"),_s778=t.target.closest(".counter-button"),_n564=t.target.closest(".pin-button"),_o450=_e1422[Dm].id;_s778?this.ky(_o450):_n564?_n564.toggled?this.Sy(_o450):this._y(_o450):_i1319?t.detail%2==0&&this.Js.board.editPattern(_o450):t.detail%2==0&&this.Pv(_o450);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1423=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1423&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this785=this;var _this$Qs$modKeys18=this.Qs.modKeys,e=_this$Qs$modKeys18.ctrl,i=_this$Qs$modKeys18.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[zm]=Date.now());else if(!0===i){var _t1999=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1424=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1424.length>0){var _i1320=_t1999.indexOf(s),_n565=_e1424.sort(function(t,e){return e[zm]-t[zm];})[0],_o451=_t1999.indexOf(_n565),_l354=[];if(_i1320>_o451?_l354=_toConsumableArray(_t1999).slice(_o451,_i1320+1):_i1320<_o451&&(_l354=_toConsumableArray(_t1999).slice(_i1320,_o451+1).reverse()),_l354=_l354.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l354.length>0){var _iterator1339=_createForOfIteratorHelper(_l354),_step1339;try{for(_iterator1339.s();!(_step1339=_iterator1339.n()).done;){var _t2000=_step1339.value;_t2000.setAttribute("data-selected",""),_t2000[zm]=Date.now();}}catch(err){_iterator1339.e(err);}finally{_iterator1339.f();}}}}else{var _t2003,_e1426,_i1321=!1;window.addEventListener("pointermove",_t2003=function _t2001(o){var l=new DOMPoint(o.clientX,o.clientY);if(ze(n,l)>=3){if(window.removeEventListener("pointermove",_t2003),window.removeEventListener("pointerup",_e1426),!1===s.hasAttribute("data-selected")){var _iterator1340=_createForOfIteratorHelper(_this785["#items"].children),_step1340;try{for(_iterator1340.s();!(_step1340=_iterator1340.n()).done;){var _t2002=_step1340.value;_t2002===s?(_t2002.setAttribute("data-selected",""),_t2002[zm]=Date.now()):_t2002.removeAttribute("data-selected");}}catch(err){_iterator1340.e(err);}finally{_iterator1340.f();}}_this785.Zw(o),_i1321=!0;}}),window.addEventListener("pointerup",_e1426=function _e1425(){if(window.removeEventListener("pointermove",_t2003),window.removeEventListener("pointerup",_e1426),!1===_i1321){var _iterator1341=_createForOfIteratorHelper(_this785["#items"].children),_step1341;try{for(_iterator1341.s();!(_step1341=_iterator1341.n()).done;){var _t2004=_step1341.value;_t2004===s?(_t2004.setAttribute("data-selected",""),_t2004[zm]=Date.now()):_t2004.removeAttribute("data-selected");}}catch(err){_iterator1341.e(err);}finally{_iterator1341.f();}}});}}},{key:"Zw",value:function Zw(t){var _this786=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this786["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this786.Qs.pointerClientPoint,e=_this786._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this786._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1427=l.getBoundingClientRect();if(a=t.y<_e1427.y+_e1427.height/2?"start":"end",_this786.Kw(n,l,a)){var _t2005=l.offsetTop-_this786["#items"].scrollTop;"end"===a&&(_t2005+=_e1427.height),_this786["#drop-indicator"].hidden=!1,_this786["#drop-indicator"].style.top=_t2005-1+"px";}else l=null,_this786["#drop-indicator"].hidden=!0;}else _this786["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s780){function s(_x154){return _s780.apply(this,arguments);}s.toString=function(){return _s780.toString();};return s;}(function(t){if(_this786["#items"].removeEventListener("pointermove",e),_this786["#items"].removeEventListener("scroll",i),_this786["#items"].removeEventListener("lostpointercapture",s),_this786["#items"].style.cursor=null,_this786["#drop-indicator"].hidden=!0,c(),_this786.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1428=n[0][Dm],_i1322=_this786.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY),_s779=_this786.Qs.modKeys.shift;_i1322&&w.includes(_i1322.localName)&&(_s779?(_this786.Js.board.undoManager.checkpoint("Apply pattern stroke"),_i1322.style.stroke="url(#".concat(_e1428.id,")")):(_this786.Js.board.undoManager.checkpoint("Apply pattern fill"),_i1322.style.fill="url(#".concat(_e1428.id,")")),_this786.Iv());}}else if(l){_this786.Js.board.undoManager.checkpoint("Rearrange patterns");var _t2006=document.createDocumentFragment(),_e1429=l[Dm];var _iterator1342=_createForOfIteratorHelper(n),_step1342;try{for(_iterator1342.s();!(_step1342=_iterator1342.n()).done;){var _i1323=_step1342.value;_i1323[Dm]!==_e1429&&_t2006.append(_i1323[Dm]);}}catch(err){_iterator1342.e(err);}finally{_iterator1342.f();}"start"===a?_e1429.before(_t2006):_e1429.after(_t2006);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t2007=this["#items"].querySelector(".item[data-label-edited]"),_e1430=this["#items"].querySelector(".item[data-selected]");_t2007?this.focus():_e1430&&this.Pv(_e1430[Dm].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-patternsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-pattern"===e.value?this.Rv():"add-pattern-from-objects"===e.value&&this.Cy());}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements;this["#add-pattern-from-objects-menu-item"].disabled=0===t.length;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Pv",value:function Pv(t){var _this787=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Dm].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2008=this["#items"].querySelector(".item[data-label-edited]");if(_t2008){if(_t2008===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Dm],l=this["#developer-mode-button"].toggled?"Pattern ID":"Pattern title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=qi(_templateObject52(),h,l);n.after(r),r.selectAll(),ts(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this787.Uv();}),r.validate=function(){var t=null;if(_this787["#developer-mode-button"].toggled){var _e1431=r.value.trim();if(_e1431.startsWith("#")&&(_e1431=_e1431.substring(1)),0===_e1431.length)t="Pattern must have ID";else if(Hi(_e1431)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1431)))&&o.id!==_e1431&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1432=this.Js.board,_i1324=t.querySelector(".label"),_s781=t.querySelector("x-input"),_n566=t[Dm];if(_s781.remove(),_i1324.hidden=!1,t.removeAttribute("data-label-edited"),null===_s781.error)if(this["#developer-mode-button"].toggled){var _t2009=_n566.getAttribute("id").trim(),_i1325=_s781.value.trim().toLowerCase();if(_i1325.startsWith("#")&&(_i1325=_i1325.substring(1)),_t2009!==_i1325){_e1432.undoManager.checkpoint("Pattern ID");var _s782=document.createNodeIterator(_e1432.workspaces,NodeFilter.SHOW_ELEMENT),_n567=null;for(;_n567=_s782.nextNode();){"pattern"===_n567.localName?(_n567.id===_t2009&&_n567.setAttribute("id",_i1325),_n567.href.baseVal==="#"+_t2009&&_n567.setAttribute("href","#"+_i1325)):"g"===_n567.localName&&"pattern"===_n567.getAttribute("data-bx-workspace")&&_n567.id===_t2009&&_n567.setAttribute("id",_i1325);{var _e1433=getComputedStyle(_n567);for(var _i1326=0,_arr55=["fill","stroke"];_i1326<_arr55.length;_i1326++){var _s783=_arr55[_i1326];var _o452=_e1433.getPropertyValue(_s783);if(_o452&&_o452.startsWith("url(")){_o452.substring(6,_o452.length-2)===_t2009&&_n567.style.setProperty(_s783,"url(#".concat(_i1325,")"));}}}}}}else{var _t2010=_e1432.currentWorkspace.id===_n566.id?_e1432.currentWorkspace:_n566,_i1327=_t2010.querySelector(":scope > bx-title"),_o453=_s781.value.trim();if(_i1327){_i1327.textContent!==_o453&&(_e1432.undoManager.checkpoint("Pattern title"),""===_o453?_i1327.remove():_i1327.textContent=_o453);}else""!==_o453&&(_e1432.undoManager.checkpoint("Pattern title"),_i1327=Ei("svg:bx-title"),_i1327.textContent=_o453,_t2010.prepend(_i1327));}}}},{key:"Sy",value:function Sy(t){this.Js.board.undoManager.checkpoint("Pin Pattern"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"_y",value:function _y(t){this.Js.board.undoManager.checkpoint("Unpin Pattern"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1343=_createForOfIteratorHelper(this["#items"].children),_step1343;try{for(_iterator1343.s();!(_step1343=_iterator1343.n()).done;){var _e1434=_step1343.value;t.includes(_e1434)?(_e1434.setAttribute("data-selected",""),_e1434[zm]=Date.now()):_e1434.removeAttribute("data-selected");}}catch(err){_iterator1343.e(err);}finally{_iterator1343.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1328=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s784=e[0],_n568=_i1328.indexOf(_s784),_o454=_i1328[_n568-1];if(_o454){if(_o454.scrollIntoViewIfNeeded(),t)_o454.setAttribute("data-selected",""),_o454[zm]=Date.now();else{var _iterator1344=_createForOfIteratorHelper(_i1328),_step1344;try{for(_iterator1344.s();!(_step1344=_iterator1344.n()).done;){var _t2011=_step1344.value;_t2011===_o454?(_t2011.setAttribute("data-selected",""),_t2011[zm]=Date.now()):_t2011.removeAttribute("data-selected");}}catch(err){_iterator1344.e(err);}finally{_iterator1344.f();}}return!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1329=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s785=e[e.length-1],_n569=_i1329.indexOf(_s785),_o455=_i1329[_n569+1];if(_o455){if(_o455.scrollIntoViewIfNeeded(),t)_o455.setAttribute("data-selected",""),_o455[zm]=Date.now();else{var _iterator1345=_createForOfIteratorHelper(_i1329),_step1345;try{for(_iterator1345.s();!(_step1345=_iterator1345.n()).done;){var _t2012=_step1345.value;_t2012===_o455?(_t2012.setAttribute("data-selected",""),_t2012[zm]=Date.now()):_t2012.removeAttribute("data-selected");}}catch(err){_iterator1345.e(err);}finally{_iterator1345.f();}}return!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1346=_createForOfIteratorHelper(t),_step1346;try{for(_iterator1346.s();!(_step1346=_iterator1346.n()).done;){var _i1330=_step1346.value;_i1330===e?(_i1330.setAttribute("data-selected",""),_i1330[zm]=Date.now()):_i1330.removeAttribute("data-selected");}}catch(err){_iterator1346.e(err);}finally{_iterator1346.f();}return!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1347=_createForOfIteratorHelper(t),_step1347;try{for(_iterator1347.s();!(_step1347=_iterator1347.n()).done;){var _i1331=_step1347.value;_i1331===e?(_i1331.setAttribute("data-selected",""),_i1331[zm]=Date.now()):_i1331.removeAttribute("data-selected");}}catch(err){_iterator1347.e(err);}finally{_iterator1347.f();}return!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=Ei("svg:pattern");if(i.setAttribute("id",t.generateUniqueID("pattern")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("patternUnits","userSpaceOnUse"),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100"),i.setAttribute("height","100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Dm].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Dm]===i;});this.yv([s]);}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add pattern");var i=Ve(t.outermostSelectedObjectElements.map(function(t){return Di(t);}));i=Ne(i,Ht(t.currentWorkspace).inverse());var s=-i.x,n=-i.y,o=K(i.width,4),l=K(i.height,4),a=Ei("svg:pattern");a.setAttribute("id",t.generateUniqueID("pattern")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("patternUnits","userSpaceOnUse"),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("width","100"),a.setAttribute("height","100"),a.setAttribute("data-bx-pinned","true");var _iterator1348=_createForOfIteratorHelper(Gi(t.outermostSelectedObjectElements)),_step1348;try{for(_iterator1348.s();!(_step1348=_iterator1348.n()).done;){var _e1435=_step1348.value;var _i1332=new DOMMatrix();_i1332.translateSelf(s,n),_i1332.multiplySelf(jt(_e1435,t.currentWorkspace)),_e1435.setAttribute("transform",_i1332),a.append(_e1435);}}catch(err){_iterator1348.e(err);}finally{_iterator1348.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Dm].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[Dm]===a;});this.yv([h]);}},{key:"zv",value:function(){var _zv3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee128(){var t,e,i,_iterator1349,_step1349,_step1349$value,_t2016,_s790,_iterator1351,_step1351,_n571,_t2013,_s786,_i1333,_s787,_i1334,_i1335,_arr56,_n570,_o456,_l355,_a264,_h215,_i1336,_s788,_iterator1350,_step1350,_t2015,_i1337,_s789,_t2014;return regeneratorRuntime.wrap(function _callee128$(_context129){while(1){switch(_context129.prev=_context129.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Dm];}),i=[];_iterator1349=_createForOfIteratorHelper(this.My());try{for(_iterator1349.s();!(_step1349=_iterator1349.n()).done;){_step1349$value=_slicedToArray(_step1349.value,2),_t2016=_step1349$value[0],_s790=_step1349$value[1];_iterator1351=_createForOfIteratorHelper(_s790);try{for(_iterator1351.s();!(_step1351=_iterator1351.n()).done;){_n571=_step1351.value;e.includes(_n571)&&!1===i.includes(_t2016)&&i.push(_t2016);}}catch(err){_iterator1351.e(err);}finally{_iterator1351.f();}}}catch(err){_iterator1349.e(err);}finally{_iterator1349.f();}if(!(0!==e.length)){_context129.next=19;break;}if(!(i.length>0)){_context129.next=12;break;}_t2013="Delete ";1===e.length?_t2013+="a pattern":_t2013+="".concat(e.length," patterns"),_t2013+=" applied to ",1===i.length?_t2013+="1 object?":_t2013+="".concat(i.length," objects?");_context129.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2013,detail:"Deleting a pattern also removes it from all objects it was applied to."});case 9:_s786=_context129.sent;if(!(-1===_s786||1===_s786)){_context129.next=12;break;}return _context129.abrupt("return");case 12:t.undoManager.checkpoint("Delete patterns"),this.Ru()||this.Bu(),"pattern"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editPatternEnd(!1);_i1333=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s787=null;for(;_s787=_i1333.nextNode();){if(w.includes(_s787.localName)){_i1334=getComputedStyle(_s787);for(_i1335=0,_arr56=["fill","stroke"];_i1335<_arr56.length;_i1335++){_n570=_arr56[_i1335];_o456=lo.fromString(_i1334[_n570]),_l355=_o456?t.masterWorkspace.querySelector(_o456.value):null,_a264=_l355&&"pattern"===_l355.localName?_l355:null,_h215=_a264?Uo(_a264):null;e.includes(_h215)&&(_s787.style[_n570]="#000000",_s787.removeAttribute(_n570));}}}_i1336=_toConsumableArray(t.masterWorkspace.querySelectorAll("pattern")),_s788=[];_iterator1350=_createForOfIteratorHelper(_i1336);try{for(_iterator1350.s();!(_step1350=_iterator1350.n()).done;){_t2015=_step1350.value;(e.includes(_t2015)||e.includes(Uo(_t2015)))&&_s788.push(_t2015);}}catch(err){_iterator1350.e(err);}finally{_iterator1350.f();}for(_i1337=0,_s789=_s788;_i1337<_s789.length;_i1337++){_t2014=_s789[_i1337];_t2014.remove();}case 19:case"end":return _context129.stop();}}},_callee128,this);}));function zv(){return _zv3.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Dm];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin pattern"+e.length>1?"s":"");var _iterator1352=_createForOfIteratorHelper(e),_step1352;try{for(_iterator1352.s();!(_step1352=_iterator1352.n()).done;){var _t2017=_step1352.value;_t2017.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1352.e(err);}finally{_iterator1352.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Dm];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin pattern"+e.length>1?"s":"");var _iterator1353=_createForOfIteratorHelper(e),_step1353;try{for(_iterator1353.s();!(_step1353=_iterator1353.n()).done;){var _t2018=_step1353.value;_t2018.removeAttribute("data-bx-pinned");}}catch(err){_iterator1353.e(err);}finally{_iterator1353.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s791=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n572=t[0],_o457=_s791.indexOf(e);if("start"===i){if(_s791[_o457-1]===_n572)return!1;}else if("end"===i){if(_s791[_o457+1]===_n572)return!1;}}return!0;}},{key:"ky",value:function ky(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1338=getComputedStyle(s);for(var _i1339=0,_arr57=["fill","stroke"];_i1339<_arr57.length;_i1339++){var _o458=_arr57[_i1339];var _l356=lo.fromString(_i1338[_o458]),_a265=_l356?e.masterWorkspace.querySelector(_l356.value):null,_h216=_a265&&"pattern"===_a265.localName?_a265:null,_r147=_h216?Uo(_h216):null;if(_r147&&_r147.id===t){var _t2019=s.closest("text");_t2019?!1===n.includes(_t2019)&&n.push(_t2019):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"My",value:function My(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(w.includes(s.localName)){var _i1340=getComputedStyle(s);for(var _i1341=0,_arr58=["fill","stroke"];_i1341<_arr58.length;_i1341++){var _n573=_arr58[_i1341];var _o459=lo.fromString(_i1340[_n573]),_l357=_o459?t.masterWorkspace.querySelector(_o459.value):null,_a266=_l357&&"pattern"===_l357.localName?_l357:null,_h217=_a266?Uo(_a266):null;_h217&&(!1===e.has(s)?e.set(s,[_h217]):e.get(s).push(_h217));}}}return e;}},{key:"qs",value:function qs(){{var _t2020=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("pattern")).filter(function(t){return Vo(t);}),_e1436=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Dm];}),_i1342=document.createDocumentFragment();var _iterator1354=_createForOfIteratorHelper(_t2020),_step1354;try{for(_iterator1354.s();!(_step1354=_iterator1354.n()).done;){var _s792=_step1354.value;var _t2021=qi(_templateObject53(),_s792.id,_s792.id);_t2021[Dm]=_s792,_e1436.includes(_s792)&&(_t2021.setAttribute("data-selected",""),_t2021[zm]=Date.now()),this.Vv(_t2021),this.jv(_t2021),_i1342.append(_t2021);}}catch(err){_iterator1354.e(err);}finally{_iterator1354.f();}this["#items"].innerHTML="",this["#items"].append(_i1342);}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1355=_createForOfIteratorHelper(this["#items"].children),_step1355;try{for(_iterator1355.s();!(_step1355=_iterator1355.n()).done;){var _t2022=_step1355.value;this.jv(_t2022);}}catch(err){_iterator1355.e(err);}finally{_iterator1355.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1356=_createForOfIteratorHelper(this["#items"].children),_step1356;try{for(_iterator1356.s();!(_step1356=_iterator1356.n()).done;){var _t2023=_step1356.value;this.Vv(_t2023),this.jv(_t2023);}}catch(err){_iterator1356.e(err);}finally{_iterator1356.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[Dm],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<pattern>",i.removeAttribute("data-custom"));else{var _t2024;_t2024=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2024?(i.textContent=_t2024.textContent,i.setAttribute("data-custom","")):(i.textContent="Pattern",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.My();var _iterator1357=_createForOfIteratorHelper(this["#items"].children),_step1357;try{for(_iterator1357.s();!(_step1357=_iterator1357.n()).done;){var _e1437=_step1357.value;var _i1343=_e1437.querySelector(".counter-button"),_s793=0;var _iterator1358=_createForOfIteratorHelper(t),_step1358;try{for(_iterator1358.s();!(_step1358=_iterator1358.n()).done;){var _step1358$value=_slicedToArray(_step1358.value,2),_i1344=_step1358$value[0],_n574=_step1358$value[1];_n574.includes(_e1437[Dm])&&(_s793+=1);}}catch(err){_iterator1358.e(err);}finally{_iterator1358.f();}0===_s793?(_i1343.setAttribute("hidden",""),_i1343.firstElementChild.textContent="0"):(_i1343.setAttribute("title",1===_s793?"Select 1 pattern user":"Select ".concat(_s793," pattern users")),_i1343.removeAttribute("hidden"),_i1343.firstElementChild.textContent=_s793);}}catch(err){_iterator1357.e(err);}finally{_iterator1357.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.patterns){var _iterator1359=_createForOfIteratorHelper(this["#items"].children),_step1359;try{for(_iterator1359.s();!(_step1359=_iterator1359.n()).done;){var _t2025=_step1359.value;var _e1438=_t2025[Dm],_i1345=_t2025.lastElementChild;_i1345.hidden=!1,_i1345.toggled=_e1438.hasAttribute("data-bx-pinned");}}catch(err){_iterator1359.e(err);}finally{_iterator1359.f();}}else{var _iterator1360=_createForOfIteratorHelper(this["#items"].children),_step1360;try{for(_iterator1360.s();!(_step1360=_iterator1360.n()).done;){var _t2026=_step1360.value;_t2026.lastElementChild.hidden=!0;}}catch(err){_iterator1360.e(err);}finally{_iterator1360.f();}}}}]);return Om;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Om,"observedAttributes",["enabled"]);_defineProperty(Om,"_shadowTemplate",qi(_templateObject393()));_defineProperty(Om,"_shadowStyleSheet",Xi(_templateObject394()));customElements.define("bx-patternsbrowser",Om);var Em=Symbol(),Tm=Symbol();var Am=/*#__PURE__*/function(_HTMLElement112){_inherits(Am,_HTMLElement112);var _super166=_createSuper(Am);_createClass(Am,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Am(){var _temp46,_this788;_classCallCheck(this,Am);(_temp46=_this788=_super166.call(this),_defineProperty(_assertThisInitialized(_this788),"commands",{selectAll:{enabled:function enabled(){return null===_this788._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this788.uv();}},deselectAll:{enabled:function enabled(){return null===_this788._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this788.bv();}}}),_temp46),_this788.yy=Qi(_this788.qs,2e3,_assertThisInitialized(_this788)),_this788.gv=0,_this788._shadowRoot=_this788.attachShadow({mode:"closed"}),_this788._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Am._shadowStyleSheet],_this788._shadowRoot.append(document.importNode(Am._shadowTemplate.content,!0));var _iterator1361=_createForOfIteratorHelper(_this788._shadowRoot.querySelectorAll("[id]")),_step1361;try{for(_iterator1361.s();!(_step1361=_iterator1361.n()).done;){var _t2027=_step1361.value;_this788["#"+_t2027.id]=_t2027;}}catch(err){_iterator1361.e(err);}finally{_iterator1361.f();}_this788.addEventListener("keydown",function(t){return _this788.vn(t);}),_this788["#items"].addEventListener("scroll",function(){return _this788.fv();}),_this788["#items"].addEventListener("contextmenu",function(t){return _this788.tp(t);}),_this788["#items"].addEventListener("pointerdown",function(t){return _this788.Qc(t);}),_this788["#items"].addEventListener("click",function(t){return _this788.Jc(t);}),_this788["#search-input"].addEventListener("input",function(){return _this788.wv();}),_this788["#developer-mode-button"].addEventListener("toggle",function(){return _this788.zu();}),_this788["#add-menu"].addEventListener("click",function(t){return _this788.Vw(t);}),_this788["#add-menu"].addEventListener("open",function(){return _this788.vv();});return _this788;}_createClass(Am,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this789=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this789.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this789.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this789.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-markersbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail13=t.detail,e=_t$detail13.key,i=_t$detail13.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1362=_createForOfIteratorHelper(e),_step1362;try{for(_iterator1362.s();!(_step1362=_iterator1362.n()).done;){var _t2028=_step1362.value;var _e1439=_t2028.target.nodeName,_s794=_t2028.addedNodes[0]?_t2028.addedNodes[0].nodeName:null,_n575=_t2028.removedNodes[0]?_t2028.removedNodes[0].nodeName:null,_o460=_t2028.attributeName;if("marker"===_e1439){if("bx-title"===_s794||"bx-title"===_n575){i="now";break;}if("id"===_o460){i="now";break;}if("data-bx-pinned"===_o460){i="now";break;}}else if("bx-title"===_e1439){if(_s794||_n575){i="now";break;}}else if("marker"===_s794||"marker"===_n575){i="now";break;}}}catch(err){_iterator1362.e(err);}finally{_iterator1362.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"tp",value:function(){var _tp5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee129(t){var e,_i1346,_s795,_n576;return regeneratorRuntime.wrap(function _callee129$(_context130){while(1){switch(_context130.prev=_context130.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context130.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1346=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[Em];});_s795=e[Em];_context130.next=7;return this.Qs.openContextMenu([{label:"Edit Marker",value:"edit",disabled:1!==_i1346.length||this.Js.board.currentWorkspace.id===_s795.id},{label:"Edit Marker ID",value:"edit-id",disabled:1!==_i1346.length},{label:"Edit Marker Title",value:"edit-title",disabled:1!==_i1346.length},{type:"separator"},{label:"Delete Marker"+(_i1346.length>1?"s":""),value:"delete",disabled:0===_i1346.length},{type:"separator"},{label:"Pin Marker"+(_i1346.length>1?"s":""),value:"pin",disabled:void 0===_i1346.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Marker"+(_i1346.length>1?"s":""),value:"unpin",disabled:void 0===_i1346.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Marker Users",value:"select-users",disabled:1!==_i1346.length}]);case 7:_n576=_context130.sent;"edit"===_n576?this.Js.board.editMarker(_s795.id):"edit-id"===_n576?this.Pv(_s795.id,"id"):"edit-title"===_n576?this.Pv(_s795.id,"title"):"delete"===_n576?this.zv():"pin"===_n576?this.Ov():"unpin"===_n576?this.Ev():"select-users"===_n576&&this.Py(_s795.id);case 9:case"end":return _context130.stop();}}},_callee129,this);}));function tp(_x155){return _tp5.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys19=this.Qs.modKeys,e=_this$Qs$modKeys19.ctrl,i=_this$Qs$modKeys19.shift;if(!1===e&&!1===i){var _e1440=t.target.closest(".item"),_i1347=t.target.closest(".thumbnail"),_s796=t.target.closest(".counter-button"),_n577=t.target.closest(".pin-button"),_o461=_e1440[Em].id;_s796?this.Py(_o461):_n577?_n577.toggled?this.Dy(_o461):this.zy(_o461):_i1347?t.detail%2==0&&this.Js.board.editMarker(_o461):t.detail%2==0&&this.Pv(_o461);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1441=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1441&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this790=this;var _this$Qs$modKeys20=this.Qs.modKeys,e=_this$Qs$modKeys20.ctrl,i=_this$Qs$modKeys20.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Tm]=Date.now());else if(!0===i){var _t2029=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1442=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1442.length>0){var _i1348=_t2029.indexOf(s),_n578=_e1442.sort(function(t,e){return e[Tm]-t[Tm];})[0],_o462=_t2029.indexOf(_n578),_l358=[];if(_i1348>_o462?_l358=_toConsumableArray(_t2029).slice(_o462,_i1348+1):_i1348<_o462&&(_l358=_toConsumableArray(_t2029).slice(_i1348,_o462+1).reverse()),_l358=_l358.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l358.length>0){var _iterator1363=_createForOfIteratorHelper(_l358),_step1363;try{for(_iterator1363.s();!(_step1363=_iterator1363.n()).done;){var _t2030=_step1363.value;_t2030.setAttribute("data-selected",""),_t2030[Tm]=Date.now();}}catch(err){_iterator1363.e(err);}finally{_iterator1363.f();}}}}else{var _t2033,_e1444,_i1349=!1;window.addEventListener("pointermove",_t2033=function _t2031(o){var l=new DOMPoint(o.clientX,o.clientY);if(ze(n,l)>=3){if(window.removeEventListener("pointermove",_t2033),window.removeEventListener("pointerup",_e1444),!1===s.hasAttribute("data-selected")){var _iterator1364=_createForOfIteratorHelper(_this790["#items"].children),_step1364;try{for(_iterator1364.s();!(_step1364=_iterator1364.n()).done;){var _t2032=_step1364.value;_t2032===s?(_t2032.setAttribute("data-selected",""),_t2032[Tm]=Date.now()):_t2032.removeAttribute("data-selected");}}catch(err){_iterator1364.e(err);}finally{_iterator1364.f();}}_this790.Zw(o),_i1349=!0;}}),window.addEventListener("pointerup",_e1444=function _e1443(){if(window.removeEventListener("pointermove",_t2033),window.removeEventListener("pointerup",_e1444),!1===_i1349){var _iterator1365=_createForOfIteratorHelper(_this790["#items"].children),_step1365;try{for(_iterator1365.s();!(_step1365=_iterator1365.n()).done;){var _t2034=_step1365.value;_t2034===s?(_t2034.setAttribute("data-selected",""),_t2034[Tm]=Date.now()):_t2034.removeAttribute("data-selected");}}catch(err){_iterator1365.e(err);}finally{_iterator1365.f();}}});}}},{key:"Zw",value:function Zw(t){var _this791=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this791["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this791.Qs.pointerClientPoint,e=_this791._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this791._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1445=l.getBoundingClientRect();if(a=t.y<_e1445.y+_e1445.height/2?"start":"end",_this791.Kw(n,l,a)){var _t2035=l.offsetTop-_this791["#items"].scrollTop;"end"===a&&(_t2035+=_e1445.height),_this791["#drop-indicator"].hidden=!1,_this791["#drop-indicator"].style.top=_t2035-1+"px";}else l=null,_this791["#drop-indicator"].hidden=!0;}else _this791["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s797){function s(_x156){return _s797.apply(this,arguments);}s.toString=function(){return _s797.toString();};return s;}(function(t){if(_this791["#items"].removeEventListener("pointermove",e),_this791["#items"].removeEventListener("scroll",i),_this791["#items"].removeEventListener("lostpointercapture",s),_this791["#items"].style.cursor=null,_this791["#drop-indicator"].hidden=!0,c(),_this791.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1446=n[0][Em],_i1350=_this791.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1350&&z.includes(_i1350.localName)&&(_this791.Js.board.undoManager.checkpoint("Apply marker"),_i1350.style.markerMid="url(#".concat(_e1446.id,")"),_this791.Iv());}}else if(l){_this791.Js.board.undoManager.checkpoint("Rearrange markers");var _t2036=document.createDocumentFragment(),_e1447=l[Em];var _iterator1366=_createForOfIteratorHelper(n),_step1366;try{for(_iterator1366.s();!(_step1366=_iterator1366.n()).done;){var _i1351=_step1366.value;_i1351[Em]!==_e1447&&_t2036.append(_i1351[Em]);}}catch(err){_iterator1366.e(err);}finally{_iterator1366.f();}"start"===a?_e1447.before(_t2036):_e1447.after(_t2036);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t2037=this["#items"].querySelector(".item[data-label-edited]"),_e1448=this["#items"].querySelector(".item[data-selected]");_t2037?this.focus():_e1448&&this.Pv(_e1448[Em].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-markersbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-marker"===e.value?this.Rv():"add-marker-from-objects"===e.value&&this.Cy());}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements;this["#add-marker-from-objects-menu-item"].disabled=0===t.length;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Pv",value:function Pv(t){var _this792=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[Em].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2038=this["#items"].querySelector(".item[data-label-edited]");if(_t2038){if(_t2038===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[Em],l=this["#developer-mode-button"].toggled?"Marker ID":"Marker title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=qi(_templateObject54(),h,l);n.after(r),r.selectAll(),ts(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this792.Uv();}),r.validate=function(){var t=null;if(_this792["#developer-mode-button"].toggled){var _e1449=r.value.trim();if(_e1449.startsWith("#")&&(_e1449=_e1449.substring(1)),0===_e1449.length)t="Marker must have ID";else if(Hi(_e1449)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1449)))&&o.id!==_e1449&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1450=this.Js.board,_i1352=t.querySelector(".label"),_s798=t.querySelector("x-input"),_n579=t[Em];if(_s798.remove(),_i1352.hidden=!1,t.removeAttribute("data-label-edited"),null===_s798.error)if(this["#developer-mode-button"].toggled){var _t2039=_n579.getAttribute("id").trim(),_i1353=_s798.value.trim().toLowerCase();if(_i1353.startsWith("#")&&(_i1353=_i1353.substring(1)),_t2039!==_i1353){_e1450.undoManager.checkpoint("Marker ID");var _s799=document.createNodeIterator(_e1450.workspaces,NodeFilter.SHOW_ELEMENT),_n580=null;for(;_n580=_s799.nextNode();){"marker"===_n580.localName?_n580.id===_t2039&&_n580.setAttribute("id",_i1353):"g"===_n580.localName&&"marker"===_n580.getAttribute("data-bx-workspace")&&_n580.id===_t2039&&_n580.setAttribute("id",_i1353);{var _e1451=getComputedStyle(_n580);for(var _i1354=0,_arr59=["marker-start","marker-mid","marker-end"];_i1354<_arr59.length;_i1354++){var _s800=_arr59[_i1354];var _o463=_e1451.getPropertyValue(_s800);if(_o463&&_o463.startsWith("url(")){_o463.substring(6,_o463.length-2)===_t2039&&_n580.style.setProperty(_s800,"url(#".concat(_i1353,")"));}}}}}}else{var _t2040=_e1450.currentWorkspace.id===_n579.id?_e1450.currentWorkspace:_n579,_i1355=_t2040.querySelector(":scope > bx-title"),_o464=_s798.value.trim();if(_i1355){_i1355.textContent!==_o464&&(_e1450.undoManager.checkpoint("Marker title"),""===_o464?_i1355.remove():_i1355.textContent=_o464);}else""!==_o464&&(_e1450.undoManager.checkpoint("Marker title"),_i1355=Ei("svg:bx-title"),_i1355.textContent=_o464,_t2040.prepend(_i1355));}}}},{key:"Dy",value:function Dy(t){this.Js.board.undoManager.checkpoint("Pin Marker"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"zy",value:function zy(t){this.Js.board.undoManager.checkpoint("Unpin Marker"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1367=_createForOfIteratorHelper(this["#items"].children),_step1367;try{for(_iterator1367.s();!(_step1367=_iterator1367.n()).done;){var _e1452=_step1367.value;t.includes(_e1452)?(_e1452.setAttribute("data-selected",""),_e1452[Tm]=Date.now()):_e1452.removeAttribute("data-selected");}}catch(err){_iterator1367.e(err);}finally{_iterator1367.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1356=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s801=e[0],_n581=_i1356.indexOf(_s801),_o465=_i1356[_n581-1];if(_o465){if(_o465.scrollIntoViewIfNeeded(),t)_o465.setAttribute("data-selected",""),_o465[Tm]=Date.now();else{var _iterator1368=_createForOfIteratorHelper(_i1356),_step1368;try{for(_iterator1368.s();!(_step1368=_iterator1368.n()).done;){var _t2041=_step1368.value;_t2041===_o465?(_t2041.setAttribute("data-selected",""),_t2041[Tm]=Date.now()):_t2041.removeAttribute("data-selected");}}catch(err){_iterator1368.e(err);}finally{_iterator1368.f();}}return!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1357=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s802=e[e.length-1],_n582=_i1357.indexOf(_s802),_o466=_i1357[_n582+1];if(_o466){if(_o466.scrollIntoViewIfNeeded(),t)_o466.setAttribute("data-selected",""),_o466[Tm]=Date.now();else{var _iterator1369=_createForOfIteratorHelper(_i1357),_step1369;try{for(_iterator1369.s();!(_step1369=_iterator1369.n()).done;){var _t2042=_step1369.value;_t2042===_o466?(_t2042.setAttribute("data-selected",""),_t2042[Tm]=Date.now()):_t2042.removeAttribute("data-selected");}}catch(err){_iterator1369.e(err);}finally{_iterator1369.f();}}return!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1370=_createForOfIteratorHelper(t),_step1370;try{for(_iterator1370.s();!(_step1370=_iterator1370.n()).done;){var _i1358=_step1370.value;_i1358===e?(_i1358.setAttribute("data-selected",""),_i1358[Tm]=Date.now()):_i1358.removeAttribute("data-selected");}}catch(err){_iterator1370.e(err);}finally{_iterator1370.f();}return!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1371=_createForOfIteratorHelper(t),_step1371;try{for(_iterator1371.s();!(_step1371=_iterator1371.n()).done;){var _i1359=_step1371.value;_i1359===e?(_i1359.setAttribute("data-selected",""),_i1359[Tm]=Date.now()):_i1359.removeAttribute("data-selected");}}catch(err){_iterator1371.e(err);}finally{_iterator1371.f();}return!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=Ei("svg:marker");if(i.setAttribute("id",t.generateUniqueID("marker")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto"),i.setAttribute("refX","50"),i.setAttribute("refY","50"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][Em].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[Em]===i;});this.yv([s]);}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add marker");var i=Ve(t.outermostSelectedObjectElements.map(function(t){return Di(t);}));i=Ne(i,Ht(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=K(i.width,4),l=K(i.height,4),a=Ei("svg:marker");a.setAttribute("id",t.generateUniqueID("marker")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("overflow","visible"),a.setAttribute("orient","auto"),a.setAttribute("refX",K(o/2,2)),a.setAttribute("refY",K(l/2,2)),a.setAttribute("data-bx-pinned","true");var _iterator1372=_createForOfIteratorHelper(Gi(t.outermostSelectedObjectElements)),_step1372;try{for(_iterator1372.s();!(_step1372=_iterator1372.n()).done;){var _e1453=_step1372.value;var _i1360=new DOMMatrix();_i1360.translateSelf(s,n),_i1360.multiplySelf(jt(_e1453,t.vectorCanvas)),_e1453.setAttribute("transform",_i1360),a.append(_e1453);}}catch(err){_iterator1372.e(err);}finally{_iterator1372.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][Em].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[Em]===a;});this.yv([h]);}},{key:"zv",value:function(){var _zv4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee130(){var t,e,i,_iterator1373,_step1373,_step1373$value,_t2045,_s805,_iterator1375,_step1375,_n584,_t2043,_s803,_i1361,_s804,_i1362,_i1363,_arr60,_n583,_o467,_l359,_a267,_iterator1374,_step1374,_t2044;return regeneratorRuntime.wrap(function _callee130$(_context131){while(1){switch(_context131.prev=_context131.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Em];}),i=[];_iterator1373=_createForOfIteratorHelper(this.Oy());try{for(_iterator1373.s();!(_step1373=_iterator1373.n()).done;){_step1373$value=_slicedToArray(_step1373.value,2),_t2045=_step1373$value[0],_s805=_step1373$value[1];_iterator1375=_createForOfIteratorHelper(_s805);try{for(_iterator1375.s();!(_step1375=_iterator1375.n()).done;){_n584=_step1375.value;e.includes(_n584)&&!1===i.includes(_t2045)&&i.push(_t2045);}}catch(err){_iterator1375.e(err);}finally{_iterator1375.f();}}}catch(err){_iterator1373.e(err);}finally{_iterator1373.f();}if(!(0!==e.length)){_context131.next=17;break;}if(!(i.length>0)){_context131.next=12;break;}_t2043="Delete ";1===e.length?_t2043+="a marker":_t2043+="".concat(e.length," markers"),_t2043+=" applied to ",1===i.length?_t2043+="1 object?":_t2043+="".concat(i.length," objects?");_context131.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2043,detail:"Deleting a marker also removes it from all objects it was applied to."});case 9:_s803=_context131.sent;if(!(-1===_s803||1===_s803)){_context131.next=12;break;}return _context131.abrupt("return");case 12:t.undoManager.checkpoint("Delete markers"),this.Ru()||this.Bu(),"marker"===t.currentWorkspace.getAttribute("data-bx-workspace")&&e.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editMarkerEnd(!1);_i1361=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),_s804=null;for(;_s804=_i1361.nextNode();){if(z.includes(_s804.localName)){_i1362=getComputedStyle(_s804);for(_i1363=0,_arr60=["marker-start","marker-mid","marker-end"];_i1363<_arr60.length;_i1363++){_n583=_arr60[_i1363];_o467=lo.fromString(_i1362[_n583]),_l359=_o467?t.masterWorkspace.querySelector(_o467.value):null,_a267=_l359&&"marker"===_l359.localName?_l359:null;_a267&&e.includes(_a267)&&(_s804.style.removeProperty(_n583),_s804.removeAttribute(_n583));}}}_iterator1374=_createForOfIteratorHelper(e);try{for(_iterator1374.s();!(_step1374=_iterator1374.n()).done;){_t2044=_step1374.value;_t2044.remove();}}catch(err){_iterator1374.e(err);}finally{_iterator1374.f();}case 17:case"end":return _context131.stop();}}},_callee130,this);}));function zv(){return _zv4.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Em];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin marker"+e.length>1?"s":"");var _iterator1376=_createForOfIteratorHelper(e),_step1376;try{for(_iterator1376.s();!(_step1376=_iterator1376.n()).done;){var _t2046=_step1376.value;_t2046.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1376.e(err);}finally{_iterator1376.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[Em];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin marker"+e.length>1?"s":"");var _iterator1377=_createForOfIteratorHelper(e),_step1377;try{for(_iterator1377.s();!(_step1377=_iterator1377.n()).done;){var _t2047=_step1377.value;_t2047.removeAttribute("data-bx-pinned");}}catch(err){_iterator1377.e(err);}finally{_iterator1377.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s806=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n585=t[0],_o468=_s806.indexOf(e);if("start"===i){if(_s806[_o468-1]===_n585)return!1;}else if("end"===i){if(_s806[_o468+1]===_n585)return!1;}}return!0;}},{key:"Py",value:function Py(t){var e=this.Js.board,i=document.createNodeIterator(e.currentWorkspace,NodeFilter.SHOW_ELEMENT),s=null,n=[];for(;s=i.nextNode();){if(z.includes(s.localName)){var _i1364=getComputedStyle(s);for(var _i1365=0,_arr61=["marker-start","marker-mid","marker-end"];_i1365<_arr61.length;_i1365++){var _o469=_arr61[_i1365];var _l360=lo.fromString(_i1364[_o469]),_a268=_l360?e.masterWorkspace.querySelector(_l360.value):null,_h218=_a268&&"marker"===_a268.localName?_a268:null;if(_h218&&_h218.id===t){var _t2048=s.closest("text");_t2048?!1===n.includes(_t2048)&&n.push(_t2048):n.push(s);break;}}}}e.selectedElements=[].concat(n);}},{key:"Oy",value:function Oy(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(z.includes(s.localName)){var _i1366=getComputedStyle(s);for(var _i1367=0,_arr62=["marker-start","marker-mid","marker-end"];_i1367<_arr62.length;_i1367++){var _n586=_arr62[_i1367];var _o470=lo.fromString(_i1366[_n586]),_l361=_o470?t.masterWorkspace.querySelector(_o470.value):null,_a269=_l361&&"marker"===_l361.localName?_l361:null;_a269&&(!1===e.has(s)?e.set(s,[_a269]):e.get(s).push(_a269));}}}return e;}},{key:"qs",value:function qs(){{var _t2049=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("marker")),_e1454=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[Em];}),_i1368=document.createDocumentFragment();var _iterator1378=_createForOfIteratorHelper(_t2049),_step1378;try{for(_iterator1378.s();!(_step1378=_iterator1378.n()).done;){var _s807=_step1378.value;var _t2050=_s807.hasAttribute("viewBox")?"viewBox=\"".concat(_s807.getAttribute("viewBox"),"\""):"",_n587=qi(_templateObject55(),_t2050,_s807.innerHTML,_s807.id);_n587[Em]=_s807,_e1454.includes(_s807)&&(_n587.setAttribute("data-selected",""),_n587[Tm]=Date.now()),this.Vv(_n587),this.jv(_n587),_i1368.append(_n587);}}catch(err){_iterator1378.e(err);}finally{_iterator1378.f();}this["#items"].innerHTML="",this["#items"].append(_i1368);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1379=_createForOfIteratorHelper(this["#items"].children),_step1379;try{for(_iterator1379.s();!(_step1379=_iterator1379.n()).done;){var _t2051=_step1379.value;this.jv(_t2051);}}catch(err){_iterator1379.e(err);}finally{_iterator1379.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1380=_createForOfIteratorHelper(this["#items"].children),_step1380;try{for(_iterator1380.s();!(_step1380=_iterator1380.n()).done;){var _t2052=_step1380.value;this.Vv(_t2052),this.jv(_t2052);}}catch(err){_iterator1380.e(err);}finally{_iterator1380.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[Em],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<marker>",i.removeAttribute("data-custom"));else{var _t2053;_t2053=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2053?(i.textContent=_t2053.textContent,i.setAttribute("data-custom","")):(i.textContent="Marker",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.Oy();var _iterator1381=_createForOfIteratorHelper(this["#items"].children),_step1381;try{for(_iterator1381.s();!(_step1381=_iterator1381.n()).done;){var _e1455=_step1381.value;var _i1369=_e1455.querySelector(".counter-button"),_s808=0;var _iterator1382=_createForOfIteratorHelper(t),_step1382;try{for(_iterator1382.s();!(_step1382=_iterator1382.n()).done;){var _step1382$value=_slicedToArray(_step1382.value,2),_i1370=_step1382$value[0],_n588=_step1382$value[1];_n588.includes(_e1455[Em])&&(_s808+=1);}}catch(err){_iterator1382.e(err);}finally{_iterator1382.f();}0===_s808?(_i1369.setAttribute("hidden",""),_i1369.firstElementChild.textContent="0"):(_i1369.setAttribute("title",1===_s808?"Select 1 marker user":"Select ".concat(_s808," marker users")),_i1369.removeAttribute("hidden"),_i1369.firstElementChild.textContent=_s808);}}catch(err){_iterator1381.e(err);}finally{_iterator1381.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.markers){var _iterator1383=_createForOfIteratorHelper(this["#items"].children),_step1383;try{for(_iterator1383.s();!(_step1383=_iterator1383.n()).done;){var _t2054=_step1383.value;var _e1456=_t2054[Em],_i1371=_t2054.lastElementChild;_i1371.hidden=!1,_i1371.toggled=_e1456.hasAttribute("data-bx-pinned");}}catch(err){_iterator1383.e(err);}finally{_iterator1383.f();}}else{var _iterator1384=_createForOfIteratorHelper(this["#items"].children),_step1384;try{for(_iterator1384.s();!(_step1384=_iterator1384.n()).done;){var _t2055=_step1384.value;_t2055.lastElementChild.hidden=!0;}}catch(err){_iterator1384.e(err);}finally{_iterator1384.f();}}}}]);return Am;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Am,"observedAttributes",["enabled"]);_defineProperty(Am,"_shadowTemplate",qi(_templateObject395()));_defineProperty(Am,"_shadowStyleSheet",Xi(_templateObject396()));customElements.define("bx-markersbrowser",Am);var $m=Symbol(),Im=Symbol();var Lm=/*#__PURE__*/function(_HTMLElement113){_inherits(Lm,_HTMLElement113);var _super167=_createSuper(Lm);_createClass(Lm,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Lm(){var _temp47,_this793;_classCallCheck(this,Lm);(_temp47=_this793=_super167.call(this),_defineProperty(_assertThisInitialized(_this793),"commands",{copy:{enabled:function enabled(){return _this793.Ey();},exec:function exec(){return _this793.Ty();}},selectAll:{enabled:function enabled(){return null===_this793._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this793.uv();}},deselectAll:{enabled:function enabled(){return null===_this793._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this793.bv();}}}),_temp47),_this793.yy=Qi(_this793.qs,2e3,_assertThisInitialized(_this793)),_this793.gv=0,_this793._shadowRoot=_this793.attachShadow({mode:"closed"}),_this793._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Lm._shadowStyleSheet],_this793._shadowRoot.append(document.importNode(Lm._shadowTemplate.content,!0));var _iterator1385=_createForOfIteratorHelper(_this793._shadowRoot.querySelectorAll("[id]")),_step1385;try{for(_iterator1385.s();!(_step1385=_iterator1385.n()).done;){var _t2056=_step1385.value;_this793["#"+_t2056.id]=_t2056;}}catch(err){_iterator1385.e(err);}finally{_iterator1385.f();}_this793.addEventListener("keydown",function(t){return _this793.vn(t);}),_this793["#items"].addEventListener("scroll",function(){return _this793.fv();}),_this793["#items"].addEventListener("contextmenu",function(t){return _this793.tp(t);}),_this793["#items"].addEventListener("pointerdown",function(t){return _this793.Qc(t);}),_this793["#items"].addEventListener("click",function(t){return _this793.Jc(t);}),_this793["#search-input"].addEventListener("input",function(){return _this793.wv();}),_this793["#developer-mode-button"].addEventListener("toggle",function(){return _this793.zu();}),_this793["#add-menu"].addEventListener("click",function(t){return _this793.Vw(t);}),_this793["#add-menu"].addEventListener("open",function(){return _this793.vv();});return _this793;}_createClass(Lm,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"selectSymbols",value:function selectSymbols(t){var e=_toConsumableArray(this["#items"].children).filter(function(e){return t.includes(e[$m].id);});this.yv(e,!0);}},{key:"tn",value:function tn(){var _this794=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this794.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this794.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this794.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-symbolsbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"an",value:function an(t){var _t$detail14=t.detail,e=_t$detail14.key,i=_t$detail14.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1386=_createForOfIteratorHelper(e),_step1386;try{for(_iterator1386.s();!(_step1386=_iterator1386.n()).done;){var _t2057=_step1386.value;var _e1457=_t2057.target.nodeName,_s809=_t2057.addedNodes[0]?_t2057.addedNodes[0].nodeName:null,_n589=_t2057.removedNodes[0]?_t2057.removedNodes[0].nodeName:null,_o471=_t2057.attributeName;if("symbol"===_e1457){if("bx-title"===_s809||"bx-title"===_n589){i="now";break;}if("id"===_o471){i="now";break;}if("data-bx-pinned"===_o471){i="now";break;}}else if("bx-title"===_e1457){if(_s809||_n589){i="now";break;}}else if("symbol"===_s809||"symbol"===_n589){i="now";break;}}}catch(err){_iterator1386.e(err);}finally{_iterator1386.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"tp",value:function(){var _tp6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee131(t){var e,_i1372,_s810,_n590;return regeneratorRuntime.wrap(function _callee131$(_context132){while(1){switch(_context132.prev=_context132.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context132.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1372=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[$m];});_s810=e[$m];_context132.next=7;return this.Qs.openContextMenu([{label:"Copy Symbol"+(_i1372.length>1?"s":""),value:"copy",disabled:0===_i1372.length},{type:"separator"},{label:"Edit Symbol",value:"edit",disabled:1!==_i1372.length||this.Js.board.currentWorkspace.id===_s810.id},{label:"Edit Symbol ID",value:"edit-id",disabled:1!==_i1372.length},{label:"Edit Symbol Title",value:"edit-title",disabled:1!==_i1372.length},{type:"separator"},{label:"Delete Symbol"+(_i1372.length>1?"s":""),value:"delete",disabled:0===_i1372.length},{type:"separator"},{label:"Pin Symbol"+(_i1372.length>1?"s":""),value:"pin",disabled:void 0===_i1372.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Symbol"+(_i1372.length>1?"s":""),value:"unpin",disabled:void 0===_i1372.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Symbol Instances",value:"select-instances",disabled:1!==_i1372.length}]);case 7:_n590=_context132.sent;"copy"===_n590?this.Ty():"edit"===_n590?this.Js.board.editSymbol(_s810.id):"edit-id"===_n590?this.Pv(_s810.id,"id"):"edit-title"===_n590?this.Pv(_s810.id,"title"):"delete"===_n590?this.zv():"pin"===_n590?this.Ov():"unpin"===_n590?this.Ev():"select-instances"===_n590&&this.Ay(_s810.id);case 9:case"end":return _context132.stop();}}},_callee131,this);}));function tp(_x157){return _tp6.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys21=this.Qs.modKeys,e=_this$Qs$modKeys21.ctrl,i=_this$Qs$modKeys21.shift;if(!1===e&&!1===i){var _e1458=t.target.closest(".item"),_i1373=t.target.closest(".thumbnail"),_s811=t.target.closest(".counter-button"),_n591=t.target.closest(".pin-button"),_o472=_e1458[$m].id;_s811?this.Ay(_o472):_n591?_n591.toggled?this.$y(_o472):this.Iy(_o472):_i1373?t.detail%2==0&&this.Js.board.editSymbol(_o472):t.detail%2==0&&this.Pv(_o472);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1459=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1459&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this795=this;var _this$Qs$modKeys22=this.Qs.modKeys,e=_this$Qs$modKeys22.ctrl,i=_this$Qs$modKeys22.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[Im]=Date.now());else if(!0===i){var _t2058=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1460=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1460.length>0){var _i1374=_t2058.indexOf(s),_n592=_e1460.sort(function(t,e){return e[Im]-t[Im];})[0],_o473=_t2058.indexOf(_n592),_l362=[];if(_i1374>_o473?_l362=_toConsumableArray(_t2058).slice(_o473,_i1374+1):_i1374<_o473&&(_l362=_toConsumableArray(_t2058).slice(_i1374,_o473+1).reverse()),_l362=_l362.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l362.length>0){var _iterator1387=_createForOfIteratorHelper(_l362),_step1387;try{for(_iterator1387.s();!(_step1387=_iterator1387.n()).done;){var _t2059=_step1387.value;_t2059.setAttribute("data-selected",""),_t2059[Im]=Date.now();}}catch(err){_iterator1387.e(err);}finally{_iterator1387.f();}}}}else{var _t2062,_e1462,_i1375=!1;window.addEventListener("pointermove",_t2062=function _t2060(o){var l=new DOMPoint(o.clientX,o.clientY);if(ze(n,l)>=3){if(window.removeEventListener("pointermove",_t2062),window.removeEventListener("pointerup",_e1462),!1===s.hasAttribute("data-selected")){var _iterator1388=_createForOfIteratorHelper(_this795["#items"].children),_step1388;try{for(_iterator1388.s();!(_step1388=_iterator1388.n()).done;){var _t2061=_step1388.value;_t2061===s?(_t2061.setAttribute("data-selected",""),_t2061[Im]=Date.now()):_t2061.removeAttribute("data-selected");}}catch(err){_iterator1388.e(err);}finally{_iterator1388.f();}}_this795.Zw(o),_i1375=!0;}}),window.addEventListener("pointerup",_e1462=function _e1461(){if(window.removeEventListener("pointermove",_t2062),window.removeEventListener("pointerup",_e1462),!1===_i1375){var _iterator1389=_createForOfIteratorHelper(_this795["#items"].children),_step1389;try{for(_iterator1389.s();!(_step1389=_iterator1389.n()).done;){var _t2063=_step1389.value;_t2063===s?(_t2063.setAttribute("data-selected",""),_t2063[Im]=Date.now()):_t2063.removeAttribute("data-selected");}}catch(err){_iterator1389.e(err);}finally{_iterator1389.f();}}});}}},{key:"Zw",value:function Zw(t){var _this796=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this796["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this796.Qs.pointerClientPoint,e=_this796._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this796._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1463=l.getBoundingClientRect();if(a=t.y<_e1463.y+_e1463.height/2?"start":"end",_this796.Kw(n,l,a)){var _t2064=l.offsetTop-_this796["#items"].scrollTop;"end"===a&&(_t2064+=_e1463.height),_this796["#drop-indicator"].hidden=!1,_this796["#drop-indicator"].style.top=_t2064-1+"px";}else l=null,_this796["#drop-indicator"].hidden=!0;}else _this796["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s814){function s(_x158){return _s814.apply(this,arguments);}s.toString=function(){return _s814.toString();};return s;}(function(t){if(_this796["#items"].removeEventListener("pointermove",e),_this796["#items"].removeEventListener("scroll",i),_this796["#items"].removeEventListener("lostpointercapture",s),_this796["#items"].style.cursor=null,_this796["#drop-indicator"].hidden=!0,c(),_this796.Js.board.isPointOverBoard(t.clientX,t.clientY)){var _e1464=_this796.Js.board,_i1376=_toConsumableArray(n).map(function(t){return t[$m];}),_s812=!1;if("symbol"===_e1464.currentWorkspace.getAttribute("data-bx-workspace")){var _iterator1390=_createForOfIteratorHelper(_i1376),_step1390;try{for(_iterator1390.s();!(_step1390=_iterator1390.n()).done;){var _t2065=_step1390.value;if(_e1464.currentWorkspace.id===_t2065.id){_s812=!0;break;}}}catch(err){_iterator1390.e(err);}finally{_iterator1390.f();}}if(!1===_s812){_e1464.undoManager.checkpoint("Create symbol instance");var _s813=_e1464.currentContainer||_e1464.currentWorkspace,_n593=[];var _iterator1391=_createForOfIteratorHelper(_i1376),_step1391;try{for(_iterator1391.s();!(_step1391=_iterator1391.n()).done;){var _o474=_step1391.value;var _i1377=Ei("svg:use");_i1377.setAttribute("href","#"+_o474.id),_o474.hasAttribute("viewBox")?(_i1377.setAttribute("width",_o474.viewBox.baseVal.width),_i1377.setAttribute("height",_o474.viewBox.baseVal.height)):(_i1377.setAttribute("width","100"),_i1377.setAttribute("height","100")),_s813.append(_i1377);var _l363=Ht(_i1377).inverse(),_a270=Vt(_i1377);_a270.multiplySelf(_l363),_i1377.setAttribute("transform",_a270.toString());var _h219=Di(_i1377);_a270.translateSelf(t.clientX-_h219.width/2,t.clientY-_h219.height/2),_i1377.setAttribute("transform",_a270.toString());var _r148=_e1464.geometryPrecision,_d114=_e1464.transformPrecision;fa(_i1377,{geometryPrecision:_r148,transformPrecision:_d114}),_n593.push(_i1377);}}catch(err){_iterator1391.e(err);}finally{_iterator1391.f();}_e1464.selectedElements=_n593,_this796.Iv();}}else if(l){_this796.Js.board.undoManager.checkpoint("Rearrange symbols");var _t2066=document.createDocumentFragment(),_e1465=l[$m];var _iterator1392=_createForOfIteratorHelper(n),_step1392;try{for(_iterator1392.s();!(_step1392=_iterator1392.n()).done;){var _i1378=_step1392.value;_i1378[$m]!==_e1465&&_t2066.append(_i1378[$m]);}}catch(err){_iterator1392.e(err);}finally{_iterator1392.f();}"start"===a?_e1465.before(_t2066):_e1465.after(_t2066);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t2067=this["#items"].querySelector(".item[data-label-edited]"),_e1466=this["#items"].querySelector(".item[data-selected]");_t2067?this.focus():_e1466&&this.Pv(_e1466[$m].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-symbolsbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-symbol"===e.value?this.Rv():"add-symbol-from-objects"===e.value&&this.Cy());}},{key:"vv",value:function vv(){var t=this.Js.board.selectedObjectElements;this["#add-symbol-from-objects-menu-item"].disabled=0===t.length;}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Pv",value:function Pv(t){var _this797=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[$m].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2068=this["#items"].querySelector(".item[data-label-edited]");if(_t2068){if(_t2068===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[$m],l=this["#developer-mode-button"].toggled?"Symbol ID":"Symbol title",a=(s.currentWorkspace.id===o.id?s.currentWorkspace:o).querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=qi(_templateObject56(),h,l);n.after(r),r.selectAll(),ts(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this797.Uv();}),r.validate=function(){var t=null;if(_this797["#developer-mode-button"].toggled){var _e1467=r.value.trim();if(_e1467.startsWith("#")&&(_e1467=_e1467.substring(1)),0===_e1467.length)t="Symbol must have ID";else if(Hi(_e1467)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1467)))&&o.id!==_e1467&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1468=this.Js.board,_i1379=t.querySelector(".label"),_s815=t.querySelector("x-input"),_n594=t[$m];if(_s815.remove(),_i1379.hidden=!1,t.removeAttribute("data-label-edited"),null===_s815.error)if(this["#developer-mode-button"].toggled){var _t2069=_n594.getAttribute("id").trim(),_i1380=_s815.value.trim().toLowerCase();if(_i1380.startsWith("#")&&(_i1380=_i1380.substring(1)),_t2069!==_i1380){_e1468.undoManager.checkpoint("Symbol ID");var _s816=document.createNodeIterator(_e1468.workspaces,NodeFilter.SHOW_ELEMENT),_n595=null;for(;_n595=_s816.nextNode();){"symbol"===_n595.localName||"g"===_n595.localName&&"symbol"===_n595.getAttribute("data-bx-workspace")?_n595.id===_t2069&&_n595.setAttribute("id",_i1380):"use"===_n595.localName&&_n595.href.baseVal==="#"+_t2069&&_n595.setAttribute("href","#"+_i1380);}}}else{var _t2070=_e1468.currentWorkspace.id===_n594.id?_e1468.currentWorkspace:_n594,_i1381=_t2070.querySelector(":scope > bx-title"),_o475=_s815.value.trim();if(_i1381){_i1381.textContent!==_o475&&(_e1468.undoManager.checkpoint("Symbol title"),""===_o475?_i1381.remove():_i1381.textContent=_o475);}else""!==_o475&&(_e1468.undoManager.checkpoint("Symbol title"),_i1381=Ei("svg:bx-title"),_i1381.textContent=_o475,_t2070.prepend(_i1381));}}}},{key:"$y",value:function $y(t){this.Js.board.undoManager.checkpoint("Pin Symbol"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"Iy",value:function Iy(t){this.Js.board.undoManager.checkpoint("Unpin Symbol"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1393=_createForOfIteratorHelper(this["#items"].children),_step1393;try{for(_iterator1393.s();!(_step1393=_iterator1393.n()).done;){var _e1469=_step1393.value;t.includes(_e1469)?(_e1469.setAttribute("data-selected",""),_e1469[Im]=Date.now()):_e1469.removeAttribute("data-selected");}}catch(err){_iterator1393.e(err);}finally{_iterator1393.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1382=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s817=e[0],_n596=_i1382.indexOf(_s817),_o476=_i1382[_n596-1];if(_o476){if(_o476.scrollIntoViewIfNeeded(),t)_o476.setAttribute("data-selected",""),_o476[Im]=Date.now();else{var _iterator1394=_createForOfIteratorHelper(_i1382),_step1394;try{for(_iterator1394.s();!(_step1394=_iterator1394.n()).done;){var _t2071=_step1394.value;_t2071===_o476?(_t2071.setAttribute("data-selected",""),_t2071[Im]=Date.now()):_t2071.removeAttribute("data-selected");}}catch(err){_iterator1394.e(err);}finally{_iterator1394.f();}}return!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1383=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s818=e[e.length-1],_n597=_i1383.indexOf(_s818),_o477=_i1383[_n597+1];if(_o477){if(_o477.scrollIntoViewIfNeeded(),t)_o477.setAttribute("data-selected",""),_o477[Im]=Date.now();else{var _iterator1395=_createForOfIteratorHelper(_i1383),_step1395;try{for(_iterator1395.s();!(_step1395=_iterator1395.n()).done;){var _t2072=_step1395.value;_t2072===_o477?(_t2072.setAttribute("data-selected",""),_t2072[Im]=Date.now()):_t2072.removeAttribute("data-selected");}}catch(err){_iterator1395.e(err);}finally{_iterator1395.f();}}return!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1396=_createForOfIteratorHelper(t),_step1396;try{for(_iterator1396.s();!(_step1396=_iterator1396.n()).done;){var _i1384=_step1396.value;_i1384===e?(_i1384.setAttribute("data-selected",""),_i1384[Im]=Date.now()):_i1384.removeAttribute("data-selected");}}catch(err){_iterator1396.e(err);}finally{_iterator1396.f();}return!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1397=_createForOfIteratorHelper(t),_step1397;try{for(_iterator1397.s();!(_step1397=_iterator1397.n()).done;){var _i1385=_step1397.value;_i1385===e?(_i1385.setAttribute("data-selected",""),_i1385[Im]=Date.now()):_i1385.removeAttribute("data-selected");}}catch(err){_iterator1397.e(err);}finally{_iterator1397.f();}return!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=Ei("svg:symbol");if(i.setAttribute("id",t.generateUniqueID("symbol")),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("data-bx-pinned","true"),e.length>0){e[e.length-1][$m].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[$m]===i;});this.yv([s]);}},{key:"Cy",value:function Cy(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add symbol");var i=Ve(t.outermostSelectedObjectElements.map(function(t){return Di(t);}));i=Ne(i,Ht(t.vectorCanvas).inverse());var s=-i.x,n=-i.y,o=K(i.width,4),l=K(i.height,4),a=Ei("svg:symbol");a.setAttribute("id",t.generateUniqueID("symbol")),a.setAttribute("viewBox","0 0 ".concat(o," ").concat(l)),a.setAttribute("data-bx-pinned","true");var _iterator1398=_createForOfIteratorHelper(Gi(t.outermostSelectedObjectElements)),_step1398;try{for(_iterator1398.s();!(_step1398=_iterator1398.n()).done;){var _e1470=_step1398.value;var _i1386=new DOMMatrix();_i1386.translateSelf(s,n),_i1386.multiplySelf(jt(_e1470,t.vectorCanvas)),_e1470.setAttribute("transform",_i1386),a.append(_e1470);}}catch(err){_iterator1398.e(err);}finally{_iterator1398.f();}if(t.selectedElements=[],t.selectedTextRange=null,t.currentContainer=null,e.length>0){e[e.length-1][$m].after(a);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(a);this.qs();var h=_toConsumableArray(this["#items"].children).find(function(t){return t[$m]===a;});this.yv([h]);}},{key:"Ty",value:function Ty(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=(e.map(function(t){return t[$m];}),e.map(function(t){return t[$m];})),s=t.extractArtworkWithSymbols(i),n=this.Qs.getConfig("bx-markupsettings:indentation",2),o=tu(s,"html",n),l={"text/plain":o,"text/html":o,"image/svg+xml":tu(s,"xml",n)};this.Qs.setClipboardData(l);}},{key:"Ey",value:function Ey(){return _toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).length>0;}},{key:"zv",value:function(){var _zv5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee132(){var t,e,i,s,n,_iterator1399,_step1399,_i1387,_e1472,_o478,_l364,_t2073,_e1471,_iterator1400,_step1400,_t2074,_iterator1401,_step1401,_t2075;return regeneratorRuntime.wrap(function _callee132$(_context133){while(1){switch(_context133.prev=_context133.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[$m];}),s=[],n=[];_iterator1399=_createForOfIteratorHelper(e);try{for(_iterator1399.s();!(_step1399=_iterator1399.n()).done;){_i1387=_step1399.value;_e1472=_i1387[$m],_o478=document.createNodeIterator(t.workspaces,NodeFilter.SHOW_ELEMENT),_l364=null;for(s.push(_e1472);_l364=_o478.nextNode();){"use"===_l364.localName&&_l364.href.baseVal==="#"+_e1472.id&&n.push(_l364);}}}catch(err){_iterator1399.e(err);}finally{_iterator1399.f();}if(!(0!==i.length)){_context133.next=17;break;}if(!(n.length>0)){_context133.next=12;break;}_t2073="Delete ";1===i.length?_t2073+="a symbol":_t2073+="".concat(i.length," symbols"),_t2073+=" with ",1===n.length?_t2073+="1 instance?":_t2073+="".concat(n.length," instances?");_context133.next=9;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2073,detail:"Deleting a symbol also removes all its instances."});case 9:_e1471=_context133.sent;if(!(-1===_e1471||1===_e1471)){_context133.next=12;break;}return _context133.abrupt("return");case 12:t.undoManager.checkpoint("Delete symbols"),this.Ru()||this.Bu(),"symbol"===t.currentWorkspace.getAttribute("data-bx-workspace")&&s.find(function(e){return e.id===t.currentWorkspace.id;})&&t.editSymbolEnd(!1);_iterator1400=_createForOfIteratorHelper(n);try{for(_iterator1400.s();!(_step1400=_iterator1400.n()).done;){_t2074=_step1400.value;_t2074.remove();}}catch(err){_iterator1400.e(err);}finally{_iterator1400.f();}_iterator1401=_createForOfIteratorHelper(s);try{for(_iterator1401.s();!(_step1401=_iterator1401.n()).done;){_t2075=_step1401.value;_t2075.remove();}}catch(err){_iterator1401.e(err);}finally{_iterator1401.f();}case 17:case"end":return _context133.stop();}}},_callee132,this);}));function zv(){return _zv5.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[$m];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin symbol"+e.length>1?"s":"");var _iterator1402=_createForOfIteratorHelper(e),_step1402;try{for(_iterator1402.s();!(_step1402=_iterator1402.n()).done;){var _t2076=_step1402.value;_t2076.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1402.e(err);}finally{_iterator1402.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[$m];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin symbol"+e.length>1?"s":"");var _iterator1403=_createForOfIteratorHelper(e),_step1403;try{for(_iterator1403.s();!(_step1403=_iterator1403.n()).done;){var _t2077=_step1403.value;_t2077.removeAttribute("data-bx-pinned");}}catch(err){_iterator1403.e(err);}finally{_iterator1403.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s819=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_n598=t[0],_o479=_s819.indexOf(e);if("start"===i){if(_s819[_o479-1]===_n598)return!1;}else if("end"===i){if(_s819[_o479+1]===_n598)return!1;}}return!0;}},{key:"Ay",value:function Ay(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[$m].id===t;})[$m],s=this.Ly().get(i);s&&(e.selectedElements=_toConsumableArray(s));}},{key:"Ly",value:function Ly(){var t=this.Js.board,e=new Map(),i=t.masterWorkspace.querySelectorAll("use");var _iterator1404=_createForOfIteratorHelper(i),_step1404;try{for(_iterator1404.s();!(_step1404=_iterator1404.n()).done;){var _s820=_step1404.value;var _i1388=_s820.href.baseVal,_n599=_i1388?t.masterWorkspace.querySelector(_i1388):null,_o480=_n599&&"symbol"===_n599.localName?_n599:null;_o480&&(!1===e.has(_o480)?e.set(_o480,[_s820]):e.get(_o480).push(_s820));}}catch(err){_iterator1404.e(err);}finally{_iterator1404.f();}return e;}},{key:"qs",value:function qs(){{var _t2078=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("symbol")),_e1473=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]")).map(function(t){return t[$m];}),_i1389=document.createDocumentFragment();var _iterator1405=_createForOfIteratorHelper(_t2078),_step1405;try{for(_iterator1405.s();!(_step1405=_iterator1405.n()).done;){var _s821=_step1405.value;var _t2079=qi(_templateObject57(),_s821.id,_s821.id);_t2079[$m]=_s821,_e1473.includes(_s821)&&(_t2079.setAttribute("data-selected",""),_t2079[Im]=Date.now()),this.Vv(_t2079),this.jv(_t2079),_i1389.append(_t2079);}}catch(err){_iterator1405.e(err);}finally{_iterator1405.f();}this["#mirror-svg"].innerHTML=this.Js.board.masterWorkspace.innerHTML,this["#items"].innerHTML="",this["#items"].append(_i1389);}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1406=_createForOfIteratorHelper(this["#items"].children),_step1406;try{for(_iterator1406.s();!(_step1406=_iterator1406.n()).done;){var _t2080=_step1406.value;this.jv(_t2080);}}catch(err){_iterator1406.e(err);}finally{_iterator1406.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1407=_createForOfIteratorHelper(this["#items"].children),_step1407;try{for(_iterator1407.s();!(_step1407=_iterator1407.n()).done;){var _t2081=_step1407.value;this.Vv(_t2081),this.jv(_t2081);}}catch(err){_iterator1407.e(err);}finally{_iterator1407.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[$m],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<symbol>",i.removeAttribute("data-custom"));else{var _t2082;_t2082=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2082?(i.textContent=_t2082.textContent,i.setAttribute("data-custom","")):(i.textContent="Symbol",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.Ly();var _iterator1408=_createForOfIteratorHelper(this["#items"].children),_step1408;try{for(_iterator1408.s();!(_step1408=_iterator1408.n()).done;){var _e1474=_step1408.value;var _i1390=_e1474.querySelector(".counter-button"),_s822=0;var _iterator1409=_createForOfIteratorHelper(t),_step1409;try{for(_iterator1409.s();!(_step1409=_iterator1409.n()).done;){var _step1409$value=_slicedToArray(_step1409.value,2),_i1391=_step1409$value[0],_n600=_step1409$value[1];_i1391===_e1474[$m]&&(_s822+=_n600.length);}}catch(err){_iterator1409.e(err);}finally{_iterator1409.f();}0===_s822?(_i1390.setAttribute("hidden",""),_i1390.firstElementChild.textContent="0"):(_i1390.setAttribute("title",1===_s822?"Select 1 symbol instance":"Select ".concat(_s822," symbol instances")),_i1390.removeAttribute("hidden"),_i1390.firstElementChild.textContent=_s822);}}catch(err){_iterator1408.e(err);}finally{_iterator1408.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.symbols){var _iterator1410=_createForOfIteratorHelper(this["#items"].children),_step1410;try{for(_iterator1410.s();!(_step1410=_iterator1410.n()).done;){var _t2083=_step1410.value;var _e1475=_t2083[$m],_i1392=_t2083.lastElementChild;_i1392.hidden=!1,_i1392.toggled=_e1475.hasAttribute("data-bx-pinned");}}catch(err){_iterator1410.e(err);}finally{_iterator1410.f();}}else{var _iterator1411=_createForOfIteratorHelper(this["#items"].children),_step1411;try{for(_iterator1411.s();!(_step1411=_iterator1411.n()).done;){var _t2084=_step1411.value;_t2084.lastElementChild.hidden=!0;}}catch(err){_iterator1411.e(err);}finally{_iterator1411.f();}}}}]);return Lm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lm,"observedAttributes",["enabled"]);_defineProperty(Lm,"_shadowTemplate",qi(_templateObject397()));_defineProperty(Lm,"_shadowStyleSheet",Xi(_templateObject398()));customElements.define("bx-symbolsbrowser",Lm);var Bm=40,Rm=16;var Gm=/*#__PURE__*/function(){function Gm(t){_classCallCheck(this,Gm);var e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});this.By=t,this.Ry=new dagre.graphlib.Graph({directed:!0,multigraph:!0,compound:!1}),this.Ry.setGraph({ranker:"longest-path",rankdir:"TB",align:void 0,ranksep:35,nodesep:35,edgesep:10,marginx:0,marginy:0});{var _i1393=!1,_s823=!1,_n601=e[e.length-1];var _iterator1412=_createForOfIteratorHelper(e),_step1412;try{for(_iterator1412.s();!(_step1412=_iterator1412.n()).done;){var _t2085=_step1412.value;if(this.Ry.setNode(_t2085.result.baseVal,{width:Bm,height:Bm,type:_t2085.localName,terminal:_t2085===_n601}),"feMerge"===_t2085.localName){var _e1476=_toConsumableArray(_t2085.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1413=_createForOfIteratorHelper(_e1476),_step1413;try{for(_iterator1413.s();!(_step1413=_iterator1413.n()).done;){var _n602=_step1413.value;var _o482=_n602.in1.baseVal,_l365=_t2085.result.baseVal,_a271=_e1476.indexOf(_n602)+1,_h220={from:_o482,to:_l365,slot:_a271,width:Rm,height:Rm,minlen:1,weight:1,label:""+_a271,labelpos:"c"};this.Ry.setEdge(_o482,_l365,_h220,"".concat(_o482,"-").concat(_l365,"-").concat(_a271)),"SourceGraphic"===_o482?_i1393=!0:"SourceAlpha"===_o482&&(_s823=!0);}}catch(err){_iterator1413.e(err);}finally{_iterator1413.f();}}else for(var _i1394=0,_arr63=["in1","in2"];_i1394<_arr63.length;_i1394++){var _e1477=_arr63[_i1394];var _n603=_t2085[_e1477]?_t2085[_e1477].baseVal:null,_o483=_t2085.result.baseVal,_l366="in1"===_e1477?1:2,_a272={from:_n603,to:_o483,slot:_l366,width:Rm,height:Rm,minlen:1,weight:1,label:_e1477[2],labelpos:"c"};null!==_n603&&"none"!==_n603&&(this.Ry.setEdge(_n603,_o483,_a272,"".concat(_n603,"-").concat(_o483,"-").concat(_l366)),"SourceGraphic"===_n603?_i1393=!0:"SourceAlpha"===_n603&&(_s823=!0));}}}catch(err){_iterator1412.e(err);}finally{_iterator1412.f();}var _o481=t.hasAttribute("data-bx-details")?t.getAttribute("data-bx-details").split(" "):[];(_i1393||_o481.includes("SourceGraphic"))&&this.Ry.setNode("SourceGraphic",{width:Bm,height:Bm,type:"SourceGraphic"}),(_s823||_o481.includes("SourceAlpha"))&&this.Ry.setNode("SourceAlpha",{width:Bm,height:Bm,type:"SourceAlpha"});}dagre.layout(this.Ry);}_createClass(Gm,[{key:"getWidth",value:function getWidth(){var t=this.Ry.graph().width;return isFinite(t)?t:0;}},{key:"getHeight",value:function getHeight(){var t=this.Ry.graph().height;return isFinite(t)?t:0;}},{key:"getNodes",value:function getNodes(){var _this798=this;return this.Ry.nodes().map(function(t){var e=_this798.Ry.node(t);return{name:t,type:e.type,x:e.x,y:e.y,width:e.width,height:e.height,terminal:e.terminal};});}},{key:"getOrderedNodes",value:function getOrderedNodes(){var t=dagre.graphlib.alg.topsort(this.Ry),e=this.getNodes(),i=[];var _iterator1414=_createForOfIteratorHelper(t),_step1414;try{var _loop28=function _loop28(){var s=_step1414.value;var t=e.find(function(t){return t.name===s;});i.push(t);};for(_iterator1414.s();!(_step1414=_iterator1414.n()).done;){_loop28();}}catch(err){_iterator1414.e(err);}finally{_iterator1414.f();}return i;}},{key:"getEdges",value:function getEdges(){var _this799=this;return this.Ry.edges().map(function(t){var e=_this799.Ry.edge(t);return{from:e.from,to:e.to,slot:e.slot,points:e.points,label:{text:e.label,x:e.x,y:e.y,width:e.width,height:e.height}};});}},{key:"getPredecessors",value:function getPredecessors(t){return this.Ry.predecessors(t)||null;}},{key:"getAllPredecessors",value:function getAllPredecessors(t){var _this800=this;var e=[],i=function i(t){var s=_this800.getPredecessors(t);var _iterator1415=_createForOfIteratorHelper(s),_step1415;try{for(_iterator1415.s();!(_step1415=_iterator1415.n()).done;){var _t2086=_step1415.value;e.push(_t2086),i(_t2086);}}catch(err){_iterator1415.e(err);}finally{_iterator1415.f();}};return i(t),e;}},{key:"getGroups",value:function getGroups(){var t=dagre.graphlib.alg.topsort(this.Ry),e=dagre.graphlib.alg.components(this.Ry);e=e.sort(function(e,i){return t.indexOf(e[0])<t.indexOf(i[0])?-1:1;});var _iterator1416=_createForOfIteratorHelper(e),_step1416;try{for(_iterator1416.s();!(_step1416=_iterator1416.n()).done;){var _i1395=_step1416.value;_i1395.sort(function(e,i){return t.indexOf(e)<t.indexOf(i)?-1:1;});}}catch(err){_iterator1416.e(err);}finally{_iterator1416.f();}return e;}},{key:"canConnectNodes",value:function canConnectNodes(t,e){if(t===e)return!1;if("SourceGraphic"===e||"SourceAlpha"===e)return!1;if(this.getAllPredecessors(t).includes(e))return!1;{var _t2087=this.getNodes().find(function(t){return t.name===e;});if("feFlood"===_t2087.type||"feImage"===_t2087.type||"feTurbulence"===_t2087.type)return!1;if("feBlend"===_t2087.type||"feComposite"===_t2087.type||"feDisplacementMap"===_t2087.type){if(this.Ry.inEdges(e).length>=2)return!1;}else if(("feColorMatrix"===_t2087.type||"feComponentTransfer"===_t2087.type||"feConvolveMatrix"===_t2087.type||"feDiffuseLighting"===_t2087.type||"feDropShadow"===_t2087.type||"feGaussianBlur"===_t2087.type||"feMorphology"===_t2087.type||"feOffset"===_t2087.type||"feSpecularLighting"===_t2087.type||"feTile"===_t2087.type)&&this.Ry.inEdges(e).length>=1)return!1;}return!0;}},{key:"connectNodes",value:function connectNodes(t,e){var i=-1;if(this.canConnectNodes(t,e)){var _s824=this.getNodes(),_n604=this.getEdges(),_o484=_s824.find(function(t){return t.name===e;}),_l367=_n604.filter(function(t){return t.to===_o484.name;}).map(function(t){return t.slot;});for(i=1;_l367.includes(i);){i+=1;}var _a273={from:t,to:e,slot:i,width:Rm,height:Rm,minlen:1,weight:1,label:""+i,labelpos:"c"};this.Ry.setEdge(t,e,_a273,"".concat(t,"-").concat(e,"-").concat(i)),dagre.layout(this.Ry);}return i;}}]);return Gm;}();Ei("svg:filter");var Fm=/*#__PURE__*/function(_HTMLElement114){_inherits(Fm,_HTMLElement114);var _super168=_createSuper(Fm);function Fm(){var _this801;_classCallCheck(this,Fm);_this801=_super168.call(this),_this801._shadowRoot=_this801.attachShadow({mode:"closed"}),_this801._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Fm._shadowStyleSheet],_this801._shadowRoot.append(document.importNode(Fm._shadowTemplate.content,!0)),_this801._h=Ki(_this801.qs,200,_assertThisInitialized(_this801)),_this801.Gy=!1,_this801.Fy=!1;var _iterator1417=_createForOfIteratorHelper(_this801._shadowRoot.querySelectorAll("[id]")),_step1417;try{for(_iterator1417.s();!(_step1417=_iterator1417.n()).done;){var _t2088=_step1417.value;_this801["#"+_t2088.id]=_t2088;}}catch(err){_iterator1417.e(err);}finally{_iterator1417.f();}_this801["#filter-units-select"].addEventListener("change",function(){return _this801.Uy();}),_this801["#primitive-units-select"].addEventListener("change",function(){return _this801.Ny();}),_this801["#region-x-input"].addEventListener("changestart",function(t){return _this801.Vy(t);}),_this801["#region-y-input"].addEventListener("changestart",function(t){return _this801.jy(t);}),_this801["#region-width-input"].addEventListener("changestart",function(t){return _this801.Hy(t);}),_this801["#region-height-input"].addEventListener("changestart",function(t){return _this801.Yy(t);}),_this801["#region-lock-button"].addEventListener("toggle",function(){return _this801.Wy();});return _this801;}_createClass(Fm,[{key:"connectedCallback",value:function connectedCallback(){var _this802=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.qy=Ii(this,"bx-filterinspector"),this.Gy=this.Qs.getConfig("bx-filterhostinspector:regionLocked",!1),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this802._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Uy",value:function Uy(){this.Js.board.undoManager.checkpoint("Filter units");var t=this.qy.filter;t.setAttribute("filterUnits",this["#filter-units-select"].value),"objectBoundingBox"===this["#filter-units-select"].value?(t.setAttribute("x",this["#region-x-input"].value+"%"),t.setAttribute("y",this["#region-y-input"].value+"%"),t.setAttribute("width",this["#region-width-input"].value+"%"),t.setAttribute("height",this["#region-height-input"].value+"%")):(t.setAttribute("x",this["#region-x-input"].value),t.setAttribute("y",this["#region-y-input"].value),t.setAttribute("width",this["#region-width-input"].value),t.setAttribute("height",this["#region-height-input"].value)),this.qs();}},{key:"Ny",value:function Ny(){this.Js.board.undoManager.checkpoint("Primitive units");var t=this.qy.filter,e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});var _iterator1418=_createForOfIteratorHelper(e),_step1418;try{for(_iterator1418.s();!(_step1418=_iterator1418.n()).done;){var _t2089=_step1418.value;var _e1478=Fx(_t2089);"objectBoundingBox"===this["#primitive-units-select"].value?(_t2089.hasAttribute("x")&&_t2089.setAttribute("x",_e1478.x+"%"),_t2089.hasAttribute("y")&&_t2089.setAttribute("y",_e1478.y+"%"),_t2089.hasAttribute("width")&&_t2089.setAttribute("width",_e1478.width+"%"),_t2089.hasAttribute("height")&&_t2089.setAttribute("height",_e1478.height+"%")):(_t2089.hasAttribute("x")&&_t2089.setAttribute("x",_e1478.x),_t2089.hasAttribute("y")&&_t2089.setAttribute("y",_e1478.y),_t2089.hasAttribute("width")&&_t2089.setAttribute("width",_e1478.width),_t2089.hasAttribute("height")&&_t2089.setAttribute("height",_e1478.height));}}catch(err){_iterator1418.e(err);}finally{_iterator1418.f();}t.setAttribute("primitiveUnits",this["#primitive-units-select"].value);}},{key:"Vy",value:function Vy(t){var _this803=this;var e,_i1396,s=this.qy.filter;this.Js.board.undoManager.checkpoint("Filter region X"),this.Fy=!0,this["#region-x-input"].addEventListener("change",e=function e(){var t=null===_this803["#region-x-input"].value?0:_this803["#region-x-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("x",t):s.setAttribute("x",t+"%");}),this["#region-x-input"].addEventListener("changeend",_i1396=function i(){_this803["#region-x-input"].removeEventListener("change",e),_this803["#region-x-input"].removeEventListener("changeend",_i1396),_this803.Fy=!1,_this803.qs();});}},{key:"jy",value:function jy(t){var _this804=this;var e,_i1397,s=this.qy.filter;this.Js.board.undoManager.checkpoint("Filter region Y"),this.Fy=!0,this["#region-y-input"].addEventListener("change",e=function e(){var t=null===_this804["#region-y-input"].value?0:_this804["#region-y-input"].value;"userSpaceOnUse"===s.getAttribute("filterUnits")?s.setAttribute("y",t):s.setAttribute("y",t+"%");}),this["#region-y-input"].addEventListener("changeend",_i1397=function i(){_this804["#region-y-input"].removeEventListener("change",e),_this804["#region-y-input"].removeEventListener("changeend",_i1397),_this804.Fy=!1,_this804.qs();});}},{key:"Hy",value:function Hy(t){var _this805=this;var e,_i1398,s=this.qy.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region width"),this.Fy=!0,this["#region-width-input"].addEventListener("change",e=function e(){var t=null===_this805["#region-width-input"].value?100:_this805["#region-width-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("width",t),n){var _e1479=Q(t/o,0,Infinity,2);_this805["#region-height-input"].value=_e1479,s.setAttribute("height",_e1479);}}else if(s.setAttribute("width",t+"%"),n){var _e1480=Q(t/o,0,Infinity,2);_this805["#region-height-input"].value=_e1480,s.setAttribute("height",_e1480+"%");}}),this["#region-width-input"].addEventListener("changeend",_i1398=function i(){_this805["#region-width-input"].removeEventListener("change",e),_this805["#region-width-input"].removeEventListener("changeend",_i1398),_this805.Fy=!1,_this805.qs();});}},{key:"Yy",value:function Yy(t){var _this806=this;var e,_i1399,s=this.qy.filter,n=this["#region-lock-button"].toggled,o=this["#region-width-input"].value/this["#region-height-input"].value;this.Js.board.undoManager.checkpoint("Filter region height"),this.Fy=!0,this["#region-height-input"].addEventListener("change",e=function e(){var t=null===_this806["#region-height-input"].value?100:_this806["#region-height-input"].value;if("userSpaceOnUse"===s.getAttribute("filterUnits")){if(s.setAttribute("height",t),n){var _e1481=Q(t/o,0,Infinity,2);_this806["#region-width-input"].value=_e1481,s.setAttribute("width",_e1481);}}else if(s.setAttribute("height",t+"%"),n){var _e1482=Q(t/o,0,Infinity,2);_this806["#region-width-input"].value=_e1482,s.setAttribute("width",_e1482+"%");}}),this["#region-height-input"].addEventListener("changeend",_i1399=function i(){_this806["#region-height-input"].removeEventListener("change",e),_this806["#region-height-input"].removeEventListener("changeend",_i1399),_this806.Fy=!1,_this806.qs();});}},{key:"Wy",value:function Wy(){this.Gy=this["#region-lock-button"].toggled,this.Qs.setConfig("bx-filterhostinspector:regionLocked",this.Gy),this.qs();}},{key:"qs",value:function qs(){if(this.Fy)return;var t=this.qy.filter;"userSpaceOnUse"===t.getAttribute("filterUnits")?this["#filter-units-select"].value="userSpaceOnUse":this["#filter-units-select"].value="objectBoundingBox","objectBoundingBox"===t.getAttribute("primitiveUnits")?this["#primitive-units-select"].value="objectBoundingBox":this["#primitive-units-select"].value="userSpaceOnUse";{var _e1483=function(t){var e=new DOMRect(),i=t.viewportElement,s=i.createSVGLength(),n=i.createSVGLength(),o=i.createSVGLength(),l=i.createSVGLength();return s.valueAsString=t.hasAttribute("x")?t.getAttribute("x"):"-10%",n.valueAsString=t.hasAttribute("y")?t.getAttribute("y"):"-10%",o.valueAsString=t.hasAttribute("width")?t.getAttribute("width"):"120%",l.valueAsString=t.hasAttribute("height")?t.getAttribute("height"):"120%","userSpaceOnUse"===t.getAttribute("filterUnits")?(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.x=s.value,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.y=n.value,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits/100*i.viewBox.baseVal.width:e.width=o.value,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits/100*i.viewBox.baseVal.height:e.height=l.value):(s.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.x=s.valueInSpecifiedUnits:e.x=100*s.valueInSpecifiedUnits,n.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.y=n.valueInSpecifiedUnits:e.y=100*n.valueInSpecifiedUnits,o.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.width=o.valueInSpecifiedUnits:e.width=100*o.valueInSpecifiedUnits,l.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE?e.height=l.valueInSpecifiedUnits:e.height=100*l.valueInSpecifiedUnits),e;}(t),_i1400="userSpaceOnUse"===t.getAttribute("filterUnits")?"":"%";_e1483=Ue(_e1483,this.Js.board.geometryPrecision),this["#region-x-input"].value=_e1483.x,this["#region-x-input"].suffix=_i1400,this["#region-y-input"].value=_e1483.y,this["#region-y-input"].suffix=_i1400,this["#region-width-input"].value=_e1483.width,this["#region-width-input"].suffix=_i1400,this["#region-height-input"].value=_e1483.height,this["#region-height-input"].suffix=_i1400,this["#region-lock-button"].toggled=this.Gy,this["#region-lock-icon"].name=this.Gy?"lock-on":"lock-off";}}}]);return Fm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fm,"_shadowTemplate",qi(_templateObject399()));_defineProperty(Fm,"_shadowStyleSheet",Xi(_templateObject400()));customElements.define("bx-filterhostinspector",Fm);var Um=/*#__PURE__*/function(_HTMLElement115){_inherits(Um,_HTMLElement115);var _super169=_createSuper(Um);_createClass(Um,[{key:"name",get:function get(){return"Connector";}}]);function Um(){var _this807;_classCallCheck(this,Um);_this807=_super169.call(this),_this807._h=Ki(_this807.qs,200,_assertThisInitialized(_this807)),_this807._shadowRoot=_this807.attachShadow({mode:"closed"}),_this807._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Um._shadowStyleSheet],_this807._shadowRoot.append(document.importNode(Um._shadowTemplate.content,!0));var _iterator1419=_createForOfIteratorHelper(_this807._shadowRoot.querySelectorAll("[id]")),_step1419;try{for(_iterator1419.s();!(_step1419=_iterator1419.n()).done;){var _t2090=_step1419.value;_this807["#"+_t2090.id]=_t2090;}}catch(err){_iterator1419.e(err);}finally{_iterator1419.f();}_this807["#slot-buttons"].addEventListener("toggle",function(){return _this807.Xy();});return _this807;}_createClass(Um,[{key:"connectedCallback",value:function connectedCallback(){var _this808=this;this.Js=Ii(this,"bx-editor"),this.qy=Ii(this,"bx-filterinspector"),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this808._h();}),this.qy.addEventListener("selectionchange",this.Zy=function(){_this808._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn),this.qy.removeEventListener("selectionchange",this.Zy);}},{key:"Xy",value:function Xy(){this.Js.board.undoManager.checkpoint("Filter connector input slot");var t=this.qy.filter,_this$qy$getSelection=this.qy.getSelection(),_this$qy$getSelection2=_slicedToArray(_this$qy$getSelection,2),e=_this$qy$getSelection2[0],i=_this$qy$getSelection2[1],s=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);}).find(function(t){return t.result.baseVal===i.to;});if("feMerge"===s.localName){var _t2091=_toConsumableArray(s.children).filter(function(t){return"feMergeNode"===t.localName;}),_n605=_t2091.length,_o485=parseInt(this["#slot-buttons"].value),_l368=i.slot,_a274={};for(var _e1484=1;_e1484<=_n605;_e1484+=1){var _i1401=_t2091[_e1484-1];_e1484===_l368?_a274[_o485]=_i1401:_e1484===_o485?_a274[_l368]=_i1401:_a274[_e1484]=_i1401;}for(var _t2092=1;_t2092<=_n605;_t2092+=1){var _e1485=_a274[_t2092];s.append(_e1485);}this.qy.setSelection(e,{from:i.from,to:i.to,slot:_o485});}else{var _t2093=s.in1.baseVal,_n606=s.in2.baseVal;s.setAttribute("in",_n606),s.setAttribute("in2",_t2093),this.qy.setSelection(e,{from:i.from,to:i.to,slot:1===i.slot?2:1});}}},{key:"qs",value:function qs(){var t=this.qy.filter,_this$qy$getSelection3=this.qy.getSelection(),_this$qy$getSelection4=_slicedToArray(_this$qy$getSelection3,2),e=_this$qy$getSelection4[0],i=_this$qy$getSelection4[1],s=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);});if(i){var _t2094=s.find(function(t){return t.result.baseVal===i.to;}),_e1486=0;if("feMerge"===_t2094.localName){_e1486=_toConsumableArray(_t2094.children).filter(function(t){return"feMergeNode"===t.localName;}).length;}else _t2094.in1&&_t2094.in2?_e1486=2:_t2094.in1&&!_t2094.in2&&(_e1486=1);for(;this["#slot-buttons"].childElementCount>_e1486;){this["#slot-buttons"].lastElementChild.remove();}for(var _t2095=1;_t2095<=_e1486;_t2095+=1){var _e1487=this["#slot-buttons"].children[_t2095-1];_e1487||(_e1487=qi(_templateObject58(),_t2095,_t2095),this["#slot-buttons"].append(_e1487));}this["#slot-buttons"].value=""+i.slot;}}}]);return Um;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Um,"_shadowTemplate",qi(_templateObject401()));_defineProperty(Um,"_shadowStyleSheet",Xi(_templateObject402()));customElements.define("bx-filteredgeinspector",Um);var Nm=Object.getPrototypeOf;var Vm=/*#__PURE__*/function(_HTMLElement116){_inherits(Vm,_HTMLElement116);var _super170=_createSuper(Vm);_createClass(Vm,[{key:"name",get:function get(){return"Primitive";}},{key:"primitive",get:function get(){return this.Ky;},set:function set(t){this.Ky=t,this.isConnected&&this.qs();}}]);function Vm(){var _this809;_classCallCheck(this,Vm);_this809=_super170.call(this);var t=[],e=[];for(var _i1402=_this809.constructor;_i1402!==Vm;_i1402=Nm(_i1402)){_i1402.hasOwnProperty("_shadowTemplate")&&t.push(_i1402._shadowTemplate),_i1402.hasOwnProperty("_shadowStyleSheet")&&e.push(_i1402._shadowStyleSheet);}_this809._shadowRoot=_this809.attachShadow({mode:"closed"}),_this809._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Vm._shadowStyleSheet].concat(e),_this809._shadowRoot.append(document.importNode(Vm._shadowTemplate.content,!0));var _iterator1420=_createForOfIteratorHelper(t.reverse()),_step1420;try{for(_iterator1420.s();!(_step1420=_iterator1420.n()).done;){var _e1488=_step1420.value;var _t2096=document.importNode(_e1488.content,!0),_i1403=_this809._shadowRoot.querySelector("#main");var _iterator1422=_createForOfIteratorHelper(_toConsumableArray(_t2096.children).reverse()),_step1422;try{for(_iterator1422.s();!(_step1422=_iterator1422.n()).done;){var _e1489=_step1422.value;_i1403.prepend(_e1489);}}catch(err){_iterator1422.e(err);}finally{_iterator1422.f();}}}catch(err){_iterator1420.e(err);}finally{_iterator1420.f();}_this809.Ky=null,_this809.Qy=!1,_this809.Jy=!1,_this809._h=Ki(_this809.qs,200,_assertThisInitialized(_this809));var _iterator1421=_createForOfIteratorHelper(_this809._shadowRoot.querySelectorAll("[id]")),_step1421;try{for(_iterator1421.s();!(_step1421=_iterator1421.n()).done;){var _t2097=_step1421.value;_this809["#"+_t2097.id]=_t2097;}}catch(err){_iterator1421.e(err);}finally{_iterator1421.f();}_this809["#subregion-x-input"].addEventListener("changestart",function(t){return _this809.tk(t);}),_this809["#subregion-y-input"].addEventListener("changestart",function(t){return _this809.ek(t);}),_this809["#subregion-width-input"].addEventListener("changestart",function(t){return _this809.ik(t);}),_this809["#subregion-height-input"].addEventListener("changestart",function(t){return _this809.sk(t);}),_this809["#subregion-lock-button"].addEventListener("toggle",function(){return _this809.nk();});return _this809;}_createClass(Vm,[{key:"connectedCallback",value:function connectedCallback(){var _this810=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this.Qy=this.Qs.getConfig("".concat(this.localName,":subregionLocked"),!1),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this810.Ky&&_this810.Ky.isConnected&&_this810._h();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"tk",value:function tk(t){var _this811=this;var e,_i1404,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion X"),this.Jy=!0,this["#subregion-x-input"].addEventListener("change",e=function e(){null===_this811["#subregion-x-input"].value?_this811.primitive.removeAttribute("x"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this811.primitive.setAttribute("x",_this811["#subregion-x-input"].value+"%"):_this811.primitive.setAttribute("x",_this811["#subregion-x-input"].value);}),this["#subregion-x-input"].addEventListener("changeend",_i1404=function i(){_this811["#subregion-x-input"].removeEventListener("change",e),_this811["#subregion-x-input"].removeEventListener("changeend",_i1404),_this811.Jy=!1;});}},{key:"ek",value:function ek(t){var _this812=this;var e,_i1405,s=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter primitive subregion Y"),this.Jy=!0,this["#subregion-y-input"].addEventListener("change",e=function e(){null===_this812["#subregion-y-input"].value?_this812.primitive.removeAttribute("y"):"objectBoundingBox"===s.getAttribute("primitiveUnits")?_this812.primitive.setAttribute("y",_this812["#subregion-y-input"].value+"%"):_this812.primitive.setAttribute("y",_this812["#subregion-y-input"].value);}),this["#subregion-y-input"].addEventListener("changeend",_i1405=function i(){_this812["#subregion-y-input"].removeEventListener("change",e),_this812["#subregion-y-input"].removeEventListener("changeend",_i1405),_this812.Jy=!1;});}},{key:"ik",value:function ik(t){var _this813=this;var e,_i1406,s=this.primitive.closest("filter"),n=this["#subregion-lock-button"].toggled,o=this["#subregion-width-input"].value/this["#subregion-height-input"].value;this.Js.board.undoManager.checkpoint("Filter primitive subregion width"),this.Jy=!0,this["#subregion-width-input"].addEventListener("change",e=function e(){if(null===_this813["#subregion-width-input"].value)_this813.primitive.removeAttribute("width");else if("objectBoundingBox"===s.getAttribute("primitiveUnits")){if(_this813.primitive.setAttribute("width",_this813["#subregion-width-input"].value+"%"),n){var _t2098=Q(_this813["#subregion-width-input"].value/o,0,Infinity,2);_this813["#subregion-height-input"].value=_t2098,_this813.primitive.setAttribute("height",_t2098+"%");}}else if(_this813.primitive.setAttribute("width",_this813["#subregion-width-input"].value),n){var _t2099=Q(_this813["#subregion-width-input"].value/o,0,Infinity,2);_this813["#subregion-height-input"].value=_t2099,_this813.primitive.setAttribute("height",_t2099);}}),this["#subregion-width-input"].addEventListener("changeend",_i1406=function i(){_this813["#subregion-width-input"].removeEventListener("change",e),_this813["#subregion-width-input"].removeEventListener("changeend",_i1406),_this813.Jy=!1;});}},{key:"sk",value:function sk(t){var _this814=this;var e,_i1407,s=this["#subregion-lock-button"].toggled,n=this["#subregion-width-input"].value/this["#subregion-height-input"].value,o=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Filter subregion height"),this.Jy=!0,this["#subregion-height-input"].addEventListener("change",e=function e(){if(null===_this814["#subregion-height-input"].value)_this814.primitive.removeAttribute("height");else if("objectBoundingBox"===o.getAttribute("primitiveUnits")){if(_this814.primitive.setAttribute("height",_this814["#subregion-height-input"].value+"%"),s){var _t2100=Q(_this814["#subregion-height-input"].value/n,0,Infinity,2);_this814["#subregion-width-input"].value=_t2100,_this814.primitive.setAttribute("width",_t2100+"%");}}else if(_this814.primitive.setAttribute("height",_this814["#subregion-height-input"].value),s){var _t2101=Q(_this814["#subregion-height-input"].value/n,0,Infinity,2);_this814["#subregion-width-input"].value=_t2101,_this814.primitive.setAttribute("width",_t2101);}}),this["#subregion-height-input"].addEventListener("changeend",_i1407=function i(){_this814["#subregion-height-input"].removeEventListener("change",e),_this814["#subregion-height-input"].removeEventListener("changeend",_i1407),_this814.Jy=!1;});}},{key:"nk",value:function nk(){this.Qy=this["#subregion-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":subregionLocked"),this.Qy),this.qs();}},{key:"qs",value:function qs(){if(!this.Jy)if("SourceAlpha"===this.Ky||"SourceGraphic"===this.Ky)this["#subregion-section"].hidden=!0;else{var _t2102=this.Ky,_e1490=_t2102.closest("filter").primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?"%":"",_i1408=Fx(_t2102);_i1408=Ue(_i1408,this.Js.board.geometryPrecision),this["#subregion-section"].hidden=!1,this["#subregion-x-input"].value=_t2102.hasAttribute("x")?_i1408.x:null,this["#subregion-x-input"].suffix=_e1490,this["#subregion-y-input"].value=_t2102.hasAttribute("y")?_i1408.y:null,this["#subregion-y-input"].suffix=_e1490,this["#subregion-width-input"].value=_t2102.hasAttribute("width")?_i1408.width:null,this["#subregion-width-input"].suffix=_e1490,this["#subregion-height-input"].value=_t2102.hasAttribute("height")?_i1408.height:null,this["#subregion-height-input"].suffix=_e1490,this["#subregion-lock-button"].toggled=this.Qy,this["#subregion-lock-icon"].name=this.Qy?"lock-on":"lock-off";}}}]);return Vm;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vm,"_shadowTemplate",qi(_templateObject403()));_defineProperty(Vm,"_shadowStyleSheet",Xi(_templateObject404()));var jm=/*#__PURE__*/function(_Vm){_inherits(jm,_Vm);var _super171=_createSuper(jm);_createClass(jm,[{key:"name",get:function get(){return"Blend";}}]);function jm(){var _this815;_classCallCheck(this,jm);_this815=_super171.call(this),_this815["#blend-mode-select"].addEventListener("change",function(){return _this815.wm();});return _this815;}_createClass(jm,[{key:"wm",value:function wm(){this.Js.board.undoManager.checkpoint("Filter blend mode"),this.primitive.setAttribute("mode",this["#blend-mode-select"].value);}},{key:"qs",value:function qs(){this.Jy||(_get(_getPrototypeOf(jm.prototype),"qs",this).call(this),this.primitive.hasAttribute("mode")?this["#blend-mode-select"].value=this.primitive.getAttribute("mode"):this["#blend-mode-select"].value="normal");}}]);return jm;}(Vm);_defineProperty(jm,"_shadowTemplate",qi(_templateObject405()));_defineProperty(jm,"_shadowStyleSheet",Xi(_templateObject406()));customElements.define("bx-blendprimitiveinspector",jm);var Hm=/*#__PURE__*/function(_Vm2){_inherits(Hm,_Vm2);var _super172=_createSuper(Hm);_createClass(Hm,[{key:"name",get:function get(){return"Composite";}}]);function Hm(){var _this816;_classCallCheck(this,Hm);_this816=_super172.call(this),_this816["#operator-select"].addEventListener("change",function(){return _this816.lk();}),_this816["#k1-input"].addEventListener("changestart",function(t){return _this816.ak(t);}),_this816["#k2-input"].addEventListener("changestart",function(t){return _this816.ak(t);}),_this816["#k3-input"].addEventListener("changestart",function(t){return _this816.ak(t);}),_this816["#k4-input"].addEventListener("changestart",function(t){return _this816.ak(t);});return _this816;}_createClass(Hm,[{key:"lk",value:function lk(){this.Js.board.undoManager.checkpoint("Composite operator"),this.primitive.setAttribute("operator",this["#operator-select"].value),this.primitive.removeAttribute("k1"),this.primitive.removeAttribute("k2"),this.primitive.removeAttribute("k3"),this.primitive.removeAttribute("k4"),this.qs();}},{key:"ak",value:function ak(t){var _this817=this;var e,_i1409,s=t.target,n=s.dataset.parameter;this.Js.board.undoManager.checkpoint("Composite ".concat(n," parameter")),s.addEventListener("change",e=function e(){0===s.value?_this817.primitive.removeAttribute(n):_this817.primitive.setAttribute(n,s.value);}),s.addEventListener("changeend",_i1409=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1409);});}},{key:"qs",value:function qs(){this.Jy||(_get(_getPrototypeOf(Hm.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-select"].value=this.primitive.getAttribute("operator"):this["#operator-select"].value="over","arithmetic"===this.primitive.getAttribute("operator")?(this["#parameters-section"].hidden=!1,this["#k1-input"].value=K(this.primitive.k1.baseVal,5),this["#k2-input"].value=K(this.primitive.k2.baseVal,5),this["#k3-input"].value=K(this.primitive.k3.baseVal,5),this["#k4-input"].value=K(this.primitive.k4.baseVal,5)):this["#parameters-section"].hidden=!0);}}]);return Hm;}(Vm);_defineProperty(Hm,"_shadowTemplate",qi(_templateObject407()));_defineProperty(Hm,"_shadowStyleSheet",Xi(_templateObject408()));customElements.define("bx-compositeprimitiveinspector",Hm);customElements.define("bx-mergeprimitiveinspector",/*#__PURE__*/function(_Vm3){_inherits(_class3,_Vm3);var _super173=_createSuper(_class3);_createClass(_class3,[{key:"name",get:function get(){return"Merge";}}]);function _class3(){_classCallCheck(this,_class3);return _super173.call(this);}return _class3;}(Vm));var Ym=/*#__PURE__*/function(_Vm4){_inherits(Ym,_Vm4);var _super174=_createSuper(Ym);_createClass(Ym,[{key:"name",get:function get(){return"Flood";}}]);function Ym(){var _this818;_classCallCheck(this,Ym);_this818=_super174.call(this),_this818.kb=!1,_this818.Wx=!1,_this818["#color-select"].addEventListener("changestart",function(){return _this818.Mb();}),_this818["#opacity-box"].addEventListener("changestart",function(t){return _this818.qx(t);});return _this818;}_createClass(Ym,[{key:"Mb",value:function Mb(){var _this819=this;var t,_e1491;this.Js.board.undoManager.checkpoint("Flood color"),this.kb=!0,this["#color-select"].addEventListener("change",t=function t(){_this819.primitive.style.setProperty("flood-color",_this819["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1491=function e(){_this819["#color-select"].removeEventListener("change",t),_this819["#color-select"].removeEventListener("changeend",_e1491),Sh("flood-color",_this819.primitive),_this819.kb=!1;});}},{key:"qx",value:function qx(){var _this820=this;var t,_e1492;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2103){_t2103.target===_this820["#opacity-slider"]?_this820["#opacity-input"].value=_this820["#opacity-slider"].value:_t2103.target===_this820["#opacity-input"]&&(_this820["#opacity-slider"].value=_this820["#opacity-input"].value),_this820.primitive.style.setProperty("flood-opacity",_this820["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1492=function e(){_this820["#opacity-section"].removeEventListener("change",t),_this820["#opacity-section"].removeEventListener("changeend",_e1492),Sh("flood-opacity",_this820.primitive),_this820.Wx=!1;});}},{key:"qs",value:function qs(){if(this.kb||this.Wx||this.Jy)return;_get(_getPrototypeOf(Ym.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#color-select"].value=t.floodColor;{var _e1493=K(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1493,this["#opacity-input"].value=_e1493;}}}]);return Ym;}(Vm);_defineProperty(Ym,"_shadowTemplate",qi(_templateObject409()));_defineProperty(Ym,"_shadowStyleSheet",Xi(_templateObject410()));customElements.define("bx-floodprimitiveinspector",Ym);var Wm=pdfjsLib;Wm.GlobalWorkerOptions.workerSrc="/node_modules/pdfjs-dist/build/pdf.worker.min.js";var qm=function qm(t){return new Promise(/*#__PURE__*/function(){var _ref136=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee133(e,i){var s,n,_t2104,_e1494,_e1495,_i1410,_n607,_o486,_l369,_a275,_i1411,_arr64,_e1496,_i1412,_arr65,_t2105,_i1413,_arr66,_t2106,_iterator1423,_step1423,_e1497,_t2107,_e1498,_i1414,_s825,_o487,_e1499,_i1415,_s826,_iterator1424,_step1424,_e1500,_t2108,_i1416,_i1417,_s827,_n608;return regeneratorRuntime.wrap(function _callee133$(_context134){while(1){switch(_context134.prev=_context134.next){case 0:s=null,n=null;_context134.prev=1;_context134.next=4;return Wm.getDocument({data:t}).promise;case 4:s=_context134.sent;_context134.next=10;break;case 7:_context134.prev=7;_context134.t0=_context134["catch"](1);n=_context134.t0;case 10:if(!n){_context134.next=14;break;}i(n);_context134.next=119;break;case 14:if(!(null===s)){_context134.next=18;break;}i("PDF data not found.");_context134.next=119;break;case 18:if(!(1===s.numPages)){_context134.next=27;break;}_context134.next=21;return s.getPage(1);case 21:_e1494=_context134.sent;_context134.next=24;return Xm(_e1494,1);case 24:_t2104=_context134.sent;_context134.next=46;break;case 27:_t2104=Zi(_templateObject59());_e1495=0;_i1410=1;case 30:if(!(_i1410<=s.numPages)){_context134.next=45;break;}_context134.next=33;return s.getPage(_i1410);case 33:_n607=_context134.sent;_context134.next=36;return Xm(_n607,1);case 36:_o486=_context134.sent;_l369=_n607.getViewport({scale:1}).viewBox;_a275=Zi(_templateObject60(),_e1495,_i1410);if(_t2104.append(_a275),1===_i1410)for(_i1411=0,_arr64=_toConsumableArray(_o486.attributes);_i1411<_arr64.length;_i1411++){_e1496=_arr64[_i1411];_t2104.setAttribute(_e1496.name,_e1496.value);}else for(_i1412=0,_arr65=_toConsumableArray(_o486.attributes);_i1412<_arr65.length;_i1412++){_t2105=_arr65[_i1412];_a275.setAttribute(_t2105.name,_t2105.value);}for(_i1413=0,_arr66=_toConsumableArray(_o486.children);_i1413<_arr66.length;_i1413++){_t2106=_arr66[_i1413];_a275.append(_t2106);}_e1495+=_l369[3],_i1410<s.numPages&&(_e1495+=60);case 42:_i1410+=1;_context134.next=30;break;case 45:_t2104.viewBox.baseVal.height=_e1495,_t2104.height.baseVal.value=_e1495;case 46:_iterator1423=_createForOfIteratorHelper(_t2104.querySelectorAll("style"));_context134.prev=47;_iterator1423.s();case 49:if((_step1423=_iterator1423.n()).done){_context134.next=76;break;}_e1497=_step1423.value;_t2107=_e1497.textContent;case 52:if(!_t2107.includes("url(blob:")){_context134.next=73;break;}_e1498=_t2107.indexOf("url(blob:"),_i1414=_t2107.indexOf(")",_e1498)+1,_s825=_t2107.substring(_e1498,_i1414),_o487=_s825.substring(4,_s825.length-1);_context134.prev=54;_context134.next=57;return fetch(_o487,{mode:"no-cors"});case 57:_e1499=_context134.sent;_context134.next=60;return _e1499.blob();case 60:_i1415=_context134.sent;_context134.next=63;return jh(_i1415);case 63:_s826=_context134.sent;"data:"!==_s826&&(_t2107=_t2107.replace(_o487,_s826));_context134.next=71;break;case 67:_context134.prev=67;_context134.t1=_context134["catch"](54);console.log(_context134.t1);return _context134.abrupt("break",73);case 71:_context134.next=52;break;case 73:_e1497.textContent=_t2107;case 74:_context134.next=49;break;case 76:_context134.next=81;break;case 78:_context134.prev=78;_context134.t2=_context134["catch"](47);_iterator1423.e(_context134.t2);case 81:_context134.prev=81;_iterator1423.f();return _context134.finish(81);case 84:_iterator1424=_createForOfIteratorHelper(_t2104.querySelectorAll("image"));_context134.prev=85;_iterator1424.s();case 87:if((_step1424=_iterator1424.n()).done){_context134.next=110;break;}_e1500=_step1424.value;_t2108=_e1500.getAttribute("xlink:href")||"";if(!_t2108.startsWith("blob:")){_context134.next=108;break;}_i1416=null;_context134.prev=92;_context134.next=95;return fetch(_t2108,{mode:"no-cors"});case 95:_i1417=_context134.sent;_context134.next=98;return _i1417.blob();case 98:_s827=_context134.sent;_context134.next=101;return jh(_s827);case 101:_n608=_context134.sent;"data:"!==_n608&&_e1500.setAttribute("xlink:href",_n608);_context134.next=108;break;case 105:_context134.prev=105;_context134.t3=_context134["catch"](92);console.log("Fetch error",_i1416);case 108:_context134.next=87;break;case 110:_context134.next=115;break;case 112:_context134.prev=112;_context134.t4=_context134["catch"](85);_iterator1424.e(_context134.t4);case 115:_context134.prev=115;_iterator1424.f();return _context134.finish(115);case 118:e(eu(_t2104,"xml"));case 119:case"end":return _context134.stop();}}},_callee133,null,[[1,7],[47,78,81,84],[54,67],[85,112,115,118],[92,105]]);}));return function(_x159,_x160){return _ref136.apply(this,arguments);};}());},Xm=function Xm(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return new Promise(/*#__PURE__*/function(){var _ref137=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee134(e){var i,s,n,o,a,_loop29,_i1418,_arr67,_i1419,_arr68,_t2109,h,r,d,_t2110,_loop30,_i1420,_arr69,_i1422,_arr70,_e1502;return regeneratorRuntime.wrap(function _callee134$(_context135){while(1){switch(_context135.prev=_context135.next){case 0:i=document.createElementNS(l.svg,"svg");i.setAttribute("xmlns","http://www.w3.org/2000/svg"),i.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");s=t.getViewport({scale:1});_context135.next=5;return t.getOperatorList();case 5:n=_context135.sent;o=new Wm.SVGGraphics(t.commonObjs,t.objs);o.embedFonts=!0;_context135.next=10;return o.getSVG(n,s);case 10:a=_context135.sent;_loop29=function _loop29(){var t=_arr67[_i1418];if(U.includes(t.name)){var _e1501=F.find(function(e){return e.presentationAttributeName===t.name;});i.style.setProperty(_e1501.name,t.value);}else i.setAttribute(t.name,t.value);};for(_i1418=0,_arr67=_toConsumableArray(a.attributes);_i1418<_arr67.length;_i1418++){_loop29();}for(_i1419=0,_arr68=_toConsumableArray(a.childNodes);_i1419<_arr68.length;_i1419++){_t2109=_arr68[_i1419];i.append(_t2109);}h=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_COMMENT,r=document.createNodeIterator(i,h),d=null;for(;d=r.nextNode();){if(d.nodeType===Node.ELEMENT_NODE&&("svg"===d.prefix||"xlink"===d.prefix)){_t2110=document.createElementNS(l[d.prefix],d.localName);_loop30=function _loop30(){var e=_arr69[_i1420];if(U.includes(e.name)){var _i1421=F.find(function(t){return t.presentationAttributeName===e.name;});_t2110.style.setProperty(_i1421.name,e.value);}else _t2110.setAttribute(e.name,e.value);};for(_i1420=0,_arr69=_toConsumableArray(d.attributes);_i1420<_arr69.length;_i1420++){_loop30();}for(_i1422=0,_arr70=_toConsumableArray(d.childNodes);_i1422<_arr70.length;_i1422++){_e1502=_arr70[_i1422];_t2110.append(_e1502);}d.replaceWith(_t2110);}}e(i);case 17:case"end":return _context135.stop();}}},_callee134);}));return function(_x161){return _ref137.apply(this,arguments);};}());};var Zm=/*#__PURE__*/function(_Vm5){_inherits(Zm,_Vm5);var _super175=_createSuper(Zm);_createClass(Zm,[{key:"name",get:function get(){return"Image";}}]);function Zm(){var _this821;_classCallCheck(this,Zm);_this821=_super175.call(this),_this821["#source-href-input"].addEventListener("change",function(){return _this821.hk();}),_this821["#source-import-button"].addEventListener("click",function(){return _this821.rk();});return _this821;}_createClass(Zm,[{key:"hk",value:function hk(){this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",this["#source-href-input"].value);}},{key:"rk",value:function(){var _rk=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee135(){var t,_e1503,_i1423,_i1424,_s828,_t2111;return regeneratorRuntime.wrap(function _callee135$(_context136){while(1){switch(_context136.prev=_context136.next){case 0:_context136.next=2;return this.Qs.openImageImportDialog();case 2:t=_context136.sent;if(!t){_context136.next=34;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context136.next=11;break;}_i1423=new Blob([t.data],{type:"image/svg+xml"});_context136.next=8;return jh(_i1423);case 8:_e1503=_context136.sent;_context136.next=33;break;case 11:if(!("pdf"===t.extension||"ai"===t.extension)){_context136.next=32;break;}_i1424=null,_s828=null;_context136.prev=13;_context136.next=16;return qm(t.data);case 16:_i1424=_context136.sent;_context136.next=22;break;case 19:_context136.prev=19;_context136.t0=_context136["catch"](13);_s828=_context136.t0;case 22:if(!_s828){_context136.next=26;break;}this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_s828.message});_context136.next=30;break;case 26:_t2111=new Blob([_i1424],{type:"image/svg+xml"});_context136.next=29;return jh(_t2111);case 29:_e1503=_context136.sent;case 30:_context136.next=33;break;case 32:_e1503=t.data;case 33:_e1503&&(this.Js.board.undoManager.checkpoint("Filter image"),this.primitive.setAttribute("href",_e1503));case 34:case"end":return _context136.stop();}}},_callee135,this,[[13,19]]);}));function rk(){return _rk.apply(this,arguments);}return rk;}()},{key:"qs",value:function qs(){if(!this.Jy){_get(_getPrototypeOf(Zm.prototype),"qs",this).call(this);this.primitive.getAttribute("href");""===this.primitive.href.baseVal?(this["#source-href-input"].value="",this["#source-thumbnail-img"].removeAttribute("src")):(this["#source-href-input"].value=this.primitive.getAttribute("href"),this["#source-thumbnail-img"].src=this.primitive.getAttribute("href"));}}}]);return Zm;}(Vm);_defineProperty(Zm,"_shadowTemplate",qi(_templateObject411()));_defineProperty(Zm,"_shadowStyleSheet",Xi(_templateObject412()));customElements.define("bx-imageprimitiveinspector",Zm);customElements.define("bx-tileprimitiveinspector",/*#__PURE__*/function(_Vm6){_inherits(_class4,_Vm6);var _super176=_createSuper(_class4);_createClass(_class4,[{key:"name",get:function get(){return"Tile";}}]);function _class4(){_classCallCheck(this,_class4);return _super176.call(this);}return _class4;}(Vm));var Km=/*#__PURE__*/function(_Vm7){_inherits(Km,_Vm7);var _super177=_createSuper(Km);_createClass(Km,[{key:"name",get:function get(){return"Turbulence";}}]);function Km(){var _this822;_classCallCheck(this,Km);_this822=_super177.call(this),_this822.dk=!1,_this822.Xb=!1,_this822.ck=!1,_this822.pk=!1,_this822["#type-buttons"].addEventListener("toggle",function(){return _this822.uk();}),_this822["#frequency-x-input"].addEventListener("changestart",function(t){return _this822.xk(t);}),_this822["#frequency-y-input"].addEventListener("changestart",function(t){return _this822.bk(t);}),_this822["#frequency-lock-button"].addEventListener("toggle",function(){return _this822.mk();}),_this822["#frequency-stitch-checkbox"].addEventListener("toggle",function(){return _this822.gk();}),_this822["#octaves-box"].addEventListener("changestart",function(t){return _this822.fk(t);}),_this822["#seed-box"].addEventListener("changestart",function(t){return _this822.wk(t);});return _this822;}_createClass(Km,[{key:"connectedCallback",value:function connectedCallback(){this.dk=app.getConfig("".concat(this.localName,":frequencyLocked"),!1),_get(_getPrototypeOf(Km.prototype),"connectedCallback",this).call(this);}},{key:"uk",value:function uk(){this.Js.board.undoManager.checkpoint("Turbulence type"),this.primitive.setAttribute("type",this["#type-buttons"].value);}},{key:"xk",value:function xk(t){var _this823=this;var e,_i1425,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.Xb=!0,this["#frequency-x-input"].addEventListener("change",e=function e(){null===_this823["#frequency-x-input"].value&&(_this823["#frequency-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this823["#frequency-y-input"].value=Q(_this823["#frequency-x-input"].value/n,0,Infinity,2):_this823["#frequency-y-input"].value=_this823["#frequency-x-input"].value);var t=_this823["#frequency-x-input"].value,e=_this823["#frequency-y-input"].value;_this823.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-x-input"].addEventListener("changeend",_i1425=function i(){_this823["#frequency-x-input"].removeEventListener("change",e),_this823["#frequency-x-input"].removeEventListener("changeend",_i1425),_this823.Xb=!1;});}},{key:"bk",value:function bk(t){var _this824=this;var e,_i1426,s=this["#frequency-lock-button"].toggled,n=this["#frequency-x-input"].value/this["#frequency-y-input"].value;this.Js.board.undoManager.checkpoint("Filter base frequency"),this.Xb=!0,this["#frequency-y-input"].addEventListener("change",e=function e(){null===_this824["#frequency-y-input"].value&&(_this824["#frequency-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this824["#frequency-x-input"].value=Q(_this824["#frequency-y-input"].value/n,0,Infinity,2):_this824["#frequency-x-input"].value=_this824["#frequency-y-input"].value);var t=_this824["#frequency-x-input"].value,e=_this824["#frequency-y-input"].value;_this824.primitive.setAttribute("baseFrequency",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#frequency-y-input"].addEventListener("changeend",_i1426=function i(){_this824["#frequency-y-input"].removeEventListener("change",e),_this824["#frequency-y-input"].removeEventListener("changeend",_i1426),_this824.Xb=!1;});}},{key:"mk",value:function mk(){this.dk=this["#frequency-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":frequencyLocked"),this.dk),this.qs();}},{key:"gk",value:function gk(){this["#frequency-stitch-checkbox"].toggled?this.primitive.setAttribute("stitchTiles","stitch"):this.primitive.removeAttribute("stitchTiles");}},{key:"fk",value:function fk(){var _this825=this;var t,_e1504;this.Js.board.undoManager.checkpoint("Number of octaves"),this.ck=!0,this["#octaves-section"].addEventListener("change",t=function t(_t2112){_t2112.target===_this825["#octaves-slider"]?_this825["#octaves-input"].value=_this825["#octaves-slider"].value:_t2112.target===_this825["#octaves-input"]&&(_this825["#octaves-slider"].value=Math.floor(_this825["#octaves-input"].value)),_this825.primitive.setAttribute("numOctaves",_this825["#octaves-slider"].value);}),this["#octaves-section"].addEventListener("changeend",_e1504=function e(){_this825["#octaves-section"].removeEventListener("change",t),_this825["#octaves-section"].removeEventListener("changeend",_e1504),_this825.ck=!1;});}},{key:"wk",value:function wk(){var _this826=this;var t,_e1505;this.Js.board.undoManager.checkpoint("Seed"),this.pk=!0,this["#seed-section"].addEventListener("change",t=function t(_t2113){_t2113.target===_this826["#seed-slider"]?_this826["#seed-input"].value=_this826["#seed-slider"].value:_t2113.target===_this826["#seed-input"]&&(_this826["#seed-slider"].value=Math.floor(_this826["#seed-input"].value)),_this826.primitive.setAttribute("seed",_this826["#seed-slider"].value);}),this["#seed-section"].addEventListener("changeend",_e1505=function e(){_this826["#seed-section"].removeEventListener("change",t),_this826["#seed-section"].removeEventListener("changeend",_e1505),_this826.pk=!1;});}},{key:"qs",value:function qs(){this.Xb||this.ck||this.pk||this.Jy||(_get(_getPrototypeOf(Km.prototype),"qs",this).call(this),this.primitive.hasAttribute("type")?this["#type-buttons"].value=this.primitive.getAttribute("type"):this["#type-buttons"].value="turbulence",this["#frequency-x-input"].value=K(this.primitive.baseFrequencyX.baseVal,2),this["#frequency-y-input"].value=K(this.primitive.baseFrequencyY.baseVal,2),this["#frequency-lock-button"].toggled=this.dk,this["#frequency-lock-icon"].name=this.dk?"lock-on":"lock-off",this["#frequency-stitch-checkbox"].toggled="stitch"===this.primitive.getAttribute("stitchTiles"),this["#octaves-slider"].value=this.primitive.numOctaves.baseVal,this["#octaves-input"].value=this.primitive.numOctaves.baseVal,this["#seed-slider"].value=this.primitive.seed.baseVal,this["#seed-input"].value=this.primitive.seed.baseVal);}}]);return Km;}(Vm);_defineProperty(Km,"_shadowTemplate",qi(_templateObject413()));_defineProperty(Km,"_shadowStyleSheet",Xi(_templateObject414()));customElements.define("bx-turbulenceprimitiveinspector",Km);var Qm={matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],saturate:1,hueRotate:0,luminanceToAlpha:0};var Jm=/*#__PURE__*/function(_Vm8){_inherits(Jm,_Vm8);var _super178=_createSuper(Jm);_createClass(Jm,[{key:"name",get:function get(){return"Color matrix";}}]);function Jm(){var _this827;_classCallCheck(this,Jm);_this827=_super178.call(this),_this827.vk=!1,_this827.yk=!1,_this827.kk=!1,_this827["#type-select"].addEventListener("change",function(){return _this827.Sk();}),_this827["#matrix-values-section"].addEventListener("changestart",function(t){return _this827._k(t);}),_this827["#saturate-value-box"].addEventListener("changestart",function(){return _this827.Ck();}),_this827["#hue-rotate-value-box"].addEventListener("changestart",function(){return _this827.Mk();});return _this827;}_createClass(Jm,[{key:"Sk",value:function Sk(){this.Js.board.undoManager.checkpoint("Color matrix type"),"matrix"===this["#type-select"].value?(this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("type")):this.primitive.setAttribute("type",this["#type-select"].value),this.primitive.removeAttribute("values");}},{key:"_k",value:function _k(t){var _this828=this;var e,_i1427,s=t.target,n=_toConsumableArray(this["#matrix-values-section"].querySelectorAll("x-numberinput:not([disabled])")),o=n.indexOf(s);this.Js.board.undoManager.checkpoint("Color matrix values"),this.vk=!0,s.addEventListener("change",e=function e(){null===s.value&&(s.value=Qm.matrix[o]);var t=n.map(function(t){return t.value;});_this828.primitive.setAttribute("values",t.join(" "));}),s.addEventListener("changeend",_i1427=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1427),_this828.vk=!1;});}},{key:"Ck",value:function Ck(){var _this829=this;var t,_e1506;this.Js.board.undoManager.checkpoint("Color matrix value"),this.yk=!0,this["#saturate-value-box"].addEventListener("change",t=function t(_t2114){_t2114.target===_this829["#saturate-value-slider"]?_this829["#saturate-value-input"].value=_this829["#saturate-value-slider"].value:_t2114.target===_this829["#saturate-value-input"]&&(_this829["#saturate-value-slider"].value=_this829["#saturate-value-input"].value),_this829.primitive.setAttribute("values",_this829["#saturate-value-input"].value);}),this["#saturate-value-box"].addEventListener("changeend",_e1506=function e(){_this829["#saturate-value-box"].removeEventListener("change",t),_this829["#saturate-value-box"].removeEventListener("changeend",_e1506),_this829.yk=!1;});}},{key:"Mk",value:function Mk(){var _this830=this;var t,_e1507;this.Js.board.undoManager.checkpoint("Color matrix hue rotate"),this.kk=!0,this["#hue-rotate-value-box"].addEventListener("change",t=function t(_t2115){_t2115.target===_this830["#hue-rotate-value-slider"]?_this830["#hue-rotate-value-input"].value=_this830["#hue-rotate-value-slider"].value:_t2115.target===_this830["#hue-rotate-value-input"]&&(_this830["#hue-rotate-value-slider"].value=_this830["#hue-rotate-value-input"].value),_this830.primitive.setAttribute("values",_this830["#hue-rotate-value-input"].value);}),this["#hue-rotate-value-box"].addEventListener("changeend",_e1507=function e(){_this830["#hue-rotate-value-box"].removeEventListener("change",t),_this830["#hue-rotate-value-box"].removeEventListener("changeend",_e1507),_this830.kk=!1;});}},{key:"qs",value:function qs(){if(this.vk||this.yk||this.kk||this.Jy)return;_get(_getPrototypeOf(Jm.prototype),"qs",this).call(this);var t=this.primitive.getAttribute("type");if(!1===["saturate","hueRotate","luminanceToAlpha","matrix"].includes(t)&&(t="matrix"),this["#type-select"].value=t,"matrix"===t){var _t2116=_toConsumableArray(Qm.matrix);for(var _e1508=0;_e1508<this.primitive.values.baseVal.numberOfItems;_e1508+=1){_t2116[_e1508]=K(this.primitive.values.baseVal[_e1508].value,2);}for(var _e1509=0;_e1509<_t2116.length;_e1509+=1){this["#matrix-".concat(_e1509,"-input")].value=_t2116[_e1509];}this["#matrix-values-section"].hidden=!1;}else this["#matrix-values-section"].hidden=!0;if("saturate"===t){var _t2117=Qm.saturate;this.primitive.values.baseVal.numberOfItems>0&&(_t2117=K(this.primitive.values.baseVal[0].value,2)),this["#saturate-value-section"].hidden=!1,this["#saturate-value-input"].value=_t2117,this["#saturate-value-slider"].value=_t2117;}else this["#saturate-value-section"].hidden=!0;if("hueRotate"===t){var _t2118=Qm.hueRotate;this.primitive.values.baseVal.numberOfItems>0&&(_t2118=K(this.primitive.values.baseVal[0].value,0)),this["#hue-rotate-value-section"].hidden=!1,this["#hue-rotate-value-input"].value=_t2118,this["#hue-rotate-value-slider"].value=_t2118;}else this["#hue-rotate-value-section"].hidden=!0;}}]);return Jm;}(Vm);_defineProperty(Jm,"_shadowTemplate",qi(_templateObject415()));_defineProperty(Jm,"_shadowStyleSheet",Xi(_templateObject416()));customElements.define("bx-colormatrixprimitiveinspector",Jm);var tg=/*#__PURE__*/function(_Vm9){_inherits(tg,_Vm9);var _super179=_createSuper(tg);_createClass(tg,[{key:"name",get:function get(){return"Component transfer";}}]);function tg(){var _this831;_classCallCheck(this,tg);_this831=_super179.call(this),_this831.Pk=!1,_this831.Dk=!1,_this831.zk=!1,_this831.Ok=!1,_this831.Ek=!1,_this831.Tk=!1,_this831["#component-buttons"].addEventListener("toggle",function(){return _this831.Ak();}),_this831["#type-select"].addEventListener("change",function(){return _this831.Sk();}),_this831["#linear-slope-box"].addEventListener("changestart",function(){return _this831.$k();}),_this831["#linear-intercept-box"].addEventListener("changestart",function(){return _this831.Ik();}),_this831["#gamma-amplitude-box"].addEventListener("changestart",function(){return _this831.Lk();}),_this831["#gamma-exponent-box"].addEventListener("changestart",function(){return _this831.Bk();}),_this831["#gamma-offset-box"].addEventListener("changestart",function(){return _this831.Rk();}),_this831["#table-values-box"].addEventListener("changestart",function(t){return _this831.Gk(t);});return _this831;}_createClass(tg,[{key:"Ak",value:function Ak(){this.qs();}},{key:"Sk",value:function Sk(){var t=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function type"),t||(t=Ei("svg:"+this["#component-buttons"].value),this.primitive.append(t)),"identity"===this["#type-select"].value?t.removeAttribute("type"):t.setAttribute("type",this["#type-select"].value),"linear"!==this["#type-select"].value&&(t.removeAttribute("slope"),t.removeAttribute("intercept")),"gamma"!==this["#type-select"].value&&(t.removeAttribute("amplitude"),t.removeAttribute("exponent"),t.removeAttribute("offset")),"table"!==this["#type-select"].value&&"discrete"!==this["#type-select"].value&&t.removeAttribute("tableValues");}},{key:"$k",value:function $k(){var _this832=this;var t,_e1510,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function slope"),this.Pk=!0,this["#linear-slope-section"].addEventListener("change",t=function t(_t2119){_t2119.target===_this832["#linear-slope-slider"]?_this832["#linear-slope-input"].value=_this832["#linear-slope-slider"].value:_t2119.target===_this832["#linear-slope-input"]&&(_this832["#linear-slope-slider"].value=_this832["#linear-slope-input"].value),1===_this832["#linear-slope-input"].value?i.removeAttribute("slope"):i.setAttribute("slope",_this832["#linear-slope-input"].value);}),this["#linear-slope-section"].addEventListener("changeend",_e1510=function e(){_this832["#linear-slope-section"].removeEventListener("change",t),_this832["#linear-slope-section"].removeEventListener("changeend",_e1510),_this832.Pk=!1;});}},{key:"Ik",value:function Ik(){var _this833=this;var t,_e1511,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function intercept"),this.Dk=!0,this["#linear-intercept-section"].addEventListener("change",t=function t(_t2120){_t2120.target===_this833["#linear-intercept-slider"]?_this833["#linear-intercept-input"].value=_this833["#linear-intercept-slider"].value:_t2120.target===_this833["#linear-intercept-input"]&&(_this833["#linear-intercept-slider"].value=_this833["#linear-intercept-input"].value),0===_this833["#linear-intercept-input"].value?i.removeAttribute("intercept"):i.setAttribute("intercept",_this833["#linear-intercept-input"].value);}),this["#linear-intercept-section"].addEventListener("changeend",_e1511=function e(){_this833["#linear-intercept-section"].removeEventListener("change",t),_this833["#linear-intercept-section"].removeEventListener("changeend",_e1511),_this833.Dk=!1;});}},{key:"Lk",value:function Lk(){var _this834=this;var t,_e1512,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function amplitude"),this.zk=!0,this["#gamma-amplitude-section"].addEventListener("change",t=function t(_t2121){_t2121.target===_this834["#gamma-amplitude-slider"]?_this834["#gamma-amplitude-input"].value=_this834["#gamma-amplitude-slider"].value:_t2121.target===_this834["#gamma-amplitude-input"]&&(_this834["#gamma-amplitude-slider"].value=_this834["#gamma-amplitude-input"].value),1===_this834["#gamma-amplitude-input"].value?i.removeAttribute("amplitude"):i.setAttribute("amplitude",_this834["#gamma-amplitude-input"].value);}),this["#gamma-amplitude-section"].addEventListener("changeend",_e1512=function e(){_this834["#gamma-amplitude-section"].removeEventListener("change",t),_this834["#gamma-amplitude-section"].removeEventListener("changeend",_e1512),_this834.zk=!1;});}},{key:"Bk",value:function Bk(){var _this835=this;var t,_e1513,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function exponent"),this.Ok=!0,this["#gamma-exponent-section"].addEventListener("change",t=function t(_t2122){_t2122.target===_this835["#gamma-exponent-slider"]?_this835["#gamma-exponent-input"].value=_this835["#gamma-exponent-slider"].value:_t2122.target===_this835["#gamma-exponent-input"]&&(_this835["#gamma-exponent-slider"].value=_this835["#gamma-exponent-input"].value),1===_this835["#gamma-exponent-input"].value?i.removeAttribute("exponent"):i.setAttribute("exponent",_this835["#gamma-exponent-input"].value);}),this["#gamma-exponent-section"].addEventListener("changeend",_e1513=function e(){_this835["#gamma-exponent-section"].removeEventListener("change",t),_this835["#gamma-exponent-section"].removeEventListener("changeend",_e1513),_this835.Ok=!1;});}},{key:"Rk",value:function Rk(){var _this836=this;var t,_e1514,i=this.primitive.querySelector(this["#component-buttons"].value);this.Js.board.undoManager.checkpoint("Component transfer function offset"),this.Ek=!0,this["#gamma-offset-section"].addEventListener("change",t=function t(_t2123){_t2123.target===_this836["#gamma-offset-slider"]?_this836["#gamma-offset-input"].value=_this836["#gamma-offset-slider"].value:_t2123.target===_this836["#gamma-offset-input"]&&(_this836["#gamma-offset-slider"].value=_this836["#gamma-offset-input"].value),0===_this836["#gamma-offset-input"].value?i.removeAttribute("offset"):i.setAttribute("offset",_this836["#gamma-offset-input"].value);}),this["#gamma-offset-section"].addEventListener("changeend",_e1514=function e(){_this836["#gamma-offset-section"].removeEventListener("change",t),_this836["#gamma-offset-section"].removeEventListener("changeend",_e1514),_this836.Ek=!1;});}},{key:"Gk",value:function Gk(t){var _this837=this;var e,_i1428,s=this.primitive.querySelector(this["#component-buttons"].value),n=_toConsumableArray(this["#table-values-box"].children),o=t.target;this.Js.board.undoManager.checkpoint("Component transfer function table values"),this.Tk=!0,o.addEventListener("change",e=function e(){var t=n.map(function(t){return t.value;}).filter(function(t){return null!==t;});0===t.length?s.removeAttribute("tableValues"):s.setAttribute("tableValues",t.join(" "));}),o.addEventListener("changeend",_i1428=function i(){o.removeEventListener("change",e),o.removeEventListener("changeend",_i1428),_this837.Tk=!1,_this837.qs();});}},{key:"qs",value:function qs(){if(this.Pk||this.Dk||this.zk||this.Ok||this.Ek||this.Tk||this.Jy)return;_get(_getPrototypeOf(tg.prototype),"qs",this).call(this);var t=this.primitive.querySelector(this["#component-buttons"].value),e=t?t.getAttribute("type"):"identity";if(!1===["identity","table","discrete","linear","gamma"].includes(e)&&(e="identity"),this["#type-select"].value=e,"linear"===e?(this["#linear-slope-section"].hidden=!1,this["#linear-slope-slider"].value=K(t.slope.baseVal,2),this["#linear-slope-input"].value=K(t.slope.baseVal,2)):this["#linear-slope-section"].hidden=!0,"linear"===e?(this["#linear-intercept-section"].hidden=!1,this["#linear-intercept-slider"].value=K(t.intercept.baseVal,2),this["#linear-intercept-input"].value=K(t.intercept.baseVal,2)):this["#linear-intercept-section"].hidden=!0,"gamma"===e?(this["#gamma-amplitude-section"].hidden=!1,this["#gamma-amplitude-slider"].value=K(t.amplitude.baseVal,2),this["#gamma-amplitude-input"].value=K(t.amplitude.baseVal,2)):this["#gamma-amplitude-section"].hidden=!0,"gamma"===e?(this["#gamma-exponent-section"].hidden=!1,this["#gamma-exponent-slider"].value=t.exponent.baseVal,this["#gamma-exponent-input"].value=t.exponent.baseVal):this["#gamma-exponent-section"].hidden=!0,"gamma"===e?(this["#gamma-offset-section"].hidden=!1,this["#gamma-offset-slider"].value=t.offset.baseVal,this["#gamma-offset-input"].value=t.offset.baseVal):this["#gamma-offset-section"].hidden=!0,"table"===e||"discrete"===e){this["#table-values-section"].hidden=!1;var _e1515=_toConsumableArray(t.tableValues.baseVal).map(function(t){return K(t.value,2);}),_i1429=Math.max(2,_e1515.length+1);for(;this["#table-values-box"].childElementCount<_i1429;){this["#table-values-box"].append(this["#table-values-box"].lastElementChild.cloneNode());}for(;this["#table-values-box"].childElementCount>_i1429;){this["#table-values-box"].lastElementChild.remove();}for(var _t2124=0;_t2124<_i1429;_t2124+=1){void 0===_e1515[_t2124]?this["#table-values-box"].children[_t2124].value=null:this["#table-values-box"].children[_t2124].value=_e1515[_t2124];}}else this["#table-values-section"].hidden=!0;}}]);return tg;}(Vm);_defineProperty(tg,"_shadowTemplate",qi(_templateObject417()));_defineProperty(tg,"_shadowStyleSheet",Xi(_templateObject418()));customElements.define("bx-componenttransferprimitiveinspector",tg);var eg=10;var ig=/*#__PURE__*/function(_Vm10){_inherits(ig,_Vm10);var _super180=_createSuper(ig);_createClass(ig,[{key:"name",get:function get(){return"Convolve matrix";}}]);function ig(){var _this838;_classCallCheck(this,ig);_this838=_super180.call(this),_this838.Fk=!1,_this838.Uk=!1,_this838.Nk=!1,_this838.Vk=!1,_this838["#target-box"].addEventListener("changestart",function(t){return _this838.jk(t);}),_this838["#kernel-values-table"].addEventListener("changestart",function(t){return _this838.Hk(t);}),_this838["#kernel-row-buttons"].addEventListener("click",function(t){return _this838.Yk(t);}),_this838["#kernel-column-buttons"].addEventListener("click",function(t){return _this838.Wk(t);}),_this838["#divisor-switch"].addEventListener("toggle",function(){return _this838.qk();}),_this838["#divisor-box"].addEventListener("changestart",function(t){return _this838.Xk(t);}),_this838["#bias-box"].addEventListener("changestart",function(t){return _this838.Zk(t);}),_this838["#edge-mode-buttons"].addEventListener("toggle",function(){return _this838.Kk();}),_this838["#preserve-alpha-checkbox"].addEventListener("toggle",function(){return _this838.Qk();});return _this838;}_createClass(ig,[{key:"Hk",value:function Hk(t){var _this839=this;var e,_i1430,s=t.target,n=parseInt(s.dataset.x),o=parseInt(s.dataset.y),_this$Jk=this.Jk(),l=_this$Jk.values,a=_this$Jk.orderX,h=_this$Jk.orderY,r=_this$Jk.targetX,d=_this$Jk.targetY;this.Js.board.undoManager.checkpoint("Convolve matrix value"),this.Fk=!0,s.addEventListener("change",e=function e(){var _ref138;l[o][n]=s.value,_this839.primitive.setAttribute("kernelMatrix","".concat((_ref138=[]).concat.apply(_ref138,_toConsumableArray(l))));}),s.addEventListener("changeend",_i1430=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1430),_this839.Fk=!1;});}},{key:"Yk",value:function Yk(t){var _ref139;var e=t.target.closest("x-button"),_this$Jk2=this.Jk(),i=_this$Jk2.values,s=_this$Jk2.orderX,n=_this$Jk2.orderY,o=_this$Jk2.targetX,l=_this$Jk2.targetY;e===this["#kernel-add-row-button"]?(n+=1,i.push(new Array(s).fill(0))):e===this["#kernel-remove-row-button"]&&(n-=1,i.length=n),this.Js.board.undoManager.checkpoint("Convolve matrix rows"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref139=[]).concat.apply(_ref139,_toConsumableArray(i)))),l>i.length-1&&this.primitive.removeAttribute("targetY");}},{key:"Wk",value:function Wk(t){var _ref140;var e=t.target.closest("x-button"),_this$Jk3=this.Jk(),i=_this$Jk3.values,s=_this$Jk3.orderX,n=_this$Jk3.orderY,o=_this$Jk3.targetX,l=_this$Jk3.targetY;if(e===this["#kernel-add-column-button"]){s+=1;var _iterator1425=_createForOfIteratorHelper(i),_step1425;try{for(_iterator1425.s();!(_step1425=_iterator1425.n()).done;){var _t2125=_step1425.value;_t2125.push(0);}}catch(err){_iterator1425.e(err);}finally{_iterator1425.f();}}else if(e===this["#kernel-remove-column-button"]){s-=1;var _iterator1426=_createForOfIteratorHelper(i),_step1426;try{for(_iterator1426.s();!(_step1426=_iterator1426.n()).done;){var _t2126=_step1426.value;_t2126.pop();}}catch(err){_iterator1426.e(err);}finally{_iterator1426.f();}}this.Js.board.undoManager.checkpoint("Convolve matrix columns"),this.primitive.setAttribute("order","".concat(s," ").concat(n)),this.primitive.setAttribute("kernelMatrix","".concat((_ref140=[]).concat.apply(_ref140,_toConsumableArray(i)))),o>i[0].length-1&&this.primitive.removeAttribute("targetX");}},{key:"jk",value:function jk(t){var _this840=this;var e,_i1431,s=t.target;this.Js.board.undoManager.checkpoint("Convolve matrix target"),this.Uk=!0,this["#target-box"].addEventListener("change",e=function e(){_this840.primitive.setAttribute(s.dataset.name,Math.floor(s.value));var _iterator1427=_createForOfIteratorHelper(_this840["#kernel-values-table"].querySelectorAll("x-numberinput")),_step1427;try{for(_iterator1427.s();!(_step1427=_iterator1427.n()).done;){var _t2127=_step1427.value;parseInt(_t2127.dataset.x)===_this840["#target-x-input"].value&&parseInt(_t2127.dataset.y)===_this840["#target-y-input"].value?_t2127.setAttribute("data-target","true"):_t2127.setAttribute("data-target","false");}}catch(err){_iterator1427.e(err);}finally{_iterator1427.f();}}),this["#target-box"].addEventListener("changeend",_i1431=function i(){_this840["#target-box"].removeEventListener("change",e),_this840["#target-box"].removeEventListener("changeend",_i1431),_this840.Uk=!1;});}},{key:"qk",value:function qk(){if(this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this["#divisor-switch"].toggled){var _t2128=1,_e1516=0;var _iterator1428=_createForOfIteratorHelper(this.Jk().flatValues),_step1428;try{for(_iterator1428.s();!(_step1428=_iterator1428.n()).done;){var _t2129=_step1428.value;_e1516+=_t2129;}}catch(err){_iterator1428.e(err);}finally{_iterator1428.f();}0!==_e1516&&(_t2128=K(_e1516,2)),this.primitive.setAttribute("divisor",_t2128);}else this.primitive.removeAttribute("divisor");}},{key:"Xk",value:function Xk(){var _this841=this;var t,_e1517;this.Js.board.undoManager.checkpoint("Convolve matrix divisor"),this.Nk=!0,this["#divisor-section"].addEventListener("change",t=function t(_t2130){_t2130.target===_this841["#divisor-slider"]?_this841["#divisor-input"].value=_this841["#divisor-slider"].value:_t2130.target===_this841["#divisor-input"]&&(_this841["#divisor-slider"].value=_this841["#divisor-input"].value),_this841.primitive.setAttribute("divisor",_this841["#divisor-input"].value);}),this["#divisor-section"].addEventListener("changeend",_e1517=function e(){_this841["#divisor-section"].removeEventListener("change",t),_this841["#divisor-section"].removeEventListener("changeend",_e1517),_this841.Nk=!1;});}},{key:"Zk",value:function Zk(){var _this842=this;var t,_e1518;this.Js.board.undoManager.checkpoint("Convolve matrix bias"),this.Vk=!0,this["#bias-section"].addEventListener("change",t=function t(_t2131){_t2131.target===_this842["#bias-slider"]?_this842["#bias-input"].value=_this842["#bias-slider"].value:_t2131.target===_this842["#bias-input"]&&(_this842["#bias-slider"].value=_this842["#bias-input"].value),_this842.primitive.setAttribute("bias",_this842["#bias-input"].value);}),this["#bias-section"].addEventListener("changeend",_e1518=function e(){_this842["#bias-section"].removeEventListener("change",t),_this842["#bias-section"].removeEventListener("changeend",_e1518),_this842.Vk=!1;});}},{key:"Kk",value:function Kk(){var t=this["#edge-mode-buttons"].value;this.Js.board.undoManager.checkpoint("Convolve matrix edge mode"),"duplicate"===t?(this.primitive.setAttribute("edgeMode",t),this.primitive.removeAttribute("edgeMode")):this.primitive.setAttribute("edgeMode",t);}},{key:"Qk",value:function Qk(){this["#preserve-alpha-checkbox"].toggled?this.primitive.setAttribute("preserveAlpha","true"):(this.primitive.setAttribute("preserveAlpha","false"),this.primitive.removeAttribute("preserveAlpha"));}},{key:"Jk",value:function Jk(){var t=3,e=3,i=1,s=1,n=[],o=[];this.primitive.hasAttribute("order")&&(this.primitive.orderX.baseVal>0&&(t=Q(this.primitive.orderX.baseVal,1,eg)),this.primitive.orderY.baseVal>0&&(e=Q(this.primitive.orderY.baseVal,1,eg))),i=Math.floor(t/2),s=Math.floor(e/2),this.primitive.hasAttribute("targetX")&&this.primitive.targetX.baseVal>=0&&this.primitive.targetX.baseVal<t&&(i=this.primitive.targetX.baseVal),this.primitive.hasAttribute("targetY")&&this.primitive.targetY.baseVal>=0&&this.primitive.targetY.baseVal<e&&(s=this.primitive.targetY.baseVal);for(var _n609=0;_n609<e;_n609+=1){for(var _e1519=0;_e1519<t;_e1519+=1){_e1519===i&&_n609===s?o.push(1):o.push(0);}}if(o.length===this.primitive.kernelMatrix.baseVal.numberOfItems)for(var _t2132=0;_t2132<this.primitive.kernelMatrix.baseVal.numberOfItems;_t2132+=1){o[_t2132]=K(this.primitive.kernelMatrix.baseVal[_t2132].value,2);}{var _i1432=0;for(var _s829=0;_s829<e;_s829+=1){var _e1520=[];for(var _s830=0;_s830<t;_s830+=1){var _t2133=o[_i1432];_e1520.push(_t2133),_i1432+=1;}n.push(_e1520);}}return{orderX:t,orderY:e,targetX:i,targetY:s,values:n,flatValues:o};}},{key:"qs",value:function qs(){if(this.Fk||this.Uk||this.Nk||this.Vk||this.Jy)return;_get(_getPrototypeOf(ig.prototype),"qs",this).call(this);var _this$Jk4=this.Jk(),t=_this$Jk4.orderX,e=_this$Jk4.orderY,i=_this$Jk4.targetX,s=_this$Jk4.targetY,n=_this$Jk4.values;{var _o488="",_l370=0,_a276=0;var _iterator1429=_createForOfIteratorHelper(n),_step1429;try{for(_iterator1429.s();!(_step1429=_iterator1429.n()).done;){var _t2134=_step1429.value;_o488+='<x-box class="row-box">',_l370=0;var _iterator1430=_createForOfIteratorHelper(_t2134),_step1430;try{for(_iterator1430.s();!(_step1430=_iterator1430.n()).done;){var _e1521=_step1430.value;_o488+="\n            <x-numberinput\n              value=\"".concat(_e1521,"\"\n              data-x=\"").concat(_l370,"\"\n              data-y=\"").concat(_a276,"\"\n              data-target=\"").concat(_l370===i&&_a276===s,"\"\n              step=\"0.01\"\n              style=\"\">\n            </x-numberinput>\n          "),_l370+=1;}}catch(err){_iterator1430.e(err);}finally{_iterator1430.f();}_o488+="</x-box>",_a276+=1;}}catch(err){_iterator1429.e(err);}finally{_iterator1429.f();}this["#kernel-values-table"].style.setProperty("--order-x",t),this["#kernel-values-table"].style.setProperty("--order-y",e),this["#kernel-values-table"].innerHTML=_o488,this["#kernel-add-row-button"].disabled=e>=eg,this["#kernel-remove-row-button"].disabled=1===e,this["#kernel-add-column-button"].disabled=t>=eg,this["#kernel-remove-column-button"].disabled=1===t;}if(this["#target-x-label"].disabled=1===t,this["#target-x-input"].max=t-1,this["#target-x-input"].value=i,this["#target-x-input"].disabled=1===t,this["#target-y-label"].disabled=1===e,this["#target-y-input"].max=e-1,this["#target-y-input"].value=s,this["#target-y-input"].disabled=1===e,this.primitive.hasAttribute("divisor")){var _t2135=K(this.primitive.divisor.baseVal,2);this["#divisor-heading"].disabled=!1,this["#divisor-switch"].toggled=!0,this["#divisor-slider"].disabled=!1,this["#divisor-slider"].value=_t2135,this["#divisor-input"].disabled=!1,this["#divisor-input"].value=_t2135;}else this["#divisor-heading"].disabled=!0,this["#divisor-switch"].toggled=!1,this["#divisor-slider"].disabled=!0,this["#divisor-slider"].value=0,this["#divisor-input"].disabled=!0,this["#divisor-input"].value=null;{var _t2136=K(this.primitive.bias.baseVal,2);this["#bias-slider"].value=_t2136,this["#bias-input"].value=_t2136;}{var _t2137=this.primitive.getAttribute("edgeMode");!1===["duplicate","wrap","none"].includes(_t2137)&&(_t2137="duplicate"),this["#edge-mode-buttons"].value=_t2137;}this["#preserve-alpha-checkbox"].toggled="true"===this.primitive.getAttribute("preserveAlpha");}}]);return ig;}(Vm);_defineProperty(ig,"_shadowTemplate",qi(_templateObject419(),9,9));_defineProperty(ig,"_shadowStyleSheet",Xi(_templateObject420()));customElements.define("bx-convolvematrixprimitiveinspector",ig);var sg=/*#__PURE__*/function(_Vm11){_inherits(sg,_Vm11);var _super181=_createSuper(sg);_createClass(sg,[{key:"name",get:function get(){return"Displacement map";}}]);function sg(){var _this843;_classCallCheck(this,sg);_this843=_super181.call(this),_this843.tS=!1,_this843["#scale-box"].addEventListener("changestart",function(){return _this843.eS();}),_this843["#x-channel-buttons"].addEventListener("toggle",function(){return _this843.iS();}),_this843["#y-channel-buttons"].addEventListener("toggle",function(){return _this843.sS();});return _this843;}_createClass(sg,[{key:"iS",value:function iS(){this.Js.board.undoManager.checkpoint("Displacement map X channel"),"A"===this["#x-channel-buttons"].value?this.primitive.removeAttribute("xChannelSelector"):this.primitive.setAttribute("xChannelSelector",this["#x-channel-buttons"].value);}},{key:"sS",value:function sS(){this.Js.board.undoManager.checkpoint("Displacement map Y channel"),"A"===this["#y-channel-buttons"].value?this.primitive.removeAttribute("yChannelSelector"):this.primitive.setAttribute("yChannelSelector",this["#y-channel-buttons"].value);}},{key:"eS",value:function eS(){var _this844=this;var t,_e1522,i=this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Displacement map scale"),this.tS=!0,this["#scale-section"].addEventListener("change",t=function t(_t2138){_t2138.target===_this844["#scale-slider"]?_this844["#scale-input"].value=_this844["#scale-slider"].value:_t2138.target===_this844["#scale-input"]&&(_this844["#scale-slider"].value=_this844["#scale-input"].value);var e=_this844["#scale-input"].value;i.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX&&(e=K(e/100,2)),_this844.primitive.setAttribute("scale",e);}),this["#scale-section"].addEventListener("changeend",_e1522=function e(){_this844["#scale-section"].removeEventListener("change",t),_this844["#scale-section"].removeEventListener("changeend",_e1522),_this844.tS=!1;});}},{key:"qs",value:function qs(){if(!this.tS&&!this.Jy){_get(_getPrototypeOf(sg.prototype),"qs",this).call(this);{var _t2139=this.primitive.closest("filter"),_e1523=this.primitive.scale.baseVal,_i1433="";_t2139.primitiveUnits.baseVal===SVGUnitTypes.SVG_UNIT_TYPE_OBJECTBOUNDINGBOX?(_e1523=K(100*_e1523,2),_i1433="%"):_e1523=K(_e1523,0),this["#scale-slider"].value=_e1523,this["#scale-input"].value=_e1523,this["#scale-input"].suffix=_i1433;}{var _t2140=this.primitive.getAttribute("xChannelSelector");!1===["R","G","B","A"].includes(_t2140)&&(_t2140="A"),this["#x-channel-buttons"].value=_t2140;}{var _t2141=this.primitive.getAttribute("yChannelSelector");!1===["R","G","B","A"].includes(_t2141)&&(_t2141="A"),this["#y-channel-buttons"].value=_t2141;}}}}]);return sg;}(Vm);_defineProperty(sg,"_shadowTemplate",qi(_templateObject421()));_defineProperty(sg,"_shadowStyleSheet",Xi(_templateObject422()));customElements.define("bx-displacementmapprimitiveinspector",sg);var ng=/*#__PURE__*/function(_Vm12){_inherits(ng,_Vm12);var _super182=_createSuper(ng);_createClass(ng,[{key:"name",get:function get(){return"Gaussian blur";}}]);function ng(){var _this845;_classCallCheck(this,ng);_this845=_super182.call(this),_this845.nS=!1,_this845.oS=!1,_this845["#deviation-x-input"].addEventListener("changestart",function(){return _this845.lS();}),_this845["#deviation-y-input"].addEventListener("changestart",function(){return _this845.aS();}),_this845["#deviation-lock-button"].addEventListener("toggle",function(){return _this845.hS();});return _this845;}_createClass(ng,[{key:"connectedCallback",value:function connectedCallback(){this.nS=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(ng.prototype),"connectedCallback",this).call(this);}},{key:"lS",value:function lS(){var _this846=this;var t,_e1524,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this846["#deviation-x-input"].value&&(_this846["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this846["#deviation-y-input"].value=Q(_this846["#deviation-x-input"].value/s,0,Infinity,2):_this846["#deviation-y-input"].value=_this846["#deviation-x-input"].value);var t=_this846["#deviation-x-input"].value,e=_this846["#deviation-y-input"].value;_this846.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1524=function e(){_this846["#deviation-x-input"].removeEventListener("change",t),_this846["#deviation-x-input"].removeEventListener("changeend",_e1524),_this846.oS=!1;});}},{key:"aS",value:function aS(){var _this847=this;var t,_e1525,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this847["#deviation-y-input"].value&&(_this847["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this847["#deviation-x-input"].value=Q(_this847["#deviation-y-input"].value/s,0,Infinity,2):_this847["#deviation-x-input"].value=_this847["#deviation-y-input"].value);var t=_this847["#deviation-x-input"].value,e=_this847["#deviation-y-input"].value;_this847.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1525=function e(){_this847["#deviation-y-input"].removeEventListener("change",t),_this847["#deviation-y-input"].removeEventListener("changeend",_e1525),_this847.oS=!1;});}},{key:"hS",value:function hS(){this.nS=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.nS),this.qs();}},{key:"qs",value:function qs(){this.oS||this.Jy||(_get(_getPrototypeOf(ng.prototype),"qs",this).call(this),this["#deviation-x-input"].value=K(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=K(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.nS,this["#deviation-lock-icon"].name=this.nS?"lock-on":"lock-off");}}]);return ng;}(Vm);_defineProperty(ng,"_shadowTemplate",qi(_templateObject423()));_defineProperty(ng,"_shadowStyleSheet",Xi(_templateObject424()));customElements.define("bx-gaussianblurprimitiveinspector",ng);var og=/*#__PURE__*/function(_Vm13){_inherits(og,_Vm13);var _super183=_createSuper(og);_createClass(og,[{key:"name",get:function get(){return"Morphology";}}]);function og(){var _this848;_classCallCheck(this,og);_this848=_super183.call(this),_this848.rS=!1,_this848.Vb=!1,_this848["#operator-buttons"].addEventListener("toggle",function(){return _this848.tm();}),_this848["#radius-x-input"].addEventListener("changestart",function(){return _this848.dS();}),_this848["#radius-y-input"].addEventListener("changestart",function(){return _this848.cS();}),_this848["#radius-lock-button"].addEventListener("toggle",function(){return _this848.pS();});return _this848;}_createClass(og,[{key:"connectedCallback",value:function connectedCallback(){this.rS=app.getConfig("".concat(this.localName,":radiusLocked"),!1),_get(_getPrototypeOf(og.prototype),"connectedCallback",this).call(this);}},{key:"tm",value:function tm(){this.Js.board.undoManager.checkpoint("Morphology operator"),"erode"===this["#operator-buttons"].value?this.primitive.removeAttribute("operator"):this.primitive.setAttribute("operator",this["#operator-buttons"].value);}},{key:"dS",value:function dS(t){var _this849=this;var e,_i1434,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Vb=!0,this["#radius-x-input"].addEventListener("change",e=function e(){null===_this849["#radius-x-input"].value&&(_this849["#radius-x-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this849["#radius-y-input"].value=Q(_this849["#radius-x-input"].value/n,0,Infinity,2):_this849["#radius-y-input"].value=_this849["#radius-x-input"].value);var t=_this849["#radius-x-input"].value,e=_this849["#radius-y-input"].value;_this849.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-x-input"].addEventListener("changeend",_i1434=function i(){_this849["#radius-x-input"].removeEventListener("change",e),_this849["#radius-x-input"].removeEventListener("changeend",_i1434),_this849.Vb=!1;});}},{key:"cS",value:function cS(t){var _this850=this;var e,_i1435,s=this["#radius-lock-button"].toggled,n=this["#radius-x-input"].value/this["#radius-y-input"].value;this.Js.board.undoManager.checkpoint("Morphology radius"),this.Vb=!0,this["#radius-y-input"].addEventListener("change",e=function e(){null===_this850["#radius-y-input"].value&&(_this850["#radius-y-input"].value=0),s&&(Number.isFinite(n)&&0!==n?_this850["#radius-x-input"].value=Q(_this850["#radius-y-input"].value/n,0,Infinity,2):_this850["#radius-x-input"].value=_this850["#radius-y-input"].value);var t=_this850["#radius-x-input"].value,e=_this850["#radius-y-input"].value;_this850.primitive.setAttribute("radius",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#radius-y-input"].addEventListener("changeend",_i1435=function i(){_this850["#radius-y-input"].removeEventListener("change",e),_this850["#radius-y-input"].removeEventListener("changeend",_i1435),_this850.Vb=!1;});}},{key:"pS",value:function pS(){this.rS=this["#radius-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":radiusLocked"),this.rS),this.qs();}},{key:"qs",value:function qs(){this.Vb||this.Jy||(_get(_getPrototypeOf(og.prototype),"qs",this).call(this),this.primitive.hasAttribute("operator")?this["#operator-buttons"].value=this.primitive.getAttribute("operator"):this["#operator-buttons"].value="erode",this["#radius-x-input"].value=K(this.primitive.radiusX.baseVal,2),this["#radius-y-input"].value=K(this.primitive.radiusY.baseVal,2),this["#radius-lock-button"].toggled=this.rS,this["#radius-lock-icon"].name=this.rS?"lock-on":"lock-off");}}]);return og;}(Vm);_defineProperty(og,"_shadowTemplate",qi(_templateObject425()));_defineProperty(og,"_shadowStyleSheet",Xi(_templateObject426()));customElements.define("bx-morphologyprimitiveinspector",og);var lg=/*#__PURE__*/function(_Vm14){_inherits(lg,_Vm14);var _super184=_createSuper(lg);_createClass(lg,[{key:"name",get:function get(){return"Drop shadow";}}]);function lg(){var _this851;_classCallCheck(this,lg);_this851=_super184.call(this),_this851.nS=!1,_this851.oS=!1,_this851.vb=!1,_this851.kb=!1,_this851.Wx=!1,_this851["#deviation-x-input"].addEventListener("changestart",function(){return _this851.lS();}),_this851["#deviation-y-input"].addEventListener("changestart",function(){return _this851.aS();}),_this851["#deviation-lock-button"].addEventListener("toggle",function(){return _this851.hS();}),_this851["#offset-section"].addEventListener("changestart",function(t){return _this851.Sb(t);}),_this851["#color-select"].addEventListener("changestart",function(){return _this851.Mb();}),_this851["#opacity-box"].addEventListener("changestart",function(t){return _this851.qx(t);});return _this851;}_createClass(lg,[{key:"connectedCallback",value:function connectedCallback(){this.nS=app.getConfig("".concat(this.localName,":deviationLocked"),!1),_get(_getPrototypeOf(lg.prototype),"connectedCallback",this).call(this);}},{key:"lS",value:function lS(){var _this852=this;var t,_e1526,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-x-input"].addEventListener("change",t=function t(){null===_this852["#deviation-x-input"].value&&(_this852["#deviation-x-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this852["#deviation-y-input"].value=Q(_this852["#deviation-x-input"].value/s,0,Infinity,2):_this852["#deviation-y-input"].value=_this852["#deviation-x-input"].value);var t=_this852["#deviation-x-input"].value,e=_this852["#deviation-y-input"].value;_this852.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-x-input"].addEventListener("changeend",_e1526=function e(){_this852["#deviation-x-input"].removeEventListener("change",t),_this852["#deviation-x-input"].removeEventListener("changeend",_e1526),_this852.oS=!1;});}},{key:"aS",value:function aS(){var _this853=this;var t,_e1527,i=this["#deviation-lock-button"].toggled,s=this["#deviation-x-input"].value/this["#deviation-y-input"].value;this.Js.board.undoManager.checkpoint("Filter standard deviation"),this.oS=!0,this["#deviation-y-input"].addEventListener("change",t=function t(){null===_this853["#deviation-y-input"].value&&(_this853["#deviation-y-input"].value=0),i&&(Number.isFinite(s)&&0!==s?_this853["#deviation-x-input"].value=Q(_this853["#deviation-y-input"].value/s,0,Infinity,2):_this853["#deviation-x-input"].value=_this853["#deviation-y-input"].value);var t=_this853["#deviation-x-input"].value,e=_this853["#deviation-y-input"].value;_this853.primitive.setAttribute("stdDeviation",t===e?"".concat(t):"".concat(t," ").concat(e));}),this["#deviation-y-input"].addEventListener("changeend",_e1527=function e(){_this853["#deviation-y-input"].removeEventListener("change",t),_this853["#deviation-y-input"].removeEventListener("changeend",_e1527),_this853.oS=!1;});}},{key:"hS",value:function hS(){this.nS=this["#deviation-lock-button"].toggled,this.Qs.setConfig("".concat(this.localName,":deviationLocked"),this.nS),this.qs();}},{key:"Sb",value:function Sb(t){var _this854=this;var e,_i1436,s=t.target;this.Js.board.undoManager.checkpoint("Drop shadow offset"),this.vb=!0,s.addEventListener("change",e=function e(){_this854.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1436=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1436),_this854.vb=!1;});}},{key:"Mb",value:function Mb(){var _this855=this;var t,_e1528;this.Js.board.undoManager.checkpoint("Flood color"),this.kb=!0,this["#color-select"].addEventListener("change",t=function t(){_this855.primitive.style.setProperty("flood-color",_this855["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1528=function e(){_this855["#color-select"].removeEventListener("change",t),_this855["#color-select"].removeEventListener("changeend",_e1528),Sh("flood-color",_this855.primitive),_this855.kb=!1;});}},{key:"qx",value:function qx(){var _this856=this;var t,_e1529;this.Js.board.undoManager.checkpoint("Flood opacity"),this.Wx=!0,this["#opacity-section"].addEventListener("change",t=function t(_t2142){_t2142.target===_this856["#opacity-slider"]?_this856["#opacity-input"].value=_this856["#opacity-slider"].value:_t2142.target===_this856["#opacity-input"]&&(_this856["#opacity-slider"].value=_this856["#opacity-input"].value),_this856.primitive.style.setProperty("flood-opacity",_this856["#opacity-slider"].value);}),this["#opacity-section"].addEventListener("changeend",_e1529=function e(){_this856["#opacity-section"].removeEventListener("change",t),_this856["#opacity-section"].removeEventListener("changeend",_e1529),Sh("flood-opacity",_this856.primitive),_this856.Wx=!1;});}},{key:"qs",value:function qs(){if(this.oS||this.vb||this.kb||this.Wx||this.Jy)return;_get(_getPrototypeOf(lg.prototype),"qs",this).call(this);var t=getComputedStyle(this.primitive);this["#deviation-x-input"].value=K(this.primitive.stdDeviationX.baseVal,2),this["#deviation-y-input"].value=K(this.primitive.stdDeviationY.baseVal,2),this["#deviation-lock-button"].toggled=this.nS,this["#deviation-lock-icon"].name=this.nS?"lock-on":"lock-off",this["#offset-x-input"].value=K(this.primitive.dx.baseVal,2),this["#offset-y-input"].value=K(this.primitive.dy.baseVal,2),this["#color-select"].value=t.floodColor;{var _e1530=K(parseFloat(t.floodOpacity),2);this["#opacity-slider"].value=_e1530,this["#opacity-input"].value=_e1530;}}}]);return lg;}(Vm);_defineProperty(lg,"_shadowTemplate",qi(_templateObject427()));_defineProperty(lg,"_shadowStyleSheet",Xi(_templateObject428()));customElements.define("bx-dropshadowprimitiveinspector",lg);var ag=/*#__PURE__*/function(_Vm15){_inherits(ag,_Vm15);var _super185=_createSuper(ag);_createClass(ag,[{key:"name",get:function get(){return"Offset";}}]);function ag(){var _this857;_classCallCheck(this,ag);_this857=_super185.call(this),_this857.uS=!1,_this857["#delta-section"].addEventListener("changestart",function(t){return _this857.xS(t);});return _this857;}_createClass(ag,[{key:"xS",value:function xS(t){var _this858=this;var e,_i1437,s=t.target;this.Js.board.undoManager.checkpoint("Filter offset"),this.uS=!0,s.addEventListener("change",e=function e(){_this858.primitive.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1437=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1437),_this858.uS=!1;});}},{key:"qs",value:function qs(){this.uS||this.Jy||(_get(_getPrototypeOf(ag.prototype),"qs",this).call(this),this["#x-input"].value=K(this.primitive.dx.baseVal,2),this["#y-input"].value=K(this.primitive.dy.baseVal,2));}}]);return ag;}(Vm);_defineProperty(ag,"_shadowTemplate",qi(_templateObject429()));_defineProperty(ag,"_shadowStyleSheet",Xi(_templateObject430()));customElements.define("bx-offsetprimitiveinspector",ag);var hg=/*#__PURE__*/function(_Vm16){_inherits(hg,_Vm16);var _super186=_createSuper(hg);_createClass(hg,[{key:"name",get:function get(){return"Lighting";}}]);function hg(t){var _this859;_classCallCheck(this,hg);_this859=_super186.call(this),_this859.bS=!1,_this859.kb=!1,_this859.zb=!1,_this859.mS=!1,_this859.gS=!1,_this859.fS=!1,_this859.wS=!1,_this859.vS=!1,_this859["#surface-scale-box"].addEventListener("changestart",function(){return _this859.yS();}),_this859["#color-select"].addEventListener("changestart",function(){return _this859.Mb();}),_this859["#source-type-buttons"].addEventListener("toggle",function(){return _this859.kS();}),_this859["#source-position-subsection"].addEventListener("changestart",function(t){return _this859.$b(t);}),_this859["#source-target-subsection"].addEventListener("changestart",function(t){return _this859.SS(t);}),_this859["#source-cone-box"].addEventListener("changestart",function(){return _this859._S();}),_this859["#source-exponent-box"].addEventListener("changestart",function(){return _this859.CS();}),_this859["#source-azimuth-box"].addEventListener("changestart",function(){return _this859.MS();}),_this859["#source-elevation-box"].addEventListener("changestart",function(){return _this859.PS();});return _this859;}_createClass(hg,[{key:"yS",value:function yS(){var _this860=this;var t,_e1531;this.Js.board.undoManager.checkpoint("Specular lighting surface scale"),this.bS=!0,this["#surface-scale-section"].addEventListener("change",t=function t(_t2143){_t2143.target===_this860["#surface-scale-slider"]?_this860["#surface-scale-input"].value=_this860["#surface-scale-slider"].value:_t2143.target===_this860["#surface-scale-input"]&&(_this860["#surface-scale-slider"].value=_this860["#surface-scale-input"].value),_this860.primitive.setAttribute("surfaceScale",_this860["#surface-scale-input"].value);}),this["#surface-scale-section"].addEventListener("changeend",_e1531=function e(){_this860["#surface-scale-section"].removeEventListener("change",t),_this860["#surface-scale-section"].removeEventListener("changeend",_e1531),_this860.bS=!1;});}},{key:"Mb",value:function Mb(){var _this861=this;var t,_e1532;this.Js.board.undoManager.checkpoint("Flood color"),this.kb=!0,this["#color-select"].addEventListener("change",t=function t(){_this861.primitive.style.setProperty("lighting-color",_this861["#color-select"].value);}),this["#color-select"].addEventListener("changeend",_e1532=function e(){_this861["#color-select"].removeEventListener("change",t),_this861["#color-select"].removeEventListener("changeend",_e1532),Sh("lighting-color",_this861.primitive),_this861.kb=!1;});}},{key:"kS",value:function kS(){var t=this.DS(),e=Ei("svg:"+this["#source-type-buttons"].value);this.Js.board.undoManager.checkpoint("Light source type"),t?t.replaceWith(e):this.primitive.append(e);}},{key:"$b",value:function $b(t){var _this862=this;var e,_i1438,s=t.target,n=this.DS();this.Js.board.undoManager.checkpoint("Light source position"),this.zb=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1438=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1438),_this862.zb=!1;});}},{key:"SS",value:function SS(t){var _this863=this;var e,_i1439,s=t.target,n=this.DS();this.Js.board.undoManager.checkpoint("Light target position"),this.mS=!0,s.addEventListener("change",e=function e(){n.setAttribute(s.dataset.name,s.value);}),s.addEventListener("changeend",_i1439=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1439),_this863.mS=!1;});}},{key:"_S",value:function _S(){var _this864=this;var t,_e1533,i=this.DS();this.Js.board.undoManager.checkpoint("Light limiting cone angle"),this.gS=!0,this["#source-cone-box"].addEventListener("change",t=function t(_t2144){_t2144.target===_this864["#source-cone-slider"]?_this864["#source-cone-input"].value=_this864["#source-cone-slider"].value:_t2144.target===_this864["#source-cone-input"]&&(_this864["#source-cone-slider"].value=_this864["#source-cone-input"].value),i.setAttribute("limitingConeAngle",_this864["#source-cone-input"].value);}),this["#source-cone-box"].addEventListener("changeend",_e1533=function e(){_this864["#source-cone-box"].removeEventListener("change",t),_this864["#source-cone-box"].removeEventListener("changeend",_e1533),_this864.gS=!1;});}},{key:"CS",value:function CS(){var _this865=this;var t,_e1534,i=this.DS();this.Js.board.undoManager.checkpoint("Spot light exponent"),this.fS=!0,this["#source-exponent-box"].addEventListener("change",t=function t(_t2145){_t2145.target===_this865["#source-exponent-slider"]?_this865["#source-exponent-input"].value=_this865["#source-exponent-slider"].value:_t2145.target===_this865["#source-exponent-input"]&&(_this865["#source-exponent-slider"].value=_this865["#source-exponent-input"].value),i.setAttribute("specularExponent",_this865["#source-exponent-input"].value);}),this["#source-exponent-box"].addEventListener("changeend",_e1534=function e(){_this865["#source-exponent-box"].removeEventListener("change",t),_this865["#source-exponent-box"].removeEventListener("changeend",_e1534),_this865.fS=!1;});}},{key:"MS",value:function MS(){var _this866=this;var t,_e1535,i=this.DS();this.Js.board.undoManager.checkpoint("Light azimuth"),this.wS=!0,this["#source-azimuth-box"].addEventListener("change",t=function t(_t2146){_t2146.target===_this866["#source-azimuth-slider"]?_this866["#source-azimuth-input"].value=_this866["#source-azimuth-slider"].value:_t2146.target===_this866["#source-azimuth-input"]&&(_this866["#source-azimuth-slider"].value=_this866["#source-azimuth-input"].value),i.setAttribute("azimuth",_this866["#source-azimuth-input"].value);}),this["#source-azimuth-box"].addEventListener("changeend",_e1535=function e(){_this866["#source-azimuth-box"].removeEventListener("change",t),_this866["#source-azimuth-box"].removeEventListener("changeend",_e1535),_this866.wS=!1;});}},{key:"PS",value:function PS(){var _this867=this;var t,_e1536,i=this.DS();this.Js.board.undoManager.checkpoint("Light elevation"),this.vS=!0,this["#source-elevation-box"].addEventListener("change",t=function t(_t2147){_t2147.target===_this867["#source-elevation-slider"]?_this867["#source-elevation-input"].value=_this867["#source-elevation-slider"].value:_t2147.target===_this867["#source-elevation-input"]&&(_this867["#source-elevation-slider"].value=_this867["#source-elevation-input"].value),i.setAttribute("elevation",_this867["#source-elevation-input"].value);}),this["#source-elevation-box"].addEventListener("changeend",_e1536=function e(){_this867["#source-elevation-box"].removeEventListener("change",t),_this867["#source-elevation-box"].removeEventListener("changeend",_e1536),_this867.vS=!1;});}},{key:"DS",value:function DS(){return this.primitive.querySelector(":scope > fePointLight, :scope > feSpotLight, :scope > feDistantLight");}},{key:"qs",value:function qs(){if(this.bS||this.kb||this.zb||this.mS||this.gS||this.fS||this.wS||this.vS||this.Jy)return;_get(_getPrototypeOf(hg.prototype),"qs",this).call(this);var t=this.DS();{var _t2148=K(this.primitive.surfaceScale.baseVal,2);this["#surface-scale-slider"].value=_t2148,this["#surface-scale-input"].value=_t2148;}this["#color-select"].value=getComputedStyle(this.primitive).lightingColor,this["#source-type-buttons"].value=t?t.localName:null,t&&"feDistantLight"!==t.localName?(this["#source-position-subsection"].hidden=!1,this["#source-position-x-input"].value=K(t.x.baseVal,2),this["#source-position-y-input"].value=K(t.y.baseVal,2),this["#source-position-z-input"].value=K(t.z.baseVal,2)):this["#source-position-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-target-subsection"].hidden=!1,this["#source-target-x-input"].value=K(t.pointsAtX.baseVal,2),this["#source-target-y-input"].value=K(t.pointsAtY.baseVal,2),this["#source-target-z-input"].value=K(t.pointsAtZ.baseVal,2)):this["#source-target-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-cone-subsection"].hidden=!1,this["#source-cone-slider"].value=K(t.limitingConeAngle.baseVal,2),this["#source-cone-input"].value=K(t.limitingConeAngle.baseVal,2)):this["#source-cone-subsection"].hidden=!0,t&&"feSpotLight"===t.localName?(this["#source-exponent-subsection"].hidden=!1,this["#source-exponent-slider"].value=K(t.specularExponent.baseVal,2),this["#source-exponent-input"].value=K(t.specularExponent.baseVal,2)):this["#source-exponent-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-azimuth-subsection"].hidden=!1,this["#source-azimuth-slider"].value=K(t.azimuth.baseVal,2),this["#source-azimuth-input"].value=K(t.azimuth.baseVal,2)):this["#source-azimuth-subsection"].hidden=!0,t&&"feDistantLight"===t.localName?(this["#source-elevation-subsection"].hidden=!1,this["#source-elevation-slider"].value=K(t.elevation.baseVal,2),this["#source-elevation-input"].value=K(t.elevation.baseVal,2)):this["#source-elevation-subsection"].hidden=!0;}}]);return hg;}(Vm);_defineProperty(hg,"_shadowTemplate",qi(_templateObject431()));_defineProperty(hg,"_shadowStyleSheet",Xi(_templateObject432()));customElements.define("bx-lightingprimitiveinspector",hg);var rg=/*#__PURE__*/function(_hg){_inherits(rg,_hg);var _super187=_createSuper(rg);_createClass(rg,[{key:"name",get:function get(){return"Specular lighting";}}]);function rg(){var _this868;_classCallCheck(this,rg);_this868=_super187.call(this),_this868.zS=!1,_this868.OS=!1,_this868["#constant-box"].addEventListener("changestart",function(){return _this868.ES();}),_this868["#exponent-box"].addEventListener("changestart",function(){return _this868.TS();});return _this868;}_createClass(rg,[{key:"ES",value:function ES(){var _this869=this;var t,_e1537;this.Js.board.undoManager.checkpoint("Specular lighting constant"),this.zS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2149){_t2149.target===_this869["#constant-slider"]?_this869["#constant-input"].value=_this869["#constant-slider"].value:_t2149.target===_this869["#constant-input"]&&(_this869["#constant-slider"].value=_this869["#constant-input"].value),_this869.primitive.setAttribute("specularConstant",_this869["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1537=function e(){_this869["#constant-section"].removeEventListener("change",t),_this869["#constant-section"].removeEventListener("changeend",_e1537),_this869.zS=!1;});}},{key:"TS",value:function TS(){var _this870=this;var t,_e1538;this.Js.board.undoManager.checkpoint("Specular lighting exponent"),this.OS=!0,this["#exponent-section"].addEventListener("change",t=function t(_t2150){_t2150.target===_this870["#exponent-slider"]?_this870["#exponent-input"].value=_this870["#exponent-slider"].value:_t2150.target===_this870["#exponent-input"]&&(_this870["#exponent-slider"].value=_this870["#exponent-input"].value),_this870.primitive.setAttribute("specularExponent",_this870["#exponent-input"].value);}),this["#exponent-section"].addEventListener("changeend",_e1538=function e(){_this870["#exponent-section"].removeEventListener("change",t),_this870["#exponent-section"].removeEventListener("changeend",_e1538),_this870.OS=!1;});}},{key:"qs",value:function qs(){if(!(this.zS||this.OS||this.Jy)){_get(_getPrototypeOf(rg.prototype),"qs",this).call(this);{var _t2151=K(this.primitive.specularConstant.baseVal,2);this["#constant-slider"].value=_t2151,this["#constant-input"].value=_t2151;}{var _t2152=K(this.primitive.specularExponent.baseVal,2);this["#exponent-slider"].value=_t2152,this["#exponent-input"].value=_t2152;}}}}]);return rg;}(hg);_defineProperty(rg,"_shadowTemplate",qi(_templateObject433()));_defineProperty(rg,"_shadowStyleSheet",Xi(_templateObject434()));customElements.define("bx-specularlightingprimitiveinspector",rg);var dg=/*#__PURE__*/function(_hg2){_inherits(dg,_hg2);var _super188=_createSuper(dg);_createClass(dg,[{key:"name",get:function get(){return"Diffuse lighting";}}]);function dg(){var _this871;_classCallCheck(this,dg);_this871=_super188.call(this),_this871.zS=!1,_this871["#constant-box"].addEventListener("changestart",function(){return _this871.ES();});return _this871;}_createClass(dg,[{key:"ES",value:function ES(){var _this872=this;var t,_e1539;this.primitive.closest("filter");this.Js.board.undoManager.checkpoint("Diffuse lighting constant"),this.zS=!0,this["#constant-section"].addEventListener("change",t=function t(_t2153){_t2153.target===_this872["#constant-slider"]?_this872["#constant-input"].value=_this872["#constant-slider"].value:_t2153.target===_this872["#constant-input"]&&(_this872["#constant-slider"].value=_this872["#constant-input"].value),_this872.primitive.setAttribute("diffuseConstant",_this872["#constant-input"].value);}),this["#constant-section"].addEventListener("changeend",_e1539=function e(){_this872["#constant-section"].removeEventListener("change",t),_this872["#constant-section"].removeEventListener("changeend",_e1539),_this872.zS=!1;});}},{key:"qs",value:function qs(){if(!this.zS&&!this.Jy){_get(_getPrototypeOf(dg.prototype),"qs",this).call(this);{var _t2154=K(this.primitive.diffuseConstant.baseVal,2);this["#constant-slider"].value=_t2154,this["#constant-input"].value=_t2154;}}}}]);return dg;}(hg);_defineProperty(dg,"_shadowTemplate",qi(_templateObject435()));_defineProperty(dg,"_shadowStyleSheet",Xi(_templateObject436()));customElements.define("bx-diffuselightingprimitiveinspector",dg);var cg=.1,pg=6e3,ug=450,xg=1.8,bg=20;var mg=/*#__PURE__*/function(_HTMLElement117){_inherits(mg,_HTMLElement117);var _super189=_createSuper(mg);_createClass(mg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"filter",get:function get(){return this.By;},set:function set(t){this.By=t,this.enabled&&this.qs();}}]);function mg(){var _this873;_classCallCheck(this,mg);_this873=_super189.call(this),_this873.tabIndex=1,_this873.By=null,_this873.AS={node:null,edge:null},_this873.$S=Ki(_this873.qs,400,_assertThisInitialized(_this873)),_this873._shadowRoot=_this873.attachShadow({mode:"closed"}),_this873._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,mg._shadowStyleSheet],_this873._shadowRoot.append(document.importNode(mg._shadowTemplate.content,!0));var _iterator1431=_createForOfIteratorHelper(_this873._shadowRoot.querySelectorAll("[id]")),_step1431;try{for(_iterator1431.s();!(_step1431=_iterator1431.n()).done;){var _t2155=_step1431.value;_this873["#"+_t2155.id]=_t2155;}}catch(err){_iterator1431.e(err);}finally{_iterator1431.f();}_this873.addEventListener("keydown",function(t){return _this873.vn(t);}),_this873["#canvas"].addEventListener("wheel",function(t){return _this873.IS(t);}),_this873["#canvas"].addEventListener("pointerdown",function(t){return _this873.LS(t);}),_this873["#canvas"].addEventListener("contextmenu",function(t){return _this873.BS(t);}),_this873["#zoom-button"].addEventListener("click",function(){return _this873.RS();}),_this873["#add-primitive-menu"].addEventListener("click",function(t){return _this873.GS(t);}),_this873["#add-primitive-menu"].addEventListener("open",function(t){return _this873.FS(t);}),_this873["#sidebar-resize-grippie"].addEventListener("pointerdown",function(t){return _this873.US(t);});return _this873;}_createClass(mg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this874=this;var t=this.Js.board;t.addEventListener("currentworkspacechange",this.Lx=function(){_this874.$S();}),t.addEventListener("workspacemutation",this.rn=function(t){_this874.$S();}),this["#sidebar"].style.width=this.Qs.getConfig("bx-filterinspector:sidebarWidth",180)+"px",this.qs(),this.NS();}},{key:"sn",value:function sn(){var t=this.Js.board;t.removeEventListener("currentworkspacechange",this.Lx),t.removeEventListener("workspacemutation",this.rn),this["#graph-nodes"].innerHTML="",this["#graph-edges"].innerHTML="",this["#sidebar-content"].innerHTML="";}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);(e.matches("Backspace")||e.matches("Delete"))&&this.matches(":focus")&&(t.stopPropagation(),this.VS());}},{key:"jS",value:function jS(){this.HS();}},{key:"IS",value:function IS(t){t.preventDefault();var e=Q(t.wheelDeltaX,-bg,bg,1),i=Q(t.wheelDeltaY,-bg,bg,1);if(!t.metaKey&&!t.ctrlKey||t.altKey||t.shiftKey){var _t2156=e/xg,_s831=i/xg;this.YS(_t2156,_s831);}else this.WS(i/ug,t.clientX,t.clientY);}},{key:"LS",value:function LS(t){t.target.closest(".node")?this.qS(t):t.target.closest(".edge")?this.XS(t):this.ZS(t);}},{key:"qS",value:function qS(t){var _this875=this;{var _e1540=t.target.closest(".node"),_i1440=[];var _iterator1432=_createForOfIteratorHelper(this["#graph-edges"].children),_step1432;try{for(_iterator1432.s();!(_step1432=_iterator1432.n()).done;){var _t2157=_step1432.value;_t2157.dataset.to===_e1540.dataset.name&&_i1440.push({from:_t2157.dataset.from,to:_t2157.dataset.to,slot:parseInt(_t2157.dataset.slot)});}}catch(err){_iterator1432.e(err);}finally{_iterator1432.f();}this.setSelection(_e1540.dataset.name,null),this.dispatchEvent(new CustomEvent("selectionchange"));}{var _e1542,_i1442,_s832=t.target.closest(".node"),_n610=new DOMPoint(t.clientX,t.clientY),_o489=_n610;window.addEventListener("pointermove",_e1542=function _e1541(l){var a=new DOMPoint(l.clientX,l.clientY),h=l.timeStamp-t.timeStamp;!0!==Me(_o489,a,0)&&(_o489=a,ze(_n610,a)<3&&h<80||(window.removeEventListener("pointermove",_e1542),window.removeEventListener("pointerup",_i1442),_this875.KS(t,_s832)));}),window.addEventListener("pointerup",_i1442=function _i1441(){window.removeEventListener("pointermove",_e1542),window.removeEventListener("pointerup",_i1442);});}}},{key:"KS",value:function KS(t,e){var _this876=this;var i,s,n=Ht(this["#graph-group"]).inverse(),o=Ne(e.getBoundingClientRect(),n),l=new DOMPoint(t.clientX,t.clientY);l=l.matrixTransform(n);var a=Zi(_templateObject61());this["#graph-nodes"].append(a),this["#graph-nodes"].append(e);var h=new DOMPoint(o.x+o.width/2,o.y+o.height/2),r=null;var _iterator1433=_createForOfIteratorHelper(this["#graph-edges"].children),_step1433;try{for(_iterator1433.s();!(_step1433=_iterator1433.n()).done;){var _t2166=_step1433.value;_t2166.setAttribute("data-disabled","");}}catch(err){_iterator1433.e(err);}finally{_iterator1433.f();}var _iterator1434=_createForOfIteratorHelper(this["#graph-nodes"].children),_step1434;try{for(_iterator1434.s();!(_step1434=_iterator1434.n()).done;){var _t2167=_step1434.value;_t2167!==e&&_t2167!==a&&!1===this.QS.canConnectNodes(e.dataset.name,_t2167.dataset.name)&&_t2167.setAttribute("data-disabled","");}}catch(err){_iterator1434.e(err);}finally{_iterator1434.f();}window.addEventListener("pointermove",i=function i(t){var i=new DOMPoint(t.clientX,t.clientY);i=i.matrixTransform(n);var s=_this876._shadowRoot.elementFromPoint(t.clientX,t.clientY),o=r,l=null;if(r=s?s.closest(".node"):null,r&&!1===r.hasAttribute("data-disabled")){var _t2158=r.getBoundingClientRect();_t2158=Ne(_t2158,n),l=function(t,e){var i=t.x+t.width,s=t.y+t.height,n=Math.max(t.x,Math.min(i,e.x)),o=Math.max(t.y,Math.min(s,e.y)),l=Math.abs(n-t.x),a=Math.abs(n-i),h=Math.abs(o-t.y),r=Math.abs(o-s),d=Math.min(l,a,h,r);return d===h?new DOMPoint(n,t.y):d===r?new DOMPoint(n,s):d===l?new DOMPoint(t.x,o):new DOMPoint(i,o);}(_t2158,h),r!==o&&(o&&o.removeAttribute("data-highlighted"),r!==e&&r.setAttribute("data-highlighted",""));}else l=new DOMPoint(i.x,i.y),o&&o.removeAttribute("data-highlighted");a.setAttribute("d","M ".concat(h.x," ").concat(h.y," L ").concat(l.x," ").concat(l.y));}),window.addEventListener("pointerup",s=function(_s834){function s(){return _s834.apply(this,arguments);}s.toString=function(){return _s834.toString();};return s;}(function(){window.removeEventListener("pointermove",i),window.removeEventListener("pointerup",s),a.removeAttribute("d");var _iterator1435=_createForOfIteratorHelper(_this876["#graph-edges"].children),_step1435;try{for(_iterator1435.s();!(_step1435=_iterator1435.n()).done;){var _t2164=_step1435.value;_t2164.removeAttribute("data-disabled");}}catch(err){_iterator1435.e(err);}finally{_iterator1435.f();}var _iterator1436=_createForOfIteratorHelper(_this876["#graph-nodes"].children),_step1436;try{for(_iterator1436.s();!(_step1436=_iterator1436.n()).done;){var _t2165=_step1436.value;_t2165.removeAttribute("data-disabled"),_t2165.removeAttribute("data-highlighted");}}catch(err){_iterator1436.e(err);}finally{_iterator1436.f();}if(r){var _t2159=_this876.QS.connectNodes(e.dataset.name,r.dataset.name);if(-1!==_t2159){var _i1443=_this876.QS.getOrderedNodes(),_s833=_i1443.find(function(t){return t.name===e.dataset.name;}),_n611=_i1443.find(function(t){return t.name===r.dataset.name;}),_o490=_toConsumableArray(_this876.filter.children).filter(function(t){return P.includes(t.localName);});if(_this876.Js.board.undoManager.checkpoint("Connect filter primitives"),"SourceGraphic"===_s833.type||"SourceAlpha"===_s833.type){var _t2160=_this876.filter.hasAttribute("data-bx-details")?_this876.filter.getAttribute("data-bx-details").split(" "):[];_t2160.includes(_s833.type)&&(_t2160=_t2160.filter(function(t){return t!==_s833.type;}),0===_t2160.length?_this876.filter.removeAttribute("data-bx-details"):_this876.filter.setAttribute("data-bx-details",_t2160.join(" ")));}{var _e1543=_o490.find(function(t){return t.result.baseVal===_n611.name;});if("feMerge"===_n611.type){_toConsumableArray(_e1543.children).filter(function(t){return"feMergeNode"===t.localName;});var _t2161=Ei("svg:feMergeNode");_t2161.setAttribute("in",_s833.name),_e1543.append(_t2161);}else _e1543.setAttribute(1===_t2159?"in":"in2",_s833.name);}{var _t2162=[];var _iterator1437=_createForOfIteratorHelper(_i1443),_step1437;try{var _loop31=function _loop31(){var e=_step1437.value;if("SourceGraphic"!==e.type&&"SourceAlpha"!==e.type){var _i1445=_o490.find(function(t){return t.result.baseVal===e.name;});_t2162.push(_i1445);}};for(_iterator1437.s();!(_step1437=_iterator1437.n()).done;){_loop31();}}catch(err){_iterator1437.e(err);}finally{_iterator1437.f();}for(var _i1444=0,_t2163=_t2162;_i1444<_t2163.length;_i1444++){var _e1544=_t2163[_i1444];_this876.filter.append(_e1544);}}_this876.setSelection(null,{from:_s833.name,to:_n611.name,slot:_t2159});}}}));}},{key:"XS",value:function XS(t){var e=t.target.closest(".edge");{var _t2168={from:e.dataset.from,to:e.dataset.to,slot:parseInt(e.dataset.slot)};this.setSelection(null,_t2168),this.dispatchEvent(new CustomEvent("selectionchange"));}}},{key:"ZS",value:function ZS(){this.setSelection(null,null),this.dispatchEvent(new CustomEvent("selectionchange"));}},{key:"BS",value:function(){var _BS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee136(t){var _e1545;return regeneratorRuntime.wrap(function _callee136$(_context137){while(1){switch(_context137.prev=_context137.next){case 0:if(!t.target.closest(".node")){_context137.next=8;break;}t.preventDefault();_context137.next=4;return this.Qs.openContextMenu([{value:"duplicate-primitive",label:"Duplicate Primitive",disabled:!1===this.JS()},{value:"delete-primitive",label:"Delete Primitive",disabled:!1},{type:"separator"},{value:"terminal-primitive",label:"Set as Terminal Primitive",disabled:!1===this.t_()}]);case 4:_e1545=_context137.sent;"duplicate-primitive"===_e1545?this.e_():"delete-primitive"===_e1545?this.VS():"terminal-primitive"===_e1545&&this.i_();_context137.next=16;break;case 8:if(!t.target.closest(".edge")){_context137.next=16;break;}t.preventDefault();_context137.next=12;return this.Qs.openContextMenu([{value:"delete-edge",label:"Delete Connector",disabled:!1}]);case 12:_context137.t0=_context137.sent;_context137.t1="delete-edge"===_context137.t0;if(!_context137.t1){_context137.next=16;break;}this.VS();case 16:case"end":return _context137.stop();}}},_callee136,this);}));function BS(_x162){return _BS.apply(this,arguments);}return BS;}()},{key:"RS",value:function RS(){this.NS();}},{key:"GS",value:function(){var _GS=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee137(t){var e,i,_t2169,_t2170,_e1546,_s835,_n612,_t2171;return regeneratorRuntime.wrap(function _callee137$(_context138){while(1){switch(_context138.prev=_context138.next){case 0:e=t.target.closest("x-menuitem"),i=e?e.value:null;if(!i){_context138.next=29;break;}if(!(this.Js.board.undoManager.checkpoint("Add filter primitive"),"SourceGraphic"===i||"SourceAlpha"===i)){_context138.next=7;break;}_t2169=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2169.includes(i)&&(_t2169.push(i),this.filter.setAttribute("data-bx-details",_t2169.join(" ")),this.s_(),this.NS(),this.setSelection(i,null));_context138.next=29;break;case 7:_e1546=Ei("svg:"+i),_s835=ai(i).substring(3),_n612=this.n_(_s835);if(!(_t2170="objectBoundingBox"===this.filter.getAttribute("primitiveUnits")?"objectBoundingBox":"userSpaceOnUse",_e1546.setAttribute("result",_n612),"feBlend"===i)){_context138.next=12;break;}_e1546.setAttribute("in","none"),_e1546.setAttribute("in2","none");_context138.next=28;break;case 12:if(!("feComposite"===i)){_context138.next=16;break;}_e1546.setAttribute("in","none"),_e1546.setAttribute("in2","none");_context138.next=28;break;case 16:if(!("feFlood"===i)){_context138.next=20;break;}_e1546.style.floodColor="#d8d8d8";_context138.next=28;break;case 20:if(!("feImage"===i)){_context138.next=27;break;}_context138.next=23;return Kh("images/cornell-box.jpg");case 23:_t2171=_context138.sent;_e1546.setAttribute("href",_t2171);_context138.next=28;break;case 27:"feTile"===i?_e1546.setAttribute("in","none"):"feTurbulence"===i?_e1546.setAttribute("baseFrequency","0.2"):"feColorMatrix"===i?(_e1546.setAttribute("in","none"),_e1546.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0")):"feComponentTransfer"===i||"feConvolveMatrix"===i?_e1546.setAttribute("in","none"):"feDisplacementMap"===i?(_e1546.setAttribute("in","none"),_e1546.setAttribute("in2","none")):"feGaussianBlur"===i?(_e1546.setAttribute("in","none"),_e1546.setAttribute("stdDeviation","userSpaceOnUse"===_t2170?"4":"0.04")):"feMorphology"===i?(_e1546.setAttribute("in","none"),_e1546.setAttribute("radius","userSpaceOnUse"===_t2170?"4":"0.04")):"feDropShadow"===i||"feOffset"===i?_e1546.setAttribute("in","none"):"feSpecularLighting"===i?(_e1546.setAttribute("in","none"),_e1546.setAttribute("lighting-color","#ffffff"),_e1546.setAttribute("specularConstant","1"),_e1546.setAttribute("specularExponent","70"),_e1546.innerHTML='<fePointLight x="0.5" y="0.5" z="0.5"></fePointLight>'):"feDiffuseLighting"===i&&_e1546.setAttribute("in","none");case 28:this.filter.prepend(_e1546),this.s_(),this.NS(),this.setSelection(_n612,null);case 29:case"end":return _context138.stop();}}},_callee137,this);}));function GS(_x163){return _GS.apply(this,arguments);}return GS;}()},{key:"FS",value:function FS(){var t=this.QS.getNodes(),e=t.find(function(t){return"SourceGraphic"===t.type;}),i=t.find(function(t){return"SourceAlpha"===t.type;});this["#source-graphic-menu-item"].disabled=void 0!==e,this["#source-alpha-menu-item"].disabled=void 0!==i;}},{key:"US",value:function US(t){var _this877=this;if(1!==t.buttons)return;this["#sidebar-resize-grippie"].setPointerCapture(t.pointerId);var e,_i1446,s=this["#sidebar"].clientWidth,n=s,o=parseInt(getComputedStyle(this["#sidebar"]).minWidth),l=parseInt(getComputedStyle(this["#sidebar"]).maxWidth);t.preventDefault(),this["#sidebar-resize-grippie"].addEventListener("pointermove",e=function e(_e1547){n=s-(_e1547.clientX-t.clientX),n<o?n=o:n>l&&(n=l),n=Math.ceil(n),_this877["#sidebar"].style.width=n+"px";}),this["#sidebar-resize-grippie"].addEventListener("lostpointercapture",_i1446=function i(){_this877["#sidebar-resize-grippie"].removeEventListener("pointermove",e),_this877["#sidebar-resize-grippie"].removeEventListener("lostpointercapture",_i1446),_this877.Qs.setConfig("bx-filterinspector:sidebarWidth",n);});}},{key:"YS",value:function YS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect()),s=this["#graph-backdrop"].getBBox();s=Ne(s,Ht(this["#graph-group"])),s=Ue(s,0);var n=DOMRect.fromRect(s);n.x+=t,n.y+=e,n=Ue(n,0),He(i,s)?(n.width<i.width&&(n.x<i.x?n.x=i.x:n.x+n.width>i.x+i.width&&(n.x=i.x+i.width-n.width)),n.height<i.height&&(n.y<i.y?n.y=i.y:n.y+n.height>i.y+i.height&&(n.y=i.y+i.height-n.height))):!1===Ye(i,s)&&(n.x+n.width<i.x?n.x=i.x-n.width:n.x>i.x+i.width&&(n.x=i.x+i.width),n.y+n.height<i.y?n.y=i.y-n.height:n.y>i.y+i.height&&(n.y=i.y+i.height));var o=n.x-s.x,l=n.y-s.y,a=new DOMMatrix();a.translateSelf(o,l),a.multiplySelf(Vt(this["#graph-group"])),this["#graph-group"].setAttribute("transform",a);}},{key:"WS",value:function WS(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:.3;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var s=Vt(this["#graph-group"]),n=Ht(this["#canvas"]).inverse(),o=new DOMPoint(e,i).matrixTransform(n);if(s.a>0){100*(s.a+t*s.a)<cg?t=(cg-100*s.a)/(100*s.a):100*(s.a+t*s.a)>pg&&(t=(pg-100*s.a)/(100*s.a));var _e1548=new DOMMatrix();_e1548.scaleSelf(1+t,1+t,1,o.x,o.y),_e1548.multiplySelf(s),this["#graph-group"].setAttribute("transform",_e1548);}}},{key:"o_",value:function o_(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;var i=DOMRect.fromRect(this["#main"].getBoundingClientRect());if(i=Ne(i,Ht(this["#canvas"]).inverse()),i.x+=e,i.y+=e,i.width-=2*e,i.height-=2*e,t.width>0&&t.height>0){var _e1549=i.width/t.width,_s836=i.height/t.height;_e1549>_s836?_e1549=_s836:_s836>_e1549&&(_s836=_e1549),(_e1549>1||_s836>1)&&(_e1549=1,_s836=1);var _n613=i.x-t.x*_e1549+(i.width-t.width*_e1549)/2,_o491=i.y-t.y*_s836+(i.height-t.height*_s836)/2,_l371=new DOMMatrix();_l371.translateSelf(_n613,_o491),_l371.scaleSelf(_e1549,_s836),this["#graph-group"].setAttribute("transform",_l371);}}},{key:"NS",value:function NS(){this.o_(this["#graph-backdrop"].getBBox());}},{key:"getSelection",value:function getSelection(){var t=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),e=this.AS.node,i=this.AS.edge;if("SourceGraphic"!==e&&"SourceAlpha"!==e){var _i1447=!1;var _iterator1438=_createForOfIteratorHelper(t),_step1438;try{for(_iterator1438.s();!(_step1438=_iterator1438.n()).done;){var _s837=_step1438.value;if(_s837.result.baseVal===e){_i1447=!0;break;}}}catch(err){_iterator1438.e(err);}finally{_iterator1438.f();}!1===_i1447&&(e=null);}if(i){var _e1550=t.find(function(t){return t.result.baseVal===i.from;}),_s838=t.find(function(t){return t.result.baseVal===i.to;});if(_s838){if("SourceGraphic"===i.from||"SourceAlpha"===i.from){if("feMerge"===_s838.localName){var _t2172=_toConsumableArray(_s838.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2172[i.slot-1]&&_t2172[i.slot-1].in1.baseVal===i.from||(i=null);}else _s838["in"+i.slot]&&_s838["in"+i.slot].baseVal===i.from||(i=null);}else if(_e1550){if("feMerge"===_s838.localName){var _t2173=_toConsumableArray(_s838.children).filter(function(t){return"feMergeNode"===t.localName;});void 0!==_t2173[i.slot-1]&&_t2173[i.slot-1].in1.baseVal===_e1550.result.baseVal||(i=null);}else _s838["in"+i.slot]&&_s838["in"+i.slot].baseVal===_e1550.result.baseVal||(i=null);}else i=null;}else i=null;}return[e,i];}},{key:"setSelection",value:function setSelection(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.AS={node:t,edge:e},this.qs();}},{key:"l_",value:function l_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"SourceGraphic";var e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);});var _iterator1439=_createForOfIteratorHelper(e),_step1439;try{for(_iterator1439.s();!(_step1439=_iterator1439.n()).done;){var _i1448=_step1439.value;if("feMerge"===_i1448.localName){var _e1551=_toConsumableArray(_i1448.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1440=_createForOfIteratorHelper(_e1551),_step1440;try{for(_iterator1440.s();!(_step1440=_iterator1440.n()).done;){var _i1449=_step1440.value;if(_i1449.in1.baseVal===t)return!0;}}catch(err){_iterator1440.e(err);}finally{_iterator1440.f();}}else{if(_i1448.in1&&_i1448.in1.baseVal===t)return!0;if(_i1448.in2&&_i1448.in2.baseVal===t)return!0;}}}catch(err){_iterator1439.e(err);}finally{_iterator1439.f();}return!1;}},{key:"VS",value:function VS(){var _this$getSelection=this.getSelection(),_this$getSelection2=_slicedToArray(_this$getSelection,2),t=_this$getSelection2[0],e=_this$getSelection2[1],i=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),s=this.l_("SourceGraphic"),n=this.l_("SourceAlpha");if(t){if(this.Js.board.undoManager.checkpoint("Delete filter primitive"),"SourceGraphic"===t||"SourceAlpha"===t){var _iterator1441=_createForOfIteratorHelper(i),_step1441;try{for(_iterator1441.s();!(_step1441=_iterator1441.n()).done;){var _e1553=_step1441.value;if("feMerge"===_e1553.localName){var _i1450=_toConsumableArray(_e1553.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1442=_createForOfIteratorHelper(_i1450),_step1442;try{for(_iterator1442.s();!(_step1442=_iterator1442.n()).done;){var _e1554=_step1442.value;_e1554.in1.baseVal===t&&_e1554.remove();}}catch(err){_iterator1442.e(err);}finally{_iterator1442.f();}}else _e1553.in1&&_e1553.in1.baseVal===t&&_e1553.setAttribute("in","none"),_e1553.in2&&_e1553.in2.baseVal===t&&_e1553.setAttribute("in2","none");}}catch(err){_iterator1441.e(err);}finally{_iterator1441.f();}{var _e1552=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];_e1552.includes(t)&&(_e1552=_e1552.filter(function(e){return e!==t;})),0===_e1552.length?this.filter.removeAttribute("data-bx-details"):this.filter.setAttribute("data-bx-details",_e1552.join(" "));}}else{var _e1555=i.find(function(e){return e.result.baseVal===t;}),_o492=i.filter(function(t){return t!==_e1555;});_e1555.remove();var _iterator1443=_createForOfIteratorHelper(_o492),_step1443;try{for(_iterator1443.s();!(_step1443=_iterator1443.n()).done;){var _t2175=_step1443.value;if("feMerge"===_t2175.localName){var _i1452=_toConsumableArray(_t2175.children).filter(function(t){return"feMergeNode"===t.localName;});var _iterator1444=_createForOfIteratorHelper(_i1452),_step1444;try{for(_iterator1444.s();!(_step1444=_iterator1444.n()).done;){var _t2176=_step1444.value;_t2176.in1.baseVal===_e1555.result.baseVal&&_t2176.remove();}}catch(err){_iterator1444.e(err);}finally{_iterator1444.f();}}else _t2175.in1&&_t2175.in1.baseVal===_e1555.result.baseVal&&_t2175.setAttribute("in","none"),_t2175.in2&&_t2175.in2.baseVal===_e1555.result.baseVal&&_t2175.setAttribute("in2","none");}}catch(err){_iterator1443.e(err);}finally{_iterator1443.f();}{var _t2174=this.l_("SourceGraphic"),_e1556=this.l_("SourceAlpha");if(_e1556!==n||_t2174!==s){var _i1451=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2174&&!0===s&&!1===_i1451.includes("SourceGraphic")&&_i1451.push("SourceGraphic"),!1===_e1556&&!0===n&&!1===_i1451.includes("SourceAlpha")&&_i1451.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1451.join(" "));}}}}else if(e){var _iterator1445=_createForOfIteratorHelper(i),_step1445;try{for(_iterator1445.s();!(_step1445=_iterator1445.n()).done;){var _t2178=_step1445.value;if("feMerge"===_t2178.localName){if(_t2178.result.baseVal===e.to){var _i1454=_toConsumableArray(_t2178.children).filter(function(t){return"feMergeNode"===t.localName;}),_s839=null;var _iterator1446=_createForOfIteratorHelper(_i1454),_step1446;try{for(_iterator1446.s();!(_step1446=_iterator1446.n()).done;){var _t2179=_step1446.value;if(_t2179.in1.baseVal===e.from){_s839=_t2179;break;}}}catch(err){_iterator1446.e(err);}finally{_iterator1446.f();}_s839&&(this.Js.board.undoManager.checkpoint("Delete filter connector"),_s839.remove());}}else{if(_t2178.in1&&_t2178.in1.baseVal===e.from&&_t2178.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2178.setAttribute("in","none");break;}if(_t2178.in2&&_t2178.in2.baseVal===e.from&&_t2178.result.baseVal===e.to){this.Js.board.undoManager.checkpoint("Delete filter connector"),_t2178.setAttribute("in2","none");break;}}}}catch(err){_iterator1445.e(err);}finally{_iterator1445.f();}{var _t2177=this.l_("SourceGraphic"),_e1557=this.l_("SourceAlpha");if(_t2177!==s||_e1557!==n){var _i1453=this.filter.hasAttribute("data-bx-details")?this.filter.getAttribute("data-bx-details").split(" "):[];!1===_t2177&&!0===s&&!1===_i1453.includes("SourceGraphic")&&_i1453.push("SourceGraphic"),!1===_e1557&&!0===n&&!1===_i1453.includes("SourceAlpha")&&_i1453.push("SourceAlpha"),this.filter.setAttribute("data-bx-details",_i1453.join(" "));}}}}},{key:"a_",value:function a_(){var _this$getSelection3=this.getSelection(),_this$getSelection4=_slicedToArray(_this$getSelection3,2),t=_this$getSelection4[0],e=_this$getSelection4[1];return!!t||!!e;}},{key:"e_",value:function e_(){this.Js.board.undoManager.checkpoint("Duplicate filter primitive");var _this$getSelection5=this.getSelection(),_this$getSelection6=_slicedToArray(_this$getSelection5,1),t=_this$getSelection6[0],e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).find(function(e){return e.result.baseVal===t;}),i=ai(e.localName).substring(3),s=e.cloneNode("feMerge"!==e.localName);s.setAttribute("result",this.n_(i)),s.removeAttribute("id"),s.in1&&(s.in1.baseVal="none"),s.in2&&(s.in2.baseVal="none"),this.filter.append(s);}},{key:"JS",value:function JS(){var _this$getSelection7=this.getSelection(),_this$getSelection8=_slicedToArray(_this$getSelection7,1),t=_this$getSelection8[0];return"SourceGraphic"!==t&&"SourceAlpha"!==t;}},{key:"i_",value:function i_(){var _this$getSelection9=this.getSelection(),_this$getSelection10=_slicedToArray(_this$getSelection9,1),t=_this$getSelection10[0],e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}),i=this.QS.getGroups(),s=i.find(function(e){return e.includes(t);}),n=_toConsumableArray(i).sort(function(t){return t===s?1:-1;});this.Js.board.undoManager.checkpoint("Set terminal filter primitive");{var _t2180=[];var _iterator1447=_createForOfIteratorHelper(n),_step1447;try{for(_iterator1447.s();!(_step1447=_iterator1447.n()).done;){var _i1456=_step1447.value;var _iterator1448=_createForOfIteratorHelper(_i1456),_step1448;try{var _loop32=function _loop32(){var s=_step1448.value;if("SourceGraphic"!==s&&"SourceAlpha"!==s){var _i1457=e.find(function(t){return t.result.baseVal===s;});_t2180.push(_i1457);}};for(_iterator1448.s();!(_step1448=_iterator1448.n()).done;){_loop32();}}catch(err){_iterator1448.e(err);}finally{_iterator1448.f();}}}catch(err){_iterator1447.e(err);}finally{_iterator1447.f();}for(var _i1455=0,_t2181=_t2180;_i1455<_t2181.length;_i1455++){var _e1558=_t2181[_i1455];this.filter.append(_e1558);}}}},{key:"t_",value:function t_(){var _this$getSelection11=this.getSelection(),_this$getSelection12=_slicedToArray(_this$getSelection11,1),t=_this$getSelection12[0],e=this.QS.getGroups();if("SourceGraphic"===t||"SourceAlpha"===t)return!1;{var _i1458=e.flat();if(_i1458=_i1458.filter(function(t){return"SourceGraphic"!==t&&"SourceAlpha"!==t;}),t===_i1458[_i1458.length-1])return!1;}{var _i1459=e.find(function(e){return e.includes(t);});if(_i1459.indexOf(t)!==_i1459.length-1)return!1;}return!0;}},{key:"n_",value:function n_(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"primitive";this.filter;var e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).map(function(t){return t.result.baseVal;});for(var _i1460=0;_i1460<Infinity;_i1460+=1){var _s840=t+"-"+_i1460;if(!1===e.includes(_s840))return _s840;}}},{key:"qs",value:function qs(){this.s_(),this.HS();}},{key:"s_",value:function s_(){var _this878=this;(function(t){var e=_toConsumableArray(t.children).filter(function(t){return P.includes(t.localName);}),i=Symbol();{var _t2182=null,_s841={};var _iterator1449=_createForOfIteratorHelper(e),_step1449;try{for(_iterator1449.s();!(_step1449=_iterator1449.n()).done;){var _n614=_step1449.value;if(_n614[i]=[],"feMerge"===_n614.localName){var _e1559=_toConsumableArray(_n614.children).filter(function(t){return"feMergeNode"===t.localName;}),_o493=null,_l372=Symbol();var _iterator1450=_createForOfIteratorHelper(_e1559),_step1450;try{for(_iterator1450.s();!(_step1450=_iterator1450.n()).done;){var _i1461=_step1450.value;["SourceGraphic","SourceAlpha","none"].includes(_i1461.in1.baseVal)?_i1461[_l372]=_i1461.in1.baseVal:_s841[_i1461.in1.baseVal]?_i1461[_l372]=_s841[_i1461.in1.baseVal]:_i1461[_l372]=_o493?_o493[_l372]:_t2182||"SourceGraphic",_o493=_i1461;}}catch(err){_iterator1450.e(err);}finally{_iterator1450.f();}var _iterator1451=_createForOfIteratorHelper(_e1559),_step1451;try{for(_iterator1451.s();!(_step1451=_iterator1451.n()).done;){var _t2183=_step1451.value;var _e1560=_t2183[_l372];_n614[i].push(_e1560);}}catch(err){_iterator1451.e(err);}finally{_iterator1451.f();}}else for(var _i1462=0,_arr71=["in1","in2"];_i1462<_arr71.length;_i1462++){var _e1561=_arr71[_i1462];if(void 0!==_n614[_e1561])if(["SourceGraphic","SourceAlpha","none"].includes(_n614[_e1561].baseVal))_n614[i].push(_n614[_e1561].baseVal);else if(_s841[_n614[_e1561].baseVal]){var _t2184=_s841[_n614[_e1561].baseVal];_n614[i].push(_t2184);}else _t2182?_n614[i].push(_t2182):_n614[i].push("SourceGraphic");}_t2182=_n614,""!==_n614.result.baseVal&&(_s841[_n614.result.baseVal]=_n614);}}catch(err){_iterator1449.e(err);}finally{_iterator1449.f();}}{var _t2185=[];var _iterator1452=_createForOfIteratorHelper(e),_step1452;try{for(_iterator1452.s();!(_step1452=_iterator1452.n()).done;){var _i1463=_step1452.value;var _e1562=_i1463.result.baseVal;""!==_e1562&&(_t2185.includes(_e1562)?_i1463.result.baseVal="":_t2185.push(_i1463.result.baseVal));}}catch(err){_iterator1452.e(err);}finally{_iterator1452.f();}var _iterator1453=_createForOfIteratorHelper(e),_step1453;try{for(_iterator1453.s();!(_step1453=_iterator1453.n()).done;){var _i1464=_step1453.value;if(""===_i1464.result.baseVal){var _e1563=ai(_i1464.localName).substring(3);for(var _s842=0;_s842<Infinity;_s842+=1){var _n615="".concat(_e1563,"-").concat(_s842);if(!1===_t2185.includes(_n615)){_i1464.result.baseVal=_n615,_t2185.push(_n615);break;}}}}}catch(err){_iterator1453.e(err);}finally{_iterator1453.f();}}var _iterator1454=_createForOfIteratorHelper(e),_step1454;try{for(_iterator1454.s();!(_step1454=_iterator1454.n()).done;){var _t2186=_step1454.value;var _e1564=_t2186[i].map(function(t){return t.result?t.result.baseVal:t;});if("feMerge"===_t2186.localName){var _i1465=_toConsumableArray(_t2186.children).filter(function(t){return"feMergeNode"===t.localName;});for(var _t2187=0;_t2187<_i1465.length;_t2187+=1){_i1465[_t2187].in1.baseVal!==_e1564[_t2187]&&(_i1465[_t2187].in1.baseVal=_e1564[_t2187]);}}else void 0!==_t2186.in1&&_t2186.in1.baseVal!==_e1564[0]&&(_t2186.in1.baseVal=_e1564[0]),void 0!==_t2186.in2&&_t2186.in2.baseVal!==_e1564[1]&&(_t2186.in2.baseVal=_e1564[1]);}}catch(err){_iterator1454.e(err);}finally{_iterator1454.f();}})(this.filter),this.QS=new Gm(this.filter);var t=this.QS.getNodes(),e=this.QS.getEdges(),_this$getSelection13=this.getSelection(),_this$getSelection14=_slicedToArray(_this$getSelection13,2),i=_this$getSelection14[0],s=_this$getSelection14[1];this["#graph-backdrop"].width.baseVal.value=this.QS.getWidth(),this["#graph-backdrop"].height.baseVal.value=this.QS.getHeight();{var _loop33=function _loop33(){var e=_arr72[_i1466];t.find(function(t){return t.name===e.dataset.name;})||e.remove();};for(var _i1466=0,_arr72=_toConsumableArray(this["#graph-nodes"].children);_i1466<_arr72.length;_i1466++){_loop33();}var _e1565=_toConsumableArray(this["#graph-nodes"].children);var _iterator1455=_createForOfIteratorHelper(t),_step1455;try{var _loop34=function _loop34(){var _step1455$value=_step1455.value,s=_step1455$value.x,n=_step1455$value.y,o=_step1455$value.width,l=_step1455$value.height,a=_step1455$value.name,h=_step1455$value.type,r=_step1455$value.terminal;var t=_e1565.find(function(t){return t.dataset.name===a;});if(!t){var _e1566="";_e1566="SourceGraphic"===h?"filter-source-graphic-hd":"SourceAlpha"===h?"filter-source-alpha-hd":"feDiffuseLighting"===h||"feSpecularLighting"===h?"filter-lighting-hd":"filter-"+ai(h).substring(3)+"-hd",t=Zi(_templateObject62(),a,_e1566),_this878["#graph-nodes"].append(t);}a===i?t.setAttribute("data-selected",""):t.removeAttribute("data-selected"),r?t.setAttribute("data-terminal",""):t.removeAttribute("data-terminal"),t.setAttribute("transform","translate(".concat(s-o/2,", ").concat(n-l/2,")"));};for(_iterator1455.s();!(_step1455=_iterator1455.n()).done;){_loop34();}}catch(err){_iterator1455.e(err);}finally{_iterator1455.f();}}{var _loop35=function _loop35(){var t=_arr73[_i1467];e.find(function(e){return e.from===t.dataset.from&&e.to===t.dataset.to&&e.slot===parseInt(t.dataset.slot);})||t.remove();};for(var _i1467=0,_arr73=_toConsumableArray(this["#graph-edges"].children);_i1467<_arr73.length;_i1467++){_loop35();}var _t2188=_toConsumableArray(this["#graph-edges"].children);var _iterator1456=_createForOfIteratorHelper(e),_step1456;try{var _loop36=function _loop36(){var n=_step1456.value;var e=n.points,o=n.label,l=n.from,a=n.to,h=n.slot,r=_t2188.find(function(t){return t.dataset.from===l&&t.dataset.to===a&&t.dataset.slot==="".concat(h);}),_e1567=_toArray(e),d=_e1567[0],c=_e1567.slice(1),p="M ".concat(d.x," ").concat(d.y)+c.map(function(t){return" L ".concat(t.x," ").concat(t.y);}).join("");r||(r=Zi(_templateObject63(),o.width,o.height,o.height),_this878["#graph-edges"].append(r)),s&&s.from===l&&s.to===a&&s.slot===h?r.setAttribute("data-selected",""):r.removeAttribute("data-selected"),s?s.to===n.to?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"):i&&i===a?r.setAttribute("data-labeled",""):r.removeAttribute("data-labeled"),r.setAttribute("data-from",l),r.setAttribute("data-to",a),r.setAttribute("data-slot",h),r.children[0].style.d="path(\"".concat(p,"\")"),r.children[1].style.d="path(\"".concat(p,"\")"),r.children[2].style.x=o.x-o.width/2+"px",r.children[2].style.y=o.y-o.height/2+"px",r.children[2].innerHTML=o.text;};for(_iterator1456.s();!(_step1456=_iterator1456.n()).done;){_loop36();}}catch(err){_iterator1456.e(err);}finally{_iterator1456.f();}}}},{key:"HS",value:function HS(){var t=this["#sidebar-content"].firstElementChild,e=null,_this$getSelection15=this.getSelection(),_this$getSelection16=_slicedToArray(_this$getSelection15,2),i=_this$getSelection16[0],s=_this$getSelection16[1];if(i){if("SourceGraphic"===i||"SourceAlpha"===i)e=i;else{e=_toConsumableArray(this.filter.children).filter(function(t){return P.includes(t.localName);}).find(function(t){return t.result.baseVal===i;});}if(!t||t.primitive!==e)if("SourceAlpha"===e)this["#sidebar-heading"].textContent="Source Alpha",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else if("SourceGraphic"===e)this["#sidebar-heading"].textContent="Source Graphic",this["#sidebar-content"].innerHTML="<p>This primitive has no options.</p>";else{var _t2189=Ei("bx-".concat(e.localName.substring(2).toLowerCase(),"primitiveinspector"));_t2189.primitive=e,this["#sidebar-heading"].textContent=_t2189.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2189);}}else if(s){if(!t||"bx-filteredgeinspector"!==t.localName){var _t2190=Ei("bx-filteredgeinspector");this["#sidebar-heading"].textContent=_t2190.name,this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2190);}}else if(!t||"bx-filterhostinspector"!==t.localName){var _t2191=Ei("bx-filterhostinspector");_t2191.filter=this.filter,this["#sidebar-heading"].textContent="Filter",this["#sidebar-content"].innerHTML="",this["#sidebar-content"].append(_t2191);}}}]);return mg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(mg,"observedAttributes",["enabled"]);_defineProperty(mg,"_shadowTemplate",qi(_templateObject437()));_defineProperty(mg,"_shadowStyleSheet",Xi(_templateObject438()));customElements.define("bx-filterinspector",mg);var gg=Symbol(),fg=Symbol();var wg=/*#__PURE__*/function(_HTMLElement118){_inherits(wg,_HTMLElement118);var _super190=_createSuper(wg);_createClass(wg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function wg(){var _temp48,_this879;_classCallCheck(this,wg);(_temp48=_this879=_super190.call(this),_defineProperty(_assertThisInitialized(_this879),"commands",{selectAll:{enabled:function enabled(){return _this879.pv();},exec:function exec(){return _this879.uv();}},deselectAll:{enabled:function enabled(){return _this879.xv();},exec:function exec(){return _this879.bv();}}}),_temp48),_this879.yy=Qi(_this879.qs,2e3,_assertThisInitialized(_this879)),_this879.gv=0,_this879._shadowRoot=_this879.attachShadow({mode:"closed"}),_this879._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,wg._shadowStyleSheet],_this879._shadowRoot.append(document.importNode(wg._shadowTemplate.content,!0));var _iterator1457=_createForOfIteratorHelper(_this879._shadowRoot.querySelectorAll("[id]")),_step1457;try{for(_iterator1457.s();!(_step1457=_iterator1457.n()).done;){var _t2192=_step1457.value;_this879["#"+_t2192.id]=_t2192;}}catch(err){_iterator1457.e(err);}finally{_iterator1457.f();}_this879.addEventListener("keydown",function(t){return _this879.vn(t);}),_this879["#items"].addEventListener("scroll",function(){return _this879.fv();}),_this879["#items"].addEventListener("contextmenu",function(t){return _this879.tp(t);}),_this879["#items"].addEventListener("pointerdown",function(t){return _this879.Qc(t);}),_this879["#items"].addEventListener("click",function(t){return _this879.Jc(t);}),_this879["#search-input"].addEventListener("input",function(){return _this879.wv();}),_this879["#developer-mode-button"].addEventListener("toggle",function(){return _this879.zu();}),_this879["#add-menu"].addEventListener("click",function(t){return _this879.Vw(t);}),_this879["#add-menu"].addEventListener("open",function(){return _this879.vv();}),_this879["#filter-inspector-popover"].addEventListener("close",function(){return _this879["#filter-inspector"].enabled=!1;});return _this879;}_createClass(wg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this880=this;window.addEventListener("resize",this.nn=function(){_this880.kv();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this880.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this880.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this880.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this["#developer-mode-button"].toggled=this.Qs.getConfig("bx-filtersbrowser:developerMode",!1),this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("artworkchange",this.mr),this.h_(),this["#items"].remove(),this["#mirror-svg"].innerHTML="";}},{key:"an",value:function an(t){var _t$detail15=t.detail,e=_t$detail15.key,i=_t$detail15.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"kv",value:function kv(){this.h_();}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced",s=!1;var _iterator1458=_createForOfIteratorHelper(e),_step1458;try{for(_iterator1458.s();!(_step1458=_iterator1458.n()).done;){var _t2193=_step1458.value;var _e1568=_t2193.target.nodeName,_n616=_t2193.addedNodes[0]?_t2193.addedNodes[0].nodeName:null,_o494=_t2193.removedNodes[0]?_t2193.removedNodes[0].nodeName:null,_l373=_t2193.attributeName;if("filter"===_e1568){if("bx-title"===_n616||"bx-title"===_o494){i="now";break;}if("id"===_l373){i="now",s=!0;break;}if("data-bx-pinned"===_l373){i="now";break;}}else if("bx-title"===_e1568){if(_n616||_o494){i="now";break;}}else if("filter"===_n616||"filter"===_o494){i="now",s=!0;break;}}}catch(err){_iterator1458.e(err);}finally{_iterator1458.f();}!0===s&&this.h_(),"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.h_(),this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this.h_();}},{key:"tp",value:function(){var _tp7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee138(t){var e,_i1468,_s843,_n617;return regeneratorRuntime.wrap(function _callee138$(_context139){while(1){switch(_context139.prev=_context139.next){case 0:e=t.target.closest(".item");if(!(e&&!1===e.hasAttribute("data-label-edited"))){_context139.next=9;break;}t.preventDefault(),!1===e.hasAttribute("data-selected")&&this.yv([e]);_i1468=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")).map(function(t){return t[gg];});_s843=e[gg];_context139.next=7;return this.Qs.openContextMenu([{label:"Edit Filter",value:"edit",disabled:1!==_i1468.length},{label:"Edit Filter ID",value:"edit-id",disabled:1!==_i1468.length},{label:"Edit Filter Title",value:"edit-title",disabled:1!==_i1468.length},{type:"separator"},{label:"Delete Filter"+(_i1468.length>1?"s":""),value:"delete",disabled:0===_i1468.length},{type:"separator"},{label:"Pin Filter"+(_i1468.length>1?"s":""),value:"pin",disabled:void 0===_i1468.find(function(t){return!1===t.hasAttribute("data-bx-pinned");})},{label:"Unpin Filter"+(_i1468.length>1?"s":""),value:"unpin",disabled:void 0===_i1468.find(function(t){return!0===t.hasAttribute("data-bx-pinned");})},{type:"separator"},{label:"Select Filter Users",value:"select-users",disabled:1!==_i1468.length}]);case 7:_n617=_context139.sent;"edit"===_n617?this.editFilter(_s843.id):"edit-id"===_n617?this.Pv(_s843.id,"id"):"edit-title"===_n617?this.Pv(_s843.id,"title"):"delete"===_n617?this.zv():"pin"===_n617?this.Ov():"unpin"===_n617?this.Ev():"select-users"===_n617&&this.r_(_s843.id);case 9:case"end":return _context139.stop();}}},_callee138,this);}));function tp(_x164){return _tp7.apply(this,arguments);}return tp;}()},{key:"Jc",value:function Jc(t){t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys23=this.Qs.modKeys,e=_this$Qs$modKeys23.ctrl,i=_this$Qs$modKeys23.shift;if(!1===e&&!1===i){var _e1569=t.target.closest(".item"),_i1469=t.target.closest(".thumbnail"),_s844=t.target.closest(".counter-button"),_n618=t.target.closest(".pin-button"),_o495=_e1569[gg].id;_s844?this.r_(_o495):_n618?_n618.toggled?this.d_(_o495):this.c_(_o495):_i1469?t.detail%2==0&&this.editFilter(_o495):t.detail%2==0&&this.Pv(_o495);}}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1570=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1570&&this.yv([]);}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this881=this;var _this$Qs$modKeys24=this.Qs.modKeys,e=_this$Qs$modKeys24.ctrl,i=_this$Qs$modKeys24.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!t.target.closest("x-button")&&"x-input"!==t.target.localName)if(this.h_(),!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[fg]=Date.now());else if(!0===i){var _t2194=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item")),_e1571=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]"));if(_e1571.length>0){var _i1470=_t2194.indexOf(s),_n619=_e1571.sort(function(t,e){return e[fg]-t[fg];})[0],_o496=_t2194.indexOf(_n619),_l374=[];if(_i1470>_o496?_l374=_toConsumableArray(_t2194).slice(_o496,_i1470+1):_i1470<_o496&&(_l374=_toConsumableArray(_t2194).slice(_i1470,_o496+1).reverse()),_l374=_l374.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l374.length>0){var _iterator1459=_createForOfIteratorHelper(_l374),_step1459;try{for(_iterator1459.s();!(_step1459=_iterator1459.n()).done;){var _t2195=_step1459.value;_t2195.setAttribute("data-selected",""),_t2195[fg]=Date.now();}}catch(err){_iterator1459.e(err);}finally{_iterator1459.f();}}}}else{var _t2198,_e1573,_i1471=!1;window.addEventListener("pointermove",_t2198=function _t2196(o){var l=new DOMPoint(o.clientX,o.clientY);if(ze(n,l)>=3){if(window.removeEventListener("pointermove",_t2198),window.removeEventListener("pointerup",_e1573),!1===s.hasAttribute("data-selected")){var _iterator1460=_createForOfIteratorHelper(_this881["#items"].children),_step1460;try{for(_iterator1460.s();!(_step1460=_iterator1460.n()).done;){var _t2197=_step1460.value;_t2197===s?(_t2197.setAttribute("data-selected",""),_t2197[fg]=Date.now()):_t2197.removeAttribute("data-selected");}}catch(err){_iterator1460.e(err);}finally{_iterator1460.f();}}_this881.Zw(o),_i1471=!0;}}),window.addEventListener("pointerup",_e1573=function _e1572(){if(window.removeEventListener("pointermove",_t2198),window.removeEventListener("pointerup",_e1573),!1===_i1471){var _iterator1461=_createForOfIteratorHelper(_this881["#items"].children),_step1461;try{for(_iterator1461.s();!(_step1461=_iterator1461.n()).done;){var _t2199=_step1461.value;_t2199===s?(_t2199.setAttribute("data-selected",""),_t2199[fg]=Date.now()):_t2199.removeAttribute("data-selected");}}catch(err){_iterator1461.e(err);}finally{_iterator1461.f();}}});}}},{key:"Zw",value:function Zw(t){var _this882=this;var e,i,s,n=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])")),o=this["#main"].getBoundingClientRect(),l=null,a="start",h=null,r=0;this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var d=function d(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;r=t,null===h&&(h=setInterval(function(){return _this882["#items"].scrollTop+=r;},10));},c=function c(){null!==h&&(clearInterval(h),h=null);},p=function p(){var t=_this882.Qs.pointerClientPoint,e=_this882._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this882._shadowRoot&&(e=null),l=e?e.closest(".item"):null,l){var _e1574=l.getBoundingClientRect();if(a=t.y<_e1574.y+_e1574.height/2?"start":"end",_this882.Kw(n,l,a)){var _t2200=l.offsetTop-_this882["#items"].scrollTop;"end"===a&&(_t2200+=_e1574.height),_this882["#drop-indicator"].hidden=!1,_this882["#drop-indicator"].style.top=_t2200-1+"px";}else l=null,_this882["#drop-indicator"].hidden=!0;}else _this882["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",i=function i(t){p();}),this["#items"].addEventListener("pointermove",e=function e(t){t.clientX>o.left&&t.clientX<o.right&&(t.clientY<o.top+20?d(-3):t.clientY>o.bottom-20?d(3):c()),p();}),this["#items"].addEventListener("lostpointercapture",s=function(_s845){function s(_x165){return _s845.apply(this,arguments);}s.toString=function(){return _s845.toString();};return s;}(function(t){if(_this882["#items"].removeEventListener("pointermove",e),_this882["#items"].removeEventListener("scroll",i),_this882["#items"].removeEventListener("lostpointercapture",s),_this882["#items"].style.cursor=null,_this882["#drop-indicator"].hidden=!0,c(),_this882.Js.board.isPointOverBoard(t.clientX,t.clientY)){if(1===n.length){var _e1575=n[0][gg],_i1472=_this882.Js.board.getWorkspaceElementFromPoint(t.clientX,t.clientY);_i1472&&D.includes(_i1472.localName)&&(_this882.Js.board.undoManager.checkpoint("Apply filter"),_i1472.style.setProperty("filter","url(#".concat(_e1575.id,")")),Sh("filter",_i1472),"image"===_i1472.localName&&(_e1575.previousElementSibling?_e1575.previousElementSibling.after(_e1575):_e1575.nextElementSibling?_e1575.nextElementSibling.before(_e1575):_e1575.parentElement.append(_e1575)),_this882.Iv());}}else if(l){_this882.Js.board.undoManager.checkpoint("Rearrange filters");var _t2201=document.createDocumentFragment(),_e1576=l[gg];var _iterator1462=_createForOfIteratorHelper(n),_step1462;try{for(_iterator1462.s();!(_step1462=_iterator1462.n()).done;){var _i1473=_step1462.value;_i1473[gg]!==_e1576&&_t2201.append(_i1473[gg]);}}catch(err){_iterator1462.e(err);}finally{_iterator1462.f();}"start"===a?_e1576.before(_t2201):_e1576.after(_t2201);}}));}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus")||this["#filter-inspector-popover"].opened)return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t2202=this["#items"].querySelector(".item[data-label-edited]"),_e1577=this["#items"].querySelector(".item[data-selected]");_t2202?this.focus():_e1577&&this.Pv(_e1577[gg].id);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-label-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu()||this.Lv());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru()||this.Bv());}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-label-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"zu",value:function zu(){this.Qs.setConfig("bx-filtersbrowser:developerMode",this["#developer-mode-button"].toggled),this.ov(),this.focus();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&"add-filter"===e.value&&this.Rv();}},{key:"vv",value:function vv(){}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"editFilter",value:function(){var _editFilter=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee139(t){var e,_t2203,_i1474;return regeneratorRuntime.wrap(function _callee139$(_context140){while(1){switch(_context140.prev=_context140.next){case 0:e=_toConsumableArray(this["#items"].children).find(function(e){return e[gg].id===t;});if(!e){_context140.next=9;break;}this.yv([e]);_t2203=e.getBoundingClientRect(),_i1474=new DOMPoint(_t2203.left,_t2203.top+_t2203.height/2);_context140.next=6;return ts(10);case 6:this["#filter-inspector-popover"].open(_i1474);this["#filter-inspector"].filter=e[gg];this["#filter-inspector"].enabled=!0;case 9:case"end":return _context140.stop();}}},_callee139,this);}));function editFilter(_x166){return _editFilter.apply(this,arguments);}return editFilter;}()},{key:"h_",value:function h_(){this["#filter-inspector-popover"].opened&&(this["#filter-inspector-popover"].close(),this["#filter-inspector"].enabled=!1);}},{key:"Pv",value:function Pv(t){var _this883=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"auto";var i=_toConsumableArray(this["#items"].children).find(function(e){return e[gg].id===t;});("id"===e&&!1===this["#developer-mode-button"].toggled||"title"===e&&!0===this["#developer-mode-button"].toggled)&&this["#developer-mode-button"].click();{var _t2204=this["#items"].querySelector(".item[data-label-edited]");if(_t2204){if(_t2204===i)return;this.Uv();}}this.yv([i]);var s=this.Js.board,n=i.querySelector(".label"),o=i[gg],l=this["#developer-mode-button"].toggled?"Filter ID":"Filter title",a=o.querySelector(":scope > bx-title"),h="";!0===this["#developer-mode-button"].toggled&&o.id?h="#"+o.id:!1===this["#developer-mode-button"].toggled&&a&&(h=a.textContent);var r=qi(_templateObject64(),h,l);n.after(r),r.selectAll(),ts(10).then(function(){return r.querySelector("x-label").hidden=!1;}),n.hidden=!0,i.setAttribute("data-label-edited",""),r.addEventListener("input",function(){null!==r.error?i.setAttribute("data-invalid",""):i.removeAttribute("data-invalid");}),r.addEventListener("focusout",function(){i.removeAttribute("data-invalid"),_this883.Uv();}),r.validate=function(){var t=null;if(_this883["#developer-mode-button"].toggled){var _e1578=r.value.trim();if(_e1578.startsWith("#")&&(_e1578=_e1578.substring(1)),0===_e1578.length)t="Filter must have ID";else if(Hi(_e1578)){!1===(null===s.workspaces.querySelector("#"+CSS.escape(_e1578)))&&o.id!==_e1578&&(t="Non-unique ID");}else t="Invalid ID";}r.error=t;};}},{key:"Uv",value:function Uv(){var t=this["#items"].querySelector(".item[data-label-edited]");if(t){var _e1579=this.Js.board,_i1475=t.querySelector(".label"),_s846=t.querySelector("x-input"),_n620=t[gg];if(_s846.remove(),_i1475.hidden=!1,t.removeAttribute("data-label-edited"),null===_s846.error)if(this["#developer-mode-button"].toggled){var _t2205=_n620.getAttribute("id").trim(),_i1476=_s846.value.trim().toLowerCase();if(_i1476.startsWith("#")&&(_i1476=_i1476.substring(1)),_t2205!==_i1476){_e1579.undoManager.checkpoint("Filter ID");var _s847=document.createNodeIterator(_e1579.workspaces,NodeFilter.SHOW_ELEMENT),_n621=null;for(;_n621=_s847.nextNode();){"filter"===_n621.localName&&(_n621.id===_t2205&&_n621.setAttribute("id",_i1476),_n621.href.baseVal==="#"+_t2205&&_n621.setAttribute("href","#"+_i1476));{var _e1580=getComputedStyle(_n621).getPropertyValue("filter");if(_e1580&&_e1580.startsWith("url(")){_e1580.substring(6,_e1580.length-2)===_t2205&&_n621.style.setProperty("filter","url(#".concat(_i1476,")"));}}}}}else{var _t2206=_n620.querySelector(":scope > bx-title"),_i1477=_s846.value.trim();if(_t2206){_t2206.textContent!==_i1477&&(_e1579.undoManager.checkpoint("Filter title"),""===_i1477?_t2206.remove():_t2206.textContent=_i1477);}else""!==_i1477&&(_e1579.undoManager.checkpoint("Filter title"),_t2206=Ei("svg:bx-title"),_t2206.textContent=_i1477,_n620.prepend(_t2206));}}}},{key:"d_",value:function d_(t){this.Js.board.undoManager.checkpoint("Pin Filter"),this.Js.board.workspaces.querySelector("#"+t).setAttribute("data-bx-pinned","true");}},{key:"c_",value:function c_(t){this.Js.board.undoManager.checkpoint("Unpin Filter"),this.Js.board.workspaces.querySelector("#"+t).removeAttribute("data-bx-pinned");}},{key:"yv",value:function yv(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;var _iterator1463=_createForOfIteratorHelper(this["#items"].children),_step1463;try{for(_iterator1463.s();!(_step1463=_iterator1463.n()).done;){var _e1581=_step1463.value;t.includes(_e1581)?(_e1581.setAttribute("data-selected",""),_e1581[fg]=Date.now()):_e1581.removeAttribute("data-selected");}}catch(err){_iterator1463.e(err);}finally{_iterator1463.f();}if(t.length>0&&e){t[t.length-1].scrollIntoViewIfNeeded();}this.h_();}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1478=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s848=e[0],_n622=_i1478.indexOf(_s848),_o497=_i1478[_n622-1];if(_o497){if(_o497.scrollIntoViewIfNeeded(),t)_o497.setAttribute("data-selected",""),_o497[fg]=Date.now();else{var _iterator1464=_createForOfIteratorHelper(_i1478),_step1464;try{for(_iterator1464.s();!(_step1464=_iterator1464.n()).done;){var _t2207=_step1464.value;_t2207===_o497?(_t2207.setAttribute("data-selected",""),_t2207[fg]=Date.now()):_t2207.removeAttribute("data-selected");}}catch(err){_iterator1464.e(err);}finally{_iterator1464.f();}}return this.h_(),!0;}}return!1;}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])"));if(e.length>0){var _i1479=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_s849=e[e.length-1],_n623=_i1479.indexOf(_s849),_o498=_i1479[_n623+1];if(_o498){if(_o498.scrollIntoViewIfNeeded(),t)_o498.setAttribute("data-selected",""),_o498[fg]=Date.now();else{var _iterator1465=_createForOfIteratorHelper(_i1479),_step1465;try{for(_iterator1465.s();!(_step1465=_iterator1465.n()).done;){var _t2208=_step1465.value;_t2208===_o498?(_t2208.setAttribute("data-selected",""),_t2208[fg]=Date.now()):_t2208.removeAttribute("data-selected");}}catch(err){_iterator1465.e(err);}finally{_iterator1465.f();}}return this.h_(),!0;}}return!1;}},{key:"Lv",value:function Lv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[0];if(e){e.scrollIntoViewIfNeeded();var _iterator1466=_createForOfIteratorHelper(t),_step1466;try{for(_iterator1466.s();!(_step1466=_iterator1466.n()).done;){var _i1480=_step1466.value;_i1480===e?(_i1480.setAttribute("data-selected",""),_i1480[fg]=Date.now()):_i1480.removeAttribute("data-selected");}}catch(err){_iterator1466.e(err);}finally{_iterator1466.f();}return this.h_(),!0;}return!1;}},{key:"Bv",value:function Bv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),e=t[t.length-1];if(e){e.scrollIntoViewIfNeeded();var _iterator1467=_createForOfIteratorHelper(t),_step1467;try{for(_iterator1467.s();!(_step1467=_iterator1467.n()).done;){var _i1481=_step1467.value;_i1481===e?(_i1481.setAttribute("data-selected",""),_i1481[fg]=Date.now()):_i1481.removeAttribute("data-selected");}}catch(err){_iterator1467.e(err);}finally{_iterator1467.f();}return this.h_(),!0;}return!1;}},{key:"uv",value:function uv(){var t=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])"));this.yv(t,!1);}},{key:"bv",value:function bv(){this.yv([],!1);}},{key:"pv",value:function pv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"xv",value:function xv(){return null===this._shadowRoot.querySelector("x-input:focus")&&!1===this["#filter-inspector-popover"].opened||null;}},{key:"Rv",value:function Rv(){var t=this.Js.board,e=this["#items"].querySelectorAll(":scope > .item[data-selected]:not([hidden])");t.undoManager.checkpoint("Add filter");var i=Ei("svg:filter");if(i.setAttribute("id",t.generateUniqueID("filter")),i.setAttribute("data-bx-pinned","true"),i.setAttribute("primitiveUnits","objectBoundingBox"),e.length>0){e[e.length-1][gg].after(i);}else t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i);this.qs();var s=_toConsumableArray(this["#items"].children).find(function(t){return t[gg]===i;});this.yv([s]);}},{key:"zv",value:function(){var _zv6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee140(){var t,e,i,s,n,_iterator1468,_step1468,_e1584,o,_iterator1469,_step1469,_t2212,_iterator1473,_step1473,_e1585,_t2209,_e1582,_iterator1470,_step1470,_t2210,_iterator1472,_step1472,_e1583,_iterator1471,_step1471,_t2211;return regeneratorRuntime.wrap(function _callee140$(_context141){while(1){switch(_context141.prev=_context141.next){case 0:t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}),i=e.map(function(t){return t[gg];}),s=[],n=[];_iterator1468=_createForOfIteratorHelper(i);try{for(_iterator1468.s();!(_step1468=_iterator1468.n()).done;){_e1584=_step1468.value;s.push.apply(s,_toConsumableArray(t.workspaces.querySelectorAll("filter[href=\"#".concat(CSS.escape(_e1584.id),"\"]"))));}}catch(err){_iterator1468.e(err);}finally{_iterator1468.f();}o=[].concat(_toConsumableArray(i),s);_iterator1469=_createForOfIteratorHelper(o);try{for(_iterator1469.s();!(_step1469=_iterator1469.n()).done;){_t2212=_step1469.value;_iterator1473=_createForOfIteratorHelper(Bx(_t2212));try{for(_iterator1473.s();!(_step1473=_iterator1473.n()).done;){_e1585=_step1473.value;!1===n.includes(_e1585)&&n.push(_e1585);}}catch(err){_iterator1473.e(err);}finally{_iterator1473.f();}}}catch(err){_iterator1469.e(err);}finally{_iterator1469.f();}if(!(0!==e.length)){_context141.next=20;break;}if(!(n.length>0)){_context141.next=15;break;}_t2209="Delete ";1===i.length?_t2209+="a filter":_t2209+="".concat(i.length," filters"),_t2209+=" applied to ",1===n.length?_t2209+="1 object?":_t2209+="".concat(n.length," objects?");_context141.next=12;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:_t2209,detail:"Deleting a filter also removes it from all objects it was applied to."});case 12:_e1582=_context141.sent;if(!(-1===_e1582||1===_e1582)){_context141.next=15;break;}return _context141.abrupt("return");case 15:t.undoManager.checkpoint("Delete filters"),this.Ru()||this.Bu();_iterator1470=_createForOfIteratorHelper(n);try{for(_iterator1470.s();!(_step1470=_iterator1470.n()).done;){_t2210=_step1470.value;_iterator1472=_createForOfIteratorHelper(o);try{for(_iterator1472.s();!(_step1472=_iterator1472.n()).done;){_e1583=_step1472.value;getComputedStyle(_t2210).filter==="url(\"#".concat(_e1583.id,"\")")&&(_t2210.style.filter=null,_t2210.removeAttribute("filter"));}}catch(err){_iterator1472.e(err);}finally{_iterator1472.f();}}}catch(err){_iterator1470.e(err);}finally{_iterator1470.f();}_iterator1471=_createForOfIteratorHelper(o);try{for(_iterator1471.s();!(_step1471=_iterator1471.n()).done;){_t2211=_step1471.value;_t2211.remove();}}catch(err){_iterator1471.e(err);}finally{_iterator1471.f();}case 20:case"end":return _context141.stop();}}},_callee140,this);}));function zv(){return _zv6.apply(this,arguments);}return zv;}()},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gg];}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Pin filter"+e.length>1?"s":"");var _iterator1474=_createForOfIteratorHelper(e),_step1474;try{for(_iterator1474.s();!(_step1474=_iterator1474.n()).done;){var _t2213=_step1474.value;_t2213.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1474.e(err);}finally{_iterator1474.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")).filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t[gg];}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(e.length>0){t.undoManager.checkpoint("Unpin filter"+e.length>1?"s":"");var _iterator1475=_createForOfIteratorHelper(e),_step1475;try{for(_iterator1475.s();!(_step1475=_iterator1475.n()).done;){var _t2214=_step1475.value;_t2214.removeAttribute("data-bx-pinned");}}catch(err){_iterator1475.e(err);}finally{_iterator1475.f();}}}},{key:"Kw",value:function Kw(t,e,i){if(1===t.length){if(e===t[0])return!1;var _s850=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),_n624=t[0],_o499=_s850.indexOf(e);if("start"===i){if(_s850[_o499-1]===_n624)return!1;}else if("end"===i){if(_s850[_o499+1]===_n624)return!1;}}return!0;}},{key:"r_",value:function r_(t){var e=this.Js.board,i=_toConsumableArray(this["#items"].children).find(function(e){return e[gg].id===t;})[gg],s=this.p_().get(i);e.selectedElements=s?_toConsumableArray(s):[];}},{key:"p_",value:function p_(){var t=this.Js.board,e=new Map(),i=document.createNodeIterator(t.masterWorkspace,NodeFilter.SHOW_ELEMENT),s=null;for(;s=i.nextNode();){if(D.includes(s.localName)){var _i1482=getComputedStyle(s),_n625=lo.fromString(_i1482.filter),_o500=_n625?t.masterWorkspace.querySelector(_n625.value):null,_l375=_o500&&"filter"===_o500.localName?_o500:null;_l375&&(!1===e.has(_l375)&&e.set(_l375,[]),e.get(_l375).push(s));}}return e;}},{key:"qs",value:function qs(){{var _t2215=_toConsumableArray(this.Js.board.masterWorkspace.querySelectorAll("filter")).filter(function(t){return!1===t.hasAttribute("href");}).filter(function(t){return!1===t.hasAttribute("data-bx-preset");}),_e1586=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]")).map(function(t){return t[gg];}),_i1483=document.createDocumentFragment();var _iterator1476=_createForOfIteratorHelper(_t2215),_step1476;try{for(_iterator1476.s();!(_step1476=_iterator1476.n()).done;){var _s851=_step1476.value;var _t2216=qi(_templateObject65(),_s851.id,_s851.id);_t2216[gg]=_s851,_e1586.includes(_s851)&&(_t2216.setAttribute("data-selected",""),_t2216[fg]=Date.now()),this.Vv(_t2216),this.jv(_t2216),_i1483.append(_t2216);}}catch(err){_iterator1476.e(err);}finally{_iterator1476.f();}this["#items"].innerHTML="",this["#items"].append(_i1483),this["#mirror-svg"].innerHTML=this.Js.board.defs.innerHTML;}this.Iv(),this.Mv(),this.Lu();}},{key:"Fv",value:function Fv(){var _iterator1477=_createForOfIteratorHelper(this["#items"].children),_step1477;try{for(_iterator1477.s();!(_step1477=_iterator1477.n()).done;){var _t2217=_step1477.value;this.jv(_t2217);}}catch(err){_iterator1477.e(err);}finally{_iterator1477.f();}}},{key:"ov",value:function ov(){this["#search-input"].value="";var _iterator1478=_createForOfIteratorHelper(this["#items"].children),_step1478;try{for(_iterator1478.s();!(_step1478=_iterator1478.n()).done;){var _t2218=_step1478.value;this.Vv(_t2218),this.jv(_t2218);}}catch(err){_iterator1478.e(err);}finally{_iterator1478.f();}this.Lu();}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Vv",value:function Vv(t){var e=t[gg],i=t.querySelector(".label");if(this["#developer-mode-button"].toggled)e.hasAttribute("id")?(i.textContent="#"+e.id,i.setAttribute("data-custom","")):(i.textContent="<filter>",i.removeAttribute("data-custom"));else{var _t2219;_t2219=this.Js.board.currentWorkspace.id===e.id?this.Js.board.currentWorkspace.querySelector(":scope > bx-title"):e.querySelector(":scope > bx-title"),_t2219?(i.textContent=_t2219.textContent,i.setAttribute("data-custom","")):(i.textContent="Filter",i.removeAttribute("data-custom"));}}},{key:"Iv",value:function Iv(){var t=this.p_();var _iterator1479=_createForOfIteratorHelper(this["#items"].children),_step1479;try{for(_iterator1479.s();!(_step1479=_iterator1479.n()).done;){var _e1587=_step1479.value;var _i1484=_e1587.querySelector(".counter-button"),_s852=t.get(_e1587[gg]),_n626=_s852?_s852.length:0;0===_n626?(_i1484.setAttribute("hidden",""),_i1484.firstElementChild.textContent="0"):(_i1484.setAttribute("title",1===_n626?"Select 1 filter user":"Select ".concat(_n626," filter users")),_i1484.removeAttribute("hidden"),_i1484.firstElementChild.textContent=_n626);}}catch(err){_iterator1479.e(err);}finally{_iterator1479.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.filters){var _iterator1480=_createForOfIteratorHelper(this["#items"].children),_step1480;try{for(_iterator1480.s();!(_step1480=_iterator1480.n()).done;){var _t2220=_step1480.value;var _e1588=_t2220[gg],_i1485=_t2220.lastElementChild;_i1485.hidden=!1,_i1485.toggled=_e1588.hasAttribute("data-bx-pinned");}}catch(err){_iterator1480.e(err);}finally{_iterator1480.f();}}else{var _iterator1481=_createForOfIteratorHelper(this["#items"].children),_step1481;try{for(_iterator1481.s();!(_step1481=_iterator1481.n()).done;){var _t2221=_step1481.value;_t2221.lastElementChild.hidden=!0;}}catch(err){_iterator1481.e(err);}finally{_iterator1481.f();}}}}]);return wg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(wg,"observedAttributes",["enabled"]);_defineProperty(wg,"_shadowTemplate",qi(_templateObject439()));_defineProperty(wg,"_shadowStyleSheet",Xi(_templateObject440()));customElements.define("bx-filtersbrowser",wg);var vg=Symbol(),yg=Symbol(),kg=Symbol();var Sg=/*#__PURE__*/function(_HTMLElement119){_inherits(Sg,_HTMLElement119);var _super191=_createSuper(Sg);_createClass(Sg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Sg(){var _temp49,_this884;_classCallCheck(this,Sg);(_temp49=_this884=_super191.call(this),_defineProperty(_assertThisInitialized(_this884),"commands",{selectAll:{enabled:function enabled(){return null===_this884._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this884.uv();}},deselectAll:{enabled:function enabled(){return null===_this884._shadowRoot.querySelector("x-input:focus")||null;},exec:function exec(){return _this884.bv();}}}),_temp49),_this884.yy=Qi(_this884.qs,2e3,_assertThisInitialized(_this884)),_this884.gv=0,_this884.u_=!1,_this884.x_=!1,_this884._shadowRoot=_this884.attachShadow({mode:"closed"}),_this884._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Sg._shadowStyleSheet],_this884._shadowRoot.append(document.importNode(Sg._shadowTemplate.content,!0));var _iterator1482=_createForOfIteratorHelper(_this884._shadowRoot.querySelectorAll("[id]")),_step1482;try{for(_iterator1482.s();!(_step1482=_iterator1482.n()).done;){var _t2222=_step1482.value;_this884["#"+_t2222.id]=_t2222;}}catch(err){_iterator1482.e(err);}finally{_iterator1482.f();}_this884.addEventListener("keydown",function(t){return _this884.vn(t);}),_this884["#items"].addEventListener("scroll",function(){return _this884.fv();}),_this884["#items"].addEventListener("pointerdown",function(t){return _this884.Qc(t);}),_this884["#items"].addEventListener("click",function(t){return _this884.Jc(t);}),_this884["#search-input"].addEventListener("input",function(){return _this884.wv();}),_this884["#add-menu"].addEventListener("click",function(t){return _this884.Vw(t);});return _this884;}_createClass(Sg,[{key:"connectedCallback",value:function connectedCallback(){this.tabIndex=0,this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this885=this;this.Qs.addEventListener("configchange",this.ln=function(t){_this885.an(t);}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this885.sl(t);}),this.Js.board.addEventListener("artworkchange",this.mr=function(t){_this885.Sv();}),this["#main"].prepend(this["#items"]),this["#items"].scrollTop=this.gv,this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("configchange",this.ln),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.removeEventListener("workspacemutation",this.rn),this["#items"].remove();}},{key:"an",value:function an(t){var _t$detail16=t.detail,e=_t$detail16.key,i=_t$detail16.value;"bx-garbagecollectorsettings:collectOptions"===e&&(this._v=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp),this.Mv());}},{key:"sl",value:function sl(t){var e=t.detail,i="debounced";var _iterator1483=_createForOfIteratorHelper(e),_step1483;try{for(_iterator1483.s();!(_step1483=_iterator1483.n()).done;){var _t2223=_step1483.value;if(_t2223.target.hasAttribute&&_t2223.target.hasAttribute("data-bx-fonts")||_t2223.target.parentElement&&_t2223.target.parentElement.hasAttribute("data-bx-fonts")){i="now";break;}}}catch(err){_iterator1483.e(err);}finally{_iterator1483.f();}"now"===i?this.qs():"debounced"===i&&this.yy();}},{key:"Sv",value:function Sv(){this.qs();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop;}},{key:"Jc",value:function Jc(t){t.target.closest(".arrow-button")?this.Qw(t):t.target.closest(".item")&&this.ev(t);}},{key:"ev",value:function ev(t){var _this$Qs$modKeys25=this.Qs.modKeys,e=_this$Qs$modKeys25.ctrl,i=_this$Qs$modKeys25.shift;if(!1===e&&!1===i){var _e1589=t.target.closest(".item"),_i1486=t.target.closest(".counter-button"),_s853=t.target.closest(".pin-button"),_n627=_e1589.dataset.family;_i1486?this.b_(_n627):_s853?_s853.toggled?this.m_(_n627):this.g_(_n627):_e1589.matches(".family-item")&&t.detail%2==0&&this.f_(_e1589);}}},{key:"Qw",value:function Qw(t){var e=t.target.closest(".item");e.matches(".family-item")&&(e.hasAttribute("data-expanded")?this.sv(e):this.nv(e));}},{key:"Qc",value:function Qc(t){if(1===t.buttons)if(t.target===this["#items"]){var _e1590=this["#items"].offsetWidth-this["#items"].clientWidth;!1===t.clientX>this["#items"].getBoundingClientRect().right-_e1590&&this.bv();}else t.target.closest(".item")&&this.Dm(t);}},{key:"Dm",value:function Dm(t){var _this886=this;if(t.target.closest(".arrow-button")||1!==t.buttons)return;if(t.target.closest("x-button"))return;if("x-input"===t.target.localName)return;var _this$Qs$modKeys26=this.Qs.modKeys,e=_this$Qs$modKeys26.ctrl,i=_this$Qs$modKeys26.shift,s=t.target.closest(".item"),n=new DOMPoint(t.clientX,t.clientY);if(!1===e&&!1===i){var _t2226,_e1592,_i1487=!1;window.addEventListener("pointermove",_t2226=function _t2224(e){var o=new DOMPoint(e.clientX,e.clientY);if(ze(n,o)>=3){if(window.removeEventListener("pointermove",_t2226),!1===s.hasAttribute("data-selected")){var _iterator1484=_createForOfIteratorHelper(_this886["#items"].querySelectorAll(".item")),_step1484;try{for(_iterator1484.s();!(_step1484=_iterator1484.n()).done;){var _t2225=_step1484.value;_t2225===s?(_t2225.setAttribute("data-selected",""),_t2225[kg]=Date.now()):_t2225.removeAttribute("data-selected");}}catch(err){_iterator1484.e(err);}finally{_iterator1484.f();}}_this886.Zw(e),_i1487=!0;}}),window.addEventListener("pointerup",_e1592=function _e1591(){if(window.removeEventListener("pointermove",_t2226),window.removeEventListener("pointerup",_e1592),!1===_i1487){var _iterator1485=_createForOfIteratorHelper(_this886["#items"].querySelectorAll(".item")),_step1485;try{for(_iterator1485.s();!(_step1485=_iterator1485.n()).done;){var _t2227=_step1485.value;_t2227===s?(_t2227.setAttribute("data-selected",""),_t2227[kg]=Date.now()):_t2227.removeAttribute("data-selected");}}catch(err){_iterator1485.e(err);}finally{_iterator1485.f();}}});}else if(!0===e)s.hasAttribute("data-selected")?s.removeAttribute("data-selected"):(s.setAttribute("data-selected",""),s[kg]=Date.now());else if(!0===i){var _t2228=_toConsumableArray(this["#items"].querySelectorAll(".item"));_t2228=_t2228.filter(function(t){return!t.matches("[hidden], [hidden] > *");});var _e1593=_toConsumableArray(this["#items"].querySelectorAll(".item[data-selected]"));if(_e1593=_e1593.filter(function(t){return!t.matches("[hidden], [hidden] > *");}),_e1593.length>0){var _i1488=_t2228.indexOf(s),_n628=_e1593.sort(function(t,e){return e[kg]-t[kg];})[0],_o501=_t2228.indexOf(_n628),_l376=[];if(_i1488>_o501?_l376=_toConsumableArray(_t2228).slice(_o501,_i1488+1):_i1488<_o501&&(_l376=_toConsumableArray(_t2228).slice(_i1488,_o501+1).reverse()),_l376=_l376.filter(function(t){return!1===t.hasAttribute("data-selected");}),_l376.length>0){var _iterator1486=_createForOfIteratorHelper(_l376),_step1486;try{for(_iterator1486.s();!(_step1486=_iterator1486.n()).done;){var _t2229=_step1486.value;_t2229.setAttribute("data-selected",""),_t2229[kg]=Date.now();}}catch(err){_iterator1486.e(err);}finally{_iterator1486.f();}}}}}},{key:"Zw",value:function Zw(t){var _this887=this;var e=this.Js.board,i=this.w_().filter(function(t){return t.hasAttribute("data-selected");}),s=i.filter(function(t){return t.matches(".family-item");}),n=i.filter(function(t){return t.matches(".font-item");});if(s.length>0&&n.length>0)return;var o,l,_a278,h=null,r="start",d=this["#main"].getBoundingClientRect(),c=null,p=0;this.u_=!0,this["#items"].style.cursor="copy",this["#items"].setPointerCapture(t.pointerId);var u=function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3;p=t,null===c&&(c=setInterval(function(){return _this887["#items"].scrollTop+=p;},10));},x=function x(){null!==c&&(clearInterval(c),c=null);},b=function b(){var t=_this887.Qs.pointerClientPoint,e=_this887._shadowRoot.elementFromPoint(t.x,t.y);if(e.getRootNode()!==_this887._shadowRoot&&(e=null),h=e?e.closest(".item"):null,h){var _e1594=h.getBoundingClientRect();if(r=t.y<_e1594.y+_e1594.height/2?"start":"end",h.hasAttribute("data-expanded")&&"end"===r&&(h=h.querySelector(".item"),r="start",_e1594=h.getBoundingClientRect()),_this887.Kw(i,h,r)){var _t2230=h.offsetTop-_this887["#items"].scrollTop;if(h.matches(".font-item")){_t2230+=h.closest(".family-item").offsetTop;}"end"===r&&(_t2230+=_e1594.height),_this887["#drop-indicator"].hidden=!1,_this887["#drop-indicator"].style.top=_t2230-1+"px",_this887["#drop-indicator"].style.marginLeft=(h.matches(".font-item")?34:18)+"px";}else h=null,_this887["#drop-indicator"].hidden=!0;}else _this887["#drop-indicator"].hidden=!0;};this["#items"].addEventListener("scroll",l=function l(t){b();}),this["#items"].addEventListener("pointermove",o=function o(t){t.clientX>d.left&&t.clientX<d.right&&(t.clientY<d.top+20?u(-3):t.clientY>d.bottom-20?u(3):x()),b();}),this["#items"].addEventListener("lostpointercapture",_a278=function a(t){if(_this887["#items"].removeEventListener("pointermove",o),_this887["#items"].removeEventListener("scroll",l),_this887["#items"].removeEventListener("lostpointercapture",_a278),_this887["#items"].style.cursor=null,_this887["#drop-indicator"].hidden=!0,x(),e.isPointOverBoard(t.clientX,t.clientY)){e.undoManager.checkpoint("Text");var _s854=i[0].querySelector(".label"),_n629=e.currentContainer||e.currentWorkspace,_o502=Ht(_n629).inverse(),_l377=new DOMPoint(t.clientX,t.clientY).matrixTransform(_o502),_a277=K(_l377.x,e.geometryPrecision),_h221=K(_l377.y,e.geometryPrecision),_getComputedStyle7=getComputedStyle(_s854),_r149=_getComputedStyle7.fontFamily,_d115=_getComputedStyle7.fontSize,_c87=_getComputedStyle7.fontStyle,_p77=_getComputedStyle7.fontWeight;_d115=parseFloat(_d115)/e.scale+"px";var _u64=Ei("svg:text");_u64.style.fontFamily=_r149,_u64.style.fontSize=_d115,_u64.style.fontStyle=_c87,_u64.style.fontWeight=_p77,_u64.setAttribute("x",_a277),_u64.setAttribute("y",_h221),_u64.textContent=_s854.textContent,_n629.append(_u64);var _x167=Pi(_u64);_u64.setAttribute("x",_a277-_x167.width/2),_u64.setAttribute("y",_h221+_x167.height/3),e.selectedElements=[_u64],_this887.Iv();}else if(h&&s.length>0){if("start"===r){var _iterator1487=_createForOfIteratorHelper(i),_step1487;try{for(_iterator1487.s();!(_step1487=_iterator1487.n()).done;){var _t2231=_step1487.value;h.before(_t2231);}}catch(err){_iterator1487.e(err);}finally{_iterator1487.f();}}else{var _iterator1488=_createForOfIteratorHelper(i),_step1488;try{for(_iterator1488.s();!(_step1488=_iterator1488.n()).done;){var _t2232=_step1488.value;h.after(_t2232);}}catch(err){_iterator1488.e(err);}finally{_iterator1488.f();}}{var _t2233=_toConsumableArray(_this887["#items"].querySelectorAll(".family-item")).map(function(t){return t.getAttribute("data-family");});e.fontsManager.reorderFamilies(_t2233);}}_this887.u_=!1;});}},{key:"wv",value:function wv(){this.Fv(),this.Lu();}},{key:"Vw",value:function Vw(t){var e=t.target.closest("x-menuitem");e&&("add-from-disk"===e.value?this.v_():"add-from-library"===e.value&&this.y_());}},{key:"v_",value:function(){var _v_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee141(){var t,e,_iterator1489,_step1489,_i1489,_t2235,_s855,_n630,_i1490,_o503,_l378,_t2234,_iterator1490,_step1490,_e1595;return regeneratorRuntime.wrap(function _callee141$(_context142){while(1){switch(_context142.prev=_context142.next){case 0:_context142.next=2;return ts(500);case 2:_context142.next=4;return this.Qs.openLocalFontsImportDialog();case 4:t=_context142.sent;e=[];_iterator1489=_createForOfIteratorHelper(t);_context142.prev=7;_iterator1489.s();case 9:if((_step1489=_iterator1489.n()).done){_context142.next=19;break;}_i1489=_step1489.value;_t2235="url("+_i1489.data+")";_s855={};_context142.next=15;return Ep(_i1489.data);case 15:_n630=_context142.sent;if(_n630){_i1490=_n630.names.fontFamily.en,_o503=_n630.names.fontSubfamily.en.toLowerCase();_o503=ni(_o503," ",""),_o503=ni(_o503,"-",""),_o503=ni(_o503,"_",""),_o503.includes("italic")?_s855.style="italic":_o503.includes("oblique")&&(_s855.style="oblique"),_o503.includes("thin")?_s855.weight="100":_o503.includes("extralight")?_s855.weight="200":_o503.includes("light")?_s855.weight="300":_o503.includes("medium")?_s855.weight="500":_o503.includes("semibold")?_s855.weight="600":_o503.includes("bold")?_s855.weight="700":_o503.includes("extrabold")?_s855.weight="800":_o503.includes("ultrabold")&&(_s855.weight="900");_l378=new FontFace(_i1490,_t2235,_s855);_l378.src=_t2235,e.push(_l378);}else this.Qs.openMessageDialog({message:"Can't add a font",detail:"Unsupported font format.",buttons:["OK"]});case 17:_context142.next=9;break;case 19:_context142.next=24;break;case 21:_context142.prev=21;_context142.t0=_context142["catch"](7);_iterator1489.e(_context142.t0);case 24:_context142.prev=24;_iterator1489.f();return _context142.finish(24);case 27:if(e.length>0){this.Js.board.undoManager.checkpoint("Add fonts"),this.Js.board.fontsManager.addFonts(e);_t2234=e.map(function(t){return t.family;});_t2234=ei(_t2234);_iterator1490=_createForOfIteratorHelper(_t2234);try{for(_iterator1490.s();!(_step1490=_iterator1490.n()).done;){_e1595=_step1490.value;this.Js.board.fontsManager.pinFamily(_e1595);}}catch(err){_iterator1490.e(err);}finally{_iterator1490.f();}}case 28:case"end":return _context142.stop();}}},_callee141,this,[[7,21,24,27]]);}));function v_(){return _v_.apply(this,arguments);}return v_;}()},{key:"y_",value:function y_(){this.Js.togglePrimaryPanel("library-panel"),this.Js.libraryPanel.toggleBrowser("fonts-library-browser");}},{key:"vn",value:function vn(t){if(this["#search-input"].matches(":focus"))return;var e=so.fromEvent(t);if(e.matches("Enter")){var _t2236=this["#items"].querySelector(".item[data-family-name-edited]"),_e1596=this["#items"].querySelector(".item[data-selected]");_t2236?this.focus():_e1596&&_e1596.matches(".family-item")&&this.f_(_e1596);}else if(e.matches("Backspace")||e.matches("Delete")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.stopPropagation(),t.preventDefault(),this.zv());}else if(e.matches("ArrowUp")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu());}else if(e.matches("ArrowDown")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru());}else if(e.matches("ArrowRight")){var _e1597=this["#items"].querySelector(".item[data-family-name-edited]"),_i1491=this["#items"].querySelectorAll(".item[data-selected]");!_e1597&&1===_i1491.length&&_i1491[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.nv(_i1491[0]));}else if(e.matches("ArrowLeft")){var _e1598=this["#items"].querySelector(".item[data-family-name-edited]"),_i1492=this["#items"].querySelectorAll(".item[data-selected]");!_e1598&&1===_i1492.length&&_i1492[0].matches(".family-item")&&(t.preventDefault(),t.stopPropagation(),this.sv(_i1492[0]));}else if(e.matches("Shift","ArrowUp")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Bu(!0));}else if(e.matches("Shift","ArrowDown")){this["#items"].querySelector(".item[data-family-name-edited]")||(t.preventDefault(),t.stopPropagation(),this.Ru(!0));}}},{key:"featureFamily",value:function featureFamily(t){this["#search-input"].value="",this.Fv(),this.Lu();var _iterator1491=_createForOfIteratorHelper(this["#items"].children),_step1491;try{for(_iterator1491.s();!(_step1491=_iterator1491.n()).done;){var _e1599=_step1491.value;_e1599.dataset.family!==t&&(_e1599.removeAttribute("data-selected"),this.sv(_e1599,!1));}}catch(err){_iterator1491.e(err);}finally{_iterator1491.f();}var _iterator1492=_createForOfIteratorHelper(this["#items"].children),_step1492;try{for(_iterator1492.s();!(_step1492=_iterator1492.n()).done;){var _e1600=_step1492.value;if(_e1600.dataset.family===t){_e1600.setAttribute("data-selected",""),this.nv(_e1600,!1),_e1600.scrollIntoViewIfNeeded(),_e1600[kg]=Date.now();break;}}}catch(err){_iterator1492.e(err);}finally{_iterator1492.f();}}},{key:"nv",value:function(){var _nv=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee142(t){var e,_i1493,_t2237,_e1601,_s856,_args143=arguments;return regeneratorRuntime.wrap(function _callee142$(_context143){while(1){switch(_context143.prev=_context143.next){case 0:e=_args143.length>1&&_args143[1]!==undefined?_args143[1]:!0;if(!(!1===t.hasAttribute("data-expanded"))){_context143.next=11;break;}_i1493=t.querySelector(".font-items");if(!(_i1493.hidden=!1,t.setAttribute("data-expanded",""),e)){_context143.next=11;break;}this.x_=!0;_t2237=getComputedStyle(_i1493).marginTop,_e1601="0px";"0px"===_t2237&&(_t2237="-"+getComputedStyle(_i1493).height);_s856=_i1493.animate({marginTop:[_t2237,_e1601]},{duration:250,easing:"ease"});_context143.next=10;return _s856.finished;case 10:this.x_=!1;case 11:case"end":return _context143.stop();}}},_callee142,this);}));function nv(_x168){return _nv.apply(this,arguments);}return nv;}()},{key:"sv",value:function(){var _sv2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee143(t){var e,_i1494,_t2238,_e1602,_s857,_args144=arguments;return regeneratorRuntime.wrap(function _callee143$(_context144){while(1){switch(_context144.prev=_context144.next){case 0:e=_args144.length>1&&_args144[1]!==undefined?_args144[1]:!0;if(!t.hasAttribute("data-expanded")){_context144.next=10;break;}_i1494=t.querySelector(".font-items");if(!(t.removeAttribute("data-expanded"),e)){_context144.next=9;break;}this.x_=!0;_t2238=getComputedStyle(_i1494).marginTop,_e1602="-"+getComputedStyle(_i1494).height,_s857=_i1494.animate({marginTop:[_t2238,_e1602]},{duration:250,easing:"ease"});_context144.next=8;return _s857.finished;case 8:this.x_=!1;case 9:!1===t.hasAttribute("data-expanded")&&(_i1494.hidden=!0);case 10:case"end":return _context144.stop();}}},_callee143,this);}));function sv(_x169){return _sv2.apply(this,arguments);}return sv;}()},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.w_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s858=i[i.length-1],_n631=e.indexOf(_s858),_o504=e[_n631+1];if(_o504){if(_o504.scrollIntoViewIfNeeded(),t)_o504.setAttribute("data-selected",""),_o504[kg]=Date.now();else{var _iterator1493=_createForOfIteratorHelper(e),_step1493;try{for(_iterator1493.s();!(_step1493=_iterator1493.n()).done;){var _t2239=_step1493.value;_t2239===_o504?(_t2239.setAttribute("data-selected",""),_t2239[kg]=Date.now()):_t2239.removeAttribute("data-selected");}}catch(err){_iterator1493.e(err);}finally{_iterator1493.f();}}}else if(!1===t&&_n631===e.length-1&&i.length>1){var _iterator1494=_createForOfIteratorHelper(e),_step1494;try{for(_iterator1494.s();!(_step1494=_iterator1494.n()).done;){var _t2240=_step1494.value;_t2240===_s858?(_t2240.setAttribute("data-selected",""),_t2240[kg]=Date.now()):_t2240.removeAttribute("data-selected");}}catch(err){_iterator1494.e(err);}finally{_iterator1494.f();}}}}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.w_(),i=e.filter(function(t){return t.hasAttribute("data-selected");});if(i.length>0){var _s859=i[0],_n632=e.indexOf(_s859),_o505=e[_n632-1];if(_o505){if(_o505.scrollIntoViewIfNeeded(),t)_o505.setAttribute("data-selected",""),_o505[kg]=Date.now();else{var _iterator1495=_createForOfIteratorHelper(e),_step1495;try{for(_iterator1495.s();!(_step1495=_iterator1495.n()).done;){var _t2241=_step1495.value;_t2241===_o505?(_t2241.setAttribute("data-selected",""),_t2241[kg]=Date.now()):_t2241.removeAttribute("data-selected");}}catch(err){_iterator1495.e(err);}finally{_iterator1495.f();}}}else if(!1===t&&0===_n632&&i.length>1){var _iterator1496=_createForOfIteratorHelper(e),_step1496;try{for(_iterator1496.s();!(_step1496=_iterator1496.n()).done;){var _t2242=_step1496.value;_t2242===_s859?(_t2242.setAttribute("data-selected",""),_t2242[kg]=Date.now()):_t2242.removeAttribute("data-selected");}}catch(err){_iterator1496.e(err);}finally{_iterator1496.f();}}}}},{key:"uv",value:function uv(){var t=this.w_();var _iterator1497=_createForOfIteratorHelper(t),_step1497;try{for(_iterator1497.s();!(_step1497=_iterator1497.n()).done;){var _e1603=_step1497.value;_e1603.setAttribute("data-selected",""),_e1603[kg]=Date.now();}}catch(err){_iterator1497.e(err);}finally{_iterator1497.f();}}},{key:"bv",value:function bv(){var t=this.w_().filter(function(t){return t.hasAttribute("data-selected");});if(t.length>0){var _iterator1498=_createForOfIteratorHelper(t),_step1498;try{for(_iterator1498.s();!(_step1498=_iterator1498.n()).done;){var _e1604=_step1498.value;_e1604.removeAttribute("data-selected");}}catch(err){_iterator1498.e(err);}finally{_iterator1498.f();}}}},{key:"zv",value:function(){var _zv7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee144(){var t,e,i,s,n,o,_e1605,_t2243,_i1495,_s860,_iterator1499,_step1499,_e1607,_iterator1500,_step1500,_e1608,_i1496,_e1606,_t2244;return regeneratorRuntime.wrap(function _callee144$(_context145){while(1){switch(_context145.prev=_context145.next){case 0:t=this.Js.board,e=this.w_(),i=e.filter(function(t){return t.matches(".family-item[data-selected]");}),s=e.filter(function(t){return t.matches(".font-item[data-selected]");}),n=i.map(function(t){return t.getAttribute("data-family");}),o=s.map(function(t){return t[vg];});if(!(o=o.filter(function(t){return!1===n.includes(t.family);}),n.length>0||o.length>0)){_context145.next=18;break;}_e1605=[];if(!(_e1605.length>0)){_context145.next=11;break;}_t2243=1===o.length?"a font":"".concat(o.length," fonts");_i1495=1===_e1605.length?"1 text":"".concat(_e1605.length," texts");_context145.next=8;return this.Qs.openMessageDialog({type:"question",buttons:["Delete","Cancel"],title:"Confirm",message:"Delete ".concat(_t2243," applied to ").concat(_i1495,"?"),detail:"Deleting a font also removes it from all texts it was applied to."});case 8:_s860=_context145.sent;if(!(-1===_s860||1===_s860)){_context145.next=11;break;}return _context145.abrupt("return");case 11:t.undoManager.checkpoint("Delete fonts");_iterator1499=_createForOfIteratorHelper(n);try{for(_iterator1499.s();!(_step1499=_iterator1499.n()).done;){_e1607=_step1499.value;t.fontsManager.removeFamily(_e1607);}}catch(err){_iterator1499.e(err);}finally{_iterator1499.f();}_iterator1500=_createForOfIteratorHelper(o);try{for(_iterator1500.s();!(_step1500=_iterator1500.n()).done;){_e1608=_step1500.value;t.fontsManager.removeFont(_e1608);}}catch(err){_iterator1500.e(err);}finally{_iterator1500.f();}for(_i1496=0,_e1606=_e1605;_i1496<_e1606.length;_i1496++){_t2244=_e1606[_i1496];_t2244.style.fontFamily=null;}this.qs();case 18:case"end":return _context145.stop();}}},_callee144,this);}));function zv(){return _zv7.apply(this,arguments);}return zv;}()},{key:"w_",value:function w_(){var t=this["#items"].querySelectorAll(".item");return t=_toConsumableArray(t).filter(function(t){if(t.matches(".family-item"))return!1===t.hidden;if(t.matches(".font-item")){var _e1609=t.closest(".family-item");return!1===_e1609.hidden&&_e1609.hasAttribute("data-expanded");}}),t;}},{key:"Ov",value:function Ov(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!1===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Pin font"+n.length>1?"s":"");var _iterator1501=_createForOfIteratorHelper(n),_step1501;try{for(_iterator1501.s();!(_step1501=_iterator1501.n()).done;){var _t2245=_step1501.value;_t2245.setAttribute("data-bx-pinned","true");}}catch(err){_iterator1501.e(err);}finally{_iterator1501.f();}}}},{key:"Ev",value:function Ev(){var t=this.Js.board,e=_toConsumableArray(this["#items"].querySelectorAll(":scope > .item:not([hidden])")),i=_toConsumableArray(t.workspaces.querySelectorAll("style[data-bx-fonts]")),s=e.filter(function(t){return t.hasAttribute("data-selected");}).map(function(t){return t.dataset.family;}),n=i.filter(function(t){return s.includes(t.dataset.bxFonts);}).filter(function(t){return!0===t.hasAttribute("data-bx-pinned");});if(n.length>0){t.undoManager.checkpoint("Unpin font"+n.length>1?"s":"");var _iterator1502=_createForOfIteratorHelper(n),_step1502;try{for(_iterator1502.s();!(_step1502=_iterator1502.n()).done;){var _t2246=_step1502.value;_t2246.removeAttribute("data-bx-pinned");}}catch(err){_iterator1502.e(err);}finally{_iterator1502.f();}}}},{key:"Kw",value:function Kw(t,e,i){var s=t.filter(function(t){return t.matches(".family-item");}),n=t.filter(function(t){return t.matches(".font-item");}),o=this.w_();if(s.length>0&&n>0)return!1;if(1===n.length){var _t2247=n[0],_s861=o.indexOf(e);if(e===_t2247||e.matches(".family-item"))return!1;if(e.closest(".family-item")!==_t2247.closest(".family-item"))return!1;if("start"===i){if(o[_s861-1]===_t2247)return!1;}else if("end"===i){if(o[_s861+1]===_t2247)return!1;}}else if(1===s.length){if(e===t[0]||e.matches(".font-item"))return!1;var _n633=s[0],_l379=o.indexOf(e);if("start"===i){if(o[_l379-1]===_n633)return!1;}else if("end"===i){if(o[_l379+1]===_n633)return!1;}}else if(s.length>1&&e.matches(".font-item"))return!1;return!0;}},{key:"m_",value:function m_(t){this.Js.board.undoManager.checkpoint("Pin font family"),this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(t,"\"]")).setAttribute("data-bx-pinned","true");}},{key:"g_",value:function g_(t){this.Js.board.undoManager.checkpoint("Unpin font family"),this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(t,"\"]")).removeAttribute("data-bx-pinned");}},{key:"f_",value:function f_(t){var _this888=this;{var _e1610=this["#items"].querySelector(".item[data-family-name-edited]");if(_e1610){if(_e1610===t)return;this.k_();}}this.Js.board;var e=t.querySelector(".label"),i=t.getAttribute("data-family"),s=qi(_templateObject66(),i);e.after(s),s.selectAll(),ts(10).then(function(){return s.querySelector("x-label").hidden=!1;}),e.hidden=!0,t.setAttribute("data-family-name-edited",""),s.addEventListener("input",function(){null!==s.error?t.setAttribute("data-invalid",""):t.removeAttribute("data-invalid");}),s.addEventListener("focusout",function(){t.removeAttribute("data-invalid"),_this888.k_();}),s.validate=function(){s.error=0===s.value.length?"Family must have name":null;};}},{key:"k_",value:function k_(){var t=this["#items"].querySelector(".item[data-family-name-edited]");if(t){var _e1611=this.Js.board,_i1497=t.querySelector(".label"),_s862=t.querySelector("x-input");if(_s862.remove(),_i1497.hidden=!1,t.removeAttribute("data-family-name-edited"),null===_s862.error){var _i1498=t.getAttribute("data-family"),_n634=_s862.value.trim();_i1498!==_n634&&_e1611.fontsManager.renameFamily(_i1498,_n634);}}}},{key:"b_",value:function b_(t){var e=this.Js.board,i=this.S_()[t];e.selectedElements=i?_toConsumableArray(i):[];}},{key:"S_",value:function S_(){var t={},e=this.Js.board.masterWorkspace.querySelectorAll("text");var _iterator1503=_createForOfIteratorHelper(e),_step1503;try{for(_iterator1503.s();!(_step1503=_iterator1503.n()).done;){var _i1499=_step1503.value;var _e1612=[],_s863=gi(_i1499);var _iterator1504=_createForOfIteratorHelper(_s863),_step1504;try{for(_iterator1504.s();!(_step1504=_iterator1504.n()).done;){var _t2248=_step1504.value;var _i1501=_t2248.closest("text, textPath, tspan, a"),_s865=_p.fromString(getComputedStyle(_i1501).fontFamily);if(_s865&&_s865.items.length>0){var _t2249=_s865.items[0];!1===_e1612.includes(_t2249)&&_e1612.push(_t2249);}}}catch(err){_iterator1504.e(err);}finally{_iterator1504.f();}for(var _i1500=0,_e1613=_e1612;_i1500<_e1613.length;_i1500++){var _s864=_e1613[_i1500];void 0===t[_s864]&&(t[_s864]=[]),t[_s864].push(_i1499);}}}catch(err){_iterator1503.e(err);}finally{_iterator1503.f();}return t;}},{key:"qs",value:function qs(){if(this.u_||this.x_)this.yy();else{{var _t2250=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-selected]")),_e1614=_toConsumableArray(this["#items"].querySelectorAll(".font-item[data-selected]")),_i1502=_toConsumableArray(this["#items"].querySelectorAll(".family-item[data-expanded]")),_s866=_t2250.map(function(t){return t.getAttribute("data-family");}),_n635=_i1502.map(function(t){return t.getAttribute("data-family");}),_o506=_e1614.map(function(t){return t[vg];}),_l380=document.createDocumentFragment();var _iterator1505=_createForOfIteratorHelper(this.Js.board.fontsManager.getFamilies()),_step1505;try{for(_iterator1505.s();!(_step1505=_iterator1505.n()).done;){var _t2251=_step1505.value;var _e1615=this.Js.board.fontsManager.getFamilyFonts(_t2251),_i1503=qi(_templateObject67(),_t2251,_t2251,_t2251);_s866.includes(_t2251)&&(_i1503.setAttribute("data-selected",""),_i1503[kg]=Date.now()),_n635.includes(_t2251)&&(_i1503.setAttribute("data-expanded",""),_i1503.querySelector(".font-items").removeAttribute("hidden"));var _iterator1506=_createForOfIteratorHelper(_e1615),_step1506;try{for(_iterator1506.s();!(_step1506=_iterator1506.n()).done;){var _s867=_step1506.value;var _e1616=Up(_s867),_n636="\n            font-size: 16px;\n            font-family: '".concat(_t2251,"';\n            font-weight: ").concat(_s867.weight,";\n            font-style: ").concat(_s867.style,";\n            font-stetch: ").concat(_s867.stretch,";\n          "),_l381=qi(_templateObject68(),_n636,_e1616);var _iterator1507=_createForOfIteratorHelper(_o506),_step1507;try{for(_iterator1507.s();!(_step1507=_iterator1507.n()).done;){var _t2252=_step1507.value;if(_s867.family===_t2252.family&&_s867.style===_t2252.style&&_s867.weight===_t2252.weight&&_s867.stretch===_t2252.stretch&&_s867.unicodeRange===_t2252.unicodeRange&&_s867.variant===_t2252.variant&&_s867.featureSettings===_t2252.featureSettings){_l381.setAttribute("data-selected",""),_l381[kg]=Date.now();break;}}}catch(err){_iterator1507.e(err);}finally{_iterator1507.f();}_l381[vg]=_s867,_i1503.querySelector(".font-items").append(_l381);}}catch(err){_iterator1506.e(err);}finally{_iterator1506.f();}_i1503[yg]=_e1615,_l380.append(_i1503),this.jv(_i1503);}}catch(err){_iterator1505.e(err);}finally{_iterator1505.f();}this["#items"].innerHTML="",this["#items"].append(_l380);}this.Iv(),this.Mv(),this.Lu();}}},{key:"Fv",value:function Fv(){var _iterator1508=_createForOfIteratorHelper(this["#items"].children),_step1508;try{for(_iterator1508.s();!(_step1508=_iterator1508.n()).done;){var _t2253=_step1508.value;this.jv(_t2253);}}catch(err){_iterator1508.e(err);}finally{_iterator1508.f();}}},{key:"Lu",value:function Lu(){this["#items"].querySelector(":scope > .item:not([hidden])")?this["#placeholder"].hidden=!0:this["#placeholder"].hidden=!1;}},{key:"jv",value:function jv(t){var e=this["#search-input"].value.trim().toLowerCase(),i=!1;if(0===e.length)i=!0;else{i=-1!==t.querySelector(".label").textContent.trim().toLowerCase().indexOf(e);}t.hidden=!i;}},{key:"Iv",value:function Iv(){var t=this.S_();var _iterator1509=_createForOfIteratorHelper(this["#items"].children),_step1509;try{for(_iterator1509.s();!(_step1509=_iterator1509.n()).done;){var _e1617=_step1509.value;var _i1504=_e1617.querySelector(".counter-button"),_s868=t[_e1617.dataset.family],_n637=_s868?_s868.length:0;0===_n637?(_i1504.setAttribute("hidden",""),_i1504.firstElementChild.textContent="0"):(_i1504.setAttribute("title",1===_n637?"Select 1 font family user":"Select ".concat(_n637," font family users")),_i1504.removeAttribute("hidden"),_i1504.firstElementChild.textContent=_n637);}}catch(err){_iterator1509.e(err);}finally{_iterator1509.f();}}},{key:"Mv",value:function Mv(){if("unpinned"===this._v.fonts){var _iterator1510=_createForOfIteratorHelper(this["#items"].children),_step1510;try{for(_iterator1510.s();!(_step1510=_iterator1510.n()).done;){var _t2254=_step1510.value;var _e1618=_t2254.dataset.family,_i1505=_t2254.querySelector(".pin-button"),_s869=this.Js.board.workspaces.querySelector("style[data-bx-fonts=\"".concat(_e1618,"\"]"));_i1505.hidden=!1,_i1505.toggled=_s869.hasAttribute("data-bx-pinned");}}catch(err){_iterator1510.e(err);}finally{_iterator1510.f();}}else{var _iterator1511=_createForOfIteratorHelper(this["#items"].children),_step1511;try{for(_iterator1511.s();!(_step1511=_iterator1511.n()).done;){var _t2255=_step1511.value;_t2255.querySelector(".pin-button").hidden=!0;}}catch(err){_iterator1511.e(err);}finally{_iterator1511.f();}}}}]);return Sg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Sg,"observedAttributes",["enabled"]);_defineProperty(Sg,"_shadowTemplate",qi(_templateObject441()));_defineProperty(Sg,"_shadowStyleSheet",Xi(_templateObject442()));customElements.define("bx-fontsbrowser",Sg);var _g=/*#__PURE__*/function(_HTMLElement120){_inherits(_g,_HTMLElement120);var _super192=_createSuper(_g);_createClass(_g,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function _g(){var _this889;_classCallCheck(this,_g);_this889=_super192.call(this),_this889._shadowRoot=_this889.attachShadow({mode:"closed"}),_this889._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,_g._shadowStyleSheet],_this889._shadowRoot.append(document.importNode(_g._shadowTemplate.content,!0));var _iterator1512=_createForOfIteratorHelper(_this889._shadowRoot.querySelectorAll("[id]")),_step1512;try{for(_iterator1512.s();!(_step1512=_iterator1512.n()).done;){var _t2256=_step1512.value;_this889["#"+_t2256.id]=_t2256;}}catch(err){_iterator1512.e(err);}finally{_iterator1512.f();}var _iterator1513=_createForOfIteratorHelper(_this889["#main"].children),_step1513;try{for(_iterator1513.s();!(_step1513=_iterator1513.n()).done;){var _t2257=_step1513.value;_this889[li(_t2257.id)]=_t2257;}}catch(err){_iterator1513.e(err);}finally{_iterator1513.f();}_this889["#buttons"].addEventListener("toggle",function(){return _this889.toggleBrowser(_this889["#buttons"].value);});return _this889;}_createClass(_g,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-defspanel:currentBrowserID","gradients-browser");this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"editColor",value:function editColor(t){this.toggleBrowser("colors-browser"),this["#colors-browser"].editColor(t);}},{key:"editGradient",value:function editGradient(t){this.toggleBrowser("gradients-browser"),this["#gradients-browser"].editGradient(t);}},{key:"editFilter",value:function editFilter(t){this.toggleBrowser("filters-browser"),this["#filters-browser"].editFilter(t);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1514=_createForOfIteratorHelper(this["#main"].children),_step1514;try{for(_iterator1514.s();!(_step1514=_iterator1514.n()).done;){var _e1619=_step1514.value;null!==t&&_e1619.id===t?_e1619.enabled=!0:_e1619.enabled=!1;}}catch(err){_iterator1514.e(err);}finally{_iterator1514.f();}null!==t&&this.Qs.setConfig("bx-defspanel:currentBrowserID",t);}}]);return _g;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_g,"observedAttributes",["enabled"]);_defineProperty(_g,"_shadowTemplate",qi(_templateObject443()));_defineProperty(_g,"_shadowStyleSheet",Xi(_templateObject444()));customElements.define("bx-defspanel",_g);var Cg=/*#__PURE__*/function(_HTMLElement121){_inherits(Cg,_HTMLElement121);var _super193=_createSuper(Cg);function Cg(){var _this890;_classCallCheck(this,Cg);_this890=_super193.call(this),_this890._shadowRoot=_this890.attachShadow({mode:"closed"}),_this890._shadowRoot.append(document.importNode(_this890.constructor._shadowTemplate.content,!0)),_this890._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Cg._shadowStyleSheet,_this890.constructor._shadowStyleSheet];var _iterator1515=_createForOfIteratorHelper(_this890._shadowRoot.querySelectorAll("[id]")),_step1515;try{for(_iterator1515.s();!(_step1515=_iterator1515.n()).done;){var _t2258=_step1515.value;_this890["#"+_t2258.id]=_t2258;}}catch(err){_iterator1515.e(err);}finally{_iterator1515.f();}_this890.setAttribute("extends","bx-toolsettings");return _this890;}_createClass(Cg,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}}]);return Cg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Cg,"observedAttributes",["enabled"]);_defineProperty(Cg,"_shadowStyleSheet",Xi(_templateObject445()));var Mg=/*#__PURE__*/function(_Cg){_inherits(Mg,_Cg);var _super194=_createSuper(Mg);function Mg(){var _this891;_classCallCheck(this,Mg);_this891=_super194.call(this),_this891["#sort-buttons"].addEventListener("toggle",function(){return _this891.__();});return _this891;}_createClass(Mg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Mg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-colorhuntcolorslibrarysearchsettings:sort","popular");this["#sort-buttons"].value=t;}},{key:"__",value:function __(){var t=this["#sort-buttons"].value;this.Qs.setConfig("bx-colorhuntcolorslibrarysearchsettings:sort",t);}}]);return Mg;}(Cg);_defineProperty(Mg,"_shadowTemplate",qi(_templateObject446()));_defineProperty(Mg,"_shadowStyleSheet",Xi(_templateObject447()));customElements.define("bx-colorhuntcolorslibrarysearchsettings",Mg);var Pg=Symbol();var Dg=/*#__PURE__*/function(_HTMLElement122){_inherits(Dg,_HTMLElement122);var _super195=_createSuper(Dg);_createClass(Dg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Dg(){var _this892;_classCallCheck(this,Dg);_this892=_super195.call(this),_this892.C_=!1,_this892.M_=!1,_this892.P_=!1,_this892.gv=0,_this892.D_=Qi(_this892.D_,600,_assertThisInitialized(_this892)),_this892.z_={},_this892._shadowRoot=_this892.attachShadow({mode:"closed"}),_this892._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Dg._shadowStyleSheet],_this892._shadowRoot.append(document.importNode(Dg._shadowTemplate.content,!0));var _iterator1516=_createForOfIteratorHelper(_this892._shadowRoot.querySelectorAll("[id]")),_step1516;try{for(_iterator1516.s();!(_step1516=_iterator1516.n()).done;){var _t2259=_step1516.value;_this892["#"+_t2259.id]=_t2259;}}catch(err){_iterator1516.e(err);}finally{_iterator1516.f();}_this892["#provider-select"].addEventListener("change",function(){return _this892.O_();}),_this892["#main"].addEventListener("scroll",function(){return _this892.E_();}),_this892["#items"].addEventListener("pointerdown",function(t){return _this892.Qc(t);}),_this892["#items"].addEventListener("click",function(t){return _this892.Jc(t);}),_this892["#items"].addEventListener("contextmenu",function(t){return _this892.tp(t);}),_this892["#items"].addEventListener("keydown",function(t){return _this892.ep(t);}),_this892["#meta-add-to-defs-button"].addEventListener("click",function(){return _this892.T_();}),_this892["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this892.A_();}),_this892["#search-input"].addEventListener("input",function(){return _this892.D_();});return _this892;}_createClass(Dg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1517=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1517;try{for(_iterator1517.s();!(_step1517=_iterator1517.n()).done;){var _t2260=_step1517.value;_t2260.setAttribute("rel","noopener");}}catch(err){_iterator1517.e(err);}finally{_iterator1517.f();}}this["#main"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this893=this;window.addEventListener("resize",this.nn=function(){_this893.I_();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this893.an(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.L_=function(){_this893.I_();}),!1===this.C_&&(this.C_=!0,this.B_(),this.R_(),this.G_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ts(10).then(function(){return _this893["#main"].scrollTop=_this893.gv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.primaryPanelsDock.removeEventListener("resize",this.L_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail17=t.detail,e=_t$detail17.key,i=_t$detail17.value;"color-hunt"===this["#provider-select"].value&&e.startsWith("bx-colorhuntcolorslibrarysearchsettings")&&this.G_();}},{key:"I_",value:function I_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.F_();}},{key:"O_",value:function O_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-colorslibrarybrowser:provider",this["#provider-select"].value),this.G_(),this.R_();}},{key:"E_",value:function E_(){this.gv=this["#items"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.F_();}},{key:"Qc",value:function Qc(t){var _this894=this;if(t.target.matches(".item")){var _e1620=t.target;if("touch"!==t.pointerType&&this.U_(_e1620),0===t.button){var _i1507,_s871,_n639,_o507=new DOMPoint(t.clientX,t.clientY);_e1620.setPointerCapture(t.pointerId),_e1620.addEventListener("pointermove",_i1507=function _i1506(l){var a=new DOMPoint(l.clientX,l.clientY);ze(_o507,a)>=5&&(_e1620.removeEventListener("pointermove",_i1507),_e1620.removeEventListener("pointerup",_s871),_e1620.removeEventListener("pointercancel",_n639),_this894.Zw(_e1620,t));}),_e1620.addEventListener("pointerup",_s871=function _s870(t){_e1620.removeEventListener("pointermove",_i1507),_e1620.removeEventListener("pointerup",_s871),_e1620.removeEventListener("pointercancel",_n639);}),_e1620.addEventListener("pointercancel",_n639=function _n638(){_e1620.removeEventListener("pointermove",_i1507),_e1620.removeEventListener("pointerup",_s871),_e1620.removeEventListener("pointercancel",_n639);});}}}},{key:"Zw",value:function Zw(t,e){var _this895=this;var i,s,n,o=this.Js.board,l=t[Pg],a=t.getBoundingClientRect(),h=this.N_(l,a);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(h),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;h.style.left=a.x+i+"px",h.style.top=a.y+s+"px";}),t.addEventListener("pointercancel",s=function(_s872){function s(){return _s872.apply(this,arguments);}s.toString=function(){return _s872.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,h.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref141=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee145(e){var _t2261,_e1621,_i1508;return regeneratorRuntime.wrap(function _callee145$(_context146){while(1){switch(_context146.prev=_context146.next){case 0:if(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY)){_t2261=h.getBoundingClientRect(),_e1621=_this895.V_(l.colors,a);o.undoManager.checkpoint("Add colors from library");_i1508=o.insertArtworkIntoBBox(_e1621,_t2261);o.selectedElements=[_i1508],o.selectedTextRange=null,h.remove();}else h.remove();case 1:case"end":return _context146.stop();}}},_callee145);}));return function n(_x170){return _ref141.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.U_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee146(t){var e;return regeneratorRuntime.wrap(function _callee146$(_context147){while(1){switch(_context147.prev=_context147.next){case 0:e=t.target.closest(".item");_context147.t0=e;if(!_context147.t0){_context147.next=8;break;}t.preventDefault();this.U_(e);_context147.next=7;return ts(150);case 7:this.nv(e);case 8:case"end":return _context147.stop();}}},_callee146,this);}));function tp(_x171){return _tp8.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=so.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.nv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.U_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.U_(i.previousElementSibling)));}},{key:"T_",value:function T_(){var t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]")[Pg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add colors from library");var _iterator1518=_createForOfIteratorHelper(e.colors),_step1518;try{for(_iterator1518.s();!(_step1518=_iterator1518.n()).done;){var _n640=_step1518.value;var _e1622=Ei("svg:linearGradient");_e1622.setAttribute("data-bx-pinned","true"),_e1622.id=t.generateUniqueID("color",i),_e1622.innerHTML="<stop style=\"stop-color: ".concat(_n640,";\"></stop>"),i.append(_e1622),s.push(_e1622.id);}}catch(err){_iterator1518.e(err);}finally{_iterator1518.f();}t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("colors-browser"),this.Js.defsPanel.colorsBrowser.selectColors(s);}},{key:"A_",value:function(){var _A_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee147(){var t,e,i,s,n,o,_t2262,_e1623,_e1624,_s873;return regeneratorRuntime.wrap(function _callee147$(_context148){while(1){switch(_context148.prev=_context148.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[Pg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#meta-popover"].close();_t2262=qi(_templateObject69());_t2262.style.display="flex",_t2262.style.position="fixed",_t2262.style.left=n.left+"px",_t2262.style.top=n.top+"px",_t2262.style.width=n.width+"px",_t2262.style.height=n.height+"px",_t2262.style.zIndex="999999999",_t2262.style.pointerEvents="none",_t2262.style.background=this.j_(i.colors),document.body.append(_t2262);_e1623=_t2262.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context148.next=7;return _e1623.finished;case 7:_t2262.remove();t.undoManager.checkpoint("Add colors from library");_e1624=this.V_(i.colors,o),_s873=t.insertArtworkIntoBBox(_e1624,o);t.selectedElements=[_s873],t.selectedTextRange=null;case 11:case"end":return _context148.stop();}}},_callee147,this);}));function A_(){return _A_.apply(this,arguments);}return A_;}()},{key:"D_",value:function D_(){this.G_();}},{key:"U_",value:function U_(t){{var _e1625=this["#items"].querySelector(":scope > .item[data-selected]");_e1625!==t&&(_e1625&&_e1625.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.H_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"av",value:function av(t){var e=t.colors,i=t.page,s=t.pageURL,n=t.provider,o=t.size,l=t.tags,a=this.j_(e),h=qi(_templateObject70(),a);return h[Pg]=t,h;}},{key:"N_",value:function N_(t,e){var i=qi(_templateObject71());return i.style.display="flex",i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background=this.j_(t.colors),i;}},{key:"j_",value:function j_(t){var e="linear-gradient(to right";for(var _i1509=0;_i1509<t.length;_i1509+=1){var _s874=_i1509*(100/t.length),_n641=(_i1509+1)*(100/t.length);e+=", ".concat(t[_i1509],"  ").concat(_s874,"%, ").concat(t[_i1509],"  ").concat(_n641,"%");}return e+=")",e;}},{key:"V_",value:function V_(t,e){var i=this.Js.board.geometryPrecision,s=K(e.width*(1/t.length),i),n=K(e.height,i),o="<svg viewBox=\"0 0 ".concat(e.width," ").concat(e.height,"\">");for(var _e1626=0;_e1626<t.length;_e1626+=1){o+="<rect x=\"".concat(_e1626*s,"\" width=\"").concat(s,"\" height=\"").concat(n,"\" style=\"fill: ").concat(t[_e1626],";\"></rect>");}return o+="</svg>",Zi(_templateObject72(),o);}},{key:"Y_",value:function Y_(t,e,i){var _this896=this;return new Promise(/*#__PURE__*/function(){var _ref142=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee148(s,n){var o,l,a,h,_iterator1519,_step1519,_t2263;return regeneratorRuntime.wrap(function _callee148$(_context149){while(1){switch(_context149.prev=_context149.next){case 0:l=i?i.page+1:0;"popular"===e?(_this896.z_["colorHuntColors:popularityDesc"]||(_this896.z_["colorHuntColors:popularityDesc"]=algolia.initIndex("colorHuntColors:popularityDesc")),o=_this896.z_["colorHuntColors:popularityDesc"]):(_this896.z_.colorHuntColors||(_this896.z_.colorHuntColors=algolia.initIndex("colorHuntColors")),o=_this896.z_.colorHuntColors);_context149.next=4;return o.search(t,{filters:"",page:l,hitsPerPage:40});case 4:a=_context149.sent;h=[];_iterator1519=_createForOfIteratorHelper(a.hits);try{for(_iterator1519.s();!(_step1519=_iterator1519.n()).done;){_t2263=_step1519.value;h.push({page:l,pageURL:"https://colorhunt.co/palette/".concat(_t2263.objectID),provider:"color-hunt",colors:_t2263.colors,tags:_t2263.tags,size:_t2263.size});}}catch(err){_iterator1519.e(err);}finally{_iterator1519.f();}s(h);case 9:case"end":return _context149.stop();}}},_callee148);}));return function(_x172,_x173){return _ref142.apply(this,arguments);};}());}},{key:"G_",value:function(){var _G_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee149(){var _t2264;return regeneratorRuntime.wrap(function _callee149$(_context150){while(1){switch(_context150.prev=_context150.next){case 0:this.M_=!1,this.P_=!0,this.gv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2264=0;case 2:if(!(_t2264<50&&!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context150.next=15;break;}_context150.prev=3;_context150.next=6;return this.F_();case 6:_context150.next=12;break;case 8:_context150.prev=8;_context150.t0=_context150["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context150.t0.message);return _context150.abrupt("break",15);case 12:_t2264+=1;_context150.next=2;break;case 15:case"end":return _context150.stop();}}},_callee149,this,[[3,8]]);}));function G_(){return _G_.apply(this,arguments);}return G_;}()},{key:"F_",value:function F_(){var _this897=this;return new Promise(/*#__PURE__*/function(){var _ref143=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee150(t,e){var i,s,n,o,_t2265,_t2266,_iterator1520,_step1520,_e1627,_i1510;return regeneratorRuntime.wrap(function _callee150$(_context151){while(1){switch(_context151.prev=_context151.next){case 0:_this897.M_=!0;i=null,s=null,n=_this897["#search-input"].value.trim(),o=_this897["#items"].lastElementChild?_this897["#items"].lastElementChild[Pg]:null;_context151.prev=2;if(!("color-hunt"===_this897["#provider-select"].value)){_context151.next=8;break;}_t2265=_this897.Qs.getConfig("bx-colorhuntcolorslibrarysearchsettings:sort","popular");_context151.next=7;return _this897.Y_(n,_t2265,o);case 7:i=_context151.sent;case 8:_context151.next=13;break;case 10:_context151.prev=10;_context151.t0=_context151["catch"](2);s=_context151.t0;case 13:if(s)_this897["#throbber"].hidden=!0,_this897.M_=!1,e(s);else{if(i.length>0){_t2266=document.createDocumentFragment();_iterator1520=_createForOfIteratorHelper(i);try{for(_iterator1520.s();!(_step1520=_iterator1520.n()).done;){_e1627=_step1520.value;_i1510=_this897.av(_e1627);_t2266.append(_i1510);}}catch(err){_iterator1520.e(err);}finally{_iterator1520.f();}_this897["#items"].append(_t2266),_this897["#throbber"].hidden=!0;}else _this897.P_=!1,_this897["#throbber"].hidden=!0,0===_this897["#items"].childElementCount&&(_this897["#placeholder"].hidden=!1,_this897["#placeholder"].textContent="No colors found");_this897.M_=!1,t();}case 14:case"end":return _context151.stop();}}},_callee150,null,[[2,10]]);}));return function(_x174,_x175){return _ref143.apply(this,arguments);};}());}},{key:"B_",value:function B_(){var t=this.Qs.getConfig("bx-colorslibrarybrowser:provider","color-hunt");this["#provider-select"].value=t;}},{key:"H_",value:function H_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1628=t[Pg];this["#meta-provider-anchor"].href=_e1628.pageURL,"color-hunt"===_e1628.provider&&(this["#meta-provider-label"].textContent="View on Color Hunt"),this["#meta-tags-value"].textContent=_e1628.tags.join(", ");}}},{key:"R_",value:function R_(){"color-hunt"===this["#provider-select"].value&&(this["#settings-popover"].innerHTML="<bx-colorhuntcolorslibrarysearchsettings/>");}}]);return Dg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Dg,"observedAttributes",["enabled"]);_defineProperty(Dg,"_shadowTemplate",qi(_templateObject448()));_defineProperty(Dg,"_shadowStyleSheet",Xi(_templateObject449()));customElements.define("bx-colorslibrarybrowser",Dg);var zg=Symbol();var Og=/*#__PURE__*/function(_HTMLElement123){_inherits(Og,_HTMLElement123);var _super196=_createSuper(Og);_createClass(Og,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Og(){var _this898;_classCallCheck(this,Og);_this898=_super196.call(this),_this898.C_=!1,_this898.M_=!1,_this898.P_=!1,_this898.gv=0,_this898.D_=Qi(_this898.D_,600,_assertThisInitialized(_this898)),_this898.z_={},_this898._shadowRoot=_this898.attachShadow({mode:"closed"}),_this898._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Og._shadowStyleSheet],_this898._shadowRoot.append(document.importNode(Og._shadowTemplate.content,!0));var _iterator1521=_createForOfIteratorHelper(_this898._shadowRoot.querySelectorAll("[id]")),_step1521;try{for(_iterator1521.s();!(_step1521=_iterator1521.n()).done;){var _t2267=_step1521.value;_this898["#"+_t2267.id]=_t2267;}}catch(err){_iterator1521.e(err);}finally{_iterator1521.f();}_this898["#provider-select"].addEventListener("change",function(){return _this898.O_();}),_this898["#main"].addEventListener("scroll",function(){return _this898.E_();}),_this898["#items"].addEventListener("pointerdown",function(t){return _this898.Qc(t);}),_this898["#items"].addEventListener("click",function(t){return _this898.Jc(t);}),_this898["#items"].addEventListener("contextmenu",function(t){return _this898.tp(t);}),_this898["#items"].addEventListener("keydown",function(t){return _this898.ep(t);}),_this898["#meta-add-to-defs-button"].addEventListener("click",function(){return _this898.T_();}),_this898["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this898.A_();}),_this898["#search-input"].addEventListener("input",function(){return _this898.D_();});return _this898;}_createClass(Og,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1522=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1522;try{for(_iterator1522.s();!(_step1522=_iterator1522.n()).done;){var _t2268=_step1522.value;_t2268.setAttribute("rel","noopener");}}catch(err){_iterator1522.e(err);}finally{_iterator1522.f();}}this["#main"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this899=this;window.addEventListener("resize",this.nn=function(){_this899.I_();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this899.an(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.L_=function(){_this899.I_();}),!1===this.C_&&(this.C_=!0,this.B_(),this.R_(),this.G_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ts(10).then(function(){return _this899["#main"].scrollTop=_this899.gv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.primaryPanelsDock.removeEventListener("resize",this.L_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail18=t.detail,e=_t$detail18.key,i=_t$detail18.value;"ui-gradients"===this["#provider-select"].value&&e.startsWith("bx-uigradientslibrarysearchsettings")&&this.G_();}},{key:"I_",value:function I_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.F_();}},{key:"O_",value:function O_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-gradientslibrarybrowser:provider",this["#provider-select"].value),this.G_(),this.R_();}},{key:"E_",value:function E_(){this.gv=this["#items"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.F_();}},{key:"Qc",value:function Qc(t){var _this900=this;if(t.target.matches(".item")){var _e1629=t.target;if("touch"!==t.pointerType&&this.U_(_e1629),0===t.button){var _i1512,_s876,_n643,_o508=new DOMPoint(t.clientX,t.clientY);_e1629.setPointerCapture(t.pointerId),_e1629.addEventListener("pointermove",_i1512=function _i1511(l){var a=new DOMPoint(l.clientX,l.clientY);ze(_o508,a)>=5&&(_e1629.removeEventListener("pointermove",_i1512),_e1629.removeEventListener("pointerup",_s876),_e1629.removeEventListener("pointercancel",_n643),_this900.Zw(_e1629,t));}),_e1629.addEventListener("pointerup",_s876=function _s875(t){_e1629.removeEventListener("pointermove",_i1512),_e1629.removeEventListener("pointerup",_s876),_e1629.removeEventListener("pointercancel",_n643);}),_e1629.addEventListener("pointercancel",_n643=function _n642(){_e1629.removeEventListener("pointermove",_i1512),_e1629.removeEventListener("pointerup",_s876),_e1629.removeEventListener("pointercancel",_n643);});}}}},{key:"Zw",value:function Zw(t,e){var _this901=this;var i,s,n,o=this.Js.board,l=t[zg],a=t.getBoundingClientRect(),h=this.N_(l,a);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(h),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY;h.style.left=a.x+i+"px",h.style.top=a.y+s+"px";}),t.addEventListener("pointercancel",s=function(_s877){function s(){return _s877.apply(this,arguments);}s.toString=function(){return _s877.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,h.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref144=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee151(e){var _t2269,_e1630,_i1513;return regeneratorRuntime.wrap(function _callee151$(_context152){while(1){switch(_context152.prev=_context152.next){case 0:if(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY)){_t2269=h.getBoundingClientRect(),_e1630=_this901.V_(l.stops,a);o.undoManager.checkpoint("Add gradient from library");_i1513=o.insertArtworkIntoBBox(_e1630,_t2269);o.selectedElements=[_i1513],o.selectedTextRange=null,h.remove();}else h.remove();case 1:case"end":return _context152.stop();}}},_callee151);}));return function n(_x176){return _ref144.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.U_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee152(t){var e;return regeneratorRuntime.wrap(function _callee152$(_context153){while(1){switch(_context153.prev=_context153.next){case 0:e=t.target.closest(".item");_context153.t0=e;if(!_context153.t0){_context153.next=8;break;}t.preventDefault();this.U_(e);_context153.next=7;return ts(150);case 7:this.nv(e);case 8:case"end":return _context153.stop();}}},_callee152,this);}));function tp(_x177){return _tp9.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=so.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.nv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.U_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.U_(i.previousElementSibling)));}},{key:"T_",value:function T_(){var t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]")[zg],i=document.createDocumentFragment(),s=[];t.undoManager.checkpoint("Add gradient from library");var n=Ei("svg:linearGradient");n.setAttribute("data-bx-pinned","true"),n.id=t.generateUniqueID("color",i),i.append(n),s.push(n.id);var o="";var _iterator1523=_createForOfIteratorHelper(e.stops),_step1523;try{for(_iterator1523.s();!(_step1523=_iterator1523.n()).done;){var _step1523$value=_slicedToArray(_step1523.value,2),_t2270=_step1523$value[0],_i1514=_step1523$value[1];o+="<stop style=\"stop-color: ".concat(_t2270,";\" offset=\"").concat(_i1514,"\"></stop>");}}catch(err){_iterator1523.e(err);}finally{_iterator1523.f();}n.innerHTML=o,t.maybeCreateDefsForMasterWorkspace(),t.defs.append(i),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("gradients-browser"),this.Js.defsPanel.gradientsBrowser.selectGradients(s);}},{key:"A_",value:function(){var _A_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee153(){var t,e,i,s,n,o,_t2271,_e1631,_e1632,_s878;return regeneratorRuntime.wrap(function _callee153$(_context154){while(1){switch(_context154.prev=_context154.next){case 0:t=this.Js.board,e=this["#items"].querySelector(".item[data-selected]"),i=e[zg],s=t.getBoundingClientRect(!1,!0),n=e.getBoundingClientRect(),o=e.getBoundingClientRect();o.x=s.x+s.width/2-o.width/2,o.y=s.y+s.height/2-o.height/2,this["#meta-popover"].close();_t2271=qi(_templateObject73());_t2271.style.display="flex",_t2271.style.position="fixed",_t2271.style.left=n.left+"px",_t2271.style.top=n.top+"px",_t2271.style.width=n.width+"px",_t2271.style.height=n.height+"px",_t2271.style.zIndex="999999999",_t2271.style.pointerEvents="none",_t2271.style.background=this.j_(i.stops),document.body.append(_t2271);_e1631=_t2271.animate({left:[n.left+"px",o.left+"px"],top:[n.top+"px",o.top+"px"]},{duration:400,easing:"ease"});_context154.next=7;return _e1631.finished;case 7:_t2271.remove();t.undoManager.checkpoint("Add gradient from library");_e1632=this.V_(i.stops,o),_s878=t.insertArtworkIntoBBox(_e1632,o);t.selectedElements=[_s878],t.selectedTextRange=null;case 11:case"end":return _context154.stop();}}},_callee153,this);}));function A_(){return _A_2.apply(this,arguments);}return A_;}()},{key:"D_",value:function D_(){this.G_();}},{key:"U_",value:function U_(t){{var _e1633=this["#items"].querySelector(":scope > .item[data-selected]");_e1633!==t&&(_e1633&&_e1633.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.H_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"av",value:function av(t){var e=t.stops,i=t.likes,s=t.page,n=this.j_(e),o=qi(_templateObject74(),n);return o[zg]=t,o;}},{key:"N_",value:function N_(t,e){var i=qi(_templateObject75());return i.style.display="flex",i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.background=this.j_(t.stops),i;}},{key:"j_",value:function j_(t){var e="linear-gradient(to right";var _iterator1524=_createForOfIteratorHelper(t),_step1524;try{for(_iterator1524.s();!(_step1524=_iterator1524.n()).done;){var _step1524$value=_slicedToArray(_step1524.value,2),_i1515=_step1524$value[0],_s879=_step1524$value[1];e+=", ".concat(_i1515,"  ").concat(100*_s879,"%");}}catch(err){_iterator1524.e(err);}finally{_iterator1524.f();}return e+=")",e;}},{key:"V_",value:function V_(t,e){var i="";var _iterator1525=_createForOfIteratorHelper(t),_step1525;try{for(_iterator1525.s();!(_step1525=_iterator1525.n()).done;){var _e1634=_step1525.value;var _e1635=_slicedToArray(_e1634,2),_t2272=_e1635[0],_s880=_e1635[1];i+="<stop offset=\"".concat(_s880,"\" style=\"stop-color: ").concat(_t2272,";\"></stop>");}}catch(err){_iterator1525.e(err);}finally{_iterator1525.f();}var s="\n      <svg viewBox=\"0 0 ".concat(e.width," ").concat(e.height,"\">\n        <defs>\n          <linearGradient id=\"gradient-1\">").concat(i,"</linearGradient>\n        </defs>\n        <rect x=\"0\" y=\"0\" width=\"").concat(e.width,"\" height=\"").concat(e.height,"\" style=\"fill: url(#gradient-1);\"></rect>\n      </svg>\n    ");return Zi(_templateObject76(),s);}},{key:"W_",value:function W_(t,e){var _this902=this;return new Promise(/*#__PURE__*/function(){var _ref145=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee154(i,s){var n,o,l,_iterator1526,_step1526,_t2273;return regeneratorRuntime.wrap(function _callee154$(_context155){while(1){switch(_context155.prev=_context155.next){case 0:_this902.z_.uiGradients||(_this902.z_.uiGradients=algolia.initIndex("uiGradients"));n=e?e.page+1:0;_context155.next=4;return _this902.z_.uiGradients.search(t,{filters:"",page:n,hitsPerPage:40});case 4:o=_context155.sent;l=[];_iterator1526=_createForOfIteratorHelper(o.hits);try{for(_iterator1526.s();!(_step1526=_iterator1526.n()).done;){_t2273=_step1526.value;l.push({page:n,pageURL:"https://uigradients.com/#".concat(_t2273.objectID),provider:"ui-gradients",stops:_t2273.stops,name:_t2273.name,tags:_t2273.tags});}}catch(err){_iterator1526.e(err);}finally{_iterator1526.f();}i(l);case 9:case"end":return _context155.stop();}}},_callee154);}));return function(_x178,_x179){return _ref145.apply(this,arguments);};}());}},{key:"G_",value:function(){var _G_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee155(){var _t2274;return regeneratorRuntime.wrap(function _callee155$(_context156){while(1){switch(_context156.prev=_context156.next){case 0:this.M_=!1,this.P_=!0,this.gv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2274=0;case 2:if(!(_t2274<50&&!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context156.next=15;break;}_context156.prev=3;_context156.next=6;return this.F_();case 6:_context156.next=12;break;case 8:_context156.prev=8;_context156.t0=_context156["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context156.t0.message);return _context156.abrupt("break",15);case 12:_t2274+=1;_context156.next=2;break;case 15:case"end":return _context156.stop();}}},_callee155,this,[[3,8]]);}));function G_(){return _G_2.apply(this,arguments);}return G_;}()},{key:"F_",value:function F_(){var _this903=this;return new Promise(/*#__PURE__*/function(){var _ref146=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee156(t,e){var i,s,n,o,_t2275,_iterator1527,_step1527,_e1636,_i1516;return regeneratorRuntime.wrap(function _callee156$(_context157){while(1){switch(_context157.prev=_context157.next){case 0:_this903.M_=!0;i=null,s=null,n=_this903["#search-input"].value.trim(),o=_this903["#items"].lastElementChild?_this903["#items"].lastElementChild[zg]:null;_context157.prev=2;_context157.t0="ui-gradients"===_this903["#provider-select"].value;if(!_context157.t0){_context157.next=8;break;}_context157.next=7;return _this903.W_(n,o);case 7:i=_context157.sent;case 8:_context157.next=13;break;case 10:_context157.prev=10;_context157.t1=_context157["catch"](2);s=_context157.t1;case 13:if(s)_this903["#throbber"].hidden=!0,_this903.M_=!1,e(s);else{if(i.length>0){_t2275=document.createDocumentFragment();_iterator1527=_createForOfIteratorHelper(i);try{for(_iterator1527.s();!(_step1527=_iterator1527.n()).done;){_e1636=_step1527.value;_i1516=_this903.av(_e1636);_t2275.append(_i1516);}}catch(err){_iterator1527.e(err);}finally{_iterator1527.f();}_this903["#items"].append(_t2275),_this903["#throbber"].hidden=!0;}else _this903.P_=!1,_this903["#throbber"].hidden=!0,0===_this903["#items"].childElementCount&&(_this903["#placeholder"].hidden=!1,_this903["#placeholder"].textContent="No gradients found");_this903.M_=!1,t();}case 14:case"end":return _context157.stop();}}},_callee156,null,[[2,10]]);}));return function(_x180,_x181){return _ref146.apply(this,arguments);};}());}},{key:"B_",value:function B_(){var t=this.Qs.getConfig("bx-gradientslibrarybrowser:provider","ui-gradients");this["#provider-select"].value=t;}},{key:"H_",value:function H_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1637=t[zg];this["#meta-provider-anchor"].href=_e1637.pageURL,"ui-gradients"===_e1637.provider&&(this["#meta-provider-label"].textContent="View on uiGradients"),this["#meta-name-value"].textContent=_e1637.name,this["#meta-tags-value"].textContent=_e1637.tags.join(", ");}}},{key:"R_",value:function R_(){"ui-gradients"===this["#provider-select"].value&&(this["#settings-button"].hidden=!0,this["#settings-popover"].innerHTML="");}}]);return Og;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Og,"observedAttributes",["enabled"]);_defineProperty(Og,"_shadowTemplate",qi(_templateObject450()));_defineProperty(Og,"_shadowStyleSheet",Xi(_templateObject451()));customElements.define("bx-gradientslibrarybrowser",Og);var Eg={"http://scripts.sil.org/OFL":"SIL Open Font License","https://ubuntu.com/legal/font-licence":"Ubuntu Font Licence","http://www.apache.org/licenses/LICENSE-2.0.html":"Apache License"},Tg={"sans-serif":"Sans Serif",serif:"Serif",display:"Display",handwriting:"Handwriting",monospace:"Monospace"},Ag={arabic:"Arabic",bengali:"Bengali","chinese-hongkong":"Chinese (Hong Kong)","chinese-simplified":"Chinese (simplified)","chinese-traditional":"Chinese (traditional)",cyrillic:"Cyrillic","cyrillic-ext":"Cyrillic (extended)",devanagari:"Devanagari",greek:"Greek","greek-ext":"Greek (extended)",gujarati:"Gujarati",gurmukhi:"Gurmukhi",hebrew:"Hebrew",japanese:"Japanese",kannada:"Kannada",khmer:"Khmer",korean:"Korean",latin:"Latin","latin-ext":"Latin (extended)",malayalam:"Malayalam",myanmar:"Myanmar",oriya:"Oriya",sinhala:"Sinhala",tamil:"Tamil",thai:"Thai",telugu:"Telugu",vietnamese:"Vietnamese"},$g=Symbol();var Ig=/*#__PURE__*/function(_HTMLElement124){_inherits(Ig,_HTMLElement124);var _super197=_createSuper(Ig);_createClass(Ig,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Ig(){var _this904;_classCallCheck(this,Ig);_this904=_super197.call(this),_this904.tc=null,_this904.q_=null,_this904.X_=null,_this904.gv=0,_this904.C_=!1,_this904._shadowRoot=_this904.attachShadow({mode:"closed"}),_this904._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Ig._shadowStyleSheet],_this904._shadowRoot.append(document.importNode(Ig._shadowTemplate.content,!0));var _iterator1528=_createForOfIteratorHelper(_this904._shadowRoot.querySelectorAll("[id]")),_step1528;try{for(_iterator1528.s();!(_step1528=_iterator1528.n()).done;){var _t2276=_step1528.value;_this904["#"+_t2276.id]=_t2276;}}catch(err){_iterator1528.e(err);}finally{_iterator1528.f();}_this904["#items"].addEventListener("scroll",function(){return _this904.fv();}),_this904["#items"].addEventListener("pointerdown",function(t){return _this904.Qc(t);}),_this904["#items"].addEventListener("click",function(t){return _this904.Jc(t);}),_this904["#items"].addEventListener("contextmenu",function(t){return _this904.tp(t);}),_this904["#items"].addEventListener("keydown",function(t){return _this904.ep(t);}),_this904["#add-to-defs-button"].addEventListener("click",function(){return _this904.T_();}),_this904["#search-input"].addEventListener("input",function(){return _this904.wv();}),_this904["#sort-select"].addEventListener("change",function(){return _this904.Cm();}),_this904["#category-select"].addEventListener("change",function(){return _this904.Z_();}),_this904["#subset-select"].addEventListener("change",function(){return _this904.K_();});return _this904;}_createClass(Ig,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1529=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1529;try{for(_iterator1529.s();!(_step1529=_iterator1529.n()).done;){var _t2277=_step1529.value;_t2277.setAttribute("rel","noopener");}}catch(err){_iterator1529.e(err);}finally{_iterator1529.f();}}this["#items"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this905=this;!1===this.C_&&(this.C_=!0,this.Q_(),this.Gu()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ts(10).then(function(){return _this905["#items"].scrollTop=_this905.gv;})),window.addEventListener("resize",this.nn=function(){_this905.kv();});}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this["#items"].remove(),this["#item-popover"].opened&&this["#item-popover"].close(!1);}},{key:"kv",value:function kv(){this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"fv",value:function fv(){this.gv=this["#items"].scrollTop,this["#item-popover"].opened&&this["#item-popover"].close();}},{key:"ep",value:function ep(t){var e=so.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");i&&(e.matches("Enter")?this.nv(i):e.matches("ArrowDown")&&i.nextElementSibling?(t.stopPropagation(),t.preventDefault(),this.U_(i.nextElementSibling)):e.matches("ArrowUp")&&i.previousElementSibling&&(t.stopPropagation(),t.preventDefault(),this.U_(i.previousElementSibling)));}},{key:"T_",value:function(){var _T_=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee157(){var t,e,i,_i1517,_Object$entries6,_Object$entries6$_i,_s881,_n644,_o509,_l382,_a279,_h222,_r150,_d116,_c88;return regeneratorRuntime.wrap(function _callee157$(_context158){while(1){switch(_context158.prev=_context158.next){case 0:t=this["#items"].querySelector(".item[data-selected]")[$g],e=[],i=null;this["#add-to-defs-button"].disabled=!0;_i1517=0,_Object$entries6=Object.entries(t.urls);case 3:if(!(_i1517<_Object$entries6.length)){_context158.next=32;break;}_Object$entries6$_i=_slicedToArray(_Object$entries6[_i1517],2),_s881=_Object$entries6$_i[0],_n644=_Object$entries6$_i[1];_o509=null;_context158.prev=6;_context158.next=9;return fetch(_n644);case 9:_o509=_context158.sent;_context158.next=16;break;case 12:_context158.prev=12;_context158.t0=_context158["catch"](6);i=_context158.t0;return _context158.abrupt("break",32);case 16:_context158.next=18;return _o509.blob();case 18:_l382=_context158.sent;_context158.next=21;return jh(_l382);case 21:_context158.t1=_context158.sent;_context158.t2="url("+_context158.t1;_a279=_context158.t2+")";_h222=t.family;_r150=_s881.substring(0,3);_d116=_s881.includes("italic")?"italic":"normal";_c88=new FontFace(_h222,_a279,{family:_h222,weight:_r150,style:_d116});_c88.src=_a279,e.push(_c88);case 29:_i1517++;_context158.next=3;break;case 32:if(!i){_context158.next=34;break;}return _context158.abrupt("return",(this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(t.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}),void(this["#add-to-defs-button"].disabled=!1)));case 34:if(!this.Js.board.fontsManager.getFamilies().includes(t.family)){_context158.next=40;break;}_context158.next=37;return this.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override the existing definition?"});case 37:_context158.t3=_context158.sent;if(!(0!==_context158.t3)){_context158.next=40;break;}return _context158.abrupt("return",void(this["#add-to-defs-button"].disabled=!1));case 40:this.Js.board.undoManager.checkpoint("Add \"".concat(t.family,"\" font family to defs")),this.Js.board.fontsManager.removeFamily(t.family),this.Js.board.fontsManager.addFonts(e),this.Js.board.fontsManager.pinFamily(t.family),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("fonts-browser"),this.Js.defsPanel.fontsBrowser.featureFamily(t.family),this["#add-to-defs-button"].disabled=!1;case 41:case"end":return _context158.stop();}}},_callee157,this,[[6,12]]);}));function T_(){return _T_.apply(this,arguments);}return T_;}()},{key:"Qc",value:function Qc(t){var _this906=this;if(0===t.button){var _e1639,_i1518,_s883,_n645=t.target.closest(".item"),_o510=new DOMPoint(t.clientX,t.clientY);_n645&&("touch"!==t.pointerType&&this.U_(_n645),_n645.setPointerCapture(t.pointerId),_n645.addEventListener("pointermove",_e1639=function _e1638(l){var a=new DOMPoint(l.clientX,l.clientY);ze(_o510,a)>=5&&(_n645.removeEventListener("pointermove",_e1639),_n645.removeEventListener("pointerup",_i1518),_n645.removeEventListener("pointercancel",_s883),_this906.Zw(_n645,t));}),_n645.addEventListener("pointerup",_i1518=/*#__PURE__*/function(){var _ref147=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee158(t){return regeneratorRuntime.wrap(function _callee158$(_context159){while(1){switch(_context159.prev=_context159.next){case 0:_n645.removeEventListener("pointermove",_e1639),_n645.removeEventListener("pointerup",_i1518),_n645.removeEventListener("pointercancel",_s883);case 1:case"end":return _context159.stop();}}},_callee158);}));return function _i1518(_x182){return _ref147.apply(this,arguments);};}()),_n645.addEventListener("pointercancel",_s883=function _s882(){_n645.removeEventListener("pointermove",_e1639),_n645.removeEventListener("pointerup",_i1518),_n645.removeEventListener("pointercancel",_s883);}));}}},{key:"Zw",value:function Zw(t,e){var _this907=this;var i,s,_n647,o,l=this.Js.board,a=t[$g],h=t.firstElementChild.getBoundingClientRect(),r=1,d=[],c=new Promise(function(t){return d.push(t);});this["#item-popover"].opened&&this["#item-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),i=t.querySelector("img").cloneNode(!0),i.style.position="fixed",i.style.left=h.left+"px",i.style.top=h.top+"px",i.style.width=h.width+"px",i.style.height=h.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.style.filter="invert(100%)",document.body.append(i),_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee159(){var t,e,_i1519,_Object$entries7,_Object$entries7$_i,_i1520,_s884,_n646,_o511,_l383,_h223,_r151,_d117,_c89,_iterator1530,_step1530,_i1521;return regeneratorRuntime.wrap(function _callee159$(_context160){while(1){switch(_context160.prev=_context160.next){case 0:t=[],e=null;_i1519=0,_Object$entries7=Object.entries(a.urls);case 2:if(!(_i1519<_Object$entries7.length)){_context160.next=31;break;}_Object$entries7$_i=_slicedToArray(_Object$entries7[_i1519],2),_i1520=_Object$entries7$_i[0],_s884=_Object$entries7$_i[1];_n646=null;_context160.prev=5;_context160.next=8;return fetch(_s884);case 8:_n646=_context160.sent;_context160.next=15;break;case 11:_context160.prev=11;_context160.t0=_context160["catch"](5);e=_context160.t0;return _context160.abrupt("break",31);case 15:_context160.next=17;return _n646.blob();case 17:_o511=_context160.sent;_context160.next=20;return jh(_o511);case 20:_context160.t1=_context160.sent;_context160.t2="url("+_context160.t1;_l383=_context160.t2+")";_h223=a.family;_r151=_i1520.substring(0,3);_d117=_i1520.includes("italic")?"italic":"normal";_c89=new FontFace(_h223,_l383,{family:_h223,weight:_r151,style:_d117});_c89.src=_l383,t.push(_c89);case 28:_i1519++;_context160.next=2;break;case 31:_iterator1530=_createForOfIteratorHelper(d);try{for(_iterator1530.s();!(_step1530=_iterator1530.n()).done;){_i1521=_step1530.value;_i1521(e?null:t);}}catch(err){_iterator1530.e(err);}finally{_iterator1530.f();}case 33:case"end":return _context160.stop();}}},_callee159,null,[[5,11]]);}))(),t.addEventListener("pointermove",s=function s(t){var s=t.clientX-e.clientX,n=t.clientY-e.clientY;s<0&&(r=1+Math.abs(s)/150,r>3&&(r=3)),i.style.top=h.y+n+"px",i.style.left=h.x+s+"px",i.style.transform="scale(".concat(r,")");}),t.addEventListener("pointercancel",_n647=function n(){t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n647),t.removeEventListener("pointerup",o),t.style.cursor=null,i.remove();}),t.addEventListener("pointerup",o=/*#__PURE__*/function(){var _ref149=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee160(e){var h,_t2278,_e1640,_s885,_n648,_o512,_h224,_d118;return regeneratorRuntime.wrap(function _callee160$(_context161){while(1){switch(_context161.prev=_context161.next){case 0:if(!(t.removeEventListener("pointermove",s),t.removeEventListener("pointercancel",_n647),t.removeEventListener("pointerup",o),t.style.cursor=null,!1===l.isPointOverBoard(e.clientX,e.clientY))){_context161.next=2;break;}return _context161.abrupt("return",void i.remove());case 2:_context161.next=4;return c;case 4:h=_context161.sent;if(!(null===h)){_context161.next=10;break;}i.remove();_context161.next=9;return ts(100);case 9:return _context161.abrupt("return",void _this907.Qs.openMessageDialog({buttons:["OK"],message:"Can't import \"".concat(a.family,"\" font family"),detail:"Unable to connect to Google Fonts server. Please try again later."}));case 10:if(!l.fontsManager.getFamilies().includes(a.family)){_context161.next=16;break;}_context161.next=13;return _this907.Qs.openMessageDialog({type:"question",buttons:["Override","Cancel"],message:"Font family already defined",detail:"This font family is already defined, do you want to override it?"});case 13:_context161.t0=_context161.sent;if(!(0!==_context161.t0)){_context161.next=16;break;}return _context161.abrupt("return",void i.remove());case 16:l.undoManager.checkpoint("Add \"".concat(a.family,"\" font family to defs"));l.fontsManager.removeFamily(a.family);l.fontsManager.addFonts(h);_context161.next=21;return Promise.all(h.map(function(t){return t.load();}));case 21:_t2278=l.currentContainer||l.currentWorkspace,_e1640=i.getBoundingClientRect(),_s885=Ht(_t2278).inverse(),_n648=new DOMPoint(_e1640.x,_e1640.y+_e1640.height-4*r).matrixTransform(_s885),_o512=K(_n648.x,l.geometryPrecision),_h224=K(_n648.y,l.geometryPrecision),_d118=Ei("svg:text");_d118.setAttribute("x",_o512),_d118.setAttribute("y",_h224),_d118.textContent=a.family,_d118.style.whiteSpace="pre",_d118.style.fontSize=20*r*(1/l.scale)+"px",_d118.style.fontFamily="\"".concat(a.family,"\""),_t2278.append(_d118),l.selectedElements=[_d118],l.selectedTextRange=null,i.remove();case 23:case"end":return _context161.stop();}}},_callee160);}));return function o(_x183){return _ref149.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.U_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee161(t){var e;return regeneratorRuntime.wrap(function _callee161$(_context162){while(1){switch(_context162.prev=_context162.next){case 0:e=t.target.closest(".item");_context162.t0=e;if(!_context162.t0){_context162.next=8;break;}t.preventDefault();this.U_(e);_context162.next=7;return ts(150);case 7:this.nv(e);case 8:case"end":return _context162.stop();}}},_callee161,this);}));function tp(_x184){return _tp10.apply(this,arguments);}return tp;}()},{key:"wv",value:function wv(){this.J_(),this["#items"].scrollTop=0;}},{key:"Cm",value:function Cm(){this.Qs.setConfig("bx-fontslibrarybrowser:sort",this["#sort-select"].value),this.Gu(!0);}},{key:"Z_",value:function Z_(){this.Qs.setConfig("bx-fontslibrarybrowser:category",this["#category-select"].value),this.Gu(!0);}},{key:"K_",value:function K_(){this.Qs.setConfig("bx-fontslibrarybrowser:subset",this["#subset-select"].value),this.Gu(!0);}},{key:"U_",value:function U_(t){{var _e1641=this["#items"].querySelector(":scope > .item[data-selected]");_e1641!==t&&(_e1641&&(_e1641.removeAttribute("data-selected"),_e1641.part.remove("selected-item")),t.setAttribute("data-selected",""),t.part.add("selected-item"),t.scrollIntoViewIfNeeded());}this["#item-popover"].opened&&(this["#item-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.tC();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#item-popover"].open(i);}},{key:"eC",value:function eC(t){return Tg[t]||t;}},{key:"iC",value:function iC(t){return Ag[t]||t;}},{key:"sC",value:function(){var _sC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee163(){var _this908=this;return regeneratorRuntime.wrap(function _callee163$(_context164){while(1){switch(_context164.prev=_context164.next){case 0:return _context164.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref150=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee162(t){var _e1642,_iterator1531,_step1531,_t2279;return regeneratorRuntime.wrap(function _callee162$(_context163){while(1){switch(_context163.prev=_context163.next){case 0:if(!_this908.q_){_context163.next=4;break;}t(_this908.q_);_context163.next=17;break;case 4:if(!_this908.X_){_context163.next=8;break;}_this908.X_.push(t);_context163.next=17;break;case 8:_this908.X_=[t];_context163.next=11;return fetch("metadata/fonts/google-fonts-thumbnails.json");case 11:_e1642=_context163.sent;_context163.next=14;return _e1642.json();case 14:_this908.q_=_context163.sent;_iterator1531=_createForOfIteratorHelper(_this908.X_);try{for(_iterator1531.s();!(_step1531=_iterator1531.n()).done;){_t2279=_step1531.value;_t2279(_this908.q_);}}catch(err){_iterator1531.e(err);}finally{_iterator1531.f();}case 17:case"end":return _context163.stop();}}},_callee162);}));return function(_x185){return _ref150.apply(this,arguments);};}()));case 1:case"end":return _context164.stop();}}},_callee163);}));function sC(){return _sC.apply(this,arguments);}return sC;}()},{key:"Gu",value:function(){var _Gu=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee164(){var t,_e1643,_i1522,_s886,_n649,_o513,_l384,_a280,_iterator1532,_step1532,_t2282,_t2280,_iterator1533,_step1533,_i1523,_iterator1534,_step1534,_t2281,_args165=arguments;return regeneratorRuntime.wrap(function _callee164$(_context165){while(1){switch(_context165.prev=_context165.next){case 0:t=_args165.length>0&&_args165[0]!==undefined?_args165[0]:!1;_context165.next=3;return this.sC();case 3:_e1643=_context165.sent;_context165.next=6;return Cr();case 6:_i1522=_context165.sent;_s886=this["#sort-select"].value;_n649=this["#category-select"].value;_o513=this["#subset-select"].value;_l384={};_a280=null;_iterator1532=_createForOfIteratorHelper(_i1522.items);try{for(_iterator1532.s();!(_step1532=_iterator1532.n()).done;){_t2282=_step1532.value;_l384[_t2282.family]=_t2282;}}catch(err){_iterator1532.e(err);}finally{_iterator1532.f();}"alphabetical"===_s886?_a280=_i1522.items.map(function(t){return t.family;}):"popularity"!==_s886&&"trending"!==_s886&&"date"!==_s886||(_a280=_i1522.sortedFamilies[_s886]),_a280=_a280.filter(function(t){var e=_l384[t];return("all"===_n649||e.category===_n649)&&("all"===_o513||!1!==e.subsets.includes(_o513));});_t2280="";_iterator1533=_createForOfIteratorHelper(_a280);try{for(_iterator1533.s();!(_step1533=_iterator1533.n()).done;){_i1523=_step1533.value;_t2280+="\n            <div class=\"item\" part=\"item\" data-name=\"".concat(_i1523,"\">\n              <img src=\"").concat(_e1643[_i1523],"\"></img>\n            </div>\n          ");}}catch(err){_iterator1533.e(err);}finally{_iterator1533.f();}this["#items"].innerHTML=_t2280;_iterator1534=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1534.s();!(_step1534=_iterator1534.n()).done;){_t2281=_step1534.value;_t2281[$g]=_l384[_t2281.dataset.name];}}catch(err){_iterator1534.e(err);}finally{_iterator1534.f();}t&&(this["#items"].scrollTop=0);this.J_();case 23:case"end":return _context165.stop();}}},_callee164,this);}));function Gu(){return _Gu.apply(this,arguments);}return Gu;}()},{key:"J_",value:function J_(){var t=this["#search-input"].value.trim();if(""===t){var _iterator1535=_createForOfIteratorHelper(this["#items"].children),_step1535;try{for(_iterator1535.s();!(_step1535=_iterator1535.n()).done;){var _t2283=_step1535.value;_t2283.hidden=!1;}}catch(err){_iterator1535.e(err);}finally{_iterator1535.f();}this["#placeholder"].hidden=!0;}else{var _iterator1536=_createForOfIteratorHelper(this["#items"].children),_step1536;try{for(_iterator1536.s();!(_step1536=_iterator1536.n()).done;){var _e1644=_step1536.value;var _i1524=-1!==_e1644[$g].family.toLowerCase().indexOf(t.toLowerCase());_e1644.hidden=!1===_i1524;}}catch(err){_iterator1536.e(err);}finally{_iterator1536.f();}null===this["#items"].querySelector(".item:not([hidden])")?(this["#placeholder"].hidden=!1,this["#placeholder"].textContent="No fonts found."):this["#placeholder"].hidden=!0;}}},{key:"tC",value:function tC(){var _this909=this;var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1645=t[$g],_i1525="https://fonts.google.com/specimen/"+ni(_e1645.family," ","+");this["#item-family-value"].textContent=_e1645.family,this["#item-weights-value"].textContent=_e1645.faces.filter(function(t){return e=t,!Array.isArray(e)&&e-Y(e)+1>=0;var e;}).join(", "),this["#item-subsets-value"].textContent=_e1645.subsets.map(function(t){return _this909.iC(t);}).join(", "),this["#item-category-value"].textContent=this.eC(_e1645.category),this["#item-license-anchor"].href=_e1645.license,this["#item-license-anchor"].textContent=Eg[_e1645.license]?Eg[_e1645.license]:"Custom",this["#item-google-fonts-anchor"].setAttribute("href",_i1525);}}},{key:"Q_",value:function Q_(){if(this["#sort-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:sort","popularity"),2===this["#category-menu"].children.length){var _t2284="";for(var _i1526=0,_Object$entries8=Object.entries(Tg);_i1526<_Object$entries8.length;_i1526++){var _Object$entries8$_i=_slicedToArray(_Object$entries8[_i1526],2),_e1646=_Object$entries8$_i[0],_i1527=_Object$entries8$_i[1];_t2284+="<x-menuitem value=\"".concat(_e1646,"\"><x-label>").concat(_i1527,"</x-label></x-menuitem>");}this["#category-menu"].insertAdjacentHTML("beforeend",_t2284);}if(this["#category-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:category","all"),2===this["#subset-menu"].children.length){var _t2285="";for(var _i1528=0,_Object$entries9=Object.entries(Ag);_i1528<_Object$entries9.length;_i1528++){var _Object$entries9$_i=_slicedToArray(_Object$entries9[_i1528],2),_e1647=_Object$entries9$_i[0],_i1529=_Object$entries9$_i[1];_t2285+="<x-menuitem value=\"".concat(_e1647,"\"><x-label>").concat(_i1529,"</x-label></x-menuitem>");}this["#subset-menu"].insertAdjacentHTML("beforeend",_t2285);}this["#subset-select"].value=this.Qs.getConfig("bx-fontslibrarybrowser:subset","all");}}]);return Ig;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ig,"observedAttributes",["enabled"]);_defineProperty(Ig,"_shadowTemplate",qi(_templateObject452()));_defineProperty(Ig,"_shadowStyleSheet",Xi(_templateObject453()));customElements.define("bx-fontslibrarybrowser",Ig);var Lg=/*#__PURE__*/function(_Cg2){_inherits(Lg,_Cg2);var _super198=_createSuper(Lg);function Lg(){var _this910;_classCallCheck(this,Lg);_this910=_super198.call(this),_this910["#quality-select"].addEventListener("change",function(){return _this910.nC();}),_this910["#orientation-select"].addEventListener("change",function(){return _this910.oC();});return _this910;}_createClass(Lg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Lg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:quality","640"),e=this.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:orientation","all");this["#quality-select"].value=t,this["#orientation-select"].value=e;}},{key:"nC",value:function nC(){var t=this["#quality-select"].value;this.Qs.setConfig("bx-pexelsbitmapslibrarysearchsettings:quality",t);}},{key:"oC",value:function oC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-pexelsbitmapslibrarysearchsettings:orientation",t);}}]);return Lg;}(Cg);_defineProperty(Lg,"_shadowTemplate",qi(_templateObject454()));_defineProperty(Lg,"_shadowStyleSheet",Xi(_templateObject455()));customElements.define("bx-pexelsbitmapslibrarysearchsettings",Lg);var Bg=/*#__PURE__*/function(_Cg3){_inherits(Bg,_Cg3);var _super199=_createSuper(Bg);function Bg(){var _this911;_classCallCheck(this,Bg);_this911=_super199.call(this),_this911["#sort-buttons"].addEventListener("toggle",function(){return _this911.lC();}),_this911["#quality-select"].addEventListener("change",function(){return _this911.nC();}),_this911["#orientation-select"].addEventListener("change",function(){return _this911.oC();}),_this911["#category-select"].addEventListener("change",function(){return _this911.Z_();}),_this911["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this911.aC();});return _this911;}_createClass(Bg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Bg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:sort","popular"),e=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:quality","640"),i=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:orientation","all"),s=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:category","all"),n=this.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",!1);this["#sort-buttons"].value=t,this["#quality-select"].value=e,this["#orientation-select"].value=i,this["#category-select"].value=s,this["#editors-choice-checkbox"].toggled=n;}},{key:"lC",value:function lC(){var t=this["#sort-buttons"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:sort",t);}},{key:"nC",value:function nC(){var t=this["#quality-select"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:quality",t);}},{key:"oC",value:function oC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:orientation",t);}},{key:"Z_",value:function Z_(){var t=this["#category-select"].value;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:category",t);}},{key:"aC",value:function aC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",t);}}]);return Bg;}(Cg);_defineProperty(Bg,"_shadowTemplate",qi(_templateObject456()));_defineProperty(Bg,"_shadowStyleSheet",Xi(_templateObject457()));customElements.define("bx-pixabaybitmapslibrarysearchsettings",Bg);var Rg=/*#__PURE__*/function(_Cg4){_inherits(Rg,_Cg4);var _super200=_createSuper(Rg);function Rg(){var _this912;_classCallCheck(this,Rg);_this912=_super200.call(this),_this912["#quality-select"].addEventListener("change",function(){return _this912.nC();}),_this912["#orientation-select"].addEventListener("change",function(){return _this912.oC();});return _this912;}_createClass(Rg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Rg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:quality","640"),e=this.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:orientation","all");this["#quality-select"].value=t,this["#orientation-select"].value=e;}},{key:"nC",value:function nC(){var t=this["#quality-select"].value;this.Qs.setConfig("bx-unsplashbitmapslibrarysearchsettings:quality",t);}},{key:"oC",value:function oC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-unsplashbitmapslibrarysearchsettings:orientation",t);}}]);return Rg;}(Cg);_defineProperty(Rg,"_shadowTemplate",qi(_templateObject458()));_defineProperty(Rg,"_shadowStyleSheet",Xi(_templateObject459()));customElements.define("bx-unsplashbitmapslibrarysearchsettings",Rg);var Gg=/*#__PURE__*/function(_Cg5){_inherits(Gg,_Cg5);var _super201=_createSuper(Gg);function Gg(){var _this913;_classCallCheck(this,Gg);_this913=_super201.call(this),_this913["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this913.aC();});return _this913;}_createClass(Gg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Gg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",!1);this["#editors-choice-checkbox"].toggled=t;}},{key:"aC",value:function aC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",t);}}]);return Gg;}(Cg);_defineProperty(Gg,"_shadowTemplate",qi(_templateObject460()));customElements.define("bx-wikimediabitmapslibrarysearchsettings",Gg);var Fg=function Fg(t,e,i){var s=new URL(t),n=new URLSearchParams(s.search);return null==i||""===i?n["delete"](e):n.set(e,i),s.search=n.toString(),s.href;},Ug=Math.abs,Ng=Object.entries,Vg=Symbol(),jg=20;var Hg=/*#__PURE__*/function(_HTMLElement125){_inherits(Hg,_HTMLElement125);var _super202=_createSuper(Hg);_createClass(Hg,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Hg(){var _this914;_classCallCheck(this,Hg);_this914=_super202.call(this),_this914.C_=!1,_this914.M_=!1,_this914.P_=!1,_this914.gv=0,_this914.D_=Qi(_this914.D_,600,_assertThisInitialized(_this914)),_this914.hC=new Dexie("bx-bitmapslibrarybrowser"),_this914.hC.version(1).stores({pixabayCache:"requestURL,time"}),_this914._shadowRoot=_this914.attachShadow({mode:"closed"}),_this914._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Hg._shadowStyleSheet],_this914._shadowRoot.append(document.importNode(Hg._shadowTemplate.content,!0));var _iterator1537=_createForOfIteratorHelper(_this914._shadowRoot.querySelectorAll("[id]")),_step1537;try{for(_iterator1537.s();!(_step1537=_iterator1537.n()).done;){var _t2286=_step1537.value;_this914["#"+_t2286.id]=_t2286;}}catch(err){_iterator1537.e(err);}finally{_iterator1537.f();}_this914["#provider-select"].addEventListener("change",function(){return _this914.O_();}),_this914["#main"].addEventListener("scroll",function(){return _this914.E_();}),_this914["#items"].addEventListener("pointerdown",function(t){return _this914.Qc(t);}),_this914["#items"].addEventListener("click",function(t){return _this914.Jc(t);}),_this914["#items"].addEventListener("contextmenu",function(t){return _this914.tp(t);}),_this914["#items"].addEventListener("keydown",function(t){return _this914.ep(t);}),_this914["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this914.A_();}),_this914["#search-input"].addEventListener("input",function(){return _this914.D_();});return _this914;}_createClass(Hg,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1538=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1538;try{for(_iterator1538.s();!(_step1538=_iterator1538.n()).done;){var _t2287=_step1538.value;_t2287.setAttribute("rel","noopener");}}catch(err){_iterator1538.e(err);}finally{_iterator1538.f();}}this["#main"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"rC",value:function rC(t){var _this915=this;return new Promise(/*#__PURE__*/function(){var _ref151=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee165(e){var i,s;return regeneratorRuntime.wrap(function _callee165$(_context166){while(1){switch(_context166.prev=_context166.next){case 0:_context166.next=2;return _this915.hC.pixabayCache.get(t);case 2:i=_context166.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context166.stop();}}},_callee165);}));return function(_x186){return _ref151.apply(this,arguments);};}());}},{key:"dC",value:function dC(t,e){this.hC.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"cC",value:function cC(){var _this916=this;return new Promise(/*#__PURE__*/function(){var _ref152=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee166(t){var e;return regeneratorRuntime.wrap(function _callee166$(_context167){while(1){switch(_context167.prev=_context167.next){case 0:_context167.next=2;return _this916.hC.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context167.sent;e>0&&console.log("Deleted ".concat(e," cached responses.")),t();case 4:case"end":return _context167.stop();}}},_callee166);}));return function(_x187){return _ref152.apply(this,arguments);};}());}},{key:"tn",value:function tn(){var _this917=this;window.addEventListener("resize",this.nn=function(){_this917.I_();}),this.Qs.addEventListener("configchange",this.ln=function(t){_this917.an(t);}),this.Js.primaryPanelsDock.addEventListener("resize",this.L_=function(){_this917.I_();}),!1===this.C_&&(this.C_=!0,this.cC(),this.B_(),this.R_(),this.G_()),!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ts(10).then(function(){return _this917["#main"].scrollTop=_this917.gv;}));}},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Js.primaryPanelsDock.removeEventListener("resize",this.L_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail19=t.detail,e=_t$detail19.key,i=_t$detail19.value,s=this["#provider-select"].value;"pexels"===s?e.startsWith("bx-pexelsbitmapslibrarysearchsettings")&&this.G_():"pixabay"===s?e.startsWith("bx-pixabaybitmapslibrarysearchsettings")&&this.G_():"unsplash"===s?e.startsWith("bx-unsplashbitmapslibrarysearchsettings")&&this.G_():"wikimedia"===s&&e.startsWith("bx-wikimediabitmapslibrarysearchsettings")&&this.G_();}},{key:"I_",value:function I_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.F_();}},{key:"O_",value:function O_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-bitmapslibrarybrowser:provider",this["#provider-select"].value),this.G_(),this.R_();}},{key:"E_",value:function E_(){this.gv=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.F_();}},{key:"Qc",value:function Qc(t){var _this918=this;if(t.target.matches(".item")){var _e1648=t.target;if("touch"!==t.pointerType&&this.U_(_e1648),0===t.button){var _i1531,_s888,_n651,_o514=new DOMPoint(t.clientX,t.clientY);_e1648.setPointerCapture(t.pointerId),_e1648.addEventListener("pointermove",_i1531=function _i1530(l){var a=new DOMPoint(l.clientX,l.clientY);ze(_o514,a)>=5&&(_e1648.removeEventListener("pointermove",_i1531),_e1648.removeEventListener("pointerup",_s888),_e1648.removeEventListener("pointercancel",_n651),_this918.Zw(_e1648,t));}),_e1648.addEventListener("pointerup",_s888=function _s887(t){_e1648.removeEventListener("pointermove",_i1531),_e1648.removeEventListener("pointerup",_s888),_e1648.removeEventListener("pointercancel",_n651);}),_e1648.addEventListener("pointercancel",_n651=function _n650(){_e1648.removeEventListener("pointermove",_i1531),_e1648.removeEventListener("pointerup",_s888),_e1648.removeEventListener("pointercancel",_n651);});}}}},{key:"Zw",value:function Zw(t,e){var _this919=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),a=l.getBoundingClientRect(),h=t[Vg],r=this.pC(l.src,a),d=this.uC(h);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+Ug(i)/150,n>3&&(n=3)),r.style.top=a.y+s+"px",r.style.left=a.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s889){function s(){return _s889.apply(this,arguments);}s.toString=function(){return _s889.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref153=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee167(e){var l,_t2288,_e1649,_i1532,_t2289,_yield$Zh3,_e1650,_i1533,_s890;return regeneratorRuntime.wrap(function _callee167$(_context168){while(1){switch(_context168.prev=_context168.next){case 0:t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null;l="<desc>Author: ".concat(h.user.profileURL,"\nLicense: ").concat(h.license.url,"\n</desc>");if(!o.isPointOverBoard(e.clientX,e.clientY)){_context168.next=21;break;}_t2288=r.getBoundingClientRect();_context168.next=6;return d;case 6:_e1649=_context168.sent;if(!(null===_e1649)){_context168.next=14;break;}r.remove();_context168.next=11;return ts(100);case 11:_this919.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context168.next=19;break;case 14:o.undoManager.checkpoint("Add bitmap from library");_context168.next=17;return o.insertBitmapIntoBBox(_e1649,_t2288);case 17:_i1532=_context168.sent;_i1532.innerHTML=l,o.selectedElements=[_i1532],o.selectedTextRange=null,r.remove();case 19:_context168.next=36;break;case 21:if(!_this919.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context168.next=35;break;}r.remove();_context168.next=25;return d;case 25:_t2289=_context168.sent;_context168.next=28;return Zh(_t2289);case 28:_yield$Zh3=_context168.sent;_e1650=_yield$Zh3.width;_i1533=_yield$Zh3.height;_s890="\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_e1650," ").concat(_i1533,"\">\n            <image href=\"").concat(_t2289,"\">").concat(l,"</image>\n          </svg>\n        ");_this919.Qs.openEditorTabWithArtworkFromLibrary(_s890);_context168.next=36;break;case 35:r.remove();case 36:case"end":return _context168.stop();}}},_callee167);}));return function n(_x188){return _ref153.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.U_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee168(t){var e;return regeneratorRuntime.wrap(function _callee168$(_context169){while(1){switch(_context169.prev=_context169.next){case 0:e=t.target.closest(".item");_context169.t0=e;if(!_context169.t0){_context169.next=8;break;}t.preventDefault();this.U_(e);_context169.next=7;return ts(150);case 7:this.nv(e);case 8:case"end":return _context169.stop();}}},_callee168,this);}));function tp(_x189){return _tp11.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=so.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s891=i.getBoundingClientRect();if(e.matches("Enter"))this.nv(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s891.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.U_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s891.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.U_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1651=i.nextElementSibling;_e1651;_e1651=_e1651.nextElementSibling){if(_s891.left===_e1651.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.U_(_e1651);break;}}}else if(e.matches("ArrowUp"))for(var _e1652=i.previousElementSibling;_e1652;_e1652=_e1652.previousElementSibling){if(_s891.left===_e1652.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.U_(_e1652);break;}}}}},{key:"A_",value:function(){var _A_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee169(){var t,e,i,s,n,o,l,_yield$Promise$all,_yield$Promise$all2,a,_t2290;return regeneratorRuntime.wrap(function _callee169$(_context170){while(1){switch(_context170.prev=_context170.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[Vg],i=this.Js.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#meta-popover"].close();o=this.pC(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context170.next=7;return Promise.all([this.uC(e),l.finished]);case 7:_yield$Promise$all=_context170.sent;_yield$Promise$all2=_slicedToArray(_yield$Promise$all,1);a=_yield$Promise$all2[0];if(!(null===a)){_context170.next=14;break;}this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();_context170.next=19;break;case 14:this.Js.board.undoManager.checkpoint("Add bitmap from library");_context170.next=17;return this.Js.board.insertBitmapIntoBBox(a,n);case 17:_t2290=_context170.sent;_t2290.innerHTML="<desc>Author: ".concat(e.user.profileURL,"\nLicense: ").concat(e.license.url,"\n</desc>"),this.Js.board.selectedElements=[_t2290],this.Js.board.selectedTextRange=null,o.remove();case 19:case"end":return _context170.stop();}}},_callee169,this);}));function A_(){return _A_3.apply(this,arguments);}return A_;}()},{key:"D_",value:function D_(){this.G_();}},{key:"U_",value:function U_(t){{var _e1653=this["#items"].querySelector(":scope > .item[data-selected]");_e1653!==t&&(_e1653&&_e1653.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.H_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"av",value:function av(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight;if(i>110){var _t2291=i/s;i=110,s=i/_t2291;}if(s>90){var _t2292=i/s;s=90,i=s*_t2292;}var n=qi(_templateObject77(),i,s,o);return n[Vg]=t,"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee170(){var t,_e1654,_i1534;return regeneratorRuntime.wrap(function _callee170$(_context171){while(1){switch(_context171.prev=_context171.next){case 0:_context171.prev=0;_context171.next=3;return fetch(e,{mode:"cors"});case 3:t=_context171.sent;_context171.next=14;break;case 6:_context171.prev=6;_context171.t0=_context171["catch"](0);console.log("Retrying",_context171.t0);_context171.next=11;return ts(2e3);case 11:_context171.next=13;return fetch(e,{mode:"cors"});case 13:t=_context171.sent;case 14:if(!t){_context171.next=22;break;}_context171.next=17;return t.blob();case 17:_e1654=_context171.sent;_context171.next=20;return jh(_e1654);case 20:_i1534=_context171.sent;n.querySelector("img").setAttribute("src",_i1534);case 22:case"end":return _context171.stop();}}},_callee170,null,[[0,6]]);}))():n.querySelector("img").setAttribute("src",e),n;}},{key:"pC",value:function pC(t,e){var i=qi(_templateObject78());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"uC",value:function uC(t){var _this920=this;return new Promise(/*#__PURE__*/function(){var _ref155=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee171(e,i){var s,n,_e1655,_t2293;return regeneratorRuntime.wrap(function _callee171$(_context172){while(1){switch(_context172.prev=_context172.next){case 0:s=null,n="640";"pexels"===_this920["#provider-select"].value?n=_this920.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:quality","640"):"pixabay"===_this920["#provider-select"].value?n=_this920.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:quality","640"):"unsplash"===_this920["#provider-select"].value&&(n=_this920.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:quality","640"));_context172.prev=2;_context172.next=5;return fetch(t.sources[n],{mode:"cors"});case 5:_e1655=_context172.sent;if(!_e1655.ok){_context172.next=13;break;}_context172.next=9;return _e1655.blob();case 9:_t2293=_context172.sent;_context172.next=12;return jh(_t2293);case 12:s=_context172.sent;case 13:_context172.next=18;break;case 15:_context172.prev=15;_context172.t0=_context172["catch"](2);console.log(_context172.t0);case 18:"unsplash"===t.provider&&_this920.Qs.callCloudFunction("sendUnsplashApiRequest",t.downloadURL),e(s);case 19:case"end":return _context172.stop();}}},_callee171,null,[[2,15]]);}));return function(_x190,_x191){return _ref155.apply(this,arguments);};}());}},{key:"xC",value:function xC(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref156=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee172(s,n){var o,l,a,h,r,_t2294,_iterator1539,_step1539,_e1656,_i1535,_s892;return regeneratorRuntime.wrap(function _callee172$(_context173){while(1){switch(_context173.prev=_context173.next){case 0:""===t&&(t="hd");o=e?e.page+1:1,l={page:o,per_page:jg,query:encodeURIComponent(t)};"all"!==i&&(l.orientation="vertical"===i?"portrait":"landscape");a="https://api.pexels.com/v1/search?"+Ng(l).map(function(_ref157){var _ref158=_slicedToArray(_ref157,2),t=_ref158[0],e=_ref158[1];return"".concat(t,"=").concat(e);}).join("&"),h=null,r=null;_context173.prev=4;_context173.next=7;return fetch(a,{mode:"cors",headers:{Authorization:"563492ad6f91700001000001d2beff8a762546b38a9f11038c06e118"}});case 7:h=_context173.sent;_context173.next=10;return h.json();case 10:h=_context173.sent;_context173.next=16;break;case 13:_context173.prev=13;_context173.t0=_context173["catch"](4);h=null,r=_context173.t0;case 16:if(r)n(r);else{_t2294=[];_iterator1539=_createForOfIteratorHelper(h.photos);try{for(_iterator1539.s();!(_step1539=_iterator1539.n()).done;){_e1656=_step1539.value;_i1535=_e1656.width>=_e1656.height?"w":"h",_s892=_e1656.width>=_e1656.height?_e1656.width/_e1656.height:_e1656.height/_e1656.width;_t2294.push({page:o,pageURL:_e1656.url,previewURL:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=110"),previewWidth:"h"===_i1535?110:Math.floor(110*_s892),previewHeight:"w"===_i1535?110:Math.floor(110*_s892),provider:"pexels",license:{displayName:"Pexels license",url:"https://www.pexels.com/license/"},user:{label:"Uploader",displayName:_e1656.photographer,profileURL:_e1656.photographer_url},sources:{180:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=180"),340:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=340"),640:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=640"),960:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=960"),1280:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=1280"),1920:"".concat(_e1656.src.original,"?auto=compress&cs=tinysrgb&").concat(_i1535,"=1920")}});}}catch(err){_iterator1539.e(err);}finally{_iterator1539.f();}s(_t2294);}case 17:case"end":return _context173.stop();}}},_callee172,null,[[4,13]]);}));return function(_x192,_x193){return _ref156.apply(this,arguments);};}());}},{key:"bC",value:function bC(t,e,i,s,n,o,l){var _this921=this;return new Promise(/*#__PURE__*/function(){var _ref159=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee173(a,h){var r,d,c,p,u,x,_t2295,_iterator1540,_step1540,_e1657;return regeneratorRuntime.wrap(function _callee173$(_context174){while(1){switch(_context174.prev=_context174.next){case 0:r=e?e.page+1:1,d={q:encodeURIComponent(t),response_group:"high_resolution",per_page:jg,page:r,editors_choice:""===t||n,order:o,orientation:i,image_type:"photo",safesearch:l,key:"7905818-d06eb7dad844f6efdf1932a90"};"all"!==s&&(d.category=s);c="https://pixabay.com/api/?"+Ng(d).map(function(_ref160){var _ref161=_slicedToArray(_ref160,2),t=_ref161[0],e=_ref161[1];return"".concat(t,"=").concat(e);}).join("&");_context174.next=5;return _this921.rC(c);case 5:p=_context174.sent;u=null;x=null;if(!p){_context174.next=12;break;}u=p;_context174.next=25;break;case 12:_context174.prev=12;_context174.next=15;return fetch(c,{mode:"cors"});case 15:u=_context174.sent;_context174.next=18;return u.json();case 18:u=_context174.sent;_context174.next=24;break;case 21:_context174.prev=21;_context174.t0=_context174["catch"](12);u=null,x=_context174.t0;case 24:x||_this921.dC(c,u);case 25:if(x)h(x);else{_t2295=[];_iterator1540=_createForOfIteratorHelper(u.hits);try{for(_iterator1540.s();!(_step1540=_iterator1540.n()).done;){_e1657=_step1540.value;_t2295.push({page:r,pageURL:_e1657.pageURL,previewURL:_e1657.previewURL,previewWidth:_e1657.previewWidth,previewHeight:_e1657.previewHeight,provider:"pixabay",license:{displayName:"Pixabay License",url:"https://pixabay.com/service/terms/#license"},user:{label:"Uploader",displayName:_e1657.user,profileURL:"https://pixabay.com/users/".concat(_e1657.user,"-").concat(_e1657.user_id)},sources:{180:_e1657.webformatURL.replace("_640","_180"),340:_e1657.webformatURL.replace("_640","_340"),640:_e1657.webformatURL,960:_e1657.webformatURL.replace("_640","_960"),1280:_e1657.largeImageURL,1920:_e1657.fullHDURL}});}}catch(err){_iterator1540.e(err);}finally{_iterator1540.f();}a(_t2295);}case 26:case"end":return _context174.stop();}}},_callee173,null,[[12,21]]);}));return function(_x194,_x195){return _ref159.apply(this,arguments);};}());}},{key:"mC",value:function mC(t,e,i,s){var _this922=this;return new Promise(/*#__PURE__*/function(){var _ref162=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee174(n,o){var l,a,h,r,d,_t2296,_iterator1541,_step1541,_e1658,_i1536,_s893,_n652;return regeneratorRuntime.wrap(function _callee174$(_context175){while(1){switch(_context175.prev=_context175.next){case 0:""===t&&(t="hd");l=e?e.page+1:1,a={query:encodeURIComponent(t),page:l,per_page:jg,order_by:"relevant",content_filter:s?"high":"low"};"all"!==i&&(a.orientation="vertical"===i?"portrait":"landscape");h="https://api.unsplash.com/search/photos?"+Ng(a).map(function(_ref163){var _ref164=_slicedToArray(_ref163,2),t=_ref164[0],e=_ref164[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context175.prev=4;_context175.next=7;return _this922.Qs.callCloudFunction("sendUnsplashApiRequest",h);case 7:r=_context175.sent;r=r.data;_context175.next=14;break;case 11:_context175.prev=11;_context175.t0=_context175["catch"](4);r=null,d=_context175.t0;case 14:if(d)o(d);else{_t2296=[];_iterator1541=_createForOfIteratorHelper(r.results);try{for(_iterator1541.s();!(_step1541=_iterator1541.n()).done;){_e1658=_step1541.value;_i1536=_e1658.width>=_e1658.height?"w":"h",_s893=_e1658.width>=_e1658.height?_e1658.width/_e1658.height:_e1658.height/_e1658.width,_n652=new URL(_e1658.urls.regular);_n652.searchParams["delete"]("w"),_n652.searchParams["delete"]("h"),_t2296.push({page:l,pageURL:_e1658.links.html+"?utm_source=Boxy+SVG&utm_medium=referral",previewURL:Fg(_n652.href,_i1536,"110"),previewWidth:"h"===_i1536?110:Math.floor(110*_s893),previewHeight:"w"===_i1536?110:Math.floor(110*_s893),provider:"unsplash",license:{displayName:"Unsplash License",url:"https://unsplash.com/license"},downloadURL:_e1658.links.download_location,user:{label:"Uploader",displayName:_e1658.user.name,profileURL:_e1658.user.links.html+"?utm_source=Boxy+SVG&utm_medium=referral"},sources:{180:Fg(_n652.href,_i1536,"180"),340:Fg(_n652.href,_i1536,"340"),640:Fg(_n652.href,_i1536,"640"),960:Fg(_n652.href,_i1536,"960"),1280:Fg(_n652.href,_i1536,"1280"),1920:Fg(_n652.href,_i1536,"1920")}});}}catch(err){_iterator1541.e(err);}finally{_iterator1541.f();}n(_t2296);}case 15:case"end":return _context175.stop();}}},_callee174,null,[[4,11]]);}));return function(_x196,_x197){return _ref162.apply(this,arguments);};}());}},{key:"gC",value:function gC(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref165=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee175(s,n){var o,l,a,h,r,d,_t2297,_i1537,_Object$values,_e1659,_i1538;return regeneratorRuntime.wrap(function _callee175$(_context176){while(1){switch(_context176.prev=_context176.next){case 0:o="";o=""===t?'deepcat:"Featured pictures on Wikimedia Commons" filetype:bitmap':!0===i?"".concat(t," deepcat:\"Featured pictures on Wikimedia Commons\" filetype:bitmap"):"".concat(t," filetype:bitmap");l=e?e.page+1:0,a={generator:"search",gsrnamespace:"6",gsrsearch:encodeURIComponent(o),gsroffset:l*jg,gsrlimit:jg,action:"query",prop:"imageinfo",iiurlwidth:110,iiprop:"url|size|user|userid|mime|extmetadata",iiextmetadatafilter:"LicenceShortName|UsageTerms|LicenseUrl|AttributionRequired",extmetadata:1,gimlimit:jg,format:"json",origin:"*"},h="https://commons.wikimedia.org/w/api.php?"+Ng(a).map(function(_ref166){var _ref167=_slicedToArray(_ref166,2),t=_ref167[0],e=_ref167[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context176.prev=3;_context176.next=6;return fetch(h);case 6:r=_context176.sent;_context176.next=9;return r.json();case 9:r=_context176.sent;_context176.next=15;break;case 12:_context176.prev=12;_context176.t0=_context176["catch"](3);r=null,d=_context176.t0;case 15:if(d)n(d);else if(r.error)n({message:r.error.info,code:r.error.code});else{_t2297=[];if(r.query)for(_i1537=0,_Object$values=Object.values(r.query.pages);_i1537<_Object$values.length;_i1537++){_e1659=_Object$values[_i1537];if(_e1659.imageinfo){_i1538=_e1659.imageinfo[0];["image/png","image/jpeg","image/webp"].includes(_i1538.mime)&&_t2297.push({page:l,pageURL:_i1538.descriptionurl,previewURL:_i1538.thumburl,previewWidth:_i1538.thumbwidth,previewHeight:_i1538.thumbheight,provider:"wikimedia",license:{displayName:_i1538.extmetadata.UsageTerms?_i1538.extmetadata.UsageTerms.value:"Wikimedia License",url:_i1538.extmetadata.LicenseUrl?_i1538.extmetadata.LicenseUrl.value:_i1538.descriptionurl+"#Licensing"},user:{label:"Uploader",displayName:_i1538.user,profileURL:"https://commons.wikimedia.org/wiki/User:"+_i1538.user},sources:{180:_i1538.url,340:_i1538.url,640:_i1538.url,960:_i1538.url,1280:_i1538.url,1920:_i1538.url}});}}s(_t2297);}case 16:case"end":return _context176.stop();}}},_callee175,null,[[3,12]]);}));return function(_x198,_x199){return _ref165.apply(this,arguments);};}());}},{key:"G_",value:function(){var _G_3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee176(){var _t2298;return regeneratorRuntime.wrap(function _callee176$(_context177){while(1){switch(_context177.prev=_context177.next){case 0:this.M_=!1,this.P_=!0,this.gv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2298=0;case 2:if(!(_t2298<50&&!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context177.next=15;break;}_context177.prev=3;_context177.next=6;return this.F_();case 6:_context177.next=12;break;case 8:_context177.prev=8;_context177.t0=_context177["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context177.t0.message);return _context177.abrupt("break",15);case 12:_t2298+=1;_context177.next=2;break;case 15:case"end":return _context177.stop();}}},_callee176,this,[[3,8]]);}));function G_(){return _G_3.apply(this,arguments);}return G_;}()},{key:"F_",value:function F_(){var _this923=this;return new Promise(/*#__PURE__*/function(){var _ref168=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee177(t,e){var i,s,n,o,_t2299,_t2300,_e1660,_s894,_l385,_a281,_t2301,_e1661,_t2302,_t2303,_iterator1542,_step1542,_e1662,_i1539;return regeneratorRuntime.wrap(function _callee177$(_context178){while(1){switch(_context178.prev=_context178.next){case 0:_this923.M_=!0;i=null,s=null,n=_this923["#search-input"].value.trim(),o=_this923["#items"].lastElementChild?_this923["#items"].lastElementChild[Vg]:null;_context178.prev=2;if(!("pexels"===_this923["#provider-select"].value)){_context178.next=10;break;}_t2299=_this923.Qs.getConfig("bx-pexelsbitmapslibrarysearchsettings:orientation","all");_context178.next=7;return _this923.xC(n,o,_t2299);case 7:i=_context178.sent;_context178.next=29;break;case 10:if(!("pixabay"===_this923["#provider-select"].value)){_context178.next=17;break;}_t2300=_this923.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:sort","popular"),_e1660=_this923.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:orientation","all"),_s894=_this923.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:category","all"),_l385=_this923.Qs.getConfig("bx-pixabaybitmapslibrarysearchsettings:editorsChoice",!1),_a281="bx-macapp"===_this923.Qs.localName;_context178.next=14;return _this923.bC(n,o,_e1660,_s894,_l385,_t2300,_a281);case 14:i=_context178.sent;_context178.next=29;break;case 17:if(!("unsplash"===_this923["#provider-select"].value)){_context178.next=24;break;}_t2301=_this923.Qs.getConfig("bx-unsplashbitmapslibrarysearchsettings:orientation","all"),_e1661="bx-macapp"===_this923.Qs.localName;_context178.next=21;return _this923.mC(n,o,_t2301,_e1661);case 21:i=_context178.sent;_context178.next=29;break;case 24:if(!("wikimedia"===_this923["#provider-select"].value)){_context178.next=29;break;}_t2302=_this923.Qs.getConfig("bx-wikimediabitmapslibrarysearchsettings:editorsChoice",!1);_context178.next=28;return _this923.gC(n,o,_t2302);case 28:i=_context178.sent;case 29:_context178.next=34;break;case 31:_context178.prev=31;_context178.t0=_context178["catch"](2);s=_context178.t0;case 34:if(s)_this923["#throbber"].hidden=!0,_this923.M_=!1,e(s);else{if(i.length>0){_t2303=document.createDocumentFragment();_iterator1542=_createForOfIteratorHelper(i);try{for(_iterator1542.s();!(_step1542=_iterator1542.n()).done;){_e1662=_step1542.value;_i1539=_this923.av(_e1662);_t2303.append(_i1539);}}catch(err){_iterator1542.e(err);}finally{_iterator1542.f();}_this923["#items"].append(_t2303),_this923["#throbber"].hidden=!0;}else _this923.P_=!1,_this923["#throbber"].hidden=!0,0===_this923["#items"].childElementCount&&(_this923["#placeholder"].hidden=!1,_this923["#placeholder"].textContent="No bitmaps found");_this923.M_=!1,t();}case 35:case"end":return _context178.stop();}}},_callee177,null,[[2,31]]);}));return function(_x200,_x201){return _ref168.apply(this,arguments);};}());}},{key:"B_",value:function B_(){var t=this.Qs.getConfig("bx-bitmapslibrarybrowser:provider","pixabay");this["#unsplash-menu-item"].hidden="bx-webapp"!==this.Qs.localName,this["#provider-select"].value=t;}},{key:"H_",value:function H_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1663=t[Vg];if(_e1663.user){var _e1663$user=_e1663.user,_t2304=_e1663$user.label,_i1540=_e1663$user.profileURL,_s895=_e1663$user.displayName;this["#meta-user-label"].textContent=_t2304,this["#meta-user-value"].innerHTML="<a href=\"".concat(_i1540,"\" target=\"_blank\">").concat(_s895,"</a>");}_e1663.license?(this["#meta-license"].hidden=!1,this["#meta-license-anchor"].textContent=_e1663.license.displayName,this["#meta-license-anchor"].href=_e1663.license.url):this["#meta-license"].hidden=!0,this["#meta-provider-anchor"].href=_e1663.pageURL,"pexels"===_e1663.provider?this["#meta-provider-label"].textContent="View on Pexels":"pixabay"===_e1663.provider?this["#meta-provider-label"].textContent="View on Pixabay":"unsplash"===_e1663.provider?this["#meta-provider-label"].textContent="View on Unsplash":"wikimedia"===_e1663.provider&&(this["#meta-provider-label"].textContent="View on Wikimedia");}}},{key:"R_",value:function R_(){var t=this["#provider-select"].value;"pexels"===t?this["#settings-popover"].innerHTML="<bx-pexelsbitmapslibrarysearchsettings/>":"pixabay"===t?this["#settings-popover"].innerHTML="<bx-pixabaybitmapslibrarysearchsettings/>":"unsplash"===t?this["#settings-popover"].innerHTML="<bx-unsplashbitmapslibrarysearchsettings/>":"wikimedia"===t&&(this["#settings-popover"].innerHTML="<bx-wikimediabitmapslibrarysearchsettings/>");}}]);return Hg;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hg,"observedAttributes",["enabled"]);_defineProperty(Hg,"_shadowTemplate",qi(_templateObject461()));_defineProperty(Hg,"_shadowStyleSheet",Xi(_templateObject462()));customElements.define("bx-bitmapslibrarybrowser",Hg);var Yg=/*#__PURE__*/function(_Cg6){_inherits(Yg,_Cg6);var _super203=_createSuper(Yg);function Yg(){var _this924;_classCallCheck(this,Yg);_this924=_super203.call(this),_this924["#scope-buttons"].addEventListener("toggle",function(){return _this924.fC();});return _this924;}_createClass(Yg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Yg.prototype),"connectedCallback",this).call(this),this["#scope-buttons"].value=this.Qs.getConfig("bx-cloudvectorslibrarysearchsettings:scope","org");}},{key:"fC",value:function fC(){this.Qs.setConfig("bx-cloudvectorslibrarysearchsettings:scope",this["#scope-buttons"].value);}}]);return Yg;}(Cg);_defineProperty(Yg,"_shadowTemplate",qi(_templateObject463()));_defineProperty(Yg,"_shadowStyleSheet",Xi(_templateObject464()));customElements.define("bx-cloudvectorslibrarysearchsettings",Yg);var Wg=/*#__PURE__*/function(_Cg7){_inherits(Wg,_Cg7);var _super204=_createSuper(Wg);function Wg(){var _this925;_classCallCheck(this,Wg);_this925=_super204.call(this),_this925["#sort-buttons"].addEventListener("toggle",function(){return _this925.lC();}),_this925["#orientation-select"].addEventListener("change",function(){return _this925.oC();}),_this925["#category-select"].addEventListener("change",function(){return _this925.Z_();}),_this925["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this925.aC();});return _this925;}_createClass(Wg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Wg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:sort","popular"),e=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:orientation","all"),i=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:category","all"),s=this.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",!1);this["#sort-buttons"].value=t,this["#orientation-select"].value=e,this["#category-select"].value=i,this["#editors-choice-checkbox"].toggled=s;}},{key:"lC",value:function lC(){var t=this["#sort-buttons"].value;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:sort",t);}},{key:"oC",value:function oC(){var t=this["#orientation-select"].value;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:orientation",t);}},{key:"Z_",value:function Z_(){var t=this["#category-select"].value;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:category",t);}},{key:"aC",value:function aC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",t);}}]);return Wg;}(Cg);_defineProperty(Wg,"_shadowTemplate",qi(_templateObject465()));_defineProperty(Wg,"_shadowStyleSheet",Xi(_templateObject466()));customElements.define("bx-pixabayvectorslibrarysearchsettings",Wg);var qg=/*#__PURE__*/function(_Cg8){_inherits(qg,_Cg8);var _super205=_createSuper(qg);function qg(){var _this926;_classCallCheck(this,qg);_this926=_super205.call(this),_this926["#editors-choice-checkbox"].addEventListener("toggle",function(){return _this926.aC();});return _this926;}_createClass(qg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(qg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",!1);this["#editors-choice-checkbox"].toggled=t;}},{key:"aC",value:function aC(){var t=this["#editors-choice-checkbox"].toggled;this.Qs.setConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",t);}}]);return qg;}(Cg);_defineProperty(qg,"_shadowTemplate",qi(_templateObject467()));customElements.define("bx-wikimediavectorslibrarysearchsettings",qg);var Xg=/*#__PURE__*/function(_Cg9){_inherits(Xg,_Cg9);var _super206=_createSuper(Xg);function Xg(){var _this927;_classCallCheck(this,Xg);_this927=_super206.call(this),_this927["#variant-select"].addEventListener("change",function(){return _this927.wC();});return _this927;}_createClass(Xg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Xg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-fluenticonsvectorslibrarysearchsettings:variant","regular");this["#variant-select"].value=t;}},{key:"wC",value:function wC(){var t=this["#variant-select"].value;this.Qs.setConfig("bx-fluenticonsvectorslibrarysearchsettings:variant",t);}}]);return Xg;}(Cg);_defineProperty(Xg,"_shadowTemplate",qi(_templateObject468()));_defineProperty(Xg,"_shadowStyleSheet",Xi(_templateObject469()));customElements.define("bx-fluenticonsvectorslibrarysearchsettings",Xg);var Zg=/*#__PURE__*/function(_Cg10){_inherits(Zg,_Cg10);var _super207=_createSuper(Zg);function Zg(){var _this928;_classCallCheck(this,Zg);_this928=_super207.call(this),_this928["#variant-select"].addEventListener("change",function(){return _this928.wC();}),_this928["#category-select"].addEventListener("change",function(){return _this928.Z_();});return _this928;}_createClass(Zg,[{key:"connectedCallback",value:function connectedCallback(){_get(_getPrototypeOf(Zg.prototype),"connectedCallback",this).call(this);var t=this.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:variant","filled"),e=this.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:category","all");this["#variant-select"].value=t,this["#category-select"].value=e;}},{key:"wC",value:function wC(){this.Qs.setConfig("bx-materialiconsvectorslibrarysearchsettings:variant",this["#variant-select"].value);}},{key:"Z_",value:function Z_(){this.Qs.setConfig("bx-materialiconsvectorslibrarysearchsettings:category",this["#category-select"].value);}}]);return Zg;}(Cg);_defineProperty(Zg,"_shadowTemplate",qi(_templateObject470()));_defineProperty(Zg,"_shadowStyleSheet",Xi(_templateObject471()));customElements.define("bx-materialiconsvectorslibrarysearchsettings",Zg);var Kg=function Kg(t){var e="",i="string"==typeof t.detail?"".concat(t.code," / ").concat(t.detail):"".concat(t.code);return e=t.message&&t.message.toLowerCase()!==t.code?"".concat(t.message," (").concat(i,")"):"Server error, please try again later. (".concat(i,")"),e;},Qg=function Qg(t){return t.startsWith("/")&&(t=t.substring(1)),"https://firebasestorage.googleapis.com/v0/b/boxy-svg.appspot.com/o/".concat(encodeURIComponent(t),"?alt=media");},Jg=function Jg(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var s=0;e>=100?s=.3:e>=30?s=.2:e>=10&&(s=.1);var n=K((t===i?99.99:9.99)*(1-s),2);return[new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",currencyDisplay:"code"}).format(e*n).replace("USD\xa0",""),0===s?"None":100*s+"%"];},tf=function tf(t,i){var s=null,n=!1,o=!1;return t&&(void 0!==t.subscriptionPlanID&&(null===t.cancellationEffectiveDate||new Date(t.cancellationEffectiveDate)-Date.now()>0)&&(s=t.subscriptionPlanID),void 0!==t.subscriptionPlanID&&"deleted"!==t.status||void 0!==t.orgPlanID&&(null===t.orgCancellationEffectiveDate||new Date(t.orgCancellationEffectiveDate)-Date.now()>0)&&(s=t.orgPlanID,n=!0)),null===s&&i&&(Date.now()-new Date(i.metadata.creationTime).getTime())/1e3/60/60/24<15&&(s=e,o=!0),[s,n,o];},ef=Math.abs,sf=Object.entries,nf=Symbol(),of=20;var lf=/*#__PURE__*/function(_HTMLElement126){_inherits(lf,_HTMLElement126);var _super208=_createSuper(lf);_createClass(lf,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function lf(){var _this929;_classCallCheck(this,lf);_this929=_super208.call(this),_this929.C_=!1,_this929.M_=!1,_this929.P_=!1,_this929.gv=0,_this929.D_=Qi(_this929.D_,600,_assertThisInitialized(_this929)),_this929.z_={},_this929.hC=new Dexie("bx-vectorslibrarybrowser"),_this929.hC.version(1).stores({pixabayCache:"requestURL,time"}),_this929._shadowRoot=_this929.attachShadow({mode:"closed"}),_this929._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,lf._shadowStyleSheet],_this929._shadowRoot.append(document.importNode(lf._shadowTemplate.content,!0));var _iterator1543=_createForOfIteratorHelper(_this929._shadowRoot.querySelectorAll("[id]")),_step1543;try{for(_iterator1543.s();!(_step1543=_iterator1543.n()).done;){var _t2305=_step1543.value;_this929["#"+_t2305.id]=_t2305;}}catch(err){_iterator1543.e(err);}finally{_iterator1543.f();}_this929["#provider-select"].addEventListener("change",function(){return _this929.O_();}),_this929["#main"].addEventListener("scroll",function(){return _this929.E_();}),_this929["#items"].addEventListener("pointerdown",function(t){return _this929.Qc(t);}),_this929["#items"].addEventListener("click",function(t){return _this929.Jc(t);}),_this929["#items"].addEventListener("contextmenu",function(t){return _this929.tp(t);}),_this929["#items"].addEventListener("keydown",function(t){return _this929.ep(t);}),_this929["#meta-add-to-defs-button"].addEventListener("click",function(){return _this929.T_();}),_this929["#meta-add-to-canvas-button"].addEventListener("click",function(){return _this929.A_();}),_this929["#search-input"].addEventListener("input",function(){return _this929.D_();});return _this929;}_createClass(lf,[{key:"connectedCallback",value:function connectedCallback(){if(this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),"bx-chromeapp"!==this.Qs.localName){var _iterator1544=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[target="_blank"]')),_step1544;try{for(_iterator1544.s();!(_step1544=_iterator1544.n()).done;){var _t2306=_step1544.value;_t2306.setAttribute("rel","noopener");}}catch(err){_iterator1544.e(err);}finally{_iterator1544.f();}}this["#main"].scrollTop=this.gv;}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"rC",value:function rC(t){var _this930=this;return new Promise(/*#__PURE__*/function(){var _ref169=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee178(e){var i,s;return regeneratorRuntime.wrap(function _callee178$(_context179){while(1){switch(_context179.prev=_context179.next){case 0:_context179.next=2;return _this930.hC.pixabayCache.get(t);case 2:i=_context179.sent;s=null;i&&(s=i.response),e(s);case 5:case"end":return _context179.stop();}}},_callee178);}));return function(_x202){return _ref169.apply(this,arguments);};}());}},{key:"dC",value:function dC(t,e){this.hC.pixabayCache.put({requestURL:t,response:e,time:Date.now()});}},{key:"cC",value:function cC(){var _this931=this;return new Promise(/*#__PURE__*/function(){var _ref170=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee179(t){var e;return regeneratorRuntime.wrap(function _callee179$(_context180){while(1){switch(_context180.prev=_context180.next){case 0:_context180.next=2;return _this931.hC.pixabayCache.where("time").below(Date.now()-36e5)["delete"]();case 2:e=_context180.sent;e>0&&console.log("Deleted ".concat(e," cached responses.")),t();case 4:case"end":return _context180.stop();}}},_callee179);}));return function(_x203){return _ref170.apply(this,arguments);};}());}},{key:"tn",value:function(){var _tn3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee180(){var _this932=this;return regeneratorRuntime.wrap(function _callee180$(_context181){while(1){switch(_context181.prev=_context181.next){case 0:window.addEventListener("resize",this.nn=function(){_this932.I_();});this.Qs.addEventListener("configchange",this.ln=function(t){_this932.an(t);});this.Qs.addEventListener("userchange",this.vC=function(){_this932.yC();});this.Js.primaryPanelsDock.addEventListener("resize",this.L_=function(){_this932.I_();});_context181.t0=!1===this.C_;if(!_context181.t0){_context181.next=12;break;}this.C_=!0;this.cC();_context181.next=10;return this.B_();case 10:this.R_();this.G_();case 12:!1===this["#items"].isConnected&&(this["#main"].prepend(this["#items"]),ts(10).then(function(){return _this932["#main"].scrollTop=_this932.gv;}));case 13:case"end":return _context181.stop();}}},_callee180,this);}));function tn(){return _tn3.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){window.removeEventListener("resize",this.nn),this.Qs.removeEventListener("configchange",this.ln),this.Qs.removeEventListener("userchange",this.vC),this.Js.primaryPanelsDock.removeEventListener("resize",this.L_),this["#items"].remove(),this["#meta-popover"].opened&&this["#meta-popover"].close(!1);}},{key:"an",value:function an(t){var _t$detail20=t.detail,e=_t$detail20.key,i=_t$detail20.value,s=this["#provider-select"].value;"cloud"===s?e.startsWith("bx-cloudvectorslibrarysearchsettings")&&this.G_():"pixabay"===s?e.startsWith("bx-pixabayvectorslibrarysearchsettings")&&this.G_():"wikimedia"===s?e.startsWith("bx-wikimediavectorslibrarysearchsettings")&&this.G_():"fluent-icons"===s?e.startsWith("bx-fluenticonsvectorslibrarysearchsettings")&&this.G_():"material-icons"===s&&e.startsWith("bx-materialiconsvectorslibrarysearchsettings")&&this.G_();}},{key:"yC",value:function(){var _yC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee181(){return regeneratorRuntime.wrap(function _callee181$(_context182){while(1){switch(_context182.prev=_context182.next){case 0:_context182.next=2;return this.B_();case 2:this.R_();this.G_();case 4:case"end":return _context182.stop();}}},_callee181,this);}));function yC(){return _yC.apply(this,arguments);}return yC;}()},{key:"I_",value:function I_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500&&this.F_();}},{key:"O_",value:function O_(){this["#meta-popover"].opened&&this["#meta-popover"].close(),this.Qs.setConfig("bx-vectorslibrarybrowser:provider",this["#provider-select"].value),this.kC=null,this.G_(),this.R_();}},{key:"E_",value:function E_(){this.gv=this["#main"].scrollTop,this["#meta-popover"].opened&&this["#meta-popover"].close(),!1===this.M_&&!0===this.P_&&this["#main"].scrollTop+this["#main"].clientHeight>=this["#items"].clientHeight-500&&this.F_();}},{key:"Qc",value:function Qc(t){var _this933=this;if(t.target.matches(".item")){var _e1664=t.target;if("touch"!==t.pointerType&&this.U_(_e1664),0===t.button){var _i1542,_s897,_n654,_o515=new DOMPoint(t.clientX,t.clientY);_e1664.setPointerCapture(t.pointerId),_e1664.addEventListener("pointermove",_i1542=function _i1541(l){var a=new DOMPoint(l.clientX,l.clientY);ze(_o515,a)>=5&&(_e1664.removeEventListener("pointermove",_i1542),_e1664.removeEventListener("pointerup",_s897),_e1664.removeEventListener("pointercancel",_n654),_this933.Zw(_e1664,t));}),_e1664.addEventListener("pointerup",_s897=function _s896(t){_e1664.removeEventListener("pointermove",_i1542),_e1664.removeEventListener("pointerup",_s897),_e1664.removeEventListener("pointercancel",_n654);}),_e1664.addEventListener("pointercancel",_n654=function _n653(){_e1664.removeEventListener("pointermove",_i1542),_e1664.removeEventListener("pointerup",_s897),_e1664.removeEventListener("pointercancel",_n654);});}}}},{key:"Zw",value:function Zw(t,e){var _this934=this;var i,s,n,o=this.Js.board,l=t.querySelector("img"),a=l.getBoundingClientRect(),h=t[nf],r=this.pC(l.src,a),d=this.uC(h);this["#meta-popover"].opened&&this["#meta-popover"].close(),t.style.cursor="copy",t.setPointerCapture(e.pointerId),document.body.append(r),t.addEventListener("pointermove",i=function i(t){var i=t.clientX-e.clientX,s=t.clientY-e.clientY,n=1;i<0&&(n=1+ef(i)/150,n>3&&(n=3)),r.style.top=a.y+s+"px",r.style.left=a.x+i+"px",r.style.transform="scale(".concat(n,")");}),t.addEventListener("pointercancel",s=function(_s898){function s(){return _s898.apply(this,arguments);}s.toString=function(){return _s898.toString();};return s;}(function(){t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,r.remove();})),t.addEventListener("pointerup",n=/*#__PURE__*/function(){var _ref171=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee182(e){var _t2307,_e1665,_i1543,_s899,_t2308;return regeneratorRuntime.wrap(function _callee182$(_context183){while(1){switch(_context183.prev=_context183.next){case 0:if(!(t.removeEventListener("pointermove",i),t.removeEventListener("pointercancel",s),t.removeEventListener("pointerup",n),t.style.cursor=null,o.isPointOverBoard(e.clientX,e.clientY))){_context183.next=17;break;}_t2307=r.getBoundingClientRect();_context183.next=4;return d;case 4:_e1665=_context183.sent;if(!(null===_e1665)){_context183.next=12;break;}r.remove();_context183.next=9;return ts(100);case 9:_this934.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});_context183.next=15;break;case 12:o.undoManager.checkpoint("Add vectors from library");_i1543=Dh(_e1665),_s899=o.insertArtworkIntoBBox(_i1543,_t2307);o.selectedElements=[_s899],o.selectedTextRange=null,r.remove();case 15:_context183.next=26;break;case 17:if(!_this934.Qs.isPointOverNewTabDropArea(e.clientX,e.clientY)){_context183.next=25;break;}r.remove();_context183.next=21;return d;case 21:_t2308=_context183.sent;_this934.Qs.openEditorTabWithArtworkFromLibrary(_t2308);_context183.next=26;break;case 25:r.remove();case 26:case"end":return _context183.stop();}}},_callee182);}));return function n(_x204){return _ref171.apply(this,arguments);};}());}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item");e&&(this.U_(e),2===t.detail&&this.nv(e));}},{key:"tp",value:function(){var _tp12=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee183(t){var e;return regeneratorRuntime.wrap(function _callee183$(_context184){while(1){switch(_context184.prev=_context184.next){case 0:e=t.target.closest(".item");_context184.t0=e;if(!_context184.t0){_context184.next=8;break;}t.preventDefault();this.U_(e);_context184.next=7;return ts(150);case 7:this.nv(e);case 8:case"end":return _context184.stop();}}},_callee183,this);}));function tp(_x205){return _tp12.apply(this,arguments);}return tp;}()},{key:"ep",value:function ep(t){var e=so.fromEvent(t),i=this["#items"].querySelector(".item[data-selected]");if(i){var _s900=i.getBoundingClientRect();if(e.matches("Enter"))this.nv(i);else if(e.matches("ArrowRight"))i.nextElementSibling&&_s900.top===i.nextElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.U_(i.nextElementSibling));else if(e.matches("ArrowLeft"))i.previousElementSibling&&_s900.top===i.previousElementSibling.getBoundingClientRect().top&&(t.stopPropagation(),t.preventDefault(),this.U_(i.previousElementSibling));else if(e.matches("ArrowDown")){for(var _e1666=i.nextElementSibling;_e1666;_e1666=_e1666.nextElementSibling){if(_s900.left===_e1666.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.U_(_e1666);break;}}}else if(e.matches("ArrowUp"))for(var _e1667=i.previousElementSibling;_e1667;_e1667=_e1667.previousElementSibling){if(_s900.left===_e1667.getBoundingClientRect().left){t.stopPropagation(),t.preventDefault(),this.U_(_e1667);break;}}}}},{key:"T_",value:function(){var _T_2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee184(){var t,e,i,_e1668,_s901,_i1544,_arr74,_t2309;return regeneratorRuntime.wrap(function _callee184$(_context185){while(1){switch(_context185.prev=_context185.next){case 0:t=this.Js.board;e=this["#items"].querySelector(".item[data-selected]")[nf];_context185.next=4;return this.uC(e);case 4:i=_context185.sent;if(null===i)this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]});else{t.undoManager.checkpoint("Add vectors from library");_e1668=Dh(i),_s901=Ei("svg:symbol");_s901.setAttribute("viewBox",_e1668.getAttribute("viewBox"));for(_i1544=0,_arr74=_toConsumableArray(_e1668.children);_i1544<_arr74.length;_i1544++){_t2309=_arr74[_i1544];_s901.append(_t2309);}_s901.setAttribute("id",t.generateUniqueID("symbol",_s901)),t.maybeCreateDefsForMasterWorkspace(),t.defs.append(_s901),this.Js.togglePrimaryPanel("defs-panel"),this.Js.defsPanel.toggleBrowser("symbols-browser"),this.Js.defsPanel.symbolsBrowser.selectSymbols([_s901.id]);}case 6:case"end":return _context185.stop();}}},_callee184,this);}));function T_(){return _T_2.apply(this,arguments);}return T_;}()},{key:"A_",value:function(){var _A_4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee185(){var t,e,i,s,n,o,l,_yield$Promise$all3,_yield$Promise$all4,a,_t2310,_e1669,_i1545;return regeneratorRuntime.wrap(function _callee185$(_context186){while(1){switch(_context186.prev=_context186.next){case 0:t=this["#items"].querySelector(".item[data-selected]"),e=t[nf],i=this.Js.board.getBoundingClientRect(!1,!0),s=t.firstElementChild.getBoundingClientRect(),n=DOMRect.fromRect(s);n.width*=3,n.height*=3,n.x=i.x+i.width/2-n.width/2,n.y=i.y+i.height/2-n.height/2,this["#meta-popover"].close();o=this.pC(t.firstElementChild.src,n);document.body.append(o);l=o.animate({left:[s.left+"px",n.left+"px"],top:[s.top+"px",n.top+"px"],width:[s.width+"px",n.width+"px"],height:[s.height+"px",n.height+"px"]},{duration:400,easing:"ease"});_context186.next=7;return Promise.all([this.uC(e),l.finished]);case 7:_yield$Promise$all3=_context186.sent;_yield$Promise$all4=_slicedToArray(_yield$Promise$all3,1);a=_yield$Promise$all4[0];if(null===a)this.Qs.openMessageDialog({message:"Import failed",detail:"Can't connect to the server. The server is down or you have no internet connection. Please try again later.",buttons:["Close"]}),o.remove();else{this.Js.board.undoManager.checkpoint("Add vectors from library");_t2310=o.getBoundingClientRect(),_e1669=Dh(a),_i1545=this.Js.board.insertArtworkIntoBBox(_e1669,_t2310);this.Js.board.selectedElements=[_i1545],this.Js.board.selectedTextRange=null,o.remove();}case 11:case"end":return _context186.stop();}}},_callee185,this);}));function A_(){return _A_4.apply(this,arguments);}return A_;}()},{key:"D_",value:function D_(){this.G_();}},{key:"U_",value:function U_(t){{var _e1670=this["#items"].querySelector(":scope > .item[data-selected]");_e1670!==t&&(_e1670&&_e1670.removeAttribute("data-selected"),t.setAttribute("data-selected",""),t.scrollIntoViewIfNeeded());}this["#meta-popover"].opened&&(this["#meta-popover"].close(),this["#items"].focus());}},{key:"nv",value:function nv(t){this.H_();var e=t.getBoundingClientRect(),i=new DOMPoint(e.left,e.top+e.height/2);this["#meta-popover"].open(i);}},{key:"av",value:function av(t){var e=t.previewURL,i=t.previewWidth,s=t.previewHeight,n=t.provider;if(i>110){var _t2311=i/s;i=110,s=i/_t2311;}if(s>90){var _t2312=i/s;s=90,i=s*_t2312;}var l=qi(_templateObject79(),i,s,o);return l[nf]=t,"cloud"===n||"bx-chromeapp"===this.Qs.localName?_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee186(){var t,_e1671,_i1546;return regeneratorRuntime.wrap(function _callee186$(_context187){while(1){switch(_context187.prev=_context187.next){case 0:_context187.prev=0;_context187.next=3;return fetch(e,{mode:"cors"});case 3:t=_context187.sent;_context187.next=14;break;case 6:_context187.prev=6;_context187.t0=_context187["catch"](0);console.log("Retrying",_context187.t0);_context187.next=11;return ts(2e3);case 11:_context187.next=13;return fetch(e,{mode:"cors"});case 13:t=_context187.sent;case 14:if(!t){_context187.next=22;break;}_context187.next=17;return t.blob();case 17:_e1671=_context187.sent;_context187.next=20;return jh(_e1671);case 20:_i1546=_context187.sent;l.querySelector("img").setAttribute("src",_i1546);case 22:case"end":return _context187.stop();}}},_callee186,null,[[0,6]]);}))():l.querySelector("img").setAttribute("src",e),l;}},{key:"pC",value:function pC(t,e){var i=qi(_templateObject80());return i.style.position="fixed",i.style.left=e.left+"px",i.style.top=e.top+"px",i.style.width=e.width+"px",i.style.height=e.height+"px",i.style.zIndex="999999999",i.style.pointerEvents="none",i.src=t,i;}},{key:"uC",value:function uC(t){return new Promise(/*#__PURE__*/function(){var _ref173=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee187(e,i){var s,_e1672,_e1673,_t2313;return regeneratorRuntime.wrap(function _callee187$(_context188){while(1){switch(_context188.prev=_context188.next){case 0:s=null;_context188.prev=1;if(!t.sources.svg){_context188.next=13;break;}_context188.next=5;return fetch(t.sources.svg,{mode:"cors"});case 5:_e1672=_context188.sent;_context188.t0=_e1672.ok;if(!_context188.t0){_context188.next=11;break;}_context188.next=10;return _e1672.text();case 10:s=_context188.sent;case 11:_context188.next=24;break;case 13:if(!t.sources.ai){_context188.next=24;break;}_context188.next=16;return fetch(t.sources.ai,{mode:"cors"});case 16:_e1673=_context188.sent;if(!_e1673.ok){_context188.next=24;break;}_context188.next=20;return _e1673.arrayBuffer();case 20:_t2313=_context188.sent;_context188.next=23;return qm(_t2313);case 23:s=_context188.sent;case 24:_context188.next=29;break;case 26:_context188.prev=26;_context188.t1=_context188["catch"](1);console.log(_context188.t1);case 29:e(s);case 30:case"end":return _context188.stop();}}},_callee187,null,[[1,26]]);}));return function(_x206,_x207){return _ref173.apply(this,arguments);};}());}},{key:"SC",value:function SC(t,e,i){var _this935=this;return new Promise(/*#__PURE__*/function(){var _ref174=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee188(s,n){var o,l,_t2314,_t2315,_iterator1545,_step1545,_e1674,_iterator1546,_step1546,_t2316;return regeneratorRuntime.wrap(function _callee188$(_context189){while(1){switch(_context189.prev=_context189.next){case 0:o=[],l=[];if(_this935.kC){_context189.next=6;break;}_context189.next=4;return app.callCloudFunction("getSharedArtworks",_this935.Qs.user.uid);case 4:_t2314=_context189.sent.data;_this935.kC=_t2314;case 6:if(i){_t2315=!1;_iterator1545=_createForOfIteratorHelper(_this935.kC);try{for(_iterator1545.s();!(_step1545=_iterator1545.n()).done;){_e1674=_step1545.value;_t2315?o.push(_e1674):_e1674.artworkUID===i.artworkUID&&(_t2315=!0);}}catch(err){_iterator1545.e(err);}finally{_iterator1545.f();}}else o=_toConsumableArray(_this935.kC);""!==t&&(o=o.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase());}));_iterator1546=_createForOfIteratorHelper(o);try{for(_iterator1546.s();!(_step1546=_iterator1546.n()).done;){_t2316=_step1546.value;_t2316.library===e&&l.push({pageURL:"https://boxy-svg.com/app/".concat(_t2316.artworkUID),previewURL:Qg("/artworks/".concat(_t2316.artworkUID,".png")),previewWidth:90,previewHeight:90,provider:"cloud",artworkUID:_t2316.artworkUID,license:null,user:{label:"Author",displayName:_t2316.authorName,profileURL:"https://boxy-svg.com/profiles/".concat(_t2316.authorUID,"/").concat(di(_t2316.authorName))},sources:{svg:Qg("/artworks/".concat(_t2316.artworkUID,".svg")),ai:null}});}}catch(err){_iterator1546.e(err);}finally{_iterator1546.f();}s(l);case 11:case"end":return _context189.stop();}}},_callee188);}));return function(_x208,_x209){return _ref174.apply(this,arguments);};}());}},{key:"bC",value:function bC(t,e,i,s,n,o,l){var _this936=this;return new Promise(/*#__PURE__*/function(){var _ref175=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee189(a,h){var r,d,c,p,u,x,_t2317,_iterator1547,_step1547,_e1675;return regeneratorRuntime.wrap(function _callee189$(_context190){while(1){switch(_context190.prev=_context190.next){case 0:r=e?e.page+1:1,d={q:encodeURIComponent(t),response_group:"high_resolution",per_page:of,page:r,editors_choice:""===t||n,order:o,orientation:i,image_type:"vector",safesearch:l,key:"7905818-d06eb7dad844f6efdf1932a90"};"all"!==s&&(d.category=s);c="https://pixabay.com/api/?"+sf(d).map(function(_ref176){var _ref177=_slicedToArray(_ref176,2),t=_ref177[0],e=_ref177[1];return"".concat(t,"=").concat(e);}).join("&");_context190.next=5;return _this936.rC(c);case 5:p=_context190.sent;u=null;x=null;if(!p){_context190.next=12;break;}u=p;_context190.next=25;break;case 12:_context190.prev=12;_context190.next=15;return fetch(c,{mode:"cors"});case 15:u=_context190.sent;_context190.next=18;return u.json();case 18:u=_context190.sent;_context190.next=24;break;case 21:_context190.prev=21;_context190.t0=_context190["catch"](12);u=null,x=_context190.t0;case 24:x||_this936.dC(c,u);case 25:if(x)h(x);else{_t2317=[];_iterator1547=_createForOfIteratorHelper(u.hits);try{for(_iterator1547.s();!(_step1547=_iterator1547.n()).done;){_e1675=_step1547.value;_t2317.push({page:r,pageURL:_e1675.pageURL,previewURL:_e1675.previewURL,previewWidth:_e1675.previewWidth,previewHeight:_e1675.previewHeight,provider:"pixabay",license:{displayName:"Pixabay License",url:"https://pixabay.com/service/terms/#license"},user:{label:"Uploader",displayName:_e1675.user,profileURL:"https://pixabay.com/users/".concat(_e1675.user,"-").concat(_e1675.user_id)},sources:{svg:"vector/svg"===_e1675.type?_e1675.vectorURL:null,ai:"vector/ai"===_e1675.type?_e1675.vectorURL:null}});}}catch(err){_iterator1547.e(err);}finally{_iterator1547.f();}a(_t2317);}case 26:case"end":return _context190.stop();}}},_callee189,null,[[12,21]]);}));return function(_x210,_x211){return _ref175.apply(this,arguments);};}());}},{key:"gC",value:function gC(t,e,i){return new Promise(/*#__PURE__*/function(){var _ref178=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee190(s,n){var o,l,a,h,r,d,_t2318,_i1547,_Object$values2,_e1676,_i1548;return regeneratorRuntime.wrap(function _callee190$(_context191){while(1){switch(_context191.prev=_context191.next){case 0:o=e?e.page+1:0,l="";l=""===t?'deepcat:"Quality images - vector" filetype:drawing':!0===i?"".concat(t," deepcat:\"Quality images - vector\" filetype:drawing"):"".concat(t," filetype:drawing");a={generator:"search",gsrnamespace:"6",gsrsearch:encodeURIComponent(l),gsroffset:o*of,gsrlimit:of,action:"query",prop:"imageinfo",iiurlwidth:110,iiprop:"url|size|user|userid|mime|extmetadata",iiextmetadatafilter:"LicenceShortName|UsageTerms|LicenseUrl|AttributionRequired",extmetadata:1,gimlimit:of,format:"json",origin:"*"},h="https://commons.wikimedia.org/w/api.php?"+sf(a).map(function(_ref179){var _ref180=_slicedToArray(_ref179,2),t=_ref180[0],e=_ref180[1];return"".concat(t,"=").concat(e);}).join("&"),r=null,d=null;_context191.prev=3;_context191.next=6;return fetch(h);case 6:r=_context191.sent;_context191.next=9;return r.json();case 9:r=_context191.sent;_context191.next=15;break;case 12:_context191.prev=12;_context191.t0=_context191["catch"](3);r=null,d=_context191.t0;case 15:if(d)n(d);else if(r.error)n({message:r.error.info,code:r.error.code});else{_t2318=[];if(r.query)for(_i1547=0,_Object$values2=Object.values(r.query.pages);_i1547<_Object$values2.length;_i1547++){_e1676=_Object$values2[_i1547];if(_e1676.imageinfo){_i1548=_e1676.imageinfo[0];"image/svg+xml"===_i1548.mime&&_t2318.push({page:o,pageURL:_i1548.descriptionurl,previewURL:_i1548.thumburl,previewWidth:_i1548.thumbwidth,previewHeight:_i1548.thumbheight,provider:"wikimedia",license:{displayName:_i1548.extmetadata.UsageTerms?_i1548.extmetadata.UsageTerms.value:"Wikimedia License",url:_i1548.extmetadata.LicenseUrl?_i1548.extmetadata.LicenseUrl.value:_i1548.descriptionurl+"#Licensing"},user:{label:"Uploader",displayName:_i1548.user,profileURL:"https://commons.wikimedia.org/wiki/User:"+_i1548.user},sources:{svg:_i1548.url,ai:null}});}}s(_t2318);}case 16:case"end":return _context191.stop();}}},_callee190,null,[[3,12]]);}));return function(_x212,_x213){return _ref178.apply(this,arguments);};}());}},{key:"_C",value:function _C(t,e,i){var _this937=this;return new Promise(/*#__PURE__*/function(){var _ref181=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee191(s,n){var o,l,a,_iterator1548,_step1548,_t2319,_e1677;return regeneratorRuntime.wrap(function _callee191$(_context192){while(1){switch(_context192.prev=_context192.next){case 0:_this937.z_.fluentIcons||(_this937.z_.fluentIcons=algolia.initIndex("fluentIcons"));o=i?i.page+1:0;_context192.next=4;return _this937.z_.fluentIcons.search(t,{filters:"all"===e?"":"(variant:\"".concat(e,"\")"),page:o,hitsPerPage:of});case 4:l=_context192.sent;a=[];_iterator1548=_createForOfIteratorHelper(l.hits);_context192.prev=7;_iterator1548.s();case 9:if((_step1548=_iterator1548.n()).done){_context192.next=17;break;}_t2319=_step1548.value;_context192.next=13;return jh(new Blob([_t2319.source],{type:"image/svg+xml"}));case 13:_e1677=_context192.sent;a.push({page:o,pageURL:"https://github.com/microsoft/fluentui-system-icons/tree/master/assets/".concat(encodeURIComponent(_t2319.name),"/SVG"),previewURL:_e1677,previewWidth:90,previewHeight:90,provider:"fluent-icons",license:{displayName:"MIT License",url:"https://github.com/microsoft/fluentui-system-icons/blob/master/LICENSE"},user:{label:"Author",displayName:"Microsoft",profileURL:"https://opensource.microsoft.com/"},sources:{svg:_e1677,ai:null},meta:{name:_t2319.name,category:_t2319.category,variant:_t2319.variant}});case 15:_context192.next=9;break;case 17:_context192.next=22;break;case 19:_context192.prev=19;_context192.t0=_context192["catch"](7);_iterator1548.e(_context192.t0);case 22:_context192.prev=22;_iterator1548.f();return _context192.finish(22);case 25:s(a);case 26:case"end":return _context192.stop();}}},_callee191,null,[[7,19,22,25]]);}));return function(_x214,_x215){return _ref181.apply(this,arguments);};}());}},{key:"CC",value:function CC(t,e,i,s){var _this938=this;return new Promise(/*#__PURE__*/function(){var _ref182=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee192(n,o){var l,a,h,r,_iterator1549,_step1549,_t2320,_e1678;return regeneratorRuntime.wrap(function _callee192$(_context193){while(1){switch(_context193.prev=_context193.next){case 0:_this938.z_.materialIcons||(_this938.z_.materialIcons=algolia.initIndex("materialIcons"));l=s?s.page+1:0,a=[];"all"!==e&&a.push("(variant:\"".concat(e,"\")")),"all"!==i&&a.push("(category:\"".concat(i,"\")"));_context193.next=5;return _this938.z_.materialIcons.search(t,{filters:a.join(" AND "),page:l,hitsPerPage:of});case 5:h=_context193.sent;r=[];_iterator1549=_createForOfIteratorHelper(h.hits);_context193.prev=8;_iterator1549.s();case 10:if((_step1549=_iterator1549.n()).done){_context193.next=18;break;}_t2320=_step1549.value;_context193.next=14;return jh(new Blob([_t2320.source],{type:"image/svg+xml"}));case 14:_e1678=_context193.sent;r.push({page:l,pageURL:"https://fonts.google.com/icons?selected=".concat(_t2320.objectID),previewURL:_e1678,previewWidth:90,previewHeight:90,provider:"material-icons",license:{displayName:"Apache License 2.0",url:"https://www.apache.org/licenses/LICENSE-2.0.html"},user:{label:"Author",displayName:"Google",profileURL:"https://opensource.google/"},sources:{svg:_e1678,ai:null},meta:{name:_t2320.name,category:_t2320.category,variant:_t2320.variant}});case 16:_context193.next=10;break;case 18:_context193.next=23;break;case 20:_context193.prev=20;_context193.t0=_context193["catch"](8);_iterator1549.e(_context193.t0);case 23:_context193.prev=23;_iterator1549.f();return _context193.finish(23);case 26:n(r);case 27:case"end":return _context193.stop();}}},_callee192,null,[[8,20,23,26]]);}));return function(_x216,_x217){return _ref182.apply(this,arguments);};}());}},{key:"G_",value:function(){var _G_4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee193(){var _t2321;return regeneratorRuntime.wrap(function _callee193$(_context194){while(1){switch(_context194.prev=_context194.next){case 0:this.M_=!1,this.P_=!0,this.gv=0,this["#items"].innerHTML="",this["#throbber"].hidden=!1,this["#placeholder"].hidden=!0;_t2321=0;case 2:if(!(_t2321<50&&!1===this.M_&&!0===this.P_&&this["#items"].clientHeight<=this["#main"].clientHeight+500)){_context194.next=15;break;}_context194.prev=3;_context194.next=6;return this.F_();case 6:_context194.next=12;break;case 8:_context194.prev=8;_context194.t0=_context194["catch"](3);0===this["#items"].childElementCount&&(this["#placeholder"].hidden=!1,this["#placeholder"].textContent=_context194.t0.message);return _context194.abrupt("break",15);case 12:_t2321+=1;_context194.next=2;break;case 15:case"end":return _context194.stop();}}},_callee193,this,[[3,8]]);}));function G_(){return _G_4.apply(this,arguments);}return G_;}()},{key:"F_",value:function F_(){var _this939=this;return new Promise(/*#__PURE__*/function(){var _ref183=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee194(t,e){var i,s,n,o,_t2322,_t2323,_e1679,_s902,_l386,_a282,_t2324,_t2325,_t2326,_e1680,_t2327,_iterator1550,_step1550,_e1681,_i1549;return regeneratorRuntime.wrap(function _callee194$(_context195){while(1){switch(_context195.prev=_context195.next){case 0:_this939.M_=!0;i=null,s=null,n=_this939["#search-input"].value.trim(),o=_this939["#items"].lastElementChild?_this939["#items"].lastElementChild[nf]:null;_context195.prev=2;if(!("cloud"===_this939["#provider-select"].value)){_context195.next=10;break;}_t2322=_this939.Qs.getConfig("bx-cloudvectorslibrarysearchsettings:scope","org");_context195.next=7;return _this939.SC(n,_t2322,o);case 7:i=_context195.sent;_context195.next=36;break;case 10:if(!("pixabay"===_this939["#provider-select"].value)){_context195.next=17;break;}_t2323=_this939.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:orientation","all"),_e1679=_this939.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:category","all"),_s902=_this939.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:editorsChoice",!1),_l386=_this939.Qs.getConfig("bx-pixabayvectorslibrarysearchsettings:sort","popular"),_a282="bx-macapp"===_this939.Qs.localName;_context195.next=14;return _this939.bC(n,o,_t2323,_e1679,_s902,_l386,_a282);case 14:i=_context195.sent;_context195.next=36;break;case 17:if(!("wikimedia"===_this939["#provider-select"].value)){_context195.next=24;break;}_t2324=_this939.Qs.getConfig("bx-wikimediavectorslibrarysearchsettings:editorsChoice",!1);_context195.next=21;return _this939.gC(n,o,_t2324);case 21:i=_context195.sent;_context195.next=36;break;case 24:if(!("fluent-icons"===_this939["#provider-select"].value)){_context195.next=31;break;}_t2325=_this939.Qs.getConfig("bx-fluenticonsvectorslibrarysearchsettings:variant","regular");_context195.next=28;return _this939._C(n,_t2325,o);case 28:i=_context195.sent;_context195.next=36;break;case 31:if(!("material-icons"===_this939["#provider-select"].value)){_context195.next=36;break;}_t2326=_this939.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:variant","filled"),_e1680=_this939.Qs.getConfig("bx-materialiconsvectorslibrarysearchsettings:category","all");_context195.next=35;return _this939.CC(n,_t2326,_e1680,o);case 35:i=_context195.sent;case 36:_context195.next=41;break;case 38:_context195.prev=38;_context195.t0=_context195["catch"](2);s=_context195.t0;case 41:if(s)_this939["#throbber"].hidden=!0,_this939.M_=!1,e(s);else{if(i.length>0){_t2327=document.createDocumentFragment();_iterator1550=_createForOfIteratorHelper(i);try{for(_iterator1550.s();!(_step1550=_iterator1550.n()).done;){_e1681=_step1550.value;_i1549=_this939.av(_e1681);_t2327.append(_i1549);}}catch(err){_iterator1550.e(err);}finally{_iterator1550.f();}_this939["#items"].append(_t2327),_this939["#throbber"].hidden=!0;}else _this939.P_=!1,_this939["#throbber"].hidden=!0,0===_this939["#items"].childElementCount&&(_this939["#placeholder"].hidden=!1,_this939["#placeholder"].textContent="No vectors found");_this939.M_=!1,t();}case 42:case"end":return _context195.stop();}}},_callee194,null,[[2,38]]);}));return function(_x218,_x219){return _ref183.apply(this,arguments);};}());}},{key:"B_",value:function B_(){var _this940=this;return new Promise(/*#__PURE__*/function(){var _ref184=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee195(t){var e,n,_tf,_tf2,_t2328;return regeneratorRuntime.wrap(function _callee195$(_context196){while(1){switch(_context196.prev=_context196.next){case 0:_context196.next=2;return _this940.Qs.whenAuthReady;case 2:e=_this940.Qs.getConfig("bx-vectorslibrarybrowser:provider","pixabay"),n=!1;if("bx-webapp"===_this940.Qs.localName&&_this940.Qs.userProfile){_tf=tf(_this940.Qs.userSubscription,_this940.Qs.user),_tf2=_slicedToArray(_tf,1),_t2328=_tf2[0];n=_t2328===i||_t2328===s;}"cloud"===e&&!1===n&&(e="pixabay"),_this940["#provider-select"].value=e,_this940["#cloud-provider-select-item"].hidden=!1===n,_this940["#cloud-provider-select-separator"].hidden=!1===n,t();case 5:case"end":return _context196.stop();}}},_callee195);}));return function(_x220){return _ref184.apply(this,arguments);};}());}},{key:"H_",value:function H_(){var t=this["#items"].querySelector(".item[data-selected]");if(t){var _e1682=t[nf];if(_e1682.user){var _e1682$user=_e1682.user,_t2329=_e1682$user.label,_i1550=_e1682$user.profileURL,_s903=_e1682$user.displayName;this["#meta-user-label"].textContent=_t2329,this["#meta-user-value"].innerHTML="<a href=\"".concat(_i1550,"\" target=\"_blank\">").concat(_s903,"</a>");}_e1682.license?(this["#meta-license"].hidden=!1,this["#meta-license-anchor"].textContent=_e1682.license.displayName,this["#meta-license-anchor"].href=_e1682.license.url):this["#meta-license"].hidden=!0,this["#meta-provider-anchor"].href=_e1682.pageURL,"cloud"===_e1682.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="Open with Boxy SVG",this["#meta-add-to-defs-button"].hidden=!0):"pixabay"===_e1682.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="View on Pixabay",this["#meta-add-to-defs-button"].hidden=!0):"wikimedia"===_e1682.provider?(this["#meta-name"].hidden=!0,this["#meta-provider-label"].textContent="View on Wikimedia",this["#meta-add-to-defs-button"].hidden=!0):"fluent-icons"===_e1682.provider?(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1682.meta.name,this["#meta-provider-label"].textContent="View on GitHub",this["#meta-add-to-defs-button"].hidden=!1):"material-icons"===_e1682.provider&&(this["#meta-name"].hidden=!1,this["#meta-name-value"].textContent=_e1682.meta.name,this["#meta-provider-label"].textContent="View on Google",this["#meta-add-to-defs-button"].hidden=!1);}}},{key:"R_",value:function R_(){var t=this["#provider-select"].value;"cloud"===t?this["#settings-popover"].innerHTML="<bx-cloudvectorslibrarysearchsettings/>":"pixabay"===t?this["#settings-popover"].innerHTML="<bx-pixabayvectorslibrarysearchsettings/>":"wikimedia"===t?this["#settings-popover"].innerHTML="<bx-wikimediavectorslibrarysearchsettings/>":"fluent-icons"===t?this["#settings-popover"].innerHTML="<bx-fluenticonsvectorslibrarysearchsettings/>":"material-icons"===t&&(this["#settings-popover"].innerHTML="<bx-materialiconsvectorslibrarysearchsettings/>");}}]);return lf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(lf,"observedAttributes",["enabled"]);_defineProperty(lf,"_shadowTemplate",qi(_templateObject472()));_defineProperty(lf,"_shadowStyleSheet",Xi(_templateObject473()));customElements.define("bx-vectorslibrarybrowser",lf);var af=/*#__PURE__*/function(_HTMLElement127){_inherits(af,_HTMLElement127);var _super209=_createSuper(af);_createClass(af,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function af(){var _this941;_classCallCheck(this,af);_this941=_super209.call(this),_this941._shadowRoot=_this941.attachShadow({mode:"closed"}),_this941._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,af._shadowStyleSheet],_this941._shadowRoot.append(document.importNode(af._shadowTemplate.content,!0));var _iterator1551=_createForOfIteratorHelper(_this941._shadowRoot.querySelectorAll("[id]")),_step1551;try{for(_iterator1551.s();!(_step1551=_iterator1551.n()).done;){var _t2330=_step1551.value;_this941["#"+_t2330.id]=_t2330;}}catch(err){_iterator1551.e(err);}finally{_iterator1551.f();}_this941["#buttons"].addEventListener("toggle",function(){return _this941.toggleBrowser(_this941["#buttons"].value);});return _this941;}_createClass(af,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-librarypanel:currentBrowserID","bitmaps-library-browser");!1===_toConsumableArray(this["#main"].children).map(function(t){return t.id;}).includes(t)&&(t="colors-library-browser"),this.toggleBrowser(t);}},{key:"sn",value:function sn(){this.toggleBrowser(null);}},{key:"toggleBrowser",value:function toggleBrowser(t){this["#buttons"].value=t;var _iterator1552=_createForOfIteratorHelper(this["#main"].children),_step1552;try{for(_iterator1552.s();!(_step1552=_iterator1552.n()).done;){var _e1683=_step1552.value;null!==t&&_e1683.id===t?_e1683.enabled=!0:_e1683.enabled=!1;}}catch(err){_iterator1552.e(err);}finally{_iterator1552.f();}null!==t&&this.Qs.setConfig("bx-librarypanel:currentBrowserID",t);}}]);return af;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(af,"observedAttributes",["enabled"]);_defineProperty(af,"_shadowTemplate",qi(_templateObject474()));_defineProperty(af,"_shadowStyleSheet",Xi(_templateObject475()));customElements.define("bx-librarypanel",af);var hf=/*#__PURE__*/function(_HTMLElement128){_inherits(hf,_HTMLElement128);var _super210=_createSuper(hf);function hf(){var _this942;_classCallCheck(this,hf);_this942=_super210.call(this);var t=_this942.constructor.MC,e=_this942.constructor.PC;_this942._shadowRoot=_this942.attachShadow({mode:"closed"}),_this942._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,hf._shadowStyleSheet,_this942.constructor._shadowStyleSheet],_this942._shadowRoot.append(document.importNode(hf._shadowTemplate.content,!0)),t&&_this942._shadowRoot.querySelector("#main").append(document.importNode(t.content,!0)),e&&_this942._shadowRoot.querySelector("#footer").append(document.importNode(e.content,!0));var _iterator1553=_createForOfIteratorHelper(_this942._shadowRoot.querySelectorAll("[id]")),_step1553;try{for(_iterator1553.s();!(_step1553=_iterator1553.n()).done;){var _t2331=_step1553.value;_this942["#"+_t2331.id]=_t2331;}}catch(err){_iterator1553.e(err);}finally{_iterator1553.f();}_this942.setAttribute("extends","bx-generator"),_this942.setAttribute("tabindex","0");return _this942;}return hf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(hf,"_shadowTemplate",qi(_templateObject476()));_defineProperty(hf,"_shadowStyleSheet",Xi(_templateObject477()));var rf=function rf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;return new Promise(function(i,s){var n=document.createElement("script");e&&(n.type="module"),n.src=t,n.onload=function(){i(),n.remove();},n.onerror=function(){s(new Error("Failed to lazy load script with URL "+t)),n.remove();},document.documentElement.appendChild(n);});},df={CODE128:"Test value",CODE39:"TEST VALUE",EAN2:"00",EAN5:"00000",EAN8:"0000000",EAN13:"000000000000",UPC:"00000000000",MSI:"0000",MSI10:"0000",MSI11:"0000",MSI1010:"0000",MSI1110:"0000",codabar:"0000",pharmacode:"1000",ITF14:"0000000000000"};var cf=/*#__PURE__*/function(_hf){_inherits(cf,_hf);var _super211=_createSuper(cf);function cf(){var _this943;_classCallCheck(this,cf);_this943=_super211.call(this),_this943["#format-select"].addEventListener("change",function(){return _this943.Qu();}),_this943["#value-input"].addEventListener("input",function(){return _this943.DC();}),_this943["#label-switch"].addEventListener("toggle",function(){return _this943.zC();}),_this943["#label-position-buttons"].addEventListener("toggle",function(){return _this943.OC();}),_this943["#generate-button"].addEventListener("click",function(){return _this943.EC();});return _this943;}_createClass(cf,[{key:"connectedCallback",value:function(){var _connectedCallback4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee196(){var t,e,i;return regeneratorRuntime.wrap(function _callee196$(_context197){while(1){switch(_context197.prev=_context197.next){case 0:this.Qs=Ii(this,"#app");this.Js=Ii(this,"bx-editor");_context197.t0=window.JsBarcode;if(_context197.t0){_context197.next=6;break;}_context197.next=6;return rf("/node_modules/jsbarcode/dist/JsBarcode.all.min.js");case 6:t=this.Qs.getConfig("bx-barcodegenerator:format","CODE128"),e=this.Qs.getConfig("bx-barcodegenerator:showLabel",!0),i=this.Qs.getConfig("bx-barcodegenerator:labelPosition","center");this["#format-select"].value=t,this["#value-input"].value=df[t],this["#label-switch"].toggled=e,this["#label-position-buttons"].value=i,this.qs();case 8:case"end":return _context197.stop();}}},_callee196,this);}));function connectedCallback(){return _connectedCallback4.apply(this,arguments);}return connectedCallback;}()},{key:"Qu",value:function Qu(){var t=this["#format-select"].value;this["#value-input"].value=df[t],this.Qs.setConfig("bx-barcodegenerator:format",t),this.qs();}},{key:"DC",value:function DC(){this.qs();}},{key:"zC",value:function zC(){this.Qs.setConfig("bx-barcodegenerator:showLabel",this["#label-switch"].toggled),this.qs();}},{key:"OC",value:function OC(){this.Qs.setConfig("bx-barcodegenerator:labelPosition",this["#label-position-buttons"].value),this.qs();}},{key:"EC",value:function EC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate barcode"),this.Js.board.insertArtwork(t);}},{key:"TC",value:function TC(t,e){var i;return JsBarcode({},e,{format:t,valid:function valid(t){return i=t;}}),i;}},{key:"qs",value:function qs(){var t=this["#format-select"].value,e=this["#value-input"].value,i=this.TC(t,e);if(this["#value-input"].error=i?null:"","EAN8"===t||"EAN13"===t||"UPC"===t?!1===this["#label-position-inset-button"].isConnected&&this["#label-position-buttons"].append(this["#label-position-inset-button"]):("inset"===this["#label-position-buttons"].value&&(this["#label-position-buttons"].value="center"),this["#label-position-inset-button"].toggled=!1,this["#label-position-inset-button"].remove()),this["#label-switch"].toggled?(this["#label-position-label"].disabled=!1,this["#label-position-left-button"].disabled=!1,this["#label-position-center-button"].disabled=!1,this["#label-position-right-button"].disabled=!1,this["#label-position-inset-button"].disabled=!1):(this["#label-position-label"].disabled=!0,this["#label-position-left-button"].disabled=!0,this["#label-position-center-button"].disabled=!0,this["#label-position-right-button"].disabled=!0,this["#label-position-inset-button"].disabled=!0),i){var _i1551=this["#label-switch"].toggled?this["#label-position-buttons"].value:"center";if(JsBarcode(this["#preview"],e,{format:t,textAlign:"inset"===_i1551?"center":_i1551,flat:"inset"!==_i1551,displayValue:this["#label-switch"].toggled}),this["#preview"].firstElementChild.remove(),this["#preview"].childElementCount>1){var _t2332=Ei("svg:g");for(var _i1552=0,_arr75=_toConsumableArray(this["#preview"].children);_i1552<_arr75.length;_i1552++){var _e1684=_arr75[_i1552];_t2332.append(_e1684);}this["#preview"].append(_t2332);}}else this["#preview"].innerHTML="";this["#generate-button"].disabled=!1===i;}}]);return cf;}(hf);_defineProperty(cf,"MC",qi(_templateObject478()));_defineProperty(cf,"PC",qi(_templateObject479()));_defineProperty(cf,"_shadowStyleSheet",Xi(_templateObject480()));customElements.define("bx-barcodegenerator",cf);var pf=["/node_modules/qrcode-generator/qrcode.js","/node_modules/qrcode-generator/qrcode_SJIS.js"],uf={Numeric:"0000",Alphanumeric:"TEST",Byte:"Test",Kanji:"\u30C6\u30B9\u30C8"};var xf=/*#__PURE__*/function(_hf2){_inherits(xf,_hf2);var _super212=_createSuper(xf);function xf(){var _this944;_classCallCheck(this,xf);_this944=_super212.call(this),_this944["#mode-select"].addEventListener("change",function(){return _this944.AC();}),_this944["#charset-select"].addEventListener("change",function(){return _this944.$C();}),_this944["#error-correction-buttons"].addEventListener("toggle",function(){return _this944.IC();}),_this944["#value-input"].addEventListener("input",function(){return _this944.DC();}),_this944["#generate-button"].addEventListener("click",function(){return _this944.EC();});return _this944;}_createClass(xf,[{key:"connectedCallback",value:function(){var _connectedCallback5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee197(){var _iterator1554,_step1554,_t2333,t,e,i,s;return regeneratorRuntime.wrap(function _callee197$(_context198){while(1){switch(_context198.prev=_context198.next){case 0:if(!(this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor"),!window.qrcode)){_context198.next=18;break;}_iterator1554=_createForOfIteratorHelper(pf);_context198.prev=2;_iterator1554.s();case 4:if((_step1554=_iterator1554.n()).done){_context198.next=10;break;}_t2333=_step1554.value;_context198.next=8;return rf(_t2333);case 8:_context198.next=4;break;case 10:_context198.next=15;break;case 12:_context198.prev=12;_context198.t0=_context198["catch"](2);_iterator1554.e(_context198.t0);case 15:_context198.prev=15;_iterator1554.f();return _context198.finish(15);case 18:t=this.Qs.getConfig("bx-qrcodegenerator:mode","Byte"),e=this.Qs.getConfig("bx-qrcodegenerator:charset","default"),i=this.Qs.getConfig("bx-qrcodegenerator:errorCorrection","L"),s=uf[t];this["#mode-select"].value=t,this["#charset-select"].value=e,this["#error-correction-buttons"].value=i,this["#value-input"].value=s,this.qs();case 20:case"end":return _context198.stop();}}},_callee197,this,[[2,12,15,18]]);}));function connectedCallback(){return _connectedCallback5.apply(this,arguments);}return connectedCallback;}()},{key:"AC",value:function AC(){var t=this["#mode-select"].value;this["#value-input"].value=uf[t],this.Qs.setConfig("bx-qrcodegenerator:mode",t),this.qs();}},{key:"$C",value:function $C(){var t=this["#charset-select"].value;this.Qs.setConfig("bx-qrcodegenerator:charset",t),this.qs();}},{key:"IC",value:function IC(){var t=this["#error-correction-buttons"].value;this.Qs.setConfig("bx-qrcodegenerator:errorCorrection",t),this.qs();}},{key:"DC",value:function DC(){this.qs();}},{key:"EC",value:function EC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Generate QR code"),this.Js.board.insertArtwork(t);}},{key:"LC",value:function LC(t,e,i,s){var n=null,o=0,l=null;qrcode.stringToBytes=qrcode.stringToBytesFuncs[e];try{var _e1685=qrcode(0,i);_e1685.addData(s,t),_e1685.make();var _l387=Oi(_e1685.createSvgTag());n=_l387.querySelector("path"),o=_l387.viewBox.baseVal.width;}catch(t){l="string"==typeof t?t.replace("illegal char :","Illegal char: "):"Invalid value";}return[n,o,l];}},{key:"qs",value:function qs(){var t=this["#mode-select"].value,e=this["#charset-select"].value,i=this["#error-correction-buttons"].value,s=this["#value-input"].value,_this$LC=this.LC(t,e,i,s),_this$LC2=_slicedToArray(_this$LC,3),n=_this$LC2[0],o=_this$LC2[1],l=_this$LC2[2];this["#charset-subsection"].hidden="Byte"!==t,this["#value-input"].error=l,this["#preview"].innerHTML="",null===l&&(this["#preview"].append(n),this["#preview"].setAttribute("viewBox","0 0 ".concat(o," ").concat(o))),this["#generate-button"].disabled=null!==l;}}]);return xf;}(hf);_defineProperty(xf,"MC",qi(_templateObject481()));_defineProperty(xf,"PC",qi(_templateObject482()));_defineProperty(xf,"_shadowStyleSheet",Xi(_templateObject483()));customElements.define("bx-qrcodegenerator",xf);var bf=Math.sin,mf=Math.cos,gf=Math.abs,ff=Math.log,wf=Math.floor,vf=Math.PI,yf=[{color:"#d7392e",seats:54},{color:"#7aaa42",seats:32},{color:"#2470b0",seats:50},{color:"#2f2f2f",seats:36}],kf=["#a62a26","#d7392e","#ec6c42","#f4ad60","#7aaa42","#217eda","#2470b0","#542988","#2f2f2f"];var Sf=/*#__PURE__*/function(_hf3){_inherits(Sf,_hf3);var _super213=_createSuper(Sf);function Sf(){var _this945;_classCallCheck(this,Sf);_this945=_super213.call(this),_this945["#hall-radius-box"].addEventListener("changestart",function(){return _this945.RC();}),_this945["#seat-radius-box"].addEventListener("changestart",function(){return _this945.GC();}),_this945["#parties-box"].addEventListener("changestart",function(t){return _this945.FC(t);}),_this945["#parties-box"].addEventListener("click",function(t){return _this945.UC(t);}),_this945["#add-party-button"].addEventListener("click",function(){return _this945.NC();}),_this945["#generate-button"].addEventListener("click",function(){return _this945.EC();});return _this945;}_createClass(Sf,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Qs.getConfig("bx-parliamentchartgenerator:hallRadius",.3),e=this.Qs.getConfig("bx-parliamentchartgenerator:seatRadius",.8),i=this.Qs.getConfig("bx-parliamentchartgenerator:parties",yf);this["#hall-radius-slider"].value=K(100*t,2),this["#hall-radius-input"].value=K(100*t,2),this["#seat-radius-slider"].value=K(100*e,2),this["#seat-radius-input"].value=K(100*e,2),this["#parties-box"].innerHTML="";for(var _t2334=0;_t2334<i.length;_t2334+=1){var _i$_t=i[_t2334],_e1686=_i$_t.seats,_s904=_i$_t.color,_n655=document.importNode(Sf.BC.content,!0).firstElementChild;this["#parties-box"].append(_n655),_n655.querySelector("x-colorselect").value=_s904,_n655.querySelector("x-numberinput").value=_e1686;}this.qs();}},{key:"RC",value:function RC(){var _this946=this;var t,_e1687;this["#hall-radius-box"].addEventListener("change",t=function t(_t2335){_t2335.target===_this946["#hall-radius-slider"]?_this946["#hall-radius-input"].value=_this946["#hall-radius-slider"].value:_t2335.target===_this946["#hall-radius-input"]&&(_this946["#hall-radius-slider"].value=_this946["#hall-radius-input"].value),_this946.qs();}),this["#hall-radius-box"].addEventListener("changeend",_e1687=function e(){_this946["#hall-radius-box"].removeEventListener("change",t),_this946["#hall-radius-box"].removeEventListener("changeend",_e1687),_this946.Qs.setConfig("bx-parliamentchartgenerator:hallRadius",_this946["#hall-radius-slider"].value/100);});}},{key:"GC",value:function GC(){var _this947=this;var t,_e1688;this["#seat-radius-box"].addEventListener("change",t=function t(_t2336){_t2336.target===_this947["#seat-radius-slider"]?_this947["#seat-radius-input"].value=_this947["#seat-radius-slider"].value:_t2336.target===_this947["#seat-radius-input"]&&(_this947["#seat-radius-slider"].value=_this947["#seat-radius-input"].value),_this947.qs();}),this["#seat-radius-box"].addEventListener("changeend",_e1688=function e(){_this947["#seat-radius-box"].removeEventListener("change",t),_this947["#seat-radius-box"].removeEventListener("changeend",_e1688),_this947.Qs.setConfig("bx-parliamentchartgenerator:seatRadius",_this947["#seat-radius-slider"].value/100);});}},{key:"FC",value:function FC(t){var _this948=this;var e,_i1553,s=t.target;s.addEventListener("change",e=function e(){_this948.qs();}),s.addEventListener("changeend",_i1553=function i(){s.removeEventListener("change",e),s.removeEventListener("changeend",_i1553),_this948.qs();var t=_toConsumableArray(_this948["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});_this948.Qs.setConfig("bx-parliamentchartgenerator:parties",t);});}},{key:"UC",value:function UC(t){var e=t.target.closest(".delete-button");if(e){e.closest(".party-box").remove();var _t2337=_toConsumableArray(this["#parties-box"].children).map(function(t){return{seats:t.querySelector("x-numberinput").value,color:t.querySelector("x-colorselect").value};});this.Qs.setConfig("bx-parliamentchartgenerator:parties",_t2337),this.qs();}}},{key:"NC",value:function NC(){var t,e=function(t){var e=t.length;for(;--e;){var _i1554=hl(0,1,5),_s905=Math.floor(_i1554*(e+1)),_n656=t[_s905];t[_s905]=t[e],t[e]=_n656;}return t;}([].concat(kf)),i=_toConsumableArray(this["#parties-box"].querySelectorAll("x-colorselect")).map(function(t){return t.value;}),s=document.importNode(Sf.BC.content,!0).firstElementChild;do{t=e.pop();}while(e.length>0&&i.includes(t));this["#parties-box"].append(s),s.querySelector("x-colorselect").value=t,this.qs();}},{key:"EC",value:function EC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Parliament chart"),this.Js.board.insertArtwork(t);}},{key:"VC",value:function VC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.3;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;var s=100,n=0,o=0,l=[],a=[],h=[],r=[],d=null,c=this.Js.board.geometryPrecision;var _iterator1555=_createForOfIteratorHelper(t),_step1555;try{for(_iterator1555.s();!(_step1555=_iterator1555.n()).done;){var _e1697=_step1555.value;n+=_e1697.seats;}}catch(err){_iterator1555.e(err);}finally{_iterator1555.f();}var p=function p(t,e,i){return vf*e*i/(t-e)/(1+vf*(e-1)*e/2/(t-e));},u=function u(t,i,s){var n=p(t,i,s)*i/s-(1-e);return gf(n);};{var _t2338=wf(ff(n)/ff(2))||1,_e1689=u(n,_t2338,s),_i1555=0;for(u(n,_t2338+1,s)<_e1689&&(_i1555=1),u(n,_t2338-1,s)<_e1689&&_t2338>1&&(_i1555=-1);u(n,_t2338+_i1555,s)<_e1689&&_t2338>0;){_e1689=u(n,_t2338+_i1555,s),_t2338+=_i1555;}o=_t2338||1;}var x=p(n,o,s);for(var _t2339=1;_t2339<=o;_t2339+=1){l[_t2339]=s-(_t2339-1)*x;}{var _t2340=0;for(var _e1691 in l){_t2340+=l[_e1691];}var _e1690=_t2340/(n-2),_i1556=_t2340/(n+2),_s906=_t2340/n,_o516={},_h225=0;for(var _t2341 in l){_o516[_t2341]=K(l[_t2341]/_s906,0),_h225+=_o516[_t2341];}for(;_h225!==n;){_h225<n?_e1690=_s906:_h225>n&&(_i1556=_s906),_s906=(_e1690+_i1556)/2,_o516={},_h225=0;for(var _t2342 in l){_o516[_t2342]=K(l[_t2342]/_s906,0),_h225+=_o516[_t2342];}}a=_o516;}{for(var _t2343=1;_t2343<=o;_t2343+=1){var _e1693=[],_n657=s-(_t2343-1)*x,_o517=vf*_n657/(a[_t2343]-1||1);for(var _s907=0;_s907<=a[_t2343]-1;_s907+=1){var _t2344={x:K(_n657*mf(_s907*_o517/_n657-vf),c),y:K(_n657*bf(_s907*_o517/_n657-vf),c),r:K(i/2*x,c)};_e1693.push(_t2344);}h.push(_e1693);}var _e1692=Array(h.length).fill(0);for(var _i1557=0;_i1557<t.length;_i1557+=1){var _s908=t[_i1557];for(var _t2345=0;_t2345<_s908.seats;_t2345+=1){var _t2346=void 0,_s909=void 0,_n658=void 0;for(var _t2347 in h){_n658=K((_e1692[_t2347]||0)/h[_t2347].length,10),(!_s909||_n658<_s909)&&(_s909=_n658);}for(var _i1558 in h){if(_n658=K((_e1692[_i1558]||0)/h[_i1558].length,10),_n658===_s909){_t2346=_i1558;break;}}h[_t2346][_e1692[_t2346]].partyIndex=_i1557,_e1692[_t2346]+=1;}}}for(var _t2348 in h){var _iterator1556=_createForOfIteratorHelper(h[_t2348]),_step1556;try{for(_iterator1556.s();!(_step1556=_iterator1556.n()).done;){var _e1694=_step1556.value;void 0===r[_e1694.partyIndex]&&(r[_e1694.partyIndex]=[]),r[_e1694.partyIndex].push(_e1694);}}catch(err){_iterator1556.e(err);}finally{_iterator1556.f();}}{var _e1695=r[0][0].r/(i/2),_n659="<svg viewBox=\"".concat(-100-_e1695/2," ").concat(-100-_e1695/2," ").concat(200+_e1695," ").concat(s+_e1695,"\">");for(var _e1696=0;_e1696<t.length;_e1696+=1){_n659+="<g style=\"fill: ".concat(t[_e1696].color,"\">");var _iterator1557=_createForOfIteratorHelper(r[_e1696]),_step1557;try{for(_iterator1557.s();!(_step1557=_iterator1557.n()).done;){var _t2349=_step1557.value;_n659+="<circle cx=\"".concat(_t2349.x,"\" cy=\"").concat(_t2349.y,"\" r=\"").concat(_t2349.r,"\"></circle>");}}catch(err){_iterator1557.e(err);}finally{_iterator1557.f();}_n659+="</g>";}_n659+="</svg>",d=Zi(_templateObject81(),_n659);}return d;}},{key:"qs",value:function qs(){var _iterator1558=_createForOfIteratorHelper(this["#parties-box"].querySelectorAll(".delete-button")),_step1558;try{for(_iterator1558.s();!(_step1558=_iterator1558.n()).done;){var _t2352=_step1558.value;_t2352.disabled=1===this["#parties-box"].childElementCount;}}catch(err){_iterator1558.e(err);}finally{_iterator1558.f();}{var _t2350=this["#hall-radius-slider"].value/100,_e1698=this["#seat-radius-slider"].value/100,_i1559=[];var _iterator1559=_createForOfIteratorHelper(this["#parties-box"].children),_step1559;try{for(_iterator1559.s();!(_step1559=_iterator1559.n()).done;){var _t2351=_step1559.value;_i1559.push({seats:_t2351.querySelector("x-numberinput").value,color:_t2351.querySelector("x-colorselect").value});}}catch(err){_iterator1559.e(err);}finally{_iterator1559.f();}var _s910=this.VC(_i1559,_t2350,_e1698);this["#preview"].innerHTML=_s910.innerHTML,this["#preview"].setAttribute("viewBox",_s910.getAttribute("viewBox"));}}}]);return Sf;}(hf);_defineProperty(Sf,"MC",qi(_templateObject484()));_defineProperty(Sf,"PC",qi(_templateObject485()));_defineProperty(Sf,"BC",qi(_templateObject486()));_defineProperty(Sf,"_shadowStyleSheet",Xi(_templateObject487()));customElements.define("bx-parliamentchartgenerator",Sf);var _f=Math.min,Cf=Math.max,Mf=Math.floor,Pf=["#247ba0","#70c1b3","#b2dbbf","#f3ffbd","#ff1654"];var Df=/*#__PURE__*/function(_hf4){_inherits(Df,_hf4);var _super214=_createSuper(Df);function Df(){var _this949;_classCallCheck(this,Df);_this949=_super214.call(this),_this949["#width-input"].addEventListener("changestart",function(){return _this949.Rg();}),_this949["#height-input"].addEventListener("changestart",function(){return _this949.Gg();}),_this949["#aspect-ratio-button"].addEventListener("toggle",function(){return _this949.Tg();}),_this949["#cell-size-box"].addEventListener("changestart",function(){return _this949.jC();}),_this949["#variance-box"].addEventListener("changestart",function(){return _this949.HC();}),_this949["#seed-box"].addEventListener("changestart",function(){return _this949.wk();}),_this949["#colors-box"].addEventListener("changestart",function(){return _this949.YC();}),_this949["#random-colors-button"].addEventListener("click",function(){return _this949.WC();}),_this949["#generate-button"].addEventListener("click",function(){return _this949.EC();});return _this949;}_createClass(Df,[{key:"connectedCallback",value:function(){var _connectedCallback6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee198(){var t,e,i,s,n,o,l,_t2353;return regeneratorRuntime.wrap(function _callee198$(_context199){while(1){switch(_context199.prev=_context199.next){case 0:this.Qs=Ii(this,"#app");this.Js=Ii(this,"bx-editor");_context199.t0=window.Delaunator;if(_context199.t0){_context199.next=6;break;}_context199.next=6;return rf("/node_modules/delaunator/delaunator.min.js");case 6:_context199.t1=window.chroma;if(_context199.t1){_context199.next=10;break;}_context199.next=10;return rf("/node_modules/chroma-js/chroma.min.js");case 10:_context199.t2=Math.seedrandom;if(_context199.t2){_context199.next=14;break;}_context199.next=14;return rf("/node_modules/seedrandom/seedrandom.min.js");case 14:t=this.Qs.getConfig("bx-triangulatedsurfacegenerator:width",500),e=this.Qs.getConfig("bx-triangulatedsurfacegenerator:height",400),i=this.Qs.getConfig("bx-triangulatedsurfacegenerator:cellSize",.2),s=this.Qs.getConfig("bx-triangulatedsurfacegenerator:variance",.75),n=this.Qs.getConfig("bx-triangulatedsurfacegenerator:seed",100),o=this.Qs.getConfig("bx-triangulatedsurfacegenerator:colors",Pf),l=this.Qs.getConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",!1);this["#width-input"].value=t,this["#height-input"].value=e,this["#aspect-ratio-button"].toggled=l,this["#aspect-ratio-icon"].name=l?"lock-on":"lock-off",this["#cell-size-slider"].value=K(100*i,2),this["#cell-size-input"].value=K(100*i,2),this["#variance-slider"].value=K(100*s,2),this["#variance-input"].value=K(100*s,2),this["#seed-slider"].value=n,this["#seed-input"].value=n;for(_t2353=0;_t2353<5;_t2353+=1){this["#colors-box"].children[_t2353].value=o[_t2353];}this.qs();case 18:case"end":return _context199.stop();}}},_callee198,this);}));function connectedCallback(){return _connectedCallback6.apply(this,arguments);}return connectedCallback;}()},{key:"Rg",value:function Rg(){var _this950=this;var t,_e1699,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this950["#aspect-ratio-button"].toggled){var _t2354=_this950["#width-input"].value/i;_t2354=Q(_t2354,1,Infinity,0),_this950["#height-input"].value=_t2354;}_this950.qs();}),this["#width-input"].addEventListener("changeend",_e1699=function e(){_this950["#width-input"].removeEventListener("change",t),_this950["#width-input"].removeEventListener("changeend",_e1699),_this950.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this950["#width-input"].value),_this950.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this950["#height-input"].value);});}},{key:"Gg",value:function Gg(){var _this951=this;var t,_e1700,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this951["#aspect-ratio-button"].toggled){var _t2355=_this951["#height-input"].value/i;_t2355=Q(_t2355,1,Infinity,0),_this951["#width-input"].value=_t2355;}_this951.qs();}),this["#height-input"].addEventListener("changeend",_e1700=function e(){_this951["#height-input"].removeEventListener("change",t),_this951["#height-input"].removeEventListener("changeend",_e1700),_this951.Qs.setConfig("bx-triangulatedsurfacegenerator:width",_this951["#width-input"].value),_this951.Qs.setConfig("bx-triangulatedsurfacegenerator:height",_this951["#height-input"].value);});}},{key:"Tg",value:function Tg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-triangulatedsurfacegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"jC",value:function jC(){var _this952=this;var t,_e1701;this["#cell-size-box"].addEventListener("change",t=function t(_t2356){_t2356.target===_this952["#cell-size-slider"]?_this952["#cell-size-input"].value=_this952["#cell-size-slider"].value:_t2356.target===_this952["#cell-size-input"]&&(_this952["#cell-size-slider"].value=_this952["#cell-size-input"].value),_this952.qs();}),this["#cell-size-box"].addEventListener("changeend",_e1701=function e(){_this952["#cell-size-box"].removeEventListener("change",t),_this952["#cell-size-box"].removeEventListener("changeend",_e1701),_this952.Qs.setConfig("bx-triangulatedsurfacegenerator:cellSize",_this952["#cell-size-slider"].value/100);});}},{key:"HC",value:function HC(){var _this953=this;var t,_e1702;this["#variance-box"].addEventListener("change",t=function t(_t2357){_t2357.target===_this953["#variance-slider"]?_this953["#variance-input"].value=_this953["#variance-slider"].value:_t2357.target===_this953["#variance-input"]&&(_this953["#variance-slider"].value=_this953["#variance-input"].value),_this953.qs();}),this["#variance-box"].addEventListener("changeend",_e1702=function e(){_this953["#variance-box"].removeEventListener("change",t),_this953["#variance-box"].removeEventListener("changeend",_e1702),_this953.Qs.setConfig("bx-triangulatedsurfacegenerator:variance",_this953["#variance-slider"].value/100);});}},{key:"wk",value:function wk(){var _this954=this;var t,_e1703;this["#seed-box"].addEventListener("change",t=function t(_t2358){_t2358.target===_this954["#seed-slider"]?_this954["#seed-input"].value=_this954["#seed-slider"].value:_t2358.target===_this954["#seed-input"]&&(_this954["#seed-slider"].value=_this954["#seed-input"].value),_this954.qs();}),this["#seed-box"].addEventListener("changeend",_e1703=function e(){_this954["#seed-box"].removeEventListener("change",t),_this954["#seed-box"].removeEventListener("changeend",_e1703),_this954.Qs.setConfig("bx-triangulatedsurfacegenerator:seed",_this954["#seed-slider"].value);});}},{key:"YC",value:function YC(){var _this955=this;var t,_e1704;this["#colors-box"].addEventListener("change",t=function t(_t2359){_this955.qs();}),this["#colors-box"].addEventListener("changeend",_e1704=function e(){_this955["#colors-box"].removeEventListener("change",t),_this955["#colors-box"].removeEventListener("changeend",_e1704);var i=_toConsumableArray(_this955["#colors-box"].children).map(function(t){return t.value;});_this955.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",i);});}},{key:"WC",value:function(){var _WC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee199(){var t,e,_t2360;return regeneratorRuntime.wrap(function _callee199$(_context200){while(1){switch(_context200.prev=_context200.next){case 0:t=hl(0,L.length-1),e=L[t];for(_t2360=0;_t2360<5;_t2360+=1){this["#colors-box"].children[_t2360].value=e[_t2360];}this.Qs.setConfig("bx-triangulatedsurfacegenerator:colors",e),this.qs();case 3:case"end":return _context200.stop();}}},_callee199,this);}));function WC(){return _WC.apply(this,arguments);}return WC;}()},{key:"EC",value:function EC(){var t=this["#preview"].cloneNode(!0);t.style.shapeRendering="crispEdges",this.Js.board.undoManager.checkpoint("Generate triangle art"),this.Js.board.insertArtwork(t);}},{key:"qC",value:function qC(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:600;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:400;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:75;var n=arguments.length>4&&arguments[4]!==undefined?arguments[4]:.75;var o=arguments.length>5&&arguments[5]!==undefined?arguments[5]:50;s<.02*e&&(s=K(.02*e));var l=Mf((e+4*s)/s),a=Mf((i+4*s)/s),h=(l*s-e)/2,r=(a*s-i)/2,d=function d(t,e,i){return(t-e[0])*(i[1]-i[0])/(e[1]-e[0])+i[0];},c=function c(t,e){return _f(Cf(t,e[0]),e[1]);},p=function p(t){return{x:(t[0][0]+t[1][0]+t[2][0])/3,y:(t[0][1]+t[1][1]+t[2][1])/3};},u=function u(t){return c(d(t,[0,e],[0,1]),[0,1]);},x=function x(t){return c(d(t,[0,i],[0,1]),[0,1]);},b=[],m=[],g="";{var _t2361=s*n/2,_l388=new Math.seedrandom(o);for(var _n660=-h;_n660<e+h;_n660+=s){for(var _e1705=-r;_e1705<i+r;_e1705+=s){var _i1560=_n660+.5*s+(_l388()*_t2361*2-_t2361),_o518=_e1705+.5*s+(_l388()*_t2361*2-_t2361);b.push([Mf(_i1560),Mf(_o518)]);}}}{var _e1706=Delaunator.from(b).triangles,_i1561=chroma.scale(t).mode("lab");for(var _t2362=0;_t2362<_e1706.length;_t2362+=3){var _s911=[_e1706[_t2362],_e1706[_t2362+1],_e1706[_t2362+2]].map(function(t){return b[t];}),_n661=p(_s911),_o519=_i1561(u(_n661.x)),_l389=_i1561(x(_n661.y)),_a283=chroma.interpolate(_o519,_l389,.5,"lab").css();m.push([_a283,_s911]);}}{var _t2363="";for(var _i1562=0,_m47=m;_i1562<_m47.length;_i1562++){var _m47$_i=_slicedToArray(_m47[_i1562],2),_s912=_m47$_i[0],_m47$_i$=_slicedToArray(_m47$_i[1],3),_n662=_m47$_i$[0],_o520=_m47$_i$[1],_l390=_m47$_i$[2];var _a284=je(new DOMRect(0,0,e,i),[new DOMPoint(_n662[0],_n662[1]),new DOMPoint(_o520[0],_o520[1]),new DOMPoint(_l390[0],_l390[1])]);if(_a284.length>1){var _a285=_toArray(_a284),_e1707=_a285[0],_i1563=_a285.slice(1),_n663="M ".concat(_e1707.x," ").concat(_e1707.y);var _iterator1560=_createForOfIteratorHelper(_i1563),_step1560;try{for(_iterator1560.s();!(_step1560=_iterator1560.n()).done;){var _t2364=_step1560.value;_n663+=" L ".concat(_t2364.x," ").concat(_t2364.y);}}catch(err){_iterator1560.e(err);}finally{_iterator1560.f();}_n663+=" Z",_t2363+="<path d=\"".concat(_n663,"\" style=\"fill: ").concat(_s912,";\"></path>");}}g="\n        <svg viewBox=\"0 0 ".concat(e," ").concat(i,"\" style=\"shape-rendering: crispedges;\">\n          <g>").concat(_t2363,"</g>\n        </svg>\n      ");}return Zi(_templateObject82(),g);}},{key:"qs",value:function(){var _qs3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee200(){var t,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee200$(_context201){while(1){switch(_context201.prev=_context201.next){case 0:t=this["#width-input"].value,e=this["#height-input"].value,i=this["#cell-size-slider"].value/100*_f(t,e),s=this["#variance-slider"].value/100,n=this["#seed-slider"].value,o=_toConsumableArray(this["#colors-box"].children).map(function(t){return t.value;}),l=this.qC(o,t,e,i,s,n);this["#preview"].innerHTML=l.innerHTML,this["#preview"].setAttribute("viewBox","0 0 ".concat(t," ").concat(e));case 2:case"end":return _context201.stop();}}},_callee200,this);}));function qs(){return _qs3.apply(this,arguments);}return qs;}()}]);return Df;}(hf);_defineProperty(Df,"MC",qi(_templateObject488()));_defineProperty(Df,"PC",qi(_templateObject489()));_defineProperty(Df,"_shadowStyleSheet",Xi(_templateObject490()));customElements.define("bx-triangulatedsurfacegenerator",Df);var zf=/*#__PURE__*/function(_hf5){_inherits(zf,_hf5);var _super215=_createSuper(zf);_createClass(zf,[{key:"options",get:function get(){return{width:this["#width-input"].value,height:this["#height-input"].value,columns:this["#columns-input"].value,rows:this["#rows-input"].value,tabSize:this["#tab-size-slider"].value,jitter:this["#jitter-slider"].value,seed:this["#seed-slider"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function zf(){var _this956;_classCallCheck(this,zf);_this956=_super215.call(this),_this956.Kc=Qi(_this956.qs,1e3,_assertThisInitialized(_this956)),_this956["#columns-input"].addEventListener("changestart",function(){return _this956.XC();}),_this956["#rows-input"].addEventListener("changestart",function(){return _this956.ZC();}),_this956["#width-input"].addEventListener("changestart",function(){return _this956.Rg();}),_this956["#height-input"].addEventListener("changestart",function(){return _this956.Gg();}),_this956["#aspect-ratio-button"].addEventListener("toggle",function(){return _this956.Tg();}),_this956["#tab-size-box"].addEventListener("changestart",function(){return _this956.KC();}),_this956["#jitter-box"].addEventListener("changestart",function(){return _this956.QC();}),_this956["#seed-box"].addEventListener("changestart",function(){return _this956.wk();}),_this956["#generate-button"].addEventListener("click",function(){return _this956.EC();});return _this956;}_createClass(zf,[{key:"connectedCallback",value:function(){var _connectedCallback7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee201(){var _this957=this;var t,e,i,s,n,o,l,a;return regeneratorRuntime.wrap(function _callee201$(_context202){while(1){switch(_context202.prev=_context202.next){case 0:this.Qs=Ii(this,"#app");this.Js=Ii(this,"bx-editor");_context202.t0=Math.seedrandom;if(_context202.t0){_context202.next=6;break;}_context202.next=6;return rf("/node_modules/seedrandom/seedrandom.min.js");case 6:t=this.Qs.getConfig("bx-jigsawpuzzlegenerator:columns",8),e=this.Qs.getConfig("bx-jigsawpuzzlegenerator:rows",8),i=this.Qs.getConfig("bx-jigsawpuzzlegenerator:width",500),s=this.Qs.getConfig("bx-jigsawpuzzlegenerator:height",400),n=this.Qs.getConfig("bx-jigsawpuzzlegenerator:tabSize",.2),o=this.Qs.getConfig("bx-jigsawpuzzlegenerator:jitter",.02),l=this.Qs.getConfig("bx-jigsawpuzzlegenerator:seed",100),a=this.Qs.getConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",!1);this["#columns-input"].value=t,this["#rows-input"].value=e,this["#width-input"].value=i,this["#height-input"].value=s,this["#aspect-ratio-button"].toggled=a,this["#aspect-ratio-icon"].name=a?"lock-on":"lock-off",this["#tab-size-slider"].value=K(100*n,2),this["#tab-size-input"].value=K(100*n,2),this["#jitter-slider"].value=K(100*o,2),this["#jitter-input"].value=K(100*o,2),this["#seed-slider"].value=l,this["#seed-input"].value=l,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this957.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this957.Kc();});case 8:case"end":return _context202.stop();}}},_callee201,this);}));function connectedCallback(){return _connectedCallback7.apply(this,arguments);}return connectedCallback;}()},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"XC",value:function XC(t){var _this958=this;var _e1708;this["#columns-input"].addEventListener("changeend",_e1708=function e(){_this958["#columns-input"].removeEventListener("changeend",_e1708),_this958.Qs.setConfig("bx-jigsawpuzzlegenerator:columns",_this958["#columns-input"].value),_this958.JC();});}},{key:"ZC",value:function ZC(t){var _this959=this;var _e1709;this["#rows-input"].addEventListener("changeend",_e1709=function e(){_this959["#rows-input"].removeEventListener("changeend",_e1709),_this959.Qs.setConfig("bx-jigsawpuzzlegenerator:rows",_this959["#rows-input"].value),_this959.JC();});}},{key:"Rg",value:function Rg(){var _this960=this;var t,_e1710,i=this["#width-input"].value/this["#height-input"].value;this["#width-input"].addEventListener("change",t=function t(){if(_this960["#aspect-ratio-button"].toggled){var _t2365=_this960["#width-input"].value/i;_t2365=Q(_t2365,1,Infinity,0),_this960["#height-input"].value=_t2365;}_this960.JC();}),this["#width-input"].addEventListener("changeend",_e1710=function e(){_this960["#width-input"].removeEventListener("change",t),_this960["#width-input"].removeEventListener("changeend",_e1710),_this960.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this960["#width-input"].value),_this960.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this960["#height-input"].value);});}},{key:"Gg",value:function Gg(){var _this961=this;var t,_e1711,i=this["#height-input"].value/this["#width-input"].value;this["#height-input"].addEventListener("change",t=function t(){if(_this961["#aspect-ratio-button"].toggled){var _t2366=_this961["#height-input"].value/i;_t2366=Q(_t2366,1,Infinity,0),_this961["#width-input"].value=_t2366;}_this961.JC();}),this["#height-input"].addEventListener("changeend",_e1711=function e(){_this961["#height-input"].removeEventListener("change",t),_this961["#height-input"].removeEventListener("changeend",_e1711),_this961.Qs.setConfig("bx-jigsawpuzzlegenerator:width",_this961["#width-input"].value),_this961.Qs.setConfig("bx-jigsawpuzzlegenerator:height",_this961["#height-input"].value);});}},{key:"Tg",value:function Tg(){var t=this["#aspect-ratio-button"].toggled;this.Qs.setConfig("bx-jigsawpuzzlegenerator:preserveAspectRatio",t),this["#aspect-ratio-icon"].name=t?"lock-on":"lock-off";}},{key:"KC",value:function KC(){var _this962=this;var t,_e1712;this["#tab-size-box"].addEventListener("change",t=function t(_t2367){_t2367.target===_this962["#tab-size-slider"]?_this962["#tab-size-input"].value=_this962["#tab-size-slider"].value:_t2367.target===_this962["#tab-size-input"]&&(_this962["#tab-size-slider"].value=_this962["#tab-size-input"].value),_this962.JC();}),this["#tab-size-box"].addEventListener("changeend",_e1712=function e(){_this962["#tab-size-box"].removeEventListener("change",t),_this962["#tab-size-box"].removeEventListener("changeend",_e1712),_this962.Qs.setConfig("bx-jigsawpuzzlegenerator:tabSize",_this962["#tab-size-slider"].value/100);});}},{key:"QC",value:function QC(){var _this963=this;var t,_e1713;this["#jitter-box"].addEventListener("change",t=function t(_t2368){_t2368.target===_this963["#jitter-slider"]?_this963["#jitter-input"].value=_this963["#jitter-slider"].value:_t2368.target===_this963["#jitter-input"]&&(_this963["#jitter-slider"].value=_this963["#jitter-input"].value),_this963.JC();}),this["#jitter-box"].addEventListener("changeend",_e1713=function e(){_this963["#jitter-box"].removeEventListener("change",t),_this963["#jitter-box"].removeEventListener("changeend",_e1713),_this963.Qs.setConfig("bx-jigsawpuzzlegenerator:jitter",_this963["#jitter-slider"].value/100);});}},{key:"wk",value:function wk(){var _this964=this;var t,_e1714;this["#seed-box"].addEventListener("change",t=function t(_t2369){_t2369.target===_this964["#seed-slider"]?_this964["#seed-input"].value=_this964["#seed-slider"].value:_t2369.target===_this964["#seed-input"]&&(_this964["#seed-slider"].value=_this964["#seed-input"].value),_this964.JC();}),this["#seed-box"].addEventListener("changeend",_e1714=function e(){_this964["#seed-box"].removeEventListener("change",t),_this964["#seed-box"].removeEventListener("changeend",_e1714),_this964.Qs.setConfig("bx-jigsawpuzzlegenerator:seed",_this964["#seed-slider"].value);});}},{key:"EC",value:function EC(){var t=this["#preview"].cloneNode(!0);this.Js.board.undoManager.checkpoint("Jigsaw puzzle"),this.Js.board.insertArtwork(t);}},{key:"tM",value:function tM(t){var e,i,s,n,o,l,a,h,r,d=t.width,c=t.height,p=t.seed,u=t.tabSize/200,x=t.jitter/100,b=t.columns,m=t.rows,g=new Math.seedrandom(p),f=function f(t,e){return t+g()*(e-t);},w=function w(){o=f(-x,x),v();},v=function v(){var t=h;h=g()>.5,e=h==t?-o:o,i=f(-x,x),s=f(-x,x),n=f(-x,x),o=f(-x,x);},y=function y(){return r?c/m:d/b;},k=function k(){return r?d/b:c/m;},S=function S(t){return Math.round(100*(0+y()*(r?a:l)+y()*t))/100;},_=function _(t){return Math.round(100*(0+k()*(r?l:a)+k()*t*(h?-1:1)))/100;},C=function C(){return S(0);},M=function M(){return _(0);},P=function P(){return S(.2);},D=function D(){return _(e);},z=function z(){return S(.5+i+n);},O=function O(){return _(-u+s);},E=function E(){return S(.5-u+i);},T=function T(){return _(u+s);},A=function A(){return S(.5-2*u+i-n);},$=function $(){return _(3*u+s);},I=function I(){return S(.5+2*u+i-n);},L=function L(){return _(3*u+s);},B=function B(){return S(.5+u+i);},R=function R(){return _(u+s);},G=function G(){return S(.5+i+n);},F=function F(){return _(-u+s);},U=function U(){return S(.8);},N=function N(){return _(o);},V=function V(){return S(1);},j=function j(){return _(0);},H=[],Y=[],W=[];for(r=0,a=0;a<=m;++a){for(l=0,w(),H[a]=[];l<=b;++l){0===a||a===m?H[a].push([{type:"M",values:[C(),M()]},{type:"L",values:[V(),j()]}]):H[a].push([{type:"M",values:[C(),M()]},{type:"C",values:[P(),D(),z(),O(),E(),T()]},{type:"C",values:[A(),$(),I(),L(),B(),R()]},{type:"C",values:[G(),F(),U(),N(),V(),j()]}]),v();}}for(r=1,l=0;l<=b;++l){for(a=0,w(),Y[l]=[];a<=m;++a){0===l||l===b?Y[l].push([{type:"M",values:[M(),C()]},{type:"L",values:[j(),V()]}]):Y[l].push([{type:"M",values:[M(),C()]},{type:"C",values:[D(),P(),O(),z(),T(),E()]},{type:"C",values:[$(),A(),L(),I(),R(),B()]},{type:"C",values:[F(),G(),N(),U(),j(),V()]}]),v();}}for(var _t2370=0;_t2370<b;_t2370+=1){for(var _e1715=0;_e1715<m;_e1715+=1){var _i1564=[].concat(_toConsumableArray(H[_e1715][_t2370]),_toConsumableArray(Y[_t2370+1][_e1715].slice(1)),_toConsumableArray(rt(H[_e1715+1][_t2370]).slice(1)),_toConsumableArray(rt(Y[_t2370][_e1715]).slice(1)),[{type:"Z"}]);W.push(_i1564);}}return W;}},{key:"qs",value:function qs(){this.JC();}},{key:"JC",value:function JC(){var t=this.tM(this.options),e="";var _iterator1561=_createForOfIteratorHelper(t),_step1561;try{for(_iterator1561.s();!(_step1561=_iterator1561.n()).done;){var _i1565=_step1561.value;e+="<path style=\"fill: white; stroke: black; stroke-width: 1px;\" d=\"".concat(it(_i1565),"\"></path>");}}catch(err){_iterator1561.e(err);}finally{_iterator1561.f();}this["#preview"].innerHTML="<g>".concat(e,"</g>"),this["#preview"].setAttribute("viewBox","0 0 ".concat(this.options.width," ").concat(this.options.height));}}]);return zf;}(hf);_defineProperty(zf,"MC",qi(_templateObject491()));_defineProperty(zf,"PC",qi(_templateObject492()));_defineProperty(zf,"_shadowStyleSheet",Xi(_templateObject493()));customElements.define("bx-jigsawpuzzlegenerator",zf);var Of=function Of(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"png";var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return new Promise(/*#__PURE__*/function(){var _ref185=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee206(s){var _e1716,_n664,_o521,_e1717,_n665,_o522,_e1718,_n666,_o523,_e1719,_n667,_o524;return regeneratorRuntime.wrap(function _callee206$(_context207){while(1){switch(_context207.prev=_context207.next){case 0:if("png"===e){_e1716=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n664=URL.createObjectURL(_e1716),_o521=new Image();_o521.src=_n664,_o521.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee202(){var t,e,l,a,h,r,d,c,p;return regeneratorRuntime.wrap(function _callee202$(_context203){while(1){switch(_context203.prev=_context203.next){case 0:t=i.background||"rgba(0, 0, 0, 0)",e=i.dpi||96,l=i.colors||0,a=new OffscreenCanvas(_o521.naturalWidth,_o521.naturalHeight),h=a.getContext("2d");h.fillStyle=t,h.fillRect(0,0,_o521.naturalWidth,_o521.naturalHeight),h.drawImage(_o521,0,0);r=h.getImageData(0,0,a.width,a.height),d=UPNG.encode([r.data.buffer],r.width,r.height,l),c=new Uint8Array(d);c=Qh(c,e);p=new Blob([c],{type:"image/png"});URL.revokeObjectURL(_n664),s(p);case 6:case"end":return _context203.stop();}}},_callee202);})),{once:!0});}else if("jpeg"===e||"jpg"===e){_e1717=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n665=URL.createObjectURL(_e1717),_o522=new Image();_o522.src=_n665,_o522.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee203(){var t,e,l,a,h;return regeneratorRuntime.wrap(function _callee203$(_context204){while(1){switch(_context204.prev=_context204.next){case 0:t=i.background||"rgb(255, 255, 255)",e=i.compression||1,l=new OffscreenCanvas(_o522.naturalWidth,_o522.naturalHeight),a=l.getContext("2d");a.fillStyle="white",a.fillRect(0,0,_o522.naturalWidth,_o522.naturalHeight),a.fillStyle=t,a.fillRect(0,0,_o522.naturalWidth,_o522.naturalHeight),a.drawImage(_o522,0,0);_context204.next=4;return l.convertToBlob({type:"image/jpeg",quality:e});case 4:h=_context204.sent;URL.revokeObjectURL(_n665),s(h);case 6:case"end":return _context204.stop();}}},_callee203);})),{once:!0});}else if("gif"===e){_e1718=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n666=URL.createObjectURL(_e1718),_o523=new Image();_o523.src=_n666,_o523.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee204(){var t,e,n,l,a,h;return regeneratorRuntime.wrap(function _callee204$(_context205){while(1){switch(_context205.prev=_context205.next){case 0:t=i.background?wo(i.background,"hex"):"#ffffff",e=i.transparent||!1,n=!1;"floyd-steinberg"===i.dithering?n="FloydSteinberg":"false-floyd-steinberg"===i.dithering?n="FalseFloydSteinberg":"stucki"===i.dithering?n="Stucki":"atkinson"===i.dithering&&(n="Atkinson");l=new OffscreenCanvas(_o523.naturalWidth,_o523.naturalHeight).getContext("2d");l.fillStyle=t,l.fillRect(0,0,_o523.naturalWidth,_o523.naturalHeight),l.drawImage(_o523,0,0);a=l.getImageData(0,0,_o523.naturalWidth,_o523.naturalHeight),h=new GIF({workers:2,quality:1,dither:n,transparent:e?parseInt("0x"+t.substring(1)):null,workerScript:"node_modules/gif.js/dist/gif.worker.js"});h.addFrame(a),h.render(),h.on("finished",function(t){s(t);});case 6:case"end":return _context205.stop();}}},_callee204);})),{once:!0});}else if("webp"===e){_e1719=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),_n667=URL.createObjectURL(_e1719),_o524=new Image();_o524.src=_n667,_o524.addEventListener("load",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee205(){var t,e,l,a,h;return regeneratorRuntime.wrap(function _callee205$(_context206){while(1){switch(_context206.prev=_context206.next){case 0:t=i.background||"rgba(255, 255, 255, 0)",e=i.compression||1,l=new OffscreenCanvas(_o524.naturalWidth,_o524.naturalHeight),a=l.getContext("2d");a.fillStyle=t,a.fillRect(0,0,_o524.naturalWidth,_o524.naturalHeight),a.drawImage(_o524,0,0);_context206.next=4;return l.convertToBlob({type:"image/webp",quality:e});case 4:h=_context206.sent;URL.revokeObjectURL(_n667),s(h);case 6:case"end":return _context206.stop();}}},_callee205);})),{once:!0});}case 1:case"end":return _context207.stop();}}},_callee206);}));return function(_x221){return _ref185.apply(this,arguments);};}());};var Ef=/*#__PURE__*/function(_hf6){_inherits(Ef,_hf6);var _super216=_createSuper(Ef);function Ef(){var _this965;_classCallCheck(this,Ef);_this965=_super216.call(this),_this965["#format-buttons"].addEventListener("toggle",function(){return _this965.eM();}),_this965["#ppu-box"].addEventListener("changestart",function(t){return _this965.iM(t);}),_this965["#colors-mode-buttons"].addEventListener("toggle",function(){return _this965.sM();}),_this965["#colors-slider"].addEventListener("changestart",function(){return _this965.nM();}),_this965["#colors-input"].addEventListener("changestart",function(){return _this965.oM();}),_this965["#compression-slider"].addEventListener("changestart",function(){return _this965.lM();}),_this965["#compression-input"].addEventListener("changestart",function(){return _this965.aM();}),_this965["#background-select"].addEventListener("changeend",function(){return _this965.hM();}),_this965["#background-popover"].addEventListener("close",function(){return _this965.rM();}),_this965["#preview-button"].addEventListener("click",function(){return _this965.dM();}),_this965["#generate-button"].addEventListener("click",function(){return _this965.EC();});return _this965;}_createClass(Ef,[{key:"connectedCallback",value:function connectedCallback(){var _this966=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Js.board,e=this.Qs.getConfig("bx-rasterizegenerator:format","png"),i=this.Qs.getConfig("bx-rasterizegenerator:ppu",1),s=this.Qs.getConfig("bx-rasterizegenerator:colorsMode","rgb"),n=this.Qs.getConfig("bx-rasterizegenerator:colors",256),o=this.Qs.getConfig("bx-rasterizegenerator:compression",1),l=this.Qs.getConfig("bx-rasterizegenerator:background","rgb(255, 255, 255)");this["#format-buttons"].value=e,this["#ppu-slider"].value=i,this["#ppu-input"].value=i,this["#colors-mode-buttons"].value=s,this["#colors-slider"].value=n,this["#colors-input"].value=n,this["#compression-slider"].value=o,this["#compression-input"].value=o,this["#background-select"].value=l,this.qs(),t.addEventListener("selectedelementschange",this.Qo=function(){_this966.Jo();}),t.addEventListener("workspacemutation",this.rn=function(){_this966.sl();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){this.cM(),this.qs();}},{key:"sl",value:function sl(){this.cM(),this.qs();}},{key:"eM",value:function eM(){this.Qs.setConfig("bx-rasterizegenerator:format",this["#format-buttons"].value),this.cM(),this.qs();}},{key:"iM",value:function iM(t){var _this967=this;var e,_i1566;this.cM(),this["#ppu-box"].addEventListener("change",e=function e(t){t.target===_this967["#ppu-slider"]?_this967["#ppu-input"].value=_this967["#ppu-slider"].value:t.target===_this967["#ppu-input"]&&(_this967["#ppu-slider"].value=_this967["#ppu-input"].value),_this967.qs();}),this["#ppu-box"].addEventListener("changeend",_i1566=function i(){_this967["#ppu-box"].removeEventListener("change",e),_this967["#ppu-box"].removeEventListener("changeend",_i1566),_this967.Qs.setConfig("bx-rasterizegenerator:ppu",_this967["#ppu-slider"].value);});}},{key:"sM",value:function sM(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-rasterizegenerator:colorsMode",this["#colors-mode-buttons"].value),this.cM();}},{key:"nM",value:function nM(){var _this968=this;var t,_e1720;this["#colors-slider"].addEventListener("change",t=function t(){_this968["#colors-input"].value=_this968["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1720=function e(){_this968["#colors-slider"].removeEventListener("change",t),_this968["#colors-slider"].removeEventListener("changeend",_e1720),_this968.Qs.setConfig("bx-rasterizegenerator:colors",_this968["#colors-slider"].value),_this968.cM();});}},{key:"oM",value:function oM(){var _this969=this;var t,_e1721;this["#colors-input"].addEventListener("change",t=function t(){_this969["#colors-slider"].value=_this969["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1721=function e(){_this969["#colors-input"].removeEventListener("change",t),_this969["#colors-input"].removeEventListener("changeend",_e1721),_this969.Qs.setConfig("bx-rasterizegenerator:colors",_this969["#colors-input"].value),_this969.cM();});}},{key:"lM",value:function lM(){var _this970=this;var t,_e1722;this["#compression-slider"].addEventListener("change",t=function t(){_this970["#compression-input"].value=_this970["#compression-slider"].value,_this970.Qs.setConfig("bx-rasterizegenerator:compression",_this970["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1722=function e(){_this970["#compression-slider"].removeEventListener("change",t),_this970["#compression-slider"].removeEventListener("changeend",_e1722),_this970.cM();});}},{key:"aM",value:function aM(){var _this971=this;var t,_e1723;this["#compression-input"].addEventListener("change",t=function t(){_this971["#compression-slider"].value=_this971["#compression-input"].value,_this971.Qs.setConfig("bx-rasterizegenerator:compression",_this971["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1723=function e(){_this971["#compression-input"].removeEventListener("change",t),_this971["#compression-input"].removeEventListener("changeend",_e1723),_this971.cM();});}},{key:"hM",value:function hM(){this.pM=!0;}},{key:"rM",value:function rM(){this.pM&&(this.pM=!1,this.Qs.setConfig("bx-rasterizegenerator:background",this["#background-select"].value),this.cM());}},{key:"dM",value:function dM(){this.uM();}},{key:"EC",value:function(){var _EC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee207(){var t,e,i,s,n,o,l,a,h,r,d,c,_iterator1562,_step1562,_t2371;return regeneratorRuntime.wrap(function _callee207$(_context208){while(1){switch(_context208.prev=_context208.next){case 0:t=this.Js.board,e=this["#format-buttons"].value,i=this["#ppu-input"].value,s=t.extractArtworkWithSelectedElements(),n=t.vectorCanvas.getScreenCTM(),o=Rt.fromString(s.getAttribute("viewBox")).toRect(),l=Ne(o,n),a=_toConsumableArray(t.outermostSelectedElements);s.setAttribute("width",K(o.width*i,0)+"px"),s.setAttribute("height",K(o.height*i,0)+"px"),s.setAttribute("preserveAspectRatio","none");h={};"png"===e?h={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===e&&(h={background:this["#background-select"].value,compression:this["#compression-input"].value});r=tu(s);_context208.next=7;return Of(r,e,h);case 7:d=_context208.sent;_context208.next=10;return jh(d);case 10:c=_context208.sent;t.undoManager.checkpoint("Rasterize"),t.insertBitmapIntoBBox(c,l);_iterator1562=_createForOfIteratorHelper(a);try{for(_iterator1562.s();!(_step1562=_iterator1562.n()).done;){_t2371=_step1562.value;_t2371.remove();}}catch(err){_iterator1562.e(err);}finally{_iterator1562.f();}case 14:case"end":return _context208.stop();}}},_callee207,this);}));function EC(){return _EC.apply(this,arguments);}return EC;}()},{key:"uM",value:function(){var _uM=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee208(){var t,e,i,s,n,o,l,a,h,r;return regeneratorRuntime.wrap(function _callee208$(_context209){while(1){switch(_context209.prev=_context209.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this["#format-buttons"].value,e=this["#ppu-input"].value,i=this.Js.board.extractArtworkWithSelectedElements(),s=K(i.viewBox.baseVal.width*e,0),n=K(i.viewBox.baseVal.height*e,0);i.setAttribute("width",s+"px"),i.setAttribute("height",n+"px"),i.setAttribute("preserveAspectRatio","none");o={};"png"===t?o={colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value}:"jpeg"===t&&(o={background:this["#background-select"].value,compression:this["#compression-input"].value});l=tu(i);_context209.next=8;return Of(l,t,o);case 8:a=_context209.sent;_context209.next=11;return jh(a);case 11:h=_context209.sent;r=K(h.length);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",h),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Data size: "+qh(r),this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context209.stop();}}},_callee208,this);}));function uM(){return _uM.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=this.Js.board,e=null;t.outermostSelectedObjectElements.length>0&&(e=Ve(t.outermostSelectedObjectElements.map(function(e){var i=jt(e,t.currentWorkspace),s=Pi(e);return Ne(s,i);}))),e&&e.width>0&&e.height>0?(this["#options-heading"].disabled=!1,this["#format-heading"].disabled=!1,this["#png-format-button"].disabled=!1,this["#jpeg-format-button"].disabled=!1,this["#ppu-heading"].disabled=!1,this["#ppu-slider"].disabled=!1,this["#ppu-input"].disabled=!1,this["#colors-heading"].disabled=!1,this["#colors-rgb-button"].disabled=!1,this["#colors-palette-button"].disabled=!1,this["#colors-slider"].disabled=!1,this["#colors-input"].disabled=!1,this["#compression-heading"].disabled=!1,this["#compression-slider"].disabled=!1,this["#compression-input"].disabled=!1,this["#background-heading"].disabled=!1,this["#background-select"].disabled=!1,this["#preview-heading"].disabled=!1,this["#preview-button"].disabled=!1,this["#generate-button"].disabled=!1):(this["#options-heading"].disabled=!0,this["#format-heading"].disabled=!0,this["#png-format-button"].disabled=!0,this["#jpeg-format-button"].disabled=!0,this["#ppu-heading"].disabled=!0,this["#ppu-slider"].disabled=!0,this["#ppu-input"].disabled=!0,this["#colors-heading"].disabled=!0,this["#colors-rgb-button"].disabled=!0,this["#colors-palette-button"].disabled=!0,this["#colors-slider"].disabled=!0,this["#colors-input"].disabled=!0,this["#compression-heading"].disabled=!0,this["#compression-slider"].disabled=!0,this["#compression-input"].disabled=!0,this["#background-heading"].disabled=!0,this["#background-select"].disabled=!0,this["#preview-heading"].disabled=!0,this["#preview-button"].disabled=!0,this["#generate-button"].disabled=!0),"png"===this["#format-buttons"].value?(this["#colors-subsection"].hidden=!1,this["#compression-subsection"].hidden=!0,this["#background-subsection"].hidden=!0,"palette"===this["#colors-mode-buttons"].value?this["#colors-box"].hidden=!1:this["#colors-box"].hidden=!0):"jpeg"===this["#format-buttons"].value&&(this["#colors-subsection"].hidden=!0,this["#compression-subsection"].hidden=!1,this["#background-subsection"].hidden=!1);}}]);return Ef;}(hf);_defineProperty(Ef,"MC",qi(_templateObject494()));_defineProperty(Ef,"PC",qi(_templateObject495()));_defineProperty(Ef,"_shadowStyleSheet",Xi(_templateObject496()));customElements.define("bx-rasterizegenerator",Ef);var Tf=/*#__PURE__*/function(_HTMLElement129){_inherits(Tf,_HTMLElement129);var _super217=_createSuper(Tf);_createClass(Tf,[{key:"value",get:function get(){return Array.isArray(this._t)?_toConsumableArray(this._t):this._t;},set:function set(t){this._t=Array.isArray(t)?_toConsumableArray(t):t,this.qs();}},{key:"suffix",get:function get(){return this.hasAttribute("suffix")?this.getAttribute("suffix"):"";},set:function set(t){this.setAttribute("suffix",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Tf(){var _this972;_classCallCheck(this,Tf);_this972=_super217.call(this),_this972._t=[0,0,0,0],_this972._shadowRoot=_this972.attachShadow({mode:"closed"}),_this972._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Tf._shadowStyleSheet],_this972._shadowRoot.append(document.importNode(Tf._shadowTemplate.content,!0));var _iterator1563=_createForOfIteratorHelper(_this972._shadowRoot.querySelectorAll("[id]")),_step1563;try{for(_iterator1563.s();!(_step1563=_iterator1563.n()).done;){var _t2372=_step1563.value;_this972["#"+_t2372.id]=_t2372;}}catch(err){_iterator1563.e(err);}finally{_iterator1563.f();}_this972["#top-input"].addEventListener("changestart",function(t){return _this972.xM(t);}),_this972["#right-input"].addEventListener("changestart",function(t){return _this972.bM(t);}),_this972["#bottom-input"].addEventListener("changestart",function(t){return _this972.mM(t);}),_this972["#left-input"].addEventListener("changestart",function(t){return _this972.gM(t);}),_this972["#uniform-button"].addEventListener("toggle",function(){return _this972.fM();});return _this972;}_createClass(Tf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("suffix"===t?this.wM():"disabled"===t&&this.qs());}},{key:"connectedCallback",value:function connectedCallback(){this.setAttribute("aria-disabled",this.disabled),this.qs();}},{key:"xM",value:function xM(){var _this973=this;var t,_e1724,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#top-input"].addEventListener("change",t=function t(){i?(_this973._t=_this973["#top-input"].value,_this973["#left-input"].value=_this973["#top-input"].value,_this973["#right-input"].value=_this973["#top-input"].value,_this973["#bottom-input"].value=_this973["#top-input"].value):_this973._t[0]=_this973["#top-input"].value,_this973.dispatchEvent(new CustomEvent("change"));}),this["#top-input"].addEventListener("changeend",_e1724=function e(){_this973["#top-input"].removeEventListener("change",t),_this973["#top-input"].removeEventListener("changeend",_e1724),_this973.dispatchEvent(new CustomEvent("changeend"));});}},{key:"bM",value:function bM(){var _this974=this;var t,_e1725,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#right-input"].addEventListener("change",t=function t(){i?_this974._t=_this974["#top-input"].value:_this974._t[1]=_this974["#right-input"].value,_this974.dispatchEvent(new CustomEvent("change"));}),this["#right-input"].addEventListener("changeend",_e1725=function e(){_this974["#right-input"].removeEventListener("change",t),_this974["#right-input"].removeEventListener("changeend",_e1725),_this974.dispatchEvent(new CustomEvent("changeend"));});}},{key:"mM",value:function mM(){var _this975=this;var t,_e1726,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#bottom-input"].addEventListener("change",t=function t(){i?_this975._t=_this975["#bottom-input"].value:_this975._t[2]=_this975["#bottom-input"].value,_this975.dispatchEvent(new CustomEvent("change"));}),this["#bottom-input"].addEventListener("changeend",_e1726=function e(){_this975["#bottom-input"].removeEventListener("change",t),_this975["#bottom-input"].removeEventListener("changeend",_e1726),_this975.dispatchEvent(new CustomEvent("changeend"));});}},{key:"gM",value:function gM(){var _this976=this;var t,_e1727,i=!1===Array.isArray(this.value);this.dispatchEvent(new CustomEvent("changestart")),this["#left-input"].addEventListener("change",t=function t(){i?_this976._t=_this976["#left-input"].value:_this976._t[3]=_this976["#left-input"].value,_this976.dispatchEvent(new CustomEvent("change"));}),this["#left-input"].addEventListener("changeend",_e1727=function e(){_this976["#left-input"].removeEventListener("change",t),_this976["#left-input"].removeEventListener("changeend",_e1727),_this976.dispatchEvent(new CustomEvent("changeend"));});}},{key:"fM",value:function fM(){this["#uniform-button"].toggled?this.value=this["#top-input"].value:this.value=[this["#top-input"].value,this["#top-input"].value,this["#top-input"].value,this["#top-input"].value],this.dispatchEvent(new CustomEvent("changestart")),this.dispatchEvent(new CustomEvent("change")),this.dispatchEvent(new CustomEvent("changeend"));}},{key:"wM",value:function wM(){this["#left-input"].suffix=this.suffix,this["#right-input"].suffix=this.suffix,this["#top-input"].suffix=this.suffix,this["#bottom-input"].suffix=this.suffix;}},{key:"qs",value:function qs(){if(Array.isArray(this.value)){var _this$value6=_slicedToArray(this.value,4),_t2373=_this$value6[0],_e1728=_this$value6[1],_i1567=_this$value6[2],_s913=_this$value6[3];this["#top-input"].value=_t2373,this["#top-input"].disabled=this.disabled,this["#right-input"].value=_e1728,this["#right-input"].disabled=this.disabled,this["#bottom-input"].value=_i1567,this["#bottom-input"].disabled=this.disabled,this["#left-input"].value=_s913,this["#left-input"].disabled=this.disabled,this["#uniform-button"].toggled=!1,this["#uniform-button"].disabled=this.disabled;}else this["#top-input"].value=this.value,this["#top-input"].disabled=this.disabled,this["#right-input"].value=this.value,this["#right-input"].disabled=!0,this["#bottom-input"].value=this.value,this["#bottom-input"].disabled=!0,this["#left-input"].value=this.value,this["#left-input"].disabled=!0,this["#uniform-button"].toggled=!0,this["#uniform-button"].disabled=this.disabled;}}]);return Tf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Tf,"observedAttributes",["suffix","disabled"]);_defineProperty(Tf,"_shadowTemplate",qi(_templateObject497()));_defineProperty(Tf,"_shadowStyleSheet",Xi(_templateObject498()));customElements.define("bx-edgeinput",Tf);var Af=Array.isArray;var $f=/*#__PURE__*/function(_hf7){_inherits($f,_hf7);var _super218=_createSuper($f);function $f(){var _this977;_classCallCheck(this,$f);_this977=_super218.call(this),_this977.vM=Qi(_this977.JC,1e3,_assertThisInitialized(_this977)),_this977["#area-buttons"].addEventListener("toggle",function(){return _this977.yM();}),_this977["#padding-input"].addEventListener("changestart",function(){return _this977.kM();}),_this977["#origin-switch"].addEventListener("toggle",function(){return _this977.SM();}),_this977["#origin-x-input"].addEventListener("changestart",function(){return _this977.If();}),_this977["#origin-y-input"].addEventListener("changestart",function(){return _this977.Lf();}),_this977["#generate-button"].addEventListener("click",function(){return _this977.EC();});return _this977;}_createClass($f,[{key:"connectedCallback",value:function connectedCallback(){var _this978=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Js.board;t.addEventListener("selectedelementschange",this.Qo=function(){_this978.Jo();}),t.addEventListener("workspacemutation",this.rn=function(){_this978.sl();}),this._M(!0),this.JC(),this.CM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){"selected"===this["#area-buttons"].value&&(this.JC(),this.CM());}},{key:"sl",value:function sl(){this._M(),this.CM(),this.vM();}},{key:"yM",value:function yM(){this.Qs.setConfig("bx-resizeviewgenerator:area",this["#area-buttons"].value),this.JC(),this.CM();}},{key:"kM",value:function kM(){var _this979=this;var t,_e1729;this["#padding-input"].addEventListener("change",t=function t(){_this979._M();}),this["#padding-input"].addEventListener("changeend",_e1729=function e(){_this979["#padding-input"].removeEventListener("change",t),_this979["#padding-input"].removeEventListener("changeend",_e1729),_this979.JC(),_this979.Qs.setConfig("bx-resizeviewgenerator:padding",_this979["#padding-input"].value);});}},{key:"SM",value:function SM(){this["#origin-switch"].toggled?this.Qs.setConfig("bx-resizeviewgenerator:origin",[0,0]):this.Qs.setConfig("bx-resizeviewgenerator:origin",null),this._M(),this.JC();}},{key:"If",value:function If(){var _this980=this;var t,_e1730;this["#origin-x-input"].addEventListener("change",t=function t(){_this980["#preview-x-td"].textContent=_this980["#origin-x-input"].value;}),this["#origin-x-input"].addEventListener("changeend",_e1730=function e(){_this980["#origin-x-input"].removeEventListener("change",t),_this980["#origin-x-input"].removeEventListener("changeend",_e1730);var i=[_this980["#origin-x-input"].value,_this980["#origin-y-input"].value];_this980.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"Lf",value:function Lf(){var _this981=this;var t,_e1731;this["#origin-y-input"].addEventListener("change",t=function t(){_this981["#preview-y-td"].textContent=_this981["#origin-y-input"].value;}),this["#origin-y-input"].addEventListener("changeend",_e1731=function e(){_this981["#origin-y-input"].removeEventListener("change",t),_this981["#origin-y-input"].removeEventListener("changeend",_e1731);var i=[_this981["#origin-x-input"].value,_this981["#origin-y-input"].value];_this981.Qs.setConfig("bx-resizeviewgenerator:origin",i);});}},{key:"EC",value:function EC(){var t=this.Js.board,e=[];if("all"===this["#area-buttons"].value){var _iterator1564=_createForOfIteratorHelper(t.currentWorkspace.children),_step1564;try{for(_iterator1564.s();!(_step1564=_iterator1564.n()).done;){var _i1568=_step1564.value;g.includes(_i1568.localName)&&e.push(_i1568);}}catch(err){_iterator1564.e(err);}finally{_iterator1564.f();}}else"selected"===this["#area-buttons"].value&&(e=t.outermostSelectedObjectElements);if(e.length>0){t.undoManager.checkpoint("Resize view");var _i1569=e.map(function(t){return Di(t);}),_s914=Ne(Ve(_i1569),Ht(t.currentWorkspace).inverse()),_n668=this["#padding-input"].value;!1===Af(_n668)&&(_n668=[_n668,_n668,_n668,_n668]);var _n669=_n668,_n670=_slicedToArray(_n669,4),_o525=_n670[0],_l391=_n670[1],_a286=_n670[2],_h226=_n670[3];if(!1===this["#origin-switch"].toggled)_s914.x-=_h226,_s914.y-=_o525,_s914.width+=_h226+_l391,_s914.height+=_o525+_a286,_s914=Ue(_s914,t.geometryPrecision);else{var _i1570=this["#origin-x-input"].value-_s914.x+_h226,_n671=this["#origin-y-input"].value-_s914.y+_o525;_s914.x=this["#origin-x-input"].value,_s914.y=this["#origin-y-input"].value,_s914.width+=_h226+_l391,_s914.height+=_o525+_a286,_s914=Ue(_s914,t.geometryPrecision);var _iterator1565=_createForOfIteratorHelper(e),_step1565;try{for(_iterator1565.s();!(_step1565=_iterator1565.n()).done;){var _s915=_step1565.value;if(g.includes(_s915.localName)){var _e1732=jt(_s915,t.vectorCanvas),_o526=_e1732.inverse(),_l392=Vt(_s915),_a287=DOMMatrix.fromMatrix(_l392);_a287.multiplySelf(_o526),_a287.translateSelf(_i1570,_n671),_a287.multiplySelf(_e1732),_s915.setAttribute("transform",_a287.toString()),fa(_s915,{geometryPrecision:t.geometryPrecision,transformPrecision:t.transformPrecision});}}}catch(err){_iterator1565.e(err);}finally{_iterator1565.f();}}if(this["#view-select"].value.startsWith("#")){t.currentWorkspace.querySelector(this["#view-select"].value).setAttribute("viewBox","".concat(_s914.x," ").concat(_s914.y," ").concat(_s914.width," ").concat(_s914.height));}else t.currentWorkspace.setAttribute("viewBox","".concat(_s914.x," ").concat(_s914.y," ").concat(_s914.width," ").concat(_s914.height));}}},{key:"_M",value:function _M(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board,i=e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===e.currentWorkspace.hasAttribute("viewBox")&&0===i.length?this["#options-heading"].disabled=!0:this["#options-heading"].disabled=!1;{var _t2374=[];e.currentWorkspace.hasAttribute("viewBox")&&_t2374.push(["default","Default view"]);var _iterator1566=_createForOfIteratorHelper(i),_step1566;try{for(_iterator1566.s();!(_step1566=_iterator1566.n()).done;){var _e1734=_step1566.value;var _i1574=_e1734.querySelector(":scope > bx-title"),_s917="#"+_e1734.id;_t2374.push([_s917,_i1574?_i1574.textContent:_s917]);}}catch(err){_iterator1566.e(err);}finally{_iterator1566.f();}{var _e1733="",_i1571=this["#view-select"].value||"default";for(var _i1572=0,_t2375=_t2374;_i1572<_t2375.length;_i1572++){var _t2375$_i=_slicedToArray(_t2375[_i1572],2),_i1573=_t2375$_i[0],_s916=_t2375$_i[1];_e1733+="<x-menuitem value=\"".concat(_i1573,"\"><x-label>").concat(_s916,"</x-label></x-menuitem>");}this["#view-select"].value=null,this["#view-menu"].innerHTML=_e1733,0===_t2374.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=null):1===_t2374.length?(this["#view-subsection"].hidden=!0,this["#view-select"].value=_t2374[0][0]):(this["#view-subsection"].hidden=!1,void 0!==_t2374.find(function(_ref190){var _ref191=_slicedToArray(_ref190,1),t=_ref191[0];return t===_i1571;})?this["#view-select"].value=_i1571:this["#view-select"].value=_t2374[0][0]);}}if(t){var _t2376=this.Qs.getConfig("bx-resizeviewgenerator:area","all");this["#area-buttons"].value=_t2376;}if(null===this["#view-select"].value?(this["#area-heading"].disabled=!0,this["#all-area-button"].disabled=!0,this["#selected-area-button"].disabled=!0):(this["#area-heading"].disabled=!1,this["#all-area-button"].disabled=!1,this["#selected-area-button"].disabled=!1),t&&(this["#padding-input"].value=this.Qs.getConfig("bx-resizeviewgenerator:padding",0)),null===this["#view-select"].value?(this["#padding-heading"].disabled=!0,this["#padding-input"].disabled=!0):(this["#padding-heading"].disabled=!1,this["#padding-input"].disabled=!1),t){var _t2377=this.Qs.getConfig("bx-resizeviewgenerator:origin",null);this["#origin-switch"].toggled=Af(_t2377),this["#origin-x-input"].value=Af(_t2377)?_t2377[0]:0,this["#origin-y-input"].value=Af(_t2377)?_t2377[1]:0;}null===this["#view-select"].value?(this["#origin-heading"].disabled=!0,this["#origin-switch"].disabled=!0,this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0):(this["#origin-heading"].disabled=!1,this["#origin-switch"].disabled=!1,this["#origin-switch"].toggled?(this["#origin-x-label"].disabled=!1,this["#origin-x-input"].disabled=!1,this["#origin-y-label"].disabled=!1,this["#origin-y-input"].disabled=!1,null===this["#origin-x-input"].value&&(this["#origin-x-input"].value=0),null===this["#origin-y-input"].value&&(this["#origin-y-input"].value=0)):(this["#origin-x-label"].disabled=!0,this["#origin-x-input"].disabled=!0,this["#origin-x-input"].value=null,this["#origin-y-label"].disabled=!0,this["#origin-y-input"].disabled=!0,this["#origin-y-input"].value=null));}},{key:"JC",value:function(){var _JC=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee209(){var t,e,_e1735,_i1575,_iterator1567,_step1567,_i1576,_s918,_n672,_o527,_l393,_l394,_l395,_a288,_h227,_r152,_d119,_c90,_p78;return regeneratorRuntime.wrap(function _callee209$(_context210){while(1){switch(_context210.prev=_context210.next){case 0:t=this.Js.board,e=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");if(!(!1===t.currentWorkspace.hasAttribute("viewBox")&&0===e.length)){_context210.next=5;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context210.next=21;break;case 5:_e1735=[],_i1575=[];_iterator1567=_createForOfIteratorHelper(t.currentWorkspace.children);try{for(_iterator1567.s();!(_step1567=_iterator1567.n()).done;){_i1576=_step1567.value;g.includes(_i1576.localName)&&_e1735.push(_i1576);}}catch(err){_iterator1567.e(err);}finally{_iterator1567.f();}if(!("all"===this["#area-buttons"].value?_i1575=[].concat(_e1735):"selected"===this["#area-buttons"].value&&(_i1575=t.outermostSelectedObjectElements),0===_i1575.length)){_context210.next=12;break;}this["#preview-section"].hidden=!0,this["#preview"].src="",this["#preview-section-hr"].hidden=!0;_context210.next=21;break;case 12:_s918=t.extractArtworkWithElements(_e1735),_n672=_i1575.map(function(t){return Di(t);}),_o527=Ve(_n672),_l393=this["#padding-input"].value;!1===Af(_l393)&&(_l393=[_l393,_l393,_l393,_l393]);_l394=_l393,_l395=_slicedToArray(_l394,4),_a288=_l395[0],_h227=_l395[1],_r152=_l395[2],_d119=_l395[3];_o527=Ne(_o527,Ht(t.currentWorkspace).inverse()),_o527=Ue(_o527,t.geometryPrecision),_s918.initialViewBox=new DOMRect(_o527.x,_o527.y,_o527.width,_o527.height),_o527.width+=_d119+_h227,_o527.height+=_a288+_r152,_o527.x-=_d119,_o527.y-=_a288,_o527=Ue(_o527,t.geometryPrecision),_s918.setAttribute("viewBox","".concat(_o527.x," ").concat(_o527.y," ").concat(_o527.width," ").concat(_o527.height)),_s918.setAttribute("width",_o527.width),_s918.setAttribute("height",_o527.height);_c90=tu(_s918);_context210.next=19;return iu(_c90);case 19:_p78=_context210.sent;this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1,this["#preview"].setAttribute("src",_p78),this["#origin-switch"].toggled?(this["#preview-x-td"].textContent=this["#origin-x-input"].value,this["#preview-y-td"].textContent=this["#origin-y-input"].value):(this["#preview-x-td"].textContent=_o527.x,this["#preview-y-td"].textContent=_o527.y),this["#preview-width-td"].textContent=_o527.width,this["#preview-height-td"].textContent=_o527.height;case 21:case"end":return _context210.stop();}}},_callee209,this);}));function JC(){return _JC.apply(this,arguments);}return JC;}()},{key:"CM",value:function CM(){var t=this.Js.board,e=t.outermostSelectedObjectElements,i=t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]");!1===t.currentWorkspace.hasAttribute("viewBox")&&0===i.length||"selected"===this["#area-buttons"].value&&0===e.length?this["#generate-button"].disabled=!0:this["#generate-button"].disabled=!1;}}]);return $f;}(hf);_defineProperty($f,"MC",qi(_templateObject499()));_defineProperty($f,"PC",qi(_templateObject500()));_defineProperty($f,"_shadowStyleSheet",Xi(_templateObject501()));customElements.define("bx-resizeviewgenerator",$f);var If={"default":{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},blackAndWhite:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:2,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:0,lineFilter:!1,ignoreWhite:!0},grayscale:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:7,minColorRatio:0,colorQuantCycles:1,colorSampling:0,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},posterized:{workingSize:512,blurRadius:5,blurDelta:20,numberOfColors:5,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},curvy:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.01,qtres:1,pathOmit:8,rightAngleEnhance:!1,strokeWidth:1,lineFilter:!0,ignoreWhite:!1},sharp:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:.01,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},detailed:{workingSize:512,blurRadius:0,blurDelta:20,numberOfColors:64,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:.5,qtres:.5,pathOmit:0,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1},smoothed:{workingSize:512,blurRadius:5,blurDelta:64,numberOfColors:16,minColorRatio:0,colorQuantCycles:3,colorSampling:2,ltres:1,qtres:1,pathOmit:8,rightAngleEnhance:!0,strokeWidth:1,lineFilter:!1,ignoreWhite:!1}};var Lf=/*#__PURE__*/function(_hf8){_inherits(Lf,_hf8);var _super219=_createSuper(Lf);_createClass(Lf,[{key:"options",get:function get(){return{workingSize:this["#working-size-input"].value,blurRadius:this["#blur-radius-input"].value,blurDelta:this["#blur-delta-input"].value,numberOfColors:this["#number-of-colors-input"].value,minColorRatio:this["#min-color-ratio-input"].value,colorQuantCycles:this["#color-quant-cycles-input"].value,colorSampling:parseInt(this["#color-sampling-buttons"].value),ltres:this["#ltres-input"].value,qtres:this["#qtres-input"].value,pathOmit:this["#path-omit-input"].value,rightAngleEnhance:this["#right-angle-enhance-checkbox"].toggled,strokeWidth:this["#stroke-width-input"].value,lineFilter:this["#line-filter-checkbox"].toggled,ignoreWhite:this["#ignore-white-checkbox"].toggled,geometryPrecision:this.Js.board.geometryPrecision};}}]);function Lf(){var _this982;_classCallCheck(this,Lf);_this982=_super219.call(this),_this982["#preset-select"].addEventListener("change",function(){return _this982.MM();}),_this982["#working-size-box"].addEventListener("changestart",function(){return _this982.PM();}),_this982["#blur-radius-input"].addEventListener("changestart",function(){return _this982.DM();}),_this982["#blur-delta-input"].addEventListener("changestart",function(){return _this982.zM();}),_this982["#number-of-colors-input"].addEventListener("changestart",function(){return _this982.OM();}),_this982["#min-color-ratio-input"].addEventListener("changestart",function(){return _this982.EM();}),_this982["#color-quant-cycles-input"].addEventListener("changestart",function(){return _this982.TM();}),_this982["#color-sampling-buttons"].addEventListener("toggle",function(){return _this982.AM();}),_this982["#ltres-input"].addEventListener("changestart",function(){return _this982.$M();}),_this982["#qtres-input"].addEventListener("changestart",function(){return _this982.IM();}),_this982["#path-omit-input"].addEventListener("changestart",function(){return _this982.LM();}),_this982["#right-angle-enhance-checkbox"].addEventListener("toggle",function(){return _this982.BM();}),_this982["#stroke-width-box"].addEventListener("changestart",function(){return _this982.RM();}),_this982["#line-filter-checkbox"].addEventListener("toggle",function(){return _this982.GM();}),_this982["#ignore-white-checkbox"].addEventListener("toggle",function(){return _this982.FM();}),_this982["#preview-button"].addEventListener("click",function(){return _this982.dM();}),_this982["#generate-button"].addEventListener("click",function(){return _this982.EC();});return _this982;}_createClass(Lf,[{key:"connectedCallback",value:function connectedCallback(){var _this983=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-vectorizegenerator:workingSize",512),s=t.getConfig("bx-vectorizegenerator:blurRadius",0),n=t.getConfig("bx-vectorizegenerator:blurDelta",20),o=t.getConfig("bx-vectorizegenerator:numberOfColors",16),l=t.getConfig("bx-vectorizegenerator:minColorRatio",0),a=t.getConfig("bx-vectorizegenerator:colorQuantCycles",3),h=t.getConfig("bx-vectorizegenerator:colorSampling",2),r=t.getConfig("bx-vectorizegenerator:ltres",1),d=t.getConfig("bx-vectorizegenerator:qtres",1),c=t.getConfig("bx-vectorizegenerator:pathOmit",8),p=t.getConfig("bx-vectorizegenerator:rightAngleEnhance",!0),u=t.getConfig("bx-vectorizegenerator:strokeWidth",1),x=t.getConfig("bx-vectorizegenerator:lineFilter",!1),b=t.getConfig("bx-vectorizegenerator:ignoreWhite",!1);this["#working-size-slider"].value=i,this["#working-size-input"].value=i,this["#blur-radius-input"].value=s,this["#blur-delta-input"].value=n,this["#number-of-colors-input"].value=o,this["#min-color-ratio-input"].value=l,this["#color-quant-cycles-input"].value=a,this["#color-sampling-buttons"].value=h+"",this["#ltres-input"].value=r,this["#qtres-input"].value=d,this["#path-omit-input"].value=c,this["#right-angle-enhance-checkbox"].toggled=p,this["#stroke-width-input"].value=u,this["#stroke-width-slider"].value=u,this["#line-filter-checkbox"].toggled=x,this["#ignore-white-checkbox"].toggled=b,e.addEventListener("selectedelementschange",this.Qo=function(){_this983.cM(),_this983.qs();}),e.addEventListener("workspacemutation",this.rn=function(){_this983.cM(),_this983.qs();}),this.qs(),this.UM();}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"MM",value:function MM(){var t=this["#preset-select"].value,e=If[t];if(this.cM(),e){for(var _i1577=0,_Object$entries10=Object.entries(e);_i1577<_Object$entries10.length;_i1577++){var _Object$entries10$_i=_slicedToArray(_Object$entries10[_i1577],2),_t2378=_Object$entries10$_i[0],_i1578=_Object$entries10$_i[1];this.Qs.setConfig("bx-vectorizegenerator:".concat(_t2378),_i1578);}this["#working-size-slider"].value=e.workingSize,this["#working-size-input"].value=e.workingSize,this["#blur-radius-input"].value=e.blurRadius,this["#blur-delta-input"].value=e.blurDelta,this["#number-of-colors-input"].value=e.numberOfColors,this["#min-color-ratio-input"].value=e.minColorRatio,this["#color-quant-cycles-input"].value=e.colorQuantCycles,this["#color-sampling-buttons"].value=e.colorSampling+"",this["#ltres-input"].value=e.ltres,this["#qtres-input"].value=e.qtres,this["#path-omit-input"].value=e.pathOmit,this["#right-angle-enhance-checkbox"].toggled=e.rightAngleEnhance,this["#stroke-width-input"].value=e.strokeWidth,this["#stroke-width-slider"].value=e.strokeWidth,this["#line-filter-checkbox"].toggled=e.lineFilter,this["#ignore-white-checkbox"].toggled=e.ignoreWhite;}}},{key:"PM",value:function PM(){var _this984=this;var t,_e1736;this.cM(),this["#working-size-box"].addEventListener("change",t=function t(_t2379){_t2379.target===_this984["#working-size-slider"]?_this984["#working-size-input"].value=_this984["#working-size-slider"].value:_t2379.target===_this984["#working-size-input"]&&(_this984["#working-size-slider"].value=_this984["#working-size-input"].value);}),this["#working-size-box"].addEventListener("changeend",_e1736=function e(){_this984["#working-size-box"].removeEventListener("change",t),_this984["#working-size-box"].removeEventListener("changeend",_e1736),_this984.Qs.setConfig("bx-vectorizegenerator:workingSize",_this984["#working-size-slider"].value),_this984.UM();});}},{key:"DM",value:function DM(){var _this985=this;this.cM(),this["#blur-radius-input"].addEventListener("changeend",function(){_this985.Qs.setConfig("bx-vectorizegenerator:blurRadius",_this985["#blur-radius-input"].value),_this985.UM();},{once:!0});}},{key:"zM",value:function zM(){var _this986=this;this.cM(),this["#blur-delta-input"].addEventListener("changeend",function(){_this986.Qs.setConfig("bx-vectorizegenerator:blurDelta",_this986["#blur-delta-input"].value),_this986.UM();},{once:!0});}},{key:"OM",value:function OM(){var _this987=this;this.cM(),this["#number-of-colors-input"].addEventListener("changeend",function(){_this987.Qs.setConfig("bx-vectorizegenerator:numberOfColors",_this987["#number-of-colors-input"].value),_this987.UM();},{once:!0});}},{key:"EM",value:function EM(){var _this988=this;this.cM(),this["#min-color-ratio-input"].addEventListener("changeend",function(){_this988.Qs.setConfig("bx-vectorizegenerator:minColorRatio",_this988["#min-color-ratio-input"].value),_this988.UM();},{once:!0});}},{key:"TM",value:function TM(){var _this989=this;this.cM(),this["#color-quant-cycles-input"].addEventListener("changeend",function(){_this989.Qs.setConfig("bx-vectorizegenerator:colorQuantCycles",_this989["#color-quant-cycles-input"].value),_this989.UM();});}},{key:"AM",value:function AM(){this.cM(),this.Qs.setConfig("bx-vectorizegenerator:colorSampling",this["#color-sampling-buttons"].value),this.UM();}},{key:"$M",value:function $M(){var _this990=this;this.cM(),this["#ltres-input"].addEventListener("changeend",function(){_this990.Qs.setConfig("bx-vectorizegenerator:ltres",_this990["#ltres-input"].value),_this990.UM();},{once:!0});}},{key:"IM",value:function IM(){var _this991=this;this.cM(),this["#qtres-input"].addEventListener("changeend",function(){_this991.Qs.setConfig("bx-vectorizegenerator:qtres",_this991["#qtres-input"].value),_this991.UM();},{once:!0});}},{key:"LM",value:function LM(){var _this992=this;this.cM(),this["#path-omit-input"].addEventListener("changeend",function(){_this992.Qs.setConfig("bx-vectorizegenerator:pathOmit",_this992["#path-omit-input"].value),_this992.UM();},{once:!0});}},{key:"BM",value:function BM(){this.cM(),this.Qs.setConfig("bx-vectorizegenerator:rightAngleEnhance",this["#right-angle-enhance-checkbox"].toggled),this.UM();}},{key:"RM",value:function RM(){var _this993=this;var t,_e1737;this.cM(),this["#stroke-width-box"].addEventListener("change",t=function t(_t2380){_t2380.target===_this993["#stroke-width-slider"]?_this993["#stroke-width-input"].value=_this993["#stroke-width-slider"].value:_t2380.target===_this993["#stroke-width-input"]&&(_this993["#stroke-width-slider"].value=_this993["#stroke-width-input"].value);}),this["#stroke-width-box"].addEventListener("changeend",_e1737=function e(){_this993["#stroke-width-box"].removeEventListener("change",t),_this993["#stroke-width-box"].removeEventListener("changeend",_e1737),_this993.Qs.setConfig("bx-vectorizegenerator:strokeWidth",_this993["#stroke-width-input"].value),_this993.UM();});}},{key:"GM",value:function GM(){this.cM(),this.Qs.setConfig("bx-vectorizegenerator:lineFilter",this["#line-filter-checkbox"].toggled),this.UM();}},{key:"FM",value:function FM(){this.cM(),this.Qs.setConfig("bx-vectorizegenerator:ignoreWhite",this["#ignore-white-checkbox"].toggled),this.UM();}},{key:"dM",value:function dM(){this.uM();}},{key:"EC",value:function(){var _EC2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee210(){var t,e,i,s,n,o,l,a,h,r,d,c,p,_i1579,_arr76,_e1738,_iterator1568,_step1568,_loop37;return regeneratorRuntime.wrap(function _callee210$(_context211){while(1){switch(_context211.prev=_context211.next){case 0:e=this.Js.board;i=e.selectedElements[0];_context211.next=4;return window.createImageBitmap(i);case 4:s=_context211.sent;n=Vt(i);o=i.getBBox();_context211.next=9;return this.NM(s,this.options);case 9:l=_context211.sent;a=Oi(l);h=o.width/a.viewBox.baseVal.width;r=o.height/a.viewBox.baseVal.height;d=o.x-a.viewBox.baseVal.x*h;c=o.y-a.viewBox.baseVal.y*r;p=new DOMMatrix();if(p.multiplySelf(n),p.translateSelf(d,c),p.scaleSelf(h,r),p=Gt(p,e.transformPrecision),e.undoManager.checkpoint("Vectorize"),1===a.children.length)t=a.children[0];else{t=Ei("svg:g");for(_i1579=0,_arr76=_toConsumableArray(a.children);_i1579<_arr76.length;_i1579++){_e1738=_arr76[_i1579];t.append(_e1738);}}t.setAttribute("transform",p);_iterator1568=_createForOfIteratorHelper(i.style);try{_loop37=function _loop37(){var e=_step1568.value;var s=i.style.getPropertyValue(e),n=F.find(function(t){return t.name===e;});n&&n.appliesTo.includes(t.localName)&&t.style.setProperty(e,s);};for(_iterator1568.s();!(_step1568=_iterator1568.n()).done;){_loop37();}}catch(err){_iterator1568.e(err);}finally{_iterator1568.f();}i.replaceWith(t),e.selectedElements=[t],e.selectedTextRange=null;case 21:case"end":return _context211.stop();}}},_callee210,this);}));function EC(){return _EC2.apply(this,arguments);}return EC;}()},{key:"NM",value:function NM(t,e){return new Promise(function(i){var s=new Worker("/workers/vectorize.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"uM",value:function(){var _uM2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee211(){var t,e,i,s;return regeneratorRuntime.wrap(function _callee211$(_context212){while(1){switch(_context212.prev=_context212.next){case 0:this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...";t=this.Js.board.selectedElements[0];_context212.next=4;return window.createImageBitmap(t);case 4:e=_context212.sent;t.getBoundingClientRect();_context212.next=8;return this.NM(e,this.options);case 8:i=_context212.sent;s=Oi(i);s.setAttribute("id","preview"),s.setAttribute("part","preview"),this["#preview"].replaceWith(s),this["#preview"]=s,this["#preview-label"].textContent="",this["#preview-label"].hidden=!0,this["#preview-section"].scrollIntoViewIfNeeded();case 11:case"end":return _context212.stop();}}},_callee211,this);}));function uM(){return _uM2.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].setAttribute("hidden",""),this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var t=null;1===this.Js.board.outermostSelectedObjectElements.length&&"image"===this.Js.board.outermostSelectedObjectElements[0].localName&&(t=this.Js.board.outermostSelectedObjectElements[0]);var e=null===t;this["#options-heading"].disabled=e,this["#preset-heading"].disabled=e,this["#preset-select"].disabled=e,this["#preprocessing-heading"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#blur-radius-heading"].disabled=e,this["#blur-radius-input"].disabled=e,this["#blur-delta-heading"].disabled=e,this["#blur-delta-input"].disabled=e,this["#color-heading"].disabled=e,this["#number-of-colors-heading"].disabled=e,this["#number-of-colors-input"].disabled=e,this["#min-color-ratio-heading"].disabled=e,this["#min-color-ratio-input"].disabled=e,this["#color-quant-cycles-heading"].disabled=e,this["#color-quant-cycles-input"].disabled=e,this["#color-sampling-heading"].disabled=e;var _iterator1569=_createForOfIteratorHelper(this["#color-sampling-buttons"].children),_step1569;try{for(_iterator1569.s();!(_step1569=_iterator1569.n()).done;){var _t2381=_step1569.value;_t2381.disabled=e;}}catch(err){_iterator1569.e(err);}finally{_iterator1569.f();}this["#tracing-heading"].disabled=e,this["#ltres-heading"].disabled=e,this["#ltres-input"].disabled=e,this["#qtres-heading"].disabled=e,this["#qtres-input"].disabled=e,this["#path-omit-heading"].disabled=e,this["#path-omit-input"].disabled=e,this["#right-angle-enhance-checkbox"].disabled=e,this["#right-angle-enhance-label"].disabled=e,this["#rendering-heading"].disabled=e,this["#stroke-width-heading"].disabled=e,this["#stroke-width-slider"].disabled=e,this["#stroke-width-input"].disabled=e,this["#line-filter-checkbox"].disabled=e,this["#ignore-white-checkbox"].disabled=e,this["#preview-heading"].disabled=e,this["#preview-button"].disabled=e,this["#generate-button"].disabled=null===t;}},{key:"UM",value:function UM(){var t=null;for(var _i1580=0,_Object$entries11=Object.entries(If);_i1580<_Object$entries11.length;_i1580++){var _Object$entries11$_i=_slicedToArray(_Object$entries11[_i1580],2),_e1739=_Object$entries11$_i[0],_i1581=_Object$entries11$_i[1];if(this["#working-size-input"].value===_i1581.workingSize&&this["#working-size-slider"].value===_i1581.workingSize&&this["#blur-radius-input"].value===_i1581.blurRadius&&this["#blur-delta-input"].value===_i1581.blurDelta&&this["#number-of-colors-input"].value===_i1581.numberOfColors&&this["#min-color-ratio-input"].value===_i1581.minColorRatio&&this["#color-quant-cycles-input"].value===_i1581.colorQuantCycles&&this["#color-sampling-buttons"].value===_i1581.colorSampling+""&&this["#ltres-input"].value===_i1581.ltres&&this["#qtres-input"].value===_i1581.qtres&&this["#path-omit-input"].value===_i1581.pathOmit&&this["#right-angle-enhance-checkbox"].toggled===_i1581.rightAngleEnhance&&this["#stroke-width-input"].value===_i1581.strokeWidth&&this["#line-filter-checkbox"].toggled===_i1581.lineFilter&&this["#ignore-white-checkbox"].toggled===_i1581.ignoreWhite){t=_e1739;break;}}this["#preset-select"].value=t;}}]);return Lf;}(hf);_defineProperty(Lf,"MC",qi(_templateObject502()));_defineProperty(Lf,"PC",qi(_templateObject503()));_defineProperty(Lf,"_shadowStyleSheet",Xi(_templateObject504()));customElements.define("bx-vectorizegenerator",Lf);var Bf=/*#__PURE__*/function(_hf9){_inherits(Bf,_hf9);var _super220=_createSuper(Bf);_createClass(Bf,[{key:"options",get:function get(){return{columns:this["#columns-input"].value,rows:this["#rows-input"].value,pixelSize:this["#pixel-size-input"].value/100,pixelShape:this["#pixel-shape-buttons"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function Bf(){var _this994;_classCallCheck(this,Bf);_this994=_super220.call(this),_this994.Kc=Qi(_this994.qs,1e3,_assertThisInitialized(_this994)),_this994["#columns-input"].addEventListener("changestart",function(){return _this994.XC();}),_this994["#rows-input"].addEventListener("changestart",function(){return _this994.ZC();}),_this994["#pixel-size-box"].addEventListener("changestart",function(){return _this994.Jb();}),_this994["#pixel-shape-buttons"].addEventListener("toggle",function(){return _this994.VM();}),_this994["#render-as-buttons"].addEventListener("toggle",function(){return _this994.jM();}),_this994["#generate-button"].addEventListener("click",function(){return _this994.EC();});return _this994;}_createClass(Bf,[{key:"connectedCallback",value:function connectedCallback(){var _this995=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Qs.getConfig("bx-pixelategenerator:columns",20),e=this.Qs.getConfig("bx-pixelategenerator:rows",20),i=this.Qs.getConfig("bx-pixelategenerator:pixelSize",.9),s=this.Qs.getConfig("bx-pixelategenerator:pixelShape","rectangle"),n=this.Qs.getConfig("bx-pixelategenerator:renderAs","paths");this["#columns-input"].value=t,this["#rows-input"].value=e,this["#pixel-size-slider"].value=K(100*i,2),this["#pixel-size-input"].value=K(100*i,2),this["#pixel-shape-buttons"].value=s,this["#render-as-buttons"].value=n,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this995.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this995.Kc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"XC",value:function XC(t){var _this996=this;var e,_i1582,s=this["#rows-input"].value/this["#columns-input"].value;this["#columns-input"].addEventListener("change",e=function e(){_this996["#rows-input"].value=Math.ceil(_this996["#columns-input"].value*s);}),this["#columns-input"].addEventListener("changeend",_i1582=function i(){_this996["#columns-input"].removeEventListener("change",e),_this996["#columns-input"].removeEventListener("changeend",_i1582),_this996.Qs.setConfig("bx-pixelategenerator:columns",_this996["#columns-input"].value),_this996.Qs.setConfig("bx-pixelategenerator:rows",_this996["#rows-input"].value),_this996.qs();});}},{key:"ZC",value:function ZC(t){var _this997=this;var e,_i1583,s=this["#columns-input"].value/this["#rows-input"].value;this["#rows-input"].addEventListener("change",e=function e(){_this997["#columns-input"].value=Math.ceil(_this997["#rows-input"].value*s);}),this["#rows-input"].addEventListener("changeend",_i1583=function i(){_this997["#rows-input"].removeEventListener("change",e),_this997["#rows-input"].removeEventListener("changeend",_i1583),_this997.Qs.setConfig("bx-pixelategenerator:columns",_this997["#columns-input"].value),_this997.Qs.setConfig("bx-pixelategenerator:rows",_this997["#rows-input"].value),_this997.qs();});}},{key:"Jb",value:function Jb(){var _this998=this;var t,_e1740;this["#pixel-size-box"].addEventListener("change",t=function t(_t2382){_t2382.target===_this998["#pixel-size-slider"]?_this998["#pixel-size-input"].value=_this998["#pixel-size-slider"].value:_t2382.target===_this998["#pixel-size-input"]&&(_this998["#pixel-size-slider"].value=_this998["#pixel-size-input"].value);}),this["#pixel-size-box"].addEventListener("changeend",_e1740=function e(){_this998["#pixel-size-box"].removeEventListener("change",t),_this998["#pixel-size-box"].removeEventListener("changeend",_e1740),_this998.Qs.setConfig("bx-pixelategenerator:pixelSize",_this998["#pixel-size-slider"].value/100),_this998.qs();});}},{key:"VM",value:function VM(){this.Qs.setConfig("bx-pixelategenerator:pixelShape",this["#pixel-shape-buttons"].value),this.qs();}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-pixelategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"EC",value:function(){var _EC3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee212(){var t,e,i,_t2383,_i1584,_s919,s,n,o,l,_iterator1570,_step1570,_loop38;return regeneratorRuntime.wrap(function _callee212$(_context213){while(1){switch(_context213.prev=_context213.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context213.next=7;break;}_context213.next=4;return createImageBitmap(i);case 4:e=_context213.sent;_context213.next=15;break;case 7:_t2383=this.Js.board.extractArtworkWithSelectedElements();_i1584=tu(_t2383);_context213.next=11;return Of(_i1584,"png",{colors:0});case 11:_s919=_context213.sent;_context213.next=14;return createImageBitmap(_s919);case 14:e=_context213.sent;case 15:s=i.getBoundingClientRect();_context213.next=18;return this.HM(e,this.options);case 18:n=_context213.sent;o=Dh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Pixelate");l=t.insertArtworkIntoBBox(o,s);_iterator1570=_createForOfIteratorHelper(i.style);try{_loop38=function _loop38(){var t=_step1570.value;var e=i.style.getPropertyValue(t),s=F.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1570.s();!(_step1570=_iterator1570.n()).done;){_loop38();}}catch(err){_iterator1570.e(err);}finally{_iterator1570.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context213.stop();}}},_callee212,this);}));function EC(){return _EC3.apply(this,arguments);}return EC;}()},{key:"HM",value:function HM(t,e){return new Promise(function(i){var s=new Worker("/workers/pixelate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee213(){var t,_e1741,_i1585,_e1742,_i1586,_s920,_e1743,_iterator1571,_step1571,_e1745,_iterator1572,_step1572,_e1746,_e1744,_i1587;return regeneratorRuntime.wrap(function _callee213$(_context214){while(1){switch(_context214.prev=_context214.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context214.next=18;break;}_e1741=this.Js.board.outermostSelectedObjectElements[0],_i1585=_e1741.getBoundingClientRect();if(!(_i1585.width>=1&&_i1585.height>=1)){_context214.next=18;break;}if(!("image"===_e1741.localName)){_context214.next=10;break;}_context214.next=7;return createImageBitmap(_e1741);case 7:t=_context214.sent;_context214.next=18;break;case 10:_e1742=this.Js.board.extractArtworkWithSelectedElements();_i1586=tu(_e1742);_context214.next=14;return Of(_i1586,"png",{colors:0});case 14:_s920=_context214.sent;_context214.next=17;return createImageBitmap(_s920);case 17:t=_context214.sent;case 18:if(this["#options-heading"].disabled=null===t,this["#columns-heading"].disabled=null===t,this["#columns-input"].disabled=null===t,this["#rows-heading"].disabled=null===t,this["#rows-input"].disabled=null===t,t){_e1743=t.height/t.width;this["#rows-input"].value=Math.floor(this["#columns-input"].value*_e1743);}this["#pixel-size-heading"].disabled=null===t,this["#pixel-size-slider"].disabled=null===t,this["#pixel-size-input"].disabled=null===t,this["#pixel-shape-heading"].disabled=null===t;_iterator1571=_createForOfIteratorHelper(this["#pixel-shape-buttons"].children);try{for(_iterator1571.s();!(_step1571=_iterator1571.n()).done;){_e1745=_step1571.value;_e1745.disabled=null===t;}}catch(err){_iterator1571.e(err);}finally{_iterator1571.f();}this["#render-as-heading"].disabled=null===t;_iterator1572=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1572.s();!(_step1572=_iterator1572.n()).done;){_e1746=_step1572.value;_e1746.disabled=null===t;}}catch(err){_iterator1572.e(err);}finally{_iterator1572.f();}if(!(null===t)){_context214.next=29;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context214.next=34;break;case 29:_context214.next=31;return this.HM(t,this.options);case 31:_e1744=_context214.sent;_i1587=Oi(_e1744);_i1587.setAttribute("id","preview"),_i1587.setAttribute("part","preview"),this["#preview"].replaceWith(_i1587),this["#preview"]=_i1587,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 34:this["#generate-button"].disabled=null===t;case 35:case"end":return _context214.stop();}}},_callee213,this);}));function qs(){return _qs4.apply(this,arguments);}return qs;}()}]);return Bf;}(hf);_defineProperty(Bf,"MC",qi(_templateObject505()));_defineProperty(Bf,"PC",qi(_templateObject506()));_defineProperty(Bf,"_shadowStyleSheet",Xi(_templateObject507()));customElements.define("bx-pixelategenerator",Bf);var Rf=/*#__PURE__*/function(_hf10){_inherits(Rf,_hf10);var _super221=_createSuper(Rf);_createClass(Rf,[{key:"options",get:function get(){return{cellSize:this["#cell-size-input"].value/100,variance:this["#variance-input"].value/100,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision};}}]);function Rf(){var _this999;_classCallCheck(this,Rf);_this999=_super221.call(this),_this999.Kc=Qi(_this999.qs,1e3,_assertThisInitialized(_this999)),_this999["#cell-size-box"].addEventListener("changestart",function(){return _this999.jC();}),_this999["#variance-box"].addEventListener("changestart",function(){return _this999.HC();}),_this999["#seed-box"].addEventListener("changestart",function(){return _this999.wk();}),_this999["#render-as-buttons"].addEventListener("toggle",function(){return _this999.jM();}),_this999["#generate-button"].addEventListener("click",function(){return _this999.EC();});return _this999;}_createClass(Rf,[{key:"connectedCallback",value:function connectedCallback(){var _this1000=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Qs.getConfig("bx-triangulategenerator:cellSize",.1),e=this.Qs.getConfig("bx-triangulategenerator:variance",.75),i=this.Qs.getConfig("bx-triangulategenerator:seed",100),s=this.Qs.getConfig("bx-triangulategenerator:renderAs","paths");this["#cell-size-slider"].value=K(100*t,2),this["#cell-size-input"].value=K(100*t,2),this["#variance-slider"].value=K(100*e,2),this["#variance-input"].value=K(100*e,2),this["#seed-slider"].value=i,this["#seed-input"].value=i,this["#render-as-buttons"].value=s,this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this1000.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this1000.Kc();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"jC",value:function jC(){var _this1001=this;var t,_e1747;this["#cell-size-box"].addEventListener("change",t=function t(_t2384){_t2384.target===_this1001["#cell-size-slider"]?_this1001["#cell-size-input"].value=_this1001["#cell-size-slider"].value:_t2384.target===_this1001["#cell-size-input"]&&(_this1001["#cell-size-slider"].value=_this1001["#cell-size-input"].value);}),this["#cell-size-box"].addEventListener("changeend",_e1747=function e(){_this1001["#cell-size-box"].removeEventListener("change",t),_this1001["#cell-size-box"].removeEventListener("changeend",_e1747),_this1001.Qs.setConfig("bx-triangulategenerator:cellSize",_this1001["#cell-size-slider"].value/100),_this1001.qs();});}},{key:"HC",value:function HC(){var _this1002=this;var t,_e1748;this["#variance-box"].addEventListener("change",t=function t(_t2385){_t2385.target===_this1002["#variance-slider"]?_this1002["#variance-input"].value=_this1002["#variance-slider"].value:_t2385.target===_this1002["#variance-input"]&&(_this1002["#variance-slider"].value=_this1002["#variance-input"].value);}),this["#variance-box"].addEventListener("changeend",_e1748=function e(){_this1002["#variance-box"].removeEventListener("change",t),_this1002["#variance-box"].removeEventListener("changeend",_e1748),_this1002.Qs.setConfig("bx-triangulategenerator:variance",_this1002["#variance-slider"].value/100),_this1002.qs();});}},{key:"wk",value:function wk(){var _this1003=this;var t,_e1749;this["#seed-box"].addEventListener("change",t=function t(_t2386){_t2386.target===_this1003["#seed-slider"]?_this1003["#seed-input"].value=_this1003["#seed-slider"].value:_t2386.target===_this1003["#seed-input"]&&(_this1003["#seed-slider"].value=_this1003["#seed-input"].value);}),this["#seed-box"].addEventListener("changeend",_e1749=function e(){_this1003["#seed-box"].removeEventListener("change",t),_this1003["#seed-box"].removeEventListener("changeend",_e1749),_this1003.Qs.setConfig("bx-triangulategenerator:seed",_this1003["#seed-slider"].value),_this1003.qs();});}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-triangulategenerator:renderAs",this["#render-as-buttons"].value);}},{key:"EC",value:function(){var _EC4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee214(){var t,e,i,_t2387,_i1588,_s921,s,n,o,l,_iterator1573,_step1573,_loop39;return regeneratorRuntime.wrap(function _callee214$(_context215){while(1){switch(_context215.prev=_context215.next){case 0:t=this.Js.board,e=null,i=this.Js.board.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context215.next=7;break;}_context215.next=4;return createImageBitmap(i);case 4:e=_context215.sent;_context215.next=15;break;case 7:_t2387=this.Js.board.extractArtworkWithSelectedElements();_i1588=tu(_t2387);_context215.next=11;return Of(_i1588,"png",{colors:0});case 11:_s921=_context215.sent;_context215.next=14;return createImageBitmap(_s921);case 14:e=_context215.sent;case 15:s=i.getBoundingClientRect();_context215.next=18;return this.YM(e,this.options);case 18:n=_context215.sent;o=Dh(n);o.setAttribute("preserveAspectRatio","none"),t.undoManager.checkpoint("Triangulate");l=t.insertArtworkIntoBBox(o,s);_iterator1573=_createForOfIteratorHelper(i.style);try{_loop39=function _loop39(){var t=_step1573.value;var e=i.style.getPropertyValue(t),s=F.find(function(e){return e.name===t;});s&&s.appliesTo.includes("g")&&l.style.setProperty(t,e);};for(_iterator1573.s();!(_step1573=_iterator1573.n()).done;){_loop39();}}catch(err){_iterator1573.e(err);}finally{_iterator1573.f();}t.selectedElements=[l],t.selectedTextRange=null,i.remove();case 25:case"end":return _context215.stop();}}},_callee214,this);}));function EC(){return _EC4.apply(this,arguments);}return EC;}()},{key:"YM",value:function YM(t,e){return new Promise(function(i){var s=new Worker("/workers/triangulate.js");s.addEventListener("message",function(t){return i(t.data);},!1),s.postMessage([t,e]);});}},{key:"qs",value:function(){var _qs5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee215(){var t,_e1750,_i1589,_e1751,_i1590,_s922,_iterator1574,_step1574,_e1753,_e1752,_i1591;return regeneratorRuntime.wrap(function _callee215$(_context216){while(1){switch(_context216.prev=_context216.next){case 0:t=null;if(!(1===this.Js.board.outermostSelectedObjectElements.length)){_context216.next=18;break;}_e1750=this.Js.board.outermostSelectedObjectElements[0],_i1589=_e1750.getBoundingClientRect();if(!(_i1589.width>=1&&_i1589.height>=1)){_context216.next=18;break;}if(!("image"===_e1750.localName)){_context216.next=10;break;}_context216.next=7;return createImageBitmap(_e1750);case 7:t=_context216.sent;_context216.next=18;break;case 10:_e1751=this.Js.board.extractArtworkWithSelectedElements();_i1590=tu(_e1751);_context216.next=14;return Of(_i1590,"png",{colors:0});case 14:_s922=_context216.sent;_context216.next=17;return createImageBitmap(_s922);case 17:t=_context216.sent;case 18:this["#options-heading"].disabled=null===t,this["#cell-size-heading"].disabled=null===t,this["#cell-size-slider"].disabled=null===t,this["#cell-size-input"].disabled=null===t,this["#variance-heading"].disabled=null===t,this["#variance-slider"].disabled=null===t,this["#variance-input"].disabled=null===t,this["#seed-heading"].disabled=null===t,this["#seed-slider"].disabled=null===t,this["#seed-input"].disabled=null===t,this["#render-as-heading"].disabled=null===t;_iterator1574=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1574.s();!(_step1574=_iterator1574.n()).done;){_e1753=_step1574.value;_e1753.disabled=null===t;}}catch(err){_iterator1574.e(err);}finally{_iterator1574.f();}if(!(null===t)){_context216.next=25;break;}this["#preview-section"].hidden=!0,this["#preview"].innerHTML="",this["#preview-section-hr"].hidden=!0;_context216.next=30;break;case 25:_context216.next=27;return this.YM(t,this.options);case 27:_e1752=_context216.sent;_i1591=Oi(_e1752);_i1591.setAttribute("id","preview"),_i1591.setAttribute("part","preview"),this["#preview"].replaceWith(_i1591),this["#preview"]=_i1591,this["#preview-section"].hidden=!1,this["#preview-section-hr"].hidden=!1;case 30:this["#generate-button"].disabled=null===t;case 31:case"end":return _context216.stop();}}},_callee215,this);}));function qs(){return _qs5.apply(this,arguments);}return qs;}()}]);return Rf;}(hf);_defineProperty(Rf,"MC",qi(_templateObject508()));_defineProperty(Rf,"PC",qi(_templateObject509()));_defineProperty(Rf,"_shadowStyleSheet",Xi(_templateObject510()));customElements.define("bx-triangulategenerator",Rf);var Gf=/*#__PURE__*/function(_hf11){_inherits(Gf,_hf11);var _super222=_createSuper(Gf);_createClass(Gf,[{key:"WM",value:function WM(){var _this1005=this;return new Promise(function(t){_this1005.isConnected?t():_this1005.qM.push(t);});}},{key:"options",get:function get(){return{shapesType:this["#shapes-type-buttons"].value,shapesNumber:this["#shapes-number-input"].value,shapesAlpha:this["#shapes-alpha-input"].value,autoAdjustShapesAlpha:this["#auto-adjust-shapes-alpha-checkbox"].toggled,workingSize:this["#working-size-input"].value,shapesPerIteration:this["#shapes-per-iteration-input"].value,maxMutations:this["#max-mutations-input"].value,seed:this["#seed-input"].value,renderAs:this["#render-as-buttons"].value,overflow:this["#overflow-buttons"].value,geometryPrecision:this.Js.board.geometryPrecision,transformPrecision:this.Js.board.transformPrecision};}}]);function Gf(){var _this1004;_classCallCheck(this,Gf);_this1004=_super222.call(this),_this1004.XM=null,_this1004.ZM=null,_this1004.qM=[],_this1004["#shapes-type-buttons"].addEventListener("toggle",function(){return _this1004.KM();}),_this1004["#render-as-buttons"].addEventListener("toggle",function(){return _this1004.jM();}),_this1004["#overflow-buttons"].addEventListener("toggle",function(){return _this1004.QM();}),_this1004["#shapes-number-box"].addEventListener("changestart",function(){return _this1004.JM();}),_this1004["#shapes-alpha-box"].addEventListener("changestart",function(){return _this1004.tP();}),_this1004["#auto-adjust-shapes-alpha-checkbox"].addEventListener("toggle",function(){return _this1004.eP();}),_this1004["#working-size-box"].addEventListener("changestart",function(){return _this1004.PM();}),_this1004["#shapes-per-iteration-box"].addEventListener("changestart",function(){return _this1004.iP();}),_this1004["#max-mutations-box"].addEventListener("changestart",function(){return _this1004.sP();}),_this1004["#seed-box"].addEventListener("changestart",function(){return _this1004.wk();}),_this1004["#generate-button"].addEventListener("click",function(){return _this1004.EC();});return _this1004;}_createClass(Gf,[{key:"connectedCallback",value:function connectedCallback(){var _this1006=this;this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");var t=this.Qs.getConfig("bx-primitivizegenerator:shapesType",["triangles"]),e=this.Qs.getConfig("bx-primitivizegenerator:renderAs","paths"),i=this.Qs.getConfig("bx-primitivizegenerator:overflow","cut"),s=this.Qs.getConfig("bx-primitivizegenerator:shapesNumber",40),n=this.Qs.getConfig("bx-primitivizegenerator:shapesAlpha",.7),o=this.Qs.getConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",!0),l=this.Qs.getConfig("bx-primitivizegenerator:workingSize",128),a=this.Qs.getConfig("bx-primitivizegenerator:shapesPerIteration",200),h=this.Qs.getConfig("bx-primitivizegenerator:maxMutations",16),r=this.Qs.getConfig("bx-primitivizegenerator:seed",100);this["#shapes-type-buttons"].value=t,this["#render-as-buttons"].value=e,this["#overflow-buttons"].value=i,this["#shapes-number-input"].value=s,this["#shapes-number-slider"].value=s,this["#shapes-alpha-input"].value=n,this["#shapes-alpha-slider"].value=n,this["#auto-adjust-shapes-alpha-checkbox"].toggled=o,this["#working-size-slider"].value=l,this["#working-size-input"].value=l,this["#shapes-per-iteration-slider"].value=a,this["#shapes-per-iteration-input"].value=a,this["#max-mutations-slider"].value=h,this["#max-mutations-input"].value=h,this["#seed-slider"].value=r,this["#seed-input"].value=r,this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this1006.qs();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(){_this1006.qs();}),this.Js.board.undoManager.addEventListener("undo",this._a=function(){_this1006.nP();}),this.Js.board.undoManager.addEventListener("redo",this.Ca=function(){_this1006.nP();}),this.qs();var _iterator1575=_createForOfIteratorHelper(this.qM),_step1575;try{for(_iterator1575.s();!(_step1575=_iterator1575.n()).done;){var _t2388=_step1575.value;_t2388();}}catch(err){_iterator1575.e(err);}finally{_iterator1575.f();}this.qM=[];}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn),this.Js.board.undoManager.removeEventListener("undo",this._a),this.Js.board.undoManager.removeEventListener("redo",this.Ca),null===Ii(this,"bx-generatorspanel")&&this.nP();}},{key:"oP",value:function(){var _oP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee217(){var _this1007=this;var t,e,i,_i1592,_s923,_n673;return regeneratorRuntime.wrap(function _callee217$(_context218){while(1){switch(_context218.prev=_context218.next){case 0:null!==this.XM&&this.nP();t=this.Js.board,e=null,i=t.outermostSelectedObjectElements[0];if(!("image"===i.localName)){_context218.next=8;break;}_context218.next=5;return createImageBitmap(i);case 5:e=_context218.sent;_context218.next=16;break;case 8:_i1592=t.extractArtworkWithSelectedElements();_s923=tu(_i1592);_context218.next=12;return Of(_s923,"png",{colors:0});case 12:_n673=_context218.sent;_context218.next=15;return createImageBitmap(_n673);case 15:e=_context218.sent;case 16:this.XM=new Worker("/workers/primitivize.js"),this.XM.postMessage([e,this.options]),this.ZM=i,this["#progress-bar"].value=0,this.qs(),this["#preview"].innerHTML="",this["#preview"].setAttribute("viewBox","0 0 ".concat(e.width," ").concat(e.height)),this["#preview-section"].scrollIntoViewIfNeeded(),this.XM.addEventListener("message",/*#__PURE__*/function(){var _ref192=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee216(e){var _e$data,s,n,_e1754,_s924,_iterator1576,_step1576,_loop40;return regeneratorRuntime.wrap(function _callee216$(_context217){while(1){switch(_context217.prev=_context217.next){case 0:_e$data=_slicedToArray(e.data,2),s=_e$data[0],n=_e$data[1];if(!n.startsWith("<svg")){_context217.next=5;break;}_this1007["#progress-bar"].value=s;_context217.next=19;break;case 5:if(!("</svg>"===n)){_context217.next=18;break;}_context217.next=8;return _this1007.WM();case 8:if(!i.isConnected){_context217.next=15;break;}_e1754=_this1007["#preview"].cloneNode(!0);_e1754.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");_s924=t.insertArtworkIntoBBox(_e1754,i.getBoundingClientRect());_iterator1576=_createForOfIteratorHelper(i.style);try{_loop40=function _loop40(){var t=_step1576.value;var e=i.style.getPropertyValue(t),n=F.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s924.style.setProperty(t,e);};for(_iterator1576.s();!(_step1576=_iterator1576.n()).done;){_loop40();}}catch(err){_iterator1576.e(err);}finally{_iterator1576.f();}t.selectedElements=[_s924],t.selectedTextRange=null,i.remove();case 15:_this1007["#preview"].innerHTML="",_this1007["#progress-bar"].value=-1,_this1007.XM.terminate(),_this1007.XM=null,_this1007.qs();_context217.next=19;break;case 18:_this1007["#progress-bar"].value=s,_this1007["#preview"].insertAdjacentHTML("beforeend",n);case 19:case"end":return _context217.stop();}}},_callee216);}));return function(_x222){return _ref192.apply(this,arguments);};}());case 17:case"end":return _context218.stop();}}},_callee217,this);}));function oP(){return _oP.apply(this,arguments);}return oP;}()},{key:"lP",value:function lP(){if(null===this.XM)return;var t=this.Js.board,e=this.ZM;if(e.isConnected){var _i1593=this["#preview"].cloneNode(!0);_i1593.removeAttribute("id"),t.undoManager.checkpoint("Primitivize");var _s925=t.insertArtworkIntoBBox(_i1593,e.getBoundingClientRect());var _iterator1577=_createForOfIteratorHelper(e.style),_step1577;try{var _loop41=function _loop41(){var t=_step1577.value;var i=e.style.getPropertyValue(t),n=F.find(function(e){return e.name===t;});n&&n.appliesTo.includes("g")&&_s925.style.setProperty(t,i);};for(_iterator1577.s();!(_step1577=_iterator1577.n()).done;){_loop41();}}catch(err){_iterator1577.e(err);}finally{_iterator1577.f();}t.selectedElements=[_s925],t.selectedTextRange=null,e.remove();}this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.XM.terminate(),this.XM=null,this.ZM=null,this.qs();}},{key:"nP",value:function nP(){null!==this.XM&&(this["#preview"].innerHTML="",this["#progress-bar"].value=-1,this.XM.terminate(),this.XM=null,this.ZM=null,this.qs());}},{key:"KM",value:function KM(t){this.Qs.setConfig("bx-primitivizegenerator:shapesType",this["#shapes-type-buttons"].value);}},{key:"jM",value:function jM(){this.Qs.setConfig("bx-primitivizegenerator:renderAs",this["#render-as-buttons"].value);}},{key:"QM",value:function QM(){this.Qs.setConfig("bx-primitivizegenerator:overflow",this["#overflow-buttons"].value);}},{key:"JM",value:function JM(){var _this1008=this;var t,_e1755;this["#shapes-number-box"].addEventListener("change",t=function t(_t2389){_t2389.target===_this1008["#shapes-number-slider"]?_this1008["#shapes-number-input"].value=_this1008["#shapes-number-slider"].value:_t2389.target===_this1008["#shapes-number-input"]&&(_this1008["#shapes-number-slider"].value=_this1008["#shapes-number-input"].value);}),this["#shapes-number-box"].addEventListener("changeend",_e1755=function e(){_this1008["#shapes-number-box"].removeEventListener("change",t),_this1008["#shapes-number-box"].removeEventListener("changeend",_e1755),_this1008.Qs.setConfig("bx-primitivizegenerator:shapesNumber",_this1008["#shapes-number-input"].value);});}},{key:"tP",value:function tP(){var _this1009=this;var t,_e1756;this["#shapes-alpha-box"].addEventListener("change",t=function t(_t2390){_t2390.target===_this1009["#shapes-alpha-slider"]?_this1009["#shapes-alpha-input"].value=_this1009["#shapes-alpha-slider"].value:_t2390.target===_this1009["#shapes-alpha-input"]&&(_this1009["#shapes-alpha-slider"].value=_this1009["#shapes-alpha-input"].value);}),this["#shapes-alpha-box"].addEventListener("changeend",_e1756=function e(){_this1009["#shapes-alpha-box"].removeEventListener("change",t),_this1009["#shapes-alpha-box"].removeEventListener("changeend",_e1756),_this1009.Qs.setConfig("bx-primitivizegenerator:shapesAlpha",_this1009["#shapes-alpha-input"].value);});}},{key:"eP",value:function eP(){this.Qs.setConfig("bx-primitivizegenerator:autoAdjustShapesAlpha",this["#auto-adjust-shapes-alpha-checkbox"].toggled);}},{key:"PM",value:function PM(){var _this1010=this;var t,_e1757;this["#working-size-box"].addEventListener("change",t=function t(_t2391){_t2391.target===_this1010["#working-size-slider"]?_this1010["#working-size-input"].value=_this1010["#working-size-slider"].value:_t2391.target===_this1010["#working-size-input"]&&(_this1010["#working-size-slider"].value=_this1010["#working-size-input"].value),_this1010.qs();}),this["#working-size-box"].addEventListener("changeend",_e1757=function e(){_this1010["#working-size-box"].removeEventListener("change",t),_this1010["#working-size-box"].removeEventListener("changeend",_e1757),_this1010.Qs.setConfig("bx-primitivizegenerator:workingSize",_this1010["#working-size-slider"].value);});}},{key:"iP",value:function iP(){var _this1011=this;var t,_e1758;this["#shapes-per-iteration-box"].addEventListener("change",t=function t(_t2392){_t2392.target===_this1011["#shapes-per-iteration-slider"]?_this1011["#shapes-per-iteration-input"].value=_this1011["#shapes-per-iteration-slider"].value:_t2392.target===_this1011["#shapes-per-iteration-input"]&&(_this1011["#shapes-per-iteration-slider"].value=_this1011["#shapes-per-iteration-input"].value),_this1011.qs();}),this["#shapes-per-iteration-box"].addEventListener("changeend",_e1758=function e(){_this1011["#shapes-per-iteration-box"].removeEventListener("change",t),_this1011["#shapes-per-iteration-box"].removeEventListener("changeend",_e1758),_this1011.Qs.setConfig("bx-primitivizegenerator:shapesPerIteration",_this1011["#shapes-per-iteration-slider"].value);});}},{key:"sP",value:function sP(){var _this1012=this;var t,_e1759;this["#max-mutations-box"].addEventListener("change",t=function t(_t2393){_t2393.target===_this1012["#max-mutations-slider"]?_this1012["#max-mutations-input"].value=_this1012["#max-mutations-slider"].value:_t2393.target===_this1012["#max-mutations-input"]&&(_this1012["#max-mutations-slider"].value=_this1012["#max-mutations-input"].value),_this1012.qs();}),this["#max-mutations-box"].addEventListener("changeend",_e1759=function e(){_this1012["#max-mutations-box"].removeEventListener("change",t),_this1012["#max-mutations-box"].removeEventListener("changeend",_e1759),_this1012.Qs.setConfig("bx-primitivizegenerator:maxMutations",_this1012["#max-mutations-slider"].value);});}},{key:"wk",value:function wk(){var _this1013=this;var t,_e1760;this["#seed-box"].addEventListener("change",t=function t(_t2394){_t2394.target===_this1013["#seed-slider"]?_this1013["#seed-input"].value=_this1013["#seed-slider"].value:_t2394.target===_this1013["#seed-input"]&&(_this1013["#seed-slider"].value=_this1013["#seed-input"].value),_this1013.qs();}),this["#seed-box"].addEventListener("changeend",_e1760=function e(){_this1013["#seed-box"].removeEventListener("change",t),_this1013["#seed-box"].removeEventListener("changeend",_e1760),_this1013.Qs.setConfig("bx-primitivizegenerator:seed",_this1013["#seed-slider"].value);});}},{key:"EC",value:function(){var _EC5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee218(){return regeneratorRuntime.wrap(function _callee218$(_context219){while(1){switch(_context219.prev=_context219.next){case 0:this.XM?this.lP():this.oP();case 1:case"end":return _context219.stop();}}},_callee218,this);}));function EC(){return _EC5.apply(this,arguments);}return EC;}()},{key:"qs",value:function(){var _qs6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee219(){var t,e,_iterator1578,_step1578,_t2395,_iterator1579,_step1579,_t2396,_iterator1580,_step1580,_t2397;return regeneratorRuntime.wrap(function _callee219$(_context220){while(1){switch(_context220.prev=_context220.next){case 0:t=null;1===this.Js.board.outermostSelectedObjectElements.length&&(t=this.Js.board.outermostSelectedObjectElements[0]);e=null===t||null!==this.XM;this["#options-heading"].disabled=e,this["#shapes-heading"].disabled=e,this["#algorithm-heading"].disabled=e,this["#rendering-heading"].disabled=e,this["#shapes-type-heading"].disabled=e;_iterator1578=_createForOfIteratorHelper(this["#shapes-type-buttons"].children);try{for(_iterator1578.s();!(_step1578=_iterator1578.n()).done;){_t2395=_step1578.value;_t2395.disabled=e;}}catch(err){_iterator1578.e(err);}finally{_iterator1578.f();}this["#shapes-number-heading"].disabled=e,this["#shapes-number-slider"].disabled=e,this["#shapes-number-input"].disabled=e,this["#shapes-alpha-heading"].disabled=e,this["#shapes-alpha-slider"].disabled=e,this["#shapes-alpha-input"].disabled=e,this["#auto-adjust-shapes-alpha-checkbox"].disabled=e,this["#working-size-heading"].disabled=e,this["#working-size-slider"].disabled=e,this["#working-size-input"].disabled=e,this["#shapes-per-iteration-heading"].disabled=e,this["#shapes-per-iteration-slider"].disabled=e,this["#shapes-per-iteration-input"].disabled=e,this["#max-mutations-heading"].disabled=e,this["#max-mutations-slider"].disabled=e,this["#max-mutations-input"].disabled=e,this["#seed-heading"].disabled=e,this["#seed-slider"].disabled=e,this["#seed-input"].disabled=e,this["#overflow-heading"].disabled=e;_iterator1579=_createForOfIteratorHelper(this["#overflow-buttons"].children);try{for(_iterator1579.s();!(_step1579=_iterator1579.n()).done;){_t2396=_step1579.value;_t2396.disabled=e;}}catch(err){_iterator1579.e(err);}finally{_iterator1579.f();}this["#render-as-heading"].disabled=e;_iterator1580=_createForOfIteratorHelper(this["#render-as-buttons"].children);try{for(_iterator1580.s();!(_step1580=_iterator1580.n()).done;){_t2397=_step1580.value;_t2397.disabled=e;}}catch(err){_iterator1580.e(err);}finally{_iterator1580.f();}this["#preview-section"].hidden=null===this.XM,this["#preview-section-hr"].hidden=null===this.XM,null===this.XM?(this["#generate-label"].textContent="Primitivize",this["#generate-button"].disabled=e):(this["#generate-label"].textContent="Stop",this["#generate-button"].disabled=!1);case 13:case"end":return _context220.stop();}}},_callee219,this);}));function qs(){return _qs6.apply(this,arguments);}return qs;}()}]);return Gf;}(hf);_defineProperty(Gf,"MC",qi(_templateObject511()));_defineProperty(Gf,"PC",qi(_templateObject512()));_defineProperty(Gf,"_shadowStyleSheet",Xi(_templateObject513()));customElements.define("bx-primitivizegenerator",Gf);var Ff=/*#__PURE__*/function(_HTMLElement130){_inherits(Ff,_HTMLElement130);var _super223=_createSuper(Ff);_createClass(Ff,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Ff(){var _this1014;_classCallCheck(this,Ff);_this1014=_super223.call(this),_this1014._shadowRoot=_this1014.attachShadow({mode:"closed"}),_this1014._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Ff._shadowStyleSheet],_this1014._shadowRoot.append(document.importNode(Ff._shadowTemplate.content,!0));var _iterator1581=_createForOfIteratorHelper(_this1014._shadowRoot.querySelectorAll("[id]")),_step1581;try{for(_iterator1581.s();!(_step1581=_iterator1581.n()).done;){var _t2398=_step1581.value;_this1014["#"+_t2398.id]=_t2398;}}catch(err){_iterator1581.e(err);}finally{_iterator1581.f();}_this1014["#generator-select"].addEventListener("change",function(){return _this1014.aP();});return _this1014;}_createClass(Ff,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}},{key:"tn",value:function tn(){this["#generator-select"].value=this.Qs.getConfig("bx-generatorspanel:generator","bx-barcodegenerator"),this.qs();}},{key:"sn",value:function sn(){this["#generator-select"].value=null,this.qs();}},{key:"aP",value:function aP(){this.Qs.setConfig("bx-generatorspanel:generator",this["#generator-select"].value),this.qs();}},{key:"qs",value:function qs(){var t=this["#generator-select"].value;this["#main"].innerHTML=null===t?"":"<".concat(t,"></").concat(t,">");}}]);return Ff;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Ff,"observedAttributes",["enabled"]);_defineProperty(Ff,"_shadowTemplate",qi(_templateObject514()));_defineProperty(Ff,"_shadowStyleSheet",Xi(_templateObject515()));customElements.define("bx-generatorspanel",Ff);var Uf=/*#__PURE__*/function(_HTMLElement131){_inherits(Uf,_HTMLElement131);var _super224=_createSuper(Uf);_createClass(Uf,[{key:"exportable",get:function get(){return this.hasAttribute("exportable");},set:function set(t){!0===t?this.setAttribute("exportable",""):this.removeAttribute("exportable");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){!0===t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Uf(){var _this1015;_classCallCheck(this,Uf);_this1015=_super224.call(this);var t=_this1015.constructor.hP;_this1015._shadowRoot=_this1015.attachShadow({mode:"closed"}),_this1015._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Uf._shadowStyleSheet,_this1015.constructor._shadowStyleSheet],_this1015._shadowRoot.append(document.importNode(Uf._shadowTemplate.content,!0)),t&&_this1015._shadowRoot.querySelector("#options-section").append(document.importNode(t.content,!0));var _iterator1582=_createForOfIteratorHelper(_this1015._shadowRoot.querySelectorAll("[id]")),_step1582;try{for(_iterator1582.s();!(_step1582=_iterator1582.n()).done;){var _t2399=_step1582.value;_this1015["#"+_t2399.id]=_t2399;}}catch(err){_iterator1582.e(err);}finally{_iterator1582.f();}_this1015.setAttribute("extends","bx-exportsettings");return _this1015;}_createClass(Uf,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("disabled"===t?this.qs():"exportable"===t&&this.dispatchEvent(new CustomEvent("exportablechange",{bubbles:!0})));}}]);return Uf;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Uf,"observedAttributes",["exportable","disabled"]);_defineProperty(Uf,"_shadowTemplate",qi(_templateObject516()));_defineProperty(Uf,"_shadowStyleSheet",Xi(_templateObject517()));var Nf=Array.isArray;var Vf=/*#__PURE__*/function(_Uf){_inherits(Vf,_Uf);var _super225=_createSuper(Vf);_createClass(Vf,[{key:"format",get:function get(){return"png";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Nf(t)&&(t=[t,t,t,t])),t;}},{key:"dpi",get:function get(){return this["#dpi-input"].value;}},{key:"colors",get:function get(){return"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Vf(){var _this1016;_classCallCheck(this,Vf);_this1016=_super225.call(this),_this1016["#area-buttons"].addEventListener("toggle",function(){return _this1016.yM();}),_this1016["#view-select"].addEventListener("change",function(){return _this1016.rP();}),_this1016["#width-input"].addEventListener("changestart",function(){return _this1016.Rg();}),_this1016["#height-input"].addEventListener("changestart",function(){return _this1016.Gg();}),_this1016["#lock-size-button"].addEventListener("toggle",function(){return _this1016.dP();}),_this1016["#margin-switch"].addEventListener("toggle",function(){return _this1016.cP();}),_this1016["#margin-input"].addEventListener("changeend",function(){return _this1016.pP();}),_this1016["#dpi-slider"].addEventListener("changestart",function(){return _this1016.uP();}),_this1016["#dpi-input"].addEventListener("changestart",function(){return _this1016.xP();}),_this1016["#colors-mode-buttons"].addEventListener("toggle",function(){return _this1016.sM();}),_this1016["#colors-slider"].addEventListener("changestart",function(){return _this1016.nM();}),_this1016["#colors-input"].addEventListener("changestart",function(){return _this1016.oM();}),_this1016["#background-select"].addEventListener("changeend",function(){return _this1016.hM();}),_this1016["#background-popover"].addEventListener("close",function(){return _this1016.rM();}),_this1016["#preview-button"].addEventListener("click",function(){return _this1016.dM();});return _this1016;}_createClass(Vf,[{key:"connectedCallback",value:function connectedCallback(){var _this1017=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-pngsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-pngsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-pngsettings:margin",null),this["#dpi-slider"].value=t.getConfig("bx-pngsettings:dpi",96),this["#dpi-input"].value=t.getConfig("bx-pngsettings:dpi",96),this["#colors-mode-buttons"].value=this.Qs.getConfig("bx-pngsettings:colorsMode","rgb"),this["#colors-slider"].value=t.getConfig("bx-pngsettings:colors",256),this["#colors-input"].value=t.getConfig("bx-pngsettings:colors",256),this["#background-select"].value=t.getConfig("bx-pngsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1017.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1017.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){this.cM(),this.qs(),this.Qs.setConfig("bx-pngsettings:area",this["#area-buttons"].value);}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var _t2400=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);_t2400&&(this.Js.board.selectedElements=[_t2400]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1018=this;var t,_e1761,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2401=_this1018["#width-input"].value/i;_this1018["#height-input"].value=Q(_t2401,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1761=function e(){_this1018["#width-input"].removeEventListener("change",t),_this1018["#width-input"].removeEventListener("changeend",_e1761),_this1018.cM();});}},{key:"Gg",value:function Gg(){var _this1019=this;var t,_e1762,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2402=i*_this1019["#height-input"].value;_this1019["#width-input"].value=Q(_t2402,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1762=function e(){_this1019["#height-input"].removeEventListener("change",t),_this1019["#height-input"].removeEventListener("changeend",_e1762),_this1019.cM();});}},{key:"dP",value:function dP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pngsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"cP",value:function cP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-pngsettings:margin",t),this["#margin-input"].value=t,this.cM(),this.qs(!1);}},{key:"pP",value:function pP(){this.Qs.setConfig("bx-pngsettings:margin",this["#margin-input"].value),this.cM();}},{key:"uP",value:function uP(){var _this1020=this;var t,_e1763;this["#dpi-slider"].addEventListener("change",t=function t(){_this1020["#dpi-input"].value=_this1020["#dpi-slider"].value;}),this["#dpi-slider"].addEventListener("changeend",_e1763=function e(){_this1020["#dpi-slider"].removeEventListener("change",t),_this1020["#dpi-slider"].removeEventListener("changeend",_e1763),_this1020.Qs.setConfig("bx-pngsettings:dpi",_this1020["#dpi-slider"].value);});}},{key:"xP",value:function xP(){var _this1021=this;var t,_e1764;this["#dpi-input"].addEventListener("change",t=function t(){_this1021["#dpi-slider"].value=_this1021["#dpi-input"].value;}),this["#dpi-input"].addEventListener("changeend",_e1764=function e(){_this1021["#dpi-input"].removeEventListener("change",t),_this1021["#dpi-input"].removeEventListener("changeend",_e1764),_this1021.Qs.setConfig("bx-pngsettings:dpi",_this1021["#dpi-input"].value);});}},{key:"sM",value:function sM(){this["#colors-box"].hidden="palette"!==this["#colors-mode-buttons"].value,this.Qs.setConfig("bx-pngsettings:colorsMode",this["#colors-mode-buttons"].value),this.cM();}},{key:"nM",value:function nM(){var _this1022=this;var t,_e1765;this["#colors-slider"].addEventListener("change",t=function t(){_this1022["#colors-input"].value=_this1022["#colors-slider"].value;}),this["#colors-slider"].addEventListener("changeend",_e1765=function e(){_this1022["#colors-slider"].removeEventListener("change",t),_this1022["#colors-slider"].removeEventListener("changeend",_e1765),_this1022.Qs.setConfig("bx-pngsettings:colors",_this1022["#colors-slider"].value),_this1022.cM();});}},{key:"oM",value:function oM(){var _this1023=this;var t,_e1766;this["#colors-input"].addEventListener("change",t=function t(){_this1023["#colors-slider"].value=_this1023["#colors-input"].value;}),this["#colors-input"].addEventListener("changeend",_e1766=function e(){_this1023["#colors-input"].removeEventListener("change",t),_this1023["#colors-input"].removeEventListener("changeend",_e1766),_this1023.Qs.setConfig("bx-pngsettings:colors",_this1023["#colors-input"].value),_this1023.cM();});}},{key:"hM",value:function hM(){this.pM=!0;}},{key:"rM",value:function rM(){this.pM&&(this.pM=!1,this.Qs.setConfig("bx-pngsettings:background",this["#background-select"].value),this.cM());}},{key:"dM",value:function dM(){this.uM();}},{key:"uM",value:function(){var _uM3=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee220(){var t,_e1767,_t2403,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee220$(_context221){while(1){switch(_context221.prev=_context221.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1767=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2403=this["#view-select"].value.substring(1);_e1767=this.Js.board.currentWorkspace.querySelector("#"+_t2403);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1767);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=tu(t);_context221.next=5;return Of(e,"png",{dpi:this["#dpi-input"].value,colors:"rgb"===this["#colors-mode-buttons"].value?0:this["#colors-slider"].value,background:this["#background-select"].value});case 5:i=_context221.sent;_context221.next=8;return jh(i);case 8:s=_context221.sent;n=s.substring(0,s.indexOf(",")+1);o=K((s.length-n.length)*(3/4));l=qh(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context221.stop();}}},_callee220,this);}));function uM(){return _uM3.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1024=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ve(e.outermostSelectedObjectElements.map(function(t){var i=jt(t,e.currentWorkspace),s=Pi(t);return Ne(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2404=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2404.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2405=e.selectedElements.find(function(t){return"view"===t.localName;});_t2405&&(s=_t2405);}else{var _e1768=_t2404.find(function(t){return"#"+t.id===_this1024["#view-select"].value;});_e1768&&(s=_e1768);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Rt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2406=e.currentWorkspace.querySelector("#"+s.id);_t2406.hasAttribute("viewBox")&&(i=Rt.fromString(_t2406.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2407=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2407.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2407.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1769=["default"].concat(_toConsumableArray(_t2407.map(function(t){return"#"+t.id;}))),_i1594=["Default"].concat(_toConsumableArray(_t2407.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1769.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1769.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2408=0;_t2408<_e1769.length;_t2408+=1){var _s926=this["#view-menu"].children[_t2408];_s926.value=_e1769[_t2408],_s926.firstElementChild.textContent=_i1594[_t2408];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:K(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:K(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#dpi-heading"].disabled=null===i,this["#dpi-slider"].disabled=null===i,this["#dpi-input"].disabled=null===i,this["#colors-heading"].disabled=null===i,this["#rgb-button"].disabled=null===i,this["#palette-button"].disabled=null===i,this["#palette-button"].toggled?(this["#colors-box"].hidden=!1,this["#colors-slider"].disabled=null===i,this["#colors-input"].disabled=null===i):this["#colors-box"].hidden=!0,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Vf;}(Uf);_defineProperty(Vf,"hP",qi(_templateObject518()));_defineProperty(Vf,"_shadowStyleSheet",Xi(_templateObject519()));customElements.define("bx-pngsettings",Vf);var jf=Array.isArray;var Hf=/*#__PURE__*/function(_Uf2){_inherits(Hf,_Uf2);var _super226=_createSuper(Hf);_createClass(Hf,[{key:"format",get:function get(){return"jpeg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===jf(t)&&(t=[t,t,t,t])),t;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Hf(){var _this1025;_classCallCheck(this,Hf);_this1025=_super226.call(this),_this1025["#area-buttons"].addEventListener("toggle",function(){return _this1025.yM();}),_this1025["#view-select"].addEventListener("change",function(){return _this1025.rP();}),_this1025["#width-input"].addEventListener("changestart",function(){return _this1025.Rg();}),_this1025["#height-input"].addEventListener("changestart",function(){return _this1025.Gg();}),_this1025["#lock-size-button"].addEventListener("toggle",function(){return _this1025.dP();}),_this1025["#margin-switch"].addEventListener("toggle",function(){return _this1025.cP();}),_this1025["#margin-input"].addEventListener("changeend",function(){return _this1025.pP();}),_this1025["#compression-slider"].addEventListener("changestart",function(){return _this1025.lM();}),_this1025["#compression-input"].addEventListener("changestart",function(){return _this1025.aM();}),_this1025["#background-select"].addEventListener("changeend",function(){return _this1025.hM();}),_this1025["#background-popover"].addEventListener("close",function(){return _this1025.rM();}),_this1025["#preview-button"].addEventListener("click",function(){return _this1025.dM();});return _this1025;}_createClass(Hf,[{key:"connectedCallback",value:function connectedCallback(){var _this1026=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-jpegsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-jpegsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-jpegsettings:margin",null),this["#compression-slider"].value=t.getConfig("bx-jpegsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-jpegsettings:compression",1),this["#background-select"].value=t.getConfig("bx-jpegsettings:background","rgb(255, 255, 255)"),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1026.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1026.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){this.cM(),this.qs(),this.Qs.setConfig("bx-jpegsettings:area",this["#area-buttons"].value);}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1027=this;var t,_e1770,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2409=_this1027["#width-input"].value/i;_this1027["#height-input"].value=Q(_t2409,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1770=function e(){_this1027["#width-input"].removeEventListener("change",t),_this1027["#width-input"].removeEventListener("changeend",_e1770),_this1027.cM();});}},{key:"Gg",value:function Gg(){var _this1028=this;var t,_e1771,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2410=i*_this1028["#height-input"].value;_this1028["#width-input"].value=Q(_t2410,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1771=function e(){_this1028["#height-input"].removeEventListener("change",t),_this1028["#height-input"].removeEventListener("changeend",_e1771),_this1028.cM();});}},{key:"dP",value:function dP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-jpegsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"cP",value:function cP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-jpegsettings:margin",t),this["#margin-input"].value=t,this.cM(),this.qs(!1);}},{key:"pP",value:function pP(){this.Qs.setConfig("bx-jpegsettings:margin",this["#margin-input"].value),this.cM();}},{key:"lM",value:function lM(){var _this1029=this;var t,_e1772;this["#compression-slider"].addEventListener("change",t=function t(){_this1029["#compression-input"].value=_this1029["#compression-slider"].value,_this1029.Qs.setConfig("bx-jpegsettings:compression",_this1029["#compression-slider"].value);}),this["#compression-slider"].addEventListener("changeend",_e1772=function e(){_this1029["#compression-slider"].removeEventListener("change",t),_this1029["#compression-slider"].removeEventListener("changeend",_e1772),_this1029.cM();});}},{key:"aM",value:function aM(){var _this1030=this;var t,_e1773;this["#compression-input"].addEventListener("change",t=function t(){_this1030["#compression-slider"].value=_this1030["#compression-input"].value,_this1030.Qs.setConfig("bx-jpegsettings:compression",_this1030["#compression-input"].value);}),this["#compression-input"].addEventListener("changeend",_e1773=function e(){_this1030["#compression-input"].removeEventListener("change",t),_this1030["#compression-input"].removeEventListener("changeend",_e1773),_this1030.cM();});}},{key:"hM",value:function hM(){this.pM=!0;}},{key:"rM",value:function rM(){this.pM&&(this.pM=!1,this.Qs.setConfig("bx-jpegsettings:background",this["#background-select"].value),this.cM());}},{key:"dM",value:function dM(){this.uM();}},{key:"uM",value:function(){var _uM4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee221(){var t,_e1774,_t2411,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee221$(_context222){while(1){switch(_context222.prev=_context222.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1774=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2411=this["#view-select"].value.substring(1);_e1774=this.Js.board.currentWorkspace.querySelector("#"+_t2411);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1774);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=tu(t);_context222.next=5;return Of(e,"jpeg",{background:this["#background-select"].value,compression:this["#compression-input"].value});case 5:i=_context222.sent;_context222.next=8;return jh(i);case 8:s=_context222.sent;n=s.substring(0,s.indexOf(",")+1);o=K((s.length-n.length)*(3/4));l=qh(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context222.stop();}}},_callee221,this);}));function uM(){return _uM4.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1031=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ve(e.outermostSelectedObjectElements.map(function(t){var i=jt(t,e.currentWorkspace),s=Pi(t);return Ne(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2412=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2412.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2413=e.selectedElements.find(function(t){return"view"===t.localName;});_t2413&&(s=_t2413);}else{var _e1775=_t2412.find(function(t){return"#"+t.id===_this1031["#view-select"].value;});_e1775&&(s=_e1775);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Rt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2414=e.currentWorkspace.querySelector("#"+s.id);_t2414.hasAttribute("viewBox")&&(i=Rt.fromString(_t2414.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2415=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2415.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2415.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1776=["default"].concat(_toConsumableArray(_t2415.map(function(t){return"#"+t.id;}))),_i1595=["Default"].concat(_toConsumableArray(_t2415.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1776.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1776.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2416=0;_t2416<_e1776.length;_t2416+=1){var _s927=this["#view-menu"].children[_t2416];_s927.value=_e1776[_t2416],_s927.firstElementChild.textContent=_i1595[_t2416];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:K(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:K(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Hf;}(Uf);_defineProperty(Hf,"hP",qi(_templateObject520()));_defineProperty(Hf,"_shadowStyleSheet",Xi(_templateObject521()));customElements.define("bx-jpegsettings",Hf);var Yf=Array.isArray;var Wf=/*#__PURE__*/function(_Uf3){_inherits(Wf,_Uf3);var _super227=_createSuper(Wf);_createClass(Wf,[{key:"format",get:function get(){return"gif";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===Yf(t)&&(t=[t,t,t,t])),t;}},{key:"dithering",get:function get(){return this["#dithering-select"].value;}},{key:"background",get:function get(){return wo(this["#background-select"].value,"hex");}},{key:"transparent",get:function get(){return this["#transparent-checkbox"].toggled;}}]);function Wf(){var _this1032;_classCallCheck(this,Wf);_this1032=_super227.call(this),_this1032["#area-buttons"].addEventListener("toggle",function(){return _this1032.yM();}),_this1032["#view-select"].addEventListener("change",function(){return _this1032.rP();}),_this1032["#width-input"].addEventListener("changestart",function(){return _this1032.Rg();}),_this1032["#height-input"].addEventListener("changestart",function(){return _this1032.Gg();}),_this1032["#lock-size-button"].addEventListener("toggle",function(){return _this1032.dP();}),_this1032["#margin-switch"].addEventListener("toggle",function(){return _this1032.cP();}),_this1032["#margin-input"].addEventListener("changeend",function(){return _this1032.pP();}),_this1032["#dithering-select"].addEventListener("change",function(){return _this1032.bP();}),_this1032["#background-select"].addEventListener("changeend",function(){return _this1032.hM();}),_this1032["#background-popover"].addEventListener("close",function(){return _this1032.rM();}),_this1032["#transparent-checkbox"].addEventListener("toggle",function(){return _this1032.mP();}),_this1032["#preview-button"].addEventListener("click",function(){return _this1032.dM();});return _this1032;}_createClass(Wf,[{key:"connectedCallback",value:function connectedCallback(){var _this1033=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-gifsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-gifsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-gifsettings:margin",null),this["#dithering-select"].value=t.getConfig("bx-gifsettings:dithering","none"),this["#background-select"].value=t.getConfig("bx-gifsettings:background","rgb(255, 255, 255)"),this["#transparent-checkbox"].toggled=t.getConfig("bx-gifsettings:transparent",!0),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1033.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1033.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){this.cM(),this.qs(),this.Qs.setConfig("bx-gifsettings:area",this["#area-buttons"].value);}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1034=this;var t,_e1777,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2417=_this1034["#width-input"].value/i;_this1034["#height-input"].value=Q(_t2417,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1777=function e(){_this1034["#width-input"].removeEventListener("change",t),_this1034["#width-input"].removeEventListener("changeend",_e1777),_this1034.cM();});}},{key:"Gg",value:function Gg(){var _this1035=this;var t,_e1778,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2418=i*_this1035["#height-input"].value;_this1035["#width-input"].value=Q(_t2418,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1778=function e(){_this1035["#height-input"].removeEventListener("change",t),_this1035["#height-input"].removeEventListener("changeend",_e1778),_this1035.cM();});}},{key:"dP",value:function dP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-gifsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"cP",value:function cP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-gifsettings:margin",t),this["#margin-input"].value=t,this.cM(),this.qs(!1);}},{key:"pP",value:function pP(){this.Qs.setConfig("bx-gifsettings:margin",this["#margin-input"].value),this.cM();}},{key:"bP",value:function bP(){this.Qs.setConfig("bx-gifsettings:dithering",this["#dithering-select"].value),this.cM();}},{key:"hM",value:function hM(){this.Qs.setConfig("bx-gifsettings:background",this["#background-select"].value),this.pM=!0;}},{key:"rM",value:function rM(){this.pM&&(this.pM=!1,this.Qs.setConfig("bx-gifsettings:background",this["#background-select"].value),this.cM());}},{key:"mP",value:function mP(){this.Qs.setConfig("bx-gifsettings:transparent",this["#transparent-checkbox"].value),this.cM();}},{key:"dM",value:function dM(){this.uM();}},{key:"uM",value:function(){var _uM5=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee222(){var t,_e1779,_t2419,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee222$(_context223){while(1){switch(_context223.prev=_context223.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1779=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2419=this["#view-select"].value.substring(1);_e1779=this.Js.board.currentWorkspace.querySelector("#"+_t2419);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1779);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=tu(t);_context223.next=5;return Of(e,"gif",{background:this["#background-select"].value,dithering:this["#dithering-select"].value,transparent:this["#transparent-checkbox"].toggled});case 5:i=_context223.sent;_context223.next=8;return jh(i);case 8:s=_context223.sent;n=s.substring(0,s.indexOf(",")+1);o=K((s.length-n.length)*(3/4));l=qh(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context223.stop();}}},_callee222,this);}));function uM(){return _uM5.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1036=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ve(e.outermostSelectedObjectElements.map(function(t){var i=jt(t,e.currentWorkspace),s=Pi(t);return Ne(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2420=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2420.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2421=e.selectedElements.find(function(t){return"view"===t.localName;});_t2421&&(s=_t2421);}else{var _e1780=_t2420.find(function(t){return"#"+t.id===_this1036["#view-select"].value;});_e1780&&(s=_e1780);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Rt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2422=e.currentWorkspace.querySelector("#"+s.id);_t2422.hasAttribute("viewBox")&&(i=Rt.fromString(_t2422.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2423=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2423.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2423.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1781=["default"].concat(_toConsumableArray(_t2423.map(function(t){return"#"+t.id;}))),_i1596=["Default"].concat(_toConsumableArray(_t2423.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1781.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1781.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2424=0;_t2424<_e1781.length;_t2424+=1){var _s928=this["#view-menu"].children[_t2424];_s928.value=_e1781[_t2424],_s928.firstElementChild.textContent=_i1596[_t2424];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:K(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:K(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#dithering-heading"].disabled=null===i,this["#dithering-select"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#transparent-checkbox"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Wf;}(Uf);_defineProperty(Wf,"hP",qi(_templateObject522()));_defineProperty(Wf,"_shadowStyleSheet",Xi(_templateObject523()));customElements.define("bx-gifsettings",Wf);var qf=Array.isArray;var Xf=/*#__PURE__*/function(_Uf4){_inherits(Xf,_Uf4);var _super228=_createSuper(Xf);_createClass(Xf,[{key:"format",get:function get(){return"webp";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"margin",get:function get(){var t=[0,0,0,0];return"selection"===this["#area-buttons"].value&&(t=this["#margin-input"].value,!1===qf(t)&&(t=[t,t,t,t])),t;}},{key:"compression",get:function get(){return this["#compression-input"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}}]);function Xf(){var _this1037;_classCallCheck(this,Xf);_this1037=_super228.call(this),_this1037["#area-buttons"].addEventListener("toggle",function(){return _this1037.yM();}),_this1037["#view-select"].addEventListener("change",function(){return _this1037.rP();}),_this1037["#width-input"].addEventListener("changestart",function(){return _this1037.Rg();}),_this1037["#height-input"].addEventListener("changestart",function(){return _this1037.Gg();}),_this1037["#lock-size-button"].addEventListener("toggle",function(){return _this1037.dP();}),_this1037["#margin-switch"].addEventListener("toggle",function(){return _this1037.cP();}),_this1037["#margin-input"].addEventListener("changeend",function(){return _this1037.pP();}),_this1037["#compression-slider"].addEventListener("changestart",function(){return _this1037.lM();}),_this1037["#compression-input"].addEventListener("changestart",function(){return _this1037.aM();}),_this1037["#background-select"].addEventListener("changeend",function(){return _this1037.hM();}),_this1037["#background-popover"].addEventListener("close",function(){return _this1037.rM();}),_this1037["#preview-button"].addEventListener("click",function(){return _this1037.dM();});return _this1037;}_createClass(Xf,[{key:"connectedCallback",value:function connectedCallback(){var _this1038=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-webpsettings:area","view-box"),this["#lock-size-button"].toggled=t.getConfig("bx-webpsettings:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#margin-input"].value=t.getConfig("bx-webpsettings:margin",null),this["#compression-slider"].value=t.getConfig("bx-webpsettings:compression",1),this["#compression-input"].value=t.getConfig("bx-webpsettings:compression",1),this["#background-select"].value=t.getConfig("bx-webpsettings:background","rgba(255, 255, 255, 0)"),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1038.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1038.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){this.cM(),this.qs(),this.Qs.setConfig("bx-webpsettings:area",this["#area-buttons"].value);}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1039=this;var t,_e1782,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2425=_this1039["#width-input"].value/i;_this1039["#height-input"].value=Q(_t2425,1,Infinity,0);}}),this["#width-input"].addEventListener("changeend",_e1782=function e(){_this1039["#width-input"].removeEventListener("change",t),_this1039["#width-input"].removeEventListener("changeend",_e1782),_this1039.cM();});}},{key:"Gg",value:function Gg(){var _this1040=this;var t,_e1783,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2426=i*_this1040["#height-input"].value;_this1040["#width-input"].value=Q(_t2426,1,Infinity,0);}}),this["#height-input"].addEventListener("changeend",_e1783=function e(){_this1040["#height-input"].removeEventListener("change",t),_this1040["#height-input"].removeEventListener("changeend",_e1783),_this1040.cM();});}},{key:"dP",value:function dP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-webpsettings:lockSize",this["#lock-size-button"].toggled);}},{key:"cP",value:function cP(){var t=this["#margin-switch"].toggled?10:null;this.Qs.setConfig("bx-webpsettings:margin",t),this["#margin-input"].value=t,this.cM(),this.qs(!1);}},{key:"pP",value:function pP(){this.Qs.setConfig("bx-webpsettings:margin",this["#margin-input"].value),this.cM();}},{key:"aM",value:function aM(){var _this1041=this;var t,_e1784;this["#compression-input"].addEventListener("change",t=function t(){_this1041["#compression-slider"].value=_this1041["#compression-input"].value;}),this["#compression-input"].addEventListener("changeend",_e1784=function e(){_this1041["#compression-input"].removeEventListener("change",t),_this1041["#compression-input"].removeEventListener("changeend",_e1784),_this1041.Qs.setConfig("bx-webpsettings:compression",_this1041["#compression-input"].value),_this1041.cM();});}},{key:"lM",value:function lM(){var _this1042=this;var t,_e1785;this["#compression-slider"].addEventListener("change",t=function t(){_this1042["#compression-input"].value=_this1042["#compression-slider"].value;}),this["#compression-slider"].addEventListener("changeend",_e1785=function e(){_this1042["#compression-slider"].removeEventListener("change",t),_this1042["#compression-slider"].removeEventListener("changeend",_e1785),_this1042.Qs.setConfig("bx-webpsettings:compression",_this1042["#compression-slider"].value),_this1042.cM();});}},{key:"hM",value:function hM(){this.pM=!0;}},{key:"rM",value:function rM(){this.pM&&(this.pM=!1,this.Qs.setConfig("bx-webpsettings:background",this["#background-select"].value),this.cM());}},{key:"dM",value:function dM(){this.uM();}},{key:"uM",value:function(){var _uM6=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee223(){var t,_e1786,_t2427,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee223$(_context224){while(1){switch(_context224.prev=_context224.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1786=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2427=this["#view-select"].value.substring(1);_e1786=this.Js.board.currentWorkspace.querySelector("#"+_t2427);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1786);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements(this.margin));t.setAttribute("width",this["#width-input"].value+"px"),t.setAttribute("height",this["#height-input"].value+"px"),t.setAttribute("preserveAspectRatio","none");e=tu(t);_context224.next=5;return Of(e,"webp",{background:this["#background-select"].value,compression:this["#compression-slider"].value});case 5:i=_context224.sent;_context224.next=8;return jh(i);case 8:s=_context224.sent;n=s.substring(0,s.indexOf(",")+1);o=K((s.length-n.length)*(3/4));l=qh(o);this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",this["#width-input"].value),this["#preview"].setAttribute("height",this["#height-input"].value),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+l,this["#preview-section"].scrollIntoViewIfNeeded();case 13:case"end":return _context224.stop();}}},_callee223,this);}));function uM(){return _uM6.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1043=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this.Js.board,i=null,s=null;if("selection"===this["#area-buttons"].value)e.outermostSelectedObjectElements.length>0&&(i=Ve(e.outermostSelectedObjectElements.map(function(t){var i=jt(t,e.currentWorkspace),s=Pi(t);return Ne(s,i);})),0!==i.width&&0!==i.height||(i=null));else if("view-box"===this["#area-buttons"].value){var _t2428=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_t2428.length>0)if("view-tool"===this.Js.toolsDock.value){var _t2429=e.selectedElements.find(function(t){return"view"===t.localName;});_t2429&&(s=_t2429);}else{var _e1787=_t2428.find(function(t){return"#"+t.id===_this1043["#view-select"].value;});_e1787&&(s=_e1787);}if(null===s)e.currentWorkspace.hasAttribute("viewBox")&&(i=Rt.fromString(e.currentWorkspace.getAttribute("viewBox")));else{var _t2430=e.currentWorkspace.querySelector("#"+s.id);_t2430.hasAttribute("viewBox")&&(i=Rt.fromString(_t2430.getAttribute("viewBox")),0!==i.width&&0!==i.height||(i=null));}}if(this.exportable=!!i,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2431=_toConsumableArray(e.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2431.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2431.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _e1788=["default"].concat(_toConsumableArray(_t2431.map(function(t){return"#"+t.id;}))),_i1597=["Default"].concat(_toConsumableArray(_t2431.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_e1788.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_e1788.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2432=0;_t2432<_e1788.length;_t2432+=1){var _s929=this["#view-menu"].children[_t2432];_s929.value=_e1788[_t2432],_s929.firstElementChild.textContent=_i1597[_t2432];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=s?"#"+s.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}t&&(this["#width-heading"].disabled=null===i,this["#width-input"].disabled=null===i,this["#width-input"].value=null===i?100:K(i.width,0)||1,this["#height-heading"].disabled=null===i,this["#height-input"].disabled=null===i,this["#height-input"].value=null===i?100:K(i.height,0)||1,this["#lock-size-button"].disabled=null===i),this["#margin-subsection"].hidden="view-box"===this["#area-buttons"].value,this["#margin-heading"].disabled=null===i,this["#margin-switch"].disabled=null===i,this["#margin-switch"].toggled=null!==this["#margin-input"].value,this["#margin-input"].hidden=null===this["#margin-input"].value,this["#margin-input"].disabled=null===i,this["#compression-heading"].disabled=null===i,this["#compression-slider"].disabled=null===i,this["#compression-input"].disabled=null===i,this["#background-heading"].disabled=null===i,this["#background-select"].disabled=null===i,this["#preview-heading"].disabled=null===i,this["#preview-button"].disabled=null===i;}}]);return Xf;}(Uf);_defineProperty(Xf,"hP",qi(_templateObject524()));_defineProperty(Xf,"_shadowStyleSheet",Xi(_templateObject525()));customElements.define("bx-webpsettings",Xf);var Zf=/*#__PURE__*/function(_Uf5){_inherits(Zf,_Uf5);var _super229=_createSuper(Zf);_createClass(Zf,[{key:"format",get:function get(){return"svg";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$gP=this.gP(),_this$gP2=_slicedToArray(_this$gP,1),t=_this$gP2[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$gP3=this.gP(),_this$gP4=_slicedToArray(_this$gP3,1),t=_this$gP4[0];return t?t.height:0;}}]);function Zf(){var _this1044;_classCallCheck(this,Zf);_this1044=_super229.call(this),_this1044["#area-buttons"].addEventListener("toggle",function(){_this1044.yM();}),_this1044["#view-select"].addEventListener("change",function(){_this1044.rP();}),_this1044["#viewport-buttons"].addEventListener("toggle",function(){_this1044.fP();}),_this1044["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1044.wP();}),_this1044["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1044.vP();}),_this1044["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1044.yP();}),_this1044["#preview-button"].addEventListener("click",function(){_this1044.dM();});return _this1044;}_createClass(Zf,[{key:"connectedCallback",value:function connectedCallback(){var _this1045=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgsettings:area","view-box"),s=t.getConfig("bx-svgsettings:viewport","responsive"),n=t.getConfig("bx-svgsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1045.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1045.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgsettings:area",t),this.cM(),this.qs();}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"fP",value:function fP(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgsettings:viewport",t),this.cM(),this.qs();}},{key:"wP",value:function wP(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:convertTextsToPaths",t),this.cM();}},{key:"vP",value:function vP(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:removeEmbeddedFonts",t),this.cM();}},{key:"yP",value:function yP(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgsettings:removeNonStandardNamespaces",t);}},{key:"dM",value:function dM(){this.uM();}},{key:"gP",value:function gP(){var _this1046=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ve(t.outermostSelectedObjectElements.map(function(e){var i=jt(e,t.currentWorkspace),s=Pi(e);return Ne(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s930=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s930.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1789=t.selectedElements.find(function(t){return"view"===t.localName;});_e1789&&(i=_e1789);}else{var _t2433=_s930.find(function(t){return"#"+t.id===_this1046["#view-select"].value;});_t2433&&(i=_t2433);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Rt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s931=t.currentWorkspace.querySelector("#"+i.id);_s931.hasAttribute("viewBox")&&(e=Rt.fromString(_s931.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"kP",value:function kP(t){var _this1047=this;return new Promise(/*#__PURE__*/function(){var _ref193=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee224(e){var i,_this1047$Js$board,s,n,_iterator1583,_step1583,_e1791,_i1598,_arr77,_e1790;return regeneratorRuntime.wrap(function _callee224$(_context225){while(1){switch(_context225.prev=_context225.next){case 0:_this1047.Js.offscreenBoard.setArtwork(t);_context225.next=3;return ts(100);case 3:i=new Vp(t),_this1047$Js$board=_this1047.Js.board,s=_this1047$Js$board.geometryPrecision,n=_this1047$Js$board.transformPrecision;_iterator1583=_createForOfIteratorHelper(t.querySelectorAll("text"));_context225.prev=5;_iterator1583.s();case 7:if((_step1583=_iterator1583.n()).done){_context225.next=15;break;}_e1791=_step1583.value;_context225.t0=i.canReplaceTextWithPaths(_e1791);if(!_context225.t0){_context225.next=13;break;}_context225.next=13;return i.replaceTextWithPaths(_e1791,s,n);case 13:_context225.next=7;break;case 15:_context225.next=20;break;case 17:_context225.prev=17;_context225.t1=_context225["catch"](5);_iterator1583.e(_context225.t1);case 20:_context225.prev=20;_iterator1583.f();return _context225.finish(20);case 23:for(_i1598=0,_arr77=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1598<_arr77.length;_i1598++){_e1790=_arr77[_i1598];_e1790.remove();}_this1047.Js.offscreenBoard.clear(),e();case 25:case"end":return _context225.stop();}}},_callee224,null,[[5,17,20,23]]);}));return function(_x223){return _ref193.apply(this,arguments);};}());}},{key:"uM",value:function(){var _uM7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee225(){var t,_e1792,_t2434,e,i,s,_this$gP5,_this$gP6,n;return regeneratorRuntime.wrap(function _callee225$(_context226){while(1){switch(_context226.prev=_context226.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1792=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2434=this["#view-select"].value.substring(1);_e1792=this.Js.board.currentWorkspace.querySelector("#"+_t2434);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1792);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context226.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context226.t0){_context226.next=5;break;}_context226.next=5;return this.kP(t);case 5:e=tu(t);_context226.next=8;return iu(e);case 8:i=_context226.sent;s=qh(e.length);_this$gP5=this.gP();_this$gP6=_slicedToArray(_this$gP5,1);n=_this$gP6[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",i),this["#preview"].setAttribute("width",n.width),this["#preview"].setAttribute("height",n.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+s,this["#preview-section"].scrollIntoViewIfNeeded();case 14:case"end":return _context226.stop();}}},_callee225,this);}));function uM(){return _uM7.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$gP7=this.gP(),_this$gP8=_slicedToArray(_this$gP7,2),t=_this$gP8[0],e=_this$gP8[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2435=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2435.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2435.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1599=["default"].concat(_toConsumableArray(_t2435.map(function(t){return"#"+t.id;}))),_s932=["Default"].concat(_toConsumableArray(_t2435.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1599.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1599.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2436=0;_t2436<_i1599.length;_t2436+=1){var _e1793=this["#view-menu"].children[_t2436];_e1793.value=_i1599[_t2436],_e1793.firstElementChild.textContent=_s932[_t2436];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Zf;}(Uf);_defineProperty(Zf,"hP",qi(_templateObject526()));_defineProperty(Zf,"_shadowStyleSheet",Xi(_templateObject527()));customElements.define("bx-svgsettings",Zf);var Kf=function Kf(t){var e=[];for(var _i1600=0,_s933=t.length;_i1600<_s933;_i1600+=1){e.push(t[_i1600].charCodeAt(0));}var i=new Uint8Array(e);return pako.gzip(i);},Qf=function Qf(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"string";try{var _i1601=null,_s934=pako.inflate(t);if("string"===e){_i1601="";for(var _t2437=0,_e1794=_s934.length;_t2437<_e1794;_t2437+=1){_i1601+=String.fromCharCode(_s934[_t2437]);}}else"blob"===e&&(_i1601=new Blob([_s934],{type:"image/svg+xml"}));return _i1601;}catch(t){return null;}};var Jf=/*#__PURE__*/function(_Uf6){_inherits(Jf,_Uf6);var _super230=_createSuper(Jf);_createClass(Jf,[{key:"format",get:function get(){return"svgz";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"viewport",get:function get(){return this["#viewport-buttons"].value;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"removeNonStandardNamespaces",get:function get(){return this["#remove-non-standard-namespaces-checkbox"].toggled;}},{key:"width",get:function get(){var _this$gP9=this.gP(),_this$gP10=_slicedToArray(_this$gP9,1),t=_this$gP10[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$gP11=this.gP(),_this$gP12=_slicedToArray(_this$gP11,1),t=_this$gP12[0];return t?t.height:0;}}]);function Jf(){var _this1048;_classCallCheck(this,Jf);_this1048=_super230.call(this),_this1048["#area-buttons"].addEventListener("toggle",function(){_this1048.yM();}),_this1048["#view-select"].addEventListener("change",function(){_this1048.rP();}),_this1048["#viewport-buttons"].addEventListener("toggle",function(){_this1048.fP();}),_this1048["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){_this1048.wP();}),_this1048["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){_this1048.vP();}),_this1048["#remove-non-standard-namespaces-checkbox"].addEventListener("toggle",function(){_this1048.yP();}),_this1048["#preview-button"].addEventListener("click",function(){_this1048.dM();});return _this1048;}_createClass(Jf,[{key:"connectedCallback",value:function connectedCallback(){var _this1049=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board,i=t.getConfig("bx-svgzsettings:area","view-box"),s=t.getConfig("bx-svgzsettings:viewport","responsive"),n=t.getConfig("bx-svgzsettings:convertTextsToPaths",!1),o=t.getConfig("bx-svgzsettings:removeEmbeddedFonts",!1),l=t.getConfig("bx-svgzsettings:removeNonStandardNamespaces",!1);this["#area-buttons"].value=i,this["#viewport-buttons"].value=s,this["#convert-texts-to-paths-checkbox"].toggled=n,this["#remove-embedded-fonts-checkbox"].toggled=o,this["#remove-non-standard-namespaces-checkbox"].toggled=l,this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1049.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1049.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){var t=this["#area-buttons"].value;this.Qs.setConfig("bx-svgzsettings:area",t),this.cM(),this.qs();}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"fP",value:function fP(){var t=this["#viewport-buttons"].value;this.Qs.setConfig("bx-svgzsettings:viewport",t),this.cM(),this.qs();}},{key:"wP",value:function wP(){var t=this["#convert-texts-to-paths-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:convertTextsToPaths",t),this.cM();}},{key:"vP",value:function vP(){var t=this["#remove-embedded-fonts-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:removeEmbeddedFonts",t),this.cM();}},{key:"yP",value:function yP(){var t=this["#remove-non-standard-namespaces-checkbox"].toggled;this.Qs.setConfig("bx-svgzsettings:removeNonStandardNamespaces",t);}},{key:"dM",value:function dM(){this.uM();}},{key:"gP",value:function gP(){var _this1050=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ve(t.outermostSelectedObjectElements.map(function(e){var i=jt(e,t.currentWorkspace),s=Pi(e);return Ne(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s935=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s935.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1795=t.selectedElements.find(function(t){return"view"===t.localName;});_e1795&&(i=_e1795);}else{var _t2438=_s935.find(function(t){return"#"+t.id===_this1050["#view-select"].value;});_t2438&&(i=_t2438);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Rt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s936=t.currentWorkspace.querySelector("#"+i.id);_s936.hasAttribute("viewBox")&&(e=Rt.fromString(_s936.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"kP",value:function kP(t){var _this1051=this;return new Promise(/*#__PURE__*/function(){var _ref194=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee226(e){var i,_this1051$Js$board,s,n,_iterator1584,_step1584,_e1797,_i1602,_arr78,_e1796;return regeneratorRuntime.wrap(function _callee226$(_context227){while(1){switch(_context227.prev=_context227.next){case 0:_this1051.Js.offscreenBoard.setArtwork(t);_context227.next=3;return ts(100);case 3:i=new Vp(t),_this1051$Js$board=_this1051.Js.board,s=_this1051$Js$board.geometryPrecision,n=_this1051$Js$board.transformPrecision;_iterator1584=_createForOfIteratorHelper(t.querySelectorAll("text"));_context227.prev=5;_iterator1584.s();case 7:if((_step1584=_iterator1584.n()).done){_context227.next=15;break;}_e1797=_step1584.value;_context227.t0=i.canReplaceTextWithPaths(_e1797);if(!_context227.t0){_context227.next=13;break;}_context227.next=13;return i.replaceTextWithPaths(_e1797,s,n);case 13:_context227.next=7;break;case 15:_context227.next=20;break;case 17:_context227.prev=17;_context227.t1=_context227["catch"](5);_iterator1584.e(_context227.t1);case 20:_context227.prev=20;_iterator1584.f();return _context227.finish(20);case 23:for(_i1602=0,_arr78=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1602<_arr78.length;_i1602++){_e1796=_arr78[_i1602];_e1796.remove();}_this1051.Js.offscreenBoard.clear(),e();case 25:case"end":return _context227.stop();}}},_callee226,null,[[5,17,20,23]]);}));return function(_x224){return _ref194.apply(this,arguments);};}());}},{key:"uM",value:function(){var _uM8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee227(){var t,_e1798,_t2439,e,i,s,n,_this$gP13,_this$gP14,o;return regeneratorRuntime.wrap(function _callee227$(_context228){while(1){switch(_context228.prev=_context228.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1798=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2439=this["#view-select"].value.substring(1);_e1798=this.Js.board.currentWorkspace.querySelector("#"+_t2439);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1798);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context228.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context228.t0){_context228.next=5;break;}_context228.next=5;return this.kP(t);case 5:e=tu(t);i=Kf(e);_context228.next=9;return iu(e);case 9:s=_context228.sent;n=qh(i.length);_this$gP13=this.gP();_this$gP14=_slicedToArray(_this$gP13,1);o=_this$gP14[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 15:case"end":return _context228.stop();}}},_callee227,this);}));function uM(){return _uM8.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$gP15=this.gP(),_this$gP16=_slicedToArray(_this$gP15,2),t=_this$gP16[0],e=_this$gP16[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2440=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2440.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2440.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1603=["default"].concat(_toConsumableArray(_t2440.map(function(t){return"#"+t.id;}))),_s937=["Default"].concat(_toConsumableArray(_t2440.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1603.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1603.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2441=0;_t2441<_i1603.length;_t2441+=1){var _e1799=this["#view-menu"].children[_t2441];_e1799.value=_i1603[_t2441],_e1799.firstElementChild.textContent=_s937[_t2441];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#viewport-heading"].disabled=null===t,this["#responsive-viewport-button"].disabled=null===t,this["#fixed-viewport-button"].disabled=null===t,this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#remove-non-standard-namespaces-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return Jf;}(Uf);_defineProperty(Jf,"hP",qi(_templateObject528()));_defineProperty(Jf,"_shadowStyleSheet",Xi(_templateObject529()));customElements.define("bx-svgzsettings",Jf);var tw=/*#__PURE__*/function(_Uf7){_inherits(tw,_Uf7);var _super231=_createSuper(tw);_createClass(tw,[{key:"format",get:function get(){return"html";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"convertTextsToPaths",get:function get(){return this["#convert-texts-to-paths-checkbox"].toggled;}},{key:"removeEmbeddedFonts",get:function get(){return this["#remove-embedded-fonts-checkbox"].toggled;}},{key:"width",get:function get(){var _this$gP17=this.gP(),_this$gP18=_slicedToArray(_this$gP17,1),t=_this$gP18[0];return t?t.width:0;}},{key:"height",get:function get(){var _this$gP19=this.gP(),_this$gP20=_slicedToArray(_this$gP19,1),t=_this$gP20[0];return t?t.height:0;}}]);function tw(){var _this1052;_classCallCheck(this,tw);_this1052=_super231.call(this),_this1052["#area-buttons"].addEventListener("toggle",function(){return _this1052.yM();}),_this1052["#view-select"].addEventListener("change",function(){return _this1052.rP();}),_this1052["#convert-texts-to-paths-checkbox"].addEventListener("toggle",function(){return _this1052.wP();}),_this1052["#remove-embedded-fonts-checkbox"].addEventListener("toggle",function(){return _this1052.vP();}),_this1052["#preview-button"].addEventListener("click",function(){return _this1052.dM();});return _this1052;}_createClass(tw,[{key:"connectedCallback",value:function connectedCallback(){var _this1053=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app");var t=this.Qs,e=this.Js.board;this["#area-buttons"].value=t.getConfig("bx-htmlsettings:area","view-box"),this["#convert-texts-to-paths-checkbox"].toggled=t.getConfig("bx-htmlsettings:convertTextsToPaths",!1),this["#remove-embedded-fonts-checkbox"].toggled=t.getConfig("bx-htmlsettings:removeEmbeddedFonts",!1),this.qs(),e.addEventListener("selectedelementschange",this.Qo=function(){_this1053.Jo();}),e.addEventListener("workspacemutation",this.rn=function(t){_this1053.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){var t=this.Js.board;this.cM(),t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){this.cM(),this.qs(),this.Qs.setConfig("bx-htmlsettings:area",this["#area-buttons"].value);}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"wP",value:function wP(){this.cM(),this.Qs.setConfig("bx-htmlsettings:convertTextsToPaths",this["#convert-texts-to-paths-checkbox"].toggled);}},{key:"vP",value:function vP(){this.cM(),this.Qs.setConfig("bx-htmlsettings:removeEmbeddedFonts",this["#remove-embedded-fonts-checkbox"].toggled);}},{key:"dM",value:function dM(){this.uM();}},{key:"gP",value:function gP(){var _this1054=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ve(t.outermostSelectedObjectElements.map(function(e){var i=jt(e,t.currentWorkspace),s=Pi(e);return Ne(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s938=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s938.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1800=t.selectedElements.find(function(t){return"view"===t.localName;});_e1800&&(i=_e1800);}else{var _t2442=_s938.find(function(t){return"#"+t.id===_this1054["#view-select"].value;});_t2442&&(i=_t2442);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Rt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s939=t.currentWorkspace.querySelector("#"+i.id);_s939.hasAttribute("viewBox")&&(e=Rt.fromString(_s939.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}return[e,i];}},{key:"kP",value:function kP(t){var _this1055=this;return new Promise(/*#__PURE__*/function(){var _ref195=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee228(e){var i,_this1055$Js$board,s,n,_iterator1585,_step1585,_e1802,_i1604,_arr79,_e1801;return regeneratorRuntime.wrap(function _callee228$(_context229){while(1){switch(_context229.prev=_context229.next){case 0:_this1055.Js.offscreenBoard.setArtwork(t);_context229.next=3;return ts(100);case 3:i=new Vp(t),_this1055$Js$board=_this1055.Js.board,s=_this1055$Js$board.geometryPrecision,n=_this1055$Js$board.transformPrecision;_iterator1585=_createForOfIteratorHelper(t.querySelectorAll("text"));_context229.prev=5;_iterator1585.s();case 7:if((_step1585=_iterator1585.n()).done){_context229.next=15;break;}_e1802=_step1585.value;_context229.t0=i.canReplaceTextWithPaths(_e1802);if(!_context229.t0){_context229.next=13;break;}_context229.next=13;return i.replaceTextWithPaths(_e1802,s,n);case 13:_context229.next=7;break;case 15:_context229.next=20;break;case 17:_context229.prev=17;_context229.t1=_context229["catch"](5);_iterator1585.e(_context229.t1);case 20:_context229.prev=20;_iterator1585.f();return _context229.finish(20);case 23:for(_i1604=0,_arr79=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1604<_arr79.length;_i1604++){_e1801=_arr79[_i1604];_e1801.remove();}_this1055.Js.offscreenBoard.clear(),e();case 25:case"end":return _context229.stop();}}},_callee228,null,[[5,17,20,23]]);}));return function(_x225){return _ref195.apply(this,arguments);};}());}},{key:"uM",value:function(){var _uM9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee229(){var t,_e1803,_t2443,e,i,s,n,_this$gP21,_this$gP22,o;return regeneratorRuntime.wrap(function _callee229$(_context230){while(1){switch(_context230.prev=_context230.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1803=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2443=this["#view-select"].value.substring(1);_e1803=this.Js.board.currentWorkspace.querySelector("#"+_t2443);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1803);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());_context230.t0=this["#convert-texts-to-paths-checkbox"].toggled;if(!_context230.t0){_context230.next=5;break;}_context230.next=5;return this.kP(t);case 5:e=tu(t,"xml");i=tu(t,"html");_context230.next=9;return iu(e);case 9:s=_context230.sent;n=qh(i.length);_this$gP21=this.gP();_this$gP22=_slicedToArray(_this$gP21,1);o=_this$gP22[0];this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",s),this["#preview"].setAttribute("width",o.width),this["#preview"].setAttribute("height",o.height),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="File size: "+n,this["#preview-section"].scrollIntoViewIfNeeded();case 15:case"end":return _context230.stop();}}},_callee229,this);}));function uM(){return _uM9.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this$gP23=this.gP(),_this$gP24=_slicedToArray(_this$gP23,2),t=_this$gP24[0],e=_this$gP24[1];if(this.exportable=!!t,"selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _t2444=_toConsumableArray(this.Js.board.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_t2444.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_t2444.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _i1605=["default"].concat(_toConsumableArray(_t2444.map(function(t){return"#"+t.id;}))),_s940=["Default"].concat(_toConsumableArray(_t2444.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_i1605.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_i1605.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _t2445=0;_t2445<_i1605.length;_t2445+=1){var _e1804=this["#view-menu"].children[_t2445];_e1804.value=_i1605[_t2445],_e1804.firstElementChild.textContent=_s940[_t2445];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=e?"#"+e.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}this["#normalize-heading"].disabled=null===t,this["#convert-texts-to-paths-checkbox"].disabled=null===t,this["#remove-embedded-fonts-checkbox"].disabled=null===t,this["#preview-heading"].disabled=null===t,this["#preview-button"].disabled=null===t;}}]);return tw;}(Uf);_defineProperty(tw,"hP",qi(_templateObject530()));_defineProperty(tw,"_shadowStyleSheet",Xi(_templateObject531()));customElements.define("bx-htmlsettings",tw);var ew=/*#__PURE__*/function(_Uf8){_inherits(ew,_Uf8);var _super232=_createSuper(ew);_createClass(ew,[{key:"format",get:function get(){return"pdf";}},{key:"area",get:function get(){return this["#area-buttons"].value;}},{key:"viewID",get:function get(){return"view-box"===this.area?null===this["#view-select"].value||"default"===this["#view-select"].value?null:this["#view-select"].value.substring(1):null;}},{key:"width",get:function get(){return this["#width-input"].value;}},{key:"widthUnit",get:function get(){return this["#width-unit-select"].value;}},{key:"height",get:function get(){return this["#height-input"].value;}},{key:"heightUnit",get:function get(){return this["#height-unit-select"].value;}},{key:"background",get:function get(){return this["#background-select"].value;}},{key:"convertTexts",get:function get(){return this["#convert-texts-checkbox"].toggled;}}]);function ew(){var _this1056;_classCallCheck(this,ew);_this1056=_super232.call(this),_this1056["#area-buttons"].addEventListener("toggle",function(){return _this1056.yM();}),_this1056["#view-select"].addEventListener("change",function(){return _this1056.rP();}),_this1056["#width-input"].addEventListener("changestart",function(){return _this1056.Rg();}),_this1056["#height-input"].addEventListener("changestart",function(){return _this1056.Gg();}),_this1056["#width-unit-select"].addEventListener("change",function(){return _this1056.SP();}),_this1056["#height-unit-select"].addEventListener("change",function(){return _this1056._P();}),_this1056["#lock-size-button"].addEventListener("toggle",function(){return _this1056.dP();}),_this1056["#background-select"].addEventListener("changeend",function(){return _this1056.hM();}),_this1056["#background-popover"].addEventListener("close",function(){return _this1056.rM();}),_this1056["#convert-texts-checkbox"].addEventListener("toggle",function(){return _this1056.CP();}),_this1056["#preview-button"].addEventListener("click",function(){return _this1056.dM();});return _this1056;}_createClass(ew,[{key:"connectedCallback",value:function connectedCallback(){var _this1057=this;this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app"),this["#area-buttons"].value=this.Qs.getConfig("bx-pdfoptions:area","view-box"),this["#width-unit-select"].value=this.Qs.getConfig("bx-pdfoptions:widthUnit","cm"),this["#height-unit-select"].value=this.Qs.getConfig("bx-pdfoptions:heightUnit","cm"),this["#lock-size-button"].toggled=this.Qs.getConfig("bx-pdfoptions:lockSize",!1),this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this["#background-select"].value=this.Qs.getConfig("bx-pdfoptions:background","rgb(255, 255, 255)"),this["#convert-texts-checkbox"].toggled=this.Qs.getConfig("bx-pdfoptions:convertTexts",!1),this.qs(),this.Js.board.addEventListener("selectedelementschange",this.Qo=function(){_this1057.Jo();}),this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this1057.sl(t);});}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.cM(),this.Js.board.removeEventListener("selectedelementschange",this.Qo),this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"Jo",value:function Jo(){("selection"===this["#area-buttons"].value||"view-box"===this["#area-buttons"].value&&!1===this["#view-subsection"].hidden)&&(this.cM(),this.qs());}},{key:"sl",value:function sl(t){t.detail.filter(function(t){return null===t.target.closest("defs");}).length>0&&(this.cM(),this.qs());}},{key:"yM",value:function yM(){this.cM(),this.qs(),this.Qs.setConfig("bx-pdfoptions:area",this["#area-buttons"].value);}},{key:"rP",value:function rP(){if(this.cM(),"view-tool"===this.Js.toolsDock.value){if("default"===this["#view-select"].value)this.Js.board.selectedElements=[];else{var t=this.Js.board.currentWorkspace.querySelector(this["#view-select"].value);t&&(this.Js.board.selectedElements=[t]);}}else this.qs();}},{key:"Rg",value:function Rg(){var _this1058=this;var t,_e1805,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#width-input"].addEventListener("change",t=function t(){if(s){var _t2446=_this1058["#width-input"].value/i;_this1058["#height-input"].value=Q(_t2446,1,Infinity,3);}}),this["#width-input"].addEventListener("changeend",_e1805=function e(){_this1058["#width-input"].removeEventListener("change",t),_this1058["#width-input"].removeEventListener("changeend",_e1805),_this1058.cM();});}},{key:"Gg",value:function Gg(){var _this1059=this;var t,_e1806,i=this["#width-input"].value/this["#height-input"].value,s=this["#lock-size-button"].toggled;this["#height-input"].addEventListener("change",t=function t(){if(s){var _t2447=i*_this1059["#height-input"].value;_this1059["#width-input"].value=Q(_t2447,1,Infinity,3);}}),this["#height-input"].addEventListener("changeend",_e1806=function e(){_this1059["#height-input"].removeEventListener("change",t),_this1059["#height-input"].removeEventListener("changeend",_e1806),_this1059.cM();});}},{key:"SP",value:function SP(){this.Qs.setConfig("bx-pdfoptions:widthUnit",this["#width-unit-select"].value),this.cM(),"cm"===this["#width-unit-select"].value?this["#width-input"].value=K(2.54*this["#width-input"].value,3):this["#width-input"].value=K(this["#width-input"].value/2.54,3);}},{key:"_P",value:function _P(){this.Qs.setConfig("bx-pdfoptions:heightUnit",this["#height-unit-select"].value),this.cM(),"cm"===this["#height-unit-select"].value?this["#height-input"].value=K(2.54*this["#height-input"].value,3):this["#height-input"].value=K(this["#height-input"].value/2.54,3);}},{key:"dP",value:function dP(){this["#lock-size-icon"].name=this["#lock-size-button"].toggled?"lock-on":"lock-off",this.Qs.setConfig("bx-pdfoptions:lockSize",this["#lock-size-button"].toggled);}},{key:"hM",value:function hM(){this.pM=!0;}},{key:"rM",value:function rM(){this.pM&&(this.pM=!1,this.Qs.setConfig("bx-pdfoptions:background",this["#background-select"].value),this.cM());}},{key:"CP",value:function CP(){this.cM(),this.Qs.setConfig("bx-pdfoptions:convertTexts",this["#convert-texts-checkbox"].toggled);}},{key:"dM",value:function dM(){this.uM();}},{key:"kP",value:function kP(t){var _this1060=this;return new Promise(/*#__PURE__*/function(){var _ref196=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee230(e){var i,_this1060$Js$board,s,n,_iterator1586,_step1586,_e1808,_i1606,_arr80,_e1807;return regeneratorRuntime.wrap(function _callee230$(_context231){while(1){switch(_context231.prev=_context231.next){case 0:_this1060.Js.offscreenBoard.setArtwork(t);_context231.next=3;return ts(100);case 3:i=new Vp(t),_this1060$Js$board=_this1060.Js.board,s=_this1060$Js$board.geometryPrecision,n=_this1060$Js$board.transformPrecision;_iterator1586=_createForOfIteratorHelper(t.querySelectorAll("text"));_context231.prev=5;_iterator1586.s();case 7:if((_step1586=_iterator1586.n()).done){_context231.next=15;break;}_e1808=_step1586.value;_context231.t0=i.canReplaceTextWithPaths(_e1808);if(!_context231.t0){_context231.next=13;break;}_context231.next=13;return i.replaceTextWithPaths(_e1808,s,n);case 13:_context231.next=7;break;case 15:_context231.next=20;break;case 17:_context231.prev=17;_context231.t1=_context231["catch"](5);_iterator1586.e(_context231.t1);case 20:_context231.prev=20;_iterator1586.f();return _context231.finish(20);case 23:for(_i1606=0,_arr80=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1606<_arr80.length;_i1606++){_e1807=_arr80[_i1606];_e1807.remove();}_this1060.Js.offscreenBoard.clear(),e();case 25:case"end":return _context231.stop();}}},_callee230,null,[[5,17,20,23]]);}));return function(_x226){return _ref196.apply(this,arguments);};}());}},{key:"uM",value:function(){var _uM10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee231(){var t,_e1809,_t2448,e,i,s,n,o,l;return regeneratorRuntime.wrap(function _callee231$(_context232){while(1){switch(_context232.prev=_context232.next){case 0:if(this["#preview-button"].hidden=!0,this["#preview-label"].hidden=!1,this["#preview-label"].textContent="Generating preview...","view-box"===this["#area-buttons"].value){_e1809=null;if(null!==this["#view-select"].value&&"default"!==this["#view-select"].value){_t2448=this["#view-select"].value.substring(1);_e1809=this.Js.board.currentWorkspace.querySelector("#"+_t2448);}t=this.Js.board.extractArtworkWithViewBoxElements(_e1809);}else"selection"===this["#area-buttons"].value&&(t=this.Js.board.extractArtworkWithSelectedElements());e=this["#width-input"].value+this["#width-unit-select"].value,i=this["#height-input"].value+this["#height-unit-select"].value,s=this["#width-input"].value*("cm"===this["#width-unit-select"].value?37.7953:96),n=this["#height-input"].value*("cm"===this["#height-unit-select"].value?37.7953:96);t.setAttribute("width",e);t.setAttribute("height",i);t.setAttribute("preserveAspectRatio","none");t.style.background=this["#background-select"].value;t.insertAdjacentHTML("beforeEnd","<style>@page {size: ".concat(e," ").concat(i,";}</style>"));_context232.t0=this["#convert-texts-checkbox"].toggled;if(!_context232.t0){_context232.next=11;break;}_context232.next=11;return this.kP(t);case 11:o=tu(t);_context232.next=14;return iu(o);case 14:l=_context232.sent;this["#preview-heading"].disabled=!1,this["#preview-button"].hidden=!0,this["#preview"].hidden=!1,this["#preview"].setAttribute("src",l),this["#preview"].setAttribute("width",s),this["#preview"].setAttribute("height",n),this["#preview-label"].hidden=!1,this["#preview-label"].textContent="",this["#preview-section"].scrollIntoViewIfNeeded();case 16:case"end":return _context232.stop();}}},_callee231,this);}));function uM(){return _uM10.apply(this,arguments);}return uM;}()},{key:"cM",value:function cM(){this["#preview-button"].hidden=!1,this["#preview"].hidden=!0,this["#preview-label"].hidden=!0;}},{key:"qs",value:function qs(){var _this1061=this;var t=this.Js.board,e=null,i=null;if("selection"===this["#area-buttons"].value)t.outermostSelectedObjectElements.length>0&&(e=Ve(t.outermostSelectedObjectElements.map(function(e){var i=jt(e,t.currentWorkspace),s=Pi(e);return Ne(s,i);})),0!==e.width&&0!==e.height||(e=null));else if("view-box"===this["#area-buttons"].value){var _s941=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(_s941.length>0)if("view-tool"===this.Js.toolsDock.value){var _e1810=t.selectedElements.find(function(t){return"view"===t.localName;});_e1810&&(i=_e1810);}else{var _t2449=_s941.find(function(t){return"#"+t.id===_this1061["#view-select"].value;});_t2449&&(i=_t2449);}if(null===i)t.currentWorkspace.hasAttribute("viewBox")&&(e=Rt.fromString(t.currentWorkspace.getAttribute("viewBox")));else{var _s942=t.currentWorkspace.querySelector("#"+i.id);_s942.hasAttribute("viewBox")&&(e=Rt.fromString(_s942.getAttribute("viewBox")),0!==e.width&&0!==e.height||(e=null));}}this.exportable=!!e,this["#options-heading"].disabled=this.disabled,this["#area-heading"].disabled=this.disabled;var _iterator1587=_createForOfIteratorHelper(this["#area-buttons"].children),_step1587;try{for(_iterator1587.s();!(_step1587=_iterator1587.n()).done;){var _t2452=_step1587.value;_t2452.disabled=this.disabled;}}catch(err){_iterator1587.e(err);}finally{_iterator1587.f();}if("selection"===this["#area-buttons"].value)this["#view-menu"].innerHTML="",this["#view-subsection"].hidden=!0;else if("view-box"===this["#area-buttons"].value){var _e1811=_toConsumableArray(t.currentWorkspace.querySelectorAll(":scope > view[id], :scope > defs > view[id]"));if(0===_e1811.length)this["#view-subsection"].hidden=!0,this["#view-menu"].innerHTML="";else{_e1811.sort(function(t,e){var i=t.querySelector("bx-title"),s=e.querySelector("bx-title"),n=i?i.textContent:"Custom view",o=s?s.textContent:"Custom view";return n.localeCompare(o);});var _t2450=["default"].concat(_toConsumableArray(_e1811.map(function(t){return"#"+t.id;}))),_s943=["Default"].concat(_toConsumableArray(_e1811.map(function(t){var e=t.querySelector("bx-title");return e?e.textContent:"Custom view";})));for(;this["#view-menu"].childElementCount>_t2450.length;){this["#view-menu"].lastElementChild.remove();}for(;this["#view-menu"].childElementCount<_t2450.length;){this["#view-menu"].insertAdjacentHTML("beforeend","<x-menuitem><x-label></x-label></x-menuitem>");}for(var _e1812=0;_e1812<_t2450.length;_e1812+=1){var _i1607=this["#view-menu"].children[_e1812];_i1607.value=_t2450[_e1812],_i1607.firstElementChild.textContent=_s943[_e1812];}"view-tool"===this.Js.toolsDock.value?this["#view-select"].value=i?"#"+i.id:"default":null===this["#view-select"].value&&(this["#view-select"].value="default"),this["#view-subsection"].hidden=!1;}}{var _t2451=100,_i1608=100;null!==e&&(_t2451="cm"===this["#width-unit-select"].value?K(e.width/37.7953,3):K(e.width/96,3),_i1608="cm"===this["#height-unit-select"].value?K(e.height/37.7953,3):K(e.height/96,3)),this["#width-heading"].disabled=null===e||this.disabled,this["#width-input"].disabled=null===e||this.disabled,this["#width-input"].value=_t2451,this["#width-unit-select"].disabled=null===e||this.disabled,this["#height-heading"].disabled=null===e||this.disabled,this["#height-input"].disabled=null===e||this.disabled,this["#height-input"].value=_i1608,this["#height-unit-select"].disabled=null===e||this.disabled,this["#lock-size-button"].disabled=null===e||this.disabled;}this["#background-heading"].disabled=null===e||this.disabled,this["#background-select"].disabled=null===e||this.disabled,this["#normalize-heading"].disabled=null===e||this.disabled,this["#convert-texts-checkbox"].disabled=null===e||this.disabled,this["#preview-heading"].disabled=null===e||this.disabled,this["#preview-button"].disabled=null===e||this.disabled;}}]);return ew;}(Uf);_defineProperty(ew,"hP",qi(_templateObject532()));_defineProperty(ew,"_shadowStyleSheet",Xi(_templateObject533()));customElements.define("bx-pdfsettings",ew);var iw=/*#__PURE__*/function(_HTMLElement132){_inherits(iw,_HTMLElement132);var _super233=_createSuper(iw);_createClass(iw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function iw(){var _this1062;_classCallCheck(this,iw);_this1062=_super233.call(this),_this1062._shadowRoot=_this1062.attachShadow({mode:"closed"}),_this1062._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,iw._shadowStyleSheet],_this1062._shadowRoot.append(document.importNode(iw._shadowTemplate.content,!0));var _iterator1588=_createForOfIteratorHelper(_this1062._shadowRoot.querySelectorAll("[id]")),_step1588;try{for(_iterator1588.s();!(_step1588=_iterator1588.n()).done;){var t=_step1588.value;_this1062["#"+t.id]=t;}}catch(err){_iterator1588.e(err);}finally{_iterator1588.f();}_this1062["#format-select"].addEventListener("change",function(){return _this1062.Qu();}),_this1062["#main"].addEventListener("exportablechange",function(t){return _this1062.qs();}),_this1062["#export-button"].addEventListener("click",function(t){return _this1062.MP(t);});return _this1062;}_createClass(iw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"connectedCallback",value:function connectedCallback(){this.Js=Ii(this,"bx-editor"),this.Qs=Ii(this,"#app"),this["#pdf-menu-item"].hidden=!0===this.Qs.matches("bx-chromeapp");}},{key:"tn",value:function tn(){this["#format-select"].value=this.Qs.getConfig("bx-exportpanel:format","png"),this.PP=null,this.qs();}},{key:"sn",value:function sn(){this["#format-select"].value=null,this.PP=null,this.qs();}},{key:"Qu",value:function Qu(){this.Qs.setConfig("bx-exportpanel:format",this["#format-select"].value),this.PP=null,this.qs();}},{key:"MP",value:function(){var _MP=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee232(){var _this$Qs$checkDiskWri,_this$Qs$checkDiskWri2,_t2453,_i1609,_tf3,_tf4,_s944,t,i,s,n,_t2454,_t2455,_e1813,_i$margin,_e1814,_o528,_l396,_a289,_h228,_i$margin2,_e1815,_o529,_l397,_a290,_h229,_i$margin3,_e1816,_o530,_l398,_a291,_h230,_i$margin4,_e1817,_o531,_l399,_a292,_h231,_t2456,_e1819,_t2457,_e1820,_i1610,_arr81,_arr81$_i,_e1821,_i1611,_t2458,_e1822,_i1612,_s945,_i1613,_Ne,_s946,_o533,_e1818,_o532,_t2459,_e1824,_e1823,_o534,_t2460,_e1825,_t2461,_e1826,_i1614,_t2462;return regeneratorRuntime.wrap(function _callee232$(_context233){while(1){switch(_context233.prev=_context233.next){case 0:if(!("bx-webapp"===this.Qs.localName)){_context233.next=8;break;}_this$Qs$checkDiskWri=this.Qs.checkDiskWriteAccess(),_this$Qs$checkDiskWri2=_slicedToArray(_this$Qs$checkDiskWri,2),_t2453=_this$Qs$checkDiskWri2[0],_i1609=_this$Qs$checkDiskWri2[1],_tf3=tf(this.Qs.userSubscription,this.Qs.user),_tf4=_slicedToArray(_tf3,1),_s944=_tf4[0];if(!("rejected"===_t2453)){_context233.next=4;break;}return _context233.abrupt("return",void this.Qs.handleWriteAccessRejection(_i1609,"Can't export file"));case 4:if(!("pdf"===this["#format-select"].value&&(null===_s944||_s944===e))){_context233.next=6;break;}return _context233.abrupt("return",void this.Qs.handleWriteAccessRejection("boxy-svg/user-not-subscribed-to-premium-plan","Can't export file"));case 6:if(!this.PP){_context233.next=8;break;}return _context233.abrupt("return",(this.PP=null,void this.qs()));case 8:t=this["#format-select"].value,i=this["#main"].firstElementChild,s=null,n=null;if("view-box"===i.area){if(null===i.viewID)n=this.Js.board.extractArtworkWithViewBoxElements();else{_t2454=this.Js.board.currentWorkspace.querySelector("#"+i.viewID);n=this.Js.board.extractArtworkWithViewBoxElements(_t2454);}}else"selection"===i.area&&(n=this.Js.board.extractArtworkWithSelectedElements(i.margin||[0,0,0,0]));_t2455=null;if("view-box"===i.area){if(null===i.viewID){_t2455=this.Js.board.currentWorkspace.querySelector(":scope > bx-title");}else{_t2455=this.Js.board.currentWorkspace.querySelector("#"+i.viewID).querySelector(":scope > bx-title");}}else{_e1813=this.Js.board.outermostSelectedObjectElements;1===_e1813.length&&(_t2455=_e1813[0].querySelector(":scope > bx-title"));}_t2455&&_t2455.textContent.trim().length>0&&(s=_t2455.textContent);if(!("png"===t)){_context233.next=24;break;}_i$margin=_slicedToArray(i.margin,4),_e1814=_i$margin[0],_o528=_i$margin[1],_l396=_i$margin[2],_a289=_i$margin[3];n.setAttribute("width",i.width+_a289+_o528+"px"),n.setAttribute("height",i.height+_e1814+_l396+"px"),n.setAttribute("preserveAspectRatio","none");_context233.next=18;return Of(tu(n),"png",{dpi:i.dpi,colors:i.colors,background:i.background});case 18:_h228=_context233.sent;_context233.next=21;return ts(100);case 21:this.Qs.openBitmapExportDialog(_h228,t,s);_context233.next=108;break;case 24:if(!("jpeg"===t)){_context233.next=35;break;}_i$margin2=_slicedToArray(i.margin,4),_e1815=_i$margin2[0],_o529=_i$margin2[1],_l397=_i$margin2[2],_a290=_i$margin2[3];n.setAttribute("width",i.width+_a290+_o529+"px"),n.setAttribute("height",i.height+_e1815+_l397+"px"),n.setAttribute("preserveAspectRatio","none");_context233.next=29;return Of(tu(n),"jpeg",{compression:i.compression,background:i.background});case 29:_h229=_context233.sent;_context233.next=32;return ts(100);case 32:this.Qs.openBitmapExportDialog(_h229,t,s);_context233.next=108;break;case 35:if(!("gif"===t)){_context233.next=46;break;}_i$margin3=_slicedToArray(i.margin,4),_e1816=_i$margin3[0],_o530=_i$margin3[1],_l398=_i$margin3[2],_a291=_i$margin3[3];n.setAttribute("width",i.width+_a291+_o530+"px"),n.setAttribute("height",i.height+_e1816+_l398+"px"),n.setAttribute("preserveAspectRatio","none");_context233.next=40;return Of(tu(n),"gif",{background:i.background,transparent:i.transparent,dithering:i.dithering});case 40:_h230=_context233.sent;_context233.next=43;return ts(100);case 43:this.Qs.openBitmapExportDialog(_h230,t,s);_context233.next=108;break;case 46:if(!("webp"===t)){_context233.next=57;break;}_i$margin4=_slicedToArray(i.margin,4),_e1817=_i$margin4[0],_o531=_i$margin4[1],_l399=_i$margin4[2],_a292=_i$margin4[3];n.setAttribute("width",i.width+_a292+_o531+"px"),n.setAttribute("height",i.height+_e1817+_l399+"px"),n.setAttribute("preserveAspectRatio","none");_context233.next=51;return Of(tu(n),"webp",{compression:i.compression,background:i.background});case 51:_h231=_context233.sent;_context233.next=54;return ts(100);case 54:this.Qs.openBitmapExportDialog(_h231,t,s);_context233.next=108;break;case 57:if(!("svg"===t||"svgz"===t)){_context233.next=73;break;}_context233.t0=i.convertTextsToPaths;if(!_context233.t0){_context233.next=62;break;}_context233.next=62;return this.kP(n);case 62:if(!i.removeEmbeddedFonts){_context233.next=65;break;}_e1819=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2456=_e1819.nextNode();){"style"===_t2456.localName&&_t2456.hasAttribute("data-bx-fonts")&&_t2456.remove();}case 65:if(i.removeNonStandardNamespaces){_e1820=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2457=_e1820.nextNode();){_t2457.localName.includes("-")&&"bx-title"!==_t2457.localName&&_t2457.remove();for(_i1610=0,_arr81=_toConsumableArray(_t2457.attributes);_i1610<_arr81.length;_i1610++){_arr81$_i=_arr81[_i1610],_e1821=_arr81$_i.name,_i1611=_arr81$_i.value;_e1821.startsWith("data-bx-")&&_t2457.removeAttribute(_e1821);}}}if("responsive"===i.viewport)n.removeAttribute("width"),n.removeAttribute("height");else if("fixed"===i.viewport){_t2458=this.Js.board,_e1822=null,_i1612=_t2458.getComputedViewportWidth(),_s945=_t2458.getComputedViewportWidth();if(_i1612&&null!==_i1612.unit?_e1822=_i1612.unit:_s945&&null!==_s945.unit&&(_e1822=_s945.unit),null===_e1822)n.setAttribute("width",K(n.viewBox.baseVal.width,_t2458.geometryPrecision)),n.setAttribute("height",K(n.viewBox.baseVal.height,_t2458.geometryPrecision));else{_i1613=qt(_t2458.currentWorkspace).multiply(Xt("px",_e1822)),_Ne=Ne(n.viewBox.baseVal,_i1613),_s946=_Ne.width,_o533=_Ne.height;n.setAttribute("width",K(_s946,_t2458.geometryPrecision)+_e1822),n.setAttribute("height",K(_o533,_t2458.geometryPrecision)+_e1822);}}_e1818=this.Qs.getConfig("bx-markupsettings:indentation",2),_o532=tu(n,"xml",_e1818);_context233.next=70;return ts(100);case 70:this.Qs.openArtworkExportDialog(_o532,t,s);_context233.next=108;break;case 73:if(!("html"===t)){_context233.next=87;break;}_context233.t1=i.convertTextsToPaths;if(!_context233.t1){_context233.next=78;break;}_context233.next=78;return this.kP(n);case 78:if(!i.removeEmbeddedFonts){_context233.next=81;break;}_e1824=document.createNodeIterator(n,NodeFilter.SHOW_ELEMENT);for(;_t2459=_e1824.nextNode();){"style"===_t2459.localName&&_t2459.hasAttribute("data-bx-fonts")&&_t2459.remove();}case 81:_e1823=this.Qs.getConfig("bx-markupsettings:indentation",2),_o534=tu(n,"html",_e1823);_context233.next=84;return ts(100);case 84:this.Qs.openArtworkExportDialog(_o534,t,s);_context233.next=108;break;case 87:if(!("pdf"===t)){_context233.next=108;break;}_t2460=i.width+i.widthUnit,_e1825=i.height+i.heightUnit;if(!(n.setAttribute("width",_t2460),n.setAttribute("height",_e1825),n.setAttribute("preserveAspectRatio","none"),n.style.background=i.background,n.insertAdjacentHTML("beforeEnd","\n        <style>\n          @page {\n            size: ".concat(_t2460," ").concat(_e1825,";\n          }\n          html,\n          html > body {\n            width: ").concat(_t2460,";\n            height: ").concat(_e1825,";\n            overflow: hidden;\n            margin: 0;\n            padding: 0;\n            -webkit-print-color-adjust: exact !important;\n          }\n        </style>")),"bx-webapp"===this.Qs.localName)){_context233.next=104;break;}_t2461=null,_e1826=null,_i1614=Symbol();this.PP=_i1614,this.qs();_context233.prev=92;_context233.next=95;return this.Qs.convertArtworkToPDF(n);case 95:_t2461=_context233.sent;_context233.next=101;break;case 98:_context233.prev=98;_context233.t2=_context233["catch"](92);_e1826=_context233.t2;case 101:this.PP===_i1614&&(this.PP=null,_e1826?console.log("Server error",_e1826):this.Qs.openPDFExportDialog(_t2461,s),this.qs());_context233.next=108;break;case 104:_t2462=tu(n,"html");_context233.next=107;return ts(100);case 107:this.Qs.openPDFExportDialog(_t2462,s);case 108:case"end":return _context233.stop();}}},_callee232,this,[[92,98]]);}));function MP(){return _MP.apply(this,arguments);}return MP;}()},{key:"kP",value:function kP(t){var _this1063=this;return new Promise(/*#__PURE__*/function(){var _ref197=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee233(e){var i,_this1063$Js$board,s,n,_iterator1589,_step1589,_e1828,_i1615,_arr82,_e1827;return regeneratorRuntime.wrap(function _callee233$(_context234){while(1){switch(_context234.prev=_context234.next){case 0:_this1063.Js.offscreenBoard.setArtwork(t);_context234.next=3;return ts(100);case 3:i=new Vp(t),_this1063$Js$board=_this1063.Js.board,s=_this1063$Js$board.geometryPrecision,n=_this1063$Js$board.transformPrecision;_iterator1589=_createForOfIteratorHelper(t.querySelectorAll("text"));_context234.prev=5;_iterator1589.s();case 7:if((_step1589=_iterator1589.n()).done){_context234.next=15;break;}_e1828=_step1589.value;_context234.t0=i.canReplaceTextWithPaths(_e1828);if(!_context234.t0){_context234.next=13;break;}_context234.next=13;return i.replaceTextWithPaths(_e1828,s,n);case 13:_context234.next=7;break;case 15:_context234.next=20;break;case 17:_context234.prev=17;_context234.t1=_context234["catch"](5);_iterator1589.e(_context234.t1);case 20:_context234.prev=20;_iterator1589.f();return _context234.finish(20);case 23:for(_i1615=0,_arr82=_toConsumableArray(t.querySelectorAll("style[data-bx-fonts]"));_i1615<_arr82.length;_i1615++){_e1827=_arr82[_i1615];_e1827.remove();}e();case 25:case"end":return _context234.stop();}}},_callee233,null,[[5,17,20,23]]);}));return function(_x227){return _ref197.apply(this,arguments);};}());}},{key:"qs",value:function(){var _qs7=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee234(){var t,e;return regeneratorRuntime.wrap(function _callee234$(_context235){while(1){switch(_context235.prev=_context235.next){case 0:t=this["#format-select"].value;null===t?this["#main"].innerHTML="":null!==this["#main"].firstElementChild&&this["#main"].firstElementChild.localName==="bx-".concat(t,"settings")||(this["#main"].innerHTML="<bx-".concat(t,"settings></bx-").concat(t,"settings>"));e=this["#main"].firstElementChild;e&&(null===this.PP?(e.disabled=!1,this["#export-label"].textContent="Export",this["#export-button"].disabled=!e.exportable,this["#progress-bar"].value=-1):(e.disabled=!0,this["#export-label"].textContent="Stop",this["#export-button"].disabled=!1,this["#progress-bar"].value=null));case 4:case"end":return _context235.stop();}}},_callee234,this);}));function qs(){return _qs7.apply(this,arguments);}return qs;}()}]);return iw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(iw,"observedAttributes",["enabled"]);_defineProperty(iw,"_shadowTemplate",qi(_templateObject534()));_defineProperty(iw,"_shadowStyleSheet",Xi(_templateObject535()));customElements.define("bx-exportpanel",iw);var sw=Symbol();var nw=/*#__PURE__*/function(_HTMLElement133){_inherits(nw,_HTMLElement133);var _super234=_createSuper(nw);_createClass(nw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function nw(){var _this1064;_classCallCheck(this,nw);_this1064=_super234.call(this),_this1064._shadowRoot=_this1064.attachShadow({mode:"closed"}),_this1064._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,nw._shadowStyleSheet],_this1064._shadowRoot.append(document.importNode(nw._shadowTemplate.content,!0));var _iterator1590=_createForOfIteratorHelper(_this1064._shadowRoot.querySelectorAll("[id]")),_step1590;try{for(_iterator1590.s();!(_step1590=_iterator1590.n()).done;){var t=_step1590.value;_this1064["#"+t.id]=t;}}catch(err){_iterator1590.e(err);}finally{_iterator1590.f();}_this1064["#items"].addEventListener("click",function(t){return _this1064.Jc(t);}),_this1064["#undo-button"].addEventListener("click",function(){return _this1064.DP();}),_this1064["#redo-button"].addEventListener("click",function(){return _this1064.zP();}),_this1064["#clear-button"].addEventListener("click",function(){return _this1064.Jx();}),_this1064["#slider"].addEventListener("changestart",function(){return _this1064.OP();});return _this1064;}_createClass(nw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1065=this;this.Js.board.undoManager.addEventListener("change",this.EP=function(t){_this1065.TP(t);}),this.qs(),this.Mu();}},{key:"sn",value:function sn(){this.Js.board.undoManager.removeEventListener("change",this.EP),this["#items"].innerHTML="";}},{key:"TP",value:function TP(t){this.qs();}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".item"),i=this.Js.board.undoManager;if(e&&!1===e.hasAttribute("data-selected")){var _t2463=Ai(e)+1;if(_t2463<i.position)for(;_t2463<i.position&&i.canUndo();){i.undo();}else if(_t2463>i.position)for(;_t2463>i.position&&i.canRedo();){i.redo();}}}},{key:"DP",value:function DP(){this.Js.board.undoManager.undo();}},{key:"zP",value:function zP(){this.Js.board.undoManager.redo();}},{key:"Jx",value:function(){var _Jx=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee235(){return regeneratorRuntime.wrap(function _callee235$(_context236){while(1){switch(_context236.prev=_context236.next){case 0:_context236.next=2;return this.Qs.openMessageDialog({type:"question",buttons:["Clear","Cancel"],title:"Confirm",message:"Clear history",detail:"This action can't be reverted."});case 2:_context236.t0=_context236.sent;if(!(0===_context236.t0)){_context236.next=5;break;}this.Js.board.undoManager.clear();case 5:case"end":return _context236.stop();}}},_callee235,this);}));function Jx(){return _Jx.apply(this,arguments);}return Jx;}()},{key:"OP",value:function OP(){var _this1066=this;var t,_e1829,i=this.Js.board.undoManager;this["#slider"].addEventListener("change",t=function t(){var t=_this1066["#slider"].value;if(t<i.position)for(;t<i.position&&i.canUndo();){i.undo();}else if(t>i.position)for(;t>i.position&&i.canRedo();){i.redo();}}),this["#slider"].addEventListener("changeend",_e1829=function e(){_this1066["#slider"].removeEventListener("change",t),_this1066["#slider"].removeEventListener("changeend",_e1829);});}},{key:"Mu",value:function Mu(){var t=this["#items"].querySelector(":scope > [data-selected]");t&&Li(t);}},{key:"qs",value:function qs(){var t=this.Js.board.undoManager,e=t.groups.length;for(;this["#items"].childElementCount>e;){this["#items"].lastElementChild.remove();}if(this["#items"].childElementCount<e){var _t2464="";for(var _i1616=this["#items"].childElementCount;_i1616<e;_i1616+=1){_t2464+='<div class="item"></div>';}this["#items"].insertAdjacentHTML("beforeend",_t2464);}{var _i1617=t.position-1;for(var _s947=0;_s947<e;_s947+=1){var _e1830=t.groups[_s947],_n674=this["#items"].children[_s947];_n674[sw]!==_e1830&&(_n674[sw]=_e1830,_n674.textContent=_e1830.label),_s947===_i1617?_n674.setAttribute("data-selected",""):_n674.removeAttribute("data-selected");}}this["#undo-button"].disabled=!1===t.canUndo(),this["#redo-button"].disabled=!1===t.canRedo(),this["#clear-button"].disabled=!1===t.canUndo()&&!1===t.canRedo(),0===e?(this["#slider"].disabled=!0,this["#slider"].min=0,this["#slider"].max=1,this["#slider"].value=0):(this["#slider"].disabled=!1,this["#slider"].min=0,this["#slider"].max=e,this["#slider"].value=t.position),this["#placeholder"].hidden=this["#items"].childElementCount>0;}}]);return nw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(nw,"observedAttributes",["enabled"]);_defineProperty(nw,"_shadowTemplate",qi(_templateObject536()));_defineProperty(nw,"_shadowStyleSheet",Xi(_templateObject537()));customElements.define("bx-historypanel",nw);F.map(function(t){return t.presentationAttributeName;}).filter(function(t){return t;});var ow=function ow(t){var e=t.indexOf("="),i=-1===e?t:t.substring(0,e),s=-1===e?"":t.substring(e+1);return i=i.trim(),s=s.trim(),s.length<2||'"'!==s[0]&&"'"!==s[0]||s[0]!==s[s.length-1]?["",""]:(s=s.substr(1,s.length-2),[i,s]);},lw=Math.floor,aw=Math.ceil,hw=Number.isNaN,rw=Symbol(),dw='<span class="attribute" spellcheck="false"><span class="name"></span>="<span class="value"></span><span class="ellipsis" hidden>...</span>"</span>';var cw=/*#__PURE__*/function(_HTMLElement134){_inherits(cw,_HTMLElement134);var _super235=_createSuper(cw);_createClass(cw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"selectedNodes",get:function get(){return this.la;},set:function set(t){this.la=t,this.AP();}},{key:"outermostSelectedNodes",get:function get(){return this.$P();}}]);function cw(){var _temp50,_this1067;_classCallCheck(this,cw);(_temp50=_this1067=_super235.call(this),_defineProperty(_assertThisInitialized(_this1067),"commands",{selectAll:{exec:function exec(){return _this1067.Sd();}},deselectAll:{enabled:function enabled(){return!0;},exec:function exec(){return _this1067.$d();}}}),_temp50),_this1067.tabIndex=1,_this1067.la=[],_this1067.IP=[],_this1067.LP=null,_this1067.BP=!1,_this1067.RP=_this1067.RP.bind(_assertThisInitialized(_this1067)),_this1067._shadowRoot=_this1067.attachShadow({mode:"closed"}),_this1067._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,cw._shadowStyleSheet],_this1067._shadowRoot.append(document.importNode(cw._shadowTemplate.content,!0));var _iterator1591=_createForOfIteratorHelper(_this1067._shadowRoot.querySelectorAll("[id]")),_step1591;try{for(_iterator1591.s();!(_step1591=_iterator1591.n()).done;){var t=_step1591.value;_this1067["#"+t.id]=t;}}catch(err){_iterator1591.e(err);}finally{_iterator1591.f();}_this1067.addEventListener("keydown",function(t){return _this1067.vn(t);}),_this1067["#tree"].addEventListener("dragstart",function(t){return _this1067.Zw(t);}),_this1067._shadowRoot.addEventListener("contextmenu",function(t){return _this1067.Ks(t);}),_this1067._shadowRoot.addEventListener("pointerdown",function(t){return _this1067.lx(t);}),_this1067._shadowRoot.addEventListener("click",function(t){return _this1067.GP(t);}),_this1067._shadowRoot.addEventListener("dblclick",function(t){return _this1067.FP(t);});return _this1067;}_createClass(cw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1068=this;this.UP();var t=this.Js.board;t.addEventListener("selectedelementschange",this.Qo=function(){_this1068.NP();}),t.addEventListener("currentworkspacechange",this.Lx=function(){_this1068.UP();}),t.addEventListener("workspacemutation",this.rn=function(t){_this1068.sl(t.detail);});}},{key:"sn",value:function sn(){this.IP=[],this["#tree"].innerHTML="";var t=this.Js.board;t.removeEventListener("selectedelementschange",this.Qo),t.removeEventListener("currentworkspacechange",this.Lx),t.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){var _this1069=this;var _iterator1592=_createForOfIteratorHelper(t),_step1592;try{var _loop42=function _loop42(){var e=_step1592.value;if("attributes"===e.type){_this1069.IP.find(function(t){return"attributes"===t.type&&t.target===e.target&&t.attributeName===e.attributeName;})||_this1069.IP.push(e);}else if("characterData"===e.type){_this1069.IP.find(function(t){return"characterData"===t.type&&t.target===e.target;})||_this1069.IP.push(e);}else"childList"===e.type&&_this1069.IP.push(e);};for(_iterator1592.s();!(_step1592=_iterator1592.n()).done;){_loop42();}}catch(err){_iterator1592.e(err);}finally{_iterator1592.f();}requestIdleCallback(this.RP);}},{key:"RP",value:function RP(t){var _this1070=this;var _loop43=function _loop43(){var t=_this1070.IP.shift(),e=_toConsumableArray(_this1070["#tree"].querySelectorAll(".item")).find(function(e){return e[rw]===t.target;});e&&("childList"===t.type?(_this1070.VP(e),_this1070.jP(e,t)):"attributes"===t.type?_this1070.HP(e,t.attributeName,!0):"characterData"===t.type&&_this1070.YP(e));};for(;t.timeRemaining()>10&&this.IP.length>0;){_loop43();}this.IP.length>0&&requestIdleCallback(this.RP);}},{key:"AP",value:function AP(){var _iterator1593=_createForOfIteratorHelper(this["#tree"].querySelectorAll(".item:not([hidden])")),_step1593;try{for(_iterator1593.s();!(_step1593=_iterator1593.n()).done;){var t=_step1593.value;this.selectedNodes.includes(t[rw])?t.setAttribute("data-selected",""):t.removeAttribute("data-selected");}}catch(err){_iterator1593.e(err);}finally{_iterator1593.f();}this.dispatchEvent(new CustomEvent("selectednodeschange"));}},{key:"NP",value:function NP(){var _this1071=this;if(!0===this.BP)return void(this.BP=!1);var t=this.Js.board;if(0===t.selectedElements.length)this.selectedNodes=t.currentContainer?[]:[t.currentWorkspace];else{var _iterator1594=_createForOfIteratorHelper(t.selectedElements),_step1594;try{for(_iterator1594.s();!(_step1594=_iterator1594.n()).done;){var _e1831=_step1594.value;var _i1618=[];for(var _s949=_e1831.parentElement;_s949!==t.workspaces;_s949=_s949.parentElement){"g"!==_s949.localName&&"a"!==_s949.localName||_i1618.push(_s949);}var _s948=this["#tree"];for(;_i1618.length>0;){var _t2465=_i1618.pop();var _iterator1595=_createForOfIteratorHelper(_s948.children),_step1595;try{for(_iterator1595.s();!(_step1595=_iterator1595.n()).done;){var _e1832=_step1595.value;if(_e1832[rw]===_t2465){this.nv(_e1832),_s948=_e1832.querySelector(".subtree");break;}}}catch(err){_iterator1595.e(err);}finally{_iterator1595.f();}}}}catch(err){_iterator1594.e(err);}finally{_iterator1594.f();}this.selectedNodes=_toConsumableArray(t.selectedElements);}if(this.selectedNodes.length>0){var _t2466=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])"));var _loop44=function _loop44(_e1833){var i=_this1071.selectedNodes[_e1833],s=_t2466.find(function(t){return t[rw]===i;});if(s){_this1071.WP(s);return"break";}};for(var _e1833=this.selectedNodes.length-1;_e1833>=0;_e1833-=1){var _ret3=_loop44(_e1833);if(_ret3==="break")break;}}}},{key:"lx",value:function lx(t){if(!1===t.target.matches(".icon")&&!1===t.target.matches(".ellipsis")&&t.target!==this["#main"]){var _e1834;_e1834=t.target.matches("#tree, #tree .subtree")?this.qP(t.clientY):t.target.closest("#tree .item");{var _t2467=_e1834[rw],_i1619=_toConsumableArray(this.selectedNodes),_this$Qs$modKeys27=this.Qs.modKeys,_s950=_this$Qs$modKeys27.ctrl,_n675=_this$Qs$modKeys27.shift;if(_s950||_n675){if(_s950&&!_n675)_i1619=[_t2467];else if(_s950&&_n675)_i1619.includes(_t2467)?_i1619=_i1619.filter(function(e){return e!==_t2467;}):_i1619.push(_t2467);else if(!_s950&&_n675)if(0===_i1619.length)_i1619=[_t2467];else{var _t2468=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s951=_e1834,_n676=_t2468.indexOf(_s951),_o535=_i1619[_i1619.length-1],_l400=_t2468.find(function(t){return t[rw]===_o535;}),_a293=_t2468.indexOf(_l400);if(_n676<_a293){var _loop45=function _loop45(_e1835){var s=_t2468[_e1835][rw];_i1619.includes(s)&&(_i1619=_i1619.filter(function(t){return t!==s;})),_i1619.push(s);};for(var _e1835=_a293-1;_e1835>=_n676;_e1835-=1){_loop45(_e1835);}}else if(_n676>_a293){var _loop46=function _loop46(_e1836){var s=_t2468[_e1836][rw];_i1619.includes(s)&&(_i1619=_i1619.filter(function(t){return t!==s;})),_i1619.push(s);};for(var _e1836=_a293+1;_e1836<=_n676;_e1836+=1){_loop46(_e1836);}}}}else!1===_i1619.includes(_t2467)&&(_i1619=[_t2467]);this.selectedNodes=_i1619;}{var _t2469=this.Js.board,_e1837=this.selectedNodes.filter(function(e){return _t2469.isSelectableElement(e);}),_i1620=_e1837[0],_s952=null;if(_i1620)for(var _e1838=_i1620.parentElement;_e1838!==_t2469.currentWorkspace;_e1838=_e1838.parentElement){if("g"===_e1838.localName||"a"===_e1838.localName){_s952=_e1838;break;}}this.BP=!0,_t2469.currentContainer=_s952,_t2469.selectedElements=_e1837;}}}},{key:"GP",value:function GP(t){if(t.target.matches(".icon")){var _e1839=t.target.closest(".item");0===t.button&&(_e1839.hasAttribute("data-expanded")?this.sv(_e1839):this.nv(_e1839));}else if(t.target.matches(".ellipsis")){var _e1840=t.target.closest(".item"),_i1621=t.target.closest(".attribute").dataset.name;this.XP(_e1840,_i1621);}}},{key:"Zw",value:function Zw(t){var _this1072=this;var e,_i1623,s,n,o=null,l=this["#tree"].querySelector(".item");if(this["#tree"].querySelector("*[contenteditable]"))return;t.dataTransfer.setDragImage(Ei("span"),0,0);var a=function a(t,e){var i=_this1072.qP(e),s=null;if(i){if(i.hasAttribute("data-expanded")){var _t2470=i.querySelector(".tag").getBoundingClientRect();s=e<_t2470.y+_t2470.height/2?"beforebegin":"afterbegin";}else{var _n677=i.getBoundingClientRect();for(;null===i.nextElementSibling&&t<_n677.x;){var _t2471=i.parentElement.closest(".item");if(!_t2471||_t2471===l)break;i=_t2471,_n677=i.getBoundingClientRect();}s=e<_n677.y+_n677.height/2?"beforebegin":0===i[rw].childNodes.length&&t>_n677.x+22&&_this1072.ZP(_this1072.$P(),i[rw],"afterbegin")?"afterbegin":"afterend";}!1===_this1072.ZP(_this1072.$P(),i[rw],s)&&(i=null,s=null);}return[i,s];};window.addEventListener("dragover",e=function e(t){if(s===t.clientX&&n===t.clientY)return;var e=t.clientX,i=t.clientY,_a294=a(e,i),_a295=_slicedToArray(_a294,2),l=_a295[0],h=_a295[1];s=e,n=i,o&&(o.removeAttribute("data-dragover"),o=null),l&&(l.setAttribute("data-dragover",h),o=l);}),window.addEventListener("dragend",_i1623=function i(t){window.removeEventListener("dragover",e),window.removeEventListener("dragend",_i1623),o&&o.removeAttribute("data-dragover");var s=t.clientX,n=t.clientY,_a296=a(s,n),_a297=_slicedToArray(_a296,2),l=_a297[0],h=_a297[1],r=_this1072.Js.board;if(l){r.undoManager.checkpoint("Move element(s)");{var _t2472=document.createDocumentFragment();var _iterator1596=_createForOfIteratorHelper(Gi(_this1072.$P())),_step1596;try{for(_iterator1596.s();!(_step1596=_iterator1596.n()).done;){var _e1841=_step1596.value;_t2472.append(_e1841);}}catch(err){_iterator1596.e(err);}finally{_iterator1596.f();}"beforebegin"===h?l[rw].before(_t2472):"afterend"===h?l[rw].after(_t2472):"afterbegin"===h&&(l[rw].prepend(_t2472),_this1072.nv(l));}{var _t2473=_this1072.selectedNodes.filter(function(t){return r.isSelectableElement(t);})[0],_e1842=null;if(_t2473)for(var _i1622=_t2473.parentElement;_i1622!==r.currentWorkspace;_i1622=_i1622.parentElement){if("g"===_i1622.localName||"a"===_i1622.localName){_e1842=_i1622;break;}}_this1072.BP=!0,r.currentContainer=_e1842,r.selectedTextRange=null;}}});}},{key:"FP",value:function FP(t){var e=t.target.closest(".item");if(e)if("element"===e.getAttribute("data-type")){if(t.target.matches(".attribute, .attribute *")){var _e1843=t.target.closest(".attribute");if(!1===_e1843.hasAttribute("disabled")){var _i1624=t.target.closest(".item"),_s953=_e1843.dataset.name;this.KP(_i1624,_s953);}}else if(t.target.matches(".tag-name, .opening-bracket, .attributes:empty + .closing-bracket")&&!1===t.target.hasAttribute("disabled")){var _e1844=t.target.closest(".item");this.QP(_e1844);}}else"text"===e.getAttribute("data-type")&&t.target.matches(".content")&&this.JP(e);}},{key:"Ks",value:function(){var _Ks2=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee236(t){var e,i,_i1625,_t2474,_e1845,_i1627,_iterator1597,_step1597,_step1597$value,_e1846,_i1628,_e1847,_iterator1598,_step1598,_step1598$value,_t2475,_i1629,_iterator1599,_step1599,_e1848,_i1626;return regeneratorRuntime.wrap(function _callee236$(_context237){while(1){switch(_context237.prev=_context237.next){case 0:e=t.target.closest(".item"),i=t.target.matches("[contenteditable]");if(!(e&&"element"===e.getAttribute("data-type")&&!1===i)){_context237.next=7;break;}t.preventDefault();_context237.next=5;return this.Qs.openContextMenu([{label:"Copy outer SVG",value:"copy-outer-svg"},{label:"Add Attribute",value:"add-attribute"}]);case 5:_i1625=_context237.sent;if("add-attribute"===_i1625)this.tD(e);else if("copy-outer-svg"===_i1625){_t2474=null,_e1845=!0;if(this.$P()[0].hasAttribute("data-bx-workspace")){_i1627=this.$P()[0].getAttribute("data-bx-workspace");if("master"===_i1627){_t2474=Ei("svg:svg"),_t2474.innerHTML=this.$P()[0].innerHTML;_iterator1597=_createForOfIteratorHelper(this.$P()[0].attributes);try{for(_iterator1597.s();!(_step1597=_iterator1597.n()).done;){_step1597$value=_step1597.value,_e1846=_step1597$value.name,_i1628=_step1597$value.value;"data-bx-workspace"!==_e1846&&_t2474.setAttribute(_e1846,_i1628);}}catch(err){_iterator1597.e(err);}finally{_iterator1597.f();}_e1845=!1;}else{_t2474=Ei("svg:svg");_e1847=Ei("svg:"+_i1627);_e1847.innerHTML=this.$P()[0].innerHTML,_t2474.append(_e1847);_iterator1598=_createForOfIteratorHelper(this.$P()[0].attributes);try{for(_iterator1598.s();!(_step1598=_iterator1598.n()).done;){_step1598$value=_step1598.value,_t2475=_step1598$value.name,_i1629=_step1598$value.value;"data-bx-workspace"!==_t2475&&_e1847.setAttribute(_t2475,_i1629);}}catch(err){_iterator1598.e(err);}finally{_iterator1598.f();}}}else{_t2474=Ei("svg:svg");_iterator1599=_createForOfIteratorHelper(this.$P());try{for(_iterator1599.s();!(_step1599=_iterator1599.n()).done;){_e1848=_step1599.value;_t2474.append(_e1848.cloneNode(!0));}}catch(err){_iterator1599.e(err);}finally{_iterator1599.f();}}su(_t2474,"xml"),wh(_t2474,2,_e1845?0:1);_i1626=_e1845?_t2474.innerHTML:_t2474.outerHTML;_i1626=ni(_i1626,"url(&quot;","url("),_i1626=ni(_i1626,"&quot;)",")"),clipboard.writeText(_i1626);}case 7:case"end":return _context237.stop();}}},_callee236,this);}));function Ks(_x228){return _Ks2.apply(this,arguments);}return Ks;}()},{key:"vn",value:function vn(t){var e=so.fromEvent(t);if(e.matches("Enter")){t.preventDefault(),t.stopPropagation();var _e1849=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(1===_e1849.length){var _t2476=_e1849[0];"element"===_t2476.getAttribute("data-type")?this.eD(_t2476):"text"===_t2476.getAttribute("data-type")&&this.JP(_t2476);}}else if(e.matches("Backspace")||e.matches("Delete"))t.stopPropagation(),this.iD();else if(e.matches("Tab")){t.preventDefault(),t.stopPropagation();var _e1850=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1850.length>0){var _t2477=[],_i1630="\n          :scope > .tag > .tag-name:not([disabled]),\n          :scope > .tag > .attributes > .attribute:not([disabled])\n        ";var _iterator1600=_createForOfIteratorHelper(_e1850),_step1600;try{for(_iterator1600.s();!(_step1600=_iterator1600.n()).done;){var _s955=_step1600.value;_t2477=[].concat(_toConsumableArray(_t2477),_toConsumableArray(_s955.querySelectorAll(_i1630)));}}catch(err){_iterator1600.e(err);}finally{_iterator1600.f();}var _s954=_t2477.find(function(t){return t.matches("[contenteditable]");}),_n678=_s954?_t2477.indexOf(_s954):-1,_o536=_t2477[_n678+1]||_t2477[0]||null;if(_o536){var _t2478=_o536.closest(".item");_o536.matches(".attribute")?this.KP(_t2478,_o536.getAttribute("data-name")):_o536.matches(".tag-name")&&this.QP(_t2478);}}}else if(e.matches("Shift","Tab")){t.preventDefault(),t.stopPropagation();var _e1851=this["#tree"].querySelectorAll(".item[data-selected]:not([hidden])");if(_e1851.length>0){var _t2479=[];var _iterator1601=_createForOfIteratorHelper(_e1851),_step1601;try{for(_iterator1601.s();!(_step1601=_iterator1601.n()).done;){var _i1632=_step1601.value;_t2479=[].concat(_toConsumableArray(_t2479),_toConsumableArray(_i1632.querySelectorAll(".tag-name, .attribute")));}}catch(err){_iterator1601.e(err);}finally{_iterator1601.f();}var _i1631=_t2479.find(function(t){return t.matches("[contenteditable]");}),_s956=_i1631?_t2479.indexOf(_i1631):-1,_n679=_t2479[_s956-1]||_t2479[_t2479.length-1]||null;if(_n679){var _t2480=_n679.closest(".item");_n679.matches(".attribute")?this.KP(_t2480,_n679.getAttribute("data-name")):_n679.matches(".tag-name")&&this.QP(_t2480);}}}else e.matches("ArrowLeft")?(t.stopPropagation(),this.sD()):e.matches("ArrowRight")?(t.stopPropagation(),this.nD()):e.matches("ArrowDown")?(t.stopPropagation(),this.Ru(!1)):e.matches("ArrowUp")?(t.stopPropagation(),this.Bu(!1)):e.matches("Shift","ArrowDown")?(t.stopPropagation(),this.Ru(!0)):e.matches("Shift","ArrowUp")&&(t.stopPropagation(),this.Bu(!0));}},{key:"av",value:function av(t,e){var i=null;return"element"===t?(i=qi(_templateObject83(),'<div class="item" data-type="element" draggable="true"><svg class="icon" preserveAspectRatio="none" viewBox="0 0 100 100" width="9px" height="10px"><path d="M 0 0 L 100 50 L 0 100 Z"></path></svg><div class="tag"><span class="opening-bracket">&lt</span><span class="tag-name" spellcheck="false">svg</span><span class="attributes"></span><span class="closing-bracket">&gt</span></div><div class="subtree"></div></div>'),i[rw]=e,this.VP(i),this.oD(i),this.lD(i)):"text"===t&&(i=qi(_templateObject84(),'<div class="item" data-type="text"><span class="content" spellcheck="false"></span></div>'),i[rw]=e,this.YP(i)),i;}},{key:"nv",value:function nv(t){if(!1===t.hasAttribute("data-expanded")){var _e1852=t.querySelector(".subtree");var _iterator1602=_createForOfIteratorHelper(t[rw].childNodes),_step1602;try{for(_iterator1602.s();!(_step1602=_iterator1602.n()).done;){var _i1633=_step1602.value;var _t2481=null;if(_i1633.nodeType===document.ELEMENT_NODE?_t2481="element":_i1633.nodeType===document.TEXT_NODE&&(_t2481="text"),_t2481){var _s957=this.av(_t2481,_i1633);"text"===_t2481&&yh(_i1633.textContent)&&_s957.setAttribute("hidden",""),_e1852.append(_s957),this.selectedNodes.includes(_i1633)&&_s957.setAttribute("data-selected","");}}}catch(err){_iterator1602.e(err);}finally{_iterator1602.f();}_e1852.childElementCount>0&&t.setAttribute("data-expanded","");}}},{key:"sv",value:function sv(t){t.hasAttribute("data-expanded")&&(t.querySelector(".subtree").innerHTML="",t.removeAttribute("data-expanded"),this.VP(t));}},{key:"nD",value:function nD(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.nv(t[0]);}},{key:"sD",value:function sD(){var t=this["#tree"].querySelectorAll(".item[data-selected]");1===t.length&&"element"===t[0].getAttribute("data-type")&&this.sv(t[0]);}},{key:"Bu",value:function Bu(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2482=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1634=null;if(_t2482){var _e1853=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s958=_e1853.find(function(e){return e[rw]===_t2482;}),_n680=_e1853.indexOf(_s958);_e1853[_n680-1]&&(_i1634=_e1853[_n680-1]);}if(_i1634){this.WP(_i1634);var _t2483=_i1634[rw];this.selectedNodes=[_t2483];var _s959=null,_n681=[];if(e.isSelectableElement(_t2483)){for(var _i1635=_t2483.parentElement;_i1635!==e.currentWorkspace;_i1635=_i1635.parentElement){if("g"===_i1635.localName||"a"===_i1635.localName){_s959=_i1635;break;}}_n681=[_t2483];}this.BP=!0,e.currentContainer=_s959,e.selectedElements=_n681;}}else if(!0===t){var _t2484=_toConsumableArray(this.selectedNodes);if(_t2484.length>0){var _i1636=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s960=_t2484[_t2484.length-1],_n682=_i1636.find(function(t){return t[rw]===_s960;}),_o537=_i1636.indexOf(_n682);if(_o537>0)for(var _s961=_o537-1;_s961>=0;_s961-=1){var _n683=_i1636[_s961][rw];if(!1===_t2484.includes(_n683)){this.selectedNodes=[].concat(_toConsumableArray(_t2484),[_n683]),e.isSelectableElement(_n683)&&(this.BP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n683]));break;}}}}}},{key:"Ru",value:function Ru(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!1;var e=this.Js.board;if(!1===t){var _t2485=this.selectedNodes.length>0?this.selectedNodes[this.selectedNodes.length-1]:null,_i1637=null;if(_t2485){var _e1854=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s962=_e1854.find(function(e){return e[rw]===_t2485;}),_n684=_e1854.indexOf(_s962);_e1854[_n684+1]&&(_i1637=_e1854[_n684+1]);}if(_i1637){this.WP(_i1637);var _t2486=_i1637[rw];this.selectedNodes=[_t2486];var _s963=null,_n685=[];if(e.isSelectableElement(_t2486)){for(var _i1638=_t2486.parentElement;_i1638!==e.currentWorkspace;_i1638=_i1638.parentElement){if("g"===_i1638.localName||"a"===_i1638.localName){_s963=_i1638;break;}}_n685=[_t2486];}this.BP=!0,e.currentContainer=_s963,e.selectedElements=_n685;}}else if(!0===t){var _t2487=_toConsumableArray(this.selectedNodes);if(_t2487.length>0){var _i1639=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),_s964=_t2487[_t2487.length-1],_n686=_i1639.find(function(t){return t[rw]===_s964;}),_o538=_i1639.indexOf(_n686);if(_o538<_i1639.length-1)for(var _s965=_o538+1;_s965<_i1639.length;_s965+=1){var _n687=_i1639[_s965][rw];if(!1===_t2487.includes(_n687)){this.selectedNodes=[].concat(_toConsumableArray(_t2487),[_n687]),e.isSelectableElement(_n687)&&(this.BP=!0,e.selectedElements=[].concat(_toConsumableArray(e.selectedElements),[_n687]));break;}}}}}},{key:"WP",value:function WP(t){var e=this["#main"].scrollTop,i=t.getBoundingClientRect().top-this["#tree"].getBoundingClientRect().top;if(i-e<0)this["#main"].scrollTop=i;else if(t.hasAttribute("data-expanded")){var _s966=t.querySelector(".tag").getBoundingClientRect().height;i+_s966-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+_s966-this["#main"].clientHeight);}else i+t.clientHeight-e>this["#main"].clientHeight&&(this["#main"].scrollTop=i+t.clientHeight-this["#main"].clientHeight);}},{key:"iD",value:function iD(){var _this1073=this;var t=this.Js.board,e=_toConsumableArray(this["#tree"].querySelectorAll(".item:not([hidden])")),i=Gi(this.$P());if(i=i.filter(function(t){return"g"!==t.localName||!t.hasAttribute("data-bx-workspace");}),i.length>0){var _loop47=function _loop47(){var t=_this1073["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[rw]);}))return"break";if(_this1073.Ru(),t===_this1073["#tree"].querySelector(".item[data-selected]"))return"break";};for(t.undoManager.checkpoint("Delete");;){var _ret4=_loop47();if(_ret4==="break")break;}var _loop48=function _loop48(){var t=_this1073["#tree"].querySelector(".item[data-selected]");if(!i.find(function(e){return e.contains(t[rw]);}))return"break";if(_this1073.Bu(),t===_this1073["#tree"].querySelector(".item[data-selected]"))return"break";};for(;;){var _ret5=_loop48();if(_ret5==="break")break;}var _iterator1603=_createForOfIteratorHelper(i),_step1603;try{var _loop49=function _loop49(){var t=_step1603.value;t.remove();var i=e.find(function(e){return e[rw]===t;});i&&i.remove();};for(_iterator1603.s();!(_step1603=_iterator1603.n()).done;){_loop49();}}catch(err){_iterator1603.e(err);}finally{_iterator1603.f();}}}},{key:"ZP",value:function ZP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";var s=!0;if(0===t.length)s=!1;else{var _iterator1604=_createForOfIteratorHelper(t),_step1604;try{for(_iterator1604.s();!(_step1604=_iterator1604.n()).done;){var _n688=_step1604.value;if(!1===this.aD(_n688,e,i)){s=!1;break;}}}catch(err){_iterator1604.e(err);}finally{_iterator1604.f();}}return s;}},{key:"aD",value:function aD(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"afterend";if(e.parentNode===this.Js.board.workspaces)return!1;if(t.contains(e))return!1;if("beforebegin"===i){if(!1===this.hD(e.parentNode).includes(t.nodeName))return!1;if(e.previousSibling&&e.previousSibling===t)return!1;}else if("afterend"===i){if(!1===this.hD(e.parentNode).includes(t.nodeName))return!1;if(e.nextSibling&&e.nextSibling===t)return!1;}else if("afterbegin"===i){if(!1===this.hD(e).includes(t.nodeName))return!1;if(e.firstChild&&e.firstChild===t)return!1;}else if("beforeend"===i){if(!1===this.hD(e).includes(t.nodeName))return!1;if(e.lastChild&&e.lastChild===t)return!1;}return!0;}},{key:"Sd",value:function Sd(){var t=this._shadowRoot.querySelector("[contenteditable]"),e=t?t.closest(".item"):null;if(t&&e)if("element"===e.getAttribute("data-type")){if(t.matches(".tag-name")||t.matches(".attribute")){var _e1855=new Range();_e1855.selectNodeContents(t);var _i1640=window.getSelection();_i1640.removeAllRanges(),_i1640.addRange(_e1855);}}else if("text"===e.getAttribute("data-type")){var _e1856=new Range();_e1856.selectNodeContents(t);var _i1641=window.getSelection();_i1641.removeAllRanges(),_i1641.addRange(_e1856);}}},{key:"$d",value:function $d(){var t=window.getSelection();if(t.rangeCount>0){t.getRangeAt(0).collapse(!0);}}},{key:"JP",value:function JP(t){var _this1074=this;var e,i,s,n=t.querySelector(".content"),o=n.textContent,l=t[rw],a=this.Js.board,h=!0;n.hasAttribute("contenteditable")||(n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Sd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),n.addEventListener("keydown",e=function e(t){var e=so.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1074.focus()):e.matches("Escape")&&(h=!0,_this1074.focus());}),n.addEventListener("input",i=function i(){h=!1;}),n.addEventListener("blur",s=function(_s967){function s(){return _s967.apply(this,arguments);}s.toString=function(){return _s967.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1074.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),h)n.textContent=o;else{a.undoManager.checkpoint("Text content");n.textContent;l.textContent=n.textContent;}})));}},{key:"QP",value:function QP(t){var _this1075=this;var e,i,s,n=t.querySelector(".tag-name"),o=n.textContent,l=t[rw],a=this.Js.board,h=!0;if(n.hasAttribute("contenteditable"))return;n.setAttribute("contenteditable",""),n.part.add("input"),n.focus(),this.Sd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var r=function r(t){var e=t;return"title"===t?e="bx-title":t.startsWith("bx:")&&(e=t.replace("bx:","bx-")),e;};n.addEventListener("keydown",e=function e(t){var e=so.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1075.focus()):e.matches("Escape")&&(h=!0,_this1075.focus());}),n.addEventListener("input",i=function i(){var t=n.textContent,e=r(t),i=!1;if(l===a.currentWorkspace)i=!0,h=!0;else{(G[l.parentElement.nodeName]||[]).includes(e)?(i=!1,h=e===r(o)):(i=!0,h=!0);}i?(n.setAttribute("data-invalid",""),n.part.add("invalid-input")):(n.removeAttribute("data-invalid"),n.part.remove("invalid-input"));}),n.addEventListener("blur",s=function(_s968){function s(){return _s968.apply(this,arguments);}s.toString=function(){return _s968.toString();};return s;}(function(){if(n.removeEventListener("blur",s),n.removeEventListener("keydown",e),n.removeEventListener("input",i),n.removeAttribute("contenteditable"),n.removeAttribute("data-invalid"),n.part.remove("input"),n.part.remove("invalid-input"),_this1075.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),h)n.textContent=o;else{a.undoManager.checkpoint("Rename element");n.textContent;var _e1857=r(n.textContent),_i1642=Ei("svg:".concat(_e1857));var _iterator1605=_createForOfIteratorHelper(l.attributes),_step1605;try{for(_iterator1605.s();!(_step1605=_iterator1605.n()).done;){var _step1605$value=_step1605.value,_t2489=_step1605$value.name,_e1858=_step1605$value.value;_i1642.setAttribute(_t2489,_e1858);}}catch(err){_iterator1605.e(err);}finally{_iterator1605.f();}l.replaceWith(_i1642);for(var _i1643=0,_arr83=_toConsumableArray(l.childNodes);_i1643<_arr83.length;_i1643++){var _t2488=_arr83[_i1643];G[_e1857].includes(_t2488.nodeName)&&_i1642.append(_t2488);}t[rw]=_i1642,_this1075.selectedNodes=_this1075.selectedNodes.map(function(t){return t===l?_i1642:t;}),a.selectedElements.includes(l)?(_this1075.BP=!0,a.isSelectableElement(_i1642)?a.selectedElements=a.selectedElements.map(function(t){return t===l?_i1642:t;}):a.selectedElements=a.selectedElements.filter(function(t){return t!==l;})):a.isSelectableElement(_i1642)&&(_this1075.BP=!0,a.selectedElements=[].concat(_toConsumableArray(a.selectedElements),[_i1642]));}}));}},{key:"KP",value:function KP(t,e){var _this1076=this;var i,s,_n691,o=this.Js.board,l=t[rw],a=!0,h=t.querySelector(".attribute[data-name=\"".concat(e,"\"]"));if(!h||h.hasAttribute("contenteditable"))return;var r=e,d=h.innerHTML;this.LP=h,this.XP(t,e),h.innerHTML=h.innerText,h.style.transition="none",h.setAttribute("contenteditable",""),h.part.add("input"),h.focus(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));{var _t2490=h.textContent.indexOf('"'),_e1859=h.textContent.lastIndexOf('"');if(_t2490>=0&&_e1859>=0&&_t2490!==_e1859){var _i1644=new Range();_i1644.setStart(h.firstChild,_t2490+1),_i1644.setEnd(h.firstChild,_e1859);var _s969=window.getSelection();_s969.removeAllRanges(),_s969.addRange(_i1644);}else this.Sd();}h.addEventListener("keydown",i=function i(t){var e=so.fromEvent(t);if(e.matches("Enter"))t.preventDefault(),t.stopPropagation(),_this1076.focus();else if(e.matches("Escape"))t.stopPropagation(),a=!0,_this1076.focus();else if(e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight"))t.stopPropagation();else if(e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown")){t.stopPropagation();var _i1645=_this1076._shadowRoot.getSelection();if(_i1645.rangeCount>0){var _s970=_i1645.getRangeAt(0),_n689=_s970.startOffset,_o539=_s970.startOffset;{var _t2491=h.textContent,_e1860=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(var _i1646=_s970.startOffset;_i1646<=_t2491.length&&(_o539=_i1646,!_e1860.includes(_t2491[_i1646]));_i1646+=1){;}for(var _i1647=_s970.startOffset-1;_i1647>=0&&!_e1860.includes(_t2491[_i1647]);_i1647-=1){_n689=_i1647;}}if(_n689!==_o539){var _l401=h.textContent.substring(_n689,_o539);if(!1===hw(parseFloat(_l401))){var _r153="",_d120="",_c91=/[^\d-\.]+/.exec(_l401),_p79=parseFloat(_l401);if(t.preventDefault(),_c91){var _t2492=_c91.index+_c91[0].length;_s970.startOffset>_n689+_c91.index&&_t2492<_l401.length&&_s970.startOffset!==_n689?(_r153=_l401.substring(0,_t2492),_l401=_l401.substring(_t2492)):(_d120=_l401.substring(_c91.index),_l401=_l401.substring(0,_c91.index));}e.matches("ArrowUp")?_p79=lw(_p79)+1:e.matches("ArrowDown")?_p79=aw(_p79)-1:e.matches("Shift","ArrowUp")?_p79=lw(_p79)+10:e.matches("Shift","ArrowDown")&&(_p79=aw(_p79)-10);var _u65=_r153+_p79+_d120,_x229=h.textContent;_x229=_x229.substring(0,_n689)+_u65+_x229.substring(_o539),h.textContent=_x229;var _b50=document.createRange();_b50.setStart(h.firstChild,_n689),_b50.setEnd(h.firstChild,_n689+_u65.length),_i1645.removeAllRanges(),_i1645.addRange(_b50),a=!1;}}}}}),h.addEventListener("input",s=function s(){a=!1;}),h.addEventListener("blur",_n691=function n(){h.removeEventListener("blur",_n691),h.removeEventListener("keydown",i),h.removeEventListener("input",s),h.removeAttribute("contenteditable"),h.part.remove("input"),h.style.transition=null,_this1076.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0}));var _ow=ow(h.textContent),_ow2=_slicedToArray(_ow,2),t=_ow2[0],e=_ow2[1];if(l.hasAttribute("data-bx-workspace")&&"id"===r&&("id"===t&&!1!==Hi(e)||(a=!0)),a)h.innerHTML=d;else if(o.undoManager.checkpoint("Edit attribute"),h.remove(),"id"===r&&l.hasAttribute("data-bx-workspace")){var _t2493=l.getAttribute("id"),_i1648=e,_s971=document.createNodeIterator(o.workspaces,NodeFilter.SHOW_ELEMENT),_n690=null;for(l.setAttribute("id",_i1648);_n690=_s971.nextNode();){["pattern","marker","symbol"].includes(_n690.localName)&&_n690.id===_t2493&&_n690.setAttribute("id",_i1648);}}else""===t?l.removeAttribute(r):l.setAttribute(t,e);});}},{key:"tD",value:function tD(t){var _this1077=this;var e,i,s,n=this.Js.board,o=t[rw],l=!0,a=qi(_templateObject85(),dw);a.innerHTML=" ",a.style.transition="none",a.setAttribute("contenteditable",""),a.part.add("input"),t.querySelector(".attributes").append(a),a.focus(),this.Sd(),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0})),this.LP=a,a.addEventListener("keydown",e=function e(t){var e=so.fromEvent(t);(e.matches("Enter")||e.matches("Escape")||e.matches("Backspace")||e.matches("Delete")||e.matches("ArrowLeft")||e.matches("ArrowRight")||e.matches("ArrowUp")||e.matches("ArrowDown")||e.matches("Shift","ArrowLeft")||e.matches("Shift","ArrowRight")||e.matches("Shift","ArrowUp")||e.matches("Shift","ArrowDown"))&&t.stopPropagation(),e.matches("Enter")?(t.preventDefault(),_this1077.focus()):e.matches("Escape")&&(l=!0,_this1077.focus());}),a.addEventListener("input",i=function i(){l=!1;}),a.addEventListener("blur",s=function(_s972){function s(){return _s972.apply(this,arguments);}s.toString=function(){return _s972.toString();};return s;}(function(){if(a.removeEventListener("blur",s),a.removeEventListener("keydown",e),a.removeEventListener("input",i),a.removeAttribute("contenteditable"),a.part.remove("input"),a.style.transition=null,_this1077.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),l)a.remove();else{n.undoManager.checkpoint("Edit attribute");var _ow3=ow(a.textContent),_ow4=_slicedToArray(_ow3,2),_t2494=_ow4[0],_e1861=_ow4[1];a.remove(),""!==_t2494&&o.setAttribute(_t2494,_e1861);}}));}},{key:"eD",value:function eD(t){if(this.LP&&t.contains(this.LP))this.KP(t,this.LP.getAttribute("data-name"));else{var _e1862=t.querySelector(".attribute");_e1862?this.KP(t,_e1862.getAttribute("data-name")):this.tD(t);}}},{key:"XP",value:function XP(t,e){var _iterator1606=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1606;try{for(_iterator1606.s();!(_step1606=_iterator1606.n()).done;){var _i1649=_step1606.value;if(_i1649.dataset.name===e){_i1649.querySelector(".value").textContent=t[rw].getAttribute(e),_i1649.querySelector(".ellipsis").hidden=!0;break;}}}catch(err){_iterator1606.e(err);}finally{_iterator1606.f();}}},{key:"UP",value:function UP(){this.IP=[],this["#tree"].innerHTML="";var t=this.Js.board.currentWorkspace,e=this.av("element",t);this["#tree"].append(e),this.NP();}},{key:"jP",value:function jP(t,e){var i=t.querySelector(".subtree"),s=_toConsumableArray(e.addedNodes),n=_toConsumableArray(e.removedNodes);for(var _i1650=0,_arr84=_toConsumableArray(i.children);_i1650<_arr84.length;_i1650++){var _t2495=_arr84[_i1650];(n.includes(_t2495[rw])||s.includes(_t2495[rw]))&&_t2495.remove();}if(0===t[rw].childNodes.length&&t.removeAttribute("data-expanded"),s.length>0&&t.hasAttribute("data-expanded")){var _t2496=document.createDocumentFragment();var _iterator1607=_createForOfIteratorHelper(s),_step1607;try{for(_iterator1607.s();!(_step1607=_iterator1607.n()).done;){var _e1863=_step1607.value;var _i1651=null;if(_e1863.nodeType===document.ELEMENT_NODE?_i1651="element":_e1863.nodeType===document.TEXT_NODE&&(_i1651="text"),_i1651){var _s973=this.av(_i1651,_e1863);"text"===_i1651&&yh(_e1863.textContent)&&_s973.setAttribute("hidden",""),this.selectedNodes.includes(_e1863)&&_s973.setAttribute("data-selected",""),_t2496.append(_s973);}}}catch(err){_iterator1607.e(err);}finally{_iterator1607.f();}if(e.previousSibling){_toConsumableArray(i.children).find(function(t){return t[rw]===e.previousSibling;}).after(_t2496);}else if(e.nextSibling){_toConsumableArray(i.children).find(function(t){return t[rw]===e.nextSibling;}).before(_t2496);}else i.append(_t2496);}}},{key:"VP",value:function VP(t){var e=t.querySelector(".icon"),i="hidden";var _iterator1608=_createForOfIteratorHelper(t[rw].childNodes),_step1608;try{for(_iterator1608.s();!(_step1608=_iterator1608.n()).done;){var _e1864=_step1608.value;if(_e1864.nodeType===document.ELEMENT_NODE){i="visible";break;}if(_e1864.nodeType===document.TEXT_NODE&&!1===yh(_e1864.textContent)){i="visible";break;}}}catch(err){_iterator1608.e(err);}finally{_iterator1608.f();}e.style.setProperty("visibility",i);}},{key:"oD",value:function oD(t){var e=t[rw],i=e.localName,s=t.querySelector(".tag-name"),n=!1;if("g"===i){if(e.hasAttribute("data-bx-workspace")){var _t2497=e.getAttribute("data-bx-workspace");"master"===_t2497?i="svg":"pattern"===_t2497?i="pattern":"symbol"===_t2497?i="symbol":"marker"===_t2497&&(i="marker"),n=!0;}}else"bx-title"===i?i="title":i.startsWith("bx-")&&(i="bx:"+i.substring(3));s.textContent=i,n&&(s.setAttribute("disabled",""),s.previousElementSibling.setAttribute("disabled",""));}},{key:"lD",value:function lD(t){var e=t[rw],i=document.createDocumentFragment();var _iterator1609=_createForOfIteratorHelper(e.attributes),_step1609;try{for(_iterator1609.s();!(_step1609=_iterator1609.n()).done;){var _step1609$value=_step1609.value,_t2498=_step1609$value.name,_s974=_step1609$value.value;if("data-bx-workspace"!==_t2498){var _n692=qi(_templateObject86(),dw),_o540=this.rD(_t2498),_l402=_s974.length-100>100;_n692.dataset.name=_t2498,_n692.querySelector(".name").textContent=_o540,_n692.querySelector(".value").textContent=_l402?_s974.substring(0,100):_s974,_n692.querySelector(".ellipsis").hidden=!_l402,e.hasAttribute("data-bx-workspace")&&("xmlns"!==_t2498&&"xmlns:bx"!==_t2498||_n692.setAttribute("disabled","")),i.append(_n692);}}}catch(err){_iterator1609.e(err);}finally{_iterator1609.f();}t.querySelector(".attributes").append(i);}},{key:"HP",value:function HP(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!0;var s=t[rw],n=s.getAttribute(e),o=this.rD(e);if(null===n){var _iterator1610=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1610;try{for(_iterator1610.s();!(_step1610=_iterator1610.n()).done;){var _i1652=_step1610.value;if(_i1652.dataset.name===e){_i1652.remove();break;}}}catch(err){_iterator1610.e(err);}finally{_iterator1610.f();}}else{var _l403=null,_a298=n.length-100>100;var _iterator1611=_createForOfIteratorHelper(t.querySelector(".attributes").children),_step1611;try{for(_iterator1611.s();!(_step1611=_iterator1611.n()).done;){var _i1654=_step1611.value;if(_i1654.dataset.name===e){_l403=_i1654;break;}}}catch(err){_iterator1611.e(err);}finally{_iterator1611.f();}if(null===_l403){_l403=qi(_templateObject87(),dw),_l403.dataset.name=e,_l403.querySelector(".name").textContent=o;var _i1653=0;var _iterator1612=_createForOfIteratorHelper(s.attributes),_step1612;try{for(_iterator1612.s();!(_step1612=_iterator1612.n()).done;){var _t2499=_step1612.value;if("data-bx-workspace"!==_t2499.name){if(_t2499.name===e)break;_i1653+=1;}}}catch(err){_iterator1612.e(err);}finally{_iterator1612.f();}var _n693=t.querySelector(".attributes").children[_i1653];_n693?_n693.before(_l403):t.querySelector(".attributes").append(_l403);}_l403.querySelector(".value").textContent=_a298?n.substring(0,100):n,_l403.querySelector(".ellipsis").hidden=!_a298,i&&(_l403.setAttribute("highlighted",""),ts(500).then(function(){return _l403.removeAttribute("highlighted","");}));}1===this.selectedNodes.length&&this.selectedNodes[0]===s&&this.WP(t);}},{key:"YP",value:function YP(t){t.querySelector(".content").textContent=t[rw].textContent;}},{key:"$P",value:function $P(){var t=[];var _iterator1613=_createForOfIteratorHelper(this.selectedNodes),_step1613;try{for(_iterator1613.s();!(_step1613=_iterator1613.n()).done;){var _e1865=_step1613.value;var _i1655=!0;var _iterator1614=_createForOfIteratorHelper(this.selectedNodes),_step1614;try{for(_iterator1614.s();!(_step1614=_iterator1614.n()).done;){var _t2500=_step1614.value;if(_t2500!==_e1865&&_t2500.contains(_e1865)){_i1655=!1;break;}}}catch(err){_iterator1614.e(err);}finally{_iterator1614.f();}_i1655&&t.push(_e1865);}}catch(err){_iterator1613.e(err);}finally{_iterator1613.f();}return t;}},{key:"hD",value:function hD(t){var e;if("g"===t.localName&&t.hasAttribute("data-bx-workspace")){var _i1656=t.getAttribute("data-bx-workspace");e="master"===_i1656?G.svg:G[_i1656];}else e=G[t.nodeName]||[];return e;}},{key:"rD",value:function rD(t){var e=t;return t.startsWith("data-bx-")?e=t.replace("data-bx-","bx:"):"_href"===t&&(e="href"),e;}},{key:"qP",value:function qP(t){var e=function e(i){var _iterator1615=_createForOfIteratorHelper(i.children),_step1615;try{for(_iterator1615.s();!(_step1615=_iterator1615.n()).done;){var _s975=_step1615.value;var _i1657=_s975.getBoundingClientRect();if(t>=_i1657.y&&t<=_i1657.y+_i1657.height){if(_s975.hasAttribute("data-expanded")){var _t2501=_s975.querySelector(".subtree");return e(_t2501)||_s975;}return _s975;}}}catch(err){_iterator1615.e(err);}finally{_iterator1615.f();}return null;};return e(this["#tree"]);}}]);return cw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(cw,"observedAttributes",["enabled"]);_defineProperty(cw,"_shadowTemplate",qi(_templateObject538()));_defineProperty(cw,"_shadowStyleSheet",Xi(_templateObject539()));customElements.define("bx-dominspector",cw);var pw=Math.floor,uw=Math.ceil,xw=Number.isNaN,bw=Object.keys,mw=Symbol(),gw=Symbol(),fw=Zi(_templateObject88()),ww=function ww(t){return void 0!==F.find(function(e){return e.name===t;});},vw=function vw(t,e){return fw.style.removeProperty(t),fw.style.setProperty(t,e),""!==fw.style.getPropertyValue(t);};var yw=/*#__PURE__*/function(_HTMLElement135){_inherits(yw,_HTMLElement135);var _super236=_createSuper(yw);_createClass(yw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}},{key:"target",get:function get(){return this.dD;},set:function set(t){t!==this.dD&&(this.dD=t,this.qs());}}]);function yw(){var _this1078;_classCallCheck(this,yw);_this1078=_super236.call(this),_this1078.dD=null,_this1078.tabIndex=0,_this1078._shadowRoot=_this1078.attachShadow({mode:"closed"}),_this1078._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,yw._shadowStyleSheet],_this1078._shadowRoot.append(document.importNode(yw._shadowTemplate.content,!0));var _iterator1616=_createForOfIteratorHelper(_this1078._shadowRoot.querySelectorAll("[id]")),_step1616;try{for(_iterator1616.s();!(_step1616=_iterator1616.n()).done;){var _t2505=_step1616.value;_this1078["#"+_t2505.id]=_t2505;}}catch(err){_iterator1616.e(err);}finally{_iterator1616.f();}var t=!1,e=!1;_this1078["#cascade-items"].addEventListener("pointerdown",function(i){var s,_n694,o=new DOMPoint(i.clientX,i.clientY);t=!1,e=null!==_this1078["#cascade-items"].querySelector("[contenteditable]"),window.addEventListener("pointermove",s=function(_s976){function s(_x230){return _s976.apply(this,arguments);}s.toString=function(){return _s976.toString();};return s;}(function(e){var i=new DOMPoint(e.clientX,e.clientY);ze(o,i)>=3&&(window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n694),t=!0);})),window.addEventListener("pointerup",_n694=function n(){window.removeEventListener("pointermove",s),window.removeEventListener("pointerup",_n694);});}),_this1078["#cascade-items"].addEventListener("click",function(i){if(!1===t&&!1===i.target.hasAttribute("contenteditable")){var _t2502=_this1078._shadowRoot.elementFromPoint(i.clientX,i.clientY);if(_t2502.getRootNode()!==_this1078._shadowRoot&&(_t2502=null),i.target.matches(".property-item .name"))_this1078.cD(i.target);else if(i.target.matches(".property-item .value"))_this1078.pD(i.target);else if(i.target.matches(".prefix")){if(!1===e){var _t2503=i.target.closest(".cascade-item");_this1078.uD(_t2503,0);}}else if(i.target.closest(".property-item")&&!1===e&&i.target.matches(".property-item, .property-div")){var _t2504=i.target.closest(".cascade-item"),_e1866=i.target.closest(".property-item"),_s977=_toConsumableArray(i.target.closest(".properties").children).indexOf(_e1866);_this1078.uD(_t2504,_s977+1);}}}),_this1078["#cascade-items"].addEventListener("focusout",function(t){var e=_this1078["#cascade-items"].querySelector("span[contenteditable]");e&&(e.removeAttribute("contenteditable"),editableSpan.part.remove("input"));}),_this1078["#resize-grippie"].addEventListener("pointerdown",function(t){return _this1078.gu(t);});return _this1078;}_createClass(yw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.Js=Ii(this,"bx-editor");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){var _this1079=this;this.Js.board.addEventListener("workspacemutation",this.rn=function(t){_this1079.sl(t);}),this.style.width=this.Qs.getConfig("bx-csscascadeinspector:width",250)+"px";}},{key:"sn",value:function sn(){this.Js.board.removeEventListener("workspacemutation",this.rn);}},{key:"sl",value:function sl(t){var _iterator1617=_createForOfIteratorHelper(t.detail),_step1617;try{for(_iterator1617.s();!(_step1617=_iterator1617.n()).done;){var _e1867=_step1617.value;if("childList"===_e1867.type&&"style"===_e1867.target.localName){this.qs();break;}if("attributes"===_e1867.type&&_e1867.target===this.target){this.qs();break;}}}catch(err){_iterator1617.e(err);}finally{_iterator1617.f();}}},{key:"gu",value:function gu(t){var _this1080=this;if(1!==t.buttons)return;this["#resize-grippie"].setPointerCapture(t.pointerId);var e,_i1658,s=this.clientWidth,n=s;t.preventDefault(),this["#resize-grippie"].addEventListener("pointermove",e=function e(_e1868){n=s-(_e1868.clientX-t.clientX),n<80?n=80:n>400&&(n=400),_this1080.style.width=n+"px";}),this["#resize-grippie"].addEventListener("lostpointercapture",_i1658=function i(){_this1080["#resize-grippie"].removeEventListener("pointermove",e),_this1080["#resize-grippie"].removeEventListener("lostpointercapture",_i1658),_this1080.Qs.setConfig("bx-csscascadeinspector:width",n);});}},{key:"cD",value:function cD(t){var _this1081=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!1;var i,s,_n700,o,l=t.closest(".cascade-item"),a=t.closest(".property-item"),h=t.textContent.trim(),r=t.parentElement.querySelector(".value").textContent.trim(),d=this["#main"].scrollTop,c=qi(_templateObject89());r.endsWith("!important")&&(r=r.substring(0,r.indexOf("!important")).trim()),a.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=l.getAttribute("data-origin"),i=t.textContent.trim();if(""===i)""===h?a.remove():u();else if(i===h||!1===ww(i))t.textContent=h;else{_this1081.Js.board.undoManager.checkpoint("Rename styling property");var _t2506=[];var _iterator1618=_createForOfIteratorHelper(l.querySelector(".properties").children),_step1618;try{for(_iterator1618.s();!(_step1618=_iterator1618.n()).done;){var _e1871=_step1618.value;var _s980=_e1871.querySelector(".name").textContent.trim(),_n696=_e1871.querySelector(".value").textContent.trim(),_o541="";_n696.endsWith("!important")&&(_o541="!important",_n696=_n696.substring(0,_n696.indexOf("!important")).trim()),!1===vw(_s980,_n696)&&(_n696="initial",_o541=""),_e1871!==a&&_s980===i||_t2506.push([_s980,_n696,_o541]);}}catch(err){_iterator1618.e(err);}finally{_iterator1618.f();}if("style-attribute"===e)_t2506=_t2506.map(function(_ref198){var _ref199=_slicedToArray(_ref198,3),t=_ref199[0],e=_ref199[1],i=_ref199[2];return"".concat(t," : ").concat(e).concat(i,";");}),_this1081.target.setAttribute("style",_t2506.join(" "));else if("style-element"===e){var _e1869=l[mw],_i1659=_e1869.parentStyleSheet.ownerNode;for(var _i1660=0,_arr85=_toConsumableArray(_e1869.style);_i1660<_arr85.length;_i1660++){var _t2507=_arr85[_i1660];_e1869.style.removeProperty(_t2507);}var _iterator1619=_createForOfIteratorHelper(_t2506),_step1619;try{for(_iterator1619.s();!(_step1619=_iterator1619.n()).done;){var _step1619$value=_slicedToArray(_step1619.value,3),_i1661=_step1619$value[0],_s978=_step1619$value[1],_n695=_step1619$value[2];_e1869.style.setProperty(_i1661,_s978,_n695);}}catch(err){_iterator1619.e(err);}finally{_iterator1619.f();}Ch(_i1659);}else if("presentation-attributes"===e){var _e1870=l[gw];var _iterator1620=_createForOfIteratorHelper(_t2506),_step1620;try{for(_iterator1620.s();!(_step1620=_iterator1620.n()).done;){var _step1620$value=_slicedToArray(_step1620.value,2),_i1662=_step1620$value[0],_s979=_step1620$value[1];_e1870.hasAttribute(_i1662)&&_e1870.removeAttribute(_i1662),_e1870.setAttribute(_i1662,_s979);}}catch(err){_iterator1620.e(err);}finally{_iterator1620.f();}}}},u=function u(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin");if(_this1081.Js.board.undoManager.checkpoint("Remove styling property"),"style-attribute"===i)_this1081.target.style.removeProperty(h);else if("style-element"===i){var _t2508=e[mw],_i1663=_t2508.parentStyleSheet.ownerNode;_t2508.style.removeProperty(h),Ch(_i1663);}else if("presentation-attributes"===i){e[gw].removeAttribute(h);}Ii(_this1081,"[tabindex]").focus();},x=function x(){var e="",i=[];var _iterator1621=_createForOfIteratorHelper(F),_step1621;try{for(_iterator1621.s();!(_step1621=_iterator1621.n()).done;){var _e1875=_step1621.value;_e1875.name.startsWith(t.textContent)&&i.push(_e1875.name);}}catch(err){_iterator1621.e(err);}finally{_iterator1621.f();}for(var _i1665=0,_i1664=i;_i1665<_i1664.length;_i1665++){var _t2509=_i1664[_i1665];e+="<div class=\"item\" ".concat(_t2509===i[0]?"data-selected":"",">").concat(_t2509,"</div>");}if(c.innerHTML=e,c.hidden=i.length<=1,c.childElementCount>0){var _e1872="below";{var _i1666=t.getBoundingClientRect(),_s981=_this1081.getBoundingClientRect();_s981.bottom-_i1666.bottom<_i1666.top-_s981.top&&(_e1872="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1872){var _e1873=t.getBoundingClientRect(),_i1667=_this1081.getBoundingClientRect(),_s982=_this1081["#main"].scrollTop;c.style.left=_e1873.left-_i1667.left-6+"px",c.style.top=_e1873.bottom-_i1667.top+_s982+6+"px";var _n697=c.getBoundingClientRect();_n697.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n697.top-6+"px"),_n697.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n697.right-3+"px");}else if("above"===_e1872){var _e1874=t.getBoundingClientRect(),_i1668=_this1081.getBoundingClientRect(),_s983=_this1081["#main"].scrollTop;c.style.left=_e1874.left-_i1668.left-6+"px",c.style.bottom=_i1668.bottom-_e1874.top-_s983+6+"px";var _n698=c.getBoundingClientRect();if(_n698.top<_i1668.top-6){var _t2510=_i1668.top-_n698.top;c.style.height=_n698.height-_t2510-6+"px";}_n698.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n698.right-3+"px");}}},b=function b(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,b();{var _e1876=new Range();_e1876.selectNodeContents(t),_e1876.collapse(!1);var _i1669=window.getSelection();_i1669.removeAllRanges(),_i1669.addRange(_e1876);}}),this["#main"].addEventListener("scroll",o=function o(){!1===c.hidden?_this1081["#main"].scrollTop=d:d=_this1081["#main"].scrollTop;}),t.addEventListener("keydown",s=/*#__PURE__*/function(){var _ref200=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee237(e){var _t2511,_i1670,_t2512,_i1671,_e1877,_e1878,_e1879,_i1672,_i1673,_s984,_n699,_o542,_a299,_iterator1622,_step1622,_t2513,_i1674,_t2514;return regeneratorRuntime.wrap(function _callee237$(_context238){while(1){switch(_context238.prev=_context238.next){case 0:if(!("ArrowUp"===e.key)){_context238.next=4;break;}if(!1===c.hidden){e.preventDefault();_t2511=c.querySelector(".item[data-selected]"),_i1670=_t2511.previousElementSibling||c.lastElementChild;_t2511.removeAttribute("data-selected"),_i1670.setAttribute("data-selected",""),_i1670.scrollIntoViewIfNeeded(),b();}_context238.next=35;break;case 4:if(!("ArrowDown"===e.key)){_context238.next=8;break;}if(!1===c.hidden){e.preventDefault();_t2512=c.querySelector(".item[data-selected]"),_i1671=_t2512.nextElementSibling||c.firstElementChild;_t2512.removeAttribute("data-selected"),_i1671.setAttribute("data-selected",""),_i1671.scrollIntoViewIfNeeded(),b();}_context238.next=35;break;case 8:if(!("Enter"===e.key)){_context238.next=13;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1877=c.querySelector(".item[data-selected]");t.textContent=_e1877?_e1877.textContent:h;}Ii(_this1081,"[tabindex]").focus();_context238.next=35;break;case 13:if(!("Tab"===e.key||":"===e.key)){_context238.next=34;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context238.next=24;break;}_e1878=c.querySelector(".item[data-selected]");_e1878&&(t.textContent=_e1878.textContent);_e1879=new Range();_e1879.selectNodeContents(t),_e1879.collapse(!1);_i1672=window.getSelection();_i1672.removeAllRanges(),_i1672.addRange(_e1879);x(),b();_context238.next=32;break;case 24:_i1673=_toConsumableArray(_this1081["#cascade-items"].children).indexOf(l),_s984=t.textContent.trim();Ii(_this1081,"[tabindex]").focus();_context238.next=28;return ts(10);case 28:_n699=_this1081["#cascade-items"].children[_i1673],_o542=_toConsumableArray(_this1081["#cascade-items"].querySelectorAll(".name, .value")),_a299=null;_iterator1622=_createForOfIteratorHelper(_n699.querySelector(".properties").children);try{for(_iterator1622.s();!(_step1622=_iterator1622.n()).done;){_t2513=_step1622.value;_i1674=_t2513.querySelector(".name");if(_i1674.textContent===_s984){_t2514=_o542.indexOf(_i1674);_a299=!1===e.shiftKey?_o542[_t2514+1]||_o542[0]:_o542[_t2514-1]||_o542[_o542.length-1];}}}catch(err){_iterator1622.e(err);}finally{_iterator1622.f();}_a299&&(_a299.matches(".name")?_this1081.cD(_a299):_a299.matches(".value")&&_this1081.pD(_a299));case 32:_context238.next=35;break;case 34:if("Escape"===e.key){e.preventDefault(),t.textContent=h,Ii(_this1081,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault(),u());case 35:case"end":return _context238.stop();}}},_callee237);}));return function s(_x231){return _ref200.apply(this,arguments);};}()),t.addEventListener("input",i=function i(e){x(),b(),function(){var e=t.textContent;t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),ww(e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}();}),t.addEventListener("blur",_n700=function n(){p(),_this1081["#main"].removeEventListener("scroll",o),t.removeEventListener("keydown",s),t.removeEventListener("blur",_n700),t.removeAttribute("contenteditable"),t.part.remove("input"),t.removeAttribute("data-invalid"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1081._shadowRoot.getSelection().collapse(t),_this1081.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();});}},{key:"pD",value:function pD(t){var _this1082=this;var e,i,s,n,o=t.closest(".cascade-item"),l=t.closest(".property-item"),a=t.parentElement.querySelector(".name").textContent.trim(),h=t.textContent.trim(),r="",d=this["#main"].scrollTop,c=qi(_templateObject90());h.endsWith("!important")&&(r="important",h=h.substring(0,h.indexOf("!important")).trim()),l.append(c),t.setAttribute("contenteditable","plaintext-only"),t.part.add("input"),t.focus(),document.execCommand("selectAll"),this.dispatchEvent(new CustomEvent("textinputmodestart",{bubbles:!0,composed:!0}));var p=function p(){var e=t.closest(".cascade-item"),i=e.getAttribute("data-origin"),s=t.textContent.trim(),n="";if(s.endsWith("!important")&&(s=s.substring(0,s.indexOf("!important")),n="important"),!1===(s!==h||n!==r)||!1===vw(a,s))t.textContent=h,r&&(t.textContent+=" !"+r);else if(_this1082.Js.board.undoManager.checkpoint("Rename styling property"),"style-attribute"===i)_this1082.target.style.setProperty(a,s,n);else if("style-element"===i){var _t2515=e[mw],_i1675=_t2515.parentStyleSheet.ownerNode;_t2515.style.setProperty(a,s,n),Ch(_i1675);}else if("presentation-attributes"===i){e[gw].setAttribute(a,s);}},u=function u(){var e="",i=new Set();var _iterator1623=_createForOfIteratorHelper(F),_step1623;try{for(_iterator1623.s();!(_step1623=_iterator1623.n()).done;){var _e1880=_step1623.value;if(_e1880.name===a){var _iterator1625=_createForOfIteratorHelper(_e1880.values),_step1625;try{for(_iterator1625.s();!(_step1625=_iterator1625.n()).done;){var _s985=_step1625.value;if("token"===_s985.type||"token-list"===_s985.type){var _iterator1626=_createForOfIteratorHelper(_s985.tokens),_step1626;try{for(_iterator1626.s();!(_step1626=_iterator1626.n()).done;){var _e1881=_step1626.value;_e1881.startsWith(t.textContent)&&i.add(_e1881);}}catch(err){_iterator1626.e(err);}finally{_iterator1626.f();}}else if("color"===_s985.type){var _iterator1627=_createForOfIteratorHelper(bw(B)),_step1627;try{for(_iterator1627.s();!(_step1627=_iterator1627.n()).done;){var _e1882=_step1627.value;_e1882.startsWith(t.textContent)&&i.add(_e1882);}}catch(err){_iterator1627.e(err);}finally{_iterator1627.f();}}}}catch(err){_iterator1625.e(err);}finally{_iterator1625.f();}}}}catch(err){_iterator1623.e(err);}finally{_iterator1623.f();}i=_toConsumableArray(i);var _iterator1624=_createForOfIteratorHelper(i),_step1624;try{for(_iterator1624.s();!(_step1624=_iterator1624.n()).done;){var _t2516=_step1624.value;e+="<div class=\"item\" ".concat(_t2516===i[0]?"data-selected":"",">").concat(_t2516,"</div>");}}catch(err){_iterator1624.e(err);}finally{_iterator1624.f();}c.innerHTML=e,c.hidden=i.length<=1;},x=function x(){var e=c.querySelector(".item[data-selected]"),i="";e&&e.textContent.startsWith(t.textContent)&&(i=e.textContent.substring(t.textContent.length)),i.length>0?t.setAttribute("ghost",i):t.removeAttribute("ghost");};c.addEventListener("pointerdown",function(e){e.preventDefault();var i=e.target.closest(".item"),s=c.querySelector(".item[data-selected]");i.setAttribute("data-selected",""),s.removeAttribute("data-selected"),t.textContent=i.textContent,c.hidden=!0,x();{var _e1883=new Range();_e1883.selectNodeContents(t),_e1883.collapse(!1);var _i1676=window.getSelection();_i1676.removeAllRanges(),_i1676.addRange(_e1883);}}),this["#main"].addEventListener("scroll",n=function n(){!1===c.hidden?_this1082["#main"].scrollTop=d:d=_this1082["#main"].scrollTop;}),t.addEventListener("keydown",i=/*#__PURE__*/function(){var _ref201=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee238(e){var i,_t2517,_e1884,_e1885,_s986,_n701,_o543,_l404,_e1886,_i1677,_t2518,_t2519,_a300,_h232,_r154,_d121,_c92,_t2520,_p80,_u66,_x233,_e1887,_e1888,_e1889,_i1678,_t2521,_i1679,_s987,_n702,_iterator1628,_step1628,_t2522,_i1680,_t2523;return regeneratorRuntime.wrap(function _callee238$(_context239){while(1){switch(_context239.prev=_context239.next){case 0:i=so.fromEvent(e);if(!(i.matches("ArrowUp")||i.matches("ArrowDown")||i.matches("Shift","ArrowUp")||i.matches("Shift","ArrowDown"))){_context239.next=5;break;}if(!1===c.hidden){e.preventDefault();_t2517=c.querySelector(".item[data-selected]");if(_t2517.removeAttribute("data-selected"),"ArrowUp"===e.key){_e1884=_t2517.previousElementSibling||c.lastElementChild;_e1884.setAttribute("data-selected",""),_e1884.scrollIntoViewIfNeeded();}else if("ArrowDown"===e.key){_e1885=_t2517.nextElementSibling||c.firstElementChild;_e1885.setAttribute("data-selected",""),_e1885.scrollIntoViewIfNeeded();}x();}else{e.preventDefault(),e.stopPropagation();_s986=_this1082._shadowRoot.getSelection();if(_s986.rangeCount>0){_n701=_s986.getRangeAt(0),_o543=_n701.startOffset,_l404=_n701.startOffset;{_e1886=t.textContent,_i1677=['"',"'",":",";",",","(",")"," ","\xa0","\t","\n"];for(_t2518=_n701.startOffset;_t2518<=_e1886.length&&(_l404=_t2518,!_i1677.includes(_e1886[_t2518]));_t2518+=1){;}for(_t2519=_n701.startOffset-1;_t2519>=0&&!_i1677.includes(_e1886[_t2519]);_t2519-=1){_o543=_t2519;}}if(_o543!==_l404){_a300=t.textContent.substring(_o543,_l404);if(!1===xw(parseFloat(_a300))){_h232="",_r154="",_d121=/[^\d-\.]+/.exec(_a300),_c92=parseFloat(_a300);if(e.preventDefault(),_d121){_t2520=_d121.index+_d121[0].length;_n701.startOffset>_o543+_d121.index&&_t2520<_a300.length&&_n701.startOffset!==_o543?(_h232=_a300.substring(0,_t2520),_a300=_a300.substring(_t2520)):(_r154=_a300.substring(_d121.index),_a300=_a300.substring(0,_d121.index));}i.matches("ArrowUp")?_c92=pw(_c92)+1:i.matches("ArrowDown")?_c92=uw(_c92)-1:i.matches("Shift","ArrowUp")?_c92=pw(_c92)+10:i.matches("Shift","ArrowDown")&&(_c92=uw(_c92)-10);_p80=_h232+_c92+_r154,_u66=t.textContent;_u66=_u66.substring(0,_o543)+_p80+_u66.substring(_l404),t.textContent=_u66;_x233=document.createRange();_x233.setStart(t.firstChild,_o543),_x233.setEnd(t.firstChild,_o543+_p80.length),_s986.removeAllRanges(),_s986.addRange(_x233);}}}}_context239.next=32;break;case 5:if(!("Enter"===e.key)){_context239.next=10;break;}if(e.preventDefault(),!1===c.hidden||t.hasAttribute("ghost")){_e1887=c.querySelector(".item[data-selected]");t.textContent=_e1887?_e1887.textContent:r?h+"!"+r:h;}Ii(_this1082,"[tabindex]").focus();_context239.next=32;break;case 10:if(!("Tab"===e.key)){_context239.next=31;break;}if(!(e.preventDefault(),t.hasAttribute("ghost"))){_context239.next=21;break;}_e1888=c.querySelector(".item[data-selected]");_e1888&&(t.textContent=_e1888.textContent);_e1889=new Range();_e1889.selectNodeContents(t),_e1889.collapse(!1);_i1678=window.getSelection();_i1678.removeAllRanges(),_i1678.addRange(_e1889);u(),x();_context239.next=29;break;case 21:_t2521=_toConsumableArray(_this1082["#cascade-items"].children).indexOf(o);Ii(_this1082,"[tabindex]").focus();_context239.next=25;return ts(10);case 25:_i1679=_this1082["#cascade-items"].children[_t2521],_s987=_toConsumableArray(_this1082["#cascade-items"].querySelectorAll(".name, .value")),_n702=null;_iterator1628=_createForOfIteratorHelper(_i1679.querySelector(".properties").children);try{for(_iterator1628.s();!(_step1628=_iterator1628.n()).done;){_t2522=_step1628.value;_i1680=_t2522.querySelector(".name");if(_i1680.textContent===a){_t2523=_s987.indexOf(_i1680);_n702=!1===e.shiftKey?_s987[_t2523+2]||_s987[0]:_s987[_t2523]||_s987[_s987.length-1];}}}catch(err){_iterator1628.e(err);}finally{_iterator1628.f();}_n702&&(_n702.matches(".name")?_this1082.cD(_n702):_n702.matches(".value")&&_this1082.pD(_n702));case 29:_context239.next=32;break;case 31:if("Escape"===e.key){e.preventDefault(),t.textContent=r?h+"!"+r:h,Ii(_this1082,"[tabindex]").focus();}else"Backspace"===e.key&&""===t.textContent&&(e.stopPropagation(),e.preventDefault());case 32:case"end":return _context239.stop();}}},_callee238);}));return function i(_x232){return _ref201.apply(this,arguments);};}()),t.addEventListener("input",e=function e(){if(u(),x(),function(){var e=t.textContent.trim();e.endsWith("!important")&&(e=e.substring(0,e.indexOf("!important"))),t.hasAttribute("ghost")&&(e+=t.getAttribute("ghost")),vw(a,e)?(t.removeAttribute("data-invalid"),t.part.remove("invalid-input")):(t.setAttribute("data-invalid",""),t.part.add("invalid-input"));}(),c.childElementCount>0){var _e1890="below";{var _i1681=t.getBoundingClientRect(),_s988=_this1082.getBoundingClientRect();_s988.bottom-_i1681.bottom<_i1681.top-_s988.top&&(_e1890="above");}if(c.style.top=null,c.style.bottom=null,c.style.left=null,c.style.width=null,c.style.height=null,"below"===_e1890){var _e1891=t.getBoundingClientRect(),_i1682=_this1082.getBoundingClientRect(),_s989=_this1082["#main"].scrollTop;c.style.left=_e1891.left-_i1682.left-6+"px",c.style.top=_e1891.bottom-_i1682.top+_s989+6+"px";var _n703=c.getBoundingClientRect();_n703.bottom>window.innerHeight-6&&(c.style.height=window.innerHeight-_n703.top-6+"px"),_n703.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n703.right-3+"px");}else if("above"===_e1890){var _e1892=t.getBoundingClientRect(),_i1683=_this1082.getBoundingClientRect(),_s990=_this1082["#main"].scrollTop;c.style.left=_e1892.left-_i1683.left-6+"px",c.style.bottom=_i1683.bottom-_e1892.top-_s990+6+"px";var _n704=c.getBoundingClientRect();if(_n704.top<_i1683.top-6){var _t2524=_i1683.top-_n704.top;c.style.height=_n704.height-_t2524-6+"px";}_n704.right>window.innerWidth-3&&(c.style.width=window.innerWidth-_n704.right-3+"px");}}}),t.addEventListener("blur",s=function(_s991){function s(){return _s991.apply(this,arguments);}s.toString=function(){return _s991.toString();};return s;}(function(){p(),_this1082["#main"].removeEventListener("scroll",n),t.removeEventListener("keydown",i),t.removeEventListener("blur",s),t.removeAttribute("contenteditable"),t.removeAttribute("data-invalid"),t.part.remove("input"),t.part.remove("invalid-input"),t.removeAttribute("ghost"),_this1082._shadowRoot.getSelection().collapse(t),_this1082.dispatchEvent(new CustomEvent("textinputmodeend",{bubbles:!0,composed:!0})),c.remove();}));}},{key:"uD",value:function uD(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=qi(_templateObject91()),s=t.querySelector(".properties");e===s.childElementCount?s.append(i):s.children[e].before(i),this.cD(i.querySelector(".name"),!0);}},{key:"qs",value:function qs(){var _this1083=this;this.dD;var t=[];if(this["#cascade-items"].innerHTML="",this.dD){(function(){var e=_this1083.dD.closest("[data-bx-workspace]");for(var _i1684=_this1083.dD;e.contains(_i1684);_i1684=_i1684.parentElement){var _s992=_i1684!==_this1083.dD;if(_i1684.style.length>0||_i1684===_this1083.dD){var _t2525=_this1083.xD(_i1684),_e1893=qi(_templateObject92(),_s992?"Inherited from <code>".concat(_t2525,"</code>"):"");var _iterator1629=_createForOfIteratorHelper(_i1684.style),_step1629;try{for(_iterator1629.s();!(_step1629=_iterator1629.n()).done;){var _t2526=_step1629.value;if(!_s992||!1!==_h(_t2526)){var _s993=_i1684.style.getPropertyValue(_t2526),_n705=_i1684.style.getPropertyPriority(_t2526),_o544=qi(_templateObject93(),_t2526,_s993+("important"===_n705?" !important":""));_e1893.children[2].append(_o544);}}}catch(err){_iterator1629.e(err);}finally{_iterator1629.f();}_this1083["#cascade-items"].append(_e1893);}{var _n706=Mh(_i1684);_n706=_n706.filter(function(t){return!t.parentStyleSheet||!1!==e.contains(t.parentStyleSheet.ownerNode);});var _iterator1630=_createForOfIteratorHelper(_n706),_step1630;try{for(_iterator1630.s();!(_step1630=_iterator1630.n()).done;){var _e1894=_step1630.value;if(!1===t.includes(_e1894)){var _n707=[];var _iterator1631=_createForOfIteratorHelper(_e1894.style),_step1631;try{for(_iterator1631.s();!(_step1631=_iterator1631.n()).done;){var _t2528=_step1631.value;if(!1===_s992||!0===_h(_t2528)){var _i1686=_e1894.style.getPropertyValue(_t2528),_s995=_e1894.style.getPropertyPriority(_t2528);_s995="important"===_s995?" !important":"",_n707.push([_t2528,_i1686,_s995]);}}}catch(err){_iterator1631.e(err);}finally{_iterator1631.f();}if(_n707.length>0){var _o545=_this1083.xD(_i1684),_l405=qi(_templateObject94(),_s992?"Inherited from <span>".concat(_o545,"</span>"):"",_e1894.selectorText);var _iterator1632=_createForOfIteratorHelper(_n707),_step1632;try{for(_iterator1632.s();!(_step1632=_iterator1632.n()).done;){var _step1632$value=_slicedToArray(_step1632.value,3),_t2527=_step1632$value[0],_e1895=_step1632$value[1],_i1685=_step1632$value[2];var _s994=qi(_templateObject95(),_t2527,_e1895+("important"===_i1685?" !important":""));_l405.children[2].append(_s994);}}catch(err){_iterator1632.e(err);}finally{_iterator1632.f();}_l405[mw]=_e1894,_this1083["#cascade-items"].append(_l405),t.push(_e1894);}}}}catch(err){_iterator1630.e(err);}finally{_iterator1630.f();}}{var _t2529=[];var _iterator1633=_createForOfIteratorHelper(_i1684.attributes),_step1633;try{var _loop50=function _loop50(){var _step1633$value=_step1633.value,e=_step1633$value.name,n=_step1633$value.value;var i=F.filter(function(t){return t.presentationAttributeName===e;}),o=i.find(function(t){return t.appliesTo.includes(_this1083.dD.localName);})||i[0];o&&(!1!==_s992&&!0!==o.inheritable||_t2529.push({name:e,value:n}));};for(_iterator1633.s();!(_step1633=_iterator1633.n()).done;){_loop50();}}catch(err){_iterator1633.e(err);}finally{_iterator1633.f();}if(_t2529.length>0){var _e1896=_this1083.xD(_i1684),_n708=_s992?"Inherited from <span>".concat(_e1896,"</span>"):"",_o546="".concat(_i1684.localName,"[Presentation attributes]"),_l406=qi(_templateObject96(),_n708,_o546);var _iterator1634=_createForOfIteratorHelper(_t2529),_step1634;try{for(_iterator1634.s();!(_step1634=_iterator1634.n()).done;){var _step1634$value=_step1634.value,_e1897=_step1634$value.name,_i1687=_step1634$value.value;var _t2530=qi(_templateObject97(),_e1897,_i1687);_l406.children[2].append(_t2530);}}catch(err){_iterator1634.e(err);}finally{_iterator1634.f();}_l406[gw]=_i1684,_this1083["#cascade-items"].append(_l406);}}}})();}}},{key:"bD",value:function bD(t){var e,i=function i(t){return _toConsumableArray(stylesheet.cssRules);},s=[],n=i(sheet);for(;e=n.shift();){e.type===CSSRule.MEDIA_RULE?n=i().concat(n):e.type===CSSRule.STYLE_RULE&&element.matches(e.selectorText)&&s.push(e);}return s;}},{key:"xD",value:function xD(t){var e="";if(t.hasAttribute("data-bx-workspace")){var _i1688=t.getAttribute("data-bx-workspace");e+="master"===_i1688?"svg":_i1688;}else e+="g";return t.id.length>0&&(e+="#"+t.id),t.classList.length>0&&(e+="."+_toConsumableArray(t.classList).join(".")),e;}}]);return yw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(yw,"observedAttributes",["enabled"]);_defineProperty(yw,"_shadowTemplate",qi(_templateObject540()));_defineProperty(yw,"_shadowStyleSheet",Xi(_templateObject541()));customElements.define("bx-csscascadeinspector",yw);var kw=/*#__PURE__*/function(_HTMLElement136){_inherits(kw,_HTMLElement136);var _super237=_createSuper(kw);_createClass(kw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function kw(){var _this1084;_classCallCheck(this,kw);_this1084=_super237.call(this),_this1084._shadowRoot=_this1084.attachShadow({mode:"closed"}),_this1084._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,kw._shadowStyleSheet],_this1084._shadowRoot.append(document.importNode(kw._shadowTemplate.content,!0));var _iterator1635=_createForOfIteratorHelper(_this1084._shadowRoot.querySelectorAll("[id]")),_step1635;try{for(_iterator1635.s();!(_step1635=_iterator1635.n()).done;){var t=_step1635.value;_this1084["#"+t.id]=t;}}catch(err){_iterator1635.e(err);}finally{_iterator1635.f();}_this1084["#dom-inspector"].addEventListener("selectednodeschange",function(){return _this1084.mD();});return _this1084;}_createClass(kw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){this["#dom-inspector"].enabled=!0,this["#css-cascade-inspector"].enabled=!0;}},{key:"sn",value:function sn(){this["#dom-inspector"].enabled=!1,this["#css-cascade-inspector"].enabled=!1;}},{key:"mD",value:function mD(){var t=this["#dom-inspector"].selectedNodes;1===t.length&&t[0].nodeType===document.ELEMENT_NODE?this["#css-cascade-inspector"].target=t[0]:this["#css-cascade-inspector"].target=null;}}]);return kw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(kw,"observedAttributes",["enabled"]);_defineProperty(kw,"_shadowTemplate",qi(_templateObject542()));_defineProperty(kw,"_shadowStyleSheet",Xi(_templateObject543()));customElements.define("bx-elementspanel",kw);var Sw=/*#__PURE__*/function(_HTMLElement137){_inherits(Sw,_HTMLElement137);var _super238=_createSuper(Sw);_createClass(Sw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Sw(){var _this1085;_classCallCheck(this,Sw);_this1085=_super238.call(this),_this1085._shadowRoot=_this1085.attachShadow({mode:"closed"}),_this1085._shadowRoot.adoptedStyleSheets=[Sw._shadowStyleSheet],_this1085._shadowRoot.append(document.importNode(Sw._shadowTemplate.content,!0));var _iterator1636=_createForOfIteratorHelper(_this1085._shadowRoot.querySelectorAll("[id]")),_step1636;try{for(_iterator1636.s();!(_step1636=_iterator1636.n()).done;){var t=_step1636.value;_this1085["#"+t.id]=t;}}catch(err){_iterator1636.e(err);}finally{_iterator1636.f();}return _this1085;}_createClass(Sw,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return Sw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Sw,"observedAttributes",["enabled"]);_defineProperty(Sw,"_shadowTemplate",qi(_templateObject544()));_defineProperty(Sw,"_shadowStyleSheet",Xi(_templateObject545()));customElements.define("bx-codepanel",Sw);var _w=/*#__PURE__*/function(_HTMLElement138){_inherits(_w,_HTMLElement138);var _super239=_createSuper(_w);_createClass(_w,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function _w(){var _this1086;_classCallCheck(this,_w);_this1086=_super239.call(this),_this1086._shadowRoot=_this1086.attachShadow({mode:"closed"}),_this1086._shadowRoot.adoptedStyleSheets=[_w._shadowStyleSheet],_this1086._shadowRoot.append(document.importNode(_w._shadowTemplate.content,!0));var _iterator1637=_createForOfIteratorHelper(_this1086._shadowRoot.querySelectorAll("[id]")),_step1637;try{for(_iterator1637.s();!(_step1637=_iterator1637.n()).done;){var t=_step1637.value;_this1086["#"+t.id]=t;}}catch(err){_iterator1637.e(err);}finally{_iterator1637.f();}return _this1086;}_createClass(_w,[{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return _w;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(_w,"observedAttributes",["enabled"]);_defineProperty(_w,"_shadowTemplate",qi(_templateObject546()));_defineProperty(_w,"_shadowStyleSheet",Xi(_templateObject547()));customElements.define("bx-animationpanel",_w);var Cw=Object.defineProperty;var Mw=/*#__PURE__*/function(_HTMLElement139){_inherits(Mw,_HTMLElement139);var _super240=_createSuper(Mw);_createClass(Mw,[{key:"board",get:function get(){return this._shadowRoot.querySelector("#board");}},{key:"offscreenBoard",get:function get(){return this._shadowRoot.querySelector("#offscreen-board");}},{key:"toolsDock",get:function get(){return this["#tools-dock"];}},{key:"primaryPanelsDock",get:function get(){return this["#primary-panels-dock"];}},{key:"secondaryPanelsDock",get:function get(){return this["#secondary-panels-dock"];}},{key:"colorGrabber",get:function get(){return this["#color-grabber"];}},{key:"objectGrabber",get:function get(){return this["#object-grabber"];}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Mw(){var _temp51,_this1087;_classCallCheck(this,Mw);(_temp51=_this1087=_super240.call(this),_defineProperty(_assertThisInitialized(_this1087),"commands",{"import":{enabled:function enabled(){return!0;},exec:function exec(){return _this1087.gD();}},"export":{enabled:function enabled(){return!0;},exec:function exec(){return _this1087.fD();}},undo:{enabled:function enabled(){return _this1087.wD();},exec:function exec(){return _this1087.vD();}},redo:{enabled:function enabled(){return _this1087.yD();},exec:function exec(){return _this1087.kD();}},copy:{enabled:function enabled(){return _this1087.Qs.textInputMode||_this1087.board.selectedElements.length>0;},exec:function exec(){return _this1087.SD();}},cut:{enabled:function enabled(){return _this1087.Qs.textInputMode||_this1087.board.selectedElements.length>0;},exec:function exec(){return _this1087._D();}},paste:{exec:function exec(){return _this1087.CD();}},duplicate:{enabled:function enabled(){return _this1087.board.selectedObjectElements.length>0;},exec:function exec(){return _this1087.MD();}},"delete":{enabled:function enabled(){return _this1087.PD();},exec:function exec(){return _this1087.DD();}},selectAll:{exec:function exec(){return _this1087.Sd();}},deselectAll:{enabled:function enabled(){return _this1087.board.selectedElements.length>0;},exec:function exec(){return _this1087.$d();}},manualGuides:{exec:function exec(){return _this1087.board.showManualGuides=!_this1087.board.showManualGuides;}},smartGuides:{exec:function exec(){return _this1087.board.showSmartGuides=!_this1087.board.showSmartGuides;}},grid:{exec:function exec(){return _this1087.board.showGrid=!_this1087.board.showGrid;}},transparency:{exec:function exec(){return _this1087.board.showTransparency=!_this1087.board.showTransparency;}},views:{exec:function exec(){return _this1087.board.showViews=!_this1087.board.showViews;}},zoomIn:{exec:function exec(){return _this1087.board.zoomIn();}},zoomOut:{exec:function exec(){return _this1087.board.zoomOut();}},resetZoom:{enabled:function enabled(){return 100!==_this1087.board.zoom;},exec:function exec(){return _this1087.board.zoom=100;}},zoomToFitAllViews:{enabled:function enabled(){return _this1087.board.canZoomToFitAllViews();},exec:function exec(){return _this1087.board.zoomToFitAllViews();}},zoomToFitAllObjects:{enabled:function enabled(){return _this1087.board.canZoomToFitAllObjects();},exec:function exec(){return _this1087.board.zoomToFitAllObjects();}},zoomToFitSelectedObjects:{enabled:function enabled(){return _this1087.board.canZoomToFitSelectedObjects();},exec:function exec(){return _this1087.board.zoomToFitSelectedObjects("center");}},group:{enabled:function enabled(){return _this1087.zD();},exec:function exec(){return _this1087.OD();}},ungroup:{enabled:function enabled(){return _this1087.ED();},exec:function exec(){return _this1087.TD();}},clip:{enabled:function enabled(){return _this1087.AD();},exec:function exec(){return _this1087.$D();}},unclip:{enabled:function enabled(){return _this1087.ID();},exec:function exec(){return _this1087.LD();}},mask:{enabled:function enabled(){return _this1087.BD();},exec:function exec(){return _this1087.RD();}},unmask:{enabled:function enabled(){return _this1087.GD();},exec:function exec(){return _this1087.FD();}},increaseOpacity:{enabled:function enabled(){return _this1087.UD();},exec:function exec(){return _this1087.ND();}},decreaseOpacity:{enabled:function enabled(){return _this1087.VD();},exec:function exec(){return _this1087.jD();}},increaseFillOpacity:{enabled:function enabled(){return _this1087.HD();},exec:function exec(){return _this1087.YD();}},decreaseFillOpacity:{enabled:function enabled(){return _this1087.WD();},exec:function exec(){return _this1087.qD();}},increaseStrokeOpacity:{enabled:function enabled(){return _this1087.XD();},exec:function exec(){return _this1087.ZD();}},decreaseStrokeOpacity:{enabled:function enabled(){return _this1087.KD();},exec:function exec(){return _this1087.QD();}},raise:{enabled:function enabled(){return _this1087.JD();},exec:function exec(){return _this1087.tz();}},raiseToFront:{enabled:function enabled(){return _this1087.JD();},exec:function exec(){return _this1087.ez();}},lower:{enabled:function enabled(){return _this1087.iz();},exec:function exec(){return _this1087.sz();}},lowerToBack:{enabled:function enabled(){return _this1087.iz();},exec:function exec(){return _this1087.nz();}},rotateClockwise:{enabled:function enabled(){return _this1087.oz();},exec:function exec(){return _this1087.lz(90);}},rotateCounterclockwise:{enabled:function enabled(){return _this1087.oz();},exec:function exec(){return _this1087.lz(-90);}},flipX:{enabled:function enabled(){return _this1087.az();},exec:function exec(){return _this1087.hz("x");}},flipY:{enabled:function enabled(){return _this1087.az();},exec:function exec(){return _this1087.hz("y");}},removeTransform:{enabled:function enabled(){return _this1087.rz();},exec:function exec(){return _this1087.dz();}},reduceTransform:{enabled:function enabled(){return _this1087.cz();},exec:function exec(){return _this1087.pz();}},moveOneUnitLeft:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(1,"left");}},moveOneUnitRight:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(1,"right");}},moveOneUnitUp:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(1,"up");}},moveOneUnitDown:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(1,"down");}},moveTenUnitsLeft:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(10,"left");}},moveTenUnitsRight:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(10,"right");}},moveTenUnitsUp:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(10,"up");}},moveTenUnitsDown:{enabled:function enabled(){return _this1087.uz();},exec:function exec(){return _this1087.xz(10,"down");}},grabPaintColor:{enabled:function enabled(){return _this1087.bz();},exec:function exec(){return _this1087.mz();}},reorient:{enabled:function enabled(){return _this1087.gz();},exec:function exec(){return _this1087.fz();}},reverse:{enabled:function enabled(){return _this1087.wz();},exec:function exec(){return _this1087.vz();}},shapeToPath:{enabled:function enabled(){return _this1087.yz();},exec:function exec(){return _this1087.kz();}},strokeToPath:{enabled:function enabled(){return _this1087.Sz();},exec:function exec(){return _this1087._z();}},unite:{enabled:function enabled(){return _this1087.Cz("unite");},exec:function exec(){return _this1087.Mz("unite");}},subtract:{enabled:function enabled(){return _this1087.Cz("subtract");},exec:function exec(){return _this1087.Mz("subtract");}},intersect:{enabled:function enabled(){return _this1087.Cz("intersect");},exec:function exec(){return _this1087.Mz("intersect");}},exclude:{enabled:function enabled(){return _this1087.Cz("exclude");},exec:function exec(){return _this1087.Mz("exclude");}},joinPaths:{enabled:function enabled(){return _this1087.Pz();},exec:function exec(){return _this1087.Dz();}},splitPath:{enabled:function enabled(){return _this1087.zz();},exec:function exec(){return _this1087.Oz();}},openPath:{enabled:function enabled(){return _this1087.Ez();},exec:function exec(){return _this1087.Tz();}},closePath:{enabled:function enabled(){return _this1087.Az();},exec:function exec(){return _this1087.$z();}},insetPath:{enabled:function enabled(){return _this1087.Iz();},exec:function exec(){return _this1087.Lz(-1);}},outsetPath:{enabled:function enabled(){return _this1087.Iz();},exec:function exec(){return _this1087.Lz(1);}},simplifyPath:{enabled:function enabled(){return _this1087.Bz();},exec:function exec(){return _this1087.Rz();}},complexifyPath:{enabled:function enabled(){return _this1087.Gz();},exec:function exec(){return _this1087.Fz();}},joinNodes:{enabled:function enabled(){return _this1087.Uz();},exec:function exec(){return _this1087.Nz();}},splitNode:{enabled:function enabled(){return _this1087.Vz();},exec:function exec(){return _this1087.jz();}},deleteNode:{enabled:function enabled(){return _this1087.Yz();},exec:function exec(){return _this1087.Wz();}},breakNode:{enabled:function enabled(){return _this1087.qz();},exec:function exec(){return _this1087.Xz();}},previousTool:{enabled:function enabled(){return _this1087.Zz();},exec:function exec(){return _this1087.togglePreviousTool();}},transformTool:{exec:function exec(){return _this1087.toggleTool("transform-tool");}},editTool:{exec:function exec(){return _this1087.toggleTool("edit-tool");}},panTool:{exec:function exec(){return _this1087.toggleTool("pan-tool");}},quadBezierTool:{exec:function exec(){return _this1087.toggleTool("quad-bezier-tool");}},cubicBezierTool:{exec:function exec(){return _this1087.toggleTool("cubic-bezier-tool");}},arcTool:{exec:function exec(){return _this1087.toggleTool("arc-tool");}},freehandTool:{exec:function exec(){return _this1087.toggleTool("freehand-tool");}},blobTool:{exec:function exec(){return _this1087.toggleTool("blob-tool");}},textTool:{exec:function exec(){return _this1087.toggleTool("text-tool");}},textPathTool:{exec:function exec(){return _this1087.toggleTool("text-path-tool");}},viewTool:{exec:function exec(){return _this1087.toggleTool("view-tool");}},rectTool:{exec:function exec(){return _this1087.toggleTool("rect-tool");}},circleTool:{exec:function exec(){return _this1087.toggleTool("circle-tool");}},ellipseTool:{exec:function exec(){return _this1087.toggleTool("ellipse-tool");}},ringTool:{exec:function exec(){return _this1087.toggleTool("ring-tool");}},pieTool:{exec:function exec(){return _this1087.toggleTool("pie-tool");}},crescentTool:{exec:function exec(){return _this1087.toggleTool("crescent-tool");}},triangleTool:{exec:function exec(){return _this1087.toggleTool("triangle-tool");}},nGonTool:{exec:function exec(){return _this1087.toggleTool("n-gon-tool");}},starTool:{exec:function exec(){return _this1087.toggleTool("star-tool");}},cogTool:{exec:function exec(){return _this1087.toggleTool("cog-tool");}},arrowTool:{exec:function exec(){return _this1087.toggleTool("arrow-tool");}},crossTool:{exec:function exec(){return _this1087.toggleTool("cross-tool");}},spiralTool:{exec:function exec(){return _this1087.toggleTool("spiral-tool");}},lineTool:{exec:function exec(){return _this1087.toggleTool("line-tool");}},polylineTool:{exec:function exec(){return _this1087.toggleTool("polyline-tool");}},polygonTool:{exec:function exec(){return _this1087.toggleTool("polygon-tool");}},fillPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("fill-panel");}},strokePanel:{exec:function exec(){return _this1087.togglePrimaryPanel("stroke-panel");}},compositingPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("compositing-panel");}},typographyPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("typography-panel");}},geometryPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("geometry-panel");}},metaPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("meta-panel");}},shapePanel:{exec:function exec(){return _this1087.togglePrimaryPanel("shape-panel");}},arrangementPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("arrangement-panel");}},viewPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("view-panel");}},generatorsPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("generators-panel");}},exportPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("export-panel");}},libraryPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("library-panel");}},defsPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("defs-panel");}},objectsPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("objects-panel");}},historyPanel:{exec:function exec(){return _this1087.togglePrimaryPanel("history-panel");}},elementsPanel:{exec:function exec(){return _this1087.toggleSecondaryPanel("elements-panel");}},codePanel:{exec:function exec(){return _this1087.toggleSecondaryPanel("code-panel");}},animationPanel:{exec:function exec(){return _this1087.toggleSecondaryPanel("animation-panel");}}}),_temp51),_this1087.Kz=null,_this1087.Qz=null,_this1087.Jz=!1,_this1087._shadowRoot=_this1087.attachShadow({mode:"closed"}),_this1087._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Mw._shadowStyleSheet],_this1087._shadowRoot.append(document.importNode(Mw._shadowTemplate.content,!0));var _iterator1638=_createForOfIteratorHelper(_this1087._shadowRoot.querySelectorAll("[id]")),_step1638;try{for(_iterator1638.s();!(_step1638=_iterator1638.n()).done;){var t=_step1638.value;_this1087["#"+t.id]=t;}}catch(err){_iterator1638.e(err);}finally{_iterator1638.f();}var _loop51=function _loop51(){var t=_arr86[_i1689];Cw(_assertThisInitialized(_this1087),li(t.id),{get:function get(){return t;}});};for(var _i1689=0,_arr86=[].concat(_toConsumableArray(_this1087["#primary-panels-dock"].children),_toConsumableArray(_this1087["#secondary-panels-dock"].children));_i1689<_arr86.length;_i1689++){_loop51();}_this1087.board.undoManager.addEventListener("change",function(t){return _this1087.TP(t);}),_this1087["#tools-dock"].addEventListener("toggle",function(){return _this1087.qs();}),_this1087["#primary-panels-dock"].addEventListener("toggle",function(){return _this1087.qs();}),_this1087["#color-grabber"].addEventListener("blur",function(){return _this1087.focus();}),_this1087["#object-grabber"].addEventListener("blur",function(){return _this1087.focus();});return _this1087;}_createClass(Mw,[{key:"connectedCallback",value:function(){var _connectedCallback8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee239(){var t,_e1898,_t2531,_iterator1639,_step1639,_e1899,_t2532,_t2533;return regeneratorRuntime.wrap(function _callee239$(_context240){while(1){switch(_context240.prev=_context240.next){case 0:if(!(this.Qs=Ii(this,"#app"),this.tabIndex=0,!1===this.Jz)){_context240.next=10;break;}if(!(this.Jz=!0,this.qs(),window.argv.includes("--debug"))){_context240.next=9;break;}t=window.argv.filter(function(t){return t.startsWith("--")&&t.endsWith("-panel");}),_e1898=window.argv.find(function(t){return t.startsWith("--")&&t.endsWith("-tool");});if(_e1898){_t2531=_e1898.substring(2);this.toggleTool(_t2531);}if(!(t.length>0)){_context240.next=9;break;}_context240.next=7;return ts(500);case 7:_iterator1639=_createForOfIteratorHelper(t);try{for(_iterator1639.s();!(_step1639=_iterator1639.n()).done;){_e1899=_step1639.value;_t2532=_e1899.substring(2);this.primaryPanelsDock.querySelector("#"+_t2532)?this.togglePrimaryPanel(_t2532):this.secondaryPanelsDock.querySelector("#"+_t2532)&&this.toggleSecondaryPanel(_t2532);}}catch(err){_iterator1639.e(err);}finally{_iterator1639.f();}case 9:if(window.argv.includes("--select")){_t2533=window.argv[window.argv.indexOf("--select")+1];_t2533&&(this.board.selectedElements=_toConsumableArray(this.board.currentWorkspace.querySelectorAll(_t2533)));}case 10:case"end":return _context240.stop();}}},_callee239,this);}));function connectedCallback(){return _connectedCallback8.apply(this,arguments);}return connectedCallback;}()},{key:"TP",value:function TP(t){this.dispatchEvent(new CustomEvent("change",{bubbles:!0,detail:t.detail}));}},{key:"qs",value:function qs(){var t=this["#tools-dock"].value,e=this["#primary-panels-dock"].value;t!==this.Kz&&(this.Qz=this.Kz,this.Kz=t),"transform-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="transform",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!0,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!0,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"edit-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!0,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!0,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"pan-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!0,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"cubic-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!0,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"quad-bezier-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!0,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"arc-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!0,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"freehand-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!0,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!0,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"blob-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!0,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!0,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-tool"===t?(this["#board"].outlineHud.enabled=!0,this["#board"].outlineHud.context="edit-text",this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!0,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!0,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"text-path-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!0,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"view-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!0,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!0):["rect-tool","circle-tool","ellipse-tool","ring-tool","pie-tool","crescent-tool","triangle-tool","n-gon-tool","star-tool","cog-tool","arrow-tool","cross-tool","spiral-tool"].includes(t)?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!0,this["#board"].shapeContext.shape=t.substring(0,t.indexOf("-tool")),this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"line-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!0,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polyline-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!0,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1):"polygon-tool"===t?(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!0,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!0,this["#board"].viewContext.enabled=!1):(this["#board"].outlineHud.enabled=!1,this["#board"].viewHud.enabled=!1,this["#board"].rubberBandHud.enabled=!1,this["#board"].transformHud.enabled=!1,this["#board"].pathHud.enabled=!1,this["#board"].textHud.enabled=!1,this["#board"].charHud.enabled=!1,this["#board"].blobHud.enabled=!1,this["#board"].transformSelectContext.enabled=!1,this["#board"].directSelectContext.enabled=!1,this["#board"].panContext.enabled=!1,this["#board"].shapeContext.enabled=!1,this["#board"].textContext.enabled=!1,this["#board"].textPathContext.enabled=!1,this["#board"].cubicBezierContext.enabled=!1,this["#board"].quadBezierContext.enabled=!1,this["#board"].arcContext.enabled=!1,this["#board"].freehandContext.enabled=!1,this["#board"].blobContext.enabled=!1,this["#board"].lineContext.enabled=!1,this["#board"].polylineContext.enabled=!1,this["#board"].polygonContext.enabled=!1,this["#board"].viewContext.enabled=!1),"edit-tool"===t?(this["#board"].rectHud.enabled=!0,this["#board"].circleHud.enabled=!0,this["#board"].ellipseHud.enabled=!0,this["#board"].ringHud.enabled=!0,this["#board"].pieHud.enabled=!0,this["#board"].crescentHud.enabled=!0,this["#board"].triangleHud.enabled=!0,this["#board"].nGonHud.enabled=!0,this["#board"].starHud.enabled=!0,this["#board"].cogHud.enabled=!0,this["#board"].arrowHud.enabled=!0,this["#board"].crossHud.enabled=!0,this["#board"].spiralHud.enabled=!0,this["#board"].lineHud.enabled=!0,this["#board"].polyHud.enabled=!0):(this["#board"].rectHud.enabled=!1,this["#board"].circleHud.enabled=!1,this["#board"].ellipseHud.enabled=!1,this["#board"].ringHud.enabled=!1,this["#board"].pieHud.enabled=!1,this["#board"].crescentHud.enabled=!1,this["#board"].triangleHud.enabled=!1,this["#board"].nGonHud.enabled=!1,this["#board"].starHud.enabled=!1,this["#board"].cogHud.enabled=!1,this["#board"].arrowHud.enabled=!1,this["#board"].crossHud.enabled=!1,this["#board"].spiralHud.enabled=!1,this["#board"].lineHud.enabled=!1,this["#board"].polyHud.enabled=!1),"edit-tool"===t&&"fill-panel"===e?(this["#board"].linearGradientHud.context="fill",this["#board"].radialGradientHud.context="fill",this["#board"].patternHud.context="fill",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):"edit-tool"===t&&"stroke-panel"===e?(this["#board"].linearGradientHud.context="stroke",this["#board"].radialGradientHud.context="stroke",this["#board"].patternHud.context="stroke",this["#board"].linearGradientHud.enabled=!0,this["#board"].radialGradientHud.enabled=!0,this["#board"].patternHud.enabled=!0):(this["#board"].linearGradientHud.enabled=!1,this["#board"].radialGradientHud.enabled=!1,this["#board"].patternHud.enabled=!1),"bx-macapp"===this.Qs.localName&&this.Qs.updateMenubar(!0);}},{key:"toggleTool",value:function toggleTool(t){this["#tools-dock"].value=t,this.qs();}},{key:"togglePreviousTool",value:function togglePreviousTool(){this.Qz&&this.toggleTool(this.Qz);}},{key:"Zz",value:function Zz(){return null!==this.Qz;}},{key:"togglePrimaryPanel",value:function togglePrimaryPanel(t){this["#primary-panels-dock"].value===t?this["#primary-panels-dock"].value=null:this["#primary-panels-dock"].value=t,this.qs();}},{key:"toggleSecondaryPanel",value:function toggleSecondaryPanel(t){this["#secondary-panels-dock"].value===t?this["#secondary-panels-dock"].value=null:this["#secondary-panels-dock"].value=t,this.qs();}},{key:"xz",value:function xz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"left";if(this.board.undoManager.checkpoint("Move"),0===this.board.outermostSelectedElements.length){if("view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")){var _i1690=Rt.fromString(this.board.currentWorkspace.getAttribute("viewBox"));"left"===e?_i1690.x-=t:"right"===e?_i1690.x+=t:"up"===e?_i1690.y-=t:"down"===e&&(_i1690.y+=t),this.board.currentWorkspace.setAttribute("viewBox",_i1690.toString());}}else{var _iterator1640=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1640;try{for(_iterator1640.s();!(_step1640=_iterator1640.n()).done;){var _i1691=_step1640.value;if("view"===_i1691.localName){var _s996=Rt.fromString(_i1691.getAttribute("viewBox")||"0 0 0 0");"left"===e?_s996.x-=t:"right"===e?_s996.x+=t:"up"===e?_s996.y-=t:"down"===e&&(_s996.y+=t),_i1691.setAttribute("viewBox",_s996.toString());}else if("bx-guide"===_i1691.localName){var _s997=Zp.fromString(_i1691.getAttribute("x")).value,_n709=Zp.fromString(_i1691.getAttribute("y")).value;"left"===e?_s997-=t:"right"===e?_s997+=t:"up"===e?_n709-=t:"down"===e&&(_n709+=t),_i1691.setAttribute("x",_s997),_i1691.setAttribute("y",_n709),this["#board"].manualGuidesHud.requestImmidiateUpdate();}else{var _s998=Vt(_i1691),_n710=jt(_i1691,this.board.currentWorkspace),_o547=_n710.inverse(),_l407=new DOMMatrix();"left"===e?_l407.translateSelf(-t,0):"right"===e?_l407.translateSelf(t,0):"up"===e?_l407.translateSelf(0,-t):"down"===e&&_l407.translateSelf(0,t);var _a301=DOMMatrix.fromMatrix(_s998);_a301.multiplySelf(_o547),_a301.multiplySelf(_l407),_a301.multiplySelf(_n710),_i1691.setAttribute("transform",_a301.toString()),fa(_i1691,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}}catch(err){_iterator1640.e(err);}finally{_iterator1640.f();}}}},{key:"uz",value:function uz(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"hz",value:function hz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";this.board.undoManager.checkpoint("Flip");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=e.map(function(t){return Di(t);}),s=Ve(i);var _iterator1641=_createForOfIteratorHelper(e),_step1641;try{for(_iterator1641.s();!(_step1641=_iterator1641.n()).done;){var _i1692=_step1641.value;var _e1900=void 0,_n711=Vt(_i1692),_o548=Ht(_i1692),_l408=_o548.inverse();if("x"===t){var _t2534=2*(s.x+s.width/2);_e1900=new DOMMatrix([-1,0,0,1,_t2534,0]);}else if("y"===t){var _t2535=2*(s.y+s.height/2);_e1900=new DOMMatrix([1,0,0,-1,0,_t2535]);}var _a302=DOMMatrix.fromMatrix(_n711);_a302.multiplySelf(_l408),_a302.multiplySelf(_e1900),_a302.multiplySelf(_o548),_i1692.setAttribute("transform",_a302.toString()),fa(_i1692,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1641.e(err);}finally{_iterator1641.f();}}},{key:"az",value:function az(){return this.board.selectedObjectElements.length>0;}},{key:"dz",value:function dz(){this.board.undoManager.checkpoint("Remove transform");var _iterator1642=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1642;try{for(_iterator1642.s();!(_step1642=_iterator1642.n()).done;){var t=_step1642.value;f.includes(t.localName)&&t.removeAttribute("transform");}}catch(err){_iterator1642.e(err);}finally{_iterator1642.f();}}},{key:"rz",value:function rz(){var _iterator1643=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1643;try{for(_iterator1643.s();!(_step1643=_iterator1643.n()).done;){var t=_step1643.value;if(f.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1643.e(err);}finally{_iterator1643.f();}}},{key:"pz",value:function pz(){this.board.undoManager.checkpoint("Reduce transform");var _iterator1644=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1644;try{for(_iterator1644.s();!(_step1644=_iterator1644.n()).done;){var t=_step1644.value;f.includes(t.localName)&&t.hasAttribute("transform")&&fa(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1644.e(err);}finally{_iterator1644.f();}}},{key:"cz",value:function cz(){var _iterator1645=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1645;try{for(_iterator1645.s();!(_step1645=_iterator1645.n()).done;){var t=_step1645.value;if(f.includes(t.localName)&&t.hasAttribute("transform"))return!0;}}catch(err){_iterator1645.e(err);}finally{_iterator1645.f();}}},{key:"lz",value:function lz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:90;this.board.undoManager.checkpoint("Rotate");var e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=te(e);var _iterator1646=_createForOfIteratorHelper(e),_step1646;try{for(_iterator1646.s();!(_step1646=_iterator1646.n()).done;){var _s999=_step1646.value;var _e1901=Vt(_s999),_n712=Ht(_s999),_o549=_n712.inverse(),_l409=DOMMatrix.fromMatrix(_e1901);_l409.multiplySelf(_o549),_l409.translateSelf(i.x,i.y),_l409.rotateSelf(t),_l409.translateSelf(-i.x,-i.y),_l409.multiplySelf(_n712),_s999.setAttribute("transform",_l409.toString()),fa(_s999,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1646.e(err);}finally{_iterator1646.f();}}},{key:"oz",value:function oz(){return this.board.selectedObjectElements.length>0;}},{key:"tz",value:function tz(){this.board.undoManager.checkpoint("Raise");var _iterator1647=_createForOfIteratorHelper(Fi(this.board.outermostSelectedObjectElements)),_step1647;try{for(_iterator1647.s();!(_step1647=_iterator1647.n()).done;){var t=_step1647.value;var _iterator1648=_createForOfIteratorHelper(ji(t)),_step1648;try{var _loop52=function _loop52(){var e=_step1648.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1649=_createForOfIteratorHelper(e),_step1649;try{for(_iterator1649.s();!(_step1649=_iterator1649.n()).done;){var _i1693=_step1649.value;if(Vi(t,_i1693))return!0;}}catch(err){_iterator1649.e(err);}finally{_iterator1649.f();}return!1;}).find(function(t){return Ai(t)>Ai(e[e.length-1]);});if(t){var _iterator1650=_createForOfIteratorHelper(e.reverse()),_step1650;try{for(_iterator1650.s();!(_step1650=_iterator1650.n()).done;){var _i1694=_step1650.value;t.after(_i1694);}}catch(err){_iterator1650.e(err);}finally{_iterator1650.f();}}};for(_iterator1648.s();!(_step1648=_iterator1648.n()).done;){_loop52();}}catch(err){_iterator1648.e(err);}finally{_iterator1648.f();}}}catch(err){_iterator1647.e(err);}finally{_iterator1647.f();}}},{key:"ez",value:function ez(){this.board.undoManager.checkpoint("Raise to Front");var _iterator1651=_createForOfIteratorHelper(Fi(this.board.outermostSelectedObjectElements)),_step1651;try{for(_iterator1651.s();!(_step1651=_iterator1651.n()).done;){var t=_step1651.value;var _iterator1652=_createForOfIteratorHelper(ji(t)),_step1652;try{var _loop53=function _loop53(){var e=_step1652.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1653=_createForOfIteratorHelper(e),_step1653;try{for(_iterator1653.s();!(_step1653=_iterator1653.n()).done;){var _i1695=_step1653.value;if(Vi(t,_i1695))return!0;}}catch(err){_iterator1653.e(err);}finally{_iterator1653.f();}return!1;}),i=t[t.length-1];if(i){var _iterator1654=_createForOfIteratorHelper(e.reverse()),_step1654;try{for(_iterator1654.s();!(_step1654=_iterator1654.n()).done;){var _t2536=_step1654.value;i.after(_t2536);}}catch(err){_iterator1654.e(err);}finally{_iterator1654.f();}}};for(_iterator1652.s();!(_step1652=_iterator1652.n()).done;){_loop53();}}catch(err){_iterator1652.e(err);}finally{_iterator1652.f();}}}catch(err){_iterator1651.e(err);}finally{_iterator1651.f();}}},{key:"JD",value:function JD(){var t=Fi(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1655=_createForOfIteratorHelper(t),_step1655;try{for(_iterator1655.s();!(_step1655=_iterator1655.n()).done;){var _i1696=_step1655.value;var _t2537=ji(_i1696);var _iterator1656=_createForOfIteratorHelper(_t2537),_step1656;try{var _loop54=function _loop54(){var i=_step1656.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1657=_createForOfIteratorHelper(i),_step1657;try{for(_iterator1657.s();!(_step1657=_iterator1657.n()).done;){var _s1000=_step1657.value;if(_s1000.transform&&(_s1000[e]||(_s1000[e]=Di(_s1000)),t[e]||(t[e]=Di(t)),Ye(_s1000[e],t[e])))return!0;}}catch(err){_iterator1657.e(err);}finally{_iterator1657.f();}return!1;}return!1;}).find(function(t){return Ai(t)>Ai(i[i.length-1]);}))return{v:!0};};for(_iterator1656.s();!(_step1656=_iterator1656.n()).done;){var _ret6=_loop54();if(_typeof(_ret6)==="object")return _ret6.v;}}catch(err){_iterator1656.e(err);}finally{_iterator1656.f();}}}catch(err){_iterator1655.e(err);}finally{_iterator1655.f();}return!1;}},{key:"sz",value:function sz(){this.board.undoManager.checkpoint("Lower");var _iterator1658=_createForOfIteratorHelper(Fi(this.board.outermostSelectedObjectElements)),_step1658;try{for(_iterator1658.s();!(_step1658=_iterator1658.n()).done;){var t=_step1658.value;var _iterator1659=_createForOfIteratorHelper(ji(t)),_step1659;try{var _loop55=function _loop55(){var e=_step1659.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1660=_createForOfIteratorHelper(e),_step1660;try{for(_iterator1660.s();!(_step1660=_iterator1660.n()).done;){var _i1697=_step1660.value;if(Vi(t,_i1697))return!0;}}catch(err){_iterator1660.e(err);}finally{_iterator1660.f();}return!1;}).reverse().find(function(t){return Ai(t)<Ai(e[0]);});if(t){var _iterator1661=_createForOfIteratorHelper(e),_step1661;try{for(_iterator1661.s();!(_step1661=_iterator1661.n()).done;){var _i1698=_step1661.value;t.before(_i1698);}}catch(err){_iterator1661.e(err);}finally{_iterator1661.f();}}};for(_iterator1659.s();!(_step1659=_iterator1659.n()).done;){_loop55();}}catch(err){_iterator1659.e(err);}finally{_iterator1659.f();}}}catch(err){_iterator1658.e(err);}finally{_iterator1658.f();}}},{key:"nz",value:function nz(){this.board.undoManager.checkpoint("Lower to Back");var _iterator1662=_createForOfIteratorHelper(Fi(this.board.outermostSelectedObjectElements)),_step1662;try{for(_iterator1662.s();!(_step1662=_iterator1662.n()).done;){var t=_step1662.value;var _iterator1663=_createForOfIteratorHelper(ji(t)),_step1663;try{var _loop56=function _loop56(){var e=_step1663.value;var t=_toConsumableArray(e[0].parentElement.children).filter(function(t){if(e.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1664=_createForOfIteratorHelper(e),_step1664;try{for(_iterator1664.s();!(_step1664=_iterator1664.n()).done;){var _i1699=_step1664.value;if(Vi(t,_i1699))return!0;}}catch(err){_iterator1664.e(err);}finally{_iterator1664.f();}return!1;})[0];if(t){var _iterator1665=_createForOfIteratorHelper(e),_step1665;try{for(_iterator1665.s();!(_step1665=_iterator1665.n()).done;){var _i1700=_step1665.value;t.before(_i1700);}}catch(err){_iterator1665.e(err);}finally{_iterator1665.f();}}};for(_iterator1663.s();!(_step1663=_iterator1663.n()).done;){_loop56();}}catch(err){_iterator1663.e(err);}finally{_iterator1663.f();}}}catch(err){_iterator1662.e(err);}finally{_iterator1662.f();}}},{key:"iz",value:function iz(){var t=Fi(this.board.outermostSelectedObjectElements),e=Symbol();var _iterator1666=_createForOfIteratorHelper(t),_step1666;try{for(_iterator1666.s();!(_step1666=_iterator1666.n()).done;){var _i1701=_step1666.value;var _t2538=ji(_i1701);var _iterator1667=_createForOfIteratorHelper(_t2538),_step1667;try{var _loop57=function _loop57(){var i=_step1667.value;if(_toConsumableArray(i[0].parentElement.children).filter(function(t){if(t.transform){if(i.includes(t))return!1;if(!1===[].concat(_toConsumableArray(m),["svg","g","a","use"]).includes(t.localName))return!1;var _iterator1668=_createForOfIteratorHelper(i),_step1668;try{for(_iterator1668.s();!(_step1668=_iterator1668.n()).done;){var _s1001=_step1668.value;if(_s1001.transform&&(_s1001[e]||(_s1001[e]=Di(_s1001)),t[e]||(t[e]=Di(t)),Ye(_s1001[e],t[e])))return!0;}}catch(err){_iterator1668.e(err);}finally{_iterator1668.f();}return!1;}return!1;}).find(function(t){return Ai(t)<Ai(i[0]);}))return{v:!0};};for(_iterator1667.s();!(_step1667=_iterator1667.n()).done;){var _ret7=_loop57();if(_typeof(_ret7)==="object")return _ret7.v;}}catch(err){_iterator1667.e(err);}finally{_iterator1667.f();}}}catch(err){_iterator1666.e(err);}finally{_iterator1666.f();}return!1;}},{key:"OD",value:function OD(){this.board.undoManager.checkpoint("Group");var t=document.createDocumentFragment(),e=_toConsumableArray(this.board.outermostSelectedObjectElements),i=Ei("svg:g");e[0].after(i),e=Gi(e);var _iterator1669=_createForOfIteratorHelper(e),_step1669;try{for(_iterator1669.s();!(_step1669=_iterator1669.n()).done;){var _s1002=_step1669.value;var _e1902=jt(_s1002,i);_s1002.setAttribute("transform",_e1902.toString()),t.append(_s1002);}}catch(err){_iterator1669.e(err);}finally{_iterator1669.f();}i.append(t);var _iterator1670=_createForOfIteratorHelper(i.children),_step1670;try{for(_iterator1670.s();!(_step1670=_iterator1670.n()).done;){var _t2539=_step1670.value;fa(_t2539,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1670.e(err);}finally{_iterator1670.f();}this.board.selectedElements=[i];}},{key:"zD",value:function zD(){return this.board.selectedObjectElements.length>0;}},{key:"TD",value:function TD(){this.board.undoManager.checkpoint("Ungroup");var t=_toConsumableArray(this.board.outermostSelectedObjectElements),e=[];var _iterator1671=_createForOfIteratorHelper(t),_step1671;try{for(_iterator1671.s();!(_step1671=_iterator1671.n()).done;){var _i1702=_step1671.value;if("g"===_i1702.localName){var _t2540=_i1702,_s1003=document.createDocumentFragment();for(var _i1703=0,_arr87=_toConsumableArray(_t2540.children);_i1703<_arr87.length;_i1703++){var _i1704=_arr87[_i1703];if("bx-title"!==_i1704.localName&&"desc"!==_i1704.localName){if(this.board.isSelectableElement(_i1704)){var _s1004=jt(_i1704,_t2540.parentElement);_i1704.setAttribute("transform",_s1004.toString()),fa(_i1704,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision}),e.push(_i1704);}var _iterator1672=_createForOfIteratorHelper(_t2540.attributes),_step1672;try{for(_iterator1672.s();!(_step1672=_iterator1672.n()).done;){var _step1672$value=_step1672.value,_e1903=_step1672$value.name,_s1005=_step1672$value.value;U.includes(_e1903)&&!1===_i1704.hasAttribute(_e1903)&&_i1704.setAttribute(_e1903,_s1005);}}catch(err){_iterator1672.e(err);}finally{_iterator1672.f();}var _iterator1673=_createForOfIteratorHelper(_t2540.style),_step1673;try{for(_iterator1673.s();!(_step1673=_iterator1673.n()).done;){var _e1904=_step1673.value;var _s1006=_t2540.style.getPropertyValue(_e1904);""===_i1704.style.getPropertyValue(_e1904)&&_i1704.style.setProperty(_e1904,_s1006);}}catch(err){_iterator1673.e(err);}finally{_iterator1673.f();}_s1003.append(_i1704);}}_t2540.before(_s1003),_t2540.remove();}else e.push(_i1702);}}catch(err){_iterator1671.e(err);}finally{_iterator1671.f();}this.board.selectedElements=[].concat(e);}},{key:"ED",value:function ED(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1674=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1674;try{for(_iterator1674.s();!(_step1674=_iterator1674.n()).done;){var t=_step1674.value;if("g"===t.localName)return!0;}}catch(err){_iterator1674.e(err);}finally{_iterator1674.f();}return!1;}},{key:"$D",value:function $D(){this.board.undoManager.checkpoint("Clip");var _this$board$outermost=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost[0],e=_this$board$outermost.slice(1),i=N(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=Ei("svg:clipPath"),i.id=this.board.generateUniqueID("clip"),this.board.defs.append(i));var _iterator1675=_createForOfIteratorHelper(e),_step1675;try{for(_iterator1675.s();!(_step1675=_iterator1675.n()).done;){var _s1007=_step1675.value;var _e1905=jt(_s1007,t);_s1007.setAttribute("transform",_e1905.toString()),i.append(_s1007),fa(_s1007,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1675.e(err);}finally{_iterator1675.f();}t.style.clipPath="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"AD",value:function AD(){var _this$board$outermost2=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost2[0],e=_this$board$outermost2.slice(1);if(!t||!_.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1676=_createForOfIteratorHelper(e),_step1676;try{for(_iterator1676.s();!(_step1676=_iterator1676.n()).done;){var _t2541=_step1676.value;if(!1===S.includes(_t2541.localName))return!1;}}catch(err){_iterator1676.e(err);}finally{_iterator1676.f();}return"none"===getComputedStyle(t).clipPath;}},{key:"LD",value:function LD(){if(!1===this.ID())return;this.board.undoManager.checkpoint("Unclip");var t=[];var _iterator1677=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1677;try{for(_iterator1677.s();!(_step1677=_iterator1677.n()).done;){var _e1906=_step1677.value;var _i1705=N(_e1906),_s1008=Vt(_e1906);if(_i1705){var _n713=Vt(_i1705);t.push(_e1906);for(var _i1706=0,_arr88=_toConsumableArray(_i1705.children);_i1706<_arr88.length;_i1706++){var _o550=_arr88[_i1706];if(S.includes(_o550.localName)){var _i1707=_o550,_l410=Vt(_i1707),_a303=new DOMMatrix();_a303=_a303.multiply(_s1008),_a303=_a303.multiply(_n713),_a303=_a303.multiply(_l410),_i1707.setAttribute("transform",_a303.toString()),_e1906.after(_i1707),t.push(_i1707),fa(_i1707,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1705.remove();}_e1906.style.setProperty("clip-path","none"),Sh("clip-path",_e1906);}}catch(err){_iterator1677.e(err);}finally{_iterator1677.f();}this.board.selectedElements=t;}},{key:"ID",value:function ID(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1678=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1678;try{for(_iterator1678.s();!(_step1678=_iterator1678.n()).done;){var t=_step1678.value;if(!1===_.includes(t.localName)||null===N(t))return!1;}}catch(err){_iterator1678.e(err);}finally{_iterator1678.f();}return!0;}},{key:"RD",value:function RD(){this.board.undoManager.checkpoint("Mask");var _this$board$outermost3=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost3[0],e=_this$board$outermost3.slice(1),i=V(t),s=t.parentElement;s===this.board.currentWorkspace&&(s=null),i?(i.innerHTML="",i.removeAttribute("transform")):(i=Ei("svg:mask"),i.id=this.board.generateUniqueID("mask"),this.board.defs.append(i));var _iterator1679=_createForOfIteratorHelper(e),_step1679;try{for(_iterator1679.s();!(_step1679=_iterator1679.n()).done;){var _s1009=_step1679.value;var _e1907=jt(_s1009,t);_s1009.setAttribute("transform",_e1907.toString()),i.append(_s1009),fa(_s1009,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}catch(err){_iterator1679.e(err);}finally{_iterator1679.f();}t.style.mask="url(#".concat(i.id,")"),this.board.currentContainer=s,this.board.selectedElements=[t],this.board.selectedTextRange=null;}},{key:"BD",value:function BD(){var _this$board$outermost4=_toArray(this.board.outermostSelectedObjectElements),t=_this$board$outermost4[0],e=_this$board$outermost4.slice(1);if(!t||!M.includes(t.localName))return!1;if(0===e.length)return!1;var _iterator1680=_createForOfIteratorHelper(e),_step1680;try{for(_iterator1680.s();!(_step1680=_iterator1680.n()).done;){var _t2542=_step1680.value;if(!1===C.includes(_t2542.localName))return!1;}}catch(err){_iterator1680.e(err);}finally{_iterator1680.f();}return"none"===getComputedStyle(t).mask;}},{key:"FD",value:function FD(){if(!1===this.GD())return;this.board.undoManager.checkpoint("Unmask");var t=[];var _iterator1681=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1681;try{for(_iterator1681.s();!(_step1681=_iterator1681.n()).done;){var _e1908=_step1681.value;var _i1708=V(_e1908),_s1010=Vt(_e1908);if(_i1708){t.push(_e1908);for(var _i1709=0,_arr89=_toConsumableArray(_i1708.children);_i1709<_arr89.length;_i1709++){var _n714=_arr89[_i1709];if(C.includes(_n714.localName)){var _i1710=_n714,_o551=Vt(_i1710),_l411=new DOMMatrix();_l411=_l411.multiply(_s1010),_l411=_l411.multiply(_o551),_i1710.setAttribute("transform",_l411.toString()),_e1908.after(_i1710),t.push(_i1710),fa(_i1710,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision});}}_i1708.remove();}_e1908.style.setProperty("mask","none"),Sh("mask",_e1908);}}catch(err){_iterator1681.e(err);}finally{_iterator1681.f();}this.board.selectedElements=t;}},{key:"GD",value:function GD(){if(0===this.board.selectedObjectElements.length)return!1;var _iterator1682=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1682;try{for(_iterator1682.s();!(_step1682=_iterator1682.n()).done;){var t=_step1682.value;if(!1===M.includes(t.localName)||null===V(t))return!1;}}catch(err){_iterator1682.e(err);}finally{_iterator1682.f();}return!0;}},{key:"ND",value:function ND(){var _this1088=this;var t=Ji(function(){return _this1088.board.undoManager.checkpoint("Increase opacity");});var _iterator1683=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1683;try{for(_iterator1683.s();!(_step1683=_iterator1683.n()).done;){var _e1909=_step1683.value;var _i1711=_e1909.computedStyleMap().get("opacity").value;_i1711<1&&(t(),_i1711=Q(_i1711+.1,0,1,2),_e1909.attributeStyleMap.set("opacity",CSS.number(_i1711)));}}catch(err){_iterator1683.e(err);}finally{_iterator1683.f();}}},{key:"UD",value:function UD(){var _iterator1684=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1684;try{for(_iterator1684.s();!(_step1684=_iterator1684.n()).done;){var t=_step1684.value;if(t.computedStyleMap().get("opacity").value<1)return!0;}}catch(err){_iterator1684.e(err);}finally{_iterator1684.f();}return!1;}},{key:"jD",value:function jD(){var _this1089=this;var t=Ji(function(){return _this1089.board.undoManager.checkpoint("Decrease opacity");});var _iterator1685=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1685;try{for(_iterator1685.s();!(_step1685=_iterator1685.n()).done;){var _e1910=_step1685.value;var _i1712=_e1910.computedStyleMap().get("opacity").value;_i1712>0&&(t(),_i1712=Q(_i1712-.1,0,1,2),_e1910.attributeStyleMap.set("opacity",CSS.number(_i1712)));}}catch(err){_iterator1685.e(err);}finally{_iterator1685.f();}}},{key:"VD",value:function VD(){var _iterator1686=_createForOfIteratorHelper(this.board.outermostSelectedObjectElements),_step1686;try{for(_iterator1686.s();!(_step1686=_iterator1686.n()).done;){var t=_step1686.value;if(t.computedStyleMap().get("opacity").value>0)return!0;}}catch(err){_iterator1686.e(err);}finally{_iterator1686.f();}return!1;}},{key:"YD",value:function YD(){var _this1090=this;var t=Ji(function(){return _this1090.board.undoManager.checkpoint("Increase fill opacity");});var _iterator1687=_createForOfIteratorHelper(this.Hx()),_step1687;try{for(_iterator1687.s();!(_step1687=_iterator1687.n()).done;){var _e1911=_step1687.value;var _i1713=_e1911.computedStyleMap().get("fill-opacity").value;_i1713<1&&(t(),_i1713=Q(_i1713+.1,0,1,2),_e1911.attributeStyleMap.set("fill-opacity",CSS.number(_i1713)));}}catch(err){_iterator1687.e(err);}finally{_iterator1687.f();}}},{key:"HD",value:function HD(){return this.Hx().length>0;}},{key:"qD",value:function qD(){var _this1091=this;var t=Ji(function(){return _this1091.board.undoManager.checkpoint("Decrease fill opacity");});var _iterator1688=_createForOfIteratorHelper(this.Hx()),_step1688;try{for(_iterator1688.s();!(_step1688=_iterator1688.n()).done;){var _e1912=_step1688.value;var _i1714=_e1912.computedStyleMap().get("fill-opacity").value;_i1714>0&&(t(),_i1714=Q(_i1714-.1,0,1,2),_e1912.attributeStyleMap.set("fill-opacity",CSS.number(_i1714)));}}catch(err){_iterator1688.e(err);}finally{_iterator1688.f();}}},{key:"WD",value:function WD(){return this.Hx().length>0;}},{key:"ZD",value:function ZD(){var _this1092=this;var t=Ji(function(){return _this1092.board.undoManager.checkpoint("Increase stroke opacity");});var _iterator1689=_createForOfIteratorHelper(this.Hx()),_step1689;try{for(_iterator1689.s();!(_step1689=_iterator1689.n()).done;){var _e1913=_step1689.value;var _i1715=_e1913.computedStyleMap().get("stroke-opacity").value;_i1715<1&&(t(),_i1715=Q(_i1715+.1,0,1,2),_e1913.attributeStyleMap.set("stroke-opacity",CSS.number(_i1715)));}}catch(err){_iterator1689.e(err);}finally{_iterator1689.f();}}},{key:"XD",value:function XD(){return this.Hx().length>0;}},{key:"QD",value:function QD(){var _this1093=this;var t=Ji(function(){return _this1093.board.undoManager.checkpoint("Decrease stroke opacity");});var _iterator1690=_createForOfIteratorHelper(this.Hx()),_step1690;try{for(_iterator1690.s();!(_step1690=_iterator1690.n()).done;){var _e1914=_step1690.value;var _i1716=_e1914.computedStyleMap().get("stroke-opacity").value;_i1716>0&&(t(),_i1716=Q(_i1716-.1,0,1,2),_e1914.attributeStyleMap.set("stroke-opacity",CSS.number(_i1716)));}}catch(err){_iterator1690.e(err);}finally{_iterator1690.f();}}},{key:"KD",value:function KD(){return this.Hx().length>0;}},{key:"Sd",value:function Sd(){this.Qs.textInputMode?document.execCommand("selectAll"):this.board.selectAll();}},{key:"$d",value:function $d(){this.board.deselectAll();}},{key:"vD",value:function vD(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("undo"):this.board.undoManager.undo();}},{key:"wD",value:function wD(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canUndo()&&!1===this.Qs.isPointerDown;}},{key:"kD",value:function kD(){this.Qs.textInputMode&&!1===this.board.textHud.inputMode?document.execCommand("redo"):this.board.undoManager.redo();}},{key:"yD",value:function yD(){return!(!this.Qs.textInputMode||!1!==this.board.textHud.inputMode)||this.board.undoManager.canRedo()&&!1===this.Qs.isPointerDown;}},{key:"gD",value:function(){var _gD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee240(){var t,_e1915,_e1916,_i1717,_t2543,_e1917,_i1718;return regeneratorRuntime.wrap(function _callee240$(_context241){while(1){switch(_context241.prev=_context241.next){case 0:_context241.next=2;return this.Qs.openImageImportDialog();case 2:t=_context241.sent;if(!t){_context241.next=29;break;}if(!("svg"===t.extension||"svgz"===t.extension)){_context241.next=9;break;}_e1915=Dh(t.data);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_e1915,"boardCenter");_context241.next=29;break;case 9:if(!("pdf"===t.extension||"ai"===t.extension)){_context241.next=23;break;}_e1916=null,_i1717=null;_context241.prev=11;_context241.next=14;return qm(t.data);case 14:_e1916=_context241.sent;_context241.next=20;break;case 17:_context241.prev=17;_context241.t0=_context241["catch"](11);_i1717=_context241.t0;case 20:if(_i1717)this.Qs.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===t.extension?n:_i1717.message});else{_t2543=Dh(_e1916);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_t2543,"boardCenter");}_context241.next=29;break;case 23:if(!["png","jpeg","jpg","gif","webp","avif"].includes(t.extension)){_context241.next=29;break;}_context241.next=26;return lu(t.data);case 26:_e1917=_context241.sent;_i1718=Dh(_e1917);this.board.undoManager.checkpoint("Import"),this.board.insertArtwork(_i1718,"boardCenter");case 29:case"end":return _context241.stop();}}},_callee240,this,[[11,17]]);}));function gD(){return _gD.apply(this,arguments);}return gD;}()},{key:"fD",value:function(){var _fD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee241(){return regeneratorRuntime.wrap(function _callee241$(_context242){while(1){switch(_context242.prev=_context242.next){case 0:_context242.t0="export-panel"===this.primaryPanelsDock.value;if(!_context242.t0){_context242.next=5;break;}this.togglePrimaryPanel(null);_context242.next=5;return ts(400);case 5:this.togglePrimaryPanel("export-panel");case 6:case"end":return _context242.stop();}}},_callee241,this);}));function fD(){return _fD.apply(this,arguments);}return fD;}()},{key:"SD",value:function SD(){if(this.Qs.textInputMode)document.execCommand("copy");else{this.board.collectGarbage();var t=this.board.extractArtworkWithSelectedElements(),_e1918=this.Qs.getConfig("bx-markupsettings:indentation",2),_i1719=tu(t,"html",_e1918),_s1011={"text/plain":_i1719,"text/html":_i1719,"image/svg+xml":tu(t,"xml",_e1918)};this.Qs.setClipboardData(_s1011);}}},{key:"CD",value:function(){var _CD=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee242(){var t,_e1919,_i1720,_i1721,_i1722,_t2544,_i1723,_i1724;return regeneratorRuntime.wrap(function _callee242$(_context243){while(1){switch(_context243.prev=_context243.next){case 0:if(!this.Qs.textInputMode){_context243.next=4;break;}document.execCommand("paste");_context243.next=36;break;case 4:_context243.next=6;return this.Qs.getClipboardData();case 6:t=_context243.sent;if(!t){_context243.next=36;break;}_e1919=this.board.matches(":hover")?"pointer":"boardCenter";if(!(t["text/html"]&&nu(t["text/html"]))){_context243.next=15;break;}this.board.undoManager.checkpoint("Paste");_i1720=Dh(t["text/html"]);this.board.insertArtwork(_i1720,_e1919);_context243.next=36;break;case 15:if(!(t["text/plain"]&&nu(t["text/plain"]))){_context243.next=21;break;}this.board.undoManager.checkpoint("Paste");_i1721=Dh(t["text/plain"]);this.board.insertArtwork(_i1721,_e1919);_context243.next=36;break;case 21:if(!t["application/pdf"]){_context243.next=35;break;}_i1722=null;_context243.prev=23;_context243.next=26;return qm(t["application/pdf"]);case 26:_i1722=_context243.sent;_context243.next=32;break;case 29:_context243.prev=29;_context243.t0=_context243["catch"](23);_i1722=null;case 32:if(_i1722){this.board.undoManager.checkpoint("Paste");_t2544=Dh(_i1722);this.board.insertArtwork(_t2544,_e1919);}_context243.next=36;break;case 35:if(t["image/png"]){this.board.undoManager.checkpoint("Paste");_i1723=t["image/png"];this.board.insertBitmap(_i1723,_e1919);}else if(t["text/plain"]){this.board.undoManager.checkpoint("Paste");_i1724=Dh("<svg><text style=\"font-size: 36; font-family: Roboto; white-space: pre;\">".concat(t["text/plain"],"</text></svg>\n          "));this.board.insertArtwork(_i1724,_e1919);}case 36:case"end":return _context243.stop();}}},_callee242,this,[[23,29]]);}));function CD(){return _CD.apply(this,arguments);}return CD;}()},{key:"_D",value:function _D(){if(this.Qs.textInputMode)document.execCommand("cut");else{this.board.undoManager.checkpoint("Cut"),this.SD();var t=Gi(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1691=_createForOfIteratorHelper(t),_step1691;try{for(_iterator1691.s();!(_step1691=_iterator1691.n()).done;){var _e1920=_step1691.value;_e1920.remove();}}catch(err){_iterator1691.e(err);}finally{_iterator1691.f();}}}},{key:"DD",value:function DD(){if(this.board.undoManager.checkpoint("Delete"),0===this.board.outermostSelectedElements.length)"view-tool"===this.toolsDock.value&&this.board.currentWorkspace.hasAttribute("viewBox")&&this.board.currentWorkspace.removeAttribute("viewBox");else{var t=Gi(this.board.outermostSelectedElements);t.reverse(),this.board.selectedElements=[];var _iterator1692=_createForOfIteratorHelper(t),_step1692;try{for(_iterator1692.s();!(_step1692=_iterator1692.n()).done;){var _e1921=_step1692.value;_e1921.remove();}}catch(err){_iterator1692.e(err);}finally{_iterator1692.f();}}}},{key:"PD",value:function PD(){return 0!==this.board.outermostSelectedElements.length||!("view-tool"!==this.toolsDock.value||!this.board.currentWorkspace.hasAttribute("viewBox"));}},{key:"MD",value:function MD(){this.board.undoManager.checkpoint("Duplicate"),this.board.collectGarbage(),this.board.insertArtwork(this.board.extractArtworkWithSelectedElements(),"original"),this.board.transformHud.blink();}},{key:"mz",value:function(){var _mz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee243(){var t,_e1922,_i1725,_s1012,_iterator1693,_step1693,_t2545,_e1923,_n715,_o552,_l412,_iterator1694,_step1694,_t2547,_iterator1695,_step1695,_t2548,_e1924,_i1727,_s1013,_i1726,_l413,_t2546,_iterator1696,_step1696,_t2549;return regeneratorRuntime.wrap(function _callee243$(_context244){while(1){switch(_context244.prev=_context244.next){case 0:if(!(!1===this.colorGrabber.grabbing)){_context244.next=9;break;}t=this.board;_e1922=[].concat(_toConsumableArray(t.linearGradientHud.selectedStops),_toConsumableArray(t.radialGradientHud.selectedStops));t.selectedTextRange;_context244.next=6;return this.colorGrabber.grab();case 6:_i1725=_context244.sent;_s1012=this.Qs.modKeys.shift?"stroke":"fill";if(null!==_i1725)if(_e1922.length>0){this.board.undoManager.checkpoint("Paint color");_iterator1693=_createForOfIteratorHelper(_e1922);try{for(_iterator1693.s();!(_step1693=_iterator1693.n()).done;){_t2545=_step1693.value;_t2545.style.stopColor=_i1725,Sh("stop-color",_t2545);}}catch(err){_iterator1693.e(err);}finally{_iterator1693.f();}}else{_e1923=this.Hx();if(_e1923.length>0){this.board.undoManager.checkpoint("Paint color");_n715=_e1923.filter(function(t){return"text"===t.localName;}),_o552=t.selectedTextRange,_l412=[];_iterator1694=_createForOfIteratorHelper(_n715);try{for(_iterator1694.s();!(_step1694=_iterator1694.n()).done;){_t2547=_step1694.value;ui(_t2547,_o552);}}catch(err){_iterator1694.e(err);}finally{_iterator1694.f();}_iterator1695=_createForOfIteratorHelper(_e1923);try{for(_iterator1695.s();!(_step1695=_iterator1695.n()).done;){_t2548=_step1695.value;if("text"===_t2548.localName&&_t2548.querySelector("tspan")){_e1924=_t2548.querySelectorAll("tspan"),_i1727=bi(_o552,_t2548),_s1013=_i1727.length>0&&!_o552.collapsed?_i1727:_e1924;_l412.push.apply(_l412,_toConsumableArray(_s1013));}else _l412.push(_t2548);}}catch(err){_iterator1695.e(err);}finally{_iterator1695.f();}for(_i1726=0,_l413=_l412;_i1726<_l413.length;_i1726++){_t2546=_l413[_i1726];_t2546.style[_s1012]=_i1725,Sh(_s1012,_t2546);}_iterator1696=_createForOfIteratorHelper(_n715);try{for(_iterator1696.s();!(_step1696=_iterator1696.n()).done;){_t2549=_step1696.value;xi(_t2549,_o552);}}catch(err){_iterator1696.e(err);}finally{_iterator1696.f();}}}case 9:case"end":return _context244.stop();}}},_callee243,this);}));function mz(){return _mz.apply(this,arguments);}return mz;}()},{key:"bz",value:function bz(){return this.Hx().length>0;}},{key:"kz",value:function kz(){var _this1094=this;return new Promise(/*#__PURE__*/function(){var _ref202=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee244(t){var _t2550,_e1925,_i1728,_iterator1697,_step1697,_s1014,_n716,_n717,_n718,_n719,_n720,_n721,_e1926;return regeneratorRuntime.wrap(function _callee244$(_context245){while(1){switch(_context245.prev=_context245.next){case 0:if(!_this1094.yz()){_context245.next=68;break;}_t2550=[],_e1925=_this1094.board.geometryPrecision,_i1728=Ji(function(){return _this1094.board.undoManager.checkpoint("Convert to path");});_iterator1697=_createForOfIteratorHelper(_this1094.board.selectedElements);_context245.prev=3;_iterator1697.s();case 5:if((_step1697=_iterator1697.n()).done){_context245.next=59;break;}_s1014=_step1697.value;if(!("rect"===_s1014.localName)){_context245.next=12;break;}_n716=ph(_s1014,_e1925);_i1728(),_s1014.replaceWith(_n716),_t2550.push(_n716);_context245.next=57;break;case 12:if(!("circle"===_s1014.localName)){_context245.next=17;break;}_n717=uh(_s1014,_e1925);_i1728(),_s1014.replaceWith(_n717),_t2550.push(_n717);_context245.next=57;break;case 17:if(!("ellipse"===_s1014.localName)){_context245.next=22;break;}_n718=xh(_s1014,_e1925);_i1728(),_s1014.replaceWith(_n718),_t2550.push(_n718);_context245.next=57;break;case 22:if(!("line"===_s1014.localName)){_context245.next=27;break;}_n719=bh(_s1014,_e1925);_i1728(),_s1014.replaceWith(_n719),_t2550.push(_n719);_context245.next=57;break;case 27:if(!("polyline"===_s1014.localName)){_context245.next=32;break;}_n720=mh(_s1014,_e1925);_i1728(),_s1014.replaceWith(_n720),_t2550.push(_n720);_context245.next=57;break;case 32:if(!("polygon"===_s1014.localName)){_context245.next=37;break;}_n721=gh(_s1014,_e1925);_i1728(),_s1014.replaceWith(_n721),_t2550.push(_n721);_context245.next=57;break;case 37:if(!("path"===_s1014.localName)){_context245.next=41;break;}_s1014.hasAttribute("data-bx-shape")&&(_i1728(),_s1014.removeAttribute("data-bx-shape")),_t2550.push(_s1014);_context245.next=57;break;case 41:if(!("text"===_s1014.localName)){_context245.next=56;break;}if(!_this1094.board.fontsManager.canReplaceTextWithPaths(_s1014)){_context245.next=50;break;}_i1728();_context245.next=46;return _this1094.board.fontsManager.replaceTextWithPaths(_s1014,_this1094.board.geometryPrecision,_this1094.board.transformPrecision);case 46:_e1926=_context245.sent;_t2550=[].concat(_toConsumableArray(_t2550),_toConsumableArray(_e1926));_context245.next=54;break;case 50:_context245.next=52;return ts(200);case 52:_this1094.Qs.openMessageDialog({message:"Can't convert selected text to path",detail:"To make this text convertable, you must set an embedded or Google font family on it using the Typography panel.",buttons:["Close"]});_t2550.push(_s1014);case 54:_context245.next=57;break;case 56:_t2550.push(_s1014);case 57:_context245.next=5;break;case 59:_context245.next=64;break;case 61:_context245.prev=61;_context245.t0=_context245["catch"](3);_iterator1697.e(_context245.t0);case 64:_context245.prev=64;_iterator1697.f();return _context245.finish(64);case 67:_this1094.board.selectedTextRange=null,_this1094.board.selectedElements=_t2550;case 68:t();case 69:case"end":return _context245.stop();}}},_callee244,null,[[3,61,64,67]]);}));return function(_x234){return _ref202.apply(this,arguments);};}());}},{key:"yz",value:function yz(){var t=!1;var _iterator1698=_createForOfIteratorHelper(this.board.selectedElements),_step1698;try{for(_iterator1698.s();!(_step1698=_iterator1698.n()).done;){var _e1927=_step1698.value;if("rect"===_e1927.localName||"circle"===_e1927.localName||"ellipse"===_e1927.localName||"line"===_e1927.localName||"polyline"===_e1927.localName||"polygon"===_e1927.localName||"text"===_e1927.localName)t=!0;else if("path"===_e1927.localName){if(!_e1927.hasAttribute("data-bx-shape")){t=!1;break;}t=!0;}}}catch(err){_iterator1698.e(err);}finally{_iterator1698.f();}return t;}},{key:"_z",value:function _z(){if(!1!==this.Sz()){this.board.undoManager.checkpoint("Stroke to path");var _iterator1699=_createForOfIteratorHelper(this.board.selectedElements),_step1699;try{for(_iterator1699.s();!(_step1699=_iterator1699.n()).done;){var t=_step1699.value;if(x.includes(t.localName)){var _e1928=parseFloat(getComputedStyle(t).strokeWidth);if(_e1928>0){var _i1729=t.getPathData(),_s1015=this.board.geometryPrecision,_n722=xt(_i1729,_e1928,_s1015),_o553=getComputedStyle(t).stroke,_l414=Ei("svg:path");_l414.setPathData(_n722),t.after(_l414),_l414.style.setProperty("fill",_o553),_l414.style.setProperty("stroke","none"),Sh("fill",_l414),Sh("stroke",_l414),t.hasAttribute("transform")&&_l414.setAttribute("transform",t.getAttribute("transform")),t.style.setProperty("stroke","none"),Sh("stroke",t);}}}}catch(err){_iterator1699.e(err);}finally{_iterator1699.f();}}}},{key:"Sz",value:function Sz(){var _iterator1700=_createForOfIteratorHelper(this.board.selectedElements),_step1700;try{for(_iterator1700.s();!(_step1700=_iterator1700.n()).done;){var t=_step1700.value;if(x.includes(t.localName)){if(parseFloat(getComputedStyle(t).strokeWidth)>0)return!0;}}}catch(err){_iterator1700.e(err);}finally{_iterator1700.f();}return!1;}},{key:"Tz",value:function Tz(){if(!1!==this.Ez()){this.board.undoManager.checkpoint("Open path");var _iterator1701=_createForOfIteratorHelper(this.board.selectedElements),_step1701;try{for(_iterator1701.s();!(_step1701=_iterator1701.n()).done;){var t=_step1701.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&dt(t);}}catch(err){_iterator1701.e(err);}finally{_iterator1701.f();}}}},{key:"Ez",value:function Ez(){var _iterator1702=_createForOfIteratorHelper(this.board.selectedElements),_step1702;try{for(_iterator1702.s();!(_step1702=_iterator1702.n()).done;){var t=_step1702.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&pt(t))return!0;}}catch(err){_iterator1702.e(err);}finally{_iterator1702.f();}return!1;}},{key:"$z",value:function $z(){if(!1!==this.Az()){this.board.undoManager.checkpoint("Close path");var _iterator1703=_createForOfIteratorHelper(this.board.selectedElements),_step1703;try{for(_iterator1703.s();!(_step1703=_iterator1703.n()).done;){var t=_step1703.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ct(t);}}catch(err){_iterator1703.e(err);}finally{_iterator1703.f();}}}},{key:"Az",value:function Az(){var _iterator1704=_createForOfIteratorHelper(this.board.selectedElements),_step1704;try{for(_iterator1704.s();!(_step1704=_iterator1704.n()).done;){var t=_step1704.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ut(t))return!0;}}catch(err){_iterator1704.e(err);}finally{_iterator1704.f();}return!1;}},{key:"Lz",value:function Lz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;if(!1!==this.Iz()){this.board.undoManager.checkpoint("Inset path");var _iterator1705=_createForOfIteratorHelper(this.board.selectedElements),_step1705;try{for(_iterator1705.s();!(_step1705=_iterator1705.n()).done;){var _e1929=_step1705.value;if("path"===_e1929.localName&&!1===_e1929.hasAttribute("data-bx-shape")){var _i1730=_e1929.getPathData(),_s1016=bt(_i1730,t,1,this.board.geometryPrecision);_e1929.setPathData(_s1016);}}}catch(err){_iterator1705.e(err);}finally{_iterator1705.f();}}}},{key:"Iz",value:function Iz(){var _iterator1706=_createForOfIteratorHelper(this.board.selectedElements),_step1706;try{for(_iterator1706.s();!(_step1706=_iterator1706.n()).done;){var t=_step1706.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1706.e(err);}finally{_iterator1706.f();}return!1;}},{key:"Rz",value:function Rz(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1.5;if(!1!==this.Bz()){this.board.undoManager.checkpoint("Simplify path");var _iterator1707=_createForOfIteratorHelper(this.board.selectedElements),_step1707;try{for(_iterator1707.s();!(_step1707=_iterator1707.n()).done;){var _e1930=_step1707.value;if("path"===_e1930.localName&&!1===_e1930.hasAttribute("data-bx-shape")){var _i1731=_e1930.getPathData(),_s1017=mt(_i1731,t,this.board.geometryPrecision);_e1930.setPathData(_s1017);}}}catch(err){_iterator1707.e(err);}finally{_iterator1707.f();}}}},{key:"Bz",value:function Bz(){var _iterator1708=_createForOfIteratorHelper(this.board.selectedElements),_step1708;try{for(_iterator1708.s();!(_step1708=_iterator1708.n()).done;){var t=_step1708.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1708.e(err);}finally{_iterator1708.f();}return!1;}},{key:"Fz",value:function Fz(){if(!1!==this.Gz()){this.board.undoManager.checkpoint("Complexify path");var _iterator1709=_createForOfIteratorHelper(this.board.selectedElements),_step1709;try{for(_iterator1709.s();!(_step1709=_iterator1709.n()).done;){var t=_step1709.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1931=t.getPathData(),_i1732=gt(_e1931,this.board.geometryPrecision);t.setPathData(_i1732);}}}catch(err){_iterator1709.e(err);}finally{_iterator1709.f();}}}},{key:"Gz",value:function Gz(){var _iterator1710=_createForOfIteratorHelper(this.board.selectedElements),_step1710;try{for(_iterator1710.s();!(_step1710=_iterator1710.n()).done;){var t=_step1710.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1710.e(err);}finally{_iterator1710.f();}return!1;}},{key:"Nz",value:function Nz(){var _this1095=this;if(!1===this.Uz())return;this.board.undoManager.checkpoint("Join nodes");var t=null,e=null,i=null,s=[],n=[],o=[];{var _l415=[];if(this.board.pathHud.selectedNodes[0].path===this.board.pathHud.selectedNodes[1].path){t=this.board.pathHud.selectedNodes[0].path,_l415=ot(t.getPathData({normalize:!0}));var _iterator1711=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1711;try{for(_iterator1711.s();!(_step1711=_iterator1711.n()).done;){var _t2551=_step1711.value;_l415[_t2551.index].selected=!0;}}catch(err){_iterator1711.e(err);}finally{_iterator1711.f();}}else{var _this$board$pathHud$s=this.board.pathHud.selectedNodes[0],_e1932=_this$board$pathHud$s.path,_i1733=_this$board$pathHud$s.index,_this$board$pathHud$s2=this.board.pathHud.selectedNodes[1],_s1018=_this$board$pathHud$s2.path,_n723=_this$board$pathHud$s2.index,_o554=jt(_s1018,_e1932),_a304=ot(_e1932.getPathData({normalize:!0})),_h233=ot(_s1018.getPathData({normalize:!0}));_h233=se(_h233,_o554,this.board.geometryPrecision);for(var _t2552=0;_t2552<_a304.length;_t2552+=1){_a304[_t2552].selected=_t2552===_i1733;}for(var _t2553=0;_t2553<_h233.length;_t2553+=1){_h233[_t2553].selected=_t2553===_n723;}t=_e1932,_l415=[].concat(_toConsumableArray(_a304),_toConsumableArray(_h233)),_s1018.remove();}var _iterator1712=_createForOfIteratorHelper(at(_l415)),_step1712;try{for(_iterator1712.s();!(_step1712=_iterator1712.n()).done;){var _t2554=_step1712.value;var _l416=_t2554.filter(function(t){return t.selected;});2===_l416.length?(e=_t2554,n=_l416):1===_l416.length?null===e?(e=_t2554,n=_l416):(i=_t2554,o=_l416):0===_l416.length&&s.push.apply(s,_toConsumableArray(_t2554));}}catch(err){_iterator1712.e(err);}finally{_iterator1712.f();}}if(2===n.length){var _i1734=e[0],_n724=e[1],_o555=e[e.length-1],_l417=new DOMPoint(_i1734.values[0],_i1734.values[1]),_a305="C"===_o555.type?new DOMPoint(_o555.values[4],_o555.values[5]):new DOMPoint(_o555.values[0],_o555.values[1]),_h234=Oe(_l417,_a305);{var _t2555=new Z(_h234.x-_i1734.values[0],_h234.y-_i1734.values[1]);_i1734.values[0]+=_t2555.x,_i1734.values[1]+=_t2555.y,"C"===_n724.type&&e.length>2&&(_n724.values[0]+=_t2555.x,_n724.values[1]+=_t2555.y);}if("C"===_o555.type){var _t2556=new Z(_h234.x-_o555.values[4],_h234.y-_o555.values[5]);_o555.values[4]+=_t2556.x,_o555.values[5]+=_t2556.y,e.length>2&&(_o555.values[2]+=_t2556.x,_o555.values[3]+=_t2556.y);}else if("L"===_o555.type){var _t2557=new Z(_h234.x-_o555.values[0],_h234.y-_o555.values[1]);_o555.values[0]+=_t2557.x,_o555.values[1]+=_t2557.y;}var _r155=[].concat(_toConsumableArray(e),[{type:"Z",values:[]}],s);_r155.forEach(function(t){return t.values=t.values.map(function(t){return K(t,_this1095.board.geometryPrecision);});}),t.setPathData(_r155),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[e.length-1]){o[0]===i[i.length-1]&&(i=rt(i));var _n725=e[e.length-1],_l418=i[0];if("C"===_n725.type){var _t2558=new DOMPoint(_n725.values[4],_n725.values[5]),_e1933=new DOMPoint(_l418.values[0],_l418.values[1]),_i1735=Oe(_t2558,_e1933);_n725.values[4]=_i1735.x,_n725.values[5]=_i1735.y;}else{var _t2559=new DOMPoint(_n725.values[0],_n725.values[1]),_e1934=new DOMPoint(_l418.values[0],_l418.values[1]),_i1736=Oe(_t2559,_e1934);_n725.values[0]=_i1736.x,_n725.values[1]=_i1736.y;}i.shift();var _a306=[].concat(_toConsumableArray(e),_toConsumableArray(i),s);_a306.forEach(function(t){return t.values=t.values.map(function(t){return K(t,_this1095.board.geometryPrecision);});}),t.setPathData(_a306),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:e.length-1}];}else if(n[0]===e[0]){o[0]===i[0]&&(i=rt(i));var _n726=e[0],_l419=i[i.length-1];if("C"===_l419.type){var _t2560=new DOMPoint(_n726.values[0],_n726.values[1]),_e1935=new DOMPoint(_l419.values[4],_l419.values[5]),_i1737=Oe(_t2560,_e1935);_l419.values[4]=_i1737.x,_l419.values[5]=_i1737.y;}else{var _t2561=new DOMPoint(_n726.values[0],_n726.values[1]),_e1936=new DOMPoint(_l419.values[0],_l419.values[1]),_i1738=Oe(_t2561,_e1936);_l419.values[0]=_i1738.x,_l419.values[1]=_i1738.y;}e.shift();var _a307=[].concat(_toConsumableArray(i),_toConsumableArray(e),s);_a307.forEach(function(t){return t.values=t.values.map(function(t){return K(t,_this1095.board.geometryPrecision);});}),t.setPathData(_a307),this.board.selectedElements=[t],this.board.pathHud.selectedNodes=[{path:t,index:i.length-1}];}}},{key:"Uz",value:function Uz(){if(2!==this.board.pathHud.selectedNodes.length)return!1;var _iterator1713=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1713;try{for(_iterator1713.s();!(_step1713=_iterator1713.n()).done;){var t=_step1713.value;var _e1937=t.path,_i1739=ot(_e1937.getPathData({normalize:!0}));for(var _e1938=t.index+1;_e1938<_i1739.length;_e1938+=1){if("Z"===_i1739[_e1938].type)return!1;if("M"===_i1739[_e1938].type)break;}{var _e1939=!!_i1739[t.index]&&"M"===_i1739[t.index].type,_s1019=!_i1739[t.index+1]||"M"===_i1739[t.index+1].type;if(!1===_e1939&&!1===_s1019)return!1;}}}catch(err){_iterator1713.e(err);}finally{_iterator1713.f();}return!0;}},{key:"Wz",value:function Wz(){var _this1096=this;if(!1===this.Yz())return;this.board.undoManager.checkpoint("Delete node");var t=ei(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1714=_createForOfIteratorHelper(t),_step1714;try{var _loop58=function _loop58(){var e=_step1714.value;var t=ot(e.getPathData({normalize:!0}));Ct(t);var i=_this1096.board.pathHud.selectedNodes.filter(function(t){return t.path===e;});i=i.sort(function(t,e){return e.index-t.index;});var s=i.filter(function(e){return"C"===t[e.index].type;}),n=i.filter(function(e){return"M"===t[e.index].type;});if(0!==i.length){var _iterator1715=_createForOfIteratorHelper(s),_step1715;try{var _loop59=function _loop59(){var e=_step1715.value;var i=t[e.index],s=t[e.index+1]||null,n=t[e.index-1]||null;if(null===s)t=t.filter(function(t){return t!==i;});else if("M"===s.type)t=t.filter(function(t){return t!==i;});else if("Z"===s.type){var _e1940=vt(i,t),_s1020=_e1940[0],_o556=_e1940[1];t=t.filter(function(t){return t!==i;}),"M"===n.type?(_s1020.values[0]=n.values[0],_s1020.values[1]=n.values[1]):"C"===n.type&&(_s1020.values[0]=n.values[4],_s1020.values[1]=n.values[5]),"C"===_o556.type&&(_o556.values[0]=i.values[0],_o556.values[1]=i.values[1]);}else"C"===s.type&&(t=t.filter(function(t){return t!==i;}),s.values[0]=i.values[0],s.values[1]=i.values[1]);};for(_iterator1715.s();!(_step1715=_iterator1715.n()).done;){_loop59();}}catch(err){_iterator1715.e(err);}finally{_iterator1715.f();}var _iterator1716=_createForOfIteratorHelper(n),_step1716;try{for(_iterator1716.s();!(_step1716=_iterator1716.n()).done;){var _e1941=_step1716.value;var _i1740=t[_e1941.index],_s1021=vt(_i1740,t);if(_s1021.length>1){(function(){var e=_s1021[0],i=_s1021[1];t=t.filter(function(t){return t!==i;}),"C"===i.type&&(e.values[0]=i.values[4],e.values[1]=i.values[5]);})();}}}catch(err){_iterator1716.e(err);}finally{_iterator1716.f();}var _iterator1717=_createForOfIteratorHelper(at(t)),_step1717;try{for(_iterator1717.s();!(_step1717=_iterator1717.n()).done;){var _e1942=_step1717.value;var _i1741=_e1942.filter(function(t){return"C"===t.type;}),_s1022="Z"===_e1942[_e1942.length-1].type?2:1;if(_i1741.length<_s1022){var _iterator1719=_createForOfIteratorHelper(_e1942),_step1719;try{var _loop60=function _loop60(){var i=_step1719.value;t=t.filter(function(t){return t!==i;});};for(_iterator1719.s();!(_step1719=_iterator1719.n()).done;){_loop60();}}catch(err){_iterator1719.e(err);}finally{_iterator1719.f();}}}}catch(err){_iterator1717.e(err);}finally{_iterator1717.f();}Mt(t);var _iterator1718=_createForOfIteratorHelper(t),_step1718;try{for(_iterator1718.s();!(_step1718=_iterator1718.n()).done;){var _e1943=_step1718.value;_e1943.values=_e1943.values.map(function(t){return K(t,_this1096.board.geometryPrecision);});}}catch(err){_iterator1718.e(err);}finally{_iterator1718.f();}e.setPathData(t),!1===e.hasAttribute("d")&&e.remove();}};for(_iterator1714.s();!(_step1714=_iterator1714.n()).done;){_loop58();}}catch(err){_iterator1714.e(err);}finally{_iterator1714.f();}this.board.pathHud.selectedNodes=[];}},{key:"Yz",value:function Yz(){return this.board.pathHud.selectedNodes.length>0;}},{key:"jz",value:function jz(){var _this1097=this;if(!1===this.Vz())return;this.board.undoManager.checkpoint("Split node");var t=ei(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1720=_createForOfIteratorHelper(t),_step1720;try{for(_iterator1720.s();!(_step1720=_iterator1720.n()).done;){var _i1742=_step1720.value;var _t2562=ot(_i1742.getPathData({normalize:!0})),_s1023=[];var _iterator1721=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1721;try{for(_iterator1721.s();!(_step1721=_iterator1721.n()).done;){var _e1944=_step1721.value;_e1944.path===_i1742&&(_t2562[_e1944.index].select=!0,_t2562[_e1944.index].split=!0);}}catch(err){_iterator1721.e(err);}finally{_iterator1721.f();}var _iterator1722=_createForOfIteratorHelper(at(_t2562)),_step1722;try{for(_iterator1722.s();!(_step1722=_iterator1722.n()).done;){var _e1945=_step1722.value;if(void 0===_e1945.find(function(t){return t.split;}))_s1023.push.apply(_s1023,_toConsumableArray(_e1945));else{var _t2564=_e1945[0],_i1743=[];if("Z"!==_e1945[_e1945.length-1].type)for(var _t2565=0;_t2565<_e1945.length;_t2565+=1){var _s1024=_e1945[_t2565],_n728=_e1945[_t2565+1]||null;_i1743.push(_s1024),!0===_s1024.split&&_n728&&("C"===_s1024.type?_i1743.push({type:"M",values:[_s1024.values[4],_s1024.values[5]]}):"L"===_s1024.type&&_i1743.push({type:"M",values:[_s1024.values[0],_s1024.values[1]]}));}else{{var _i1744=[];for(var _s1025=0;_s1025<_e1945.length;_s1025+=1){var _n729=_e1945[_s1025];if(_n729.split){"L"===_n729.type?_i1744.push({type:"M",values:[_n729.values[0],_n729.values[1]],select:!0}):"C"===_n729.type&&_i1744.push({type:"M",values:[_n729.values[4],_n729.values[5]],select:!0});for(var _n730=_s1025+1;_n730<_e1945.length;_n730+=1){var _s1026=_e1945[_n730];"Z"===_s1026.type?_i1744.push({type:"L",values:[_t2564.values[0],_t2564.values[1]]}):_i1744.push(_s1026);}for(var _t2566=0;_t2566<=_s1025;_t2566+=1){var _s1027=_e1945[_t2566];"M"!==_s1027.type&&_i1744.push(_s1027);}break;}}_e1945=_i1744;}for(var _t2567=0;_t2567<_e1945.length;_t2567+=1){var _s1028=_e1945[_t2567],_n731=_e1945[_t2567+1]||null;!0===_s1028.split?(_i1743.push(_s1028),_n731?"C"===_s1028.type?_i1743.push({type:"M",values:[_s1028.values[4],_s1028.values[5]]}):"L"===_s1028.type&&_i1743.push({type:"M",values:[_s1028.values[0],_s1028.values[1]]}):_s1028.select=!1):_i1743.push(_s1028);}}_s1023.push.apply(_s1023,_i1743);}}}catch(err){_iterator1722.e(err);}finally{_iterator1722.f();}for(var _t2563=0;_t2563<_s1023.length;_t2563+=1){var _n727=_s1023[_t2563];_n727.values=_n727.values.map(function(t){return K(t,_this1097.board.geometryPrecision);}),_n727.select&&e.push({path:_i1742,index:_t2563});}_i1742.setPathData(_s1023);}}catch(err){_iterator1720.e(err);}finally{_iterator1720.f();}this.board.pathHud.selectedNodes=e;}},{key:"Vz",value:function Vz(){var t=ei(this.board.pathHud.selectedNodes.map(function(t){return t.path;}));var _iterator1723=_createForOfIteratorHelper(t),_step1723;try{for(_iterator1723.s();!(_step1723=_iterator1723.n()).done;){var _e1946=_step1723.value;var _t2568=ot(_e1946.getPathData({normalize:!0}));var _iterator1724=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1724;try{for(_iterator1724.s();!(_step1724=_iterator1724.n()).done;){var _i1745=_step1724.value;if(_i1745.path===_e1946){var _e1947=_t2568[_i1745.index],_s1029=_t2568[_i1745.index+1];if("M"!==_e1947.type&&_s1029&&"M"!==_s1029.type)return!0;}}}catch(err){_iterator1724.e(err);}finally{_iterator1724.f();}}}catch(err){_iterator1723.e(err);}finally{_iterator1723.f();}return!1;}},{key:"Xz",value:function Xz(){var _this1098=this;if(!1===this.qz())return;this.board.undoManager.checkpoint("Break node");var t=ei(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=[];var _iterator1725=_createForOfIteratorHelper(t),_step1725;try{for(_iterator1725.s();!(_step1725=_iterator1725.n()).done;){var _i1746=_step1725.value;var _t2569=ot(_i1746.getPathData({normalize:!0})),_s1030=[];var _iterator1726=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1726;try{for(_iterator1726.s();!(_step1726=_iterator1726.n()).done;){var _e1948=_step1726.value;_e1948.path===_i1746&&(_t2569[_e1948.index].select=!0,_t2569[_e1948.index]["break"]=!0);}}catch(err){_iterator1726.e(err);}finally{_iterator1726.f();}var _iterator1727=_createForOfIteratorHelper(at(_t2569)),_step1727;try{for(_iterator1727.s();!(_step1727=_iterator1727.n()).done;){var _e1949=_step1727.value;if(0===_e1949.filter(function(t){return t.select;}).length)_s1030.push.apply(_s1030,_toConsumableArray(_e1949));else{var _t2571=_e1949[0],_i1747=[];if("Z"!==_e1949[_e1949.length-1].type)for(var _t2572=0;_t2572<_e1949.length;_t2572+=1){var _s1031=_e1949[_t2572],_n733=(_e1949[_t2572-1],_e1949[_t2572+1]||null),_o557=_e1949[_t2572+2]||null;_i1747.push(_s1031),!0===_s1031["break"]&&("M"===_s1031.type?("C"===_n733.type?_i1747.push({type:"M",values:[_n733.values[4],_n733.values[5]]}):"L"===_n733.type&&_i1747.push({type:"M",values:[_n733.values[0],_n733.values[1]]}),_t2572+=1):"C"!==_s1031.type&&"L"!==_s1031.type||(_o557&&("C"===_n733.type?_i1747.push({type:"M",values:[_n733.values[4],_n733.values[5]],select:!0}):"L"===_n733.type&&_i1747.push({type:"M",values:[_n733.values[0],_n733.values[1]],select:!0})),_t2572+=1));}else for(var _s1032=0;_s1032<_e1949.length;_s1032+=1){var _n734=_e1949[_s1032];if(_n734["break"]){var _o558=_e1949[_s1032+1];_e1949[_s1032-1];if(_o558["break"]){"L"===_o558.type?_i1747.push({type:"M",values:[_o558.values[0],_o558.values[1]],select:!0}):"C"===_o558.type&&_i1747.push({type:"M",values:[_o558.values[4],_o558.values[5]],select:!0});for(var _n735=_s1032+2;_n735<_e1949.length;_n735+=1){_e1949[_n735-1];var _s1033=_e1949[_n735];if("Z"===_s1033.type){var _e1950=_i1747[_i1747.length-1];"L"===_e1950.type?_e1950.values[0]===_t2571.values[0]&&_e1950.values[1]===_t2571.values[1]||_i1747.push({type:"L",values:[_t2571.values[0],_t2571.values[1]]}):"C"===_e1950.type&&(_e1950.values[4]===_t2571.values[0]&&_e1950.values[5]===_t2571.values[1]||_i1747.push({type:"L",values:[_t2571.values[0],_t2571.values[1]]}));}else _s1033.select=!1,_i1747.push(_s1033);}for(var _t2573=0;_t2573<=_s1032;_t2573+=1){var _n736=_e1949[_t2573];_n736.select=_t2573===_s1032,"M"!==_n736.type&&_i1747.push(_n736);}}else{"L"===_n734.type?_i1747.push({type:"M",values:[_n734.values[0],_n734.values[1]],select:!0}):"C"===_n734.type&&_i1747.push({type:"M",values:[_n734.values[4],_n734.values[5]],select:!0});for(var _t2574=_s1032+1;_t2574<_e1949.length;_t2574+=1){var _n737=_e1949[_t2574];"Z"!==_n737.type&&(_n737.select=_s1032===_e1949.length-2,_i1747.push(_n737));}_i1747[_i1747.length-1].select=!0;}break;}}_s1030.push.apply(_s1030,_i1747);}}}catch(err){_iterator1727.e(err);}finally{_iterator1727.f();}for(var _t2570=0;_t2570<_s1030.length;_t2570+=1){var _n732=_s1030[_t2570];_n732.values=_n732.values.map(function(t){return K(t,_this1098.board.geometryPrecision);}),_n732.select&&e.push({path:_i1746,index:_t2570});}_i1746.setPathData(_s1030);}}catch(err){_iterator1725.e(err);}finally{_iterator1725.f();}this.board.pathHud.selectedNodes=e;}},{key:"qz",value:function qz(){var t=ei(this.board.pathHud.selectedNodes.map(function(t){return t.path;})),e=!1;var _iterator1728=_createForOfIteratorHelper(t),_step1728;try{for(_iterator1728.s();!(_step1728=_iterator1728.n()).done;){var _i1748=_step1728.value;var _t2575=ot(_i1748.getPathData({normalize:!0}));var _iterator1729=_createForOfIteratorHelper(this.board.pathHud.selectedNodes),_step1729;try{for(_iterator1729.s();!(_step1729=_iterator1729.n()).done;){var _e1951=_step1729.value;_e1951.path===_i1748&&(_t2575[_e1951.index].selected=!0);}}catch(err){_iterator1729.e(err);}finally{_iterator1729.f();}var _iterator1730=_createForOfIteratorHelper(at(_t2575)),_step1730;try{for(_iterator1730.s();!(_step1730=_iterator1730.n()).done;){var _i1749=_step1730.value;var _t2576=_i1749.filter(function(t){return t.selected;});if(2===_t2576.length){var _t2577=null,_s1034=null,_n738="Z"===_i1749[_i1749.length-1].type;for(var _e1952=0;_e1952<_i1749.length;_e1952+=1){_i1749[_e1952].selected&&(null===_t2577?_t2577=_e1952:_s1034=_e1952);}if(_t2577===_s1034-1){e=!0;continue;}if(_n738&&1===_t2577&&_s1034===_i1749.length-2){e=!0;continue;}return!1;}if(0!==_t2576.length)return!1;}}catch(err){_iterator1730.e(err);}finally{_iterator1730.f();}}}catch(err){_iterator1728.e(err);}finally{_iterator1728.f();}return e;}},{key:"vz",value:function vz(){if(!1!==this.wz()){this.board.undoManager.checkpoint("Reverse");var _iterator1731=_createForOfIteratorHelper(this.board.selectedElements),_step1731;try{for(_iterator1731.s();!(_step1731=_iterator1731.n()).done;){var t=_step1731.value;"path"===t.localName&&!1===t.hasAttribute("data-bx-shape")&&ht(t);}}catch(err){_iterator1731.e(err);}finally{_iterator1731.f();}}}},{key:"wz",value:function wz(){var _iterator1732=_createForOfIteratorHelper(this.board.selectedElements),_step1732;try{for(_iterator1732.s();!(_step1732=_iterator1732.n()).done;){var t=_step1732.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape"))return!0;}}catch(err){_iterator1732.e(err);}finally{_iterator1732.f();}return!1;}},{key:"fz",value:function fz(){if(!1!==this.gz()){this.board.undoManager.checkpoint("Reorient");var _iterator1733=_createForOfIteratorHelper(this.board.selectedElements),_step1733;try{for(_iterator1733.s();!(_step1733=_iterator1733.n()).done;){var t=_step1733.value;"path"===t.localName?t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape")&&fa(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}):["line","polygon","polyline","circle"].includes(t.localName)&&fa(t,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1});}}catch(err){_iterator1733.e(err);}finally{_iterator1733.f();}}}},{key:"gz",value:function gz(){var _iterator1734=_createForOfIteratorHelper(this.board.selectedElements),_step1734;try{for(_iterator1734.s();!(_step1734=_iterator1734.n()).done;){var t=_step1734.value;if("path"===t.localName){if(t.hasAttribute("transform")&&!1===t.hasAttribute("data-bx-shape"))return!0;}else if(["line","polygon","polyline","circle"].includes(t.localName))return t.hasAttribute("transform");}}catch(err){_iterator1734.e(err);}finally{_iterator1734.f();}return!1;}},{key:"Dz",value:function Dz(){if(!1===this.Pz())return;this.board.undoManager.checkpoint("Join paths");var _this$board$selectedE=_toArray(this.board.selectedElements),t=_this$board$selectedE[0],e=_this$board$selectedE.slice(1),i=[];var _iterator1735=_createForOfIteratorHelper(this.board.selectedElements),_step1735;try{for(_iterator1735.s();!(_step1735=_iterator1735.n()).done;){var _e1953=_step1735.value;var _s1035=void 0;"rect"===_e1953.localName?_s1035=ph(_e1953,this.board.geometryPrecision):"circle"===_e1953.localName?_s1035=uh(_e1953):"ellipse"===_e1953.localName?_s1035=xh(_e1953):"line"===_e1953.localName?_s1035=bh(_e1953):"polyline"===_e1953.localName?_s1035=mh(_e1953):"polygon"===_e1953.localName?_s1035=gh(_e1953):"path"===_e1953.localName&&(_s1035=_e1953.cloneNode(),_s1035.removeAttribute("data-bx-shape"));var _n739=jt(_e1953,t.parentElement).toString();_s1035.setAttribute("transform",_n739),_s1035.setPathData(_s1035.getPathData({normalize:!0})),fa(_s1035,{geometryPrecision:this.board.geometryPrecision,transformPrecision:this.board.transformPrecision,preserveRotation:!1}),i.push(_s1035);}}catch(err){_iterator1735.e(err);}finally{_iterator1735.f();}var s=i[0],n=i.slice(1),o=s.getPathData();var _iterator1736=_createForOfIteratorHelper(n),_step1736;try{for(_iterator1736.s();!(_step1736=_iterator1736.n()).done;){var _t2578=_step1736.value;var _e1954=_t2578.getPathData();o=[].concat(_toConsumableArray(o),_toConsumableArray(_e1954));}}catch(err){_iterator1736.e(err);}finally{_iterator1736.f();}s.setPathData(o),t.replaceWith(s);var _iterator1737=_createForOfIteratorHelper(e),_step1737;try{for(_iterator1737.s();!(_step1737=_iterator1737.n()).done;){var _t2579=_step1737.value;_t2579.remove();}}catch(err){_iterator1737.e(err);}finally{_iterator1737.f();}this.board.selectedElements=[s];}},{key:"Pz",value:function Pz(){if(this.board.selectedElements.length<2)return!1;var t=["rect","circle","ellipse","line","polygon","polyline","path"];var _iterator1738=_createForOfIteratorHelper(this.board.selectedElements),_step1738;try{for(_iterator1738.s();!(_step1738=_iterator1738.n()).done;){var _e1955=_step1738.value;if(!1===t.includes(_e1955.localName))return!1;}}catch(err){_iterator1738.e(err);}finally{_iterator1738.f();}return!0;}},{key:"Oz",value:function Oz(){if(!1===this.zz())return;this.board.undoManager.checkpoint("Break Apart");var _this$board$selectedE2=_toArray(this.board.selectedElements),t=_this$board$selectedE2[0],e=_this$board$selectedE2.slice(1),i=[];var _iterator1739=_createForOfIteratorHelper(this.board.selectedElements),_step1739;try{for(_iterator1739.s();!(_step1739=_iterator1739.n()).done;){var _t2580=_step1739.value;if("path"===_t2580.localName){var _e1956=ot(_t2580.getPathData({normalize:!0})),_s1036=at(_e1956);if(_s1036.length>1){var _s1037=_toArray(_s1036),_e1957=_s1037[0],_n740=_s1037.slice(1),_o559=_t2580;_o559.setPathData(_e1957),i.push(_o559);var _iterator1740=_createForOfIteratorHelper(_n740),_step1740;try{for(_iterator1740.s();!(_step1740=_iterator1740.n()).done;){var _t2581=_step1740.value;var _e1958=_o559.cloneNode();_e1958.setPathData(_t2581),_o559.after(_e1958),i.push(_e1958);for(var _i1750=0,_arr90=["fill","stroke"];_i1750<_arr90.length;_i1750++){var _t2582=_arr90[_i1750];var _i1751=Ko(_e1958,_t2582);if(_i1751)if("linearGradient"===_i1751.localName||"radialGradient"===_i1751.localName){var _s1038=_i1751,_n741=So(_s1038);if(_n741){var _i1752=_s1038.cloneNode();_i1752.id=this.board.generateUniqueID("gradient"),_i1752.setAttribute("href","#"+_n741.id),_s1038.after(_i1752),_e1958.style.setProperty(_t2582,"url(\"#".concat(_i1752.id,"\")"));}else{var _i1753=_s1038.cloneNode(!0);_i1753.id=this.board.generateUniqueID("gradient"),_s1038.after(_i1753),_e1958.style.setProperty(_t2582,"url(\"#".concat(_i1753.id,"\")"));}}else if("pattern"===_i1751.localName){var _s1039=_i1751;if(_s1039.hasAttribute("href")){var _i1754=No(_s1039),_n742=_s1039.cloneNode();_n742.id=this.board.generateUniqueID(_i1754.id),_s1039.after(_n742),_e1958.style.setProperty(_t2582,"url(\"#".concat(_n742.id,"\")"));}else{var _i1755=Ei("svg:pattern");_i1755.id=this.board.generateUniqueID(_s1039.id),_i1755.setAttribute("href","#"+_s1039.id),_s1039.after(_i1755),_e1958.style.setProperty(_t2582,"url(\"#".concat(_i1755.id,"\")"));}}}}}catch(err){_iterator1740.e(err);}finally{_iterator1740.f();}}else i.push(_t2580);}else i.push(_t2580);}}catch(err){_iterator1739.e(err);}finally{_iterator1739.f();}this.board.selectedElements=i;}},{key:"zz",value:function zz(){var _iterator1741=_createForOfIteratorHelper(this.board.selectedElements),_step1741;try{for(_iterator1741.s();!(_step1741=_iterator1741.n()).done;){var t=_step1741.value;if("path"===t.localName&&!1===t.hasAttribute("data-bx-shape")){var _e1959=ot(t.getPathData({normalize:!0}));if(at(_e1959).length>1)return!0;}}}catch(err){_iterator1741.e(err);}finally{_iterator1741.f();}return!1;}},{key:"Mz",value:function(){var _Mz=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee245(t){var _this$board,e,i,_this$board$outermost5,_i1756,_s1040,_n743,_o560,_l420,_a308,_h235,_e1960,_n744,_l421,_t2583,_l422,_r156,_d122,_c93,_p81,_s1041,_n745,_this$board$outermost6,_s1042,_n746,_o561,_iterator1742,_step1742,_t2584,_n747,_l424,_l423,_a309,_iterator1743,_step1743,_i1757,_s1043,_n748,_o562,_iterator1744,_step1744,_t2585;return regeneratorRuntime.wrap(function _callee245$(_context246){while(1){switch(_context246.prev=_context246.next){case 0:if(!(!1===this.Cz(t))){_context246.next=2;break;}return _context246.abrupt("return");case 2:this.board.undoManager.checkpoint(oi(t));_this$board=this.board,e=_this$board.geometryPrecision,i=_this$board.transformPrecision;if(!("image"===this.board.outermostSelectedElements[0].localName)){_context246.next=29;break;}_this$board$outermost5=_slicedToArray(this.board.outermostSelectedElements,2),_i1756=_this$board$outermost5[0],_s1040=_this$board$outermost5[1],_n743=document.createElement("canvas"),_o560=_n743.getContext("2d"),_l420=new Image();_l420.setAttribute("src",_i1756.getAttribute("href"));_context246.next=9;return new Promise(function(t){return _l420.onload=t;});case 9:_a308=_l420.naturalWidth/_i1756.width.baseVal.value,_h235=_l420.naturalHeight/_i1756.height.baseVal.value;_n743.width=_l420.naturalWidth,_n743.height=_l420.naturalHeight,_o560.imageSmoothingEnabled=!1,_o560.drawImage(_l420,0,0,_l420.naturalWidth,_l420.naturalHeight);_e1960=new DOMMatrix();_e1960=_e1960.scale(_a308,_h235),_e1960=_e1960.translate(-_i1756.x.baseVal.value,-_i1756.y.baseVal.value),_e1960=_e1960.multiply(jt(_s1040,_i1756));_n744=_s1040.getPathData({normalize:!0});_n744=se(_n744,_e1960),_n744.forEach(function(t){return t.values=t.values.map(function(t){return K(t,0);});});_l421=new Path2D(it(_n744));"subtract"===t?_o560.globalCompositeOperation="destination-out":"intersect"===t&&(_o560.globalCompositeOperation="destination-in"),_o560.imageSmoothingEnabled=!1,_o560.fillStyle="black",_o560.fill(_l421);_t2583=Xh(_n743);_l422=_o560.getImageData(0,0,_n743.width,_n743.height);_r156=UPNG.encode([_l422.data.buffer],_l422.width,_l422.height,0);_d122=new Uint8Array(_r156);_c93=new Blob([_d122],{type:"image/png"});_context246.next=24;return jh(_c93);case 24:_p81=_context246.sent;if(_i1756.setAttribute("href",_p81),_i1756.setAttribute("width",_n743.width/_a308),_i1756.setAttribute("height",_n743.height/_h235),_t2583){_s1041=_i1756.x.baseVal.value+_t2583.x/_a308,_n745=_i1756.y.baseVal.value+_t2583.y/_h235;_i1756.setAttribute("x",K(_s1041,e)),_i1756.setAttribute("y",K(_n745,e));}_s1040.remove(),this.board.selectedElements=[_i1756],_i1756.parentElement===this.board.currentWorkspace?this.board.currentContainer=null:this.board.currentContainer=_i1756.parentElement;_context246.next=39;break;case 29:_this$board$outermost6=_toArray(this.board.outermostSelectedElements),_s1042=_this$board$outermost6[0],_n746=_this$board$outermost6.slice(1),_o561=[];_iterator1742=_createForOfIteratorHelper(this.board.outermostSelectedElements);try{for(_iterator1742.s();!(_step1742=_iterator1742.n()).done;){_t2584=_step1742.value;_n747=void 0;"rect"===_t2584.localName?_n747=ph(_t2584,this.board.geometryPrecision):"circle"===_t2584.localName?_n747=uh(_t2584):"ellipse"===_t2584.localName?_n747=xh(_t2584):"line"===_t2584.localName?_n747=bh(_t2584):"polyline"===_t2584.localName?_n747=mh(_t2584):"polygon"===_t2584.localName?_n747=gh(_t2584):"path"===_t2584.localName&&(_n747=_t2584.cloneNode(),_n747.hasAttribute("data-bx-shape")&&_n747.removeAttribute("data-bx-shape"));_l424=jt(_t2584,_s1042.parentElement).toString();_n747.setAttribute("transform",_l424),_n747.setPathData(_n747.getPathData({normalize:!0})),fa(_n747,{geometryPrecision:e,transformPrecision:i,preserveRotation:!1}),_o561.push(_n747);}}catch(err){_iterator1742.e(err);}finally{_iterator1742.f();}_l423=_o561[0],_a309=_o561.slice(1);_iterator1743=_createForOfIteratorHelper(_a309);try{for(_iterator1743.s();!(_step1743=_iterator1743.n()).done;){_i1757=_step1743.value;_s1043=_l423.getPathData(),_n748=_i1757.getPathData(),_o562=[];"unite"===t?_o562=Jh(_s1043,_n748,e):"subtract"===t?_o562=tr(_s1043,_n748,e):"intersect"===t?_o562=er(_s1043,_n748,e):"exclude"===t&&(_o562=ir(_s1043,_n748,e)),_l423.setPathData(_o562);}}catch(err){_iterator1743.e(err);}finally{_iterator1743.f();}_l423.hasAttribute("d")?(_s1042.replaceWith(_l423),_l423.removeAttribute("data-bx-origin")):_s1042.remove();_iterator1744=_createForOfIteratorHelper(_n746);try{for(_iterator1744.s();!(_step1744=_iterator1744.n()).done;){_t2585=_step1744.value;_t2585.remove();}}catch(err){_iterator1744.e(err);}finally{_iterator1744.f();}_l423.hasAttribute("d")?this.board.selectedElements=[_l423]:this.board.selectedElements=[];case 39:case"end":return _context246.stop();}}},_callee245,this);}));function Mz(_x235){return _Mz.apply(this,arguments);}return Mz;}()},{key:"Cz",value:function Cz(t){return this.tO(t)||this.eO(t);}},{key:"tO",value:function tO(t){if(this.board.outermostSelectedElements.length<2)return!1;var _iterator1745=_createForOfIteratorHelper(this.board.outermostSelectedElements),_step1745;try{for(_iterator1745.s();!(_step1745=_iterator1745.n()).done;){var _t2586=_step1745.value;if(!1===x.includes(_t2586.localName))return!1;}}catch(err){_iterator1745.e(err);}finally{_iterator1745.f();}return!0;}},{key:"eO",value:function eO(t){var _this$board$outermost7=_toArray(this.board.outermostSelectedElements),e=_this$board$outermost7[0],i=_this$board$outermost7.slice(1);return("subtract"===t||"intersect"===t)&&!(!e||"image"!==e.localName)&&1===i.length&&!1!==x.includes(i[0].localName);}},{key:"Hx",value:function Hx(){var t=["circle","ellipse","line","path","polygon","polyline","rect","text","use"],e=[],i=function i(s){var _iterator1746=_createForOfIteratorHelper(s),_step1746;try{for(_iterator1746.s();!(_step1746=_iterator1746.n()).done;){var _n749=_step1746.value;t.includes(_n749.localName)?e.push(_n749):"g"!==_n749.localName&&"a"!==_n749.localName||i(_n749.children);}}catch(err){_iterator1746.e(err);}finally{_iterator1746.f();}};return i(this.board.outermostSelectedElements),e;}}]);return Mw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Mw,"_shadowTemplate",qi(_templateObject548()));_defineProperty(Mw,"_shadowStyleSheet",Xi(_templateObject549()));customElements.define("bx-editor",Mw);var Pw=/*#__PURE__*/function(_HTMLElement140){_inherits(Pw,_HTMLElement140);var _super241=_createSuper(Pw);_createClass(Pw,[{key:"enabled",get:function get(){return this.hasAttribute("enabled");},set:function set(t){t?this.setAttribute("enabled",""):this.removeAttribute("enabled");}}]);function Pw(){var _this1099;_classCallCheck(this,Pw);_this1099=_super241.call(this),_this1099._shadowRoot=_this1099.attachShadow({mode:"closed"}),_this1099._shadowRoot.append(document.importNode(_this1099.constructor._shadowTemplate.content,!0)),_this1099._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Pw._shadowStyleSheet,_this1099.constructor._shadowStyleSheet];var _iterator1747=_createForOfIteratorHelper(_this1099._shadowRoot.querySelectorAll("[id]")),_step1747;try{for(_iterator1747.s();!(_step1747=_iterator1747.n()).done;){var t=_step1747.value;_this1099["#"+t.id]=t;}}catch(err){_iterator1747.e(err);}finally{_iterator1747.f();}_this1099.setAttribute("extends","bx-appsettings");return _this1099;}_createClass(Pw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app");}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"enabled"===t&&(this.enabled?this.tn():this.sn());}},{key:"tn",value:function tn(){}},{key:"sn",value:function sn(){}}]);return Pw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Pw,"observedAttributes",["enabled"]);_defineProperty(Pw,"_shadowStyleSheet",Xi(_templateObject550()));var Dw=/*#__PURE__*/function(_Pw){_inherits(Dw,_Pw);var _super242=_createSuper(Dw);function Dw(){var _this1100;_classCallCheck(this,Dw);_this1100=_super242.call(this),_this1100["#hardware-acceleration-checkbox"].addEventListener("toggle",function(){_this1100.Qs.hardwareAcceleration=_this1100["#hardware-acceleration-checkbox"].toggled;}),_this1100["#recent-files-select"].addEventListener("change",function(){var t=parseInt(_this1100["#recent-files-select"].value);_this1100.Qs.setConfig("bx-generalsettings:maxRecentFiles",t),_this1100.Qs.clearExcessiveRecentFiles&&_this1100.Qs.clearExcessiveRecentFiles(t);});return _this1100;}_createClass(Dw,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function(){var _qs8=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee246(){var t,e,i;return regeneratorRuntime.wrap(function _callee246$(_context247){while(1){switch(_context247.prev=_context247.next){case 0:_context247.next=2;return this.Qs.hardwareAcceleration;case 2:t=_context247.sent;e=this.Qs.getConfig("bx-generalsettings:maxRecentFiles",5);i=this.Qs.matches("bx-webapp, bx-portalapp");this["#hardware-acceleration-section"].hidden=i,this["#hardware-acceleration-checkbox"].toggled=t,this["#recent-files-section"].hidden=!i,this["#recent-files-select"].value=e+"",this["#hr-1"].hidden=this["#hardware-acceleration-section"].hidden||this["#recent-files-section"].hidden;case 6:case"end":return _context247.stop();}}},_callee246,this);}));function qs(){return _qs8.apply(this,arguments);}return qs;}()}]);return Dw;}(Pw);_defineProperty(Dw,"_shadowTemplate",qi(_templateObject551()));_defineProperty(Dw,"_shadowStyleSheet",Xi(_templateObject552()));customElements.define("bx-generalsettings",Dw);var zw=/*#__PURE__*/function(_Pw2){_inherits(zw,_Pw2);var _super243=_createSuper(zw);function zw(){var _this1101;_classCallCheck(this,zw);_this1101=_super243.call(this),_this1101["#theme-select"].addEventListener("change",function(){return _this1101.iO();}),_this1101["#color-scheme-select"].addEventListener("change",function(){return _this1101.sO();}),_this1101["#accent-color-preset-select"].addEventListener("change",function(t){return _this1101.nO(t);}),_this1101["#accent-color-select"].addEventListener("changestart",function(t){return _this1101.oO(t);}),_this1101["#widgets-size-select"].addEventListener("change",function(){return _this1101.lO();}),_this1101["#show-install-button-checkbox"].addEventListener("toggle",function(){_this1101.Qs.setConfig("bx-uisettings:showInstallButton",_this1101["#show-install-button-checkbox"].toggled);}),_this1101["#show-cloud-button-checkbox"].addEventListener("toggle",function(){_this1101.Qs.setConfig("bx-uisettings:showCloudButton",_this1101["#show-cloud-button-checkbox"].toggled);}),_this1101["#show-profile-button-checkbox"].addEventListener("toggle",function(){_this1101.Qs.setConfig("bx-uisettings:showProfileButton",_this1101["#show-profile-button-checkbox"].toggled);}),_this1101["#show-dock-tooltips-checkbox"].addEventListener("toggle",function(){_this1101.Qs.setConfig("bx-uisettings:showDockTooltips",_this1101["#show-dock-tooltips-checkbox"].toggled);}),_this1101["#limit-scrollable-area-checkbox"].addEventListener("toggle",function(){_this1101.Qs.setConfig("bx-uisettings:limitScrollableArea",_this1101["#limit-scrollable-area-checkbox"].toggled);}),_this1101["#show-view-outline-above-objects-checkbox"].addEventListener("toggle",function(){_this1101.Qs.setConfig("bx-uisettings:showViewOutlineAboveObjects",_this1101["#show-view-outline-above-objects-checkbox"].toggled);});return _this1101;}_createClass(zw,[{key:"tn",value:function(){var _tn4=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee247(){var _this1102=this;return regeneratorRuntime.wrap(function _callee247$(_context248){while(1){switch(_context248.prev=_context248.next){case 0:_context248.next=2;return Ls.whenThemeReady;case 2:this.qs();this.aO=window.matchMedia("(prefers-color-scheme: dark)");this.Qs.addEventListener("userchange",this.vC=function(){return _this1102.qs();});this.Qs.addEventListener("installedchange",this.hO=function(){return _this1102.qs();});this.aO.addEventListener("change",this.rO=function(){return _this1102.qs();});Ls.addEventListener("themechange",this.dO=function(){return _this1102.qs();});Ls.addEventListener("accentcolorchange",this.cO=function(){return _this1102.qs();});case 9:case"end":return _context248.stop();}}},_callee247,this);}));function tn(){return _tn4.apply(this,arguments);}return tn;}()},{key:"sn",value:function sn(){this.Qs.removeEventListener("userchange",this.vC),this.Qs.removeEventListener("installedchange",this.hO),this.aO.removeEventListener("change",this.rO),Ls.removeEventListener("themechange",this.dO),Ls.removeEventListener("accentcolorchange",this.cO);}},{key:"iO",value:function iO(){this.Qs.setConfig("bx-uisettings:theme",this["#theme-select"].value);}},{key:"sO",value:function sO(){var t=this["#color-scheme-select"].value;"bx-macapp"===this.Qs.localName?this.Qs.setColorScheme(t):this.Qs.setConfig("bx-uisettings:colorScheme",t),this.qs();}},{key:"nO",value:function nO(){"custom"===this["#accent-color-preset-select"].value?(this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-select"].value),this["#accent-color-select"].click()):"auto"===this["#accent-color-preset-select"].value?this.Qs.setConfig("bx-uisettings:accentColor","auto"):this.Qs.setConfig("bx-uisettings:accentColor",this["#accent-color-preset-select"].value);}},{key:"oO",value:function oO(){var _this1103=this;var t,_e1961;this["#accent-color-preset-select"].value="custom",this["#accent-color-select"].addEventListener("change",t=Ki(function(){_this1103.Qs.setConfig("bx-uisettings:accentColor",_this1103["#accent-color-select"].value);},150)),this["#accent-color-select"].addEventListener("changeend",_e1961=function e(){_this1103["#accent-color-select"].removeEventListener("change",t),_this1103["#accent-color-select"].removeEventListener("changeend",_e1961);});}},{key:"lO",value:function lO(){this.Qs.setConfig("bx-uisettings:widgetsSize",this["#widgets-size-select"].value);}},{key:"qs",value:function(){var _qs9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee248(){var _e1962,_i1758,_t2587,_e1963,_t2588,_t2589,_t2590,_e1964,_t2591,_i1759,_arr91,_e1965,_i1760,_e1966,_i1761,_e1967,_i1762,_s1044,_i1763,_t2592,_e1968,_tf5,_tf6,_t2593,_t2594,_t2595,_e1969;return regeneratorRuntime.wrap(function _callee248$(_context249){while(1){switch(_context249.prev=_context249.next){case 0:if("bx-macapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-chromeapp"===this.Qs.localName)this["#theme-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1962=this.Qs.getConfig("bx-uisettings:theme","auto"),_i1758=null;"cupertino"===_e1962&&!1===t&&(_e1962="auto"),_i1758=navigator.platform.startsWith("Mac")?"cupertino":navigator.platform.startsWith("Win")?"fluent":navigator.platform.startsWith("Linux")?(navigator.userAgent.includes("CrOS")||navigator.userAgent.includes("Android"),"vanilla"):"vanilla",this["#auto-theme-label"].textContent="Auto ("+oi(_i1758)+")",this["#cupertino-theme-select-item"].hidden=!1===t,this["#theme-select"].value=_e1962;}if(!("bx-macapp"===this.Qs.localName)){_context249.next=14;break;}_context249.next=4;return this.Qs.getColorScheme();case 4:_t2587=_context249.sent;_e1963="Auto";if(!("auto"===_t2587)){_context249.next=11;break;}_context249.next=9;return this.Qs.getColorScheme(!0);case 9:_t2588=_context249.sent;_e1963+=" ("+oi(_t2588)+")";case 11:this["#auto-color-scheme-label"].textContent=_e1963,this["#color-scheme-select"].value=_t2587;_context249.next=15;break;case 14:if("bx-linuxapp"===this.Qs.localName){_t2589=this.Qs.getConfig("bx-uisettings:colorScheme","light");this["#color-scheme-menu"].children[0].hidden=!0,this["#color-scheme-menu"].children[1].hidden=!0,this["#color-scheme-select"].value=_t2589;}else if("bx-chromeapp"===this.Qs.localName||"bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_t2590=this.Qs.getConfig("bx-uisettings:colorScheme","auto"),_e1964=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";this["#auto-color-scheme-label"].textContent="Auto ("+oi(_e1964)+")",this["#color-scheme-select"].value=_t2590;}case 15:_t2591=Ls.presetAccentColors;for(_i1759=0,_arr91=_toConsumableArray(this["#accent-color-preset-menu"].querySelectorAll("x-swatch"));_i1759<_arr91.length;_i1759++){_e1965=_arr91[_i1759];_i1760=_e1965.parentElement;_e1965.value=_t2591[_i1760.value];}if("bx-macapp"===this.Qs.localName)this["#accent-color-subsection"].hidden=!0;else if("bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName){_e1966=this.Qs.getConfig("bx-uisettings:accentColor","blue"),_i1761=!!_t2591[_e1966];this["#accent-color-preset-menu"].children[0].hidden=!0,this["#accent-color-preset-menu"].children[1].hidden=!0,this["#accent-color-preset-select"].value=_i1761?_e1966:"custom",this["#accent-color-select"].value=_i1761?_t2591[_e1966]:_e1966;}else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_e1967=this.Qs.getConfig("bx-uisettings:accentColor","auto"),_i1762=this.Qs.getSystemAccentColorName(),_s1044=_t2591[_i1762];if(this["#auto-accent-color-preset-label"].textContent="Auto ("+oi(_i1762)+")",this["#auto-accent-color-preset-swatch"].value=_s1044,"auto"===_e1967)this["#accent-color-preset-select"].value="auto",this["#accent-color-select"].value=_s1044;else{_i1763=!!_t2591[_e1967];this["#accent-color-preset-select"].value=_i1763?_e1967:"custom",this["#accent-color-select"].value=_i1763?_t2591[_e1967]:_e1967;}}if("bx-macapp"===this.Qs.localName)this["#widgets-size-subsection"].hidden=!0;else{_t2592=this.Qs.getConfig("bx-uisettings:widgetsSize","auto"),_e1968=null;_e1968=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large",this["#auto-widgets-size-label"].textContent="Auto ("+oi(_e1968)+")",this["#widgets-size-select"].value=_t2592;}if(this["#size-section"].hidden=this["#widgets-size-subsection"].hidden,"bx-macapp"===this.Qs.localName||"bx-linuxapp"===this.Qs.localName||"bx-chromeapp"===this.Qs.localName)this["#menubar-section"].hidden=!0;else if("bx-webapp"===this.Qs.localName||"bx-portalapp"===this.Qs.localName){_tf5=tf(this.Qs.userSubscription,this.Qs.user),_tf6=_slicedToArray(_tf5,1),_t2593=_tf6[0];this["#show-install-button-checkbox"].hidden=!0===this.Qs.isInstalled,this["#show-install-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showInstallButton",!0),this["#show-cloud-button-checkbox"].hidden=null===_t2593||_t2593===e,this["#show-cloud-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showCloudButton",!0),this["#show-profile-button-checkbox"].hidden=null===this.Qs.user,this["#show-profile-button-checkbox"].toggled=this.Qs.getConfig("bx-uisettings:showProfileButton",!0),this["#menubar-section"].hidden=this["#show-install-button-checkbox"].hidden&&this["#show-cloud-button-checkbox"].hidden&&this["#show-profile-button-checkbox"].hidden;}_t2594=this.Qs.getConfig("bx-uisettings:showDockTooltips",!0);this["#show-dock-tooltips-checkbox"].toggled=_t2594;_t2595=this.Qs.getConfig("bx-uisettings:limitScrollableArea",!1),_e1969=this.Qs.getConfig("bx-uisettings:showViewOutlineAboveObjects",!1);this["#limit-scrollable-area-checkbox"].toggled=_t2595,this["#show-view-outline-above-objects-checkbox"].toggled=_e1969;case 24:case"end":return _context249.stop();}}},_callee248,this);}));function qs(){return _qs9.apply(this,arguments);}return qs;}()}]);return zw;}(Pw);_defineProperty(zw,"_shadowTemplate",qi(_templateObject553()));_defineProperty(zw,"_shadowStyleSheet",Xi(_templateObject554()));customElements.define("bx-uisettings",zw);var Ow=/*#__PURE__*/function(_Pw3){_inherits(Ow,_Pw3);var _super244=_createSuper(Ow);function Ow(){var _this1104;_classCallCheck(this,Ow);_this1104=_super244.call(this),_this1104["#geometry-precision-slider"].addEventListener("changeend",function(){_this1104.Qs.setConfig("bx-markupsettings:geometryPrecision",_this1104["#geometry-precision-slider"].value);}),_this1104["#transform-precision-slider"].addEventListener("changeend",function(){_this1104.Qs.setConfig("bx-markupsettings:transformPrecision",_this1104["#transform-precision-slider"].value);}),_this1104["#indentation-slider"].addEventListener("changeend",function(){_this1104.Qs.setConfig("bx-markupsettings:indentation",_this1104["#indentation-slider"].value);});return _this1104;}_createClass(Ow,[{key:"tn",value:function tn(){this.qs();}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-markupsettings:geometryPrecision",3),e=this.Qs.getConfig("bx-markupsettings:transformPrecision",6),i=this.Qs.getConfig("bx-markupsettings:indentation",2);this["#geometry-precision-slider"].value=t,this["#transform-precision-slider"].value=e,this["#indentation-slider"].value=i;}}]);return Ow;}(Pw);_defineProperty(Ow,"_shadowTemplate",qi(_templateObject555()));customElements.define("bx-markupsettings",Ow);var Ew=/*#__PURE__*/function(_Pw4){_inherits(Ew,_Pw4);var _super245=_createSuper(Ew);function Ew(){var _this1105;_classCallCheck(this,Ew);_this1105=_super245.call(this),_this1105["#defs-section"].addEventListener("toggle",function(t){_this1105.pO(t);});return _this1105;}_createClass(Ew,[{key:"tn",value:function tn(){this.qs();}},{key:"pO",value:function pO(t){this.Qs.setConfig("bx-garbagecollectorsettings:collectOptions",{colors:this["#colors-buttons"].value,gradients:this["#gradients-buttons"].value,patterns:this["#patterns-buttons"].value,markers:this["#markers-buttons"].value,symbols:this["#symbols-buttons"].value,filters:this["#filters-buttons"].value,fonts:this["#fonts-buttons"].value});}},{key:"qs",value:function qs(){var t=this.Qs.getConfig("bx-garbagecollectorsettings:collectOptions",Yp);this["#colors-buttons"].value=t.colors,this["#gradients-buttons"].value=t.gradients,this["#patterns-buttons"].value=t.patterns,this["#markers-buttons"].value=t.markers,this["#symbols-buttons"].value=t.symbols,this["#filters-buttons"].value=t.filters,this["#fonts-buttons"].value=t.fonts;}}]);return Ew;}(Pw);_defineProperty(Ew,"_shadowTemplate",qi(_templateObject556()));_defineProperty(Ew,"_shadowStyleSheet",Xi(_templateObject557()));customElements.define("bx-garbagecollectorsettings",Ew);var Tw=Symbol(),Aw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Shift+ArrowUp","Shift+ArrowDown","Shift+ArrowLeft","Shift+ArrowRight","Tab","Escape","Enter"];var $w=/*#__PURE__*/function(_HTMLElement141){_inherits($w,_HTMLElement141);var _super246=_createSuper($w);_createClass($w,[{key:"value",get:function get(){return this.uO;},set:function set(t){this.uO=t,!0===this.xO&&this.qs();}}]);function $w(){var _this1106;_classCallCheck(this,$w);_this1106=_super246.call(this),_this1106.uO={},_this1106.xO=!1,_this1106._shadowRoot=_this1106.attachShadow({mode:"closed"}),_this1106._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,$w._shadowStyleSheet],_this1106._shadowRoot.append(document.importNode($w._shadowTemplate.content,!0));var _iterator1748=_createForOfIteratorHelper(_this1106._shadowRoot.querySelectorAll("[id]")),_step1748;try{for(_iterator1748.s();!(_step1748=_iterator1748.n()).done;){var _t2596=_step1748.value;_this1106["#"+_t2596.id]=_t2596;}}catch(err){_iterator1748.e(err);}finally{_iterator1748.f();}_this1106._shadowRoot.addEventListener("keydown",function(t){return _this1106.vn(t);}),_this1106["#items"].addEventListener("blur",function(){return _this1106.bO();}),_this1106["#items"].addEventListener("click",function(t){return _this1106.Jc(t);}),_this1106["#items"].addEventListener("scroll",function(){return _this1106.fv();}),_this1106["#filter-input"].addEventListener("input",function(){return _this1106.J_();}),_this1106["#filter-buttons"].addEventListener("toggle",function(){return _this1106.mO();}),_this1106["#filter-buttons"].addEventListener("click",function(){return _this1106["#items"].focus();});return _this1106;}_createClass($w,[{key:"connectedCallback",value:function connectedCallback(){var _this1107=this;this.Qs=Ii(this,"#app"),this.xO=!0,this.qs(),Ls.addEventListener("sizechange",this.sp=function(){_this1107.gO();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.sp);}},{key:"bO",value:function bO(){var t=this["#items"].querySelector(".item[data-editable]");t&&(t.removeAttribute("data-editable"),this.fO(t));}},{key:"Jc",value:function Jc(t){var e=t.target.closest(".reset-button"),i=t.target.closest(".item");if(e)this.qn(t);else if(i)this.ev(t);else{var _iterator1749=_createForOfIteratorHelper(this["#items"].children),_step1749;try{for(_iterator1749.s();!(_step1749=_iterator1749.n()).done;){var _t2597=_step1749.value;_t2597.hasAttribute("data-editable")&&(_t2597.removeAttribute("data-editable"),this.fO(_t2597));}}catch(err){_iterator1749.e(err);}finally{_iterator1749.f();}}}},{key:"ev",value:function ev(t){var e=t.target.closest(".item");if(2===t.detail)!1===e.hasAttribute("data-editable")&&(e.setAttribute("data-editable",""),this.fO(e));else{var _iterator1750=_createForOfIteratorHelper(this["#items"].children),_step1750;try{for(_iterator1750.s();!(_step1750=_iterator1750.n()).done;){var _t2598=_step1750.value;_t2598===e?_t2598.setAttribute("data-selected",""):_t2598.removeAttribute("data-selected"),_t2598.hasAttribute("data-editable")&&(_t2598.removeAttribute("data-editable"),this.fO(_t2598));}}catch(err){_iterator1750.e(err);}finally{_iterator1750.f();}}}},{key:"fv",value:function fv(){}},{key:"qn",value:function qn(t){var e=t.target.closest(".reset-button").closest(".item"),i=e[Tw].commandID;delete this.uO[i],this.dispatchEvent(new CustomEvent("change")),this.fO(e),this.wO();}},{key:"mO",value:function mO(){this["#filter-input"].value="",this.J_();}},{key:"vn",value:function vn(t){var e=so.fromEvent(t);if(t.target===this["#items"]){var _i1764=this["#items"].querySelector(".item[data-editable]");if(_i1764){if(t.preventDefault(),t.stopPropagation(),e.matches("Backspace")||e.matches("Delete")||e.matches("Escape")||e.matches("Enter")||e.matches("Space"))_i1764.removeAttribute("data-editable"),this.fO(_i1764);else if(e.key&&!1===Aw.includes(e.toString())){var _i1764$Tw=_i1764[Tw],_t2599=_i1764$Tw.commandID,_s1045=_i1764$Tw.defaultShortcut,_n750=this.uO[_t2599]||null;_n750&&e.toString()===_n750?(_i1764.removeAttribute("data-editable"),this.fO(_i1764)):_s1045&&e.toString()===_s1045?(delete this.uO[_t2599],this.dispatchEvent(new CustomEvent("change")),_i1764.removeAttribute("data-editable"),this.fO(_i1764),this.wO()):(this.uO[_t2599]=e.toString(),this.dispatchEvent(new CustomEvent("change")),_i1764.removeAttribute("data-editable"),this.fO(_i1764),this.wO());}}else if(e.matches("ArrowUp"))t.preventDefault(),this.Bu();else if(e.matches("ArrowDown"))t.preventDefault(),this.Ru();else if(e.matches("Enter")){t.preventDefault();var _e1970=this["#items"].querySelector(".item[data-selected]:not([hidden])");_e1970.setAttribute("data-editable",""),this.fO(_e1970);}else if(e.matches("Backspace")||e.matches("Delete")){var _e1971=this["#items"].querySelector(".item[data-selected]:not([hidden])"),_e1971$Tw=_e1971[Tw],_i1765=_e1971$Tw.commandID,_s1046=_e1971$Tw.defaultShortcut;void 0!==this.uO[_i1765]?(t.preventDefault(),delete this.uO[_i1765],this.dispatchEvent(new CustomEvent("change")),this.fO(_e1971),this.wO()):null!==_s1046&&(t.preventDefault(),this.uO[_i1765]=null,this.dispatchEvent(new CustomEvent("change")),this.fO(_e1971),this.wO());}}}},{key:"av",value:function av(t){var e=qi(_templateObject98(),'\n  <div class="item">\n    <div class="command-label"></div>\n    <div class="shortcut-label"></div>\n\n    <x-button class="button reset-button" title="Reset to default shortcut" skin="recessed" toggled condensed>\n      <x-label>Reset</x-label>\n    </x-button>\n  </div>\n');return e[Tw]=t,this.fO(e),e;}},{key:"Bu",value:function Bu(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i-1];if(s){s.scrollIntoViewIfNeeded();var _iterator1751=_createForOfIteratorHelper(this["#items"].children),_step1751;try{for(_iterator1751.s();!(_step1751=_iterator1751.n()).done;){var _t2600=_step1751.value;_t2600===s?_t2600.setAttribute("data-selected",""):_t2600.removeAttribute("data-selected");}}catch(err){_iterator1751.e(err);}finally{_iterator1751.f();}}}},{key:"Ru",value:function Ru(){var t=_toConsumableArray(this["#items"].querySelectorAll(".item:not([hidden])")),e=this["#items"].querySelector(".item[data-selected]:not([hidden])"),i=e?t.indexOf(e):-1,s=t[i+1];if(s){s.scrollIntoViewIfNeeded();var _iterator1752=_createForOfIteratorHelper(this["#items"].children),_step1752;try{for(_iterator1752.s();!(_step1752=_iterator1752.n()).done;){var _t2601=_step1752.value;_t2601===s?_t2601.setAttribute("data-selected",""):_t2601.removeAttribute("data-selected");}}catch(err){_iterator1752.e(err);}finally{_iterator1752.f();}}}},{key:"qs",value:function(){var _qs10=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee249(){var _t2602,_iterator1753,_step1753,_e1972,_t2603,_iterator1754,_step1754,_t2604;return regeneratorRuntime.wrap(function _callee249$(_context250){while(1){switch(_context250.prev=_context250.next){case 0:if(!(0===this["#items"].childElementCount)){_context250.next=9;break;}_context250.next=3;return this.Qs.getShortcutsEditorModel();case 3:_t2602=_context250.sent;this["#items"].innerHTML="";_iterator1753=_createForOfIteratorHelper(_t2602);try{for(_iterator1753.s();!(_step1753=_iterator1753.n()).done;){_e1972=_step1753.value;_t2603=this.av(_e1972);this["#items"].append(_t2603);}}catch(err){_iterator1753.e(err);}finally{_iterator1753.f();}_context250.next=11;break;case 9:_iterator1754=_createForOfIteratorHelper(this["#items"].children);try{for(_iterator1754.s();!(_step1754=_iterator1754.n()).done;){_t2604=_step1754.value;this.fO(_t2604);}}catch(err){_iterator1754.e(err);}finally{_iterator1754.f();}case 11:this.gO(),this.wO();case 12:case"end":return _context250.stop();}}},_callee249,this);}));function qs(){return _qs10.apply(this,arguments);}return qs;}()},{key:"fO",value:function fO(t){var _t$Tw=t[Tw],e=_t$Tw.commandID,i=_t$Tw.label,s=_t$Tw.defaultShortcut,n=this.uO[e];n||null===n?t.setAttribute("data-user-shortcut",""):t.removeAttribute("data-user-shortcut");t.querySelector(".command-label").textContent=i;{var _e1973=t.querySelector(".shortcut-label");t.hasAttribute("data-editable")?_e1973.textContent="Press new shortcut":n?_e1973.textContent=so.fromString(n).toDisplayString():null===n?_e1973.textContent="":void 0===n&&(_e1973.textContent=s?so.fromString(s).toDisplayString():"");}t.querySelector(".reset-button").hidden=void 0===n;}},{key:"wO",value:function wO(){var t=0;var _iterator1755=_createForOfIteratorHelper(this["#items"].children),_step1755;try{for(_iterator1755.s();!(_step1755=_iterator1755.n()).done;){var _e1974=_step1755.value;var _e1974$Tw=_e1974[Tw],_i1766=_e1974$Tw.commandID,_s1047=_e1974$Tw.defaultShortcut,_n751=this.uO[_i1766]||_s1047,_o563=!1;if(_n751){var _iterator1756=_createForOfIteratorHelper(this["#items"].children),_step1756;try{for(_iterator1756.s();!(_step1756=_iterator1756.n()).done;){var _t2605=_step1756.value;if(_t2605!==_e1974){var _e1975=this.uO[_t2605[Tw].commandID]||_t2605[Tw].defaultShortcut;if(_e1975&&_e1975===_n751){_o563=!0;break;}}}}catch(err){_iterator1756.e(err);}finally{_iterator1756.f();}}_o563?(_e1974.setAttribute("data-conflicting",""),t+=1):_e1974.removeAttribute("data-conflicting");}}catch(err){_iterator1755.e(err);}finally{_iterator1755.f();}this["#conflicting-items-counter"].textContent=t>0?"(".concat(t,")"):"";}},{key:"gO",value:function gO(){this["#items"].setAttribute("data-size",Ls.size);}},{key:"J_",value:function J_(){var t=this["#filter-input"].value.trim().toLowerCase();var _iterator1757=_createForOfIteratorHelper(this["#items"].querySelectorAll(".command-label")),_step1757;try{for(_iterator1757.s();!(_step1757=_iterator1757.n()).done;){var _e1976=_step1757.value;var _i1767=_e1976.closest(".item"),_s1048=!1;if(t.length>0){_s1048=-1===_e1976.textContent.trim().toLowerCase().indexOf(t);}else _s1048=!1;_s1048||("custom"===this["#filter-buttons"].value?!1===_i1767.hasAttribute("data-user-shortcut")&&(_s1048=!0):"conflicting"===this["#filter-buttons"].value&&!1===_i1767.hasAttribute("data-conflicting")&&(_s1048=!0)),_i1767.hidden=_s1048;}}catch(err){_iterator1757.e(err);}finally{_iterator1757.f();}}}]);return $w;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty($w,"_shadowTemplate",qi(_templateObject558()));_defineProperty($w,"_shadowStyleSheet",Xi(_templateObject559()));customElements.define("bx-shortcutseditor",$w);var Iw=/*#__PURE__*/function(_Pw5){_inherits(Iw,_Pw5);var _super247=_createSuper(Iw);function Iw(){var _this1108;_classCallCheck(this,Iw);_this1108=_super247.call(this),_this1108["#tabs"].addEventListener("change",function(){return _this1108.vO();}),_this1108["#shortcuts-editor"].addEventListener("change",function(){return _this1108.yO();}),_this1108["#space-modifier-radios"].addEventListener("toggle",function(){return _this1108.kO();});return _this1108;}_createClass(Iw,[{key:"tn",value:function tn(){var t=this.Qs.getConfig("bx-keyboardsettings:userShortcuts",{}),e=this.Qs.getConfig("bx-keyboardsettings:spaceKeyMode","togglePreviousTool");this["#shortcuts-editor"].value=t,this["#space-modifier-radios"].value=e;}},{key:"vO",value:function vO(){this["#shortcuts-view"].hidden="shortcuts"!==this["#tabs"].value,this["#modifiers-view"].hidden="modifiers"!==this["#tabs"].value;}},{key:"yO",value:function yO(){this.Qs.setConfig("bx-keyboardsettings:userShortcuts",this["#shortcuts-editor"].value);}},{key:"kO",value:function kO(){this.Qs.setConfig("bx-keyboardsettings:spaceKeyMode",this["#space-modifier-radios"].value);}}]);return Iw;}(Pw);_defineProperty(Iw,"_shadowTemplate",qi(_templateObject560()));_defineProperty(Iw,"_shadowStyleSheet",Xi(_templateObject561()));customElements.define("bx-keyboardsettings",Iw);var Lw=/*#__PURE__*/function(_HTMLElement142){_inherits(Lw,_HTMLElement142);var _super248=_createSuper(Lw);_createClass(Lw,[{key:"value",get:function get(){return this.getAttribute("value");},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}},{key:"transparent",get:function get(){return this.hasAttribute("transparent");},set:function set(t){t?this.setAttribute("transparent",""):this.removeAttribute("transparent");}}]);function Lw(){var _this1109;_classCallCheck(this,Lw);_this1109=_super248.call(this),_this1109._shadowRoot=_this1109.attachShadow({mode:"closed"}),_this1109._shadowRoot.adoptedStyleSheets=[Lw._shadowStyleSheet],_this1109._shadowRoot.append(document.importNode(Lw._shadowTemplate.content,!0));var _iterator1758=_createForOfIteratorHelper(_this1109._shadowRoot.querySelectorAll("[id]")),_step1758;try{for(_iterator1758.s();!(_step1758=_iterator1758.n()).done;){var _t2606=_step1758.value;_this1109["#"+_t2606.id]=_t2606;}}catch(err){_iterator1758.e(err);}finally{_iterator1758.f();}return _this1109;}_createClass(Lw,[{key:"connectedCallback",value:function connectedCallback(){this.qs();}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&this._shadowRoot&&"value"===t&&this.qs();}},{key:"qs",value:function qs(){null===this.value?this["#img"].src="":this["#img"].src=Qg("/avatars/".concat(this.value,".png"));}}]);return Lw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Lw,"observedAttributes",["value"]);_defineProperty(Lw,"_shadowTemplate",qi(_templateObject562()));_defineProperty(Lw,"_shadowStyleSheet",Xi(_templateObject563()));customElements.define("bx-avatar",Lw);var Bw=/*#__PURE__*/function(_Pw6){_inherits(Bw,_Pw6);var _super249=_createSuper(Bw);function Bw(){var _this1110;_classCallCheck(this,Bw);_this1110=_super249.call(this),_this1110["#avatar-edit-button"].addEventListener("click",function(){return _this1110.SO();}),_this1110["#name-input"].addEventListener("input",function(){return _this1110._O();}),_this1110["#name-input"].addEventListener("keydown",function(t){return _this1110.CO(t);}),_this1110["#name-change-button"].addEventListener("click",function(){return _this1110.MO();}),_this1110["#website-input"].addEventListener("input",function(){return _this1110.PO();}),_this1110["#website-input"].addEventListener("keydown",function(t){return _this1110.DO(t);}),_this1110["#website-change-button"].addEventListener("click",function(){return _this1110.zO();}),_this1110["#bio-editor"].addEventListener("input",function(){return _this1110.OO();}),_this1110["#bio-change-button"].addEventListener("click",function(){return _this1110.EO();});return _this1110;}_createClass(Bw,[{key:"tn",value:function tn(){var _this1111=this;this.Qs.addEventListener("userprofilechange",this.TO=function(){return _this1111.qs();}),this.qs();}},{key:"sn",value:function sn(){this.Qs.removeEventListener("userprofilechange",this.TO);}},{key:"SO",value:function SO(){window.open("/app/avatar");}},{key:"_O",value:function _O(){var t=this.Qs.userProfile.name,e=this["#name-input"].value.trim();t===e||""===e?(this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1):(this["#name-change-button"].disabled=!1,this["#name-change-button"].toggled=!0);}},{key:"CO",value:function CO(t){"Enter"===t.code&&!1===this["#name-change-button"].disabled&&this["#name-change-button"].click();}},{key:"MO",value:function(){var _MO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee250(){var t,e,i;return regeneratorRuntime.wrap(function _callee250$(_context251){while(1){switch(_context251.prev=_context251.next){case 0:firebase.functions();e=this.Qs.user,i=this["#name-input"].value.trim();this["#name-input"].disabled=!0,this["#name-change-button"].disabled=!0,this["#name-throbber"].hidden=!1;_context251.prev=3;_context251.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,name:i});case 6:_context251.next=11;break;case 8:_context251.prev=8;_context251.t0=_context251["catch"](3);t=_context251.t0;case 11:t?(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!1,this["#name-throbber"].hidden=!0,"name-taken"===t.details?this["#name-input"].error="This name is already taken.":"auth/invalid-display-name"===t.details?this["#name-input"].error="Invalid name.":this.Qs.openMessageDialog({message:"Failed to change user name",detail:Kg(t),buttons:["OK"]})):(this["#name-input"].disabled=!1,this["#name-change-button"].disabled=!0,this["#name-change-button"].toggled=!1,this["#name-throbber"].hidden=!0);case 12:case"end":return _context251.stop();}}},_callee250,this,[[3,8]]);}));function MO(){return _MO.apply(this,arguments);}return MO;}()},{key:"PO",value:function PO(){this.Qs.userProfile.websiteURL===this["#website-input"].value.trim()?(this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1):(this["#website-change-button"].disabled=!1,this["#website-change-button"].toggled=!0);}},{key:"DO",value:function DO(t){"Enter"===t.code&&!1===this["#website-change-button"].disabled&&this["#website-change-button"].click();}},{key:"zO",value:function(){var _zO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee251(){var t,e,i;return regeneratorRuntime.wrap(function _callee251$(_context252){while(1){switch(_context252.prev=_context252.next){case 0:firebase.functions();e=this.Qs.user,i=this["#website-input"].value.trim();this["#website-input"].disabled=!0,this["#website-input"].error=null,this["#website-change-button"].disabled=!0,this["#website-throbber"].hidden=!1;_context252.prev=3;_context252.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,websiteURL:i});case 6:_context252.next=11;break;case 8:_context252.prev=8;_context252.t0=_context252["catch"](3);t=_context252.t0;case 11:t?(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!1,this["#website-throbber"].hidden=!0,"invalid-url"===t.details?this["#website-input"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user website",detail:Kg(t),buttons:["OK"]})):(this["#website-input"].disabled=!1,this["#website-change-button"].disabled=!0,this["#website-change-button"].toggled=!1,this["#website-throbber"].hidden=!0);case 12:case"end":return _context252.stop();}}},_callee251,this,[[3,8]]);}));function zO(){return _zO.apply(this,arguments);}return zO;}()},{key:"OO",value:function OO(){this.Qs.userProfile.bio===this["#bio-editor"].value.trim()?(this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1):(this["#bio-change-button"].disabled=!1,this["#bio-change-button"].toggled=!0);}},{key:"EO",value:function(){var _EO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee252(){var t,e,i;return regeneratorRuntime.wrap(function _callee252$(_context253){while(1){switch(_context253.prev=_context253.next){case 0:firebase.functions();e=this.Qs.user,i=this["#bio-editor"].value.trim();this["#bio-editor"].disabled=!0,this["#bio-change-button"].disabled=!0,this["#bio-throbber"].hidden=!1;_context253.prev=3;_context253.next=6;return this.Qs.callCloudFunction("editUser",{userUID:e.uid,bio:i});case 6:_context253.next=11;break;case 8:_context253.prev=8;_context253.t0=_context253["catch"](3);t=_context253.t0;case 11:t?(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!1,this["#bio-throbber"].hidden=!0,"invalid-url"===t.details?this["#bio-editor"].error="This URL is not valid.":this.Qs.openMessageDialog({message:"Failed to change user bio",detail:Kg(t),buttons:["OK"]})):(this["#bio-editor"].disabled=!1,this["#bio-change-button"].disabled=!0,this["#bio-change-button"].toggled=!1,this["#bio-throbber"].hidden=!0);case 12:case"end":return _context253.stop();}}},_callee252,this,[[3,8]]);}));function EO(){return _EO.apply(this,arguments);}return EO;}()},{key:"qs",value:function(){var _qs11=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee253(){var t,_e1977,_i1768,_s1049;return regeneratorRuntime.wrap(function _callee253$(_context254){while(1){switch(_context254.prev=_context254.next){case 0:t=this.Qs.userProfile;firebase.storage();if(t){_e1977=t.name,_i1768=t.bio,_s1049=t.websiteURL;this["#avatar"].value=this.Qs.user.uid,this["#name-input"].value=_e1977,this["#name-change-button"].toggled=!1,this["#name-change-button"].disabled=!0,this["#website-input"].value=_s1049,this["#website-change-button"].toggled=!1,this["#website-change-button"].disabled=!0,this["#bio-editor"].value=_i1768,this["#bio-change-button"].toggled=!1,this["#bio-change-button"].disabled=!0;}else this["#avatar-image"].value="",this["#name-input"].value="",this["#website-input"].value="",this["#bio-editor"].value="";case 3:case"end":return _context254.stop();}}},_callee253,this);}));function qs(){return _qs11.apply(this,arguments);}return qs;}()}]);return Bw;}(Pw);_defineProperty(Bw,"_shadowTemplate",qi(_templateObject564()));_defineProperty(Bw,"_shadowStyleSheet",Xi(_templateObject565()));customElements.define("bx-profilesettings",Bw);var Rw=/*#__PURE__*/function(_HTMLElement143){_inherits(Rw,_HTMLElement143);var _super250=_createSuper(Rw);_createClass(Rw,[{key:"value",get:function get(){return _toConsumableArray(this._t);},set:function set(t){this._t=_toConsumableArray(t),this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"limit",get:function get(){return this.AO;},set:function set(t){this.AO=t,this._t.length>this.limit&&(this._t.length=this.limit),this.qs();}},{key:"editing",get:function get(){return null!==this["#table"].querySelector("tr[data-editing]");}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Rw(){var _this1112;_classCallCheck(this,Rw);_this1112=_super250.call(this),_this1112._t=[],_this1112.AO=10,_this1112._shadowRoot=_this1112.attachShadow({mode:"closed",delegatesFocus:!1}),_this1112._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Rw._shadowStyleSheet],_this1112._shadowRoot.append(document.importNode(Rw._shadowTemplate.content,!0));var _iterator1759=_createForOfIteratorHelper(_this1112._shadowRoot.querySelectorAll("[id]")),_step1759;try{for(_iterator1759.s();!(_step1759=_iterator1759.n()).done;){var _t2607=_step1759.value;_this1112["#"+_t2607.id]=_t2607;}}catch(err){_iterator1759.e(err);}finally{_iterator1759.f();}_this1112._shadowRoot.addEventListener("pointerdown",function(t){return _this1112.wo(t);}),_this1112._shadowRoot.addEventListener("click",function(t){return _this1112["do"](t);}),_this1112.addEventListener("keydown",function(t){return _this1112.vn(t);});return _this1112;}_createClass(Rw,[{key:"connectedCallback",value:function connectedCallback(){var _this1113=this;this.tabIndex=0,Ls.addEventListener("sizechange",this.sp=function(){_this1113.fu();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.sp);}},{key:"wo",value:function wo(t){if(this.disabled)return;var e=t.target.closest("tr"),i=t.target.closest("x-input");if(e&&!i&&this["#tbody"].childElementCount>1){this.lv();var _iterator1760=_createForOfIteratorHelper(this["#tbody"].children),_step1760;try{for(_iterator1760.s();!(_step1760=_iterator1760.n()).done;){var _t2608=_step1760.value;if(_t2608===e){_t2608.setAttribute("data-selected","");var _iterator1761=_createForOfIteratorHelper(_t2608.children),_step1761;try{for(_iterator1761.s();!(_step1761=_iterator1761.n()).done;){var _e1978=_step1761.value;_e1978.part.add("selected-cell");}}catch(err){_iterator1761.e(err);}finally{_iterator1761.f();}}else{_t2608.removeAttribute("data-selected");var _iterator1762=_createForOfIteratorHelper(_t2608.children),_step1762;try{for(_iterator1762.s();!(_step1762=_iterator1762.n()).done;){var _e1979=_step1762.value;_e1979.part.remove("selected-cell");}}catch(err){_iterator1762.e(err);}finally{_iterator1762.f();}}}}catch(err){_iterator1760.e(err);}finally{_iterator1760.f();}}}},{key:"do",value:function _do(t){if(this.disabled)return;var e=t.target.closest("tr");e&&2===t.detail&&!1===e.hasAttribute("data-editing")&&!1===e.hasAttribute("data-disabled")&&this.$O(e);}},{key:"vn",value:function vn(t){this.disabled||("Enter"===t.key?!0===this.editing?(this.lv(),this.focus()):this.$O():"Escape"===t.key?!0===this.editing&&(t.preventDefault(),this.lv(),this.focus()):"Backspace"===t.key?!1===this.editing&&(t.preventDefault(),this.IO()):"ArrowUp"===t.key?!1===this.editing&&this.LO():"ArrowDown"===t.key&&!1===this.editing&&this.BO());}},{key:"$O",value:function $O(t){var _this1114=this;var e=this["#table"].querySelector("tr[data-selected]");if(e&&!1===e.hasAttribute("data-disabled")){e.setAttribute("data-editing",""),e.scrollIntoViewIfNeeded();var _iterator1763=_createForOfIteratorHelper(e.children),_step1763;try{for(_iterator1763.s();!(_step1763=_iterator1763.n()).done;){var _t2610=_step1763.value;_t2610.part.add("selected-cell");}}catch(err){_iterator1763.e(err);}finally{_iterator1763.f();}var _t2609=e.querySelector(".label"),_i1769=qi(_templateObject99(),_t2609.textContent);_t2609.after(_i1769),_t2609.hidden=!0,_i1769.selectAll(),_i1769.addEventListener("focusout",function(){_this1114.lv();}),_i1769.validate=function(){var t=null,e=_i1769.value.trim();var s;e.length>0&&!1===(s=e,new RegExp("[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$").test(s))&&(t=""),_i1769.error=t;};}}},{key:"lv",value:function lv(){var t=this["#table"].querySelector("tr[data-editing]");if(t){var _e1980=Ai(t),_i1770=t.querySelector(".label"),_s1050=t.querySelector(".input");if(t.removeAttribute("data-editing"),_i1770.hidden=!1,_s1050.remove(),null===_s1050.error){var _n752=_i1770.textContent,_o564=_s1050.value.trim().toLowerCase();if(_n752!==_o564){var _s1051=null;if(""!==_o564){var _iterator1764=_createForOfIteratorHelper(this["#tbody"].children),_step1764;try{for(_iterator1764.s();!(_step1764=_iterator1764.n()).done;){var _e1981=_step1764.value;if(_e1981!==t){if(_e1981.querySelector(".label").textContent===_o564){_s1051=_e1981;break;}}}}catch(err){_iterator1764.e(err);}finally{_iterator1764.f();}}_s1051?(""!==_n752&&(_i1770.textContent="",this._t[_e1980]="",this.dispatchEvent(new CustomEvent("change"))),this.RO(_s1051)):(_i1770.textContent=_o564,this._t[_e1980]=""===_o564?null:_o564,this.dispatchEvent(new CustomEvent("change")));}}}}},{key:"RO",value:function RO(t){var e=this["#table"].querySelector("tr[data-selected]");if(e&&e!==t){e.removeAttribute("data-selected");var _iterator1765=_createForOfIteratorHelper(e.children),_step1765;try{for(_iterator1765.s();!(_step1765=_iterator1765.n()).done;){var _t2611=_step1765.value;_t2611.part.remove("selected-cell");}}catch(err){_iterator1765.e(err);}finally{_iterator1765.f();}}t.setAttribute("data-selected","");var _iterator1766=_createForOfIteratorHelper(t.children),_step1766;try{for(_iterator1766.s();!(_step1766=_iterator1766.n()).done;){var _e1982=_step1766.value;_e1982.part.add("selected-cell");}}catch(err){_iterator1766.e(err);}finally{_iterator1766.f();}t.scrollIntoViewIfNeeded();}},{key:"LO",value:function LO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e1983=t.previousElementSibling;if(_e1983){t.removeAttribute("data-selected");var _iterator1767=_createForOfIteratorHelper(t.children),_step1767;try{for(_iterator1767.s();!(_step1767=_iterator1767.n()).done;){var _e1984=_step1767.value;_e1984.part.remove("selected-cell");}}catch(err){_iterator1767.e(err);}finally{_iterator1767.f();}_e1983.setAttribute("data-selected","");var _iterator1768=_createForOfIteratorHelper(_e1983.children),_step1768;try{for(_iterator1768.s();!(_step1768=_iterator1768.n()).done;){var _t2612=_step1768.value;_t2612.part.add("selected-cell");}}catch(err){_iterator1768.e(err);}finally{_iterator1768.f();}_e1983.scrollIntoViewIfNeeded();}}}},{key:"BO",value:function BO(){var t=this["#table"].querySelector("tr[data-selected]");if(t){var _e1985=t.nextElementSibling;if(_e1985){t.removeAttribute("data-selected");var _iterator1769=_createForOfIteratorHelper(t.children),_step1769;try{for(_iterator1769.s();!(_step1769=_iterator1769.n()).done;){var _e1986=_step1769.value;_e1986.part.remove("selected-cell");}}catch(err){_iterator1769.e(err);}finally{_iterator1769.f();}_e1985.setAttribute("data-selected","");var _iterator1770=_createForOfIteratorHelper(_e1985.children),_step1770;try{for(_iterator1770.s();!(_step1770=_iterator1770.n()).done;){var _t2613=_step1770.value;_t2613.part.add("selected-cell");}}catch(err){_iterator1770.e(err);}finally{_iterator1770.f();}_e1985.scrollIntoViewIfNeeded();}}}},{key:"IO",value:function IO(){var t=this["#table"].querySelector("tr[data-selected]"),e=Ai(t),i=t.querySelector(".label");if(t){var _t2614="";i.textContent!==_t2614&&(i.textContent=_t2614,this._t[e]=null,this.dispatchEvent(new CustomEvent("change")));}}},{key:"qs",value:function qs(){var t="";for(var _e1987=1;_e1987<=this.AO;_e1987+=1){var _i1771=this._t[_e1987-1];t+="\n        <tr class=\"row\" ".concat(1===_e1987?"data-disabled":"",">\n          <td class=\"index-cell\" part=\"cell index-cell\">").concat(_e1987,"</td>\n          <td class=\"value-cell\" part=\"cell value-cell\">\n            <div class=\"label\">").concat(null==_i1771?"":this._t[_e1987-1],"</div>\n          </td>\n        </tr>\n      ");}this["#tbody"].innerHTML=t,this.fu();}},{key:"fu",value:function fu(){this["#table"].setAttribute("data-size",Ls.size);}}]);return Rw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Rw,"_shadowTemplate",qi(_templateObject566()));_defineProperty(Rw,"_shadowStyleSheet",Xi(_templateObject567()));customElements.define("bx-userseditor",Rw);var Gw=/*#__PURE__*/function(_Pw7){_inherits(Gw,_Pw7);var _super251=_createSuper(Gw);function Gw(){var _this1115;_classCallCheck(this,Gw);_this1115=_super251.call(this),_this1115["#email-input"].addEventListener("input",function(){return _this1115.GO();}),_this1115["#email-input"].addEventListener("keydown",function(t){return _this1115.FO(t);}),_this1115["#email-change-button"].addEventListener("click",function(){return _this1115.UO();}),_this1115["#email-verify-button"].addEventListener("click",function(){return _this1115.NO();}),_this1115["#password-input"].addEventListener("input",function(){return _this1115.VO();}),_this1115["#password-input"].addEventListener("keydown",function(t){return _this1115.jO(t);}),_this1115["#password-change-button"].addEventListener("click",function(){return _this1115.HO();}),_this1115["#subscription-anchor"].addEventListener("click",function(t){return _this1115.YO(t);}),_this1115["#users-editor"].addEventListener("change",function(){return _this1115.WO();}),_this1115["#users-change-button"].addEventListener("click",function(){return _this1115.qO();});return _this1115;}_createClass(Gw,[{key:"tn",value:function tn(){var _this1116=this;this.qs(),this.Qs.addEventListener("userchange",this.vC=function(){return _this1116.qs();});}},{key:"sn",value:function sn(){this.Qs.removeEventListener("userchange",this.vC);}},{key:"GO",value:function GO(){this.Qs.user.email!==this["#email-input"].value.trim()&&null===this["#email-input"].error?(this["#email-change-button"].disabled=!1,this["#email-change-button"].toggled=!0):(this["#email-change-button"].disabled=!0,this["#email-change-button"].toggled=!1);}},{key:"FO",value:function FO(t){"Enter"===t.code&&this["#email-change-button"].click();}},{key:"UO",value:function(){var _UO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee254(){var _t2615,_e1988,_i1772,_s1052,_n753;return regeneratorRuntime.wrap(function _callee254$(_context255){while(1){switch(_context255.prev=_context255.next){case 0:if(!(this["#email-input"].validate(),null===this["#email-input"].error)){_context255.next=25;break;}this["#email-input"].disabled=!0,this["#email-change-button"].disabled=!0,this["#email-throbber"].hidden=!1;_t2615=this.Qs.user,_e1988=_t2615.uid,_i1772=this["#email-input"].value.trim(),_s1052=_t2615.email,_n753=null;_context255.prev=3;_context255.next=6;return _t2615.updateEmail(_i1772);case 6:_context255.next=11;break;case 8:_context255.prev=8;_context255.t0=_context255["catch"](3);_n753=_context255.t0;case 11:if(!(_n753&&"auth/requires-recent-login"===_n753.code)){_context255.next=24;break;}_context255.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context255.sent){_context255.next=24;break;}_n753=null;_context255.prev=16;_context255.next=19;return _t2615.updateEmail(_i1772);case 19:_context255.next=24;break;case 21:_context255.prev=21;_context255.t1=_context255["catch"](16);_n753=_context255.t1;case 24:this["#email-input"].disabled=!1,this["#email-change-button"].disabled=!1,this["#email-throbber"].hidden=!0,_n753?"auth/invalid-email"===_n753.code?this["#email-input"].error="Invalid e-mail":"auth/email-already-in-use"===_n753.code?this["#email-input"].error="This email address is already registered":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_n753.message," (").concat(_n753.code,")"),buttons:["OK"]}):(this.Qs.callCloudFunction("editUser",{userUID:_e1988,email:_i1772,oldEmail:_s1052}),_t2615.sendEmailVerification(),this.XO());case 25:case"end":return _context255.stop();}}},_callee254,this,[[3,8],[16,21]]);}));function UO(){return _UO.apply(this,arguments);}return UO;}()},{key:"NO",value:function(){var _NO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee255(){return regeneratorRuntime.wrap(function _callee255$(_context256){while(1){switch(_context256.prev=_context256.next){case 0:_context256.next=2;return this.Qs.openMessageDialog({message:"Verify your email address",detail:"Please follow the link in the confirmation email we have sent you to verify your email address.",buttons:["OK","Rensend"]});case 2:_context256.t0=_context256.sent;_context256.t1=1===_context256.t0;if(!_context256.t1){_context256.next=6;break;}firebase.auth().currentUser.sendEmailVerification();case 6:case"end":return _context256.stop();}}},_callee255,this);}));function NO(){return _NO.apply(this,arguments);}return NO;}()},{key:"VO",value:function VO(){this["#password-input"].value.length>0?(this["#password-change-button"].disabled=!1,this["#password-change-button"].toggled=!0):(this["#password-change-button"].disabled=!0,this["#password-change-button"].toggled=!1);}},{key:"jO",value:function jO(t){"Enter"===t.code&&this["#password-change-button"].click();}},{key:"HO",value:function(){var _HO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee256(){var _t2616,_e1989,_i1773;return regeneratorRuntime.wrap(function _callee256$(_context257){while(1){switch(_context257.prev=_context257.next){case 0:if(!(this["#password-input"].validate(),null===this["#password-input"].error)){_context257.next=25;break;}this["#password-input"].disabled=!0,this["#password-change-button"].disabled=!0,this["#password-throbber"].hidden=!1;_t2616=this.Qs.user,_e1989=this["#password-input"].value.trim(),_i1773=null;_context257.prev=3;_context257.next=6;return _t2616.updatePassword(_e1989);case 6:_context257.next=11;break;case 8:_context257.prev=8;_context257.t0=_context257["catch"](3);_i1773=_context257.t0;case 11:if(!(_i1773&&"auth/requires-recent-login"===_i1773.code)){_context257.next=24;break;}_context257.next=14;return this.Qs.openPasswordConfirmDialog();case 14:if(!_context257.sent){_context257.next=24;break;}_i1773=null;_context257.prev=16;_context257.next=19;return _t2616.updatePassword(_e1989);case 19:_context257.next=24;break;case 21:_context257.prev=21;_context257.t1=_context257["catch"](16);_i1773=_context257.t1;case 24:this["#password-input"].disabled=!1,this["#password-change-button"].disabled=!1,this["#password-throbber"].hidden=!0,_i1773?"auth/requires-recent-login"===_i1773.code||("auth/weak-password"===_i1773.code?this["#password-input"].error="The password must be 6 characters long or more":this.Qs.openMessageDialog({message:"Error",detail:"".concat(_i1773.message," (").concat(_i1773.code,")"),buttons:["OK"]})):this.ZO();case 25:case"end":return _context257.stop();}}},_callee256,this,[[3,8],[16,21]]);}));function HO(){return _HO.apply(this,arguments);}return HO;}()},{key:"YO",value:function YO(t){t.preventDefault(),this.Qs.navigate(Fg(location.href,"dialog","preferences\u2192subscription"),!0);}},{key:"WO",value:function(){var _WO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee257(){return regeneratorRuntime.wrap(function _callee257$(_context258){while(1){switch(_context258.prev=_context258.next){case 0:this["#users-change-button"].disabled=!1;case 1:case"end":return _context258.stop();}}},_callee257,this);}));function WO(){return _WO.apply(this,arguments);}return WO;}()},{key:"qO",value:function(){var _qO=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee258(){var t,_this$UsersEditor$v,e,i,s;return regeneratorRuntime.wrap(function _callee258$(_context259){while(1){switch(_context259.prev=_context259.next){case 0:this["#users-editor"].disabled=!0,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!1;t=this.Qs.user,_this$UsersEditor$v=_toArray(this["#users-editor"].value),e=_this$UsersEditor$v[0],i=_this$UsersEditor$v.slice(1),s=null;_context259.next=4;return ts(4e3);case 4:_context259.prev=4;_context259.next=7;return this.Qs.callCloudFunction("setOrgUsers",{orgLeaderUID:t.uid,orgUsers:i});case 7:_context259.next=12;break;case 9:_context259.prev=9;_context259.t0=_context259["catch"](4);s=_context259.t0;case 12:_context259.next=14;return ts(4e3);case 14:if(!s){_context259.next=22;break;}this["#users-editor"].disabled=!1;this["#users-change-button"].disabled=!1;this["#users-change-throbber"].hidden=!0;_context259.next=20;return this.Qs.openMessageDialog({message:"Failed to change users",detail:Kg(s),buttons:["OK"]});case 20:_context259.next=23;break;case 22:this["#users-editor"].disabled=!1,this["#users-change-button"].disabled=!0,this["#users-change-throbber"].hidden=!0;case 23:case"end":return _context259.stop();}}},_callee258,this,[[4,9]]);}));function qO(){return _qO.apply(this,arguments);}return qO;}()},{key:"qs",value:function qs(){this.XO(),this.ZO(),this.KO();}},{key:"XO",value:function XO(){var t=this.Qs.user,e=this.Qs.userSubscription;t?(this["#email-section"].hidden=!1,this["#email-input"].value=t.email,this["#email-input"].error=null,this["#email-verify-button"].disabled=t.emailVerified,this["#email-change-button"].toggled=!1,this["#email-change-button"].disabled=!0,null===e||"deleted"===e.status||void 0===e.status?this["#email-input"].disabled=!1:this["#email-input"].disabled=!0):this["#email-section"].hidden=!0;}},{key:"ZO",value:function ZO(){this.Qs.user?(this["#password-section"].hidden=!1,this["#password-input"].value="",this["#password-input"].error=null,this["#password-change-button"].toggled=!1,this["#password-change-button"].disabled=!0):this["#password-section"].hidden=!0;}},{key:"KO",value:function KO(){var t=this.Qs.user,e=this.Qs.userSubscription,_tf7=tf(e,t),_tf8=_slicedToArray(_tf7,2),i=_tf8[0],s=_tf8[1];if(s)this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;else if(t){var _i1774=[];e&&e.orgUsers&&(_i1774=e.orgUsers),this["#users-section"].hidden=!1,this["#users-section"].previousElementSibling.hidden=!1,this["#users-editor"].limit=e&&void 0!==e.quantity?e.quantity:1,this["#users-editor"].value=[t.email].concat(_toConsumableArray(_i1774)),this["#users-change-button"].disabled=!0;}else this["#users-section"].hidden=!0,this["#users-section"].previousElementSibling.hidden=!0;}}]);return Gw;}(Pw);_defineProperty(Gw,"_shadowTemplate",qi(_templateObject568()));_defineProperty(Gw,"_shadowStyleSheet",Xi(_templateObject569()));customElements.define("bx-authsettings",Gw);var Fw=/*#__PURE__*/function(_HTMLElement144){_inherits(Fw,_HTMLElement144);var _super252=_createSuper(Fw);_createClass(Fw,[{key:"planID",get:function get(){return this.hasAttribute("planid")?this.getAttribute("planid"):null;},set:function set(t){null===t?this.removeAttribute("planid"):this.setAttribute("planid",t);}},{key:"quantity",get:function get(){return this.hasAttribute("quantity")?parseInt(this.getAttribute("quantity")):1;},set:function set(t){null===t?this.removeAttribute("quantity"):this.setAttribute("quantity",t);}},{key:"disabled",get:function get(){return this.hasAttribute("disabled");},set:function set(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled");}}]);function Fw(){var _this1117;_classCallCheck(this,Fw);_this1117=_super252.call(this),_this1117._shadowRoot=_this1117.attachShadow({mode:"closed"}),_this1117._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Fw._shadowStyleSheet],_this1117._shadowRoot.append(document.importNode(Fw._shadowTemplate.content,!0));var _iterator1771=_createForOfIteratorHelper(_this1117._shadowRoot.querySelectorAll("[id]")),_step1771;try{for(_iterator1771.s();!(_step1771=_iterator1771.n()).done;){var _t2617=_step1771.value;_this1117["#"+_t2617.id]=_t2617;}}catch(err){_iterator1771.e(err);}finally{_iterator1771.f();}_this1117._shadowRoot.addEventListener("click",function(t){return _this1117["do"](t);}),_this1117["#quantity-input"].addEventListener("change",function(t){return _this1117.QO(t);}),_this1117["#quantity-input"].addEventListener("changeend",function(t){return _this1117.JO(t);}),_this1117["#billing-select"].addEventListener("change",function(){return _this1117.tE();});return _this1117;}_createClass(Fw,[{key:"connectedCallback",value:function connectedCallback(){var _this1118=this;this.Qs=Ii(this,"#app"),this.qs(),Ls.addEventListener("sizechange",this.sp=function(){_this1118.eE();});}},{key:"disconnectedCallback",value:function disconnectedCallback(){Ls.removeEventListener("sizechange",this.sp);}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&("planid"===t||"quantity"===t||"disabled"===t)&&this.qs();}},{key:"do",value:function _do(t){var n=t.target.closest("a"),o=t.target.closest("td");if(n)t.preventDefault(),this.Qs.navigate(n.href,!0);else if(o&&o.cellIndex>0&&o.closest("thead, tbody")){var _t2618;1===o.cellIndex?_t2618=e:2===o.cellIndex&&("monthly"===this["#billing-select"].value?_t2618=s:"yearly"===this["#billing-select"].value&&(_t2618=i)),_t2618!==this.planID&&(this.planID=_t2618,this.dispatchEvent(new CustomEvent("change")));}}},{key:"QO",value:function QO(t){var _Jg=Jg(this.planID,this["#quantity-input"].value),_Jg2=_slicedToArray(_Jg,2),e=_Jg2[0],i=_Jg2[1];this["#discount-span"].textContent=i,this["#price-span"].textContent=e;}},{key:"JO",value:function JO(t){this.quantity=this["#quantity-input"].value,this.dispatchEvent(new CustomEvent("change"));}},{key:"tE",value:function tE(){"yearly"===this["#billing-select"].value?(this.planID=i,this.dispatchEvent(new CustomEvent("change"))):"monthly"===this["#billing-select"].value&&(this.planID=s,this.dispatchEvent(new CustomEvent("change")));}},{key:"qs",value:function qs(){this.iE(),this.eE();}},{key:"iE",value:function iE(){var _Jg3=Jg(this.planID,this.quantity),_Jg4=_slicedToArray(_Jg3,2),t=_Jg4[0],n=_Jg4[1];if(this["#standard-plan-radio"].disabled=this.disabled,this["#premium-plan-radio"].disabled=this.disabled,this["#standard-plan-radio"].toggled=this.planID===e,this["#premium-plan-radio"].toggled=this.planID===s||this.planID===i,this["#cloud-button"].disabled=this.planID===e,this.disabled?(this["#quantity-help-button"].collapse(),this["#quantity-help-button"].disabled=!0):this["#quantity-help-button"].disabled=!1,null===this.planID?(this["#quantity-input"].disabled=!0,this["#quantity-input"].value=1):(this["#quantity-input"].disabled=this.disabled,this["#quantity-input"].value=this.quantity),this.disabled?(this["#discount-help-button"].collapse(),this["#discount-help-button"].disabled=!0):this["#discount-help-button"].disabled=!1,this["#discount-span"].textContent=n,null===this.planID?this["#billing-select"].disabled=!0:this.planID===e?(this["#billing-select"].disabled=!0,this["#billing-select"].value="yearly"):this.planID!==s&&this.planID!==i||(this["#billing-select"].disabled=!1,this["#billing-select"].value=this.planID===s?"monthly":"yearly"),this.disabled?(this["#price-help-button"].collapse(),this["#price-help-button"].disabled=!0):this["#price-help-button"].disabled=!1,this["#price-span"].textContent=t,null===this.planID){var _iterator1772=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1772;try{for(_iterator1772.s();!(_step1772=_iterator1772.n()).done;){var _t2619=_step1772.value;_t2619.part.remove("selected-cell");}}catch(err){_iterator1772.e(err);}finally{_iterator1772.f();}var _iterator1773=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1773;try{for(_iterator1773.s();!(_step1773=_iterator1773.n()).done;){var _t2620=_step1773.value;_t2620.part.remove("selected-cell");}}catch(err){_iterator1773.e(err);}finally{_iterator1773.f();}this["#quantity-td"].part.remove("selected-cell"),this["#discount-td"].part.remove("selected-cell"),this["#billing-td"].part.remove("selected-cell"),this["#price-td"].part.remove("selected-cell");}else if(this.planID===e){var _iterator1774=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1774;try{for(_iterator1774.s();!(_step1774=_iterator1774.n()).done;){var _t2621=_step1774.value;1===_t2621.cellIndex?_t2621.part.add("selected-cell"):_t2621.part.remove("selected-cell");}}catch(err){_iterator1774.e(err);}finally{_iterator1774.f();}var _iterator1775=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1775;try{for(_iterator1775.s();!(_step1775=_iterator1775.n()).done;){var _t2622=_step1775.value;1===_t2622.cellIndex?_t2622.part.add("selected-cell"):_t2622.part.remove("selected-cell");}}catch(err){_iterator1775.e(err);}finally{_iterator1775.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}else if(this.planID===s||this.planID===i){var _iterator1776=_createForOfIteratorHelper(this["#table-head"].querySelectorAll("td")),_step1776;try{for(_iterator1776.s();!(_step1776=_iterator1776.n()).done;){var _t2623=_step1776.value;2===_t2623.cellIndex?_t2623.part.add("selected-cell"):_t2623.part.remove("selected-cell");}}catch(err){_iterator1776.e(err);}finally{_iterator1776.f();}var _iterator1777=_createForOfIteratorHelper(this["#table-body"].querySelectorAll("td")),_step1777;try{for(_iterator1777.s();!(_step1777=_iterator1777.n()).done;){var _t2624=_step1777.value;2===_t2624.cellIndex?_t2624.part.add("selected-cell"):_t2624.part.remove("selected-cell");}}catch(err){_iterator1777.e(err);}finally{_iterator1777.f();}this["#quantity-td"].part.add("selected-cell"),this["#discount-td"].part.add("selected-cell"),this["#billing-td"].part.add("selected-cell"),this["#price-td"].part.add("selected-cell");}}},{key:"eE",value:function eE(){this["#table"].setAttribute("data-size",Ls.size);}}]);return Fw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Fw,"observedAttributes",["planid","quantity","disabled"]);_defineProperty(Fw,"_shadowTemplate",qi(_templateObject570()));_defineProperty(Fw,"_shadowStyleSheet",Xi(_templateObject571()));customElements.define("bx-planselectblock",Fw);var Uw=/*#__PURE__*/function(_Pw8){_inherits(Uw,_Pw8);var _super253=_createSuper(Uw);function Uw(){var _this1119;_classCallCheck(this,Uw);_this1119=_super253.call(this),_this1119["#plan-select-block"].addEventListener("change",function(){return _this1119.sE();}),_this1119["#billing-button"].addEventListener("click",function(){return _this1119.nE();}),_this1119["#cancel-button"].addEventListener("click",function(){return _this1119.oE();}),_this1119["#subscribe-button"].addEventListener("click",function(){return _this1119.lE();});return _this1119;}_createClass(Uw,[{key:"tn",value:function tn(){var _this1120=this;this.Qs.addEventListener("usersubscriptionchange",this.aE=function(){_this1120.qs();}),this.qs();}},{key:"sn",value:function sn(){this["#plan-select-block"].disabled=!0,this.Qs.removeEventListener("usersubscriptionchange",this.aE);}},{key:"sE",value:function sE(){this.hE();}},{key:"nE",value:function nE(){window.open(this["#billing-button"].value);}},{key:"oE",value:function oE(){window.open(this["#cancel-button"].value);}},{key:"lE",value:function(){var _lE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee259(){var t,e,i,s,_n754,_t2625;return regeneratorRuntime.wrap(function _callee259$(_context260){while(1){switch(_context260.prev=_context260.next){case 0:t=this.Qs.user,e=this.Qs.userSubscription,i=this["#plan-select-block"].planID,s=this["#plan-select-block"].quantity;if(!(null===e||"deleted"===e.status||"past_due"===e.status&&null!==e.cancellationEffectiveDate)){_context260.next=5;break;}this.Qs.navigate(Fg(location.href,"dialog","checkout\u2192".concat(i,"\xD7").concat(s)));_context260.next=27;break;case 5:if(!("active"===e.status)){_context260.next=27;break;}_context260.next=8;return this.Qs.openPasswordConfirmDialog();case 8:if(!_context260.sent){_context260.next=27;break;}this["#main"].hidden=!0,this["#progress-bar"].hidden=!1,this.Qs.lockInput();_n754=null;_context260.prev=11;_context260.next=14;return this.Qs.callCloudFunction("changeUserSubscriptionPlan",{userUID:t.uid,subscriptionID:e.subscriptionID,planID:i,quantity:s});case 14:_context260.next=19;break;case 16:_context260.prev=16;_context260.t0=_context260["catch"](11);_n754=_context260.t0;case 19:if(!(this["#main"].hidden=!1,this["#progress-bar"].hidden=!0,this.Qs.unlockInput(),_n754)){_context260.next=24;break;}_context260.next=22;return this.Qs.openMessageDialog({message:"Failed to change the current plan",detail:Kg(_n754),buttons:["OK"]});case 22:_context260.next=27;break;case 24:_t2625=this.rE(i,s);_context260.next=27;return this.Qs.openMessageDialog({message:"Changed the current plan",detail:"Your new plan is: ".concat(_t2625,"."),buttons:["OK"]});case 27:case"end":return _context260.stop();}}},_callee259,this,[[11,16]]);}));function lE(){return _lE.apply(this,arguments);}return lE;}()},{key:"rE",value:function rE(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var o,l;return l=1===n?"1 user":"".concat(n," users"),t===e?o="Standard (yearly billing, ".concat(l,")"):t===s?o="Premium (monthly billing, ".concat(l,")"):t===i&&(o="Premium (yearly billing, ".concat(l,")")),o;}},{key:"qs",value:function qs(){this.dE(),this.cE(),this.hE();}},{key:"dE",value:function dE(){var t=this.Qs.user;if(null===t)this["#info-section"].hidden=!0;else{this["#info-section"].hidden=!1;var _i1775=this.Qs.userSubscription,_tf9=tf(_i1775,t),_tf10=_slicedToArray(_tf9,3),_s1053=_tf10[0],_n755=_tf10[1],_o565=_tf10[2];if(null===_i1775){if(this["#subscription-plan-span"].textContent="Standard",_o565){var _e1990=moment().to(moment(t.metadata.creationTime).add(15,"days"),!0);this["#subscription-status-span"].textContent="Trial (".concat(_e1990," remaining)");}else this["#subscription-status-span"].textContent="Canceled (trial period expired)";}else if(!0===_n755)this["#subscription-plan-span"].textContent=_s1053===e?"Standard":"Premium",this["#subscription-status-span"].textContent="Active (contact your organization admin to make changes)";else{this["#subscription-plan-span"].textContent=this.rE(_s1053,_i1775.quantity);var _t2626=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"});if("active"===_i1775.status){var _e1991=_t2626.format(new Date(_i1775.nextBillDate));this["#subscription-status-span"].textContent="Active (next payment due on ".concat(_e1991,")");}else if("deleted"===_i1775.status){var _e1992=_t2626.format(new Date(_i1775.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e1992,")");}else if("past_due"===_i1775.status)if(null===_i1775.cancellationEffectiveDate)this["#subscription-status-span"].textContent="Past due (please update your billing information)";else{var _e1993=_t2626.format(new Date(_i1775.cancellationEffectiveDate));this["#subscription-status-span"].textContent="Canceled (effective cancellation on ".concat(_e1993,")");}}}}},{key:"cE",value:function cE(){var t=this.Qs.user;if(null===t)this["#plan-section"].hidden=!0;else{var _i1776=this.Qs.userSubscription,_tf11=tf(_i1776,t),_tf12=_slicedToArray(_tf11,2),_s1054=_tf12[0],_n756=_tf12[1];this["#plan-section"].hidden=!1,this["#plan-select-block"].disabled=_n756,this["#plan-select-block"].planID=_s1054||e,this["#plan-select-block"].quantity=_n756?1:_i1776?_i1776.quantity:1;}}},{key:"hE",value:function hE(){var t=this.Qs.user;if(null===t)this["#buttons-section"].hidden=!0;else{this["#buttons-section"].hidden=!1;var _e1994=this.Qs.userSubscription,_tf13=tf(_e1994,t),_tf14=_slicedToArray(_tf13,2),_i1777=_tf14[0],_s1055=_tf14[1];_s1055?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Subscribe"):null===_e1994||"deleted"===_e1994.status?(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"):"active"===_e1994.status?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e1994.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e1994.cancelURL,this["#subscribe-button"].disabled=this["#plan-select-block"].planID===_e1994.subscriptionPlanID&&this["#plan-select-block"].quantity===_e1994.quantity,this["#subscribe-button-label"].textContent="Change plan"):"past_due"===_e1994.status&&(null===_e1994.cancellationEffectiveDate?(this["#billing-button"].disabled=!1,this["#billing-button"].value=_e1994.updateURL,this["#cancel-button"].disabled=!1,this["#cancel-button"].value=_e1994.cancelURL,this["#subscribe-button"].disabled=!0,this["#subscribe-button-label"].textContent="Change plan"):(this["#billing-button"].disabled=!0,this["#billing-button"].value="",this["#cancel-button"].disabled=!0,this["#cancel-button"].value="",this["#subscribe-button"].disabled=!1,this["#subscribe-button-label"].textContent="Subscribe"));}}}]);return Uw;}(Pw);_defineProperty(Uw,"_shadowTemplate",qi(_templateObject572()));_defineProperty(Uw,"_shadowStyleSheet",Xi(_templateObject573()));customElements.define("bx-subscriptionsettings",Uw);var Nw=/*#__PURE__*/function(_Pw9){_inherits(Nw,_Pw9);var _super254=_createSuper(Nw);function Nw(){var _this1121;_classCallCheck(this,Nw);_this1121=_super254.call(this),_this1121["#password-input"].addEventListener("input",function(){return _this1121.qs();}),_this1121["#delete-account-button"].addEventListener("click",function(){return _this1121.pE();});return _this1121;}_createClass(Nw,[{key:"tn",value:function tn(){var _this1122=this;this.uE=firebase.auth().onAuthStateChanged(function(t){return _this1122.qs();}),this.qs();}},{key:"sn",value:function sn(){this.uE();}},{key:"qs",value:function qs(){0===this["#password-input"].value.length?(this["#delete-account-button"].disabled=!0,this["#delete-account-button"].toggled=!1,this["#delete-account-button"].part.remove("delete-button")):(this["#delete-account-button"].disabled=!1,this["#delete-account-button"].toggled=!0,this["#delete-account-button"].part.add("delete-button"));}},{key:"pE",value:function(){var _pE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee260(){var _t2627,_e1995,_i1778,_s1056,_t2628,_e1996,_t2629;return regeneratorRuntime.wrap(function _callee260$(_context261){while(1){switch(_context261.prev=_context261.next){case 0:this["#default-view"].hidden=!0,this["#progress-view"].hidden=!1,this.Qs.lockInput();this["#progress-label"].textContent="Validating password\u2026";_t2627=this.Qs.user,_e1995=this["#password-input"].value,_i1778=firebase.auth.EmailAuthProvider.credential(_t2627.email,_e1995),_s1056=null;_context261.prev=3;_context261.next=6;return _t2627.reauthenticateWithCredential(_i1778);case 6:_context261.next=11;break;case 8:_context261.prev=8;_context261.t0=_context261["catch"](3);_s1056=_context261.t0;case 11:if(!_s1056){_context261.next=23;break;}this["#default-view"].hidden=!1;this["#progress-view"].hidden=!0;this.Qs.unlockInput();if(!("auth/wrong-password"===_s1056.code)){_context261.next=19;break;}_context261.t1=(this["#password-input"].error="Wrong password",this["#delete-account-button"].disabled=!0);_context261.next=22;break;case 19:_context261.next=21;return this.Qs.openMessageDialog({message:"Error",detail:"".concat(_s1056.message," (").concat(_s1056.code,")"),buttons:["OK"]});case 21:_context261.t1=_context261.sent;case 22:return _context261.abrupt("return",void _context261.t1);case 23:this["#progress-label"].textContent="Deleting account\u2026";_t2628=this.Qs.user,_e1996=null;_context261.prev=25;_context261.next=28;return this.Qs.callCloudFunction("deleteUser",_t2628.uid);case 28:_context261.next=33;break;case 30:_context261.prev=30;_context261.t2=_context261["catch"](25);_e1996=_context261.t2;case 33:if(!_e1996){_context261.next=35;break;}return _context261.abrupt("return",(this["#default-view"].hidden=!1,this["#progress-view"].hidden=!0,this.Qs.unlockInput(),void this.Qs.openMessageDialog({message:"Failed to delete user account",detail:Kg(_e1996),buttons:["OK"]})));case 35:this["#progress-label"].textContent="Logging out\u2026";_context261.next=38;return ts(1e3);case 38:_context261.next=40;return firebase.auth().signOut();case 40:this.Qs.unlockInput();_t2629=Ii(this,"dialog");_t2629&&_t2629.close();case 43:case"end":return _context261.stop();}}},_callee260,this,[[3,8],[25,30]]);}));function pE(){return _pE.apply(this,arguments);}return pE;}()}]);return Nw;}(Pw);_defineProperty(Nw,"_shadowTemplate",qi(_templateObject574()));_defineProperty(Nw,"_shadowStyleSheet",Xi(_templateObject575()));customElements.define("bx-deleteaccountsettings",Nw);var Vw=/*#__PURE__*/function(_HTMLElement145){_inherits(Vw,_HTMLElement145);var _super255=_createSuper(Vw);_createClass(Vw,[{key:"value",get:function get(){return this.hasAttribute("value")?this.getAttribute("value"):"general";},set:function set(t){null===t?this.removeAttribute("value"):this.setAttribute("value",t);}}]);function Vw(){var _temp52,_this1123;_classCallCheck(this,Vw);(_temp52=_this1123=_super255.call(this),_defineProperty(_assertThisInitialized(_this1123),"commands",{copy:{exec:function exec(){return document.execCommand("copy");}},cut:{exec:function exec(){return document.execCommand("cut");}},paste:{exec:function exec(){return document.execCommand("paste");}},selectAll:{exec:function exec(){return document.execCommand("selectAll");}},undo:{exec:function exec(){return document.execCommand("undo");}},redo:{exec:function exec(){return document.execCommand("redo");}}}),_temp52),_this1123._shadowRoot=_this1123.attachShadow({mode:"closed"}),_this1123._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Vw._shadowStyleSheet],_this1123._shadowRoot.append(document.importNode(Vw._shadowTemplate.content,!0));var _iterator1778=_createForOfIteratorHelper(_this1123._shadowRoot.querySelectorAll("[id]")),_step1778;try{for(_iterator1778.s();!(_step1778=_iterator1778.n()).done;){var _t2630=_step1778.value;_this1123["#"+_t2630.id]=_t2630;}}catch(err){_iterator1778.e(err);}finally{_iterator1778.f();}_this1123.setAttribute("tabindex","0"),_this1123["#sidebar-buttons"].addEventListener("toggle",function(){_this1123.value=_this1123["#sidebar-buttons"].value,_this1123.dispatchEvent(new CustomEvent("valuechange"));}),_this1123["#logout-button"].addEventListener("click",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee261(){return regeneratorRuntime.wrap(function _callee261$(_context262){while(1){switch(_context262.prev=_context262.next){case 0:_context262.next=2;return firebase.auth().signOut();case 2:_this1123.xE&&_this1123.xE.close();case 3:case"end":return _context262.stop();}}},_callee261);}))),_this1123.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1123.xE&&_this1123.xE.close();});return _this1123;}_createClass(Vw,[{key:"connectedCallback",value:function connectedCallback(){var _this1124=this;this.Qs=Ii(this,"#app"),this.xE=Ii(this,"dialog"),this.Qs.addEventListener("userchange",this.vC=function(){_this1124.qs();}),this.qs();}},{key:"disconnectedCallback",value:function disconnectedCallback(){this.Qs.removeEventListener("userchange",this.vC);var _iterator1779=_createForOfIteratorHelper(this["#main"].children),_step1779;try{for(_iterator1779.s();!(_step1779=_iterator1779.n()).done;){var _t2631=_step1779.value;_t2631.enabled=!1;}}catch(err){_iterator1779.e(err);}finally{_iterator1779.f();}}},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"value"===t&&this.sx();}},{key:"sx",value:function sx(){this.isConnected&&this.qs();}},{key:"qs",value:function qs(){var t=void 0!==this.Qs.user&&null!==this.Qs.user,e=this.value;["profile","auth","subscription","delete-account"].includes(e)&&!1===t&&(e="general"),this["#sidebar-buttons"].value=e,this["#profile-button"].hidden=!1===t,this["#auth-button"].hidden=!1===t,this["#subscription-button"].hidden=!1===t,this["#delete-account-button"].hidden=!1===t,this["#logout-button"].hidden=!1===t,this["#sidebar-separator-1"].hidden=!1===t,this["#sidebar-separator-2"].hidden=!1===t;var _iterator1780=_createForOfIteratorHelper(this["#main"].children),_step1780;try{for(_iterator1780.s();!(_step1780=_iterator1780.n()).done;){var _t2632=_step1780.value;_t2632.enabled=_t2632.getAttribute("data-name")===e;}}catch(err){_iterator1780.e(err);}finally{_iterator1780.f();}}}]);return Vw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Vw,"observedAttributes",["value"]);_defineProperty(Vw,"_shadowTemplate",qi(_templateObject576()));_defineProperty(Vw,"_shadowStyleSheet",Xi(_templateObject577()));customElements.define("bx-preferences",Vw);var jw=/*#__PURE__*/function(_HTMLElement146){_inherits(jw,_HTMLElement146);var _super256=_createSuper(jw);_createClass(jw,[{key:"version",get:function get(){return this.hasAttribute("version")?this.getAttribute("version"):"1.0.0";},set:function set(t){this.setAttribute("version",t);}}]);function jw(){var _temp53,_this1125;_classCallCheck(this,jw);(_temp53=_this1125=_super256.call(this),_defineProperty(_assertThisInitialized(_this1125),"commands",{}),_defineProperty(_assertThisInitialized(_this1125),"gv",0),_temp53),_this1125._shadowRoot=_this1125.attachShadow({mode:"closed"}),_this1125._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,jw._shadowStyleSheet],_this1125._shadowRoot.append(document.importNode(jw._shadowTemplate.content,!0));var _iterator1781=_createForOfIteratorHelper(_this1125._shadowRoot.querySelectorAll("[id]")),_step1781;try{for(_iterator1781.s();!(_step1781=_iterator1781.n()).done;){var _t2633=_step1781.value;_this1125["#"+_t2633.id]=_t2633;}}catch(err){_iterator1781.e(err);}finally{_iterator1781.f();}_this1125.setAttribute("tabindex","0"),_this1125["#main"].addEventListener("scroll",function(){return _this1125.Tc();}),_this1125.addEventListener("keydown",function(t){"Escape"===t.code&&!1===t.defaultPrevented&&_this1125.xE&&_this1125.xE.close();});return _this1125;}_createClass(jw,[{key:"connectedCallback",value:function(){var _connectedCallback9=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee262(){var _iterator1782,_step1782,_t2634;return regeneratorRuntime.wrap(function _callee262$(_context263){while(1){switch(_context263.prev=_context263.next){case 0:this.Qs=Ii(this,"#app");this.xE=Ii(this,"dialog");_context263.t0=null===this["#main"].firstElementChild;if(!_context263.t0){_context263.next=9;break;}_context263.next=6;return fetch("/metadata/content/about.tpl");case 6:_context263.next=8;return _context263.sent.text();case 8:this["#main"].innerHTML=_context263.sent;case 9:if(!("bx-chromeapp"===this.Qs.localName)){_context263.next=12;break;}_iterator1782=_createForOfIteratorHelper(this._shadowRoot.querySelectorAll('a[rel="noopener"]'));try{for(_iterator1782.s();!(_step1782=_iterator1782.n()).done;){_t2634=_step1782.value;_t2634.removeAttribute("rel");}}catch(err){_iterator1782.e(err);}finally{_iterator1782.f();}case 12:this["#main"].scrollTop=this.gv;case 13:case"end":return _context263.stop();}}},_callee262,this);}));function connectedCallback(){return _connectedCallback9.apply(this,arguments);}return connectedCallback;}()},{key:"attributeChangedCallback",value:function attributeChangedCallback(t,e,i){e!==i&&"version"===t&&(this["#version"].textContent="Version ".concat(this.version));}},{key:"Tc",value:function Tc(){this.gv=this["#main"].scrollTop;}}]);return jw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(jw,"observedAttributes",["version"]);_defineProperty(jw,"_shadowTemplate",qi(_templateObject578(),new Date().getFullYear()));_defineProperty(jw,"_shadowStyleSheet",Xi(_templateObject579()));customElements.define("bx-about",jw);var Hw=/*#__PURE__*/function(_HTMLElement147){_inherits(Hw,_HTMLElement147);var _super257=_createSuper(Hw);_createClass(Hw,[{key:"throbber",get:function get(){return this.hasAttribute("throbber");},set:function set(t){t?this.setAttribute("throbber",""):this.removeAttribute("throbber");}},{key:"dirty",get:function get(){return this.bE;}}]);function Hw(){var _this1126;_classCallCheck(this,Hw);_this1126=_super257.call(this),_this1126.mE=!1,_this1126.bE=!1;var t=_this1126.constructor.gE,e=_this1126.constructor.MC,i=_this1126.constructor.PC;_this1126._shadowRoot=_this1126.attachShadow({mode:"closed"}),_this1126._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,Hw._shadowStyleSheet,_this1126.constructor._shadowStyleSheet],_this1126._shadowRoot.append(document.importNode(Hw._shadowTemplate.content,!0)),t&&_this1126._shadowRoot.querySelector("#header").append(document.importNode(t.content,!0)),e&&_this1126._shadowRoot.querySelector("#main").append(document.importNode(e.content,!0)),i&&_this1126._shadowRoot.querySelector("#footer").append(document.importNode(i.content,!0));var _iterator1783=_createForOfIteratorHelper(_this1126._shadowRoot.querySelectorAll("[id]")),_step1783;try{for(_iterator1783.s();!(_step1783=_iterator1783.n()).done;){var _t2635=_step1783.value;_this1126["#"+_t2635.id]=_t2635;}}catch(err){_iterator1783.e(err);}finally{_iterator1783.f();}_this1126.setAttribute("extends","bx-form"),_this1126.setAttribute("tabindex","0"),_this1126.addEventListener("keydown",function(t){return _this1126.vn(t);});return _this1126;}_createClass(Hw,[{key:"connectedCallback",value:function connectedCallback(){this.Qs=Ii(this,"#app"),this.xE=Ii(this,"dialog");}},{key:"blinkFooter",value:function blinkFooter(){var _this1127=this;return new Promise(/*#__PURE__*/function(){var _ref204=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee263(t){return regeneratorRuntime.wrap(function _callee263$(_context264){while(1){switch(_context264.prev=_context264.next){case 0:_context264.t0=!1===_this1127.mE;if(!_context264.t0){_context264.next=14;break;}_this1127.mE=!0;_this1127.setAttribute("blink","");_context264.next=6;return ts(200);case 6:_this1127.removeAttribute("blink","");_context264.next=9;return ts(200);case 9:_this1127.setAttribute("blink","");_context264.next=12;return ts(200);case 12:_this1127.removeAttribute("blink","");_this1127.mE=!1;case 14:t();case 15:case"end":return _context264.stop();}}},_callee263);}));return function(_x236){return _ref204.apply(this,arguments);};}());}},{key:"clear",value:function clear(){this.bE=!1;}},{key:"vn",value:function vn(t){if(t.stopPropagation(),"Escape"===t.code&&t.preventDefault(),!1===this.throbber&&this.matches(":focus"))if("Escape"===t.code)this.dirty?this.blinkFooter():this["#cancel-button"]?this["#cancel-button"].click():this.xE&&this.xE.close();else if("Enter"===t.code||"Space"===t.code){var _e1997=this["#footer"].querySelector("x-button[toggled]");_e1997&&!1===_e1997.disabled&&t.target!==_e1997&&_e1997.click();}}}]);return Hw;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(Hw,"_shadowTemplate",qi(_templateObject580()));_defineProperty(Hw,"_shadowStyleSheet",Xi(_templateObject581()));var Yw=/*#__PURE__*/function(_Hw){_inherits(Yw,_Hw);var _super258=_createSuper(Yw);function Yw(){var _this1128;_classCallCheck(this,Yw);_this1128=_super258.call(this),_this1128["#ok-button"].addEventListener("click",function(){return _this1128.xE.close();});return _this1128;}return Yw;}(Hw);_defineProperty(Yw,"MC",qi(_templateObject582()));_defineProperty(Yw,"PC",qi(_templateObject583()));_defineProperty(Yw,"_shadowStyleSheet",Xi(_templateObject584()));customElements.define("bx-chromeinstallform",Yw);var Ww=/*#__PURE__*/function(_Hw2){_inherits(Ww,_Hw2);var _super259=_createSuper(Ww);function Ww(){_classCallCheck(this,Ww);return _super259.apply(this,arguments);}return Ww;}(Hw);_defineProperty(Ww,"MC",qi(_templateObject585()));_defineProperty(Ww,"_shadowStyleSheet",Xi(_templateObject586()));customElements.define("bx-chromesigninform",Ww);var qw=/*#__PURE__*/function(_Hw3){_inherits(qw,_Hw3);var _super260=_createSuper(qw);function qw(){var _this1129;_classCallCheck(this,qw);_this1129=_super260.call(this),_this1129["#close-button"].addEventListener("click",function(){return chrome.app.window.current().close();});return _this1129;}return qw;}(Hw);_defineProperty(qw,"MC",qi(_templateObject587()));_defineProperty(qw,"PC",qi(_templateObject588()));_defineProperty(qw,"_shadowStyleSheet",Xi(_templateObject589()));customElements.define("bx-chrometrialform",qw);var Xw=/*#__PURE__*/function(_Hw4){_inherits(Xw,_Hw4);var _super261=_createSuper(Xw);function Xw(t){var _this1130;_classCallCheck(this,Xw);if(_this1130=_super261.call(this),t.message&&(_this1130["#message"].innerHTML=ri(t.message)),t.detail){var _e1998=t.detail.startsWith("<p")?t.detail:"<p>".concat(t.detail,"</p>");_this1130["#detail"].innerHTML=ri(_e1998);}if(t.buttons){var _e1999="";for(var _i1779=t.buttons.length-1;_i1779>=0;_i1779-=1){_e1999+="\n          <x-button value=\"".concat(_i1779,"\" ").concat(0===_i1779?"toggled":"",">\n            <x-label>").concat(t.buttons[_i1779],"</x-label>\n          </x-button>\n        ");}_this1130["#footer"].innerHTML=_e1999;}_this1130["#footer"].addEventListener("click",function(t){return _this1130.fE(t);});return _possibleConstructorReturn(_this1130);}_createClass(Xw,[{key:"fE",value:function fE(t){var e=t.target.closest("x-button");e&&this.dispatchEvent(new CustomEvent("submit",{detail:parseInt(e.value)}));}}]);return Xw;}(Hw);_defineProperty(Xw,"MC",qi(_templateObject590()));_defineProperty(Xw,"_shadowStyleSheet",Xi(_templateObject591()));customElements.define("bx-messageform",Xw);var Zw=function Zw(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"text/plain";return new Promise(/*#__PURE__*/function(){var _ref205=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee264(s,n){var o;return regeneratorRuntime.wrap(function _callee264$(_context265){while(1){switch(_context265.prev=_context265.next){case 0:_context265.next=2;return ev(t);case 2:o=_context265.sent;o?o.createWriter(function(t){var _o566,_l425,a=e instanceof Blob?e:new Blob([e],{type:i}),h="write";t.addEventListener("writeend",_o566=function o(e){"write"===h?(h="truncate",t.truncate(a.size)):"truncate"===h&&(t.removeEventListener("writeend",_o566),t.removeEventListener("error",_l425),s());}),t.addEventListener("error",_l425=function l(e){t.removeEventListener("writeend",_o566),t.removeEventListener("error",_l425),n("READ_ONLY");}),t.write(a);},function(t){n("NOT_FOUND");}):n("READ_ONLY");case 4:case"end":return _context265.stop();}}},_callee264);}));return function(_x237,_x238){return _ref205.apply(this,arguments);};}());},Kw=function Kw(t){return new Promise(function(e,i){chrome.fileSystem.chooseEntry(t,function(s){chrome.runtime.lastError?"User cancelled"===chrome.runtime.lastError.message?e(!0===t.acceptsMultiple?[]:null):i(chrome.runtime.lastError.message):e(s);});});},Qw=function Qw(t){return new Promise(function(e){chrome.fileSystem.restoreEntry(t,function(t){t?t.file(function(){return e(t);},function(){return e(null);}):e(null);});});},Jw=/*#__PURE__*/function(){var _ref206=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee266(t,e){return regeneratorRuntime.wrap(function _callee266$(_context267){while(1){switch(_context267.prev=_context267.next){case 0:return _context267.abrupt("return",new Promise(/*#__PURE__*/function(){var _ref207=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee265(i){return regeneratorRuntime.wrap(function _callee265$(_context266){while(1){switch(_context266.prev=_context266.next){case 0:_context266.t0=i;_context266.next=3;return tv(t);case 3:_context266.t1=_context266.sent;_context266.next=6;return tv(e);case 6:_context266.t2=_context266.sent;_context266.t3=_context266.t1===_context266.t2;(0,_context266.t0)(_context266.t3);case 9:case"end":return _context266.stop();}}},_callee265);}));return function(_x241){return _ref207.apply(this,arguments);};}()));case 1:case"end":return _context267.stop();}}},_callee266);}));return function Jw(_x239,_x240){return _ref206.apply(this,arguments);};}(),tv=function tv(t){return new Promise(function(e){chrome.fileSystem.getDisplayPath(t,function(t){e(t);});});},ev=function ev(t){return new Promise(function(e){chrome.fileSystem.isWritableEntry(t,function(i){i?e(t):chrome.fileSystem.getWritableEntry(t,function(t){chrome.runtime.lastError?e(null):e(t);});});});},iv=Math.pow,sv=Math.sqrt,nv=Object.entries,ov=Symbol(),lv=Symbol(),av=Symbol(),hv=Symbol(),rv=Symbol();var dv=/*#__PURE__*/function(_HTMLElement148){_inherits(dv,_HTMLElement148);var _super262=_createSuper(dv);_createClass(dv,[{key:"currentTab",get:function get(){return this["#tabs"].querySelector("x-doctab[selected]");}},{key:"currentEditorTab",get:function get(){var t=this.currentTab;return t&&"editor"===t[ov]?t:null;}},{key:"currentEditor",get:function get(){return this.currentEditorTab?this.currentEditorTab[lv]:null;}},{key:"currentView",get:function get(){return this.currentTab?this.currentTab[lv]:null;}},{key:"textInputMode",get:function get(){return this.wE;}},{key:"modKeys",get:function get(){var _this$vE=this.vE,t=_this$vE.ctrl,e=_this$vE.alt,i=_this$vE.meta,s=_this$vE.shift;return{ctrl:t,alt:e,meta:i,shift:s};}},{key:"pointerClientPoint",get:function get(){return new DOMPoint(this.yE,this.kE);}},{key:"pointerPressure",get:function get(){return this.SE;}},{key:"pointers",get:function get(){return _toConsumableArray(this._E);}},{key:"pointerClickCount",get:function get(){return this.CE;}},{key:"isPointerDown",get:function get(){return this.ME;}},{key:"hardwareAcceleration",get:function get(){return new Promise(function(t){return t(!0);});},set:function set(t){}}]);function dv(){var _temp54,_this1131;_classCallCheck(this,dv);(_temp54=_this1131=_super262.call(this),_defineProperty(_assertThisInitialized(_this1131),"commands",{"new":{exec:function exec(){return _this1131.PE();}},newFromSelected:{enabled:function enabled(){return _this1131.DE();},exec:function exec(){return _this1131.zE();}},newFromClipboard:{exec:function exec(){return _this1131.OE();}},open:{exec:function exec(){return _this1131.EE();}},clearRecent:{exec:function exec(){return _this1131.TE();}},save:{exec:function exec(){return _this1131.AE();}},saveAs:{exec:function exec(){return _this1131.$E();}},reloadFromDisk:{enabled:function enabled(){return _this1131.currentEditorTab&&null!==_this1131.currentEditorTab[av];},exec:function exec(){return _this1131.IE();}},close:{exec:function exec(){return _this1131.LE(_this1131.currentTab);}},quit:{exec:function exec(){return _this1131.BE();}},preferences:{exec:function exec(){return _this1131.RE();}},minimize:{exec:function exec(){return _this1131.GE();}},maximize:{exec:function exec(){return _this1131.FE();}},previousTab:{exec:function exec(){return _this1131.UE();}},nextTab:{exec:function exec(){return _this1131.NE();}},moveTabLeft:{exec:function exec(){return _this1131["#tabs"].moveSelectedTabLeft();}},moveTabRight:{exec:function exec(){return _this1131["#tabs"].moveSelectedTabRight();}},about:{exec:function exec(){return _this1131.VE();}}}),_temp54),_this1131.vE={ctrl:!1,alt:!1,meta:!1,shift:!1},_this1131.wE=!1,_this1131._E=new Set(),_this1131.yE=0,_this1131.kE=0,_this1131.SE=0,_this1131.CE=0,_this1131.ME=!1,_this1131.jE=[],_this1131.HE=0,_this1131.YE={},_this1131.WE={},_this1131.qE={},_this1131.XE=null,window.algolia=algoliasearch("501AW1B8SF","8e5b1516b6b9453144a8623f77b6cad3"),_this1131.ZE().then(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee267(){var _iterator1784,_step1784,_t2638,_t2636;return regeneratorRuntime.wrap(function _callee267$(_context268){while(1){switch(_context268.prev=_context268.next){case 0:_this1131._shadowRoot=_this1131.attachShadow({mode:"closed"}),_this1131._shadowRoot.adoptedStyleSheets=[Ls.themeStyleSheet,dv._shadowStyleSheet],_this1131._shadowRoot.append(document.importNode(dv._shadowTemplate.content,!0));_iterator1784=_createForOfIteratorHelper(_this1131._shadowRoot.querySelectorAll("[id]"));try{for(_iterator1784.s();!(_step1784=_iterator1784.n()).done;){_t2638=_step1784.value;_this1131["#"+_t2638.id]=_t2638;}}catch(err){_iterator1784.e(err);}finally{_iterator1784.f();}window.matchMedia("(prefers-color-scheme: dark)").addListener(function(){return _this1131.KE();});window.addEventListener("message",function(t){return _this1131.QE(t);});window.addEventListener("keydown",function(t){return _this1131.vn(t);});window.addEventListener("keyup",function(t){return _this1131.Gn(t);});window.addEventListener("focus",function(t){return _this1131.JE(t);});window.addEventListener("blur",function(t){return _this1131.tT(t);});window.addEventListener("pointerdown",function(t){return _this1131.wo(t);},!0);window.addEventListener("pointermove",function(t){return _this1131.Ud(t);});window.addEventListener("pointerup",function(t){return _this1131.ja(t);});window.addEventListener("pointercancel",function(t){return _this1131.eT(t);});_this1131.addEventListener("configchange",function(t){return _this1131.an(t);});_this1131.addEventListener("textinputmodestart",function(){return _this1131.wE=!0;});_this1131.addEventListener("textinputmodeend",function(){return _this1131.wE=!1;});_this1131._shadowRoot.addEventListener("dragover",function(t){return _this1131.iT(t);});_this1131._shadowRoot.addEventListener("drop",function(t){return _this1131.sT(t);});_this1131["#titlebar-buttons"].addEventListener("click",function(t){return _this1131.nT(t);});_this1131["#menubar"].addEventListener("click",function(t){return _this1131.oT(t);});_this1131["#menubar"].addEventListener("toggle",function(t){return _this1131.lT(t);});_this1131["#menubar"].addEventListener("open",function(t){return _this1131.aT(t);});_this1131["#menubar"].addEventListener("close",function(t){return _this1131.hT(t);});_this1131["#tabs"].addEventListener("open",function(t){return _this1131.rT(t);});_this1131["#tabs"].addEventListener("close",function(t){return _this1131.dT(t);});_this1131["#tabs"].addEventListener("select",function(t){return _this1131.cT(t);});_this1131["#main"].addEventListener("change",function(t){return _this1131.pT(t);});_this1131.addMessageListener("openTabs",function(t){return _this1131.uT(t);});_context268.next=30;return _this1131.xT();case 30:_this1131.bT();_this1131.mT();_this1131.postMessage("ready",null,function(t){return _this1131.gT(t);});_t2636=_this1131.getConfig("license",null);if(!("FULL"===_t2636)){_context268.next=38;break;}_t2636="FULL";_context268.next=44;break;case 38:_this1131["#sign-in-dialog"].showModal();_context268.next=41;return new Promise(function(t){chrome.identity.getAuthToken({interactive:!0},function(e){if(chrome.runtime.lastError)console.log("chrome.identity.getAuthToken() failed, assuming trial license",chrome.runtime.lastError),t("FREE_TRIAL");else{var _i1780=new XMLHttpRequest();_i1780.open("GET","https://www.googleapis.com/chromewebstore/v1.1/userlicenses/"+chrome.runtime.id),_i1780.setRequestHeader("Authorization","Bearer ".concat(e)),_i1780.send(),_i1780.onerror=function(e){console.log("xhr.open() failed, assuming trial license",e),t("FREE_TRIAL");},_i1780.onload=function(){if(200!==_i1780.status)console.log("XHR response with status code ".concat(_i1780.status,", assuming trial license")),t("FREE_TRIAL");else{var _e2000="FREE_TRIAL",_s1057=_i1780.response,_n757=JSON.parse(_s1057);if("FULL"===_n757.accessLevel)_e2000="FULL";else if("FREE_TRIAL"===_n757.accessLevel){var _t2637=1502367014252,_i1781=Date.now(),_s1058=parseInt(_n757.createdTime,10);_e2000=(_i1781-_s1058)/1e3/60/60/24<=7?"FREE_TRIAL":_s1058<_t2637?"FULL":"FREE_TRIAL_EXPIRED";}else _e2000="NONE";t(_e2000);}};}});});case 41:_t2636=_context268.sent;_this1131["#sign-in-dialog"].close();_this1131.setConfig("license",_t2636);case 44:"FREE_TRIAL_EXPIRED"===_t2636?_this1131["#trial-dialog"].showModal():!1===navigator.userAgent.includes("CrOS")&&_this1131["#install-dialog"].showModal();case 45:case"end":return _context268.stop();}}},_callee267);})));return _this1131;}_createClass(dv,[{key:"postMessage",value:function(){var _postMessage=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee268(t){var e,i,s,_args269=arguments;return regeneratorRuntime.wrap(function _callee268$(_context269){while(1){switch(_context269.prev=_context269.next){case 0:e=_args269.length>1&&_args269[1]!==undefined?_args269[1]:null;i=_args269.length>2&&_args269[2]!==undefined?_args269[2]:null;s={channel:"request",id:this.HE++,name:t,arg:e};i&&(this.WE[s.id]=i);_context269.t0=this.XE;if(_context269.t0){_context269.next=9;break;}_context269.next=8;return new Promise(function(t){chrome.runtime.getBackgroundPage(function(e){return t(e);});});case 8:this.XE=_context269.sent;case 9:this.XE.postMessage(s,"*");case 10:case"end":return _context269.stop();}}},_callee268,this);}));function postMessage(_x242){return _postMessage.apply(this,arguments);}return postMessage;}()},{key:"addMessageListener",value:function addMessageListener(t,e){this.YE[t]||(this.YE[t]=[]),this.YE[t].push(e);}},{key:"removeMessageListener",value:function removeMessageListener(t,e){this.YE[t]&&(this.YE[t]=this.YE[t].filter(function(t){return t!==e;}));}},{key:"getConfig",value:function getConfig(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var i=e;var s;return void 0!==this.qE[t]&&(this.qE[t]instanceof Object?(s=this.qE[t],i=JSON.parse(JSON.stringify(s))):i=this.qE[t]),i;}},{key:"setConfig",value:function setConfig(t,e){var i="!"===t[0]?"local":"sync";null===e?(delete this.qE[t],chrome.storage[i].remove(t)):(this.qE[t]=e,chrome.storage[i].set(_defineProperty({},t,e))),this.dispatchEvent(new CustomEvent("configchange",{detail:{key:t,value:e}}));}},{key:"clearConfig",value:function clearConfig(){var t=this.qE;this.qE={schema:3},chrome.storage.local.clear(),chrome.storage.sync.clear();var _iterator1785=_createForOfIteratorHelper(nv(t)),_step1785;try{for(_iterator1785.s();!(_step1785=_iterator1785.n()).done;){var _step1785$value=_slicedToArray(_step1785.value,2),_e2001=_step1785$value[0],_i1782=_step1785$value[1];this.dispatchEvent(new CustomEvent("configchange",{detail:{key:_e2001,value:null}}));}}catch(err){_iterator1785.e(err);}finally{_iterator1785.f();}}},{key:"ZE",value:function ZE(){var _this1132=this;return new Promise(function(t){var e={};chrome.storage.local.get(null,function(i){chrome.storage.sync.get(null,function(s){var _iterator1786=_createForOfIteratorHelper(nv(i)),_step1786;try{for(_iterator1786.s();!(_step1786=_iterator1786.n()).done;){var _step1786$value=_slicedToArray(_step1786.value,2),_t2639=_step1786$value[0],_s1059=_step1786$value[1];e[_t2639]=_s1059;}}catch(err){_iterator1786.e(err);}finally{_iterator1786.f();}var _iterator1787=_createForOfIteratorHelper(nv(s)),_step1787;try{for(_iterator1787.s();!(_step1787=_iterator1787.n()).done;){var _step1787$value=_slicedToArray(_step1787.value,2),_t2640=_step1787$value[0],_i1783=_step1787$value[1];e[_t2640]=_i1783;}}catch(err){_iterator1787.e(err);}finally{_iterator1787.f();}_this1132.qE=e,function(t){"yellowgreen"===t.getConfig("bx-uisettings:accentColor")&&t.setConfig("bx-uisettings:accentColor","green"),null!==t.getConfig("bx-shortcutssettings:userShortcuts")&&(t.setConfig("bx-keyboardsettings:userShortcuts",t.getConfig("bx-shortcutssettings:userShortcuts")),t.setConfig("bx-shortcutssettings:userShortcuts",null)),null!==t.getConfig("bx-shortcutssettings:spaceKeyMode")&&(t.setConfig("bx-keyboardsettings:spaceKeyMode",t.getConfig("bx-shortcutssettings:spaceKeyMode")),t.setConfig("bx-shortcutssettings:spaceKeyMode",null)),"photos-library-browser"===t.getConfig("bx-librarypanel:currentBrowserID")&&t.setConfig("bx-librarypanel:currentBrowserID","bitmaps-library-browser"),["pixabay.com","wikimedia.org"].includes(t.getConfig("bx-vectorslibrarybrowser:provider"))&&t.setConfig("bx-vectorslibrarybrowser:provider",null);}(_this1132),t();});});});}},{key:"getClipboardData",value:function getClipboardData(){return new Promise(function(t){document.addEventListener("paste",function(e){var i=Array.prototype.slice.call(e.clipboardData.items,0),s={},n=0;i?i.forEach(/*#__PURE__*/function(){var _ref209=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee270(e){var o,l;return regeneratorRuntime.wrap(function _callee270$(_context271){while(1){switch(_context271.prev=_context271.next){case 0:o=e.type;_context271.next=3;return function(t){return new Promise(/*#__PURE__*/function(){var _ref210=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee269(e){var _i1784,_t2641;return regeneratorRuntime.wrap(function _callee269$(_context270){while(1){switch(_context270.prev=_context270.next){case 0:if(!["image/png","image/jpeg","image/gif","image/webp","image/avif"].includes(t.type)){_context270.next=12;break;}_i1784=t.getAsFile();if(!_i1784){_context270.next=9;break;}_context270.next=5;return Vh(_i1784,"dataURL");case 5:_t2641=_context270.sent;e("data:"!==_t2641?_t2641:null);_context270.next=10;break;case 9:e(null);case 10:_context270.next=13;break;case 12:["text/plain","text/html","image/svg+xml"].includes(t.type)?t.getAsString(function(t){return e(t);}):(console.warn("Clipboard contains data with unsupported mime-type:",t.type),e(null));case 13:case"end":return _context270.stop();}}},_callee269);}));return function(_x244){return _ref210.apply(this,arguments);};}());}(e);case 3:l=_context271.sent;l&&(s[o]=l),n+=1,n===i.length&&t(s);case 5:case"end":return _context271.stop();}}},_callee270);}));return function(_x243){return _ref209.apply(this,arguments);};}()):t(s);},{once:!0}),document.execCommand("paste");});}},{key:"setClipboardData",value:function setClipboardData(t){return new Promise(function(e){var i;document.addEventListener("copy",i=/*#__PURE__*/function(){var _ref211=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee271(s){return regeneratorRuntime.wrap(function _callee271$(_context272){while(1){switch(_context272.prev=_context272.next){case 0:document.removeEventListener("copy",i),s.preventDefault(),s.clipboardData.items.clear(),t["text/plain"]&&s.clipboardData.items.add(t["text/plain"],"text/plain"),t["text/html"]&&s.clipboardData.items.add(t["text/html"],"text/html"),e();case 1:case"end":return _context272.stop();}}},_callee271);}));return function i(_x245){return _ref211.apply(this,arguments);};}()),document.execCommand("copy");});}},{key:"openArtworkExportDialog",value:function openArtworkExportDialog(t,e){var _this1133=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref212=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee272(s){var n,o,l,a,_t2642;return regeneratorRuntime.wrap(function _callee272$(_context273){while(1){switch(_context273.prev=_context273.next){case 0:n=null,o=null,l=null,a=null;if(null===i){_t2642=_this1133.currentEditorTab.querySelector("x-label").textContent;_t2642.endsWith(".svg")?i=_t2642.substring(0,_t2642.length-4):_t2642.endsWith(".svgz")&&(i=_t2642.substring(0,_t2642.length-5));}"svg"===e?(o="SVG",l="image/svg+xml",a=["svg"]):"svgz"===e?(o="SVGZ",l="image/svg+xml",a=["svgz"]):"html"===e&&(o="HTML",l="text/html",a=["html"]);_context273.prev=3;_context273.next=6;return Kw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:a,mimeTypes:[l]}]});case 6:n=_context273.sent;_context273.next=19;break;case 9:_context273.prev=9;_context273.t0=_context273["catch"](3);n=null;_context273.next=14;return _this1133.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context273.t1=_context273.sent;_context273.t2=1===_context273.t1;if(!_context273.t2){_context273.next=19;break;}_context273.next=19;return _this1133.openArtworkExportDialog(t,e,i);case 19:if(!n){_context273.next=46;break;}_context273.prev=20;if(!("svg"===e)){_context273.next=26;break;}_context273.next=24;return Zw(n,t,"image/svg+xml;charset=utf-8");case 24:_context273.next=35;break;case 26:if(!("svgz"===e)){_context273.next=31;break;}_context273.next=29;return Zw(n,Kf(t),"image/svg+xml;charset=utf-8");case 29:_context273.next=35;break;case 31:_context273.t3="html"===e;if(!_context273.t3){_context273.next=35;break;}_context273.next=35;return Zw(n,t,"text/html;charset=utf-8");case 35:_context273.next=46;break;case 37:_context273.prev=37;_context273.t4=_context273["catch"](20);_context273.next=41;return _this1133.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 41:_context273.t5=_context273.sent;_context273.t6=1===_context273.t5;if(!_context273.t6){_context273.next=46;break;}_context273.next=46;return _this1133.openArtworkExportDialog(t,e,i);case 46:s();case 47:case"end":return _context273.stop();}}},_callee272,null,[[3,9],[20,37]]);}));return function(_x246){return _ref212.apply(this,arguments);};}());}},{key:"openBitmapExportDialog",value:function openBitmapExportDialog(t,e){var _this1134=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;return new Promise(/*#__PURE__*/function(){var _ref213=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee273(s){var n,o,l,a,_t2643;return regeneratorRuntime.wrap(function _callee273$(_context274){while(1){switch(_context274.prev=_context274.next){case 0:n=null,o=null,l=null,a=null;if(null===i){_t2643=_this1134.currentEditorTab.querySelector("x-label").textContent;_t2643.endsWith(".svg")?i=_t2643.substring(0,_t2643.length-4):_t2643.endsWith(".svgz")&&(i=_t2643.substring(0,_t2643.length-5));}"png"===e?(o="PNG",l="image/png",a=["png"]):"jpeg"===e||"jpg"===e?(o="JPEG",l="image/jpeg",a=["jpg","jpeg"]):"gif"===e?(o="GIF",l="image/gif",a=["gif"]):"webp"===e?(o="WebP",l="image/webp",a=["webp"]):"avif"===e&&(o="AVIF",l="image/avif",a=["avif"]);_context274.prev=3;_context274.next=6;return Kw({type:"saveFile",suggestedName:"".concat(i,".").concat(e),acceptsAllTypes:!1,accepts:[{description:o,extensions:a,mimeTypes:[l]}]});case 6:n=_context274.sent;_context274.next=19;break;case 9:_context274.prev=9;_context274.t0=_context274["catch"](3);n=null;_context274.next=14;return _this1134.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 14:_context274.t1=_context274.sent;_context274.t2=1===_context274.t1;if(!_context274.t2){_context274.next=19;break;}_context274.next=19;return _this1134.openBitmapExportDialog(t,e,i);case 19:if(!n){_context274.next=34;break;}_context274.prev=20;_context274.next=23;return Zw(n,t);case 23:_context274.next=34;break;case 25:_context274.prev=25;_context274.t3=_context274["catch"](20);_context274.next=29;return _this1134.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"You don't have permission to save to the chosen location."});case 29:_context274.t4=_context274.sent;_context274.t5=1===_context274.t4;if(!_context274.t5){_context274.next=34;break;}_context274.next=34;return _this1134.openBitmapExportDialog(t,e,i);case 34:s();case 35:case"end":return _context274.stop();}}},_callee273,null,[[3,9],[20,25]]);}));return function(_x247){return _ref213.apply(this,arguments);};}());}},{key:"openLocalFontsImportDialog",value:function openLocalFontsImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref214=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee274(t){var e,i,_iterator1788,_step1788,_t2644,_e2002,_s1060,_n758,_o567;return regeneratorRuntime.wrap(function _callee274$(_context275){while(1){switch(_context275.prev=_context275.next){case 0:_context275.prev=0;_context275.next=3;return Kw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["woff","woff2","ttf","otf"]},{description:"WOFF",extensions:["woff"]},{description:"WOFF2",extensions:["woff2"]},{description:"TTF",extensions:["ttf"]},{description:"OTF",extensions:["otf"]}]});case 3:e=_context275.sent;_context275.next=9;break;case 6:_context275.prev=6;_context275.t0=_context275["catch"](0);return _context275.abrupt("return",void t());case 9:i=[];_iterator1788=_createForOfIteratorHelper(e);_context275.prev=11;_iterator1788.s();case 13:if((_step1788=_iterator1788.n()).done){_context275.next=24;break;}_t2644=_step1788.value;_e2002=Wh(_t2644);_s1060=Hh(_t2644).toLowerCase();_n758=_t2644.fullPath;_context275.next=20;return Nh(_t2644,"dataURL");case 20:_o567=_context275.sent;_o567=_o567.substring(_o567.indexOf("base64")+7),_o567="data:application/font-".concat(_s1060,";charset=utf-8;base64,").concat(_o567),i.push({baseName:_e2002,extension:_s1060,path:_n758,data:_o567});case 22:_context275.next=13;break;case 24:_context275.next=29;break;case 26:_context275.prev=26;_context275.t1=_context275["catch"](11);_iterator1788.e(_context275.t1);case 29:_context275.prev=29;_iterator1788.f();return _context275.finish(29);case 32:t(i);case 33:case"end":return _context275.stop();}}},_callee274,null,[[0,6],[11,26,29,32]]);}));return function(_x248){return _ref214.apply(this,arguments);};}());}},{key:"openImageImportDialog",value:function openImageImportDialog(){return new Promise(/*#__PURE__*/function(){var _ref215=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee275(t){var e,_i1785,_s1061,_n759,_o568;return regeneratorRuntime.wrap(function _callee275$(_context276){while(1){switch(_context276.prev=_context276.next){case 0:_context276.prev=0;_context276.next=3;return Kw({type:"openFile",acceptsMultiple:!1,acceptsAllTypes:!1,accepts:[{description:"Images",extensions:["png","jpg","jpeg","gif","webp","avif","svg","svgz","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context276.sent;_context276.next=9;break;case 6:_context276.prev=6;_context276.t0=_context276["catch"](0);return _context276.abrupt("return",void t());case 9:if(!e){_context276.next=31;break;}_i1785=Wh(e),_s1061=Hh(e).toLowerCase(),_n759=e.fullPath,_o568=null;if(!("svg"===_s1061||"svgz"===_s1061)){_context276.next=17;break;}_context276.next=14;return Nh(e,"text");case 14:_context276.t1=_context276.sent;_context276.next=27;break;case 17:if(!("pdf"===_s1061||"ai"===_s1061)){_context276.next=23;break;}_context276.next=20;return Nh(e,"arrayBuffer");case 20:_context276.t2=_context276.sent;_context276.next=26;break;case 23:_context276.next=25;return Nh(e,"dataURL");case 25:_context276.t2=_context276.sent;case 26:_context276.t1=_context276.t2;case 27:_o568=_context276.t1;t({baseName:_i1785,extension:_s1061,path:_n759,data:_o568});_context276.next=32;break;case 31:t(null);case 32:case"end":return _context276.stop();}}},_callee275,null,[[0,6]]);}));return function(_x249){return _ref215.apply(this,arguments);};}());}},{key:"openMessageDialog",value:function openMessageDialog(t){var _this1135=this;return new Promise(function(e){var i,s,n=qi(_templateObject100()),o=new Xw(t);n.append(o),_this1135["#dialogs"].append(n),n.showModal(),n.addEventListener("close",s=function(_s1062){function s(_x250){return _s1062.apply(this,arguments);}s.toString=function(){return _s1062.toString();};return s;}(function(t){n.removeEventListener("close",s),o.removeEventListener("submit",i),_this1135.fT(t),e(-1);})),o.addEventListener("submit",i=/*#__PURE__*/function(){var _ref216=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee276(t){return regeneratorRuntime.wrap(function _callee276$(_context277){while(1){switch(_context277.prev=_context277.next){case 0:n.removeEventListener("close",s);o.removeEventListener("submit",i);_context277.next=4;return n.close();case 4:e(t.detail);case 5:case"end":return _context277.stop();}}},_callee276);}));return function i(_x251){return _ref216.apply(this,arguments);};}());});}},{key:"openNotification",value:function openNotification(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"Sample notification";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2e3;this["#notification"].innerHTML=t,this["#notification"].timeout=e,this["#notification"].opened=!0;}},{key:"openContextMenu",value:function openContextMenu(){var _this1136=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;return new Promise(function(e){var i,s,n="",o=null,l=_this1136.yE,a=_this1136.kE;null===t&&(t=[{value:"command:undo",label:"Undo"},{value:"command:redo",label:"Redo"},{type:"separator"},{value:"command:cut",label:"Cut"},{value:"command:copy",label:"Copy"},{value:"command:paste",label:"Paste"},{type:"separator"},{value:"command:selectAll",label:"Select All"}]);var _iterator1789=_createForOfIteratorHelper(t),_step1789;try{for(_iterator1789.s();!(_step1789=_iterator1789.n()).done;){var _e2003=_step1789.value;if("separator"===_e2003.type)n+="<hr/>";else{var _t2646=_e2003.toggled?"toggled":"",_i1786=_e2003.disabled?"disabled":"";n+="\n            <x-menuitem value=\"".concat(_e2003.value,"\" ").concat(_t2646," ").concat(_i1786,">\n              <x-label>").concat(_e2003.label,"</x-label>\n            </x-menuitem>\n          ");}}}catch(err){_iterator1789.e(err);}finally{_iterator1789.f();}_this1136["#context-menu"].innerHTML="<x-menu>"+n+"</x-menu>",_this1136["#context-menu"].open(l,a),_this1136["#context-menu"].addEventListener("click",i=function i(t){var e=t.target.closest("x-menuitem");if(o=e.value,null!==e.value&&e.value.startsWith("command:")){var _e$value$split=e.value.split(":"),_e$value$split2=_slicedToArray(_e$value$split,2),_t2645=_e$value$split2[1];_this1136.execCommand(_t2645);}}),_this1136["#context-menu"].addEventListener("close",s=function(_s1063){function s(){return _s1063.apply(this,arguments);}s.toString=function(){return _s1063.toString();};return s;}(function(){_this1136["#context-menu"].removeEventListener("click",i),_this1136["#context-menu"].removeEventListener("close",s),e(o);}));});}},{key:"gT",value:function(){var _gT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee277(t){return regeneratorRuntime.wrap(function _callee277$(_context278){while(1){switch(_context278.prev=_context278.next){case 0:_context278.next=2;return this.uT(t);case 2:_context278.t0=_context278.sent.length;_context278.t1=0===_context278.t0;if(!_context278.t1){_context278.next=6;break;}this.PE();case 6:case"end":return _context278.stop();}}},_callee277,this);}));function gT(_x252){return _gT.apply(this,arguments);}return gT;}()},{key:"QE",value:function QE(t){var e=t.source,_t$data=t.data,i=_t$data.channel,s=_t$data.id,n=_t$data.name,o=_t$data.arg;"request"===i?this.YE[n]&&this.YE[n].forEach(function(t){t(o,function(t){var i={channel:"response",id:s,name:n,arg:t};e.postMessage(i,"*");});}):"response"===i&&this.WE[s]&&(this.WE[s](o),delete this.WE[s]);}},{key:"vn",value:function vn(t){if(this["#sign-in-dialog"].open||this["#install-dialog"].open||this["#trial-dialog"].open)return t.preventDefault(),void t.stopImmediatePropagation();var e=so.fromEvent(t);e.ctrl===this.vE.ctrl&&e.alt===this.vE.alt&&e.meta===this.vE.meta&&e.shift===this.vE.shift||(this.vE={ctrl:e.ctrl,alt:e.alt,meta:e.meta,shift:e.shift},this.dispatchEvent(new CustomEvent("modkeyschange"))),e.matches("Escape")?!1===t.defaultPrevented&&this.execCommand("transformTool"):!1===this.textInputMode&&(e.matches("Backspace")||e.matches("Delete")?this.execCommand("delete"):e.matches("ArrowDown")?this.execCommand("moveOneUnitDown"):e.matches("ArrowUp")?this.execCommand("moveOneUnitUp"):e.matches("ArrowLeft")?this.execCommand("moveOneUnitLeft"):e.matches("ArrowRight")?this.execCommand("moveOneUnitRight"):e.matches("Shift","ArrowDown")?this.execCommand("moveTenUnitsDown"):e.matches("Shift","ArrowUp")?this.execCommand("moveTenUnitsUp"):e.matches("Shift","ArrowLeft")?this.execCommand("moveTenUnitsLeft"):e.matches("Shift","ArrowRight")&&this.execCommand("moveTenUnitsRight"));{var _i1787=!1;this.textInputMode?(e.ctrl||e.alt||e.meta)&&(_i1787=this.wT(e)):_i1787=this.wT(e),_i1787&&t.preventDefault();}}},{key:"Gn",value:function Gn(t){var _so$fromEvent=so.fromEvent(t),e=_so$fromEvent.ctrl,i=_so$fromEvent.alt,s=_so$fromEvent.meta,n=_so$fromEvent.shift;e===this.vE.ctrl&&i===this.vE.alt&&s===this.vE.meta&&n===this.vE.shift||(this.vE={ctrl:e,alt:i,meta:s,shift:n},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"JE",value:function JE(e){var _this1137=this;window.addEventListener("pointermove",function(e){var i=e.getModifierState("Control"),s=e.getModifierState("Alt"),n=e.getModifierState("Meta"),o=e.getModifierState("Shift"),l=t?n:i,a=s,h=t?i:n,r=o;_this1137.vE.ctrl===l&&_this1137.vE.alt===a&&_this1137.vE.meta===h&&_this1137.vE.shift===r||(_this1137.vE={ctrl:l,alt:a,meta:h,shift:r},_this1137.dispatchEvent(new CustomEvent("modkeyschange")));},{once:!0});}},{key:"tT",value:function tT(t){var _this$vE2=this.vE,e=_this$vE2.ctrl,i=_this$vE2.alt,s=_this$vE2.meta,n=_this$vE2.shift;(e||i||s||n)&&(this.vE={ctrl:!1,alt:!1,meta:!1,shift:!1},this.dispatchEvent(new CustomEvent("modkeyschange")));}},{key:"wo",value:function wo(t){this.ME=!0,this.yE=t.clientX,this.kE=t.clientY,!1===this._E.has(t.pointerId)&&(this._E.add(t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _so$fromEvent2=so.fromEvent(t),e=_so$fromEvent2.ctrl,_i1788=_so$fromEvent2.alt,_s1064=_so$fromEvent2.meta,_n760=_so$fromEvent2.shift;e===this.vE.ctrl&&_i1788===this.vE.alt&&_s1064===this.vE.meta&&_n760===this.vE.shift||(this.vE={ctrl:e,alt:_i1788,meta:_s1064,shift:_n760},this.dispatchEvent(new CustomEvent("modkeyschange")));}{var _e2004=1,_i1789=null;for(this.jE.push(t);this.jE.length>8;){this.jE.shift();}var _iterator1790=_createForOfIteratorHelper(this.jE),_step1790;try{for(_iterator1790.s();!(_step1790=_iterator1790.n()).done;){var _t2647=_step1790.value;if(_i1789)if("pen"===_t2647.pointerType){sv(iv(_t2647.clientX-_i1789.clientX,2)+iv(_t2647.clientY-_i1789.clientY,2))<3&&_t2647.timeStamp-_i1789.timeStamp<600?_e2004+=1:_e2004=1;}else _t2647.clientX===_i1789.clientX&&_t2647.clientY===_i1789.clientY&&_t2647.timeStamp-_i1789.timeStamp<600?_e2004+=1:_e2004=1;_i1789=_t2647;}}catch(err){_iterator1790.e(err);}finally{_iterator1790.f();}this.CE=_e2004;}}},{key:"Ud",value:function Ud(t){this.yE=t.clientX,this.kE=t.clientY,this.SE=t.pressure;{var _so$fromEvent3=so.fromEvent(t),e=_so$fromEvent3.ctrl,_i1790=_so$fromEvent3.alt,_s1065=_so$fromEvent3.meta,_n761=_so$fromEvent3.shift;e===this.vE.ctrl&&_i1790===this.vE.alt&&_s1065===this.vE.meta&&_n761===this.vE.shift||(this.vE={ctrl:e,alt:_i1790,meta:_s1065,shift:_n761},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"ja",value:function ja(t){this.ME=!1,!0===this._E.has(t.pointerId)&&(this._E["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));{var _so$fromEvent4=so.fromEvent(t),e=_so$fromEvent4.ctrl,_i1791=_so$fromEvent4.alt,_s1066=_so$fromEvent4.meta,_n762=_so$fromEvent4.shift;e===this.vE.ctrl&&_i1791===this.vE.alt&&_s1066===this.vE.meta&&_n762===this.vE.shift||(this.vE={ctrl:e,alt:_i1791,meta:_s1066,shift:_n762},this.dispatchEvent(new CustomEvent("modkeyschange")));}}},{key:"eT",value:function eT(t){!0===this._E.has(t.pointerId)&&(this._E["delete"](t.pointerId),this.dispatchEvent(new CustomEvent("pointerschange")));}},{key:"iT",value:function iT(t){this.yE=t.clientX,this.kE=t.clientY,t.preventDefault(),t.dataTransfer.dropEffect="copy";}},{key:"sT",value:function(){var _sT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee278(t){var e,_i1792,_s1067,_iterator1791,_step1791,_e2005,_t2650,_o569,_e2006,_s1068,_e2007,_s1069,_n763,_e2008,_s1070,_l426,_t2651,_e2009,_iterator1792,_step1792,_t2648,_iterator1793,_step1793,_t2649,_e2010,_iterator1794,_step1794,_i1793,_t2653,_s1071,_t2652;return regeneratorRuntime.wrap(function _callee278$(_context279){while(1){switch(_context279.prev=_context279.next){case 0:if(!(this.yE=t.clientX,this.kE=t.clientY,t.preventDefault(),"bx-editor"===t.target.localName)){_context279.next=61;break;}e=t.target,_i1792=[],_s1067=[];_iterator1791=_createForOfIteratorHelper(t.dataTransfer.items);_context279.prev=3;_iterator1791.s();case 5:if((_step1791=_iterator1791.n()).done){_context279.next=50;break;}_e2005=_step1791.value;_t2650=_e2005.webkitGetAsEntry(),_o569=Hh(_t2650).toLowerCase();if(!("svg"===_o569)){_context279.next=16;break;}_context279.next=11;return Nh(_t2650,"text");case 11:_e2006=_context279.sent;_s1068=Dh(_e2006);_i1792.push(_s1068);_context279.next=48;break;case 16:if(!("svgz"===_o569)){_context279.next=25;break;}_context279.next=19;return Nh(_t2650,"arrayBuffer");case 19:_e2007=_context279.sent;_s1069=Qf(_e2007);_n763=Dh(_s1069);_i1792.push(_n763);_context279.next=48;break;case 25:if(!("pdf"===_o569||"ai"===_o569)){_context279.next=43;break;}_context279.next=28;return Nh(_t2650,"arrayBuffer");case 28:_e2008=_context279.sent;_s1070=null;_l426=null;_context279.prev=31;_context279.next=34;return qm(_e2008);case 34:_s1070=_context279.sent;_context279.next=40;break;case 37:_context279.prev=37;_context279.t0=_context279["catch"](31);_l426=_context279.t0;case 40:if(_l426)this.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_o569?n:_l426.message});else{_t2651=Dh(_s1070);_i1792.push(_t2651);}_context279.next=48;break;case 43:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_o569)){_context279.next=48;break;}_context279.next=46;return Nh(_t2650,"dataURL");case 46:_e2009=_context279.sent;_s1067.push(_e2009);case 48:_context279.next=5;break;case 50:_context279.next=55;break;case 52:_context279.prev=52;_context279.t1=_context279["catch"](3);_iterator1791.e(_context279.t1);case 55:_context279.prev=55;_iterator1791.f();return _context279.finish(55);case 58:if(_i1792.length>0||_s1067.length>0){e.board.undoManager.checkpoint("Insert files");_iterator1792=_createForOfIteratorHelper(_i1792);try{for(_iterator1792.s();!(_step1792=_iterator1792.n()).done;){_t2648=_step1792.value;e.board.insertArtwork(_t2648,"pointer");}}catch(err){_iterator1792.e(err);}finally{_iterator1792.f();}_iterator1793=_createForOfIteratorHelper(_s1067);try{for(_iterator1793.s();!(_step1793=_iterator1793.n()).done;){_t2649=_step1793.value;e.board.insertBitmap(_t2649,"pointer");}}catch(err){_iterator1793.e(err);}finally{_iterator1793.f();}}_context279.next=65;break;case 61:_e2010=[];_iterator1794=_createForOfIteratorHelper(t.dataTransfer.items);try{for(_iterator1794.s();!(_step1794=_iterator1794.n()).done;){_i1793=_step1794.value;_t2653=_i1793.webkitGetAsEntry(),_s1071=Hh(_t2653).toLowerCase();["svg","svgz","pdf","ai","png","jpeg","jpg","gif","webp","avif"].includes(_s1071)&&_e2010.push(_t2653);}}catch(err){_iterator1794.e(err);}finally{_iterator1794.f();}if(_e2010.length>0){_t2652=_e2010.map(function(t){return{type:"editor",selected:!1,entry:t};});_t2652[_t2652.length-1].selected=!0,this.vT(_t2652);}case 65:case"end":return _context279.stop();}}},_callee278,this,[[3,52,55,58],[31,37]]);}));function sT(_x253){return _sT.apply(this,arguments);}return sT;}()},{key:"an",value:function an(t){var _t$detail21=t.detail,e=_t$detail21.key,i=_t$detail21.value;"bx-keyboardsettings:userShortcuts"===e?this.mT():"bx-uisettings:colorScheme"===e?this.xT():"bx-uisettings:accentColor"===e?this.yT():"bx-uisettings:widgetsSize"===e&&this.bT();}},{key:"KE",value:function KE(){this.xT();}},{key:"nT",value:function nT(t){var e=t.target.closest("x-button");"minimize-button"===e.id?this.execCommand("minimize"):"maximize-button"===e.id?this.execCommand("maximize"):"close-button"===e.id&&this.execCommand("quit");}},{key:"oT",value:function(){var _oT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee279(t){var e,_t2654,_i1794,_t2655,_i1795;return regeneratorRuntime.wrap(function _callee279$(_context280){while(1){switch(_context280.prev=_context280.next){case 0:e=t.target.closest("x-menuitem");if(!e){_context280.next=18;break;}if(!t.isTrusted){_context280.next=7;break;}_context280.next=5;return ts(500);case 5:_context280.next=8;break;case 7:if(!e.closest("[expanded]")){_t2654=null;for(_i1794=e;_i1794!==this["#menubar"];_i1794=_i1794.parentElement){"x-menuitem"===_i1794.localName&&(_t2654=_i1794);}_t2654.style.background="var(--accent-color)",_t2654.style.color="white",ts(150).then(function(){_t2654.style.background=null,_t2654.style.color=null;});}case 8:if(!e.value){_context280.next=12;break;}this.execCommand(e.value);_context280.next=18;break;case 12:if(!(e.id&&e.id.startsWith("open-recent-"))){_context280.next=18;break;}_t2655=e.id.substring(12);_context280.next=16;return Qw(_t2655);case 16:_i1795=_context280.sent;_i1795&&(this.PE(_i1795,!0),this.kT([_i1795]));case 18:case"end":return _context280.stop();}}},_callee279,this);}));function oT(_x254){return _oT.apply(this,arguments);}return oT;}()},{key:"lT",value:function lT(t){t.preventDefault();}},{key:"rT",value:function rT(t){t.preventDefault(),this.PE();}},{key:"dT",value:function dT(t){t.preventDefault();var e=t.target;this.LE(e);}},{key:"cT",value:function cT(t){this.ST(this.currentTab);}},{key:"pT",value:function pT(t){var e=t.target,i=t.detail,s=_toConsumableArray(this["#tabs"].children).find(function(t){return t[lv]===e;}),n=s[rv];"increment"===i?s[rv]+=1:"decrement"===i&&(s[rv]-=1),0!==n!=(0!==s[rv])&&(s.edited=0!==s[rv]);}},{key:"aT",value:function aT(t){var e=t.target;this._T(e),this["#menubar"].setAttribute("data-expaneded","");}},{key:"hT",value:function(){var _hT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee280(t){return regeneratorRuntime.wrap(function _callee280$(_context281){while(1){switch(_context281.prev=_context281.next){case 0:_context281.next=2;return ts(500);case 2:null===this["#menubar"].querySelector("x-menu[opened]")&&(this.currentView.focus(),this["#menubar"].removeAttribute("data-expaneded"));case 3:case"end":return _context281.stop();}}},_callee280,this);}));function hT(_x255){return _hT.apply(this,arguments);}return hT;}()},{key:"vT",value:function vT(t){var _this1138=this;return new Promise(/*#__PURE__*/function(){var _ref217=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee281(e){var i,_iterator1795,_step1795,_e2012,_t2657,_t2658,_t2659,_t2656,_e2011;return regeneratorRuntime.wrap(function _callee281$(_context282){while(1){switch(_context282.prev=_context282.next){case 0:i=[];_iterator1795=_createForOfIteratorHelper(t);_context282.prev=2;_iterator1795.s();case 4:if((_step1795=_iterator1795.n()).done){_context282.next=23;break;}_e2012=_step1795.value;if(!("about"===_e2012.type)){_context282.next=11;break;}_t2657=_this1138.VE(!1);_e2012.selected&&(_t2657.selected=!0),i.push(_t2657);_context282.next=21;break;case 11:if(!("preferences"===_e2012.type)){_context282.next=16;break;}_t2658=_this1138.RE(!1);_e2012.selected&&(_t2658.selected=!0),i.push(_t2658);_context282.next=21;break;case 16:if(!("editor"===_e2012.type)){_context282.next=21;break;}_context282.next=19;return _this1138.PE(_e2012.entry,!1);case 19:_t2659=_context282.sent;_e2012.selected&&(_t2659.selected=!0),i.push(_t2659);case 21:_context282.next=4;break;case 23:_context282.next=28;break;case 25:_context282.prev=25;_context282.t0=_context282["catch"](2);_iterator1795.e(_context282.t0);case 28:_context282.prev=28;_iterator1795.f();return _context282.finish(28);case 31:if(i.length>0){_t2656=i.find(function(t){return t.selected;}),_e2011=i[i.length-1];_this1138.ST(_t2656||_e2011);}e(i);case 33:case"end":return _context282.stop();}}},_callee281,null,[[2,25,28,31]]);}));return function(_x256){return _ref217.apply(this,arguments);};}());}},{key:"VE",value:function VE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1796=_createForOfIteratorHelper(this["#tabs"].children),_step1796;try{for(_iterator1796.s();!(_step1796=_iterator1796.n()).done;){var _t2660=_step1796.value;if("about"===_t2660[ov]){e=_t2660;break;}}}catch(err){_iterator1796.e(err);}finally{_iterator1796.f();}return null===e&&(e=qi(_templateObject101()),e[ov]="about",e[lv]=null,e[hv]=function(){var t=qi(_templateObject102());return e[lv]=t,t.version=chrome.runtime.getManifest().version,t;},this["#tabs"].openTab(e,!1)),t&&this.ST(e),e;}},{key:"RE",value:function RE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=null;var _iterator1797=_createForOfIteratorHelper(this["#tabs"].children),_step1797;try{for(_iterator1797.s();!(_step1797=_iterator1797.n()).done;){var _t2661=_step1797.value;if("preferences"===_t2661[ov]){e=_t2661;break;}}}catch(err){_iterator1797.e(err);}finally{_iterator1797.f();}return null===e&&(e=qi(_templateObject103()),e[ov]="preferences",e[lv]=null,e[hv]=function(){var t=qi(_templateObject104());return e[lv]=t,t;},this["#tabs"].openTab(e,!1)),t&&this.ST(e),e;}},{key:"PE",value:function PE(){var _this1139=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref218=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee283(i){var s,_iterator1798,_step1798,_e2013,_e2014,_i1796,_o570,_s1072;return regeneratorRuntime.wrap(function _callee283$(_context284){while(1){switch(_context284.prev=_context284.next){case 0:s=null;if(!t){_context284.next=25;break;}_iterator1798=_createForOfIteratorHelper(_this1139["#tabs"].children);_context284.prev=3;_iterator1798.s();case 5:if((_step1798=_iterator1798.n()).done){_context284.next=17;break;}_e2013=_step1798.value;_context284.t0=!!_e2013[av];if(!_context284.t0){_context284.next=12;break;}_context284.next=11;return Jw(_e2013[av],t);case 11:_context284.t0=_context284.sent;case 12:if(!_context284.t0){_context284.next=15;break;}s=_e2013;return _context284.abrupt("break",17);case 15:_context284.next=5;break;case 17:_context284.next=22;break;case 19:_context284.prev=19;_context284.t1=_context284["catch"](3);_iterator1798.e(_context284.t1);case 22:_context284.prev=22;_iterator1798.f();return _context284.finish(22);case 25:if(!(null===s)){_context284.next=37;break;}if(t){_s1072=Wh(t);_i1796=Hh(t).toLowerCase(),["svg","svgz"].includes(_i1796)?(_e2014=_s1072+"."+_i1796,_o570=0):(_e2014=_s1072+".svg",_o570=1);}else _e2014="Untitled",_i1796="svg",_o570=0;s=qi(_templateObject105(),_e2014,_e2014);s[ov]="editor";s[av]=t;s[lv]=null;s[rv]=_o570;s.edited=0!==s[rv];s[hv]=function(){var e=qi(_templateObject106());return s[lv]=e,_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee282(){var _i1797,_s1073,_i1798,_s1074,_n764,_s1075,_o571,_l427,_t2662,_i1799,_s1076,_n765;return regeneratorRuntime.wrap(function _callee282$(_context283){while(1){switch(_context283.prev=_context283.next){case 0:if(!t){_context283.next=47;break;}if(!("svg"===_i1796)){_context283.next=9;break;}_context283.next=4;return Nh(t,"text");case 4:_i1797=_context283.sent;_s1073=Dh(_i1797);e.board.setArtwork(_s1073);_context283.next=45;break;case 9:if(!("svgz"===_i1796)){_context283.next=18;break;}_context283.next=12;return Nh(t,"arrayBuffer");case 12:_i1798=_context283.sent;_s1074=Qf(_i1798);_n764=Dh(_s1074);e.board.setArtwork(_n764);_context283.next=45;break;case 18:if(!("pdf"===_i1796||"ai"===_i1796)){_context283.next=36;break;}_context283.next=21;return Nh(t,"arrayBuffer");case 21:_s1075=_context283.sent;_o571=null;_l427=null;_context283.prev=24;_context283.next=27;return qm(_s1075);case 27:_o571=_context283.sent;_context283.next=33;break;case 30:_context283.prev=30;_context283.t0=_context283["catch"](24);_l427=_context283.t0;case 33:if(_l427)e.board.setDefaultArtwork(),_this1139.openMessageDialog({buttons:["OK"],message:"Can't import file",detail:"ai"===_i1796?n:_l427.message});else{_t2662=Dh(_o571);e.board.setArtwork(_t2662);}_context283.next=45;break;case 36:if(!["png","jpeg","jpg","gif","webp","avif"].includes(_i1796)){_context283.next=45;break;}_context283.next=39;return Nh(t,"dataURL");case 39:_i1799=_context283.sent;_context283.next=42;return lu(_i1799);case 42:_s1076=_context283.sent;_n765=Dh(_s1076);e.board.setArtwork(_n765);case 45:_context283.next=48;break;case 47:e.board.setDefaultArtwork();case 48:case"end":return _context283.stop();}}},_callee282,null,[[24,30]]);}))(),e;};_this1139["#tabs"].openTab(s,!1);_context284.next=37;return es;case 37:_context284.t2=e;if(!_context284.t2){_context284.next=44;break;}_context284.t3=null===t;if(!_context284.t3){_context284.next=43;break;}_context284.next=43;return ts(100);case 43:_this1139.ST(s);case 44:i(s);case 45:case"end":return _context284.stop();}}},_callee283,null,[[3,19,22,25]]);}));return function(_x257){return _ref218.apply(this,arguments);};}());}},{key:"zE",value:function zE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;if(this.DE()){this.currentEditor.board.collectGarbage();var e=this.currentEditor.board.extractArtworkWithSelectedElements(),_i1800=tu(e,"xml"),_s1077=qi(_templateObject107());_s1077[ov]="editor",_s1077[av]=null,_s1077[lv]=null,_s1077[rv]=1,_s1077.edited=!0,_s1077[hv]=function(){var t=qi(_templateObject108());return t.board.setArtwork(Dh(_i1800)),_s1077[lv]=t,t;},this["#tabs"].openTab(_s1077),t&&this.ST(_s1077);}}},{key:"DE",value:function DE(){return null!==this.currentEditor&&this.currentEditor.board.selectedObjectElements.length>0;}},{key:"OE",value:function(){var _OE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee284(){var _t2663,e,_i1801,_yield$Zh4,_s1078,_n766,_i1802,_yield$Zh5,_s1079,_n767,_t2664;return regeneratorRuntime.wrap(function _callee284$(_context285){while(1){switch(_context285.prev=_context285.next){case 0:if(!this.currentEditor){_context285.next=46;break;}_context285.next=3;return this.getClipboardData();case 3:_t2663=_context285.sent;if(!_t2663){_context285.next=46;break;}e=null;if(!(_t2663["text/html"]&&nu(_t2663["text/html"]))){_context285.next=10;break;}e=_t2663["text/html"];_context285.next=32;break;case 10:if(!(_t2663["text/plain"]&&nu(_t2663["text/plain"]))){_context285.next=14;break;}e=_t2663["text/plain"];_context285.next=32;break;case 14:if(!_t2663["image/png"]){_context285.next=24;break;}_i1801=_t2663["image/png"];_context285.next=18;return Zh(_i1801);case 18:_yield$Zh4=_context285.sent;_s1078=_yield$Zh4.width;_n766=_yield$Zh4.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1078," ").concat(_n766,"\">\n              <image href=\"").concat(_i1801,"\"></image>\n            </svg>");_context285.next=32;break;case 24:if(!_t2663["image/avif"]){_context285.next=32;break;}_i1802=_t2663["image/avif"];_context285.next=28;return Zh(_i1802);case 28:_yield$Zh5=_context285.sent;_s1079=_yield$Zh5.width;_n767=_yield$Zh5.height;e="\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ".concat(_s1079," ").concat(_n767,"\">\n              <image href=\"").concat(_i1802,"\"></image>\n            </svg>");case 32:if(!e){_context285.next=45;break;}_t2664=qi(_templateObject109());_t2664[ov]="editor";_t2664[av]=null;_t2664[lv]=null;_t2664[rv]=1;_t2664.edited=!0;_t2664[hv]=function(){var i=qi(_templateObject110());return i.board.setArtwork(Dh(e)),_t2664[lv]=i,i;};_context285.next=42;return this["#tabs"].openTab(_t2664);case 42:this.ST(_t2664);_context285.next=46;break;case 45:this.openMessageDialog({buttons:["OK"],message:"Can't create file",detail:"The current contents of the clipboard can't be used to create a new file."});case 46:case"end":return _context285.stop();}}},_callee284,this);}));function OE(){return _OE.apply(this,arguments);}return OE;}()},{key:"openEditorTabWithArtworkFromLibrary",value:function openEditorTabWithArtworkFromLibrary(t){var _this1140=this;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return new Promise(/*#__PURE__*/function(){var _ref220=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee285(i){var s;return regeneratorRuntime.wrap(function _callee285$(_context286){while(1){switch(_context286.prev=_context286.next){case 0:s=qi(_templateObject111());s[ov]="editor";s[av]=null;s[lv]=null;s[rv]=1;s.edited=!0;s[hv]=function(){var e=qi(_templateObject112());return e.board.setArtwork(Dh(t)),s[lv]=e,e;};_this1140["#tabs"].openTab(s);_context286.t0=e;if(!_context286.t0){_context286.next=13;break;}_context286.next=12;return ts(200);case 12:_this1140.ST(s);case 13:i();case 14:case"end":return _context286.stop();}}},_callee285);}));return function(_x258){return _ref220.apply(this,arguments);};}());}},{key:"EE",value:function EE(){var _this1141=this;return new Promise(/*#__PURE__*/function(){var _ref221=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee286(t){var e,_t2665;return regeneratorRuntime.wrap(function _callee286$(_context287){while(1){switch(_context287.prev=_context287.next){case 0:_context287.prev=0;_context287.next=3;return Kw({type:"openFile",acceptsMultiple:!0,acceptsAllTypes:!1,accepts:[{description:"All Supported Formats",extensions:["svg","svgz","png","jpg","jpeg","gif","webp","avif","pdf","ai"]},{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]},{description:"PNG",mimeTypes:["image/png"],extensions:["png"]},{description:"JPEG",mimeTypes:["image/jpeg"],extensions:["jpg","jpeg"]},{description:"GIF",mimeTypes:["image/gif"],extensions:["gif"]},{description:"WebP",mimeTypes:["image/webp"],extensions:["webp"]},{description:"AVIF",mimeTypes:["image/avif"],extensions:["avif"]},{description:"PDF",mimeTypes:["application/pdf"],extensions:["pdf"]},{description:"AI",mimeTypes:["application/illustrator"],extensions:["ai"]}]});case 3:e=_context287.sent;_context287.next=9;break;case 6:_context287.prev=6;_context287.t0=_context287["catch"](0);return _context287.abrupt("return",void t());case 9:if(!(e.length>0)){_context287.next=15;break;}_t2665=e.map(function(t){return{type:"editor",entry:t,selected:!1};});_t2665[_t2665.length-1].selected=!0;_this1141.vT(_t2665);_context287.next=15;return _this1141.kT(e);case 15:t();case 16:case"end":return _context287.stop();}}},_callee286,null,[[0,6]]);}));return function(_x259){return _ref221.apply(this,arguments);};}());}},{key:"uT",value:function uT(t){var _this1142=this;return new Promise(/*#__PURE__*/function(){var _ref222=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee287(e){var i,_iterator1799,_step1799,_e2015,_t2666,s;return regeneratorRuntime.wrap(function _callee287$(_context288){while(1){switch(_context288.prev=_context288.next){case 0:i=[];_iterator1799=_createForOfIteratorHelper(t);_context288.prev=2;_iterator1799.s();case 4:if((_step1799=_iterator1799.n()).done){_context288.next=12;break;}_e2015=_step1799.value;_context288.next=8;return Qw(_e2015);case 8:_t2666=_context288.sent;_t2666&&i.push(_t2666);case 10:_context288.next=4;break;case 12:_context288.next=17;break;case 14:_context288.prev=14;_context288.t0=_context288["catch"](2);_iterator1799.e(_context288.t0);case 17:_context288.prev=17;_iterator1799.f();return _context288.finish(17);case 20:s=i.map(function(t){return{type:"editor",entry:t,selected:!1};});s.length>0&&(s[s.length-1].selected=!0);_context288.t1=e;_context288.next=25;return _this1142.vT(s);case 25:_context288.t2=_context288.sent;(0,_context288.t1)(_context288.t2);case 27:case"end":return _context288.stop();}}},_callee287,null,[[2,14,17,20]]);}));return function(_x260){return _ref222.apply(this,arguments);};}());}},{key:"ST",value:function(){var _ST=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee288(t){var e,_iterator1800,_step1800,_i1804,i,s,_i1803,_arr92,_t2667;return regeneratorRuntime.wrap(function _callee288$(_context289){while(1){switch(_context289.prev=_context289.next){case 0:e=_toConsumableArray(this["#tabs"].children);_iterator1800=_createForOfIteratorHelper(e);try{for(_iterator1800.s();!(_step1800=_iterator1800.n()).done;){_i1804=_step1800.value;_i1804.selected=_i1804===t;}}catch(err){_iterator1800.e(err);}finally{_iterator1800.f();}i=t[lv]?t[lv]:t[hv](),s=Symbol();this.CT=s;i.hidden=!0;_context289.t0=!1===this["#main"].contains(i);if(!_context289.t0){_context289.next=11;break;}this["#main"].append(i);_context289.next=11;return ts(100);case 11:_context289.next=13;return es;case 13:if(!(this.CT===s)){_context289.next=16;break;}i.hidden=!1,i.focus();for(_i1803=0,_arr92=_toConsumableArray(this["#main"].children);_i1803<_arr92.length;_i1803++){_t2667=_arr92[_i1803];_t2667!==i&&(_t2667.remove(),_t2667.hidden=!0);}case 16:case"end":return _context289.stop();}}},_callee288,this);}));function ST(_x261){return _ST.apply(this,arguments);}return ST;}()},{key:"UE",value:function UE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectPreviousTab();e&&t&&this.ST(e);}},{key:"NE",value:function NE(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:!0;var e=this["#tabs"].selectNextTab();e&&t&&this.ST(e);}},{key:"AE",value:function AE(){var _this1143=this;return new Promise(/*#__PURE__*/function(){var _ref223=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee289(t){var e;return regeneratorRuntime.wrap(function _callee289$(_context290){while(1){switch(_context290.prev=_context290.next){case 0:e=!1;_context290.t0=_this1143.currentEditorTab;if(!_context290.t0){_context290.next=6;break;}_context290.next=5;return _this1143.MT(_this1143.currentEditorTab);case 5:e=_context290.sent;case 6:t(e);case 7:case"end":return _context290.stop();}}},_callee289);}));return function(_x262){return _ref223.apply(this,arguments);};}());}},{key:"$E",value:function $E(){var _this1144=this;return new Promise(/*#__PURE__*/function(){var _ref224=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee290(t){var e;return regeneratorRuntime.wrap(function _callee290$(_context291){while(1){switch(_context291.prev=_context291.next){case 0:e=!1;_context291.t0=_this1144.currentEditorTab;if(!_context291.t0){_context291.next=6;break;}_context291.next=5;return _this1144.PT(_this1144.currentEditorTab);case 5:e=_context291.sent;case 6:t(e);case 7:case"end":return _context291.stop();}}},_callee290);}));return function(_x263){return _ref224.apply(this,arguments);};}());}},{key:"MT",value:function MT(t){var _this1145=this;return new Promise(/*#__PURE__*/function(){var _ref225=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee291(e){var i,_s1080,_n768,_o572,_l428,_t2668,_t2669,_e2016;return regeneratorRuntime.wrap(function _callee291$(_context292){while(1){switch(_context292.prev=_context292.next){case 0:i=t[av];if(!(null===i)){_context292.next=9;break;}_context292.t0=e;_context292.next=5;return _this1145.PT(t);case 5:_context292.t1=_context292.sent;(0,_context292.t0)(_context292.t1);_context292.next=69;break;case 9:if(!t.edited){_context292.next=68;break;}_s1080=Hh(i).toLowerCase(),_n768=_this1145.getConfig("bx-markupsettings:indentation",2);if(!["png","jpg","jpeg","gif","webp","avif","pdf","ai"].includes(_s1080)){_context292.next=15;break;}e(_this1145.PT(t));_context292.next=66;break;case 15:if(!["svg","svgz"].includes(_s1080)){_context292.next=65;break;}_o572=t[lv].board.extractArtwork(),_l428=null;if(!("svg"===_s1080)){_context292.next=29;break;}_t2668=tu(_o572,"xml",_n768);_context292.prev=19;_context292.next=22;return Zw(i,_t2668,"image/svg+xml;charset=utf-8");case 22:_context292.next=27;break;case 24:_context292.prev=24;_context292.t2=_context292["catch"](19);_l428=_context292.t2;case 27:_context292.next=39;break;case 29:if(!("svgz"===_s1080)){_context292.next=39;break;}_t2669=tu(_o572,"xml",_n768),_e2016=Kf(_t2669);_context292.prev=31;_context292.next=34;return Zw(i,_e2016,"image/svg+xml;charset=utf-8");case 34:_context292.next=39;break;case 36:_context292.prev=36;_context292.t3=_context292["catch"](31);_l428=_context292.t3;case 39:if(!_l428){_context292.next=62;break;}if(!("READ_ONLY"===_l428)){_context292.next=55;break;}_context292.next=43;return _this1145.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"The file \"".concat(i.name,"\" is read-only.")});case 43:_context292.t4=_context292.sent;if(!(1===_context292.t4)){_context292.next=52;break;}_context292.t5=e;_context292.next=48;return _this1145.$E();case 48:_context292.t6=_context292.sent;(0,_context292.t5)(_context292.t6);_context292.next=53;break;case 52:e(!1);case 53:_context292.next=60;break;case 55:_context292.t7=e;_context292.next=58;return _this1145.$E();case 58:_context292.t8=_context292.sent;(0,_context292.t7)(_context292.t8);case 60:_context292.next=63;break;case 62:t[rv]=0,t.edited=!1,e(!0);case 63:_context292.next=66;break;case 65:e(!1);case 66:_context292.next=69;break;case 68:e(!1);case 69:case"end":return _context292.stop();}}},_callee291,null,[[19,24],[31,36]]);}));return function(_x264){return _ref225.apply(this,arguments);};}());}},{key:"PT",value:function PT(t){var _this1146=this;return new Promise(/*#__PURE__*/function(){var _ref226=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee292(e){var i,_s1081,_n769,_o573,_l429,_t2670,_e2017,_t2671;return regeneratorRuntime.wrap(function _callee292$(_context293){while(1){switch(_context293.prev=_context293.next){case 0:i=null;_context293.prev=1;_context293.next=4;return Kw({type:"saveFile",suggestedName:t[av]?Wh(t[av]):"Untitled.svg",acceptsAllTypes:!1,accepts:[{description:"SVG",mimeTypes:["image/svg+xml"],extensions:["svg"]},{description:"SVGZ",mimeTypes:["image/svg+xml"],extensions:["svgz"]}]});case 4:i=_context293.sent;_context293.next=22;break;case 7:_context293.prev=7;_context293.t0=_context293["catch"](1);_context293.next=11;return _this1146.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Selected directory is read-only."});case 11:_context293.t1=_context293.sent;if(!(1===_context293.t1)){_context293.next=20;break;}_context293.t2=e;_context293.next=16;return _this1146.$E();case 16:_context293.t3=_context293.sent;(0,_context293.t2)(_context293.t3);_context293.next=21;break;case 20:e(!1);case 21:return _context293.abrupt("return");case 22:if(!(null===i)){_context293.next=26;break;}e(!1);_context293.next=72;break;case 26:_s1081=t[lv].board.extractArtwork(),_n769=Hh(i).toLowerCase(),_o573=_this1146.getConfig("bx-markupsettings:indentation",2),_l429=null;if(!("svgz"===_n769)){_context293.next=39;break;}_t2670=tu(_s1081,"xml",_o573),_e2017=Kf(_t2670);_context293.prev=29;_context293.next=32;return Zw(i,_e2017,"image/svg+xml;charset=utf-8");case 32:_context293.next=37;break;case 34:_context293.prev=34;_context293.t4=_context293["catch"](29);_l429=_context293.t4;case 37:_context293.next=48;break;case 39:_t2671=tu(_s1081,"xml",_o573);_context293.prev=40;_context293.next=43;return Zw(i,_t2671,"image/svg+xml;charset=utf-8");case 43:_context293.next=48;break;case 45:_context293.prev=45;_context293.t5=_context293["catch"](40);_l429=_context293.t5;case 48:if(!_l429){_context293.next=71;break;}if(!("READ_ONLY"===_l429)){_context293.next=64;break;}_context293.next=52;return _this1146.openMessageDialog({type:"question",buttons:["Cancel","Save As\u2026"],message:"Can't save file.",detail:"Chosen location is read-only."});case 52:_context293.t6=_context293.sent;if(!(1===_context293.t6)){_context293.next=61;break;}_context293.t7=e;_context293.next=57;return _this1146.$E();case 57:_context293.t8=_context293.sent;(0,_context293.t7)(_context293.t8);_context293.next=62;break;case 61:e(!1);case 62:_context293.next=69;break;case 64:_context293.t9=e;_context293.next=67;return _this1146.$E();case 67:_context293.t10=_context293.sent;(0,_context293.t9)(_context293.t10);case 69:_context293.next=72;break;case 71:t[av]=i,t[rv]=0,t.edited=!1,t.title=i.name,t.querySelector("x-label").textContent=i.name,_this1146.kT([i]),e(!0);case 72:case"end":return _context293.stop();}}},_callee292,null,[[1,7],[29,34],[40,45]]);}));return function(_x265){return _ref226.apply(this,arguments);};}());}},{key:"LE",value:function LE(t){var _this1147=this;return new Promise(/*#__PURE__*/function(){var _ref227=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee293(e){var _i1805,_s1082,i,s;return regeneratorRuntime.wrap(function _callee293$(_context294){while(1){switch(_context294.prev=_context294.next){case 0:if(!t.edited){_context294.next=16;break;}_i1805="Do you want to save the changes you made to ".concat(t[av]?"\"".concat(t[av].name,"\""):"untitled"," file?");_context294.next=4;return _this1147.openMessageDialog({type:"question",buttons:["Save","Cancel","Don't Save"],title:"Confirm",message:_i1805,detail:"Your changes will be lost if you don't save them."});case 4:_s1082=_context294.sent;if(!(0===_s1082)){_context294.next=14;break;}_context294.t0=!1;_context294.next=9;return _this1147.MT(t);case 9:_context294.t1=_context294.sent;if(!(_context294.t0===_context294.t1)){_context294.next=12;break;}return _context294.abrupt("return",void e(!1));case 12:_context294.next=16;break;case 14:if(!(1===_s1082||-1===_s1082)){_context294.next=16;break;}return _context294.abrupt("return",void e(!1));case 16:i=t[lv],s=t.selected;_this1147["#tabs"].closeTab(t,!1),s&&_this1147.currentTab&&_this1147.ST(_this1147.currentTab),i&&(1===_this1147["#main"].childElementCount?i.remove():ts(3e3).then(function(){i.remove();})),e(!0);case 18:case"end":return _context294.stop();}}},_callee293);}));return function(_x266){return _ref227.apply(this,arguments);};}());}},{key:"DT",value:function DT(){var _this1148=this;return new Promise(/*#__PURE__*/function(){var _ref228=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee294(t){var e,_iterator1801,_step1801,_i1806;return regeneratorRuntime.wrap(function _callee294$(_context295){while(1){switch(_context295.prev=_context295.next){case 0:e=_toConsumableArray(_this1148["#tabs"].children);_iterator1801=_createForOfIteratorHelper(e);_context295.prev=2;_iterator1801.s();case 4:if((_step1801=_iterator1801.n()).done){_context295.next=18;break;}_i1806=_step1801.value;_context295.t0=_i1806!==e[0];if(!_context295.t0){_context295.next=10;break;}_context295.next=10;return ts(1e3);case 10:_context295.t1=!1;_context295.next=13;return _this1148.LE(_i1806);case 13:_context295.t2=_context295.sent;if(!(_context295.t1===_context295.t2)){_context295.next=16;break;}return _context295.abrupt("return",void t(!1));case 16:_context295.next=4;break;case 18:_context295.next=23;break;case 20:_context295.prev=20;_context295.t3=_context295["catch"](2);_iterator1801.e(_context295.t3);case 23:_context295.prev=23;_iterator1801.f();return _context295.finish(23);case 26:t(!0);case 27:case"end":return _context295.stop();}}},_callee294,null,[[2,20,23,26]]);}));return function(_x267){return _ref228.apply(this,arguments);};}());}},{key:"IE",value:function(){var _IE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee295(){var _t2672,e,_i1807,_s1083,_n770,_o574,_e2018,_l430;return regeneratorRuntime.wrap(function _callee295$(_context296){while(1){switch(_context296.prev=_context296.next){case 0:if(!(this.currentEditor&&this.currentTab[av])){_context296.next=14;break;}e=this.currentEditor.board,_i1807=e.currentWorkspace===e.masterWorkspace?e.getZoomArea():null,_s1083=this.currentEditor,_n770=this.currentTab,_o574=this.currentTab[av];if(!("svgz"===Hh(_o574).toLowerCase())){_context296.next=9;break;}_context296.next=5;return Nh(_o574,"arrayBuffer");case 5:_e2018=_context296.sent;_t2672=Qf(_e2018);_context296.next=12;break;case 9:_context296.next=11;return Nh(_o574,"text");case 11:_t2672=_context296.sent;case 12:_l430=Dh(_t2672);_s1083.board.setArtwork(_l430),_n770[rv]=0,_n770.edited=!1,_i1807&&e.addEventListener("currentworkspacechange",function(){e.zoomToArea(_i1807,"top-left",0);},{once:!0});case 14:case"end":return _context296.stop();}}},_callee295,this);}));function IE(){return _IE.apply(this,arguments);}return IE;}()},{key:"zT",value:function zT(){var t=[];var _iterator1802=_createForOfIteratorHelper(this["#tabs"].getTabsByScreenIndex()),_step1802;try{for(_iterator1802.s();!(_step1802=_iterator1802.n()).done;){var e=_step1802.value;var _i1808={type:e[ov],path:e[$path],selected:e.selected};t.push(_i1808);}}catch(err){_iterator1802.e(err);}finally{_iterator1802.f();}return t;}},{key:"BE",value:function(){var _BE=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee296(){return regeneratorRuntime.wrap(function _callee296$(_context297){while(1){switch(_context297.prev=_context297.next){case 0:_context297.next=2;return this.DT();case 2:_context297.t0=_context297.sent;if(!_context297.t0){_context297.next=5;break;}chrome.app.window.current().close();case 5:case"end":return _context297.stop();}}},_callee296,this);}));function BE(){return _BE.apply(this,arguments);}return BE;}()},{key:"isPointOverNewTabDropArea",value:function isPointOverNewTabDropArea(t,e){var i=this._shadowRoot.elementFromPoint(t,e);return i.getRootNode()!==this._shadowRoot&&(i=null),i&&i.closest("#header");}},{key:"openDevTools",value:function openDevTools(){this.postMessage("openDevTools",null);}},{key:"FE",value:function FE(){chrome.app.window.current().isMaximized()?chrome.app.window.current().restore():chrome.app.window.current().maximize();}},{key:"GE",value:function GE(){chrome.app.window.current().minimize();}},{key:"kT",value:function kT(t){var _this1149=this;return new Promise(/*#__PURE__*/function(){var _ref229=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee298(e){return regeneratorRuntime.wrap(function _callee298$(_context300){while(1){switch(_context300.prev=_context300.next){case 0:if(!(0===t.length)){_context300.next=4;break;}e();_context300.next=5;break;case 4:return _context300.delegateYield(/*#__PURE__*/regeneratorRuntime.mark(function _callee297(){var i,s,_iterator1803,_step1803,_t2673,_e2019,_t2674,_iterator1804,_step1804,_loop61,n;return regeneratorRuntime.wrap(function _callee297$(_context299){while(1){switch(_context299.prev=_context299.next){case 0:i=[],s=Symbol();_context299.t0=_createForOfIteratorHelper;_context299.next=4;return _this1149.OT();case 4:_context299.t1=_context299.sent;_iterator1803=(0,_context299.t0)(_context299.t1);_context299.prev=6;_iterator1803.s();case 8:if((_step1803=_iterator1803.n()).done){_context299.next=20;break;}_t2673=_step1803.value;_context299.next=12;return Qw(_t2673);case 12:_e2019=_context299.sent;if(!_e2019){_context299.next=18;break;}_context299.next=16;return tv(_e2019);case 16:_t2674=_context299.sent;_e2019[s]=_t2674,i.push(_e2019);case 18:_context299.next=8;break;case 20:_context299.next=25;break;case 22:_context299.prev=22;_context299.t2=_context299["catch"](6);_iterator1803.e(_context299.t2);case 25:_context299.prev=25;_iterator1803.f();return _context299.finish(25);case 28:_iterator1804=_createForOfIteratorHelper(t);_context299.prev=29;_loop61=/*#__PURE__*/regeneratorRuntime.mark(function _loop61(){var e,t;return regeneratorRuntime.wrap(function _loop61$(_context298){while(1){switch(_context298.prev=_context298.next){case 0:e=_step1804.value;t=Hh(e).toLowerCase();_context298.t0="svg"!==t&&"svgz"!==t&&"html"!==t;if(_context298.t0){_context298.next=9;break;}_context298.next=6;return tv(e);case 6:e[s]=_context298.sent;i=i.filter(function(t){return t[s]!==e[s];});i.push(e);case 9:case"end":return _context298.stop();}}},_loop61);});_iterator1804.s();case 32:if((_step1804=_iterator1804.n()).done){_context299.next=36;break;}return _context299.delegateYield(_loop61(),"t3",34);case 34:_context299.next=32;break;case 36:_context299.next=41;break;case 38:_context299.prev=38;_context299.t4=_context299["catch"](29);_iterator1804.e(_context299.t4);case 41:_context299.prev=41;_iterator1804.f();return _context299.finish(41);case 44:for(;i.length>10;){i.shift();}n=i.map(function(t){return chrome.fileSystem.retainEntry(t);});_this1149.setConfig("!bx-chromeapp:retainedRecentEntries",n),e();case 47:case"end":return _context299.stop();}}},_callee297,null,[[6,22,25,28],[29,38,41,44]]);})(),"t0",5);case 5:case"end":return _context300.stop();}}},_callee298);}));return function(_x268){return _ref229.apply(this,arguments);};}());}},{key:"OT",value:function OT(){var _this1150=this;return new Promise(/*#__PURE__*/function(){var _ref230=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee299(t){return regeneratorRuntime.wrap(function _callee299$(_context301){while(1){switch(_context301.prev=_context301.next){case 0:t(_this1150.getConfig("!bx-chromeapp:retainedRecentEntries",[]));case 1:case"end":return _context301.stop();}}},_callee299);}));return function(_x269){return _ref230.apply(this,arguments);};}());}},{key:"TE",value:function TE(){this.setConfig("!bx-chromeapp:retainedRecentEntries",null);}},{key:"execCommand",value:function execCommand(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1809=e;_i1809;_i1809=_i1809.parentNode||_i1809.host){if(_i1809.commands&&_i1809.commands[t]){var _e2020=_i1809.commands[t];if(_e2020){var _t2675=!_e2020.enabled||_e2020.enabled();if(!0===_t2675){_e2020.exec();break;}if(!1===_t2675)break;if(null===_t2675)continue;}}}}},{key:"isCommandEnabled",value:function isCommandEnabled(t){var e=this.currentView||this;for(;e._shadowRoot&&e._shadowRoot.activeElement;){e=e._shadowRoot.activeElement;}for(var _i1810=e;_i1810;_i1810=_i1810.parentNode||_i1810.host){if(_i1810.commands&&_i1810.commands[t]){var _e2021=_i1810.commands[t];if(_e2021){if(!_e2021.enabled||_e2021.enabled())return!0;break;}}}return!1;}},{key:"getShortcutsEditorModel",value:function getShortcutsEditorModel(){return new Promise(/*#__PURE__*/function(){var _ref231=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee300(t){var e,i,s,_iterator1805,_step1805,_t2676,_i1811,_e2022,_t2677,_iterator1806,_step1806,_s1084,_t2678,_n771,_o575,_l431;return regeneratorRuntime.wrap(function _callee300$(_context302){while(1){switch(_context302.prev=_context302.next){case 0:e=[];_context302.next=3;return fetch("/metadata/menus/chrome-app.tpl");case 3:_context302.next=5;return _context302.sent.text();case 5:i=_context302.sent;s=new DOMParser().parseFromString(i,"text/html");_iterator1805=_createForOfIteratorHelper(s.querySelectorAll("x-menu"));try{for(_iterator1805.s();!(_step1805=_iterator1805.n()).done;){_t2676=_step1805.value;_i1811=[];for(_e2022=_t2676.closest("x-menuitem");_e2022;_e2022=_e2022.parentNode.closest("x-menuitem")){_t2677=_e2022.querySelector(":scope > x-label");_t2677&&_i1811.unshift(_t2677.textContent);}_iterator1806=_createForOfIteratorHelper(_t2676.children);try{for(_iterator1806.s();!(_step1806=_iterator1806.n()).done;){_s1084=_step1806.value;if("x-menuitem"===_s1084.localName){_t2678=_s1084.getAttribute("value");if(null!==_t2678&&!1===_t2678.startsWith("disk:")){_n771=_s1084.querySelector(":scope > x-label"),_o575=_s1084.querySelector(":scope > x-shortcut.default-shortcut"),_l431={commandID:_t2678,label:[].concat(_i1811,[_n771.textContent]).join(" \u2023 "),defaultShortcut:null};_o575&&_o575.hasAttribute("value")&&(_l431.defaultShortcut=_o575.getAttribute("value")),e.push(_l431);}}}}catch(err){_iterator1806.e(err);}finally{_iterator1806.f();}}}catch(err){_iterator1805.e(err);}finally{_iterator1805.f();}t(e);case 10:case"end":return _context302.stop();}}},_callee300);}));return function(_x270){return _ref231.apply(this,arguments);};}());}},{key:"wT",value:function wT(t){var e=!1;if(null!==t.key){var _i1812=t.toString(),_s1085=null,_n772=this["#menubar"].querySelector("x-shortcut.user-shortcut[value=\"".concat(_i1812,"\"]"));if(_n772)_s1085=_n772.closest("x-menuitem");else{var _t2679=this["#menubar"].querySelector("x-shortcut.default-shortcut[value=\"".concat(_i1812,"\"]"));_t2679&&null===_t2679.nextElementSibling.normalKey&&(_s1085=_t2679.closest("x-menuitem"));}if(_s1085){var _t2680=_s1085.value;this.isCommandEnabled(_t2680)&&(_s1085.click(),e=!0);}}return e;}},{key:"xT",value:function xT(){var _this1151=this;return new Promise(/*#__PURE__*/function(){var _ref232=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee301(t){var e;return regeneratorRuntime.wrap(function _callee301$(_context303){while(1){switch(_context303.prev=_context303.next){case 0:e=_this1151.getConfig("bx-uisettings:colorScheme","auto");"auto"===e&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");Ls.theme="light"===e?"/themes/vanilla.css":"/themes/vanilla-dark.css";_context303.next=5;return Ls.whenThemeReady;case 5:_context303.next=7;return _this1151.yT();case 7:t();case 8:case"end":return _context303.stop();}}},_callee301);}));return function(_x271){return _ref232.apply(this,arguments);};}());}},{key:"yT",value:function yT(){Ls.accentColor=this.getConfig("bx-uisettings:accentColor","blue");}},{key:"bT",value:function bT(){var t=this.getConfig("bx-uisettings:widgetsSize","auto");"auto"===t&&(t=window.matchMedia("(pointer: coarse)").matches?"large":window.matchMedia("(min-device-width: 1025px)").matches?"medium":"large"),Ls.size=t;}},{key:"mT",value:function(){var _mT=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee302(){var _iterator1807,_step1807,_t2681,_iterator1808,_step1808,_t2682;return regeneratorRuntime.wrap(function _callee302$(_context304){while(1){switch(_context304.prev=_context304.next){case 0:if(!(null===this["#menubar"].firstElementChild)){_context304.next=8;break;}_context304.next=3;return fetch("/metadata/menus/chrome-app.tpl");case 3:_context304.next=5;return _context304.sent.text();case 5:this["#menubar"].innerHTML=_context304.sent;_iterator1807=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("[id]"));try{for(_iterator1807.s();!(_step1807=_iterator1807.n()).done;){_t2681=_step1807.value;this["#"+_t2681.id]=_t2681;}}catch(err){_iterator1807.e(err);}finally{_iterator1807.f();}case 8:_iterator1808=_createForOfIteratorHelper(this["#menubar"].querySelectorAll("x-menu"));try{for(_iterator1808.s();!(_step1808=_iterator1808.n()).done;){_t2682=_step1808.value;this._T(_t2682);}}catch(err){_iterator1808.e(err);}finally{_iterator1808.f();}case 10:case"end":return _context304.stop();}}},_callee302,this);}));function mT(){return _mT.apply(this,arguments);}return mT;}()},{key:"_T",value:function _T(t){if(t===this["#open-recent-menu"])return;var e=this.getConfig("bx-keyboardsettings:userShortcuts",{}),i=_toConsumableArray(t.children).filter(function(t){return"x-menuitem"===t.localName;});var _iterator1809=_createForOfIteratorHelper(i),_step1809;try{for(_iterator1809.s();!(_step1809=_iterator1809.n()).done;){var _t2683=_step1809.value;var _i1813=_t2683.value&&!1===_t2683.value.startsWith("open-recent")?_t2683.value:null;if(_i1813&&(_t2683.disabled=!1===this.isCommandEnabled(_i1813)),_i1813)if("manualGuides"===_i1813)_t2683.toggled=null!==this.currentEditor&&this.currentEditor.board.showManualGuides;else if("smartGuides"===_i1813)_t2683.toggled=null!==this.currentEditor&&this.currentEditor.board.showSmartGuides;else if("grid"===_i1813)_t2683.toggled=null!==this.currentEditor&&this.currentEditor.board.showGrid;else if("transparency"===_i1813)_t2683.toggled=null!==this.currentEditor&&this.currentEditor.board.showTransparency;else if("views"===_i1813)_t2683.toggled=null!==this.currentEditor&&this.currentEditor.board.showViews;else if(_i1813.endsWith("Tool")){var _e2023=this.currentEditor?li(this.currentEditor.toolsDock.value||""):"";_t2683.toggled=_e2023===_i1813;}else if(_i1813.endsWith("Panel")){var _e2024=null;this.currentEditor&&(_e2024="elementsPanel"===_i1813||"codePanel"===_i1813||"animationPanel"===_i1813?this.currentEditor.secondaryPanelsDock:this.currentEditor.primaryPanelsDock);var _s1086=_e2024?li(_e2024.value||""):"";_t2683.toggled=_s1086===_i1813;}else"maximize"===_i1813&&(_t2683.toggled=chrome.app.window.current().isMaximized());if(_i1813){var _s1087=_t2683.querySelector(":scope > x-shortcut.default-shortcut"),_n773=_t2683.querySelector(":scope > x-shortcut.user-shortcut");void 0!==e[_i1813]?(_s1087.hidden=!0,_n773.hidden=!1,_n773.setAttribute("value",e[_i1813])):(_s1087.hidden=!1,_n773.hidden=!0,_n773.removeAttribute("value"));}"open-recent-menu-item"===_t2683.id&&this.ET();}}catch(err){_iterator1809.e(err);}finally{_iterator1809.f();}}},{key:"ET",value:function ET(){var _this1152=this;return new Promise(/*#__PURE__*/function(){var _ref233=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function _callee303(t){var e,i,_iterator1810,_step1810,_t2684,_e2025;return regeneratorRuntime.wrap(function _callee303$(_context305){while(1){switch(_context305.prev=_context305.next){case 0:_context305.next=2;return _this1152.OT();case 2:e=_context305.sent;i="";_iterator1810=_createForOfIteratorHelper(e);_context305.prev=5;_iterator1810.s();case 7:if((_step1810=_iterator1810.n()).done){_context305.next=15;break;}_t2684=_step1810.value;_context305.next=11;return Qw(_t2684);case 11:_e2025=_context305.sent;_e2025&&(i+="\n            <x-menuitem id=\"open-recent-".concat(_t2684,"\">\n              <x-label>").concat(_e2025.name,"</x-label>\n            </x-menuitem>\n          "));case 13:_context305.next=7;break;case 15:_context305.next=20;break;case 17:_context305.prev=17;_context305.t0=_context305["catch"](5);_iterator1810.e(_context305.t0);case 20:_context305.prev=20;_iterator1810.f();return _context305.finish(20);case 23:""===i?(_this1152["#open-recent-menu"].innerHTML=i,_this1152["#open-recent-menu-item"].disabled=!0):(i+='\n          <hr/>\n\n          <x-menuitem value="clearRecent">\n            <x-label>Clear Recent</x-label>\n          </x-menuitem>\n        ',_this1152["#open-recent-menu"].innerHTML=i,_this1152["#open-recent-menu-item"].disabled=!1),t();case 24:case"end":return _context305.stop();}}},_callee303,null,[[5,17,20,23]]);}));return function(_x272){return _ref233.apply(this,arguments);};}());}}]);return dv;}(/*#__PURE__*/_wrapNativeSuper(HTMLElement));_defineProperty(dv,"_shadowTemplate",qi(_templateObject592()));_defineProperty(dv,"_shadowStyleSheet",Xi(_templateObject593()));customElements.define("bx-chromeapp",dv);}();